var VK=Object.defineProperty;var BN=t=>{throw TypeError(t)};var WK=(t,e,n)=>e in t?VK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var H=(t,e,n)=>WK(t,typeof e!="symbol"?e+"":e,n),Hw=(t,e,n)=>e.has(t)||BN("Cannot "+n);var te=(t,e,n)=>(Hw(t,e,"read from private field"),n?n.call(t):e.get(t)),vt=(t,e,n)=>e.has(t)?BN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),nt=(t,e,n,r)=>(Hw(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Hn=(t,e,n)=>(Hw(t,e,"access private method"),n);var $g=(t,e,n,r)=>({set _(i){nt(t,e,i,n)},get _(){return te(t,e,r)}});function qK(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var un=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function at(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function GK(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var p5={exports:{}},Tx={},m5={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm=Symbol.for("react.element"),KK=Symbol.for("react.portal"),YK=Symbol.for("react.fragment"),XK=Symbol.for("react.strict_mode"),ZK=Symbol.for("react.profiler"),JK=Symbol.for("react.provider"),QK=Symbol.for("react.context"),eY=Symbol.for("react.forward_ref"),tY=Symbol.for("react.suspense"),nY=Symbol.for("react.memo"),rY=Symbol.for("react.lazy"),zN=Symbol.iterator;function iY(t){return t===null||typeof t!="object"?null:(t=zN&&t[zN]||t["@@iterator"],typeof t=="function"?t:null)}var g5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y5=Object.assign,v5={};function jf(t,e,n){this.props=t,this.context=e,this.refs=v5,this.updater=n||g5}jf.prototype.isReactComponent={};jf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};jf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function x5(){}x5.prototype=jf.prototype;function hT(t,e,n){this.props=t,this.context=e,this.refs=v5,this.updater=n||g5}var pT=hT.prototype=new x5;pT.constructor=hT;y5(pT,jf.prototype);pT.isPureReactComponent=!0;var UN=Array.isArray,b5=Object.prototype.hasOwnProperty,mT={current:null},w5={key:!0,ref:!0,__self:!0,__source:!0};function _5(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)b5.call(e,r)&&!w5.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:qm,type:t,key:a,ref:s,props:i,_owner:mT.current}}function aY(t,e){return{$$typeof:qm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gT(t){return typeof t=="object"&&t!==null&&t.$$typeof===qm}function sY(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var HN=/\/+/g;function Vw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sY(""+t.key):e.toString(36)}function Vy(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case qm:case KK:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Vw(s,0):r,UN(i)?(n="",t!=null&&(n=t.replace(HN,"$&/")+"/"),Vy(i,e,n,"",function(c){return c})):i!=null&&(gT(i)&&(i=aY(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(HN,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",UN(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+Vw(a,o);s+=Vy(a,e,n,l,i)}else if(l=iY(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+Vw(a,o++),s+=Vy(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Rg(t,e,n){if(t==null)return t;var r=[],i=0;return Vy(t,r,"","",function(a){return e.call(n,a,i++)}),r}function oY(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var fr={current:null},Wy={transition:null},lY={ReactCurrentDispatcher:fr,ReactCurrentBatchConfig:Wy,ReactCurrentOwner:mT};function S5(){throw Error("act(...) is not supported in production builds of React.")}lt.Children={map:Rg,forEach:function(t,e,n){Rg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Rg(t,function(){e++}),e},toArray:function(t){return Rg(t,function(e){return e})||[]},only:function(t){if(!gT(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};lt.Component=jf;lt.Fragment=YK;lt.Profiler=ZK;lt.PureComponent=hT;lt.StrictMode=XK;lt.Suspense=tY;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lY;lt.act=S5;lt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=y5({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=mT.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)b5.call(e,l)&&!w5.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:qm,type:t.type,key:i,ref:a,props:r,_owner:s}};lt.createContext=function(t){return t={$$typeof:QK,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:JK,_context:t},t.Consumer=t};lt.createElement=_5;lt.createFactory=function(t){var e=_5.bind(null,t);return e.type=t,e};lt.createRef=function(){return{current:null}};lt.forwardRef=function(t){return{$$typeof:eY,render:t}};lt.isValidElement=gT;lt.lazy=function(t){return{$$typeof:rY,_payload:{_status:-1,_result:t},_init:oY}};lt.memo=function(t,e){return{$$typeof:nY,type:t,compare:e===void 0?null:e}};lt.startTransition=function(t){var e=Wy.transition;Wy.transition={};try{t()}finally{Wy.transition=e}};lt.unstable_act=S5;lt.useCallback=function(t,e){return fr.current.useCallback(t,e)};lt.useContext=function(t){return fr.current.useContext(t)};lt.useDebugValue=function(){};lt.useDeferredValue=function(t){return fr.current.useDeferredValue(t)};lt.useEffect=function(t,e){return fr.current.useEffect(t,e)};lt.useId=function(){return fr.current.useId()};lt.useImperativeHandle=function(t,e,n){return fr.current.useImperativeHandle(t,e,n)};lt.useInsertionEffect=function(t,e){return fr.current.useInsertionEffect(t,e)};lt.useLayoutEffect=function(t,e){return fr.current.useLayoutEffect(t,e)};lt.useMemo=function(t,e){return fr.current.useMemo(t,e)};lt.useReducer=function(t,e,n){return fr.current.useReducer(t,e,n)};lt.useRef=function(t){return fr.current.useRef(t)};lt.useState=function(t){return fr.current.useState(t)};lt.useSyncExternalStore=function(t,e,n){return fr.current.useSyncExternalStore(t,e,n)};lt.useTransition=function(){return fr.current.useTransition()};lt.version="18.3.1";m5.exports=lt;var S=m5.exports;const M=at(S),E5=qK({__proto__:null,default:M},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cY=S,uY=Symbol.for("react.element"),dY=Symbol.for("react.fragment"),fY=Object.prototype.hasOwnProperty,hY=cY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pY={key:!0,ref:!0,__self:!0,__source:!0};function j5(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)fY.call(e,r)&&!pY.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:uY,type:t,key:a,ref:s,props:i,_owner:hY.current}}Tx.Fragment=dY;Tx.jsx=j5;Tx.jsxs=j5;p5.exports=Tx;var u=p5.exports,A5={exports:{}},fi={},T5={exports:{}},k5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,B){var P=D.length;D.push(B);e:for(;0<P;){var W=P-1>>>1,G=D[W];if(0<i(G,B))D[W]=B,D[P]=G,P=W;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var B=D[0],P=D.pop();if(P!==B){D[0]=P;e:for(var W=0,G=D.length,$=G>>>1;W<$;){var ee=2*(W+1)-1,ie=D[ee],I=ee+1,N=D[I];if(0>i(ie,P))I<G&&0>i(N,ie)?(D[W]=N,D[I]=P,W=I):(D[W]=ie,D[ee]=P,W=ee);else if(I<G&&0>i(N,P))D[W]=N,D[I]=P,W=I;else break e}}return B}function i(D,B){var P=D.sortIndex-B.sortIndex;return P!==0?P:D.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(D){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=D)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function w(D){if(g=!1,y(D),!m)if(n(l)!==null)m=!0,U(_);else{var B=n(c);B!==null&&V(w,B.startTime-D)}}function _(D,B){m=!1,g&&(g=!1,x(j),j=-1),p=!0;var P=h;try{for(y(B),f=n(l);f!==null&&(!(f.expirationTime>B)||D&&!k());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var G=W(f.expirationTime<=B);B=t.unstable_now(),typeof G=="function"?f.callback=G:f===n(l)&&r(l),y(B)}else r(l);f=n(l)}if(f!==null)var $=!0;else{var ee=n(c);ee!==null&&V(w,ee.startTime-B),$=!1}return $}finally{f=null,h=P,p=!1}}var E=!1,A=null,j=-1,T=5,C=-1;function k(){return!(t.unstable_now()-C<T)}function O(){if(A!==null){var D=t.unstable_now();C=D;var B=!0;try{B=A(!0,D)}finally{B?L():(E=!1,A=null)}}else E=!1}var L;if(typeof v=="function")L=function(){v(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,F=R.port2;R.port1.onmessage=O,L=function(){F.postMessage(null)}}else L=function(){b(O,0)};function U(D){A=D,E||(E=!0,L())}function V(D,B){j=b(function(){D(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,U(_))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var P=h;h=B;try{return D()}finally{h=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var P=h;h=D;try{return B()}finally{h=P}},t.unstable_scheduleCallback=function(D,B,P){var W=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?W+P:W):P=W,D){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=P+G,D={id:d++,callback:B,priorityLevel:D,startTime:P,expirationTime:G,sortIndex:-1},P>W?(D.sortIndex=P,e(c,D),n(l)===null&&D===n(c)&&(g?(x(j),j=-1):g=!0,V(w,P-W))):(D.sortIndex=G,e(l,D),m||p||(m=!0,U(_))),D},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(D){var B=h;return function(){var P=h;h=B;try{return D.apply(this,arguments)}finally{h=P}}}})(k5);T5.exports=k5;var mY=T5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gY=S,li=mY;function ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var C5=new Set,Ep={};function Xc(t,e){Nd(t,e),Nd(t+"Capture",e)}function Nd(t,e){for(Ep[t]=e,t=0;t<e.length;t++)C5.add(e[t])}var qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sS=Object.prototype.hasOwnProperty,yY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,VN={},WN={};function vY(t){return sS.call(WN,t)?!0:sS.call(VN,t)?!1:yY.test(t)?WN[t]=!0:(VN[t]=!0,!1)}function xY(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bY(t,e,n,r){if(e===null||typeof e>"u"||xY(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hr(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var zn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zn[t]=new hr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zn[e]=new hr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zn[t]=new hr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zn[t]=new hr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zn[t]=new hr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zn[t]=new hr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zn[t]=new hr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zn[t]=new hr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zn[t]=new hr(t,5,!1,t.toLowerCase(),null,!1,!1)});var yT=/[\-:]([a-z])/g;function vT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yT,vT);zn[e]=new hr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yT,vT);zn[e]=new hr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yT,vT);zn[e]=new hr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zn[t]=new hr(t,1,!1,t.toLowerCase(),null,!1,!1)});zn.xlinkHref=new hr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zn[t]=new hr(t,1,!1,t.toLowerCase(),null,!0,!0)});function xT(t,e,n,r){var i=zn.hasOwnProperty(e)?zn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bY(e,n,i,r)&&(n=null),r||i===null?vY(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var co=gY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mg=Symbol.for("react.element"),Lu=Symbol.for("react.portal"),Fu=Symbol.for("react.fragment"),bT=Symbol.for("react.strict_mode"),oS=Symbol.for("react.profiler"),O5=Symbol.for("react.provider"),N5=Symbol.for("react.context"),wT=Symbol.for("react.forward_ref"),lS=Symbol.for("react.suspense"),cS=Symbol.for("react.suspense_list"),_T=Symbol.for("react.memo"),Co=Symbol.for("react.lazy"),P5=Symbol.for("react.offscreen"),qN=Symbol.iterator;function ih(t){return t===null||typeof t!="object"?null:(t=qN&&t[qN]||t["@@iterator"],typeof t=="function"?t:null)}var Qt=Object.assign,Ww;function Nh(t){if(Ww===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ww=e&&e[1]||""}return`
`+Ww+t}var qw=!1;function Gw(t,e){if(!t||qw)return"";qw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{qw=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Nh(t):""}function wY(t){switch(t.tag){case 5:return Nh(t.type);case 16:return Nh("Lazy");case 13:return Nh("Suspense");case 19:return Nh("SuspenseList");case 0:case 2:case 15:return t=Gw(t.type,!1),t;case 11:return t=Gw(t.type.render,!1),t;case 1:return t=Gw(t.type,!0),t;default:return""}}function uS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fu:return"Fragment";case Lu:return"Portal";case oS:return"Profiler";case bT:return"StrictMode";case lS:return"Suspense";case cS:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N5:return(t.displayName||"Context")+".Consumer";case O5:return(t._context.displayName||"Context")+".Provider";case wT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _T:return e=t.displayName||null,e!==null?e:uS(t.type)||"Memo";case Co:e=t._payload,t=t._init;try{return uS(t(e))}catch{}}return null}function _Y(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uS(e);case 8:return e===bT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function cl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function I5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function SY(t){var e=I5(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dg(t){t._valueTracker||(t._valueTracker=SY(t))}function $5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=I5(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dS(t,e){var n=e.checked;return Qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function GN(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=cl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function R5(t,e){e=e.checked,e!=null&&xT(t,"checked",e,!1)}function fS(t,e){R5(t,e);var n=cl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?hS(t,e.type,n):e.hasOwnProperty("defaultValue")&&hS(t,e.type,cl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function KN(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function hS(t,e,n){(e!=="number"||yv(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ph=Array.isArray;function rd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+cl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function pS(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ce(91));return Qt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function YN(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ce(92));if(Ph(n)){if(1<n.length)throw Error(ce(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:cl(n)}}function M5(t,e){var n=cl(e.value),r=cl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function XN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function D5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mS(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?D5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Lg,L5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Lg=Lg||document.createElement("div"),Lg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Lg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function jp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},EY=["Webkit","ms","Moz","O"];Object.keys(Wh).forEach(function(t){EY.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wh[e]=Wh[t]})});function F5(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wh.hasOwnProperty(t)&&Wh[t]?(""+e).trim():e+"px"}function B5(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=F5(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var jY=Qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gS(t,e){if(e){if(jY[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ce(62))}}function yS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vS=null;function ST(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xS=null,id=null,ad=null;function ZN(t){if(t=Ym(t)){if(typeof xS!="function")throw Error(ce(280));var e=t.stateNode;e&&(e=Px(e),xS(t.stateNode,t.type,e))}}function z5(t){id?ad?ad.push(t):ad=[t]:id=t}function U5(){if(id){var t=id,e=ad;if(ad=id=null,ZN(t),e)for(t=0;t<e.length;t++)ZN(e[t])}}function H5(t,e){return t(e)}function V5(){}var Kw=!1;function W5(t,e,n){if(Kw)return t(e,n);Kw=!0;try{return H5(t,e,n)}finally{Kw=!1,(id!==null||ad!==null)&&(V5(),U5())}}function Ap(t,e){var n=t.stateNode;if(n===null)return null;var r=Px(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ce(231,e,typeof n));return n}var bS=!1;if(qs)try{var ah={};Object.defineProperty(ah,"passive",{get:function(){bS=!0}}),window.addEventListener("test",ah,ah),window.removeEventListener("test",ah,ah)}catch{bS=!1}function AY(t,e,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var qh=!1,vv=null,xv=!1,wS=null,TY={onError:function(t){qh=!0,vv=t}};function kY(t,e,n,r,i,a,s,o,l){qh=!1,vv=null,AY.apply(TY,arguments)}function CY(t,e,n,r,i,a,s,o,l){if(kY.apply(this,arguments),qh){if(qh){var c=vv;qh=!1,vv=null}else throw Error(ce(198));xv||(xv=!0,wS=c)}}function Zc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function q5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function JN(t){if(Zc(t)!==t)throw Error(ce(188))}function OY(t){var e=t.alternate;if(!e){if(e=Zc(t),e===null)throw Error(ce(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return JN(i),t;if(a===r)return JN(i),e;a=a.sibling}throw Error(ce(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(ce(189))}}if(n.alternate!==r)throw Error(ce(190))}if(n.tag!==3)throw Error(ce(188));return n.stateNode.current===n?t:e}function G5(t){return t=OY(t),t!==null?K5(t):null}function K5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=K5(t);if(e!==null)return e;t=t.sibling}return null}var Y5=li.unstable_scheduleCallback,QN=li.unstable_cancelCallback,NY=li.unstable_shouldYield,PY=li.unstable_requestPaint,ln=li.unstable_now,IY=li.unstable_getCurrentPriorityLevel,ET=li.unstable_ImmediatePriority,X5=li.unstable_UserBlockingPriority,bv=li.unstable_NormalPriority,$Y=li.unstable_LowPriority,Z5=li.unstable_IdlePriority,kx=null,Qa=null;function RY(t){if(Qa&&typeof Qa.onCommitFiberRoot=="function")try{Qa.onCommitFiberRoot(kx,t,void 0,(t.current.flags&128)===128)}catch{}}var fa=Math.clz32?Math.clz32:LY,MY=Math.log,DY=Math.LN2;function LY(t){return t>>>=0,t===0?32:31-(MY(t)/DY|0)|0}var Fg=64,Bg=4194304;function Ih(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wv(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=Ih(o):(a&=s,a!==0&&(r=Ih(a)))}else s=n&~i,s!==0?r=Ih(s):a!==0&&(r=Ih(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fa(e),i=1<<n,r|=t[n],e&=~i;return r}function FY(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BY(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-fa(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=FY(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function _S(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function J5(){var t=Fg;return Fg<<=1,!(Fg&4194240)&&(Fg=64),t}function Yw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Gm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fa(e),t[e]=n}function zY(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-fa(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function jT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fa(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _t=0;function Q5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var e3,AT,t3,n3,r3,SS=!1,zg=[],Xo=null,Zo=null,Jo=null,Tp=new Map,kp=new Map,Io=[],UY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eP(t,e){switch(t){case"focusin":case"focusout":Xo=null;break;case"dragenter":case"dragleave":Zo=null;break;case"mouseover":case"mouseout":Jo=null;break;case"pointerover":case"pointerout":Tp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kp.delete(e.pointerId)}}function sh(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Ym(e),e!==null&&AT(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function HY(t,e,n,r,i){switch(e){case"focusin":return Xo=sh(Xo,t,e,n,r,i),!0;case"dragenter":return Zo=sh(Zo,t,e,n,r,i),!0;case"mouseover":return Jo=sh(Jo,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Tp.set(a,sh(Tp.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,kp.set(a,sh(kp.get(a)||null,t,e,n,r,i)),!0}return!1}function i3(t){var e=lc(t.target);if(e!==null){var n=Zc(e);if(n!==null){if(e=n.tag,e===13){if(e=q5(n),e!==null){t.blockedOn=e,r3(t.priority,function(){t3(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ES(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vS=r,n.target.dispatchEvent(r),vS=null}else return e=Ym(n),e!==null&&AT(e),t.blockedOn=n,!1;e.shift()}return!0}function tP(t,e,n){qy(t)&&n.delete(e)}function VY(){SS=!1,Xo!==null&&qy(Xo)&&(Xo=null),Zo!==null&&qy(Zo)&&(Zo=null),Jo!==null&&qy(Jo)&&(Jo=null),Tp.forEach(tP),kp.forEach(tP)}function oh(t,e){t.blockedOn===e&&(t.blockedOn=null,SS||(SS=!0,li.unstable_scheduleCallback(li.unstable_NormalPriority,VY)))}function Cp(t){function e(i){return oh(i,t)}if(0<zg.length){oh(zg[0],t);for(var n=1;n<zg.length;n++){var r=zg[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xo!==null&&oh(Xo,t),Zo!==null&&oh(Zo,t),Jo!==null&&oh(Jo,t),Tp.forEach(e),kp.forEach(e),n=0;n<Io.length;n++)r=Io[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Io.length&&(n=Io[0],n.blockedOn===null);)i3(n),n.blockedOn===null&&Io.shift()}var sd=co.ReactCurrentBatchConfig,_v=!0;function WY(t,e,n,r){var i=_t,a=sd.transition;sd.transition=null;try{_t=1,TT(t,e,n,r)}finally{_t=i,sd.transition=a}}function qY(t,e,n,r){var i=_t,a=sd.transition;sd.transition=null;try{_t=4,TT(t,e,n,r)}finally{_t=i,sd.transition=a}}function TT(t,e,n,r){if(_v){var i=ES(t,e,n,r);if(i===null)a_(t,e,r,Sv,n),eP(t,r);else if(HY(i,t,e,n,r))r.stopPropagation();else if(eP(t,r),e&4&&-1<UY.indexOf(t)){for(;i!==null;){var a=Ym(i);if(a!==null&&e3(a),a=ES(t,e,n,r),a===null&&a_(t,e,r,Sv,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else a_(t,e,r,null,n)}}var Sv=null;function ES(t,e,n,r){if(Sv=null,t=ST(r),t=lc(t),t!==null)if(e=Zc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=q5(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Sv=t,null}function a3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IY()){case ET:return 1;case X5:return 4;case bv:case $Y:return 16;case Z5:return 536870912;default:return 16}default:return 16}}var Uo=null,kT=null,Gy=null;function s3(){if(Gy)return Gy;var t,e=kT,n=e.length,r,i="value"in Uo?Uo.value:Uo.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return Gy=i.slice(t,1<r?1-r:void 0)}function Ky(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ug(){return!0}function nP(){return!1}function hi(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ug:nP,this.isPropagationStopped=nP,this}return Qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ug)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ug)},persist:function(){},isPersistent:Ug}),e}var Af={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},CT=hi(Af),Km=Qt({},Af,{view:0,detail:0}),GY=hi(Km),Xw,Zw,lh,Cx=Qt({},Km,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:OT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==lh&&(lh&&t.type==="mousemove"?(Xw=t.screenX-lh.screenX,Zw=t.screenY-lh.screenY):Zw=Xw=0,lh=t),Xw)},movementY:function(t){return"movementY"in t?t.movementY:Zw}}),rP=hi(Cx),KY=Qt({},Cx,{dataTransfer:0}),YY=hi(KY),XY=Qt({},Km,{relatedTarget:0}),Jw=hi(XY),ZY=Qt({},Af,{animationName:0,elapsedTime:0,pseudoElement:0}),JY=hi(ZY),QY=Qt({},Af,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eX=hi(QY),tX=Qt({},Af,{data:0}),iP=hi(tX),nX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aX(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=iX[t])?!!e[t]:!1}function OT(){return aX}var sX=Qt({},Km,{key:function(t){if(t.key){var e=nX[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ky(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rX[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:OT,charCode:function(t){return t.type==="keypress"?Ky(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ky(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oX=hi(sX),lX=Qt({},Cx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aP=hi(lX),cX=Qt({},Km,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:OT}),uX=hi(cX),dX=Qt({},Af,{propertyName:0,elapsedTime:0,pseudoElement:0}),fX=hi(dX),hX=Qt({},Cx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pX=hi(hX),mX=[9,13,27,32],NT=qs&&"CompositionEvent"in window,Gh=null;qs&&"documentMode"in document&&(Gh=document.documentMode);var gX=qs&&"TextEvent"in window&&!Gh,o3=qs&&(!NT||Gh&&8<Gh&&11>=Gh),sP=" ",oP=!1;function l3(t,e){switch(t){case"keyup":return mX.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function c3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bu=!1;function yX(t,e){switch(t){case"compositionend":return c3(e);case"keypress":return e.which!==32?null:(oP=!0,sP);case"textInput":return t=e.data,t===sP&&oP?null:t;default:return null}}function vX(t,e){if(Bu)return t==="compositionend"||!NT&&l3(t,e)?(t=s3(),Gy=kT=Uo=null,Bu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return o3&&e.locale!=="ko"?null:e.data;default:return null}}var xX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xX[t.type]:e==="textarea"}function u3(t,e,n,r){z5(r),e=Ev(e,"onChange"),0<e.length&&(n=new CT("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Kh=null,Op=null;function bX(t){w3(t,0)}function Ox(t){var e=Hu(t);if($5(e))return t}function wX(t,e){if(t==="change")return e}var d3=!1;if(qs){var Qw;if(qs){var e_="oninput"in document;if(!e_){var cP=document.createElement("div");cP.setAttribute("oninput","return;"),e_=typeof cP.oninput=="function"}Qw=e_}else Qw=!1;d3=Qw&&(!document.documentMode||9<document.documentMode)}function uP(){Kh&&(Kh.detachEvent("onpropertychange",f3),Op=Kh=null)}function f3(t){if(t.propertyName==="value"&&Ox(Op)){var e=[];u3(e,Op,t,ST(t)),W5(bX,e)}}function _X(t,e,n){t==="focusin"?(uP(),Kh=e,Op=n,Kh.attachEvent("onpropertychange",f3)):t==="focusout"&&uP()}function SX(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ox(Op)}function EX(t,e){if(t==="click")return Ox(e)}function jX(t,e){if(t==="input"||t==="change")return Ox(e)}function AX(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ba=typeof Object.is=="function"?Object.is:AX;function Np(t,e){if(ba(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!sS.call(e,i)||!ba(t[i],e[i]))return!1}return!0}function dP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fP(t,e){var n=dP(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dP(n)}}function h3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?h3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function p3(){for(var t=window,e=yv();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yv(t.document)}return e}function PT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function TX(t){var e=p3(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&h3(n.ownerDocument.documentElement,n)){if(r!==null&&PT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=fP(n,a);var s=fP(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kX=qs&&"documentMode"in document&&11>=document.documentMode,zu=null,jS=null,Yh=null,AS=!1;function hP(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;AS||zu==null||zu!==yv(r)||(r=zu,"selectionStart"in r&&PT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yh&&Np(Yh,r)||(Yh=r,r=Ev(jS,"onSelect"),0<r.length&&(e=new CT("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=zu)))}function Hg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Uu={animationend:Hg("Animation","AnimationEnd"),animationiteration:Hg("Animation","AnimationIteration"),animationstart:Hg("Animation","AnimationStart"),transitionend:Hg("Transition","TransitionEnd")},t_={},m3={};qs&&(m3=document.createElement("div").style,"AnimationEvent"in window||(delete Uu.animationend.animation,delete Uu.animationiteration.animation,delete Uu.animationstart.animation),"TransitionEvent"in window||delete Uu.transitionend.transition);function Nx(t){if(t_[t])return t_[t];if(!Uu[t])return t;var e=Uu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in m3)return t_[t]=e[n];return t}var g3=Nx("animationend"),y3=Nx("animationiteration"),v3=Nx("animationstart"),x3=Nx("transitionend"),b3=new Map,pP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tl(t,e){b3.set(t,e),Xc(e,[t])}for(var n_=0;n_<pP.length;n_++){var r_=pP[n_],CX=r_.toLowerCase(),OX=r_[0].toUpperCase()+r_.slice(1);Tl(CX,"on"+OX)}Tl(g3,"onAnimationEnd");Tl(y3,"onAnimationIteration");Tl(v3,"onAnimationStart");Tl("dblclick","onDoubleClick");Tl("focusin","onFocus");Tl("focusout","onBlur");Tl(x3,"onTransitionEnd");Nd("onMouseEnter",["mouseout","mouseover"]);Nd("onMouseLeave",["mouseout","mouseover"]);Nd("onPointerEnter",["pointerout","pointerover"]);Nd("onPointerLeave",["pointerout","pointerover"]);Xc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $h="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NX=new Set("cancel close invalid load scroll toggle".split(" ").concat($h));function mP(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,CY(r,e,void 0,t),t.currentTarget=null}function w3(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;mP(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;mP(i,o,c),a=l}}}if(xv)throw t=wS,xv=!1,wS=null,t}function Lt(t,e){var n=e[NS];n===void 0&&(n=e[NS]=new Set);var r=t+"__bubble";n.has(r)||(_3(e,t,2,!1),n.add(r))}function i_(t,e,n){var r=0;e&&(r|=4),_3(n,t,r,e)}var Vg="_reactListening"+Math.random().toString(36).slice(2);function Pp(t){if(!t[Vg]){t[Vg]=!0,C5.forEach(function(n){n!=="selectionchange"&&(NX.has(n)||i_(n,!1,t),i_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vg]||(e[Vg]=!0,i_("selectionchange",!1,e))}}function _3(t,e,n,r){switch(a3(e)){case 1:var i=WY;break;case 4:i=qY;break;default:i=TT}n=i.bind(null,e,n,t),i=void 0,!bS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function a_(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=lc(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}W5(function(){var c=a,d=ST(n),f=[];e:{var h=b3.get(t);if(h!==void 0){var p=CT,m=t;switch(t){case"keypress":if(Ky(n)===0)break e;case"keydown":case"keyup":p=oX;break;case"focusin":m="focus",p=Jw;break;case"focusout":m="blur",p=Jw;break;case"beforeblur":case"afterblur":p=Jw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=rP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=YY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=uX;break;case g3:case y3:case v3:p=JY;break;case x3:p=fX;break;case"scroll":p=GY;break;case"wheel":p=pX;break;case"copy":case"cut":case"paste":p=eX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=aP}var g=(e&4)!==0,b=!g&&t==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var v=c,y;v!==null;){y=v;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,x!==null&&(w=Ap(v,x),w!=null&&g.push(Ip(v,w,y)))),b)break;v=v.return}0<g.length&&(h=new p(h,m,null,n,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==vS&&(m=n.relatedTarget||n.fromElement)&&(lc(m)||m[Gs]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?lc(m):null,m!==null&&(b=Zc(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=rP,w="onMouseLeave",x="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=aP,w="onPointerLeave",x="onPointerEnter",v="pointer"),b=p==null?h:Hu(p),y=m==null?h:Hu(m),h=new g(w,v+"leave",p,n,d),h.target=b,h.relatedTarget=y,w=null,lc(d)===c&&(g=new g(x,v+"enter",m,n,d),g.target=y,g.relatedTarget=b,w=g),b=w,p&&m)t:{for(g=p,x=m,v=0,y=g;y;y=fu(y))v++;for(y=0,w=x;w;w=fu(w))y++;for(;0<v-y;)g=fu(g),v--;for(;0<y-v;)x=fu(x),y--;for(;v--;){if(g===x||x!==null&&g===x.alternate)break t;g=fu(g),x=fu(x)}g=null}else g=null;p!==null&&gP(f,h,p,g,!1),m!==null&&b!==null&&gP(f,b,m,g,!0)}}e:{if(h=c?Hu(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=wX;else if(lP(h))if(d3)_=jX;else{_=SX;var E=_X}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=EX);if(_&&(_=_(t,c))){u3(f,_,n,d);break e}E&&E(t,h,c),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&hS(h,"number",h.value)}switch(E=c?Hu(c):window,t){case"focusin":(lP(E)||E.contentEditable==="true")&&(zu=E,jS=c,Yh=null);break;case"focusout":Yh=jS=zu=null;break;case"mousedown":AS=!0;break;case"contextmenu":case"mouseup":case"dragend":AS=!1,hP(f,n,d);break;case"selectionchange":if(kX)break;case"keydown":case"keyup":hP(f,n,d)}var A;if(NT)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Bu?l3(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(o3&&n.locale!=="ko"&&(Bu||j!=="onCompositionStart"?j==="onCompositionEnd"&&Bu&&(A=s3()):(Uo=d,kT="value"in Uo?Uo.value:Uo.textContent,Bu=!0)),E=Ev(c,j),0<E.length&&(j=new iP(j,t,null,n,d),f.push({event:j,listeners:E}),A?j.data=A:(A=c3(n),A!==null&&(j.data=A)))),(A=gX?yX(t,n):vX(t,n))&&(c=Ev(c,"onBeforeInput"),0<c.length&&(d=new iP("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=A))}w3(f,e)})}function Ip(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ev(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Ap(t,n),a!=null&&r.unshift(Ip(t,a,i)),a=Ap(t,e),a!=null&&r.push(Ip(t,a,i))),t=t.return}return r}function fu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gP(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=Ap(n,a),l!=null&&s.unshift(Ip(n,l,o))):i||(l=Ap(n,a),l!=null&&s.push(Ip(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var PX=/\r\n?/g,IX=/\u0000|\uFFFD/g;function yP(t){return(typeof t=="string"?t:""+t).replace(PX,`
`).replace(IX,"")}function Wg(t,e,n){if(e=yP(e),yP(t)!==e&&n)throw Error(ce(425))}function jv(){}var TS=null,kS=null;function CS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var OS=typeof setTimeout=="function"?setTimeout:void 0,$X=typeof clearTimeout=="function"?clearTimeout:void 0,vP=typeof Promise=="function"?Promise:void 0,RX=typeof queueMicrotask=="function"?queueMicrotask:typeof vP<"u"?function(t){return vP.resolve(null).then(t).catch(MX)}:OS;function MX(t){setTimeout(function(){throw t})}function s_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Cp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cp(e)}function Qo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Tf=Math.random().toString(36).slice(2),qa="__reactFiber$"+Tf,$p="__reactProps$"+Tf,Gs="__reactContainer$"+Tf,NS="__reactEvents$"+Tf,DX="__reactListeners$"+Tf,LX="__reactHandles$"+Tf;function lc(t){var e=t[qa];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gs]||n[qa]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=xP(t);t!==null;){if(n=t[qa])return n;t=xP(t)}return e}t=n,n=t.parentNode}return null}function Ym(t){return t=t[qa]||t[Gs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ce(33))}function Px(t){return t[$p]||null}var PS=[],Vu=-1;function kl(t){return{current:t}}function Ht(t){0>Vu||(t.current=PS[Vu],PS[Vu]=null,Vu--)}function Pt(t,e){Vu++,PS[Vu]=t.current,t.current=e}var ul={},Zn=kl(ul),Or=kl(!1),Nc=ul;function Pd(t,e){var n=t.type.contextTypes;if(!n)return ul;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Nr(t){return t=t.childContextTypes,t!=null}function Av(){Ht(Or),Ht(Zn)}function bP(t,e,n){if(Zn.current!==ul)throw Error(ce(168));Pt(Zn,e),Pt(Or,n)}function S3(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ce(108,_Y(t)||"Unknown",i));return Qt({},n,r)}function Tv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ul,Nc=Zn.current,Pt(Zn,t),Pt(Or,Or.current),!0}function wP(t,e,n){var r=t.stateNode;if(!r)throw Error(ce(169));n?(t=S3(t,e,Nc),r.__reactInternalMemoizedMergedChildContext=t,Ht(Or),Ht(Zn),Pt(Zn,t)):Ht(Or),Pt(Or,n)}var Cs=null,Ix=!1,o_=!1;function E3(t){Cs===null?Cs=[t]:Cs.push(t)}function FX(t){Ix=!0,E3(t)}function Cl(){if(!o_&&Cs!==null){o_=!0;var t=0,e=_t;try{var n=Cs;for(_t=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Cs=null,Ix=!1}catch(i){throw Cs!==null&&(Cs=Cs.slice(t+1)),Y5(ET,Cl),i}finally{_t=e,o_=!1}}return null}var Wu=[],qu=0,kv=null,Cv=0,_i=[],Si=0,Pc=null,Ns=1,Ps="";function Xl(t,e){Wu[qu++]=Cv,Wu[qu++]=kv,kv=t,Cv=e}function j3(t,e,n){_i[Si++]=Ns,_i[Si++]=Ps,_i[Si++]=Pc,Pc=t;var r=Ns;t=Ps;var i=32-fa(r)-1;r&=~(1<<i),n+=1;var a=32-fa(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ns=1<<32-fa(e)+i|n<<i|r,Ps=a+t}else Ns=1<<a|n<<i|r,Ps=t}function IT(t){t.return!==null&&(Xl(t,1),j3(t,1,0))}function $T(t){for(;t===kv;)kv=Wu[--qu],Wu[qu]=null,Cv=Wu[--qu],Wu[qu]=null;for(;t===Pc;)Pc=_i[--Si],_i[Si]=null,Ps=_i[--Si],_i[Si]=null,Ns=_i[--Si],_i[Si]=null}var ti=null,Jr=null,Wt=!1,aa=null;function A3(t,e){var n=Ai(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function _P(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ti=t,Jr=Qo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ti=t,Jr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Pc!==null?{id:Ns,overflow:Ps}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ai(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ti=t,Jr=null,!0):!1;default:return!1}}function IS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $S(t){if(Wt){var e=Jr;if(e){var n=e;if(!_P(t,e)){if(IS(t))throw Error(ce(418));e=Qo(n.nextSibling);var r=ti;e&&_P(t,e)?A3(r,n):(t.flags=t.flags&-4097|2,Wt=!1,ti=t)}}else{if(IS(t))throw Error(ce(418));t.flags=t.flags&-4097|2,Wt=!1,ti=t}}}function SP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ti=t}function qg(t){if(t!==ti)return!1;if(!Wt)return SP(t),Wt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!CS(t.type,t.memoizedProps)),e&&(e=Jr)){if(IS(t))throw T3(),Error(ce(418));for(;e;)A3(t,e),e=Qo(e.nextSibling)}if(SP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jr=Qo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jr=null}}else Jr=ti?Qo(t.stateNode.nextSibling):null;return!0}function T3(){for(var t=Jr;t;)t=Qo(t.nextSibling)}function Id(){Jr=ti=null,Wt=!1}function RT(t){aa===null?aa=[t]:aa.push(t)}var BX=co.ReactCurrentBatchConfig;function ch(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ce(309));var r=n.stateNode}if(!r)throw Error(ce(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(ce(284));if(!n._owner)throw Error(ce(290,t))}return t}function Gg(t,e){throw t=Object.prototype.toString.call(e),Error(ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function EP(t){var e=t._init;return e(t._payload)}function k3(t){function e(x,v){if(t){var y=x.deletions;y===null?(x.deletions=[v],x.flags|=16):y.push(v)}}function n(x,v){if(!t)return null;for(;v!==null;)e(x,v),v=v.sibling;return null}function r(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function i(x,v){return x=rl(x,v),x.index=0,x.sibling=null,x}function a(x,v,y){return x.index=y,t?(y=x.alternate,y!==null?(y=y.index,y<v?(x.flags|=2,v):y):(x.flags|=2,v)):(x.flags|=1048576,v)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,v,y,w){return v===null||v.tag!==6?(v=p_(y,x.mode,w),v.return=x,v):(v=i(v,y),v.return=x,v)}function l(x,v,y,w){var _=y.type;return _===Fu?d(x,v,y.props.children,w,y.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Co&&EP(_)===v.type)?(w=i(v,y.props),w.ref=ch(x,v,y),w.return=x,w):(w=tv(y.type,y.key,y.props,null,x.mode,w),w.ref=ch(x,v,y),w.return=x,w)}function c(x,v,y,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=m_(y,x.mode,w),v.return=x,v):(v=i(v,y.children||[]),v.return=x,v)}function d(x,v,y,w,_){return v===null||v.tag!==7?(v=_c(y,x.mode,w,_),v.return=x,v):(v=i(v,y),v.return=x,v)}function f(x,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=p_(""+v,x.mode,y),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Mg:return y=tv(v.type,v.key,v.props,null,x.mode,y),y.ref=ch(x,null,v),y.return=x,y;case Lu:return v=m_(v,x.mode,y),v.return=x,v;case Co:var w=v._init;return f(x,w(v._payload),y)}if(Ph(v)||ih(v))return v=_c(v,x.mode,y,null),v.return=x,v;Gg(x,v)}return null}function h(x,v,y,w){var _=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return _!==null?null:o(x,v,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Mg:return y.key===_?l(x,v,y,w):null;case Lu:return y.key===_?c(x,v,y,w):null;case Co:return _=y._init,h(x,v,_(y._payload),w)}if(Ph(y)||ih(y))return _!==null?null:d(x,v,y,w,null);Gg(x,y)}return null}function p(x,v,y,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(y)||null,o(v,x,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Mg:return x=x.get(w.key===null?y:w.key)||null,l(v,x,w,_);case Lu:return x=x.get(w.key===null?y:w.key)||null,c(v,x,w,_);case Co:var E=w._init;return p(x,v,y,E(w._payload),_)}if(Ph(w)||ih(w))return x=x.get(y)||null,d(v,x,w,_,null);Gg(v,w)}return null}function m(x,v,y,w){for(var _=null,E=null,A=v,j=v=0,T=null;A!==null&&j<y.length;j++){A.index>j?(T=A,A=null):T=A.sibling;var C=h(x,A,y[j],w);if(C===null){A===null&&(A=T);break}t&&A&&C.alternate===null&&e(x,A),v=a(C,v,j),E===null?_=C:E.sibling=C,E=C,A=T}if(j===y.length)return n(x,A),Wt&&Xl(x,j),_;if(A===null){for(;j<y.length;j++)A=f(x,y[j],w),A!==null&&(v=a(A,v,j),E===null?_=A:E.sibling=A,E=A);return Wt&&Xl(x,j),_}for(A=r(x,A);j<y.length;j++)T=p(A,x,j,y[j],w),T!==null&&(t&&T.alternate!==null&&A.delete(T.key===null?j:T.key),v=a(T,v,j),E===null?_=T:E.sibling=T,E=T);return t&&A.forEach(function(k){return e(x,k)}),Wt&&Xl(x,j),_}function g(x,v,y,w){var _=ih(y);if(typeof _!="function")throw Error(ce(150));if(y=_.call(y),y==null)throw Error(ce(151));for(var E=_=null,A=v,j=v=0,T=null,C=y.next();A!==null&&!C.done;j++,C=y.next()){A.index>j?(T=A,A=null):T=A.sibling;var k=h(x,A,C.value,w);if(k===null){A===null&&(A=T);break}t&&A&&k.alternate===null&&e(x,A),v=a(k,v,j),E===null?_=k:E.sibling=k,E=k,A=T}if(C.done)return n(x,A),Wt&&Xl(x,j),_;if(A===null){for(;!C.done;j++,C=y.next())C=f(x,C.value,w),C!==null&&(v=a(C,v,j),E===null?_=C:E.sibling=C,E=C);return Wt&&Xl(x,j),_}for(A=r(x,A);!C.done;j++,C=y.next())C=p(A,x,j,C.value,w),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?j:C.key),v=a(C,v,j),E===null?_=C:E.sibling=C,E=C);return t&&A.forEach(function(O){return e(x,O)}),Wt&&Xl(x,j),_}function b(x,v,y,w){if(typeof y=="object"&&y!==null&&y.type===Fu&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Mg:e:{for(var _=y.key,E=v;E!==null;){if(E.key===_){if(_=y.type,_===Fu){if(E.tag===7){n(x,E.sibling),v=i(E,y.props.children),v.return=x,x=v;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Co&&EP(_)===E.type){n(x,E.sibling),v=i(E,y.props),v.ref=ch(x,E,y),v.return=x,x=v;break e}n(x,E);break}else e(x,E);E=E.sibling}y.type===Fu?(v=_c(y.props.children,x.mode,w,y.key),v.return=x,x=v):(w=tv(y.type,y.key,y.props,null,x.mode,w),w.ref=ch(x,v,y),w.return=x,x=w)}return s(x);case Lu:e:{for(E=y.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(x,v.sibling),v=i(v,y.children||[]),v.return=x,x=v;break e}else{n(x,v);break}else e(x,v);v=v.sibling}v=m_(y,x.mode,w),v.return=x,x=v}return s(x);case Co:return E=y._init,b(x,v,E(y._payload),w)}if(Ph(y))return m(x,v,y,w);if(ih(y))return g(x,v,y,w);Gg(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(x,v.sibling),v=i(v,y),v.return=x,x=v):(n(x,v),v=p_(y,x.mode,w),v.return=x,x=v),s(x)):n(x,v)}return b}var $d=k3(!0),C3=k3(!1),Ov=kl(null),Nv=null,Gu=null,MT=null;function DT(){MT=Gu=Nv=null}function LT(t){var e=Ov.current;Ht(Ov),t._currentValue=e}function RS(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function od(t,e){Nv=t,MT=Gu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tr=!0),t.firstContext=null)}function Ri(t){var e=t._currentValue;if(MT!==t)if(t={context:t,memoizedValue:e,next:null},Gu===null){if(Nv===null)throw Error(ce(308));Gu=t,Nv.dependencies={lanes:0,firstContext:t}}else Gu=Gu.next=t;return e}var cc=null;function FT(t){cc===null?cc=[t]:cc.push(t)}function O3(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,FT(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ks(t,r)}function Ks(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Oo=!1;function BT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ms(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function el(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ut&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ks(t,n)}return i=r.interleaved,i===null?(e.next=e,FT(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ks(t,n)}function Yy(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jT(t,n)}}function jP(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Pv(t,e,n,r){var i=t.updateQueue;Oo=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=c=l=null,o=a;do{var h=o.lane,p=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,g=o;switch(h=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=Qt({},f,h);break e;case 2:Oo=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);$c|=s,t.lanes=s,t.memoizedState=f}}function AP(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ce(191,i));i.call(r)}}}var Xm={},es=kl(Xm),Rp=kl(Xm),Mp=kl(Xm);function uc(t){if(t===Xm)throw Error(ce(174));return t}function zT(t,e){switch(Pt(Mp,e),Pt(Rp,t),Pt(es,Xm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mS(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=mS(e,t)}Ht(es),Pt(es,e)}function Rd(){Ht(es),Ht(Rp),Ht(Mp)}function P3(t){uc(Mp.current);var e=uc(es.current),n=mS(e,t.type);e!==n&&(Pt(Rp,t),Pt(es,n))}function UT(t){Rp.current===t&&(Ht(es),Ht(Rp))}var Xt=kl(0);function Iv(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var l_=[];function HT(){for(var t=0;t<l_.length;t++)l_[t]._workInProgressVersionPrimary=null;l_.length=0}var Xy=co.ReactCurrentDispatcher,c_=co.ReactCurrentBatchConfig,Ic=0,Jt=null,bn=null,In=null,$v=!1,Xh=!1,Dp=0,zX=0;function Vn(){throw Error(ce(321))}function VT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ba(t[n],e[n]))return!1;return!0}function WT(t,e,n,r,i,a){if(Ic=a,Jt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xy.current=t===null||t.memoizedState===null?WX:qX,t=n(r,i),Xh){a=0;do{if(Xh=!1,Dp=0,25<=a)throw Error(ce(301));a+=1,In=bn=null,e.updateQueue=null,Xy.current=GX,t=n(r,i)}while(Xh)}if(Xy.current=Rv,e=bn!==null&&bn.next!==null,Ic=0,In=bn=Jt=null,$v=!1,e)throw Error(ce(300));return t}function qT(){var t=Dp!==0;return Dp=0,t}function za(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?Jt.memoizedState=In=t:In=In.next=t,In}function Mi(){if(bn===null){var t=Jt.alternate;t=t!==null?t.memoizedState:null}else t=bn.next;var e=In===null?Jt.memoizedState:In.next;if(e!==null)In=e,bn=t;else{if(t===null)throw Error(ce(310));bn=t,t={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},In===null?Jt.memoizedState=In=t:In=In.next=t}return In}function Lp(t,e){return typeof e=="function"?e(t):e}function u_(t){var e=Mi(),n=e.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=bn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var d=c.lane;if((Ic&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,Jt.lanes|=d,$c|=d}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,ba(r,e.memoizedState)||(Tr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,Jt.lanes|=a,$c|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function d_(t){var e=Mi(),n=e.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);ba(a,e.memoizedState)||(Tr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function I3(){}function $3(t,e){var n=Jt,r=Mi(),i=e(),a=!ba(r.memoizedState,i);if(a&&(r.memoizedState=i,Tr=!0),r=r.queue,GT(D3.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||In!==null&&In.memoizedState.tag&1){if(n.flags|=2048,Fp(9,M3.bind(null,n,r,i,e),void 0,null),Rn===null)throw Error(ce(349));Ic&30||R3(n,e,i)}return i}function R3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Jt.updateQueue,e===null?(e={lastEffect:null,stores:null},Jt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function M3(t,e,n,r){e.value=n,e.getSnapshot=r,L3(e)&&F3(t)}function D3(t,e,n){return n(function(){L3(e)&&F3(t)})}function L3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ba(t,n)}catch{return!0}}function F3(t){var e=Ks(t,1);e!==null&&ha(e,t,1,-1)}function TP(t){var e=za();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lp,lastRenderedState:t},e.queue=t,t=t.dispatch=VX.bind(null,Jt,t),[e.memoizedState,t]}function Fp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Jt.updateQueue,e===null?(e={lastEffect:null,stores:null},Jt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function B3(){return Mi().memoizedState}function Zy(t,e,n,r){var i=za();Jt.flags|=t,i.memoizedState=Fp(1|e,n,void 0,r===void 0?null:r)}function $x(t,e,n,r){var i=Mi();r=r===void 0?null:r;var a=void 0;if(bn!==null){var s=bn.memoizedState;if(a=s.destroy,r!==null&&VT(r,s.deps)){i.memoizedState=Fp(e,n,a,r);return}}Jt.flags|=t,i.memoizedState=Fp(1|e,n,a,r)}function kP(t,e){return Zy(8390656,8,t,e)}function GT(t,e){return $x(2048,8,t,e)}function z3(t,e){return $x(4,2,t,e)}function U3(t,e){return $x(4,4,t,e)}function H3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function V3(t,e,n){return n=n!=null?n.concat([t]):null,$x(4,4,H3.bind(null,e,t),n)}function KT(){}function W3(t,e){var n=Mi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&VT(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function q3(t,e){var n=Mi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&VT(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function G3(t,e,n){return Ic&21?(ba(n,e)||(n=J5(),Jt.lanes|=n,$c|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tr=!0),t.memoizedState=n)}function UX(t,e){var n=_t;_t=n!==0&&4>n?n:4,t(!0);var r=c_.transition;c_.transition={};try{t(!1),e()}finally{_t=n,c_.transition=r}}function K3(){return Mi().memoizedState}function HX(t,e,n){var r=nl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Y3(t))X3(e,n);else if(n=O3(t,e,n,r),n!==null){var i=dr();ha(n,t,r,i),Z3(n,e,r)}}function VX(t,e,n){var r=nl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Y3(t))X3(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,ba(o,s)){var l=e.interleaved;l===null?(i.next=i,FT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=O3(t,e,i,r),n!==null&&(i=dr(),ha(n,t,r,i),Z3(n,e,r))}}function Y3(t){var e=t.alternate;return t===Jt||e!==null&&e===Jt}function X3(t,e){Xh=$v=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Z3(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jT(t,n)}}var Rv={readContext:Ri,useCallback:Vn,useContext:Vn,useEffect:Vn,useImperativeHandle:Vn,useInsertionEffect:Vn,useLayoutEffect:Vn,useMemo:Vn,useReducer:Vn,useRef:Vn,useState:Vn,useDebugValue:Vn,useDeferredValue:Vn,useTransition:Vn,useMutableSource:Vn,useSyncExternalStore:Vn,useId:Vn,unstable_isNewReconciler:!1},WX={readContext:Ri,useCallback:function(t,e){return za().memoizedState=[t,e===void 0?null:e],t},useContext:Ri,useEffect:kP,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zy(4194308,4,H3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zy(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zy(4,2,t,e)},useMemo:function(t,e){var n=za();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=za();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=HX.bind(null,Jt,t),[r.memoizedState,t]},useRef:function(t){var e=za();return t={current:t},e.memoizedState=t},useState:TP,useDebugValue:KT,useDeferredValue:function(t){return za().memoizedState=t},useTransition:function(){var t=TP(!1),e=t[0];return t=UX.bind(null,t[1]),za().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Jt,i=za();if(Wt){if(n===void 0)throw Error(ce(407));n=n()}else{if(n=e(),Rn===null)throw Error(ce(349));Ic&30||R3(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,kP(D3.bind(null,r,a,t),[t]),r.flags|=2048,Fp(9,M3.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=za(),e=Rn.identifierPrefix;if(Wt){var n=Ps,r=Ns;n=(r&~(1<<32-fa(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Dp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=zX++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qX={readContext:Ri,useCallback:W3,useContext:Ri,useEffect:GT,useImperativeHandle:V3,useInsertionEffect:z3,useLayoutEffect:U3,useMemo:q3,useReducer:u_,useRef:B3,useState:function(){return u_(Lp)},useDebugValue:KT,useDeferredValue:function(t){var e=Mi();return G3(e,bn.memoizedState,t)},useTransition:function(){var t=u_(Lp)[0],e=Mi().memoizedState;return[t,e]},useMutableSource:I3,useSyncExternalStore:$3,useId:K3,unstable_isNewReconciler:!1},GX={readContext:Ri,useCallback:W3,useContext:Ri,useEffect:GT,useImperativeHandle:V3,useInsertionEffect:z3,useLayoutEffect:U3,useMemo:q3,useReducer:d_,useRef:B3,useState:function(){return d_(Lp)},useDebugValue:KT,useDeferredValue:function(t){var e=Mi();return bn===null?e.memoizedState=t:G3(e,bn.memoizedState,t)},useTransition:function(){var t=d_(Lp)[0],e=Mi().memoizedState;return[t,e]},useMutableSource:I3,useSyncExternalStore:$3,useId:K3,unstable_isNewReconciler:!1};function Zi(t,e){if(t&&t.defaultProps){e=Qt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function MS(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rx={isMounted:function(t){return(t=t._reactInternals)?Zc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dr(),i=nl(t),a=Ms(r,i);a.payload=e,n!=null&&(a.callback=n),e=el(t,a,i),e!==null&&(ha(e,t,i,r),Yy(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dr(),i=nl(t),a=Ms(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=el(t,a,i),e!==null&&(ha(e,t,i,r),Yy(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dr(),r=nl(t),i=Ms(n,r);i.tag=2,e!=null&&(i.callback=e),e=el(t,i,r),e!==null&&(ha(e,t,r,n),Yy(e,t,r))}};function CP(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!Np(n,r)||!Np(i,a):!0}function J3(t,e,n){var r=!1,i=ul,a=e.contextType;return typeof a=="object"&&a!==null?a=Ri(a):(i=Nr(e)?Nc:Zn.current,r=e.contextTypes,a=(r=r!=null)?Pd(t,i):ul),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rx,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function OP(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Rx.enqueueReplaceState(e,e.state,null)}function DS(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},BT(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Ri(a):(a=Nr(e)?Nc:Zn.current,i.context=Pd(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(MS(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Rx.enqueueReplaceState(i,i.state,null),Pv(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Md(t,e){try{var n="",r=e;do n+=wY(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function f_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function LS(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var KX=typeof WeakMap=="function"?WeakMap:Map;function Q3(t,e,n){n=Ms(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Dv||(Dv=!0,KS=r),LS(t,e)},n}function eF(t,e,n){n=Ms(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){LS(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){LS(t,e),typeof r!="function"&&(tl===null?tl=new Set([this]):tl.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function NP(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new KX;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=lZ.bind(null,t,e,n),e.then(t,t))}function PP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function IP(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ms(-1,1),e.tag=2,el(n,e,1))),n.lanes|=1),t)}var YX=co.ReactCurrentOwner,Tr=!1;function sr(t,e,n,r){e.child=t===null?C3(e,null,n,r):$d(e,t.child,n,r)}function $P(t,e,n,r,i){n=n.render;var a=e.ref;return od(e,i),r=WT(t,e,n,r,a,i),n=qT(),t!==null&&!Tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ys(t,e,i)):(Wt&&n&&IT(e),e.flags|=1,sr(t,e,r,i),e.child)}function RP(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!nk(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,tF(t,e,a,r,i)):(t=tv(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Np,n(s,r)&&t.ref===e.ref)return Ys(t,e,i)}return e.flags|=1,t=rl(a,r),t.ref=e.ref,t.return=e,e.child=t}function tF(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Np(a,r)&&t.ref===e.ref)if(Tr=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Tr=!0);else return e.lanes=t.lanes,Ys(t,e,i)}return FS(t,e,n,r,i)}function nF(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(Yu,Kr),Kr|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pt(Yu,Kr),Kr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Pt(Yu,Kr),Kr|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Pt(Yu,Kr),Kr|=r;return sr(t,e,i,n),e.child}function rF(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function FS(t,e,n,r,i){var a=Nr(n)?Nc:Zn.current;return a=Pd(e,a),od(e,i),n=WT(t,e,n,r,a,i),r=qT(),t!==null&&!Tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ys(t,e,i)):(Wt&&r&&IT(e),e.flags|=1,sr(t,e,n,i),e.child)}function MP(t,e,n,r,i){if(Nr(n)){var a=!0;Tv(e)}else a=!1;if(od(e,i),e.stateNode===null)Jy(t,e),J3(e,n,r),DS(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ri(c):(c=Nr(n)?Nc:Zn.current,c=Pd(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&OP(e,s,r,c),Oo=!1;var h=e.memoizedState;s.state=h,Pv(e,r,s,i),l=e.memoizedState,o!==r||h!==l||Or.current||Oo?(typeof d=="function"&&(MS(e,n,d,r),l=e.memoizedState),(o=Oo||CP(e,n,o,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,N3(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Zi(e.type,o),s.props=c,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ri(l):(l=Nr(n)?Nc:Zn.current,l=Pd(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&OP(e,s,r,l),Oo=!1,h=e.memoizedState,s.state=h,Pv(e,r,s,i);var m=e.memoizedState;o!==f||h!==m||Or.current||Oo?(typeof p=="function"&&(MS(e,n,p,r),m=e.memoizedState),(c=Oo||CP(e,n,c,r,h,m,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return BS(t,e,n,r,a,i)}function BS(t,e,n,r,i,a){rF(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&wP(e,n,!1),Ys(t,e,a);r=e.stateNode,YX.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=$d(e,t.child,null,a),e.child=$d(e,null,o,a)):sr(t,e,o,a),e.memoizedState=r.state,i&&wP(e,n,!0),e.child}function iF(t){var e=t.stateNode;e.pendingContext?bP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bP(t,e.context,!1),zT(t,e.containerInfo)}function DP(t,e,n,r,i){return Id(),RT(i),e.flags|=256,sr(t,e,n,r),e.child}var zS={dehydrated:null,treeContext:null,retryLane:0};function US(t){return{baseLanes:t,cachePool:null,transitions:null}}function aF(t,e,n){var r=e.pendingProps,i=Xt.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pt(Xt,i&1),t===null)return $S(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Lx(s,r,0,null),t=_c(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=US(n),e.memoizedState=zS,t):YT(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return XX(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=rl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=rl(o,a):(a=_c(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?US(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=zS,r}return a=t.child,t=a.sibling,r=rl(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function YT(t,e){return e=Lx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Kg(t,e,n,r){return r!==null&&RT(r),$d(e,t.child,null,n),t=YT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function XX(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=f_(Error(ce(422))),Kg(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Lx({mode:"visible",children:r.children},i,0,null),a=_c(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&$d(e,t.child,null,s),e.child.memoizedState=US(s),e.memoizedState=zS,a);if(!(e.mode&1))return Kg(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(ce(419)),r=f_(a,r,void 0),Kg(t,e,s,r)}if(o=(s&t.childLanes)!==0,Tr||o){if(r=Rn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ks(t,i),ha(r,t,i,-1))}return tk(),r=f_(Error(ce(421))),Kg(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=cZ.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Jr=Qo(i.nextSibling),ti=e,Wt=!0,aa=null,t!==null&&(_i[Si++]=Ns,_i[Si++]=Ps,_i[Si++]=Pc,Ns=t.id,Ps=t.overflow,Pc=e),e=YT(e,r.children),e.flags|=4096,e)}function LP(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),RS(t.return,e,n)}function h_(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function sF(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(sr(t,e,r.children,n),r=Xt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&LP(t,n,e);else if(t.tag===19)LP(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pt(Xt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Iv(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),h_(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Iv(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}h_(e,!0,n,null,a);break;case"together":h_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ys(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$c|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ce(153));if(e.child!==null){for(t=e.child,n=rl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=rl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ZX(t,e,n){switch(e.tag){case 3:iF(e),Id();break;case 5:P3(e);break;case 1:Nr(e.type)&&Tv(e);break;case 4:zT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pt(Ov,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pt(Xt,Xt.current&1),e.flags|=128,null):n&e.child.childLanes?aF(t,e,n):(Pt(Xt,Xt.current&1),t=Ys(t,e,n),t!==null?t.sibling:null);Pt(Xt,Xt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return sF(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pt(Xt,Xt.current),r)break;return null;case 22:case 23:return e.lanes=0,nF(t,e,n)}return Ys(t,e,n)}var oF,HS,lF,cF;oF=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};HS=function(){};lF=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,uc(es.current);var a=null;switch(n){case"input":i=dS(t,i),r=dS(t,r),a=[];break;case"select":i=Qt({},i,{value:void 0}),r=Qt({},r,{value:void 0}),a=[];break;case"textarea":i=pS(t,i),r=pS(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=jv)}gS(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ep.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ep.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Lt("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};cF=function(t,e,n,r){n!==r&&(e.flags|=4)};function uh(t,e){if(!Wt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function JX(t,e,n){var r=e.pendingProps;switch($T(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(e),null;case 1:return Nr(e.type)&&Av(),Wn(e),null;case 3:return r=e.stateNode,Rd(),Ht(Or),Ht(Zn),HT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(qg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,aa!==null&&(ZS(aa),aa=null))),HS(t,e),Wn(e),null;case 5:UT(e);var i=uc(Mp.current);if(n=e.type,t!==null&&e.stateNode!=null)lF(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ce(166));return Wn(e),null}if(t=uc(es.current),qg(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[qa]=e,r[$p]=a,t=(e.mode&1)!==0,n){case"dialog":Lt("cancel",r),Lt("close",r);break;case"iframe":case"object":case"embed":Lt("load",r);break;case"video":case"audio":for(i=0;i<$h.length;i++)Lt($h[i],r);break;case"source":Lt("error",r);break;case"img":case"image":case"link":Lt("error",r),Lt("load",r);break;case"details":Lt("toggle",r);break;case"input":GN(r,a),Lt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Lt("invalid",r);break;case"textarea":YN(r,a),Lt("invalid",r)}gS(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Wg(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Wg(r.textContent,o,t),i=["children",""+o]):Ep.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Lt("scroll",r)}switch(n){case"input":Dg(r),KN(r,a,!0);break;case"textarea":Dg(r),XN(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=jv)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=D5(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[qa]=e,t[$p]=r,oF(t,e,!1,!1),e.stateNode=t;e:{switch(s=yS(n,r),n){case"dialog":Lt("cancel",t),Lt("close",t),i=r;break;case"iframe":case"object":case"embed":Lt("load",t),i=r;break;case"video":case"audio":for(i=0;i<$h.length;i++)Lt($h[i],t);i=r;break;case"source":Lt("error",t),i=r;break;case"img":case"image":case"link":Lt("error",t),Lt("load",t),i=r;break;case"details":Lt("toggle",t),i=r;break;case"input":GN(t,r),i=dS(t,r),Lt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Qt({},r,{value:void 0}),Lt("invalid",t);break;case"textarea":YN(t,r),i=pS(t,r),Lt("invalid",t);break;default:i=r}gS(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?B5(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&L5(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&jp(t,l):typeof l=="number"&&jp(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ep.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Lt("scroll",t):l!=null&&xT(t,a,l,s))}switch(n){case"input":Dg(t),KN(t,r,!1);break;case"textarea":Dg(t),XN(t);break;case"option":r.value!=null&&t.setAttribute("value",""+cl(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?rd(t,!!r.multiple,a,!1):r.defaultValue!=null&&rd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=jv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wn(e),null;case 6:if(t&&e.stateNode!=null)cF(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ce(166));if(n=uc(Mp.current),uc(es.current),qg(e)){if(r=e.stateNode,n=e.memoizedProps,r[qa]=e,(a=r.nodeValue!==n)&&(t=ti,t!==null))switch(t.tag){case 3:Wg(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wg(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qa]=e,e.stateNode=r}return Wn(e),null;case 13:if(Ht(Xt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Wt&&Jr!==null&&e.mode&1&&!(e.flags&128))T3(),Id(),e.flags|=98560,a=!1;else if(a=qg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(ce(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ce(317));a[qa]=e}else Id(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wn(e),a=!1}else aa!==null&&(ZS(aa),aa=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xt.current&1?Sn===0&&(Sn=3):tk())),e.updateQueue!==null&&(e.flags|=4),Wn(e),null);case 4:return Rd(),HS(t,e),t===null&&Pp(e.stateNode.containerInfo),Wn(e),null;case 10:return LT(e.type._context),Wn(e),null;case 17:return Nr(e.type)&&Av(),Wn(e),null;case 19:if(Ht(Xt),a=e.memoizedState,a===null)return Wn(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)uh(a,!1);else{if(Sn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Iv(t),s!==null){for(e.flags|=128,uh(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pt(Xt,Xt.current&1|2),e.child}t=t.sibling}a.tail!==null&&ln()>Dd&&(e.flags|=128,r=!0,uh(a,!1),e.lanes=4194304)}else{if(!r)if(t=Iv(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),uh(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Wt)return Wn(e),null}else 2*ln()-a.renderingStartTime>Dd&&n!==1073741824&&(e.flags|=128,r=!0,uh(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ln(),e.sibling=null,n=Xt.current,Pt(Xt,r?n&1|2:n&1),e):(Wn(e),null);case 22:case 23:return ek(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Kr&1073741824&&(Wn(e),e.subtreeFlags&6&&(e.flags|=8192)):Wn(e),null;case 24:return null;case 25:return null}throw Error(ce(156,e.tag))}function QX(t,e){switch($T(e),e.tag){case 1:return Nr(e.type)&&Av(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rd(),Ht(Or),Ht(Zn),HT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return UT(e),null;case 13:if(Ht(Xt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ce(340));Id()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ht(Xt),null;case 4:return Rd(),null;case 10:return LT(e.type._context),null;case 22:case 23:return ek(),null;case 24:return null;default:return null}}var Yg=!1,Yn=!1,eZ=typeof WeakSet=="function"?WeakSet:Set,_e=null;function Ku(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){an(t,e,r)}else n.current=null}function VS(t,e,n){try{n()}catch(r){an(t,e,r)}}var FP=!1;function tZ(t,e){if(TS=_v,t=p3(),PT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++c===i&&(o=s),h===a&&++d===r&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(kS={focusedElem:t,selectionRange:n},_v=!1,_e=e;_e!==null;)if(e=_e,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,_e=t;else for(;_e!==null;){e=_e;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,b=m.memoizedState,x=e.stateNode,v=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:Zi(e.type,g),b);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(w){an(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,_e=t;break}_e=e.return}return m=FP,FP=!1,m}function Zh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&VS(e,n,a)}i=i.next}while(i!==r)}}function Mx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function WS(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function uF(t){var e=t.alternate;e!==null&&(t.alternate=null,uF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qa],delete e[$p],delete e[NS],delete e[DX],delete e[LX])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dF(t){return t.tag===5||t.tag===3||t.tag===4}function BP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=jv));else if(r!==4&&(t=t.child,t!==null))for(qS(t,e,n),t=t.sibling;t!==null;)qS(t,e,n),t=t.sibling}function GS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(GS(t,e,n),t=t.sibling;t!==null;)GS(t,e,n),t=t.sibling}var Fn=null,ta=!1;function yo(t,e,n){for(n=n.child;n!==null;)fF(t,e,n),n=n.sibling}function fF(t,e,n){if(Qa&&typeof Qa.onCommitFiberUnmount=="function")try{Qa.onCommitFiberUnmount(kx,n)}catch{}switch(n.tag){case 5:Yn||Ku(n,e);case 6:var r=Fn,i=ta;Fn=null,yo(t,e,n),Fn=r,ta=i,Fn!==null&&(ta?(t=Fn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Fn.removeChild(n.stateNode));break;case 18:Fn!==null&&(ta?(t=Fn,n=n.stateNode,t.nodeType===8?s_(t.parentNode,n):t.nodeType===1&&s_(t,n),Cp(t)):s_(Fn,n.stateNode));break;case 4:r=Fn,i=ta,Fn=n.stateNode.containerInfo,ta=!0,yo(t,e,n),Fn=r,ta=i;break;case 0:case 11:case 14:case 15:if(!Yn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&VS(n,e,s),i=i.next}while(i!==r)}yo(t,e,n);break;case 1:if(!Yn&&(Ku(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){an(n,e,o)}yo(t,e,n);break;case 21:yo(t,e,n);break;case 22:n.mode&1?(Yn=(r=Yn)||n.memoizedState!==null,yo(t,e,n),Yn=r):yo(t,e,n);break;default:yo(t,e,n)}}function zP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new eZ),e.forEach(function(r){var i=uZ.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ui(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Fn=o.stateNode,ta=!1;break e;case 3:Fn=o.stateNode.containerInfo,ta=!0;break e;case 4:Fn=o.stateNode.containerInfo,ta=!0;break e}o=o.return}if(Fn===null)throw Error(ce(160));fF(a,s,i),Fn=null,ta=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){an(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hF(e,t),e=e.sibling}function hF(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ui(e,t),Ma(t),r&4){try{Zh(3,t,t.return),Mx(3,t)}catch(g){an(t,t.return,g)}try{Zh(5,t,t.return)}catch(g){an(t,t.return,g)}}break;case 1:Ui(e,t),Ma(t),r&512&&n!==null&&Ku(n,n.return);break;case 5:if(Ui(e,t),Ma(t),r&512&&n!==null&&Ku(n,n.return),t.flags&32){var i=t.stateNode;try{jp(i,"")}catch(g){an(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&R5(i,a),yS(o,s);var c=yS(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?B5(i,f):d==="dangerouslySetInnerHTML"?L5(i,f):d==="children"?jp(i,f):xT(i,d,f,c)}switch(o){case"input":fS(i,a);break;case"textarea":M5(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?rd(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?rd(i,!!a.multiple,a.defaultValue,!0):rd(i,!!a.multiple,a.multiple?[]:"",!1))}i[$p]=a}catch(g){an(t,t.return,g)}}break;case 6:if(Ui(e,t),Ma(t),r&4){if(t.stateNode===null)throw Error(ce(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){an(t,t.return,g)}}break;case 3:if(Ui(e,t),Ma(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cp(e.containerInfo)}catch(g){an(t,t.return,g)}break;case 4:Ui(e,t),Ma(t);break;case 13:Ui(e,t),Ma(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(JT=ln())),r&4&&zP(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Yn=(c=Yn)||d,Ui(e,t),Yn=c):Ui(e,t),Ma(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(_e=t,d=t.child;d!==null;){for(f=_e=d;_e!==null;){switch(h=_e,p=h.child,h.tag){case 0:case 11:case 14:case 15:Zh(4,h,h.return);break;case 1:Ku(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){an(r,n,g)}}break;case 5:Ku(h,h.return);break;case 22:if(h.memoizedState!==null){HP(f);continue}}p!==null?(p.return=h,_e=p):HP(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=F5("display",s))}catch(g){an(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){an(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ui(e,t),Ma(t),r&4&&zP(t);break;case 21:break;default:Ui(e,t),Ma(t)}}function Ma(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(dF(n)){var r=n;break e}n=n.return}throw Error(ce(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(jp(i,""),r.flags&=-33);var a=BP(t);GS(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=BP(t);qS(t,o,s);break;default:throw Error(ce(161))}}catch(l){an(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nZ(t,e,n){_e=t,pF(t)}function pF(t,e,n){for(var r=(t.mode&1)!==0;_e!==null;){var i=_e,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Yg;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Yn;o=Yg;var c=Yn;if(Yg=s,(Yn=l)&&!c)for(_e=i;_e!==null;)s=_e,l=s.child,s.tag===22&&s.memoizedState!==null?VP(i):l!==null?(l.return=s,_e=l):VP(i);for(;a!==null;)_e=a,pF(a),a=a.sibling;_e=i,Yg=o,Yn=c}UP(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,_e=a):UP(t)}}function UP(t){for(;_e!==null;){var e=_e;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yn||Mx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Yn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Zi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&AP(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}AP(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Cp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}Yn||e.flags&512&&WS(e)}catch(h){an(e,e.return,h)}}if(e===t){_e=null;break}if(n=e.sibling,n!==null){n.return=e.return,_e=n;break}_e=e.return}}function HP(t){for(;_e!==null;){var e=_e;if(e===t){_e=null;break}var n=e.sibling;if(n!==null){n.return=e.return,_e=n;break}_e=e.return}}function VP(t){for(;_e!==null;){var e=_e;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Mx(4,e)}catch(l){an(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){an(e,i,l)}}var a=e.return;try{WS(e)}catch(l){an(e,a,l)}break;case 5:var s=e.return;try{WS(e)}catch(l){an(e,s,l)}}}catch(l){an(e,e.return,l)}if(e===t){_e=null;break}var o=e.sibling;if(o!==null){o.return=e.return,_e=o;break}_e=e.return}}var rZ=Math.ceil,Mv=co.ReactCurrentDispatcher,XT=co.ReactCurrentOwner,Pi=co.ReactCurrentBatchConfig,ut=0,Rn=null,yn=null,Bn=0,Kr=0,Yu=kl(0),Sn=0,Bp=null,$c=0,Dx=0,ZT=0,Jh=null,_r=null,JT=0,Dd=1/0,js=null,Dv=!1,KS=null,tl=null,Xg=!1,Ho=null,Lv=0,Qh=0,YS=null,Qy=-1,ev=0;function dr(){return ut&6?ln():Qy!==-1?Qy:Qy=ln()}function nl(t){return t.mode&1?ut&2&&Bn!==0?Bn&-Bn:BX.transition!==null?(ev===0&&(ev=J5()),ev):(t=_t,t!==0||(t=window.event,t=t===void 0?16:a3(t.type)),t):1}function ha(t,e,n,r){if(50<Qh)throw Qh=0,YS=null,Error(ce(185));Gm(t,n,r),(!(ut&2)||t!==Rn)&&(t===Rn&&(!(ut&2)&&(Dx|=n),Sn===4&&$o(t,Bn)),Pr(t,r),n===1&&ut===0&&!(e.mode&1)&&(Dd=ln()+500,Ix&&Cl()))}function Pr(t,e){var n=t.callbackNode;BY(t,e);var r=wv(t,t===Rn?Bn:0);if(r===0)n!==null&&QN(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&QN(n),e===1)t.tag===0?FX(WP.bind(null,t)):E3(WP.bind(null,t)),RX(function(){!(ut&6)&&Cl()}),n=null;else{switch(Q5(r)){case 1:n=ET;break;case 4:n=X5;break;case 16:n=bv;break;case 536870912:n=Z5;break;default:n=bv}n=_F(n,mF.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function mF(t,e){if(Qy=-1,ev=0,ut&6)throw Error(ce(327));var n=t.callbackNode;if(ld()&&t.callbackNode!==n)return null;var r=wv(t,t===Rn?Bn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fv(t,r);else{e=r;var i=ut;ut|=2;var a=yF();(Rn!==t||Bn!==e)&&(js=null,Dd=ln()+500,wc(t,e));do try{sZ();break}catch(o){gF(t,o)}while(!0);DT(),Mv.current=a,ut=i,yn!==null?e=0:(Rn=null,Bn=0,e=Sn)}if(e!==0){if(e===2&&(i=_S(t),i!==0&&(r=i,e=XS(t,i))),e===1)throw n=Bp,wc(t,0),$o(t,r),Pr(t,ln()),n;if(e===6)$o(t,r);else{if(i=t.current.alternate,!(r&30)&&!iZ(i)&&(e=Fv(t,r),e===2&&(a=_S(t),a!==0&&(r=a,e=XS(t,a))),e===1))throw n=Bp,wc(t,0),$o(t,r),Pr(t,ln()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ce(345));case 2:Zl(t,_r,js);break;case 3:if($o(t,r),(r&130023424)===r&&(e=JT+500-ln(),10<e)){if(wv(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){dr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=OS(Zl.bind(null,t,_r,js),e);break}Zl(t,_r,js);break;case 4:if($o(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-fa(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=ln()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rZ(r/1960))-r,10<r){t.timeoutHandle=OS(Zl.bind(null,t,_r,js),r);break}Zl(t,_r,js);break;case 5:Zl(t,_r,js);break;default:throw Error(ce(329))}}}return Pr(t,ln()),t.callbackNode===n?mF.bind(null,t):null}function XS(t,e){var n=Jh;return t.current.memoizedState.isDehydrated&&(wc(t,e).flags|=256),t=Fv(t,e),t!==2&&(e=_r,_r=n,e!==null&&ZS(e)),t}function ZS(t){_r===null?_r=t:_r.push.apply(_r,t)}function iZ(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ba(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $o(t,e){for(e&=~ZT,e&=~Dx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fa(e),r=1<<n;t[n]=-1,e&=~r}}function WP(t){if(ut&6)throw Error(ce(327));ld();var e=wv(t,0);if(!(e&1))return Pr(t,ln()),null;var n=Fv(t,e);if(t.tag!==0&&n===2){var r=_S(t);r!==0&&(e=r,n=XS(t,r))}if(n===1)throw n=Bp,wc(t,0),$o(t,e),Pr(t,ln()),n;if(n===6)throw Error(ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zl(t,_r,js),Pr(t,ln()),null}function QT(t,e){var n=ut;ut|=1;try{return t(e)}finally{ut=n,ut===0&&(Dd=ln()+500,Ix&&Cl())}}function Rc(t){Ho!==null&&Ho.tag===0&&!(ut&6)&&ld();var e=ut;ut|=1;var n=Pi.transition,r=_t;try{if(Pi.transition=null,_t=1,t)return t()}finally{_t=r,Pi.transition=n,ut=e,!(ut&6)&&Cl()}}function ek(){Kr=Yu.current,Ht(Yu)}function wc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,$X(n)),yn!==null)for(n=yn.return;n!==null;){var r=n;switch($T(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Av();break;case 3:Rd(),Ht(Or),Ht(Zn),HT();break;case 5:UT(r);break;case 4:Rd();break;case 13:Ht(Xt);break;case 19:Ht(Xt);break;case 10:LT(r.type._context);break;case 22:case 23:ek()}n=n.return}if(Rn=t,yn=t=rl(t.current,null),Bn=Kr=e,Sn=0,Bp=null,ZT=Dx=$c=0,_r=Jh=null,cc!==null){for(e=0;e<cc.length;e++)if(n=cc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}cc=null}return t}function gF(t,e){do{var n=yn;try{if(DT(),Xy.current=Rv,$v){for(var r=Jt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$v=!1}if(Ic=0,In=bn=Jt=null,Xh=!1,Dp=0,XT.current=null,n===null||n.return===null){Sn=1,Bp=e,yn=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=Bn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=PP(s);if(p!==null){p.flags&=-257,IP(p,s,o,a,e),p.mode&1&&NP(a,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){NP(a,c,e),tk();break e}l=Error(ce(426))}}else if(Wt&&o.mode&1){var b=PP(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),IP(b,s,o,a,e),RT(Md(l,o));break e}}a=l=Md(l,o),Sn!==4&&(Sn=2),Jh===null?Jh=[a]:Jh.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var x=Q3(a,l,e);jP(a,x);break e;case 1:o=l;var v=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(tl===null||!tl.has(y)))){a.flags|=65536,e&=-e,a.lanes|=e;var w=eF(a,o,e);jP(a,w);break e}}a=a.return}while(a!==null)}xF(n)}catch(_){e=_,yn===n&&n!==null&&(yn=n=n.return);continue}break}while(!0)}function yF(){var t=Mv.current;return Mv.current=Rv,t===null?Rv:t}function tk(){(Sn===0||Sn===3||Sn===2)&&(Sn=4),Rn===null||!($c&268435455)&&!(Dx&268435455)||$o(Rn,Bn)}function Fv(t,e){var n=ut;ut|=2;var r=yF();(Rn!==t||Bn!==e)&&(js=null,wc(t,e));do try{aZ();break}catch(i){gF(t,i)}while(!0);if(DT(),ut=n,Mv.current=r,yn!==null)throw Error(ce(261));return Rn=null,Bn=0,Sn}function aZ(){for(;yn!==null;)vF(yn)}function sZ(){for(;yn!==null&&!NY();)vF(yn)}function vF(t){var e=wF(t.alternate,t,Kr);t.memoizedProps=t.pendingProps,e===null?xF(t):yn=e,XT.current=null}function xF(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=QX(n,e),n!==null){n.flags&=32767,yn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Sn=6,yn=null;return}}else if(n=JX(n,e,Kr),n!==null){yn=n;return}if(e=e.sibling,e!==null){yn=e;return}yn=e=t}while(e!==null);Sn===0&&(Sn=5)}function Zl(t,e,n){var r=_t,i=Pi.transition;try{Pi.transition=null,_t=1,oZ(t,e,n,r)}finally{Pi.transition=i,_t=r}return null}function oZ(t,e,n,r){do ld();while(Ho!==null);if(ut&6)throw Error(ce(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ce(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(zY(t,a),t===Rn&&(yn=Rn=null,Bn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xg||(Xg=!0,_F(bv,function(){return ld(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Pi.transition,Pi.transition=null;var s=_t;_t=1;var o=ut;ut|=4,XT.current=null,tZ(t,n),hF(n,t),TX(kS),_v=!!TS,kS=TS=null,t.current=n,nZ(n),PY(),ut=o,_t=s,Pi.transition=a}else t.current=n;if(Xg&&(Xg=!1,Ho=t,Lv=i),a=t.pendingLanes,a===0&&(tl=null),RY(n.stateNode),Pr(t,ln()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Dv)throw Dv=!1,t=KS,KS=null,t;return Lv&1&&t.tag!==0&&ld(),a=t.pendingLanes,a&1?t===YS?Qh++:(Qh=0,YS=t):Qh=0,Cl(),null}function ld(){if(Ho!==null){var t=Q5(Lv),e=Pi.transition,n=_t;try{if(Pi.transition=null,_t=16>t?16:t,Ho===null)var r=!1;else{if(t=Ho,Ho=null,Lv=0,ut&6)throw Error(ce(331));var i=ut;for(ut|=4,_e=t.current;_e!==null;){var a=_e,s=a.child;if(_e.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(_e=c;_e!==null;){var d=_e;switch(d.tag){case 0:case 11:case 15:Zh(8,d,a)}var f=d.child;if(f!==null)f.return=d,_e=f;else for(;_e!==null;){d=_e;var h=d.sibling,p=d.return;if(uF(d),d===c){_e=null;break}if(h!==null){h.return=p,_e=h;break}_e=p}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}_e=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,_e=s;else e:for(;_e!==null;){if(a=_e,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Zh(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,_e=x;break e}_e=a.return}}var v=t.current;for(_e=v;_e!==null;){s=_e;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,_e=y;else e:for(s=v;_e!==null;){if(o=_e,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Mx(9,o)}}catch(_){an(o,o.return,_)}if(o===s){_e=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,_e=w;break e}_e=o.return}}if(ut=i,Cl(),Qa&&typeof Qa.onPostCommitFiberRoot=="function")try{Qa.onPostCommitFiberRoot(kx,t)}catch{}r=!0}return r}finally{_t=n,Pi.transition=e}}return!1}function qP(t,e,n){e=Md(n,e),e=Q3(t,e,1),t=el(t,e,1),e=dr(),t!==null&&(Gm(t,1,e),Pr(t,e))}function an(t,e,n){if(t.tag===3)qP(t,t,n);else for(;e!==null;){if(e.tag===3){qP(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tl===null||!tl.has(r))){t=Md(n,t),t=eF(e,t,1),e=el(e,t,1),t=dr(),e!==null&&(Gm(e,1,t),Pr(e,t));break}}e=e.return}}function lZ(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=dr(),t.pingedLanes|=t.suspendedLanes&n,Rn===t&&(Bn&n)===n&&(Sn===4||Sn===3&&(Bn&130023424)===Bn&&500>ln()-JT?wc(t,0):ZT|=n),Pr(t,e)}function bF(t,e){e===0&&(t.mode&1?(e=Bg,Bg<<=1,!(Bg&130023424)&&(Bg=4194304)):e=1);var n=dr();t=Ks(t,e),t!==null&&(Gm(t,e,n),Pr(t,n))}function cZ(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bF(t,n)}function uZ(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ce(314))}r!==null&&r.delete(e),bF(t,n)}var wF;wF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Or.current)Tr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tr=!1,ZX(t,e,n);Tr=!!(t.flags&131072)}else Tr=!1,Wt&&e.flags&1048576&&j3(e,Cv,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Jy(t,e),t=e.pendingProps;var i=Pd(e,Zn.current);od(e,n),i=WT(null,e,r,t,i,n);var a=qT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nr(r)?(a=!0,Tv(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,BT(e),i.updater=Rx,e.stateNode=i,i._reactInternals=e,DS(e,r,t,n),e=BS(null,e,r,!0,a,n)):(e.tag=0,Wt&&a&&IT(e),sr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Jy(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=fZ(r),t=Zi(r,t),i){case 0:e=FS(null,e,r,t,n);break e;case 1:e=MP(null,e,r,t,n);break e;case 11:e=$P(null,e,r,t,n);break e;case 14:e=RP(null,e,r,Zi(r.type,t),n);break e}throw Error(ce(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zi(r,i),FS(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zi(r,i),MP(t,e,r,i,n);case 3:e:{if(iF(e),t===null)throw Error(ce(387));r=e.pendingProps,a=e.memoizedState,i=a.element,N3(t,e),Pv(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Md(Error(ce(423)),e),e=DP(t,e,r,n,i);break e}else if(r!==i){i=Md(Error(ce(424)),e),e=DP(t,e,r,n,i);break e}else for(Jr=Qo(e.stateNode.containerInfo.firstChild),ti=e,Wt=!0,aa=null,n=C3(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Id(),r===i){e=Ys(t,e,n);break e}sr(t,e,r,n)}e=e.child}return e;case 5:return P3(e),t===null&&$S(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,CS(r,i)?s=null:a!==null&&CS(r,a)&&(e.flags|=32),rF(t,e),sr(t,e,s,n),e.child;case 6:return t===null&&$S(e),null;case 13:return aF(t,e,n);case 4:return zT(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$d(e,null,r,n):sr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zi(r,i),$P(t,e,r,i,n);case 7:return sr(t,e,e.pendingProps,n),e.child;case 8:return sr(t,e,e.pendingProps.children,n),e.child;case 12:return sr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Pt(Ov,r._currentValue),r._currentValue=s,a!==null)if(ba(a.value,s)){if(a.children===i.children&&!Or.current){e=Ys(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Ms(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),RS(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(ce(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),RS(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}sr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,od(e,n),i=Ri(i),r=r(i),e.flags|=1,sr(t,e,r,n),e.child;case 14:return r=e.type,i=Zi(r,e.pendingProps),i=Zi(r.type,i),RP(t,e,r,i,n);case 15:return tF(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zi(r,i),Jy(t,e),e.tag=1,Nr(r)?(t=!0,Tv(e)):t=!1,od(e,n),J3(e,r,i),DS(e,r,i,n),BS(null,e,r,!0,t,n);case 19:return sF(t,e,n);case 22:return nF(t,e,n)}throw Error(ce(156,e.tag))};function _F(t,e){return Y5(t,e)}function dZ(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ai(t,e,n,r){return new dZ(t,e,n,r)}function nk(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fZ(t){if(typeof t=="function")return nk(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wT)return 11;if(t===_T)return 14}return 2}function rl(t,e){var n=t.alternate;return n===null?(n=Ai(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function tv(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")nk(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Fu:return _c(n.children,i,a,e);case bT:s=8,i|=8;break;case oS:return t=Ai(12,n,e,i|2),t.elementType=oS,t.lanes=a,t;case lS:return t=Ai(13,n,e,i),t.elementType=lS,t.lanes=a,t;case cS:return t=Ai(19,n,e,i),t.elementType=cS,t.lanes=a,t;case P5:return Lx(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case O5:s=10;break e;case N5:s=9;break e;case wT:s=11;break e;case _T:s=14;break e;case Co:s=16,r=null;break e}throw Error(ce(130,t==null?t:typeof t,""))}return e=Ai(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function _c(t,e,n,r){return t=Ai(7,t,r,e),t.lanes=n,t}function Lx(t,e,n,r){return t=Ai(22,t,r,e),t.elementType=P5,t.lanes=n,t.stateNode={isHidden:!1},t}function p_(t,e,n){return t=Ai(6,t,null,e),t.lanes=n,t}function m_(t,e,n){return e=Ai(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hZ(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yw(0),this.expirationTimes=Yw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function rk(t,e,n,r,i,a,s,o,l){return t=new hZ(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ai(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},BT(a),t}function pZ(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function SF(t){if(!t)return ul;t=t._reactInternals;e:{if(Zc(t)!==t||t.tag!==1)throw Error(ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ce(171))}if(t.tag===1){var n=t.type;if(Nr(n))return S3(t,n,e)}return e}function EF(t,e,n,r,i,a,s,o,l){return t=rk(n,r,!0,t,i,a,s,o,l),t.context=SF(null),n=t.current,r=dr(),i=nl(n),a=Ms(r,i),a.callback=e??null,el(n,a,i),t.current.lanes=i,Gm(t,i,r),Pr(t,r),t}function Fx(t,e,n,r){var i=e.current,a=dr(),s=nl(i);return n=SF(n),e.context===null?e.context=n:e.pendingContext=n,e=Ms(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=el(i,e,s),t!==null&&(ha(t,i,s,a),Yy(t,i,s)),s}function Bv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function GP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ik(t,e){GP(t,e),(t=t.alternate)&&GP(t,e)}function mZ(){return null}var jF=typeof reportError=="function"?reportError:function(t){console.error(t)};function ak(t){this._internalRoot=t}Bx.prototype.render=ak.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ce(409));Fx(t,e,null,null)};Bx.prototype.unmount=ak.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Rc(function(){Fx(null,t,null,null)}),e[Gs]=null}};function Bx(t){this._internalRoot=t}Bx.prototype.unstable_scheduleHydration=function(t){if(t){var e=n3();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Io.length&&e!==0&&e<Io[n].priority;n++);Io.splice(n,0,t),n===0&&i3(t)}};function sk(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function KP(){}function gZ(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=Bv(s);a.call(c)}}var s=EF(e,r,t,0,null,!1,!1,"",KP);return t._reactRootContainer=s,t[Gs]=s.current,Pp(t.nodeType===8?t.parentNode:t),Rc(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=Bv(l);o.call(c)}}var l=rk(t,0,!1,null,null,!1,!1,"",KP);return t._reactRootContainer=l,t[Gs]=l.current,Pp(t.nodeType===8?t.parentNode:t),Rc(function(){Fx(e,l,n,r)}),l}function Ux(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Bv(s);o.call(l)}}Fx(e,s,t,i)}else s=gZ(n,e,t,i,r);return Bv(s)}e3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ih(e.pendingLanes);n!==0&&(jT(e,n|1),Pr(e,ln()),!(ut&6)&&(Dd=ln()+500,Cl()))}break;case 13:Rc(function(){var r=Ks(t,1);if(r!==null){var i=dr();ha(r,t,1,i)}}),ik(t,1)}};AT=function(t){if(t.tag===13){var e=Ks(t,134217728);if(e!==null){var n=dr();ha(e,t,134217728,n)}ik(t,134217728)}};t3=function(t){if(t.tag===13){var e=nl(t),n=Ks(t,e);if(n!==null){var r=dr();ha(n,t,e,r)}ik(t,e)}};n3=function(){return _t};r3=function(t,e){var n=_t;try{return _t=t,e()}finally{_t=n}};xS=function(t,e,n){switch(e){case"input":if(fS(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Px(r);if(!i)throw Error(ce(90));$5(r),fS(r,i)}}}break;case"textarea":M5(t,n);break;case"select":e=n.value,e!=null&&rd(t,!!n.multiple,e,!1)}};H5=QT;V5=Rc;var yZ={usingClientEntryPoint:!1,Events:[Ym,Hu,Px,z5,U5,QT]},dh={findFiberByHostInstance:lc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vZ={bundleType:dh.bundleType,version:dh.version,rendererPackageName:dh.rendererPackageName,rendererConfig:dh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:co.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=G5(t),t===null?null:t.stateNode},findFiberByHostInstance:dh.findFiberByHostInstance||mZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zg.isDisabled&&Zg.supportsFiber)try{kx=Zg.inject(vZ),Qa=Zg}catch{}}fi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yZ;fi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sk(e))throw Error(ce(200));return pZ(t,e,null,n)};fi.createRoot=function(t,e){if(!sk(t))throw Error(ce(299));var n=!1,r="",i=jF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=rk(t,1,!1,null,null,n,!1,r,i),t[Gs]=e.current,Pp(t.nodeType===8?t.parentNode:t),new ak(e)};fi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ce(188)):(t=Object.keys(t).join(","),Error(ce(268,t)));return t=G5(e),t=t===null?null:t.stateNode,t};fi.flushSync=function(t){return Rc(t)};fi.hydrate=function(t,e,n){if(!zx(e))throw Error(ce(200));return Ux(null,t,e,!0,n)};fi.hydrateRoot=function(t,e,n){if(!sk(t))throw Error(ce(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=jF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=EF(e,null,t,1,n??null,i,!1,a,s),t[Gs]=e.current,Pp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Bx(e)};fi.render=function(t,e,n){if(!zx(e))throw Error(ce(200));return Ux(null,t,e,!1,n)};fi.unmountComponentAtNode=function(t){if(!zx(t))throw Error(ce(40));return t._reactRootContainer?(Rc(function(){Ux(null,null,t,!1,function(){t._reactRootContainer=null,t[Gs]=null})}),!0):!1};fi.unstable_batchedUpdates=QT;fi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!zx(n))throw Error(ce(200));if(t==null||t._reactInternals===void 0)throw Error(ce(38));return Ux(t,e,n,!1,r)};fi.version="18.3.1-next-f1338f8080-20240426";function AF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AF)}catch(t){console.error(t)}}AF(),A5.exports=fi;var Jc=A5.exports;const TF=at(Jc);var kF,YP=Jc;kF=YP.createRoot,YP.hydrateRoot;var Hx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Vx=typeof window>"u"||"Deno"in globalThis;function Ji(){}function xZ(t,e){return typeof t=="function"?t(e):t}function bZ(t){return typeof t=="number"&&t>=0&&t!==1/0}function wZ(t,e){return Math.max(t+(e||0)-Date.now(),0)}function XP(t,e){return typeof t=="function"?t(e):t}function _Z(t,e){return typeof t=="function"?t(e):t}function ZP(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:s,stale:o}=t;if(s){if(r){if(e.queryHash!==ok(s,e.options))return!1}else if(!Up(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||a&&!a(e))}function JP(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(zp(e.options.mutationKey)!==zp(a))return!1}else if(!Up(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function ok(t,e){return((e==null?void 0:e.queryKeyHashFn)||zp)(t)}function zp(t){return JSON.stringify(t,(e,n)=>JS(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Up(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Up(t[n],e[n])):!1}function CF(t,e){if(t===e)return t;const n=QP(t)&&QP(e);if(n||JS(t)&&JS(e)){const r=n?t:Object.keys(t),i=r.length,a=n?e:Object.keys(e),s=a.length,o=n?[]:{};let l=0;for(let c=0;c<s;c++){const d=n?c:a[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(o[d]=void 0,l++):(o[d]=CF(t[d],e[d]),o[d]===t[d]&&t[d]!==void 0&&l++)}return i===s&&l===i?t:o}return e}function QP(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function JS(t){if(!eI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!eI(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function eI(t){return Object.prototype.toString.call(t)==="[object Object]"}function SZ(t){return new Promise(e=>{setTimeout(e,t)})}function EZ(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?CF(t,e):e}function jZ(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function AZ(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var lk=Symbol();function OF(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===lk?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var gc,Do,_d,a5,TZ=(a5=class extends Hx{constructor(){super();vt(this,gc);vt(this,Do);vt(this,_d);nt(this,_d,e=>{if(!Vx&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){te(this,Do)||this.setEventListener(te(this,_d))}onUnsubscribe(){var e;this.hasListeners()||((e=te(this,Do))==null||e.call(this),nt(this,Do,void 0))}setEventListener(e){var n;nt(this,_d,e),(n=te(this,Do))==null||n.call(this),nt(this,Do,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){te(this,gc)!==e&&(nt(this,gc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof te(this,gc)=="boolean"?te(this,gc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},gc=new WeakMap,Do=new WeakMap,_d=new WeakMap,a5),NF=new TZ,Sd,Lo,Ed,s5,kZ=(s5=class extends Hx{constructor(){super();vt(this,Sd,!0);vt(this,Lo);vt(this,Ed);nt(this,Ed,e=>{if(!Vx&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){te(this,Lo)||this.setEventListener(te(this,Ed))}onUnsubscribe(){var e;this.hasListeners()||((e=te(this,Lo))==null||e.call(this),nt(this,Lo,void 0))}setEventListener(e){var n;nt(this,Ed,e),(n=te(this,Lo))==null||n.call(this),nt(this,Lo,e(this.setOnline.bind(this)))}setOnline(e){te(this,Sd)!==e&&(nt(this,Sd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return te(this,Sd)}},Sd=new WeakMap,Lo=new WeakMap,Ed=new WeakMap,s5),zv=new kZ;function CZ(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function OZ(t){return Math.min(1e3*2**t,3e4)}function PF(t){return(t??"online")==="online"?zv.isOnline():!0}var IF=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function g_(t){return t instanceof IF}function $F(t){let e=!1,n=0,r=!1,i;const a=CZ(),s=g=>{var b;r||(h(new IF(g)),(b=t.abort)==null||b.call(t))},o=()=>{e=!0},l=()=>{e=!1},c=()=>NF.isFocused()&&(t.networkMode==="always"||zv.isOnline())&&t.canRun(),d=()=>PF(t.networkMode)&&t.canRun(),f=g=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,g),i==null||i(),a.resolve(g))},h=g=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,g),i==null||i(),a.reject(g))},p=()=>new Promise(g=>{var b;i=x=>{(r||c())&&g(x)},(b=t.onPause)==null||b.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),m=()=>{if(r)return;let g;const b=n===0?t.initialPromise:void 0;try{g=b??t.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(f).catch(x=>{var E;if(r)return;const v=t.retry??(Vx?0:3),y=t.retryDelay??OZ,w=typeof y=="function"?y(n,x):y,_=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,x);if(e||!_){h(x);return}n++,(E=t.onFail)==null||E.call(t,n,x),SZ(w).then(()=>c()?void 0:p()).then(()=>{e?h(x):m()})})};return{promise:a,cancel:s,continue:()=>(i==null||i(),a),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?m():p().then(m),a)}}function NZ(){let t=[],e=0,n=o=>{o()},r=o=>{o()},i=o=>setTimeout(o,0);const a=o=>{e?t.push(o):i(()=>{n(o)})},s=()=>{const o=t;t=[],o.length&&i(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||s()}return l},batchCalls:o=>(...l)=>{a(()=>{o(...l)})},schedule:a,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var or=NZ(),yc,o5,RF=(o5=class{constructor(){vt(this,yc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),bZ(this.gcTime)&&nt(this,yc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Vx?1/0:5*60*1e3))}clearGcTimeout(){te(this,yc)&&(clearTimeout(te(this,yc)),nt(this,yc,void 0))}},yc=new WeakMap,o5),jd,Ad,wi,Gn,Vm,vc,ea,Ss,l5,PZ=(l5=class extends RF{constructor(e){super();vt(this,ea);vt(this,jd);vt(this,Ad);vt(this,wi);vt(this,Gn);vt(this,Vm);vt(this,vc);nt(this,vc,!1),nt(this,Vm,e.defaultOptions),this.setOptions(e.options),this.observers=[],nt(this,wi,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,nt(this,jd,$Z(this.options)),this.state=e.state??te(this,jd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=te(this,Gn))==null?void 0:e.promise}setOptions(e){this.options={...te(this,Vm),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&te(this,wi).remove(this)}setData(e,n){const r=EZ(this.state.data,e,this.options);return Hn(this,ea,Ss).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Hn(this,ea,Ss).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=te(this,Gn))==null?void 0:r.promise;return(i=te(this,Gn))==null||i.cancel(e),n?n.then(Ji).catch(Ji):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(te(this,jd))}isActive(){return this.observers.some(e=>_Z(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!wZ(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=te(this,Gn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=te(this,Gn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),te(this,wi).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(te(this,Gn)&&(te(this,vc)?te(this,Gn).cancel({revert:!0}):te(this,Gn).cancelRetry()),this.scheduleGc()),te(this,wi).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Hn(this,ea,Ss).call(this,{type:"invalidate"})}fetch(e,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(te(this,Gn))return te(this,Gn).continueRetry(),te(this,Gn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(nt(this,vc,!0),r.signal)})},a=()=>{const f=OF(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return i(h),nt(this,vc,!1),this.options.persister?this.options.persister(f,h,this):f(h)},s={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(s),(l=this.options.behavior)==null||l.onFetch(s,this),nt(this,Ad,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=s.fetchOptions)==null?void 0:c.meta))&&Hn(this,ea,Ss).call(this,{type:"fetch",meta:(d=s.fetchOptions)==null?void 0:d.meta});const o=f=>{var h,p,m,g;g_(f)&&f.silent||Hn(this,ea,Ss).call(this,{type:"error",error:f}),g_(f)||((p=(h=te(this,wi).config).onError)==null||p.call(h,f,this),(g=(m=te(this,wi).config).onSettled)==null||g.call(m,this.state.data,f,this)),this.scheduleGc()};return nt(this,Gn,$F({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,p,m,g;if(f===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(b){o(b);return}(p=(h=te(this,wi).config).onSuccess)==null||p.call(h,f,this),(g=(m=te(this,wi).config).onSettled)==null||g.call(m,f,this.state.error,this),this.scheduleGc()},onError:o,onFail:(f,h)=>{Hn(this,ea,Ss).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Hn(this,ea,Ss).call(this,{type:"pause"})},onContinue:()=>{Hn(this,ea,Ss).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),te(this,Gn).start()}},jd=new WeakMap,Ad=new WeakMap,wi=new WeakMap,Gn=new WeakMap,Vm=new WeakMap,vc=new WeakMap,ea=new WeakSet,Ss=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...IZ(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return g_(i)&&i.revert&&te(this,Ad)?{...te(this,Ad),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),or.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),te(this,wi).notify({query:this,type:"updated",action:e})})},l5);function IZ(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:PF(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function $Z(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ha,c5,RZ=(c5=class extends Hx{constructor(e={}){super();vt(this,Ha);this.config=e,nt(this,Ha,new Map)}build(e,n,r){const i=n.queryKey,a=n.queryHash??ok(i,n);let s=this.get(a);return s||(s=new PZ({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){te(this,Ha).has(e.queryHash)||(te(this,Ha).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=te(this,Ha).get(e.queryHash);n&&(e.destroy(),n===e&&te(this,Ha).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){or.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return te(this,Ha).get(e)}getAll(){return[...te(this,Ha).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>ZP(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>ZP(e,r)):n}notify(e){or.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){or.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){or.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ha=new WeakMap,c5),Va,ar,xc,Wa,jo,u5,MZ=(u5=class extends RF{constructor(e){super();vt(this,Wa);vt(this,Va);vt(this,ar);vt(this,xc);this.mutationId=e.mutationId,nt(this,ar,e.mutationCache),nt(this,Va,[]),this.state=e.state||DZ(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){te(this,Va).includes(e)||(te(this,Va).push(e),this.clearGcTimeout(),te(this,ar).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){nt(this,Va,te(this,Va).filter(n=>n!==e)),this.scheduleGc(),te(this,ar).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){te(this,Va).length||(this.state.status==="pending"?this.scheduleGc():te(this,ar).remove(this))}continue(){var e;return((e=te(this,xc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,s,o,l,c,d,f,h,p,m,g,b,x,v,y,w,_,E,A;nt(this,xc,$F({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(j,T)=>{Hn(this,Wa,jo).call(this,{type:"failed",failureCount:j,error:T})},onPause:()=>{Hn(this,Wa,jo).call(this,{type:"pause"})},onContinue:()=>{Hn(this,Wa,jo).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>te(this,ar).canRun(this)}));const n=this.state.status==="pending",r=!te(this,xc).canStart();try{if(!n){Hn(this,Wa,jo).call(this,{type:"pending",variables:e,isPaused:r}),await((a=(i=te(this,ar).config).onMutate)==null?void 0:a.call(i,e,this));const T=await((o=(s=this.options).onMutate)==null?void 0:o.call(s,e));T!==this.state.context&&Hn(this,Wa,jo).call(this,{type:"pending",context:T,variables:e,isPaused:r})}const j=await te(this,xc).start();return await((c=(l=te(this,ar).config).onSuccess)==null?void 0:c.call(l,j,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,j,e,this.state.context)),await((p=(h=te(this,ar).config).onSettled)==null?void 0:p.call(h,j,null,this.state.variables,this.state.context,this)),await((g=(m=this.options).onSettled)==null?void 0:g.call(m,j,null,e,this.state.context)),Hn(this,Wa,jo).call(this,{type:"success",data:j}),j}catch(j){try{throw await((x=(b=te(this,ar).config).onError)==null?void 0:x.call(b,j,e,this.state.context,this)),await((y=(v=this.options).onError)==null?void 0:y.call(v,j,e,this.state.context)),await((_=(w=te(this,ar).config).onSettled)==null?void 0:_.call(w,void 0,j,this.state.variables,this.state.context,this)),await((A=(E=this.options).onSettled)==null?void 0:A.call(E,void 0,j,e,this.state.context)),j}finally{Hn(this,Wa,jo).call(this,{type:"error",error:j})}}finally{te(this,ar).runNext(this)}}},Va=new WeakMap,ar=new WeakMap,xc=new WeakMap,Wa=new WeakSet,jo=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),or.batch(()=>{te(this,Va).forEach(r=>{r.onMutationUpdate(e)}),te(this,ar).notify({mutation:this,type:"updated",action:e})})},u5);function DZ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qr,Wm,d5,LZ=(d5=class extends Hx{constructor(e={}){super();vt(this,qr);vt(this,Wm);this.config=e,nt(this,qr,new Map),nt(this,Wm,Date.now())}build(e,n,r){const i=new MZ({mutationCache:this,mutationId:++$g(this,Wm)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Jg(e),r=te(this,qr).get(n)??[];r.push(e),te(this,qr).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Jg(e);if(te(this,qr).has(n)){const i=(r=te(this,qr).get(n))==null?void 0:r.filter(a=>a!==e);i&&(i.length===0?te(this,qr).delete(n):te(this,qr).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=te(this,qr).get(Jg(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=te(this,qr).get(Jg(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){or.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...te(this,qr).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>JP(n,r))}findAll(e={}){return this.getAll().filter(n=>JP(e,n))}notify(e){or.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return or.batch(()=>Promise.all(e.map(n=>n.continue().catch(Ji))))}},qr=new WeakMap,Wm=new WeakMap,d5);function Jg(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function tI(t){return{onFetch:(e,n)=>{var d,f,h,p,m;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((p=e.state.data)==null?void 0:p.pages)||[],s=((m=e.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const b=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},x=OF(e.options,e.fetchOptions),v=async(y,w,_)=>{if(g)return Promise.reject();if(w==null&&y.pages.length)return Promise.resolve(y);const E={queryKey:e.queryKey,pageParam:w,direction:_?"backward":"forward",meta:e.options.meta};b(E);const A=await x(E),{maxPages:j}=e.options,T=_?AZ:jZ;return{pages:T(y.pages,A,j),pageParams:T(y.pageParams,w,j)}};if(i&&a.length){const y=i==="backward",w=y?FZ:nI,_={pages:a,pageParams:s},E=w(r,_);o=await v(_,E,y)}else{const y=t??a.length;do{const w=l===0?s[0]??r.initialPageParam:nI(r,o);if(l>0&&w==null)break;o=await v(o,w),l++}while(l<y)}return o};e.options.persister?e.fetchFn=()=>{var g,b;return(b=(g=e.options).persister)==null?void 0:b.call(g,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function nI(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function FZ(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var tn,Fo,Bo,Td,kd,zo,Cd,Od,f5,BZ=(f5=class{constructor(t={}){vt(this,tn);vt(this,Fo);vt(this,Bo);vt(this,Td);vt(this,kd);vt(this,zo);vt(this,Cd);vt(this,Od);nt(this,tn,t.queryCache||new RZ),nt(this,Fo,t.mutationCache||new LZ),nt(this,Bo,t.defaultOptions||{}),nt(this,Td,new Map),nt(this,kd,new Map),nt(this,zo,0)}mount(){$g(this,zo)._++,te(this,zo)===1&&(nt(this,Cd,NF.subscribe(async t=>{t&&(await this.resumePausedMutations(),te(this,tn).onFocus())})),nt(this,Od,zv.subscribe(async t=>{t&&(await this.resumePausedMutations(),te(this,tn).onOnline())})))}unmount(){var t,e;$g(this,zo)._--,te(this,zo)===0&&((t=te(this,Cd))==null||t.call(this),nt(this,Cd,void 0),(e=te(this,Od))==null||e.call(this),nt(this,Od,void 0))}isFetching(t){return te(this,tn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return te(this,Fo).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=te(this,tn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=te(this,tn).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(XP(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return te(this,tn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=te(this,tn).get(r.queryHash),a=i==null?void 0:i.state.data,s=xZ(e,a);if(s!==void 0)return te(this,tn).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return or.batch(()=>te(this,tn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=te(this,tn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=te(this,tn);or.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=te(this,tn),r={type:"active",...t};return or.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=or.batch(()=>te(this,tn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Ji).catch(Ji)}invalidateQueries(t={},e={}){return or.batch(()=>{if(te(this,tn).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=or.batch(()=>te(this,tn).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Ji)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Ji)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=te(this,tn).build(this,e);return n.isStaleByTime(XP(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ji).catch(Ji)}fetchInfiniteQuery(t){return t.behavior=tI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ji).catch(Ji)}ensureInfiniteQueryData(t){return t.behavior=tI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return zv.isOnline()?te(this,Fo).resumePausedMutations():Promise.resolve()}getQueryCache(){return te(this,tn)}getMutationCache(){return te(this,Fo)}getDefaultOptions(){return te(this,Bo)}setDefaultOptions(t){nt(this,Bo,t)}setQueryDefaults(t,e){te(this,Td).set(zp(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...te(this,Td).values()];let n={};return e.forEach(r=>{Up(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){te(this,kd).set(zp(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...te(this,kd).values()];let n={};return e.forEach(r=>{Up(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...te(this,Bo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ok(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===lk&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...te(this,Bo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){te(this,tn).clear(),te(this,Fo).clear()}},tn=new WeakMap,Fo=new WeakMap,Bo=new WeakMap,Td=new WeakMap,kd=new WeakMap,zo=new WeakMap,Cd=new WeakMap,Od=new WeakMap,f5),zZ=S.createContext(void 0),UZ=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(zZ.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hp(){return Hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hp.apply(this,arguments)}var Vo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vo||(Vo={}));const rI="popstate";function HZ(t){t===void 0&&(t={});function e(i,a){let{pathname:s="/",search:o="",hash:l=""}=Qc(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),QS("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let s=i.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");o=c===-1?l:l.slice(0,c)}return o+"#"+(typeof a=="string"?a:Uv(a))}function r(i,a){ck(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return WZ(e,n,r,t)}function dn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ck(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VZ(){return Math.random().toString(36).substr(2,8)}function iI(t,e){return{usr:t.state,key:t.key,idx:e}}function QS(t,e,n,r){return n===void 0&&(n=null),Hp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qc(e):e,{state:n,key:e&&e.key||r||VZ()})}function Uv(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Qc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function WZ(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=Vo.Pop,l=null,c=d();c==null&&(c=0,s.replaceState(Hp({},s.state,{idx:c}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=Vo.Pop;let b=d(),x=b==null?null:b-c;c=b,l&&l({action:o,location:g.location,delta:x})}function h(b,x){o=Vo.Push;let v=QS(g.location,b,x);n&&n(v,b),c=d()+1;let y=iI(v,c),w=g.createHref(v);try{s.pushState(y,"",w)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(w)}a&&l&&l({action:o,location:g.location,delta:1})}function p(b,x){o=Vo.Replace;let v=QS(g.location,b,x);n&&n(v,b),c=d();let y=iI(v,c),w=g.createHref(v);s.replaceState(y,"",w),a&&l&&l({action:o,location:g.location,delta:0})}function m(b){let x=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof b=="string"?b:Uv(b);return v=v.replace(/ $/,"%20"),dn(x,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,x)}let g={get action(){return o},get location(){return t(i,s)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(rI,f),l=b,()=>{i.removeEventListener(rI,f),l=null}},createHref(b){return e(i,b)},createURL:m,encodeLocation(b){let x=m(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(b){return s.go(b)}};return g}var aI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(aI||(aI={}));function qZ(t,e,n){return n===void 0&&(n="/"),GZ(t,e,n,!1)}function GZ(t,e,n,r){let i=typeof e=="string"?Qc(e):e,a=uk(i.pathname||"/",n);if(a==null)return null;let s=MF(t);KZ(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=aJ(a);o=rJ(s[l],c,r)}return o}function MF(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(dn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=il([r,l.relativePath]),d=n.concat(l);a.children&&a.children.length>0&&(dn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),MF(a.children,e,d,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:tJ(c,a.index),routesMeta:d})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of DF(a.path))i(a,s,l)}),e}function DF(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=DF(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function KZ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nJ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const YZ=/^:[\w-]+$/,XZ=3,ZZ=2,JZ=1,QZ=10,eJ=-2,sI=t=>t==="*";function tJ(t,e){let n=t.split("/"),r=n.length;return n.some(sI)&&(r+=eJ),e&&(r+=ZZ),n.filter(i=>!sI(i)).reduce((i,a)=>i+(YZ.test(a)?XZ:a===""?JZ:QZ),r)}function nJ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function rJ(t,e,n){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,d=a==="/"?e:e.slice(a.length)||"/",f=oI({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=oI({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:il([a,f.pathname]),pathnameBase:cJ(il([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=il([a,f.pathnameBase]))}return s}function oI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=iJ(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=o[f]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=o[f];return p&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function iJ(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ck(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function aJ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ck(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function uk(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function sJ(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Qc(t):t;return{pathname:n?n.startsWith("/")?n:oJ(n,e):e,search:uJ(r),hash:dJ(i)}}function oJ(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function y_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lJ(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dk(t,e){let n=lJ(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function fk(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Qc(t):(i=Hp({},t),dn(!i.pathname||!i.pathname.includes("?"),y_("?","pathname","search",i)),dn(!i.pathname||!i.pathname.includes("#"),y_("#","pathname","hash",i)),dn(!i.search||!i.search.includes("#"),y_("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=sJ(i,o),c=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const il=t=>t.join("/").replace(/\/\/+/g,"/"),cJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const LF=["post","put","patch","delete"];new Set(LF);const hJ=["get",...LF];new Set(hJ);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vp(){return Vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vp.apply(this,arguments)}const hk=S.createContext(null),pJ=S.createContext(null),Ol=S.createContext(null),Wx=S.createContext(null),Nl=S.createContext({outlet:null,matches:[],isDataRoute:!1}),FF=S.createContext(null);function mJ(t,e){let{relative:n}=e===void 0?{}:e;kf()||dn(!1);let{basename:r,navigator:i}=S.useContext(Ol),{hash:a,pathname:s,search:o}=zF(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:il([r,s])),i.createHref({pathname:l,search:o,hash:a})}function kf(){return S.useContext(Wx)!=null}function Pl(){return kf()||dn(!1),S.useContext(Wx).location}function BF(t){S.useContext(Ol).static||S.useLayoutEffect(t)}function pi(){let{isDataRoute:t}=S.useContext(Nl);return t?kJ():gJ()}function gJ(){kf()||dn(!1);let t=S.useContext(hk),{basename:e,future:n,navigator:r}=S.useContext(Ol),{matches:i}=S.useContext(Nl),{pathname:a}=Pl(),s=JSON.stringify(dk(i,n.v7_relativeSplatPath)),o=S.useRef(!1);return BF(()=>{o.current=!0}),S.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=fk(c,JSON.parse(s),a,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:il([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,s,a,t])}function zF(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=S.useContext(Ol),{matches:i}=S.useContext(Nl),{pathname:a}=Pl(),s=JSON.stringify(dk(i,r.v7_relativeSplatPath));return S.useMemo(()=>fk(t,JSON.parse(s),a,n==="path"),[t,s,a,n])}function yJ(t,e){return vJ(t,e)}function vJ(t,e,n,r){kf()||dn(!1);let{navigator:i}=S.useContext(Ol),{matches:a}=S.useContext(Nl),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Pl(),d;if(e){var f;let b=typeof e=="string"?Qc(e):e;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||dn(!1),d=b}else d=c;let h=d.pathname||"/",p=h;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=qZ(t,{pathname:p}),g=SJ(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:il([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:il([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,n,r);return e&&g?S.createElement(Wx.Provider,{value:{location:Vp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Vo.Pop}},g):g}function xJ(){let t=TJ(),e=fJ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,null)}const bJ=S.createElement(xJ,null);class wJ extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(Nl.Provider,{value:this.props.routeContext},S.createElement(FF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _J(t){let{routeContext:e,match:n,children:r}=t,i=S.useContext(hk);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Nl.Provider,{value:e},r)}function SJ(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||dn(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:p}=n,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,m=!1,g=null,b=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||bJ,l&&(c<0&&h===0?(m=!0,b=null):c===h&&(m=!0,b=f.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,h+1)),v=()=>{let y;return p?y=g:m?y=b:f.route.Component?y=S.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,S.createElement(_J,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:y})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?S.createElement(wJ,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}var UF=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(UF||{}),Hv=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Hv||{});function EJ(t){let e=S.useContext(hk);return e||dn(!1),e}function jJ(t){let e=S.useContext(pJ);return e||dn(!1),e}function AJ(t){let e=S.useContext(Nl);return e||dn(!1),e}function HF(t){let e=AJ(),n=e.matches[e.matches.length-1];return n.route.id||dn(!1),n.route.id}function TJ(){var t;let e=S.useContext(FF),n=jJ(Hv.UseRouteError),r=HF(Hv.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function kJ(){let{router:t}=EJ(UF.UseNavigateStable),e=HF(Hv.UseNavigateStable),n=S.useRef(!1);return BF(()=>{n.current=!0}),S.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Vp({fromRouteId:e},a)))},[t,e])}function CJ(t){let{to:e,replace:n,state:r,relative:i}=t;kf()||dn(!1);let{future:a,static:s}=S.useContext(Ol),{matches:o}=S.useContext(Nl),{pathname:l}=Pl(),c=pi(),d=fk(e,dk(o,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return S.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function Fa(t){dn(!1)}function OJ(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Vo.Pop,navigator:a,static:s=!1,future:o}=t;kf()&&dn(!1);let l=e.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:l,navigator:a,static:s,future:Vp({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof r=="string"&&(r=Qc(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=r,g=S.useMemo(()=>{let b=uk(d,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:m},navigationType:i}},[l,d,f,h,p,m,i]);return g==null?null:S.createElement(Ol.Provider,{value:c},S.createElement(Wx.Provider,{children:n,value:g}))}function NJ(t){let{children:e,location:n}=t;return yJ(eE(e),n)}new Promise(()=>{});function eE(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let a=[...e,i];if(r.type===S.Fragment){n.push.apply(n,eE(r.props.children,a));return}r.type!==Fa&&dn(!1),!r.props.index||!r.props.children||dn(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=eE(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tE(){return tE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tE.apply(this,arguments)}function PJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function IJ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $J(t,e){return t.button===0&&(!e||e==="_self")&&!IJ(t)}function nE(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function RJ(t,e){let n=nE(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const MJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],DJ="6";try{window.__reactRouterVersion=DJ}catch{}const LJ="startTransition",lI=E5[LJ];function FJ(t){let{basename:e,children:n,future:r,window:i}=t,a=S.useRef();a.current==null&&(a.current=HZ({window:i,v5Compat:!0}));let s=a.current,[o,l]=S.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},d=S.useCallback(f=>{c&&lI?lI(()=>l(f)):l(f)},[l,c]);return S.useLayoutEffect(()=>s.listen(d),[s,d]),S.createElement(OJ,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}const BJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ep=S.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,h=PJ(e,MJ),{basename:p}=S.useContext(Ol),m,g=!1;if(typeof c=="string"&&zJ.test(c)&&(m=c,BJ))try{let y=new URL(window.location.href),w=c.startsWith("//")?new URL(y.protocol+c):new URL(c),_=uk(w.pathname,p);w.origin===y.origin&&_!=null?c=_+w.search+w.hash:g=!0}catch{}let b=mJ(c,{relative:i}),x=UJ(c,{replace:s,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:f});function v(y){r&&r(y),y.defaultPrevented||x(y)}return S.createElement("a",tE({},h,{href:m||b,onClick:g||a?r:v,ref:n,target:l}))});var cI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(cI||(cI={}));var uI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(uI||(uI={}));function UJ(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=pi(),c=Pl(),d=zF(t,{relative:s});return S.useCallback(f=>{if($J(f,n)){f.preventDefault();let h=r!==void 0?r:Uv(c)===Uv(d);l(t,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,d,r,i,n,t,a,s,o])}function VF(t){let e=S.useRef(nE(t)),n=S.useRef(!1),r=Pl(),i=S.useMemo(()=>RJ(r.search,n.current?null:e.current),[r.search]),a=pi(),s=S.useCallback((o,l)=>{const c=nE(typeof o=="function"?o(i):o);n.current=!0,a("?"+c,l)},[a,i]);return[i,s]}var Vv=["light","dark"],pk="(prefers-color-scheme: dark)",HJ=typeof window>"u",mk=S.createContext(void 0),VJ={setTheme:t=>{},themes:[]},WJ=()=>{var t;return(t=S.useContext(mk))!=null?t:VJ},qJ=t=>S.useContext(mk)?t.children:S.createElement(KJ,{...t}),GJ=["light","dark"],KJ=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:i="theme",themes:a=GJ,defaultTheme:s=n?"system":"light",attribute:o="data-theme",value:l,children:c,nonce:d})=>{let[f,h]=S.useState(()=>dI(i,s)),[p,m]=S.useState(()=>dI(i)),g=l?Object.values(l):a,b=S.useCallback(w=>{let _=w;if(!_)return;w==="system"&&n&&(_=fI());let E=l?l[_]:_,A=e?XJ():null,j=document.documentElement;if(o==="class"?(j.classList.remove(...g),E&&j.classList.add(E)):E?j.setAttribute(o,E):j.removeAttribute(o),r){let T=Vv.includes(s)?s:null,C=Vv.includes(_)?_:T;j.style.colorScheme=C}A==null||A()},[]),x=S.useCallback(w=>{let _=typeof w=="function"?w(w):w;h(_);try{localStorage.setItem(i,_)}catch{}},[t]),v=S.useCallback(w=>{let _=fI(w);m(_),f==="system"&&n&&!t&&b("system")},[f,t]);S.useEffect(()=>{let w=window.matchMedia(pk);return w.addListener(v),v(w),()=>w.removeListener(v)},[v]),S.useEffect(()=>{let w=_=>{if(_.key!==i)return;let E=_.newValue||s;x(E)};return window.addEventListener("storage",w),()=>window.removeEventListener("storage",w)},[x]),S.useEffect(()=>{b(t??f)},[t,f]);let y=S.useMemo(()=>({theme:f,setTheme:x,forcedTheme:t,resolvedTheme:f==="system"?p:f,themes:n?[...a,"system"]:a,systemTheme:n?p:void 0}),[f,x,t,p,n,a]);return S.createElement(mk.Provider,{value:y},S.createElement(YJ,{forcedTheme:t,disableTransitionOnChange:e,enableSystem:n,enableColorScheme:r,storageKey:i,themes:a,defaultTheme:s,attribute:o,value:l,children:c,attrs:g,nonce:d}),c)},YJ=S.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:s,attrs:o,nonce:l})=>{let c=a==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?Vv.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(m,g=!1,b=!0)=>{let x=s?s[m]:m,v=g?m+"|| ''":`'${x}'`,y="";return i&&b&&!g&&Vv.includes(m)&&(y+=`d.style.colorScheme = '${m}';`),n==="class"?g||x?y+=`c.add(${v})`:y+="null":x&&(y+=`d[s](n,${v})`),y},p=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${pk}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}${c?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return S.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})}),dI=(t,e)=>{if(HJ)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},XJ=()=>{let t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},fI=t=>(t||(t=window.matchMedia(pk)),t.matches?"dark":"light"),ZJ=typeof Element<"u",JJ=typeof Map=="function",QJ=typeof Set=="function",eQ=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function nv(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!nv(t[r],e[r]))return!1;return!0}var a;if(JJ&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(a=t.entries();!(r=a.next()).done;)if(!e.has(r.value[0]))return!1;for(a=t.entries();!(r=a.next()).done;)if(!nv(r.value[1],e.get(r.value[0])))return!1;return!0}if(QJ&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(a=t.entries();!(r=a.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(eQ&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(ZJ&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!nv(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var tQ=function(e,n){try{return nv(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const nQ=at(tQ);var rQ=function(t,e,n,r,i,a,s,o){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,s,o],d=0;l=new Error(e.replace(/%s/g,function(){return c[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},iQ=rQ;const hI=at(iQ);var aQ=function(e,n,r,i){var a=r?r.call(i,e,n):void 0;if(a!==void 0)return!!a;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),c=0;c<s.length;c++){var d=s[c];if(!l(d))return!1;var f=e[d],h=n[d];if(a=r?r.call(i,f,h,d):void 0,a===!1||a===void 0&&f!==h)return!1}return!0};const sQ=at(aQ);var WF=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(WF||{}),v_={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},pI=Object.values(WF),gk={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},oQ=Object.entries(gk).reduce((t,[e,n])=>(t[n]=e,t),{}),la="data-rh",cd={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},ud=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},lQ=t=>{let e=ud(t,"title");const n=ud(t,cd.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=ud(t,cd.DEFAULT_TITLE);return e||r||void 0},cQ=t=>ud(t,cd.ON_CHANGE_CLIENT_STATE)||(()=>{}),x_=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),uQ=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let a=0;a<i.length;a+=1){const o=i[a].toLowerCase();if(t.indexOf(o)!==-1&&r[o])return n.concat(r)}}return n},[]),dQ=t=>console&&typeof console.warn=="function"&&console.warn(t),fh=(t,e,n)=>{const r={};return n.filter(i=>Array.isArray(i[t])?!0:(typeof i[t]<"u"&&dQ(`Helmet: ${t} should be of type "Array". Instead found type "${typeof i[t]}"`),!1)).map(i=>i[t]).reverse().reduce((i,a)=>{const s={};a.filter(l=>{let c;const d=Object.keys(l);for(let h=0;h<d.length;h+=1){const p=d[h],m=p.toLowerCase();e.indexOf(m)!==-1&&!(c==="rel"&&l[c].toLowerCase()==="canonical")&&!(m==="rel"&&l[m].toLowerCase()==="stylesheet")&&(c=m),e.indexOf(p)!==-1&&(p==="innerHTML"||p==="cssText"||p==="itemprop")&&(c=p)}if(!c||!l[c])return!1;const f=l[c].toLowerCase();return r[c]||(r[c]={}),s[c]||(s[c]={}),r[c][f]?!1:(s[c][f]=!0,!0)}).reverse().forEach(l=>i.push(l));const o=Object.keys(s);for(let l=0;l<o.length;l+=1){const c=o[l],d={...r[c],...s[c]};r[c]=d}return i},[]).reverse()},fQ=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},hQ=t=>({baseTag:uQ(["href"],t),bodyAttributes:x_("bodyAttributes",t),defer:ud(t,cd.DEFER),encode:ud(t,cd.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:x_("htmlAttributes",t),linkTags:fh("link",["rel","href"],t),metaTags:fh("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:fh("noscript",["innerHTML"],t),onChangeClientState:cQ(t),scriptTags:fh("script",["src","innerHTML"],t),styleTags:fh("style",["cssText"],t),title:lQ(t),titleAttributes:x_("titleAttributes",t),prioritizeSeoTags:fQ(t,cd.PRIORITIZE_SEO_TAGS)}),qF=t=>Array.isArray(t)?t.join(""):t,pQ=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},b_=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(pQ(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},mI=(t,e)=>({...t,[e]:void 0}),mQ=["noscript","script","style"],rE=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),GF=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),gQ=(t,e,n,r)=>{const i=GF(n),a=qF(e);return i?`<${t} ${la}="true" ${i}>${rE(a,r)}</${t}>`:`<${t} ${la}="true">${rE(a,r)}</${t}>`},yQ=(t,e,n=!0)=>e.reduce((r,i)=>{const a=i,s=Object.keys(a).filter(c=>!(c==="innerHTML"||c==="cssText")).reduce((c,d)=>{const f=typeof a[d]>"u"?d:`${d}="${rE(a[d],n)}"`;return c?`${c} ${f}`:f},""),o=a.innerHTML||a.cssText||"",l=mQ.indexOf(t)===-1;return`${r}<${t} ${la}="true" ${s}${l?"/>":`>${o}</${t}>`}`},""),KF=(t,e={})=>Object.keys(t).reduce((n,r)=>{const i=gk[r];return n[i||r]=t[r],n},e),vQ=(t,e,n)=>{const r={key:e,[la]:!0},i=KF(n,r);return[M.createElement("title",i,e)]},rv=(t,e)=>e.map((n,r)=>{const i={key:r,[la]:!0};return Object.keys(n).forEach(a=>{const o=gk[a]||a;if(o==="innerHTML"||o==="cssText"){const l=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:l}}else i[o]=n[a]}),M.createElement(t,i)}),xi=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>vQ(t,e.title,e.titleAttributes),toString:()=>gQ(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>KF(e),toString:()=>GF(e)};default:return{toComponent:()=>rv(t,e),toString:()=>yQ(t,e,n)}}},xQ=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const i=b_(t,v_.meta),a=b_(e,v_.link),s=b_(n,v_.script);return{priorityMethods:{toComponent:()=>[...rv("meta",i.priority),...rv("link",a.priority),...rv("script",s.priority)],toString:()=>`${xi("meta",i.priority,r)} ${xi("link",a.priority,r)} ${xi("script",s.priority,r)}`},metaTags:i.default,linkTags:a.default,scriptTags:s.default}},bQ=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:a,styleTags:s,title:o="",titleAttributes:l,prioritizeSeoTags:c}=t;let{linkTags:d,metaTags:f,scriptTags:h}=t,p={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:p,linkTags:d,metaTags:f,scriptTags:h}=xQ(t)),{priority:p,base:xi("base",e,r),bodyAttributes:xi("bodyAttributes",n,r),htmlAttributes:xi("htmlAttributes",i,r),link:xi("link",d,r),meta:xi("meta",f,r),noscript:xi("noscript",a,r),script:xi("script",h,r),style:xi("style",s,r),title:xi("title",{title:o,titleAttributes:l},r)}},iE=bQ,Qg=[],YF=!!(typeof window<"u"&&window.document&&window.document.createElement),aE=class{constructor(t,e){H(this,"instances",[]);H(this,"canUseDOM",YF);H(this,"context");H(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?Qg:this.instances,add:t=>{(this.canUseDOM?Qg:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?Qg:this.instances).indexOf(t);(this.canUseDOM?Qg:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=iE({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},wQ={},XF=M.createContext(wQ),bc,ZF=(bc=class extends S.Component{constructor(n){super(n);H(this,"helmetData");this.helmetData=new aE(this.props.context||{},bc.canUseDOM)}render(){return M.createElement(XF.Provider,{value:this.helmetData.value},this.props.children)}},H(bc,"canUseDOM",YF),bc),hu=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${la}]`),i=[].slice.call(r),a=[];let s;return e&&e.length&&e.forEach(o=>{const l=document.createElement(t);for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c))if(c==="innerHTML")l.innerHTML=o.innerHTML;else if(c==="cssText")l.styleSheet?l.styleSheet.cssText=o.cssText:l.appendChild(document.createTextNode(o.cssText));else{const d=c,f=typeof o[d]>"u"?"":o[d];l.setAttribute(c,f)}l.setAttribute(la,"true"),i.some((c,d)=>(s=d,l.isEqualNode(c)))?i.splice(s,1):a.push(l)}),i.forEach(o=>{var l;return(l=o.parentNode)==null?void 0:l.removeChild(o)}),a.forEach(o=>n.appendChild(o)),{oldTags:i,newTags:a}},sE=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(la),i=r?r.split(","):[],a=[...i],s=Object.keys(e);for(const o of s){const l=e[o]||"";n.getAttribute(o)!==l&&n.setAttribute(o,l),i.indexOf(o)===-1&&i.push(o);const c=a.indexOf(o);c!==-1&&a.splice(c,1)}for(let o=a.length-1;o>=0;o-=1)n.removeAttribute(a[o]);i.length===a.length?n.removeAttribute(la):n.getAttribute(la)!==s.join(",")&&n.setAttribute(la,s.join(","))},_Q=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=qF(t)),sE("title",e)},gI=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:a,metaTags:s,noscriptTags:o,onChangeClientState:l,scriptTags:c,styleTags:d,title:f,titleAttributes:h}=t;sE("body",r),sE("html",i),_Q(f,h);const p={baseTag:hu("base",n),linkTags:hu("link",a),metaTags:hu("meta",s),noscriptTags:hu("noscript",o),scriptTags:hu("script",c),styleTags:hu("style",d)},m={},g={};Object.keys(p).forEach(b=>{const{newTags:x,oldTags:v}=p[b];x.length&&(m[b]=x),v.length&&(g[b]=p[b].oldTags)}),e&&e(),l(t,m,g)},hh=null,SQ=t=>{hh&&cancelAnimationFrame(hh),t.defer?hh=requestAnimationFrame(()=>{gI(t,()=>{hh=null})}):(gI(t),hh=null)},EQ=SQ,yI=class extends S.Component{constructor(){super(...arguments);H(this,"rendered",!1)}shouldComponentUpdate(e){return!sQ(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const i=hQ(e.get().map(a=>{const s={...a.props};return delete s.context,s}));ZF.canUseDOM?EQ(i):iE&&(r=iE(i)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},aS,jQ=(aS=class extends S.Component{shouldComponentUpdate(t){return!nQ(mI(this.props,"helmetData"),mI(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return hI(pI.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${pI.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),hI(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return M.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:i,...a}=r.props,s=Object.keys(a).reduce((l,c)=>(l[oQ[c]||c]=a[c],l),{});let{type:o}=r;switch(typeof o=="symbol"?o=o.toString():this.warnOnInvalidChildren(r,i),o){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,s,i);break;default:e=this.mapObjectTypeChildren(r,e,s,i);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof aE)){const i=r;r=new aE(i.context,!0),delete n.helmetData}return r?M.createElement(yI,{...n,context:r.value}):M.createElement(XF.Consumer,null,i=>M.createElement(yI,{...n,context:i}))}},H(aS,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),aS);const AQ=1,TQ=1e6;let w_=0;function kQ(){return w_=(w_+1)%Number.MAX_SAFE_INTEGER,w_.toString()}const __=new Map,vI=t=>{if(__.has(t))return;const e=setTimeout(()=>{__.delete(t),tp({type:"REMOVE_TOAST",toastId:t})},TQ);__.set(t,e)},CQ=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,AQ)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?vI(n):t.toasts.forEach(r=>{vI(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},iv=[];let av={toasts:[]};function tp(t){av=CQ(av,t),iv.forEach(e=>{e(av)})}function OQ({...t}){const e=kQ(),n=i=>tp({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>tp({type:"DISMISS_TOAST",toastId:e});return tp({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Vt(){const[t,e]=S.useState(av);return S.useEffect(()=>(iv.push(e),()=>{const n=iv.indexOf(e);n>-1&&iv.splice(n,1)}),[t]),{...t,toast:OQ,dismiss:n=>tp({type:"DISMISS_TOAST",toastId:n})}}function pe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function NQ(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function qx(...t){return e=>t.forEach(n=>NQ(n,e))}function it(...t){return S.useCallback(qx(...t),t)}function PQ(t,e=[]){let n=[];function r(a,s){const o=S.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||o,b=S.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:b,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||o,m=S.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,d]}const i=()=>{const a=n.map(s=>S.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,IQ(i,...e)]}function IQ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var dl=S.forwardRef((t,e)=>{const{children:n,...r}=t,i=S.Children.toArray(n),a=i.find($Q);if(a){const s=a.props.children,o=i.map(l=>l===a?S.Children.count(s)>1?S.Children.only(null):S.isValidElement(s)?s.props.children:null:l);return u.jsx(oE,{...r,ref:e,children:S.isValidElement(s)?S.cloneElement(s,void 0,o):null})}return u.jsx(oE,{...r,ref:e,children:n})});dl.displayName="Slot";var oE=S.forwardRef((t,e)=>{const{children:n,...r}=t;if(S.isValidElement(n)){const i=MQ(n);return S.cloneElement(n,{...RQ(r,n.props),ref:e?qx(e,i):i})}return S.Children.count(n)>1?S.Children.only(null):null});oE.displayName="SlotClone";var JF=({children:t})=>u.jsx(u.Fragment,{children:t});function $Q(t){return S.isValidElement(t)&&t.type===JF}function RQ(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...o)=>{a(...o),i(...o)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function MQ(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Gx(t){const e=t+"CollectionProvider",[n,r]=PQ(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=p=>{const{scope:m,children:g}=p,b=M.useRef(null),x=M.useRef(new Map).current;return u.jsx(i,{scope:m,itemMap:x,collectionRef:b,children:g})};s.displayName=e;const o=t+"CollectionSlot",l=M.forwardRef((p,m)=>{const{scope:g,children:b}=p,x=a(o,g),v=it(m,x.collectionRef);return u.jsx(dl,{ref:v,children:b})});l.displayName=o;const c=t+"CollectionItemSlot",d="data-radix-collection-item",f=M.forwardRef((p,m)=>{const{scope:g,children:b,...x}=p,v=M.useRef(null),y=it(m,v),w=a(c,g);return M.useEffect(()=>(w.itemMap.set(v,{ref:v,...x}),()=>void w.itemMap.delete(v))),u.jsx(dl,{[d]:"",ref:y,children:b})});f.displayName=c;function h(p){const m=a(t+"CollectionConsumer",p);return M.useCallback(()=>{const b=m.collectionRef.current;if(!b)return[];const x=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(m.itemMap.values()).sort((w,_)=>x.indexOf(w.ref.current)-x.indexOf(_.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:s,Slot:l,ItemSlot:f},h,r]}function DQ(t,e){const n=S.createContext(e),r=a=>{const{children:s,...o}=a,l=S.useMemo(()=>o,Object.values(o));return u.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function i(a){const s=S.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function ps(t,e=[]){let n=[];function r(a,s){const o=S.createContext(s),l=n.length;n=[...n,s];const c=f=>{var x;const{scope:h,children:p,...m}=f,g=((x=h==null?void 0:h[t])==null?void 0:x[l])||o,b=S.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:b,children:p})};c.displayName=a+"Provider";function d(f,h){var g;const p=((g=h==null?void 0:h[t])==null?void 0:g[l])||o,m=S.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[c,d]}const i=()=>{const a=n.map(s=>S.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,LQ(i,...e)]}function LQ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var FQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],$e=FQ.reduce((t,e)=>{const n=S.forwardRef((r,i)=>{const{asChild:a,...s}=r,o=a?dl:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(o,{...s,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function yk(t,e){t&&Jc.flushSync(()=>t.dispatchEvent(e))}function qt(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function BQ(t,e=globalThis==null?void 0:globalThis.document){const n=qt(t);S.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var zQ="DismissableLayer",lE="dismissableLayer.update",UQ="dismissableLayer.pointerDownOutside",HQ="dismissableLayer.focusOutside",xI,QF=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Cf=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:o,...l}=t,c=S.useContext(QF),[d,f]=S.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=S.useState({}),m=it(e,A=>f(A)),g=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(b),v=d?g.indexOf(d):-1,y=c.layersWithOutsidePointerEventsDisabled.size>0,w=v>=x,_=WQ(A=>{const j=A.target,T=[...c.branches].some(C=>C.contains(j));!w||T||(i==null||i(A),s==null||s(A),A.defaultPrevented||o==null||o())},h),E=qQ(A=>{const j=A.target;[...c.branches].some(C=>C.contains(j))||(a==null||a(A),s==null||s(A),A.defaultPrevented||o==null||o())},h);return BQ(A=>{v===c.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&o&&(A.preventDefault(),o()))},h),S.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(xI=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),bI(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=xI)}},[d,h,n,c]),S.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),bI())},[d,c]),S.useEffect(()=>{const A=()=>p({});return document.addEventListener(lE,A),()=>document.removeEventListener(lE,A)},[]),u.jsx($e.div,{...l,ref:m,style:{pointerEvents:y?w?"auto":"none":void 0,...t.style},onFocusCapture:pe(t.onFocusCapture,E.onFocusCapture),onBlurCapture:pe(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:pe(t.onPointerDownCapture,_.onPointerDownCapture)})});Cf.displayName=zQ;var VQ="DismissableLayerBranch",eB=S.forwardRef((t,e)=>{const n=S.useContext(QF),r=S.useRef(null),i=it(e,r);return S.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),u.jsx($e.div,{...t,ref:i})});eB.displayName=VQ;function WQ(t,e=globalThis==null?void 0:globalThis.document){const n=qt(t),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const a=o=>{if(o.target&&!r.current){let l=function(){tB(UQ,n,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function qQ(t,e=globalThis==null?void 0:globalThis.document){const n=qt(t),r=S.useRef(!1);return S.useEffect(()=>{const i=a=>{a.target&&!r.current&&tB(HQ,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function bI(){const t=new CustomEvent(lE);document.dispatchEvent(t)}function tB(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?yk(i,a):i.dispatchEvent(a)}var GQ=Cf,KQ=eB,An=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},YQ="Portal",Zm=S.forwardRef((t,e)=>{var o;const{container:n,...r}=t,[i,a]=S.useState(!1);An(()=>a(!0),[]);const s=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return s?TF.createPortal(u.jsx($e.div,{...r,ref:e}),s):null});Zm.displayName=YQ;function XQ(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var pr=t=>{const{present:e,children:n}=t,r=ZQ(e),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),a=it(r.ref,JQ(i));return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:a}):null};pr.displayName="Presence";function ZQ(t){const[e,n]=S.useState(),r=S.useRef({}),i=S.useRef(t),a=S.useRef("none"),s=t?"mounted":"unmounted",[o,l]=XQ(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const c=ey(r.current);a.current=o==="mounted"?c:"none"},[o]),An(()=>{const c=r.current,d=i.current;if(d!==t){const h=a.current,p=ey(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),An(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=p=>{const g=ey(r.current).includes(p.animationName);if(p.target===e&&g&&(l("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},h=p=>{p.target===e&&(a.current=ey(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:S.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function ey(t){return(t==null?void 0:t.animationName)||"none"}function JQ(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Xs({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=QQ({defaultProp:e,onChange:n}),a=t!==void 0,s=a?t:r,o=qt(n),l=S.useCallback(c=>{if(a){const f=typeof c=="function"?c(t):c;f!==t&&o(f)}else i(c)},[a,t,i,o]);return[s,l]}function QQ({defaultProp:t,onChange:e}){const n=S.useState(t),[r]=n,i=S.useRef(r),a=qt(e);return S.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}var eee="VisuallyHidden",Jm=S.forwardRef((t,e)=>u.jsx($e.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Jm.displayName=eee;var tee=Jm,vk="ToastProvider",[xk,nee,ree]=Gx("Toast"),[nB,eWe]=ps("Toast",[ree]),[iee,Kx]=nB(vk),rB=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:s}=t,[o,l]=S.useState(null),[c,d]=S.useState(0),f=S.useRef(!1),h=S.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${vk}\`. Expected non-empty \`string\`.`),u.jsx(xk.Provider,{scope:e,children:u.jsx(iee,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:c,viewport:o,onViewportChange:l,onToastAdd:S.useCallback(()=>d(p=>p+1),[]),onToastRemove:S.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};rB.displayName=vk;var iB="ToastViewport",aee=["F8"],cE="toast.viewportPause",uE="toast.viewportResume",aB=S.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=aee,label:i="Notifications ({hotkey})",...a}=t,s=Kx(iB,n),o=nee(n),l=S.useRef(null),c=S.useRef(null),d=S.useRef(null),f=S.useRef(null),h=it(e,f,s.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=s.toastCount>0;S.useEffect(()=>{const b=x=>{var y;r.length!==0&&r.every(w=>x[w]||x.code===w)&&((y=f.current)==null||y.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),S.useEffect(()=>{const b=l.current,x=f.current;if(m&&b&&x){const v=()=>{if(!s.isClosePausedRef.current){const E=new CustomEvent(cE);x.dispatchEvent(E),s.isClosePausedRef.current=!0}},y=()=>{if(s.isClosePausedRef.current){const E=new CustomEvent(uE);x.dispatchEvent(E),s.isClosePausedRef.current=!1}},w=E=>{!b.contains(E.relatedTarget)&&y()},_=()=>{b.contains(document.activeElement)||y()};return b.addEventListener("focusin",v),b.addEventListener("focusout",w),b.addEventListener("pointermove",v),b.addEventListener("pointerleave",_),window.addEventListener("blur",v),window.addEventListener("focus",y),()=>{b.removeEventListener("focusin",v),b.removeEventListener("focusout",w),b.removeEventListener("pointermove",v),b.removeEventListener("pointerleave",_),window.removeEventListener("blur",v),window.removeEventListener("focus",y)}}},[m,s.isClosePausedRef]);const g=S.useCallback(({tabbingDirection:b})=>{const v=o().map(y=>{const w=y.ref.current,_=[w,...vee(w)];return b==="forwards"?_:_.reverse()});return(b==="forwards"?v.reverse():v).flat()},[o]);return S.useEffect(()=>{const b=f.current;if(b){const x=v=>{var _,E,A;const y=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!y){const j=document.activeElement,T=v.shiftKey;if(v.target===b&&T){(_=c.current)==null||_.focus();return}const O=g({tabbingDirection:T?"backwards":"forwards"}),L=O.findIndex(R=>R===j);S_(O.slice(L+1))?v.preventDefault():T?(E=c.current)==null||E.focus():(A=d.current)==null||A.focus()}};return b.addEventListener("keydown",x),()=>b.removeEventListener("keydown",x)}},[o,g]),u.jsxs(KQ,{ref:l,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&u.jsx(dE,{ref:c,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});S_(b)}}),u.jsx(xk.Slot,{scope:n,children:u.jsx($e.ol,{tabIndex:-1,...a,ref:h})}),m&&u.jsx(dE,{ref:d,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});S_(b)}})]})});aB.displayName=iB;var sB="ToastFocusProxy",dE=S.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,a=Kx(sB,n);return u.jsx(Jm,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var c;const o=s.relatedTarget;!((c=a.viewport)!=null&&c.contains(o))&&r()}})});dE.displayName=sB;var Yx="Toast",see="toast.swipeStart",oee="toast.swipeMove",lee="toast.swipeCancel",cee="toast.swipeEnd",oB=S.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...s}=t,[o=!0,l]=Xs({prop:r,defaultProp:i,onChange:a});return u.jsx(pr,{present:n||o,children:u.jsx(fee,{open:o,...s,ref:e,onClose:()=>l(!1),onPause:qt(t.onPause),onResume:qt(t.onResume),onSwipeStart:pe(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pe(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:pe(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pe(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});oB.displayName=Yx;var[uee,dee]=nB(Yx,{onClose(){}}),fee=S.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:s,onEscapeKeyDown:o,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...m}=t,g=Kx(Yx,n),[b,x]=S.useState(null),v=it(e,R=>x(R)),y=S.useRef(null),w=S.useRef(null),_=i||g.duration,E=S.useRef(0),A=S.useRef(_),j=S.useRef(0),{onToastAdd:T,onToastRemove:C}=g,k=qt(()=>{var F;(b==null?void 0:b.contains(document.activeElement))&&((F=g.viewport)==null||F.focus()),s()}),O=S.useCallback(R=>{!R||R===1/0||(window.clearTimeout(j.current),E.current=new Date().getTime(),j.current=window.setTimeout(k,R))},[k]);S.useEffect(()=>{const R=g.viewport;if(R){const F=()=>{O(A.current),c==null||c()},U=()=>{const V=new Date().getTime()-E.current;A.current=A.current-V,window.clearTimeout(j.current),l==null||l()};return R.addEventListener(cE,U),R.addEventListener(uE,F),()=>{R.removeEventListener(cE,U),R.removeEventListener(uE,F)}}},[g.viewport,_,l,c,O]),S.useEffect(()=>{a&&!g.isClosePausedRef.current&&O(_)},[a,_,g.isClosePausedRef,O]),S.useEffect(()=>(T(),()=>C()),[T,C]);const L=S.useMemo(()=>b?pB(b):null,[b]);return g.viewport?u.jsxs(u.Fragment,{children:[L&&u.jsx(hee,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),u.jsx(uee,{scope:n,onClose:k,children:Jc.createPortal(u.jsx(xk.ItemSlot,{scope:n,children:u.jsx(GQ,{asChild:!0,onEscapeKeyDown:pe(o,()=>{g.isFocusedToastEscapeKeyDownRef.current||k(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx($e.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...m,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:pe(t.onKeyDown,R=>{R.key==="Escape"&&(o==null||o(R.nativeEvent),R.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:pe(t.onPointerDown,R=>{R.button===0&&(y.current={x:R.clientX,y:R.clientY})}),onPointerMove:pe(t.onPointerMove,R=>{if(!y.current)return;const F=R.clientX-y.current.x,U=R.clientY-y.current.y,V=!!w.current,D=["left","right"].includes(g.swipeDirection),B=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,P=D?B(0,F):0,W=D?0:B(0,U),G=R.pointerType==="touch"?10:2,$={x:P,y:W},ee={originalEvent:R,delta:$};V?(w.current=$,ty(oee,f,ee,{discrete:!1})):wI($,g.swipeDirection,G)?(w.current=$,ty(see,d,ee,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(F)>G||Math.abs(U)>G)&&(y.current=null)}),onPointerUp:pe(t.onPointerUp,R=>{const F=w.current,U=R.target;if(U.hasPointerCapture(R.pointerId)&&U.releasePointerCapture(R.pointerId),w.current=null,y.current=null,F){const V=R.currentTarget,D={originalEvent:R,delta:F};wI(F,g.swipeDirection,g.swipeThreshold)?ty(cee,p,D,{discrete:!0}):ty(lee,h,D,{discrete:!0}),V.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),hee=t=>{const{__scopeToast:e,children:n,...r}=t,i=Kx(Yx,e),[a,s]=S.useState(!1),[o,l]=S.useState(!1);return gee(()=>s(!0)),S.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),o?null:u.jsx(Zm,{asChild:!0,children:u.jsx(Jm,{...r,children:a&&u.jsxs(u.Fragment,{children:[i.label," ",n]})})})},pee="ToastTitle",lB=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx($e.div,{...r,ref:e})});lB.displayName=pee;var mee="ToastDescription",cB=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx($e.div,{...r,ref:e})});cB.displayName=mee;var uB="ToastAction",dB=S.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(hB,{altText:n,asChild:!0,children:u.jsx(bk,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${uB}\`. Expected non-empty \`string\`.`),null)});dB.displayName=uB;var fB="ToastClose",bk=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=dee(fB,n);return u.jsx(hB,{asChild:!0,children:u.jsx($e.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,i.onClose)})})});bk.displayName=fB;var hB=S.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return u.jsx($e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function pB(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),yee(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const s=r.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...pB(r))}}),e}function ty(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?yk(i,a):i.dispatchEvent(a)}var wI=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),a=r>i;return e==="left"||e==="right"?a&&r>n:!a&&i>n};function gee(t=()=>{}){const e=qt(t);An(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function yee(t){return t.nodeType===t.ELEMENT_NODE}function vee(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function S_(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var xee=rB,mB=aB,gB=oB,yB=lB,vB=cB,xB=dB,bB=bk;function wB(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=wB(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ke(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=wB(t))&&(r&&(r+=" "),r+=e);return r}const _I=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,SI=Ke,Qm=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return SI(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=e,s=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],f=a==null?void 0:a[c];if(d===null)return null;const h=_I(d)||_I(f);return i[c][h]}),o=n&&Object.entries(n).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(m=>{let[g,b]=m;return Array.isArray(b)?b.includes({...a,...o}[g]):{...a,...o}[g]===b})?[...c,f,h]:c},[]);return SI(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bee=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_B=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ee=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>S.createElement("svg",{ref:l,...wee,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:_B("lucide",i),...o},[...s.map(([c,d])=>S.createElement(c,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(t,e)=>{const n=S.forwardRef(({className:r,...i},a)=>S.createElement(_ee,{ref:a,iconNode:e,className:_B(`lucide-${bee(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=Ce("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=Ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const See=Ce("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=Ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=Ce("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=Ce("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eee=Ce("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=Ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=Ce("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=Ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=Ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jee=Ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aee=Ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=Ce("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=Ce("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=Ce("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tee=Ce("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=Ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kee=Ce("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=Ce("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=Ce("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=Ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cee=Ce("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oee=Ce("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nee=Ce("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pee=Ce("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=Ce("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iee=Ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=Ce("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ee=Ce("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=Ce("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=Ce("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=Ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=Ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=Ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ree=Ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=Ce("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=Ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=Ce("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=Ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=Ce("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=Ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=Ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mee=Ce("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dee=Ce("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lee=Ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=Ce("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=Ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=Ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fee=Ce("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=Ce("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bee=Ce("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=Ce("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=Ce("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=Ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=Ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=Ce("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=Ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=Ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=Ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=Ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=Ce("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Tk="-",zee=t=>{const e=Hee(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const o=s.split(Tk);return o[0]===""&&o.length!==1&&o.shift(),kB(o,e)||Uee(s)},getConflictingClassGroupIds:(s,o)=>{const l=n[s]||[];return o&&r[s]?[...l,...r[s]]:l}}},kB=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?kB(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(Tk);return(s=e.validators.find(({validator:o})=>o(a)))==null?void 0:s.classGroupId},kI=/^\[(.+)\]$/,Uee=t=>{if(kI.test(t)){const e=kI.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Hee=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Wee(Object.entries(t.classGroups),n).forEach(([a,s])=>{pE(s,r,a,e)}),r},pE=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:CI(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(Vee(i)){pE(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,s])=>{pE(s,CI(e,a),n,r)})})},CI=(t,e)=>{let n=t;return e.split(Tk).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Vee=t=>t.isThemeGetter,Wee=(t,e)=>e?t.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([s,o])=>[e+s,o])):a);return[n,i]}):t,qee=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,s)=>{n.set(a,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let s=n.get(a);if(s!==void 0)return s;if((s=r.get(a))!==void 0)return i(a,s),s},set(a,s){n.has(a)?n.set(a,s):i(a,s)}}},CB="!",Gee=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],a=e.length,s=o=>{const l=[];let c=0,d=0,f;for(let b=0;b<o.length;b++){let x=o[b];if(c===0){if(x===i&&(r||o.slice(b,b+a)===e)){l.push(o.slice(d,b)),d=b+a;continue}if(x==="/"){f=b;continue}}x==="["?c++:x==="]"&&c--}const h=l.length===0?o:o.substring(d),p=h.startsWith(CB),m=p?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}};return n?o=>n({className:o,parseClassName:s}):s},Kee=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Yee=t=>({cache:qee(t.cacheSize),parseClassName:Gee(t),...zee(t)}),Xee=/\s+/,Zee=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],s=t.trim().split(Xee);let o="";for(let l=s.length-1;l>=0;l-=1){const c=s[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(c);let m=!!p,g=r(m?h.substring(0,p):h);if(!g){if(!m){o=c+(o.length>0?" "+o:o);continue}if(g=r(h),!g){o=c+(o.length>0?" "+o:o);continue}m=!1}const b=Kee(d).join(":"),x=f?b+CB:b,v=x+g;if(a.includes(v))continue;a.push(v);const y=i(g,m);for(let w=0;w<y.length;++w){const _=y[w];a.push(x+_)}o=c+(o.length>0?" "+o:o)}return o};function Jee(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=OB(e))&&(r&&(r+=" "),r+=n);return r}const OB=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=OB(t[r]))&&(n&&(n+=" "),n+=e);return n};function Qee(t,...e){let n,r,i,a=s;function s(l){const c=e.reduce((d,f)=>f(d),t());return n=Yee(c),r=n.cache.get,i=n.cache.set,a=o,o(l)}function o(l){const c=r(l);if(c)return c;const d=Zee(l,n);return i(l,d),d}return function(){return a(Jee.apply(null,arguments))}}const Dt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},NB=/^\[(?:([a-z-]+):)?(.+)\]$/i,ete=/^\d+\/\d+$/,tte=new Set(["px","full","screen"]),nte=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rte=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ite=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ate=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ste=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ws=t=>fd(t)||tte.has(t)||ete.test(t),vo=t=>Of(t,"length",pte),fd=t=>!!t&&!Number.isNaN(Number(t)),E_=t=>Of(t,"number",fd),ph=t=>!!t&&Number.isInteger(Number(t)),ote=t=>t.endsWith("%")&&fd(t.slice(0,-1)),Ze=t=>NB.test(t),xo=t=>nte.test(t),lte=new Set(["length","size","percentage"]),cte=t=>Of(t,lte,PB),ute=t=>Of(t,"position",PB),dte=new Set(["image","url"]),fte=t=>Of(t,dte,gte),hte=t=>Of(t,"",mte),mh=()=>!0,Of=(t,e,n)=>{const r=NB.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},pte=t=>rte.test(t)&&!ite.test(t),PB=()=>!1,mte=t=>ate.test(t),gte=t=>ste.test(t),yte=()=>{const t=Dt("colors"),e=Dt("spacing"),n=Dt("blur"),r=Dt("brightness"),i=Dt("borderColor"),a=Dt("borderRadius"),s=Dt("borderSpacing"),o=Dt("borderWidth"),l=Dt("contrast"),c=Dt("grayscale"),d=Dt("hueRotate"),f=Dt("invert"),h=Dt("gap"),p=Dt("gradientColorStops"),m=Dt("gradientColorStopPositions"),g=Dt("inset"),b=Dt("margin"),x=Dt("opacity"),v=Dt("padding"),y=Dt("saturate"),w=Dt("scale"),_=Dt("sepia"),E=Dt("skew"),A=Dt("space"),j=Dt("translate"),T=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",Ze,e],O=()=>[Ze,e],L=()=>["",ws,vo],R=()=>["auto",fd,Ze],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Ze],P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[fd,Ze];return{cacheSize:500,separator:":",theme:{colors:[mh],spacing:[ws,vo],blur:["none","",xo,Ze],brightness:W(),borderColor:[t],borderRadius:["none","","full",xo,Ze],borderSpacing:O(),borderWidth:L(),contrast:W(),grayscale:B(),hueRotate:W(),invert:B(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[ote,vo],inset:k(),margin:k(),opacity:W(),padding:O(),saturate:W(),scale:W(),sepia:B(),skew:W(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ze]}],container:["container"],columns:[{columns:[xo]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),Ze]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ph,Ze]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ze]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",ph,Ze]}],"grid-cols":[{"grid-cols":[mh]}],"col-start-end":[{col:["auto",{span:["full",ph,Ze]},Ze]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[mh]}],"row-start-end":[{row:["auto",{span:[ph,Ze]},Ze]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ze]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ze]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ze,e]}],"min-w":[{"min-w":[Ze,e,"min","max","fit"]}],"max-w":[{"max-w":[Ze,e,"none","full","min","max","fit","prose",{screen:[xo]},xo]}],h:[{h:[Ze,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ze,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ze,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ze,e,"auto","min","max","fit"]}],"font-size":[{text:["base",xo,vo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",E_]}],"font-family":[{font:[mh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ze]}],"line-clamp":[{"line-clamp":["none",fd,E_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ws,Ze]}],"list-image":[{"list-image":["none",Ze]}],"list-style-type":[{list:["none","disc","decimal",Ze]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ws,vo]}],"underline-offset":[{"underline-offset":["auto",ws,Ze]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),ute]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",cte]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},fte]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:U()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[ws,Ze]}],"outline-w":[{outline:[ws,vo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[ws,vo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",xo,hte]}],"shadow-color":[{shadow:[mh]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",xo,Ze]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[y]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ze]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Ze]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ze]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[ph,Ze]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ze]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ze]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ze]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ws,vo,E_]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},vte=Qee(yte);function je(...t){return vte(Ke(t))}const xte=xee,IB=S.forwardRef(({className:t,...e},n)=>u.jsx(mB,{ref:n,className:je("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));IB.displayName=mB.displayName;const bte=Qm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),$B=S.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(gB,{ref:r,className:je(bte({variant:e}),t),...n}));$B.displayName=gB.displayName;const wte=S.forwardRef(({className:t,...e},n)=>u.jsx(xB,{ref:n,className:je("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));wte.displayName=xB.displayName;const RB=S.forwardRef(({className:t,...e},n)=>u.jsx(bB,{ref:n,className:je("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(tg,{className:"h-4 w-4"})}));RB.displayName=bB.displayName;const MB=S.forwardRef(({className:t,...e},n)=>u.jsx(yB,{ref:n,className:je("text-sm font-semibold",t),...e}));MB.displayName=yB.displayName;const DB=S.forwardRef(({className:t,...e},n)=>u.jsx(vB,{ref:n,className:je("text-sm opacity-90",t),...e}));DB.displayName=vB.displayName;function _te(){const{toasts:t}=Vt();return u.jsxs(xte,{children:[t.map(function({id:e,title:n,description:r,action:i,...a}){return u.jsxs($B,{...a,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(MB,{children:n}),r&&u.jsx(DB,{children:r})]}),i,u.jsx(RB,{})]},e)}),u.jsx(IB,{})]})}var Ste=t=>{switch(t){case"success":return Ate;case"info":return kte;case"warning":return Tte;case"error":return Cte;default:return null}},Ete=Array(12).fill(0),jte=({visible:t})=>M.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},M.createElement("div",{className:"sonner-spinner"},Ete.map((e,n)=>M.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Ate=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Tte=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),kte=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Cte=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Ote=()=>{let[t,e]=M.useState(document.hidden);return M.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},mE=1,Nte=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:mE++,a=this.toasts.find(o=>o.id===i),s=t.dismissible===void 0?!0:t.dismissible;return a?this.toasts=this.toasts.map(o=>o.id===i?(this.publish({...o,...t,id:i,title:n}),{...o,...t,id:i,dismissible:s,title:n}):o):this.addToast({title:n,...r,dismissible:s,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0;return r.then(async a=>{if(Ite(a)&&!a.ok){i=!1;let s=typeof e.error=="function"?await e.error(`HTTP error! status: ${a.status}`):e.error,o=typeof e.description=="function"?await e.description(`HTTP error! status: ${a.status}`):e.description;this.create({id:n,type:"error",message:s,description:o})}else if(e.success!==void 0){i=!1;let s=typeof e.success=="function"?await e.success(a):e.success,o=typeof e.description=="function"?await e.description(a):e.description;this.create({id:n,type:"success",message:s,description:o})}}).catch(async a=>{if(e.error!==void 0){i=!1;let s=typeof e.error=="function"?await e.error(a):e.error,o=typeof e.description=="function"?await e.description(a):e.description;this.create({id:n,type:"error",message:s,description:o})}}).finally(()=>{var a;i&&(this.dismiss(n),n=void 0),(a=e.finally)==null||a.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||mE++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},Gr=new Nte,Pte=(t,e)=>{let n=(e==null?void 0:e.id)||mE++;return Gr.addToast({title:t,...e,id:n}),n},Ite=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",$te=Pte,Rte=()=>Gr.toasts,Vl=Object.assign($te,{success:Gr.success,info:Gr.info,warning:Gr.warning,error:Gr.error,custom:Gr.custom,message:Gr.message,promise:Gr.promise,dismiss:Gr.dismiss,loading:Gr.loading},{getHistory:Rte});function Mte(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Mte(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ny(t){return t.label!==void 0}var Dte=3,Lte="32px",Fte=4e3,Bte=356,zte=14,Ute=20,Hte=200;function Vte(...t){return t.filter(Boolean).join(" ")}var Wte=t=>{var e,n,r,i,a,s,o,l,c,d;let{invert:f,toast:h,unstyled:p,interacting:m,setHeights:g,visibleToasts:b,heights:x,index:v,toasts:y,expanded:w,removeToast:_,defaultRichColors:E,closeButton:A,style:j,cancelButtonStyle:T,actionButtonStyle:C,className:k="",descriptionClassName:O="",duration:L,position:R,gap:F,loadingIcon:U,expandByDefault:V,classNames:D,icons:B,closeButtonAriaLabel:P="Close toast",pauseWhenPageIsHidden:W,cn:G}=t,[$,ee]=M.useState(!1),[ie,I]=M.useState(!1),[N,K]=M.useState(!1),[z,Z]=M.useState(!1),[J,Y]=M.useState(0),[me,le]=M.useState(0),ve=M.useRef(null),oe=M.useRef(null),Be=v===0,Te=v+1<=b,De=h.type,ae=h.dismissible!==!1,At=h.className||"",we=h.descriptionClassName||"",ye=M.useMemo(()=>x.findIndex(Le=>Le.toastId===h.id)||0,[x,h.id]),be=M.useMemo(()=>{var Le;return(Le=h.closeButton)!=null?Le:A},[h.closeButton,A]),ge=M.useMemo(()=>h.duration||L||Fte,[h.duration,L]),q=M.useRef(0),X=M.useRef(0),re=M.useRef(0),Oe=M.useRef(null),[ct,Kt]=R.split("-"),on=M.useMemo(()=>x.reduce((Le,Mt,Tt)=>Tt>=ye?Le:Le+Mt.height,0),[x,ye]),Cn=Ote(),Ia=h.invert||f,bs=De==="loading";X.current=M.useMemo(()=>ye*F+on,[ye,on]),M.useEffect(()=>{ee(!0)},[]),M.useLayoutEffect(()=>{if(!$)return;let Le=oe.current,Mt=Le.style.height;Le.style.height="auto";let Tt=Le.getBoundingClientRect().height;Le.style.height=Mt,le(Tt),g($a=>$a.find(Ra=>Ra.toastId===h.id)?$a.map(Ra=>Ra.toastId===h.id?{...Ra,height:Tt}:Ra):[{toastId:h.id,height:Tt,position:h.position},...$a])},[$,h.title,h.description,g,h.id]);let en=M.useCallback(()=>{I(!0),Y(X.current),g(Le=>Le.filter(Mt=>Mt.toastId!==h.id)),setTimeout(()=>{_(h)},Hte)},[h,_,g,X]);M.useEffect(()=>{if(h.promise&&De==="loading"||h.duration===1/0||h.type==="loading")return;let Le,Mt=ge;return w||m||W&&Cn?(()=>{if(re.current<q.current){let Tt=new Date().getTime()-q.current;Mt=Mt-Tt}re.current=new Date().getTime()})():Mt!==1/0&&(q.current=new Date().getTime(),Le=setTimeout(()=>{var Tt;(Tt=h.onAutoClose)==null||Tt.call(h,h),en()},Mt)),()=>clearTimeout(Le)},[w,m,V,h,ge,en,h.promise,De,W,Cn]),M.useEffect(()=>{let Le=oe.current;if(Le){let Mt=Le.getBoundingClientRect().height;return le(Mt),g(Tt=>[{toastId:h.id,height:Mt,position:h.position},...Tt]),()=>g(Tt=>Tt.filter($a=>$a.toastId!==h.id))}},[g,h.id]),M.useEffect(()=>{h.delete&&en()},[en,h.delete]);function go(){return B!=null&&B.loading?M.createElement("div",{className:"sonner-loader","data-visible":De==="loading"},B.loading):U?M.createElement("div",{className:"sonner-loader","data-visible":De==="loading"},U):M.createElement(jte,{visible:De==="loading"})}return M.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:oe,className:G(k,At,D==null?void 0:D.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,D==null?void 0:D.default,D==null?void 0:D[De],(n=h==null?void 0:h.classNames)==null?void 0:n[De]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:E,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":$,"data-promise":!!h.promise,"data-removed":ie,"data-visible":Te,"data-y-position":ct,"data-x-position":Kt,"data-index":v,"data-front":Be,"data-swiping":N,"data-dismissible":ae,"data-type":De,"data-invert":Ia,"data-swipe-out":z,"data-expanded":!!(w||V&&$),style:{"--index":v,"--toasts-before":v,"--z-index":y.length-v,"--offset":`${ie?J:X.current}px`,"--initial-height":V?"auto":`${me}px`,...j,...h.style},onPointerDown:Le=>{bs||!ae||(ve.current=new Date,Y(X.current),Le.target.setPointerCapture(Le.pointerId),Le.target.tagName!=="BUTTON"&&(K(!0),Oe.current={x:Le.clientX,y:Le.clientY}))},onPointerUp:()=>{var Le,Mt,Tt,$a;if(z||!ae)return;Oe.current=null;let Ra=Number(((Le=oe.current)==null?void 0:Le.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ig=new Date().getTime()-((Mt=ve.current)==null?void 0:Mt.getTime()),HK=Math.abs(Ra)/Ig;if(Math.abs(Ra)>=Ute||HK>.11){Y(X.current),(Tt=h.onDismiss)==null||Tt.call(h,h),en(),Z(!0);return}($a=oe.current)==null||$a.style.setProperty("--swipe-amount","0px"),K(!1)},onPointerMove:Le=>{var Mt;if(!Oe.current||!ae)return;let Tt=Le.clientY-Oe.current.y,$a=Le.clientX-Oe.current.x,Ra=(ct==="top"?Math.min:Math.max)(0,Tt),Ig=Le.pointerType==="touch"?10:2;Math.abs(Ra)>Ig?(Mt=oe.current)==null||Mt.style.setProperty("--swipe-amount",`${Tt}px`):Math.abs($a)>Ig&&(Oe.current=null)}},be&&!h.jsx?M.createElement("button",{"aria-label":P,"data-disabled":bs,"data-close-button":!0,onClick:bs||!ae?()=>{}:()=>{var Le;en(),(Le=h.onDismiss)==null||Le.call(h,h)},className:G(D==null?void 0:D.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},M.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),M.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||M.isValidElement(h.title)?h.jsx||h.title:M.createElement(M.Fragment,null,De||h.icon||h.promise?M.createElement("div",{"data-icon":"",className:G(D==null?void 0:D.icon,(a=h==null?void 0:h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||go():null,h.type!=="loading"?h.icon||(B==null?void 0:B[De])||Ste(De):null):null,M.createElement("div",{"data-content":"",className:G(D==null?void 0:D.content,(s=h==null?void 0:h.classNames)==null?void 0:s.content)},M.createElement("div",{"data-title":"",className:G(D==null?void 0:D.title,(o=h==null?void 0:h.classNames)==null?void 0:o.title)},h.title),h.description?M.createElement("div",{"data-description":"",className:G(O,we,D==null?void 0:D.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),M.isValidElement(h.cancel)?h.cancel:h.cancel&&ny(h.cancel)?M.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||T,onClick:Le=>{var Mt,Tt;ny(h.cancel)&&ae&&((Tt=(Mt=h.cancel).onClick)==null||Tt.call(Mt,Le),en())},className:G(D==null?void 0:D.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,M.isValidElement(h.action)?h.action:h.action&&ny(h.action)?M.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||C,onClick:Le=>{var Mt,Tt;ny(h.action)&&(Le.defaultPrevented||((Tt=(Mt=h.action).onClick)==null||Tt.call(Mt,Le),en()))},className:G(D==null?void 0:D.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function OI(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var qte=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:a,className:s,offset:o,theme:l="light",richColors:c,duration:d,style:f,visibleToasts:h=Dte,toastOptions:p,dir:m=OI(),gap:g=zte,loadingIcon:b,icons:x,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:y,cn:w=Vte}=t,[_,E]=M.useState([]),A=M.useMemo(()=>Array.from(new Set([n].concat(_.filter(W=>W.position).map(W=>W.position)))),[_,n]),[j,T]=M.useState([]),[C,k]=M.useState(!1),[O,L]=M.useState(!1),[R,F]=M.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=M.useRef(null),V=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=M.useRef(null),B=M.useRef(!1),P=M.useCallback(W=>{var G;(G=_.find($=>$.id===W.id))!=null&&G.delete||Gr.dismiss(W.id),E($=>$.filter(({id:ee})=>ee!==W.id))},[_]);return M.useEffect(()=>Gr.subscribe(W=>{if(W.dismiss){E(G=>G.map($=>$.id===W.id?{...$,delete:!0}:$));return}setTimeout(()=>{TF.flushSync(()=>{E(G=>{let $=G.findIndex(ee=>ee.id===W.id);return $!==-1?[...G.slice(0,$),{...G[$],...W},...G.slice($+1)]:[W,...G]})})})}),[]),M.useEffect(()=>{if(l!=="system"){F(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:W})=>{F(W?"dark":"light")})},[l]),M.useEffect(()=>{_.length<=1&&k(!1)},[_]),M.useEffect(()=>{let W=G=>{var $,ee;r.every(ie=>G[ie]||G.code===ie)&&(k(!0),($=U.current)==null||$.focus()),G.code==="Escape"&&(document.activeElement===U.current||(ee=U.current)!=null&&ee.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[r]),M.useEffect(()=>{if(U.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,B.current=!1)}},[U.current]),_.length?M.createElement("section",{"aria-label":`${v} ${V}`,tabIndex:-1},A.map((W,G)=>{var $;let[ee,ie]=W.split("-");return M.createElement("ol",{key:W,dir:m==="auto"?OI():m,tabIndex:-1,ref:U,className:s,"data-sonner-toaster":!0,"data-theme":R,"data-y-position":ee,"data-x-position":ie,style:{"--front-toast-height":`${(($=j[0])==null?void 0:$.height)||0}px`,"--offset":typeof o=="number"?`${o}px`:o||Lte,"--width":`${Bte}px`,"--gap":`${g}px`,...f},onBlur:I=>{B.current&&!I.currentTarget.contains(I.relatedTarget)&&(B.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:I=>{I.target instanceof HTMLElement&&I.target.dataset.dismissible==="false"||B.current||(B.current=!0,D.current=I.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{O||k(!1)},onPointerDown:I=>{I.target instanceof HTMLElement&&I.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},_.filter(I=>!I.position&&G===0||I.position===W).map((I,N)=>{var K,z;return M.createElement(Wte,{key:I.id,icons:x,index:N,toast:I,defaultRichColors:c,duration:(K=p==null?void 0:p.duration)!=null?K:d,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:e,visibleToasts:h,closeButton:(z=p==null?void 0:p.closeButton)!=null?z:a,interacting:O,position:W,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:P,toasts:_.filter(Z=>Z.position==I.position),heights:j.filter(Z=>Z.position==I.position),setHeights:T,expandByDefault:i,gap:g,loadingIcon:b,expanded:C,pauseWhenPageIsHidden:y,cn:w})}))})):null};const Gte=({...t})=>{const{theme:e="system"}=WJ();return u.jsx(qte,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Kte=E5.useId||(()=>{}),Yte=0;function ga(t){const[e,n]=S.useState(Kte());return An(()=>{n(r=>r??String(Yte++))},[t]),e?`radix-${e}`:""}const Xte=["top","right","bottom","left"],ml=Math.min,Xr=Math.max,Gv=Math.round,ry=Math.floor,gl=t=>({x:t,y:t}),Zte={left:"right",right:"left",bottom:"top",top:"bottom"},Jte={start:"end",end:"start"};function gE(t,e,n){return Xr(t,ml(e,n))}function Js(t,e){return typeof t=="function"?t(e):t}function Qs(t){return t.split("-")[0]}function Nf(t){return t.split("-")[1]}function kk(t){return t==="x"?"y":"x"}function Ck(t){return t==="y"?"height":"width"}function yl(t){return["top","bottom"].includes(Qs(t))?"y":"x"}function Ok(t){return kk(yl(t))}function Qte(t,e,n){n===void 0&&(n=!1);const r=Nf(t),i=Ok(t),a=Ck(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=Kv(s)),[s,Kv(s)]}function ene(t){const e=Kv(t);return[yE(t),e,yE(e)]}function yE(t){return t.replace(/start|end/g,e=>Jte[e])}function tne(t,e,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?a:s;default:return[]}}function nne(t,e,n,r){const i=Nf(t);let a=tne(Qs(t),n==="start",r);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(yE)))),a}function Kv(t){return t.replace(/left|right|bottom|top/g,e=>Zte[e])}function rne(t){return{top:0,right:0,bottom:0,left:0,...t}}function LB(t){return typeof t!="number"?rne(t):{top:t,right:t,bottom:t,left:t}}function Yv(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function NI(t,e,n){let{reference:r,floating:i}=t;const a=yl(e),s=Ok(e),o=Ck(s),l=Qs(e),c=a==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let p;switch(l){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Nf(e)){case"start":p[s]-=h*(n&&c?-1:1);break;case"end":p[s]+=h*(n&&c?-1:1);break}return p}const ine=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=n,o=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=NI(c,r,l),h=r,p={},m=0;for(let g=0;g<o.length;g++){const{name:b,fn:x}=o[g],{x:v,y,data:w,reset:_}=await x({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:t,floating:e}});d=v??d,f=y??f,p={...p,[b]:{...p[b],...w}},_&&m<=50&&(m++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(c=_.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):_.rects),{x:d,y:f}=NI(c,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function Kp(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:s,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Js(e,t),m=LB(p),b=o[h?f==="floating"?"reference":"floating":f],x=Yv(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(b)))==null||n?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),v=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,y=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),w=await(a.isElement==null?void 0:a.isElement(y))?await(a.getScale==null?void 0:a.getScale(y))||{x:1,y:1}:{x:1,y:1},_=Yv(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:y,strategy:l}):v);return{top:(x.top-_.top+m.top)/w.y,bottom:(_.bottom-x.bottom+m.bottom)/w.y,left:(x.left-_.left+m.left)/w.x,right:(_.right-x.right+m.right)/w.x}}const ane=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:s,elements:o,middlewareData:l}=e,{element:c,padding:d=0}=Js(t,e)||{};if(c==null)return{};const f=LB(d),h={x:n,y:r},p=Ok(i),m=Ck(p),g=await s.getDimensions(c),b=p==="y",x=b?"top":"left",v=b?"bottom":"right",y=b?"clientHeight":"clientWidth",w=a.reference[m]+a.reference[p]-h[p]-a.floating[m],_=h[p]-a.reference[p],E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let A=E?E[y]:0;(!A||!await(s.isElement==null?void 0:s.isElement(E)))&&(A=o.floating[y]||a.floating[m]);const j=w/2-_/2,T=A/2-g[m]/2-1,C=ml(f[x],T),k=ml(f[v],T),O=C,L=A-g[m]-k,R=A/2-g[m]/2+j,F=gE(O,R,L),U=!l.arrow&&Nf(i)!=null&&R!==F&&a.reference[m]/2-(R<O?C:k)-g[m]/2<0,V=U?R<O?R-O:R-L:0;return{[p]:h[p]+V,data:{[p]:F,centerOffset:R-F-V,...U&&{alignmentOffset:V}},reset:U}}}),sne=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...b}=Js(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const x=Qs(i),v=yl(o),y=Qs(o)===o,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),_=h||(y||!g?[Kv(o)]:ene(o)),E=m!=="none";!h&&E&&_.push(...nne(o,g,m,w));const A=[o,..._],j=await Kp(e,b),T=[];let C=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&T.push(j[x]),f){const R=Qte(i,s,w);T.push(j[R[0]],j[R[1]])}if(C=[...C,{placement:i,overflows:T}],!T.every(R=>R<=0)){var k,O;const R=(((k=a.flip)==null?void 0:k.index)||0)+1,F=A[R];if(F)return{data:{index:R,overflows:C},reset:{placement:F}};let U=(O=C.filter(V=>V.overflows[0]<=0).sort((V,D)=>V.overflows[1]-D.overflows[1])[0])==null?void 0:O.placement;if(!U)switch(p){case"bestFit":{var L;const V=(L=C.filter(D=>{if(E){const B=yl(D.placement);return B===v||B==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(B=>B>0).reduce((B,P)=>B+P,0)]).sort((D,B)=>D[1]-B[1])[0])==null?void 0:L[0];V&&(U=V);break}case"initialPlacement":U=o;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function PI(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function II(t){return Xte.some(e=>t[e]>=0)}const one=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Js(t,e);switch(r){case"referenceHidden":{const a=await Kp(e,{...i,elementContext:"reference"}),s=PI(a,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:II(s)}}}case"escaped":{const a=await Kp(e,{...i,altBoundary:!0}),s=PI(a,n.floating);return{data:{escapedOffsets:s,escaped:II(s)}}}default:return{}}}}};async function lne(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Qs(n),o=Nf(n),l=yl(n)==="y",c=["left","top"].includes(s)?-1:1,d=a&&l?-1:1,f=Js(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof m=="number"&&(p=o==="end"?m*-1:m),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}const cne=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:s,middlewareData:o}=e,l=await lne(e,t);return s===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:s}}}}},une=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:b=>{let{x,y:v}=b;return{x,y:v}}},...l}=Js(t,e),c={x:n,y:r},d=await Kp(e,l),f=yl(Qs(i)),h=kk(f);let p=c[h],m=c[f];if(a){const b=h==="y"?"top":"left",x=h==="y"?"bottom":"right",v=p+d[b],y=p-d[x];p=gE(v,p,y)}if(s){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",v=m+d[b],y=m-d[x];m=gE(v,m,y)}const g=o.fn({...e,[h]:p,[f]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:a,[f]:s}}}}}},dne=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:s}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=Js(t,e),d={x:n,y:r},f=yl(i),h=kk(f);let p=d[h],m=d[f];const g=Js(o,e),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const y=h==="y"?"height":"width",w=a.reference[h]-a.floating[y]+b.mainAxis,_=a.reference[h]+a.reference[y]-b.mainAxis;p<w?p=w:p>_&&(p=_)}if(c){var x,v;const y=h==="y"?"width":"height",w=["top","left"].includes(Qs(i)),_=a.reference[f]-a.floating[y]+(w&&((x=s.offset)==null?void 0:x[f])||0)+(w?0:b.crossAxis),E=a.reference[f]+a.reference[y]+(w?0:((v=s.offset)==null?void 0:v[f])||0)-(w?b.crossAxis:0);m<_?m=_:m>E&&(m=E)}return{[h]:p,[f]:m}}}},fne=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:s,elements:o}=e,{apply:l=()=>{},...c}=Js(t,e),d=await Kp(e,c),f=Qs(i),h=Nf(i),p=yl(i)==="y",{width:m,height:g}=a.floating;let b,x;f==="top"||f==="bottom"?(b=f,x=h===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(x=f,b=h==="end"?"top":"bottom");const v=g-d.top-d.bottom,y=m-d.left-d.right,w=ml(g-d[b],v),_=ml(m-d[x],y),E=!e.middlewareData.shift;let A=w,j=_;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(j=y),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=v),E&&!h){const C=Xr(d.left,0),k=Xr(d.right,0),O=Xr(d.top,0),L=Xr(d.bottom,0);p?j=m-2*(C!==0||k!==0?C+k:Xr(d.left,d.right)):A=g-2*(O!==0||L!==0?O+L:Xr(d.top,d.bottom))}await l({...e,availableWidth:j,availableHeight:A});const T=await s.getDimensions(o.floating);return m!==T.width||g!==T.height?{reset:{rects:!0}}:{}}}};function Jx(){return typeof window<"u"}function Pf(t){return FB(t)?(t.nodeName||"").toLowerCase():"#document"}function ri(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ms(t){var e;return(e=(FB(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function FB(t){return Jx()?t instanceof Node||t instanceof ri(t).Node:!1}function wa(t){return Jx()?t instanceof Element||t instanceof ri(t).Element:!1}function ls(t){return Jx()?t instanceof HTMLElement||t instanceof ri(t).HTMLElement:!1}function $I(t){return!Jx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ri(t).ShadowRoot}function ng(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=_a(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function hne(t){return["table","td","th"].includes(Pf(t))}function Qx(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Nk(t){const e=Pk(),n=wa(t)?_a(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function pne(t){let e=vl(t);for(;ls(e)&&!Fd(e);){if(Nk(e))return e;if(Qx(e))return null;e=vl(e)}return null}function Pk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Fd(t){return["html","body","#document"].includes(Pf(t))}function _a(t){return ri(t).getComputedStyle(t)}function eb(t){return wa(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function vl(t){if(Pf(t)==="html")return t;const e=t.assignedSlot||t.parentNode||$I(t)&&t.host||ms(t);return $I(e)?e.host:e}function BB(t){const e=vl(t);return Fd(e)?t.ownerDocument?t.ownerDocument.body:t.body:ls(e)&&ng(e)?e:BB(e)}function Yp(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=BB(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),s=ri(i);if(a){const o=vE(s);return e.concat(s,s.visualViewport||[],ng(i)?i:[],o&&n?Yp(o):[])}return e.concat(i,Yp(i,[],n))}function vE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function zB(t){const e=_a(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ls(t),a=i?t.offsetWidth:n,s=i?t.offsetHeight:r,o=Gv(n)!==a||Gv(r)!==s;return o&&(n=a,r=s),{width:n,height:r,$:o}}function Ik(t){return wa(t)?t:t.contextElement}function hd(t){const e=Ik(t);if(!ls(e))return gl(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=zB(e);let s=(a?Gv(n.width):n.width)/r,o=(a?Gv(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const mne=gl(0);function UB(t){const e=ri(t);return!Pk()||!e.visualViewport?mne:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function gne(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ri(t)?!1:e}function Mc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=Ik(t);let s=gl(1);e&&(r?wa(r)&&(s=hd(r)):s=hd(t));const o=gne(a,n,r)?UB(a):gl(0);let l=(i.left+o.x)/s.x,c=(i.top+o.y)/s.y,d=i.width/s.x,f=i.height/s.y;if(a){const h=ri(a),p=r&&wa(r)?ri(r):r;let m=h,g=vE(m);for(;g&&r&&p!==m;){const b=hd(g),x=g.getBoundingClientRect(),v=_a(g),y=x.left+(g.clientLeft+parseFloat(v.paddingLeft))*b.x,w=x.top+(g.clientTop+parseFloat(v.paddingTop))*b.y;l*=b.x,c*=b.y,d*=b.x,f*=b.y,l+=y,c+=w,m=ri(g),g=vE(m)}}return Yv({width:d,height:f,x:l,y:c})}function yne(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",s=ms(r),o=e?Qx(e.floating):!1;if(r===s||o&&a)return n;let l={scrollLeft:0,scrollTop:0},c=gl(1);const d=gl(0),f=ls(r);if((f||!f&&!a)&&((Pf(r)!=="body"||ng(s))&&(l=eb(r)),ls(r))){const h=Mc(r);c=hd(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function vne(t){return Array.from(t.getClientRects())}function xE(t,e){const n=eb(t).scrollLeft;return e?e.left+n:Mc(ms(t)).left+n}function xne(t){const e=ms(t),n=eb(t),r=t.ownerDocument.body,i=Xr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Xr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+xE(t);const o=-n.scrollTop;return _a(r).direction==="rtl"&&(s+=Xr(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:o}}function bne(t,e){const n=ri(t),r=ms(t),i=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const c=Pk();(!c||c&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}function wne(t,e){const n=Mc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=ls(t)?hd(t):gl(1),s=t.clientWidth*a.x,o=t.clientHeight*a.y,l=i*a.x,c=r*a.y;return{width:s,height:o,x:l,y:c}}function RI(t,e,n){let r;if(e==="viewport")r=bne(t,n);else if(e==="document")r=xne(ms(t));else if(wa(e))r=wne(e,n);else{const i=UB(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Yv(r)}function HB(t,e){const n=vl(t);return n===e||!wa(n)||Fd(n)?!1:_a(n).position==="fixed"||HB(n,e)}function _ne(t,e){const n=e.get(t);if(n)return n;let r=Yp(t,[],!1).filter(o=>wa(o)&&Pf(o)!=="body"),i=null;const a=_a(t).position==="fixed";let s=a?vl(t):t;for(;wa(s)&&!Fd(s);){const o=_a(s),l=Nk(s);!l&&o.position==="fixed"&&(i=null),(a?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ng(s)&&!l&&HB(t,s))?r=r.filter(d=>d!==s):i=o,s=vl(s)}return e.set(t,r),r}function Sne(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?Qx(e)?[]:_ne(e,this._c):[].concat(n),r],o=s[0],l=s.reduce((c,d)=>{const f=RI(e,d,i);return c.top=Xr(f.top,c.top),c.right=ml(f.right,c.right),c.bottom=ml(f.bottom,c.bottom),c.left=Xr(f.left,c.left),c},RI(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Ene(t){const{width:e,height:n}=zB(t);return{width:e,height:n}}function jne(t,e,n){const r=ls(e),i=ms(e),a=n==="fixed",s=Mc(t,!0,a,e);let o={scrollLeft:0,scrollTop:0};const l=gl(0);if(r||!r&&!a)if((Pf(e)!=="body"||ng(i))&&(o=eb(e)),r){const p=Mc(e,!0,a,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&(l.x=xE(i));let c=0,d=0;if(i&&!r&&!a){const p=i.getBoundingClientRect();d=p.top+o.scrollTop,c=p.left+o.scrollLeft-xE(i,p)}const f=s.left+o.scrollLeft-l.x-c,h=s.top+o.scrollTop-l.y-d;return{x:f,y:h,width:s.width,height:s.height}}function j_(t){return _a(t).position==="static"}function MI(t,e){if(!ls(t)||_a(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ms(t)===n&&(n=n.ownerDocument.body),n}function VB(t,e){const n=ri(t);if(Qx(t))return n;if(!ls(t)){let i=vl(t);for(;i&&!Fd(i);){if(wa(i)&&!j_(i))return i;i=vl(i)}return n}let r=MI(t,e);for(;r&&hne(r)&&j_(r);)r=MI(r,e);return r&&Fd(r)&&j_(r)&&!Nk(r)?n:r||pne(t)||n}const Ane=async function(t){const e=this.getOffsetParent||VB,n=this.getDimensions,r=await n(t.floating);return{reference:jne(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Tne(t){return _a(t).direction==="rtl"}const kne={convertOffsetParentRelativeRectToViewportRelativeRect:yne,getDocumentElement:ms,getClippingRect:Sne,getOffsetParent:VB,getElementRects:Ane,getClientRects:vne,getDimensions:Ene,getScale:hd,isElement:wa,isRTL:Tne};function Cne(t,e){let n=null,r;const i=ms(t);function a(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),a();const{left:c,top:d,width:f,height:h}=t.getBoundingClientRect();if(o||e(),!f||!h)return;const p=ry(d),m=ry(i.clientWidth-(c+f)),g=ry(i.clientHeight-(d+h)),b=ry(c),v={rootMargin:-p+"px "+-m+"px "+-g+"px "+-b+"px",threshold:Xr(0,ml(1,l))||1};let y=!0;function w(_){const E=_[0].intersectionRatio;if(E!==l){if(!y)return s();E?s(!1,E):r=setTimeout(()=>{s(!1,1e-7)},1e3)}y=!1}try{n=new IntersectionObserver(w,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(w,v)}n.observe(t)}return s(!0),a}function One(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Ik(t),d=i||a?[...c?Yp(c):[],...Yp(e)]:[];d.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),a&&x.addEventListener("resize",n)});const f=c&&o?Cne(c,n):null;let h=-1,p=null;s&&(p=new ResizeObserver(x=>{let[v]=x;v&&v.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let m,g=l?Mc(t):null;l&&b();function b(){const x=Mc(t);g&&(x.x!==g.x||x.y!==g.y||x.width!==g.width||x.height!==g.height)&&n(),g=x,m=requestAnimationFrame(b)}return n(),()=>{var x;d.forEach(v=>{i&&v.removeEventListener("scroll",n),a&&v.removeEventListener("resize",n)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const Nne=cne,Pne=une,Ine=sne,$ne=fne,Rne=one,DI=ane,Mne=dne,Dne=(t,e,n)=>{const r=new Map,i={platform:kne,...n},a={...i.platform,_c:r};return ine(t,e,{...i,platform:a})};var sv=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Xv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Xv(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!Xv(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function WB(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function LI(t,e){const n=WB(t);return Math.round(e*n)/n}function A_(t){const e=S.useRef(t);return sv(()=>{e.current=t}),e}function Lne(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:l,open:c}=t,[d,f]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=S.useState(r);Xv(h,r)||p(r);const[m,g]=S.useState(null),[b,x]=S.useState(null),v=S.useCallback(D=>{D!==E.current&&(E.current=D,g(D))},[]),y=S.useCallback(D=>{D!==A.current&&(A.current=D,x(D))},[]),w=a||m,_=s||b,E=S.useRef(null),A=S.useRef(null),j=S.useRef(d),T=l!=null,C=A_(l),k=A_(i),O=A_(c),L=S.useCallback(()=>{if(!E.current||!A.current)return;const D={placement:e,strategy:n,middleware:h};k.current&&(D.platform=k.current),Dne(E.current,A.current,D).then(B=>{const P={...B,isPositioned:O.current!==!1};R.current&&!Xv(j.current,P)&&(j.current=P,Jc.flushSync(()=>{f(P)}))})},[h,e,n,k,O]);sv(()=>{c===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[c]);const R=S.useRef(!1);sv(()=>(R.current=!0,()=>{R.current=!1}),[]),sv(()=>{if(w&&(E.current=w),_&&(A.current=_),w&&_){if(C.current)return C.current(w,_,L);L()}},[w,_,L,C,T]);const F=S.useMemo(()=>({reference:E,floating:A,setReference:v,setFloating:y}),[v,y]),U=S.useMemo(()=>({reference:w,floating:_}),[w,_]),V=S.useMemo(()=>{const D={position:n,left:0,top:0};if(!U.floating)return D;const B=LI(U.floating,d.x),P=LI(U.floating,d.y);return o?{...D,transform:"translate("+B+"px, "+P+"px)",...WB(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:P}},[n,o,U.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:L,refs:F,elements:U,floatingStyles:V}),[d,L,F,U,V])}const Fne=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?DI({element:r.current,padding:i}).fn(n):{}:r?DI({element:r,padding:i}).fn(n):{}}}},Bne=(t,e)=>({...Nne(t),options:[t,e]}),zne=(t,e)=>({...Pne(t),options:[t,e]}),Une=(t,e)=>({...Mne(t),options:[t,e]}),Hne=(t,e)=>({...Ine(t),options:[t,e]}),Vne=(t,e)=>({...$ne(t),options:[t,e]}),Wne=(t,e)=>({...Rne(t),options:[t,e]}),qne=(t,e)=>({...Fne(t),options:[t,e]});var Gne="Arrow",qB=S.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return u.jsx($e.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});qB.displayName=Gne;var Kne=qB;function Yne(t,e=[]){let n=[];function r(a,s){const o=S.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||o,b=S.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:b,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||o,m=S.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,d]}const i=()=>{const a=n.map(s=>S.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,Xne(i,...e)]}function Xne(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function GB(t){const[e,n]=S.useState(void 0);return An(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,o;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,o=c.blockSize}else s=t.offsetWidth,o=t.offsetHeight;n({width:s,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var $k="Popper",[KB,If]=Yne($k),[Zne,YB]=KB($k),XB=t=>{const{__scopePopper:e,children:n}=t,[r,i]=S.useState(null);return u.jsx(Zne,{scope:e,anchor:r,onAnchorChange:i,children:n})};XB.displayName=$k;var ZB="PopperAnchor",JB=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=YB(ZB,n),s=S.useRef(null),o=it(e,s);return S.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:u.jsx($e.div,{...i,ref:o})});JB.displayName=ZB;var Rk="PopperContent",[Jne,Qne]=KB(Rk),QB=S.forwardRef((t,e)=>{var N,K,z,Z,J,Y;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:m,...g}=t,b=YB(Rk,n),[x,v]=S.useState(null),y=it(e,me=>v(me)),[w,_]=S.useState(null),E=GB(w),A=(E==null?void 0:E.width)??0,j=(E==null?void 0:E.height)??0,T=r+(a!=="center"?"-"+a:""),C=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(c)?c:[c],O=k.length>0,L={padding:C,boundary:k.filter(tre),altBoundary:O},{refs:R,floatingStyles:F,placement:U,isPositioned:V,middlewareData:D}=Lne({strategy:"fixed",placement:T,whileElementsMounted:(...me)=>One(...me,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[Bne({mainAxis:i+j,alignmentAxis:s}),l&&zne({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Une():void 0,...L}),l&&Hne({...L}),Vne({...L,apply:({elements:me,rects:le,availableWidth:ve,availableHeight:oe})=>{const{width:Be,height:Te}=le.reference,De=me.floating.style;De.setProperty("--radix-popper-available-width",`${ve}px`),De.setProperty("--radix-popper-available-height",`${oe}px`),De.setProperty("--radix-popper-anchor-width",`${Be}px`),De.setProperty("--radix-popper-anchor-height",`${Te}px`)}}),w&&qne({element:w,padding:o}),nre({arrowWidth:A,arrowHeight:j}),h&&Wne({strategy:"referenceHidden",...L})]}),[B,P]=nz(U),W=qt(m);An(()=>{V&&(W==null||W())},[V,W]);const G=(N=D.arrow)==null?void 0:N.x,$=(K=D.arrow)==null?void 0:K.y,ee=((z=D.arrow)==null?void 0:z.centerOffset)!==0,[ie,I]=S.useState();return An(()=>{x&&I(window.getComputedStyle(x).zIndex)},[x]),u.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:V?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(Z=D.transformOrigin)==null?void 0:Z.x,(J=D.transformOrigin)==null?void 0:J.y].join(" "),...((Y=D.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(Jne,{scope:n,placedSide:B,onArrowChange:_,arrowX:G,arrowY:$,shouldHideArrow:ee,children:u.jsx($e.div,{"data-side":B,"data-align":P,...g,ref:y,style:{...g.style,animation:V?void 0:"none"}})})})});QB.displayName=Rk;var ez="PopperArrow",ere={top:"bottom",right:"left",bottom:"top",left:"right"},tz=S.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=Qne(ez,r),s=ere[a.placedSide];return u.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:u.jsx(Kne,{...i,ref:n,style:{...i.style,display:"block"}})})});tz.displayName=ez;function tre(t){return t!==null}var nre=t=>({name:"transformOrigin",options:t,fn(e){var b,x,v;const{placement:n,rects:r,middlewareData:i}=e,s=((b=i.arrow)==null?void 0:b.centerOffset)!==0,o=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,d]=nz(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=i.arrow)==null?void 0:x.x)??0)+o/2,p=(((v=i.arrow)==null?void 0:v.y)??0)+l/2;let m="",g="";return c==="bottom"?(m=s?f:`${h}px`,g=`${-l}px`):c==="top"?(m=s?f:`${h}px`,g=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,g=s?f:`${p}px`):c==="left"&&(m=`${r.floating.width+l}px`,g=s?f:`${p}px`),{data:{x:m,y:g}}}});function nz(t){const[e,n="center"]=t.split("-");return[e,n]}var Mk=XB,Dk=JB,Lk=QB,Fk=tz,[tb,tWe]=ps("Tooltip",[If]),nb=If(),rz="TooltipProvider",rre=700,bE="tooltip.open",[ire,Bk]=tb(rz),iz=t=>{const{__scopeTooltip:e,delayDuration:n=rre,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=t,[s,o]=S.useState(!0),l=S.useRef(!1),c=S.useRef(0);return S.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),u.jsx(ire,{scope:e,isOpenDelayed:s,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(c.current),o(!1)},[]),onClose:S.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:S.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:a})};iz.displayName=rz;var rb="Tooltip",[are,ib]=tb(rb),az=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:s,delayDuration:o}=t,l=Bk(rb,t.__scopeTooltip),c=nb(e),[d,f]=S.useState(null),h=ga(),p=S.useRef(0),m=s??l.disableHoverableContent,g=o??l.delayDuration,b=S.useRef(!1),[x=!1,v]=Xs({prop:r,defaultProp:i,onChange:A=>{A?(l.onOpen(),document.dispatchEvent(new CustomEvent(bE))):l.onClose(),a==null||a(A)}}),y=S.useMemo(()=>x?b.current?"delayed-open":"instant-open":"closed",[x]),w=S.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b.current=!1,v(!0)},[v]),_=S.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v(!1)},[v]),E=S.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{b.current=!0,v(!0),p.current=0},g)},[g,v]);return S.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),u.jsx(Mk,{...c,children:u.jsx(are,{scope:e,contentId:h,open:x,stateAttribute:y,trigger:d,onTriggerChange:f,onTriggerEnter:S.useCallback(()=>{l.isOpenDelayed?E():w()},[l.isOpenDelayed,E,w]),onTriggerLeave:S.useCallback(()=>{m?_():(window.clearTimeout(p.current),p.current=0)},[_,m]),onOpen:w,onClose:_,disableHoverableContent:m,children:n})})};az.displayName=rb;var wE="TooltipTrigger",sz=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=ib(wE,n),a=Bk(wE,n),s=nb(n),o=S.useRef(null),l=it(e,o,i.onTriggerChange),c=S.useRef(!1),d=S.useRef(!1),f=S.useCallback(()=>c.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(Dk,{asChild:!0,...s,children:u.jsx($e.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:pe(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:pe(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:pe(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:pe(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:pe(t.onBlur,i.onClose),onClick:pe(t.onClick,i.onClose)})})});sz.displayName=wE;var sre="TooltipPortal",[nWe,ore]=tb(sre,{forceMount:void 0}),Bd="TooltipContent",oz=S.forwardRef((t,e)=>{const n=ore(Bd,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=t,s=ib(Bd,t.__scopeTooltip);return u.jsx(pr,{present:r||s.open,children:s.disableHoverableContent?u.jsx(lz,{side:i,...a,ref:e}):u.jsx(lre,{side:i,...a,ref:e})})}),lre=S.forwardRef((t,e)=>{const n=ib(Bd,t.__scopeTooltip),r=Bk(Bd,t.__scopeTooltip),i=S.useRef(null),a=it(e,i),[s,o]=S.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:f}=r,h=S.useCallback(()=>{o(null),f(!1)},[f]),p=S.useCallback((m,g)=>{const b=m.currentTarget,x={x:m.clientX,y:m.clientY},v=fre(x,b.getBoundingClientRect()),y=hre(x,v),w=pre(g.getBoundingClientRect()),_=gre([...y,...w]);o(_),f(!0)},[f]);return S.useEffect(()=>()=>h(),[h]),S.useEffect(()=>{if(l&&d){const m=b=>p(b,d),g=b=>p(b,l);return l.addEventListener("pointerleave",m),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",m),d.removeEventListener("pointerleave",g)}}},[l,d,p,h]),S.useEffect(()=>{if(s){const m=g=>{const b=g.target,x={x:g.clientX,y:g.clientY},v=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),y=!mre(x,s);v?h():y&&(h(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,d,s,c,h]),u.jsx(lz,{...t,ref:a})}),[cre,ure]=tb(rb,{isInside:!1}),lz=S.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...o}=t,l=ib(Bd,n),c=nb(n),{onClose:d}=l;return S.useEffect(()=>(document.addEventListener(bE,d),()=>document.removeEventListener(bE,d)),[d]),S.useEffect(()=>{if(l.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(Cf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(Lk,{"data-state":l.stateAttribute,...c,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(JF,{children:r}),u.jsx(cre,{scope:n,isInside:!0,children:u.jsx(tee,{id:l.contentId,role:"tooltip",children:i||r})})]})})});oz.displayName=Bd;var cz="TooltipArrow",dre=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=nb(n);return ure(cz,n).isInside?null:u.jsx(Fk,{...i,...r,ref:e})});dre.displayName=cz;function fre(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function hre(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function pre(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function mre(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const o=e[a].x,l=e[a].y,c=e[s].x,d=e[s].y;l>r!=d>r&&n<(c-o)*(r-l)/(d-l)+o&&(i=!i)}return i}function gre(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),yre(e)}function yre(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const a=e[e.length-1],s=e[e.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const a=n[n.length-1],s=n[n.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var vre=iz,xre=az,bre=sz,uz=oz;const dz=vre,pu=xre,mu=bre,Jl=S.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(uz,{ref:r,sideOffset:e,className:je("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Jl.displayName=uz.displayName;const wre="modulepreload",_re=function(t){return"/admit-ai-nexus/"+t},FI={},Ii=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=_re(l),l in FI)return;FI[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":wre,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},Sre=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ii(async()=>{const{default:r}=await Promise.resolve().then(()=>$f);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class zk extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Ere extends zk{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class BI extends zk{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class zI extends zk{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var _E;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(_E||(_E={}));var jre=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class Are{constructor(e,{headers:n={},customFetch:r,region:i=_E.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=Sre(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return jre(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=n;let o={},{region:l}=n;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(o["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(o["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(o["Content-Type"]="application/json",d=JSON.stringify(s)));const f=yield this.fetch(c.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:d}).catch(g=>{throw new Ere(g)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new BI(f);if(!f.ok)throw new zI(f);let p=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield f.json():p==="application/octet-stream"?m=yield f.blob():p==="text/event-stream"?m=f:p==="multipart/form-data"?m=yield f.formData():m=yield f.text(),{data:m,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof zI||i instanceof BI?i.context:void 0}}})}}var Sr={},Uk={},ab={},rg={},sb={},ob={},Tre=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zd=Tre();const kre=zd.fetch,fz=zd.fetch.bind(zd),hz=zd.Headers,Cre=zd.Request,Ore=zd.Response,$f=Object.freeze(Object.defineProperty({__proto__:null,Headers:hz,Request:Cre,Response:Ore,default:fz,fetch:kre},Symbol.toStringTag,{value:"Module"})),Nre=GK($f);var lb={};Object.defineProperty(lb,"__esModule",{value:!0});let Pre=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};lb.default=Pre;var pz=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ob,"__esModule",{value:!0});const Ire=pz(Nre),$re=pz(lb);let Rre=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Ire.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,o,l;let c=null,d=null,f=null,h=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const x=await a.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const g=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),b=(o=a.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");g&&b&&b.length>1&&(f=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await a.text();try{c=JSON.parse(g),Array.isArray(c)&&a.status===404&&(d=[],c=null,h=200,p="OK")}catch{a.status===404&&g===""?(h=204,p="No Content"):c={message:g}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,p="OK"),c&&this.shouldThrowOnError)throw new $re.default(c)}return{error:c,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,o,l;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};ob.default=Rre;var Mre=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sb,"__esModule",{value:!0});const Dre=Mre(ob);let Lre=class extends Dre.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var o;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};sb.default=Lre;var Fre=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rg,"__esModule",{value:!0});const Bre=Fre(sb);let zre=class extends Bre.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${s}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};rg.default=zre;var Ure=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ab,"__esModule",{value:!0});const gh=Ure(rg);let Hre=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let a=!1;const s=(e??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new gh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const s=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(s.length>0){const o=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new gh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){const s="POST",o=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),a||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new gh.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new gh.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new gh.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ab.default=Hre;var cb={},ub={};Object.defineProperty(ub,"__esModule",{value:!0});ub.version=void 0;ub.version="0.0.0-automated";Object.defineProperty(cb,"__esModule",{value:!0});cb.DEFAULT_HEADERS=void 0;const Vre=ub;cb.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Vre.version}`};var mz=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Uk,"__esModule",{value:!0});const Wre=mz(ab),qre=mz(rg),Gre=cb;let Kre=class gz{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},Gre.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new Wre.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new gz(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:a}={}){let s;const o=new URL(`${this.url}/rpc/${e}`);let l;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(s="POST",l=n);const c=Object.assign({},this.headers);return a&&(c.Prefer=`count=${a}`),new qre.default({method:s,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Uk.default=Kre;var Rf=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sr,"__esModule",{value:!0});Sr.PostgrestError=Sr.PostgrestBuilder=Sr.PostgrestTransformBuilder=Sr.PostgrestFilterBuilder=Sr.PostgrestQueryBuilder=Sr.PostgrestClient=void 0;const yz=Rf(Uk);Sr.PostgrestClient=yz.default;const vz=Rf(ab);Sr.PostgrestQueryBuilder=vz.default;const xz=Rf(rg);Sr.PostgrestFilterBuilder=xz.default;const bz=Rf(sb);Sr.PostgrestTransformBuilder=bz.default;const wz=Rf(ob);Sr.PostgrestBuilder=wz.default;const _z=Rf(lb);Sr.PostgrestError=_z.default;var Yre=Sr.default={PostgrestClient:yz.default,PostgrestQueryBuilder:vz.default,PostgrestFilterBuilder:xz.default,PostgrestTransformBuilder:bz.default,PostgrestBuilder:wz.default,PostgrestError:_z.default};const{PostgrestClient:Xre,PostgrestQueryBuilder:lWe,PostgrestFilterBuilder:cWe,PostgrestTransformBuilder:uWe,PostgrestBuilder:dWe,PostgrestError:fWe}=Yre;function Zre(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Jre=Zre(),Qre="2.11.15",eie=`realtime-js/${Qre}`,tie="1.0.0",Sz=1e4,nie=1e3;var rp;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(rp||(rp={}));var qn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(qn||(qn={}));var na;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(na||(na={}));var SE;(function(t){t.websocket="websocket"})(SE||(SE={}));var ac;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ac||(ac={}));class rie{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2);let s=this.HEADER_LENGTH+2;const o=r.decode(e.slice(s,s+i));s=s+i;const l=r.decode(e.slice(s,s+a));s=s+a;const c=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class Ez{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var kt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(kt||(kt={}));const UI=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,s)=>(a[s]=iie(s,t,e,i),a),{})},iie=(t,e,n,r)=>{const i=e.find(o=>o.name===t),a=i==null?void 0:i.type,s=n[t];return a&&!r.includes(a)?jz(a,s):EE(s)},jz=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return lie(e,n)}switch(t){case kt.bool:return aie(e);case kt.float4:case kt.float8:case kt.int2:case kt.int4:case kt.int8:case kt.numeric:case kt.oid:return sie(e);case kt.json:case kt.jsonb:return oie(e);case kt.timestamp:return cie(e);case kt.abstime:case kt.date:case kt.daterange:case kt.int4range:case kt.int8range:case kt.money:case kt.reltime:case kt.text:case kt.time:case kt.timestamptz:case kt.timetz:case kt.tsrange:case kt.tstzrange:return EE(e);default:return EE(e)}},EE=t=>t,aie=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},sie=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},oie=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},lie=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const s=t.slice(1,n);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>jz(e,o))}return t},cie=t=>typeof t=="string"?t.replace(" ","T"):t,Az=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class T_{constructor(e,n,r={},i=Sz){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var HI;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(HI||(HI={}));class ip{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ip.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=ip.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ip.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),s=this.transformState(n),o={},l={};return this.map(a,(c,d)=>{s[c]||(l[c]=d)}),this.map(s,(c,d)=>{const f=a[c];if(f){const h=d.map(b=>b.presence_ref),p=f.map(b=>b.presence_ref),m=d.filter(b=>p.indexOf(b.presence_ref)<0),g=f.filter(b=>h.indexOf(b.presence_ref)<0);m.length>0&&(o[c]=m),g.length>0&&(l[c]=g)}else o[c]=d}),this.syncDiff(a,{joins:o,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var c;const d=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),d.length>0){const f=e[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);e[o].unshift(...h)}r(o,d,l)}),this.map(s,(o,l)=>{let c=e[o];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var VI;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(VI||(VI={}));var WI;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(WI||(WI={}));var As;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(As||(As={}));class Hk{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=qn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new T_(this,na.join,this.params,this.timeout),this.rejoinTimer=new Ez(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=qn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(na.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new ip(this),this.broadcastEndpointURL=Az(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==qn.closed){const{config:{broadcast:a,presence:s,private:o}}=this.params;this._onError(d=>e==null?void 0:e(As.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(As.CLOSED));const l={},c={broadcast:a,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(As.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,m=[];for(let g=0;g<p;g++){const b=h[g],{filter:{event:x,schema:v,table:y,filter:w}}=b,_=d&&d[g];if(_&&_.event===x&&_.schema===v&&_.table===y&&_.filter===w)m.push(Object.assign(Object.assign({},b),{id:_.id}));else{this.unsubscribe(),this.state=qn.errored,e==null||e(As.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(As.SUBSCRIBED);return}}).receive("error",d=>{this.state=qn.errored,e==null||e(As.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(As.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=qn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(na.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new T_(this,na.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new T_(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const s=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:d}=na;if(r&&[o,l,c,d].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,g,b;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((b=(g=p.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===s}).map(p=>p.callback(h,r)):(a=this.bindings[s])===null||a===void 0||a.filter(p=>{var m,g,b,x,v,y;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const w=p.id,_=(m=p.filter)===null||m===void 0?void 0:m.event;return w&&((g=n.ids)===null||g===void 0?void 0:g.includes(w))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const w=(v=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return w==="*"||w===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:b,commit_timestamp:x,type:v,errors:y}=m;h=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:x,eventType:v,new:{},old:{},errors:y}),this._getPayloadRecords(m))}p.callback(h,r)})}_isClosed(){return this.state===qn.closed}_isJoined(){return this.state===qn.joined}_isJoining(){return this.state===qn.joining}_isLeaving(){return this.state===qn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Hk.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(na.close,{},e)}_onError(e){this._on(na.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=UI(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=UI(e.columns,e.old_record)),n}}const qI=()=>{},uie=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class die{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Sz,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qI,this.ref=0,this.logger=qI,this.conn=null,this.sendBuffer=[],this.serializer=new rie,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...o)=>Ii(async()=>{const{default:l}=await Promise.resolve().then(()=>$f);return{default:l}},void 0).then(({default:l})=>l(...o)):s=fetch,(...o)=>s(...o)},this.endPoint=`${e}/${SE.websocket}`,this.httpEndpoint=Az(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,s)=>s(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ez(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Jre),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:tie}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case rp.connecting:return ac.Connecting;case rp.open:return ac.Open;case rp.closing:return ac.Closing;default:return ac.Closed}}isConnected(){return this.connectionState()===ac.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new Hk(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,s=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:eie};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(na.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(nie,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:a,ref:s}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,a),Array.from(this.channels).filter(o=>o._isMember(r)).forEach(o=>o._trigger(i,a,s)),this.stateChangeCallbacks.message.forEach(o=>o(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(na.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([uie],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Vk extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Nn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class fie extends Vk{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class jE extends Vk{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var hie=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const Tz=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ii(async()=>{const{default:r}=await Promise.resolve().then(()=>$f);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},pie=()=>hie(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ii(()=>Promise.resolve().then(()=>$f),void 0)).Response:Response}),AE=t=>{if(Array.isArray(t))return t.map(n=>AE(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=AE(r)}),e},mie=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var eu=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const k_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),gie=(t,e,n)=>eu(void 0,void 0,void 0,function*(){const r=yield pie();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const a=t.status||500,s=(i==null?void 0:i.statusCode)||a+"";e(new fie(k_(i),a,s))}).catch(i=>{e(new jE(k_(i),i))}):e(new jE(k_(t),t))}),yie=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(mie(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function ig(t,e,n,r,i,a){return eu(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(n,yie(e,r,i,a)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>gie(l,o,r))})})}function Zv(t,e,n,r){return eu(this,void 0,void 0,function*(){return ig(t,"GET",e,n,r)})}function Ts(t,e,n,r,i){return eu(this,void 0,void 0,function*(){return ig(t,"POST",e,r,i,n)})}function TE(t,e,n,r,i){return eu(this,void 0,void 0,function*(){return ig(t,"PUT",e,r,i,n)})}function vie(t,e,n,r){return eu(this,void 0,void 0,function*(){return ig(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function kz(t,e,n,r,i){return eu(this,void 0,void 0,function*(){return ig(t,"DELETE",e,r,i,n)})}var yr=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const xie={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},GI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class bie{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Tz(i)}uploadOrUpdate(e,n,r,i){return yr(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},GI),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=r,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),f=yield(e=="PUT"?TE:Ts)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(Nn(a))return{data:null,error:a};throw a}})}upload(e,n,r){return yr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return yr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:GI.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield TE(this.fetch,o.toString(),l,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(Nn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return yr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield Ts(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new Vk("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(r){if(Nn(r))return{data:null,error:r};throw r}})}update(e,n,r){return yr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return yr(this,void 0,void 0,function*(){try{return{data:yield Ts(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Nn(i))return{data:null,error:i};throw i}})}copy(e,n,r){return yr(this,void 0,void 0,function*(){try{return{data:{path:(yield Ts(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Nn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return yr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Ts(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(Nn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return yr(this,void 0,void 0,function*(){try{const i=yield Ts(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(Nn(i))return{data:null,error:i};throw i}})}download(e,n){return yr(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=a?`?${a}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Zv(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Nn(o))return{data:null,error:o};throw o}})}info(e){return yr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Zv(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:AE(r),error:null}}catch(r){if(Nn(r))return{data:null,error:r};throw r}})}exists(e){return yr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield vie(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Nn(r)&&r instanceof jE){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${c}`)}}}remove(e){return yr(this,void 0,void 0,function*(){try{return{data:yield kz(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}list(e,n,r){return yr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},xie),n),{prefix:e||""});return{data:yield Ts(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Nn(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const wie="2.10.4",_ie={"X-Client-Info":`storage-js/${wie}`};var gu=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class Sie{constructor(e,n={},r,i){const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},_ie),n),this.fetch=Tz(r)}listBuckets(){return gu(this,void 0,void 0,function*(){try{return{data:yield Zv(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Nn(e))return{data:null,error:e};throw e}})}getBucket(e){return gu(this,void 0,void 0,function*(){try{return{data:yield Zv(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return gu(this,void 0,void 0,function*(){try{return{data:yield Ts(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Nn(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return gu(this,void 0,void 0,function*(){try{return{data:yield TE(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Nn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return gu(this,void 0,void 0,function*(){try{return{data:yield Ts(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return gu(this,void 0,void 0,function*(){try{return{data:yield kz(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}}class Eie extends Sie{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new bie(this.url,this.headers,e,this.fetch)}}const jie="2.53.0";let Rh="";typeof Deno<"u"?Rh="deno":typeof document<"u"?Rh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rh="react-native":Rh="node";const Aie={"X-Client-Info":`supabase-js-${Rh}/${jie}`},Tie={headers:Aie},kie={schema:"public"},Cie={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Oie={};var Nie=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const Pie=t=>{let e;return t?e=t:typeof fetch>"u"?e=fz:e=fetch,(...n)=>e(...n)},Iie=()=>typeof Headers>"u"?hz:Headers,$ie=(t,e,n)=>{const r=Pie(n),i=Iie();return(a,s)=>Nie(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let c=new i(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(a,Object.assign(Object.assign({},s),{headers:c}))})};var Rie=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};function Mie(t){return t.endsWith("/")?t:t+"/"}function Die(t,e){var n,r;const{db:i,auth:a,realtime:s,global:o}=t,{db:l,auth:c,realtime:d,global:f}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Rie(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const Cz="2.71.1",Nu=30*1e3,kE=3,C_=kE*Nu,Lie="http://localhost:9999",Fie="supabase.auth.token",Bie={"X-Client-Info":`gotrue-js/${Cz}`},CE="X-Supabase-Api-Version",Oz={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zie=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Uie=10*60*1e3;class Wk extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Xe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Hie extends Wk{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Vie(t){return Xe(t)&&t.name==="AuthApiError"}class Nz extends Wk{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Il extends Wk{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Ao extends Il{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Wie(t){return Xe(t)&&t.name==="AuthSessionMissingError"}class iy extends Il{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ay extends Il{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class sy extends Il{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qie(t){return Xe(t)&&t.name==="AuthImplicitGrantRedirectError"}class KI extends Il{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class OE extends Il{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function O_(t){return Xe(t)&&t.name==="AuthRetryableFetchError"}class YI extends Il{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class NE extends Il{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),XI=` 	
\r=`.split(""),Gie=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<XI.length;e+=1)t[XI[e].charCodeAt(0)]=-2;for(let e=0;e<Jv.length;e+=1)t[Jv[e].charCodeAt(0)]=e;return t})();function ZI(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Jv[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Jv[r]),e.queuedBits-=6}}function Pz(t,e,n){const r=Gie[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function JI(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{Xie(s,r,n)};for(let s=0;s<t.length;s+=1)Pz(t.charCodeAt(s),i,a);return e.join("")}function Kie(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Yie(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Kie(r,e)}}function Xie(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Zie(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Pz(t.charCodeAt(i),n,r);return new Uint8Array(e)}function Jie(t){const e=[];return Yie(t,n=>e.push(n)),new Uint8Array(e)}function Qie(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>ZI(i,n,r)),ZI(null,n,r),e.join("")}function eae(t){return Math.round(Date.now()/1e3)+t}function tae(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ki=()=>typeof window<"u"&&typeof document<"u",Wl={tested:!1,writable:!1},Iz=()=>{if(!Ki())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wl.tested)return Wl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Wl.tested=!0,Wl.writable=!0}catch{Wl.tested=!0,Wl.writable=!1}return Wl.writable};function nae(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const $z=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ii(async()=>{const{default:r}=await Promise.resolve().then(()=>$f);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},rae=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Pu=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ql=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},bo=async(t,e)=>{await t.removeItem(e)};class db{constructor(){this.promise=new db.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}db.promiseConstructor=Promise;function N_(t){const e=t.split(".");if(e.length!==3)throw new NE("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!zie.test(e[r]))throw new NE("JWT not in base64url format");return{header:JSON.parse(JI(e[0])),payload:JSON.parse(JI(e[1])),signature:Zie(e[2]),raw:{header:e[0],payload:e[1]}}}async function iae(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function aae(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){r(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function sae(t){return("0"+t.toString(16)).substr(-2)}function oae(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,sae).join("")}async function lae(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function cae(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await lae(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yu(t,e,n=!1){const r=oae();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Pu(t,`${e}-code-verifier`,i);const a=await cae(r);return[a,r===a?"plain":"s256"]}const uae=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dae(t){const e=t.headers.get(CE);if(!e||!e.match(uae))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function fae(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function hae(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const pae=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vu(t){if(!pae.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function P_(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function QI(t){return JSON.parse(JSON.stringify(t))}var mae=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Ql=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),gae=[502,503,504];async function e2(t){var e;if(!rae(t))throw new OE(Ql(t),0);if(gae.includes(t.status))throw new OE(Ql(t),t.status);let n;try{n=await t.json()}catch(a){throw new Nz(Ql(a),a)}let r;const i=dae(t);if(i&&i.getTime()>=Oz["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new YI(Ql(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ao}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new YI(Ql(n),t.status,n.weak_password.reasons);throw new Hie(Ql(n),t.status||500,r)}const yae=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function st(t,e,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[CE]||(a[CE]=Oz["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const s=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await vae(t,e,n+o,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function vae(t,e,n,r,i,a){const s=yae(e,r,i,a);let o;try{o=await t(n,Object.assign({},s))}catch(l){throw console.error(l),new OE(Ql(l),0)}if(o.ok||await e2(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await e2(l)}}function Es(t){var e;let n=null;_ae(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=eae(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function t2(t){const e=Es(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ro(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function xae(t){return{data:t,error:null}}function bae(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,s=mae(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function wae(t){return t}function _ae(t){return t.access_token&&t.refresh_token&&t.expires_in}const I_=["global","local","others"];var Sae=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class Eae{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=$z(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=I_[0]){if(I_.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${I_.join(", ")}`);try{return await st(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await st(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ro})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Sae(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await st(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:bae,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Xe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await st(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ro})}catch(n){if(Xe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await st(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:wae});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(m.split(";")[1].split("=")[1]);c[`${b}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Xe(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){vu(e);try{return await st(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ro})}catch(n){if(Xe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){vu(e);try{return await st(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ro})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){vu(e);try{return await st(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ro})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){vu(e.userId);try{const{data:n,error:r}=await st(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){vu(e.userId),vu(e.id);try{return{data:await st(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}}}function n2(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function jae(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const xu={debug:!!(globalThis&&Iz()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Rz extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Aae extends Rz{}async function Tae(t,e,n){xu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),xu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){xu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{xu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw xu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Aae(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(xu.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}jae();const kae={url:Lie,storageKey:Fie,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Bie,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function r2(t,e,n){return await n()}const bu={};class Xp{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xp.nextInstanceID,Xp.nextInstanceID+=1,this.instanceID>0&&Ki()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},kae),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Eae({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=$z(i.fetch),this.lock=i.lock||r2,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ki()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Tae:this.lock=r2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Iz()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=n2(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=n2(this.memoryStorage)),Ki()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=bu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){bu[this.storageKey]=Object.assign(Object.assign({},bu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=bu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){bu[this.storageKey]=Object.assign(Object.assign({},bu[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Cz}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=nae(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ki()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),qie(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Xe(n)?{error:n}:{error:new Nz("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Es}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(Xe(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:d,password:f,options:h}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await yu(this.storage,this.storageKey)),a=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:Es})}else if("phone"in e){const{phone:d,password:f,options:h}=e;a=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Es})}else throw new ay("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(Xe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:s,options:o}=e;n=await st(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:t2})}else if("phone"in e){const{phone:a,password:s,options:o}=e;n=await st(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:t2})}else throw new ay("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new iy}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Xe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,i,a,s,o,l,c,d,f,h,p;let m,g;if("message"in e)m=e.message,g=e.signature;else{const{chain:b,wallet:x,statement:v,options:y}=e;let w;if(Ki())if(typeof x=="object")w=x;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))w=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const _=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const E=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),v?{statement:v}:null));let A;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")A=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)A=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)m=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),g=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${_.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(r=y==null?void 0:y.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const E=await w.signMessage(new TextEncoder().encode(m),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=E}}try{const{data:b,error:x}=await st(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Qie(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Es});if(x)throw x;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new iy}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:x})}catch(b){if(Xe(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const n=await ql(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:s}=await st(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Es});if(await bo(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new iy}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(Xe(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:s}=e,o=await st(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Es}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new iy}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(Xe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,a,s;try{if("email"in e){const{email:o,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await yu(this.storage,this.storageKey));const{error:f}=await st(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:d}=await st(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new ay("You must provide either an email or phone number.")}catch(o){if(Xe(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:o}=await st(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Es});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Xe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await yu(this.storage,this.storageKey)),await st(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:xae})}catch(a){if(Xe(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Ao;const{error:i}=await st(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Xe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:s}=await st(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:s,error:o}=await st(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new ay("You must provide either an email or phone number and a type")}catch(n){if(Xe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ql(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<C_:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const s=await ql(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=P_()}if(this.storage.isServer&&e.user){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!s&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await st(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ro}):await this._useSession(async n=>{var r,i,a;const{data:s,error:o}=n;if(o)throw o;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ao}:await st(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ro})})}catch(n){if(Xe(n))return Wie(n)&&(await this._removeSession(),await bo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Ao;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await yu(this.storage,this.storageKey));const{data:c,error:d}=await st(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:Ro});if(d)throw d;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ao;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:s}=N_(e.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Xe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:s,error:o}=n;if(o)throw o;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ao;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Xe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ki())throw new sy("No browser detected.");if(e.error||e.error_description||e.error_code)throw new sy(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new KI("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new sy("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new KI("No code detected.");const{data:v,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:c}=e;if(!a||!o||!s||!c)throw new sy("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=Nu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:g,error:b}=await this._getUser(a);if(b)throw b;const x={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:s,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(r){if(Xe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ql(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!(Vie(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await bo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=tae(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await yu(this.storage,this.storageKey,!0));try{return await st(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Xe(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var s,o,l,c,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await st(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Ki()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Xe(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)throw s;return await st(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await aae(async i=>(i>0&&await iae(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await st(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Es})),(i,a)=>{const s=200*Math.pow(2,i);return a&&O_(a)&&Date.now()+s-r<Nu})}catch(r){if(this._debug(n,"error",r),Xe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ki()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await ql(this.storage,this.storageKey);if(i&&this.userStorage){let s=await ql(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Pu(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:P_()}else if(i&&!i.user&&!i.user){const s=await ql(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await bo(this.storage,this.storageKey+"-user"),await Pu(this.storage,this.storageKey,i)):i.user=P_()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<C_;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${C_}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),O_(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Ao;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new db;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new Ao;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),Xe(a)){const s={session:null,error:a};return O_(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Pu(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=QI(i);await Pu(this.storage,this.storageKey,a)}else{const i=QI(n);await Pu(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await bo(this.storage,this.storageKey),await bo(this.storage,this.storageKey+"-code-verifier"),await bo(this.storage,this.storageKey+"-user"),this.userStorage&&await bo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ki()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Nu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Nu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Nu}ms, refresh threshold is ${kE} ticks`),i<=kE&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Rz)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ki()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,s]=await yu(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await st(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await st(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:s,error:o}=await st(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await st(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=r.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=N_(i.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+Uie>i)return r;const{data:a,error:s}=await st(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(o=>o.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};r=p.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=N_(r);n!=null&&n.allowExpired||fae(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:a,header:i,signature:s},error:null}}const d=hae(i.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,Jie(`${o}.${l}`)))throw new NE("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}}}Xp.nextInstanceID=0;const Cae=Xp;class Oae extends Cae{constructor(e){super(e)}}var Nae=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class Pae{constructor(e,n,r){var i,a,s;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const o=Mie(e),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:kie,realtime:Oie,auth:Object.assign(Object.assign({},Cie),{storageKey:c}),global:Tie},f=Die(r??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=f.auth)!==null&&s!==void 0?s:{},this.headers,f.global.fetch),this.fetch=$ie(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Xre(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new Eie(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new Are(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Nae(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:a,flowType:s,lock:o,debug:l},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Oae({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:s,lock:o,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new die(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Iae=(t,e,n)=>new Pae(t,e,n);function $ae(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}$ae()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Rae="https://imlbkhgquajmnqgbvgwj.supabase.co",Mae="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImltbGJraGdxdWFqbW5xZ2J2Z3dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM5MDA5NTAsImV4cCI6MjA2OTQ3Njk1MH0.J-baoXJnvpag7bEVSqbqXoAoGhAI7wnOb1osZcQo-Xk",Pe=Iae(Rae,Mae,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Mz=S.createContext(void 0),Un=()=>{const t=S.useContext(Mz);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Dae=({children:t})=>{const[e,n]=S.useState(null),[r,i]=S.useState(null),[a,s]=S.useState(!0),{toast:o}=Vt();S.useEffect(()=>{const b=window.location.hash&&(window.location.hash.includes("access_token")||window.location.hash.includes("refresh_token")||window.location.hash.includes("error"));b&&console.log("Handling auth redirect, keeping loading state active...");const{data:{subscription:x}}=Pe.auth.onAuthStateChange(async(v,y)=>{var w;console.log("Auth state changed:",v,(w=y==null?void 0:y.user)==null?void 0:w.email),i(y),n((y==null?void 0:y.user)??null),(y||!b)&&s(!1),v==="SIGNED_IN"?y!=null&&y.user&&setTimeout(()=>{l(y.user)},0):v==="SIGNED_OUT"?(localStorage.removeItem("sb-imlbkhgquajmnqgbvgwj-auth-token"),s(!1)):v==="TOKEN_REFRESHED"&&console.log("Token refreshed successfully")});if(Pe.auth.getSession().then(({data:{session:v}})=>{i(v),n((v==null?void 0:v.user)??null),(v||!b)&&s(!1)}),b){const v=setTimeout(()=>{console.log("Auth redirect timeout reached, forcing loading completion"),s(!1)},5e3);return()=>{x.unsubscribe(),clearTimeout(v)}}return()=>x.unsubscribe()},[]);const l=async b=>{var x,v,y,w,_;try{const{error:E}=await Pe.from("profiles").upsert({user_id:b.id,email:b.email,full_name:((x=b.user_metadata)==null?void 0:x.full_name)||((v=b.user_metadata)==null?void 0:v.name),display_name:((y=b.user_metadata)==null?void 0:y.full_name)||((w=b.user_metadata)==null?void 0:w.name),avatar_url:(_=b.user_metadata)==null?void 0:_.avatar_url,updated_at:new Date().toISOString()},{onConflict:"user_id"});E&&E.code!=="23505"&&console.error("Profile creation/update error:",E)}catch(E){console.error("Profile creation/update error:",E)}},g={user:e,session:r,loading:a,signIn:async(b,x)=>{const{data:v,error:y}=await Pe.auth.signInWithPassword({email:b,password:x});if(y)throw y.message.includes("Invalid login credentials")?new Error("Invalid email or password. Please check your credentials and try again."):y.message.includes("Email not confirmed")?new Error("Please check your email and click the confirmation link before signing in."):y;v.user&&o({title:"Welcome back!",description:"Successfully signed in to your account."})},signInWithGoogle:async()=>{const b=`${window.location.origin}/admit-ai-nexus/`;console.log("Google Sign-In Redirect URL:",b);const{error:x}=await Pe.auth.signInWithOAuth({provider:"google",options:{redirectTo:b,queryParams:{access_type:"offline",prompt:"consent"}}});if(x)throw x},signUp:async(b,x,v)=>{const y=`${window.location.origin}/admit-ai-nexus/`,{error:w,data:_}=await Pe.auth.signUp({email:b,password:x,options:{emailRedirectTo:y,data:{full_name:v}}});if(w)throw w.message.includes("User already registered")?new Error("An account with this email already exists. Please sign in instead."):w.message.includes("Password should be")?new Error("Password must be at least 8 characters long."):w;_.user&&!_.user.email_confirmed_at?o({title:"Check your email",description:"We've sent you a confirmation link to verify your account."}):o({title:"Account created!",description:"Welcome to AdmitConnect AI."})},signOut:async()=>{try{await Pe.auth.signOut()}catch(b){console.error("Sign out error:",b)}i(null),n(null),localStorage.removeItem("sb-imlbkhgquajmnqgbvgwj-auth-token"),o({title:"Signed out",description:"You have been successfully signed out."})},resetPassword:async b=>{const{error:x}=await Pe.auth.resetPasswordForEmail(b,{redirectTo:`${window.location.origin}/admit-ai-nexus/reset-password`});if(x)throw x},updatePassword:async b=>{const{error:x}=await Pe.auth.updateUser({password:b});if(x)throw x;o({title:"Password updated",description:"Your password has been successfully updated."})}};return u.jsx(Mz.Provider,{value:g,children:t})},$_=({children:t})=>{const{user:e,loading:n}=Un();return n?u.jsx("div",{className:"min-h-screen bg-ai-gradient-subtle flex items-center justify-center",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-primary/30 border-t-primary rounded-full animate-spin mx-auto"}),u.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):e?u.jsx(u.Fragment,{children:t}):u.jsx(CJ,{to:"/auth",replace:!0})},Lae={"llama-3.1-8b-instant":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"mistral-saba-24b":{maxInputTokens:32768,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama3-8b-8192":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"qwen-qwq-32b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama3-70b-8192":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"deepseek-r1-distill-llama-70b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama-guard-3-8b":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!1},"gemma2-9b-it":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama-3.3-70b-versatile":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"moonshotai/kimi-k2-instruct-0905":{maxInputTokens:262144,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"moonshotai/kimi-k2-instruct":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"openai/gpt-oss-20b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"openai/gpt-oss-120b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"qwen/qwen3-32b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"meta-llama/llama-4-scout-17b-16e-instruct":{maxInputTokens:131072,imageInputs:!0,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"meta-llama/llama-4-maverick-17b-128e-instruct":{maxInputTokens:131072,imageInputs:!0,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"meta-llama/llama-guard-4-12b":{maxInputTokens:131072,imageInputs:!0,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:128,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!1}};var Fae=Lae,Bae=Object.defineProperty,bt=(t,e)=>{for(var n in e)Bae(t,n,{get:e[n],enumerable:!0})};function Mf(t,e,n){function r(o,l){if(o._zod||Object.defineProperty(o,"_zod",{value:{def:l,constr:s,traits:new Set},enumerable:!1}),o._zod.traits.has(t))return;o._zod.traits.add(t),e(o,l);const c=s.prototype,d=Object.keys(c);for(let f=0;f<d.length;f++){const h=d[f];h in o||(o[h]=c[h].bind(o))}}const i=(n==null?void 0:n.Parent)??Object;class a extends i{}Object.defineProperty(a,"name",{value:t});function s(o){var l;const c=n!=null&&n.Parent?new a:this;r(c,o),(l=c._zod).deferred??(l.deferred=[]);for(const d of c._zod.deferred)d();return c}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:o=>{var l,c;return n!=null&&n.Parent&&o instanceof n.Parent?!0:(c=(l=o==null?void 0:o._zod)==null?void 0:l.traits)==null?void 0:c.has(t)}}),Object.defineProperty(s,"name",{value:t}),s}class ap extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const zae={};function fb(t){return zae}function Uae(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,i])=>e.indexOf(+r)===-1).map(([r,i])=>i)}function Hae(t,e){return typeof e=="bigint"?e.toString():e}function Vae(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}const i2=Symbol("evaluating");function a2(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==i2)return r===void 0&&(r=i2,r=n()),r},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function Dz(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Lz(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}const Fz="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function s2(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function Wae(t){if(s2(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(s2(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function eo(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n!=null&&n.parent)&&(r._zod.parent=t),r}function qae(t){return{}}function Gae(t,e){if(!Wae(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=Lz(t._zod.def,{get shape(){const a={...t._zod.def.shape,...e};return Dz(this,"shape",a),a},checks:[]});return eo(t,i)}function Kae(t,e,n){const r=Lz(e._zod.def,{get shape(){const i=e._zod.def.shape,a={...i};for(const s in i)a[s]=t?new t({type:"optional",innerType:i[s]}):i[s];return Dz(this,"shape",a),a},checks:[]});return eo(e,r)}function oy(t,e=0){var n;if(t.aborted===!0)return!0;for(let r=e;r<t.issues.length;r++)if(((n=t.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function ly(t){return typeof t=="string"?t:t==null?void 0:t.message}function hb(t,e,n){var i,a,s,o,l,c;const r={...t,path:t.path??[]};if(!t.message){const d=ly((s=(a=(i=t.inst)==null?void 0:i._zod.def)==null?void 0:a.error)==null?void 0:s.call(a,t))??ly((o=e==null?void 0:e.error)==null?void 0:o.call(e,t))??ly((l=n.customError)==null?void 0:l.call(n,t))??ly((c=n.localeError)==null?void 0:c.call(n,t))??"Invalid input";r.message=d}return delete r.inst,delete r.continue,e!=null&&e.reportInput||delete r.input,r}const Bz=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Hae,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Yae=Mf("$ZodError",Bz),pb=Mf("$ZodError",Bz,{Parent:Error}),Xae=t=>(e,n,r,i)=>{const a=r?Object.assign(r,{async:!1}):{async:!1},s=e._zod.run({value:n,issues:[]},a);if(s instanceof Promise)throw new ap;if(s.issues.length){const o=new((i==null?void 0:i.Err)??t)(s.issues.map(l=>hb(l,a,fb())));throw Fz(o,i==null?void 0:i.callee),o}return s.value},qk=Xae(pb),Zae=t=>async(e,n,r,i)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let s=e._zod.run({value:n,issues:[]},a);if(s instanceof Promise&&(s=await s),s.issues.length){const o=new((i==null?void 0:i.Err)??t)(s.issues.map(l=>hb(l,a,fb())));throw Fz(o,i==null?void 0:i.callee),o}return s.value},zz=Zae(pb),Jae=t=>(e,n,r)=>{const i=r?{...r,async:!1}:{async:!1},a=e._zod.run({value:n,issues:[]},i);if(a instanceof Promise)throw new ap;return a.issues.length?{success:!1,error:new(t??Yae)(a.issues.map(s=>hb(s,i,fb())))}:{success:!0,data:a.value}},Qae=Jae(pb),ese=t=>async(e,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let a=e._zod.run({value:n,issues:[]},i);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new t(a.issues.map(s=>hb(s,i,fb())))}:{success:!0,data:a.value}},tse=ese(pb),nse={major:4,minor:1,patch:13},Gk=Mf("$ZodType",(t,e)=>{var i;var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=nse;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const a of r)for(const s of a._zod.onattach)s(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),(i=t._zod.deferred)==null||i.push(()=>{t._zod.run=t._zod.parse});else{const a=(o,l,c)=>{let d=oy(o),f;for(const h of l){if(h._zod.def.when){if(!h._zod.def.when(o))continue}else if(d)continue;const p=o.issues.length,m=h._zod.check(o);if(m instanceof Promise&&(c==null?void 0:c.async)===!1)throw new ap;if(f||m instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await m,o.issues.length!==p&&(d||(d=oy(o,p)))});else{if(o.issues.length===p)continue;d||(d=oy(o,p))}}return f?f.then(()=>o):o},s=(o,l,c)=>{if(oy(o))return o.aborted=!0,o;const d=a(l,r,c);if(d instanceof Promise){if(c.async===!1)throw new ap;return d.then(f=>t._zod.parse(f,c))}return t._zod.parse(d,c)};t._zod.run=(o,l)=>{if(l.skipChecks)return t._zod.parse(o,l);if(l.direction==="backward"){const d=t._zod.parse({value:o.value,issues:[]},{...l,skipChecks:!0});return d instanceof Promise?d.then(f=>s(f,o,l)):s(d,o,l)}const c=t._zod.parse(o,l);if(c instanceof Promise){if(l.async===!1)throw new ap;return c.then(d=>a(d,r,l))}return a(c,r,l)}}t["~standard"]={validate:a=>{var s;try{const o=Qae(t,a);return o.success?{value:o.data}:{issues:(s=o.error)==null?void 0:s.issues}}catch{return tse(t,a).then(l=>{var c;return l.success?{value:l.data}:{issues:(c=l.error)==null?void 0:c.issues}})}},vendor:"zod",version:1}}),rse=Mf("$ZodUnknown",(t,e)=>{Gk.init(t,e),t._zod.parse=n=>n}),ise=Mf("$ZodNever",(t,e)=>{Gk.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function o2(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const Uz=Mf("$ZodOptional",(t,e)=>{Gk.init(t,e),t._zod.optin="optional",t._zod.optout="optional",a2(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),a2(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Vae(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(a=>o2(a,n.value)):o2(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}});var l2;class Hz{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function ase(){return new Hz}(l2=globalThis).__zod_globalRegistry??(l2.__zod_globalRegistry=ase());const kr=globalThis.__zod_globalRegistry;function sse(t){return new t({type:"unknown"})}function ose(t,e){return new t({type:"never",...qae()})}class c2{constructor(e){this.counter=0,this.metadataRegistry=(e==null?void 0:e.metadata)??kr,this.target=(e==null?void 0:e.target)??"draft-2020-12",this.unrepresentable=(e==null?void 0:e.unrepresentable)??"throw",this.override=(e==null?void 0:e.override)??(()=>{}),this.io=(e==null?void 0:e.io)??"output",this.seen=new Map}process(e,n={path:[],schemaPath:[]}){var f,h,p;var r;const i=e._zod.def,a={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},s=this.seen.get(e);if(s)return s.count++,n.schemaPath.includes(e)&&(s.cycle=n.path),s.schema;const o={schema:{},count:1,cycle:void 0,path:n.path};this.seen.set(e,o);const l=(h=(f=e._zod).toJSONSchema)==null?void 0:h.call(f);if(l)o.schema=l;else{const m={...n,schemaPath:[...n.schemaPath,e],path:n.path},g=e._zod.parent;if(g)o.ref=g,this.process(g,m),this.seen.get(g).isParent=!0;else{const b=o.schema;switch(i.type){case"string":{const x=b;x.type="string";const{minimum:v,maximum:y,format:w,patterns:_,contentEncoding:E}=e._zod.bag;if(typeof v=="number"&&(x.minLength=v),typeof y=="number"&&(x.maxLength=y),w&&(x.format=a[w]??w,x.format===""&&delete x.format),E&&(x.contentEncoding=E),_&&_.size>0){const A=[..._];A.length===1?x.pattern=A[0].source:A.length>1&&(o.schema.allOf=[...A.map(j=>({...this.target==="draft-7"||this.target==="draft-4"||this.target==="openapi-3.0"?{type:"string"}:{},pattern:j.source}))])}break}case"number":{const x=b,{minimum:v,maximum:y,format:w,multipleOf:_,exclusiveMaximum:E,exclusiveMinimum:A}=e._zod.bag;typeof w=="string"&&w.includes("int")?x.type="integer":x.type="number",typeof A=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(x.minimum=A,x.exclusiveMinimum=!0):x.exclusiveMinimum=A),typeof v=="number"&&(x.minimum=v,typeof A=="number"&&this.target!=="draft-4"&&(A>=v?delete x.minimum:delete x.exclusiveMinimum)),typeof E=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(x.maximum=E,x.exclusiveMaximum=!0):x.exclusiveMaximum=E),typeof y=="number"&&(x.maximum=y,typeof E=="number"&&this.target!=="draft-4"&&(E<=y?delete x.maximum:delete x.exclusiveMaximum)),typeof _=="number"&&(x.multipleOf=_);break}case"boolean":{const x=b;x.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{this.target==="openapi-3.0"?(b.type="string",b.nullable=!0,b.enum=[null]):b.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{b.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{const x=b,{minimum:v,maximum:y}=e._zod.bag;typeof v=="number"&&(x.minItems=v),typeof y=="number"&&(x.maxItems=y),x.type="array",x.items=this.process(i.element,{...m,path:[...m.path,"items"]});break}case"object":{const x=b;x.type="object",x.properties={};const v=i.shape;for(const _ in v)x.properties[_]=this.process(v[_],{...m,path:[...m.path,"properties",_]});const y=new Set(Object.keys(v)),w=new Set([...y].filter(_=>{const E=i.shape[_]._zod;return this.io==="input"?E.optin===void 0:E.optout===void 0}));w.size>0&&(x.required=Array.from(w)),((p=i.catchall)==null?void 0:p._zod.def.type)==="never"?x.additionalProperties=!1:i.catchall?i.catchall&&(x.additionalProperties=this.process(i.catchall,{...m,path:[...m.path,"additionalProperties"]})):this.io==="output"&&(x.additionalProperties=!1);break}case"union":{const x=b,v=i.discriminator!==void 0,y=i.options.map((w,_)=>this.process(w,{...m,path:[...m.path,v?"oneOf":"anyOf",_]}));v?x.oneOf=y:x.anyOf=y;break}case"intersection":{const x=b,v=this.process(i.left,{...m,path:[...m.path,"allOf",0]}),y=this.process(i.right,{...m,path:[...m.path,"allOf",1]}),w=E=>"allOf"in E&&Object.keys(E).length===1,_=[...w(v)?v.allOf:[v],...w(y)?y.allOf:[y]];x.allOf=_;break}case"tuple":{const x=b;x.type="array";const v=this.target==="draft-2020-12"?"prefixItems":"items",y=this.target==="draft-2020-12"||this.target==="openapi-3.0"?"items":"additionalItems",w=i.items.map((j,T)=>this.process(j,{...m,path:[...m.path,v,T]})),_=i.rest?this.process(i.rest,{...m,path:[...m.path,y,...this.target==="openapi-3.0"?[i.items.length]:[]]}):null;this.target==="draft-2020-12"?(x.prefixItems=w,_&&(x.items=_)):this.target==="openapi-3.0"?(x.items={anyOf:w},_&&x.items.anyOf.push(_),x.minItems=w.length,_||(x.maxItems=w.length)):(x.items=w,_&&(x.additionalItems=_));const{minimum:E,maximum:A}=e._zod.bag;typeof E=="number"&&(x.minItems=E),typeof A=="number"&&(x.maxItems=A);break}case"record":{const x=b;x.type="object",(this.target==="draft-7"||this.target==="draft-2020-12")&&(x.propertyNames=this.process(i.keyType,{...m,path:[...m.path,"propertyNames"]})),x.additionalProperties=this.process(i.valueType,{...m,path:[...m.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{const x=b,v=Uae(i.entries);v.every(y=>typeof y=="number")&&(x.type="number"),v.every(y=>typeof y=="string")&&(x.type="string"),x.enum=v;break}case"literal":{const x=b,v=[];for(const y of i.values)if(y===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof y=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");v.push(Number(y))}else v.push(y);if(v.length!==0)if(v.length===1){const y=v[0];x.type=y===null?"null":typeof y,this.target==="draft-4"||this.target==="openapi-3.0"?x.enum=[y]:x.const=y}else v.every(y=>typeof y=="number")&&(x.type="number"),v.every(y=>typeof y=="string")&&(x.type="string"),v.every(y=>typeof y=="boolean")&&(x.type="string"),v.every(y=>y===null)&&(x.type="null"),x.enum=v;break}case"file":{const x=b,v={type:"string",format:"binary",contentEncoding:"binary"},{minimum:y,maximum:w,mime:_}=e._zod.bag;y!==void 0&&(v.minLength=y),w!==void 0&&(v.maxLength=w),_?_.length===1?(v.contentMediaType=_[0],Object.assign(x,v)):x.anyOf=_.map(E=>({...v,contentMediaType:E})):Object.assign(x,v);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{const x=this.process(i.innerType,m);this.target==="openapi-3.0"?(o.ref=i.innerType,b.nullable=!0):b.anyOf=[x,{type:"null"}];break}case"nonoptional":{this.process(i.innerType,m),o.ref=i.innerType;break}case"success":{const x=b;x.type="boolean";break}case"default":{this.process(i.innerType,m),o.ref=i.innerType,b.default=JSON.parse(JSON.stringify(i.defaultValue));break}case"prefault":{this.process(i.innerType,m),o.ref=i.innerType,this.io==="input"&&(b._prefault=JSON.parse(JSON.stringify(i.defaultValue)));break}case"catch":{this.process(i.innerType,m),o.ref=i.innerType;let x;try{x=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}b.default=x;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{const x=b,v=e._zod.pattern;if(!v)throw new Error("Pattern not found in template literal");x.type="string",x.pattern=v.source;break}case"pipe":{const x=this.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;this.process(x,m),o.ref=x;break}case"readonly":{this.process(i.innerType,m),o.ref=i.innerType,b.readOnly=!0;break}case"promise":{this.process(i.innerType,m),o.ref=i.innerType;break}case"optional":{this.process(i.innerType,m),o.ref=i.innerType;break}case"lazy":{const x=e._zod.innerType;this.process(x,m),o.ref=x;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}case"function":{if(this.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema");break}}}}const c=this.metadataRegistry.get(e);return c&&Object.assign(o.schema,c),this.io==="input"&&ir(e)&&(delete o.schema.examples,delete o.schema.default),this.io==="input"&&o.schema._prefault&&((r=o.schema).default??(r.default=o.schema._prefault)),delete o.schema._prefault,this.seen.get(e).schema}emit(e,n){var d,f,h,p,m,g;const r={cycles:(n==null?void 0:n.cycles)??"ref",reused:(n==null?void 0:n.reused)??"inline",external:(n==null?void 0:n.external)??void 0},i=this.seen.get(e);if(!i)throw new Error("Unprocessed schema. This is a bug in Zod.");const a=b=>{var _;const x=this.target==="draft-2020-12"?"$defs":"definitions";if(r.external){const E=(_=r.external.registry.get(b[0]))==null?void 0:_.id,A=r.external.uri??(T=>T);if(E)return{ref:A(E)};const j=b[1].defId??b[1].schema.id??`schema${this.counter++}`;return b[1].defId=j,{defId:j,ref:`${A("__shared")}#/${x}/${j}`}}if(b[1]===i)return{ref:"#"};const y=`#/${x}/`,w=b[1].schema.id??`__schema${this.counter++}`;return{defId:w,ref:y+w}},s=b=>{if(b[1].schema.$ref)return;const x=b[1],{ref:v,defId:y}=a(b);x.def={...x.schema},y&&(x.defId=y);const w=x.schema;for(const _ in w)delete w[_];w.$ref=v};if(r.cycles==="throw")for(const b of this.seen.entries()){const x=b[1];if(x.cycle)throw new Error(`Cycle detected: #/${(d=x.cycle)==null?void 0:d.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const b of this.seen.entries()){const x=b[1];if(e===b[0]){s(b);continue}if(r.external){const y=(f=r.external.registry.get(b[0]))==null?void 0:f.id;if(e!==b[0]&&y){s(b);continue}}if((h=this.metadataRegistry.get(b[0]))==null?void 0:h.id){s(b);continue}if(x.cycle){s(b);continue}if(x.count>1&&r.reused==="ref"){s(b);continue}}const o=(b,x)=>{const v=this.seen.get(b),y=v.def??v.schema,w={...y};if(v.ref===null)return;const _=v.ref;if(v.ref=null,_){o(_,x);const E=this.seen.get(_).schema;E.$ref&&(x.target==="draft-7"||x.target==="draft-4"||x.target==="openapi-3.0")?(y.allOf=y.allOf??[],y.allOf.push(E)):(Object.assign(y,E),Object.assign(y,w))}v.isParent||this.override({zodSchema:b,jsonSchema:y,path:v.path??[]})};for(const b of[...this.seen.entries()].reverse())o(b[0],{target:this.target});const l={};if(this.target==="draft-2020-12"?l.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?l.$schema="http://json-schema.org/draft-07/schema#":this.target==="draft-4"?l.$schema="http://json-schema.org/draft-04/schema#":this.target==="openapi-3.0"||console.warn(`Invalid target: ${this.target}`),(p=r.external)!=null&&p.uri){const b=(m=r.external.registry.get(e))==null?void 0:m.id;if(!b)throw new Error("Schema is missing an `id` property");l.$id=r.external.uri(b)}Object.assign(l,i.def);const c=((g=r.external)==null?void 0:g.defs)??{};for(const b of this.seen.entries()){const x=b[1];x.def&&x.defId&&(c[x.defId]=x.def)}r.external||Object.keys(c).length>0&&(this.target==="draft-2020-12"?l.$defs=c:l.definitions=c);try{return JSON.parse(JSON.stringify(l))}catch{throw new Error("Error converting schema to JSON.")}}}function u2(t,e){if(t instanceof Hz){const r=new c2(e),i={};for(const o of t._idmap.entries()){const[l,c]=o;r.process(c)}const a={},s={registry:t,uri:e==null?void 0:e.uri,defs:i};for(const o of t._idmap.entries()){const[l,c]=o;a[l]=r.emit(c,{...e,external:s})}if(Object.keys(i).length>0){const o=r.target==="draft-2020-12"?"$defs":"definitions";a.__shared={[o]:i}}return{schemas:a}}const n=new c2(e);return n.process(t),n.emit(t,e)}function ir(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return ir(r.element,n);if(r.type==="set")return ir(r.valueType,n);if(r.type==="lazy")return ir(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return ir(r.innerType,n);if(r.type==="intersection")return ir(r.left,n)||ir(r.right,n);if(r.type==="record"||r.type==="map")return ir(r.keyType,n)||ir(r.valueType,n);if(r.type==="pipe")return ir(r.in,n)||ir(r.out,n);if(r.type==="object"){for(const i in r.shape)if(ir(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(ir(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(ir(i,n))return!0;return!!(r.rest&&ir(r.rest,n))}return!1}function hn(t){if(typeof t!="object"||t===null)return!1;const e=t;if(!("_zod"in e))return!1;const n=e._zod;return typeof n=="object"&&n!==null&&"def"in n}function Tn(t){if(typeof t!="object"||t===null)return!1;const e=t;if(!("_def"in e)||"_zod"in e)return!1;const n=e._def;return typeof n=="object"&&n!=null&&"typeName"in n}function lse(t){return hn(t)&&console.warn("[WARNING] Attempting to use Zod 4 schema in a context where Zod 3 schema is expected. This may cause unexpected behavior."),Tn(t)}function Dc(t){return!t||typeof t!="object"||Array.isArray(t)?!1:!!(hn(t)||Tn(t))}function Vz(t){return typeof t=="object"&&t!==null&&"_def"in t&&typeof t._def=="object"&&t._def!==null&&"typeName"in t._def&&t._def.typeName==="ZodLiteral"}function Wz(t){return hn(t)?typeof t=="object"&&t!==null&&"_zod"in t&&typeof t._zod=="object"&&t._zod!==null&&"def"in t._zod&&typeof t._zod.def=="object"&&t._zod.def!==null&&"type"in t._zod.def&&t._zod.def.type==="literal":!1}function cse(t){return!!(Vz(t)||Wz(t))}async function qz(t,e){if(hn(t))try{return{success:!0,data:await zz(t,e)}}catch(n){return{success:!1,error:n}}if(Tn(t))return await t.safeParseAsync(e);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}async function Kk(t,e){if(hn(t))return await zz(t,e);if(Tn(t))return await t.parseAsync(e);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function use(t,e){if(hn(t))try{return{success:!0,data:qk(t,e)}}catch(n){return{success:!1,error:n}}if(Tn(t))return t.safeParse(e);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function dse(t,e){if(hn(t))return qk(t,e);if(Tn(t))return t.parse(e);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function Yk(t){var e;if(hn(t))return(e=kr.get(t))==null?void 0:e.description;if(Tn(t)||"description"in t&&typeof t.description=="string")return t.description}function fse(t){if(!Dc(t))return!1;if(Tn(t)){const e=t._def;if(e.typeName==="ZodObject"){const n=t;return!n.shape||Object.keys(n.shape).length===0}if(e.typeName==="ZodRecord")return!0}if(hn(t)){const e=t._zod.def;if(e.type==="object"){const n=t;return!n.shape||Object.keys(n.shape).length===0}if(e.type==="record")return!0}return typeof t=="object"&&t!==null&&!("shape"in t)}function Gz(t){return Dc(t)?Tn(t)?t._def.typeName==="ZodString":hn(t)?t._zod.def.type==="string":!1:!1}function Xk(t){return typeof t=="object"&&t!==null&&"_def"in t&&typeof t._def=="object"&&t._def!==null&&"typeName"in t._def&&t._def.typeName==="ZodObject"}function ts(t){return hn(t)?typeof t=="object"&&t!==null&&"_zod"in t&&typeof t._zod=="object"&&t._zod!==null&&"def"in t._zod&&typeof t._zod.def=="object"&&t._zod.def!==null&&"type"in t._zod.def&&t._zod.def.type==="object":!1}function mb(t){return hn(t)?typeof t=="object"&&t!==null&&"_zod"in t&&typeof t._zod=="object"&&t._zod!==null&&"def"in t._zod&&typeof t._zod.def=="object"&&t._zod.def!==null&&"type"in t._zod.def&&t._zod.def.type==="array":!1}function hse(t){return!!(Xk(t)||ts(t))}function PE(t){if(Tn(t))return t.shape;if(hn(t))return t._zod.def.shape;throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function pse(t,e){if(Tn(t))return t.extend(e);if(hn(t))return Gae(t,e);throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function mse(t){if(Tn(t))return t.partial();if(hn(t))return Kae(Uz,t);throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function Qv(t,e=!1){if(Tn(t))return t.strict();if(ts(t)){const n=t._zod.def.shape;if(e)for(const[a,s]of Object.entries(t._zod.def.shape)){if(ts(s)){const l=Qv(s,e);n[a]=l}else if(mb(s)){let l=s._zod.def.element;ts(l)&&(l=Qv(l,e)),n[a]=eo(s,{...s._zod.def,element:l})}else n[a]=s;const o=kr.get(s);o&&kr.add(n[a],o)}const r=eo(t,{...t._zod.def,shape:n,catchall:ose(ise)}),i=kr.get(t);return i&&kr.add(r,i),r}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function IE(t,e=!1){if(Xk(t))return t.passthrough();if(ts(t)){const n=t._zod.def.shape;if(e)for(const[a,s]of Object.entries(t._zod.def.shape)){if(ts(s)){const l=IE(s,e);n[a]=l}else if(mb(s)){let l=s._zod.def.element;ts(l)&&(l=IE(l,e)),n[a]=eo(s,{...s._zod.def,element:l})}else n[a]=s;const o=kr.get(s);o&&kr.add(n[a],o)}const r=eo(t,{...t._zod.def,shape:n,catchall:sse(rse)}),i=kr.get(t);return i&&kr.add(r,i),r}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function gse(t){if(Tn(t))try{const e=t.parse(void 0);return()=>e}catch{return}if(hn(t))try{const e=qk(t,void 0);return()=>e}catch{return}}function yse(t){return Tn(t)&&"typeName"in t._def&&t._def.typeName==="ZodEffects"}function vse(t){return hn(t)&&t._zod.def.type==="pipe"}function Mh(t,e,n){const r=n.get(t);if(r!==void 0)return r;if(Tn(t))return yse(t)?Mh(t._def.schema,e,n):t;if(hn(t)){let i=t;if(vse(t)&&(i=Mh(t._zod.def.in,e,n)),e){if(ts(i)){const s=i._zod.def.shape;for(const[o,l]of Object.entries(i._zod.def.shape))s[o]=Mh(l,e,n);i=eo(i,{...i._zod.def,shape:s})}else if(mb(i)){const s=Mh(i._zod.def.element,e,n);i=eo(i,{...i._zod.def,element:s})}}const a=kr.get(t);return a&&kr.add(i,a),n.set(t,i),i}throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function Kz(t,e=!1){return Mh(t,e,new WeakMap)}function xse(t,e){if(Tn(t)){const n=PE(t),r={};for(const[i,a]of Object.entries(n))e(i,a)?r[i]=a.optional():r[i]=a;return t.extend(r)}if(hn(t)){const n=PE(t),r={...t._zod.def.shape};for(const[s,o]of Object.entries(n))e(s,o)&&(r[s]=new Uz({type:"optional",innerType:o}));const i=eo(t,{...t._zod.def,shape:r}),a=kr.get(t);return a&&kr.add(i,a),i}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function bse(t){return t instanceof Error&&(t.constructor.name==="ZodError"||t.constructor.name==="$ZodError")}const wse=Symbol("Let zodToJsonSchema decide on which parser to use"),_se={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},Sse=t=>({..._se,...t}),Ese=t=>{const e=Sse(t),n=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,flags:{hasReferencedOpenAiAnyType:!1},currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([r,i])=>[i._def,{def:i._def,path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))}},Yz=(t,e)=>{let n=0;for(;n<t.length&&n<e.length&&t[n]===e[n];n++);return[(t.length-n).toString(),...e.slice(n)].join("/")};function ui(t){if(t.target!=="openAi")return{};const e=[...t.basePath,t.definitionPath,t.openAiAnyTypeName];return t.flags.hasReferencedOpenAiAnyType=!0,{$ref:t.$refStrategy==="relative"?Yz(e,t.currentPath):e.join("/")}}function Xz(t,e,n,r){r!=null&&r.errorMessages&&n&&(t.errorMessage={...t.errorMessage,[e]:n})}function wt(t,e,n,r,i){t[e]=n,Xz(t,e,r,i)}var ft;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},t.find=(i,a)=>{for(const s of i)if(a(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(ft||(ft={}));var d2;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(d2||(d2={}));const ke=ft.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),No=t=>{switch(typeof t){case"undefined":return ke.undefined;case"string":return ke.string;case"number":return Number.isNaN(t)?ke.nan:ke.number;case"boolean":return ke.boolean;case"function":return ke.function;case"bigint":return ke.bigint;case"symbol":return ke.symbol;case"object":return Array.isArray(t)?ke.array:t===null?ke.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ke.promise:typeof Map<"u"&&t instanceof Map?ke.map:typeof Set<"u"&&t instanceof Set?ke.set:typeof Date<"u"&&t instanceof Date?ke.date:ke.object;default:return ke.unknown}},fe=ft.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class to extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let o=r,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(n(s))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof to))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ft.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n=Object.create(null),r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];n[a]=n[a]||[],n[a].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}to.create=t=>new to(t);const $E=(t,e)=>{let n;switch(t.code){case fe.invalid_type:t.received===ke.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case fe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ft.jsonStringifyReplacer)}`;break;case fe.unrecognized_keys:n=`Unrecognized key(s) in object: ${ft.joinValues(t.keys,", ")}`;break;case fe.invalid_union:n="Invalid input";break;case fe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ft.joinValues(t.options)}`;break;case fe.invalid_enum_value:n=`Invalid enum value. Expected ${ft.joinValues(t.options)}, received '${t.received}'`;break;case fe.invalid_arguments:n="Invalid function arguments";break;case fe.invalid_return_type:n="Invalid function return type";break;case fe.invalid_date:n="Invalid date";break;case fe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ft.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case fe.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case fe.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case fe.custom:n="Invalid input";break;case fe.invalid_intersection_types:n="Intersection results could not be merged";break;case fe.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case fe.not_finite:n="Number must be finite";break;default:n=e.defaultError,ft.assertNever(t)}return{message:n}};let jse=$E;function Ase(){return jse}const Tse=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)o=c(s,{data:e,defaultError:o}).message;return{...i,path:a,message:o}};function xe(t,e){const n=Ase(),r=Tse({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===$E?void 0:$E].filter(i=>!!i)});t.common.issues.push(r)}class di{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return qe;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,s=await i.value;r.push({key:a,value:s})}return di.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return qe;a.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[a.value]=s.value)}return{status:e.value,value:r}}}const qe=Object.freeze({status:"aborted"}),Dh=t=>({status:"dirty",value:t}),Li=t=>({status:"valid",value:t}),f2=t=>t.status==="aborted",h2=t=>t.status==="dirty",Ud=t=>t.status==="valid",e0=t=>typeof Promise<"u"&&t instanceof Promise;var Ne;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ne||(Ne={}));class xl{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const p2=(t,e)=>{if(Ud(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new to(t.common.issues);return this._error=n,this._error}}};function rt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,o)=>{const{message:l}=t;return s.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??r??o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:l??n??o.defaultError}},description:i}}class dt{get description(){return this._def.description}_getType(e){return No(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:No(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new di,ctx:{common:e.parent.common,data:e.data,parsedType:No(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(e0(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:No(e)},i=this._parseSync({data:e,path:r.path,parent:r});return p2(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:No(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return Ud(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>Ud(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:No(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(e0(i)?i:Promise.resolve(i));return p2(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const s=e(i),o=()=>a.addIssue({code:fe.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Vd({schema:this,typeName:he.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return al.create(this,this._def)}nullable(){return Wd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ns.create(this)}promise(){return i0.create(this,this._def)}or(e){return n0.create([this,e],this._def)}and(e){return r0.create(this,e,this._def)}transform(e){return new Vd({...rt(this._def),schema:this,typeName:he.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new DE({...rt(this._def),innerType:this,defaultValue:n,typeName:he.ZodDefault})}brand(){return new Xse({typeName:he.ZodBranded,type:this,...rt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new LE({...rt(this._def),innerType:this,catchValue:n,typeName:he.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Zk.create(this,e)}readonly(){return FE.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const kse=/^c[^\s-]{8,}$/i,Cse=/^[0-9a-z]+$/,Ose=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Nse=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Pse=/^[a-z0-9_-]{21}$/i,Ise=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,$se=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Rse=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Mse="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let R_;const Dse=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Lse=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Fse=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Bse=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,zse=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Use=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Zz="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Hse=new RegExp(`^${Zz}$`);function Jz(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function Vse(t){return new RegExp(`^${Jz(t)}$`)}function Wse(t){let e=`${Zz}T${Jz(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function qse(t,e){return!!((e==="v4"||!e)&&Dse.test(t)||(e==="v6"||!e)&&Fse.test(t))}function Gse(t,e){if(!Ise.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function Kse(t,e){return!!((e==="v4"||!e)&&Lse.test(t)||(e==="v6"||!e)&&Bse.test(t))}class Wo extends dt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ke.string){const a=this._getOrReturnCtx(e);return xe(a,{code:fe.invalid_type,expected:ke.string,received:a.parsedType}),qe}const r=new di;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const s=e.data.length>a.value,o=e.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(e,i),s?xe(i,{code:fe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&xe(i,{code:fe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")Rse.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"email",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")R_||(R_=new RegExp(Mse,"u")),R_.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"emoji",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")Nse.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"uuid",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")Pse.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"nanoid",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")kse.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"cuid",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")Cse.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"cuid2",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")Ose.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"ulid",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),xe(i,{validation:"url",code:fe.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"regex",code:fe.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?Wse(a).test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?Hse.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?Vse(a).test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?$se.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"duration",code:fe.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?qse(e.data,a.version)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"ip",code:fe.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?Gse(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"jwt",code:fe.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?Kse(e.data,a.version)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"cidr",code:fe.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?zse.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"base64",code:fe.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?Use.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"base64url",code:fe.invalid_string,message:a.message}),r.dirty()):ft.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:fe.invalid_string,...Ne.errToObj(r)})}_addCheck(e){return new Wo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ne.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ne.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ne.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ne.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ne.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ne.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ne.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ne.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ne.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ne.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ne.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ne.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ne.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Ne.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ne.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ne.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ne.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Ne.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ne.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ne.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ne.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ne.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ne.errToObj(n)})}nonempty(e){return this.min(1,Ne.errToObj(e))}trim(){return new Wo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Wo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Wo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Wo.create=t=>new Wo({checks:[],typeName:he.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...rt(t)});function Yse(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=Number.parseInt(t.toFixed(i).replace(".","")),s=Number.parseInt(e.toFixed(i).replace(".",""));return a%s/10**i}class Zp extends dt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ke.number){const a=this._getOrReturnCtx(e);return xe(a,{code:fe.invalid_type,expected:ke.number,received:a.parsedType}),qe}let r;const i=new di;for(const a of this._def.checks)a.kind==="int"?ft.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?Yse(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.not_finite,message:a.message}),i.dirty()):ft.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ne.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ne.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ne.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ne.toString(n))}setLimit(e,n,r,i){return new Zp({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ne.toString(i)}]})}_addCheck(e){return new Zp({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ne.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ne.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ne.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ne.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ne.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ne.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ne.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ne.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ne.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ft.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Zp.create=t=>new Zp({checks:[],typeName:he.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...rt(t)});class Jp extends dt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ke.bigint)return this._getInvalidInput(e);let r;const i=new di;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):ft.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return xe(n,{code:fe.invalid_type,expected:ke.bigint,received:n.parsedType}),qe}gte(e,n){return this.setLimit("min",e,!0,Ne.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ne.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ne.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ne.toString(n))}setLimit(e,n,r,i){return new Jp({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ne.toString(i)}]})}_addCheck(e){return new Jp({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ne.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ne.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ne.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ne.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ne.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Jp.create=t=>new Jp({checks:[],typeName:he.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...rt(t)});class m2 extends dt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ke.boolean){const r=this._getOrReturnCtx(e);return xe(r,{code:fe.invalid_type,expected:ke.boolean,received:r.parsedType}),qe}return Li(e.data)}}m2.create=t=>new m2({typeName:he.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...rt(t)});class t0 extends dt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ke.date){const a=this._getOrReturnCtx(e);return xe(a,{code:fe.invalid_type,expected:ke.date,received:a.parsedType}),qe}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return xe(a,{code:fe.invalid_date}),qe}const r=new di;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):ft.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t0({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ne.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ne.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}t0.create=t=>new t0({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:he.ZodDate,...rt(t)});class g2 extends dt{_parse(e){if(this._getType(e)!==ke.symbol){const r=this._getOrReturnCtx(e);return xe(r,{code:fe.invalid_type,expected:ke.symbol,received:r.parsedType}),qe}return Li(e.data)}}g2.create=t=>new g2({typeName:he.ZodSymbol,...rt(t)});class y2 extends dt{_parse(e){if(this._getType(e)!==ke.undefined){const r=this._getOrReturnCtx(e);return xe(r,{code:fe.invalid_type,expected:ke.undefined,received:r.parsedType}),qe}return Li(e.data)}}y2.create=t=>new y2({typeName:he.ZodUndefined,...rt(t)});class v2 extends dt{_parse(e){if(this._getType(e)!==ke.null){const r=this._getOrReturnCtx(e);return xe(r,{code:fe.invalid_type,expected:ke.null,received:r.parsedType}),qe}return Li(e.data)}}v2.create=t=>new v2({typeName:he.ZodNull,...rt(t)});class RE extends dt{constructor(){super(...arguments),this._any=!0}_parse(e){return Li(e.data)}}RE.create=t=>new RE({typeName:he.ZodAny,...rt(t)});class x2 extends dt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Li(e.data)}}x2.create=t=>new x2({typeName:he.ZodUnknown,...rt(t)});class bl extends dt{_parse(e){const n=this._getOrReturnCtx(e);return xe(n,{code:fe.invalid_type,expected:ke.never,received:n.parsedType}),qe}}bl.create=t=>new bl({typeName:he.ZodNever,...rt(t)});class b2 extends dt{_parse(e){if(this._getType(e)!==ke.undefined){const r=this._getOrReturnCtx(e);return xe(r,{code:fe.invalid_type,expected:ke.void,received:r.parsedType}),qe}return Li(e.data)}}b2.create=t=>new b2({typeName:he.ZodVoid,...rt(t)});class ns extends dt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==ke.array)return xe(n,{code:fe.invalid_type,expected:ke.array,received:n.parsedType}),qe;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(s||o)&&(xe(n,{code:s?fe.too_big:fe.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(xe(n,{code:fe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(xe(n,{code:fe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,o)=>i.type._parseAsync(new xl(n,s,n.path,o)))).then(s=>di.mergeArray(r,s));const a=[...n.data].map((s,o)=>i.type._parseSync(new xl(n,s,n.path,o)));return di.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new ns({...this._def,minLength:{value:e,message:Ne.toString(n)}})}max(e,n){return new ns({...this._def,maxLength:{value:e,message:Ne.toString(n)}})}length(e,n){return new ns({...this._def,exactLength:{value:e,message:Ne.toString(n)}})}nonempty(e){return this.min(1,e)}}ns.create=(t,e)=>new ns({type:t,minLength:null,maxLength:null,exactLength:null,typeName:he.ZodArray,...rt(e)});function Iu(t){if(t instanceof nn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=al.create(Iu(r))}return new nn({...t._def,shape:()=>e})}else return t instanceof ns?new ns({...t._def,type:Iu(t.element)}):t instanceof al?al.create(Iu(t.unwrap())):t instanceof Wd?Wd.create(Iu(t.unwrap())):t instanceof Lc?Lc.create(t.items.map(e=>Iu(e))):t}class nn extends dt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ft.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ke.object){const c=this._getOrReturnCtx(e);return xe(c,{code:fe.invalid_type,expected:ke.object,received:c.parsedType}),qe}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof bl&&this._def.unknownKeys==="strip"))for(const c in i.data)s.includes(c)||o.push(c);const l=[];for(const c of s){const d=a[c],f=i.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new xl(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof bl){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of o)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(c==="strict")o.length>0&&(xe(i,{code:fe.unrecognized_keys,keys:o}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of o){const f=i.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new xl(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const f=await d.key,h=await d.value;c.push({key:f,value:h,alwaysSet:d.alwaysSet})}return c}).then(c=>di.mergeObjectSync(r,c)):di.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Ne.errToObj,new nn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var a,s;const i=((s=(a=this._def).errorMap)==null?void 0:s.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Ne.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new nn({...this._def,unknownKeys:"strip"})}passthrough(){return new nn({...this._def,unknownKeys:"passthrough"})}extend(e){return new nn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new nn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:he.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new nn({...this._def,catchall:e})}pick(e){const n={};for(const r of ft.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new nn({...this._def,shape:()=>n})}omit(e){const n={};for(const r of ft.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new nn({...this._def,shape:()=>n})}deepPartial(){return Iu(this)}partial(e){const n={};for(const r of ft.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new nn({...this._def,shape:()=>n})}required(e){const n={};for(const r of ft.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof al;)a=a._def.innerType;n[r]=a}return new nn({...this._def,shape:()=>n})}keyof(){return Qz(ft.objectKeys(this.shape))}}nn.create=(t,e)=>new nn({shape:()=>t,unknownKeys:"strip",catchall:bl.create(),typeName:he.ZodObject,...rt(e)});nn.strictCreate=(t,e)=>new nn({shape:()=>t,unknownKeys:"strict",catchall:bl.create(),typeName:he.ZodObject,...rt(e)});nn.lazycreate=(t,e)=>new nn({shape:t,unknownKeys:"strip",catchall:bl.create(),typeName:he.ZodObject,...rt(e)});class n0 extends dt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new to(o.ctx.common.issues));return xe(n,{code:fe.invalid_union,unionErrors:s}),qe}if(n.common.async)return Promise.all(r.map(async a=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(l=>new to(l));return xe(n,{code:fe.invalid_union,unionErrors:o}),qe}}get options(){return this._def.options}}n0.create=(t,e)=>new n0({options:t,typeName:he.ZodUnion,...rt(e)});function ME(t,e){const n=No(t),r=No(e);if(t===e)return{valid:!0,data:t};if(n===ke.object&&r===ke.object){const i=ft.objectKeys(e),a=ft.objectKeys(t).filter(o=>i.indexOf(o)!==-1),s={...t,...e};for(const o of a){const l=ME(t[o],e[o]);if(!l.valid)return{valid:!1};s[o]=l.data}return{valid:!0,data:s}}else if(n===ke.array&&r===ke.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const s=t[a],o=e[a],l=ME(s,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===ke.date&&r===ke.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class r0 extends dt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,s)=>{if(f2(a)||f2(s))return qe;const o=ME(a.value,s.value);return o.valid?((h2(a)||h2(s))&&n.dirty(),{status:n.value,value:o.data}):(xe(r,{code:fe.invalid_intersection_types}),qe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}r0.create=(t,e,n)=>new r0({left:t,right:e,typeName:he.ZodIntersection,...rt(n)});class Lc extends dt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.array)return xe(r,{code:fe.invalid_type,expected:ke.array,received:r.parsedType}),qe;if(r.data.length<this._def.items.length)return xe(r,{code:fe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),qe;!this._def.rest&&r.data.length>this._def.items.length&&(xe(r,{code:fe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((s,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new xl(r,s,r.path,o)):null}).filter(s=>!!s);return r.common.async?Promise.all(a).then(s=>di.mergeArray(n,s)):di.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new Lc({...this._def,rest:e})}}Lc.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Lc({items:t,typeName:he.ZodTuple,rest:null,...rt(e)})};class w2 extends dt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.map)return xe(r,{code:fe.invalid_type,expected:ke.map,received:r.parsedType}),qe;const i=this._def.keyType,a=this._def.valueType,s=[...r.data.entries()].map(([o,l],c)=>({key:i._parse(new xl(r,o,r.path,[c,"key"])),value:a._parse(new xl(r,l,r.path,[c,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of s){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return qe;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(c.value,d.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const l of s){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return qe;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(c.value,d.value)}return{status:n.value,value:o}}}}w2.create=(t,e,n)=>new w2({valueType:e,keyType:t,typeName:he.ZodMap,...rt(n)});class Qp extends dt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.set)return xe(r,{code:fe.invalid_type,expected:ke.set,received:r.parsedType}),qe;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(xe(r,{code:fe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(xe(r,{code:fe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function s(l){const c=new Set;for(const d of l){if(d.status==="aborted")return qe;d.status==="dirty"&&n.dirty(),c.add(d.value)}return{status:n.value,value:c}}const o=[...r.data.values()].map((l,c)=>a._parse(new xl(r,l,r.path,c)));return r.common.async?Promise.all(o).then(l=>s(l)):s(o)}min(e,n){return new Qp({...this._def,minSize:{value:e,message:Ne.toString(n)}})}max(e,n){return new Qp({...this._def,maxSize:{value:e,message:Ne.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Qp.create=(t,e)=>new Qp({valueType:t,minSize:null,maxSize:null,typeName:he.ZodSet,...rt(e)});class _2 extends dt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}_2.create=(t,e)=>new _2({getter:t,typeName:he.ZodLazy,...rt(e)});class S2 extends dt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return xe(n,{received:n.data,code:fe.invalid_literal,expected:this._def.value}),qe}return{status:"valid",value:e.data}}get value(){return this._def.value}}S2.create=(t,e)=>new S2({value:t,typeName:he.ZodLiteral,...rt(e)});function Qz(t,e){return new Hd({values:t,typeName:he.ZodEnum,...rt(e)})}class Hd extends dt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return xe(n,{expected:ft.joinValues(r),received:n.parsedType,code:fe.invalid_type}),qe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return xe(n,{received:n.data,code:fe.invalid_enum_value,options:r}),qe}return Li(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Hd.create(e,{...this._def,...n})}exclude(e,n=this._def){return Hd.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Hd.create=Qz;class E2 extends dt{_parse(e){const n=ft.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ke.string&&r.parsedType!==ke.number){const i=ft.objectValues(n);return xe(r,{expected:ft.joinValues(i),received:r.parsedType,code:fe.invalid_type}),qe}if(this._cache||(this._cache=new Set(ft.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=ft.objectValues(n);return xe(r,{received:r.data,code:fe.invalid_enum_value,options:i}),qe}return Li(e.data)}get enum(){return this._def.values}}E2.create=(t,e)=>new E2({values:t,typeName:he.ZodNativeEnum,...rt(e)});class i0 extends dt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ke.promise&&n.common.async===!1)return xe(n,{code:fe.invalid_type,expected:ke.promise,received:n.parsedType}),qe;const r=n.parsedType===ke.promise?n.data:Promise.resolve(n.data);return Li(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}i0.create=(t,e)=>new i0({type:t,typeName:he.ZodPromise,...rt(e)});class Vd extends dt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===he.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:s=>{xe(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(r.data,a);if(r.common.async)return Promise.resolve(s).then(async o=>{if(n.value==="aborted")return qe;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?qe:l.status==="dirty"||n.value==="dirty"?Dh(l.value):l});{if(n.value==="aborted")return qe;const o=this._def.schema._parseSync({data:s,path:r.path,parent:r});return o.status==="aborted"?qe:o.status==="dirty"||n.value==="dirty"?Dh(o.value):o}}if(i.type==="refinement"){const s=o=>{const l=i.refinement(o,a);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?qe:(o.status==="dirty"&&n.dirty(),s(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?qe:(o.status==="dirty"&&n.dirty(),s(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ud(s))return qe;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>Ud(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:n.value,value:o})):qe);ft.assertNever(i)}}Vd.create=(t,e,n)=>new Vd({schema:t,typeName:he.ZodEffects,effect:e,...rt(n)});Vd.createWithPreprocess=(t,e,n)=>new Vd({schema:e,effect:{type:"preprocess",transform:t},typeName:he.ZodEffects,...rt(n)});class al extends dt{_parse(e){return this._getType(e)===ke.undefined?Li(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}al.create=(t,e)=>new al({innerType:t,typeName:he.ZodOptional,...rt(e)});class Wd extends dt{_parse(e){return this._getType(e)===ke.null?Li(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Wd.create=(t,e)=>new Wd({innerType:t,typeName:he.ZodNullable,...rt(e)});class DE extends dt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ke.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}DE.create=(t,e)=>new DE({innerType:t,typeName:he.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...rt(e)});class LE extends dt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return e0(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new to(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new to(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}LE.create=(t,e)=>new LE({innerType:t,typeName:he.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...rt(e)});class j2 extends dt{_parse(e){if(this._getType(e)!==ke.nan){const r=this._getOrReturnCtx(e);return xe(r,{code:fe.invalid_type,expected:ke.nan,received:r.parsedType}),qe}return{status:"valid",value:e.data}}}j2.create=t=>new j2({typeName:he.ZodNaN,...rt(t)});class Xse extends dt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Zk extends dt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?qe:a.status==="dirty"?(n.dirty(),Dh(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?qe:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Zk({in:e,out:n,typeName:he.ZodPipeline})}}class FE extends dt{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Ud(i)&&(i.value=Object.freeze(i.value)),i);return e0(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}FE.create=(t,e)=>new FE({innerType:t,typeName:he.ZodReadonly,...rt(e)});nn.lazycreate;var he;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(he||(he={}));const Jk=Wo.create,A2=RE.create;bl.create;ns.create;const Qk=nn.create;nn.strictCreate;n0.create;r0.create;Lc.create;Hd.create;i0.create;al.create;Wd.create;function Zse(t,e){var r,i,a;const n={type:"array"};return(r=t.type)!=null&&r._def&&((a=(i=t.type)==null?void 0:i._def)==null?void 0:a.typeName)!==he.ZodAny&&(n.items=xt(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&wt(n,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&wt(n,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(wt(n,"minItems",t.exactLength.value,t.exactLength.message,e),wt(n,"maxItems",t.exactLength.value,t.exactLength.message,e)),n}function Jse(t,e){const n={type:"integer",format:"int64"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?wt(n,"minimum",r.value,r.message,e):wt(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),wt(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?wt(n,"maximum",r.value,r.message,e):wt(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),wt(n,"maximum",r.value,r.message,e));break;case"multipleOf":wt(n,"multipleOf",r.value,r.message,e);break}return n}function Qse(){return{type:"boolean"}}function eU(t,e){return xt(t.type._def,e)}const eoe=(t,e)=>xt(t.innerType._def,e);function tU(t,e,n){const r=n??e.dateStrategy;if(Array.isArray(r))return{anyOf:r.map(i=>tU(t,e,i))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return toe(t,e)}}const toe=(t,e)=>{const n={type:"integer",format:"unix-time"};if(e.target==="openApi3")return n;for(const r of t.checks)switch(r.kind){case"min":wt(n,"minimum",r.value,r.message,e);break;case"max":wt(n,"maximum",r.value,r.message,e);break}return n};function noe(t,e){return{...xt(t.innerType._def,e),default:t.defaultValue()}}function roe(t,e){return e.effectStrategy==="input"?xt(t.schema._def,e):ui(e)}function ioe(t){return{type:"string",enum:Array.from(t.values)}}const aoe=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function soe(t,e){const n=[xt(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),xt(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(a=>!!a);let r=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const i=[];return n.forEach(a=>{if(aoe(a))i.push(...a.allOf),a.unevaluatedProperties===void 0&&(r=void 0);else{let s=a;if("additionalProperties"in a&&a.additionalProperties===!1){const{additionalProperties:o,...l}=a;s=l}else r=void 0;i.push(s)}}),i.length?{allOf:i,...r}:void 0}function ooe(t,e){const n=typeof t.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[t.value]}:{type:n==="bigint"?"integer":n,const:t.value}}let M_;const Hi={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(M_===void 0&&(M_=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),M_),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function nU(t,e){const n={type:"string"};if(t.checks)for(const r of t.checks)switch(r.kind){case"min":wt(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,e);break;case"max":wt(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,e);break;case"email":switch(e.emailStrategy){case"format:email":Vi(n,"email",r.message,e);break;case"format:idn-email":Vi(n,"idn-email",r.message,e);break;case"pattern:zod":tr(n,Hi.email,r.message,e);break}break;case"url":Vi(n,"uri",r.message,e);break;case"uuid":Vi(n,"uuid",r.message,e);break;case"regex":tr(n,r.regex,r.message,e);break;case"cuid":tr(n,Hi.cuid,r.message,e);break;case"cuid2":tr(n,Hi.cuid2,r.message,e);break;case"startsWith":tr(n,RegExp(`^${D_(r.value,e)}`),r.message,e);break;case"endsWith":tr(n,RegExp(`${D_(r.value,e)}$`),r.message,e);break;case"datetime":Vi(n,"date-time",r.message,e);break;case"date":Vi(n,"date",r.message,e);break;case"time":Vi(n,"time",r.message,e);break;case"duration":Vi(n,"duration",r.message,e);break;case"length":wt(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,e),wt(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,e);break;case"includes":tr(n,RegExp(D_(r.value,e)),r.message,e);break;case"ip":r.version!=="v6"&&Vi(n,"ipv4",r.message,e),r.version!=="v4"&&Vi(n,"ipv6",r.message,e);break;case"base64url":tr(n,Hi.base64url,r.message,e);break;case"jwt":tr(n,Hi.jwt,r.message,e);break;case"cidr":r.version!=="v6"&&tr(n,Hi.ipv4Cidr,r.message,e),r.version!=="v4"&&tr(n,Hi.ipv6Cidr,r.message,e);break;case"emoji":tr(n,Hi.emoji(),r.message,e);break;case"ulid":tr(n,Hi.ulid,r.message,e);break;case"base64":switch(e.base64Strategy){case"format:binary":Vi(n,"binary",r.message,e);break;case"contentEncoding:base64":wt(n,"contentEncoding","base64",r.message,e);break;case"pattern:zod":tr(n,Hi.base64,r.message,e);break}break;case"nanoid":tr(n,Hi.nanoid,r.message,e);break}return n}function D_(t,e){return e.patternStrategy==="escape"?coe(t):t}const loe=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function coe(t){let e="";for(let n=0;n<t.length;n++)loe.has(t[n])||(e+="\\"),e+=t[n];return e}function Vi(t,e,n,r){var i;t.format||(i=t.anyOf)!=null&&i.some(a=>a.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&r.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...n&&r.errorMessages&&{errorMessage:{format:n}}})):wt(t,"format",e,n,r)}function tr(t,e,n,r){var i;t.pattern||(i=t.allOf)!=null&&i.some(a=>a.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&r.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:T2(e,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):wt(t,"pattern",T2(e,r),n,r)}function T2(t,e){var l;if(!e.applyRegexFlags||!t.flags)return t.source;const n={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},r=n.i?t.source.toLowerCase():t.source;let i="",a=!1,s=!1,o=!1;for(let c=0;c<r.length;c++){if(a){i+=r[c],a=!1;continue}if(n.i){if(s){if(r[c].match(/[a-z]/)){o?(i+=r[c],i+=`${r[c-2]}-${r[c]}`.toUpperCase(),o=!1):r[c+1]==="-"&&((l=r[c+2])!=null&&l.match(/[a-z]/))?(i+=r[c],o=!0):i+=`${r[c]}${r[c].toUpperCase()}`;continue}}else if(r[c].match(/[a-z]/)){i+=`[${r[c]}${r[c].toUpperCase()}]`;continue}}if(n.m){if(r[c]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(r[c]==="$"){i+=`($|(?=[\r
]))`;continue}}if(n.s&&r[c]==="."){i+=s?`${r[c]}\r
`:`[${r[c]}\r
]`;continue}i+=r[c],r[c]==="\\"?a=!0:s&&r[c]==="]"?s=!1:!s&&r[c]==="["&&(s=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return i}function rU(t,e){var r,i,a,s,o,l;if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&((r=t.keyType)==null?void 0:r._def.typeName)===he.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((c,d)=>({...c,[d]:xt(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",d]})??ui(e)}),{}),additionalProperties:e.rejectedAdditionalProperties};const n={type:"object",additionalProperties:xt(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??e.allowedAdditionalProperties};if(e.target==="openApi3")return n;if(((i=t.keyType)==null?void 0:i._def.typeName)===he.ZodString&&((a=t.keyType._def.checks)!=null&&a.length)){const{type:c,...d}=nU(t.keyType._def,e);return{...n,propertyNames:d}}else{if(((s=t.keyType)==null?void 0:s._def.typeName)===he.ZodEnum)return{...n,propertyNames:{enum:t.keyType._def.values}};if(((o=t.keyType)==null?void 0:o._def.typeName)===he.ZodBranded&&t.keyType._def.type._def.typeName===he.ZodString&&((l=t.keyType._def.type._def.checks)!=null&&l.length)){const{type:c,...d}=eU(t.keyType._def,e);return{...n,propertyNames:d}}}return n}function uoe(t,e){if(e.mapStrategy==="record")return rU(t,e);const n=xt(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||ui(e),r=xt(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||ui(e);return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function doe(t){const e=t.values,r=Object.keys(t.values).filter(a=>typeof e[e[a]]!="number").map(a=>e[a]),i=Array.from(new Set(r.map(a=>typeof a)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:r}}function foe(t){return t.target==="openAi"?void 0:{not:ui({...t,currentPath:[...t.currentPath,"not"]})}}function hoe(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const a0={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function poe(t,e){if(e.target==="openApi3")return k2(t,e);const n=t.options instanceof Map?Array.from(t.options.values()):t.options;if(n.every(r=>r._def.typeName in a0&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((i,a)=>{const s=a0[a._def.typeName];return s&&!i.includes(s)?[...i,s]:i},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((i,a)=>{const s=typeof a._def.value;switch(s){case"string":case"number":case"boolean":return[...i,s];case"bigint":return[...i,"integer"];case"object":return a._def.value===null?[...i,"null"]:i;case"symbol":case"undefined":case"function":default:return i}},[]);if(r.length===n.length){const i=r.filter((a,s,o)=>o.indexOf(a)===s);return{type:i.length>1?i:i[0],enum:n.reduce((a,s)=>a.includes(s._def.value)?a:[...a,s._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,i)=>[...r,...i._def.values.filter(a=>!r.includes(a))],[])};return k2(t,e)}const k2=(t,e)=>{const n=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((r,i)=>xt(r._def,{...e,currentPath:[...e.currentPath,"anyOf",`${i}`]})).filter(r=>!!r&&(!e.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function moe(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:a0[t.innerType._def.typeName],nullable:!0}:{type:[a0[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const r=xt(t.innerType._def,{...e,currentPath:[...e.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const n=xt(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function goe(t,e){const n={type:"number"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"int":n.type="integer",Xz(n,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?wt(n,"minimum",r.value,r.message,e):wt(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),wt(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?wt(n,"maximum",r.value,r.message,e):wt(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),wt(n,"maximum",r.value,r.message,e));break;case"multipleOf":wt(n,"multipleOf",r.value,r.message,e);break}return n}function yoe(t,e){const n=e.target==="openAi",r={type:"object",properties:{}},i=[],a=t.shape();for(const o in a){let l=a[o];if(l===void 0||l._def===void 0)continue;let c=xoe(l);c&&n&&(l._def.typeName==="ZodOptional"&&(l=l._def.innerType),l.isNullable()||(l=l.nullable()),c=!1);const d=xt(l._def,{...e,currentPath:[...e.currentPath,"properties",o],propertyPath:[...e.currentPath,"properties",o]});d!==void 0&&(r.properties[o]=d,c||i.push(o))}i.length&&(r.required=i);const s=voe(t,e);return s!==void 0&&(r.additionalProperties=s),r}function voe(t,e){if(t.catchall._def.typeName!=="ZodNever")return xt(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]});switch(t.unknownKeys){case"passthrough":return e.allowedAdditionalProperties;case"strict":return e.rejectedAdditionalProperties;case"strip":return e.removeAdditionalStrategy==="strict"?e.allowedAdditionalProperties:e.rejectedAdditionalProperties}}function xoe(t){try{return t.isOptional()}catch{return!0}}const boe=(t,e)=>{var r;if(e.currentPath.toString()===((r=e.propertyPath)==null?void 0:r.toString()))return xt(t.innerType._def,e);const n=xt(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return n?{anyOf:[{not:ui(e)},n]}:ui(e)},woe=(t,e)=>{if(e.pipeStrategy==="input")return xt(t.in._def,e);if(e.pipeStrategy==="output")return xt(t.out._def,e);const n=xt(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),r=xt(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(i=>i!==void 0)}};function _oe(t,e){return xt(t.type._def,e)}function Soe(t,e){const r={type:"array",uniqueItems:!0,items:xt(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&wt(r,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&wt(r,"maxItems",t.maxSize.value,t.maxSize.message,e),r}function Eoe(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((n,r)=>xt(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:xt(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((n,r)=>xt(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function joe(t){return{not:ui(t)}}function Aoe(t){return ui(t)}const Toe=(t,e)=>xt(t.innerType._def,e),koe=(t,e,n)=>{switch(e){case he.ZodString:return nU(t,n);case he.ZodNumber:return goe(t,n);case he.ZodObject:return yoe(t,n);case he.ZodBigInt:return Jse(t,n);case he.ZodBoolean:return Qse();case he.ZodDate:return tU(t,n);case he.ZodUndefined:return joe(n);case he.ZodNull:return hoe(n);case he.ZodArray:return Zse(t,n);case he.ZodUnion:case he.ZodDiscriminatedUnion:return poe(t,n);case he.ZodIntersection:return soe(t,n);case he.ZodTuple:return Eoe(t,n);case he.ZodRecord:return rU(t,n);case he.ZodLiteral:return ooe(t,n);case he.ZodEnum:return ioe(t);case he.ZodNativeEnum:return doe(t);case he.ZodNullable:return moe(t,n);case he.ZodOptional:return boe(t,n);case he.ZodMap:return uoe(t,n);case he.ZodSet:return Soe(t,n);case he.ZodLazy:return()=>t.getter()._def;case he.ZodPromise:return _oe(t,n);case he.ZodNaN:case he.ZodNever:return foe(n);case he.ZodEffects:return roe(t,n);case he.ZodAny:return ui(n);case he.ZodUnknown:return Aoe(n);case he.ZodDefault:return noe(t,n);case he.ZodBranded:return eU(t,n);case he.ZodReadonly:return Toe(t,n);case he.ZodCatch:return eoe(t,n);case he.ZodPipeline:return woe(t,n);case he.ZodFunction:case he.ZodVoid:case he.ZodSymbol:return;default:return(r=>{})()}};function xt(t,e,n=!1){var o;const r=e.seen.get(t);if(e.override){const l=(o=e.override)==null?void 0:o.call(e,t,e,r,n);if(l!==wse)return l}if(r&&!n){const l=Coe(r,e);if(l!==void 0)return l}const i={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,i);const a=koe(t,t.typeName,e),s=typeof a=="function"?xt(a(),e):a;if(s&&Ooe(t,e,s),e.postProcess){const l=e.postProcess(s,t,e);return i.jsonSchema=s,l}return i.jsonSchema=s,s}const Coe=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:Yz(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((n,r)=>e.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),ui(e)):e.$refStrategy==="seen"?ui(e):void 0}},Ooe=(t,e,n)=>(t.description&&(n.description=t.description,e.markdownDescription&&(n.markdownDescription=t.description)),n),Noe=(t,e)=>{const n=Ese(e);let r;const i=e==null?void 0:e.name,a=xt(t._def,n,!1)??ui(n);n.flags.hasReferencedOpenAiAnyType&&(r||(r={}),r[n.openAiAnyTypeName]||(r[n.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:n.$refStrategy==="relative"?"1":[...n.basePath,n.definitionPath,n.openAiAnyTypeName].join("/")}}));const s=i===void 0?r?{...a,[n.definitionPath]:r}:a:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,i].join("/"),[n.definitionPath]:{...r,[i]:a}};return n.target==="jsonSchema7"?s.$schema="http://json-schema.org/draft-07/schema#":(n.target==="jsonSchema2019-09"||n.target==="openAi")&&(s.$schema="https://json-schema.org/draft/2019-09/schema#"),n.target==="openAi"&&("anyOf"in s||"oneOf"in s||"allOf"in s||"type"in s&&Array.isArray(s.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),s};function Ec(t,e){const n=typeof t;if(n!==typeof e)return!1;if(Array.isArray(t)){if(!Array.isArray(e))return!1;const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(!Ec(t[i],e[i]))return!1;return!0}if(n==="object"){if(!t||!e)return t===e;const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(const s of r)if(!Ec(t[s],e[s]))return!1;return!0}return t===e}function Yi(t){return encodeURI(Poe(t))}function Poe(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}const Ioe={prefixItems:!0,items:!0,allOf:!0,anyOf:!0,oneOf:!0},$oe={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependentSchemas:!0},Roe={id:!0,$id:!0,$ref:!0,$schema:!0,$anchor:!0,$vocabulary:!0,$comment:!0,default:!0,enum:!0,const:!0,required:!0,type:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};let Moe=typeof self<"u"&&self.location&&self.location.origin!=="null"?new URL(self.location.origin+self.location.pathname+location.search):new URL("https://github.com/cfworker");function qo(t,e=Object.create(null),n=Moe,r=""){if(t&&typeof t=="object"&&!Array.isArray(t)){const a=t.$id||t.id;if(a){const s=new URL(a,n.href);s.hash.length>1?e[s.href]=t:(s.hash="",r===""?n=s:qo(t,e,n))}}else if(t!==!0&&t!==!1)return e;const i=n.href+(r?"#"+r:"");if(e[i]!==void 0)throw new Error(`Duplicate schema URI "${i}".`);if(e[i]=t,t===!0||t===!1)return e;if(t.__absolute_uri__===void 0&&Object.defineProperty(t,"__absolute_uri__",{enumerable:!1,value:i}),t.$ref&&t.__absolute_ref__===void 0){const a=new URL(t.$ref,n.href);a.hash=a.hash,Object.defineProperty(t,"__absolute_ref__",{enumerable:!1,value:a.href})}if(t.$recursiveRef&&t.__absolute_recursive_ref__===void 0){const a=new URL(t.$recursiveRef,n.href);a.hash=a.hash,Object.defineProperty(t,"__absolute_recursive_ref__",{enumerable:!1,value:a.href})}if(t.$anchor){const a=new URL("#"+t.$anchor,n.href);e[a.href]=t}for(let a in t){if(Roe[a])continue;const s=`${r}/${Yi(a)}`,o=t[a];if(Array.isArray(o)){if(Ioe[a]){const l=o.length;for(let c=0;c<l;c++)qo(o[c],e,n,`${s}/${c}`)}}else if($oe[a])for(let l in o)qo(o[l],e,n,`${s}/${Yi(l)}`);else qo(o,e,n,s)}return e}const Doe=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Loe=[0,31,28,31,30,31,30,31,31,30,31,30,31],Foe=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,Boe=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,zoe=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Uoe=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,Hoe=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)(?:\.(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,Voe=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,Woe=/^(?:\/(?:[^~/]|~0|~1)*)*$/,qoe=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,Goe=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,Koe=t=>{if(t[0]==='"')return!1;const[e,n,...r]=t.split("@");return!e||!n||r.length!==0||e.length>64||n.length>253||e[0]==="."||e.endsWith(".")||e.includes("..")||!/^[a-z0-9.-]+$/i.test(n)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(e)?!1:n.split(".").every(i=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(i))},Yoe=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,Xoe=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,Zoe=t=>t.length>1&&t.length<80&&(/^P\d+([.,]\d+)?W$/.test(t)||/^P[\dYMDTHS]*(\d[.,]\d+)?[YMDHS]$/.test(t)&&/^P([.,\d]+Y)?([.,\d]+M)?([.,\d]+D)?(T([.,\d]+H)?([.,\d]+M)?([.,\d]+S)?)?$/.test(t));function Da(t){return t.test.bind(t)}const C2={date:iU,time:aU.bind(void 0,!1),"date-time":ele,duration:Zoe,uri:rle,"uri-reference":Da(zoe),"uri-template":Da(Uoe),url:Da(Hoe),email:Koe,hostname:Da(Boe),ipv4:Da(Yoe),ipv6:Da(Xoe),regex:ale,uuid:Da(Voe),"json-pointer":Da(Woe),"json-pointer-uri-fragment":Da(qoe),"relative-json-pointer":Da(Goe)};function Joe(t){return t%4===0&&(t%100!==0||t%400===0)}function iU(t){const e=t.match(Doe);if(!e)return!1;const n=+e[1],r=+e[2],i=+e[3];return r>=1&&r<=12&&i>=1&&i<=(r==2&&Joe(n)?29:Loe[r])}function aU(t,e){const n=e.match(Foe);if(!n)return!1;const r=+n[1],i=+n[2],a=+n[3],s=!!n[5];return(r<=23&&i<=59&&a<=59||r==23&&i==59&&a==60)&&(!t||s)}const Qoe=/t|\s/i;function ele(t){const e=t.split(Qoe);return e.length==2&&iU(e[0])&&aU(!0,e[1])}const tle=/\/|:/,nle=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function rle(t){return tle.test(t)&&nle.test(t)}const ile=/[^\\]\\Z/;function ale(t){if(ile.test(t))return!1;try{return new RegExp(t,"u"),!0}catch{return!1}}function sle(t){let e=0,n=t.length,r=0,i;for(;r<n;)e++,i=t.charCodeAt(r++),i>=55296&&i<=56319&&r<n&&(i=t.charCodeAt(r),(i&64512)==56320&&r++);return e}function Yt(t,e,n="2019-09",r=qo(e),i=!0,a=null,s="#",o="#",l=Object.create(null)){if(e===!0)return{valid:!0,errors:[]};if(e===!1)return{valid:!1,errors:[{instanceLocation:s,keyword:"false",keywordLocation:s,error:"False boolean schema."}]};const c=typeof t;let d;switch(c){case"boolean":case"number":case"string":d=c;break;case"object":t===null?d="null":Array.isArray(t)?d="array":d="object";break;default:throw new Error(`Instances of "${c}" type are not supported.`)}const{$ref:f,$recursiveRef:h,$recursiveAnchor:p,type:m,const:g,enum:b,required:x,not:v,anyOf:y,allOf:w,oneOf:_,if:E,then:A,else:j,format:T,properties:C,patternProperties:k,additionalProperties:O,unevaluatedProperties:L,minProperties:R,maxProperties:F,propertyNames:U,dependentRequired:V,dependentSchemas:D,dependencies:B,prefixItems:P,items:W,additionalItems:G,unevaluatedItems:$,contains:ee,minContains:ie,maxContains:I,minItems:N,maxItems:K,uniqueItems:z,minimum:Z,maximum:J,exclusiveMinimum:Y,exclusiveMaximum:me,multipleOf:le,minLength:ve,maxLength:oe,pattern:Be,__absolute_ref__:Te,__absolute_recursive_ref__:De}=e,ae=[];if(p===!0&&a===null&&(a=e),h==="#"){const we=a===null?r[De]:a,ye=`${o}/$recursiveRef`,be=Yt(t,a===null?e:a,n,r,i,we,s,ye,l);be.valid||ae.push({instanceLocation:s,keyword:"$recursiveRef",keywordLocation:ye,error:"A subschema had errors."},...be.errors)}if(f!==void 0){const ye=r[Te||f];if(ye===void 0){let q=`Unresolved $ref "${f}".`;throw Te&&Te!==f&&(q+=`  Absolute URI "${Te}".`),q+=`
Known schemas:
- ${Object.keys(r).join(`
- `)}`,new Error(q)}const be=`${o}/$ref`,ge=Yt(t,ye,n,r,i,a,s,be,l);if(ge.valid||ae.push({instanceLocation:s,keyword:"$ref",keywordLocation:be,error:"A subschema had errors."},...ge.errors),n==="4"||n==="7")return{valid:ae.length===0,errors:ae}}if(Array.isArray(m)){let we=m.length,ye=!1;for(let be=0;be<we;be++)if(d===m[be]||m[be]==="integer"&&d==="number"&&t%1===0&&t===t){ye=!0;break}ye||ae.push({instanceLocation:s,keyword:"type",keywordLocation:`${o}/type`,error:`Instance type "${d}" is invalid. Expected "${m.join('", "')}".`})}else m==="integer"?(d!=="number"||t%1||t!==t)&&ae.push({instanceLocation:s,keyword:"type",keywordLocation:`${o}/type`,error:`Instance type "${d}" is invalid. Expected "${m}".`}):m!==void 0&&d!==m&&ae.push({instanceLocation:s,keyword:"type",keywordLocation:`${o}/type`,error:`Instance type "${d}" is invalid. Expected "${m}".`});if(g!==void 0&&(d==="object"||d==="array"?Ec(t,g)||ae.push({instanceLocation:s,keyword:"const",keywordLocation:`${o}/const`,error:`Instance does not match ${JSON.stringify(g)}.`}):t!==g&&ae.push({instanceLocation:s,keyword:"const",keywordLocation:`${o}/const`,error:`Instance does not match ${JSON.stringify(g)}.`})),b!==void 0&&(d==="object"||d==="array"?b.some(we=>Ec(t,we))||ae.push({instanceLocation:s,keyword:"enum",keywordLocation:`${o}/enum`,error:`Instance does not match any of ${JSON.stringify(b)}.`}):b.some(we=>t===we)||ae.push({instanceLocation:s,keyword:"enum",keywordLocation:`${o}/enum`,error:`Instance does not match any of ${JSON.stringify(b)}.`})),v!==void 0){const we=`${o}/not`;Yt(t,v,n,r,i,a,s,we).valid&&ae.push({instanceLocation:s,keyword:"not",keywordLocation:we,error:'Instance matched "not" schema.'})}let At=[];if(y!==void 0){const we=`${o}/anyOf`,ye=ae.length;let be=!1;for(let ge=0;ge<y.length;ge++){const q=y[ge],X=Object.create(l),re=Yt(t,q,n,r,i,p===!0?a:null,s,`${we}/${ge}`,X);ae.push(...re.errors),be=be||re.valid,re.valid&&At.push(X)}be?ae.length=ye:ae.splice(ye,0,{instanceLocation:s,keyword:"anyOf",keywordLocation:we,error:"Instance does not match any subschemas."})}if(w!==void 0){const we=`${o}/allOf`,ye=ae.length;let be=!0;for(let ge=0;ge<w.length;ge++){const q=w[ge],X=Object.create(l),re=Yt(t,q,n,r,i,p===!0?a:null,s,`${we}/${ge}`,X);ae.push(...re.errors),be=be&&re.valid,re.valid&&At.push(X)}be?ae.length=ye:ae.splice(ye,0,{instanceLocation:s,keyword:"allOf",keywordLocation:we,error:"Instance does not match every subschema."})}if(_!==void 0){const we=`${o}/oneOf`,ye=ae.length,be=_.filter((ge,q)=>{const X=Object.create(l),re=Yt(t,ge,n,r,i,p===!0?a:null,s,`${we}/${q}`,X);return ae.push(...re.errors),re.valid&&At.push(X),re.valid}).length;be===1?ae.length=ye:ae.splice(ye,0,{instanceLocation:s,keyword:"oneOf",keywordLocation:we,error:`Instance does not match exactly one subschema (${be} matches).`})}if((d==="object"||d==="array")&&Object.assign(l,...At),E!==void 0){const we=`${o}/if`;if(Yt(t,E,n,r,i,a,s,we,l).valid){if(A!==void 0){const be=Yt(t,A,n,r,i,a,s,`${o}/then`,l);be.valid||ae.push({instanceLocation:s,keyword:"if",keywordLocation:we,error:'Instance does not match "then" schema.'},...be.errors)}}else if(j!==void 0){const be=Yt(t,j,n,r,i,a,s,`${o}/else`,l);be.valid||ae.push({instanceLocation:s,keyword:"if",keywordLocation:we,error:'Instance does not match "else" schema.'},...be.errors)}}if(d==="object"){if(x!==void 0)for(const ge of x)ge in t||ae.push({instanceLocation:s,keyword:"required",keywordLocation:`${o}/required`,error:`Instance does not have required property "${ge}".`});const we=Object.keys(t);if(R!==void 0&&we.length<R&&ae.push({instanceLocation:s,keyword:"minProperties",keywordLocation:`${o}/minProperties`,error:`Instance does not have at least ${R} properties.`}),F!==void 0&&we.length>F&&ae.push({instanceLocation:s,keyword:"maxProperties",keywordLocation:`${o}/maxProperties`,error:`Instance does not have at least ${F} properties.`}),U!==void 0){const ge=`${o}/propertyNames`;for(const q in t){const X=`${s}/${Yi(q)}`,re=Yt(q,U,n,r,i,a,X,ge);re.valid||ae.push({instanceLocation:s,keyword:"propertyNames",keywordLocation:ge,error:`Property name "${q}" does not match schema.`},...re.errors)}}if(V!==void 0){const ge=`${o}/dependantRequired`;for(const q in V)if(q in t){const X=V[q];for(const re of X)re in t||ae.push({instanceLocation:s,keyword:"dependentRequired",keywordLocation:ge,error:`Instance has "${q}" but does not have "${re}".`})}}if(D!==void 0)for(const ge in D){const q=`${o}/dependentSchemas`;if(ge in t){const X=Yt(t,D[ge],n,r,i,a,s,`${q}/${Yi(ge)}`,l);X.valid||ae.push({instanceLocation:s,keyword:"dependentSchemas",keywordLocation:q,error:`Instance has "${ge}" but does not match dependant schema.`},...X.errors)}}if(B!==void 0){const ge=`${o}/dependencies`;for(const q in B)if(q in t){const X=B[q];if(Array.isArray(X))for(const re of X)re in t||ae.push({instanceLocation:s,keyword:"dependencies",keywordLocation:ge,error:`Instance has "${q}" but does not have "${re}".`});else{const re=Yt(t,X,n,r,i,a,s,`${ge}/${Yi(q)}`);re.valid||ae.push({instanceLocation:s,keyword:"dependencies",keywordLocation:ge,error:`Instance has "${q}" but does not match dependant schema.`},...re.errors)}}}const ye=Object.create(null);let be=!1;if(C!==void 0){const ge=`${o}/properties`;for(const q in C){if(!(q in t))continue;const X=`${s}/${Yi(q)}`,re=Yt(t[q],C[q],n,r,i,a,X,`${ge}/${Yi(q)}`);if(re.valid)l[q]=ye[q]=!0;else if(be=i,ae.push({instanceLocation:s,keyword:"properties",keywordLocation:ge,error:`Property "${q}" does not match schema.`},...re.errors),be)break}}if(!be&&k!==void 0){const ge=`${o}/patternProperties`;for(const q in k){const X=new RegExp(q,"u"),re=k[q];for(const Oe in t){if(!X.test(Oe))continue;const ct=`${s}/${Yi(Oe)}`,Kt=Yt(t[Oe],re,n,r,i,a,ct,`${ge}/${Yi(q)}`);Kt.valid?l[Oe]=ye[Oe]=!0:(be=i,ae.push({instanceLocation:s,keyword:"patternProperties",keywordLocation:ge,error:`Property "${Oe}" matches pattern "${q}" but does not match associated schema.`},...Kt.errors))}}}if(!be&&O!==void 0){const ge=`${o}/additionalProperties`;for(const q in t){if(ye[q])continue;const X=`${s}/${Yi(q)}`,re=Yt(t[q],O,n,r,i,a,X,ge);re.valid?l[q]=!0:(be=i,ae.push({instanceLocation:s,keyword:"additionalProperties",keywordLocation:ge,error:`Property "${q}" does not match additional properties schema.`},...re.errors))}}else if(!be&&L!==void 0){const ge=`${o}/unevaluatedProperties`;for(const q in t)if(!l[q]){const X=`${s}/${Yi(q)}`,re=Yt(t[q],L,n,r,i,a,X,ge);re.valid?l[q]=!0:ae.push({instanceLocation:s,keyword:"unevaluatedProperties",keywordLocation:ge,error:`Property "${q}" does not match unevaluated properties schema.`},...re.errors)}}}else if(d==="array"){K!==void 0&&t.length>K&&ae.push({instanceLocation:s,keyword:"maxItems",keywordLocation:`${o}/maxItems`,error:`Array has too many items (${t.length} > ${K}).`}),N!==void 0&&t.length<N&&ae.push({instanceLocation:s,keyword:"minItems",keywordLocation:`${o}/minItems`,error:`Array has too few items (${t.length} < ${N}).`});const we=t.length;let ye=0,be=!1;if(P!==void 0){const ge=`${o}/prefixItems`,q=Math.min(P.length,we);for(;ye<q;ye++){const X=Yt(t[ye],P[ye],n,r,i,a,`${s}/${ye}`,`${ge}/${ye}`);if(l[ye]=!0,!X.valid&&(be=i,ae.push({instanceLocation:s,keyword:"prefixItems",keywordLocation:ge,error:"Items did not match schema."},...X.errors),be))break}}if(W!==void 0){const ge=`${o}/items`;if(Array.isArray(W)){const q=Math.min(W.length,we);for(;ye<q;ye++){const X=Yt(t[ye],W[ye],n,r,i,a,`${s}/${ye}`,`${ge}/${ye}`);if(l[ye]=!0,!X.valid&&(be=i,ae.push({instanceLocation:s,keyword:"items",keywordLocation:ge,error:"Items did not match schema."},...X.errors),be))break}}else for(;ye<we;ye++){const q=Yt(t[ye],W,n,r,i,a,`${s}/${ye}`,ge);if(l[ye]=!0,!q.valid&&(be=i,ae.push({instanceLocation:s,keyword:"items",keywordLocation:ge,error:"Items did not match schema."},...q.errors),be))break}if(!be&&G!==void 0){const q=`${o}/additionalItems`;for(;ye<we;ye++){const X=Yt(t[ye],G,n,r,i,a,`${s}/${ye}`,q);l[ye]=!0,X.valid||(be=i,ae.push({instanceLocation:s,keyword:"additionalItems",keywordLocation:q,error:"Items did not match additional items schema."},...X.errors))}}}if(ee!==void 0)if(we===0&&ie===void 0)ae.push({instanceLocation:s,keyword:"contains",keywordLocation:`${o}/contains`,error:"Array is empty. It must contain at least one item matching the schema."});else if(ie!==void 0&&we<ie)ae.push({instanceLocation:s,keyword:"minContains",keywordLocation:`${o}/minContains`,error:`Array has less items (${we}) than minContains (${ie}).`});else{const ge=`${o}/contains`,q=ae.length;let X=0;for(let re=0;re<we;re++){const Oe=Yt(t[re],ee,n,r,i,a,`${s}/${re}`,ge);Oe.valid?(l[re]=!0,X++):ae.push(...Oe.errors)}X>=(ie||0)&&(ae.length=q),ie===void 0&&I===void 0&&X===0?ae.splice(q,0,{instanceLocation:s,keyword:"contains",keywordLocation:ge,error:"Array does not contain item matching schema."}):ie!==void 0&&X<ie?ae.push({instanceLocation:s,keyword:"minContains",keywordLocation:`${o}/minContains`,error:`Array must contain at least ${ie} items matching schema. Only ${X} items were found.`}):I!==void 0&&X>I&&ae.push({instanceLocation:s,keyword:"maxContains",keywordLocation:`${o}/maxContains`,error:`Array may contain at most ${I} items matching schema. ${X} items were found.`})}if(!be&&$!==void 0){const ge=`${o}/unevaluatedItems`;for(ye;ye<we;ye++){if(l[ye])continue;const q=Yt(t[ye],$,n,r,i,a,`${s}/${ye}`,ge);l[ye]=!0,q.valid||ae.push({instanceLocation:s,keyword:"unevaluatedItems",keywordLocation:ge,error:"Items did not match unevaluated items schema."},...q.errors)}}if(z)for(let ge=0;ge<we;ge++){const q=t[ge],X=typeof q=="object"&&q!==null;for(let re=0;re<we;re++){if(ge===re)continue;const Oe=t[re];(q===Oe||X&&(typeof Oe=="object"&&Oe!==null)&&Ec(q,Oe))&&(ae.push({instanceLocation:s,keyword:"uniqueItems",keywordLocation:`${o}/uniqueItems`,error:`Duplicate items at indexes ${ge} and ${re}.`}),ge=Number.MAX_SAFE_INTEGER,re=Number.MAX_SAFE_INTEGER)}}}else if(d==="number"){if(n==="4"?(Z!==void 0&&(Y===!0&&t<=Z||t<Z)&&ae.push({instanceLocation:s,keyword:"minimum",keywordLocation:`${o}/minimum`,error:`${t} is less than ${Y?"or equal to ":""} ${Z}.`}),J!==void 0&&(me===!0&&t>=J||t>J)&&ae.push({instanceLocation:s,keyword:"maximum",keywordLocation:`${o}/maximum`,error:`${t} is greater than ${me?"or equal to ":""} ${J}.`})):(Z!==void 0&&t<Z&&ae.push({instanceLocation:s,keyword:"minimum",keywordLocation:`${o}/minimum`,error:`${t} is less than ${Z}.`}),J!==void 0&&t>J&&ae.push({instanceLocation:s,keyword:"maximum",keywordLocation:`${o}/maximum`,error:`${t} is greater than ${J}.`}),Y!==void 0&&t<=Y&&ae.push({instanceLocation:s,keyword:"exclusiveMinimum",keywordLocation:`${o}/exclusiveMinimum`,error:`${t} is less than ${Y}.`}),me!==void 0&&t>=me&&ae.push({instanceLocation:s,keyword:"exclusiveMaximum",keywordLocation:`${o}/exclusiveMaximum`,error:`${t} is greater than or equal to ${me}.`})),le!==void 0){const we=t%le;Math.abs(0-we)>=11920929e-14&&Math.abs(le-we)>=11920929e-14&&ae.push({instanceLocation:s,keyword:"multipleOf",keywordLocation:`${o}/multipleOf`,error:`${t} is not a multiple of ${le}.`})}}else if(d==="string"){const we=ve===void 0&&oe===void 0?0:sle(t);ve!==void 0&&we<ve&&ae.push({instanceLocation:s,keyword:"minLength",keywordLocation:`${o}/minLength`,error:`String is too short (${we} < ${ve}).`}),oe!==void 0&&we>oe&&ae.push({instanceLocation:s,keyword:"maxLength",keywordLocation:`${o}/maxLength`,error:`String is too long (${we} > ${oe}).`}),Be!==void 0&&!new RegExp(Be,"u").test(t)&&ae.push({instanceLocation:s,keyword:"pattern",keywordLocation:`${o}/pattern`,error:"String does not match pattern."}),T!==void 0&&C2[T]&&!C2[T](t)&&ae.push({instanceLocation:s,keyword:"format",keywordLocation:`${o}/format`,error:`String does not match format "${T}".`})}return{valid:ae.length===0,errors:ae}}class ole{constructor(e,n="2019-09",r=!0){H(this,"schema");H(this,"draft");H(this,"shortCircuit");H(this,"lookup");this.schema=e,this.draft=n,this.shortCircuit=r,this.lookup=qo(e)}validate(e){return Yt(e,this.schema,this.draft,this.lookup,this.shortCircuit)}addSchema(e,n){n&&(e={...e,$id:n}),qo(e,this.lookup)}}var lle={};bt(lle,{Validator:()=>ole,deepCompareStrict:()=>Ec,toJsonSchema:()=>wl,validatesOnlyStrings:()=>ov});function wl(t){if(hn(t)){const e=Kz(t,!0);if(ts(e)){const n=Qv(e,!0);return u2(n)}else return u2(t)}return Tn(t)?Noe(t):t}function ov(t){if(!t||typeof t!="object"||Object.keys(t).length===0||Array.isArray(t))return!1;if("type"in t)return typeof t.type=="string"?t.type==="string":Array.isArray(t.type)?t.type.every(e=>e==="string"):!1;if("enum"in t)return Array.isArray(t.enum)&&t.enum.length>0&&t.enum.every(e=>typeof e=="string");if("const"in t)return typeof t.const=="string";if("allOf"in t&&Array.isArray(t.allOf))return t.allOf.some(e=>ov(e));if("anyOf"in t&&Array.isArray(t.anyOf)||"oneOf"in t&&Array.isArray(t.oneOf)){const e="anyOf"in t?t.anyOf:t.oneOf;return e.length>0&&e.every(n=>ov(n))}if("not"in t)return!1;if("$ref"in t&&typeof t.$ref=="string"){const e=t.$ref,n=qo(t);return n[e]?ov(n[e]):!1}return!1}function _l(t){return typeof t=="object"&&t!==null&&"type"in t&&typeof t.type=="string"&&"source_type"in t&&(t.source_type==="url"||t.source_type==="base64"||t.source_type==="text"||t.source_type==="id")}function eC(t){return _l(t)&&t.source_type==="url"&&"url"in t&&typeof t.url=="string"}function tC(t){return _l(t)&&t.source_type==="base64"&&"data"in t&&typeof t.data=="string"}function cle(t){return _l(t)&&t.source_type==="text"&&"text"in t&&typeof t.text=="string"}function sU(t){return _l(t)&&t.source_type==="id"&&"id"in t&&typeof t.id=="string"}function oU(t){if(_l(t)){if(t.source_type==="url")return{type:"image_url",image_url:{url:t.url}};if(t.source_type==="base64"){if(!t.mime_type)throw new Error("mime_type key is required for base64 data.");return{type:"image_url",image_url:{url:`data:${t.mime_type};base64,${t.data}`}}}}throw new Error("Unsupported source type. Only 'url' and 'base64' are supported.")}function ule(t){const e=t.split(";")[0].split("/");if(e.length!==2)throw new Error(`Invalid mime type: "${t}" - does not match type/subtype format.`);const n=e[0].trim(),r=e[1].trim();if(n===""||r==="")throw new Error(`Invalid mime type: "${t}" - type or subtype is empty.`);const i={};for(const a of t.split(";").slice(1)){const s=a.split("=");if(s.length!==2)throw new Error(`Invalid parameter syntax in mime type: "${t}".`);const o=s[0].trim(),l=s[1].trim();if(o==="")throw new Error(`Invalid parameter syntax in mime type: "${t}".`);i[o]=l}return{type:n,subtype:r,parameters:i}}function BE({dataUrl:t,asTypedArray:e=!1}){const n=t.match(/^data:(\w+\/\w+);base64,([A-Za-z0-9+/]+=*)$/);let r;if(n){r=n[1].toLowerCase();const i=e?Uint8Array.from(atob(n[2]),a=>a.charCodeAt(0)):n[2];return{mime_type:r,data:i}}}function dle(t,e){if(t.type==="text"){if(!e.fromStandardTextBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardTextBlock\` method.`);return e.fromStandardTextBlock(t)}if(t.type==="image"){if(!e.fromStandardImageBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardImageBlock\` method.`);return e.fromStandardImageBlock(t)}if(t.type==="audio"){if(!e.fromStandardAudioBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardAudioBlock\` method.`);return e.fromStandardAudioBlock(t)}if(t.type==="file"){if(!e.fromStandardFileBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardFileBlock\` method.`);return e.fromStandardFileBlock(t)}throw new Error(`Unable to convert content block type '${t.type}' to provider-specific format: not recognized.`)}var fle=function(t,e){if(typeof t!="string")throw new TypeError("Expected a string");return e=typeof e>"u"?"_":e,t.replace(/([a-z\d])([A-Z])/g,"$1"+e+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+e+"$2").toLowerCase()};const hle=at(fle);var lU={exports:{}};const ple=/[\p{Lu}]/u,mle=/[\p{Ll}]/u,O2=/^[\p{Lu}](?![\p{Lu}])/gu,cU=/([\p{Alpha}\p{N}_]|$)/u,uU=/[_.\- ]+/,gle=new RegExp("^"+uU.source),N2=new RegExp(uU.source+cU.source,"gu"),P2=new RegExp("\\d+"+cU.source,"gu"),yle=(t,e,n)=>{let r=!1,i=!1,a=!1;for(let s=0;s<t.length;s++){const o=t[s];r&&ple.test(o)?(t=t.slice(0,s)+"-"+t.slice(s),r=!1,a=i,i=!0,s++):i&&a&&mle.test(o)?(t=t.slice(0,s-1)+"-"+t.slice(s-1),a=i,i=!1,r=!0):(r=e(o)===o&&n(o)!==o,a=i,i=n(o)===o&&e(o)!==o)}return t},vle=(t,e)=>(O2.lastIndex=0,t.replace(O2,n=>e(n))),xle=(t,e)=>(N2.lastIndex=0,P2.lastIndex=0,t.replace(N2,(n,r)=>e(r)).replace(P2,n=>e(n))),dU=(t,e)=>{if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(t)?t=t.map(a=>a.trim()).filter(a=>a.length).join("-"):t=t.trim(),t.length===0)return"";const n=e.locale===!1?a=>a.toLowerCase():a=>a.toLocaleLowerCase(e.locale),r=e.locale===!1?a=>a.toUpperCase():a=>a.toLocaleUpperCase(e.locale);return t.length===1?e.pascalCase?r(t):n(t):(t!==n(t)&&(t=yle(t,n,r)),t=t.replace(gle,""),e.preserveConsecutiveUppercase?t=vle(t,n):t=n(t),e.pascalCase&&(t=r(t.charAt(0))+t.slice(1)),xle(t,r))};lU.exports=dU;lU.exports.default=dU;function ble(t,e){return(e==null?void 0:e[t])||hle(t)}function wle(t,e,n){const r={};for(const i in t)Object.hasOwn(t,i)&&(r[e(i,n)]=t[i]);return r}var _le={};bt(_le,{Serializable:()=>qd,get_lc_unique_name:()=>nC});function I2(t){return Array.isArray(t)?[...t]:{...t}}function Sle(t,e){const n=I2(t);for(const[r,i]of Object.entries(e)){const[a,...s]=r.split(".").reverse();let o=n;for(const l of s.reverse()){if(o[l]===void 0)break;o[l]=I2(o[l]),o=o[l]}o[a]!==void 0&&(o[a]={lc:1,type:"secret",id:[i]})}return n}function nC(t){const e=Object.getPrototypeOf(t);return typeof t.lc_name=="function"&&(typeof e.lc_name!="function"||t.lc_name()!==e.lc_name())?t.lc_name():t.name}var qd=class fU{constructor(e,...n){H(this,"lc_serializable",!1);H(this,"lc_kwargs");this.lc_serializable_keys!==void 0?this.lc_kwargs=Object.fromEntries(Object.entries(e||{}).filter(([r])=>{var i;return(i=this.lc_serializable_keys)==null?void 0:i.includes(r)})):this.lc_kwargs=e??{}}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,nC(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof fU||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const e={},n={},r=Object.keys(this.lc_kwargs).reduce((i,a)=>(i[a]=a in this?this[a]:this.lc_kwargs[a],i),{});for(let i=Object.getPrototypeOf(this);i;i=Object.getPrototypeOf(i))Object.assign(e,Reflect.get(i,"lc_aliases",this)),Object.assign(n,Reflect.get(i,"lc_secrets",this)),Object.assign(r,Reflect.get(i,"lc_attributes",this));return Object.keys(n).forEach(i=>{let a=this,s=r;const[o,...l]=i.split(".").reverse();for(const c of l.reverse()){if(!(c in a)||a[c]===void 0)return;(!(c in s)||s[c]===void 0)&&(typeof a[c]=="object"&&a[c]!=null?s[c]={}:Array.isArray(a[c])&&(s[c]=[])),a=a[c],s=s[c]}o in a&&a[o]!==void 0&&(s[o]=s[o]||a[o])}),{lc:1,type:"constructor",id:this.lc_id,kwargs:wle(Object.keys(n).length?Sle(r,n):r,ble,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}};function Me(t,e){return We(t)&&t.type===e}function We(t){return typeof t=="object"&&t!==null}function rs(t){return Array.isArray(t)}function Se(t){return typeof t=="string"}function Qi(t){return typeof t=="number"}function rC(t){return t instanceof Uint8Array}function $2(t){try{return JSON.parse(t)}catch{return}}const em=t=>t();function Ele(t){if(t.type==="char_location"&&Se(t.document_title)&&Qi(t.start_char_index)&&Qi(t.end_char_index)&&Se(t.cited_text)){const{document_title:e,start_char_index:n,end_char_index:r,cited_text:i,...a}=t;return{...a,type:"citation",source:"char",title:e??void 0,startIndex:n,endIndex:r,citedText:i}}if(t.type==="page_location"&&Se(t.document_title)&&Qi(t.start_page_number)&&Qi(t.end_page_number)&&Se(t.cited_text)){const{document_title:e,start_page_number:n,end_page_number:r,cited_text:i,...a}=t;return{...a,type:"citation",source:"page",title:e??void 0,startIndex:n,endIndex:r,citedText:i}}if(t.type==="content_block_location"&&Se(t.document_title)&&Qi(t.start_block_index)&&Qi(t.end_block_index)&&Se(t.cited_text)){const{document_title:e,start_block_index:n,end_block_index:r,cited_text:i,...a}=t;return{...a,type:"citation",source:"block",title:e??void 0,startIndex:n,endIndex:r,citedText:i}}if(t.type==="web_search_result_location"&&Se(t.url)&&Se(t.title)&&Se(t.encrypted_index)&&Se(t.cited_text)){const{url:e,title:n,encrypted_index:r,cited_text:i,...a}=t;return{...a,type:"citation",source:"url",url:e,title:n,startIndex:Number(r),endIndex:Number(r),citedText:i}}if(t.type==="search_result_location"&&Se(t.source)&&Se(t.title)&&Qi(t.start_block_index)&&Qi(t.end_block_index)&&Se(t.cited_text)){const{source:e,title:n,start_block_index:r,end_block_index:i,cited_text:a,...s}=t;return{...s,type:"citation",source:"search",url:e,title:n??void 0,startIndex:r,endIndex:i,citedText:a}}}function hU(t){if(Me(t,"document")&&We(t.source)&&"type"in t.source){if(t.source.type==="base64"&&Se(t.source.media_type)&&Se(t.source.data))return{type:"file",mimeType:t.source.media_type,data:t.source.data};if(t.source.type==="url"&&Se(t.source.url))return{type:"file",url:t.source.url};if(t.source.type==="file"&&Se(t.source.file_id))return{type:"file",fileId:t.source.file_id};if(t.source.type==="text"&&Se(t.source.data))return{type:"file",mimeType:String(t.source.media_type??"text/plain"),data:t.source.data}}else if(Me(t,"image")&&We(t.source)&&"type"in t.source){if(t.source.type==="base64"&&Se(t.source.media_type)&&Se(t.source.data))return{type:"image",mimeType:t.source.media_type,data:t.source.data};if(t.source.type==="url"&&Se(t.source.url))return{type:"image",url:t.source.url};if(t.source.type==="file"&&Se(t.source.file_id))return{type:"image",fileId:t.source.file_id}}}function jle(t){function*e(){for(const n of t){const r=hU(n);r?yield r:yield n}}return Array.from(e())}function R2(t){function*e(){var r;const n=typeof t.content=="string"?[{type:"text",text:t.content}]:t.content;for(const i of n){if(Me(i,"text")&&Se(i.text)){const{text:a,citations:s,...o}=i;if(rs(s)&&s.length){const l=s.reduce((c,d)=>{const f=Ele(d);return f?[...c,f]:c},[]);yield{...o,type:"text",text:a,annotations:l};continue}else{yield{...o,type:"text",text:a};continue}}else if(Me(i,"thinking")&&Se(i.thinking)){const{thinking:a,signature:s,...o}=i;yield{...o,type:"reasoning",reasoning:a,signature:s};continue}else if(Me(i,"redacted_thinking")){yield{type:"non_standard",value:i};continue}else if(Me(i,"tool_use")&&Se(i.name)&&Se(i.id)){yield{type:"tool_call",id:i.id,name:i.name,args:i.input};continue}else if(Me(i,"input_json_delta")){if(Tle(t)&&((r=t.tool_call_chunks)!=null&&r.length)){const a=t.tool_call_chunks[0];yield{type:"tool_call_chunk",id:a.id,name:a.name,args:a.args,index:a.index};continue}}else if(Me(i,"server_tool_use")&&Se(i.name)&&Se(i.id)){const{name:a,id:s}=i;if(a==="web_search"){const o=em(()=>{if(typeof i.input=="string")return i.input;if(We(i.input)&&Se(i.input.query))return i.input.query;if(Se(i.partial_json)){const l=$2(i.partial_json);if(l!=null&&l.query)return l.query}return""});yield{id:s,type:"server_tool_call",name:"web_search",args:{query:o}};continue}else if(i.name==="code_execution"){const o=em(()=>{if(typeof i.input=="string")return i.input;if(We(i.input)&&Se(i.input.code))return i.input.code;if(Se(i.partial_json)){const l=$2(i.partial_json);if(l!=null&&l.code)return l.code}return""});yield{id:s,type:"server_tool_call",name:"code_execution",args:{code:o}};continue}}else if(Me(i,"web_search_tool_result")&&Se(i.tool_use_id)&&rs(i.content)){const{content:a,tool_use_id:s}=i,o=a.reduce((l,c)=>Me(c,"web_search_result")?[...l,c.url]:l,[]);yield{type:"server_tool_call_result",name:"web_search",toolCallId:s,status:"success",output:{urls:o}};continue}else if(Me(i,"code_execution_tool_result")&&Se(i.tool_use_id)&&We(i.content)){yield{type:"server_tool_call_result",name:"code_execution",toolCallId:i.tool_use_id,status:"success",output:i.content};continue}else if(Me(i,"mcp_tool_use")){yield{id:i.id,type:"server_tool_call",name:"mcp_tool_use",args:i.input};continue}else if(Me(i,"mcp_tool_result")&&Se(i.tool_use_id)&&We(i.content)){yield{type:"server_tool_call_result",name:"mcp_tool_use",toolCallId:i.tool_use_id,status:"success",output:i.content};continue}else if(Me(i,"container_upload")){yield{type:"server_tool_call",name:"container_upload",args:i.input};continue}else if(Me(i,"search_result")){yield{id:i.id,type:"non_standard",value:i};continue}else if(Me(i,"tool_result")){yield{id:i.id,type:"non_standard",value:i};continue}else{const a=hU(i);if(a){yield a;continue}}yield{type:"non_standard",value:i}}}return Array.from(e())}const Ale={translateContent:R2,translateContentChunk:R2};function Tle(t){return typeof(t==null?void 0:t._getType)=="function"&&typeof t.concat=="function"&&t._getType()==="ai"}function kle(t){return eC(t)?{type:t.type,mimeType:t.mime_type,url:t.url,metadata:t.metadata}:tC(t)?{type:t.type,mimeType:t.mime_type??"application/octet-stream",data:t.data,metadata:t.metadata}:sU(t)?{type:t.type,mimeType:t.mime_type,fileId:t.id,metadata:t.metadata}:t}function Cle(t){return t.map(kle)}function Ole(t){return!!(Me(t,"image_url")&&We(t.image_url)||Me(t,"input_audio")&&We(t.input_audio)||Me(t,"file")&&We(t.file))}function Nle(t){if(Me(t,"image_url")&&We(t.image_url)&&Se(t.image_url.url)){const e=BE({dataUrl:t.image_url.url});return e?{type:"image",mimeType:e.mime_type,data:e.data}:{type:"image",url:t.image_url.url}}else{if(Me(t,"input_audio")&&We(t.input_audio)&&Se(t.input_audio.data)&&Se(t.input_audio.format))return{type:"audio",data:t.input_audio.data,mimeType:`audio/${t.input_audio.format}`};if(Me(t,"file")&&We(t.file)&&Se(t.file.data)){const e=BE({dataUrl:t.file.data});if(e)return{type:"file",data:e.data,mimeType:e.mime_type};if(Se(t.file.file_id))return{type:"file",fileId:t.file.file_id}}}return t}function Ple(t){const e=[];typeof t.content=="string"?e.push({type:"text",text:t.content}):e.push(...iC(t.content));for(const n of t.tool_calls??[])e.push({type:"tool_call",id:n.id,name:n.name,args:n.args});return e}function Ile(t){const e=[];typeof t.content=="string"?e.push({type:"text",text:t.content}):e.push(...iC(t.content));for(const n of t.tool_calls??[])e.push({type:"tool_call",id:n.id,name:n.name,args:n.args});return e}function iC(t){const e=[];for(const n of t)Ole(n)?e.push(Nle(n)):e.push(n);return e}function $le(t){if(t.type==="url_citation"){const{url:e,title:n,start_index:r,end_index:i}=t;return{type:"citation",url:e,title:n,startIndex:r,endIndex:i}}if(t.type==="file_citation"){const{file_id:e,filename:n,index:r}=t;return{type:"citation",title:n,startIndex:r,endIndex:r,fileId:e}}return t}function pU(t){function*e(){var r;We((r=t.additional_kwargs)==null?void 0:r.reasoning)&&rs(t.additional_kwargs.reasoning.summary)&&(yield{type:"reasoning",reasoning:t.additional_kwargs.reasoning.summary.reduce((a,s)=>We(s)&&Se(s.text)?`${a}${s.text}`:a,"")});const n=typeof t.content=="string"?[{type:"text",text:t.content}]:t.content;for(const i of n)if(Me(i,"text")){const{text:a,annotations:s,...o}=i;Array.isArray(s)?yield{...o,type:"text",text:String(a),annotations:s.map($le)}:yield{...o,type:"text",text:String(a)}}for(const i of t.tool_calls??[])yield{type:"tool_call",id:i.id,name:i.name,args:i.args};if(We(t.additional_kwargs)&&rs(t.additional_kwargs.tool_outputs))for(const i of t.additional_kwargs.tool_outputs){if(Me(i,"web_search_call")){yield{id:i.id,type:"server_tool_call",name:"web_search",args:{query:i.query}};continue}else if(Me(i,"file_search_call")){yield{id:i.id,type:"server_tool_call",name:"file_search",args:{query:i.query}};continue}else if(Me(i,"computer_call")){yield{type:"non_standard",value:i};continue}else if(Me(i,"code_interpreter_call")){if(Se(i.code)&&(yield{id:i.id,type:"server_tool_call",name:"code_interpreter",args:{code:i.code}}),rs(i.outputs)){const a=em(()=>{if(i.status!=="in_progress"){if(i.status==="completed")return 0;if(i.status==="incomplete")return 127;if(i.status!=="interpreting"&&i.status==="failed")return 1}});for(const s of i.outputs)if(Me(s,"logs")){yield{type:"server_tool_call_result",toolCallId:i.id??"",status:"success",output:{type:"code_interpreter_output",returnCode:a??0,stderr:[0,void 0].includes(a)?void 0:String(s.logs),stdout:[0,void 0].includes(a)?String(s.logs):void 0}};continue}}continue}else if(Me(i,"mcp_call")){yield{id:i.id,type:"server_tool_call",name:"mcp_call",args:i.input};continue}else if(Me(i,"mcp_list_tools")){yield{id:i.id,type:"server_tool_call",name:"mcp_list_tools",args:i.input};continue}else if(Me(i,"mcp_approval_request")){yield{type:"non_standard",value:i};continue}else if(Me(i,"image_generation_call")){yield{type:"non_standard",value:i};continue}We(i)&&(yield{type:"non_standard",value:i})}}return Array.from(e())}function Rle(t){function*e(){yield*pU(t);for(const n of t.tool_call_chunks??[])yield{type:"tool_call_chunk",id:n.id,name:n.name,args:n.args}}return Array.from(e())}const Mle={translateContent:t=>typeof t.content=="string"?Ple(t):pU(t),translateContentChunk:t=>typeof t.content=="string"?Ile(t):Rle(t)};function mU(t){return typeof t=="object"&&t!==null&&"type"in t&&"content"in t&&(typeof t.content=="string"||Array.isArray(t.content))}function Dle(t,e="pretty"){return e==="pretty"?Lle(t):JSON.stringify(t)}function Lle(t){const e=[],n=` ${t.type.charAt(0).toUpperCase()+t.type.slice(1)} Message `,r=Math.floor((80-n.length)/2),i="=".repeat(r),a=n.length%2===0?i:`${i}=`;if(e.push(`${i}${n}${a}`),t.type==="ai"){const s=t;if(s.tool_calls&&s.tool_calls.length>0){e.push("Tool Calls:");for(const o of s.tool_calls){e.push(`  ${o.name} (${o.id})`),e.push(` Call ID: ${o.id}`),e.push("  Args:");for(const[l,c]of Object.entries(o.args))e.push(`    ${l}: ${c}`)}}}if(t.type==="tool"){const s=t;s.name&&e.push(`Name: ${s.name}`)}return typeof t.content=="string"&&t.content.trim()&&(e.length>1&&e.push(""),e.push(t.content)),e.join(`
`)}const L_=Symbol.for("langchain.message");function no(t,e){return typeof t=="string"?t===""?e:typeof e=="string"?t+e:Array.isArray(e)&&e.length===0?t:Array.isArray(e)&&e.some(n=>_l(n))?[{type:"text",source_type:"text",text:t},...e]:[{type:"text",text:t},...e]:Array.isArray(e)?ag(t,e)??[...t,...e]:e===""?t:Array.isArray(t)&&t.some(n=>_l(n))?[...t,{type:"file",source_type:"text",text:e}]:[...t,{type:"text",text:e}]}function gU(t,e){return t==="error"||e==="error"?"error":"success"}function Fle(t,e){function n(r,i){if(typeof r!="object"||r===null||r===void 0)return r;if(i>=e)return Array.isArray(r)?"[Array]":"[Object]";if(Array.isArray(r))return r.map(s=>n(s,i+1));const a={};for(const s of Object.keys(r))a[s]=n(r[s],i+1);return a}return JSON.stringify(n(t,0),null,2)}var h5,uo=class extends qd{constructor(e){const n=typeof e=="string"||Array.isArray(e)?{content:e}:e;n.additional_kwargs||(n.additional_kwargs={}),n.response_metadata||(n.response_metadata={});super(n);H(this,"lc_namespace",["langchain_core","messages"]);H(this,"lc_serializable",!0);H(this,h5,!0);H(this,"id");H(this,"name");H(this,"content");H(this,"additional_kwargs");H(this,"response_metadata");this.name=n.name,n.content===void 0&&n.contentBlocks!==void 0?(this.content=n.contentBlocks,this.response_metadata={output_version:"v1",...n.response_metadata}):n.content!==void 0?(this.content=n.content??[],this.response_metadata=n.response_metadata):(this.content=[],this.response_metadata=n.response_metadata),this.additional_kwargs=n.additional_kwargs,this.id=n.id}get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}_getType(){return this.type}getType(){return this._getType()}get text(){return typeof this.content=="string"?this.content:Array.isArray(this.content)?this.content.map(e=>typeof e=="string"?e:e.type==="text"?e.text:"").join(""):""}get contentBlocks(){const e=typeof this.content=="string"?[{type:"text",text:this.content}]:this.content;return[Cle,iC,jle].reduce((i,a)=>a(i),e)}toDict(){return{type:this.getType(),data:this.toJSON().kwargs}}static lc_name(){return"BaseMessage"}get _printableFields(){return{id:this.id,content:this.content,name:this.name,additional_kwargs:this.additional_kwargs,response_metadata:this.response_metadata}}static isInstance(e){return typeof e=="object"&&e!==null&&L_ in e&&e[L_]===!0&&mU(e)}_updateId(e){this.id=e,this.lc_kwargs.id=e}get[(h5=L_,Symbol.toStringTag)](){return this.constructor.lc_name()}[Symbol.for("nodejs.util.inspect.custom")](e){if(e===null)return this;const n=Fle(this._printableFields,Math.max(4,e));return`${this.constructor.lc_name()} ${n}`}toFormattedString(e="pretty"){return Dle(this,e)}};function Ble(t){return Array.isArray(t)&&t.every(e=>typeof e.index=="number")}function Jn(t={},e={}){const n={...t};for(const[r,i]of Object.entries(e))if(n[r]==null)n[r]=i;else{if(i==null)continue;if(typeof n[r]!=typeof i||Array.isArray(n[r])!==Array.isArray(i))throw new Error(`field[${r}] already exists in the message chunk, but with a different type.`);if(typeof n[r]=="string"){if(r==="type")continue;["id","name","output_version","model_provider"].includes(r)?n[r]=i:n[r]+=i}else if(typeof n[r]=="object"&&!Array.isArray(n[r]))n[r]=Jn(n[r],i);else if(Array.isArray(n[r]))n[r]=ag(n[r],i);else{if(n[r]===i)continue;console.warn(`field[${r}] already exists in this message chunk and value has unsupported type.`)}}return n}function ag(t,e){if(!(t===void 0&&e===void 0)){if(t===void 0||e===void 0)return t||e;{const n=[...t];for(const r of e)if(typeof r=="object"&&r!==null&&"index"in r&&typeof r.index=="number"){const i=n.findIndex(a=>{const s=typeof a=="object",o="index"in a&&a.index===r.index,l="id"in a&&"id"in r&&(a==null?void 0:a.id)===(r==null?void 0:r.id),c=!("id"in a)||!(a!=null&&a.id)||!("id"in r)||!(r!=null&&r.id);return s&&o&&(l||c)});i!==-1&&typeof n[i]=="object"&&n[i]!==null?n[i]=Jn(n[i],r):n.push(r)}else{if(typeof r=="object"&&r!==null&&"text"in r&&r.text==="")continue;n.push(r)}return n}}}function yU(t,e){if(!t&&!e)throw new Error("Cannot merge two undefined objects.");if(!t||!e)return t||e;if(typeof t!=typeof e)throw new Error(`Cannot merge objects of different types.
Left ${typeof t}
Right ${typeof e}`);if(typeof t=="string"&&typeof e=="string")return t+e;if(Array.isArray(t)&&Array.isArray(e))return ag(t,e);if(typeof t=="object"&&typeof e=="object")return Jn(t,e);if(t===e)return t;throw new Error(`Can not merge objects of different types.
Left ${t}
Right ${e}`)}var $l=class vU extends uo{static isInstance(e){if(!super.isInstance(e))return!1;let n=Object.getPrototypeOf(e);for(;n!==null;){if(n===vU.prototype)return!0;n=Object.getPrototypeOf(n)}return!1}};function xU(t){return typeof t.role=="string"}function Go(t){return typeof(t==null?void 0:t._getType)=="function"}function aC(t){return $l.isInstance(t)}function zE(t,e=gb){t=t.trim();const n=t.indexOf("```");if(n===-1)return e(t);let r=t.substring(n+3);r.startsWith(`json
`)?r=r.substring(5):r.startsWith("json")?r=r.substring(4):r.startsWith(`
`)&&(r=r.substring(1));const i=r.indexOf("```");let a=r;return i!==-1&&(a=r.substring(0,i)),e(a.trim())}function gb(t){if(typeof t>"u")return null;try{return JSON.parse(t)}catch{}let e="";const n=[];let r=!1,i=!1;for(let a of t){if(r)a==='"'&&!i?r=!1:a===`
`&&!i?a="\\n":a==="\\"?i=!i:i=!1;else if(a==='"')r=!0,i=!1;else if(a==="{")n.push("}");else if(a==="[")n.push("]");else if(a==="}"||a==="]")if(n&&n[n.length-1]===a)n.pop();else return null;e+=a}r&&(e+='"');for(let a=n.length-1;a>=0;a-=1)e+=n[a];try{return JSON.parse(e)}catch{return null}}function sC(t){switch(t){case"csv":return"text/csv";case"doc":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"docx":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"html":return"text/html";case"md":return"text/markdown";case"pdf":return"application/pdf";case"txt":return"text/plain";case"xls":return"application/vnd.ms-excel";case"xlsx":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"gif":return"image/gif";case"jpeg":return"image/jpeg";case"jpg":return"image/jpeg";case"png":return"image/png";case"webp":return"image/webp";case"flv":return"video/flv";case"mkv":return"video/mkv";case"mov":return"video/mov";case"mp4":return"video/mp4";case"mpeg":return"video/mpeg";case"mpg":return"video/mpg";case"three_gp":return"video/three_gp";case"webm":return"video/webm";case"wmv":return"video/wmv";default:return"application/octet-stream"}}function zle(t){if(We(t.document)&&We(t.document.source)){const e=We(t.document)&&Se(t.document.format)?t.document.format:"",n=sC(e);if(We(t.document.source)){if(We(t.document.source.s3Location)&&Se(t.document.source.s3Location.uri))return{type:"file",mimeType:n,fileId:t.document.source.s3Location.uri};if(rC(t.document.source.bytes))return{type:"file",mimeType:n,data:t.document.source.bytes};if(Se(t.document.source.text))return{type:"file",mimeType:n,data:Buffer.from(t.document.source.text).toString("base64")};if(rs(t.document.source.content)){const r=t.document.source.content.reduce((i,a)=>We(a)&&Se(a.text)?i+a.text:i,"");return{type:"file",mimeType:n,data:r}}}}return{type:"non_standard",value:t}}function Ule(t){if(Me(t,"image")&&We(t.image)){const e=We(t.image)&&Se(t.image.format)?t.image.format:"",n=sC(e);if(We(t.image.source)){if(We(t.image.source.s3Location)&&Se(t.image.source.s3Location.uri))return{type:"image",mimeType:n,fileId:t.image.source.s3Location.uri};if(rC(t.image.source.bytes))return{type:"image",mimeType:n,data:t.image.source.bytes}}}return{type:"non_standard",value:t}}function Hle(t){if(Me(t,"video")&&We(t.video)){const e=We(t.video)&&Se(t.video.format)?t.video.format:"",n=sC(e);if(We(t.video.source)){if(We(t.video.source.s3Location)&&Se(t.video.source.s3Location.uri))return{type:"video",mimeType:n,fileId:t.video.source.s3Location.uri};if(rC(t.video.source.bytes))return{type:"video",mimeType:n,data:t.video.source.bytes}}}return{type:"non_standard",value:t}}function M2(t){function*e(){const n=typeof t.content=="string"?[{type:"text",text:t.content}]:t.content;for(const r of n){if(Me(r,"cache_point")){yield{type:"non_standard",value:r};continue}else if(Me(r,"citations_content")&&We(r.citationsContent)){const i=rs(r.citationsContent.content)?r.citationsContent.content.reduce((s,o)=>We(o)&&Se(o.text)?s+o.text:s,""):"",a=rs(r.citationsContent.citations)?r.citationsContent.citations.reduce((s,o)=>{if(We(o)){const l=rs(o.sourceContent)?o.sourceContent.reduce((d,f)=>We(f)&&Se(f.text)?d+f.text:d,""):"",c=em(()=>{if(We(o.location)){const d=o.location.documentChar||o.location.documentPage||o.location.documentChunk;if(We(d))return{source:Qi(d.documentIndex)?d.documentIndex.toString():void 0,startIndex:Qi(d.start)?d.start:void 0,endIndex:Qi(d.end)?d.end:void 0}}return{}});s.push({type:"citation",citedText:l,...c})}return s},[]):[];yield{type:"text",text:i,annotations:a};continue}else if(Me(r,"document")&&We(r.document)){yield zle(r);continue}else if(Me(r,"guard_content")){yield{type:"non_standard",value:r};continue}else if(Me(r,"image")&&We(r.image)){yield Ule(r);continue}else if(Me(r,"reasoning_content")&&Se(r.reasoningText)){yield{type:"reasoning",reasoning:r.reasoningText};continue}else if(Me(r,"text")&&Se(r.text)){yield{type:"text",text:r.text};continue}else if(Me(r,"tool_result")){yield{type:"non_standard",value:r};continue}else{if(Me(r,"tool_call"))continue;if(Me(r,"video")&&We(r.video)){yield Hle(r);continue}}yield{type:"non_standard",value:r}}}return Array.from(e())}const Vle={translateContent:M2,translateContentChunk:M2};function D2(t){function*e(){const n=typeof t.content=="string"?[{type:"text",text:t.content}]:t.content;for(const r of n){if(Me(r,"text")&&Se(r.text)){yield{type:"text",text:r.text};continue}else if(Me(r,"inlineData")&&We(r.inlineData)&&Se(r.inlineData.mimeType)&&Se(r.inlineData.data)){yield{type:"file",mimeType:r.inlineData.mimeType,data:r.inlineData.data};continue}else if(Me(r,"functionCall")&&We(r.functionCall)&&Se(r.functionCall.name)&&We(r.functionCall.args)){yield{type:"tool_call",id:t.id,name:r.functionCall.name,args:r.functionCall.args};continue}else if(Me(r,"functionResponse")){yield{type:"non_standard",value:r};continue}else if(Me(r,"fileData")&&We(r.fileData)&&Se(r.fileData.mimeType)&&Se(r.fileData.fileUri)){yield{type:"file",mimeType:r.fileData.mimeType,fileId:r.fileData.fileUri};continue}else if(Me(r,"executableCode")){yield{type:"non_standard",value:r};continue}else if(Me(r,"codeExecutionResult")){yield{type:"non_standard",value:r};continue}yield{type:"non_standard",value:r}}}return Array.from(e())}const Wle={translateContent:D2,translateContentChunk:D2};function L2(t){function*e(){const n=typeof t.content=="string"?[{type:"text",text:t.content}]:t.content;for(const r of n){if(Me(r,"reasoning")&&Se(r.reasoning)){const i=em(()=>{var s;const a=n.indexOf(r);if(rs((s=t.additional_kwargs)==null?void 0:s.signatures)&&a>=0)return t.additional_kwargs.signatures.at(a)});Se(i)?yield{type:"reasoning",reasoning:r.reasoning,signature:i}:yield{type:"reasoning",reasoning:r.reasoning};continue}else if(Me(r,"text")&&Se(r.text)){yield{type:"text",text:r.text};continue}else if(Me(r,"image_url")){if(Se(r.image_url))if(r.image_url.startsWith("data:")){const i=/^data:([^;]+);base64,(.+)$/,a=r.image_url.match(i);a?yield{type:"image",data:a[2],mimeType:a[1]}:yield{type:"image",url:r.image_url}}else yield{type:"image",url:r.image_url};continue}else if(Me(r,"media")&&Se(r.mimeType)&&Se(r.data)){yield{type:"file",mimeType:r.mimeType,data:r.data};continue}yield{type:"non_standard",value:r}}}return Array.from(e())}const qle={translateContent:L2,translateContentChunk:L2};globalThis.lc_block_translators_registry??(globalThis.lc_block_translators_registry=new Map([["anthropic",Ale],["bedrock-converse",Vle],["google-genai",Wle],["google-vertexai",qle],["openai",Mle]]));function bU(t){return globalThis.lc_block_translators_registry.get(t)}function wU(t,e){return Jn(t??{},e??{})}function _U(t,e){const n={};return((t==null?void 0:t.audio)!==void 0||(e==null?void 0:e.audio)!==void 0)&&(n.audio=((t==null?void 0:t.audio)??0)+((e==null?void 0:e.audio)??0)),((t==null?void 0:t.image)!==void 0||(e==null?void 0:e.image)!==void 0)&&(n.image=((t==null?void 0:t.image)??0)+((e==null?void 0:e.image)??0)),((t==null?void 0:t.video)!==void 0||(e==null?void 0:e.video)!==void 0)&&(n.video=((t==null?void 0:t.video)??0)+((e==null?void 0:e.video)??0)),((t==null?void 0:t.document)!==void 0||(e==null?void 0:e.document)!==void 0)&&(n.document=((t==null?void 0:t.document)??0)+((e==null?void 0:e.document)??0)),((t==null?void 0:t.text)!==void 0||(e==null?void 0:e.text)!==void 0)&&(n.text=((t==null?void 0:t.text)??0)+((e==null?void 0:e.text)??0)),n}function Gle(t,e){const n={..._U(t,e)};return((t==null?void 0:t.cache_read)!==void 0||(e==null?void 0:e.cache_read)!==void 0)&&(n.cache_read=((t==null?void 0:t.cache_read)??0)+((e==null?void 0:e.cache_read)??0)),((t==null?void 0:t.cache_creation)!==void 0||(e==null?void 0:e.cache_creation)!==void 0)&&(n.cache_creation=((t==null?void 0:t.cache_creation)??0)+((e==null?void 0:e.cache_creation)??0)),n}function Kle(t,e){const n={..._U(t,e)};return((t==null?void 0:t.reasoning)!==void 0||(e==null?void 0:e.reasoning)!==void 0)&&(n.reasoning=((t==null?void 0:t.reasoning)??0)+((e==null?void 0:e.reasoning)??0)),n}function SU(t,e){return{input_tokens:((t==null?void 0:t.input_tokens)??0)+((e==null?void 0:e.input_tokens)??0),output_tokens:((t==null?void 0:t.output_tokens)??0)+((e==null?void 0:e.output_tokens)??0),total_tokens:((t==null?void 0:t.total_tokens)??0)+((e==null?void 0:e.total_tokens)??0),input_token_details:Gle(t==null?void 0:t.input_token_details,e==null?void 0:e.input_token_details),output_token_details:Kle(t==null?void 0:t.output_token_details,e==null?void 0:e.output_token_details)}}var Yle={};bt(Yle,{ToolMessage:()=>Df,ToolMessageChunk:()=>sg,defaultToolCallParser:()=>oC,isDirectToolOutput:()=>EU,isToolMessage:()=>jU,isToolMessageChunk:()=>AU});function EU(t){return t!=null&&typeof t=="object"&&"lc_direct_tool_output"in t&&t.lc_direct_tool_output===!0}var Df=class extends uo{constructor(e,n,r){const i=typeof e=="string"||Array.isArray(e)?{content:e,name:r,tool_call_id:n}:e;super(i);H(this,"lc_direct_tool_output",!0);H(this,"type","tool");H(this,"status");H(this,"tool_call_id");H(this,"metadata");H(this,"artifact");this.tool_call_id=i.tool_call_id,this.artifact=i.artifact,this.status=i.status,this.metadata=i.metadata}static lc_name(){return"ToolMessage"}get lc_aliases(){return{tool_call_id:"tool_call_id"}}static isInstance(e){return super.isInstance(e)&&e.type==="tool"}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}},sg=class extends $l{constructor(e){super(e);H(this,"type","tool");H(this,"tool_call_id");H(this,"status");H(this,"artifact");this.tool_call_id=e.tool_call_id,this.artifact=e.artifact,this.status=e.status}static lc_name(){return"ToolMessageChunk"}concat(e){const n=this.constructor;return new n({content:no(this.content,e.content),additional_kwargs:Jn(this.additional_kwargs,e.additional_kwargs),response_metadata:Jn(this.response_metadata,e.response_metadata),artifact:yU(this.artifact,e.artifact),tool_call_id:this.tool_call_id,id:this.id??e.id,status:gU(this.status,e.status)})}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}};function oC(t){const e=[],n=[];for(const r of t)if(r.function){const i=r.function.name;try{const a=JSON.parse(r.function.arguments);e.push({name:i||"",args:a||{},id:r.id})}catch{n.push({name:i,args:r.function.arguments,id:r.id,error:"Malformed args."})}}else continue;return[e,n]}function jU(t){return typeof t=="object"&&t!==null&&"getType"in t&&typeof t.getType=="function"&&t.getType()==="tool"}function AU(t){return t._getType()==="tool"}var cs=class extends uo{constructor(e){var r;let n;if(typeof e=="string"||Array.isArray(e))n={content:e,tool_calls:[],invalid_tool_calls:[],additional_kwargs:{}};else{n=e;const i=(r=n.additional_kwargs)==null?void 0:r.tool_calls,a=n.tool_calls;i!=null&&i.length>0&&(a===void 0||a.length===0)&&console.warn(["New LangChain packages are available that more efficiently handle",`tool calling.

Please upgrade your packages to versions that set`,"message tool calls. e.g., `pnpm install @langchain/anthropic`,","pnpm install @langchain/openai`, etc."].join(" "));try{if(i!=null&&a===void 0){const[s,o]=oC(i);n.tool_calls=s??[],n.invalid_tool_calls=o??[]}else n.tool_calls=n.tool_calls??[],n.invalid_tool_calls=n.invalid_tool_calls??[]}catch{n.tool_calls=[],n.invalid_tool_calls=[]}if(n.response_metadata!==void 0&&"output_version"in n.response_metadata&&n.response_metadata.output_version==="v1"&&(n.contentBlocks=n.content,n.content=void 0),n.contentBlocks!==void 0){n.contentBlocks.push(...n.tool_calls.map(o=>({type:"tool_call",id:o.id,name:o.name,args:o.args})));const s=n.contentBlocks.filter(o=>o.type==="tool_call").filter(o=>{var l;return!((l=n.tool_calls)!=null&&l.some(c=>c.id===o.id&&c.name===o.name))});s.length>0&&(n.tool_calls=s.map(o=>({type:"tool_call",id:o.id,name:o.name,args:o.args})))}}super(n);H(this,"type","ai");H(this,"tool_calls",[]);H(this,"invalid_tool_calls",[]);H(this,"usage_metadata");typeof n!="string"&&(this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls),this.usage_metadata=n.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls"}}static lc_name(){return"AIMessage"}get contentBlocks(){if(this.response_metadata&&"output_version"in this.response_metadata&&this.response_metadata.output_version==="v1")return this.content;if(this.response_metadata&&"model_provider"in this.response_metadata&&typeof this.response_metadata.model_provider=="string"){const n=bU(this.response_metadata.model_provider);if(n)return n.translateContent(this)}const e=super.contentBlocks;if(this.tool_calls){const n=this.tool_calls.filter(r=>!e.some(i=>i.id===r.id&&i.name===r.name));e.push(...n.map(r=>({...r,type:"tool_call",id:r.id,name:r.name,args:r.args})))}return e}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}static isInstance(e){return super.isInstance(e)&&e.type==="ai"}};function yb(t){return t._getType()==="ai"}function UE(t){return t._getType()==="ai"}var fo=class extends $l{constructor(e){var r,i;let n;if(typeof e=="string"||Array.isArray(e))n={content:e,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else if(e.tool_call_chunks===void 0||e.tool_call_chunks.length===0)n={...e,tool_calls:e.tool_calls??[],invalid_tool_calls:[],tool_call_chunks:[],usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0};else{const s=(e.tool_call_chunks??[]).reduce((c,d)=>{const f=c.findIndex(([h])=>"id"in d&&d.id&&"index"in d&&d.index!==void 0?d.id===h.id&&d.index===h.index:"id"in d&&d.id?d.id===h.id:"index"in d&&d.index!==void 0?d.index===h.index:!1);return f!==-1?c[f].push(d):c.push([d]),c},[]),o=[],l=[];for(const c of s){let d=null;const f=((r=c[0])==null?void 0:r.name)??"",h=c.map(g=>g.args||"").join(""),p=h.length?h:"{}",m=(i=c[0])==null?void 0:i.id;try{if(d=gb(p),!m||d===null||typeof d!="object"||Array.isArray(d))throw new Error("Malformed tool call chunk args.");o.push({name:f,args:d,id:m,type:"tool_call"})}catch{l.push({name:f,args:p,id:m,error:"Malformed args.",type:"invalid_tool_call"})}}n={...e,tool_calls:o,invalid_tool_calls:l,usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0}}super(n);H(this,"type","ai");H(this,"tool_calls",[]);H(this,"invalid_tool_calls",[]);H(this,"tool_call_chunks",[]);H(this,"usage_metadata");this.tool_call_chunks=n.tool_call_chunks??this.tool_call_chunks,this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls,this.usage_metadata=n.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}get contentBlocks(){if(this.response_metadata&&"output_version"in this.response_metadata&&this.response_metadata.output_version==="v1")return this.content;if(this.response_metadata&&"model_provider"in this.response_metadata&&typeof this.response_metadata.model_provider=="string"){const n=bU(this.response_metadata.model_provider);if(n)return n.translateContent(this)}const e=super.contentBlocks;if(this.tool_calls&&typeof this.content!="string"){const n=this.content.filter(r=>r.type==="tool_call").map(r=>r.id);for(const r of this.tool_calls)r.id&&!n.includes(r.id)&&e.push({...r,type:"tool_call",id:r.id,name:r.name,args:r.args})}return e}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,tool_call_chunks:this.tool_call_chunks,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}concat(e){const n={content:no(this.content,e.content),additional_kwargs:Jn(this.additional_kwargs,e.additional_kwargs),response_metadata:wU(this.response_metadata,e.response_metadata),tool_call_chunks:[],id:this.id??e.id};if(this.tool_call_chunks!==void 0||e.tool_call_chunks!==void 0){const i=ag(this.tool_call_chunks,e.tool_call_chunks);i!==void 0&&i.length>0&&(n.tool_call_chunks=i)}(this.usage_metadata!==void 0||e.usage_metadata!==void 0)&&(n.usage_metadata=SU(this.usage_metadata,e.usage_metadata));const r=this.constructor;return new r(n)}static isInstance(e){return super.isInstance(e)&&e.type==="ai"}},tu=class TU extends uo{constructor(n,r){(typeof n=="string"||Array.isArray(n))&&(n={content:n,role:r});super(n);H(this,"type","generic");H(this,"role");this.role=n.role}static lc_name(){return"ChatMessage"}static _chatMessageClass(){return TU}static isInstance(n){return super.isInstance(n)&&n.type==="generic"}get _printableFields(){return{...super._printableFields,role:this.role}}},og=class extends $l{constructor(e,n){(typeof e=="string"||Array.isArray(e))&&(e={content:e,role:n});super(e);H(this,"type","generic");H(this,"role");this.role=e.role}static lc_name(){return"ChatMessageChunk"}concat(e){const n=this.constructor;return new n({content:no(this.content,e.content),additional_kwargs:Jn(this.additional_kwargs,e.additional_kwargs),response_metadata:Jn(this.response_metadata,e.response_metadata),role:this.role,id:this.id??e.id})}static isInstance(e){return super.isInstance(e)&&e.type==="generic"}get _printableFields(){return{...super._printableFields,role:this.role}}};function Xle(t){return t._getType()==="generic"}function Zle(t){return t._getType()==="generic"}var vb=class extends uo{constructor(e){super(e);H(this,"type","function");H(this,"name");this.name=e.name}static lc_name(){return"FunctionMessage"}},lg=class extends $l{constructor(){super(...arguments);H(this,"type","function")}static lc_name(){return"FunctionMessageChunk"}concat(e){const n=this.constructor;return new n({content:no(this.content,e.content),additional_kwargs:Jn(this.additional_kwargs,e.additional_kwargs),response_metadata:Jn(this.response_metadata,e.response_metadata),name:this.name??"",id:this.id??e.id})}};function Jle(t){return t._getType()==="function"}function Qle(t){return t._getType()==="function"}var Sa=class extends uo{constructor(e){super(e);H(this,"type","human")}static lc_name(){return"HumanMessage"}static isInstance(e){return super.isInstance(e)&&e.type==="human"}},cg=class extends $l{constructor(e){super(e);H(this,"type","human")}static lc_name(){return"HumanMessageChunk"}concat(e){const n=this.constructor;return new n({content:no(this.content,e.content),additional_kwargs:Jn(this.additional_kwargs,e.additional_kwargs),response_metadata:Jn(this.response_metadata,e.response_metadata),id:this.id??e.id})}static isInstance(e){return super.isInstance(e)&&e.type==="human"}};function ece(t){return t.getType()==="human"}function tce(t){return t.getType()==="human"}var us=class lv extends uo{constructor(n){super(n);H(this,"type","system")}static lc_name(){return"SystemMessage"}concat(n){if(typeof n=="string")return new lv({...this,content:no(this.content,n)});if(lv.isInstance(n))return new lv({...this,additional_kwargs:{...this.additional_kwargs,...n.additional_kwargs},response_metadata:{...this.response_metadata,...n.response_metadata},content:no(this.content,n.content)});throw new Error("Unexpected chunk type for system message")}static isInstance(n){return super.isInstance(n)&&n.type==="system"}},Sl=class extends $l{constructor(e){super(e);H(this,"type","system")}static lc_name(){return"SystemMessageChunk"}concat(e){const n=this.constructor;return new n({content:no(this.content,e.content),additional_kwargs:Jn(this.additional_kwargs,e.additional_kwargs),response_metadata:Jn(this.response_metadata,e.response_metadata),id:this.id??e.id})}static isInstance(e){return super.isInstance(e)&&e.type==="system"}};function nce(t){return t._getType()==="system"}function rce(t){return t._getType()==="system"}function kU(t,e){return t.lc_error_code=e,t.message=`${t.message}

Troubleshooting URL: https://docs.langchain.com/oss/javascript/langchain/errors/${e}/
`,t}function CU(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="tool_call")}var ice=class extends Error{constructor(e,n){super(e);H(this,"output");this.output=n}},s0=class extends uo{constructor(e){super({...e,content:[]});H(this,"type","remove");H(this,"id");this.id=e.id}get _printableFields(){return{...super._printableFields,id:this.id}}static isInstance(e){return super.isInstance(e)&&e.type==="remove"}};const ace=t=>t();function sce(t){return CU(t)?t:typeof t.id=="string"&&t.type==="function"&&typeof t.function=="object"&&t.function!==null&&"arguments"in t.function&&typeof t.function.arguments=="string"&&"name"in t.function&&typeof t.function.name=="string"?{id:t.id,args:JSON.parse(t.function.arguments),name:t.function.name,type:"tool_call"}:t}function oce(t){return typeof t=="object"&&t!=null&&t.lc===1&&Array.isArray(t.id)&&t.kwargs!=null&&typeof t.kwargs=="object"}function F_(t){let e,n;if(oce(t)){const r=t.id.at(-1);r==="HumanMessage"||r==="HumanMessageChunk"?e="user":r==="AIMessage"||r==="AIMessageChunk"?e="assistant":r==="SystemMessage"||r==="SystemMessageChunk"?e="system":r==="FunctionMessage"||r==="FunctionMessageChunk"?e="function":r==="ToolMessage"||r==="ToolMessageChunk"?e="tool":e="unknown",n=t.kwargs}else{const{type:r,...i}=t;e=r,n=i}if(e==="human"||e==="user")return new Sa(n);if(e==="ai"||e==="assistant"){const{tool_calls:r,...i}=n;if(!Array.isArray(r))return new cs(n);const a=r.map(sce);return new cs({...i,tool_calls:a})}else{if(e==="system")return new us(n);if(e==="developer")return new us({...n,additional_kwargs:{...n.additional_kwargs,__openai_role__:"developer"}});if(e==="tool"&&"tool_call_id"in n)return new Df({...n,content:n.content,tool_call_id:n.tool_call_id,name:n.name});if(e==="remove"&&"id"in n&&typeof n.id=="string")return new s0({...n,id:n.id});throw kU(new Error(`Unable to coerce message from array: only human, AI, system, developer, or tool message coercion is currently supported.

Received: ${JSON.stringify(t,null,2)}`),"MESSAGE_COERCION_FAILURE")}}function sp(t){if(typeof t=="string")return new Sa(t);if(Go(t))return t;if(Array.isArray(t)){const[e,n]=t;return F_({type:e,content:n})}else if(xU(t)){const{role:e,...n}=t;return F_({...n,type:e})}else return F_(t)}function lC(t,e="Human",n="AI"){const r=[];for(const i of t){let a;if(i._getType()==="human")a=e;else if(i._getType()==="ai")a=n;else if(i._getType()==="system")a="System";else if(i._getType()==="tool")a="Tool";else if(i._getType()==="generic")a=i.role;else throw new Error(`Got unsupported message type: ${i._getType()}`);const s=i.name?`${i.name}, `:"",o=typeof i.content=="string"?i.content:JSON.stringify(i.content,null,2);r.push(`${a}: ${s}${o}`)}return r.join(`
`)}function lce(t){if(t.data!==void 0)return t;{const e=t;return{type:e.type,data:{content:e.text,role:e.role,name:void 0,tool_call_id:void 0}}}}function cC(t){const e=lce(t);switch(e.type){case"human":return new Sa(e.data);case"ai":return new cs(e.data);case"system":return new us(e.data);case"function":if(e.data.name===void 0)throw new Error("Name must be defined for function messages");return new vb(e.data);case"tool":if(e.data.tool_call_id===void 0)throw new Error("Tool call ID must be defined for tool messages");return new Df(e.data);case"generic":if(e.data.role===void 0)throw new Error("Role must be defined for chat messages");return new tu(e.data);default:throw new Error(`Got unexpected type: ${e.type}`)}}function cce(t){return t.map(cC)}function uce(t){return t.map(e=>e.toDict())}function o0(t){var n;const e=t._getType();if(e==="human")return new cg({...t});if(e==="ai"){let r={...t};return"tool_calls"in r&&(r={...r,tool_call_chunks:(n=r.tool_calls)==null?void 0:n.map(i=>({...i,type:"tool_call_chunk",index:void 0,args:JSON.stringify(i.args)}))}),new fo({...r})}else{if(e==="system")return new Sl({...t});if(e==="function")return new lg({...t});if(tu.isInstance(t))return new og({...t});throw new Error("Unknown message type.")}}var B_={},dce={};bt(dce,{getEnv:()=>$U,getEnvironmentVariable:()=>Fs,getRuntimeEnvironment:()=>RU,isBrowser:()=>OU,isDeno:()=>xb,isJsDom:()=>PU,isNode:()=>IU,isWebWorker:()=>NU});const OU=()=>typeof window<"u"&&typeof window.document<"u",NU=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",PU=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),xb=()=>typeof Deno<"u",IU=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!xb(),$U=()=>{let t;return OU()?t="browser":IU()?t="node":NU()?t="webworker":PU()?t="jsdom":xb()?t="deno":t="other",t};let z_;function RU(){return z_===void 0&&(z_={library:"langchain-js",runtime:$U()}),z_}function Fs(t){try{return typeof process<"u"?B_==null?void 0:B_[t]:xb()?Deno==null?void 0:Deno.env.get(t):void 0}catch{return}}const fce=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function op(t){return typeof t=="string"&&fce.test(t)}function hce(t){if(!op(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}var Dn=[];for(var U_=0;U_<256;++U_)Dn.push((U_+256).toString(16).slice(1));function uC(t,e=0){return(Dn[t[e+0]]+Dn[t[e+1]]+Dn[t[e+2]]+Dn[t[e+3]]+"-"+Dn[t[e+4]]+Dn[t[e+5]]+"-"+Dn[t[e+6]]+Dn[t[e+7]]+"-"+Dn[t[e+8]]+Dn[t[e+9]]+"-"+Dn[t[e+10]]+Dn[t[e+11]]+Dn[t[e+12]]+Dn[t[e+13]]+Dn[t[e+14]]+Dn[t[e+15]]).toLowerCase()}var cy,pce=new Uint8Array(16);function MU(){if(!cy&&(cy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!cy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return cy(pce)}function mce(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var gce="6ba7b810-9dad-11d1-80b4-00c04fd430c8",yce="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function vce(t,e,n){function r(i,a,s,o){var l;if(typeof i=="string"&&(i=mce(i)),typeof a=="string"&&(a=hce(a)),((l=a)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(a),c.set(i,a.length),c=n(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,s){o=o||0;for(var d=0;d<16;++d)s[o+d]=c[d];return s}return uC(c)}try{r.name=t}catch{}return r.DNS=gce,r.URL=yce,r}var xce=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const F2={randomUUID:xce};function Er(t,e,n){if(F2.randomUUID&&!e&&!t)return F2.randomUUID();t=t||{};var r=t.random||(t.rng||MU)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,uC(r)}function bce(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function H_(t,e){return t<<e|t>>>32-e}function wce(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var a=t.length/4+2,s=Math.ceil(a/16),o=new Array(s),l=0;l<s;++l){for(var c=new Uint32Array(16),d=0;d<16;++d)c[d]=t[l*64+d*4]<<24|t[l*64+d*4+1]<<16|t[l*64+d*4+2]<<8|t[l*64+d*4+3];o[l]=c}o[s-1][14]=(t.length-1)*8/Math.pow(2,32),o[s-1][14]=Math.floor(o[s-1][14]),o[s-1][15]=(t.length-1)*8&4294967295;for(var f=0;f<s;++f){for(var h=new Uint32Array(80),p=0;p<16;++p)h[p]=o[f][p];for(var m=16;m<80;++m)h[m]=H_(h[m-3]^h[m-8]^h[m-14]^h[m-16],1);for(var g=n[0],b=n[1],x=n[2],v=n[3],y=n[4],w=0;w<80;++w){var _=Math.floor(w/20),E=H_(g,5)+bce(_,b,x,v)+y+e[_]+h[w]>>>0;y=v,v=x,x=H_(b,30)>>>0,b=g,g=E}n[0]=n[0]+g>>>0,n[1]=n[1]+b>>>0,n[2]=n[2]+x>>>0,n[3]=n[3]+v>>>0,n[4]=n[4]+y>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var Lh=vce("v5",80,wce),B2=null,z2=null,Wi=0;function _ce(t,e,n){t=t||{};var r=e&&n||0,i=e||new Uint8Array(16),a=t.random||(t.rng||MU)(),s=t.msecs!==void 0?t.msecs:Date.now(),o=t.seq!==void 0?t.seq:null,l=z2,c=B2;return s>Wi&&t.msecs===void 0&&(Wi=s,o!==null&&(l=null,c=null)),o!==null&&(o>2147483647&&(o=2147483647),l=o>>>19&4095,c=o&524287),(l===null||c===null)&&(l=a[6]&127,l=l<<8|a[7],c=a[8]&63,c=c<<8|a[9],c=c<<5|a[10]>>>3),s+1e4>Wi&&o===null?++c>524287&&(c=0,++l>4095&&(l=0,Wi++)):Wi=s,z2=l,B2=c,i[r++]=Wi/1099511627776&255,i[r++]=Wi/4294967296&255,i[r++]=Wi/16777216&255,i[r++]=Wi/65536&255,i[r++]=Wi/256&255,i[r++]=Wi&255,i[r++]=l>>>4&15|112,i[r++]=l&255,i[r++]=c>>>13&63|128,i[r++]=c>>>5&255,i[r++]=c<<3&255|a[10]&7,i[r++]=a[11],i[r++]=a[12],i[r++]=a[13],i[r++]=a[14],i[r++]=a[15],e||uC(i)}var Sce={};bt(Sce,{BaseCallbackHandler:()=>ug,callbackHandlerPrefersStreaming:()=>DU,isBaseCallbackHandler:()=>LU});var Ece=class{};function DU(t){return"lc_prefer_streaming"in t&&t.lc_prefer_streaming}var ug=class extends Ece{constructor(e){super();H(this,"lc_serializable",!1);H(this,"lc_kwargs");H(this,"ignoreLLM",!1);H(this,"ignoreChain",!1);H(this,"ignoreAgent",!1);H(this,"ignoreRetriever",!1);H(this,"ignoreCustomEvent",!1);H(this,"raiseError",!1);H(this,"awaitHandlers",Fs("LANGCHAIN_CALLBACKS_BACKGROUND")==="false");this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever,this.ignoreCustomEvent=e.ignoreCustomEvent??this.ignoreCustomEvent,this.raiseError=e.raiseError??this.raiseError,this.awaitHandlers=this.raiseError||(e._awaitHandler??this.awaitHandlers))}get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,nC(this.constructor)]}copy(){return new this.constructor(this)}toJSON(){return qd.prototype.toJSON.call(this)}toJSONNotImplemented(){return qd.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){class n extends ug{constructor(){super();H(this,"name",Er());Object.assign(this,e)}}return new n}};const LU=t=>{const e=t;return e!==void 0&&typeof e.copy=="function"&&typeof e.name=="string"&&typeof e.awaitHandlers=="boolean"},jce="gen_ai.operation.name",Ace="gen_ai.system",U2="gen_ai.request.model",Tce="gen_ai.response.model",H2="gen_ai.usage.input_tokens",V2="gen_ai.usage.output_tokens",W2="gen_ai.usage.total_tokens",kce="gen_ai.request.max_tokens",Cce="gen_ai.request.temperature",Oce="gen_ai.request.top_p",Nce="gen_ai.request.frequency_penalty",Pce="gen_ai.request.presence_penalty",Ice="gen_ai.response.finish_reasons",$ce="gen_ai.prompt",Rce="gen_ai.completion",Mce="gen_ai.request.extra_query",Dce="gen_ai.request.extra_body",Lce="gen_ai.serialized.name",Fce="gen_ai.serialized.signature",Bce="gen_ai.serialized.doc",zce="gen_ai.response.id",Uce="gen_ai.response.service_tier",Hce="gen_ai.response.system_fingerprint",Vce="gen_ai.usage.input_token_details",Wce="gen_ai.usage.output_token_details",qce="langsmith.trace.session_id",Gce="langsmith.trace.session_name",Kce="langsmith.span.kind",Yce="langsmith.trace.name",Xce="langsmith.metadata",q2="langsmith.span.tags",Zce="langsmith.request.streaming",Jce="langsmith.request.headers",Qce=(...t)=>fetch(...t),FU=Symbol.for("ls:fetch_implementation"),eue=()=>{const t=globalThis[FU];return t?typeof t=="function"&&"Headers"in t&&"Request"in t&&"Response"in t:!1},tue=t=>async(...e)=>{if(t||jr("DEBUG")==="true"){const[r,i]=e;console.log(` ${(i==null?void 0:i.method)||"GET"} ${r}`)}const n=await(globalThis[FU]??Qce)(...e);return(t||jr("DEBUG")==="true")&&console.log(` ${n.status} ${n.statusText} ${n.url}`),n},BU=()=>jr("PROJECT")??ds("LANGCHAIN_SESSION")??"default",G2={};function HE(t){G2[t]||(console.warn(t),G2[t]=!0)}const nue=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Ye(t,e){if(!nue.test(t)){const n=e!==void 0?`Invalid UUID for ${e}: ${t}`:`Invalid UUID: ${t}`;throw new Error(n)}return t}function rue(t){const e=typeof t=="string"?Date.parse(t):t;return _ce({msecs:e,seq:0})}const zU="0.3.82";var lp={};let La;const iue=()=>typeof window<"u"&&typeof window.document<"u",aue=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",sue=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),UU=()=>typeof Deno<"u",oue=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!UU(),HU=()=>La||(typeof Bun<"u"?La="bun":iue()?La="browser":oue()?La="node":aue()?La="webworker":sue()?La="jsdom":UU()?La="deno":La="other",La);let V_;function VU(){if(V_===void 0){const t=HU(),e=cue();V_={library:"langsmith",runtime:t,sdk:"langsmith-js",sdk_version:zU,...e}}return V_}function WU(){const t=lue(),e={},n=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION","LANGSMITH_API_KEY","LANGSMITH_ENDPOINT","LANGSMITH_TRACING_V2","LANGSMITH_PROJECT","LANGSMITH_SESSION"];for(const[r,i]of Object.entries(t))typeof i=="string"&&!n.includes(r)&&!r.toLowerCase().includes("key")&&!r.toLowerCase().includes("secret")&&!r.toLowerCase().includes("token")&&(r==="LANGCHAIN_REVISION_ID"?e.revision_id=i:e[r]=i);return e}function lue(){const t={};try{if(typeof process<"u"&&lp)for(const[e,n]of Object.entries(lp))(e.startsWith("LANGCHAIN_")||e.startsWith("LANGSMITH_"))&&n!=null&&((e.toLowerCase().includes("key")||e.toLowerCase().includes("secret")||e.toLowerCase().includes("token"))&&typeof n=="string"?t[e]=n.slice(0,2)+"*".repeat(n.length-4)+n.slice(-2):t[e]=n)}catch{}return t}function ds(t){try{return typeof process<"u"?lp==null?void 0:lp[t]:void 0}catch{return}}function jr(t){return ds(`LANGSMITH_${t}`)||ds(`LANGCHAIN_${t}`)}let W_;function cue(){if(W_!==void 0)return W_;const t=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],e={};for(const n of t){const r=ds(n);r!==void 0&&(e[n]=r)}return W_=e,e}function qU(){return ds("OTEL_ENABLED")==="true"||jr("OTEL_ENABLED")==="true"}class uue{constructor(){Object.defineProperty(this,"hasWarned",{enumerable:!0,configurable:!0,writable:!0,value:!1})}startActiveSpan(e,...n){!this.hasWarned&&qU()&&(console.warn('You have enabled OTEL export via the `OTEL_ENABLED` or `LANGSMITH_OTEL_ENABLED` environment variable, but have not initialized the required OTEL instances. Please add:\n```\nimport { initializeOTEL } from "langsmith/experimental/otel/setup";\ninitializeOTEL();\n```\nat the beginning of your code.'),this.hasWarned=!0);let r;if(n.length===1&&typeof n[0]=="function"?r=n[0]:n.length===2&&typeof n[1]=="function"?r=n[1]:n.length===3&&typeof n[2]=="function"&&(r=n[2]),typeof r=="function")return r()}}class due{constructor(){Object.defineProperty(this,"mockTracer",{enumerable:!0,configurable:!0,writable:!0,value:new uue})}getTracer(e,n){return this.mockTracer}getActiveSpan(){}setSpan(e,n){return e}getSpan(e){}setSpanContext(e,n){return e}getTracerProvider(){}setGlobalTracerProvider(e){return!1}}class fue{active(){return{}}with(e,n){return n()}}const q_=Symbol.for("ls:otel_trace"),G_=Symbol.for("ls:otel_context"),K2=Symbol.for("ls:otel_get_default_otlp_tracer_provider"),hue=new due,pue=new fue;class mue{getTraceInstance(){return globalThis[q_]??hue}getContextInstance(){return globalThis[G_]??pue}initializeGlobalInstances(e){globalThis[q_]===void 0&&(globalThis[q_]=e.trace),globalThis[G_]===void 0&&(globalThis[G_]=e.context)}setDefaultOTLPTracerComponents(e){globalThis[K2]=e}getDefaultOTLPTracerComponents(){return globalThis[K2]??void 0}}const dC=new mue;function GU(){return dC.getTraceInstance()}function gue(){return dC.getContextInstance()}function yue(){return dC.getDefaultOTLPTracerComponents()}const vue={llm:"chat",tool:"execute_tool",retriever:"embeddings",embedding:"embeddings",prompt:"chat"};function xue(t){return vue[t]||t}class bue{constructor(){Object.defineProperty(this,"spans",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}exportBatch(e,n){for(const r of e)try{if(!r.run)continue;if(r.operation==="post"){const i=this.createSpanForRun(r,r.run,n.get(r.id));i&&!r.run.end_time&&this.spans.set(r.id,i)}else this.updateSpanForRun(r,r.run)}catch(i){console.error(`Error processing operation ${r.id}:`,i)}}createSpanForRun(e,n,r){const i=r&&GU().getSpan(r);if(i)try{return this.finishSpanSetup(i,n,e)}catch(a){console.error(`Failed to create span for run ${e.id}:`,a);return}}finishSpanSetup(e,n,r){return this.setSpanAttributes(e,n,r),n.error?(e.setStatus({code:2}),e.recordException(new Error(n.error))):e.setStatus({code:1}),n.end_time&&e.end(new Date(n.end_time)),e}updateSpanForRun(e,n){try{const r=this.spans.get(e.id);if(!r){console.debug(`No span found for run ${e.id} during update`);return}this.setSpanAttributes(r,n,e),n.error?(r.setStatus({code:2}),r.recordException(new Error(n.error))):r.setStatus({code:1});const i=n.end_time;i&&(r.end(new Date(i)),this.spans.delete(e.id))}catch(r){console.error(`Failed to update span for run ${e.id}:`,r)}}extractModelName(e){var n;if((n=e.extra)!=null&&n.metadata){const r=e.extra.metadata;if(r.ls_model_name)return r.ls_model_name;if(r.invocation_params){const i=r.invocation_params;if(i.model)return i.model;if(i.model_name)return i.model_name}}}setSpanAttributes(e,n,r){var o;if("run_type"in n&&n.run_type){e.setAttribute(Kce,n.run_type);const l=xue(n.run_type||"chain");e.setAttribute(jce,l)}"name"in n&&n.name&&e.setAttribute(Yce,n.name),"session_id"in n&&n.session_id&&e.setAttribute(qce,n.session_id),"session_name"in n&&n.session_name&&e.setAttribute(Gce,n.session_name),this.setGenAiSystem(e,n);const i=this.extractModelName(n);i&&e.setAttribute(U2,i),"prompt_tokens"in n&&typeof n.prompt_tokens=="number"&&e.setAttribute(H2,n.prompt_tokens),"completion_tokens"in n&&typeof n.completion_tokens=="number"&&e.setAttribute(V2,n.completion_tokens),"total_tokens"in n&&typeof n.total_tokens=="number"&&e.setAttribute(W2,n.total_tokens),this.setInvocationParameters(e,n);const a=((o=n.extra)==null?void 0:o.metadata)||{};for(const[l,c]of Object.entries(a))c!=null&&e.setAttribute(`${Xce}.${l}`,String(c));const s=n.tags;if(s&&Array.isArray(s)?e.setAttribute(q2,s.join(", ")):s&&e.setAttribute(q2,String(s)),"serialized"in n&&typeof n.serialized=="object"){const l=n.serialized;l.name&&e.setAttribute(Lce,String(l.name)),l.signature&&e.setAttribute(Fce,String(l.signature)),l.doc&&e.setAttribute(Bce,String(l.doc))}this.setIOAttributes(e,r)}setGenAiSystem(e,n){let r="langchain";const i=this.extractModelName(n);if(i){const a=i.toLowerCase();a.includes("anthropic")||a.startsWith("claude")?r="anthropic":a.includes("bedrock")?r="aws.bedrock":a.includes("azure")&&a.includes("openai")?r="az.ai.openai":a.includes("azure")&&a.includes("inference")?r="az.ai.inference":a.includes("cohere")?r="cohere":a.includes("deepseek")?r="deepseek":a.includes("gemini")?r="gemini":a.includes("groq")?r="groq":a.includes("watson")||a.includes("ibm")?r="ibm.watsonx.ai":a.includes("mistral")?r="mistral_ai":a.includes("gpt")||a.includes("openai")?r="openai":a.includes("perplexity")||a.includes("sonar")?r="perplexity":a.includes("vertex")?r="vertex_ai":(a.includes("xai")||a.includes("grok"))&&(r="xai")}e.setAttribute(Ace,r)}setInvocationParameters(e,n){var i,a;if(!((a=(i=n.extra)==null?void 0:i.metadata)!=null&&a.invocation_params))return;const r=n.extra.metadata.invocation_params;r.max_tokens!==void 0&&e.setAttribute(kce,r.max_tokens),r.temperature!==void 0&&e.setAttribute(Cce,r.temperature),r.top_p!==void 0&&e.setAttribute(Oce,r.top_p),r.frequency_penalty!==void 0&&e.setAttribute(Nce,r.frequency_penalty),r.presence_penalty!==void 0&&e.setAttribute(Pce,r.presence_penalty)}setIOAttributes(e,n){if(n.run.inputs)try{const r=n.run.inputs;typeof r=="object"&&r!==null&&(r.model&&Array.isArray(r.messages)&&e.setAttribute(U2,r.model),r.stream!==void 0&&e.setAttribute(Zce,r.stream),r.extra_headers&&e.setAttribute(Jce,JSON.stringify(r.extra_headers)),r.extra_query&&e.setAttribute(Mce,JSON.stringify(r.extra_query)),r.extra_body&&e.setAttribute(Dce,JSON.stringify(r.extra_body))),e.setAttribute($ce,JSON.stringify(r))}catch(r){console.debug(`Failed to process inputs for run ${n.id}`,r)}if(n.run.outputs)try{const r=n.run.outputs,i=this.getUnifiedRunTokens(r);if(i&&(e.setAttribute(H2,i[0]),e.setAttribute(V2,i[1]),e.setAttribute(W2,i[0]+i[1])),r&&typeof r=="object"){if(r.model&&e.setAttribute(Tce,String(r.model)),r.id&&e.setAttribute(zce,r.id),r.choices&&Array.isArray(r.choices)){const a=r.choices.map(s=>s.finish_reason).filter(s=>s).map(String);a.length>0&&e.setAttribute(Ice,a.join(", "))}if(r.service_tier&&e.setAttribute(Uce,r.service_tier),r.system_fingerprint&&e.setAttribute(Hce,r.system_fingerprint),r.usage_metadata&&typeof r.usage_metadata=="object"){const a=r.usage_metadata;a.input_token_details&&e.setAttribute(Vce,JSON.stringify(a.input_token_details)),a.output_token_details&&e.setAttribute(Wce,JSON.stringify(a.output_token_details))}}e.setAttribute(Rce,JSON.stringify(r))}catch(r){console.debug(`Failed to process outputs for run ${n.id}`,r)}}getUnifiedRunTokens(e){if(!e)return null;let n=this.extractUnifiedRunTokens(e.usage_metadata);if(n)return n;const r=Object.keys(e);for(const s of r){const o=e[s];if(!(!o||typeof o!="object")&&(n=this.extractUnifiedRunTokens(o.usage_metadata),n||o.lc===1&&o.kwargs&&typeof o.kwargs=="object"&&(n=this.extractUnifiedRunTokens(o.kwargs.usage_metadata),n)))return n}const i=e.generations||[];if(!Array.isArray(i))return null;const a=Array.isArray(i[0])?i.flat():i;for(const s of a)if(typeof s=="object"&&s.message&&typeof s.message=="object"&&s.message.kwargs&&typeof s.message.kwargs=="object"&&(n=this.extractUnifiedRunTokens(s.message.kwargs.usage_metadata),n))return n;return null}extractUnifiedRunTokens(e){return!e||typeof e!="object"||typeof e.input_tokens!="number"||typeof e.output_tokens!="number"?null:[e.input_tokens,e.output_tokens]}}const wue=Object.prototype.toString,_ue=t=>wue.call(t)==="[object Error]",Sue=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function Eue(t){if(!(t&&_ue(t)&&t.name==="TypeError"&&typeof t.message=="string"))return!1;const{message:n,stack:r}=t;return n==="Load failed"?r===void 0||"__sentry_captured__"in t:n.startsWith("error sending request for url")?!0:Sue.has(n)}function jue(t){if(typeof t=="number"){if(t<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(t))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(t!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function uy(t,e,{min:n=0,allowInfinity:r=!1}={}){if(e!==void 0){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected \`${t}\` to be a number${r?" or Infinity":""}.`);if(!r&&!Number.isFinite(e))throw new TypeError(`Expected \`${t}\` to be a finite number.`);if(e<n)throw new TypeError(`Expected \`${t}\` to be  ${n}.`)}}let Aue=class extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}};function Tue(t,e){const n=Math.max(1,t+1),r=e.randomize?Math.random()+1:1;let i=Math.round(r*e.minTimeout*e.factor**(n-1));return i=Math.min(i,e.maxTimeout),i}function Y2(t,e){return Number.isFinite(e)?e-(performance.now()-t):e}async function kue({error:t,attemptNumber:e,retriesConsumed:n,startTime:r,options:i}){var p,m,g;const a=t instanceof Error?t:new TypeError(`Non-error was thrown: "${t}". You should only throw errors.`);if(a instanceof Aue)throw a.originalError;const s=Number.isFinite(i.retries)?Math.max(0,i.retries-n):i.retries,o=i.maxRetryTime??Number.POSITIVE_INFINITY,l=Object.freeze({error:a,attemptNumber:e,retriesLeft:s,retriesConsumed:n});if(await i.onFailedAttempt(l),Y2(r,o)<=0)throw a;const c=await i.shouldConsumeRetry(l),d=Y2(r,o);if(d<=0||s<=0)throw a;if(a instanceof TypeError&&!Eue(a)){if(c)throw a;return(p=i.signal)==null||p.throwIfAborted(),!1}if(!await i.shouldRetry(l))throw a;if(!c)return(m=i.signal)==null||m.throwIfAborted(),!1;const f=Tue(n,i),h=Math.min(f,d);return h>0&&await new Promise((b,x)=>{var w,_;const v=()=>{var E;clearTimeout(y),(E=i.signal)==null||E.removeEventListener("abort",v),x(i.signal.reason)},y=setTimeout(()=>{var E;(E=i.signal)==null||E.removeEventListener("abort",v),b()},h);i.unref&&((w=y.unref)==null||w.call(y)),(_=i.signal)==null||_.addEventListener("abort",v,{once:!0})}),(g=i.signal)==null||g.throwIfAborted(),!0}async function Cue(t,e={}){var a,s,o;if(e={...e},jue(e.retries),Object.hasOwn(e,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");e.retries??(e.retries=10),e.factor??(e.factor=2),e.minTimeout??(e.minTimeout=1e3),e.maxTimeout??(e.maxTimeout=Number.POSITIVE_INFINITY),e.maxRetryTime??(e.maxRetryTime=Number.POSITIVE_INFINITY),e.randomize??(e.randomize=!1),e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.shouldConsumeRetry??(e.shouldConsumeRetry=()=>!0),uy("factor",e.factor,{min:0,allowInfinity:!1}),uy("minTimeout",e.minTimeout,{min:0,allowInfinity:!1}),uy("maxTimeout",e.maxTimeout,{min:0,allowInfinity:!0}),uy("maxRetryTime",e.maxRetryTime,{min:0,allowInfinity:!0}),e.factor>0||(e.factor=1),(a=e.signal)==null||a.throwIfAborted();let n=0,r=0;const i=performance.now();for(;!Number.isFinite(e.retries)||r<=e.retries;){n++;try{(s=e.signal)==null||s.throwIfAborted();const l=await t(n);return(o=e.signal)==null||o.throwIfAborted(),l}catch(l){await kue({error:l,attemptNumber:n,retriesConsumed:r,startTime:i,options:e})&&r++}}throw new Error("Retry attempts exhausted without throwing an error.")}var KU={},YU={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function a(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||l,h),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},o.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,h,p,m){var g=n?n+c:c;if(!this._events[g])return!1;var b=this._events[g],x=arguments.length,v,y;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),x){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,h),!0;case 5:return b.fn.call(b.context,d,f,h,p),!0;case 6:return b.fn.call(b.context,d,f,h,p,m),!0}for(y=1,v=new Array(x-1);y<x;y++)v[y-1]=arguments[y];b.fn.apply(b.context,v)}else{var w=b.length,_;for(y=0;y<w;y++)switch(b[y].once&&this.removeListener(c,b[y].fn,void 0,!0),x){case 1:b[y].fn.call(b[y].context);break;case 2:b[y].fn.call(b[y].context,d);break;case 3:b[y].fn.call(b[y].context,d,f);break;case 4:b[y].fn.call(b[y].context,d,f,h);break;default:if(!v)for(_=1,v=new Array(x-1);_<x;_++)v[_-1]=arguments[_];b[y].fn.apply(b[y].context,v)}}return!0},o.prototype.on=function(c,d,f){return a(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return a(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,h){var p=n?n+c:c;if(!this._events[p])return this;if(!d)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&s(this,p);else{for(var g=0,b=[],x=m.length;g<x;g++)(m[g].fn!==d||h&&!m[g].once||f&&m[g].context!==f)&&b.push(m[g]);b.length?this._events[p]=b.length===1?b[0]:b:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(YU);var XU=YU.exports;const Oue=at(XU);var bb={exports:{}},Nue=(t,e)=>(e=e||(()=>{}),t.then(n=>new Promise(r=>{r(e())}).then(()=>n),n=>new Promise(r=>{r(e())}).then(()=>{throw n})));const Pue=Nue;class ZU extends Error{constructor(e){super(e),this.name="TimeoutError"}}const JU=(t,e,n)=>new Promise((r,i)=>{if(typeof e!="number"||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===1/0){r(t);return}const a=setTimeout(()=>{if(typeof n=="function"){try{r(n())}catch(l){i(l)}return}const s=typeof n=="string"?n:`Promise timed out after ${e} milliseconds`,o=n instanceof Error?n:new ZU(s);typeof t.cancel=="function"&&t.cancel(),i(o)},e);Pue(t.then(r,i),()=>{clearTimeout(a)})});bb.exports=JU;bb.exports.default=JU;bb.exports.TimeoutError=ZU;var Iue=bb.exports,fC={},hC={};Object.defineProperty(hC,"__esModule",{value:!0});function $ue(t,e,n){let r=0,i=t.length;for(;i>0;){const a=i/2|0;let s=r+a;n(t[s],e)<=0?(r=++s,i-=a+1):i=a}return r}hC.default=$ue;Object.defineProperty(fC,"__esModule",{value:!0});const Rue=hC;class Mue{constructor(){this._queue=[]}enqueue(e,n){n=Object.assign({priority:0},n);const r={priority:n.priority,run:e};if(this.size&&this._queue[this.size-1].priority>=n.priority){this._queue.push(r);return}const i=Rue.default(this._queue,r,(a,s)=>s.priority-a.priority);this._queue.splice(i,0,r)}dequeue(){const e=this._queue.shift();return e==null?void 0:e.run}filter(e){return this._queue.filter(n=>n.priority===e.priority).map(n=>n.run)}get size(){return this._queue.length}}fC.default=Mue;Object.defineProperty(KU,"__esModule",{value:!0});const Due=XU,QU=Iue,Lue=fC,dy=()=>{},Fue=new QU.TimeoutError;class Bue extends Due{constructor(e){var n,r,i,a;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=dy,this._resolveIdle=dy,e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:Lue.default},e),!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(r=(n=e.intervalCap)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(a=(i=e.interval)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||e.interval===0,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=e.throwOnTimeout===!0,this._isPaused=e.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=dy,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=dy,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(this._intervalId===void 0){const n=this._intervalEnd-e;if(n<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},n)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const n=this._queue.dequeue();return n?(this.emit("active"),n(),e&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,n={}){return new Promise((r,i)=>{const a=async()=>{this._pendingCount++,this._intervalCount++;try{const s=this._timeout===void 0&&n.timeout===void 0?e():QU.default(Promise.resolve(e()),n.timeout===void 0?this._timeout:n.timeout,()=>{(n.throwOnTimeout===void 0?this._throwOnTimeout:n.throwOnTimeout)&&i(Fue)});r(await s)}catch(s){i(s)}this._next()};this._queue.enqueue(a,n),this._tryToStartAnother(),this.emit("add")})}async addAll(e,n){return Promise.all(e.map(async r=>this.add(r,n)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(e=>{const n=this._resolveEmpty;this._resolveEmpty=()=>{n(),e()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(e=>{const n=this._resolveIdle;this._resolveIdle=()=>{n(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}var Bs=KU.default=Bue;const zue=[408,425,429,500,502,503,504];let X2=class{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxQueueSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queueSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.maxQueueSizeBytes=e.maxQueueSizeBytes,"default"in Bs?this.queue=new Bs.default({concurrency:this.maxConcurrency}):this.queue=new Bs({concurrency:this.maxConcurrency}),this.onFailedResponseHook=e==null?void 0:e.onFailedResponseHook}call(e,...n){return this.callWithOptions({},e,...n)}callWithOptions(e,n,...r){const i=e.sizeBytes??0;if(this.maxQueueSizeBytes!==void 0&&i>0&&this.queueSizeBytes+i>this.maxQueueSizeBytes)return Promise.reject(new Error(`Queue size limit (${this.maxQueueSizeBytes} bytes) exceeded. Current queue size: ${this.queueSizeBytes} bytes, attempted addition: ${i} bytes.`));i>0&&(this.queueSizeBytes+=i);const a=this.onFailedResponseHook;let s=this.queue.add(()=>Cue(()=>n(...r).catch(o=>{throw o instanceof Error?o:new Error(o)}),{async onFailedAttempt({error:o}){if(o.message.startsWith("Cancel")||o.message.startsWith("TimeoutError")||o.name==="TimeoutError"||o.message.startsWith("AbortError")||(o==null?void 0:o.code)==="ECONNABORTED")throw o;const l=o==null?void 0:o.response;if(a&&await a(l))return;const c=(l==null?void 0:l.status)??(o==null?void 0:o.status);if(c&&!zue.includes(+c))throw o},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0});return i>0&&(s=s.finally(()=>{this.queueSizeBytes-=i})),e.signal?Promise.race([s,new Promise((o,l)=>{var c;(c=e.signal)==null||c.addEventListener("abort",()=>{l(new Error("AbortError"))})})]):s}};function Z2(t){return typeof(t==null?void 0:t._getType)=="function"}function J2(t){const e={type:t._getType(),data:{content:t.content}};return t!=null&&t.additional_kwargs&&Object.keys(t.additional_kwargs).length>0&&(e.data.additional_kwargs={...t.additional_kwargs}),e}var VE={exports:{}};const Uue="2.0.0",e6=256,Hue=Number.MAX_SAFE_INTEGER||9007199254740991,Vue=16,Wue=e6-6,que=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var wb={MAX_LENGTH:e6,MAX_SAFE_COMPONENT_LENGTH:Vue,MAX_SAFE_BUILD_LENGTH:Wue,MAX_SAFE_INTEGER:Hue,RELEASE_TYPES:que,SEMVER_SPEC_VERSION:Uue,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},K_={};const Gue=typeof process=="object"&&K_&&K_.NODE_DEBUG&&/\bsemver\b/i.test(K_.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var _b=Gue;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=wb,a=_b;e=t.exports={};const s=e.re=[],o=e.safeRe=[],l=e.src=[],c=e.t={};let d=0;const f="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[f,r]],p=g=>{for(const[b,x]of h)g=g.split(`${b}*`).join(`${b}{0,${x}}`).split(`${b}+`).join(`${b}{1,${x}}`);return g},m=(g,b,x)=>{const v=p(b),y=d++;a(g,y,b),c[g]=y,l[y]=b,s[y]=new RegExp(b,x?"g":void 0),o[y]=new RegExp(v,x?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),m("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${l[c.NUMERICIDENTIFIER]}|${l[c.NONNUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NUMERICIDENTIFIERLOOSE]}|${l[c.NONNUMERICIDENTIFIER]})`),m("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${f}+`),m("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),m("FULL",`^${l[c.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),m("LOOSE",`^${l[c.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),m("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),m("COERCE",`${l[c.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",l[c.COERCEPLAIN]+`(?:${l[c.PRERELEASE]})?(?:${l[c.BUILD]})?(?:$|[^\\d])`),m("COERCERTL",l[c.COERCE],!0),m("COERCERTLFULL",l[c.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",m("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",m("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(VE,VE.exports);var dg=VE.exports;const Kue=Object.freeze({loose:!0}),Yue=Object.freeze({}),Xue=t=>t?typeof t!="object"?Kue:t:Yue;var pC=Xue;const Q2=/^[0-9]+$/,t6=(t,e)=>{const n=Q2.test(t),r=Q2.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},Zue=(t,e)=>t6(e,t);var n6={compareIdentifiers:t6,rcompareIdentifiers:Zue};const fy=_b,{MAX_LENGTH:e$,MAX_SAFE_INTEGER:hy}=wb,{safeRe:t$,t:n$}=dg,Jue=pC,{compareIdentifiers:wu}=n6;let Que=class Ba{constructor(e,n){if(n=Jue(n),e instanceof Ba){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>e$)throw new TypeError(`version is longer than ${e$} characters`);fy("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=e.trim().match(n.loose?t$[n$.LOOSE]:t$[n$.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>hy||this.major<0)throw new TypeError("Invalid major version");if(this.minor>hy||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>hy||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const a=+i;if(a>=0&&a<hy)return a}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(fy("SemVer.compare",this.version,this.options,e),!(e instanceof Ba)){if(typeof e=="string"&&e===this.version)return 0;e=new Ba(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Ba||(e=new Ba(e,this.options)),wu(this.major,e.major)||wu(this.minor,e.minor)||wu(this.patch,e.patch)}comparePre(e){if(e instanceof Ba||(e=new Ba(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=e.prerelease[n];if(fy("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return wu(r,i)}while(++n)}compareBuild(e){e instanceof Ba||(e=new Ba(e,this.options));let n=0;do{const r=this.build[n],i=e.build[n];if(fy("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return wu(r,i)}while(++n)}inc(e,n,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let a=[n,i];r===!1&&(a=[n]),wu(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var mr=Que;const r$=mr,ede=(t,e,n=!1)=>{if(t instanceof r$)return t;try{return new r$(t,e)}catch(r){if(!n)return null;throw r}};var Lf=ede;const tde=Lf,nde=(t,e)=>{const n=tde(t,e);return n?n.version:null};var rde=nde;const ide=Lf,ade=(t,e)=>{const n=ide(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};var sde=ade;const i$=mr,ode=(t,e,n,r,i)=>{typeof n=="string"&&(i=r,r=n,n=void 0);try{return new i$(t instanceof i$?t.version:t,n).inc(e,r,i).version}catch{return null}};var lde=ode;const a$=Lf,cde=(t,e)=>{const n=a$(t,null,!0),r=a$(e,null,!0),i=n.compare(r);if(i===0)return null;const a=i>0,s=a?n:r,o=a?r:n,l=!!s.prerelease.length;if(!!o.prerelease.length&&!l)return!o.patch&&!o.minor?"major":s.patch?"patch":s.minor?"minor":"major";const d=l?"pre":"";return n.major!==r.major?d+"major":n.minor!==r.minor?d+"minor":n.patch!==r.patch?d+"patch":"prerelease"};var ude=cde;const dde=mr,fde=(t,e)=>new dde(t,e).major;var hde=fde;const pde=mr,mde=(t,e)=>new pde(t,e).minor;var gde=mde;const yde=mr,vde=(t,e)=>new yde(t,e).patch;var xde=vde;const bde=Lf,wde=(t,e)=>{const n=bde(t,e);return n&&n.prerelease.length?n.prerelease:null};var _de=wde;const s$=mr,Sde=(t,e,n)=>new s$(t,n).compare(new s$(e,n));var ka=Sde;const Ede=ka,jde=(t,e,n)=>Ede(e,t,n);var Ade=jde;const Tde=ka,kde=(t,e)=>Tde(t,e,!0);var Cde=kde;const o$=mr,Ode=(t,e,n)=>{const r=new o$(t,n),i=new o$(e,n);return r.compare(i)||r.compareBuild(i)};var mC=Ode;const Nde=mC,Pde=(t,e)=>t.sort((n,r)=>Nde(n,r,e));var Ide=Pde;const $de=mC,Rde=(t,e)=>t.sort((n,r)=>$de(r,n,e));var Mde=Rde;const Dde=ka,Lde=(t,e,n)=>Dde(t,e,n)>0;var Sb=Lde;const Fde=ka,Bde=(t,e,n)=>Fde(t,e,n)<0;var gC=Bde;const zde=ka,Ude=(t,e,n)=>zde(t,e,n)===0;var r6=Ude;const Hde=ka,Vde=(t,e,n)=>Hde(t,e,n)!==0;var i6=Vde;const Wde=ka,qde=(t,e,n)=>Wde(t,e,n)>=0;var yC=qde;const Gde=ka,Kde=(t,e,n)=>Gde(t,e,n)<=0;var vC=Kde;const Yde=r6,Xde=i6,Zde=Sb,Jde=yC,Qde=gC,efe=vC,tfe=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return Yde(t,n,r);case"!=":return Xde(t,n,r);case">":return Zde(t,n,r);case">=":return Jde(t,n,r);case"<":return Qde(t,n,r);case"<=":return efe(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};var a6=tfe;const nfe=mr,rfe=Lf,{safeRe:py,t:my}=dg,ife=(t,e)=>{if(t instanceof nfe)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?py[my.COERCEFULL]:py[my.COERCE]);else{const l=e.includePrerelease?py[my.COERCERTLFULL]:py[my.COERCERTL];let c;for(;(c=l.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||c.index+c[0].length!==n.index+n[0].length)&&(n=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(n===null)return null;const r=n[2],i=n[3]||"0",a=n[4]||"0",s=e.includePrerelease&&n[5]?`-${n[5]}`:"",o=e.includePrerelease&&n[6]?`+${n[6]}`:"";return rfe(`${r}.${i}.${a}${s}${o}`,e)};var afe=ife;class sfe{constructor(){this.max=1e3,this.map=new Map}get(e){const n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(e,n)}return this}}var ofe=sfe,Y_,l$;function Ca(){if(l$)return Y_;l$=1;const t=/\s+/g;class e{constructor(F,U){if(U=i(U),F instanceof e)return F.loose===!!U.loose&&F.includePrerelease===!!U.includePrerelease?F:new e(F.raw,U);if(F instanceof a)return this.raw=F.value,this.set=[[F]],this.formatted=void 0,this;if(this.options=U,this.loose=!!U.loose,this.includePrerelease=!!U.includePrerelease,this.raw=F.trim().replace(t," "),this.set=this.raw.split("||").map(V=>this.parseRange(V.trim())).filter(V=>V.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const V=this.set[0];if(this.set=this.set.filter(D=>!g(D[0])),this.set.length===0)this.set=[V];else if(this.set.length>1){for(const D of this.set)if(D.length===1&&b(D[0])){this.set=[D];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let F=0;F<this.set.length;F++){F>0&&(this.formatted+="||");const U=this.set[F];for(let V=0;V<U.length;V++)V>0&&(this.formatted+=" "),this.formatted+=U[V].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(F){const V=((this.options.includePrerelease&&p)|(this.options.loose&&m))+":"+F,D=r.get(V);if(D)return D;const B=this.options.loose,P=B?l[c.HYPHENRANGELOOSE]:l[c.HYPHENRANGE];F=F.replace(P,O(this.options.includePrerelease)),s("hyphen replace",F),F=F.replace(l[c.COMPARATORTRIM],d),s("comparator trim",F),F=F.replace(l[c.TILDETRIM],f),s("tilde trim",F),F=F.replace(l[c.CARETTRIM],h),s("caret trim",F);let W=F.split(" ").map(ie=>v(ie,this.options)).join(" ").split(/\s+/).map(ie=>k(ie,this.options));B&&(W=W.filter(ie=>(s("loose invalid filter",ie,this.options),!!ie.match(l[c.COMPARATORLOOSE])))),s("range list",W);const G=new Map,$=W.map(ie=>new a(ie,this.options));for(const ie of $){if(g(ie))return[ie];G.set(ie.value,ie)}G.size>1&&G.has("")&&G.delete("");const ee=[...G.values()];return r.set(V,ee),ee}intersects(F,U){if(!(F instanceof e))throw new TypeError("a Range is required");return this.set.some(V=>x(V,U)&&F.set.some(D=>x(D,U)&&V.every(B=>D.every(P=>B.intersects(P,U)))))}test(F){if(!F)return!1;if(typeof F=="string")try{F=new o(F,this.options)}catch{return!1}for(let U=0;U<this.set.length;U++)if(L(this.set[U],F,this.options))return!0;return!1}}Y_=e;const n=ofe,r=new n,i=pC,a=Eb(),s=_b,o=mr,{safeRe:l,t:c,comparatorTrimReplace:d,tildeTrimReplace:f,caretTrimReplace:h}=dg,{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:m}=wb,g=R=>R.value==="<0.0.0-0",b=R=>R.value==="",x=(R,F)=>{let U=!0;const V=R.slice();let D=V.pop();for(;U&&V.length;)U=V.every(B=>D.intersects(B,F)),D=V.pop();return U},v=(R,F)=>(s("comp",R,F),R=E(R,F),s("caret",R),R=w(R,F),s("tildes",R),R=j(R,F),s("xrange",R),R=C(R,F),s("stars",R),R),y=R=>!R||R.toLowerCase()==="x"||R==="*",w=(R,F)=>R.trim().split(/\s+/).map(U=>_(U,F)).join(" "),_=(R,F)=>{const U=F.loose?l[c.TILDELOOSE]:l[c.TILDE];return R.replace(U,(V,D,B,P,W)=>{s("tilde",R,V,D,B,P,W);let G;return y(D)?G="":y(B)?G=`>=${D}.0.0 <${+D+1}.0.0-0`:y(P)?G=`>=${D}.${B}.0 <${D}.${+B+1}.0-0`:W?(s("replaceTilde pr",W),G=`>=${D}.${B}.${P}-${W} <${D}.${+B+1}.0-0`):G=`>=${D}.${B}.${P} <${D}.${+B+1}.0-0`,s("tilde return",G),G})},E=(R,F)=>R.trim().split(/\s+/).map(U=>A(U,F)).join(" "),A=(R,F)=>{s("caret",R,F);const U=F.loose?l[c.CARETLOOSE]:l[c.CARET],V=F.includePrerelease?"-0":"";return R.replace(U,(D,B,P,W,G)=>{s("caret",R,D,B,P,W,G);let $;return y(B)?$="":y(P)?$=`>=${B}.0.0${V} <${+B+1}.0.0-0`:y(W)?B==="0"?$=`>=${B}.${P}.0${V} <${B}.${+P+1}.0-0`:$=`>=${B}.${P}.0${V} <${+B+1}.0.0-0`:G?(s("replaceCaret pr",G),B==="0"?P==="0"?$=`>=${B}.${P}.${W}-${G} <${B}.${P}.${+W+1}-0`:$=`>=${B}.${P}.${W}-${G} <${B}.${+P+1}.0-0`:$=`>=${B}.${P}.${W}-${G} <${+B+1}.0.0-0`):(s("no pr"),B==="0"?P==="0"?$=`>=${B}.${P}.${W}${V} <${B}.${P}.${+W+1}-0`:$=`>=${B}.${P}.${W}${V} <${B}.${+P+1}.0-0`:$=`>=${B}.${P}.${W} <${+B+1}.0.0-0`),s("caret return",$),$})},j=(R,F)=>(s("replaceXRanges",R,F),R.split(/\s+/).map(U=>T(U,F)).join(" ")),T=(R,F)=>{R=R.trim();const U=F.loose?l[c.XRANGELOOSE]:l[c.XRANGE];return R.replace(U,(V,D,B,P,W,G)=>{s("xRange",R,V,D,B,P,W,G);const $=y(B),ee=$||y(P),ie=ee||y(W),I=ie;return D==="="&&I&&(D=""),G=F.includePrerelease?"-0":"",$?D===">"||D==="<"?V="<0.0.0-0":V="*":D&&I?(ee&&(P=0),W=0,D===">"?(D=">=",ee?(B=+B+1,P=0,W=0):(P=+P+1,W=0)):D==="<="&&(D="<",ee?B=+B+1:P=+P+1),D==="<"&&(G="-0"),V=`${D+B}.${P}.${W}${G}`):ee?V=`>=${B}.0.0${G} <${+B+1}.0.0-0`:ie&&(V=`>=${B}.${P}.0${G} <${B}.${+P+1}.0-0`),s("xRange return",V),V})},C=(R,F)=>(s("replaceStars",R,F),R.trim().replace(l[c.STAR],"")),k=(R,F)=>(s("replaceGTE0",R,F),R.trim().replace(l[F.includePrerelease?c.GTE0PRE:c.GTE0],"")),O=R=>(F,U,V,D,B,P,W,G,$,ee,ie,I)=>(y(V)?U="":y(D)?U=`>=${V}.0.0${R?"-0":""}`:y(B)?U=`>=${V}.${D}.0${R?"-0":""}`:P?U=`>=${U}`:U=`>=${U}${R?"-0":""}`,y($)?G="":y(ee)?G=`<${+$+1}.0.0-0`:y(ie)?G=`<${$}.${+ee+1}.0-0`:I?G=`<=${$}.${ee}.${ie}-${I}`:R?G=`<${$}.${ee}.${+ie+1}-0`:G=`<=${G}`,`${U} ${G}`.trim()),L=(R,F,U)=>{for(let V=0;V<R.length;V++)if(!R[V].test(F))return!1;if(F.prerelease.length&&!U.includePrerelease){for(let V=0;V<R.length;V++)if(s(R[V].semver),R[V].semver!==a.ANY&&R[V].semver.prerelease.length>0){const D=R[V].semver;if(D.major===F.major&&D.minor===F.minor&&D.patch===F.patch)return!0}return!1}return!0};return Y_}var X_,c$;function Eb(){if(c$)return X_;c$=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(d,f){if(f=n(f),d instanceof e){if(d.loose===!!f.loose)return d;d=d.value}d=d.trim().split(/\s+/).join(" "),s("comparator",d,f),this.options=f,this.loose=!!f.loose,this.parse(d),this.semver===t?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(d){const f=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],h=d.match(f);if(!h)throw new TypeError(`Invalid comparator: ${d}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new o(h[2],this.options.loose):this.semver=t}toString(){return this.value}test(d){if(s("Comparator.test",d,this.options.loose),this.semver===t||d===t)return!0;if(typeof d=="string")try{d=new o(d,this.options)}catch{return!1}return a(d,this.operator,this.semver,this.options)}intersects(d,f){if(!(d instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(d.value,f).test(this.value):d.operator===""?d.value===""?!0:new l(this.value,f).test(d.semver):(f=n(f),f.includePrerelease&&(this.value==="<0.0.0-0"||d.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||d.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&d.operator.startsWith(">")||this.operator.startsWith("<")&&d.operator.startsWith("<")||this.semver.version===d.semver.version&&this.operator.includes("=")&&d.operator.includes("=")||a(this.semver,"<",d.semver,f)&&this.operator.startsWith(">")&&d.operator.startsWith("<")||a(this.semver,">",d.semver,f)&&this.operator.startsWith("<")&&d.operator.startsWith(">")))}}X_=e;const n=pC,{safeRe:r,t:i}=dg,a=a6,s=_b,o=mr,l=Ca();return X_}const lfe=Ca(),cfe=(t,e,n)=>{try{e=new lfe(e,n)}catch{return!1}return e.test(t)};var jb=cfe;const ufe=Ca(),dfe=(t,e)=>new ufe(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));var ffe=dfe;const hfe=mr,pfe=Ca(),mfe=(t,e,n)=>{let r=null,i=null,a=null;try{a=new pfe(e,n)}catch{return null}return t.forEach(s=>{a.test(s)&&(!r||i.compare(s)===-1)&&(r=s,i=new hfe(r,n))}),r};var gfe=mfe;const yfe=mr,vfe=Ca(),xfe=(t,e,n)=>{let r=null,i=null,a=null;try{a=new vfe(e,n)}catch{return null}return t.forEach(s=>{a.test(s)&&(!r||i.compare(s)===1)&&(r=s,i=new yfe(r,n))}),r};var bfe=xfe;const Z_=mr,wfe=Ca(),u$=Sb,_fe=(t,e)=>{t=new wfe(t,e);let n=new Z_("0.0.0");if(t.test(n)||(n=new Z_("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){const i=t.set[r];let a=null;i.forEach(s=>{const o=new Z_(s.semver.version);switch(s.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!a||u$(o,a))&&(a=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),a&&(!n||u$(n,a))&&(n=a)}return n&&t.test(n)?n:null};var Sfe=_fe;const Efe=Ca(),jfe=(t,e)=>{try{return new Efe(t,e).range||"*"}catch{return null}};var Afe=jfe;const Tfe=mr,s6=Eb(),{ANY:kfe}=s6,Cfe=Ca(),Ofe=jb,d$=Sb,f$=gC,Nfe=vC,Pfe=yC,Ife=(t,e,n,r)=>{t=new Tfe(t,r),e=new Cfe(e,r);let i,a,s,o,l;switch(n){case">":i=d$,a=Nfe,s=f$,o=">",l=">=";break;case"<":i=f$,a=Pfe,s=d$,o="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Ofe(t,e,r))return!1;for(let c=0;c<e.set.length;++c){const d=e.set[c];let f=null,h=null;if(d.forEach(p=>{p.semver===kfe&&(p=new s6(">=0.0.0")),f=f||p,h=h||p,i(p.semver,f.semver,r)?f=p:s(p.semver,h.semver,r)&&(h=p)}),f.operator===o||f.operator===l||(!h.operator||h.operator===o)&&a(t,h.semver))return!1;if(h.operator===l&&s(t,h.semver))return!1}return!0};var xC=Ife;const $fe=xC,Rfe=(t,e,n)=>$fe(t,e,">",n);var Mfe=Rfe;const Dfe=xC,Lfe=(t,e,n)=>Dfe(t,e,"<",n);var Ffe=Lfe;const h$=Ca(),Bfe=(t,e,n)=>(t=new h$(t,n),e=new h$(e,n),t.intersects(e,n));var zfe=Bfe;const Ufe=jb,Hfe=ka;var Vfe=(t,e,n)=>{const r=[];let i=null,a=null;const s=t.sort((d,f)=>Hfe(d,f,n));for(const d of s)Ufe(d,e,n)?(a=d,i||(i=d)):(a&&r.push([i,a]),a=null,i=null);i&&r.push([i,null]);const o=[];for(const[d,f]of r)d===f?o.push(d):!f&&d===s[0]?o.push("*"):f?d===s[0]?o.push(`<=${f}`):o.push(`${d} - ${f}`):o.push(`>=${d}`);const l=o.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return l.length<c.length?l:e};const p$=Ca(),bC=Eb(),{ANY:J_}=bC,yh=jb,wC=ka,Wfe=(t,e,n={})=>{if(t===e)return!0;t=new p$(t,n),e=new p$(e,n);let r=!1;e:for(const i of t.set){for(const a of e.set){const s=Gfe(i,a,n);if(r=r||s!==null,s)continue e}if(r)return!1}return!0},qfe=[new bC(">=0.0.0-0")],m$=[new bC(">=0.0.0")],Gfe=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===J_){if(e.length===1&&e[0].semver===J_)return!0;n.includePrerelease?t=qfe:t=m$}if(e.length===1&&e[0].semver===J_){if(n.includePrerelease)return!0;e=m$}const r=new Set;let i,a;for(const p of t)p.operator===">"||p.operator===">="?i=g$(i,p,n):p.operator==="<"||p.operator==="<="?a=y$(a,p,n):r.add(p.semver);if(r.size>1)return null;let s;if(i&&a){if(s=wC(i.semver,a.semver,n),s>0)return null;if(s===0&&(i.operator!==">="||a.operator!=="<="))return null}for(const p of r){if(i&&!yh(p,String(i),n)||a&&!yh(p,String(a),n))return null;for(const m of e)if(!yh(p,String(m),n))return!1;return!0}let o,l,c,d,f=a&&!n.includePrerelease&&a.semver.prerelease.length?a.semver:!1,h=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&a.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const p of e){if(d=d||p.operator===">"||p.operator===">=",c=c||p.operator==="<"||p.operator==="<=",i){if(h&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===h.major&&p.semver.minor===h.minor&&p.semver.patch===h.patch&&(h=!1),p.operator===">"||p.operator===">="){if(o=g$(i,p,n),o===p&&o!==i)return!1}else if(i.operator===">="&&!yh(i.semver,String(p),n))return!1}if(a){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator==="<"||p.operator==="<="){if(l=y$(a,p,n),l===p&&l!==a)return!1}else if(a.operator==="<="&&!yh(a.semver,String(p),n))return!1}if(!p.operator&&(a||i)&&s!==0)return!1}return!(i&&c&&!a&&s!==0||a&&d&&!i&&s!==0||h||f)},g$=(t,e,n)=>{if(!t)return e;const r=wC(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},y$=(t,e,n)=>{if(!t)return e;const r=wC(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t};var Kfe=Wfe;const Q_=dg,v$=wb,Yfe=mr,x$=n6,Xfe=Lf,Zfe=rde,Jfe=sde,Qfe=lde,ehe=ude,the=hde,nhe=gde,rhe=xde,ihe=_de,ahe=ka,she=Ade,ohe=Cde,lhe=mC,che=Ide,uhe=Mde,dhe=Sb,fhe=gC,hhe=r6,phe=i6,mhe=yC,ghe=vC,yhe=a6,vhe=afe,xhe=Eb(),bhe=Ca(),whe=jb,_he=ffe,She=gfe,Ehe=bfe,jhe=Sfe,Ahe=Afe,The=xC,khe=Mfe,Che=Ffe,Ohe=zfe,Nhe=Vfe,Phe=Kfe;Q_.re,Q_.src,Q_.t,v$.SEMVER_SPEC_VERSION,v$.RELEASE_TYPES,x$.compareIdentifiers,x$.rcompareIdentifiers;function wo(t){if(!t||t.split("/").length>2||t.startsWith("/")||t.endsWith("/")||t.split(":").length>2)throw new Error(`Invalid identifier format: ${t}`);const[e,n]=t.split(":"),r=n||"latest";if(e.includes("/")){const[i,a]=e.split("/",2);if(!i||!a)throw new Error(`Invalid identifier format: ${t}`);return[i,a,r]}else{if(!e)throw new Error(`Invalid identifier format: ${t}`);return["-",e,r]}}class Ihe extends Error{constructor(e){super(e),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="LangSmithConflictError",this.status=409}}async function Re(t,e,n){let r;if(t.ok){n&&(r=await t.text());return}if(t.status===403)try{const s=await t.json();(s==null?void 0:s.error)==="org_scoped_key_requires_workspace"&&(r="This API key is org-scoped and requires workspace specification. Please provide 'workspaceId' parameter, or set LANGSMITH_WORKSPACE_ID environment variable.")}catch{const o=new Error(`${t.status} ${t.statusText}`);throw o.status=t==null?void 0:t.status,o}if(r===void 0)try{r=await t.text()}catch{r=""}const i=`Failed to ${e}. Received status [${t.status}]: ${t.statusText}. Message: ${r}`;if(t.status===409)throw new Ihe(i);const a=new Error(i);throw a.status=t.status,a}const o6="ERR_CONFLICTING_ENDPOINTS";class $he extends Error{constructor(){super("You cannot provide both LANGSMITH_ENDPOINT / LANGCHAIN_ENDPOINT and LANGSMITH_RUNS_ENDPOINTS."),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:o6}),this.name="ConflictingEndpointsError"}}function Rhe(t){return typeof t=="object"&&t!==null&&t.code===o6}var b$="[...]",Mhe={result:"[Circular]"},l0=[],Xu=[];const Dhe=new TextEncoder;function Lhe(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function gy(t){return Dhe.encode(t)}function l6(t){if(t&&typeof t=="object"&&t!==null){if(t instanceof Map)return Object.fromEntries(t);if(t instanceof Set)return Array.from(t);if(t instanceof Date)return t.toISOString();if(t instanceof RegExp)return t.toString();if(t instanceof Error)return{name:t.name,message:t.message}}else if(typeof t=="bigint")return t.toString();return t}function Fhe(t){return function(e,n){return l6(n)}}function Ur(t,e,n,r,i){var a;try{const s=JSON.stringify(t,Fhe(n),r);return gy(s)}catch(s){if(!((a=s.message)!=null&&a.includes("Converting circular structure to JSON")))return console.warn(`[WARNING]: LangSmith received unserializable value.${e?`
Context: ${e}`:""}`),gy("[Unserializable]");jr("SUPPRESS_CIRCULAR_JSON_WARNINGS")!=="true"&&console.warn(`[WARNING]: LangSmith received circular JSON. This will decrease tracer performance. ${e?`
Context: ${e}`:""}`),typeof i>"u"&&(i=Lhe()),WE(t,"",0,[],void 0,0,i);let o;try{Xu.length===0?o=JSON.stringify(t,n,r):o=JSON.stringify(t,Bhe(n),r)}catch{return gy("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;l0.length!==0;){const l=l0.pop();l.length===4?Object.defineProperty(l[0],l[1],l[3]):l[0][l[1]]=l[2]}}return gy(o)}}function e1(t,e,n,r){var i=Object.getOwnPropertyDescriptor(r,n);i.get!==void 0?i.configurable?(Object.defineProperty(r,n,{value:t}),l0.push([r,n,e,i])):Xu.push([e,n,t]):(r[n]=t,l0.push([r,n,e]))}function WE(t,e,n,r,i,a,s){a+=1;var o;if(typeof t=="object"&&t!==null){for(o=0;o<r.length;o++)if(r[o]===t){e1(Mhe,t,e,i);return}if(typeof s.depthLimit<"u"&&a>s.depthLimit){e1(b$,t,e,i);return}if(typeof s.edgesLimit<"u"&&n+1>s.edgesLimit){e1(b$,t,e,i);return}if(r.push(t),Array.isArray(t))for(o=0;o<t.length;o++)WE(t[o],o,o,r,t,a,s);else{t=l6(t);var l=Object.keys(t);for(o=0;o<l.length;o++){var c=l[o];WE(t[c],c,o,r,t,a,s)}}r.pop()}}function Bhe(t){return t=typeof t<"u"?t:function(e,n){return n},function(e,n){if(Xu.length>0)for(var r=0;r<Xu.length;r++){var i=Xu[r];if(i[1]===e&&i[0]===n){n=i[2],Xu.splice(r,1);break}}return t.call(this,e,n)}}function w$(t,e){const n=VU(),r=e??WU(),i=t.extra??{},a=i.metadata;return t.extra={...i,runtime:{...n,...i==null?void 0:i.runtime},metadata:{...r,...r.revision_id||"revision_id"in t&&t.revision_id?{revision_id:("revision_id"in t?t.revision_id:void 0)??r.revision_id}:{},...a}},t}const zhe=t=>{const e=(t==null?void 0:t.toString())??jr("TRACING_SAMPLING_RATE");if(e===void 0)return;const n=parseFloat(e);if(n<0||n>1)throw new Error(`LANGSMITH_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${n}`);return n},Uhe=t=>{const n=t.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return n==="localhost"||n==="127.0.0.1"||n==="::1"};async function Hhe(t){const e=[];for await(const n of t)e.push(n);return e}function yy(t){if(t!==void 0)return t.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}const Vhe=async t=>{if((t==null?void 0:t.status)===429){const e=parseInt(t.headers.get("retry-after")??"10",10)*1e3;if(e>0)return await new Promise(n=>setTimeout(n,e)),!0}return!1};function _$(t){return typeof t=="number"?Number(t.toFixed(4)):t}const Whe=24*1024*1024,c6=1024*1024*1024,qhe=1e4,Ghe=100,S$="https://api.smith.langchain.com";class Khe{constructor(e){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"sizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"maxSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSizeBytes=e??c6}peek(){return this.items[0]}push(e){let n;const r=new Promise(a=>{n=a}),i=Ur(e.item,`Serializing run with id: ${e.item.id}`).length;return this.sizeBytes+i>this.maxSizeBytes&&this.items.length>0?(console.warn(`AutoBatchQueue size limit (${this.maxSizeBytes} bytes) exceeded. Dropping run with id: ${e.item.id}. Current queue size: ${this.sizeBytes} bytes, attempted addition: ${i} bytes.`),n(),r):(this.items.push({action:e.action,payload:e.item,otelContext:e.otelContext,apiKey:e.apiKey,apiUrl:e.apiUrl,itemPromiseResolve:n,itemPromise:r,size:i}),this.sizeBytes+=i,r)}pop({upToSizeBytes:e,upToSize:n}){var a;if(e<1)throw new Error("Number of bytes to pop off may not be less than 1.");const r=[];let i=0;for(;i+(((a=this.peek())==null?void 0:a.size)??0)<e&&this.items.length>0&&r.length<n;){const s=this.items.shift();s&&(r.push(s),i+=s.size,this.sizeBytes-=s.size)}if(r.length===0&&this.items.length>0){const s=this.items.shift();r.push(s),i+=s.size,this.sizeBytes-=s.size}return[r.map(s=>({action:s.action,item:s.payload,otelContext:s.otelContext,apiKey:s.apiKey,apiUrl:s.apiUrl,size:s.size})),()=>r.forEach(s=>s.itemPromiseResolve())]}}class Gd{get _fetch(){return this.fetchImplementation||tue(this.debug)}constructor(e={}){var i;Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"workspaceId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filteredPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"batchSizeBytesLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchSizeLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"blockOnRootRunFinalization",{enumerable:!0,configurable:!0,writable:!0,value:ds("LANGSMITH_TRACING_BACKGROUND")==="false"}),Object.defineProperty(this,"traceBatchConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:5}),Object.defineProperty(this,"_serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_getServerInfoPromise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"manualFlushMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"langSmithToOTELTranslator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchImplementation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cachedLSEnvVarsForMetadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"multipartStreamingDisabled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"debug",{enumerable:!0,configurable:!0,writable:!0,value:ds("LANGSMITH_DEBUG")==="true"});const n=Gd.getDefaultClientConfig();if(this.tracingSampleRate=zhe(e.tracingSamplingRate),this.apiUrl=yy(e.apiUrl??n.apiUrl)??"",this.apiUrl.endsWith("/")&&(this.apiUrl=this.apiUrl.slice(0,-1)),this.apiKey=yy(e.apiKey??n.apiKey),this.webUrl=yy(e.webUrl??n.webUrl),(i=this.webUrl)!=null&&i.endsWith("/")&&(this.webUrl=this.webUrl.slice(0,-1)),this.workspaceId=yy(e.workspaceId??jr("WORKSPACE_ID")),this.timeout_ms=e.timeout_ms??9e4,this.caller=new X2({...e.callerOptions??{},maxRetries:4,debug:e.debug??this.debug}),this.traceBatchConcurrency=e.traceBatchConcurrency??this.traceBatchConcurrency,this.traceBatchConcurrency<1)throw new Error("Trace batch concurrency must be positive.");this.debug=e.debug??this.debug,this.fetchImplementation=e.fetchImplementation;const r=e.maxIngestMemoryBytes??c6;this.batchIngestCaller=new X2({maxRetries:4,maxConcurrency:this.traceBatchConcurrency,maxQueueSizeBytes:r,...e.callerOptions??{},onFailedResponseHook:Vhe,debug:e.debug??this.debug}),this.hideInputs=e.hideInputs??e.anonymizer??n.hideInputs,this.hideOutputs=e.hideOutputs??e.anonymizer??n.hideOutputs,this.autoBatchTracing=e.autoBatchTracing??this.autoBatchTracing,this.autoBatchQueue=new Khe(r),this.blockOnRootRunFinalization=e.blockOnRootRunFinalization??this.blockOnRootRunFinalization,this.batchSizeBytesLimit=e.batchSizeBytesLimit,this.batchSizeLimit=e.batchSizeLimit,this.fetchOptions=e.fetchOptions||{},this.manualFlushMode=e.manualFlushMode??this.manualFlushMode,qU()&&(this.langSmithToOTELTranslator=new bue),this.cachedLSEnvVarsForMetadata=WU()}static getDefaultClientConfig(){const e=jr("API_KEY"),n=jr("ENDPOINT")??S$,r=jr("HIDE_INPUTS")==="true",i=jr("HIDE_OUTPUTS")==="true";return{apiUrl:n,apiKey:e,webUrl:void 0,hideInputs:r,hideOutputs:i}}getHostUrl(){return this.webUrl?this.webUrl:Uhe(this.apiUrl)?(this.webUrl="http://localhost:3000",this.webUrl):this.apiUrl.endsWith("/api/v1")?(this.webUrl=this.apiUrl.replace("/api/v1",""),this.webUrl):this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api")?(this.webUrl=this.apiUrl.replace("/api",""),this.webUrl):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("eu")?(this.webUrl="https://eu.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("beta")?(this.webUrl="https://beta.smith.langchain.com",this.webUrl):(this.webUrl="https://smith.langchain.com",this.webUrl)}get headers(){const e={"User-Agent":`langsmith-js/${zU}`};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),this.workspaceId&&(e["x-tenant-id"]=this.workspaceId),e}_getPlatformEndpointPath(e){return this.apiUrl.slice(-3)!=="/v1"&&this.apiUrl.slice(-4)!=="/v1/"?`/v1/platform/${e}`:`/platform/${e}`}async processInputs(e){return this.hideInputs===!1?e:this.hideInputs===!0?{}:typeof this.hideInputs=="function"?this.hideInputs(e):e}async processOutputs(e){return this.hideOutputs===!1?e:this.hideOutputs===!0?{}:typeof this.hideOutputs=="function"?this.hideOutputs(e):e}async prepareRunCreateOrUpdateInputs(e){const n={...e};return n.inputs!==void 0&&(n.inputs=await this.processInputs(n.inputs)),n.outputs!==void 0&&(n.outputs=await this.processOutputs(n.outputs)),n}async _getResponse(e,n){const r=(n==null?void 0:n.toString())??"",i=`${this.apiUrl}${e}?${r}`;return await this.caller.call(async()=>{const s=await this._fetch(i,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(s,`fetch ${e}`),s})}async _get(e,n){return(await this._getResponse(e,n)).json()}async*_getPaginated(e,n=new URLSearchParams,r){let i=Number(n.get("offset"))||0;const a=Number(n.get("limit"))||100;for(;;){n.set("offset",String(i)),n.set("limit",String(a));const s=`${this.apiUrl}${e}?${n}`,o=await this.caller.call(async()=>{const c=await this._fetch(s,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(c,`fetch ${e}`),c}),l=r?r(await o.json()):await o.json();if(l.length===0||(yield l,l.length<a))break;i+=l.length}}async*_getCursorPaginatedList(e,n=null,r="POST",i="runs"){const a=n?{...n}:{};for(;;){const s=JSON.stringify(a),l=await(await this.caller.call(async()=>{const d=await this._fetch(`${this.apiUrl}${e}`,{method:r,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Re(d,`fetch ${e}`),d})).json();if(!l||!l[i])break;yield l[i];const c=l.cursors;if(!c||!c.next)break;a.cursor=c.next}}_shouldSample(){return this.tracingSampleRate===void 0?!0:Math.random()<this.tracingSampleRate}_filterForSampling(e,n=!1){if(this.tracingSampleRate===void 0)return e;if(n){const r=[];for(const i of e)this.filteredPostUuids.has(i.trace_id)?i.id===i.trace_id&&this.filteredPostUuids.delete(i.trace_id):r.push(i);return r}else{const r=[];for(const i of e){const a=i.trace_id??i.id;this.filteredPostUuids.has(a)||(i.id===a?this._shouldSample()?r.push(i):this.filteredPostUuids.add(a):r.push(i))}return r}}async _getBatchSizeLimitBytes(){var n;const e=await this._ensureServerInfo();return this.batchSizeBytesLimit??((n=e.batch_ingest_config)==null?void 0:n.size_limit_bytes)??Whe}async _getBatchSizeLimit(){var n;const e=await this._ensureServerInfo();return this.batchSizeLimit??((n=e.batch_ingest_config)==null?void 0:n.size_limit)??Ghe}async _getDatasetExamplesMultiPartSupport(){var n;return((n=(await this._ensureServerInfo()).instance_flags)==null?void 0:n.dataset_examples_multipart_enabled)??!1}drainAutoBatchQueue({batchSizeLimitBytes:e,batchSizeLimit:n}){const r=[];for(;this.autoBatchQueue.items.length>0;){const[i,a]=this.autoBatchQueue.pop({upToSizeBytes:e,upToSize:n});if(!i.length){a();break}const s=i.reduce((c,d)=>{const f=d.apiUrl??this.apiUrl,h=d.apiKey??this.apiKey,m=d.apiKey===this.apiKey&&d.apiUrl===this.apiUrl?"default":`${f}|${h}`;return c[m]||(c[m]=[]),c[m].push(d),c},{}),o=[];for(const[c,d]of Object.entries(s)){const f=this._processBatch(d,{apiUrl:c==="default"?void 0:c.split("|")[0],apiKey:c==="default"?void 0:c.split("|")[1]});o.push(f)}const l=Promise.all(o).finally(a);r.push(l)}return Promise.all(r)}async _processBatch(e,n){var i,a;if(!e.length)return;const r=e.reduce((s,o)=>s+(o.size??0),0);try{if(this.langSmithToOTELTranslator!==void 0)this._sendBatchToOTELTranslator(e);else{const s={runCreates:e.filter(l=>l.action==="create").map(l=>l.item),runUpdates:e.filter(l=>l.action==="update").map(l=>l.item)},o=await this._ensureServerInfo();if((i=o==null?void 0:o.batch_ingest_config)!=null&&i.use_multipart_endpoint){const l=(a=o==null?void 0:o.instance_flags)==null?void 0:a.gzip_body_enabled;await this.multipartIngestRuns(s,{...n,useGzip:l,sizeBytes:r})}else await this.batchIngestRuns(s,{...n,sizeBytes:r})}}catch(s){console.error("Error exporting batch:",s)}}_sendBatchToOTELTranslator(e){if(this.langSmithToOTELTranslator!==void 0){const n=new Map,r=[];for(const i of e)i.item.id&&i.otelContext&&(n.set(i.item.id,i.otelContext),i.action==="create"?r.push({operation:"post",id:i.item.id,trace_id:i.item.trace_id??i.item.id,run:i.item}):r.push({operation:"patch",id:i.item.id,trace_id:i.item.trace_id??i.item.id,run:i.item}));this.langSmithToOTELTranslator.exportBatch(r,n)}}async processRunOperation(e){clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0,e.item=w$(e.item,this.cachedLSEnvVarsForMetadata);const n=this.autoBatchQueue.push(e);if(this.manualFlushMode)return n;const r=await this._getBatchSizeLimitBytes(),i=await this._getBatchSizeLimit();return(this.autoBatchQueue.sizeBytes>r||this.autoBatchQueue.items.length>i)&&this.drainAutoBatchQueue({batchSizeLimitBytes:r,batchSizeLimit:i}),this.autoBatchQueue.items.length>0&&(this.autoBatchTimeout=setTimeout(()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue({batchSizeLimitBytes:r,batchSizeLimit:i})},this.autoBatchAggregationDelayMs)),n}async _getServerInfo(){const n=await(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(qhe),...this.fetchOptions});return await Re(r,"get server info"),r})).json();return this.debug&&console.log(`
=== LangSmith Server Configuration ===
`+JSON.stringify(n,null,2)+`
`),n}async _ensureServerInfo(){return this._getServerInfoPromise===void 0&&(this._getServerInfoPromise=(async()=>{if(this._serverInfo===void 0)try{this._serverInfo=await this._getServerInfo()}catch(e){console.warn(`[LANGSMITH]: Failed to fetch info on supported operations. Falling back to batch operations and default limits. Info: ${e.status??"Unspecified status code"} ${e.message}`)}return this._serverInfo??{}})()),this._getServerInfoPromise.then(e=>(this._serverInfo===void 0&&(this._getServerInfoPromise=void 0),e))}async _getSettings(){return this.settings||(this.settings=this._get("/settings")),await this.settings}async flush(){const e=await this._getBatchSizeLimitBytes(),n=await this._getBatchSizeLimit();await this.drainAutoBatchQueue({batchSizeLimitBytes:e,batchSizeLimit:n})}_cloneCurrentOTELContext(){const e=GU(),n=gue();if(this.langSmithToOTELTranslator!==void 0){const r=e.getActiveSpan();if(r)return e.setSpan(n.active(),r)}}async createRun(e,n){if(!this._filterForSampling([e]).length)return;const r={...this.headers,"Content-Type":"application/json"},i=e.project_name;delete e.project_name;const a=await this.prepareRunCreateOrUpdateInputs({session_name:i,...e,start_time:e.start_time??Date.now()});if(this.autoBatchTracing&&a.trace_id!==void 0&&a.dotted_order!==void 0){const l=this._cloneCurrentOTELContext();this.processRunOperation({action:"create",item:a,otelContext:l,apiKey:n==null?void 0:n.apiKey,apiUrl:n==null?void 0:n.apiUrl}).catch(console.error);return}const s=w$(a,this.cachedLSEnvVarsForMetadata);(n==null?void 0:n.apiKey)!==void 0&&(r["x-api-key"]=n.apiKey),(n==null?void 0:n.workspaceId)!==void 0&&(r["x-tenant-id"]=n.workspaceId);const o=Ur(s,`Creating run with id: ${s.id}`);await this.caller.call(async()=>{const l=await this._fetch(`${(n==null?void 0:n.apiUrl)??this.apiUrl}/runs`,{method:"POST",headers:r,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Re(l,"create run",!0),l})}async batchIngestRuns({runCreates:e,runUpdates:n},r){if(e===void 0&&n===void 0)return;let i=await Promise.all((e==null?void 0:e.map(l=>this.prepareRunCreateOrUpdateInputs(l)))??[]),a=await Promise.all((n==null?void 0:n.map(l=>this.prepareRunCreateOrUpdateInputs(l)))??[]);if(i.length>0&&a.length>0){const l=i.reduce((d,f)=>(f.id&&(d[f.id]=f),d),{}),c=[];for(const d of a)d.id!==void 0&&l[d.id]?l[d.id]={...l[d.id],...d}:c.push(d);i=Object.values(l),a=c}const s={post:i,patch:a};if(!s.post.length&&!s.patch.length)return;const o={post:[],patch:[]};for(const l of["post","patch"]){const c=l,d=s[c].reverse();let f=d.pop();for(;f!==void 0;)o[c].push(f),f=d.pop()}if(o.post.length>0||o.patch.length>0){const l=o.post.map(c=>c.id).concat(o.patch.map(c=>c.id)).join(",");await this._postBatchIngestRuns(Ur(o,`Ingesting runs with ids: ${l}`),r)}}async _postBatchIngestRuns(e,n){const r={...this.headers,"Content-Type":"application/json",Accept:"application/json"};(n==null?void 0:n.apiKey)!==void 0&&(r["x-api-key"]=n.apiKey),await this.batchIngestCaller.callWithOptions({sizeBytes:n==null?void 0:n.sizeBytes},async()=>{const i=await this._fetch(`${(n==null?void 0:n.apiUrl)??this.apiUrl}/runs/batch`,{method:"POST",headers:r,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:e});return await Re(i,"batch create run",!0),i})}async multipartIngestRuns({runCreates:e,runUpdates:n},r){if(e===void 0&&n===void 0)return;const i={};let a=[];for(const f of e??[]){const h=await this.prepareRunCreateOrUpdateInputs(f);h.id!==void 0&&h.attachments!==void 0&&(i[h.id]=h.attachments),delete h.attachments,a.push(h)}let s=[];for(const f of n??[])s.push(await this.prepareRunCreateOrUpdateInputs(f));if(a.find(f=>f.trace_id===void 0||f.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when creating a run');if(s.find(f=>f.trace_id===void 0||f.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when updating a run');if(a.length>0&&s.length>0){const f=a.reduce((p,m)=>(m.id&&(p[m.id]=m),p),{}),h=[];for(const p of s)p.id!==void 0&&f[p.id]?f[p.id]={...f[p.id],...p}:h.push(p);a=Object.values(f),s=h}if(a.length===0&&s.length===0)return;const c=[],d=[];for(const[f,h]of[["post",a],["patch",s]])for(const p of h){const{inputs:m,outputs:g,events:b,extra:x,error:v,serialized:y,attachments:w,..._}=p,E={inputs:m,outputs:g,events:b,extra:x,error:v,serialized:y},A=Ur(_,`Serializing for multipart ingestion of run with id: ${_.id}`);d.push({name:`${f}.${_.id}`,payload:new Blob([A],{type:`application/json; length=${A.length}`})});for(const[j,T]of Object.entries(E)){if(T===void 0)continue;const C=Ur(T,`Serializing ${j} for multipart ingestion of run with id: ${_.id}`);d.push({name:`${f}.${_.id}.${j}`,payload:new Blob([C],{type:`application/json; length=${C.length}`})})}if(_.id!==void 0){const j=i[_.id];if(j){delete i[_.id];for(const[T,C]of Object.entries(j)){let k,O;if(Array.isArray(C)?[k,O]=C:(k=C.mimeType,O=C.data),T.includes(".")){console.warn(`Skipping attachment '${T}' for run ${_.id}: Invalid attachment name. Attachment names must not contain periods ('.'). Please rename the attachment and try again.`);continue}d.push({name:`attachment.${_.id}.${T}`,payload:new Blob([O],{type:`${k}; length=${O.byteLength}`})})}}}c.push(`trace=${_.trace_id},id=${_.id}`)}await this._sendMultipartRequest(d,c.join("; "),r)}async _createNodeFetchBody(e,n){const r=[];for(const s of e)r.push(new Blob([`--${n}\r
`])),r.push(new Blob([`Content-Disposition: form-data; name="${s.name}"\r
`,`Content-Type: ${s.payload.type}\r
\r
`])),r.push(s.payload),r.push(new Blob([`\r
`]));return r.push(new Blob([`--${n}--\r
`])),await new Blob(r).arrayBuffer()}async _createMultipartStream(e,n){const r=new TextEncoder;return new ReadableStream({async start(a){const s=async o=>{typeof o=="string"?a.enqueue(r.encode(o)):a.enqueue(o)};for(const o of e){await s(`--${n}\r
`),await s(`Content-Disposition: form-data; name="${o.name}"\r
`),await s(`Content-Type: ${o.payload.type}\r
\r
`);const c=o.payload.stream().getReader();try{let d;for(;!(d=await c.read()).done;)a.enqueue(d.value)}finally{c.releaseLock()}await s(`\r
`)}await s(`--${n}--\r
`),a.close()}})}async _sendMultipartRequest(e,n,r){const i="----LangSmithFormBoundary"+Math.random().toString(36).slice(2),a=eue(),s=()=>this._createNodeFetchBody(e,i),o=()=>this._createMultipartStream(e,i),l=async c=>this.batchIngestCaller.callWithOptions({sizeBytes:r==null?void 0:r.sizeBytes},async()=>{const d=await c(),f={...this.headers,"Content-Type":`multipart/form-data; boundary=${i}`};(r==null?void 0:r.apiKey)!==void 0&&(f["x-api-key"]=r.apiKey);let h=d;r!=null&&r.useGzip&&typeof d=="object"&&"pipeThrough"in d&&(h=d.pipeThrough(new CompressionStream("gzip")),f["Content-Encoding"]="gzip");const p=await this._fetch(`${(r==null?void 0:r.apiUrl)??this.apiUrl}/runs/multipart`,{method:"POST",headers:f,body:h,duplex:"half",signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(p,"Failed to send multipart request",!0),p});try{let c,d=!1;!a&&!this.multipartStreamingDisabled&&HU()!=="bun"?(d=!0,c=await l(o)):c=await l(s),(!this.multipartStreamingDisabled||d)&&c.status===422&&((r==null?void 0:r.apiUrl)??this.apiUrl)!==S$&&(console.warn(`Streaming multipart upload to ${(r==null?void 0:r.apiUrl)??this.apiUrl}/runs/multipart failed. This usually means the host does not support chunked uploads. Retrying with a buffered upload for operation "${n}".`),this.multipartStreamingDisabled=!0,c=await l(s))}catch(c){console.warn(`${c.message.trim()}

Context: ${n}`)}}async updateRun(e,n,r){Ye(e),n.inputs&&(n.inputs=await this.processInputs(n.inputs)),n.outputs&&(n.outputs=await this.processOutputs(n.outputs));const i={...n,id:e};if(!this._filterForSampling([i],!0).length)return;if(this.autoBatchTracing&&i.trace_id!==void 0&&i.dotted_order!==void 0){const o=this._cloneCurrentOTELContext();if(n.end_time!==void 0&&i.parent_run_id===void 0&&this.blockOnRootRunFinalization&&!this.manualFlushMode){await this.processRunOperation({action:"update",item:i,otelContext:o,apiKey:r==null?void 0:r.apiKey,apiUrl:r==null?void 0:r.apiUrl}).catch(console.error);return}else this.processRunOperation({action:"update",item:i,otelContext:o,apiKey:r==null?void 0:r.apiKey,apiUrl:r==null?void 0:r.apiUrl}).catch(console.error);return}const a={...this.headers,"Content-Type":"application/json"};(r==null?void 0:r.apiKey)!==void 0&&(a["x-api-key"]=r.apiKey),(r==null?void 0:r.workspaceId)!==void 0&&(a["x-tenant-id"]=r.workspaceId);const s=Ur(n,`Serializing payload to update run with id: ${e}`);await this.caller.call(async()=>{const o=await this._fetch(`${(r==null?void 0:r.apiUrl)??this.apiUrl}/runs/${e}`,{method:"PATCH",headers:a,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Re(o,"update run",!0),o})}async readRun(e,{loadChildRuns:n}={loadChildRuns:!1}){Ye(e);let r=await this._get(`/runs/${e}`);return n&&(r=await this._loadChildRuns(r)),r}async getRunUrl({runId:e,run:n,projectOpts:r}){if(n!==void 0){let i;n.session_id?i=n.session_id:r!=null&&r.projectName?i=(await this.readProject({projectName:r==null?void 0:r.projectName})).id:r!=null&&r.projectId?i=r==null?void 0:r.projectId:i=(await this.readProject({projectName:jr("PROJECT")||"default"})).id;const a=await this._getTenantId();return`${this.getHostUrl()}/o/${a}/projects/p/${i}/r/${n.id}?poll=true`}else if(e!==void 0){const i=await this.readRun(e);if(!i.app_path)throw new Error(`Run ${e} has no app_path`);return`${this.getHostUrl()}${i.app_path}`}else throw new Error("Must provide either runId or run")}async _loadChildRuns(e){var a;const n=await Hhe(this.listRuns({isRoot:!1,projectId:e.session_id,traceId:e.trace_id})),r={},i={};n.sort((s,o)=>((s==null?void 0:s.dotted_order)??"").localeCompare((o==null?void 0:o.dotted_order)??""));for(const s of n){if(s.parent_run_id===null||s.parent_run_id===void 0)throw new Error(`Child run ${s.id} has no parent`);(a=s.dotted_order)!=null&&a.startsWith(e.dotted_order??"")&&s.id!==e.id&&(s.parent_run_id in r||(r[s.parent_run_id]=[]),r[s.parent_run_id].push(s),i[s.id]=s)}e.child_runs=r[e.id]||[];for(const s in r)s!==e.id&&(i[s].child_runs=r[s]);return e}async*listRuns(e){const{projectId:n,projectName:r,parentRunId:i,traceId:a,referenceExampleId:s,startTime:o,executionOrder:l,isRoot:c,runType:d,error:f,id:h,query:p,filter:m,traceFilter:g,treeFilter:b,limit:x,select:v,order:y}=e;let w=[];if(n&&(w=Array.isArray(n)?n:[n]),r){const j=Array.isArray(r)?r:[r],T=await Promise.all(j.map(C=>this.readProject({projectName:C}).then(k=>k.id)));w.push(...T)}const _=["app_path","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],E={session:w.length?w:null,run_type:d,reference_example:s,query:p,filter:m,trace_filter:g,tree_filter:b,execution_order:l,parent_run:i,start_time:o?o.toISOString():null,error:f,id:h,limit:x,trace:a,select:v||_,is_root:c,order:y};E.select.includes("child_run_ids")&&HE("Deprecated: 'child_run_ids' in the listRuns select parameter is deprecated and will be removed in a future version.");let A=0;for await(const j of this._getCursorPaginatedList("/runs/query",E))if(x){if(A>=x)break;if(j.length+A>x){yield*j.slice(0,x-A);break}A+=j.length,yield*j}else yield*j}async*listGroupRuns(e){const{projectId:n,projectName:r,groupBy:i,filter:a,startTime:s,endTime:o,limit:l,offset:c}=e,f={session_id:n||(await this.readProject({projectName:r})).id,group_by:i,filter:a,start_time:s?s.toISOString():null,end_time:o?o.toISOString():null,limit:Number(l)||100};let h=Number(c)||0;const p="/runs/group",m=`${this.apiUrl}${p}`;for(;;){const g={...f,offset:h},b=Object.fromEntries(Object.entries(g).filter(([E,A])=>A!==void 0)),x=JSON.stringify(b),y=await(await this.caller.call(async()=>{const E=await this._fetch(m,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:x});return await Re(E,`Failed to fetch ${p}`),E})).json(),{groups:w,total:_}=y;if(w.length===0)break;for(const E of w)yield E;if(h+=w.length,h>=_)break}}async getRunStats({id:e,trace:n,parentRun:r,runType:i,projectNames:a,projectIds:s,referenceExampleIds:o,startTime:l,endTime:c,error:d,query:f,filter:h,traceFilter:p,treeFilter:m,isRoot:g,dataSourceType:b}){let x=s||[];a&&(x=[...s||[],...await Promise.all(a.map(A=>this.readProject({projectName:A}).then(j=>j.id)))]);const y=Object.fromEntries(Object.entries({id:e,trace:n,parent_run:r,run_type:i,session:x,reference_example:o,start_time:l,end_time:c,error:d,query:f,filter:h,trace_filter:p,tree_filter:m,is_root:g,data_source_type:b}).filter(([A,j])=>j!==void 0)),w=JSON.stringify(y);return await(await this.caller.call(async()=>{const A=await this._fetch(`${this.apiUrl}/runs/stats`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:w});return await Re(A,"get run stats"),A})).json()}async shareRun(e,{shareId:n}={}){const r={run_id:e,share_token:n||Er()};Ye(e);const i=JSON.stringify(r),s=await(await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/runs/${e}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await Re(o,"share run"),o})).json();if(s===null||!("share_token"in s))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${s.share_token}/r`}async unshareRun(e){Ye(e),await this.caller.call(async()=>{const n=await this._fetch(`${this.apiUrl}/runs/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(n,"unshare run",!0),n})}async readRunSharedLink(e){Ye(e);const r=await(await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/runs/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(i,"read run shared link"),i})).json();if(!(r===null||!("share_token"in r)))return`${this.getHostUrl()}/public/${r.share_token}/r`}async listSharedRuns(e,{runIds:n}={}){const r=new URLSearchParams({share_token:e});if(n!==void 0)for(const s of n)r.append("id",s);return Ye(e),await(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/public/${e}/runs${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(s,"list shared runs"),s})).json()}async readDatasetSharedSchema(e,n){if(!e&&!n)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:n})).id),Ye(e);const i=await(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}/datasets/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(a,"read dataset shared schema"),a})).json();return i.url=`${this.getHostUrl()}/public/${i.share_token}/d`,i}async shareDataset(e,n){if(!e&&!n)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:n})).id);const r={dataset_id:e};Ye(e);const i=JSON.stringify(r),s=await(await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/datasets/${e}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await Re(o,"share dataset"),o})).json();return s.url=`${this.getHostUrl()}/public/${s.share_token}/d`,s}async unshareDataset(e){Ye(e),await this.caller.call(async()=>{const n=await this._fetch(`${this.apiUrl}/datasets/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(n,"unshare dataset",!0),n})}async readSharedDataset(e){return Ye(e),await(await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/public/${e}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(i,"read shared dataset"),i})).json()}async listSharedExamples(e,n){const r={};n!=null&&n.exampleIds&&(r.id=n.exampleIds);const i=new URLSearchParams;Object.entries(r).forEach(([o,l])=>{Array.isArray(l)?l.forEach(c=>i.append(o,c)):i.append(o,l)});const a=await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/public/${e}/examples?${i.toString()}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(o,"list shared examples"),o}),s=await a.json();if(!a.ok)throw"detail"in s?new Error(`Failed to list shared examples.
Status: ${a.status}
Message: ${Array.isArray(s.detail)?s.detail.join(`
`):"Unspecified error"}`):new Error(`Failed to list shared examples: ${a.status} ${a.statusText}`);return s.map(o=>({...o,_hostUrl:this.getHostUrl()}))}async createProject({projectName:e,description:n=null,metadata:r=null,upsert:i=!1,projectExtra:a=null,referenceDatasetId:s=null}){const o=i?"?upsert=true":"",l=`${this.apiUrl}/sessions${o}`,c=a||{};r&&(c.metadata=r);const d={name:e,extra:c,description:n};s!==null&&(d.reference_dataset_id=s);const f=JSON.stringify(d);return await(await this.caller.call(async()=>{const m=await this._fetch(l,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:f});return await Re(m,"create project"),m})).json()}async updateProject(e,{name:n=null,description:r=null,metadata:i=null,projectExtra:a=null,endTime:s=null}){const o=`${this.apiUrl}/sessions/${e}`;let l=a;i&&(l={...l||{},metadata:i});const c=JSON.stringify({name:n,extra:l,description:r,end_time:s?new Date(s).toISOString():null});return await(await this.caller.call(async()=>{const h=await this._fetch(o,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await Re(h,"update project"),h})).json()}async hasProject({projectId:e,projectName:n}){let r="/sessions";const i=new URLSearchParams;if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)Ye(e),r+=`/${e}`;else if(n!==void 0)i.append("name",n);else throw new Error("Must provide projectName or projectId");const a=await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}${r}?${i}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(s,"has project"),s});try{const s=await a.json();return a.ok?Array.isArray(s)?s.length>0:!0:!1}catch{return!1}}async readProject({projectId:e,projectName:n,includeStats:r}){let i="/sessions";const a=new URLSearchParams;if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)Ye(e),i+=`/${e}`;else if(n!==void 0)a.append("name",n);else throw new Error("Must provide projectName or projectId");r!==void 0&&a.append("include_stats",r.toString());const s=await this._get(i,a);let o;if(Array.isArray(s)){if(s.length===0)throw new Error(`Project[id=${e}, name=${n}] not found`);o=s[0]}else o=s;return o}async getProjectUrl({projectId:e,projectName:n}){if(e===void 0&&n===void 0)throw new Error("Must provide either projectName or projectId");const r=await this.readProject({projectId:e,projectName:n}),i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/projects/p/${r.id}`}async getDatasetUrl({datasetId:e,datasetName:n}){if(e===void 0&&n===void 0)throw new Error("Must provide either datasetName or datasetId");const r=await this.readDataset({datasetId:e,datasetName:n}),i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/datasets/${r.id}`}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;const e=new URLSearchParams({limit:"1"});for await(const n of this._getPaginated("/sessions",e))return this._tenantId=n[0].tenant_id,n[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:e,name:n,nameContains:r,referenceDatasetId:i,referenceDatasetName:a,includeStats:s,datasetVersion:o,referenceFree:l,metadata:c}={}){const d=new URLSearchParams;if(e!==void 0)for(const f of e)d.append("id",f);if(n!==void 0&&d.append("name",n),r!==void 0&&d.append("name_contains",r),i!==void 0)d.append("reference_dataset",i);else if(a!==void 0){const f=await this.readDataset({datasetName:a});d.append("reference_dataset",f.id)}s!==void 0&&d.append("include_stats",s.toString()),o!==void 0&&d.append("dataset_version",o),l!==void 0&&d.append("reference_free",l.toString()),c!==void 0&&d.append("metadata",JSON.stringify(c));for await(const f of this._getPaginated("/sessions",d))yield*f}async deleteProject({projectId:e,projectName:n}){let r;if(e===void 0&&n===void 0)throw new Error("Must provide projectName or projectId");if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");e===void 0?r=(await this.readProject({projectName:n})).id:r=e,Ye(r),await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/sessions/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(i,`delete session ${r} (${n})`,!0),i})}async uploadCsv({csvFile:e,fileName:n,inputKeys:r,outputKeys:i,description:a,dataType:s,name:o}){const l=`${this.apiUrl}/datasets/upload`,c=new FormData;return c.append("file",e,n),r.forEach(h=>{c.append("input_keys",h)}),i.forEach(h=>{c.append("output_keys",h)}),a&&c.append("description",a),s&&c.append("data_type",s),o&&c.append("name",o),await(await this.caller.call(async()=>{const h=await this._fetch(l,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await Re(h,"upload CSV"),h})).json()}async createDataset(e,{description:n,dataType:r,inputsSchema:i,outputsSchema:a,metadata:s}={}){const o={name:e,description:n,extra:s?{metadata:s}:void 0};r&&(o.data_type=r),i&&(o.inputs_schema_definition=i),a&&(o.outputs_schema_definition=a);const l=JSON.stringify(o);return await(await this.caller.call(async()=>{const f=await this._fetch(`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Re(f,"create dataset"),f})).json()}async readDataset({datasetId:e,datasetName:n}){let r="/datasets";const i=new URLSearchParams({limit:"1"});if(e&&n)throw new Error("Must provide either datasetName or datasetId, not both");if(e)Ye(e),r+=`/${e}`;else if(n)i.append("name",n);else throw new Error("Must provide datasetName or datasetId");const a=await this._get(r,i);let s;if(Array.isArray(a)){if(a.length===0)throw new Error(`Dataset[id=${e}, name=${n}] not found`);s=a[0]}else s=a;return s}async hasDataset({datasetId:e,datasetName:n}){try{return await this.readDataset({datasetId:e,datasetName:n}),!0}catch(r){if(r instanceof Error&&r.message.toLocaleLowerCase().includes("not found"))return!1;throw r}}async diffDatasetVersions({datasetId:e,datasetName:n,fromVersion:r,toVersion:i}){let a=e;if(a===void 0&&n===void 0)throw new Error("Must provide either datasetName or datasetId");if(a!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");a===void 0&&(a=(await this.readDataset({datasetName:n})).id);const s=new URLSearchParams({from_version:typeof r=="string"?r:r.toISOString(),to_version:typeof i=="string"?i:i.toISOString()});return await this._get(`/datasets/${a}/versions/diff`,s)}async readDatasetOpenaiFinetuning({datasetId:e,datasetName:n}){const r="/datasets";if(e===void 0)if(n!==void 0)e=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide either datasetName or datasetId");return(await(await this._getResponse(`${r}/${e}/openai_ft`)).text()).trim().split(`
`).map(o=>JSON.parse(o))}async*listDatasets({limit:e=100,offset:n=0,datasetIds:r,datasetName:i,datasetNameContains:a,metadata:s}={}){const o="/datasets",l=new URLSearchParams({limit:e.toString(),offset:n.toString()});if(r!==void 0)for(const c of r)l.append("id",c);i!==void 0&&l.append("name",i),a!==void 0&&l.append("name_contains",a),s!==void 0&&l.append("metadata",JSON.stringify(s));for await(const c of this._getPaginated(o,l))yield*c}async updateDataset(e){const{datasetId:n,datasetName:r,...i}=e;if(!n&&!r)throw new Error("Must provide either datasetName or datasetId");const a=n??(await this.readDataset({datasetName:r})).id;Ye(a);const s=JSON.stringify(i);return await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/datasets/${a}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Re(l,"update dataset"),l})).json()}async updateDatasetTag(e){const{datasetId:n,datasetName:r,asOf:i,tag:a}=e;if(!n&&!r)throw new Error("Must provide either datasetName or datasetId");const s=n??(await this.readDataset({datasetName:r})).id;Ye(s);const o=JSON.stringify({as_of:typeof i=="string"?i:i.toISOString(),tag:a});await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/datasets/${s}/tags`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Re(l,"update dataset tags",!0),l})}async deleteDataset({datasetId:e,datasetName:n}){let r="/datasets",i=e;if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(n!==void 0&&(i=(await this.readDataset({datasetName:n})).id),i!==void 0)Ye(i),r+=`/${i}`;else throw new Error("Must provide datasetName or datasetId");await this.caller.call(async()=>{const a=await this._fetch(this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(a,`delete ${r}`,!0),a})}async indexDataset({datasetId:e,datasetName:n,tag:r}){let i=e;if(!i&&!n)throw new Error("Must provide either datasetName or datasetId");if(i&&n)throw new Error("Must provide either datasetName or datasetId, not both");i||(i=(await this.readDataset({datasetName:n})).id),Ye(i);const s=JSON.stringify({tag:r});await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/datasets/${i}/index`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Re(l,"index dataset"),l})).json()}async similarExamples(e,n,r,{filter:i}={}){const a={limit:r,inputs:e};i!==void 0&&(a.filter=i),Ye(n);const s=JSON.stringify(a);return(await(await this.caller.call(async()=>{const c=await this._fetch(`${this.apiUrl}/datasets/${n}/search`,{headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,method:"POST",body:s});return await Re(c,"fetch similar examples"),c})).json()).examples}async createExample(e,n,r){var d;if(E$(e)&&(n!==void 0||r!==void 0))throw new Error("Cannot provide outputs or options when using ExampleCreate object");let i=n?r==null?void 0:r.datasetId:e.dataset_id;const a=n?r==null?void 0:r.datasetName:e.dataset_name;if(i===void 0&&a===void 0)throw new Error("Must provide either datasetName or datasetId");if(i!==void 0&&a!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");i===void 0&&(i=(await this.readDataset({datasetName:a})).id);const s=(n?r==null?void 0:r.createdAt:e.created_at)||new Date;let o;E$(e)?o=e:o={inputs:e,outputs:n,created_at:s==null?void 0:s.toISOString(),id:r==null?void 0:r.exampleId,metadata:r==null?void 0:r.metadata,split:r==null?void 0:r.split,source_run_id:r==null?void 0:r.sourceRunId,use_source_run_io:r==null?void 0:r.useSourceRunIO,use_source_run_attachments:r==null?void 0:r.useSourceRunAttachments,attachments:r==null?void 0:r.attachments};const l=await this._uploadExamplesMultipart(i,[o]);return await this.readExample(((d=l.example_ids)==null?void 0:d[0])??Er())}async createExamples(e){if(Array.isArray(e)){if(e.length===0)return[];const v=e;let y=v[0].dataset_id;const w=v[0].dataset_name;if(y===void 0&&w===void 0)throw new Error("Must provide either datasetName or datasetId");if(y!==void 0&&w!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");y===void 0&&(y=(await this.readDataset({datasetName:w})).id);const _=await this._uploadExamplesMultipart(y,v);return await Promise.all(_.example_ids.map(A=>this.readExample(A)))}const{inputs:n,outputs:r,metadata:i,splits:a,sourceRunIds:s,useSourceRunIOs:o,useSourceRunAttachments:l,attachments:c,exampleIds:d,datasetId:f,datasetName:h}=e;if(n===void 0)throw new Error("Must provide inputs when using legacy parameters");let p=f;const m=h;if(p===void 0&&m===void 0)throw new Error("Must provide either datasetName or datasetId");if(p!==void 0&&m!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");p===void 0&&(p=(await this.readDataset({datasetName:m})).id);const g=n.map((v,y)=>({dataset_id:p,inputs:v,outputs:r==null?void 0:r[y],metadata:i==null?void 0:i[y],split:a==null?void 0:a[y],id:d==null?void 0:d[y],attachments:c==null?void 0:c[y],source_run_id:s==null?void 0:s[y],use_source_run_io:o==null?void 0:o[y],use_source_run_attachments:l==null?void 0:l[y]})),b=await this._uploadExamplesMultipart(p,g);return await Promise.all(b.example_ids.map(v=>this.readExample(v)))}async createLLMExample(e,n,r){return this.createExample({input:e},{output:n},r)}async createChatExample(e,n,r){const i=e.map(s=>Z2(s)?J2(s):s),a=Z2(n)?J2(n):n;return this.createExample({input:i},{output:a},r)}async readExample(e){Ye(e);const n=`/examples/${e}`,r=await this._get(n),{attachment_urls:i,...a}=r,s=a;return i&&(s.attachments=Object.entries(i).reduce((o,[l,c])=>(o[l.slice(11)]={presigned_url:c.presigned_url,mime_type:c.mime_type},o),{})),s}async*listExamples({datasetId:e,datasetName:n,exampleIds:r,asOf:i,splits:a,inlineS3Urls:s,metadata:o,limit:l,offset:c,filter:d,includeAttachments:f}={}){let h;if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)h=e;else if(n!==void 0)h=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide a datasetName or datasetId");const p=new URLSearchParams({dataset:h}),m=i?typeof i=="string"?i:i==null?void 0:i.toISOString():void 0;m&&p.append("as_of",m);const g=s??!0;if(p.append("inline_s3_urls",g.toString()),r!==void 0)for(const x of r)p.append("id",x);if(a!==void 0)for(const x of a)p.append("splits",x);if(o!==void 0){const x=JSON.stringify(o);p.append("metadata",x)}l!==void 0&&p.append("limit",l.toString()),c!==void 0&&p.append("offset",c.toString()),d!==void 0&&p.append("filter",d),f===!0&&["attachment_urls","outputs","metadata"].forEach(x=>p.append("select",x));let b=0;for await(const x of this._getPaginated("/examples",p)){for(const v of x){const{attachment_urls:y,...w}=v,_=w;y&&(_.attachments=Object.entries(y).reduce((E,[A,j])=>(E[A.slice(11)]={presigned_url:j.presigned_url,mime_type:j.mime_type||void 0},E),{})),yield _,b++}if(l!==void 0&&b>=l)break}}async deleteExample(e){Ye(e);const n=`/examples/${e}`;await this.caller.call(async()=>{const r=await this._fetch(this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(r,`delete ${n}`,!0),r})}async updateExample(e,n){let r;n?r=e:r=e.id,Ye(r);let i;n?i={id:r,...n}:i=e;let a;return i.dataset_id!==void 0?a=i.dataset_id:a=(await this.readExample(r)).dataset_id,this._updateExamplesMultipart(a,[i])}async updateExamples(e){let n;return e[0].dataset_id===void 0?n=(await this.readExample(e[0].id)).dataset_id:n=e[0].dataset_id,this._updateExamplesMultipart(n,e)}async readDatasetVersion({datasetId:e,datasetName:n,asOf:r,tag:i}){let a;if(e?a=e:a=(await this.readDataset({datasetName:n})).id,Ye(a),r&&i||!r&&!i)throw new Error("Exactly one of asOf and tag must be specified.");const s=new URLSearchParams;return r!==void 0&&s.append("as_of",typeof r=="string"?r:r.toISOString()),i!==void 0&&s.append("tag",i),await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/datasets/${a}/version?${s.toString()}`,{method:"GET",headers:{...this.headers},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(l,"read dataset version"),l})).json()}async listDatasetSplits({datasetId:e,datasetName:n,asOf:r}){let i;if(e===void 0&&n===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?i=(await this.readDataset({datasetName:n})).id:i=e,Ye(i);const a=new URLSearchParams,s=r?typeof r=="string"?r:r==null?void 0:r.toISOString():void 0;return s&&a.append("as_of",s),await this._get(`/datasets/${i}/splits`,a)}async updateDatasetSplits({datasetId:e,datasetName:n,splitName:r,exampleIds:i,remove:a=!1}){let s;if(e===void 0&&n===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?s=(await this.readDataset({datasetName:n})).id:s=e,Ye(s);const o={split_name:r,examples:i.map(c=>(Ye(c),c)),remove:a},l=JSON.stringify(o);await this.caller.call(async()=>{const c=await this._fetch(`${this.apiUrl}/datasets/${s}/splits`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Re(c,"update dataset splits",!0),c})}async evaluateRun(e,n,{sourceInfo:r,loadChildRuns:i,referenceExample:a}={loadChildRuns:!1}){HE("This method is deprecated and will be removed in future LangSmith versions, use `evaluate` from `langsmith/evaluation` instead.");let s;if(typeof e=="string")s=await this.readRun(e,{loadChildRuns:i});else if(typeof e=="object"&&"id"in e)s=e;else throw new Error(`Invalid run type: ${typeof e}`);s.reference_example_id!==null&&s.reference_example_id!==void 0&&(a=await this.readExample(s.reference_example_id));const o=await n.evaluateRun(s,a),[l,c]=await this._logEvaluationFeedback(o,s,r);return c[0]}async createFeedback(e,n,{score:r,value:i,correction:a,comment:s,sourceInfo:o,feedbackSourceType:l="api",sourceRunId:c,feedbackId:d,feedbackConfig:f,projectId:h,comparativeExperimentId:p}){var v;if(!e&&!h)throw new Error("One of runId or projectId must be provided");if(e&&h)throw new Error("Only one of runId or projectId can be provided");const m={type:l??"api",metadata:o??{}};c!==void 0&&(m==null?void 0:m.metadata)!==void 0&&!m.metadata.__run&&(m.metadata.__run={run_id:c}),(m==null?void 0:m.metadata)!==void 0&&((v=m.metadata.__run)==null?void 0:v.run_id)!==void 0&&Ye(m.metadata.__run.run_id);const g={id:d??Er(),run_id:e,key:n,score:_$(r),value:i,correction:a,comment:s,feedback_source:m,comparative_experiment_id:p,feedbackConfig:f,session_id:h},b=JSON.stringify(g),x=`${this.apiUrl}/feedback`;return await this.caller.call(async()=>{const y=await this._fetch(x,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:b});return await Re(y,"create feedback",!0),y}),g}async updateFeedback(e,{score:n,value:r,correction:i,comment:a}){const s={};n!=null&&(s.score=_$(n)),r!=null&&(s.value=r),i!=null&&(s.correction=i),a!=null&&(s.comment=a),Ye(e);const o=JSON.stringify(s);await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/feedback/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Re(l,"update feedback",!0),l})}async readFeedback(e){Ye(e);const n=`/feedback/${e}`;return await this._get(n)}async deleteFeedback(e){Ye(e);const n=`/feedback/${e}`;await this.caller.call(async()=>{const r=await this._fetch(this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(r,`delete ${n}`,!0),r})}async*listFeedback({runIds:e,feedbackKeys:n,feedbackSourceTypes:r}={}){const i=new URLSearchParams;if(e)for(const a of e)Ye(a),i.append("run",a);if(n)for(const a of n)i.append("key",a);if(r)for(const a of r)i.append("source",a);for await(const a of this._getPaginated("/feedback",i))yield*a}async createPresignedFeedbackToken(e,n,{expiration:r,feedbackConfig:i}={}){const a={run_id:e,feedback_key:n,feedback_config:i};r?typeof r=="string"?a.expires_at=r:(r!=null&&r.hours||r!=null&&r.minutes||r!=null&&r.days)&&(a.expires_in=r):a.expires_in={hours:3};const s=JSON.stringify(a);return await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Re(l,"create presigned feedback token"),l})).json()}async createComparativeExperiment({name:e,experimentIds:n,referenceDatasetId:r,createdAt:i,description:a,metadata:s,id:o}){var f;if(n.length===0)throw new Error("At least one experiment is required");if(r||(r=(await this.readProject({projectId:n[0]})).reference_dataset_id),!r==null)throw new Error("A reference dataset is required");const l={id:o,name:e,experiment_ids:n,reference_dataset_id:r,description:a,created_at:(f=i??new Date)==null?void 0:f.toISOString(),extra:{}};s&&(l.extra.metadata=s);const c=JSON.stringify(l);return(await this.caller.call(async()=>{const h=await this._fetch(`${this.apiUrl}/datasets/comparative`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await Re(h,"create comparative experiment"),h})).json()}async*listPresignedFeedbackTokens(e){Ye(e);const n=new URLSearchParams({run_id:e});for await(const r of this._getPaginated("/feedback/tokens",n))yield*r}_selectEvalResults(e){let n;return"results"in e?n=e.results:Array.isArray(e)?n=e:n=[e],n}async _logEvaluationFeedback(e,n,r){const i=this._selectEvalResults(e),a=[];for(const s of i){let o=r||{};s.evaluatorInfo&&(o={...s.evaluatorInfo,...o});let l=null;s.targetRunId?l=s.targetRunId:n&&(l=n.id),a.push(await this.createFeedback(l,s.key,{score:s.score,value:s.value,comment:s.comment,correction:s.correction,sourceInfo:o,sourceRunId:s.sourceRunId,feedbackConfig:s.feedbackConfig,feedbackSourceType:"model"}))}return[i,a]}async logEvaluationFeedback(e,n,r){const[i]=await this._logEvaluationFeedback(e,n,r);return i}async*listAnnotationQueues(e={}){const{queueIds:n,name:r,nameContains:i,limit:a}=e,s=new URLSearchParams;n&&n.forEach((l,c)=>{Ye(l,`queueIds[${c}]`),s.append("ids",l)}),r&&s.append("name",r),i&&s.append("name_contains",i),s.append("limit",(a!==void 0?Math.min(a,100):100).toString());let o=0;for await(const l of this._getPaginated("/annotation-queues",s))if(yield*l,o++,a!==void 0&&o>=a)break}async createAnnotationQueue(e){const{name:n,description:r,queueId:i,rubricInstructions:a}=e,s={name:n,description:r,id:i||Er(),rubric_instructions:a},o=JSON.stringify(Object.fromEntries(Object.entries(s).filter(([c,d])=>d!==void 0)));return(await this.caller.call(async()=>{const c=await this._fetch(`${this.apiUrl}/annotation-queues`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Re(c,"create annotation queue"),c})).json()}async readAnnotationQueue(e){return(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(r,"read annotation queue"),r})).json()}async updateAnnotationQueue(e,n){const{name:r,description:i,rubricInstructions:a}=n,s=JSON.stringify({name:r,description:i,rubric_instructions:a});await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Re(o,"update annotation queue",!0),o})}async deleteAnnotationQueue(e){await this.caller.call(async()=>{const n=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(n,"delete annotation queue",!0),n})}async addRunsToAnnotationQueue(e,n){const r=JSON.stringify(n.map((i,a)=>Ye(i,`runIds[${a}]`).toString()));await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}/runs`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Re(i,"add runs to annotation queue",!0),i})}async getRunFromAnnotationQueue(e,n){const r=`/annotation-queues/${Ye(e,"queueId")}/run`;return(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}${r}/${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(a,"get run from annotation queue"),a})).json()}async deleteRunFromAnnotationQueue(e,n){await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}/runs/${Ye(n,"queueRunId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(r,"delete run from annotation queue",!0),r})}async getSizeFromAnnotationQueue(e){return(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}/size`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(r,"get size from annotation queue"),r})).json()}async _currentTenantIsOwner(e){const n=await this._getSettings();return e=="-"||n.tenant_handle===e}async _ownerConflictError(e,n){const r=await this._getSettings();return new Error(`Cannot ${e} for another tenant.

      Current tenant: ${r.tenant_handle}

      Requested tenant: ${n}`)}async _getLatestCommitHash(e){const r=await(await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/commits/${e}/?limit=1&offset=0`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(i,"get latest commit hash"),i})).json();if(r.commits.length!==0)return r.commits[0].commit_hash}async _likeOrUnlikePrompt(e,n){const[r,i,a]=wo(e),s=JSON.stringify({like:n});return(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/likes/${r}/${i}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Re(l,`${n?"like":"unlike"} prompt`),l})).json()}async _getPromptUrl(e){const[n,r,i]=wo(e);if(await this._currentTenantIsOwner(n)){const a=await this._getSettings();return i!=="latest"?`${this.getHostUrl()}/prompts/${r}/${i.substring(0,8)}?organizationId=${a.id}`:`${this.getHostUrl()}/prompts/${r}?organizationId=${a.id}`}else return i!=="latest"?`${this.getHostUrl()}/hub/${n}/${r}/${i.substring(0,8)}`:`${this.getHostUrl()}/hub/${n}/${r}`}async promptExists(e){return!!await this.getPrompt(e)}async likePrompt(e){return this._likeOrUnlikePrompt(e,!0)}async unlikePrompt(e){return this._likeOrUnlikePrompt(e,!1)}async*listCommits(e){for await(const n of this._getPaginated(`/commits/${e}/`,new URLSearchParams,r=>r.commits))yield*n}async*listPrompts(e){const n=new URLSearchParams;n.append("sort_field",(e==null?void 0:e.sortField)??"updated_at"),n.append("sort_direction","desc"),n.append("is_archived",(!!(e!=null&&e.isArchived)).toString()),(e==null?void 0:e.isPublic)!==void 0&&n.append("is_public",e.isPublic.toString()),e!=null&&e.query&&n.append("query",e.query);for await(const r of this._getPaginated("/repos",n,i=>i.repos))yield*r}async getPrompt(e){const[n,r,i]=wo(e),a=await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/repos/${n}/${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return(o==null?void 0:o.status)===404?null:(await Re(o,"get prompt"),o)}),s=await(a==null?void 0:a.json());return s!=null&&s.repo?s.repo:null}async createPrompt(e,n){const r=await this._getSettings();if(n!=null&&n.isPublic&&!r.tenant_handle)throw new Error(`Cannot create a public prompt without first

        creating a LangChain Hub handle.
        You can add a handle by creating a public prompt at:

        https://smith.langchain.com/prompts`);const[i,a,s]=wo(e);if(!await this._currentTenantIsOwner(i))throw await this._ownerConflictError("create a prompt",i);const o={repo_handle:a,...(n==null?void 0:n.description)&&{description:n.description},...(n==null?void 0:n.readme)&&{readme:n.readme},...(n==null?void 0:n.tags)&&{tags:n.tags},is_public:!!(n!=null&&n.isPublic)},l=JSON.stringify(o),c=await this.caller.call(async()=>{const f=await this._fetch(`${this.apiUrl}/repos/`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Re(f,"create prompt"),f}),{repo:d}=await c.json();return d}async createCommit(e,n,r){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[i,a,s]=wo(e),o=(r==null?void 0:r.parentCommitHash)==="latest"||!(r!=null&&r.parentCommitHash)?await this._getLatestCommitHash(`${i}/${a}`):r==null?void 0:r.parentCommitHash,l={manifest:JSON.parse(JSON.stringify(n)),parent_commit:o},c=JSON.stringify(l),f=await(await this.caller.call(async()=>{const h=await this._fetch(`${this.apiUrl}/commits/${i}/${a}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await Re(h,"create commit"),h})).json();return this._getPromptUrl(`${i}/${a}${f.commit_hash?`:${f.commit_hash}`:""}`)}async updateExamplesMultipart(e,n=[]){return this._updateExamplesMultipart(e,n)}async _updateExamplesMultipart(e,n=[]){var s;if(!await this._getDatasetExamplesMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const r=new FormData;for(const o of n){const l=o.id,c={...o.metadata&&{metadata:o.metadata},...o.split&&{split:o.split}},d=Ur(c,`Serializing body for example with id: ${l}`),f=new Blob([d],{type:"application/json"});if(r.append(l,f),o.inputs){const h=Ur(o.inputs,`Serializing inputs for example with id: ${l}`),p=new Blob([h],{type:"application/json"});r.append(`${l}.inputs`,p)}if(o.outputs){const h=Ur(o.outputs,`Serializing outputs whle updating example with id: ${l}`),p=new Blob([h],{type:"application/json"});r.append(`${l}.outputs`,p)}if(o.attachments)for(const[h,p]of Object.entries(o.attachments)){let m,g;Array.isArray(p)?[m,g]=p:(m=p.mimeType,g=p.data);const b=new Blob([g],{type:`${m}; length=${g.byteLength}`});r.append(`${l}.attachment.${h}`,b)}if(o.attachments_operations){const h=Ur(o.attachments_operations,`Serializing attachments while updating example with id: ${l}`),p=new Blob([h],{type:"application/json"});r.append(`${l}.attachments_operations`,p)}}const i=e??((s=n[0])==null?void 0:s.dataset_id);return(await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${i}/examples`)}`,{method:"PATCH",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Re(o,"update examples"),o})).json()}async uploadExamplesMultipart(e,n=[]){return this._uploadExamplesMultipart(e,n)}async _uploadExamplesMultipart(e,n=[]){if(!await this._getDatasetExamplesMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const r=new FormData;for(const a of n){const s=(a.id??Er()).toString(),o={created_at:a.created_at,...a.metadata&&{metadata:a.metadata},...a.split&&{split:a.split},...a.source_run_id&&{source_run_id:a.source_run_id},...a.use_source_run_io&&{use_source_run_io:a.use_source_run_io},...a.use_source_run_attachments&&{use_source_run_attachments:a.use_source_run_attachments}},l=Ur(o,`Serializing body for uploaded example with id: ${s}`),c=new Blob([l],{type:"application/json"});if(r.append(s,c),a.inputs){const d=Ur(a.inputs,`Serializing inputs for uploaded example with id: ${s}`),f=new Blob([d],{type:"application/json"});r.append(`${s}.inputs`,f)}if(a.outputs){const d=Ur(a.outputs,`Serializing outputs for uploaded example with id: ${s}`),f=new Blob([d],{type:"application/json"});r.append(`${s}.outputs`,f)}if(a.attachments)for(const[d,f]of Object.entries(a.attachments)){let h,p;Array.isArray(f)?[h,p]=f:(h=f.mimeType,p=f.data);const m=new Blob([p],{type:`${h}; length=${p.byteLength}`});r.append(`${s}.attachment.${d}`,m)}}return(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${e}/examples`)}`,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Re(a,"upload examples"),a})).json()}async updatePrompt(e,n){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[r,i]=wo(e);if(!await this._currentTenantIsOwner(r))throw await this._ownerConflictError("update a prompt",r);const a={};if((n==null?void 0:n.description)!==void 0&&(a.description=n.description),(n==null?void 0:n.readme)!==void 0&&(a.readme=n.readme),(n==null?void 0:n.tags)!==void 0&&(a.tags=n.tags),(n==null?void 0:n.isPublic)!==void 0&&(a.is_public=n.isPublic),(n==null?void 0:n.isArchived)!==void 0&&(a.is_archived=n.isArchived),Object.keys(a).length===0)throw new Error("No valid update options provided");const s=JSON.stringify(a);return(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/repos/${r}/${i}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Re(l,"update prompt"),l})).json()}async deletePrompt(e){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[n,r,i]=wo(e);if(!await this._currentTenantIsOwner(n))throw await this._ownerConflictError("delete a prompt",n);return(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/repos/${n}/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(s,"delete prompt"),s})).json()}async pullPromptCommit(e,n){const[r,i,a]=wo(e),o=await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/commits/${r}/${i}/${a}${n!=null&&n.includeModel?"?include_model=true":""}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(l,"pull prompt commit"),l})).json();return{owner:r,repo:i,commit_hash:o.commit_hash,manifest:o.manifest,examples:o.examples}}async _pullPrompt(e,n){const r=await this.pullPromptCommit(e,{includeModel:n==null?void 0:n.includeModel});return JSON.stringify(r.manifest)}async pushPrompt(e,n){return await this.promptExists(e)?n&&Object.keys(n).some(i=>i!=="object")&&await this.updatePrompt(e,{description:n==null?void 0:n.description,readme:n==null?void 0:n.readme,tags:n==null?void 0:n.tags,isPublic:n==null?void 0:n.isPublic}):await this.createPrompt(e,{description:n==null?void 0:n.description,readme:n==null?void 0:n.readme,tags:n==null?void 0:n.tags,isPublic:n==null?void 0:n.isPublic}),n!=null&&n.object?await this.createCommit(e,n==null?void 0:n.object,{parentCommitHash:n==null?void 0:n.parentCommitHash}):await this._getPromptUrl(e)}async clonePublicDataset(e,n={}){const{sourceApiUrl:r=this.apiUrl,datasetName:i}=n,[a,s]=this.parseTokenOrUrl(e,r),o=new Gd({apiUrl:a,apiKey:"placeholder"}),l=await o.readSharedDataset(s),c=i||l.name;try{if(await this.hasDataset({datasetId:c})){console.log(`Dataset ${c} already exists in your tenant. Skipping.`);return}}catch{}const d=await o.listSharedExamples(s),f=await this.createDataset(c,{description:l.description,dataType:l.data_type||"kv",inputsSchema:l.inputs_schema_definition??void 0,outputsSchema:l.outputs_schema_definition??void 0});try{await this.createExamples({inputs:d.map(h=>h.inputs),outputs:d.flatMap(h=>h.outputs?[h.outputs]:[]),datasetId:f.id})}catch(h){throw console.error(`An error occurred while creating dataset ${c}. You should delete it manually.`),h}}parseTokenOrUrl(e,n,r=2,i="dataset"){try{return Ye(e),[n,e]}catch{}try{const s=new URL(e).pathname.split("/").filter(o=>o!=="");if(s.length>=r){const o=s[s.length-r];return[n,o]}else throw new Error(`Invalid public ${i} URL: ${e}`)}catch{throw new Error(`Invalid public ${i} URL or token: ${e}`)}}async awaitPendingTraceBatches(){var e,n;if(this.manualFlushMode)return console.warn("[WARNING]: When tracing in manual flush mode, you must call `await client.flush()` manually to submit trace batches."),Promise.resolve();await Promise.all([...this.autoBatchQueue.items.map(({itemPromise:r})=>r),this.batchIngestCaller.queue.onIdle()]),this.langSmithToOTELTranslator!==void 0&&await((n=(e=yue())==null?void 0:e.DEFAULT_LANGSMITH_SPAN_PROCESSOR)==null?void 0:n.forceFlush())}}function E$(t){return"dataset_id"in t||"dataset_name"in t}const Yhe=t=>!!["TRACING_V2","TRACING"].find(n=>jr(n)==="true"),sl=Symbol.for("lc:context_variables"),t1=Symbol.for("langsmith:replica_trace_roots");function j$(t,e){if(sl in t)return t[sl][e]}function Xhe(t,e,n){const r=sl in t?t[sl]:{};r[e]=n,t[sl]=r}const vh=36,Fh="6ba7b810-9dad-11d1-80b4-00c04fd430c8";function A$(t){const n=Object.keys(t).sort().map(r=>`${r}:${t[r]??""}`).join("|");return Lh(n,Fh)}function Zhe(t){return t.replace(/[-:.]/g,"")}function u6(t,e=1){const n=e.toFixed(0).slice(0,3).padStart(3,"0");return`${new Date(t).toISOString().slice(0,-1)}${n}Z`}function d6(t,e,n=1){const r=u6(t,n);return{dottedOrder:Zhe(r)+e,microsecondPrecisionDatestring:r}}class c0{constructor(e,n,r,i){Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.metadata=e,this.tags=n,this.project_name=r,this.replicas=i}static fromHeader(e){const n=e.split(",");let r={},i=[],a,s;for(const o of n){const[l,c]=o.split("="),d=decodeURIComponent(c);l==="langsmith-metadata"?r=JSON.parse(d):l==="langsmith-tags"?i=d.split(","):l==="langsmith-project"?a=d:l==="langsmith-replicas"&&(s=JSON.parse(d))}return new c0(r,i,a,s)}toHeader(){const e=[];return this.metadata&&Object.keys(this.metadata).length>0&&e.push(`langsmith-metadata=${encodeURIComponent(JSON.stringify(this.metadata))}`),this.tags&&this.tags.length>0&&e.push(`langsmith-tags=${encodeURIComponent(this.tags.join(","))}`),this.project_name&&e.push(`langsmith-project=${encodeURIComponent(this.project_name)}`),e.join(",")}}class br{constructor(e){var o;if(Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"run_type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_runs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"end_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extra",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reference_example_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dotted_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"attachments",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"distributedParentId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_serialized_start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Jhe(e)){Object.assign(this,{...e});return}const n=br.getDefaultConfig(),{metadata:r,...i}=e,a=i.client??br.getSharedClient(),s={...r,...(o=i==null?void 0:i.extra)==null?void 0:o.metadata};if(i.extra={...i.extra,metadata:s},"id"in i&&i.id==null&&delete i.id,Object.assign(this,{...n,...i,client:a}),this.execution_order??(this.execution_order=1),this.child_execution_order??(this.child_execution_order=1),this.dotted_order||(this._serialized_start_time=u6(this.start_time,this.execution_order)),this.id||(this.id=rue(this._serialized_start_time??this.start_time)),this.trace_id||(this.parent_run?this.trace_id=this.parent_run.trace_id??this.id:this.trace_id=this.id),this.replicas=npe(this.replicas),!this.dotted_order){const{dottedOrder:l}=d6(this.start_time,this.id,this.execution_order);this.parent_run?this.dotted_order=this.parent_run.dotted_order+"."+l:this.dotted_order=l}}set metadata(e){var n;this.extra={...this.extra,metadata:{...(n=this.extra)==null?void 0:n.metadata,...e}}}get metadata(){var e;return(e=this.extra)==null?void 0:e.metadata}static getDefaultConfig(){const e=Date.now();return{run_type:"chain",project_name:BU(),child_runs:[],api_url:ds("LANGCHAIN_ENDPOINT")??"http://localhost:1984",api_key:ds("LANGCHAIN_API_KEY"),caller_options:{},start_time:e,serialized:{},inputs:{},extra:{}}}static getSharedClient(){return br.sharedClient||(br.sharedClient=new Gd),br.sharedClient}createChild(e){var d,f,h,p,m,g,b;const n=this.child_execution_order+1,r=(d=this.replicas)==null?void 0:d.map(x=>{const{reroot:v,...y}=x;return y}),i=e.replicas??r,a=new br({...e,parent_run:this,project_name:this.project_name,replicas:i,client:this.client,tracingEnabled:this.tracingEnabled,execution_order:n,child_execution_order:n});sl in this&&(a[sl]=this[sl]);const s=Symbol.for("lc:child_config"),o=((f=e.extra)==null?void 0:f[s])??this.extra[s];if(epe(o)){const x={...o},v=Qhe(x.callbacks)?(p=(h=x.callbacks).copy)==null?void 0:p.call(h):void 0;v&&(Object.assign(v,{_parentRunId:a.id}),(b=(g=(m=v.handlers)==null?void 0:m.find(f6))==null?void 0:g.updateFromRunTree)==null||b.call(g,a),x.callbacks=v),a.extra[s]=x}const l=new Set;let c=this;for(;c!=null&&!l.has(c.id);)l.add(c.id),c.child_execution_order=Math.max(c.child_execution_order,n),c=c.parent_run;return this.child_runs.push(a),a}async end(e,n,r=Date.now(),i){this.outputs=this.outputs??e,this.error=this.error??n,this.end_time=this.end_time??r,i&&Object.keys(i).length>0&&(this.extra=this.extra?{...this.extra,metadata:{...this.extra.metadata,...i}}:{metadata:i})}_convertToCreate(e,n,r=!0){var o,l;const i=e.extra??{};if(((o=i==null?void 0:i.runtime)==null?void 0:o.library)===void 0&&(i.runtime||(i.runtime={}),n))for(const[c,d]of Object.entries(n))i.runtime[c]||(i.runtime[c]=d);let a,s;return r?(s=((l=e.parent_run)==null?void 0:l.id)??e.parent_run_id,a=[]):(a=e.child_runs.map(c=>this._convertToCreate(c,n,r)),s=void 0),{id:e.id,name:e.name,start_time:e._serialized_start_time??e.start_time,end_time:e.end_time,run_type:e.run_type,reference_example_id:e.reference_example_id,extra:i,serialized:e.serialized,error:e.error,inputs:e.inputs,outputs:e.outputs,session_name:e.project_name,child_runs:a,parent_run_id:s,trace_id:e.trace_id,dotted_order:e.dotted_order,tags:e.tags,attachments:e.attachments,events:e.events}}_sliceParentId(e,n){if(n.dotted_order){const r=n.dotted_order.split(".");let i=null;for(let a=0;a<r.length;a++)if(r[a].slice(-vh)===e){i=a;break}if(i!==null){const a=r.slice(i+1);n.dotted_order=a.join("."),a.length>0?n.trace_id=a[0].slice(-vh):n.trace_id=n.id}}n.parent_run_id===e&&(n.parent_run_id=void 0)}_setReplicaTraceRoot(e,n){const r=j$(this,t1)??{};r[e]=n,Xhe(this,t1,r);for(const i of this.child_runs)i._setReplicaTraceRoot(e,n)}_remapForProject(e){const{projectName:n,runtimeEnv:r,excludeChildRuns:i=!0,reroot:a=!1,distributedParentId:s,apiUrl:o,apiKey:l,workspaceId:c}=e,d=this._convertToCreate(this,r,i);if(n===this.project_name)return{...d,session_name:n};if(a){if(s)this._sliceParentId(s,d);else if(d.parent_run_id=void 0,d.dotted_order){const v=d.dotted_order.split(".");v.length>0&&(d.dotted_order=v[v.length-1],d.trace_id=d.id)}const x=A$({projectName:n,apiUrl:o,apiKey:l,workspaceId:c});this._setReplicaTraceRoot(x,d.id)}let f;if(!a){const x=j$(this,t1)??{},v=A$({projectName:n,apiUrl:o,apiKey:l,workspaceId:c});if(f=x[v],f&&(d.trace_id=f,d.dotted_order)){const y=d.dotted_order.split(".");let w=null;for(let _=0;_<y.length;_++)if(y[_].slice(-vh)===f){w=_;break}if(w!==null){const _=y.slice(w);d.dotted_order=_.join(".")}}}const h=d.id,p=Lh(`${h}:${n}`,Fh);let m;d.trace_id?m=Lh(`${d.trace_id}:${n}`,Fh):m=p;let g;d.parent_run_id&&(g=Lh(`${d.parent_run_id}:${n}`,Fh));let b;return d.dotted_order&&(b=d.dotted_order.split(".").map(y=>{const w=y.slice(-vh),_=Lh(`${w}:${n}`,Fh);return y.slice(0,-vh)+_}).join(".")),{...d,id:p,trace_id:m,parent_run_id:g,dotted_order:b,session_name:n}}async postRun(e=!0){try{const n=VU();if(this.replicas&&this.replicas.length>0)for(const{projectName:r,apiKey:i,apiUrl:a,workspaceId:s,reroot:o}of this.replicas){const l=this._remapForProject({projectName:r??this.project_name,runtimeEnv:n,excludeChildRuns:!0,reroot:o,distributedParentId:this.distributedParentId,apiUrl:a,apiKey:i,workspaceId:s});await this.client.createRun(l,{apiKey:i,apiUrl:a,workspaceId:s})}else{const r=this._convertToCreate(this,n,e);await this.client.createRun(r)}if(!e){HE("Posting with excludeChildRuns=false is deprecated and will be removed in a future version.");for(const r of this.child_runs)await r.postRun(!1)}}catch(n){console.error(`Error in postRun for run ${this.id}:`,n)}}async patchRun(e){var n;if(this.replicas&&this.replicas.length>0)for(const{projectName:r,apiKey:i,apiUrl:a,workspaceId:s,updates:o,reroot:l}of this.replicas){const c=this._remapForProject({projectName:r??this.project_name,runtimeEnv:void 0,excludeChildRuns:!0,reroot:l,distributedParentId:this.distributedParentId,apiUrl:a,apiKey:i,workspaceId:s}),d={id:c.id,name:c.name,run_type:c.run_type,start_time:c.start_time,outputs:c.outputs,error:c.error,parent_run_id:c.parent_run_id,session_name:c.session_name,reference_example_id:c.reference_example_id,end_time:c.end_time,dotted_order:c.dotted_order,trace_id:c.trace_id,events:c.events,tags:c.tags,extra:c.extra,attachments:this.attachments,...o};e!=null&&e.excludeInputs||(d.inputs=c.inputs),await this.client.updateRun(c.id,d,{apiKey:i,apiUrl:a,workspaceId:s})}else try{const r={name:this.name,run_type:this.run_type,start_time:this._serialized_start_time??this.start_time,end_time:this.end_time,error:this.error,outputs:this.outputs,parent_run_id:((n=this.parent_run)==null?void 0:n.id)??this.parent_run_id,reference_example_id:this.reference_example_id,extra:this.extra,events:this.events,dotted_order:this.dotted_order,trace_id:this.trace_id,tags:this.tags,attachments:this.attachments,session_name:this.project_name};e!=null&&e.excludeInputs||(r.inputs=this.inputs),await this.client.updateRun(this.id,r)}catch(r){console.error(`Error in patchRun for run ${this.id}`,r)}}toJSON(){return this._convertToCreate(this,void 0,!1)}addEvent(e){this.events||(this.events=[]),typeof e=="string"?this.events.push({name:"event",time:new Date().toISOString(),message:e}):this.events.push({...e,time:e.time??new Date().toISOString()})}static fromRunnableConfig(e,n){var c,d,f,h;const r=e==null?void 0:e.callbacks;let i,a,s,o=Yhe();if(r){const p=((c=r==null?void 0:r.getParentRunId)==null?void 0:c.call(r))??"",m=(d=r==null?void 0:r.handlers)==null?void 0:d.find(g=>(g==null?void 0:g.name)=="langchain_tracer");i=(f=m==null?void 0:m.getRun)==null?void 0:f.call(m,p),a=m==null?void 0:m.projectName,s=m==null?void 0:m.client,o=o||!!m}return i?new br({name:i.name,id:i.id,trace_id:i.trace_id,dotted_order:i.dotted_order,client:s,tracingEnabled:o,project_name:a,tags:[...new Set(((i==null?void 0:i.tags)??[]).concat((e==null?void 0:e.tags)??[]))],extra:{metadata:{...(h=i==null?void 0:i.extra)==null?void 0:h.metadata,...e==null?void 0:e.metadata}}}).createChild(n):new br({...n,client:s,tracingEnabled:o,project_name:a})}static fromDottedOrder(e){return this.fromHeaders({"langsmith-trace":e})}static fromHeaders(e,n){var d;const r="get"in e&&typeof e.get=="function"?{"langsmith-trace":e.get("langsmith-trace"),baggage:e.get("baggage")}:e,i=r["langsmith-trace"];if(!i||typeof i!="string")return;const a=i.trim(),s=a.split(".").map(f=>{const[h,p]=f.split("Z");return{strTime:h,time:Date.parse(h+"Z"),uuid:p}}),o=s[0].uuid,l={...n,name:(n==null?void 0:n.name)??"parent",run_type:(n==null?void 0:n.run_type)??"chain",start_time:(n==null?void 0:n.start_time)??Date.now(),id:(d=s.at(-1))==null?void 0:d.uuid,trace_id:o,dotted_order:a};if(r.baggage&&typeof r.baggage=="string"){const f=c0.fromHeader(r.baggage);l.metadata=f.metadata,l.tags=f.tags,l.project_name=f.project_name,l.replicas=f.replicas}const c=new br(l);return c.distributedParentId=c.id,c}toHeaders(e){var r;const n={"langsmith-trace":this.dotted_order,baggage:new c0((r=this.extra)==null?void 0:r.metadata,this.tags,this.project_name,this.replicas).toHeader()};if(e)for(const[i,a]of Object.entries(n))e.set(i,a);return n}}Object.defineProperty(br,"sharedClient",{enumerable:!0,configurable:!0,writable:!0,value:null});function Jhe(t){return t!=null&&typeof t.createChild=="function"&&typeof t.postRun=="function"}function f6(t){return typeof t=="object"&&t!=null&&typeof t.name=="string"&&t.name==="langchain_tracer"}function T$(t){return Array.isArray(t)&&t.some(e=>f6(e))}function Qhe(t){return typeof t=="object"&&t!=null&&Array.isArray(t.handlers)}function epe(t){var e;return t!=null&&typeof t.callbacks=="object"&&(T$((e=t.callbacks)==null?void 0:e.handlers)||T$(t.callbacks))}function tpe(){const t=ds("LANGSMITH_RUNS_ENDPOINTS");if(!t)return[];try{const e=JSON.parse(t);if(Array.isArray(e)){const n=[];for(const r of e){if(typeof r!="object"||r===null){console.warn(`Invalid item type in LANGSMITH_RUNS_ENDPOINTS: expected object, got ${typeof r}`);continue}if(typeof r.api_url!="string"){console.warn(`Invalid api_url type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof r.api_url}`);continue}if(typeof r.api_key!="string"){console.warn(`Invalid api_key type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof r.api_key}`);continue}n.push({apiUrl:r.api_url.replace(/\/$/,""),apiKey:r.api_key})}return n}else if(typeof e=="object"&&e!==null){rpe(e);const n=[];for(const[r,i]of Object.entries(e)){const a=r.replace(/\/$/,"");if(typeof i=="string")n.push({apiUrl:a,apiKey:i});else{console.warn(`Invalid value type in LANGSMITH_RUNS_ENDPOINTS for URL ${r}: expected string, got ${typeof i}`);continue}}return n}else return console.warn(`Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of objects with api_url and api_key properties, or object mapping url->apiKey, got ${typeof e}`),[]}catch(e){if(Rhe(e))throw e;return console.warn("Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of objects with api_url and api_key properties, or object mapping url->apiKey"),[]}}function npe(t){return t?t.map(e=>Array.isArray(e)?{projectName:e[0],updates:e[1]}:e):tpe()}function rpe(t){if(Object.keys(t).length>0&&jr("ENDPOINT"))throw new $he}var ipe={};bt(ipe,{BaseTracer:()=>Ff,isBaseTracer:()=>$u});const ape=t=>{if(t)return t.events=t.events??[],t.child_runs=t.child_runs??[],t};function qE(t,e){if(t)return new br({...t,start_time:t._serialized_start_time??t.start_time,parent_run:qE(e),child_runs:t.child_runs.map(n=>qE(n)).filter(n=>n!==void 0),extra:{...t.extra,runtime:RU()},tracingEnabled:!1})}function n1(t,e){return t&&!Array.isArray(t)&&typeof t=="object"?t:{[e]:t}}function $u(t){return typeof t._addRunToRunMap=="function"}var Ff=class extends ug{constructor(e){super(...arguments);H(this,"runMap",new Map);H(this,"runTreeMap",new Map);H(this,"usesRunTreeMap",!1)}copy(){return this}getRunById(e){if(e!==void 0)return this.usesRunTreeMap?ape(this.runTreeMap.get(e)):this.runMap.get(e)}stringifyError(e){return e instanceof Error?e.message+(e!=null&&e.stack?`

${e.stack}`:""):typeof e=="string"?e:`${e}`}_addChildRun(e,n){e.child_runs.push(n)}_addRunToRunMap(e){const{dottedOrder:n,microsecondPrecisionDatestring:r}=d6(new Date(e.start_time).getTime(),e.id,e.execution_order),i={...e},a=this.getRunById(i.parent_run_id);if(i.parent_run_id!==void 0?a&&(this._addChildRun(a,i),a.child_execution_order=Math.max(a.child_execution_order,i.child_execution_order),i.trace_id=a.trace_id,a.dotted_order!==void 0&&(i.dotted_order=[a.dotted_order,n].join("."),i._serialized_start_time=r)):(i.trace_id=i.id,i.dotted_order=n,i._serialized_start_time=r),this.usesRunTreeMap){const s=qE(i,a);s!==void 0&&this.runTreeMap.set(i.id,s)}else this.runMap.set(i.id,i);return i}async _endTrace(e){var r;const n=e.parent_run_id!==void 0&&this.getRunById(e.parent_run_id);n?n.child_execution_order=Math.max(n.child_execution_order,e.child_execution_order):await this.persistRun(e),await((r=this.onRunUpdate)==null?void 0:r.call(this,e)),this.usesRunTreeMap?this.runTreeMap.delete(e.id):this.runMap.delete(e.id)}_getExecutionOrder(e){const n=e!==void 0&&this.getRunById(e);return n?n.child_execution_order+1:1}_createRunForLLMStart(e,n,r,i,a,s,o,l){const c=this._getExecutionOrder(i),d=Date.now(),f=o?{...a,metadata:o}:a,h={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:{prompts:n},execution_order:c,child_runs:[],child_execution_order:c,run_type:"llm",extra:f??{},tags:s||[]};return this._addRunToRunMap(h)}async handleLLMStart(e,n,r,i,a,s,o,l){var d,f;const c=this.getRunById(r)??this._createRunForLLMStart(e,n,r,i,a,s,o,l);return await((d=this.onRunCreate)==null?void 0:d.call(this,c)),await((f=this.onLLMStart)==null?void 0:f.call(this,c)),c}_createRunForChatModelStart(e,n,r,i,a,s,o,l){const c=this._getExecutionOrder(i),d=Date.now(),f=o?{...a,metadata:o}:a,h={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:{messages:n},execution_order:c,child_runs:[],child_execution_order:c,run_type:"llm",extra:f??{},tags:s||[]};return this._addRunToRunMap(h)}async handleChatModelStart(e,n,r,i,a,s,o,l){var d,f;const c=this.getRunById(r)??this._createRunForChatModelStart(e,n,r,i,a,s,o,l);return await((d=this.onRunCreate)==null?void 0:d.call(this,c)),await((f=this.onLLMStart)==null?void 0:f.call(this,c)),c}async handleLLMEnd(e,n,r,i,a){var o;const s=this.getRunById(n);if(!s||(s==null?void 0:s.run_type)!=="llm")throw new Error("No LLM run to end.");return s.end_time=Date.now(),s.outputs=e,s.events.push({name:"end",time:new Date(s.end_time).toISOString()}),s.extra={...s.extra,...a},await((o=this.onLLMEnd)==null?void 0:o.call(this,s)),await this._endTrace(s),s}async handleLLMError(e,n,r,i,a){var o;const s=this.getRunById(n);if(!s||(s==null?void 0:s.run_type)!=="llm")throw new Error("No LLM run to end.");return s.end_time=Date.now(),s.error=this.stringifyError(e),s.events.push({name:"error",time:new Date(s.end_time).toISOString()}),s.extra={...s.extra,...a},await((o=this.onLLMError)==null?void 0:o.call(this,s)),await this._endTrace(s),s}_createRunForChainStart(e,n,r,i,a,s,o,l){const c=this._getExecutionOrder(i),d=Date.now(),f={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:n,execution_order:c,child_execution_order:c,run_type:o??"chain",child_runs:[],extra:s?{metadata:s}:{},tags:a||[]};return this._addRunToRunMap(f)}async handleChainStart(e,n,r,i,a,s,o,l){var d,f;const c=this.getRunById(r)??this._createRunForChainStart(e,n,r,i,a,s,o,l);return await((d=this.onRunCreate)==null?void 0:d.call(this,c)),await((f=this.onChainStart)==null?void 0:f.call(this,c)),c}async handleChainEnd(e,n,r,i,a){var o;const s=this.getRunById(n);if(!s)throw new Error("No chain run to end.");return s.end_time=Date.now(),s.outputs=n1(e,"output"),s.events.push({name:"end",time:new Date(s.end_time).toISOString()}),(a==null?void 0:a.inputs)!==void 0&&(s.inputs=n1(a.inputs,"input")),await((o=this.onChainEnd)==null?void 0:o.call(this,s)),await this._endTrace(s),s}async handleChainError(e,n,r,i,a){var o;const s=this.getRunById(n);if(!s)throw new Error("No chain run to end.");return s.end_time=Date.now(),s.error=this.stringifyError(e),s.events.push({name:"error",time:new Date(s.end_time).toISOString()}),(a==null?void 0:a.inputs)!==void 0&&(s.inputs=n1(a.inputs,"input")),await((o=this.onChainError)==null?void 0:o.call(this,s)),await this._endTrace(s),s}_createRunForToolStart(e,n,r,i,a,s,o){const l=this._getExecutionOrder(i),c=Date.now(),d={id:r,name:o??e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{input:n},execution_order:l,child_execution_order:l,run_type:"tool",child_runs:[],extra:s?{metadata:s}:{},tags:a||[]};return this._addRunToRunMap(d)}async handleToolStart(e,n,r,i,a,s,o){var c,d;const l=this.getRunById(r)??this._createRunForToolStart(e,n,r,i,a,s,o);return await((c=this.onRunCreate)==null?void 0:c.call(this,l)),await((d=this.onToolStart)==null?void 0:d.call(this,l)),l}async handleToolEnd(e,n){var i;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.outputs={output:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((i=this.onToolEnd)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleToolError(e,n){var i;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((i=this.onToolError)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleAgentAction(e,n){var a;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="chain")return;const i=r;i.actions=i.actions||[],i.actions.push(e),i.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:e}}),await((a=this.onAgentAction)==null?void 0:a.call(this,r))}async handleAgentEnd(e,n){var i;const r=this.getRunById(n);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:e}}),await((i=this.onAgentEnd)==null?void 0:i.call(this,r)))}_createRunForRetrieverStart(e,n,r,i,a,s,o){const l=this._getExecutionOrder(i),c=Date.now(),d={id:r,name:o??e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{query:n},execution_order:l,child_execution_order:l,run_type:"retriever",child_runs:[],extra:s?{metadata:s}:{},tags:a||[]};return this._addRunToRunMap(d)}async handleRetrieverStart(e,n,r,i,a,s,o){var c,d;const l=this.getRunById(r)??this._createRunForRetrieverStart(e,n,r,i,a,s,o);return await((c=this.onRunCreate)==null?void 0:c.call(this,l)),await((d=this.onRetrieverStart)==null?void 0:d.call(this,l)),l}async handleRetrieverEnd(e,n){var i;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.outputs={documents:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((i=this.onRetrieverEnd)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleRetrieverError(e,n){var i;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((i=this.onRetrieverError)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleText(e,n){var i;const r=this.getRunById(n);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:e}}),await((i=this.onText)==null?void 0:i.call(this,r)))}async handleLLMNewToken(e,n,r,i,a,s){var l;const o=this.getRunById(r);if(!o||(o==null?void 0:o.run_type)!=="llm")throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return o.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:e,idx:n,chunk:s==null?void 0:s.chunk}}),await((l=this.onLLMNewToken)==null?void 0:l.call(this,o,e,{chunk:s==null?void 0:s.chunk})),o}},_C={exports:{}};_C.exports;(function(t){const n=(a=0)=>s=>`\x1B[${38+a};5;${s}m`,r=(a=0)=>(s,o,l)=>`\x1B[${38+a};2;${s};${o};${l}m`;function i(){const a=new Map,s={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};s.color.gray=s.color.blackBright,s.bgColor.bgGray=s.bgColor.bgBlackBright,s.color.grey=s.color.blackBright,s.bgColor.bgGrey=s.bgColor.bgBlackBright;for(const[o,l]of Object.entries(s)){for(const[c,d]of Object.entries(l))s[c]={open:`\x1B[${d[0]}m`,close:`\x1B[${d[1]}m`},l[c]=s[c],a.set(d[0],d[1]);Object.defineProperty(s,o,{value:l,enumerable:!1})}return Object.defineProperty(s,"codes",{value:a,enumerable:!1}),s.color.close="\x1B[39m",s.bgColor.close="\x1B[49m",s.color.ansi256=n(),s.color.ansi16m=r(),s.bgColor.ansi256=n(10),s.bgColor.ansi16m=r(10),Object.defineProperties(s,{rgbToAnsi256:{value:(o,l,c)=>o===l&&l===c?o<8?16:o>248?231:Math.round((o-8)/247*24)+232:16+36*Math.round(o/255*5)+6*Math.round(l/255*5)+Math.round(c/255*5),enumerable:!1},hexToRgb:{value:o=>{const l=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(o.toString(16));if(!l)return[0,0,0];let{colorString:c}=l.groups;c.length===3&&(c=c.split("").map(f=>f+f).join(""));const d=Number.parseInt(c,16);return[d>>16&255,d>>8&255,d&255]},enumerable:!1},hexToAnsi256:{value:o=>s.rgbToAnsi256(...s.hexToRgb(o)),enumerable:!1}}),s}Object.defineProperty(t,"exports",{enumerable:!0,get:i})})(_C);var spe=_C.exports;const h6=at(spe);var ope={};bt(ope,{ConsoleCallbackHandler:()=>GE});function nr(t,e){return`${t.open}${e}${t.close}`}function vi(t,e){try{return JSON.stringify(t,null,2)}catch{return e}}function k$(t){return typeof t=="string"?t.trim():t==null?t:vi(t,t.toString())}function _o(t){if(!t.end_time)return"";const e=t.end_time-t.start_time;return e<1e3?`${e}ms`:`${(e/1e3).toFixed(2)}s`}const{color:vr}=h6;var GE=class extends Ff{constructor(){super(...arguments);H(this,"name","console_callback_handler")}persistRun(e){return Promise.resolve()}getParents(e){const n=[];let r=e;for(;r.parent_run_id;){const i=this.runMap.get(r.parent_run_id);if(i)n.push(i),r=i;else break}return n}getBreadcrumbs(e){const r=[...this.getParents(e).reverse(),e].map((i,a,s)=>{const o=`${i.execution_order}:${i.run_type}:${i.name}`;return a===s.length-1?nr(h6.bold,o):o}).join(" > ");return nr(vr.grey,r)}onChainStart(e){const n=this.getBreadcrumbs(e);console.log(`${nr(vr.green,"[chain/start]")} [${n}] Entering Chain run with input: ${vi(e.inputs,"[inputs]")}`)}onChainEnd(e){const n=this.getBreadcrumbs(e);console.log(`${nr(vr.cyan,"[chain/end]")} [${n}] [${_o(e)}] Exiting Chain run with output: ${vi(e.outputs,"[outputs]")}`)}onChainError(e){const n=this.getBreadcrumbs(e);console.log(`${nr(vr.red,"[chain/error]")} [${n}] [${_o(e)}] Chain run errored with error: ${vi(e.error,"[error]")}`)}onLLMStart(e){const n=this.getBreadcrumbs(e),r="prompts"in e.inputs?{prompts:e.inputs.prompts.map(i=>i.trim())}:e.inputs;console.log(`${nr(vr.green,"[llm/start]")} [${n}] Entering LLM run with input: ${vi(r,"[inputs]")}`)}onLLMEnd(e){const n=this.getBreadcrumbs(e);console.log(`${nr(vr.cyan,"[llm/end]")} [${n}] [${_o(e)}] Exiting LLM run with output: ${vi(e.outputs,"[response]")}`)}onLLMError(e){const n=this.getBreadcrumbs(e);console.log(`${nr(vr.red,"[llm/error]")} [${n}] [${_o(e)}] LLM run errored with error: ${vi(e.error,"[error]")}`)}onToolStart(e){const n=this.getBreadcrumbs(e);console.log(`${nr(vr.green,"[tool/start]")} [${n}] Entering Tool run with input: "${k$(e.inputs.input)}"`)}onToolEnd(e){var r;const n=this.getBreadcrumbs(e);console.log(`${nr(vr.cyan,"[tool/end]")} [${n}] [${_o(e)}] Exiting Tool run with output: "${k$((r=e.outputs)==null?void 0:r.output)}"`)}onToolError(e){const n=this.getBreadcrumbs(e);console.log(`${nr(vr.red,"[tool/error]")} [${n}] [${_o(e)}] Tool run errored with error: ${vi(e.error,"[error]")}`)}onRetrieverStart(e){const n=this.getBreadcrumbs(e);console.log(`${nr(vr.green,"[retriever/start]")} [${n}] Entering Retriever run with input: ${vi(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){const n=this.getBreadcrumbs(e);console.log(`${nr(vr.cyan,"[retriever/end]")} [${n}] [${_o(e)}] Exiting Retriever run with output: ${vi(e.outputs,"[outputs]")}`)}onRetrieverError(e){const n=this.getBreadcrumbs(e);console.log(`${nr(vr.red,"[retriever/error]")} [${n}] [${_o(e)}] Retriever run errored with error: ${vi(e.error,"[error]")}`)}onAgentAction(e){const n=e,r=this.getBreadcrumbs(e);console.log(`${nr(vr.blue,"[agent/action]")} [${r}] Agent selected action: ${vi(n.actions[n.actions.length-1],"[action]")}`)}};let r1;const p6=()=>{if(r1===void 0){const t=Fs("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"?{blockOnRootRunFinalization:!0}:{};r1=new Gd(t)}return r1};let lpe=class{getStore(){}run(e,n){return n()}};const i1=Symbol.for("ls:tracing_async_local_storage"),cpe=new lpe;let upe=class{getInstance(){return globalThis[i1]??cpe}initializeGlobalInstance(e){globalThis[i1]===void 0&&(globalThis[i1]=e)}};const dpe=new upe;function fpe(t=!1){const e=dpe.getInstance().getStore();if(!t&&e===void 0)throw new Error(`Could not get the current run tree.

Please make sure you are calling this method within a traceable function and that tracing is enabled.`);return e}function SC(t){return typeof t=="function"&&"langsmith:traceable"in t}var hpe={};bt(hpe,{LangChainTracer:()=>cp});var cp=class m6 extends Ff{constructor(n={}){super(n);H(this,"name","langchain_tracer");H(this,"projectName");H(this,"exampleId");H(this,"client");H(this,"replicas");H(this,"usesRunTreeMap",!0);const{exampleId:r,projectName:i,client:a,replicas:s}=n;this.projectName=i??BU(),this.replicas=s,this.exampleId=r,this.client=a??p6();const o=m6.getTraceableRunTree();o&&this.updateFromRunTree(o)}async persistRun(n){}async onRunCreate(n){const r=this.getRunTreeWithTracingConfig(n.id);await(r==null?void 0:r.postRun())}async onRunUpdate(n){const r=this.getRunTreeWithTracingConfig(n.id);await(r==null?void 0:r.patchRun())}getRun(n){return this.runTreeMap.get(n)}updateFromRunTree(n){this.runTreeMap.set(n.id,n);let r=n;const i=new Set;for(;r.parent_run&&!(i.has(r.id)||(i.add(r.id),!r.parent_run));)r=r.parent_run;i.clear();const a=[r];for(;a.length>0;){const s=a.shift();!s||i.has(s.id)||(i.add(s.id),this.runTreeMap.set(s.id,s),s.child_runs&&a.push(...s.child_runs))}this.client=n.client??this.client,this.replicas=n.replicas??this.replicas,this.projectName=n.project_name??this.projectName,this.exampleId=n.reference_example_id??this.exampleId}getRunTreeWithTracingConfig(n){const r=this.runTreeMap.get(n);if(r)return new br({...r,client:this.client,project_name:this.projectName,replicas:this.replicas,reference_example_id:this.exampleId,tracingEnabled:!0})}static getTraceableRunTree(){try{return fpe(!0)}catch{return}}};const g6=Symbol.for("ls:tracing_async_local_storage"),up=Symbol.for("lc:context_variables"),ppe=t=>{globalThis[g6]=t},tm=()=>globalThis[g6];let jc;function mpe(){const t="default"in Bs?Bs.default:Bs;return new t({autoStart:!0,concurrency:1})}function gpe(){return typeof jc>"u"&&(jc=mpe()),jc}async function gn(t,e){if(e===!0){const n=tm();n!==void 0?await n.run(void 0,async()=>t()):await t()}else jc=gpe(),jc.add(async()=>{const n=tm();n!==void 0?await n.run(void 0,async()=>t()):await t()})}async function ype(){const t=p6();await Promise.allSettled([typeof jc<"u"?jc.onIdle():Promise.resolve(),t.awaitPendingTraceBatches()])}var vpe={};bt(vpe,{awaitAllCallbacks:()=>ype,consumeCallback:()=>gn});const xpe=t=>!!["LANGSMITH_TRACING_V2","LANGCHAIN_TRACING_V2","LANGSMITH_TRACING","LANGCHAIN_TRACING"].find(n=>Fs(n)==="true");function y6(t){var r;const e=tm();if(e===void 0)return;const n=e.getStore();return(r=n==null?void 0:n[up])==null?void 0:r[t]}const bpe=Symbol("lc:configure_hooks"),wpe=()=>y6(bpe)||[];var _pe={};bt(_pe,{BaseCallbackManager:()=>v6,BaseRunManager:()=>fg,CallbackManager:()=>is,CallbackManagerForChainRun:()=>b6,CallbackManagerForLLMRun:()=>KE,CallbackManagerForRetrieverRun:()=>x6,CallbackManagerForToolRun:()=>w6,ensureHandler:()=>nm,parseCallbackConfigArg:()=>Spe});function Spe(t){return t?Array.isArray(t)||"name"in t?{callbacks:t}:t:{}}var v6=class{setHandler(t){return this.setHandlers([t])}},fg=class{constructor(t,e,n,r,i,a,s,o){this.runId=t,this.handlers=e,this.inheritableHandlers=n,this.tags=r,this.inheritableTags=i,this.metadata=a,this.inheritableMetadata=s,this._parentRunId=o}get parentRunId(){return this._parentRunId}async handleText(t){await Promise.all(this.handlers.map(e=>gn(async()=>{var n;try{await((n=e.handleText)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleText: ${r}`),e.raiseError)throw r}},e.awaitHandlers)))}async handleCustomEvent(t,e,n,r,i){await Promise.all(this.handlers.map(a=>gn(async()=>{var s;try{await((s=a.handleCustomEvent)==null?void 0:s.call(a,t,e,this.runId,this.tags,this.metadata))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleCustomEvent: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}},x6=class extends fg{getChild(t){const e=new is(this.runId);return e.setHandlers(this.inheritableHandlers),e.addTags(this.inheritableTags),e.addMetadata(this.inheritableMetadata),t&&e.addTags([t],!1),e}async handleRetrieverEnd(t){await Promise.all(this.handlers.map(e=>gn(async()=>{var n;if(!e.ignoreRetriever)try{await((n=e.handleRetrieverEnd)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleRetriever`),e.raiseError)throw r}},e.awaitHandlers)))}async handleRetrieverError(t){await Promise.all(this.handlers.map(e=>gn(async()=>{var n;if(!e.ignoreRetriever)try{await((n=e.handleRetrieverError)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleRetrieverError: ${r}`),e.raiseError)throw t}},e.awaitHandlers)))}},KE=class extends fg{async handleLLMNewToken(t,e,n,r,i,a){await Promise.all(this.handlers.map(s=>gn(async()=>{var o;if(!s.ignoreLLM)try{await((o=s.handleLLMNewToken)==null?void 0:o.call(s,t,e??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,a))}catch(l){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleLLMNewToken: ${l}`),s.raiseError)throw l}},s.awaitHandlers)))}async handleLLMError(t,e,n,r,i){await Promise.all(this.handlers.map(a=>gn(async()=>{var s;if(!a.ignoreLLM)try{await((s=a.handleLLMError)==null?void 0:s.call(a,t,this.runId,this._parentRunId,this.tags,i))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleLLMError: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}async handleLLMEnd(t,e,n,r,i){await Promise.all(this.handlers.map(a=>gn(async()=>{var s;if(!a.ignoreLLM)try{await((s=a.handleLLMEnd)==null?void 0:s.call(a,t,this.runId,this._parentRunId,this.tags,i))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleLLMEnd: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}},b6=class extends fg{getChild(t){const e=new is(this.runId);return e.setHandlers(this.inheritableHandlers),e.addTags(this.inheritableTags),e.addMetadata(this.inheritableMetadata),t&&e.addTags([t],!1),e}async handleChainError(t,e,n,r,i){await Promise.all(this.handlers.map(a=>gn(async()=>{var s;if(!a.ignoreChain)try{await((s=a.handleChainError)==null?void 0:s.call(a,t,this.runId,this._parentRunId,this.tags,i))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleChainError: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}async handleChainEnd(t,e,n,r,i){await Promise.all(this.handlers.map(a=>gn(async()=>{var s;if(!a.ignoreChain)try{await((s=a.handleChainEnd)==null?void 0:s.call(a,t,this.runId,this._parentRunId,this.tags,i))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleChainEnd: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}async handleAgentAction(t){await Promise.all(this.handlers.map(e=>gn(async()=>{var n;if(!e.ignoreAgent)try{await((n=e.handleAgentAction)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleAgentAction: ${r}`),e.raiseError)throw r}},e.awaitHandlers)))}async handleAgentEnd(t){await Promise.all(this.handlers.map(e=>gn(async()=>{var n;if(!e.ignoreAgent)try{await((n=e.handleAgentEnd)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleAgentEnd: ${r}`),e.raiseError)throw r}},e.awaitHandlers)))}},w6=class extends fg{getChild(t){const e=new is(this.runId);return e.setHandlers(this.inheritableHandlers),e.addTags(this.inheritableTags),e.addMetadata(this.inheritableMetadata),t&&e.addTags([t],!1),e}async handleToolError(t){await Promise.all(this.handlers.map(e=>gn(async()=>{var n;if(!e.ignoreAgent)try{await((n=e.handleToolError)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleToolError: ${r}`),e.raiseError)throw r}},e.awaitHandlers)))}async handleToolEnd(t){await Promise.all(this.handlers.map(e=>gn(async()=>{var n;if(!e.ignoreAgent)try{await((n=e.handleToolEnd)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleToolEnd: ${r}`),e.raiseError)throw r}},e.awaitHandlers)))}},is=class Bh extends v6{constructor(n,r){super();H(this,"handlers",[]);H(this,"inheritableHandlers",[]);H(this,"tags",[]);H(this,"inheritableTags",[]);H(this,"metadata",{});H(this,"inheritableMetadata",{});H(this,"name","callback_manager");H(this,"_parentRunId");this.handlers=(r==null?void 0:r.handlers)??this.handlers,this.inheritableHandlers=(r==null?void 0:r.inheritableHandlers)??this.inheritableHandlers,this.tags=(r==null?void 0:r.tags)??this.tags,this.inheritableTags=(r==null?void 0:r.inheritableTags)??this.inheritableTags,this.metadata=(r==null?void 0:r.metadata)??this.metadata,this.inheritableMetadata=(r==null?void 0:r.inheritableMetadata)??this.inheritableMetadata,this._parentRunId=n}getParentRunId(){return this._parentRunId}async handleLLMStart(n,r,i=void 0,a=void 0,s=void 0,o=void 0,l=void 0,c=void 0){return Promise.all(r.map(async(d,f)=>{const h=f===0&&i?i:Er();return await Promise.all(this.handlers.map(p=>{if(!p.ignoreLLM)return $u(p)&&p._createRunForLLMStart(n,[d],h,this._parentRunId,s,this.tags,this.metadata,c),gn(async()=>{var m;try{await((m=p.handleLLMStart)==null?void 0:m.call(p,n,[d],h,this._parentRunId,s,this.tags,this.metadata,c))}catch(g){if((p.raiseError?console.error:console.warn)(`Error in handler ${p.constructor.name}, handleLLMStart: ${g}`),p.raiseError)throw g}},p.awaitHandlers)})),new KE(h,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(n,r,i=void 0,a=void 0,s=void 0,o=void 0,l=void 0,c=void 0){return Promise.all(r.map(async(d,f)=>{const h=f===0&&i?i:Er();return await Promise.all(this.handlers.map(p=>{if(!p.ignoreLLM)return $u(p)&&p._createRunForChatModelStart(n,[d],h,this._parentRunId,s,this.tags,this.metadata,c),gn(async()=>{var m,g;try{if(p.handleChatModelStart)await((m=p.handleChatModelStart)==null?void 0:m.call(p,n,[d],h,this._parentRunId,s,this.tags,this.metadata,c));else if(p.handleLLMStart){const b=lC(d);await((g=p.handleLLMStart)==null?void 0:g.call(p,n,[b],h,this._parentRunId,s,this.tags,this.metadata,c))}}catch(b){if((p.raiseError?console.error:console.warn)(`Error in handler ${p.constructor.name}, handleLLMStart: ${b}`),p.raiseError)throw b}},p.awaitHandlers)})),new KE(h,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(n,r,i=Er(),a=void 0,s=void 0,o=void 0,l=void 0){return await Promise.all(this.handlers.map(c=>{if(!c.ignoreChain)return $u(c)&&c._createRunForChainStart(n,r,i,this._parentRunId,this.tags,this.metadata,a,l),gn(async()=>{var d;try{await((d=c.handleChainStart)==null?void 0:d.call(c,n,r,i,this._parentRunId,this.tags,this.metadata,a,l))}catch(f){if((c.raiseError?console.error:console.warn)(`Error in handler ${c.constructor.name}, handleChainStart: ${f}`),c.raiseError)throw f}},c.awaitHandlers)})),new b6(i,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(n,r,i=Er(),a=void 0,s=void 0,o=void 0,l=void 0){return await Promise.all(this.handlers.map(c=>{if(!c.ignoreAgent)return $u(c)&&c._createRunForToolStart(n,r,i,this._parentRunId,this.tags,this.metadata,l),gn(async()=>{var d;try{await((d=c.handleToolStart)==null?void 0:d.call(c,n,r,i,this._parentRunId,this.tags,this.metadata,l))}catch(f){if((c.raiseError?console.error:console.warn)(`Error in handler ${c.constructor.name}, handleToolStart: ${f}`),c.raiseError)throw f}},c.awaitHandlers)})),new w6(i,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(n,r,i=Er(),a=void 0,s=void 0,o=void 0,l=void 0){return await Promise.all(this.handlers.map(c=>{if(!c.ignoreRetriever)return $u(c)&&c._createRunForRetrieverStart(n,r,i,this._parentRunId,this.tags,this.metadata,l),gn(async()=>{var d;try{await((d=c.handleRetrieverStart)==null?void 0:d.call(c,n,r,i,this._parentRunId,this.tags,this.metadata,l))}catch(f){if((c.raiseError?console.error:console.warn)(`Error in handler ${c.constructor.name}, handleRetrieverStart: ${f}`),c.raiseError)throw f}},c.awaitHandlers)})),new x6(i,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleCustomEvent(n,r,i,a,s){await Promise.all(this.handlers.map(o=>gn(async()=>{var l;if(!o.ignoreCustomEvent)try{await((l=o.handleCustomEvent)==null?void 0:l.call(o,n,r,i,this.tags,this.metadata))}catch(c){if((o.raiseError?console.error:console.warn)(`Error in handler ${o.constructor.name}, handleCustomEvent: ${c}`),o.raiseError)throw c}},o.awaitHandlers)))}addHandler(n,r=!0){this.handlers.push(n),r&&this.inheritableHandlers.push(n)}removeHandler(n){this.handlers=this.handlers.filter(r=>r!==n),this.inheritableHandlers=this.inheritableHandlers.filter(r=>r!==n)}setHandlers(n,r=!0){this.handlers=[],this.inheritableHandlers=[];for(const i of n)this.addHandler(i,r)}addTags(n,r=!0){this.removeTags(n),this.tags.push(...n),r&&this.inheritableTags.push(...n)}removeTags(n){this.tags=this.tags.filter(r=>!n.includes(r)),this.inheritableTags=this.inheritableTags.filter(r=>!n.includes(r))}addMetadata(n,r=!0){this.metadata={...this.metadata,...n},r&&(this.inheritableMetadata={...this.inheritableMetadata,...n})}removeMetadata(n){for(const r of Object.keys(n))delete this.metadata[r],delete this.inheritableMetadata[r]}copy(n=[],r=!0){const i=new Bh(this._parentRunId);for(const a of this.handlers){const s=this.inheritableHandlers.includes(a);i.addHandler(a,s)}for(const a of this.tags){const s=this.inheritableTags.includes(a);i.addTags([a],s)}for(const a of Object.keys(this.metadata)){const s=Object.keys(this.inheritableMetadata).includes(a);i.addMetadata({[a]:this.metadata[a]},s)}for(const a of n)i.handlers.filter(s=>s.name==="console_callback_handler").some(s=>s.name===a.name)||i.addHandler(a,r);return i}static fromHandlers(n){class r extends ug{constructor(){super();H(this,"name",Er());Object.assign(this,n)}}const i=new this;return i.addHandler(new r),i}static configure(n,r,i,a,s,o,l){return this._configureSync(n,r,i,a,s,o,l)}static _configureSync(n,r,i,a,s,o,l){var p;let c;(n||r)&&(Array.isArray(n)||!n?(c=new Bh,c.setHandlers((n==null?void 0:n.map(nm))??[],!0)):c=n,c=c.copy(Array.isArray(r)?r.map(nm):r==null?void 0:r.handlers,!1));const d=Fs("LANGCHAIN_VERBOSE")==="true"||(l==null?void 0:l.verbose),f=((p=cp.getTraceableRunTree())==null?void 0:p.tracingEnabled)||xpe(),h=f||(Fs("LANGCHAIN_TRACING")??!1);if(d||h){if(c||(c=new Bh),d&&!c.handlers.some(m=>m.name===GE.prototype.name)){const m=new GE;c.addHandler(m,!0)}if(h&&!c.handlers.some(m=>m.name==="langchain_tracer")&&f){const m=new cp;c.addHandler(m,!0)}if(f){const m=cp.getTraceableRunTree();if(m&&c._parentRunId===void 0){c._parentRunId=m.id;const g=c.handlers.find(b=>b.name==="langchain_tracer");g==null||g.updateFromRunTree(m)}}}for(const{contextVar:m,inheritable:g=!0,handlerClass:b,envVar:x}of wpe()){const v=x&&Fs(x)==="true"&&b;let y;const w=m!==void 0?y6(m):void 0;w&&LU(w)?y=w:v&&(y=new b({})),y!==void 0&&(c||(c=new Bh),c.handlers.some(_=>_.name===y.name)||c.addHandler(y,g))}return(i||a)&&c&&(c.addTags(i??[]),c.addTags(a??[],!1)),(s||o)&&c&&(c.addMetadata(s??{}),c.addMetadata(o??{},!1)),c}};function nm(t){return"name"in t?t:ug.fromMethods(t)}var _6=class{getStore(){}run(t,e){return e()}enterWith(t){}};const Epe=new _6,C$=Symbol.for("lc:child_config");var jpe=class{getInstance(){return tm()??Epe}getRunnableConfig(){var e,n;return(n=(e=this.getInstance().getStore())==null?void 0:e.extra)==null?void 0:n[C$]}runWithConfig(t,e,n){var c;const r=is._configureSync(t==null?void 0:t.callbacks,void 0,t==null?void 0:t.tags,void 0,t==null?void 0:t.metadata),i=this.getInstance(),a=i.getStore(),s=r==null?void 0:r.getParentRunId(),o=(c=r==null?void 0:r.handlers)==null?void 0:c.find(d=>(d==null?void 0:d.name)==="langchain_tracer");let l;return o&&s?l=o.getRunTreeWithTracingConfig(s):n||(l=new br({name:"<runnable_lambda>",tracingEnabled:!1})),l&&(l.extra={...l.extra,[C$]:t}),a!==void 0&&a[up]!==void 0&&(l===void 0&&(l={}),l[up]=a[up]),i.run(l,e)}initializeGlobalInstance(t){tm()===void 0&&ppe(t)}};const ro=new jpe;var Ape={};bt(Ape,{AsyncLocalStorageProviderSingleton:()=>ro,MockAsyncLocalStorage:()=>_6,_CONTEXT_VARIABLES_KEY:()=>up});const a1=25;async function ii(t){return is._configureSync(t==null?void 0:t.callbacks,void 0,t==null?void 0:t.tags,void 0,t==null?void 0:t.metadata)}function YE(...t){const e={};for(const n of t.filter(r=>!!r))for(const r of Object.keys(n))if(r==="metadata")e[r]={...e[r],...n[r]};else if(r==="tags"){const i=e[r]??[];e[r]=[...new Set(i.concat(n[r]??[]))]}else if(r==="configurable")e[r]={...e[r],...n[r]};else if(r==="timeout")e.timeout===void 0?e.timeout=n.timeout:n.timeout!==void 0&&(e.timeout=Math.min(e.timeout,n.timeout));else if(r==="signal")e.signal===void 0?e.signal=n.signal:n.signal!==void 0&&("any"in AbortSignal?e.signal=AbortSignal.any([e.signal,n.signal]):e.signal=n.signal);else if(r==="callbacks"){const i=e.callbacks,a=n.callbacks;if(Array.isArray(a))if(!i)e.callbacks=a;else if(Array.isArray(i))e.callbacks=i.concat(a);else{const s=i.copy();for(const o of a)s.addHandler(nm(o),!0);e.callbacks=s}else if(a)if(!i)e.callbacks=a;else if(Array.isArray(i)){const s=a.copy();for(const o of i)s.addHandler(nm(o),!0);e.callbacks=s}else e.callbacks=new is(a._parentRunId,{handlers:i.handlers.concat(a.handlers),inheritableHandlers:i.inheritableHandlers.concat(a.inheritableHandlers),tags:Array.from(new Set(i.tags.concat(a.tags))),inheritableTags:Array.from(new Set(i.inheritableTags.concat(a.inheritableTags))),metadata:{...i.metadata,...a.metadata}})}else{const i=r;e[i]=n[i]??e[i]}return e}const Tpe=new Set(["string","number","boolean"]);function pt(t){var r;const e=ro.getRunnableConfig();let n={tags:[],metadata:{},recursionLimit:25,runId:void 0};if(e){const{runId:i,runName:a,...s}=e;n=Object.entries(s).reduce((o,[l,c])=>(c!==void 0&&(o[l]=c),o),n)}if(t&&(n=Object.entries(t).reduce((i,[a,s])=>(s!==void 0&&(i[a]=s),i),n)),n!=null&&n.configurable)for(const i of Object.keys(n.configurable))Tpe.has(typeof n.configurable[i])&&!((r=n.metadata)!=null&&r[i])&&(n.metadata||(n.metadata={}),n.metadata[i]=n.configurable[i]);if(n.timeout!==void 0){if(n.timeout<=0)throw new Error("Timeout must be a positive number");const i=AbortSignal.timeout(n.timeout);n.signal!==void 0?"any"in AbortSignal&&(n.signal=AbortSignal.any([n.signal,i])):n.signal=i,delete n.timeout}return n}function Zt(t={},{callbacks:e,maxConcurrency:n,recursionLimit:r,runName:i,configurable:a,runId:s}={}){const o=pt(t);return e!==void 0&&(delete o.runName,o.callbacks=e),r!==void 0&&(o.recursionLimit=r),n!==void 0&&(o.maxConcurrency=n),i!==void 0&&(o.runName=i),a!==void 0&&(o.configurable={...o.configurable,...a}),s!==void 0&&delete o.runId,o}function Fc(t){if(t)return{configurable:t.configurable,recursionLimit:t.recursionLimit,callbacks:t.callbacks,tags:t.tags,metadata:t.metadata,maxConcurrency:t.maxConcurrency,timeout:t.timeout,signal:t.signal,store:t.store}}async function io(t,e){if(e===void 0)return t;let n;return Promise.race([t.catch(r=>{if(!(e!=null&&e.aborted))throw r}),new Promise((r,i)=>{n=()=>{i(u0(e))},e.addEventListener("abort",n),e.aborted&&i(u0(e))})]).finally(()=>e.removeEventListener("abort",n))}function u0(t){return(t==null?void 0:t.reason)instanceof Error?t.reason:typeof(t==null?void 0:t.reason)=="string"?new Error(t.reason):new Error("Aborted")}var kpe={};bt(kpe,{AsyncGeneratorWithSetup:()=>nu,IterableReadableStream:()=>Ea,atee:()=>EC,concat:()=>Bc,pipeGeneratorWithSetup:()=>S6});var Ea=class XE extends ReadableStream{constructor(){super(...arguments);H(this,"reader")}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const n=await this.reader.read();return n.done?(this.reader.releaseLock(),{done:!0,value:void 0}):{done:!1,value:n.value}}catch(n){throw this.reader.releaseLock(),n}}async return(){if(this.ensureReader(),this.locked){const n=this.reader.cancel();this.reader.releaseLock(),await n}return{done:!0,value:void 0}}async throw(n){if(this.ensureReader(),this.locked){const r=this.reader.cancel();this.reader.releaseLock(),await r}throw n}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}static fromReadableStream(n){const r=n.getReader();return new XE({start(i){return a();function a(){return r.read().then(({done:s,value:o})=>{if(s){i.close();return}return i.enqueue(o),a()})}},cancel(){r.releaseLock()}})}static fromAsyncGenerator(n){return new XE({async pull(r){const{value:i,done:a}=await n.next();a&&r.close(),r.enqueue(i)},async cancel(r){await n.return(r)}})}};function EC(t,e=2){const n=Array.from({length:e},()=>[]);return n.map(async function*(i){for(;;)if(i.length===0){const a=await t.next();for(const s of n)s.push(a)}else{if(i[0].done)return;yield i.shift().value}})}function Bc(t,e){if(Array.isArray(t)&&Array.isArray(e))return t.concat(e);if(typeof t=="string"&&typeof e=="string")return t+e;if(typeof t=="number"&&typeof e=="number")return t+e;if("concat"in t&&typeof t.concat=="function")return t.concat(e);if(typeof t=="object"&&typeof e=="object"){const n={...t};for(const[r,i]of Object.entries(e))r in n&&!Array.isArray(n[r])?n[r]=Bc(n[r],i):n[r]=i;return n}else throw new Error(`Cannot concat ${typeof t} and ${typeof e}`)}var nu=class{constructor(t){H(this,"generator");H(this,"setup");H(this,"config");H(this,"signal");H(this,"firstResult");H(this,"firstResultUsed",!1);var e;this.generator=t.generator,this.config=t.config,this.signal=t.signal??((e=this.config)==null?void 0:e.signal),this.setup=new Promise((n,r)=>{ro.runWithConfig(Fc(t.config),async()=>{this.firstResult=t.generator.next(),t.startSetup?this.firstResult.then(t.startSetup).then(n,r):this.firstResult.then(i=>n(void 0),r)},!0)})}async next(...t){var e;return(e=this.signal)==null||e.throwIfAborted(),this.firstResultUsed?ro.runWithConfig(Fc(this.config),this.signal?async()=>io(this.generator.next(...t),this.signal):async()=>this.generator.next(...t),!0):(this.firstResultUsed=!0,this.firstResult)}async return(t){return this.generator.return(t)}async throw(t){return this.generator.throw(t)}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}};async function S6(t,e,n,r,...i){const a=new nu({generator:e,startSetup:n,signal:r}),s=await a.setup;return{output:t(a,s,...i),setup:s}}var Cpe={};bt(Cpe,{ChatGenerationChunk:()=>im,GenerationChunk:()=>rm,RUN_KEY:()=>ZE});const ZE="__run";var rm=class E6{constructor(e){H(this,"text");H(this,"generationInfo");this.text=e.text,this.generationInfo=e.generationInfo}concat(e){return new E6({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo}})}},im=class j6 extends rm{constructor(n){super(n);H(this,"message");this.message=n.message}concat(n){return new j6({text:this.text+n.text,generationInfo:{...this.generationInfo,...n.generationInfo},message:this.message.concat(n.message)})}};/*!
* https://github.com/Starcounter-Jack/JSON-Patch
* (c) 2017-2022 Joachim Wester
* MIT licensed
*/const Ope=Object.prototype.hasOwnProperty;function JE(t,e){return Ope.call(t,e)}function QE(t){if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<n.length;r++)n[r]=""+r;return n}if(Object.keys)return Object.keys(t);let e=[];for(let n in t)JE(t,n)&&e.push(n);return e}function Ti(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}function ej(t){let e=0;const n=t.length;let r;for(;e<n;){if(r=t.charCodeAt(e),r>=48&&r<=57){e++;continue}return!1}return!0}function ec(t){return t.indexOf("/")===-1&&t.indexOf("~")===-1?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function A6(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function tj(t){if(t===void 0)return!0;if(t){if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(tj(t[n]))return!0}else if(typeof t=="object"){const n=QE(t),r=n.length;for(var e=0;e<r;e++)if(tj(t[n[e]]))return!0}}return!1}function O$(t,e){const n=[t];for(const r in e){const i=typeof e[r]=="object"?JSON.stringify(e[r],null,2):e[r];typeof i<"u"&&n.push(`${r}: ${i}`)}return n.join(`
`)}var T6=class extends Error{constructor(t,e,n,r,i){super(O$(t,{name:e,index:n,operation:r,tree:i})),this.name=e,this.index=n,this.operation=r,this.tree=i,Object.setPrototypeOf(this,new.target.prototype),this.message=O$(t,{name:e,index:n,operation:r,tree:i})}},k6={};bt(k6,{JsonPatchError:()=>rn,_areEquals:()=>am,applyOperation:()=>Ac,applyPatch:()=>Kd,applyReducer:()=>Ipe,deepClone:()=>Npe,getValueByPointer:()=>d0,validate:()=>C6,validator:()=>f0});const rn=T6,Npe=Ti,Zu={add:function(t,e,n){return t[e]=this.value,{newDocument:n}},remove:function(t,e,n){var r=t[e];return delete t[e],{newDocument:n,removed:r}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:function(t,e,n){let r=d0(n,this.path);r&&(r=Ti(r));const i=Ac(n,{op:"remove",path:this.from}).removed;return Ac(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(t,e,n){const r=d0(n,this.from);return Ac(n,{op:"add",path:this.path,value:Ti(r)}),{newDocument:n}},test:function(t,e,n){return{newDocument:n,test:am(t[e],this.value)}},_get:function(t,e,n){return this.value=t[e],{newDocument:n}}};var Ppe={add:function(t,e,n){return ej(e)?t.splice(e,0,this.value):t[e]=this.value,{newDocument:n,index:e}},remove:function(t,e,n){var r=t.splice(e,1);return{newDocument:n,removed:r[0]}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:Zu.move,copy:Zu.copy,test:Zu.test,_get:Zu._get};function d0(t,e){if(e=="")return t;var n={op:"_get",path:e};return Ac(t,n),n.value}function Ac(t,e,n=!1,r=!0,i=!0,a=0){if(n&&(typeof n=="function"?n(e,0,t,e.path):f0(e,0)),e.path===""){let s={newDocument:t};if(e.op==="add")return s.newDocument=e.value,s;if(e.op==="replace")return s.newDocument=e.value,s.removed=t,s;if(e.op==="move"||e.op==="copy")return s.newDocument=d0(t,e.from),e.op==="move"&&(s.removed=t),s;if(e.op==="test"){if(s.test=am(t,e.value),s.test===!1)throw new rn("Test operation failed","TEST_OPERATION_FAILED",a,e,t);return s.newDocument=t,s}else{if(e.op==="remove")return s.removed=t,s.newDocument=null,s;if(e.op==="_get")return e.value=t,s;if(n)throw new rn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,e,t);return s}}else{r||(t=Ti(t));const o=(e.path||"").split("/");let l=t,c=1,d=o.length,f,h,p;for(typeof n=="function"?p=n:p=f0;;){if(h=o[c],h&&h.indexOf("~")!=-1&&(h=A6(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&o[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&f===void 0&&(l[h]===void 0?f=o.slice(0,c).join("/"):c==d-1&&(f=e.path),f!==void 0&&p(e,0,t,f)),c++,Array.isArray(l)){if(h==="-")h=l.length;else{if(n&&!ej(h))throw new rn("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,e,t);ej(h)&&(h=~~h)}if(c>=d){if(n&&e.op==="add"&&h>l.length)throw new rn("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",a,e,t);const m=Ppe[e.op].call(e,l,h,t);if(m.test===!1)throw new rn("Test operation failed","TEST_OPERATION_FAILED",a,e,t);return m}}else if(c>=d){const m=Zu[e.op].call(e,l,h,t);if(m.test===!1)throw new rn("Test operation failed","TEST_OPERATION_FAILED",a,e,t);return m}if(l=l[h],n&&c<d&&(!l||typeof l!="object"))throw new rn("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",a,e,t)}}}function Kd(t,e,n,r=!0,i=!0){if(n&&!Array.isArray(e))throw new rn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(t=Ti(t));const a=new Array(e.length);for(let s=0,o=e.length;s<o;s++)a[s]=Ac(t,e[s],n,!0,i,s),t=a[s].newDocument;return a.newDocument=t,a}function Ipe(t,e,n){const r=Ac(t,e);if(r.test===!1)throw new rn("Test operation failed","TEST_OPERATION_FAILED",n,e,t);return r.newDocument}function f0(t,e,n,r){if(typeof t!="object"||t===null||Array.isArray(t))throw new rn("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,n);if(Zu[t.op]){if(typeof t.path!="string")throw new rn("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,n);if(t.path.indexOf("/")!==0&&t.path.length>0)throw new rn('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,n);if((t.op==="move"||t.op==="copy")&&typeof t.from!="string")throw new rn("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&t.value===void 0)throw new rn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&tj(t.value))throw new rn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,n);if(n){if(t.op=="add"){var i=t.path.split("/").length,a=r.split("/").length;if(i!==a+1&&i!==a)throw new rn("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,n)}else if(t.op==="replace"||t.op==="remove"||t.op==="_get"){if(t.path!==r)throw new rn("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,n)}else if(t.op==="move"||t.op==="copy"){var s={op:"_get",path:t.from,value:void 0},o=C6([s],n);if(o&&o.name==="OPERATION_PATH_UNRESOLVABLE")throw new rn("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,n)}}}else throw new rn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,n)}function C6(t,e,n){try{if(!Array.isArray(t))throw new rn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)Kd(Ti(e),Ti(t),n||!0);else{n=n||f0;for(var r=0;r<t.length;r++)n(t[r],r,e,void 0)}}catch(i){if(i instanceof rn)return i;throw i}}function am(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=Array.isArray(t),r=Array.isArray(e),i,a,s;if(n&&r){if(a=t.length,a!=e.length)return!1;for(i=a;i--!==0;)if(!am(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var o=Object.keys(t);if(a=o.length,a!==Object.keys(e).length)return!1;for(i=a;i--!==0;)if(!e.hasOwnProperty(o[i]))return!1;for(i=a;i--!==0;)if(s=o[i],!am(t[s],e[s]))return!1;return!0}return t!==t&&e!==e}function O6(t,e,n,r,i){if(e!==t){typeof e.toJSON=="function"&&(e=e.toJSON());for(var a=QE(e),s=QE(t),o=!1,l=s.length-1;l>=0;l--){var c=s[l],d=t[c];if(JE(e,c)&&!(e[c]===void 0&&d!==void 0&&Array.isArray(e)===!1)){var f=e[c];typeof d=="object"&&d!=null&&typeof f=="object"&&f!=null&&Array.isArray(d)===Array.isArray(f)?O6(d,f,n,r+"/"+ec(c),i):d!==f&&(i&&n.push({op:"test",path:r+"/"+ec(c),value:Ti(d)}),n.push({op:"replace",path:r+"/"+ec(c),value:Ti(f)}))}else Array.isArray(t)===Array.isArray(e)?(i&&n.push({op:"test",path:r+"/"+ec(c),value:Ti(d)}),n.push({op:"remove",path:r+"/"+ec(c)}),o=!0):(i&&n.push({op:"test",path:r,value:t}),n.push({op:"replace",path:r,value:e}))}if(!(!o&&a.length==s.length))for(var l=0;l<a.length;l++){var c=a[l];!JE(t,c)&&e[c]!==void 0&&n.push({op:"add",path:r+"/"+ec(c),value:Ti(e[c])})}}}function jC(t,e,n=!1){var r=[];return O6(t,e,r,"",n),r}({...k6});var $pe={};bt($pe,{LogStreamCallbackHandler:()=>rj,RunLog:()=>AC,RunLogPatch:()=>Os,isLogStreamHandler:()=>N6});var Os=class{constructor(t){H(this,"ops");this.ops=t.ops??[]}concat(t){const e=this.ops.concat(t.ops),n=Kd({},e);return new AC({ops:e,state:n[n.length-1].newDocument})}},AC=class nj extends Os{constructor(n){super(n);H(this,"state");this.state=n.state}concat(n){const r=this.ops.concat(n.ops),i=Kd(this.state,n.ops);return new nj({ops:r,state:i[i.length-1].newDocument})}static fromRunLogPatch(n){const r=Kd({},n.ops);return new nj({ops:n.ops,state:r[r.length-1].newDocument})}};const N6=t=>t.name==="log_stream_tracer";async function N$(t,e){if(e==="original")throw new Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");const{inputs:n}=t;if(["retriever","llm","prompt"].includes(t.run_type))return n;if(!(Object.keys(n).length===1&&(n==null?void 0:n.input)===""))return n.input}async function P$(t,e){const{outputs:n}=t;return e==="original"||["retriever","llm","prompt"].includes(t.run_type)?n:n!==void 0&&Object.keys(n).length===1&&(n==null?void 0:n.output)!==void 0?n.output:n}function Rpe(t){return t!==void 0&&t.message!==void 0}var rj=class extends Ff{constructor(e){super({_awaitHandler:!0,...e});H(this,"autoClose",!0);H(this,"includeNames");H(this,"includeTypes");H(this,"includeTags");H(this,"excludeNames");H(this,"excludeTypes");H(this,"excludeTags");H(this,"_schemaFormat","original");H(this,"rootId");H(this,"keyMapByRunId",{});H(this,"counterMapByRunName",{});H(this,"transformStream");H(this,"writer");H(this,"receiveStream");H(this,"name","log_stream_tracer");H(this,"lc_prefer_streaming",!0);this.autoClose=(e==null?void 0:e.autoClose)??!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this._schemaFormat=(e==null?void 0:e._schemaFormat)??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=Ea.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.id===this.rootId)return!1;const n=e.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.run_type)),this.includeTags!==void 0&&(r=r||n.find(i=>{var a;return(a=this.includeTags)==null?void 0:a.includes(i)})!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.run_type)),this.excludeTags!==void 0&&(r=r&&n.every(i=>{var a;return!((a=this.excludeTags)!=null&&a.includes(i))})),r}async*tapOutputIterable(e,n){for await(const r of n){if(e!==this.rootId){const i=this.keyMapByRunId[e];i&&await this.writer.write(new Os({ops:[{op:"add",path:`/logs/${i}/streamed_output/-`,value:r}]}))}yield r}}async onRunCreate(e){var i;if(this.rootId===void 0&&(this.rootId=e.id,await this.writer.write(new Os({ops:[{op:"replace",path:"",value:{id:e.id,name:e.name,type:e.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(e))return;this.counterMapByRunName[e.name]===void 0&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;const n=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=n===1?e.name:`${e.name}:${n}`;const r={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:((i=e.extra)==null?void 0:i.metadata)??{},start_time:new Date(e.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};this._schemaFormat==="streaming_events"&&(r.inputs=await N$(e,this._schemaFormat)),await this.writer.write(new Os({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:r}]}))}async onRunUpdate(e){try{const n=this.keyMapByRunId[e.id];if(n===void 0)return;const r=[];this._schemaFormat==="streaming_events"&&r.push({op:"replace",path:`/logs/${n}/inputs`,value:await N$(e,this._schemaFormat)}),r.push({op:"add",path:`/logs/${n}/final_output`,value:await P$(e,this._schemaFormat)}),e.end_time!==void 0&&r.push({op:"add",path:`/logs/${n}/end_time`,value:new Date(e.end_time).toISOString()});const i=new Os({ops:r});await this.writer.write(i)}finally{if(e.id===this.rootId){const n=new Os({ops:[{op:"replace",path:"/final_output",value:await P$(e,this._schemaFormat)}]});await this.writer.write(n),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,n,r){const i=this.keyMapByRunId[e.id];if(i===void 0)return;const a=e.inputs.messages!==void 0;let s;a?Rpe(r==null?void 0:r.chunk)?s=r==null?void 0:r.chunk:s=new fo({id:`run-${e.id}`,content:n}):s=n;const o=new Os({ops:[{op:"add",path:`/logs/${i}/streamed_output_str/-`,value:n},{op:"add",path:`/logs/${i}/streamed_output/-`,value:s}]});await this.writer.write(o)}};function vy({name:t,serialized:e}){return t!==void 0?t:(e==null?void 0:e.name)!==void 0?e.name:(e==null?void 0:e.id)!==void 0&&Array.isArray(e==null?void 0:e.id)?e.id[e.id.length-1]:"Unnamed"}const Mpe=t=>t.name==="event_stream_tracer";var Dpe=class extends Ff{constructor(e){super({_awaitHandler:!0,...e});H(this,"autoClose",!0);H(this,"includeNames");H(this,"includeTypes");H(this,"includeTags");H(this,"excludeNames");H(this,"excludeTypes");H(this,"excludeTags");H(this,"runInfoMap",new Map);H(this,"tappedPromises",new Map);H(this,"transformStream");H(this,"writer");H(this,"receiveStream");H(this,"name","event_stream_tracer");H(this,"lc_prefer_streaming",!0);this.autoClose=(e==null?void 0:e.autoClose)??!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=Ea.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){const n=e.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.runType)),this.includeTags!==void 0&&(r=r||n.find(i=>{var a;return(a=this.includeTags)==null?void 0:a.includes(i)})!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.runType)),this.excludeTags!==void 0&&(r=r&&n.every(i=>{var a;return!((a=this.excludeTags)!=null&&a.includes(i))})),r}async*tapOutputIterable(e,n){const r=await n.next();if(r.done)return;const i=this.runInfoMap.get(e);if(i===void 0){yield r.value;return}function a(o,l){return o==="llm"&&typeof l=="string"?new rm({text:l}):l}let s=this.tappedPromises.get(e);if(s===void 0){let o;s=new Promise(l=>{o=l}),this.tappedPromises.set(e,s);try{const l={event:`on_${i.runType}_stream`,run_id:e,name:i.name,tags:i.tags,metadata:i.metadata,data:{}};await this.send({...l,data:{chunk:a(i.runType,r.value)}},i),yield r.value;for await(const c of n)i.runType!=="tool"&&i.runType!=="retriever"&&await this.send({...l,data:{chunk:a(i.runType,c)}},i),yield c}finally{o==null||o()}}else{yield r.value;for await(const o of n)yield o}}async send(e,n){this._includeRun(n)&&await this.writer.write(e)}async sendEndEvent(e,n){const r=this.tappedPromises.get(e.run_id);r!==void 0?r.then(()=>{this.send(e,n)}):await this.send(e,n)}async onLLMStart(e){var s,o;const n=vy(e),r=e.inputs.messages!==void 0?"chat_model":"llm",i={tags:e.tags??[],metadata:((s=e.extra)==null?void 0:s.metadata)??{},name:n,runType:r,inputs:e.inputs};this.runInfoMap.set(e.id,i);const a=`on_${r}_start`;await this.send({event:a,data:{input:e.inputs},name:n,tags:e.tags??[],run_id:e.id,metadata:((o=e.extra)==null?void 0:o.metadata)??{}},i)}async onLLMNewToken(e,n,r){const i=this.runInfoMap.get(e.id);let a,s;if(i===void 0)throw new Error(`onLLMNewToken: Run ID ${e.id} not found in run map.`);if(this.runInfoMap.size!==1){if(i.runType==="chat_model")s="on_chat_model_stream",(r==null?void 0:r.chunk)===void 0?a=new fo({content:n,id:`run-${e.id}`}):a=r.chunk.message;else if(i.runType==="llm")s="on_llm_stream",(r==null?void 0:r.chunk)===void 0?a=new rm({text:n}):a=r.chunk;else throw new Error(`Unexpected run type ${i.runType}`);await this.send({event:s,data:{chunk:a},run_id:e.id,name:i.name,tags:i.tags,metadata:i.metadata},i)}}async onLLMEnd(e){var s,o,l;const n=this.runInfoMap.get(e.id);this.runInfoMap.delete(e.id);let r;if(n===void 0)throw new Error(`onLLMEnd: Run ID ${e.id} not found in run map.`);const i=(s=e.outputs)==null?void 0:s.generations;let a;if(n.runType==="chat_model"){for(const c of i??[]){if(a!==void 0)break;a=(o=c[0])==null?void 0:o.message}r="on_chat_model_end"}else if(n.runType==="llm")a={generations:i==null?void 0:i.map(c=>c.map(d=>({text:d.text,generationInfo:d.generationInfo}))),llmOutput:((l=e.outputs)==null?void 0:l.llmOutput)??{}},r="on_llm_end";else throw new Error(`onLLMEnd: Unexpected run type: ${n.runType}`);await this.sendEndEvent({event:r,data:{output:a,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onChainStart(e){var s,o;const n=vy(e),r=e.run_type??"chain",i={tags:e.tags??[],metadata:((s=e.extra)==null?void 0:s.metadata)??{},name:n,runType:e.run_type};let a={};e.inputs.input===""&&Object.keys(e.inputs).length===1?(a={},i.inputs={}):e.inputs.input!==void 0?(a.input=e.inputs.input,i.inputs=e.inputs.input):(a.input=e.inputs,i.inputs=e.inputs),this.runInfoMap.set(e.id,i),await this.send({event:`on_${r}_start`,data:a,name:n,tags:e.tags??[],run_id:e.id,metadata:((o=e.extra)==null?void 0:o.metadata)??{}},i)}async onChainEnd(e){var o;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onChainEnd: Run ID ${e.id} not found in run map.`);const r=`on_${e.run_type}_end`,i=e.inputs??n.inputs??{},s={output:((o=e.outputs)==null?void 0:o.output)??e.outputs,input:i};i.input&&Object.keys(i).length===1&&(s.input=i.input,n.inputs=i.input),await this.sendEndEvent({event:r,data:s,run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata??{}},n)}async onToolStart(e){var i,a;const n=vy(e),r={tags:e.tags??[],metadata:((i=e.extra)==null?void 0:i.metadata)??{},name:n,runType:"tool",inputs:e.inputs??{}};this.runInfoMap.set(e.id,r),await this.send({event:"on_tool_start",data:{input:e.inputs??{}},name:n,run_id:e.id,tags:e.tags??[],metadata:((a=e.extra)==null?void 0:a.metadata)??{}},r)}async onToolEnd(e){var i;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onToolEnd: Run ID ${e.id} not found in run map.`);if(n.inputs===void 0)throw new Error(`onToolEnd: Run ID ${e.id} is a tool call, and is expected to have traced inputs.`);const r=((i=e.outputs)==null?void 0:i.output)===void 0?e.outputs:e.outputs.output;await this.sendEndEvent({event:"on_tool_end",data:{output:r,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onRetrieverStart(e){var a,s;const n=vy(e),i={tags:e.tags??[],metadata:((a=e.extra)==null?void 0:a.metadata)??{},name:n,runType:"retriever",inputs:{query:e.inputs.query}};this.runInfoMap.set(e.id,i),await this.send({event:"on_retriever_start",data:{input:{query:e.inputs.query}},name:n,tags:e.tags??[],run_id:e.id,metadata:((s=e.extra)==null?void 0:s.metadata)??{}},i)}async onRetrieverEnd(e){var r;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onRetrieverEnd: Run ID ${e.id} not found in run map.`);await this.sendEndEvent({event:"on_retriever_end",data:{output:((r=e.outputs)==null?void 0:r.documents)??e.outputs,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async handleCustomEvent(e,n,r){const i=this.runInfoMap.get(r);if(i===void 0)throw new Error(`handleCustomEvent: Run ID ${r} not found in run map.`);await this.send({event:"on_custom_event",run_id:r,name:e,tags:i.tags,metadata:i.metadata,data:n},i)}async finish(){const e=[...this.tappedPromises.values()];Promise.all(e).finally(()=>{this.writer.close()})}};const Lpe=Object.prototype.toString,Fpe=t=>Lpe.call(t)==="[object Error]",Bpe=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function zpe(t){if(!(t&&Fpe(t)&&t.name==="TypeError"&&typeof t.message=="string"))return!1;const{message:n,stack:r}=t;return n==="Load failed"?r===void 0||"__sentry_captured__"in t:n.startsWith("error sending request for url")?!0:Bpe.has(n)}function Upe(t){if(typeof t=="number"){if(t<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(t))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(t!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function xy(t,e,{min:n=0,allowInfinity:r=!1}={}){if(e!==void 0){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected \`${t}\` to be a number${r?" or Infinity":""}.`);if(!r&&!Number.isFinite(e))throw new TypeError(`Expected \`${t}\` to be a finite number.`);if(e<n)throw new TypeError(`Expected \`${t}\` to be  ${n}.`)}}class Hpe extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}function Vpe(t,e){const n=Math.max(1,t+1),r=e.randomize?Math.random()+1:1;let i=Math.round(r*e.minTimeout*e.factor**(n-1));return i=Math.min(i,e.maxTimeout),i}function I$(t,e){return Number.isFinite(e)?e-(performance.now()-t):e}async function Wpe({error:t,attemptNumber:e,retriesConsumed:n,startTime:r,options:i}){var p,m,g;const a=t instanceof Error?t:new TypeError(`Non-error was thrown: "${t}". You should only throw errors.`);if(a instanceof Hpe)throw a.originalError;const s=Number.isFinite(i.retries)?Math.max(0,i.retries-n):i.retries,o=i.maxRetryTime??Number.POSITIVE_INFINITY,l=Object.freeze({error:a,attemptNumber:e,retriesLeft:s,retriesConsumed:n});if(await i.onFailedAttempt(l),I$(r,o)<=0)throw a;const c=await i.shouldConsumeRetry(l),d=I$(r,o);if(d<=0||s<=0)throw a;if(a instanceof TypeError&&!zpe(a)){if(c)throw a;return(p=i.signal)==null||p.throwIfAborted(),!1}if(!await i.shouldRetry(l))throw a;if(!c)return(m=i.signal)==null||m.throwIfAborted(),!1;const f=Vpe(n,i),h=Math.min(f,d);return h>0&&await new Promise((b,x)=>{var w,_;const v=()=>{var E;clearTimeout(y),(E=i.signal)==null||E.removeEventListener("abort",v),x(i.signal.reason)},y=setTimeout(()=>{var E;(E=i.signal)==null||E.removeEventListener("abort",v),b()},h);i.unref&&((w=y.unref)==null||w.call(y)),(_=i.signal)==null||_.addEventListener("abort",v,{once:!0})}),(g=i.signal)==null||g.throwIfAborted(),!0}async function ij(t,e={}){var a,s,o;if(e={...e},Upe(e.retries),Object.hasOwn(e,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");e.retries??(e.retries=10),e.factor??(e.factor=2),e.minTimeout??(e.minTimeout=1e3),e.maxTimeout??(e.maxTimeout=Number.POSITIVE_INFINITY),e.maxRetryTime??(e.maxRetryTime=Number.POSITIVE_INFINITY),e.randomize??(e.randomize=!1),e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.shouldConsumeRetry??(e.shouldConsumeRetry=()=>!0),xy("factor",e.factor,{min:0,allowInfinity:!1}),xy("minTimeout",e.minTimeout,{min:0,allowInfinity:!1}),xy("maxTimeout",e.maxTimeout,{min:0,allowInfinity:!0}),xy("maxRetryTime",e.maxRetryTime,{min:0,allowInfinity:!0}),e.factor>0||(e.factor=1),(a=e.signal)==null||a.throwIfAborted();let n=0,r=0;const i=performance.now();for(;!Number.isFinite(e.retries)||r<=e.retries;){n++;try{(s=e.signal)==null||s.throwIfAborted();const l=await t(n);return(o=e.signal)==null||o.throwIfAborted(),l}catch(l){await Wpe({error:l,attemptNumber:n,retriesConsumed:r,startTime:i,options:e})&&r++}}throw new Error("Retry attempts exhausted without throwing an error.")}var qpe={};bt(qpe,{AsyncCaller:()=>Ab});const Gpe=[400,401,402,403,404,405,406,407,409],Kpe=t=>{var n,r;if(t.message.startsWith("Cancel")||t.message.startsWith("AbortError")||t.name==="AbortError"||(t==null?void 0:t.code)==="ECONNABORTED")throw t;const e=((n=t==null?void 0:t.response)==null?void 0:n.status)??(t==null?void 0:t.status);if(e&&Gpe.includes(+e))throw t;if(((r=t==null?void 0:t.error)==null?void 0:r.code)==="insufficient_quota"){const i=new Error(t==null?void 0:t.message);throw i.name="InsufficientQuotaError",i}};var Ab=class{constructor(t){H(this,"maxConcurrency");H(this,"maxRetries");H(this,"onFailedAttempt");H(this,"queue");this.maxConcurrency=t.maxConcurrency??1/0,this.maxRetries=t.maxRetries??6,this.onFailedAttempt=t.onFailedAttempt??Kpe;const e="default"in Bs?Bs.default:Bs;this.queue=new e({concurrency:this.maxConcurrency})}call(t,...e){return this.queue.add(()=>ij(()=>t(...e).catch(n=>{throw n instanceof Error?n:new Error(n)}),{onFailedAttempt:({error:n})=>{var r;return(r=this.onFailedAttempt)==null?void 0:r.call(this,n)},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(t,e,...n){if(t.signal){let r;return Promise.race([this.call(e,...n),new Promise((i,a)=>{var s;r=()=>{a(u0(t.signal))},(s=t.signal)==null||s.addEventListener("abort",r)})]).finally(()=>{t.signal&&r&&t.signal.removeEventListener("abort",r)})}return this.call(e,...n)}fetch(...t){return this.call(()=>fetch(...t).then(e=>e.ok?e:Promise.reject(e)))}},P6=class extends Ff{constructor({config:e,onStart:n,onEnd:r,onError:i}){super({_awaitHandler:!0});H(this,"name","RootListenersTracer");H(this,"rootId");H(this,"config");H(this,"argOnStart");H(this,"argOnEnd");H(this,"argOnError");this.config=e,this.argOnStart=n,this.argOnEnd=r,this.argOnError=i}persistRun(e){return Promise.resolve()}async onRunCreate(e){this.rootId||(this.rootId=e.id,this.argOnStart&&await this.argOnStart(e,this.config))}async onRunUpdate(e){e.id===this.rootId&&(e.error?this.argOnError&&await this.argOnError(e,this.config):this.argOnEnd&&await this.argOnEnd(e,this.config))}};function TC(t){return t?t.lc_runnable:!1}var Ype=class{constructor(t){H(this,"includeNames");H(this,"includeTypes");H(this,"includeTags");H(this,"excludeNames");H(this,"excludeTypes");H(this,"excludeTags");this.includeNames=t.includeNames,this.includeTypes=t.includeTypes,this.includeTags=t.includeTags,this.excludeNames=t.excludeNames,this.excludeTypes=t.excludeTypes,this.excludeTags=t.excludeTags}includeEvent(t,e){let n=this.includeNames===void 0&&this.includeTypes===void 0&&this.includeTags===void 0;const r=t.tags??[];return this.includeNames!==void 0&&(n=n||this.includeNames.includes(t.name)),this.includeTypes!==void 0&&(n=n||this.includeTypes.includes(e)),this.includeTags!==void 0&&(n=n||r.some(i=>{var a;return(a=this.includeTags)==null?void 0:a.includes(i)})),this.excludeNames!==void 0&&(n=n&&!this.excludeNames.includes(t.name)),this.excludeTypes!==void 0&&(n=n&&!this.excludeTypes.includes(e)),this.excludeTags!==void 0&&(n=n&&r.every(i=>{var a;return!((a=this.excludeTags)!=null&&a.includes(i))})),n}};function s1(t){return t.replace(/[^a-zA-Z-_0-9]/g,"_")}const Xpe=["*","_","`"];function Zpe(t){let e="";for(const[n,r]of Object.entries(t))e+=`	classDef ${n} ${r};
`;return e}function Jpe(t,e,n){const{firstNode:r,lastNode:i,nodeColors:a,withStyles:s=!0,curveStyle:o="linear",wrapLabelNWords:l=9}=n??{};let c=s?`%%{init: {'flowchart': {'curve': '${o}'}}}%%
graph TD;
`:`graph TD;
`;if(s){const p="default",m={[p]:"{0}({1})"};r!==void 0&&(m[r]="{0}([{1}]):::first"),i!==void 0&&(m[i]="{0}([{1}]):::last");for(const[g,b]of Object.entries(t)){const x=b.name.split(":").pop()??"";let y=Xpe.some(_=>x.startsWith(_)&&x.endsWith(_))?`<p>${x}</p>`:x;Object.keys(b.metadata??{}).length&&(y+=`<hr/><small><em>${Object.entries(b.metadata??{}).map(([_,E])=>`${_} = ${E}`).join(`
`)}</em></small>`);const w=(m[g]??m[p]).replace("{0}",s1(g)).replace("{1}",y);c+=`	${w}
`}}const d={};for(const p of e){const m=p.source.split(":"),g=p.target.split(":"),b=m.filter((x,v)=>x===g[v]).join(":");d[b]||(d[b]=[]),d[b].push(p)}const f=new Set;function h(p,m){const g=p.length===1&&p[0].source===p[0].target;if(m&&!g){const b=m.split(":").pop();if(f.has(b))throw new Error(`Found duplicate subgraph '${b}' -- this likely means that you're reusing a subgraph node with the same name. Please adjust your graph to have subgraph nodes with unique names.`);f.add(b),c+=`	subgraph ${b}
`}for(const b of p){const{source:x,target:v,data:y,conditional:w}=b;let _="";if(y!==void 0){let E=y;const A=E.split(" ");A.length>l&&(E=Array.from({length:Math.ceil(A.length/l)},(j,T)=>A.slice(T*l,(T+1)*l).join(" ")).join("&nbsp;<br>&nbsp;")),_=w?` -. &nbsp;${E}&nbsp; .-> `:` -- &nbsp;${E}&nbsp; --> `}else _=w?" -.-> ":" --> ";c+=`	${s1(x)}${_}${s1(v)};
`}for(const b in d)b.startsWith(`${m}:`)&&b!==m&&h(d[b],b);m&&!g&&(c+=`	end
`)}h(d[""]??[],"");for(const p in d)!p.includes(":")&&p!==""&&h(d[p],p);return s&&(c+=Zpe(a??{})),c}async function Qpe(t,e){let n=(e==null?void 0:e.backgroundColor)??"white";const r=(e==null?void 0:e.imageType)??"png",i=btoa(t);n!==void 0&&(/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(n)||(n=`!${n}`));const a=`https://mermaid.ink/img/${i}?bgColor=${n}&type=${r}`,s=await fetch(a);if(!s.ok)throw new Error(["Failed to render the graph using the Mermaid.INK API.",`Status code: ${s.status}`,`Status text: ${s.statusText}`].join(`
`));return await s.blob()}var eme={};bt(eme,{Graph:()=>kC});function tme(t,e){if(t!==void 0&&!op(t))return t;if(TC(e))try{let n=e.getName();return n=n.startsWith("Runnable")?n.slice(8):n,n}catch{return e.getName()}else return e.name??"UnknownSchema"}function nme(t){return TC(t.data)?{type:"runnable",data:{id:t.data.lc_id,name:t.data.getName()}}:{type:"schema",data:{...wl(t.data.schema),title:t.data.name}}}var kC=class I6{constructor(e){H(this,"nodes",{});H(this,"edges",[]);this.nodes=(e==null?void 0:e.nodes)??this.nodes,this.edges=(e==null?void 0:e.edges)??this.edges}toJSON(){const e={};return Object.values(this.nodes).forEach((n,r)=>{e[n.id]=op(n.id)?r:n.id}),{nodes:Object.values(this.nodes).map(n=>({id:e[n.id],...nme(n)})),edges:this.edges.map(n=>{const r={source:e[n.source],target:e[n.target]};return typeof n.data<"u"&&(r.data=n.data),typeof n.conditional<"u"&&(r.conditional=n.conditional),r})}}addNode(e,n,r){if(n!==void 0&&this.nodes[n]!==void 0)throw new Error(`Node with id ${n} already exists`);const i=n??Er(),a={id:i,data:e,name:tme(n,e),metadata:r};return this.nodes[i]=a,a}removeNode(e){delete this.nodes[e.id],this.edges=this.edges.filter(n=>n.source!==e.id&&n.target!==e.id)}addEdge(e,n,r,i){if(this.nodes[e.id]===void 0)throw new Error(`Source node ${e.id} not in graph`);if(this.nodes[n.id]===void 0)throw new Error(`Target node ${n.id} not in graph`);const a={source:e.id,target:n.id,data:r,conditional:i};return this.edges.push(a),a}firstNode(){return $$(this)}lastNode(){return R$(this)}extend(e,n=""){let r=n;Object.values(e.nodes).map(c=>c.id).every(op)&&(r="");const a=c=>r?`${r}:${c}`:c;Object.entries(e.nodes).forEach(([c,d])=>{this.nodes[a(c)]={...d,id:a(c)}});const s=e.edges.map(c=>({...c,source:a(c.source),target:a(c.target)}));this.edges=[...this.edges,...s];const o=e.firstNode(),l=e.lastNode();return[o?{id:a(o.id),data:o.data}:void 0,l?{id:a(l.id),data:l.data}:void 0]}trimFirstNode(){const e=this.firstNode();e&&$$(this,[e.id])&&this.removeNode(e)}trimLastNode(){const e=this.lastNode();e&&R$(this,[e.id])&&this.removeNode(e)}reid(){const e=Object.fromEntries(Object.values(this.nodes).map(i=>[i.id,i.name])),n=new Map;Object.values(e).forEach(i=>{n.set(i,(n.get(i)||0)+1)});const r=i=>{const a=e[i];return op(i)&&n.get(a)===1?a:i};return new I6({nodes:Object.fromEntries(Object.entries(this.nodes).map(([i,a])=>[r(i),{...a,id:r(i)}])),edges:this.edges.map(i=>({...i,source:r(i.source),target:r(i.target)}))})}drawMermaid(e){const{withStyles:n,curveStyle:r,nodeColors:i={default:"fill:#f2f0ff,line-height:1.2",first:"fill-opacity:0",last:"fill:#bfb6fc"},wrapLabelNWords:a}=e??{},s=this.reid(),o=s.firstNode(),l=s.lastNode();return Jpe(s.nodes,s.edges,{firstNode:o==null?void 0:o.id,lastNode:l==null?void 0:l.id,withStyles:n,curveStyle:r,nodeColors:i,wrapLabelNWords:a})}async drawMermaidPng(e){const n=this.drawMermaid(e);return Qpe(n,{backgroundColor:e==null?void 0:e.backgroundColor})}};function $$(t,e=[]){const n=new Set(t.edges.filter(i=>!e.includes(i.source)).map(i=>i.target)),r=[];for(const i of Object.values(t.nodes))!e.includes(i.id)&&!n.has(i.id)&&r.push(i);return r.length===1?r[0]:void 0}function R$(t,e=[]){const n=new Set(t.edges.filter(i=>!e.includes(i.target)).map(i=>i.source)),r=[];for(const i of Object.values(t.nodes))!e.includes(i.id)&&!n.has(i.id)&&r.push(i);return r.length===1?r[0]:void 0}function rme(t){const e=new TextEncoder,n=new ReadableStream({async start(r){for await(const i of t)r.enqueue(e.encode(`event: data
data: ${JSON.stringify(i)}

`));r.enqueue(e.encode(`event: end

`)),r.close()}});return Ea.fromReadableStream(n)}function M$(t){return typeof t=="object"&&t!==null&&typeof t[Symbol.iterator]=="function"&&typeof t.next=="function"}const ime=t=>t!=null&&typeof t=="object"&&"next"in t&&typeof t.next=="function";function aj(t){return typeof t=="object"&&t!==null&&typeof t[Symbol.asyncIterator]=="function"}function*D$(t,e){for(;;){const{value:n,done:r}=ro.runWithConfig(Fc(t),e.next.bind(e),!0);if(r)break;yield n}}async function*sj(t,e){const n=e[Symbol.asyncIterator]();for(;;){const{value:r,done:i}=await ro.runWithConfig(Fc(t),n.next.bind(e),!0);if(i)break;yield r}}function wn(t,e){return t&&!Array.isArray(t)&&!(t instanceof Date)&&typeof t=="object"?t:{[e]:t}}var fn=class extends qd{constructor(){super(...arguments);H(this,"lc_runnable",!0);H(this,"name")}getName(e){const n=this.name??this.constructor.lc_name()??this.constructor.name;return e?`${n}${e}`:n}withRetry(e){return new CC({bound:this,kwargs:{},config:{},maxAttemptNumber:e==null?void 0:e.stopAfterAttempt,...e})}withConfig(e){return new Yd({bound:this,config:e,kwargs:{}})}withFallbacks(e){const n=Array.isArray(e)?e:e.fallbacks;return new F6({runnable:this,fallbacks:n})}_getOptionsList(e,n=0){if(Array.isArray(e)&&e.length!==n)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${n} inputs`);if(Array.isArray(e))return e.map(pt);if(n>1&&!Array.isArray(e)&&e.runId){console.warn("Provided runId will be used only for the first element of the batch.");const r=Object.fromEntries(Object.entries(e).filter(([i])=>i!=="runId"));return Array.from({length:n},(i,a)=>pt(a===0?e:r))}return Array.from({length:n},()=>pt(e))}async batch(e,n,r){var l;const i=this._getOptionsList(n??{},e.length),a=((l=i[0])==null?void 0:l.maxConcurrency)??(r==null?void 0:r.maxConcurrency),s=new Ab({maxConcurrency:a,onFailedAttempt:c=>{throw c}}),o=e.map((c,d)=>s.call(async()=>{try{return await this.invoke(c,i[d])}catch(f){if(r!=null&&r.returnExceptions)return f;throw f}}));return Promise.all(o)}async*_streamIterator(e,n){yield this.invoke(e,n)}async stream(e,n){const r=pt(n),i=new nu({generator:this._streamIterator(e,r),config:r});return await i.setup,Ea.fromAsyncGenerator(i)}_separateRunnableConfigFromCallOptions(e){let n;e===void 0?n=pt(e):n=pt({callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName,configurable:e.configurable,recursionLimit:e.recursionLimit,maxConcurrency:e.maxConcurrency,runId:e.runId,timeout:e.timeout,signal:e.signal});const r={...e};return delete r.callbacks,delete r.tags,delete r.metadata,delete r.runName,delete r.configurable,delete r.recursionLimit,delete r.maxConcurrency,delete r.runId,delete r.timeout,delete r.signal,[n,r]}async _callWithConfig(e,n,r){const i=pt(r),a=await ii(i),s=await(a==null?void 0:a.handleChainStart(this.toJSON(),wn(n,"input"),i.runId,i==null?void 0:i.runType,void 0,void 0,(i==null?void 0:i.runName)??this.getName()));delete i.runId;let o;try{const l=e.call(this,n,i,s);o=await io(l,r==null?void 0:r.signal)}catch(l){throw await(s==null?void 0:s.handleChainError(l)),l}return await(s==null?void 0:s.handleChainEnd(wn(o,"output"))),o}async _batchWithConfig(e,n,r,i){var c;const a=this._getOptionsList(r??{},n.length),s=await Promise.all(a.map(ii)),o=await Promise.all(s.map(async(d,f)=>{const h=await(d==null?void 0:d.handleChainStart(this.toJSON(),wn(n[f],"input"),a[f].runId,a[f].runType,void 0,void 0,a[f].runName??this.getName()));return delete a[f].runId,h}));let l;try{const d=e.call(this,n,a,o,i);l=await io(d,(c=a==null?void 0:a[0])==null?void 0:c.signal)}catch(d){throw await Promise.all(o.map(f=>f==null?void 0:f.handleChainError(d))),d}return await Promise.all(o.map(d=>d==null?void 0:d.handleChainEnd(wn(l,"output")))),l}_concatOutputChunks(e,n){return Bc(e,n)}async*_transformStreamWithConfig(e,n,r){let i,a=!0,s,o=!0;const l=pt(r),c=await ii(l),d=this;async function*f(){for await(const p of e){if(a)if(i===void 0)i=p;else try{i=d._concatOutputChunks(i,p)}catch{i=void 0,a=!1}yield p}}let h;try{const p=await S6(n.bind(this),f(),async()=>c==null?void 0:c.handleChainStart(this.toJSON(),{input:""},l.runId,l.runType,void 0,void 0,l.runName??this.getName()),r==null?void 0:r.signal,l);delete l.runId,h=p.setup;const m=h==null?void 0:h.handlers.find(Mpe);let g=p.output;m!==void 0&&h!==void 0&&(g=m.tapOutputIterable(h.runId,g));const b=h==null?void 0:h.handlers.find(N6);b!==void 0&&h!==void 0&&(g=b.tapOutputIterable(h.runId,g));for await(const x of g)if(yield x,o)if(s===void 0)s=x;else try{s=this._concatOutputChunks(s,x)}catch{s=void 0,o=!1}}catch(p){throw await(h==null?void 0:h.handleChainError(p,void 0,void 0,void 0,{inputs:wn(i,"input")})),p}await(h==null?void 0:h.handleChainEnd(s??{},void 0,void 0,void 0,{inputs:wn(i,"input")}))}getGraph(e){const n=new kC,r=n.addNode({name:`${this.getName()}Input`,schema:A2()}),i=n.addNode(this),a=n.addNode({name:`${this.getName()}Output`,schema:A2()});return n.addEdge(r,i),n.addEdge(i,a),n}pipe(e){return new hg({first:this,last:ca(e)})}pick(e){return this.pipe(new B6(e))}assign(e){return this.pipe(new OC(new Bf({steps:e})))}async*transform(e,n){let r;for await(const i of e)r===void 0?r=i:r=this._concatOutputChunks(r,i);yield*this._streamIterator(r,pt(n))}async*streamLog(e,n,r){const i=new rj({...r,autoClose:!1,_schemaFormat:"original"}),a=pt(n);yield*this._streamLog(e,i,a)}async*_streamLog(e,n,r){const{callbacks:i}=r;if(i===void 0)r.callbacks=[n];else if(Array.isArray(i))r.callbacks=i.concat([n]);else{const l=i.copy();l.addHandler(n,!0),r.callbacks=l}const a=this.stream(e,r);async function s(){try{const l=await a;for await(const c of l){const d=new Os({ops:[{op:"add",path:"/streamed_output/-",value:c}]});await n.writer.write(d)}}finally{await n.writer.close()}}const o=s();try{for await(const l of n)yield l}finally{await o}}streamEvents(e,n,r){let i;if(n.version==="v1")i=this._streamEventsV1(e,n,r);else if(n.version==="v2")i=this._streamEventsV2(e,n,r);else throw new Error('Only versions "v1" and "v2" of the schema are currently supported.');return n.encoding==="text/event-stream"?rme(i):Ea.fromAsyncGenerator(i)}async*_streamEventsV2(e,n,r){var m;const i=new Dpe({...r,autoClose:!1}),a=pt(n),s=a.runId??Er();a.runId=s;const o=a.callbacks;if(o===void 0)a.callbacks=[i];else if(Array.isArray(o))a.callbacks=o.concat(i);else{const g=o.copy();g.addHandler(i,!0),a.callbacks=g}const l=new AbortController,c=this;async function d(){let g,b=null;try{n!=null&&n.signal?"any"in AbortSignal?g=AbortSignal.any([l.signal,n.signal]):(g=n.signal,b=()=>{l.abort()},n.signal.addEventListener("abort",b,{once:!0})):g=l.signal;const x=await c.stream(e,{...a,signal:g}),v=i.tapOutputIterable(s,x);for await(const y of v)if(l.signal.aborted)break}finally{await i.finish(),g&&b&&g.removeEventListener("abort",b)}}const f=d();let h=!1,p;try{for await(const g of i){if(!h){g.data.input=e,h=!0,p=g.run_id,yield g;continue}g.run_id===p&&g.event.endsWith("_end")&&(m=g.data)!=null&&m.input&&delete g.data.input,yield g}}finally{l.abort(),await f}}async*_streamEventsV1(e,n,r){let i,a=!1;const s=pt(n),o=s.tags??[],l=s.metadata??{},c=s.runName??this.getName(),d=new rj({...r,autoClose:!1,_schemaFormat:"streaming_events"}),f=new Ype({...r}),h=this._streamLog(e,d,s);for await(const m of h){if(i?i=i.concat(m):i=AC.fromRunLogPatch(m),i.state===void 0)throw new Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!a){a=!0;const v={...i.state},y={run_id:v.id,event:`on_${v.type}_start`,name:c,tags:o,metadata:l,data:{input:e}};f.includeEvent(y,v.type)&&(yield y)}const g=m.ops.filter(v=>v.path.startsWith("/logs/")).map(v=>v.path.split("/")[2]),b=[...new Set(g)];for(const v of b){let y,w={};const _=i.state.logs[v];if(_.end_time===void 0?_.streamed_output.length>0?y="stream":y="start":y="end",y==="start")_.inputs!==void 0&&(w.input=_.inputs);else if(y==="end")_.inputs!==void 0&&(w.input=_.inputs),w.output=_.final_output;else if(y==="stream"){const E=_.streamed_output.length;if(E!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${E} instead. Encountered in: "${_.name}"`);w={chunk:_.streamed_output[0]},_.streamed_output=[]}yield{event:`on_${_.type}_${y}`,name:_.name,run_id:_.id,tags:_.tags,metadata:_.metadata,data:w}}const{state:x}=i;if(x.streamed_output.length>0){const v=x.streamed_output.length;if(v!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${v} instead. Encountered in: "${x.name}"`);const y={chunk:x.streamed_output[0]};x.streamed_output=[];const w={event:`on_${x.type}_stream`,run_id:x.id,tags:o,metadata:l,name:c,data:y};f.includeEvent(w,x.type)&&(yield w)}}const p=i==null?void 0:i.state;if(p!==void 0){const m={event:`on_${p.type}_end`,name:c,run_id:p.id,tags:o,metadata:l,data:{output:p.final_output}};f.includeEvent(m,p.type)&&(yield m)}}static isRunnable(e){return TC(e)}withListeners({onStart:e,onEnd:n,onError:r}){return new Yd({bound:this,config:{},configFactories:[i=>({callbacks:[new P6({config:i,onStart:e,onEnd:n,onError:r})]})]})}asTool(e){return cme(this,e)}},Yd=class $6 extends fn{constructor(n){super(n);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"lc_serializable",!0);H(this,"bound");H(this,"config");H(this,"kwargs");H(this,"configFactories");this.bound=n.bound,this.kwargs=n.kwargs,this.config=n.config,this.configFactories=n.configFactories}static lc_name(){return"RunnableBinding"}getName(n){return this.bound.getName(n)}async _mergeConfig(...n){const r=YE(this.config,...n);return YE(r,...this.configFactories?await Promise.all(this.configFactories.map(async i=>await i(r))):[])}withConfig(n){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...n}})}withRetry(n){return new CC({bound:this.bound,kwargs:this.kwargs,config:this.config,maxAttemptNumber:n==null?void 0:n.stopAfterAttempt,...n})}async invoke(n,r){return this.bound.invoke(n,await this._mergeConfig(r,this.kwargs))}async batch(n,r,i){const a=Array.isArray(r)?await Promise.all(r.map(async s=>this._mergeConfig(pt(s),this.kwargs))):await this._mergeConfig(pt(r),this.kwargs);return this.bound.batch(n,a,i)}_concatOutputChunks(n,r){return this.bound._concatOutputChunks(n,r)}async*_streamIterator(n,r){yield*this.bound._streamIterator(n,await this._mergeConfig(pt(r),this.kwargs))}async stream(n,r){return this.bound.stream(n,await this._mergeConfig(pt(r),this.kwargs))}async*transform(n,r){yield*this.bound.transform(n,await this._mergeConfig(pt(r),this.kwargs))}streamEvents(n,r,i){const a=this,s=async function*(){yield*a.bound.streamEvents(n,{...await a._mergeConfig(pt(r),a.kwargs),version:r.version},i)};return Ea.fromAsyncGenerator(s())}static isRunnableBinding(n){return n.bound&&fn.isRunnable(n.bound)}withListeners({onStart:n,onEnd:r,onError:i}){return new $6({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[a=>({callbacks:[new P6({config:a,onStart:n,onEnd:r,onError:i})]})]})}},ame=class R6 extends fn{constructor(n){super(n);H(this,"lc_serializable",!0);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"bound");this.bound=n.bound}static lc_name(){return"RunnableEach"}async invoke(n,r){return this._callWithConfig(this._invoke.bind(this),n,r)}async _invoke(n,r,i){return this.bound.batch(n,Zt(r,{callbacks:i==null?void 0:i.getChild()}))}withListeners({onStart:n,onEnd:r,onError:i}){return new R6({bound:this.bound.withListeners({onStart:n,onEnd:r,onError:i})})}},CC=class extends Yd{constructor(e){super(e);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"maxAttemptNumber",3);H(this,"onFailedAttempt",()=>{});this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}static lc_name(){return"RunnableRetry"}_patchConfigForRetry(e,n,r){const i=e>1?`retry:attempt:${e}`:void 0;return Zt(n,{callbacks:r==null?void 0:r.getChild(i)})}async _invoke(e,n,r){return ij(i=>super.invoke(e,this._patchConfigForRetry(i,n,r)),{onFailedAttempt:({error:i})=>this.onFailedAttempt(i,e),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,n){return this._callWithConfig(this._invoke.bind(this),e,n)}async _batch(e,n,r,i){const a={};try{await ij(async s=>{const o=e.map((h,p)=>p).filter(h=>a[h.toString()]===void 0||a[h.toString()]instanceof Error),l=o.map(h=>e[h]),c=o.map(h=>this._patchConfigForRetry(s,n==null?void 0:n[h],r==null?void 0:r[h])),d=await super.batch(l,c,{...i,returnExceptions:!0});let f;for(let h=0;h<d.length;h+=1){const p=d[h],m=o[h];p instanceof Error&&f===void 0&&(f=p,f.input=l[h]),a[m.toString()]=p}if(f)throw f;return d},{onFailedAttempt:({error:s})=>this.onFailedAttempt(s,s.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(s){if((i==null?void 0:i.returnExceptions)!==!0)throw s}return Object.keys(a).sort((s,o)=>parseInt(s,10)-parseInt(o,10)).map(s=>a[parseInt(s,10)])}async batch(e,n,r){return this._batchWithConfig(this._batch.bind(this),e,n,r)}},hg=class zh extends fn{constructor(n){super(n);H(this,"first");H(this,"middle",[]);H(this,"last");H(this,"omitSequenceTags",!1);H(this,"lc_serializable",!0);H(this,"lc_namespace",["langchain_core","runnables"]);this.first=n.first,this.middle=n.middle??this.middle,this.last=n.last,this.name=n.name,this.omitSequenceTags=n.omitSequenceTags??this.omitSequenceTags}static lc_name(){return"RunnableSequence"}get steps(){return[this.first,...this.middle,this.last]}async invoke(n,r){var c;const i=pt(r),a=await ii(i),s=await(a==null?void 0:a.handleChainStart(this.toJSON(),wn(n,"input"),i.runId,void 0,void 0,void 0,i==null?void 0:i.runName));delete i.runId;let o=n,l;try{const d=[this.first,...this.middle];for(let f=0;f<d.length;f+=1){const p=d[f].invoke(o,Zt(i,{callbacks:s==null?void 0:s.getChild(this.omitSequenceTags?void 0:`seq:step:${f+1}`)}));o=await io(p,r==null?void 0:r.signal)}if((c=r==null?void 0:r.signal)!=null&&c.aborted)throw u0(r.signal);l=await this.last.invoke(o,Zt(i,{callbacks:s==null?void 0:s.getChild(this.omitSequenceTags?void 0:`seq:step:${this.steps.length}`)}))}catch(d){throw await(s==null?void 0:s.handleChainError(d)),d}return await(s==null?void 0:s.handleChainEnd(wn(l,"output"))),l}async batch(n,r,i){var c;const a=this._getOptionsList(r??{},n.length),s=await Promise.all(a.map(ii)),o=await Promise.all(s.map(async(d,f)=>{const h=await(d==null?void 0:d.handleChainStart(this.toJSON(),wn(n[f],"input"),a[f].runId,void 0,void 0,void 0,a[f].runName));return delete a[f].runId,h}));let l=n;try{for(let d=0;d<this.steps.length;d+=1){const h=this.steps[d].batch(l,o.map((p,m)=>{const g=p==null?void 0:p.getChild(this.omitSequenceTags?void 0:`seq:step:${d+1}`);return Zt(a[m],{callbacks:g})}),i);l=await io(h,(c=a[0])==null?void 0:c.signal)}}catch(d){throw await Promise.all(o.map(f=>f==null?void 0:f.handleChainError(d))),d}return await Promise.all(o.map(d=>d==null?void 0:d.handleChainEnd(wn(l,"output")))),l}_concatOutputChunks(n,r){return this.last._concatOutputChunks(n,r)}async*_streamIterator(n,r){var h;const i=await ii(r),{runId:a,...s}=r??{},o=await(i==null?void 0:i.handleChainStart(this.toJSON(),wn(n,"input"),a,void 0,void 0,void 0,s==null?void 0:s.runName)),l=[this.first,...this.middle,this.last];let c=!0,d;async function*f(){yield n}try{let p=l[0].transform(f(),Zt(s,{callbacks:o==null?void 0:o.getChild(this.omitSequenceTags?void 0:"seq:step:1")}));for(let m=1;m<l.length;m+=1)p=await l[m].transform(p,Zt(s,{callbacks:o==null?void 0:o.getChild(this.omitSequenceTags?void 0:`seq:step:${m+1}`)}));for await(const m of p)if((h=r==null?void 0:r.signal)==null||h.throwIfAborted(),yield m,c)if(d===void 0)d=m;else try{d=this._concatOutputChunks(d,m)}catch{d=void 0,c=!1}}catch(p){throw await(o==null?void 0:o.handleChainError(p)),p}await(o==null?void 0:o.handleChainEnd(wn(d,"output")))}getGraph(n){const r=new kC;let i=null;return this.steps.forEach((a,s)=>{const o=a.getGraph(n);s!==0&&o.trimFirstNode(),s!==this.steps.length-1&&o.trimLastNode(),r.extend(o);const l=o.firstNode();if(!l)throw new Error(`Runnable ${a} has no first node`);i&&r.addEdge(i,l),i=o.lastNode()}),r}pipe(n){return zh.isRunnableSequence(n)?new zh({first:this.first,middle:this.middle.concat([this.last,n.first,...n.middle]),last:n.last,name:this.name??n.name}):new zh({first:this.first,middle:[...this.middle,this.last],last:ca(n),name:this.name})}static isRunnableSequence(n){return Array.isArray(n.middle)&&fn.isRunnable(n)}static from([n,...r],i){let a={};return typeof i=="string"?a.name=i:i!==void 0&&(a=i),new zh({...a,first:ca(n),middle:r.slice(0,-1).map(ca),last:ca(r[r.length-1])})}},Bf=class M6 extends fn{constructor(n){super(n);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"lc_serializable",!0);H(this,"steps");this.steps={};for(const[r,i]of Object.entries(n.steps))this.steps[r]=ca(i)}static lc_name(){return"RunnableMap"}getStepsKeys(){return Object.keys(this.steps)}static from(n){return new M6({steps:n})}async invoke(n,r){const i=pt(r),a=await ii(i),s=await(a==null?void 0:a.handleChainStart(this.toJSON(),{input:n},i.runId,void 0,void 0,void 0,i==null?void 0:i.runName));delete i.runId;const o={};try{const l=Object.entries(this.steps).map(async([c,d])=>{o[c]=await d.invoke(n,Zt(i,{callbacks:s==null?void 0:s.getChild(`map:key:${c}`)}))});await io(Promise.all(l),r==null?void 0:r.signal)}catch(l){throw await(s==null?void 0:s.handleChainError(l)),l}return await(s==null?void 0:s.handleChainEnd(o)),o}async*_transform(n,r,i){const a={...this.steps},s=EC(n,Object.keys(a).length),o=new Map(Object.entries(a).map(([l,c],d)=>{const f=c.transform(s[d],Zt(i,{callbacks:r==null?void 0:r.getChild(`map:key:${l}`)}));return[l,f.next().then(h=>({key:l,gen:f,result:h}))]}));for(;o.size;){const l=Promise.race(o.values()),{key:c,result:d,gen:f}=await io(l,i==null?void 0:i.signal);o.delete(c),d.done||(yield{[c]:d.value},o.set(c,f.next().then(h=>({key:c,gen:f,result:h}))))}}transform(n,r){return this._transformStreamWithConfig(n,this._transform.bind(this),r)}async stream(n,r){async function*i(){yield n}const a=pt(r),s=new nu({generator:this.transform(i(),a),config:a});return await s.setup,Ea.fromAsyncGenerator(s)}},sme=class D6 extends fn{constructor(n){super(n);H(this,"lc_serializable",!1);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"func");if(!SC(n.func))throw new Error("RunnableTraceable requires a function that is wrapped in traceable higher-order function");this.func=n.func}async invoke(n,r){const[i]=this._getOptionsList(r??{},1),a=await ii(i),s=this.func(Zt(i,{callbacks:a}),n);return io(s,i==null?void 0:i.signal)}async*_streamIterator(n,r){var s,o;const[i]=this._getOptionsList(r??{},1),a=await this.invoke(n,r);if(aj(a)){for await(const l of a)(s=i==null?void 0:i.signal)==null||s.throwIfAborted(),yield l;return}if(ime(a)){for(;;){(o=i==null?void 0:i.signal)==null||o.throwIfAborted();const l=a.next();if(l.done)break;yield l.value}return}yield a}static from(n){return new D6({func:n})}};function ome(t){if(SC(t))throw new Error("RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.")}var Rl=class L6 extends fn{constructor(n){if(SC(n.func))return sme.from(n.func);super(n);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"func");ome(n.func),this.func=n.func}static lc_name(){return"RunnableLambda"}static from(n){return new L6({func:n})}async _invoke(n,r,i){return new Promise((a,s)=>{const o=Zt(r,{callbacks:i==null?void 0:i.getChild(),recursionLimit:((r==null?void 0:r.recursionLimit)??a1)-1});ro.runWithConfig(Fc(o),async()=>{var l,c;try{let d=await this.func(n,{...o});if(d&&fn.isRunnable(d)){if((r==null?void 0:r.recursionLimit)===0)throw new Error("Recursion limit reached.");d=await d.invoke(n,{...o,recursionLimit:(o.recursionLimit??a1)-1})}else if(aj(d)){let f;for await(const h of sj(o,d))if((l=r==null?void 0:r.signal)==null||l.throwIfAborted(),f===void 0)f=h;else try{f=this._concatOutputChunks(f,h)}catch{f=h}d=f}else if(M$(d)){let f;for(const h of D$(o,d))if((c=r==null?void 0:r.signal)==null||c.throwIfAborted(),f===void 0)f=h;else try{f=this._concatOutputChunks(f,h)}catch{f=h}d=f}a(d)}catch(d){s(d)}})})}async invoke(n,r){return this._callWithConfig(this._invoke.bind(this),n,r)}async*_transform(n,r,i){var l,c;let a;for await(const d of n)if(a===void 0)a=d;else try{a=this._concatOutputChunks(a,d)}catch{a=d}const s=Zt(i,{callbacks:r==null?void 0:r.getChild(),recursionLimit:((i==null?void 0:i.recursionLimit)??a1)-1}),o=await new Promise((d,f)=>{ro.runWithConfig(Fc(s),async()=>{try{const h=await this.func(a,{...s,config:s});d(h)}catch(h){f(h)}})});if(o&&fn.isRunnable(o)){if((i==null?void 0:i.recursionLimit)===0)throw new Error("Recursion limit reached.");const d=await o.stream(a,s);for await(const f of d)yield f}else if(aj(o))for await(const d of sj(s,o))(l=i==null?void 0:i.signal)==null||l.throwIfAborted(),yield d;else if(M$(o))for(const d of D$(s,o))(c=i==null?void 0:i.signal)==null||c.throwIfAborted(),yield d;else yield o}transform(n,r){return this._transformStreamWithConfig(n,this._transform.bind(this),r)}async stream(n,r){async function*i(){yield n}const a=pt(r),s=new nu({generator:this.transform(i(),a),config:a});return await s.setup,Ea.fromAsyncGenerator(s)}},lme=class extends Bf{},F6=class extends fn{constructor(e){super(e);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"lc_serializable",!0);H(this,"runnable");H(this,"fallbacks");this.runnable=e.runnable,this.fallbacks=e.fallbacks}static lc_name(){return"RunnableWithFallbacks"}*runnables(){yield this.runnable;for(const e of this.fallbacks)yield e}async invoke(e,n){const r=pt(n),i=await ii(r),{runId:a,...s}=r,o=await(i==null?void 0:i.handleChainStart(this.toJSON(),wn(e,"input"),a,void 0,void 0,void 0,s==null?void 0:s.runName)),l=Zt(s,{callbacks:o==null?void 0:o.getChild()});return await ro.runWithConfig(l,async()=>{var f;let d;for(const h of this.runnables()){(f=r==null?void 0:r.signal)==null||f.throwIfAborted();try{const p=await h.invoke(e,l);return await(o==null?void 0:o.handleChainEnd(wn(p,"output"))),p}catch(p){d===void 0&&(d=p)}}throw d===void 0?new Error("No error stored at end of fallback."):(await(o==null?void 0:o.handleChainError(d)),d)})}async*_streamIterator(e,n){var f;const r=pt(n),i=await ii(r),{runId:a,...s}=r,o=await(i==null?void 0:i.handleChainStart(this.toJSON(),wn(e,"input"),a,void 0,void 0,void 0,s==null?void 0:s.runName));let l,c;for(const h of this.runnables()){(f=r==null?void 0:r.signal)==null||f.throwIfAborted();const p=Zt(s,{callbacks:o==null?void 0:o.getChild()});try{const m=await h.stream(e,p);c=sj(p,m);break}catch(m){l===void 0&&(l=m)}}if(c===void 0){const h=l??new Error("No error stored at end of fallback.");throw await(o==null?void 0:o.handleChainError(h)),h}let d;try{for await(const h of c){yield h;try{d=d===void 0?d:this._concatOutputChunks(d,h)}catch{d=void 0}}}catch(h){throw await(o==null?void 0:o.handleChainError(h)),h}await(o==null?void 0:o.handleChainEnd(wn(d,"output")))}async batch(e,n,r){var l;if(r!=null&&r.returnExceptions)throw new Error("Not implemented.");const i=this._getOptionsList(n??{},e.length),a=await Promise.all(i.map(c=>ii(c))),s=await Promise.all(a.map(async(c,d)=>{const f=await(c==null?void 0:c.handleChainStart(this.toJSON(),wn(e[d],"input"),i[d].runId,void 0,void 0,void 0,i[d].runName));return delete i[d].runId,f}));let o;for(const c of this.runnables()){(l=i[0].signal)==null||l.throwIfAborted();try{const d=await c.batch(e,s.map((f,h)=>Zt(i[h],{callbacks:f==null?void 0:f.getChild()})),r);return await Promise.all(s.map((f,h)=>f==null?void 0:f.handleChainEnd(wn(d[h],"output")))),d}catch(d){o===void 0&&(o=d)}}throw o?(await Promise.all(s.map(c=>c==null?void 0:c.handleChainError(o))),o):new Error("No error stored at end of fallbacks.")}};function ca(t){if(typeof t=="function")return new Rl({func:t});if(fn.isRunnable(t))return t;if(!Array.isArray(t)&&typeof t=="object"){const e={};for(const[n,r]of Object.entries(t))e[n]=ca(r);return new Bf({steps:e})}else throw new Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}var OC=class extends fn{constructor(e){e instanceof Bf&&(e={mapper:e});super(e);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"lc_serializable",!0);H(this,"mapper");this.mapper=e.mapper}static lc_name(){return"RunnableAssign"}async invoke(e,n){const r=await this.mapper.invoke(e,n);return{...e,...r}}async*_transform(e,n,r){const i=this.mapper.getStepsKeys(),[a,s]=EC(e),o=this.mapper.transform(s,Zt(r,{callbacks:n==null?void 0:n.getChild()})),l=o.next();for await(const c of a){if(typeof c!="object"||Array.isArray(c))throw new Error(`RunnableAssign can only be used with objects as input, got ${typeof c}`);const d=Object.fromEntries(Object.entries(c).filter(([f])=>!i.includes(f)));Object.keys(d).length>0&&(yield d)}yield(await l).value;for await(const c of o)yield c}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=pt(n),a=new nu({generator:this.transform(r(),i),config:i});return await a.setup,Ea.fromAsyncGenerator(a)}},B6=class extends fn{constructor(e){(typeof e=="string"||Array.isArray(e))&&(e={keys:e});super(e);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"lc_serializable",!0);H(this,"keys");this.keys=e.keys}static lc_name(){return"RunnablePick"}async _pick(e){if(typeof this.keys=="string")return e[this.keys];{const n=this.keys.map(r=>[r,e[r]]).filter(r=>r[1]!==void 0);return n.length===0?void 0:Object.fromEntries(n)}}async invoke(e,n){return this._callWithConfig(this._pick.bind(this),e,n)}async*_transform(e){for await(const n of e){const r=await this._pick(n);r!==void 0&&(yield r)}}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=pt(n),a=new nu({generator:this.transform(r(),i),config:i});return await a.setup,Ea.fromAsyncGenerator(a)}},oj=class extends Yd{constructor(e){const n=hg.from([Rl.from(async r=>{let i;if(CU(r))try{i=await Kk(this.schema,r.args)}catch{throw new ice("Received tool input did not match expected schema",JSON.stringify(r.args))}else i=r;return i}).withConfig({runName:`${e.name}:parse_input`}),e.bound]).withConfig({runName:e.name});super({bound:n,config:e.config??{}});H(this,"name");H(this,"description");H(this,"schema");this.name=e.name,this.description=e.description,this.schema=e.schema}static lc_name(){return"RunnableToolLike"}};function cme(t,e){const n=e.name??t.getName(),r=e.description??Yk(e.schema);return Gz(e.schema)?new oj({name:n,description:r,schema:Qk({input:Jk()}).transform(i=>i.input),bound:t}):new oj({name:n,description:r,schema:e.schema,bound:t})}const h0=(t,e)=>{const n=[...new Set(e==null?void 0:e.map(i=>{if(typeof i=="string")return i;const a=new i({});if(!("getType"in a)||typeof a.getType!="function")throw new Error("Invalid type provided.");return a.getType()}))],r=t.getType();return n.some(i=>i===r)};function ume(t,e){return Array.isArray(t)?L$(t,e):Rl.from(n=>L$(n,t))}function L$(t,e={}){const{includeNames:n,excludeNames:r,includeTypes:i,excludeTypes:a,includeIds:s,excludeIds:o}=e,l=[];for(const c of t)if(!(r&&c.name&&r.includes(c.name))){{if(a&&h0(c,a))continue;if(o&&c.id&&o.includes(c.id))continue}i||s||n?(n&&c.name&&n.some(d=>d===c.name)||i&&h0(c,i)||s&&c.id&&s.some(d=>d===c.id))&&l.push(c):l.push(c)}return l}function dme(t){return Array.isArray(t)?F$(t):Rl.from(F$)}function F$(t){if(!t.length)return[];const e=[];for(const n of t){const r=n,i=e.pop();if(!i)e.push(r);else if(r.getType()==="tool"||r.getType()!==i.getType())e.push(i,r);else{const a=o0(i),s=o0(r),o=a.concat(s);typeof a.content=="string"&&typeof s.content=="string"&&(o.content=`${a.content}
${s.content}`),e.push(pme(o))}}return e}function fme(t,e){if(Array.isArray(t)){const n=t;if(!e)throw new Error("Options parameter is required when providing messages.");return B$(n,e)}else{const n=t;return Rl.from(r=>B$(r,n)).withConfig({runName:"trim_messages"})}}async function B$(t,e){const{maxTokens:n,tokenCounter:r,strategy:i="last",allowPartial:a=!1,endOn:s,startOn:o,includeSystem:l=!1,textSplitter:c}=e;if(o&&i==="first")throw new Error("`startOn` should only be specified if `strategy` is 'last'.");if(l&&i==="first")throw new Error("`includeSystem` should only be specified if `strategy` is 'last'.");let d;"getNumTokens"in r?d=async h=>(await Promise.all(h.map(m=>r.getNumTokens(m.content)))).reduce((m,g)=>m+g,0):d=async h=>r(h);let f=U6;if(c&&("splitText"in c?f=c.splitText:f=async h=>c(h)),i==="first")return z6(t,{maxTokens:n,tokenCounter:d,textSplitter:f,partialStrategy:a?"first":void 0,endOn:s});if(i==="last")return hme(t,{maxTokens:n,tokenCounter:d,textSplitter:f,allowPartial:a,includeSystem:l,startOn:o,endOn:s});throw new Error(`Unrecognized strategy: '${i}'. Must be one of 'first' or 'last'.`)}async function z6(t,e){const{maxTokens:n,tokenCounter:r,textSplitter:i,partialStrategy:a,endOn:s}=e;let o=[...t],l=0;for(let c=0;c<o.length;c+=1){const d=c>0?o.slice(0,-c):o;if(await r(d)<=n){l=o.length-c;break}}if(l<o.length&&a){let c=!1;if(Array.isArray(o[l].content)){const d=o[l];if(typeof d.content=="string")throw new Error("Expected content to be an array.");const f=d.content.length,h=a==="last"?[...d.content].reverse():d.content;for(let p=1;p<=f;p+=1){const m=a==="first"?h.slice(0,p):h.slice(-p),g=Object.fromEntries(Object.entries(d).filter(([v])=>v!=="type"&&!v.startsWith("lc_"))),b=NC(d.getType(),{...g,content:m}),x=[...o.slice(0,l),b];if(await r(x)<=n)o=x,l+=1,c=!0;else break}c&&a==="last"&&(d.content=[...h].reverse())}if(!c){const d=o[l];let f;if(Array.isArray(d.content)&&d.content.some(h=>typeof h=="string"||h.type==="text")){const h=d.content.find(p=>p.type==="text"&&p.text);f=h==null?void 0:h.text}else typeof d.content=="string"&&(f=d.content);if(f){const h=await i(f),p=h.length;a==="last"&&h.reverse();for(let m=0;m<p-1;m+=1)if(h.pop(),d.content=h.join(""),await r([...o.slice(0,l),d])<=n){a==="last"&&(d.content=[...h].reverse().join("")),o=[...o.slice(0,l),d],l+=1;break}}}}if(s){const c=Array.isArray(s)?s:[s];for(;l>0&&!h0(o[l-1],c);)l-=1}return o.slice(0,l)}async function hme(t,e){var d;const{allowPartial:n=!1,includeSystem:r=!1,endOn:i,startOn:a,...s}=e;let o=t.map(f=>{const h=Object.fromEntries(Object.entries(f).filter(([p])=>p!=="type"&&!p.startsWith("lc_")));return NC(f.getType(),h,aC(f))});if(i){const f=Array.isArray(i)?i:[i];for(;o.length>0&&!h0(o[o.length-1],f);)o=o.slice(0,-1)}const l=r&&((d=o[0])==null?void 0:d.getType())==="system";let c=l?o.slice(0,1).concat(o.slice(1).reverse()):o.reverse();return c=await z6(c,{...s,partialStrategy:n?"last":void 0,endOn:a}),l?[c[0],...c.slice(1).reverse()]:c.reverse()}const z$={human:{message:Sa,messageChunk:cg},ai:{message:cs,messageChunk:fo},system:{message:us,messageChunk:Sl},developer:{message:us,messageChunk:Sl},tool:{message:Df,messageChunk:sg},function:{message:vb,messageChunk:lg},generic:{message:tu,messageChunk:og},remove:{message:s0,messageChunk:s0}};function NC(t,e,n){var a;let r,i;switch(t){case"human":n?r=new cg(e):i=new Sa(e);break;case"ai":if(n){let s={...e};"tool_calls"in s&&(s={...s,tool_call_chunks:(a=s.tool_calls)==null?void 0:a.map(o=>({...o,type:"tool_call_chunk",index:void 0,args:JSON.stringify(o.args)}))}),r=new fo(s)}else i=new cs(e);break;case"system":n?r=new Sl(e):i=new us(e);break;case"developer":n?r=new Sl({...e,additional_kwargs:{...e.additional_kwargs,__openai_role__:"developer"}}):i=new us({...e,additional_kwargs:{...e.additional_kwargs,__openai_role__:"developer"}});break;case"tool":if("tool_call_id"in e)n?r=new sg(e):i=new Df(e);else throw new Error("Can not convert ToolMessage to ToolMessageChunk if 'tool_call_id' field is not defined.");break;case"function":if(n)r=new lg(e);else{if(!e.name)throw new Error("FunctionMessage must have a 'name' field");i=new vb(e)}break;case"generic":if("role"in e)n?r=new og(e):i=new tu(e);else throw new Error("Can not convert ChatMessage to ChatMessageChunk if 'role' field is not defined.");break;default:throw new Error(`Unrecognized message type ${t}`)}if(n&&r)return r;if(i)return i;throw new Error(`Unrecognized message type ${t}`)}function pme(t){const e=t.getType();let n;const r=Object.fromEntries(Object.entries(t).filter(([i])=>!["type","tool_call_chunks"].includes(i)&&!i.startsWith("lc_")));if(e in z$&&(n=NC(e,r)),!n)throw new Error(`Unrecognized message chunk class ${e}. Supported classes are ${Object.keys(z$)}`);return n}function U6(t){const e=t.split(`
`);return Promise.resolve([...e.slice(0,-1).map(n=>`${n}
`),e[e.length-1]])}const mme=["tool_call","tool_call_chunk","invalid_tool_call","server_tool_call","server_tool_call_chunk","server_tool_call_result"],gme=["image","video","audio","text-plain","file"],yme=["text","reasoning",...mme,...gme];var vme={};bt(vme,{AIMessage:()=>cs,AIMessageChunk:()=>fo,BaseMessage:()=>uo,BaseMessageChunk:()=>$l,ChatMessage:()=>tu,ChatMessageChunk:()=>og,FunctionMessage:()=>vb,FunctionMessageChunk:()=>lg,HumanMessage:()=>Sa,HumanMessageChunk:()=>cg,KNOWN_BLOCK_TYPES:()=>yme,RemoveMessage:()=>s0,SystemMessage:()=>us,SystemMessageChunk:()=>Sl,ToolMessage:()=>Df,ToolMessageChunk:()=>sg,_isMessageFieldWithRole:()=>xU,_mergeDicts:()=>Jn,_mergeLists:()=>ag,_mergeObj:()=>yU,_mergeStatus:()=>gU,coerceMessageLikeToMessage:()=>sp,convertToChunk:()=>o0,convertToOpenAIImageBlock:()=>oU,convertToProviderContentBlock:()=>dle,defaultTextSplitter:()=>U6,defaultToolCallParser:()=>oC,filterMessages:()=>ume,getBufferString:()=>lC,iife:()=>ace,isAIMessage:()=>yb,isAIMessageChunk:()=>UE,isBase64ContentBlock:()=>tC,isBaseMessage:()=>Go,isBaseMessageChunk:()=>aC,isChatMessage:()=>Xle,isChatMessageChunk:()=>Zle,isDataContentBlock:()=>_l,isDirectToolOutput:()=>EU,isFunctionMessage:()=>Jle,isFunctionMessageChunk:()=>Qle,isHumanMessage:()=>ece,isHumanMessageChunk:()=>tce,isIDContentBlock:()=>sU,isMessage:()=>mU,isOpenAIToolCallArray:()=>Ble,isPlainTextContentBlock:()=>cle,isSystemMessage:()=>nce,isSystemMessageChunk:()=>rce,isToolMessage:()=>jU,isToolMessageChunk:()=>AU,isURLContentBlock:()=>eC,mapChatMessagesToStoredMessages:()=>uce,mapStoredMessageToChatMessage:()=>cC,mapStoredMessagesToChatMessages:()=>cce,mergeContent:()=>no,mergeMessageRuns:()=>dme,mergeResponseMetadata:()=>wU,mergeUsageMetadata:()=>SU,parseBase64DataUrl:()=>BE,parseMimeType:()=>ule,trimMessages:()=>fme});var xme={};bt(xme,{BasePromptValue:()=>Tb,ChatPromptValue:()=>V6,ImagePromptValue:()=>bme,StringPromptValue:()=>H6});var Tb=class extends qd{},H6=class extends Tb{constructor(e){super({value:e});H(this,"lc_namespace",["langchain_core","prompt_values"]);H(this,"lc_serializable",!0);H(this,"value");this.value=e}static lc_name(){return"StringPromptValue"}toString(){return this.value}toChatMessages(){return[new Sa(this.value)]}},V6=class extends Tb{constructor(e){Array.isArray(e)&&(e={messages:e});super(e);H(this,"lc_namespace",["langchain_core","prompt_values"]);H(this,"lc_serializable",!0);H(this,"messages");this.messages=e.messages}static lc_name(){return"ChatPromptValue"}toString(){return lC(this.messages)}toChatMessages(){return this.messages}},bme=class extends Tb{constructor(e){"imageUrl"in e||(e={imageUrl:e});super(e);H(this,"lc_namespace",["langchain_core","prompt_values"]);H(this,"lc_serializable",!0);H(this,"imageUrl");H(this,"value");this.imageUrl=e.imageUrl}static lc_name(){return"ImagePromptValue"}toString(){return this.imageUrl.url}toChatMessages(){return[new Sa({content:[{type:"image_url",image_url:{detail:this.imageUrl.detail,url:this.imageUrl.url}}]})]}},Ae="0123456789abcdef".split(""),wme=[-2147483648,8388608,32768,128],qi=[24,16,8,0],by=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],On=[];function ja(t,e){e?(On[0]=On[16]=On[1]=On[2]=On[3]=On[4]=On[5]=On[6]=On[7]=On[8]=On[9]=On[10]=On[11]=On[12]=On[13]=On[14]=On[15]=0,this.blocks=On):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}ja.prototype.update=function(t){if(!this.finalized){var e,n=typeof t;if(n!=="string"){if(n==="object"){if(t===null)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}else throw new Error(ERROR);e=!0}for(var r,i=0,a,s=t.length,o=this.blocks;i<s;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,this.block=o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),e)for(a=this.start;i<s&&a<64;++i)o[a>>>2]|=t[i]<<qi[a++&3];else for(a=this.start;i<s&&a<64;++i)r=t.charCodeAt(i),r<128?o[a>>>2]|=r<<qi[a++&3]:r<2048?(o[a>>>2]|=(192|r>>>6)<<qi[a++&3],o[a>>>2]|=(128|r&63)<<qi[a++&3]):r<55296||r>=57344?(o[a>>>2]|=(224|r>>>12)<<qi[a++&3],o[a>>>2]|=(128|r>>>6&63)<<qi[a++&3],o[a>>>2]|=(128|r&63)<<qi[a++&3]):(r=65536+((r&1023)<<10|t.charCodeAt(++i)&1023),o[a>>>2]|=(240|r>>>18)<<qi[a++&3],o[a>>>2]|=(128|r>>>12&63)<<qi[a++&3],o[a>>>2]|=(128|r>>>6&63)<<qi[a++&3],o[a>>>2]|=(128|r&63)<<qi[a++&3]);this.lastByteIndex=a,this.bytes+=a-this.start,a>=64?(this.block=o[16],this.start=a-64,this.hash(),this.hashed=!0):this.start=a}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}};ja.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>>2]|=wme[e&3],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}};ja.prototype.hash=function(){var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,a=this.h5,s=this.h6,o=this.h7,l=this.blocks,c,d,f,h,p,m,g,b,x,v,y;for(c=16;c<64;++c)p=l[c-15],d=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3,p=l[c-2],f=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,l[c]=l[c-16]+d+l[c-7]+f<<0;for(y=e&n,c=0;c<64;c+=4)this.first?(this.is224?(b=300032,p=l[0]-1413257819,o=p-150054599<<0,r=p+24177077<<0):(b=704751109,p=l[0]-210244248,o=p-1521486534<<0,r=p+143694565<<0),this.first=!1):(d=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),f=(i>>>6|i<<26)^(i>>>11|i<<21)^(i>>>25|i<<7),b=t&e,h=b^t&n^y,g=i&a^~i&s,p=o+f+g+by[c]+l[c],m=d+h,o=r+p<<0,r=p+m<<0),d=(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10),f=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7),x=r&t,h=x^r&e^b,g=s&o^~s&i,p=a+f+g+by[c+1]+l[c+1],m=d+h,s=n+p<<0,n=p+m<<0,d=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),f=(s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7),v=n&r,h=v^n&t^x,g=a&s^~a&o,p=i+f+g+by[c+2]+l[c+2],m=d+h,a=e+p<<0,e=p+m<<0,d=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),f=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7),y=e&n,h=y^e&r^v,g=a&s^~a&o,p=i+f+g+by[c+3]+l[c+3],m=d+h,i=t+p<<0,t=p+m<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0,this.h4=this.h4+i<<0,this.h5=this.h5+a<<0,this.h6=this.h6+s<<0,this.h7=this.h7+o<<0};ja.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,a=this.h5,s=this.h6,o=this.h7,l=Ae[t>>>28&15]+Ae[t>>>24&15]+Ae[t>>>20&15]+Ae[t>>>16&15]+Ae[t>>>12&15]+Ae[t>>>8&15]+Ae[t>>>4&15]+Ae[t&15]+Ae[e>>>28&15]+Ae[e>>>24&15]+Ae[e>>>20&15]+Ae[e>>>16&15]+Ae[e>>>12&15]+Ae[e>>>8&15]+Ae[e>>>4&15]+Ae[e&15]+Ae[n>>>28&15]+Ae[n>>>24&15]+Ae[n>>>20&15]+Ae[n>>>16&15]+Ae[n>>>12&15]+Ae[n>>>8&15]+Ae[n>>>4&15]+Ae[n&15]+Ae[r>>>28&15]+Ae[r>>>24&15]+Ae[r>>>20&15]+Ae[r>>>16&15]+Ae[r>>>12&15]+Ae[r>>>8&15]+Ae[r>>>4&15]+Ae[r&15]+Ae[i>>>28&15]+Ae[i>>>24&15]+Ae[i>>>20&15]+Ae[i>>>16&15]+Ae[i>>>12&15]+Ae[i>>>8&15]+Ae[i>>>4&15]+Ae[i&15]+Ae[a>>>28&15]+Ae[a>>>24&15]+Ae[a>>>20&15]+Ae[a>>>16&15]+Ae[a>>>12&15]+Ae[a>>>8&15]+Ae[a>>>4&15]+Ae[a&15]+Ae[s>>>28&15]+Ae[s>>>24&15]+Ae[s>>>20&15]+Ae[s>>>16&15]+Ae[s>>>12&15]+Ae[s>>>8&15]+Ae[s>>>4&15]+Ae[s&15];return this.is224||(l+=Ae[o>>>28&15]+Ae[o>>>24&15]+Ae[o>>>20&15]+Ae[o>>>16&15]+Ae[o>>>12&15]+Ae[o>>>8&15]+Ae[o>>>4&15]+Ae[o&15]),l};ja.prototype.toString=ja.prototype.hex;ja.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,a=this.h5,s=this.h6,o=this.h7,l=[t>>>24&255,t>>>16&255,t>>>8&255,t&255,e>>>24&255,e>>>16&255,e>>>8&255,e&255,n>>>24&255,n>>>16&255,n>>>8&255,n&255,r>>>24&255,r>>>16&255,r>>>8&255,r&255,i>>>24&255,i>>>16&255,i>>>8&255,i&255,a>>>24&255,a>>>16&255,a>>>8&255,a&255,s>>>24&255,s>>>16&255,s>>>8&255,s&255];return this.is224||l.push(o>>>24&255,o>>>16&255,o>>>8&255,o&255),l};ja.prototype.array=ja.prototype.digest;ja.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t};const W6=(...t)=>new ja(!1,!0).update(t.join("")).hex();var _me={};bt(_me,{sha256:()=>W6});var Sme={};bt(Sme,{BaseCache:()=>G6,InMemoryCache:()=>K6,defaultHashKeyEncoder:()=>q6,deserializeStoredGeneration:()=>Eme,serializeGeneration:()=>jme});const q6=(...t)=>W6(t.join("_"));function Eme(t){return t.message!==void 0?{text:t.text,message:cC(t.message)}:{text:t.text}}function jme(t){const e={text:t.text};return t.message!==void 0&&(e.message=t.message.toDict()),e}var G6=class{constructor(){H(this,"keyEncoder",q6)}makeDefaultKeyEncoder(t){this.keyEncoder=t}};const Ame=new Map;var K6=class Y6 extends G6{constructor(n){super();H(this,"cache");this.cache=n??new Map}lookup(n,r){return Promise.resolve(this.cache.get(this.keyEncoder(n,r))??null)}async update(n,r,i){this.cache.set(this.keyEncoder(n,r),i)}static global(){return new Y6(Ame)}},kb={};kb.byteLength=Cme;kb.toByteArray=Nme;kb.fromByteArray=$me;var Ga=[],bi=[],Tme=typeof Uint8Array<"u"?Uint8Array:Array,o1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var _u=0,kme=o1.length;_u<kme;++_u)Ga[_u]=o1[_u],bi[o1.charCodeAt(_u)]=_u;bi[45]=62;bi[95]=63;function X6(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function Cme(t){var e=X6(t),n=e[0],r=e[1];return(n+r)*3/4-r}function Ome(t,e,n){return(e+n)*3/4-n}function Nme(t){var e,n=X6(t),r=n[0],i=n[1],a=new Tme(Ome(t,r,i)),s=0,o=i>0?r-4:r,l;for(l=0;l<o;l+=4)e=bi[t.charCodeAt(l)]<<18|bi[t.charCodeAt(l+1)]<<12|bi[t.charCodeAt(l+2)]<<6|bi[t.charCodeAt(l+3)],a[s++]=e>>16&255,a[s++]=e>>8&255,a[s++]=e&255;return i===2&&(e=bi[t.charCodeAt(l)]<<2|bi[t.charCodeAt(l+1)]>>4,a[s++]=e&255),i===1&&(e=bi[t.charCodeAt(l)]<<10|bi[t.charCodeAt(l+1)]<<4|bi[t.charCodeAt(l+2)]>>2,a[s++]=e>>8&255,a[s++]=e&255),a}function Pme(t){return Ga[t>>18&63]+Ga[t>>12&63]+Ga[t>>6&63]+Ga[t&63]}function Ime(t,e,n){for(var r,i=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(t[a+2]&255),i.push(Pme(r));return i.join("")}function $me(t){for(var e,n=t.length,r=n%3,i=[],a=16383,s=0,o=n-r;s<o;s+=a)i.push(Ime(t,s,s+a>o?o:s+a));return r===1?(e=t[n-1],i.push(Ga[e>>2]+Ga[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Ga[e>>10]+Ga[e>>4&63]+Ga[e<<2&63]+"=")),i.join("")}var Rme=Object.defineProperty,Mme=(t,e,n)=>e in t?Rme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dme=(t,e,n)=>(Mme(t,e+"",n),n);function Lme(t,e){let n=Array.from({length:t.length},(r,i)=>({start:i,end:i+1}));for(;n.length>1;){let r=null;for(let i=0;i<n.length-1;i++){const a=t.slice(n[i].start,n[i+1].end),s=e.get(a.join(","));s!=null&&(r==null||s<r[0])&&(r=[s,i])}if(r!=null){const i=r[1];n[i]={start:n[i].start,end:n[i+1].end},n.splice(i+1,1)}else break}return n}function Fme(t,e){return t.length===1?[e.get(t.join(","))]:Lme(t,e).map(n=>e.get(t.slice(n.start,n.end).join(","))).filter(n=>n!=null)}function Bme(t){return t.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}var lj=class{constructor(t,e){H(this,"specialTokens");H(this,"inverseSpecialTokens");H(this,"patStr");H(this,"textEncoder",new TextEncoder);H(this,"textDecoder",new TextDecoder("utf-8"));H(this,"rankMap",new Map);H(this,"textMap",new Map);this.patStr=t.pat_str;const n=t.bpe_ranks.split(`
`).filter(Boolean).reduce((r,i)=>{const[a,s,...o]=i.split(" "),l=Number.parseInt(s,10);return o.forEach((c,d)=>r[c]=l+d),r},{});for(const[r,i]of Object.entries(n)){const a=kb.toByteArray(r);this.rankMap.set(a.join(","),i),this.textMap.set(i,a)}this.specialTokens={...t.special_tokens,...e},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((r,[i,a])=>(r[a]=this.textEncoder.encode(i),r),{})}encode(t,e=[],n="all"){const r=new RegExp(this.patStr,"ug"),i=lj.specialTokenRegex(Object.keys(this.specialTokens)),a=[],s=new Set(e==="all"?Object.keys(this.specialTokens):e),o=new Set(n==="all"?Object.keys(this.specialTokens).filter(c=>!s.has(c)):n);if(o.size>0){const c=lj.specialTokenRegex([...o]),d=t.match(c);if(d!=null)throw new Error(`The text contains a special token that is not allowed: ${d[0]}`)}let l=0;for(;;){let c=null,d=l;for(;i.lastIndex=d,c=i.exec(t),!(c==null||s.has(c[0]));)d=c.index+1;const f=(c==null?void 0:c.index)??t.length;for(const p of t.substring(l,f).matchAll(r)){const m=this.textEncoder.encode(p[0]),g=this.rankMap.get(m.join(","));if(g!=null){a.push(g);continue}a.push(...Fme(m,this.rankMap))}if(c==null)break;let h=this.specialTokens[c[0]];a.push(h),l=c.index+c[0].length}return a}decode(t){const e=[];let n=0;for(let a=0;a<t.length;++a){const s=t[a],o=this.textMap.get(s)??this.inverseSpecialTokens[s];o!=null&&(e.push(o),n+=o.length)}const r=new Uint8Array(n);let i=0;for(const a of e)r.set(a,i),i+=a.length;return this.textDecoder.decode(r)}},Z6=lj;Dme(Z6,"specialTokenRegex",t=>new RegExp(t.map(e=>Bme(e)).join("|"),"g"));function zme(t){switch(t){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":case"text-embedding-3-small":case"text-embedding-3-large":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":case"gpt-4o-2024-11-20":case"gpt-4o-mini-2024-07-18":case"gpt-4o-mini":case"gpt-4o-search-preview":case"gpt-4o-search-preview-2025-03-11":case"gpt-4o-mini-search-preview":case"gpt-4o-mini-search-preview-2025-03-11":case"gpt-4o-audio-preview":case"gpt-4o-audio-preview-2024-12-17":case"gpt-4o-audio-preview-2024-10-01":case"gpt-4o-mini-audio-preview":case"gpt-4o-mini-audio-preview-2024-12-17":case"o1":case"o1-2024-12-17":case"o1-mini":case"o1-mini-2024-09-12":case"o1-preview":case"o1-preview-2024-09-12":case"o1-pro":case"o1-pro-2025-03-19":case"o3":case"o3-2025-04-16":case"o3-mini":case"o3-mini-2025-01-31":case"o4-mini":case"o4-mini-2025-04-16":case"chatgpt-4o-latest":case"gpt-4o-realtime":case"gpt-4o-realtime-preview-2024-10-01":case"gpt-4o-realtime-preview-2024-12-17":case"gpt-4o-mini-realtime-preview":case"gpt-4o-mini-realtime-preview-2024-12-17":case"gpt-4.1":case"gpt-4.1-2025-04-14":case"gpt-4.1-mini":case"gpt-4.1-mini-2025-04-14":case"gpt-4.1-nano":case"gpt-4.1-nano-2025-04-14":case"gpt-4.5-preview":case"gpt-4.5-preview-2025-02-27":case"gpt-5":case"gpt-5-2025-08-07":case"gpt-5-nano":case"gpt-5-nano-2025-08-07":case"gpt-5-mini":case"gpt-5-mini-2025-08-07":case"gpt-5-chat-latest":return"o200k_base";default:throw new Error("Unknown model")}}var Ume={};bt(Ume,{encodingForModel:()=>PC,getEncoding:()=>J6});const wy={},Hme=new Ab({});async function J6(t){return t in wy||(wy[t]=Hme.fetch(`https://tiktoken.pages.dev/js/${t}.json`).then(e=>e.json()).then(e=>new Z6(e)).catch(e=>{throw delete wy[t],e})),await wy[t]}async function PC(t){return J6(zme(t))}var Vme={};bt(Vme,{BaseLangChain:()=>e8,BaseLanguageModel:()=>t8,calculateMaxTokens:()=>Gme,getEmbeddingContextSize:()=>Wme,getModelContextSize:()=>Q6,getModelNameForTiktoken:()=>Cb,isOpenAITool:()=>qme});const Cb=t=>t.startsWith("gpt-5")?"gpt-5":t.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":t.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":t.startsWith("gpt-4-32k")?"gpt-4-32k":t.startsWith("gpt-4-")?"gpt-4":t.startsWith("gpt-4o")?"gpt-4o":t,Wme=t=>{switch(t){case"text-embedding-ada-002":return 8191;default:return 2046}},Q6=t=>{switch(Cb(t)){case"gpt-5":case"gpt-5-turbo":case"gpt-5-turbo-preview":return 4e5;case"gpt-4o":case"gpt-4o-mini":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":return 128e3;case"gpt-4-turbo":case"gpt-4-turbo-preview":case"gpt-4-turbo-2024-04-09":case"gpt-4-0125-preview":case"gpt-4-1106-preview":return 128e3;case"gpt-4-32k":case"gpt-4-32k-0314":case"gpt-4-32k-0613":return 32768;case"gpt-4":case"gpt-4-0314":case"gpt-4-0613":return 8192;case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-16k-0613":return 16384;case"gpt-3.5-turbo":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-1106":case"gpt-3.5-turbo-0125":return 4096;case"text-davinci-003":case"text-davinci-002":return 4097;case"text-davinci-001":return 2049;case"text-curie-001":case"text-babbage-001":case"text-ada-001":return 2048;case"code-davinci-002":case"code-davinci-001":return 8e3;case"code-cushman-001":return 2048;case"claude-3-5-sonnet-20241022":case"claude-3-5-sonnet-20240620":case"claude-3-opus-20240229":case"claude-3-sonnet-20240229":case"claude-3-haiku-20240307":case"claude-2.1":return 2e5;case"claude-2.0":case"claude-instant-1.2":return 1e5;case"gemini-1.5-pro":case"gemini-1.5-pro-latest":case"gemini-1.5-flash":case"gemini-1.5-flash-latest":return 1e6;case"gemini-pro":case"gemini-pro-vision":return 32768;default:return 4097}};function qme(t){return typeof t!="object"||!t?!1:!!("type"in t&&t.type==="function"&&"function"in t&&typeof t.function=="object"&&t.function&&"name"in t.function&&"parameters"in t.function)}const Gme=async({prompt:t,modelName:e})=>{let n;try{n=(await PC(Cb(e))).encode(t).length}catch{console.warn("Failed to calculate number of tokens, falling back to approximate count"),n=Math.ceil(t.length/4)}return Q6(e)-n},Kme=()=>!1;var e8=class extends fn{constructor(e){super(e);H(this,"verbose");H(this,"callbacks");H(this,"tags");H(this,"metadata");this.verbose=e.verbose??Kme(),this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}get lc_attributes(){return{callbacks:void 0,verbose:void 0}}},t8=class extends e8{constructor({callbacks:e,callbackManager:n,...r}){const{cache:i,...a}=r;super({callbacks:e??n,...a});H(this,"caller");H(this,"cache");H(this,"_encoding");typeof i=="object"?this.cache=i:i?this.cache=K6.global():this.cache=void 0,this.caller=new Ab(r??{})}get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}async getNumTokens(e){let n;typeof e=="string"?n=e:n=e.map(i=>typeof i=="string"?i:i.type==="text"&&"text"in i?i.text:"").join("");let r=Math.ceil(n.length/4);if(!this._encoding)try{this._encoding=await PC("modelName"in this?Cb(this.modelName):"gpt2")}catch(i){console.warn("Failed to calculate number of tokens, falling back to approximate count",i)}if(this._encoding)try{r=this._encoding.encode(n).length}catch(i){console.warn("Failed to calculate number of tokens, falling back to approximate count",i)}return r}static _convertInputToPromptValue(e){return typeof e=="string"?new H6(e):Array.isArray(e)?new V6(e.map(sp)):e}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall({config:e,...n}){const r={...this._identifyingParams(),...n,_type:this._llmType(),_model:this._modelType()};return Object.entries(r).filter(([s,o])=>o!==void 0).map(([s,o])=>`${s}:${JSON.stringify(o)}`).sort().join(",")}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){throw new Error("Use .toJSON() instead")}get profile(){return{}}},Xd=class extends fn{constructor(e){super(e);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"lc_serializable",!0);H(this,"func");e&&(this.func=e.func)}static lc_name(){return"RunnablePassthrough"}async invoke(e,n){const r=pt(n);return this.func&&await this.func(e,r),this._callWithConfig(i=>Promise.resolve(i),e,r)}async*transform(e,n){const r=pt(n);let i,a=!0;for await(const s of this._transformStreamWithConfig(e,o=>o,r))if(yield s,a)if(i===void 0)i=s;else try{i=Bc(i,s)}catch{i=void 0,a=!1}this.func&&i!==void 0&&await this.func(i,r)}static assign(e){return new OC(new Bf({steps:e}))}};const Yme=t=>t();function l1(t){const e=t.constructor;return new e({...t,content:t.contentBlocks,response_metadata:{...t.response_metadata,output_version:"v1"}})}var Xme={};bt(Xme,{BaseChatModel:()=>IC,SimpleChatModel:()=>Zme});function c1(t){const e=[];for(const n of t){let r=n;if(Array.isArray(n.content))for(let i=0;i<n.content.length;i++){const a=n.content[i];(eC(a)||tC(a))&&r===n&&(r=new n.constructor({...r,content:[...n.content.slice(0,i),oU(a),...n.content.slice(i+1)]}))}e.push(r)}return e}var IC=class tc extends t8{constructor(n){super(n);H(this,"lc_namespace",["langchain","chat_models",this._llmType()]);H(this,"disableStreaming",!1);H(this,"outputVersion");this.outputVersion=Yme(()=>{const r=n.outputVersion??Fs("LC_OUTPUT_VERSION");return r&&["v0","v1"].includes(r)?r:"v0"})}get callKeys(){return[...super.callKeys,"outputVersion"]}_separateRunnableConfigFromCallOptionsCompat(n){const[r,i]=super._separateRunnableConfigFromCallOptions(n);return i.signal=r.signal,[r,i]}async invoke(n,r){const i=tc._convertInputToPromptValue(n);return(await this.generatePrompt([i],r,r==null?void 0:r.callbacks)).generations[0][0].message}async*_streamResponseChunks(n,r,i){throw new Error("Not implemented.")}async*_streamIterator(n,r){var i;if(this._streamResponseChunks===tc.prototype._streamResponseChunks||this.disableStreaming)yield this.invoke(n,r);else{const s=tc._convertInputToPromptValue(n).toChatMessages(),[o,l]=this._separateRunnableConfigFromCallOptionsCompat(r),c={...o.metadata,...this.getLsParams(l)},d=await is.configure(o.callbacks,this.callbacks,o.tags,this.tags,c,this.metadata,{verbose:this.verbose}),f={options:l,invocation_params:this==null?void 0:this.invocationParams(l),batch_size:1},h=l.outputVersion??this.outputVersion,p=await(d==null?void 0:d.handleChatModelStart(this.toJSON(),[c1(s)],o.runId,void 0,f,void 0,void 0,o.runName));let m,g;try{for await(const b of this._streamResponseChunks(s,l,p==null?void 0:p[0])){if(b.message.id==null){const x=(i=p==null?void 0:p.at(0))==null?void 0:i.runId;x!=null&&b.message._updateId(`run-${x}`)}b.message.response_metadata={...b.generationInfo,...b.message.response_metadata},h==="v1"?yield l1(b.message):yield b.message,m?m=m.concat(b):m=b,UE(b.message)&&b.message.usage_metadata!==void 0&&(g={tokenUsage:{promptTokens:b.message.usage_metadata.input_tokens,completionTokens:b.message.usage_metadata.output_tokens,totalTokens:b.message.usage_metadata.total_tokens}})}}catch(b){throw await Promise.all((p??[]).map(x=>x==null?void 0:x.handleLLMError(b))),b}await Promise.all((p??[]).map(b=>b==null?void 0:b.handleLLMEnd({generations:[[m]],llmOutput:g})))}}getLsParams(n){const r=this.getName().startsWith("Chat")?this.getName().replace("Chat",""):this.getName();return{ls_model_type:"chat",ls_stop:n.stop,ls_provider:r}}async _generateUncached(n,r,i,a){var p,m;const s=n.map(g=>g.map(sp));let o;if(a!==void 0&&a.length===s.length)o=a;else{const g={...i.metadata,...this.getLsParams(r)},b=await is.configure(i.callbacks,this.callbacks,i.tags,this.tags,g,this.metadata,{verbose:this.verbose}),x={options:r,invocation_params:this==null?void 0:this.invocationParams(r),batch_size:1};o=await(b==null?void 0:b.handleChatModelStart(this.toJSON(),s.map(c1),i.runId,void 0,x,void 0,void 0,i.runName))}const l=r.outputVersion??this.outputVersion,c=[],d=[];if(!!(o!=null&&o[0].handlers.find(DU))&&!this.disableStreaming&&s.length===1&&this._streamResponseChunks!==tc.prototype._streamResponseChunks)try{const g=await this._streamResponseChunks(s[0],r,o==null?void 0:o[0]);let b,x;for await(const v of g){if(v.message.id==null){const y=(p=o==null?void 0:o.at(0))==null?void 0:p.runId;y!=null&&v.message._updateId(`run-${y}`)}b===void 0?b=v:b=Bc(b,v),UE(v.message)&&v.message.usage_metadata!==void 0&&(x={tokenUsage:{promptTokens:v.message.usage_metadata.input_tokens,completionTokens:v.message.usage_metadata.output_tokens,totalTokens:v.message.usage_metadata.total_tokens}})}if(b===void 0)throw new Error("Received empty response from chat model call.");c.push([b]),await(o==null?void 0:o[0].handleLLMEnd({generations:c,llmOutput:x}))}catch(g){throw await(o==null?void 0:o[0].handleLLMError(g)),g}else{const g=await Promise.allSettled(s.map(async(b,x)=>{const v=await this._generate(b,{...r,promptIndex:x},o==null?void 0:o[x]);if(l==="v1")for(const y of v.generations)y.message=l1(y.message);return v}));await Promise.all(g.map(async(b,x)=>{var v,y,w;if(b.status==="fulfilled"){const _=b.value;for(const E of _.generations){if(E.message.id==null){const A=(v=o==null?void 0:o.at(0))==null?void 0:v.runId;A!=null&&E.message._updateId(`run-${A}`)}E.message.response_metadata={...E.generationInfo,...E.message.response_metadata}}return _.generations.length===1&&(_.generations[0].message.response_metadata={..._.llmOutput,..._.generations[0].message.response_metadata}),c[x]=_.generations,d[x]=_.llmOutput,(y=o==null?void 0:o[x])==null?void 0:y.handleLLMEnd({generations:[_.generations],llmOutput:_.llmOutput})}else return await((w=o==null?void 0:o[x])==null?void 0:w.handleLLMError(b.reason)),Promise.reject(b.reason)}))}const h={generations:c,llmOutput:d.length?(m=this._combineLLMOutput)==null?void 0:m.call(this,...d):void 0};return Object.defineProperty(h,ZE,{value:o?{runIds:o==null?void 0:o.map(g=>g.runId)}:void 0,configurable:!0}),h}async _generateCached({messages:n,cache:r,llmStringKey:i,parsedOptions:a,handledOptions:s}){const o=n.map(v=>v.map(sp)),l={...s.metadata,...this.getLsParams(a)},c=await is.configure(s.callbacks,this.callbacks,s.tags,this.tags,l,this.metadata,{verbose:this.verbose}),d={options:a,invocation_params:this==null?void 0:this.invocationParams(a),batch_size:1},f=await(c==null?void 0:c.handleChatModelStart(this.toJSON(),o.map(c1),s.runId,void 0,d,void 0,void 0,s.runName)),h=[],m=(await Promise.allSettled(o.map(async(v,y)=>{const w=tc._convertInputToPromptValue(v).toString(),_=await r.lookup(w,i);return _==null&&h.push(y),_}))).map((v,y)=>({result:v,runManager:f==null?void 0:f[y]})).filter(({result:v})=>v.status==="fulfilled"&&v.value!=null||v.status==="rejected"),g=a.outputVersion??this.outputVersion,b=[];await Promise.all(m.map(async({result:v,runManager:y},w)=>{if(v.status==="fulfilled"){const _=v.value;return b[w]=_.map(E=>("message"in E&&Go(E.message)&&yb(E.message)&&(E.message.usage_metadata={input_tokens:0,output_tokens:0,total_tokens:0},g==="v1"&&(E.message=l1(E.message))),E.generationInfo={...E.generationInfo,tokenUsage:{}},E)),_.length&&await(y==null?void 0:y.handleLLMNewToken(_[0].text)),y==null?void 0:y.handleLLMEnd({generations:[_]},void 0,void 0,void 0,{cached:!0})}else return await(y==null?void 0:y.handleLLMError(v.reason,void 0,void 0,void 0,{cached:!0})),Promise.reject(v.reason)}));const x={generations:b,missingPromptIndices:h,startedRunManagers:f};return Object.defineProperty(x,ZE,{value:f?{runIds:f==null?void 0:f.map(v=>v.runId)}:void 0,configurable:!0}),x}async generate(n,r,i){let a;Array.isArray(r)?a={stop:r}:a=r;const s=n.map(g=>g.map(sp)),[o,l]=this._separateRunnableConfigFromCallOptionsCompat(a);if(o.callbacks=o.callbacks??i,!this.cache)return this._generateUncached(s,l,o);const{cache:c}=this,d=this._getSerializedCacheKeyParametersForCall(l),{generations:f,missingPromptIndices:h,startedRunManagers:p}=await this._generateCached({messages:s,cache:c,llmStringKey:d,parsedOptions:l,handledOptions:o});let m={};if(h.length>0){const g=await this._generateUncached(h.map(b=>s[b]),l,o,p!==void 0?h.map(b=>p==null?void 0:p[b]):void 0);await Promise.all(g.generations.map(async(b,x)=>{const v=h[x];f[v]=b;const y=tc._convertInputToPromptValue(s[v]).toString();return c.update(y,d,b)})),m=g.llmOutput??{}}return{generations:f,llmOutput:m}}invocationParams(n){return{}}_modelType(){return"base_chat_model"}async generatePrompt(n,r,i){const a=n.map(s=>s.toChatMessages());return this.generate(a,r,i)}withStructuredOutput(n,r){if(typeof this.bindTools!="function")throw new Error('Chat model must implement ".bindTools()" to use withStructuredOutput.');if(r!=null&&r.strict)throw new Error('"strict" mode is not supported for this model by default.');const i=n,a=r==null?void 0:r.name,s=Yk(i)??"A function available to call.",o=r==null?void 0:r.method,l=r==null?void 0:r.includeRaw;if(o==="jsonMode")throw new Error('Base withStructuredOutput implementation only supports "functionCalling" as a method.');let c=a??"extract",d;Dc(i)?d=[{type:"function",function:{name:c,description:s,parameters:wl(i)}}]:("name"in i&&(c=i.name),d=[{type:"function",function:{name:c,description:s,parameters:i}}]);const f=this.bindTools(d),h=Rl.from(b=>{if(!fo.isInstance(b))throw new Error("Input is not an AIMessageChunk.");if(!b.tool_calls||b.tool_calls.length===0)throw new Error("No tool calls found in the response.");const x=b.tool_calls.find(v=>v.name===c);if(!x)throw new Error(`No tool call found with name ${c}.`);return x.args});if(!l)return f.pipe(h).withConfig({runName:"StructuredOutput"});const p=Xd.assign({parsed:(b,x)=>h.invoke(b.raw,x)}),m=Xd.assign({parsed:()=>null}),g=p.withFallbacks({fallbacks:[m]});return hg.from([{raw:f},g]).withConfig({runName:"StructuredOutputRunnable"})}},Zme=class extends IC{async _generate(t,e,n){const r=await this._call(t,e,n),i=new cs(r);if(typeof i.content!="string")throw new Error("Cannot generate with a simple chat model when output is not a string.");return{generations:[{text:i.content,message:i}]}}},Jme={};bt(Jme,{extendInteropZodObject:()=>pse,getInteropZodDefaultGetter:()=>gse,getInteropZodObjectShape:()=>PE,getSchemaDescription:()=>Yk,interopParse:()=>dse,interopParseAsync:()=>Kk,interopSafeParse:()=>use,interopSafeParseAsync:()=>qz,interopZodObjectMakeFieldsOptional:()=>xse,interopZodObjectPartial:()=>mse,interopZodObjectPassthrough:()=>IE,interopZodObjectStrict:()=>Qv,interopZodTransformInputSchema:()=>Kz,isInteropZodError:()=>bse,isInteropZodLiteral:()=>cse,isInteropZodObject:()=>hse,isInteropZodSchema:()=>Dc,isShapelessZodSchema:()=>fse,isSimpleStringZodSchema:()=>Gz,isZodArrayV4:()=>mb,isZodLiteralV3:()=>Vz,isZodLiteralV4:()=>Wz,isZodObjectV3:()=>Xk,isZodObjectV4:()=>ts,isZodSchema:()=>lse,isZodSchemaV3:()=>Tn,isZodSchemaV4:()=>hn});const Ru="0.19.0";let U$=!1,dp,n8,r8,cj,i8,a8,s8,o8,l8;function Qme(t,e={auto:!1}){if(U$)throw new Error(`you must \`import 'groq-sdk/shims/${t.kind}'\` before importing anything else from groq-sdk`);if(dp)throw new Error(`can't \`import 'groq-sdk/shims/${t.kind}'\` after \`import 'groq-sdk/shims/${dp}'\``);U$=e.auto,dp=t.kind,n8=t.fetch,r8=t.FormData,cj=t.File,i8=t.ReadableStream,a8=t.getMultipartRequestOptions,s8=t.getDefaultAgent,o8=t.fileFromPath,l8=t.isFsReadStream}class ege{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function tge({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from 'groq-sdk'`:\n- `import 'groq-sdk/shims/node'` (if you're running on Node)\n- `import 'groq-sdk/shims/web'` (otherwise)\n";let n,r,i,a;try{n=fetch,r=Request,i=Response,a=Headers}catch(s){throw new Error(`this environment is missing the following Web Fetch API type: ${s.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:i,Headers:a,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(s,o)=>({...o,body:new ege(s)}),getDefaultAgent:s=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/groq/groq-typescript#file-uploads")},isFsReadStream:s=>!1}}const c8=()=>{dp||Qme(tge(),{auto:!0})};c8();class ya extends Error{}class Qn extends ya{constructor(e,n,r,i){super(`${Qn.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Ob({message:r,cause:fj(n)});const a=n;return e===400?new d8(e,a,r,i):e===401?new f8(e,a,r,i):e===403?new h8(e,a,r,i):e===404?new p8(e,a,r,i):e===409?new m8(e,a,r,i):e===422?new g8(e,a,r,i):e===429?new y8(e,a,r,i):e>=500?new v8(e,a,r,i):new Qn(e,a,r,i)}}class uj extends Qn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Ob extends Qn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class u8 extends Ob{constructor({message:e}={}){super({message:e??"Request timed out."})}}class d8 extends Qn{}class f8 extends Qn{}class h8 extends Qn{}class p8 extends Qn{}class m8 extends Qn{}class g8 extends Qn{}class y8 extends Qn{}class v8 extends Qn{}class Ju{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;const i=new nge;async function*a(){if(!e.body)throw n.abort(),new ya("Attempted to iterate over a response with no body");const o=new zc,l=H$(e.body);for await(const c of l)for(const d of o.decode(c)){const f=i.decode(d);f&&(yield f)}for(const c of o.flush()){const d=i.decode(c);d&&(yield d)}}async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const l of a())if(!o){if(l.data.startsWith("[DONE]")){o=!0;continue}if(l.event===null||l.event==="error"){let c;try{c=JSON.parse(l.data)}catch(d){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),d}if(c&&c.error)throw new Qn(c.error.status_code,c.error,c.error.message,void 0);yield c}}o=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{o||n.abort()}}return new Ju(s,n)}static fromReadableStream(e,n){let r=!1;async function*i(){const s=new zc,o=H$(e);for await(const l of o)for(const c of s.decode(l))yield c;for(const l of s.flush())yield l}async function*a(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{for await(const o of i())s||o&&(yield JSON.parse(o));s=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{s||n.abort()}}return new Ju(a,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const s=r.next();e.push(s),n.push(s)}return a.shift()}});return[new Ju(()=>i(e),this.controller),new Ju(()=>i(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new i8({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:a,done:s}=await n.next();if(s)return i.close();const o=r.encode(JSON.stringify(a)+`
`);i.enqueue(o)}catch(a){i.error(a)}},async cancel(){var i;await((i=n.return)==null?void 0:i.call(n))}})}}class nge{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=rge(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}class zc{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let n=this.decodeText(e);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=zc.NEWLINE_CHARS.has(n[n.length-1]||"");let i=n.split(zc.NEWLINE_REGEXP);return i.length===1&&!r?(this.buffer.push(i[0]),[]):(this.buffer.length>0&&(i=[this.buffer.join("")+i[0],...i.slice(1)],this.buffer=[]),r||(this.buffer=[i.pop()||""]),i)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new ya(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new ya(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new ya("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}zc.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]);zc.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function rge(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}function H$(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const x8=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",b8=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Nb(t),Nb=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",ige=t=>b8(t)||x8(t)||l8(t);async function w8(t,e,n){var i;if(t=await t,b8(t))return t;if(x8(t)){const a=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const s=Nb(a)?[await a.arrayBuffer()]:[a];return new cj(s,e,n)}const r=await age(t);if(e||(e=oge(t)??"unknown_file"),!(n!=null&&n.type)){const a=(i=r[0])==null?void 0:i.type;typeof a=="string"&&(n={...n,type:a})}return new cj(r,e,n)}async function age(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(Nb(t))e.push(await t.arrayBuffer());else if(lge(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${sge(t)}`);return e}function sge(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function oge(t){var e;return u1(t.name)||u1(t.filename)||((e=u1(t.path))==null?void 0:e.split(/[\\/]/).pop())}const u1=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},lge=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",V$=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",$C=async t=>{const e=await cge(t.body);return a8(e,t)},cge=async t=>{const e=new r8;return await Promise.all(Object.entries(t||{}).map(([n,r])=>dj(e,n,r))),e},dj=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(ige(n)){const r=await w8(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>dj(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>dj(t,`${e}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var pd={};c8();async function _8(t){var s;const{response:e}=t;if(t.options.stream)return md("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):Ju.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type"),r=(s=n==null?void 0:n.split(";")[0])==null?void 0:s.trim();if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.endsWith("+json"))){const o=await e.json();return md("response",e.status,e.url,e.headers,o),o}const a=await e.text();return md("response",e.status,e.url,e.headers,a),a}class Pb extends Promise{constructor(e,n=_8){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new Pb(this.responsePromise,async n=>e(await this.parseResponse(n),n))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class uge{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e4,httpAgent:i,fetch:a}){this.baseURL=e,this.maxRetries=d1("maxRetries",n),this.timeout=d1("timeout",r),this.httpAgent=i,this.fetch=a??n8}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...mge(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${_ge()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async i=>{const a=i&&Nb(i==null?void 0:i.body)?new DataView(await i.body.arrayBuffer()):(i==null?void 0:i.body)instanceof DataView?i.body:(i==null?void 0:i.body)instanceof ArrayBuffer?new DataView(i.body):i&&ArrayBuffer.isView(i==null?void 0:i.body)?new DataView(i.body.buffer):i==null?void 0:i.body;return{method:e,path:n,...i,body:a}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){var m;e={...e};const{method:r,path:i,query:a,headers:s={}}=e,o=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:V$(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,l=this.calculateContentLength(o),c=this.buildURL(i,a);"timeout"in e&&d1("timeout",e.timeout),e.timeout=e.timeout??this.timeout;const d=e.httpAgent??this.httpAgent??s8(c),f=e.timeout+1e3;typeof((m=d==null?void 0:d.options)==null?void 0:m.timeout)=="number"&&f>(d.options.timeout??0)&&(d.options.timeout=f),this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const h=this.buildHeaders({options:e,headers:s,contentLength:l,retryCount:n});return{req:{method:r,...o&&{body:o},headers:h,...d&&{agent:d},signal:e.signal??null},url:c,timeout:e.timeout}}buildHeaders({options:e,headers:n,contentLength:r,retryCount:i}){const a={};r&&(a["content-length"]=r);const s=this.defaultHeaders(e);return Y$(a,s),Y$(a,n),V$(e.body)&&dp!=="node"&&delete a["content-type"],_y(s,"x-stainless-retry-count")===void 0&&_y(n,"x-stainless-retry-count")===void 0&&(a["x-stainless-retry-count"]=String(i)),_y(s,"x-stainless-timeout")===void 0&&_y(n,"x-stainless-timeout")===void 0&&e.timeout&&(a["x-stainless-timeout"]=String(e.timeout)),this.validateHeaders(a,n),a}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,i){return Qn.generate(e,n,r,i)}request(e,n=null){return new Pb(this.makeRequest(e,n))}async makeRequest(e,n){var f,h;const r=await e,i=r.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(r);const{req:a,url:s,timeout:o}=this.buildRequest(r,{retryCount:i-n});if(await this.prepareRequest(a,{url:s,options:r}),md("request",s,r,a.headers),(f=r.signal)!=null&&f.aborted)throw new uj;const l=new AbortController,c=await this.fetchWithTimeout(s,a,o,l).catch(fj);if(c instanceof Error){if((h=r.signal)!=null&&h.aborted)throw new uj;if(n)return this.retryRequest(r,n);throw c.name==="AbortError"?new u8:new Ob({cause:c})}const d=fge(c.headers);if(!c.ok){if(n&&this.shouldRetry(c)){const v=`retrying, ${n} attempts remaining`;return md(`response (error; ${v})`,c.status,s,d),this.retryRequest(r,n,d)}const p=await c.text().catch(v=>fj(v).message),m=gge(p),g=m?void 0:p;throw md(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,c.status,s,d,g),this.makeStatusError(c.status,m,g,d)}return{response:c,options:r,controller:l}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new dge(this,r,e)}buildURL(e,n){const r=vge(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return bge(i)||(n={...i,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new ya(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,i){const{signal:a,...s}=n||{};a&&a.addEventListener("abort",()=>i.abort());const o=setTimeout(()=>i.abort(),r),l={signal:i.signal,...s};return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,e,l).finally(()=>{clearTimeout(o)})}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let i;const a=r==null?void 0:r["retry-after-ms"];if(a){const o=parseFloat(a);Number.isNaN(o)||(i=o)}const s=r==null?void 0:r["retry-after"];if(s&&!i){const o=parseFloat(s);Number.isNaN(o)?i=Date.parse(s)-Date.now():i=o*1e3}if(!(i&&0<=i&&i<60*1e3)){const o=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,o)}return await xge(i),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,s=Math.min(.5*Math.pow(2,a),8),o=1-Math.random()*.25;return s*o*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Ru}`}}class dge extends Pb{constructor(e,n,r){super(n,async i=>new r(e,i.response,await _8(i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const fge=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),hge=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ru,"X-Stainless-OS":q$(Deno.build.os),"X-Stainless-Arch":W$(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ru,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ru,"X-Stainless-OS":q$(process.platform),"X-Stainless-Arch":W$(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=pge();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ru,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ru,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function pge(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${a}.${s}`}}}return null}const W$=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",q$=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let G$;const mge=()=>G$??(G$=hge()),gge=t=>{try{return JSON.parse(t)}catch{return}},yge=/^[a-z][a-z0-9+.-]*:/i,vge=t=>yge.test(t),xge=t=>new Promise(e=>setTimeout(e,t)),d1=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ya(`${t} must be an integer`);if(e<0)throw new ya(`${t} must be a positive integer`);return e},fj=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},K$=t=>{var e,n,r,i;if(typeof process<"u")return((e=pd==null?void 0:pd[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(i=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:i.trim()};function bge(t){if(!t)return!0;for(const e in t)return!1;return!0}function wge(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Y$(t,e){for(const n in e){if(!wge(e,n))continue;const r=n.toLowerCase();if(!r)continue;const i=e[n];i===null?delete t[r]:i!==void 0&&(t[r]=i)}}function md(t,...e){typeof process<"u"&&(pd==null?void 0:pd.DEBUG)==="true"&&console.log(`Groq:DEBUG:${t}`,...e)}const _ge=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),Sge=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",Ege=t=>typeof(t==null?void 0:t.get)=="function",_y=(t,e)=>{var r;const n=e.toLowerCase();if(Ege(t)){const i=((r=e[0])==null?void 0:r.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(a,s,o)=>s+o.toUpperCase());for(const a of[e,n,e.toUpperCase(),i]){const s=t.get(a);if(s)return s}}for(const[i,a]of Object.entries(t))if(i.toLowerCase()===n)return Array.isArray(a)?(a.length<=1||console.warn(`Received ${a.length} entries for the ${e} header, using the first entry.`),a[0]):a};class Oa{constructor(e){this._client=e}}class S8 extends Oa{create(e,n){return this._client.post("/openai/v1/audio/speech",{body:e,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class E8 extends Oa{create(e,n){return this._client.post("/openai/v1/audio/transcriptions",$C({body:e,...n}))}}class j8 extends Oa{create(e,n){return this._client.post("/openai/v1/audio/translations",$C({body:e,...n}))}}class pg extends Oa{constructor(){super(...arguments),this.speech=new S8(this._client),this.transcriptions=new E8(this._client),this.translations=new j8(this._client)}}pg.Speech=S8;pg.Transcriptions=E8;pg.Translations=j8;class A8 extends Oa{create(e,n){return this._client.post("/openai/v1/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/openai/v1/batches/${e}`,n)}list(e){return this._client.get("/openai/v1/batches",e)}cancel(e,n){return this._client.post(`/openai/v1/batches/${e}/cancel`,n)}}let T8=class extends Oa{create(e,n){return this._client.post("/openai/v1/chat/completions",{body:e,...n,stream:e.stream??!1})}};class RC extends Oa{constructor(){super(...arguments),this.completions=new T8(this._client)}}RC.Completions=T8;class k8 extends Oa{}class C8 extends Oa{create(e,n){return this._client.post("/openai/v1/embeddings",{body:e,...n})}}class O8 extends Oa{create(e,n){return this._client.post("/openai/v1/files",$C({body:e,...n}))}list(e){return this._client.get("/openai/v1/files",e)}delete(e,n){return this._client.delete(`/openai/v1/files/${e}`,n)}content(e,n){return this._client.get(`/openai/v1/files/${e}/content`,n)}info(e,n){return this._client.get(`/openai/v1/files/${e}`,n)}}class N8 extends Oa{retrieve(e,n){return this._client.get(`/openai/v1/models/${e}`,n)}list(e){return this._client.get("/openai/v1/models",e)}delete(e,n){return this._client.delete(`/openai/v1/models/${e}`,n)}}var P8;class Rt extends uge{constructor({baseURL:e=K$("GROQ_BASE_URL"),apiKey:n=K$("GROQ_API_KEY"),...r}={}){if(n===void 0)throw new ya("The GROQ_API_KEY environment variable is missing or empty; either provide it, or instantiate the Groq client with an apiKey option, like new Groq({ apiKey: 'My API Key' }).");const i={apiKey:n,...r,baseURL:e||"https://api.groq.com"};if(!i.dangerouslyAllowBrowser&&Sge())throw new ya(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Groq({ apiKey, dangerouslyAllowBrowser: true })`);super({baseURL:i.baseURL,timeout:i.timeout??6e4,httpAgent:i.httpAgent,maxRetries:i.maxRetries,fetch:i.fetch}),this.completions=new k8(this),this.chat=new RC(this),this.embeddings=new C8(this),this.audio=new pg(this),this.models=new N8(this),this.batches=new A8(this),this.files=new O8(this),this._options=i,this.apiKey=n}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}}P8=Rt;Rt.Groq=P8;Rt.DEFAULT_TIMEOUT=6e4;Rt.GroqError=ya;Rt.APIError=Qn;Rt.APIConnectionError=Ob;Rt.APIConnectionTimeoutError=u8;Rt.APIUserAbortError=uj;Rt.NotFoundError=p8;Rt.ConflictError=m8;Rt.RateLimitError=y8;Rt.BadRequestError=d8;Rt.AuthenticationError=f8;Rt.InternalServerError=v8;Rt.PermissionDeniedError=h8;Rt.UnprocessableEntityError=g8;Rt.toFile=w8;Rt.fileFromPath=o8;Rt.Completions=k8;Rt.Chat=RC;Rt.Embeddings=C8;Rt.Audio=pg;Rt.Models=N8;Rt.Batches=A8;Rt.Files=O8;var jge=class extends fn{constructor(e){super(e);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"lc_serializable",!0);H(this,"runnables");this.runnables=e.runnables}static lc_name(){return"RouterRunnable"}async invoke(e,n){const{key:r,input:i}=e,a=this.runnables[r];if(a===void 0)throw new Error(`No runnable associated with key "${r}".`);return a.invoke(i,pt(n))}async batch(e,n,r){var h;const i=e.map(p=>p.key),a=e.map(p=>p.input);if(i.find(p=>this.runnables[p]===void 0)!==void 0)throw new Error("One or more keys do not have a corresponding runnable.");const o=i.map(p=>this.runnables[p]),l=this._getOptionsList(n??{},e.length),c=((h=l[0])==null?void 0:h.maxConcurrency)??(r==null?void 0:r.maxConcurrency),d=c&&c>0?c:e.length,f=[];for(let p=0;p<a.length;p+=d){const m=a.slice(p,p+d).map((b,x)=>o[x].invoke(b,l[x])),g=await Promise.all(m);f.push(g)}return f.flat()}async stream(e,n){const{key:r,input:i}=e,a=this.runnables[r];if(a===void 0)throw new Error(`No runnable associated with key "${r}".`);return a.stream(i,n)}},Age=class extends fn{constructor(e){super(e);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"lc_serializable",!0);H(this,"default");H(this,"branches");this.branches=e.branches,this.default=e.default}static lc_name(){return"RunnableBranch"}static from(e){if(e.length<1)throw new Error("RunnableBranch requires at least one branch");const r=e.slice(0,-1).map(([a,s])=>[ca(a),ca(s)]),i=ca(e[e.length-1]);return new this({branches:r,default:i})}async _invoke(e,n,r){let i;for(let a=0;a<this.branches.length;a+=1){const[s,o]=this.branches[a];if(await s.invoke(e,Zt(n,{callbacks:r==null?void 0:r.getChild(`condition:${a+1}`)}))){i=await o.invoke(e,Zt(n,{callbacks:r==null?void 0:r.getChild(`branch:${a+1}`)}));break}}return i||(i=await this.default.invoke(e,Zt(n,{callbacks:r==null?void 0:r.getChild("branch:default")}))),i}async invoke(e,n={}){return this._callWithConfig(this._invoke,e,n)}async*_streamIterator(e,n){const r=await ii(n),i=await(r==null?void 0:r.handleChainStart(this.toJSON(),wn(e,"input"),n==null?void 0:n.runId,void 0,void 0,void 0,n==null?void 0:n.runName));let a,s=!0,o;try{for(let l=0;l<this.branches.length;l+=1){const[c,d]=this.branches[l];if(await c.invoke(e,Zt(n,{callbacks:i==null?void 0:i.getChild(`condition:${l+1}`)}))){o=await d.stream(e,Zt(n,{callbacks:i==null?void 0:i.getChild(`branch:${l+1}`)}));for await(const h of o)if(yield h,s)if(a===void 0)a=h;else try{a=Bc(a,h)}catch{a=void 0,s=!1}break}}if(o===void 0){o=await this.default.stream(e,Zt(n,{callbacks:i==null?void 0:i.getChild("branch:default")}));for await(const l of o)if(yield l,s)if(a===void 0)a=l;else try{a=Bc(a,l)}catch{a=void 0,s=!1}}}catch(l){throw await(i==null?void 0:i.handleChainError(l)),l}await(i==null?void 0:i.handleChainEnd(a??{}))}},Tge=class extends Yd{constructor(e){let n=Rl.from((s,o)=>this._enterHistory(s,o??{})).withConfig({runName:"loadHistory"});const r=e.historyMessagesKey??e.inputMessagesKey;r&&(n=Xd.assign({[r]:n}).withConfig({runName:"insertHistory"}));const i=n.pipe(e.runnable.withListeners({onEnd:(s,o)=>this._exitHistory(s,o??{})})).withConfig({runName:"RunnableWithMessageHistory"}),a=e.config??{};super({...e,config:a,bound:i});H(this,"runnable");H(this,"inputMessagesKey");H(this,"outputMessagesKey");H(this,"historyMessagesKey");H(this,"getMessageHistory");this.runnable=e.runnable,this.getMessageHistory=e.getMessageHistory,this.inputMessagesKey=e.inputMessagesKey,this.outputMessagesKey=e.outputMessagesKey,this.historyMessagesKey=e.historyMessagesKey}_getInputMessages(e){let n;if(typeof e=="object"&&!Array.isArray(e)&&!Go(e)){let r;this.inputMessagesKey?r=this.inputMessagesKey:Object.keys(e).length===1?r=Object.keys(e)[0]:r="input",Array.isArray(e[r])&&Array.isArray(e[r][0])?n=e[r][0]:n=e[r]}else n=e;if(typeof n=="string")return[new Sa(n)];if(Array.isArray(n))return n;if(Go(n))return[n];throw new Error(`Expected a string, BaseMessage, or array of BaseMessages.
Got ${JSON.stringify(n,null,2)}`)}_getOutputMessages(e){let n;if(!Array.isArray(e)&&!Go(e)&&typeof e!="string"){let r;this.outputMessagesKey!==void 0?r=this.outputMessagesKey:Object.keys(e).length===1?r=Object.keys(e)[0]:r="output",e.generations!==void 0?n=e.generations[0][0].message:n=e[r]}else n=e;if(typeof n=="string")return[new cs(n)];if(Array.isArray(n))return n;if(Go(n))return[n];throw new Error(`Expected a string, BaseMessage, or array of BaseMessages. Received: ${JSON.stringify(n,null,2)}`)}async _enterHistory(e,n){var a;const i=await((a=n==null?void 0:n.configurable)==null?void 0:a.messageHistory).getMessages();return this.historyMessagesKey===void 0?i.concat(this._getInputMessages(e)):i}async _exitHistory(e,n){var l;const r=(l=n.configurable)==null?void 0:l.messageHistory;let i;Array.isArray(e.inputs)&&Array.isArray(e.inputs[0])?i=e.inputs[0]:i=e.inputs;let a=this._getInputMessages(i);if(this.historyMessagesKey===void 0){const c=await r.getMessages();a=a.slice(c.length)}const s=e.outputs;if(!s)throw new Error(`Output values from 'Run' undefined. Run: ${JSON.stringify(e,null,2)}`);const o=this._getOutputMessages(s);await r.addMessages([...a,...o])}async _mergeConfig(...e){const n=await super._mergeConfig(...e);if(!n.configurable||!n.configurable.sessionId){const i={[this.inputMessagesKey??"input"]:"foo"},a={configurable:{sessionId:"123"}};throw new Error(`sessionId is required. Pass it in as part of the config argument to .invoke() or .stream()
eg. chain.invoke(${JSON.stringify(i)}, ${JSON.stringify(a)})`)}const{sessionId:r}=n.configurable;return n.configurable.messageHistory=await this.getMessageHistory(r),n}},kge={};bt(kge,{RouterRunnable:()=>jge,Runnable:()=>fn,RunnableAssign:()=>OC,RunnableBinding:()=>Yd,RunnableBranch:()=>Age,RunnableEach:()=>ame,RunnableLambda:()=>Rl,RunnableMap:()=>Bf,RunnableParallel:()=>lme,RunnablePassthrough:()=>Xd,RunnablePick:()=>B6,RunnableRetry:()=>CC,RunnableSequence:()=>hg,RunnableToolLike:()=>oj,RunnableWithFallbacks:()=>F6,RunnableWithMessageHistory:()=>Tge,_coerceToRunnable:()=>ca,ensureConfig:()=>pt,getCallbackManagerForConfig:()=>ii,mergeConfigs:()=>YE,patchConfig:()=>Zt,pickRunnableConfigKeys:()=>Fc,raceWithSignal:()=>io});var I8=class extends fn{parseResultWithPrompt(t,e,n){return this.parseResult(t,n)}_baseMessageToString(t){return typeof t.content=="string"?t.content:this._baseMessageContentToString(t.content)}_baseMessageContentToString(t){return JSON.stringify(t)}async invoke(t,e){return typeof t=="string"?this._callWithConfig(async(n,r)=>this.parseResult([{text:n}],r==null?void 0:r.callbacks),t,{...e,runType:"parser"}):this._callWithConfig(async(n,r)=>this.parseResult([{message:n,text:this._baseMessageToString(n)}],r==null?void 0:r.callbacks),t,{...e,runType:"parser"})}},Ib=class extends I8{parseResult(t,e){return this.parse(t[0].text,e)}async parseWithPrompt(t,e,n){return this.parse(t,n)}_type(){throw new Error("_type not implemented")}},zs=class extends Error{constructor(e,n,r,i=!1){super(e);H(this,"llmOutput");H(this,"observation");H(this,"sendToLLM");if(this.llmOutput=n,this.observation=r,this.sendToLLM=i,i&&(r===void 0||n===void 0))throw new Error("Arguments 'observation' & 'llmOutput' are required if 'sendToLlm' is true");kU(this,"OUTPUT_PARSING_FAILURE")}},mg=class extends Ib{async*_transform(t){for await(const e of t)typeof e=="string"?yield this.parseResult([{text:e}]):yield this.parseResult([{message:e,text:this._baseMessageToString(e)}])}async*transform(t,e){yield*this._transformStreamWithConfig(t,this._transform.bind(this),{...e,runType:"parser"})}},$b=class extends mg{constructor(e){super(e);H(this,"diff",!1);this.diff=(e==null?void 0:e.diff)??this.diff}async*_transform(e){let n,r;for await(const i of e){if(typeof i!="string"&&typeof i.content!="string")throw new Error("Cannot handle non-string output.");let a;if(aC(i)){if(typeof i.content!="string")throw new Error("Cannot handle non-string message output.");a=new im({message:i,text:i.content})}else if(Go(i)){if(typeof i.content!="string")throw new Error("Cannot handle non-string message output.");a=new im({message:o0(i),text:i.content})}else a=new rm({text:i});r===void 0?r=a:r=r.concat(a);const s=await this.parsePartialResult([r]);s!=null&&!Ec(s,n)&&(this.diff?yield this._diff(n,s):yield s,n=s)}}getFormatInstructions(){return""}},Cge={};bt(Cge,{applyPatch:()=>Kd,compare:()=>jC});var $8=class extends $b{constructor(){super(...arguments);H(this,"lc_namespace",["langchain_core","output_parsers"]);H(this,"lc_serializable",!0)}static lc_name(){return"JsonOutputParser"}_concatOutputChunks(e,n){return this.diff?super._concatOutputChunks(e,n):n}_diff(e,n){if(n)return e?jC(e,n):[{op:"replace",path:"",value:n}]}async parsePartialResult(e){return zE(e[0].text)}async parse(e){return zE(e,JSON.parse)}getFormatInstructions(){return""}},Oge=class extends mg{constructor(){super(...arguments);H(this,"lc_namespace",["langchain_core","output_parsers","bytes"]);H(this,"lc_serializable",!0);H(this,"textEncoder",new TextEncoder)}static lc_name(){return"BytesOutputParser"}parse(e){return Promise.resolve(this.textEncoder.encode(e))}getFormatInstructions(){return""}},gg=class extends mg{constructor(){super(...arguments);H(this,"re")}async*_transform(e){let n="";for await(const r of e)if(typeof r=="string"?n+=r:n+=r.content,this.re){const i=[...n.matchAll(this.re)];if(i.length>1){let a=0;for(const s of i.slice(0,-1))yield[s[1]],a+=(s.index??0)+s[0].length;n=n.slice(a)}}else{const i=await this.parse(n);if(i.length>1){for(const a of i.slice(0,-1))yield[a];n=i[i.length-1]}}for(const r of await this.parse(n))yield[r]}},Nge=class extends gg{constructor(){super(...arguments);H(this,"lc_namespace",["langchain_core","output_parsers","list"]);H(this,"lc_serializable",!0)}static lc_name(){return"CommaSeparatedListOutputParser"}async parse(e){try{return e.trim().split(",").map(n=>n.trim())}catch{throw new zs(`Could not parse output: ${e}`,e)}}getFormatInstructions(){return"Your response should be a list of comma separated values, eg: `foo, bar, baz`"}},Pge=class extends gg{constructor({length:e,separator:n}){super(...arguments);H(this,"lc_namespace",["langchain_core","output_parsers","list"]);H(this,"length");H(this,"separator");this.length=e,this.separator=n||","}async parse(e){try{const n=e.trim().split(this.separator).map(r=>r.trim());if(this.length!==void 0&&n.length!==this.length)throw new zs(`Incorrect number of items. Expected ${this.length}, got ${n.length}.`);return n}catch(n){throw Object.getPrototypeOf(n)===zs.prototype?n:new zs(`Could not parse output: ${e}`)}}getFormatInstructions(){return`Your response should be a list of ${this.length===void 0?"":`${this.length} `}items separated by "${this.separator}" (eg: \`foo${this.separator} bar${this.separator} baz\`)`}},Ige=class extends gg{constructor(){super(...arguments);H(this,"lc_namespace",["langchain_core","output_parsers","list"]);H(this,"lc_serializable",!0);H(this,"re",/\d+\.\s([^\n]+)/g)}static lc_name(){return"NumberedListOutputParser"}getFormatInstructions(){return`Your response should be a numbered list with each item on a new line. For example: 

1. foo

2. bar

3. baz`}async parse(e){return[...e.matchAll(this.re)??[]].map(n=>n[1])}},$ge=class extends gg{constructor(){super(...arguments);H(this,"lc_namespace",["langchain_core","output_parsers","list"]);H(this,"lc_serializable",!0);H(this,"re",/^\s*[-*]\s([^\n]+)$/gm)}static lc_name(){return"NumberedListOutputParser"}getFormatInstructions(){return`Your response should be a numbered list with each item on a new line. For example: 

1. foo

2. bar

3. baz`}async parse(e){return[...e.matchAll(this.re)??[]].map(n=>n[1])}},Rge=class extends mg{constructor(){super(...arguments);H(this,"lc_namespace",["langchain_core","output_parsers","string"]);H(this,"lc_serializable",!0)}static lc_name(){return"StrOutputParser"}parse(e){return Promise.resolve(e)}getFormatInstructions(){return""}_textContentToString(e){return e.text}_imageUrlContentToString(e){throw new Error('Cannot coerce a multimodal "image_url" message part into a string.')}_messageContentToString(e){switch(e.type){case"text":case"text_delta":if("text"in e)return this._textContentToString(e);break;case"image_url":if("image_url"in e)return this._imageUrlContentToString(e);break;default:throw new Error(`Cannot coerce "${e.type}" message part into a string.`)}throw new Error(`Invalid content type: ${e.type}`)}_baseMessageContentToString(e){return e.reduce((n,r)=>n+this._messageContentToString(r),"")}},MC=class extends Ib{constructor(e){super(e);H(this,"lc_namespace",["langchain","output_parsers","structured"]);this.schema=e}static lc_name(){return"StructuredOutputParser"}toJSON(){return this.toJSONNotImplemented()}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){const n=Qk(Object.fromEntries(Object.entries(e).map(([r,i])=>[r,Jk().describe(i)])));return new this(n)}getFormatInstructions(){return`You must format your output as a JSON value that adheres to a given "JSON Schema" instance.

"JSON Schema" is a declarative language that allows you to annotate and validate JSON documents.

For example, the example "JSON Schema" instance {{"properties": {{"foo": {{"description": "a list of test words", "type": "array", "items": {{"type": "string"}}}}}}, "required": ["foo"]}}
would match an object with one required property, "foo". The "type" property specifies "foo" must be an "array", and the "description" property semantically describes it as "a list of test words". The items within "foo" must be strings.
Thus, the object {{"foo": ["bar", "baz"]}} is a well-formatted instance of this example "JSON Schema". The object {{"properties": {{"foo": ["bar", "baz"]}}}} is not well-formatted.

Your output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!

Here is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:
\`\`\`json
${JSON.stringify(wl(this.schema))}
\`\`\`
`}async parse(e){var n,r;try{const i=e.trim(),s=(((n=i.match(/^```(?:json)?\s*([\s\S]*?)```/))==null?void 0:n[1])||((r=i.match(/```json\s*([\s\S]*?)```/))==null?void 0:r[1])||i).replace(/"([^"\\]*(\\.[^"\\]*)*)"/g,(o,l)=>`"${l.replace(/\n/g,"\\n")}"`).replace(/\n/g,"");return await Kk(this.schema,JSON.parse(s))}catch(i){throw new zs(`Failed to parse. Text: "${e}". Error: ${i}`,e)}}},R8=class extends MC{static lc_name(){return"JsonMarkdownStructuredOutputParser"}getFormatInstructions(t){const e=(t==null?void 0:t.interpolationDepth)??1;if(e<1)throw new Error("f string interpolation depth must be at least 1");return`Return a markdown code snippet with a JSON object formatted to look like:
\`\`\`json
${this._schemaToInstruction(wl(this.schema)).replaceAll("{","{".repeat(e)).replaceAll("}","}".repeat(e))}
\`\`\``}_schemaToInstruction(t,e=2){const n=t;if("type"in n){let r=!1,i;if(Array.isArray(n.type)){const o=n.type.findIndex(l=>l==="null");o!==-1&&(r=!0,n.type.splice(o,1)),i=n.type.join(" | ")}else i=n.type;if(n.type==="object"&&n.properties){const o=n.description?` // ${n.description}`:"";return`{
${Object.entries(n.properties).map(([c,d])=>{var h;const f=(h=n.required)!=null&&h.includes(c)?"":" (optional)";return`${" ".repeat(e)}"${c}": ${this._schemaToInstruction(d,e+2)}${f}`}).join(`
`)}
${" ".repeat(e-2)}}${o}`}if(n.type==="array"&&n.items){const o=n.description?` // ${n.description}`:"";return`array[
${" ".repeat(e)}${this._schemaToInstruction(n.items,e+2)}
${" ".repeat(e-2)}] ${o}`}const a=r?" (nullable)":"",s=n.description?` // ${n.description}`:"";return`${i}${s}${a}`}if("anyOf"in n)return n.anyOf.map(r=>this._schemaToInstruction(r,e)).join(`
${" ".repeat(e-2)}`);throw new Error("unsupported schema type")}static fromZodSchema(t){return new this(t)}static fromNamesAndDescriptions(t){const e=Qk(Object.fromEntries(Object.entries(t).map(([n,r])=>[n,Jk().describe(r)])));return new this(e)}},Mge=class extends Ib{constructor({inputSchema:e}){super(...arguments);H(this,"structuredInputParser");this.structuredInputParser=new R8(e)}async parse(e){let n;try{n=await this.structuredInputParser.parse(e)}catch(r){throw new zs(`Failed to parse. Text: "${e}". Error: ${r}`,e)}return this.outputProcessor(n)}getFormatInstructions(){return this.structuredInputParser.getFormatInstructions()}};const Dge=function(){const t={};t.parser=function(I,N){return new n(I,N)},t.SAXParser=n,t.SAXStream=c,t.createStream=l,t.MAX_BUFFER_LENGTH=64*1024;const e=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(I,N){if(!(this instanceof n))return new n(I,N);var K=this;i(K),K.q=K.c="",K.bufferCheckPosition=t.MAX_BUFFER_LENGTH,K.opt=N||{},K.opt.lowercase=K.opt.lowercase||K.opt.lowercasetags,K.looseCase=K.opt.lowercase?"toLowerCase":"toUpperCase",K.tags=[],K.closed=K.closedRoot=K.sawRoot=!1,K.tag=K.error=null,K.strict=!!I,K.noscript=!!(I||K.opt.noscript),K.state=j.BEGIN,K.strictEntities=K.opt.strictEntities,K.ENTITIES=K.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),K.attribList=[],K.opt.xmlns&&(K.ns=Object.create(m)),K.trackPosition=K.opt.position!==!1,K.trackPosition&&(K.position=K.line=K.column=0),C(K,"onready")}Object.create||(Object.create=function(I){function N(){}N.prototype=I;var K=new N;return K}),Object.keys||(Object.keys=function(I){var N=[];for(var K in I)I.hasOwnProperty(K)&&N.push(K);return N});function r(I){for(var N=Math.max(t.MAX_BUFFER_LENGTH,10),K=0,z=0,Z=e.length;z<Z;z++){var J=I[e[z]].length;if(J>N)switch(e[z]){case"textNode":O(I);break;case"cdata":k(I,"oncdata",I.cdata),I.cdata="";break;case"script":k(I,"onscript",I.script),I.script="";break;default:R(I,"Max buffer length exceeded: "+e[z])}K=Math.max(K,J)}var Y=t.MAX_BUFFER_LENGTH-K;I.bufferCheckPosition=Y+I.position}function i(I){for(var N=0,K=e.length;N<K;N++)I[e[N]]=""}function a(I){O(I),I.cdata!==""&&(k(I,"oncdata",I.cdata),I.cdata=""),I.script!==""&&(k(I,"onscript",I.script),I.script="")}n.prototype={end:function(){F(this)},write:ie,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};var s=ReadableStream;s||(s=function(){});var o=t.EVENTS.filter(function(I){return I!=="error"&&I!=="end"});function l(I,N){return new c(I,N)}function c(I,N){if(!(this instanceof c))return new c(I,N);s.apply(this),this._parser=new n(I,N),this.writable=!0,this.readable=!0;var K=this;this._parser.onend=function(){K.emit("end")},this._parser.onerror=function(z){K.emit("error",z),K._parser.error=null},this._decoder=null,o.forEach(function(z){Object.defineProperty(K,"on"+z,{get:function(){return K._parser["on"+z]},set:function(Z){if(!Z)return K.removeAllListeners(z),K._parser["on"+z]=Z,Z;K.on(z,Z)},enumerable:!0,configurable:!1})})}c.prototype=Object.create(s.prototype,{constructor:{value:c}}),c.prototype.write=function(I){return this._parser.write(I.toString()),this.emit("data",I),!0},c.prototype.end=function(I){return I&&I.length&&this.write(I),this._parser.end(),!0},c.prototype.on=function(I,N){var K=this;return!K._parser["on"+I]&&o.indexOf(I)!==-1&&(K._parser["on"+I]=function(){var z=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);z.splice(0,0,I),K.emit.apply(K,z)}),s.prototype.on.call(K,I,N)};var d="[CDATA[",f="DOCTYPE",h="http://www.w3.org/XML/1998/namespace",p="http://www.w3.org/2000/xmlns/",m={xml:h,xmlns:p},g=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,x=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function y(I){return I===" "||I===`
`||I==="\r"||I==="	"}function w(I){return I==='"'||I==="'"}function _(I){return I===">"||y(I)}function E(I,N){return I.test(N)}function A(I,N){return!E(I,N)}var j=0;t.STATE={BEGIN:j++,BEGIN_WHITESPACE:j++,TEXT:j++,TEXT_ENTITY:j++,OPEN_WAKA:j++,SGML_DECL:j++,SGML_DECL_QUOTED:j++,DOCTYPE:j++,DOCTYPE_QUOTED:j++,DOCTYPE_DTD:j++,DOCTYPE_DTD_QUOTED:j++,COMMENT_STARTING:j++,COMMENT:j++,COMMENT_ENDING:j++,COMMENT_ENDED:j++,CDATA:j++,CDATA_ENDING:j++,CDATA_ENDING_2:j++,PROC_INST:j++,PROC_INST_BODY:j++,PROC_INST_ENDING:j++,OPEN_TAG:j++,OPEN_TAG_SLASH:j++,ATTRIB:j++,ATTRIB_NAME:j++,ATTRIB_NAME_SAW_WHITE:j++,ATTRIB_VALUE:j++,ATTRIB_VALUE_QUOTED:j++,ATTRIB_VALUE_CLOSED:j++,ATTRIB_VALUE_UNQUOTED:j++,ATTRIB_VALUE_ENTITY_Q:j++,ATTRIB_VALUE_ENTITY_U:j++,CLOSE_TAG:j++,CLOSE_TAG_SAW_WHITE:j++,SCRIPT:j++,SCRIPT_ENDING:j++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(I){var N=t.ENTITIES[I],K=typeof N=="number"?String.fromCharCode(N):N;t.ENTITIES[I]=K});for(var T in t.STATE)t.STATE[t.STATE[T]]=T;j=t.STATE;function C(I,N,K){I[N]&&I[N](K)}function k(I,N,K){I.textNode&&O(I),C(I,N,K)}function O(I){I.textNode=L(I.opt,I.textNode),I.textNode&&C(I,"ontext",I.textNode),I.textNode=""}function L(I,N){return I.trim&&(N=N.trim()),I.normalize&&(N=N.replace(/\s+/g," ")),N}function R(I,N){return O(I),I.trackPosition&&(N+=`
Line: `+I.line+`
Column: `+I.column+`
Char: `+I.c),N=new Error(N),I.error=N,C(I,"onerror",N),I}function F(I){return I.sawRoot&&!I.closedRoot&&U(I,"Unclosed root tag"),I.state!==j.BEGIN&&I.state!==j.BEGIN_WHITESPACE&&I.state!==j.TEXT&&R(I,"Unexpected end"),O(I),I.c="",I.closed=!0,C(I,"onend"),n.call(I,I.strict,I.opt),I}function U(I,N){if(typeof I!="object"||!(I instanceof n))throw new Error("bad call to strictFail");I.strict&&R(I,N)}function V(I){I.strict||(I.tagName=I.tagName[I.looseCase]());var N=I.tags[I.tags.length-1]||I,K=I.tag={name:I.tagName,attributes:{}};I.opt.xmlns&&(K.ns=N.ns),I.attribList.length=0,k(I,"onopentagstart",K)}function D(I,N){var K=I.indexOf(":"),z=K<0?["",I]:I.split(":"),Z=z[0],J=z[1];return N&&I==="xmlns"&&(Z="xmlns",J=""),{prefix:Z,local:J}}function B(I){if(I.strict||(I.attribName=I.attribName[I.looseCase]()),I.attribList.indexOf(I.attribName)!==-1||I.tag.attributes.hasOwnProperty(I.attribName)){I.attribName=I.attribValue="";return}if(I.opt.xmlns){var N=D(I.attribName,!0),K=N.prefix,z=N.local;if(K==="xmlns")if(z==="xml"&&I.attribValue!==h)U(I,"xml: prefix must be bound to "+h+`
Actual: `+I.attribValue);else if(z==="xmlns"&&I.attribValue!==p)U(I,"xmlns: prefix must be bound to "+p+`
Actual: `+I.attribValue);else{var Z=I.tag,J=I.tags[I.tags.length-1]||I;Z.ns===J.ns&&(Z.ns=Object.create(J.ns)),Z.ns[z]=I.attribValue}I.attribList.push([I.attribName,I.attribValue])}else I.tag.attributes[I.attribName]=I.attribValue,k(I,"onattribute",{name:I.attribName,value:I.attribValue});I.attribName=I.attribValue=""}function P(I,N){if(I.opt.xmlns){var K=I.tag,z=D(I.tagName);K.prefix=z.prefix,K.local=z.local,K.uri=K.ns[z.prefix]||"",K.prefix&&!K.uri&&(U(I,"Unbound namespace prefix: "+JSON.stringify(I.tagName)),K.uri=z.prefix);var Z=I.tags[I.tags.length-1]||I;K.ns&&Z.ns!==K.ns&&Object.keys(K.ns).forEach(function(At){k(I,"onopennamespace",{prefix:At,uri:K.ns[At]})});for(var J=0,Y=I.attribList.length;J<Y;J++){var me=I.attribList[J],le=me[0],ve=me[1],oe=D(le,!0),Be=oe.prefix,Te=oe.local,De=Be===""?"":K.ns[Be]||"",ae={name:le,value:ve,prefix:Be,local:Te,uri:De};Be&&Be!=="xmlns"&&!De&&(U(I,"Unbound namespace prefix: "+JSON.stringify(Be)),ae.uri=Be),I.tag.attributes[le]=ae,k(I,"onattribute",ae)}I.attribList.length=0}I.tag.isSelfClosing=!!N,I.sawRoot=!0,I.tags.push(I.tag),k(I,"onopentag",I.tag),N||(!I.noscript&&I.tagName.toLowerCase()==="script"?I.state=j.SCRIPT:I.state=j.TEXT,I.tag=null,I.tagName=""),I.attribName=I.attribValue="",I.attribList.length=0}function W(I){if(!I.tagName){U(I,"Weird empty close tag."),I.textNode+="</>",I.state=j.TEXT;return}if(I.script){if(I.tagName!=="script"){I.script+="</"+I.tagName+">",I.tagName="",I.state=j.SCRIPT;return}k(I,"onscript",I.script),I.script=""}var N=I.tags.length,K=I.tagName;I.strict||(K=K[I.looseCase]());for(var z=K;N--;){var Z=I.tags[N];if(Z.name!==z)U(I,"Unexpected close tag");else break}if(N<0){U(I,"Unmatched closing tag: "+I.tagName),I.textNode+="</"+I.tagName+">",I.state=j.TEXT;return}I.tagName=K;for(var J=I.tags.length;J-- >N;){var Y=I.tag=I.tags.pop();I.tagName=I.tag.name,k(I,"onclosetag",I.tagName);var me={};for(var le in Y.ns)me[le]=Y.ns[le];var ve=I.tags[I.tags.length-1]||I;I.opt.xmlns&&Y.ns!==ve.ns&&Object.keys(Y.ns).forEach(function(oe){var Be=Y.ns[oe];k(I,"onclosenamespace",{prefix:oe,uri:Be})})}N===0&&(I.closedRoot=!0),I.tagName=I.attribValue=I.attribName="",I.attribList.length=0,I.state=j.TEXT}function G(I){var N=I.entity,K=N.toLowerCase(),z,Z="";return I.ENTITIES[N]?I.ENTITIES[N]:I.ENTITIES[K]?I.ENTITIES[K]:(N=K,N.charAt(0)==="#"&&(N.charAt(1)==="x"?(N=N.slice(2),z=parseInt(N,16),Z=z.toString(16)):(N=N.slice(1),z=parseInt(N,10),Z=z.toString(10))),N=N.replace(/^0+/,""),isNaN(z)||Z.toLowerCase()!==N?(U(I,"Invalid character entity"),"&"+I.entity+";"):String.fromCodePoint(z))}function $(I,N){N==="<"?(I.state=j.OPEN_WAKA,I.startTagPosition=I.position):y(N)||(U(I,"Non-whitespace before first tag."),I.textNode=N,I.state=j.TEXT)}function ee(I,N){var K="";return N<I.length&&(K=I.charAt(N)),K}function ie(I){var N=this;if(this.error)throw this.error;if(N.closed)return R(N,"Cannot write after close. Assign an onready handler.");if(I===null)return F(N);typeof I=="object"&&(I=I.toString());for(var K=0,z="";z=ee(I,K++),N.c=z,!!z;)switch(N.trackPosition&&(N.position++,z===`
`?(N.line++,N.column=0):N.column++),N.state){case j.BEGIN:if(N.state=j.BEGIN_WHITESPACE,z==="\uFEFF")continue;$(N,z);continue;case j.BEGIN_WHITESPACE:$(N,z);continue;case j.TEXT:if(N.sawRoot&&!N.closedRoot){for(var Z=K-1;z&&z!=="<"&&z!=="&";)z=ee(I,K++),z&&N.trackPosition&&(N.position++,z===`
`?(N.line++,N.column=0):N.column++);N.textNode+=I.substring(Z,K-1)}z==="<"&&!(N.sawRoot&&N.closedRoot&&!N.strict)?(N.state=j.OPEN_WAKA,N.startTagPosition=N.position):(!y(z)&&(!N.sawRoot||N.closedRoot)&&U(N,"Text data outside of root node."),z==="&"?N.state=j.TEXT_ENTITY:N.textNode+=z);continue;case j.SCRIPT:z==="<"?N.state=j.SCRIPT_ENDING:N.script+=z;continue;case j.SCRIPT_ENDING:z==="/"?N.state=j.CLOSE_TAG:(N.script+="<"+z,N.state=j.SCRIPT);continue;case j.OPEN_WAKA:if(z==="!")N.state=j.SGML_DECL,N.sgmlDecl="";else if(!y(z))if(E(g,z))N.state=j.OPEN_TAG,N.tagName=z;else if(z==="/")N.state=j.CLOSE_TAG,N.tagName="";else if(z==="?")N.state=j.PROC_INST,N.procInstName=N.procInstBody="";else{if(U(N,"Unencoded <"),N.startTagPosition+1<N.position){var J=N.position-N.startTagPosition;z=new Array(J).join(" ")+z}N.textNode+="<"+z,N.state=j.TEXT}continue;case j.SGML_DECL:(N.sgmlDecl+z).toUpperCase()===d?(k(N,"onopencdata"),N.state=j.CDATA,N.sgmlDecl="",N.cdata=""):N.sgmlDecl+z==="--"?(N.state=j.COMMENT,N.comment="",N.sgmlDecl=""):(N.sgmlDecl+z).toUpperCase()===f?(N.state=j.DOCTYPE,(N.doctype||N.sawRoot)&&U(N,"Inappropriately located doctype declaration"),N.doctype="",N.sgmlDecl=""):z===">"?(k(N,"onsgmldeclaration",N.sgmlDecl),N.sgmlDecl="",N.state=j.TEXT):(w(z)&&(N.state=j.SGML_DECL_QUOTED),N.sgmlDecl+=z);continue;case j.SGML_DECL_QUOTED:z===N.q&&(N.state=j.SGML_DECL,N.q=""),N.sgmlDecl+=z;continue;case j.DOCTYPE:z===">"?(N.state=j.TEXT,k(N,"ondoctype",N.doctype),N.doctype=!0):(N.doctype+=z,z==="["?N.state=j.DOCTYPE_DTD:w(z)&&(N.state=j.DOCTYPE_QUOTED,N.q=z));continue;case j.DOCTYPE_QUOTED:N.doctype+=z,z===N.q&&(N.q="",N.state=j.DOCTYPE);continue;case j.DOCTYPE_DTD:N.doctype+=z,z==="]"?N.state=j.DOCTYPE:w(z)&&(N.state=j.DOCTYPE_DTD_QUOTED,N.q=z);continue;case j.DOCTYPE_DTD_QUOTED:N.doctype+=z,z===N.q&&(N.state=j.DOCTYPE_DTD,N.q="");continue;case j.COMMENT:z==="-"?N.state=j.COMMENT_ENDING:N.comment+=z;continue;case j.COMMENT_ENDING:z==="-"?(N.state=j.COMMENT_ENDED,N.comment=L(N.opt,N.comment),N.comment&&k(N,"oncomment",N.comment),N.comment=""):(N.comment+="-"+z,N.state=j.COMMENT);continue;case j.COMMENT_ENDED:z!==">"?(U(N,"Malformed comment"),N.comment+="--"+z,N.state=j.COMMENT):N.state=j.TEXT;continue;case j.CDATA:z==="]"?N.state=j.CDATA_ENDING:N.cdata+=z;continue;case j.CDATA_ENDING:z==="]"?N.state=j.CDATA_ENDING_2:(N.cdata+="]"+z,N.state=j.CDATA);continue;case j.CDATA_ENDING_2:z===">"?(N.cdata&&k(N,"oncdata",N.cdata),k(N,"onclosecdata"),N.cdata="",N.state=j.TEXT):z==="]"?N.cdata+="]":(N.cdata+="]]"+z,N.state=j.CDATA);continue;case j.PROC_INST:z==="?"?N.state=j.PROC_INST_ENDING:y(z)?N.state=j.PROC_INST_BODY:N.procInstName+=z;continue;case j.PROC_INST_BODY:if(!N.procInstBody&&y(z))continue;z==="?"?N.state=j.PROC_INST_ENDING:N.procInstBody+=z;continue;case j.PROC_INST_ENDING:z===">"?(k(N,"onprocessinginstruction",{name:N.procInstName,body:N.procInstBody}),N.procInstName=N.procInstBody="",N.state=j.TEXT):(N.procInstBody+="?"+z,N.state=j.PROC_INST_BODY);continue;case j.OPEN_TAG:E(b,z)?N.tagName+=z:(V(N),z===">"?P(N):z==="/"?N.state=j.OPEN_TAG_SLASH:(y(z)||U(N,"Invalid character in tag name"),N.state=j.ATTRIB));continue;case j.OPEN_TAG_SLASH:z===">"?(P(N,!0),W(N)):(U(N,"Forward-slash in opening tag not followed by >"),N.state=j.ATTRIB);continue;case j.ATTRIB:if(y(z))continue;z===">"?P(N):z==="/"?N.state=j.OPEN_TAG_SLASH:E(g,z)?(N.attribName=z,N.attribValue="",N.state=j.ATTRIB_NAME):U(N,"Invalid attribute name");continue;case j.ATTRIB_NAME:z==="="?N.state=j.ATTRIB_VALUE:z===">"?(U(N,"Attribute without value"),N.attribValue=N.attribName,B(N),P(N)):y(z)?N.state=j.ATTRIB_NAME_SAW_WHITE:E(b,z)?N.attribName+=z:U(N,"Invalid attribute name");continue;case j.ATTRIB_NAME_SAW_WHITE:if(z==="=")N.state=j.ATTRIB_VALUE;else{if(y(z))continue;U(N,"Attribute without value"),N.tag.attributes[N.attribName]="",N.attribValue="",k(N,"onattribute",{name:N.attribName,value:""}),N.attribName="",z===">"?P(N):E(g,z)?(N.attribName=z,N.state=j.ATTRIB_NAME):(U(N,"Invalid attribute name"),N.state=j.ATTRIB)}continue;case j.ATTRIB_VALUE:if(y(z))continue;w(z)?(N.q=z,N.state=j.ATTRIB_VALUE_QUOTED):(U(N,"Unquoted attribute value"),N.state=j.ATTRIB_VALUE_UNQUOTED,N.attribValue=z);continue;case j.ATTRIB_VALUE_QUOTED:if(z!==N.q){z==="&"?N.state=j.ATTRIB_VALUE_ENTITY_Q:N.attribValue+=z;continue}B(N),N.q="",N.state=j.ATTRIB_VALUE_CLOSED;continue;case j.ATTRIB_VALUE_CLOSED:y(z)?N.state=j.ATTRIB:z===">"?P(N):z==="/"?N.state=j.OPEN_TAG_SLASH:E(g,z)?(U(N,"No whitespace between attributes"),N.attribName=z,N.attribValue="",N.state=j.ATTRIB_NAME):U(N,"Invalid attribute name");continue;case j.ATTRIB_VALUE_UNQUOTED:if(!_(z)){z==="&"?N.state=j.ATTRIB_VALUE_ENTITY_U:N.attribValue+=z;continue}B(N),z===">"?P(N):N.state=j.ATTRIB;continue;case j.CLOSE_TAG:if(N.tagName)z===">"?W(N):E(b,z)?N.tagName+=z:N.script?(N.script+="</"+N.tagName,N.tagName="",N.state=j.SCRIPT):(y(z)||U(N,"Invalid tagname in closing tag"),N.state=j.CLOSE_TAG_SAW_WHITE);else{if(y(z))continue;A(g,z)?N.script?(N.script+="</"+z,N.state=j.SCRIPT):U(N,"Invalid tagname in closing tag."):N.tagName=z}continue;case j.CLOSE_TAG_SAW_WHITE:if(y(z))continue;z===">"?W(N):U(N,"Invalid characters in closing tag");continue;case j.TEXT_ENTITY:case j.ATTRIB_VALUE_ENTITY_Q:case j.ATTRIB_VALUE_ENTITY_U:var Y,me;switch(N.state){case j.TEXT_ENTITY:Y=j.TEXT,me="textNode";break;case j.ATTRIB_VALUE_ENTITY_Q:Y=j.ATTRIB_VALUE_QUOTED,me="attribValue";break;case j.ATTRIB_VALUE_ENTITY_U:Y=j.ATTRIB_VALUE_UNQUOTED,me="attribValue";break}if(z===";")if(N.opt.unparsedEntities){var le=G(N);N.entity="",N.state=Y,N.write(le)}else N[me]+=G(N),N.entity="",N.state=Y;else E(N.entity.length?v:x,z)?N.entity+=z:(U(N,"Invalid character in entity name"),N[me]+="&"+N.entity+z,N.entity="",N.state=Y);continue;default:throw new Error(N,"Unknown state: "+N.state)}return N.position>=N.bufferCheckPosition&&r(N),N}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */return String.fromCodePoint||function(){var I=String.fromCharCode,N=Math.floor,K=function(){var z=16384,Z=[],J,Y,me=-1,le=arguments.length;if(!le)return"";for(var ve="";++me<le;){var oe=Number(arguments[me]);if(!isFinite(oe)||oe<0||oe>1114111||N(oe)!==oe)throw RangeError("Invalid code point: "+oe);oe<=65535?Z.push(oe):(oe-=65536,J=(oe>>10)+55296,Y=oe%1024+56320,Z.push(J,Y)),(me+1===le||Z.length>z)&&(ve+=I.apply(null,Z),Z.length=0)}return ve};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:K,configurable:!0,writable:!0}):String.fromCodePoint=K}(),t},Lge=Dge(),hj=`The output should be formatted as a XML file.
1. Output should conform to the tags below. 
2. If tags are not given, make them on your own.
3. Remember to always open and close all the tags.

As an example, for the tags ["foo", "bar", "baz"]:
1. String "<foo>
   <bar>
      <baz></baz>
   </bar>
</foo>" is a well-formatted instance of the schema. 
2. String "<foo>
   <bar>
   </foo>" is a badly-formatted instance.
3. String "<foo>
   <tag>
   </tag>
</foo>" is a badly-formatted instance.

Here are the output tags:
\`\`\`
{tags}
\`\`\``;var Fge=class extends $b{constructor(e){super(e);H(this,"tags");H(this,"lc_namespace",["langchain_core","output_parsers"]);H(this,"lc_serializable",!0);this.tags=e==null?void 0:e.tags}static lc_name(){return"XMLOutputParser"}_diff(e,n){if(n)return e?jC(e,n):[{op:"replace",path:"",value:n}]}async parsePartialResult(e){return pj(e[0].text)}async parse(e){return pj(e)}getFormatInstructions(){var n;return!!(this.tags&&this.tags.length>0)?hj.replace("{tags}",((n=this.tags)==null?void 0:n.join(", "))??""):hj}};const Bge=t=>t.split(`
`).map(e=>e.replace(/^\s+/,"")).join(`
`).trim(),M8=t=>{if(Object.keys(t).length===0)return{};const e={};return t.children.length>0?(e[t.name]=t.children.map(M8),e):(e[t.name]=t.text??void 0,e)};function pj(t){const e=Bge(t),n=Lge.parser(!0);let r={};const i=[];n.onopentag=o=>{const l={name:o.name,attributes:o.attributes,children:[],text:"",isSelfClosing:o.isSelfClosing};i.length>0?i[i.length-1].children.push(l):r=l,o.isSelfClosing||i.push(l)},n.onclosetag=()=>{if(i.length>0){const o=i.pop();i.length===0&&o&&(r=o)}},n.ontext=o=>{if(i.length>0){const l=i[i.length-1];l.text+=o}},n.onattribute=o=>{if(i.length>0){const l=i[i.length-1];l.attributes[o.name]=o.value}};const a=/```(xml)?(.*)```/s.exec(e),s=a?a[2]:e;return n.write(s).close(),r&&r.name==="?xml"&&(r=r.children[0]),M8(r)}var zge={};bt(zge,{AsymmetricStructuredOutputParser:()=>Mge,BaseCumulativeTransformOutputParser:()=>$b,BaseLLMOutputParser:()=>I8,BaseOutputParser:()=>Ib,BaseTransformOutputParser:()=>mg,BytesOutputParser:()=>Oge,CommaSeparatedListOutputParser:()=>Nge,CustomListOutputParser:()=>Pge,JsonMarkdownStructuredOutputParser:()=>R8,JsonOutputParser:()=>$8,ListOutputParser:()=>gg,MarkdownListOutputParser:()=>$ge,NumberedListOutputParser:()=>Ige,OutputParserException:()=>zs,StringOutputParser:()=>Rge,StructuredOutputParser:()=>MC,XMLOutputParser:()=>Fge,XML_FORMAT_INSTRUCTIONS:()=>hj,parseJsonMarkdown:()=>zE,parsePartialJson:()=>gb,parseXMLMarkdown:()=>pj});function DC(t,e){if(t.function===void 0)return;let n;if(e!=null&&e.partial)try{n=gb(t.function.arguments??"{}")}catch{return}else try{n=JSON.parse(t.function.arguments)}catch(i){throw new zs([`Function "${t.function.name}" arguments:`,"",t.function.arguments,"","are not valid JSON.",`Error: ${i.message}`].join(`
`))}const r={name:t.function.name,args:n,type:"tool_call"};return e!=null&&e.returnId&&(r.id=t.id),r}function D8(t){if(t.id===void 0)throw new Error('All OpenAI tool calls must have an "id" field.');return{id:t.id,type:"function",function:{name:t.name,arguments:JSON.stringify(t.args)}}}function L8(t,e){var n,r;return{name:(n=t.function)==null?void 0:n.name,args:(r=t.function)==null?void 0:r.arguments,id:t.id,error:e,type:"invalid_tool_call"}}var F8=class extends $b{constructor(e){super(e);H(this,"returnId",!1);H(this,"lc_namespace",["langchain","output_parsers","openai_tools"]);H(this,"lc_serializable",!0);this.returnId=(e==null?void 0:e.returnId)??this.returnId}static lc_name(){return"JsonOutputToolsParser"}_diff(){throw new Error("Not supported.")}async parse(){throw new Error("Not implemented.")}async parseResult(e){return await this.parsePartialResult(e,!1)}async parsePartialResult(e,n=!0){var s;const r=e[0].message;let i;if(yb(r)&&((s=r.tool_calls)!=null&&s.length)?i=r.tool_calls.map(o=>{const{id:l,...c}=o;return this.returnId?{id:l,...c}:c}):r.additional_kwargs.tool_calls!==void 0&&(i=JSON.parse(JSON.stringify(r.additional_kwargs.tool_calls)).map(l=>DC(l,{returnId:this.returnId,partial:n}))),!i)return[];const a=[];for(const o of i)if(o!==void 0){const l={type:o.name,args:o.args,id:o.id};a.push(l)}return a}},mj=class extends F8{constructor(e){super(e);H(this,"lc_namespace",["langchain","output_parsers","openai_tools"]);H(this,"lc_serializable",!0);H(this,"returnId",!1);H(this,"keyName");H(this,"returnSingle",!1);H(this,"zodSchema");this.keyName=e.keyName,this.returnSingle=e.returnSingle??this.returnSingle,this.zodSchema=e.zodSchema}static lc_name(){return"JsonOutputKeyToolsParser"}async _validateResult(e){var r;if(this.zodSchema===void 0)return e;const n=await qz(this.zodSchema,e);if(n.success)return n.data;throw new zs(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify((r=n.error)==null?void 0:r.issues)}`,JSON.stringify(e,null,2))}async parsePartialResult(e){const r=(await super.parsePartialResult(e)).filter(a=>a.type===this.keyName);let i=r;if(r.length)return this.returnId||(i=r.map(a=>a.args)),this.returnSingle?i[0]:i}async parseResult(e){const r=(await super.parsePartialResult(e,!1)).filter(s=>s.type===this.keyName);let i=r;return r.length?(this.returnId||(i=r.map(s=>s.args)),this.returnSingle?this._validateResult(i[0]):await Promise.all(i.map(s=>this._validateResult(s)))):void 0}},Uge={};bt(Uge,{JsonOutputKeyToolsParser:()=>mj,JsonOutputToolsParser:()=>F8,convertLangChainToolCallToOpenAI:()=>D8,makeInvalidToolCall:()=>L8,parseToolCall:()=>DC});function B8(t){return t!==void 0&&Array.isArray(t.lc_namespace)}function z8(t){return t!==void 0&&fn.isRunnable(t)&&"lc_name"in t.constructor&&typeof t.constructor.lc_name=="function"&&t.constructor.lc_name()==="RunnableToolLike"}function U8(t){return!!t&&typeof t=="object"&&"name"in t&&"schema"in t&&(Dc(t.schema)||t.schema!=null&&typeof t.schema=="object"&&"type"in t.schema&&typeof t.schema.type=="string"&&["null","boolean","object","array","number","string"].includes(t.schema.type))}function H8(t){return U8(t)||z8(t)||B8(t)}var Hge={};bt(Hge,{convertToOpenAIFunction:()=>V8,convertToOpenAITool:()=>gj,isLangChainTool:()=>H8,isRunnableToolLike:()=>z8,isStructuredTool:()=>B8,isStructuredToolParams:()=>U8});function V8(t,e){const n=typeof e=="number"?void 0:e;return{name:t.name,description:t.description,parameters:wl(t.schema),...(n==null?void 0:n.strict)!==void 0?{strict:n.strict}:{}}}function gj(t,e){const n=typeof e=="number"?void 0:e;let r;return H8(t)?r={type:"function",function:V8(t)}:r=t,(n==null?void 0:n.strict)!==void 0&&(r.function.strict=n.strict),r}const Vge=["frequency_penalty","function_call","functions","logit_bias","logprobs","max_completion_tokens","max_tokens","n","parallel_tool_calls","presence_penalty","reasoning_format","response_format","seed","service_tier","stop","temperature","tool_choice","top_logprobs","top_p"],Wge=["headers","promptIndex","stream_options","tools"],qge=[...Vge,...Wge];function Gge(t){if(t.role!=="system"&&t.role!=="assistant"&&t.role!=="user"&&t.role!=="function")throw new Error(`Unsupported message role: ${t.role}. Expected "system", "assistant", "user", or "function"`);return t.role}function Kge(t){switch(t.type){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"tool":return"tool";case"generic":if(!tu.isInstance(t))throw new Error("Invalid generic chat message");return Gge(t);default:throw new Error(`Unknown message type: ${t.type}`)}}function X$(t){return t.map(e=>{var r;const n={role:Kge(e),content:e.content,name:e.name,function_call:e.additional_kwargs.function_call,tool_calls:e.additional_kwargs.tool_calls,tool_call_id:e.tool_call_id};return yb(e)&&((r=e.tool_calls)!=null&&r.length)?n.tool_calls=e.tool_calls.map(D8):(e.additional_kwargs.tool_calls!=null&&(n.tool_calls=e.additional_kwargs.tool_calls),e.tool_call_id!=null&&(n.tool_call_id=e.tool_call_id)),n})}function Yge(t,e,n){const r=t.tool_calls;switch(t.role){case"assistant":{const i=[],a=[];for(const s of r??[])try{i.push(DC(s,{returnId:!0}))}catch(o){a.push(L8(s,o.message))}return new cs({content:t.content||"",additional_kwargs:{tool_calls:r},tool_calls:i,invalid_tool_calls:a,usage_metadata:e,response_metadata:n})}default:return new tu(t.content||"",t.role??"unknown")}}function Xge(t,e,n,r){var h,p;const i=t.role??e,a=t.content??"";let s;t.function_call?s={function_call:t.function_call}:t.tool_calls?s={tool_calls:t.tool_calls}:s={},t.audio&&(s.audio={...t.audio,index:n.choices[0].index});let o,l=r,c;const d=n.x_groq;d!=null&&d.usage&&(o={input_tokens:d.usage.prompt_tokens,output_tokens:d.usage.completion_tokens,total_tokens:d.usage.total_tokens},c={completion_time:d.usage.completion_time,prompt_time:d.usage.prompt_time,queue_time:d.usage.queue_time,total_time:d.usage.total_time}),d!=null&&d.id&&(l=d.id);const f={usage:o,timing:c};if(i==="user")return new cg({content:a,response_metadata:f});if(i==="assistant"){const m=[];if(Array.isArray(t.tool_calls))for(const g of t.tool_calls)m.push({name:(h=g.function)==null?void 0:h.name,args:(p=g.function)==null?void 0:p.arguments,id:g.id,index:g.index,type:"tool_call_chunk"});return new fo({content:a,tool_call_chunks:m,additional_kwargs:s,id:l,response_metadata:f})}else return i==="system"?new Sl({content:a,response_metadata:f}):i==="developer"?new Sl({content:a,response_metadata:f,additional_kwargs:{__openai_role__:"developer"}}):i==="function"?new lg({content:a,additional_kwargs:s,name:t.name,response_metadata:f}):i==="tool"?new sg({content:a,additional_kwargs:s,tool_call_id:t.tool_call_id,response_metadata:f}):new og({content:a,role:i,response_metadata:f})}var Zge=class extends IC{constructor(e){super(e);H(this,"lc_namespace",["langchain","chat_models","groq"]);H(this,"client");H(this,"model");H(this,"temperature",.7);H(this,"stop");H(this,"stopSequences");H(this,"maxTokens");H(this,"streaming",!1);H(this,"apiKey");H(this,"streamUsage",!0);H(this,"topP");H(this,"frequencyPenalty");H(this,"presencePenalty");H(this,"logprobs");H(this,"n");H(this,"logitBias");H(this,"user");H(this,"reasoningFormat");H(this,"serviceTier");H(this,"topLogprobs");H(this,"lc_serializable",!0);const n=e.apiKey||Fs("GROQ_API_KEY");if(!n)throw new Error('Groq API key not found. Please set the GROQ_API_KEY environment variable or provide the key into "apiKey"');const r={"User-Agent":"langchainjs",...e.defaultHeaders??{}};this.client=new Rt({apiKey:n,dangerouslyAllowBrowser:!0,baseURL:e.baseUrl,timeout:e.timeout,httpAgent:e.httpAgent,fetch:e.fetch,maxRetries:0,defaultHeaders:r,defaultQuery:e.defaultQuery}),this.apiKey=n,this.temperature=e.temperature??this.temperature,this.model=e.model,this.streaming=e.streaming??this.streaming,this.stop=e.stopSequences??(typeof e.stop=="string"?[e.stop]:e.stop)??[],this.stopSequences=this.stop,this.maxTokens=e.maxTokens,this.topP=e.topP,this.frequencyPenalty=e.frequencyPenalty,this.presencePenalty=e.presencePenalty,this.logprobs=e.logprobs,this.n=e.n,this.logitBias=e.logitBias,this.user=e.user}get lc_serialized_keys(){return["client","model","temperature","stop","stopSequences","maxTokens","streaming","apiKey","streamUsage","topP","frequencyPenalty","presencePenalty","logprobs","n","logitBias","user","reasoningFormat","serviceTier","topLogprobs"]}static lc_name(){return"ChatGroq"}_llmType(){return"groq"}get lc_secrets(){return{apiKey:"GROQ_API_KEY"}}get callKeys(){return[...super.callKeys,...qge]}getLsParams(e){const n=this.invocationParams(e);return{ls_provider:"groq",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:n.temperature??this.temperature,ls_max_tokens:n.max_tokens??this.maxTokens,ls_stop:e.stop}}async completionWithRetry(e,n){return this.caller.call(async()=>this.client.chat.completions.create(e,n))}invocationParams(e,n){var s;const r=super.invocationParams(e);let i={};(e==null?void 0:e.stream_options)!==void 0?i={stream_options:e.stream_options}:(this.streamUsage&&this.streaming||n!=null&&n.streaming)&&(i={stream_options:{include_usage:!0}});const a={model:this.model,frequency_penalty:this.frequencyPenalty,function_call:e==null?void 0:e.function_call,functions:e==null?void 0:e.functions,logit_bias:this.logitBias,logprobs:this.logprobs,n:this.n,parallel_tool_calls:e==null?void 0:e.parallel_tool_calls,presence_penalty:this.presencePenalty,reasoning_format:this.reasoningFormat,response_format:e==null?void 0:e.response_format,seed:e==null?void 0:e.seed,service_tier:this.serviceTier,stop:(e==null?void 0:e.stop)??this.stopSequences,temperature:(e==null?void 0:e.temperature)??this.temperature,tool_choice:Jge(e==null?void 0:e.tool_choice),tools:(s=e==null?void 0:e.tools)!=null&&s.length?e.tools.map(o=>gj(o)):void 0,top_logprobs:this.topLogprobs,top_p:this.topP,user:this.user,stream:this.streaming,...r,...i};return a.max_completion_tokens=(e==null?void 0:e.max_completion_tokens)??(e==null?void 0:e.max_tokens)??this.maxTokens,a.max_completion_tokens===-1&&delete a.max_completion_tokens,a}bindTools(e,n){return this.withConfig({tools:e.map(r=>gj(r)),...n})}async*_streamResponseChunks(e,n,r){var d,f;const i=this.invocationParams(n,{streaming:!0}),a=X$(e),s=await this.completionWithRetry({...i,messages:a,stream:!0},{signal:n==null?void 0:n.signal,headers:n==null?void 0:n.headers});let o,l,c;for await(const h of s){c=h;const p=h==null?void 0:h.choices[0];if(!p)continue;(d=p.delta)!=null&&d.role&&(o=p.delta.role);const m=Xge(p.delta,o,h,l),g={prompt:n.promptIndex??0,completion:p.index??0};if(typeof m.content!="string"){console.log("[WARNING]: Received non-string content from OpenAI. This is currently not supported.");continue}const b={...g};p.finish_reason!=null&&(b.finish_reason=p.finish_reason,b.system_fingerprint=h.system_fingerprint,b.model_name=h.model);const x=new im({message:m,text:m.content,generationInfo:b});yield x,await(r==null?void 0:r.handleLLMNewToken(x.text??"",g,void 0,void 0,void 0,{chunk:x}))}if(c&&("choices"in c&&delete c.choices,yield new im({message:new fo({content:"",response_metadata:c}),text:""})),(f=n.signal)!=null&&f.aborted)throw new Error("AbortError")}async _generate(e,n,r){var i;if(this.streaming){const a={},s=this._streamResponseChunks(e,n,r),o={};for await(const c of s){const d=((i=c.generationInfo)==null?void 0:i.completion)??0;o[d]===void 0?o[d]=c:o[d]=o[d].concat(c)}return{generations:Object.entries(o).sort(([c],[d])=>parseInt(c,10)-parseInt(d,10)).map(([c,d])=>d),llmOutput:{estimatedTokenUsage:a}}}else return this._generateNonStreaming(e,n,r)}async _generateNonStreaming(e,n,r){var c;const i={},a=this.invocationParams(n),s=X$(e),o=await this.completionWithRetry({...a,stream:!1,messages:s},{signal:n==null?void 0:n.signal,headers:n==null?void 0:n.headers});if("usage"in o&&o.usage){const{completion_tokens:d,prompt_tokens:f,total_tokens:h}=o.usage;d&&(i.completionTokens=(i.completionTokens??0)+d),f&&(i.promptTokens=(i.promptTokens??0)+f),h&&(i.totalTokens=(i.totalTokens??0)+h)}const l=[];if("choices"in o&&o.choices)for(const d of o.choices){const f=((c=d.message)==null?void 0:c.content)??"";let h;i.totalTokens!==void 0&&(h={input_tokens:i.promptTokens??0,output_tokens:i.completionTokens??0,total_tokens:i.totalTokens});const{choices:p,...m}=o,g={text:f,message:Yge(d.message??{role:"assistant"},h,m)};g.generationInfo={...d.finish_reason?{finish_reason:d.finish_reason}:{},...d.logprobs?{logprobs:d.logprobs}:{}},l.push(g)}return{generations:l,llmOutput:{tokenUsage:i}}}get profile(){return Fae[this.model]??{}}withStructuredOutput(e,n){const r=e,i=n==null?void 0:n.name,a=n==null?void 0:n.method,s=n==null?void 0:n.includeRaw;let o=i??"extract",l,c;if(a==="jsonMode"){let p;Dc(r)?(l=MC.fromZodSchema(r),p=wl(r)):l=new $8,c=this.withConfig({response_format:{type:"json_object"},ls_structured_output_format:{kwargs:{method:"jsonMode"},schema:p}})}else if(Dc(r)){const p=wl(r);c=this.bindTools([{type:"function",function:{name:o,description:p.description,parameters:p}}]).withConfig({tool_choice:{type:"function",function:{name:o}},ls_structured_output_format:{kwargs:{method:"functionCalling"},schema:p}}),l=new mj({returnSingle:!0,keyName:o,zodSchema:r})}else{let p;typeof r.name=="string"&&typeof r.parameters=="object"&&r.parameters!=null?(p=r,o=r.name):(o=r.title??o,p={name:o,description:r.description??"",parameters:r}),c=this.bindTools([{type:"function",function:p}]).withConfig({tool_choice:{type:"function",function:{name:o}},ls_structured_output_format:{kwargs:{method:"functionCalling"},schema:r}}),l=new mj({returnSingle:!0,keyName:o})}if(!s)return c.pipe(l).withConfig({runName:"ChatGroqStructuredOutput"});const d=Xd.assign({parsed:(p,m)=>l.invoke(p.raw,m)}),f=Xd.assign({parsed:()=>null}),h=d.withFallbacks({fallbacks:[f]});return hg.from([{raw:c},h]).withConfig({runName:"ChatGroqStructuredOutput"})}};function Jge(t){if(t)return t==="any"||t==="required"?"required":t==="auto"?"auto":t==="none"?"none":typeof t=="string"?{type:"function",function:{name:t}}:t}const Qge="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",eye="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",tye="https://api.tavily.com/search",nye=!0,Z$="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",rye="AdmitConnectAI",iye=`You are the AdmitConnect AI Assistant, designed to help users understand and navigate the AdmitConnect platform.

About AdmitConnect AI:
AdmitConnect AI is a college admission campaign management platform that helps educational institutions execute multi-channel outreach campaigns through WhatsApp, Voice Calls, and Email using AI-powered automation.

Core capabilities include AI-powered campaign automation, real-time analytics for tracking engagement and response rates, multi-channel communication across Email, Voice, and WhatsApp, candidate management tools, 24/7 AI counseling agents, and predictive intelligence for campaign optimization.

The platform was developed by Yash Sharma, a Generative AI Engineer specializing in scalable AI solutions for educational technology.

Your role:
Provide clear, accurate information about the platform's features and capabilities. Offer professional guidance on college admission trends and best practices. Use real-time web search when needed for current information. Help users navigate the platform and understand how to use its features effectively.

Communication style:
Use clear, professional Markdown formatting for EVERY response.
- **Bold Headers**: Use bold text for key topics or section titles.
- **Lists**: ALWAYS use bullet points or numbered lists for steps, items, or features.
- **Paragraphs**: Keep paragraphs short (2-3 sentences) with clear line breaks between them.
- **No Blocks**: Avoid long walls of text. Break information down visually.
- **Tone**: Natural, conversational (like ChatGPT) but structured professionally.`,aye=`You are the AdmitConnect Campaign Expert, a specialized assistant for users working in the AdmitConnect Dashboard.

About the platform:
AdmitConnect AI, developed by Yash Sharma (Generative AI Engineer), is a comprehensive campaign management platform for college admissions. It enables educational institutions to streamline student outreach and enrollment through AI-driven automation.

Platform features:
The Campaign Creation Suite allows users to set up WhatsApp campaigns with automated personalized messaging, Voice Call campaigns with AI-powered interactions, and Email campaigns with professional sequences and tracking.

The Candidate Management System supports bulk uploads via CSV/Excel, intelligent segmentation and filtering, comprehensive candidate profiles, and engagement history tracking.

Analytics and Reporting provides real-time campaign performance metrics, response rate analysis, channel effectiveness comparisons, and ROI tracking with optimization insights.

The AI Agent Ecosystem includes a Counseling Crew for 24/7 automated student support, a Campaign Orchestrator for intelligent multi-channel coordination, a Decision Engine for smart campaign strategy recommendations, and a Content Generator for AI-powered message and script creation.

Automation and Intelligence features cover smart scheduling and timing optimization, predictive analytics for student engagement, automated follow-up sequences, and performance-based campaign adjustments.

Your expertise:
You understand campaign strategy development, multi-channel marketing for educational institutions, data-driven decision making for student recruitment, AI-powered automation workflows, and candidate engagement best practices.

How to help users:
For campaign creation, guide users through defining their target audience, recommend the optimal channel mix based on their goals, suggest effective messaging strategies, and help configure timing and frequency.

For analytics, explain what the metrics mean, identify areas for improvement, provide context by benchmarking against industry standards, and recommend specific optimization strategies.

For feature navigation, give clear step-by-step instructions on how to find and use dashboard features, configure settings, set up integrations, and apply best practices.

For strategy consultation, offer professional recommendations on campaign planning and execution, channel selection based on demographics, content personalization techniques, and engagement optimization.

Communication style:
Use clear, professional Markdown formatting for EVERY response.
- **Bold Headers**: Use bold text for key topics or section titles.
- **Lists**: ALWAYS use bullet points or numbered lists for steps, items, or features.
- **Paragraphs**: Keep paragraphs short (2-3 sentences) with clear line breaks between them.
- **No Blocks**: Avoid long walls of text. Break information down visually.
- **Tone**: Consultative and actionable.`,sye=`You are the AdmitConnect AI College Counselor, a strict and focused assistant dedicated ONLY to college admissions, student counseling, and educational guidance.

Instructions:
1. STRICT DOMAIN RESTRICTION: You must ONLY answer questions related to college admissions, university information, applications, scholarships, exams, student life, and academic guidance.
2. GUARDRAILS: If a user asks a question unrelated to education or admissions (e.g., sports, politics, entertainment, general chit-chat unrelated to college), you must POLITELY REFUSE to answer.
   - Example valid refusal: "I apologize, but I am specialized only in college admissions and educational counseling. I cannot assist with that topic."
3. SOURCE-BASED ANSWERS: You will be provided with information from web searches. You must use this information to answer user questions accurately. Cite your sources using [1], [2] notation.
4. TONE: Professional, encouraging, empathetic, and formal yet accessible. You are guiding students through a stressful process.
5. FORMATTING: STRICTLY use professional Markdown.
   - Use **Bold** for major points.
   - Use bullet points for lists.
   - Separate thoughts with new lines.
   - Make it easy to read on mobile devices.

You are NOT a general purpose AI. You are a specialized College Counselor. Do not break character. Do not answer questions outside your scope.`;class W8{constructor(e="general"){H(this,"context");H(this,"model",null);H(this,"tracer");H(this,"isAvailable",!1);this.context=e;try{if(this.model=new Zge({apiKey:Qge,model:"llama-3.3-70b-versatile",temperature:.7,maxTokens:1024}),this.isAvailable=!0,nye&&Z$)try{const n=new Gd({apiUrl:"https://api.smith.langchain.com",apiKey:Z$});this.tracer=new cp({projectName:rye||"default",client:n})}catch(n){console.warn("Failed to initialize LangSmith tracer",n)}}catch(n){console.error("Failed to initialize ChatService:",n),this.isAvailable=!1}}checkAvailability(){return this.isAvailable}async searchTavily(e){try{const n=await fetch(tye,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({api_key:eye,query:e,search_depth:"basic",include_answer:!0,max_results:3})});if(!n.ok)throw new Error("Tavily search failed");return(await n.json()).results.map(i=>({title:i.title,url:i.url,content:i.content}))}catch(n){return console.error("Error searching Tavily:",n),[]}}async generateResponse(e,n=[],r){if(!this.model||!this.isAvailable)return{content:"I'm sorry, the AI chat service is currently unavailable. Please check the API configuration.",sources:[]};try{let i=[],a="";(this.context==="counselor"||e.length>10&&(this.context==="general"||e.toLowerCase().includes("search")||e.toLowerCase().includes("news")))&&(i=await this.searchTavily(e));let s=iye;if(this.context==="dashboard"&&(s=aye),this.context==="counselor"&&(s=sye),r&&this.context==="dashboard"){const f=r.stats?`
Current Dashboard Stats:
- Total Campaigns: ${r.stats.totalCampaigns}
- Messages Sent: ${r.stats.messagesSent}
- Response Rate: ${r.stats.responseRate}%`:"",h=r.campaigns&&r.campaigns.length>0?`
Recent Campaigns:
${r.campaigns.slice(0,5).map(p=>`- ${p.name} (${p.status}): ${p.candidates_count||0} candidates`).join(`
`)}`:"";s+=`

REAL-TIME CONTEXT:
${f}
${h}

Use this real-time data to answer user questions about their specific campaigns.`}i.length>0&&(a=`

Here is some relevant information found from the web:
${i.map((f,h)=>`[${h+1}] ${f.title}: ${f.content}`).join(`
`)}

Use this information to answer the user's question if relevant. Cite sources using [1], [2] notation.`);const o=[new us(s+a),...n.map(f=>f.role==="user"?new Sa(f.content):f.role==="assistant"?new cs(f.content):new us(f.content)),new Sa(e)],l=this.tracer?[this.tracer]:[];return{content:(await this.model.invoke(o,{callbacks:l,metadata:{context:this.context},tags:["admit-connect-ai",this.context]})).content,sources:i}}catch(i){return console.error("ChatService error:",i),{content:"I'm sorry, I encountered an error while processing your request. Please try again later.",sources:[]}}}}function oye(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const lye=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,cye=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,uye={};function J$(t,e){return(uye.jsx?cye:lye).test(t)}const dye=/[ \t\n\f\r]/g;function fye(t){return typeof t=="object"?t.type==="text"?Q$(t.value):!1:Q$(t)}function Q$(t){return t.replace(dye,"")===""}class yg{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}yg.prototype.normal={};yg.prototype.property={};yg.prototype.space=void 0;function q8(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new yg(n,r,e)}function yj(t){return t.toLowerCase()}class Br{constructor(e,n){this.attribute=n,this.property=e}}Br.prototype.attribute="";Br.prototype.booleanish=!1;Br.prototype.boolean=!1;Br.prototype.commaOrSpaceSeparated=!1;Br.prototype.commaSeparated=!1;Br.prototype.defined=!1;Br.prototype.mustUseProperty=!1;Br.prototype.number=!1;Br.prototype.overloadedBoolean=!1;Br.prototype.property="";Br.prototype.spaceSeparated=!1;Br.prototype.space=void 0;let hye=0;const Je=ru(),pn=ru(),vj=ru(),ue=ru(),Ct=ru(),gd=ru(),Hr=ru();function ru(){return 2**++hye}const xj=Object.freeze(Object.defineProperty({__proto__:null,boolean:Je,booleanish:pn,commaOrSpaceSeparated:Hr,commaSeparated:gd,number:ue,overloadedBoolean:vj,spaceSeparated:Ct},Symbol.toStringTag,{value:"Module"})),f1=Object.keys(xj);class LC extends Br{constructor(e,n,r,i){let a=-1;if(super(e,n),eR(this,"space",i),typeof r=="number")for(;++a<f1.length;){const s=f1[a];eR(this,f1[a],(r&xj[s])===xj[s])}}}LC.prototype.defined=!0;function eR(t,e,n){n&&(t[e]=n)}function zf(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const a=new LC(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[yj(r)]=r,n[yj(a.attribute)]=r}return new yg(e,n,t.space)}const G8=zf({properties:{ariaActiveDescendant:null,ariaAtomic:pn,ariaAutoComplete:null,ariaBusy:pn,ariaChecked:pn,ariaColCount:ue,ariaColIndex:ue,ariaColSpan:ue,ariaControls:Ct,ariaCurrent:null,ariaDescribedBy:Ct,ariaDetails:null,ariaDisabled:pn,ariaDropEffect:Ct,ariaErrorMessage:null,ariaExpanded:pn,ariaFlowTo:Ct,ariaGrabbed:pn,ariaHasPopup:null,ariaHidden:pn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ct,ariaLevel:ue,ariaLive:null,ariaModal:pn,ariaMultiLine:pn,ariaMultiSelectable:pn,ariaOrientation:null,ariaOwns:Ct,ariaPlaceholder:null,ariaPosInSet:ue,ariaPressed:pn,ariaReadOnly:pn,ariaRelevant:null,ariaRequired:pn,ariaRoleDescription:Ct,ariaRowCount:ue,ariaRowIndex:ue,ariaRowSpan:ue,ariaSelected:pn,ariaSetSize:ue,ariaSort:null,ariaValueMax:ue,ariaValueMin:ue,ariaValueNow:ue,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function K8(t,e){return e in t?t[e]:e}function Y8(t,e){return K8(t,e.toLowerCase())}const pye=zf({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:gd,acceptCharset:Ct,accessKey:Ct,action:null,allow:null,allowFullScreen:Je,allowPaymentRequest:Je,allowUserMedia:Je,alt:null,as:null,async:Je,autoCapitalize:null,autoComplete:Ct,autoFocus:Je,autoPlay:Je,blocking:Ct,capture:null,charSet:null,checked:Je,cite:null,className:Ct,cols:ue,colSpan:null,content:null,contentEditable:pn,controls:Je,controlsList:Ct,coords:ue|gd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Je,defer:Je,dir:null,dirName:null,disabled:Je,download:vj,draggable:pn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Je,formTarget:null,headers:Ct,height:ue,hidden:vj,high:ue,href:null,hrefLang:null,htmlFor:Ct,httpEquiv:Ct,id:null,imageSizes:null,imageSrcSet:null,inert:Je,inputMode:null,integrity:null,is:null,isMap:Je,itemId:null,itemProp:Ct,itemRef:Ct,itemScope:Je,itemType:Ct,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Je,low:ue,manifest:null,max:null,maxLength:ue,media:null,method:null,min:null,minLength:ue,multiple:Je,muted:Je,name:null,nonce:null,noModule:Je,noValidate:Je,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Je,optimum:ue,pattern:null,ping:Ct,placeholder:null,playsInline:Je,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Je,referrerPolicy:null,rel:Ct,required:Je,reversed:Je,rows:ue,rowSpan:ue,sandbox:Ct,scope:null,scoped:Je,seamless:Je,selected:Je,shadowRootClonable:Je,shadowRootDelegatesFocus:Je,shadowRootMode:null,shape:null,size:ue,sizes:null,slot:null,span:ue,spellCheck:pn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ue,step:null,style:null,tabIndex:ue,target:null,title:null,translate:null,type:null,typeMustMatch:Je,useMap:null,value:pn,width:ue,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ct,axis:null,background:null,bgColor:null,border:ue,borderColor:null,bottomMargin:ue,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Je,declare:Je,event:null,face:null,frame:null,frameBorder:null,hSpace:ue,leftMargin:ue,link:null,longDesc:null,lowSrc:null,marginHeight:ue,marginWidth:ue,noResize:Je,noHref:Je,noShade:Je,noWrap:Je,object:null,profile:null,prompt:null,rev:null,rightMargin:ue,rules:null,scheme:null,scrolling:pn,standby:null,summary:null,text:null,topMargin:ue,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ue,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Je,disableRemotePlayback:Je,prefix:null,property:null,results:ue,security:null,unselectable:null},space:"html",transform:Y8}),mye=zf({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Hr,accentHeight:ue,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ue,amplitude:ue,arabicForm:null,ascent:ue,attributeName:null,attributeType:null,azimuth:ue,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ue,by:null,calcMode:null,capHeight:ue,className:Ct,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ue,diffuseConstant:ue,direction:null,display:null,dur:null,divisor:ue,dominantBaseline:null,download:Je,dx:null,dy:null,edgeMode:null,editable:null,elevation:ue,enableBackground:null,end:null,event:null,exponent:ue,externalResourcesRequired:null,fill:null,fillOpacity:ue,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:gd,g2:gd,glyphName:gd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ue,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ue,horizOriginX:ue,horizOriginY:ue,id:null,ideographic:ue,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ue,k:ue,k1:ue,k2:ue,k3:ue,k4:ue,kernelMatrix:Hr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ue,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ue,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ue,overlineThickness:ue,paintOrder:null,panose1:null,path:null,pathLength:ue,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ct,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ue,pointsAtY:ue,pointsAtZ:ue,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Hr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Hr,rev:Hr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Hr,requiredFeatures:Hr,requiredFonts:Hr,requiredFormats:Hr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ue,specularExponent:ue,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ue,strikethroughThickness:ue,string:null,stroke:null,strokeDashArray:Hr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ue,strokeOpacity:ue,strokeWidth:null,style:null,surfaceScale:ue,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Hr,tabIndex:ue,tableValues:null,target:null,targetX:ue,targetY:ue,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Hr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ue,underlineThickness:ue,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ue,values:null,vAlphabetic:ue,vMathematical:ue,vectorEffect:null,vHanging:ue,vIdeographic:ue,version:null,vertAdvY:ue,vertOriginX:ue,vertOriginY:ue,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ue,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:K8}),X8=zf({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Z8=zf({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Y8}),J8=zf({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),gye={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},yye=/[A-Z]/g,tR=/-[a-z]/g,vye=/^data[-\w.:]+$/i;function xye(t,e){const n=yj(e);let r=e,i=Br;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&vye.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(tR,wye);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!tR.test(a)){let s=a.replace(yye,bye);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=LC}return new i(r,e)}function bye(t){return"-"+t.toLowerCase()}function wye(t){return t.charAt(1).toUpperCase()}const _ye=q8([G8,pye,X8,Z8,J8],"html"),FC=q8([G8,mye,X8,Z8,J8],"svg");function Sye(t){return t.join(" ").trim()}var BC={},nR=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Eye=/\n/g,jye=/^\s*/,Aye=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Tye=/^:\s*/,kye=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Cye=/^[;\s]*/,Oye=/^\s+|\s+$/g,Nye=`
`,rR="/",iR="*",sc="",Pye="comment",Iye="declaration";function $ye(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(m){var g=m.match(Eye);g&&(n+=g.length);var b=m.lastIndexOf(Nye);r=~b?m.length-b:r+m.length}function a(){var m={line:n,column:r};return function(g){return g.position=new s(m),c(),g}}function s(m){this.start=m,this.end={line:n,column:r},this.source=e.source}s.prototype.content=t;function o(m){var g=new Error(e.source+":"+n+":"+r+": "+m);if(g.reason=m,g.filename=e.source,g.line=n,g.column=r,g.source=t,!e.silent)throw g}function l(m){var g=m.exec(t);if(g){var b=g[0];return i(b),t=t.slice(b.length),g}}function c(){l(jye)}function d(m){var g;for(m=m||[];g=f();)g!==!1&&m.push(g);return m}function f(){var m=a();if(!(rR!=t.charAt(0)||iR!=t.charAt(1))){for(var g=2;sc!=t.charAt(g)&&(iR!=t.charAt(g)||rR!=t.charAt(g+1));)++g;if(g+=2,sc===t.charAt(g-1))return o("End of comment missing");var b=t.slice(2,g-2);return r+=2,i(b),t=t.slice(g),r+=2,m({type:Pye,comment:b})}}function h(){var m=a(),g=l(Aye);if(g){if(f(),!l(Tye))return o("property missing ':'");var b=l(kye),x=m({type:Iye,property:aR(g[0].replace(nR,sc)),value:b?aR(b[0].replace(nR,sc)):sc});return l(Cye),x}}function p(){var m=[];d(m);for(var g;g=h();)g!==!1&&(m.push(g),d(m));return m}return c(),p()}function aR(t){return t?t.replace(Oye,sc):sc}var Rye=$ye,Mye=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(BC,"__esModule",{value:!0});BC.default=Lye;const Dye=Mye(Rye);function Lye(t,e){let n=null;if(!t||typeof t!="string")return n;const r=(0,Dye.default)(t),i=typeof e=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?e(s,o,a):o&&(n=n||{},n[s]=o)}),n}var Rb={};Object.defineProperty(Rb,"__esModule",{value:!0});Rb.camelCase=void 0;var Fye=/^--[a-zA-Z0-9_-]+$/,Bye=/-([a-z])/g,zye=/^[^-]+$/,Uye=/^-(webkit|moz|ms|o|khtml)-/,Hye=/^-(ms)-/,Vye=function(t){return!t||zye.test(t)||Fye.test(t)},Wye=function(t,e){return e.toUpperCase()},sR=function(t,e){return"".concat(e,"-")},qye=function(t,e){return e===void 0&&(e={}),Vye(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(Hye,sR):t=t.replace(Uye,sR),t.replace(Bye,Wye))};Rb.camelCase=qye;var Gye=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Kye=Gye(BC),Yye=Rb;function bj(t,e){var n={};return!t||typeof t!="string"||(0,Kye.default)(t,function(r,i){r&&i&&(n[(0,Yye.camelCase)(r,e)]=i)}),n}bj.default=bj;var Xye=bj;const Zye=at(Xye),Q8=e9("end"),zC=e9("start");function e9(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Jye(t){const e=zC(t),n=Q8(t);if(e&&n)return{start:e,end:n}}function fp(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?oR(t.position):"start"in t||"end"in t?oR(t):"line"in t||"column"in t?wj(t):""}function wj(t){return lR(t&&t.line)+":"+lR(t&&t.column)}function oR(t){return wj(t&&t.start)+"-"+wj(t&&t.end)}function lR(t){return t&&typeof t=="number"?t:1}class er extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(s=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=fp(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}er.prototype.file="";er.prototype.name="";er.prototype.reason="";er.prototype.message="";er.prototype.stack="";er.prototype.column=void 0;er.prototype.line=void 0;er.prototype.ancestors=void 0;er.prototype.cause=void 0;er.prototype.fatal=void 0;er.prototype.place=void 0;er.prototype.ruleId=void 0;er.prototype.source=void 0;const UC={}.hasOwnProperty,Qye=new Map,eve=/[A-Z]/g,tve=new Set(["table","tbody","thead","tfoot","tr"]),nve=new Set(["td","th"]),t9="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function rve(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=dve(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=uve(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?FC:_ye,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=n9(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function n9(t,e,n){if(e.type==="element")return ive(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return ave(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return ove(t,e,n);if(e.type==="mdxjsEsm")return sve(t,e);if(e.type==="root")return lve(t,e,n);if(e.type==="text")return cve(t,e)}function ive(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=FC,t.schema=i),t.ancestors.push(e);const a=i9(t,e.tagName,!1),s=fve(t,e);let o=VC(t,e);return tve.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!fye(l):!0})),r9(t,s,a,e),HC(s,o),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function ave(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}sm(t,e.position)}function sve(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);sm(t,e.position)}function ove(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=FC,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:i9(t,e.name,!0),s=hve(t,e),o=VC(t,e);return r9(t,s,a,e),HC(s,o),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function lve(t,e,n){const r={};return HC(r,VC(t,e)),t.create(e,t.Fragment,r,n)}function cve(t,e){return e.value}function r9(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function HC(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function uve(t,e,n){return r;function r(i,a,s,o){const c=Array.isArray(s.children)?n:e;return o?c(a,s,o):c(a,s)}}function dve(t,e){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=zC(r);return e(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function fve(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&UC.call(e.properties,i)){const a=pve(t,i,e.properties[i]);if(a){const[s,o]=a;t.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&nve.has(e.tagName)?r=o:n[s]=o}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function hve(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,t.evaluater.evaluateExpression(o.argument))}else sm(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const o=r.value.data.estree.body[0];o.type,a=t.evaluater.evaluateExpression(o.expression)}else sm(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function VC(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:Qye;for(;++r<e.children.length;){const a=e.children[r];let s;if(t.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;s=l+"-"+c,i.set(l,c+1)}}const o=n9(t,a,s);o!==void 0&&n.push(o)}return n}function pve(t,e,n){const r=xye(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?oye(n):Sye(n)),r.property==="style"){let i=typeof n=="object"?n:mve(t,String(n));return t.stylePropertyNameCase==="css"&&(i=gve(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?gye[r.property]||r.property:r.attribute,n]}}function mve(t,e){try{return Zye(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new er("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=t9+"#cannot-parse-style-attribute",i}}function i9(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,s;for(;++a<i.length;){const o=J$(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}r=s}else r=J$(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return UC.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);sm(t)}function sm(t,e){const n=new er("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=t9+"#cannot-handle-mdx-estrees-without-createevaluater",n}function gve(t){const e={};let n;for(n in t)UC.call(t,n)&&(e[yve(n)]=t[n]);return e}function yve(t){let e=t.replace(eve,vve);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function vve(t){return"-"+t.toLowerCase()}const h1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},xve={};function bve(t,e){const n=xve,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return a9(t,r,i)}function a9(t,e,n){if(wve(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return cR(t.children,e,n)}return Array.isArray(t)?cR(t,e,n):""}function cR(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=a9(t[i],e,n);return r.join("")}function wve(t){return!!(t&&typeof t=="object")}const uR=document.createElement("i");function WC(t){const e="&"+t+";";uR.innerHTML=e;const n=uR.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function fs(t,e,n,r){const i=t.length;let a=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(e,0),t.splice(...s),a+=1e4,e+=1e4}function Ei(t,e){return t.length>0?(fs(t,t.length,0,e),t):e}const dR={}.hasOwnProperty;function _ve(t){const e={};let n=-1;for(;++n<t.length;)Sve(e,t[n]);return e}function Sve(t,e){let n;for(n in e){const i=(dR.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let s;if(a)for(s in a){dR.call(i,s)||(i[s]=[]);const o=a[s];Eve(i[s],Array.isArray(o)?o:o?[o]:[])}}}function Eve(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);fs(t,0,0,r)}function s9(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function yd(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ka=Ml(/[A-Za-z]/),Qr=Ml(/[\dA-Za-z]/),jve=Ml(/[#-'*+\--9=?A-Z^-~]/);function _j(t){return t!==null&&(t<32||t===127)}const Sj=Ml(/\d/),Ave=Ml(/[\dA-Fa-f]/),Tve=Ml(/[!-/:-@[-`{-~]/);function He(t){return t!==null&&t<-2}function Rr(t){return t!==null&&(t<0||t===32)}function yt(t){return t===-2||t===-1||t===32}const kve=Ml(new RegExp("\\p{P}|\\p{S}","u")),Cve=Ml(/\s/);function Ml(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Uf(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let s="";if(a===37&&Qr(t.charCodeAt(n+1))&&Qr(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=t.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function It(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return yt(l)?(t.enter(n),o(l)):e(l)}function o(l){return yt(l)&&a++<i?(t.consume(l),o):(t.exit(n),e(l))}}const Ove={tokenize:Nve};function Nve(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),It(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),a(o)}function a(o){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return He(o)?(t.consume(o),t.exit("chunkText"),a):(t.consume(o),s)}}const Pve={tokenize:Ive},fR={tokenize:$ve};function Ive(t){const e=this,n=[];let r=0,i,a,s;return o;function o(y){if(r<n.length){const w=n[r];return e.containerState=w[1],t.attempt(w[0].continuation,l,c)(y)}return c(y)}function l(y){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&v();const w=e.events.length;let _=w,E;for(;_--;)if(e.events[_][0]==="exit"&&e.events[_][1].type==="chunkFlow"){E=e.events[_][1].end;break}x(r);let A=w;for(;A<e.events.length;)e.events[A][1].end={...E},A++;return fs(e.events,_+1,0,e.events.slice(w)),e.events.length=A,c(y)}return o(y)}function c(y){if(r===n.length){if(!i)return h(y);if(i.currentConstruct&&i.currentConstruct.concrete)return m(y);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(fR,d,f)(y)}function d(y){return i&&v(),x(r),h(y)}function f(y){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,m(y)}function h(y){return e.containerState={},t.attempt(fR,p,m)(y)}function p(y){return r++,n.push([e.currentConstruct,e.containerState]),h(y)}function m(y){if(y===null){i&&v(),x(0),t.consume(y);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(y)}function g(y){if(y===null){b(t.exit("chunkFlow"),!0),x(0),t.consume(y);return}return He(y)?(t.consume(y),b(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(y),g)}function b(y,w){const _=e.sliceStream(y);if(w&&_.push(null),y.previous=a,a&&(a.next=y),a=y,i.defineSkip(y.start),i.write(_),e.parser.lazy[y.start.line]){let E=i.events.length;for(;E--;)if(i.events[E][1].start.offset<s&&(!i.events[E][1].end||i.events[E][1].end.offset>s))return;const A=e.events.length;let j=A,T,C;for(;j--;)if(e.events[j][0]==="exit"&&e.events[j][1].type==="chunkFlow"){if(T){C=e.events[j][1].end;break}T=!0}for(x(r),E=A;E<e.events.length;)e.events[E][1].end={...C},E++;fs(e.events,j+1,0,e.events.slice(A)),e.events.length=E}}function x(y){let w=n.length;for(;w-- >y;){const _=n[w];e.containerState=_[1],_[0].exit.call(e,t)}n.length=y}function v(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function $ve(t,e,n){return It(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function hR(t){if(t===null||Rr(t)||Cve(t))return 1;if(kve(t))return 2}function qC(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const Ej={name:"attention",resolveAll:Rve,tokenize:Mve};function Rve(t,e){let n=-1,r,i,a,s,o,l,c,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[r][1].end},h={...t[n][1].start};pR(f,-l),pR(h,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...t[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},t[r][1].end={...s.start},t[n][1].start={...o.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=Ei(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=Ei(c,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",a,e]]),c=Ei(c,qC(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=Ei(c,[["exit",a,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,c=Ei(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):d=0,fs(t,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Mve(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=hR(r);let a;return s;function s(l){return a=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===a)return t.consume(l),o;const c=t.exit("attentionSequence"),d=hR(l),f=!d||d===2&&i||n.includes(l),h=!i||i===2&&d||n.includes(r);return c._open=!!(a===42?f:f&&(i||!h)),c._close=!!(a===42?h:h&&(d||!f)),e(l)}}function pR(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Dve={name:"autolink",tokenize:Lve};function Lve(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(p){return Ka(p)?(t.consume(p),s):p===64?n(p):c(p)}function s(p){return p===43||p===45||p===46||Qr(p)?(r=1,o(p)):c(p)}function o(p){return p===58?(t.consume(p),r=0,l):(p===43||p===45||p===46||Qr(p))&&r++<32?(t.consume(p),o):(r=0,c(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||_j(p)?n(p):(t.consume(p),l)}function c(p){return p===64?(t.consume(p),d):jve(p)?(t.consume(p),c):n(p)}function d(p){return Qr(p)?f(p):n(p)}function f(p){return p===46?(t.consume(p),r=0,d):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):h(p)}function h(p){if((p===45||Qr(p))&&r++<63){const m=p===45?h:f;return t.consume(p),m}return n(p)}}const Mb={partial:!0,tokenize:Fve};function Fve(t,e,n){return r;function r(a){return yt(a)?It(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||He(a)?e(a):n(a)}}const o9={continuation:{tokenize:zve},exit:Uve,name:"blockQuote",tokenize:Bve};function Bve(t,e,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),a}return n(s)}function a(s){return yt(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function zve(t,e,n){const r=this;return i;function i(s){return yt(s)?It(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return t.attempt(o9,e,n)(s)}}function Uve(t){t.exit("blockQuote")}const l9={name:"characterEscape",tokenize:Hve};function Hve(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return Tve(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const c9={name:"characterReference",tokenize:Vve};function Vve(t,e,n){const r=this;let i=0,a,s;return o;function o(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),l}function l(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),a=31,s=Qr,d(f))}function c(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,s=Ave,d):(t.enter("characterReferenceValue"),a=7,s=Sj,d(f))}function d(f){if(f===59&&i){const h=t.exit("characterReferenceValue");return s===Qr&&!WC(r.sliceSerialize(h))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(f)&&i++<a?(t.consume(f),d):n(f)}}const mR={partial:!0,tokenize:qve},gR={concrete:!0,name:"codeFenced",tokenize:Wve};function Wve(t,e,n){const r=this,i={partial:!0,tokenize:_};let a=0,s=0,o;return l;function l(E){return c(E)}function c(E){const A=r.events[r.events.length-1];return a=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,o=E,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(E)}function d(E){return E===o?(s++,t.consume(E),d):s<3?n(E):(t.exit("codeFencedFenceSequence"),yt(E)?It(t,f,"whitespace")(E):f(E))}function f(E){return E===null||He(E)?(t.exit("codeFencedFence"),r.interrupt?e(E):t.check(mR,g,w)(E)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(E))}function h(E){return E===null||He(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(E)):yt(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),It(t,p,"whitespace")(E)):E===96&&E===o?n(E):(t.consume(E),h)}function p(E){return E===null||He(E)?f(E):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),m(E))}function m(E){return E===null||He(E)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(E)):E===96&&E===o?n(E):(t.consume(E),m)}function g(E){return t.attempt(i,w,b)(E)}function b(E){return t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),x}function x(E){return a>0&&yt(E)?It(t,v,"linePrefix",a+1)(E):v(E)}function v(E){return E===null||He(E)?t.check(mR,g,w)(E):(t.enter("codeFlowValue"),y(E))}function y(E){return E===null||He(E)?(t.exit("codeFlowValue"),v(E)):(t.consume(E),y)}function w(E){return t.exit("codeFenced"),e(E)}function _(E,A,j){let T=0;return C;function C(F){return E.enter("lineEnding"),E.consume(F),E.exit("lineEnding"),k}function k(F){return E.enter("codeFencedFence"),yt(F)?It(E,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):O(F)}function O(F){return F===o?(E.enter("codeFencedFenceSequence"),L(F)):j(F)}function L(F){return F===o?(T++,E.consume(F),L):T>=s?(E.exit("codeFencedFenceSequence"),yt(F)?It(E,R,"whitespace")(F):R(F)):j(F)}function R(F){return F===null||He(F)?(E.exit("codeFencedFence"),A(F)):j(F)}}}function qve(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const p1={name:"codeIndented",tokenize:Kve},Gve={partial:!0,tokenize:Yve};function Kve(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),It(t,a,"linePrefix",5)(c)}function a(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?l(c):He(c)?t.attempt(Gve,s,l)(c):(t.enter("codeFlowValue"),o(c))}function o(c){return c===null||He(c)?(t.exit("codeFlowValue"),s(c)):(t.consume(c),o)}function l(c){return t.exit("codeIndented"),e(c)}}function Yve(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):He(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):It(t,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):He(s)?i(s):n(s)}}const Xve={name:"codeText",previous:Jve,resolve:Zve,tokenize:Qve};function Zve(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function Jve(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Qve(t,e,n){let r=0,i,a;return s;function s(f){return t.enter("codeText"),t.enter("codeTextSequence"),o(f)}function o(f){return f===96?(t.consume(f),r++,o):(t.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),l):f===96?(a=t.enter("codeTextSequence"),i=0,d(f)):He(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||He(f)?(t.exit("codeTextData"),l(f)):(t.consume(f),c)}function d(f){return f===96?(t.consume(f),i++,d):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(a.type="codeTextData",c(f))}}class e0e{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&xh(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),xh(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),xh(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);xh(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);xh(this.left,n.reverse())}}}function xh(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function u9(t){const e={};let n=-1,r,i,a,s,o,l,c;const d=new e0e(t);for(;++n<d.length;){for(;n in e;)n=e[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,t0e(d,n)),n=e[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=d.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return fs(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function t0e(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],c={};let d,f,h=-1,p=n,m=0,g=0;const b=[g];for(;p;){for(;t.get(++i)[1]!==p;);a.push(i),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),f&&s.defineSkip(p.start),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(g=h+1,b.push(g),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(s.events=[],p?(p._tokenizer=void 0,p.previous=void 0):b.pop(),h=b.length;h--;){const x=o.slice(b[h],b[h+1]),v=a.pop();l.push([v,v+x.length-1]),t.splice(v,2,x)}for(l.reverse(),h=-1;++h<l.length;)c[m+l[h][0]]=m+l[h][1],m+=l[h][1]-l[h][0]-1;return c}const n0e={resolve:i0e,tokenize:a0e},r0e={partial:!0,tokenize:s0e};function i0e(t){return u9(t),t}function a0e(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):He(o)?t.check(r0e,s,a)(o):(t.consume(o),i)}function a(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function s(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function s0e(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),It(t,a,"linePrefix")}function a(s){if(s===null||He(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function d9(t,e,n,r,i,a,s,o,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(x){return x===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(x),t.exit(a),h):x===null||x===32||x===41||_j(x)?n(x):(t.enter(r),t.enter(s),t.enter(o),t.enter("chunkString",{contentType:"string"}),g(x))}function h(x){return x===62?(t.enter(a),t.consume(x),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),p(x))}function p(x){return x===62?(t.exit("chunkString"),t.exit(o),h(x)):x===null||x===60||He(x)?n(x):(t.consume(x),x===92?m:p)}function m(x){return x===60||x===62||x===92?(t.consume(x),p):p(x)}function g(x){return!d&&(x===null||x===41||Rr(x))?(t.exit("chunkString"),t.exit(o),t.exit(s),t.exit(r),e(x)):d<c&&x===40?(t.consume(x),d++,g):x===41?(t.consume(x),d--,g):x===null||x===32||x===40||_j(x)?n(x):(t.consume(x),x===92?b:g)}function b(x){return x===40||x===41||x===92?(t.consume(x),g):g(x)}}function f9(t,e,n,r,i,a){const s=this;let o=0,l;return c;function c(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(a),d}function d(p){return o>999||p===null||p===91||p===93&&!l||p===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(p):p===93?(t.exit(a),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):He(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||He(p)||o++>999?(t.exit("chunkString"),d(p)):(t.consume(p),l||(l=!yt(p)),p===92?h:f)}function h(p){return p===91||p===92||p===93?(t.consume(p),o++,f):f(p)}}function h9(t,e,n,r,i,a){let s;return o;function o(h){return h===34||h===39||h===40?(t.enter(r),t.enter(i),t.consume(h),t.exit(i),s=h===40?41:h,l):n(h)}function l(h){return h===s?(t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):(t.enter(a),c(h))}function c(h){return h===s?(t.exit(a),l(s)):h===null?n(h):He(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),It(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===s||h===null||He(h)?(t.exit("chunkString"),c(h)):(t.consume(h),h===92?f:d)}function f(h){return h===s||h===92?(t.consume(h),d):d(h)}}function hp(t,e){let n;return r;function r(i){return He(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):yt(i)?It(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const o0e={name:"definition",tokenize:c0e},l0e={partial:!0,tokenize:u0e};function c0e(t,e,n){const r=this;let i;return a;function a(p){return t.enter("definition"),s(p)}function s(p){return f9.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return i=yd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):n(p)}function l(p){return Rr(p)?hp(t,c)(p):c(p)}function c(p){return d9(t,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return t.attempt(l0e,f,f)(p)}function f(p){return yt(p)?It(t,h,"whitespace")(p):h(p)}function h(p){return p===null||He(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function u0e(t,e,n){return r;function r(o){return Rr(o)?hp(t,i)(o):n(o)}function i(o){return h9(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return yt(o)?It(t,s,"whitespace")(o):s(o)}function s(o){return o===null||He(o)?e(o):n(o)}}const d0e={name:"hardBreakEscape",tokenize:f0e};function f0e(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return He(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const h0e={name:"headingAtx",resolve:p0e,tokenize:m0e};function p0e(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},fs(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function m0e(t,e,n){let r=0;return i;function i(d){return t.enter("atxHeading"),a(d)}function a(d){return t.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&r++<6?(t.consume(d),s):d===null||Rr(d)?(t.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(t.enter("atxHeadingSequence"),l(d)):d===null||He(d)?(t.exit("atxHeading"),e(d)):yt(d)?It(t,o,"whitespace")(d):(t.enter("atxHeadingText"),c(d))}function l(d){return d===35?(t.consume(d),l):(t.exit("atxHeadingSequence"),o(d))}function c(d){return d===null||d===35||Rr(d)?(t.exit("atxHeadingText"),o(d)):(t.consume(d),c)}}const g0e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],yR=["pre","script","style","textarea"],y0e={concrete:!0,name:"htmlFlow",resolveTo:b0e,tokenize:w0e},v0e={partial:!0,tokenize:S0e},x0e={partial:!0,tokenize:_0e};function b0e(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function w0e(t,e,n){const r=this;let i,a,s,o,l;return c;function c($){return d($)}function d($){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume($),f}function f($){return $===33?(t.consume($),h):$===47?(t.consume($),a=!0,g):$===63?(t.consume($),i=3,r.interrupt?e:P):Ka($)?(t.consume($),s=String.fromCharCode($),b):n($)}function h($){return $===45?(t.consume($),i=2,p):$===91?(t.consume($),i=5,o=0,m):Ka($)?(t.consume($),i=4,r.interrupt?e:P):n($)}function p($){return $===45?(t.consume($),r.interrupt?e:P):n($)}function m($){const ee="CDATA[";return $===ee.charCodeAt(o++)?(t.consume($),o===ee.length?r.interrupt?e:O:m):n($)}function g($){return Ka($)?(t.consume($),s=String.fromCharCode($),b):n($)}function b($){if($===null||$===47||$===62||Rr($)){const ee=$===47,ie=s.toLowerCase();return!ee&&!a&&yR.includes(ie)?(i=1,r.interrupt?e($):O($)):g0e.includes(s.toLowerCase())?(i=6,ee?(t.consume($),x):r.interrupt?e($):O($)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n($):a?v($):y($))}return $===45||Qr($)?(t.consume($),s+=String.fromCharCode($),b):n($)}function x($){return $===62?(t.consume($),r.interrupt?e:O):n($)}function v($){return yt($)?(t.consume($),v):C($)}function y($){return $===47?(t.consume($),C):$===58||$===95||Ka($)?(t.consume($),w):yt($)?(t.consume($),y):C($)}function w($){return $===45||$===46||$===58||$===95||Qr($)?(t.consume($),w):_($)}function _($){return $===61?(t.consume($),E):yt($)?(t.consume($),_):y($)}function E($){return $===null||$===60||$===61||$===62||$===96?n($):$===34||$===39?(t.consume($),l=$,A):yt($)?(t.consume($),E):j($)}function A($){return $===l?(t.consume($),l=null,T):$===null||He($)?n($):(t.consume($),A)}function j($){return $===null||$===34||$===39||$===47||$===60||$===61||$===62||$===96||Rr($)?_($):(t.consume($),j)}function T($){return $===47||$===62||yt($)?y($):n($)}function C($){return $===62?(t.consume($),k):n($)}function k($){return $===null||He($)?O($):yt($)?(t.consume($),k):n($)}function O($){return $===45&&i===2?(t.consume($),U):$===60&&i===1?(t.consume($),V):$===62&&i===4?(t.consume($),W):$===63&&i===3?(t.consume($),P):$===93&&i===5?(t.consume($),B):He($)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(v0e,G,L)($)):$===null||He($)?(t.exit("htmlFlowData"),L($)):(t.consume($),O)}function L($){return t.check(x0e,R,G)($)}function R($){return t.enter("lineEnding"),t.consume($),t.exit("lineEnding"),F}function F($){return $===null||He($)?L($):(t.enter("htmlFlowData"),O($))}function U($){return $===45?(t.consume($),P):O($)}function V($){return $===47?(t.consume($),s="",D):O($)}function D($){if($===62){const ee=s.toLowerCase();return yR.includes(ee)?(t.consume($),W):O($)}return Ka($)&&s.length<8?(t.consume($),s+=String.fromCharCode($),D):O($)}function B($){return $===93?(t.consume($),P):O($)}function P($){return $===62?(t.consume($),W):$===45&&i===2?(t.consume($),P):O($)}function W($){return $===null||He($)?(t.exit("htmlFlowData"),G($)):(t.consume($),W)}function G($){return t.exit("htmlFlow"),e($)}}function _0e(t,e,n){const r=this;return i;function i(s){return He(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function S0e(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Mb,e,n)}}const E0e={name:"htmlText",tokenize:j0e};function j0e(t,e,n){const r=this;let i,a,s;return o;function o(P){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(P),l}function l(P){return P===33?(t.consume(P),c):P===47?(t.consume(P),_):P===63?(t.consume(P),y):Ka(P)?(t.consume(P),j):n(P)}function c(P){return P===45?(t.consume(P),d):P===91?(t.consume(P),a=0,m):Ka(P)?(t.consume(P),v):n(P)}function d(P){return P===45?(t.consume(P),p):n(P)}function f(P){return P===null?n(P):P===45?(t.consume(P),h):He(P)?(s=f,V(P)):(t.consume(P),f)}function h(P){return P===45?(t.consume(P),p):f(P)}function p(P){return P===62?U(P):P===45?h(P):f(P)}function m(P){const W="CDATA[";return P===W.charCodeAt(a++)?(t.consume(P),a===W.length?g:m):n(P)}function g(P){return P===null?n(P):P===93?(t.consume(P),b):He(P)?(s=g,V(P)):(t.consume(P),g)}function b(P){return P===93?(t.consume(P),x):g(P)}function x(P){return P===62?U(P):P===93?(t.consume(P),x):g(P)}function v(P){return P===null||P===62?U(P):He(P)?(s=v,V(P)):(t.consume(P),v)}function y(P){return P===null?n(P):P===63?(t.consume(P),w):He(P)?(s=y,V(P)):(t.consume(P),y)}function w(P){return P===62?U(P):y(P)}function _(P){return Ka(P)?(t.consume(P),E):n(P)}function E(P){return P===45||Qr(P)?(t.consume(P),E):A(P)}function A(P){return He(P)?(s=A,V(P)):yt(P)?(t.consume(P),A):U(P)}function j(P){return P===45||Qr(P)?(t.consume(P),j):P===47||P===62||Rr(P)?T(P):n(P)}function T(P){return P===47?(t.consume(P),U):P===58||P===95||Ka(P)?(t.consume(P),C):He(P)?(s=T,V(P)):yt(P)?(t.consume(P),T):U(P)}function C(P){return P===45||P===46||P===58||P===95||Qr(P)?(t.consume(P),C):k(P)}function k(P){return P===61?(t.consume(P),O):He(P)?(s=k,V(P)):yt(P)?(t.consume(P),k):T(P)}function O(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(t.consume(P),i=P,L):He(P)?(s=O,V(P)):yt(P)?(t.consume(P),O):(t.consume(P),R)}function L(P){return P===i?(t.consume(P),i=void 0,F):P===null?n(P):He(P)?(s=L,V(P)):(t.consume(P),L)}function R(P){return P===null||P===34||P===39||P===60||P===61||P===96?n(P):P===47||P===62||Rr(P)?T(P):(t.consume(P),R)}function F(P){return P===47||P===62||Rr(P)?T(P):n(P)}function U(P){return P===62?(t.consume(P),t.exit("htmlTextData"),t.exit("htmlText"),e):n(P)}function V(P){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(P),t.exit("lineEnding"),D}function D(P){return yt(P)?It(t,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):B(P)}function B(P){return t.enter("htmlTextData"),s(P)}}const GC={name:"labelEnd",resolveAll:C0e,resolveTo:O0e,tokenize:N0e},A0e={tokenize:P0e},T0e={tokenize:I0e},k0e={tokenize:$0e};function C0e(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&fs(t,0,t.length,n),t}function O0e(t,e){let n=t.length,r=0,i,a,s,o;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[a][1].start},end:{...t[s][1].end}},d={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[s-2][1].start}};return o=[["enter",l,e],["enter",c,e]],o=Ei(o,t.slice(a+1,a+r+3)),o=Ei(o,[["enter",d,e]]),o=Ei(o,qC(e.parser.constructs.insideSpan.null,t.slice(a+r+4,s-3),e)),o=Ei(o,[["exit",d,e],t[s-2],t[s-1],["exit",c,e]]),o=Ei(o,t.slice(s+1)),o=Ei(o,[["exit",l,e]]),fs(t,a,t.length,o),t}function N0e(t,e,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(h){return a?a._inactive?f(h):(s=r.parser.defined.includes(yd(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),l):n(h)}function l(h){return h===40?t.attempt(A0e,d,s?d:f)(h):h===91?t.attempt(T0e,d,s?c:f)(h):s?d(h):f(h)}function c(h){return t.attempt(k0e,d,f)(h)}function d(h){return e(h)}function f(h){return a._balanced=!0,n(h)}}function P0e(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),i}function i(f){return Rr(f)?hp(t,a)(f):a(f)}function a(f){return f===41?d(f):d9(t,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Rr(f)?hp(t,l)(f):d(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?h9(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return Rr(f)?hp(t,d)(f):d(f)}function d(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function I0e(t,e,n){const r=this;return i;function i(o){return f9.call(r,t,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(yd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function s(o){return n(o)}}function $0e(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const R0e={name:"labelStartImage",resolveAll:GC.resolveAll,tokenize:M0e};function M0e(t,e,n){const r=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),a}function a(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const D0e={name:"labelStartLink",resolveAll:GC.resolveAll,tokenize:L0e};function L0e(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const m1={name:"lineEnding",tokenize:F0e};function F0e(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),It(t,e,"linePrefix")}}const cv={name:"thematicBreak",tokenize:B0e};function B0e(t,e,n){let r=0,i;return a;function a(c){return t.enter("thematicBreak"),s(c)}function s(c){return i=c,o(c)}function o(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||He(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),yt(c)?It(t,o,"whitespace")(c):o(c))}}const xr={continuation:{tokenize:V0e},exit:q0e,name:"list",tokenize:H0e},z0e={partial:!0,tokenize:G0e},U0e={partial:!0,tokenize:W0e};function H0e(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(p){const m=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:Sj(p)){if(r.containerState.type||(r.containerState.type=m,t.enter(m,{_container:!0})),m==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(cv,n,c)(p):c(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return n(p)}function l(p){return Sj(p)&&++s<10?(t.consume(p),l):(!r.interrupt||s<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),c(p)):n(p)}function c(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(Mb,r.interrupt?n:d,t.attempt(z0e,h,f))}function d(p){return r.containerState.initialBlankLine=!0,a++,h(p)}function f(p){return yt(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function V0e(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Mb,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,It(t,e,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!yt(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(U0e,e,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,It(t,t.attempt(xr,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function W0e(t,e,n){const r=this;return It(t,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(a):n(a)}}function q0e(t){t.exit(this.containerState.type)}function G0e(t,e,n){const r=this;return It(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!yt(a)&&s&&s[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const vR={name:"setextUnderline",resolveTo:K0e,tokenize:Y0e};function K0e(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",s,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=s,t.push(["exit",s,e]),t}function Y0e(t,e,n){const r=this;let i;return a;function a(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),i=c,s(c)):n(c)}function s(c){return t.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(t.consume(c),o):(t.exit("setextHeadingLineSequence"),yt(c)?It(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||He(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const X0e={tokenize:Z0e};function Z0e(t){const e=this,n=t.attempt(Mb,r,t.attempt(this.parser.constructs.flowInitial,i,It(t,t.attempt(this.parser.constructs.flow,i,t.attempt(n0e,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const J0e={resolveAll:m9()},Q0e=p9("string"),exe=p9("text");function p9(t){return{resolveAll:m9(t==="text"?txe:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,s,o);return s;function s(d){return c(d)?a(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),a(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const p=f[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function m9(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function txe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(c===-2)l=!0,o++;else if(c!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(o=0),o){const c={type:n===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const nxe={42:xr,43:xr,45:xr,48:xr,49:xr,50:xr,51:xr,52:xr,53:xr,54:xr,55:xr,56:xr,57:xr,62:o9},rxe={91:o0e},ixe={[-2]:p1,[-1]:p1,32:p1},axe={35:h0e,42:cv,45:[vR,cv],60:y0e,61:vR,95:cv,96:gR,126:gR},sxe={38:c9,92:l9},oxe={[-5]:m1,[-4]:m1,[-3]:m1,33:R0e,38:c9,42:Ej,60:[Dve,E0e],91:D0e,92:[d0e,l9],93:GC,95:Ej,96:Xve},lxe={null:[Ej,J0e]},cxe={null:[42,95]},uxe={null:[]},dxe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:cxe,contentInitial:rxe,disable:uxe,document:nxe,flow:axe,flowInitial:ixe,insideSpan:lxe,string:sxe,text:oxe},Symbol.toStringTag,{value:"Module"}));function fxe(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:A(_),check:A(E),consume:v,enter:y,exit:w,interrupt:A(E,{interrupt:!0})},c={code:null,containerState:{},defineSkip:g,events:[],now:m,parser:t,previous:null,sliceSerialize:h,sliceStream:p,write:f};let d=e.tokenize.call(c,l);return e.resolveAll&&a.push(e),c;function f(k){return s=Ei(s,k),b(),s[s.length-1]!==null?[]:(j(e,0),c.events=qC(a,c.events,c),c.events)}function h(k,O){return pxe(p(k),O)}function p(k){return hxe(s,k)}function m(){const{_bufferIndex:k,_index:O,line:L,column:R,offset:F}=r;return{_bufferIndex:k,_index:O,line:L,column:R,offset:F}}function g(k){i[k.line]=k.column,C()}function b(){let k;for(;r._index<s.length;){const O=s[r._index];if(typeof O=="string")for(k=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===k&&r._bufferIndex<O.length;)x(O.charCodeAt(r._bufferIndex));else x(O)}}function x(k){d=d(k)}function v(k){He(k)?(r.line++,r.column=1,r.offset+=k===-3?2:1,C()):k!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=k}function y(k,O){const L=O||{};return L.type=k,L.start=m(),c.events.push(["enter",L,c]),o.push(L),L}function w(k){const O=o.pop();return O.end=m(),c.events.push(["exit",O,c]),O}function _(k,O){j(k,O.from)}function E(k,O){O.restore()}function A(k,O){return L;function L(R,F,U){let V,D,B,P;return Array.isArray(R)?G(R):"tokenize"in R?G([R]):W(R);function W(I){return N;function N(K){const z=K!==null&&I[K],Z=K!==null&&I.null,J=[...Array.isArray(z)?z:z?[z]:[],...Array.isArray(Z)?Z:Z?[Z]:[]];return G(J)(K)}}function G(I){return V=I,D=0,I.length===0?U:$(I[D])}function $(I){return N;function N(K){return P=T(),B=I,I.partial||(c.currentConstruct=I),I.name&&c.parser.constructs.disable.null.includes(I.name)?ie():I.tokenize.call(O?Object.assign(Object.create(c),O):c,l,ee,ie)(K)}}function ee(I){return k(B,P),F}function ie(I){return P.restore(),++D<V.length?$(V[D]):U}}}function j(k,O){k.resolveAll&&!a.includes(k)&&a.push(k),k.resolve&&fs(c.events,O,c.events.length-O,k.resolve(c.events.slice(O),c)),k.resolveTo&&(c.events=k.resolveTo(c.events,c))}function T(){const k=m(),O=c.previous,L=c.currentConstruct,R=c.events.length,F=Array.from(o);return{from:R,restore:U};function U(){r=k,c.previous=O,c.currentConstruct=L,c.events.length=R,o=F,C()}}function C(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function hxe(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,a)];else{if(s=t.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(t[i].slice(0,a))}return s}function pxe(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function mxe(t){const r={constructs:_ve([dxe,...(t||{}).extensions||[]]),content:i(Ove),defined:[],document:i(Pve),flow:i(X0e),lazy:{},string:i(Q0e),text:i(exe)};return r;function i(a){return s;function s(o){return fxe(r,a,o)}}}function gxe(t){for(;!u9(t););return t}const xR=/[\0\t\n\r]/g;function yxe(){let t=1,e="",n=!0,r;return i;function i(a,s,o){const l=[];let c,d,f,h,p;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,e="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(xR.lastIndex=f,c=xR.exec(a),h=c&&c.index!==void 0?c.index:a.length,p=a.charCodeAt(h),!c){e=a.slice(f);break}if(p===10&&f===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<h&&(l.push(a.slice(f,h)),t+=h-f),p){case 0:{l.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,l.push(-2);t++<d;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}f=h+1}return o&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const vxe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function xxe(t){return t.replace(vxe,bxe)}function bxe(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return s9(n.slice(a?2:1),a?16:10)}return WC(n)||t}const g9={}.hasOwnProperty;function wxe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),_xe(n)(gxe(mxe(n).document().write(yxe()(t,e,!0))))}function _xe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(De),autolinkProtocol:T,autolinkEmail:T,atxHeading:a(ve),blockQuote:a(Z),characterEscape:T,characterReference:T,codeFenced:a(J),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(J,s),codeText:a(Y,s),codeTextData:T,data:T,codeFlowValue:T,definition:a(me),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(le),hardBreakEscape:a(oe),hardBreakTrailing:a(oe),htmlFlow:a(Be,s),htmlFlowData:T,htmlText:a(Be,s),htmlTextData:T,image:a(Te),label:s,link:a(De),listItem:a(At),listItemValue:h,listOrdered:a(ae,f),listUnordered:a(ae),paragraph:a(we),reference:$,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(ve),strong:a(ye),thematicBreak:a(ge)},exit:{atxHeading:l(),atxHeadingSequence:_,autolink:l(),autolinkEmail:z,autolinkProtocol:K,blockQuote:l(),characterEscapeValue:C,characterReferenceMarkerHexadecimal:ie,characterReferenceMarkerNumeric:ie,characterReferenceValue:I,characterReference:N,codeFenced:l(b),codeFencedFence:g,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:C,codeIndented:l(x),codeText:l(F),codeTextData:C,data:C,definition:l(),definitionDestinationString:w,definitionLabelString:v,definitionTitleString:y,emphasis:l(),hardBreakEscape:l(O),hardBreakTrailing:l(O),htmlFlow:l(L),htmlFlowData:C,htmlText:l(R),htmlTextData:C,image:l(V),label:B,labelText:D,lineEnding:k,link:l(U),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ee,resourceDestinationString:P,resourceTitleString:W,resource:G,setextHeading:l(j),setextHeadingLineSequence:A,setextHeadingText:E,strong:l(),thematicBreak:l()}};y9(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(q){let X={type:"root",children:[]};const re={stack:[X],tokenStack:[],config:e,enter:o,exit:c,buffer:s,resume:d,data:n},Oe=[];let ct=-1;for(;++ct<q.length;)if(q[ct][1].type==="listOrdered"||q[ct][1].type==="listUnordered")if(q[ct][0]==="enter")Oe.push(ct);else{const Kt=Oe.pop();ct=i(q,Kt,ct)}for(ct=-1;++ct<q.length;){const Kt=e[q[ct][0]];g9.call(Kt,q[ct][1].type)&&Kt[q[ct][1].type].call(Object.assign({sliceSerialize:q[ct][2].sliceSerialize},re),q[ct][1])}if(re.tokenStack.length>0){const Kt=re.tokenStack[re.tokenStack.length-1];(Kt[1]||bR).call(re,void 0,Kt[0])}for(X.position={start:So(q.length>0?q[0][1].start:{line:1,column:1,offset:0}),end:So(q.length>0?q[q.length-2][1].end:{line:1,column:1,offset:0})},ct=-1;++ct<e.transforms.length;)X=e.transforms[ct](X)||X;return X}function i(q,X,re){let Oe=X-1,ct=-1,Kt=!1,on,Cn,Ia,bs;for(;++Oe<=re;){const en=q[Oe];switch(en[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{en[0]==="enter"?ct++:ct--,bs=void 0;break}case"lineEndingBlank":{en[0]==="enter"&&(on&&!bs&&!ct&&!Ia&&(Ia=Oe),bs=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:bs=void 0}if(!ct&&en[0]==="enter"&&en[1].type==="listItemPrefix"||ct===-1&&en[0]==="exit"&&(en[1].type==="listUnordered"||en[1].type==="listOrdered")){if(on){let go=Oe;for(Cn=void 0;go--;){const Le=q[go];if(Le[1].type==="lineEnding"||Le[1].type==="lineEndingBlank"){if(Le[0]==="exit")continue;Cn&&(q[Cn][1].type="lineEndingBlank",Kt=!0),Le[1].type="lineEnding",Cn=go}else if(!(Le[1].type==="linePrefix"||Le[1].type==="blockQuotePrefix"||Le[1].type==="blockQuotePrefixWhitespace"||Le[1].type==="blockQuoteMarker"||Le[1].type==="listItemIndent"))break}Ia&&(!Cn||Ia<Cn)&&(on._spread=!0),on.end=Object.assign({},Cn?q[Cn][1].start:en[1].end),q.splice(Cn||Oe,0,["exit",on,en[2]]),Oe++,re++}if(en[1].type==="listItemPrefix"){const go={type:"listItem",_spread:!1,start:Object.assign({},en[1].start),end:void 0};on=go,q.splice(Oe,0,["enter",go,en[2]]),Oe++,re++,Ia=void 0,bs=!0}}}return q[X][1]._spread=Kt,re}function a(q,X){return re;function re(Oe){o.call(this,q(Oe),Oe),X&&X.call(this,Oe)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(q,X,re){this.stack[this.stack.length-1].children.push(q),this.stack.push(q),this.tokenStack.push([X,re||void 0]),q.position={start:So(X.start),end:void 0}}function l(q){return X;function X(re){q&&q.call(this,re),c.call(this,re)}}function c(q,X){const re=this.stack.pop(),Oe=this.tokenStack.pop();if(Oe)Oe[0].type!==q.type&&(X?X.call(this,q,Oe[0]):(Oe[1]||bR).call(this,q,Oe[0]));else throw new Error("Cannot close `"+q.type+"` ("+fp({start:q.start,end:q.end})+"): its not open");re.position.end=So(q.end)}function d(){return bve(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(q){if(this.data.expectingFirstListItemValue){const X=this.stack[this.stack.length-2];X.start=Number.parseInt(this.sliceSerialize(q),10),this.data.expectingFirstListItemValue=void 0}}function p(){const q=this.resume(),X=this.stack[this.stack.length-1];X.lang=q}function m(){const q=this.resume(),X=this.stack[this.stack.length-1];X.meta=q}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const q=this.resume(),X=this.stack[this.stack.length-1];X.value=q.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const q=this.resume(),X=this.stack[this.stack.length-1];X.value=q.replace(/(\r?\n|\r)$/g,"")}function v(q){const X=this.resume(),re=this.stack[this.stack.length-1];re.label=X,re.identifier=yd(this.sliceSerialize(q)).toLowerCase()}function y(){const q=this.resume(),X=this.stack[this.stack.length-1];X.title=q}function w(){const q=this.resume(),X=this.stack[this.stack.length-1];X.url=q}function _(q){const X=this.stack[this.stack.length-1];if(!X.depth){const re=this.sliceSerialize(q).length;X.depth=re}}function E(){this.data.setextHeadingSlurpLineEnding=!0}function A(q){const X=this.stack[this.stack.length-1];X.depth=this.sliceSerialize(q).codePointAt(0)===61?1:2}function j(){this.data.setextHeadingSlurpLineEnding=void 0}function T(q){const re=this.stack[this.stack.length-1].children;let Oe=re[re.length-1];(!Oe||Oe.type!=="text")&&(Oe=be(),Oe.position={start:So(q.start),end:void 0},re.push(Oe)),this.stack.push(Oe)}function C(q){const X=this.stack.pop();X.value+=this.sliceSerialize(q),X.position.end=So(q.end)}function k(q){const X=this.stack[this.stack.length-1];if(this.data.atHardBreak){const re=X.children[X.children.length-1];re.position.end=So(q.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(X.type)&&(T.call(this,q),C.call(this,q))}function O(){this.data.atHardBreak=!0}function L(){const q=this.resume(),X=this.stack[this.stack.length-1];X.value=q}function R(){const q=this.resume(),X=this.stack[this.stack.length-1];X.value=q}function F(){const q=this.resume(),X=this.stack[this.stack.length-1];X.value=q}function U(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const X=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=X,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function V(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const X=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=X,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function D(q){const X=this.sliceSerialize(q),re=this.stack[this.stack.length-2];re.label=xxe(X),re.identifier=yd(X).toLowerCase()}function B(){const q=this.stack[this.stack.length-1],X=this.resume(),re=this.stack[this.stack.length-1];if(this.data.inReference=!0,re.type==="link"){const Oe=q.children;re.children=Oe}else re.alt=X}function P(){const q=this.resume(),X=this.stack[this.stack.length-1];X.url=q}function W(){const q=this.resume(),X=this.stack[this.stack.length-1];X.title=q}function G(){this.data.inReference=void 0}function $(){this.data.referenceType="collapsed"}function ee(q){const X=this.resume(),re=this.stack[this.stack.length-1];re.label=X,re.identifier=yd(this.sliceSerialize(q)).toLowerCase(),this.data.referenceType="full"}function ie(q){this.data.characterReferenceType=q.type}function I(q){const X=this.sliceSerialize(q),re=this.data.characterReferenceType;let Oe;re?(Oe=s9(X,re==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Oe=WC(X);const ct=this.stack[this.stack.length-1];ct.value+=Oe}function N(q){const X=this.stack.pop();X.position.end=So(q.end)}function K(q){C.call(this,q);const X=this.stack[this.stack.length-1];X.url=this.sliceSerialize(q)}function z(q){C.call(this,q);const X=this.stack[this.stack.length-1];X.url="mailto:"+this.sliceSerialize(q)}function Z(){return{type:"blockquote",children:[]}}function J(){return{type:"code",lang:null,meta:null,value:""}}function Y(){return{type:"inlineCode",value:""}}function me(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function le(){return{type:"emphasis",children:[]}}function ve(){return{type:"heading",depth:0,children:[]}}function oe(){return{type:"break"}}function Be(){return{type:"html",value:""}}function Te(){return{type:"image",title:null,url:"",alt:null}}function De(){return{type:"link",title:null,url:"",children:[]}}function ae(q){return{type:"list",ordered:q.type==="listOrdered",start:null,spread:q._spread,children:[]}}function At(q){return{type:"listItem",spread:q._spread,checked:null,children:[]}}function we(){return{type:"paragraph",children:[]}}function ye(){return{type:"strong",children:[]}}function be(){return{type:"text",value:""}}function ge(){return{type:"thematicBreak"}}}function So(t){return{line:t.line,column:t.column,offset:t.offset}}function y9(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?y9(t,r):Sxe(t,r)}}function Sxe(t,e){let n;for(n in e)if(g9.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function bR(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+fp({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+fp({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+fp({start:e.start,end:e.end})+") is still open")}function Exe(t){const e=this;e.parser=n;function n(r){return wxe(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function jxe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Axe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Txe(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function kxe(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Cxe(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Oxe(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Uf(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let s,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=a+1,o+=1,t.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function Nxe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Pxe(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function v9(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function Ixe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return v9(t,e);const i={src:Uf(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function $xe(t,e){const n={src:Uf(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function Rxe(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function Mxe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return v9(t,e);const i={href:Uf(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function Dxe(t,e){const n={href:Uf(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Lxe(t,e,n){const r=t.all(e),i=n?Fxe(n):x9(e),a={},s=[];if(typeof e.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?s.push(...d.children):s.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:s};return t.patch(e,c),t.applyData(e,c)}function Fxe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=x9(n[r])}return e}function x9(t){const e=t.spread;return e??t.children.length>1}function Bxe(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function zxe(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Uxe(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Hxe(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Vxe(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=zC(e.children[1]),l=Q8(e.children[e.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function Wxe(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:e.children.length;let l=-1;const c=[];for(;++l<o;){const f=e.children[l],h={},p=s?s[l]:void 0;p&&(h.align=p);let m={type:"element",tagName:a,properties:h,children:[]};f&&(m.children=t.all(f),t.patch(f,m),m=t.applyData(f,m)),c.push(m)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,d),t.applyData(e,d)}function qxe(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const wR=9,_R=32;function Gxe(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(SR(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(SR(e.slice(i),i>0,!1)),a.join("")}function SR(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===wR||a===_R;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===wR||a===_R;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function Kxe(t,e){const n={type:"text",value:Gxe(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Yxe(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Xxe={blockquote:jxe,break:Axe,code:Txe,delete:kxe,emphasis:Cxe,footnoteReference:Oxe,heading:Nxe,html:Pxe,imageReference:Ixe,image:$xe,inlineCode:Rxe,linkReference:Mxe,link:Dxe,listItem:Lxe,list:Bxe,paragraph:zxe,root:Uxe,strong:Hxe,table:Vxe,tableCell:qxe,tableRow:Wxe,text:Kxe,thematicBreak:Yxe,toml:Sy,yaml:Sy,definition:Sy,footnoteDefinition:Sy};function Sy(){}const b9=-1,Db=0,pp=1,p0=2,KC=3,YC=4,XC=5,ZC=6,w9=7,_9=8,ER=typeof self=="object"?self:globalThis,Zxe=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,s]=e[i];switch(a){case Db:case b9:return n(s,i);case pp:{const o=n([],i);for(const l of s)o.push(r(l));return o}case p0:{const o=n({},i);for(const[l,c]of s)o[r(l)]=r(c);return o}case KC:return n(new Date(s),i);case YC:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case XC:{const o=n(new Map,i);for(const[l,c]of s)o.set(r(l),r(c));return o}case ZC:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case w9:{const{name:o,message:l}=s;return n(new ER[o](l),i)}case _9:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new ER[a](s),i)};return r},jR=t=>Zxe(new Map,t)(0),Su="",{toString:Jxe}={},{keys:Qxe}=Object,bh=t=>{const e=typeof t;if(e!=="object"||!t)return[Db,e];const n=Jxe.call(t).slice(8,-1);switch(n){case"Array":return[pp,Su];case"Object":return[p0,Su];case"Date":return[KC,Su];case"RegExp":return[YC,Su];case"Map":return[XC,Su];case"Set":return[ZC,Su];case"DataView":return[pp,n]}return n.includes("Array")?[pp,n]:n.includes("Error")?[w9,n]:[p0,n]},Ey=([t,e])=>t===Db&&(e==="function"||e==="symbol"),ebe=(t,e,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=bh(s);switch(o){case Db:{let d=s;switch(l){case"bigint":o=_9,d=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([b9],s)}return i([o,d],s)}case pp:{if(l){let h=s;return l==="DataView"?h=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(s)),i([l,[...h]],s)}const d=[],f=i([o,d],s);for(const h of s)d.push(a(h));return f}case p0:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(e&&"toJSON"in s)return a(s.toJSON());const d=[],f=i([o,d],s);for(const h of Qxe(s))(t||!Ey(bh(s[h])))&&d.push([a(h),a(s[h])]);return f}case KC:return i([o,s.toISOString()],s);case YC:{const{source:d,flags:f}=s;return i([o,{source:d,flags:f}],s)}case XC:{const d=[],f=i([o,d],s);for(const[h,p]of s)(t||!(Ey(bh(h))||Ey(bh(p))))&&d.push([a(h),a(p)]);return f}case ZC:{const d=[],f=i([o,d],s);for(const h of s)(t||!Ey(bh(h)))&&d.push(a(h));return f}}const{message:c}=s;return i([o,{name:l,message:c}],s)};return a},AR=(t,{json:e,lossy:n}={})=>{const r=[];return ebe(!(e||n),!!e,new Map,r)(t),r},m0=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?jR(AR(t,e)):structuredClone(t):(t,e)=>jR(AR(t,e));function tbe(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function nbe(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function rbe(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||tbe,r=t.options.footnoteBackLabel||nbe,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const d=t.all(c),f=String(c.identifier).toUpperCase(),h=Uf(f.toLowerCase());let p=0;const m=[],g=t.footnoteCounts.get(f);for(;g!==void 0&&++p<=g;){m.length>0&&m.push({type:"text",value:" "});let v=typeof n=="string"?n:n(l,p);typeof v=="string"&&(v={type:"text",value:v}),m.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const b=d[d.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const v=b.children[b.children.length-1];v&&v.type==="text"?v.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...m)}else d.push(...m);const x={type:"element",tagName:"li",properties:{id:e+"fn-"+h},children:t.wrap(d,!0)};t.patch(c,x),o.push(x)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...m0(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const S9=function(t){if(t==null)return obe;if(typeof t=="function")return Lb(t);if(typeof t=="object")return Array.isArray(t)?ibe(t):abe(t);if(typeof t=="string")return sbe(t);throw new Error("Expected function, string, or object as test")};function ibe(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=S9(t[n]);return Lb(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function abe(t){const e=t;return Lb(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function sbe(t){return Lb(e);function e(n){return n&&n.type===t}}function Lb(t){return e;function e(n,r,i){return!!(lbe(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function obe(){return!0}function lbe(t){return t!==null&&typeof t=="object"&&"type"in t}const E9=[],cbe=!0,TR=!1,ube="skip";function dbe(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=S9(i),s=r?-1:1;o(t,void 0,[])();function o(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=E9,m,g,b;if((!e||a(l,c,d[d.length-1]||void 0))&&(p=fbe(n(l,d)),p[0]===TR))return p;if("children"in l&&l.children){const x=l;if(x.children&&p[0]!==ube)for(g=(r?x.children.length:-1)+s,b=d.concat(x);g>-1&&g<x.children.length;){const v=x.children[g];if(m=o(v,g,b)(),m[0]===TR)return m;g=typeof m[1]=="number"?m[1]:g+s}}return p}}}function fbe(t){return Array.isArray(t)?t:typeof t=="number"?[cbe,t]:t==null?E9:[t]}function j9(t,e,n,r){let i,a,s;typeof e=="function"&&typeof n!="function"?(a=void 0,s=e,i=n):(a=e,s=n,i=r),dbe(t,a,o,i);function o(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return s(l,f,d)}}const jj={}.hasOwnProperty,hbe={};function pbe(t,e){const n=e||hbe,r=new Map,i=new Map,a=new Map,s={...Xxe,...n.handlers},o={all:c,applyData:gbe,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:mbe,wrap:vbe};return j9(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),o;function l(d,f){const h=d.type,p=o.handlers[h];if(jj.call(o.handlers,h)&&p)return p(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:g,...b}=d,x=m0(b);return x.children=o.all(d),x}return m0(d)}return(o.options.unknownHandler||ybe)(o,d,f)}function c(d){const f=[];if("children"in d){const h=d.children;let p=-1;for(;++p<h.length;){const m=o.one(h[p],d);if(m){if(p&&h[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=kR(m.value)),!Array.isArray(m)&&m.type==="element")){const g=m.children[0];g&&g.type==="text"&&(g.value=kR(g.value))}Array.isArray(m)?f.push(...m):f.push(m)}}}return f}}function mbe(t,e){t.position&&(e.position=Jye(t))}function gbe(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,m0(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function ybe(t,e){const n=e.data||{},r="value"in e&&!(jj.call(n,"hProperties")||jj.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function vbe(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function kR(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function CR(t,e){const n=pbe(t,e),r=n.one(t,void 0),i=rbe(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function xbe(t,e){return t&&"run"in t?async function(n,r){const i=CR(n,{file:r,...e});await t.run(i,r)}:function(n,r){return CR(n,{file:r,...t||e})}}function OR(t){if(t)throw t}var uv=Object.prototype.hasOwnProperty,A9=Object.prototype.toString,NR=Object.defineProperty,PR=Object.getOwnPropertyDescriptor,IR=function(e){return typeof Array.isArray=="function"?Array.isArray(e):A9.call(e)==="[object Array]"},$R=function(e){if(!e||A9.call(e)!=="[object Object]")return!1;var n=uv.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&uv.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||uv.call(e,i)},RR=function(e,n){NR&&n.name==="__proto__"?NR(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},MR=function(e,n){if(n==="__proto__")if(uv.call(e,n)){if(PR)return PR(e,n).value}else return;return e[n]},bbe=function t(){var e,n,r,i,a,s,o=arguments[0],l=1,c=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=MR(o,n),i=MR(e,n),o!==i&&(d&&i&&($R(i)||(a=IR(i)))?(a?(a=!1,s=r&&IR(r)?r:[]):s=r&&$R(r)?r:{},RR(o,{name:n,newValue:t(d,s,i)})):typeof i<"u"&&RR(o,{name:n,newValue:i}));return o};const g1=at(bbe);function Aj(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function wbe(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...c){const d=t[++a];let f=-1;if(l){s(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,d?_be(d,o)(...c):s(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function _be(t,e){let n;return r;function r(...s){const o=t.length>s.length;let l;o&&s.push(i);try{l=t.apply(this,s)}catch(c){const d=c;if(o&&n)throw d;return i(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,e(s,...o))}function a(s){i(null,s)}}const Ua={basename:Sbe,dirname:Ebe,extname:jbe,join:Abe,sep:"/"};function Sbe(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');vg(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function Ebe(t){if(vg(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function jbe(t){vg(t);let e=t.length,n=-1,r=0,i=-1,a=0,s;for(;e--;){const o=t.codePointAt(e);if(o===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),o===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function Abe(...t){let e=-1,n;for(;++e<t.length;)vg(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Tbe(n)}function Tbe(t){vg(t);const e=t.codePointAt(0)===47;let n=kbe(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function kbe(t,e){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=t.length;){if(s<t.length)o=t.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function vg(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Cbe={cwd:Obe};function Obe(){return"/"}function Tj(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Nbe(t){if(typeof t=="string")t=new URL(t);else if(!Tj(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Pbe(t)}function Pbe(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const y1=["history","path","basename","stem","extname","dirname"];class T9{constructor(e){let n;e?Tj(e)?n={path:e}:typeof e=="string"||Ibe(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Cbe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<y1.length;){const a=y1[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)y1.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ua.basename(this.path):void 0}set basename(e){x1(e,"basename"),v1(e,"basename"),this.path=Ua.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Ua.dirname(this.path):void 0}set dirname(e){DR(this.basename,"dirname"),this.path=Ua.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Ua.extname(this.path):void 0}set extname(e){if(v1(e,"extname"),DR(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ua.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Tj(e)&&(e=Nbe(e)),x1(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Ua.basename(this.path,this.extname):void 0}set stem(e){x1(e,"stem"),v1(e,"stem"),this.path=Ua.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new er(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function v1(t,e){if(t&&t.includes(Ua.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Ua.sep+"`")}function x1(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function DR(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Ibe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const $be=function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},Rbe={}.hasOwnProperty;class JC extends $be{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=wbe()}copy(){const e=new JC;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(g1(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(_1("data",this.frozen),this.namespace[e]=n,this):Rbe.call(this.namespace,e)&&this.namespace[e]||void 0:e?(_1("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=jy(e),r=this.parser||this.Parser;return b1("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),b1("process",this.parser||this.Parser),w1("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=jy(e),l=r.parse(o);r.run(l,o,function(d,f,h){if(d||!f||!h)return c(d);const p=f,m=r.stringify(p,h);Lbe(m)?h.value=m:h.result=m,c(d,h)});function c(d,f){d||!f?s(d):a?a(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),b1("processSync",this.parser||this.Parser),w1("processSync",this.compiler||this.Compiler),this.process(e,i),FR("processSync","process",n),r;function i(a,s){n=!0,OR(a),r=s}}run(e,n,r){LR(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=jy(n);i.run(e,l,c);function c(d,f,h){const p=f||e;d?o(d):s?s(p):r(void 0,p,h)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),FR("runSync","run",r),i;function a(s,o){OR(s),i=o,r=!0}}stringify(e,n){this.freeze();const r=jy(n),i=this.compiler||this.Compiler;return w1("stringify",i),LR(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(_1("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=g1(!0,i.settings,c.settings))}function o(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];a(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===c){h=f;break}if(h===-1)r.push([c,...d]);else if(d.length>0){let[p,...m]=d;const g=r[h][1];Aj(g)&&Aj(p)&&(p=g1(!0,g,p)),r[h]=[c,p,...m]}}}}const Mbe=new JC().freeze();function b1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function w1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function _1(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function LR(t){if(!Aj(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function FR(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function jy(t){return Dbe(t)?t:new T9(t)}function Dbe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Lbe(t){return typeof t=="string"||Fbe(t)}function Fbe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Bbe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",BR=[],zR={allowDangerousHtml:!0},zbe=/^(https?|ircs?|mailto|xmpp)$/i,Ube=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function k9(t){const e=Hbe(t),n=Vbe(t);return Wbe(e.runSync(e.parse(n),n),t)}function Hbe(t){const e=t.rehypePlugins||BR,n=t.remarkPlugins||BR,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...zR}:zR;return Mbe().use(Exe).use(n).use(xbe,r).use(e)}function Vbe(t){const e=t.children||"",n=new T9;return typeof e=="string"&&(n.value=e),n}function Wbe(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,a=e.disallowedElements,s=e.skipHtml,o=e.unwrapDisallowed,l=e.urlTransform||qbe;for(const d of Ube)Object.hasOwn(e,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Bbe+d.id,void 0);return j9(t,c),rve(t,{Fragment:u.Fragment,components:i,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return s?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let p;for(p in h1)if(Object.hasOwn(h1,p)&&Object.hasOwn(d.properties,p)){const m=d.properties[p],g=h1[p];(g===null||g.includes(d.tagName))&&(d.properties[p]=l(String(m||""),p,d))}}if(d.type==="element"){let p=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!p&&r&&typeof f=="number"&&(p=!r(d,f,h)),p&&h&&typeof f=="number")return o&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function qbe(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||zbe.test(t.slice(0,e))?t:""}const Gbe=Qm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 button-magnetic micro-bounce",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-elegant",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-primary/20 bg-background/10 backdrop-blur-sm text-foreground hover:bg-primary/10 hover:border-primary/40",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-ai-gradient text-white hover:scale-105 transform transition-all duration-300 shadow-glow hover:shadow-[0_0_30px_hsl(217_91%_60%_/_0.5)] button-glow hover-glow",premium:"bg-gradient-to-r from-ai-purple to-ai-teal text-white hover:scale-105 transform transition-all duration-300 shadow-elegant button-glow animate-gradient-shift"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),se=S.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const s=r?dl:"button";return u.jsx(s,{className:je(Gbe({variant:e,size:n,className:t})),ref:a,...i})});se.displayName="Button";const ne=S.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:je("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ne.displayName="Card";const et=S.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:je("flex flex-col space-y-1.5 p-6",t),...e}));et.displayName="CardHeader";const tt=S.forwardRef(({className:t,...e},n)=>u.jsx("h3",{ref:n,className:je("text-2xl font-semibold leading-none tracking-tight",t),...e}));tt.displayName="CardTitle";const Xa=S.forwardRef(({className:t,...e},n)=>u.jsx("p",{ref:n,className:je("text-sm text-muted-foreground",t),...e}));Xa.displayName="CardDescription";const Fe=S.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:je("p-6 pt-0",t),...e}));Fe.displayName="CardContent";const Kbe=S.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:je("flex items-center p-6 pt-0",t),...e}));Kbe.displayName="CardFooter";const Ut=S.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ut.displayName="Input";var Ybe=S.createContext(void 0);function xg(t){const e=S.useContext(Ybe);return t||e||"ltr"}function kj(t,[e,n]){return Math.min(n,Math.max(e,t))}function Xbe(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var QC="ScrollArea",[C9,_We]=ps(QC),[Zbe,Fi]=C9(QC),O9=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:a=600,...s}=t,[o,l]=S.useState(null),[c,d]=S.useState(null),[f,h]=S.useState(null),[p,m]=S.useState(null),[g,b]=S.useState(null),[x,v]=S.useState(0),[y,w]=S.useState(0),[_,E]=S.useState(!1),[A,j]=S.useState(!1),T=it(e,k=>l(k)),C=xg(i);return u.jsx(Zbe,{scope:n,type:r,dir:C,scrollHideDelay:a,scrollArea:o,viewport:c,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:m,scrollbarXEnabled:_,onScrollbarXEnabledChange:E,scrollbarY:g,onScrollbarYChange:b,scrollbarYEnabled:A,onScrollbarYEnabledChange:j,onCornerWidthChange:v,onCornerHeightChange:w,children:u.jsx($e.div,{dir:C,...s,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":y+"px",...t.style}})})});O9.displayName=QC;var N9="ScrollAreaViewport",P9=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,asChild:i,nonce:a,...s}=t,o=Fi(N9,n),l=S.useRef(null),c=it(e,l,o.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),u.jsx($e.div,{"data-radix-scroll-area-viewport":"",...s,asChild:i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:owe({asChild:i,children:r},d=>u.jsx("div",{"data-radix-scroll-area-content":"",ref:o.onContentChange,style:{minWidth:o.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});P9.displayName=N9;var gs="ScrollAreaScrollbar",eO=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Fi(gs,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:s}=i,o=t.orientation==="horizontal";return S.useEffect(()=>(o?a(!0):s(!0),()=>{o?a(!1):s(!1)}),[o,a,s]),i.type==="hover"?u.jsx(Jbe,{...r,ref:e,forceMount:n}):i.type==="scroll"?u.jsx(Qbe,{...r,ref:e,forceMount:n}):i.type==="auto"?u.jsx(I9,{...r,ref:e,forceMount:n}):i.type==="always"?u.jsx(tO,{...r,ref:e}):null});eO.displayName=gs;var Jbe=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Fi(gs,t.__scopeScrollArea),[a,s]=S.useState(!1);return S.useEffect(()=>{const o=i.scrollArea;let l=0;if(o){const c=()=>{window.clearTimeout(l),s(!0)},d=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",c),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",c),o.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),u.jsx(pr,{present:n||a,children:u.jsx(I9,{"data-state":a?"visible":"hidden",...r,ref:e})})}),Qbe=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Fi(gs,t.__scopeScrollArea),a=t.orientation==="horizontal",s=Bb(()=>l("SCROLL_END"),100),[o,l]=Xbe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(o==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[o,i.scrollHideDelay,l]),S.useEffect(()=>{const c=i.viewport,d=a?"scrollLeft":"scrollTop";if(c){let f=c[d];const h=()=>{const p=c[d];f!==p&&(l("SCROLL"),s()),f=p};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,a,l,s]),u.jsx(pr,{present:n||o!=="hidden",children:u.jsx(tO,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:pe(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:pe(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),I9=S.forwardRef((t,e)=>{const n=Fi(gs,t.__scopeScrollArea),{forceMount:r,...i}=t,[a,s]=S.useState(!1),o=t.orientation==="horizontal",l=Bb(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;s(o?c:d)}},10);return Zd(n.viewport,l),Zd(n.content,l),u.jsx(pr,{present:r||a,children:u.jsx(tO,{"data-state":a?"visible":"hidden",...i,ref:e})})}),tO=S.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Fi(gs,t.__scopeScrollArea),a=S.useRef(null),s=S.useRef(0),[o,l]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=L9(o.viewport,o.content),d={...r,sizes:o,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,p){return awe(h,s.current,o,p)}return n==="horizontal"?u.jsx(ewe,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollLeft,p=UR(h,o,i.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?u.jsx(twe,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollTop,p=UR(h,o);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),ewe=S.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,a=Fi(gs,t.__scopeScrollArea),[s,o]=S.useState(),l=S.useRef(null),c=it(e,l,a.onScrollbarXChange);return S.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),u.jsx(R9,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Fb(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),B9(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&s&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:y0(s.paddingLeft),paddingEnd:y0(s.paddingRight)}})}})}),twe=S.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,a=Fi(gs,t.__scopeScrollArea),[s,o]=S.useState(),l=S.useRef(null),c=it(e,l,a.onScrollbarYChange);return S.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),u.jsx(R9,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Fb(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),B9(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&s&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:y0(s.paddingTop),paddingEnd:y0(s.paddingBottom)}})}})}),[nwe,$9]=C9(gs),R9=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:s,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:f,...h}=t,p=Fi(gs,n),[m,g]=S.useState(null),b=it(e,T=>g(T)),x=S.useRef(null),v=S.useRef(""),y=p.viewport,w=r.content-r.viewport,_=qt(d),E=qt(l),A=Bb(f,10);function j(T){if(x.current){const C=T.clientX-x.current.left,k=T.clientY-x.current.top;c({x:C,y:k})}}return S.useEffect(()=>{const T=C=>{const k=C.target;(m==null?void 0:m.contains(k))&&_(C,w)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[y,m,w,_]),S.useEffect(E,[r,E]),Zd(m,A),Zd(p.content,A),u.jsx(nwe,{scope:n,scrollbar:m,hasThumb:i,onThumbChange:qt(a),onThumbPointerUp:qt(s),onThumbPositionChange:E,onThumbPointerDown:qt(o),children:u.jsx($e.div,{...h,ref:b,style:{position:"absolute",...h.style},onPointerDown:pe(t.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),x.current=m.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),j(T))}),onPointerMove:pe(t.onPointerMove,j),onPointerUp:pe(t.onPointerUp,T=>{const C=T.target;C.hasPointerCapture(T.pointerId)&&C.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),x.current=null})})})}),g0="ScrollAreaThumb",M9=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=$9(g0,t.__scopeScrollArea);return u.jsx(pr,{present:n||i.hasThumb,children:u.jsx(rwe,{ref:e,...r})})}),rwe=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,a=Fi(g0,n),s=$9(g0,n),{onThumbPositionChange:o}=s,l=it(e,f=>s.onThumbChange(f)),c=S.useRef(),d=Bb(()=>{c.current&&(c.current(),c.current=void 0)},100);return S.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!c.current){const p=swe(f,o);c.current=p,o()}};return o(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,o]),u.jsx($e.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:pe(t.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),m=f.clientX-p.left,g=f.clientY-p.top;s.onThumbPointerDown({x:m,y:g})}),onPointerUp:pe(t.onPointerUp,s.onThumbPointerUp)})});M9.displayName=g0;var nO="ScrollAreaCorner",D9=S.forwardRef((t,e)=>{const n=Fi(nO,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(iwe,{...t,ref:e}):null});D9.displayName=nO;var iwe=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Fi(nO,n),[a,s]=S.useState(0),[o,l]=S.useState(0),c=!!(a&&o);return Zd(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),Zd(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),s(d)}),c?u.jsx($e.div,{...r,ref:e,style:{width:a,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function y0(t){return t?parseInt(t,10):0}function L9(t,e){const n=t/e;return isNaN(n)?0:n}function Fb(t){const e=L9(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function awe(t,e,n,r="ltr"){const i=Fb(n),a=i/2,s=e||a,o=i-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-o,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return F9([l,c],f)(t)}function UR(t,e,n="ltr"){const r=Fb(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,s=e.content-e.viewport,o=a-r,l=n==="ltr"?[0,s]:[s*-1,0],c=kj(t,l);return F9([0,s],[0,o])(c)}function F9(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function B9(t,e){return t>0&&t<e}var swe=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const a={left:t.scrollLeft,top:t.scrollTop},s=n.left!==a.left,o=n.top!==a.top;(s||o)&&e(),n=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Bb(t,e){const n=qt(t),r=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),S.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Zd(t,e){const n=qt(e);An(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}function owe(t,e){const{asChild:n,children:r}=t;if(!n)return typeof e=="function"?e(r):e;const i=S.Children.only(r);return S.cloneElement(i,{children:typeof e=="function"?e(i.props.children):e})}var z9=O9,lwe=P9,cwe=D9;const rO=S.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(z9,{ref:r,className:je("relative overflow-hidden",t),...n,children:[u.jsx(lwe,{className:"h-full w-full rounded-[inherit]",children:e}),u.jsx(U9,{}),u.jsx(cwe,{})]}));rO.displayName=z9.displayName;const U9=S.forwardRef(({className:t,orientation:e="vertical",...n},r)=>u.jsx(eO,{ref:r,orientation:e,className:je("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:u.jsx(M9,{className:"relative flex-1 rounded-full bg-border"})}));U9.displayName=eO.displayName;const El=({size:t="md",className:e})=>{const n={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return u.jsx("div",{className:je("flex items-center justify-center",e),children:u.jsx("div",{className:je("animate-spin rounded-full border-2 border-primary/20 border-t-primary",n[t]),role:"status","aria-label":"Loading",children:u.jsx("span",{className:"sr-only",children:"Loading..."})})})},uwe=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState([{id:"welcome",content:"Hi! I'm your AI college counselor. I can help you with admissions, applications, and campus information. How can I assist you today?",role:"assistant",timestamp:new Date}]),[i,a]=S.useState(""),[s,o]=S.useState(!1),l=S.useRef(null),{toast:c}=Vt(),d=S.useRef(new W8("counselor")),f=()=>{var p;(p=l.current)==null||p.scrollIntoView({behavior:"smooth"})};S.useEffect(()=>{f()},[n]);const h=async p=>{if(p.preventDefault(),!i.trim()||s)return;const m={id:Date.now().toString(),content:i.trim(),role:"user",timestamp:new Date};r(g=>[...g,m]),a(""),o(!0);try{const g=n.map(v=>({role:v.role,content:v.content})),b=await d.current.generateResponse(m.content,g),x={id:(Date.now()+1).toString(),content:b.content,role:"assistant",timestamp:new Date};r(v=>[...v,x])}catch(g){console.error("AI Chat error:",g),c({title:"Error",description:"Failed to get AI response. Please try again.",variant:"destructive"});const b={id:(Date.now()+1).toString(),content:"I apologize, but I'm having trouble processing your request right now. Please try again in a moment.",role:"assistant",timestamp:new Date};r(x=>[...x,b])}finally{o(!1)}};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:u.jsx(se,{onClick:()=>e(!t),size:"lg",className:je("rounded-full w-14 h-14 shadow-elegant hover-lift transition-all duration-300",t?"rotate-180":"animate-pulse"),variant:"hero",children:t?u.jsx(tg,{className:"w-6 h-6"}):u.jsx(qv,{className:"w-6 h-6"})})}),t&&u.jsx(ne,{className:"fixed bottom-24 right-6 w-96 h-[500px] z-40 shadow-2xl border-2 border-primary/20 animate-scale-in",children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx("div",{className:"p-4 border-b bg-gradient-subtle rounded-t-lg",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-8 h-8 bg-ai-gradient rounded-full flex items-center justify-center",children:u.jsx(pa,{className:"w-4 h-4 text-white"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-sm",children:"AI College Counselor"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Always here to help"})]})]})}),u.jsxs(rO,{className:"flex-1 p-4",children:[u.jsxs("div",{className:"space-y-4",children:[n.map(p=>u.jsxs("div",{className:je("flex items-start space-x-2",p.role==="user"?"justify-end":"justify-start"),children:[p.role==="assistant"&&u.jsx("div",{className:"w-6 h-6 bg-ai-gradient rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:u.jsx(pa,{className:"w-3 h-3 text-white"})}),u.jsx("div",{className:je("max-w-[280px] p-3 rounded-lg text-sm transition-all duration-200",p.role==="user"?"bg-primary text-primary-foreground ml-auto hover-lift":"bg-secondary text-secondary-foreground hover-scale"),children:u.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none break-words",children:u.jsx(k9,{children:p.content})})}),p.role==="user"&&u.jsx("div",{className:"w-6 h-6 bg-muted rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:u.jsx(Gp,{className:"w-3 h-3"})})]},p.id)),s&&u.jsxs("div",{className:"flex items-start space-x-2",children:[u.jsx("div",{className:"w-6 h-6 bg-ai-gradient rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:u.jsx(pa,{className:"w-3 h-3 text-white"})}),u.jsx("div",{className:"bg-secondary p-3 rounded-lg",children:u.jsx(El,{size:"sm"})})]})]}),u.jsx("div",{ref:l})]}),u.jsx("form",{onSubmit:h,className:"p-4 border-t",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(Ut,{value:i,onChange:p=>a(p.target.value),placeholder:"Ask about admissions, applications...",disabled:s,className:"flex-1"}),u.jsx(se,{type:"submit",size:"icon",disabled:s||!i.trim(),className:"flex-shrink-0 hover-lift",variant:"hero",children:u.jsx(Sk,{className:"w-4 h-4"})})]})})]})})]})},dwe=()=>{const[t,e]=S.useState(null),[n,r]=S.useState(!1),[i,a]=S.useState(!1);S.useEffect(()=>{(()=>{window.matchMedia("(display-mode: standalone)").matches&&a(!0)})();const d=h=>{h.preventDefault(),e(h),setTimeout(()=>{r(!0)},3e3)},f=()=>{a(!0),r(!1),e(null)};return window.addEventListener("beforeinstallprompt",d),window.addEventListener("appinstalled",f),()=>{window.removeEventListener("beforeinstallprompt",d),window.removeEventListener("appinstalled",f)}},[]);const s=async()=>{if(t){try{await t.prompt(),(await t.userChoice).outcome==="accepted"?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt")}catch(c){console.error("Error during install prompt:",c)}e(null),r(!1)}},o=()=>{r(!1),localStorage.setItem("pwa-install-dismissed",Date.now().toString())};if(i||!n||!t)return null;const l=localStorage.getItem("pwa-install-dismissed");return l&&Date.now()-parseInt(l)<24*60*60*1e3?null:u.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 md:left-auto md:right-4 md:w-80",children:u.jsx(ne,{className:"p-4 bg-card/95 backdrop-blur-sm border shadow-lg",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:u.jsx(Fee,{className:"w-5 h-5 text-primary"})}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsx("h3",{className:"font-semibold text-sm text-card-foreground",children:"Install AdmitConnect AI"}),u.jsx(se,{variant:"ghost",size:"icon",onClick:o,className:"w-6 h-6 -mt-1 -mr-1",children:u.jsx(tg,{className:"w-4 h-4"})})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Get faster access and offline features by installing our app on your device."}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs(se,{onClick:s,size:"sm",className:"flex-1",children:[u.jsx(wk,{className:"w-4 h-4 mr-1"}),"Install"]}),u.jsx(se,{variant:"outline",size:"sm",onClick:o,className:"flex-1",children:"Later"})]})]})]})})})},fwe=()=>u.jsxs("div",{className:"sr-only focus:not-sr-only",children:[u.jsx("a",{href:"#main-content",className:"fixed top-0 left-0 z-[9999] bg-primary text-primary-foreground px-4 py-2 rounded-br-md focus:outline-none focus:ring-2 focus:ring-ring",onFocus:t=>{t.currentTarget.classList.remove("sr-only")},onBlur:t=>{t.currentTarget.classList.add("sr-only")},children:"Skip to main content"}),u.jsx("a",{href:"#navigation",className:"fixed top-0 left-0 z-[9999] bg-primary text-primary-foreground px-4 py-2 rounded-br-md focus:outline-none focus:ring-2 focus:ring-ring ml-32",onFocus:t=>{t.currentTarget.classList.remove("sr-only")},onBlur:t=>{t.currentTarget.classList.add("sr-only")},children:"Skip to navigation"})]});class hwe extends S.Component{constructor(){super(...arguments);H(this,"state",{hasError:!1})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("ErrorBoundary caught an error:",n,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:u.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:u.jsxs(ne,{className:"max-w-md w-full p-6 text-center space-y-4",children:[u.jsx("div",{className:"w-16 h-16 bg-destructive/10 rounded-full flex items-center justify-center mx-auto",children:u.jsx(TB,{className:"w-8 h-8 text-destructive"})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Something went wrong"}),u.jsx("p",{className:"text-muted-foreground",children:"We encountered an unexpected error. Please try refreshing the page."}),!1]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[u.jsxs(se,{onClick:()=>window.location.reload(),className:"flex-1",children:[u.jsx(pl,{className:"w-4 h-4 mr-2"}),"Refresh Page"]}),u.jsx(se,{variant:"outline",onClick:()=>window.location.href="/",className:"flex-1",children:"Go Home"})]})]})}):this.props.children}}const pwe=()=>{const t=pi(),e=Pl(),{user:n,loading:r}=Un(),i=S.useRef(!1);return S.useEffect(()=>{if(r||i.current)return;const a=e.pathname==="/auth",s=e.pathname==="/"&&(e.hash.includes("access_token")||window.location.hash.includes("access_token"));n&&(a||s)&&(console.log("User authenticated, redirecting to dashboard..."),i.current=!0,window.location.hash&&window.history.replaceState(null,"",window.location.pathname),t("/dashboard",{replace:!0}))},[n,r,t,e]),S.useEffect(()=>{n||(i.current=!1)},[n]),null},mwe=({onComplete:t})=>{const[e,n]=S.useState(!0);return S.useEffect(()=>{const r=setTimeout(()=>{n(!1),setTimeout(t,300)},800);return()=>clearTimeout(r)},[t]),u.jsxs("div",{className:je("fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-background via-primary/20 to-background transition-opacity duration-500",!e&&"opacity-0 pointer-events-none"),children:[u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[u.jsx("div",{className:"absolute w-32 h-32 border-4 border-primary/30 rounded-full animate-[ping_2s_ease-in-out_infinite]"}),u.jsx("div",{className:"absolute w-40 h-40 border-4 border-primary/20 rounded-full animate-[ping_2s_ease-in-out_0.5s_infinite]"}),u.jsx("div",{className:"absolute w-48 h-48 border-4 border-primary/10 rounded-full animate-[ping_2s_ease-in-out_1s_infinite]"})]}),u.jsx("div",{className:"relative z-10 animate-[scale-in_0.5s_ease-out]",children:u.jsx("img",{src:"/admit-ai-nexus/app-logo.png",alt:"AdmitConnect AI",className:"w-24 h-24 rounded-2xl shadow-2xl shadow-primary/50 animate-[float_3s_ease-in-out_infinite]"})}),u.jsx("div",{className:"absolute inset-0 -z-10 rounded-2xl bg-gradient-to-r from-transparent via-primary/20 to-transparent animate-[shimmer_2s_ease-in-out_infinite]"})]}),u.jsx("div",{className:"absolute bottom-1/3 animate-[fade-in_1s_ease-out_0.5s_both]",children:u.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-primary via-primary-glow to-primary bg-clip-text text-transparent",children:"AdmitConnect AI"})}),u.jsxs("div",{className:"absolute bottom-1/4 flex gap-2 animate-[fade-in_1s_ease-out_1s_both]",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-[bounce_1s_ease-in-out_infinite]"}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-[bounce_1s_ease-in-out_0.2s_infinite]"}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-[bounce_1s_ease-in-out_0.4s_infinite]"})]})]})};var S1="focusScope.autoFocusOnMount",E1="focusScope.autoFocusOnUnmount",HR={bubbles:!1,cancelable:!0},gwe="FocusScope",zb=S.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=t,[o,l]=S.useState(null),c=qt(i),d=qt(a),f=S.useRef(null),h=it(e,g=>l(g)),p=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let g=function(y){if(p.paused||!o)return;const w=y.target;o.contains(w)?f.current=w:To(f.current,{select:!0})},b=function(y){if(p.paused||!o)return;const w=y.relatedTarget;w!==null&&(o.contains(w)||To(f.current,{select:!0}))},x=function(y){if(document.activeElement===document.body)for(const _ of y)_.removedNodes.length>0&&To(o)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const v=new MutationObserver(x);return o&&v.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),v.disconnect()}}},[r,o,p.paused]),S.useEffect(()=>{if(o){WR.add(p);const g=document.activeElement;if(!o.contains(g)){const x=new CustomEvent(S1,HR);o.addEventListener(S1,c),o.dispatchEvent(x),x.defaultPrevented||(ywe(_we(H9(o)),{select:!0}),document.activeElement===g&&To(o))}return()=>{o.removeEventListener(S1,c),setTimeout(()=>{const x=new CustomEvent(E1,HR);o.addEventListener(E1,d),o.dispatchEvent(x),x.defaultPrevented||To(g??document.body,{select:!0}),o.removeEventListener(E1,d),WR.remove(p)},0)}}},[o,c,d,p]);const m=S.useCallback(g=>{if(!n&&!r||p.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(b&&x){const v=g.currentTarget,[y,w]=vwe(v);y&&w?!g.shiftKey&&x===w?(g.preventDefault(),n&&To(y,{select:!0})):g.shiftKey&&x===y&&(g.preventDefault(),n&&To(w,{select:!0})):x===v&&g.preventDefault()}},[n,r,p.paused]);return u.jsx($e.div,{tabIndex:-1,...s,ref:h,onKeyDown:m})});zb.displayName=gwe;function ywe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(To(r,{select:e}),document.activeElement!==n)return}function vwe(t){const e=H9(t),n=VR(e,t),r=VR(e.reverse(),t);return[n,r]}function H9(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function VR(t,e){for(const n of t)if(!xwe(n,{upTo:e}))return n}function xwe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function bwe(t){return t instanceof HTMLInputElement&&"select"in t}function To(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&bwe(t)&&e&&t.select()}}var WR=wwe();function wwe(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=qR(t,e),t.unshift(e)},remove(e){var n;t=qR(t,e),(n=t[0])==null||n.resume()}}}function qR(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function _we(t){return t.filter(e=>e.tagName!=="A")}var j1=0;function iO(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??GR()),document.body.insertAdjacentElement("beforeend",t[1]??GR()),j1++,()=>{j1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),j1--}},[])}function GR(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ya=function(){return Ya=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ya.apply(this,arguments)};function V9(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Swe(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var dv="right-scroll-bar-position",fv="width-before-scroll-bar",Ewe="with-scroll-bars-hidden",jwe="--removed-body-scroll-bar-size";function A1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Awe(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Twe=typeof window<"u"?S.useLayoutEffect:S.useEffect,KR=new WeakMap;function kwe(t,e){var n=Awe(null,function(r){return t.forEach(function(i){return A1(i,r)})});return Twe(function(){var r=KR.get(n);if(r){var i=new Set(r),a=new Set(t),s=n.current;i.forEach(function(o){a.has(o)||A1(o,null)}),a.forEach(function(o){i.has(o)||A1(o,s)})}KR.set(n,t)},[t]),n}function Cwe(t){return t}function Owe(t,e){e===void 0&&(e=Cwe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var s=e(a,r);return n.push(s),function(){n=n.filter(function(o){return o!==s})}},assignSyncMedium:function(a){for(r=!0;n.length;){var s=n;n=[],s.forEach(a)}n={push:function(o){return a(o)},filter:function(){return n}}},assignMedium:function(a){r=!0;var s=[];if(n.length){var o=n;n=[],o.forEach(a),s=n}var l=function(){var d=s;s=[],d.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){s.push(d),c()},filter:function(d){return s=s.filter(d),n}}}};return i}function Nwe(t){t===void 0&&(t={});var e=Owe(null);return e.options=Ya({async:!0,ssr:!1},t),e}var W9=function(t){var e=t.sideCar,n=V9(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,Ya({},n))};W9.isSideCarExport=!0;function Pwe(t,e){return t.useMedium(e),W9}var q9=Nwe(),T1=function(){},Ub=S.forwardRef(function(t,e){var n=S.useRef(null),r=S.useState({onScrollCapture:T1,onWheelCapture:T1,onTouchMoveCapture:T1}),i=r[0],a=r[1],s=t.forwardProps,o=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,p=t.noIsolation,m=t.inert,g=t.allowPinchZoom,b=t.as,x=b===void 0?"div":b,v=t.gapMode,y=V9(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,_=kwe([n,e]),E=Ya(Ya({},y),i);return S.createElement(S.Fragment,null,d&&S.createElement(w,{sideCar:q9,removeScrollBar:c,shards:f,noIsolation:p,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:n,gapMode:v}),s?S.cloneElement(S.Children.only(o),Ya(Ya({},E),{ref:_})):S.createElement(x,Ya({},E,{className:l,ref:_}),o))});Ub.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ub.classNames={fullWidth:fv,zeroRight:dv};var Iwe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $we(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Iwe();return e&&t.setAttribute("nonce",e),t}function Rwe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Mwe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Dwe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=$we())&&(Rwe(e,n),Mwe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Lwe=function(){var t=Dwe();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},G9=function(){var t=Lwe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Fwe={left:0,top:0,right:0,gap:0},k1=function(t){return parseInt(t||"",10)||0},Bwe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[k1(n),k1(r),k1(i)]},zwe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Fwe;var e=Bwe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Uwe=G9(),vd="data-scroll-locked",Hwe=function(t,e,n,r){var i=t.left,a=t.top,s=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Ewe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(vd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dv,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(fv,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(dv," .").concat(dv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(fv," .").concat(fv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(vd,`] {
    `).concat(jwe,": ").concat(o,`px;
  }
`)},YR=function(){var t=parseInt(document.body.getAttribute(vd)||"0",10);return isFinite(t)?t:0},Vwe=function(){S.useEffect(function(){return document.body.setAttribute(vd,(YR()+1).toString()),function(){var t=YR()-1;t<=0?document.body.removeAttribute(vd):document.body.setAttribute(vd,t.toString())}},[])},Wwe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Vwe();var a=S.useMemo(function(){return zwe(i)},[i]);return S.createElement(Uwe,{styles:Hwe(a,!e,i,n?"":"!important")})},Cj=!1;if(typeof window<"u")try{var Ay=Object.defineProperty({},"passive",{get:function(){return Cj=!0,!0}});window.addEventListener("test",Ay,Ay),window.removeEventListener("test",Ay,Ay)}catch{Cj=!1}var Eu=Cj?{passive:!1}:!1,qwe=function(t){return t.tagName==="TEXTAREA"},K9=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!qwe(t)&&n[e]==="visible")},Gwe=function(t){return K9(t,"overflowY")},Kwe=function(t){return K9(t,"overflowX")},XR=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Y9(t,r);if(i){var a=X9(t,r),s=a[1],o=a[2];if(s>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Ywe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Xwe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Y9=function(t,e){return t==="v"?Gwe(e):Kwe(e)},X9=function(t,e){return t==="v"?Ywe(e):Xwe(e)},Zwe=function(t,e){return t==="h"&&e==="rtl"?-1:1},Jwe=function(t,e,n,r,i){var a=Zwe(t,window.getComputedStyle(e).direction),s=a*r,o=n.target,l=e.contains(o),c=!1,d=s>0,f=0,h=0;do{var p=X9(t,o),m=p[0],g=p[1],b=p[2],x=g-b-a*m;(m||x)&&Y9(t,o)&&(f+=x,h+=m),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(c=!0),c},Ty=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},ZR=function(t){return[t.deltaX,t.deltaY]},JR=function(t){return t&&"current"in t?t.current:t},Qwe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e_e=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},t_e=0,ju=[];function n_e(t){var e=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),i=S.useState(t_e++)[0],a=S.useState(G9)[0],s=S.useRef(t);S.useEffect(function(){s.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=Swe([t.lockRef.current],(t.shards||[]).map(JR),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=S.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var x=Ty(g),v=n.current,y="deltaX"in g?g.deltaX:v[0]-x[0],w="deltaY"in g?g.deltaY:v[1]-x[1],_,E=g.target,A=Math.abs(y)>Math.abs(w)?"h":"v";if("touches"in g&&A==="h"&&E.type==="range")return!1;var j=XR(A,E);if(!j)return!0;if(j?_=A:(_=A==="v"?"h":"v",j=XR(A,E)),!j)return!1;if(!r.current&&"changedTouches"in g&&(y||w)&&(r.current=_),!_)return!0;var T=r.current||_;return Jwe(T,b,g,T==="h"?y:w,!0)},[]),l=S.useCallback(function(g){var b=g;if(!(!ju.length||ju[ju.length-1]!==a)){var x="deltaY"in b?ZR(b):Ty(b),v=e.current.filter(function(_){return _.name===b.type&&(_.target===b.target||b.target===_.shadowParent)&&Qwe(_.delta,x)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var y=(s.current.shards||[]).map(JR).filter(Boolean).filter(function(_){return _.contains(b.target)}),w=y.length>0?o(b,y[0]):!s.current.noIsolation;w&&b.cancelable&&b.preventDefault()}}},[]),c=S.useCallback(function(g,b,x,v){var y={name:g,delta:b,target:x,should:v,shadowParent:r_e(x)};e.current.push(y),setTimeout(function(){e.current=e.current.filter(function(w){return w!==y})},1)},[]),d=S.useCallback(function(g){n.current=Ty(g),r.current=void 0},[]),f=S.useCallback(function(g){c(g.type,ZR(g),g.target,o(g,t.lockRef.current))},[]),h=S.useCallback(function(g){c(g.type,Ty(g),g.target,o(g,t.lockRef.current))},[]);S.useEffect(function(){return ju.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Eu),document.addEventListener("touchmove",l,Eu),document.addEventListener("touchstart",d,Eu),function(){ju=ju.filter(function(g){return g!==a}),document.removeEventListener("wheel",l,Eu),document.removeEventListener("touchmove",l,Eu),document.removeEventListener("touchstart",d,Eu)}},[]);var p=t.removeScrollBar,m=t.inert;return S.createElement(S.Fragment,null,m?S.createElement(a,{styles:e_e(i)}):null,p?S.createElement(Wwe,{gapMode:t.gapMode}):null)}function r_e(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const i_e=Pwe(q9,n_e);var Hb=S.forwardRef(function(t,e){return S.createElement(Ub,Ya({},t,{ref:e,sideCar:i_e}))});Hb.classNames=Ub.classNames;var a_e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Au=new WeakMap,ky=new WeakMap,Cy={},C1=0,Z9=function(t){return t&&(t.host||Z9(t.parentNode))},s_e=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Z9(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},o_e=function(t,e,n,r){var i=s_e(e,Array.isArray(t)?t:[t]);Cy[n]||(Cy[n]=new WeakMap);var a=Cy[n],s=[],o=new Set,l=new Set(i),c=function(f){!f||o.has(f)||(o.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var p=h.getAttribute(r),m=p!==null&&p!=="false",g=(Au.get(h)||0)+1,b=(a.get(h)||0)+1;Au.set(h,g),a.set(h,b),s.push(h),g===1&&m&&ky.set(h,!0),b===1&&h.setAttribute(n,"true"),m||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(e),o.clear(),C1++,function(){s.forEach(function(f){var h=Au.get(f)-1,p=a.get(f)-1;Au.set(f,h),a.set(f,p),h||(ky.has(f)||f.removeAttribute(r),ky.delete(f)),p||f.removeAttribute(n)}),C1--,C1||(Au=new WeakMap,Au=new WeakMap,ky=new WeakMap,Cy={})}},aO=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=a_e(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),o_e(r,i,n,"aria-hidden")):function(){return null}},sO="Dialog",[J9,SWe]=ps(sO),[l_e,Na]=J9(sO),Q9=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:s=!0}=t,o=S.useRef(null),l=S.useRef(null),[c=!1,d]=Xs({prop:r,defaultProp:i,onChange:a});return u.jsx(l_e,{scope:e,triggerRef:o,contentRef:l,contentId:ga(),titleId:ga(),descriptionId:ga(),open:c,onOpenChange:d,onOpenToggle:S.useCallback(()=>d(f=>!f),[d]),modal:s,children:n})};Q9.displayName=sO;var eH="DialogTrigger",tH=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Na(eH,n),a=it(e,i.triggerRef);return u.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":cO(i.open),...r,ref:a,onClick:pe(t.onClick,i.onOpenToggle)})});tH.displayName=eH;var oO="DialogPortal",[c_e,nH]=J9(oO,{forceMount:void 0}),rH=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=Na(oO,e);return u.jsx(c_e,{scope:e,forceMount:n,children:S.Children.map(r,s=>u.jsx(pr,{present:n||a.open,children:u.jsx(Zm,{asChild:!0,container:i,children:s})}))})};rH.displayName=oO;var v0="DialogOverlay",iH=S.forwardRef((t,e)=>{const n=nH(v0,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=Na(v0,t.__scopeDialog);return a.modal?u.jsx(pr,{present:r||a.open,children:u.jsx(u_e,{...i,ref:e})}):null});iH.displayName=v0;var u_e=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Na(v0,n);return u.jsx(Hb,{as:dl,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx($e.div,{"data-state":cO(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Uc="DialogContent",aH=S.forwardRef((t,e)=>{const n=nH(Uc,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=Na(Uc,t.__scopeDialog);return u.jsx(pr,{present:r||a.open,children:a.modal?u.jsx(d_e,{...i,ref:e}):u.jsx(f_e,{...i,ref:e})})});aH.displayName=Uc;var d_e=S.forwardRef((t,e)=>{const n=Na(Uc,t.__scopeDialog),r=S.useRef(null),i=it(e,n.contentRef,r);return S.useEffect(()=>{const a=r.current;if(a)return aO(a)},[]),u.jsx(sH,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(t.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:pe(t.onPointerDownOutside,a=>{const s=a.detail.originalEvent,o=s.button===0&&s.ctrlKey===!0;(s.button===2||o)&&a.preventDefault()}),onFocusOutside:pe(t.onFocusOutside,a=>a.preventDefault())})}),f_e=S.forwardRef((t,e)=>{const n=Na(Uc,t.__scopeDialog),r=S.useRef(!1),i=S.useRef(!1);return u.jsx(sH,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,o;(s=t.onCloseAutoFocus)==null||s.call(t,a),a.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),sH=S.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=t,o=Na(Uc,n),l=S.useRef(null),c=it(e,l);return iO(),u.jsxs(u.Fragment,{children:[u.jsx(zb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:u.jsx(Cf,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":cO(o.open),...s,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(h_e,{titleId:o.titleId}),u.jsx(m_e,{contentRef:l,descriptionId:o.descriptionId})]})]})}),lO="DialogTitle",oH=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Na(lO,n);return u.jsx($e.h2,{id:i.titleId,...r,ref:e})});oH.displayName=lO;var lH="DialogDescription",cH=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Na(lH,n);return u.jsx($e.p,{id:i.descriptionId,...r,ref:e})});cH.displayName=lH;var uH="DialogClose",dH=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Na(uH,n);return u.jsx($e.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,()=>i.onOpenChange(!1))})});dH.displayName=uH;function cO(t){return t?"open":"closed"}var fH="DialogTitleWarning",[EWe,hH]=DQ(fH,{contentName:Uc,titleName:lO,docsSlug:"dialog"}),h_e=({titleId:t})=>{const e=hH(fH),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},p_e="DialogDescriptionWarning",m_e=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${hH(p_e).contentName}}.`;return S.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},g_e=Q9,y_e=tH,v_e=rH,pH=iH,mH=aH,gH=oH,yH=cH,x_e=dH;const ai=g_e,b_e=y_e,w_e=v_e,vH=S.forwardRef(({className:t,...e},n)=>u.jsx(pH,{ref:n,className:je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));vH.displayName=pH.displayName;const Mr=S.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(w_e,{children:[u.jsx(vH,{}),u.jsxs(mH,{ref:r,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(x_e,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(tg,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Mr.displayName=mH.displayName;const Dr=({className:t,...e})=>u.jsx("div",{className:je("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Dr.displayName="DialogHeader";const xH=({className:t,...e})=>u.jsx("div",{className:je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});xH.displayName="DialogFooter";const Lr=S.forwardRef(({className:t,...e},n)=>u.jsx(gH,{ref:n,className:je("text-lg font-semibold leading-none tracking-tight",t),...e}));Lr.displayName=gH.displayName;const uO=S.forwardRef(({className:t,...e},n)=>u.jsx(yH,{ref:n,className:je("text-sm text-muted-foreground",t),...e}));uO.displayName=yH.displayName;const iu=S.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:je("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));iu.displayName="Textarea";var __e="Label",bH=S.forwardRef((t,e)=>u.jsx($e.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));bH.displayName=__e;var wH=bH;const S_e=Qm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ge=S.forwardRef(({className:t,...e},n)=>u.jsx(wH,{ref:n,className:je(S_e(),t),...e}));Ge.displayName=wH.displayName;const sa=S.forwardRef(({label:t,id:e,type:n="text",placeholder:r,value:i,onChange:a,error:s,success:o,required:l,className:c},d)=>{const[f,h]=S.useState(!1),[p,m]=S.useState(!1);S.useEffect(()=>{m(i.length>0)},[i]);const g=y=>{a(y.target.value)},b=()=>s?u.jsx(EI,{className:"w-4 h-4 text-destructive"}):o&&p?u.jsx(ma,{className:"w-4 h-4 text-green-500"}):l&&!p?u.jsx(Wv,{className:"w-4 h-4 text-muted-foreground/50"}):null,x=je("peer w-full px-4 py-3 border rounded-lg transition-all duration-300","focus:ring-2 focus:ring-primary/20 focus:border-primary","placeholder-transparent",s?"border-destructive focus:border-destructive focus:ring-destructive/20":o&&p?"border-green-500 focus:border-green-500 focus:ring-green-500/20":"border-border hover:border-primary/50",c),v=je("absolute left-4 transition-all duration-300 pointer-events-none","text-muted-foreground",f||p?"-top-2 text-xs bg-background px-1 text-primary":"top-3 text-sm");return u.jsxs("div",{className:"relative space-y-1",children:[u.jsxs("div",{className:"relative",children:[n==="textarea"?u.jsx(iu,{ref:d,id:e,placeholder:r,value:i,onChange:g,onFocus:()=>h(!0),onBlur:()=>h(!1),className:x,required:l,rows:4}):u.jsx(Ut,{ref:d,id:e,type:n,placeholder:r,value:i,onChange:g,onFocus:()=>h(!0),onBlur:()=>h(!1),className:x,required:l}),u.jsxs(Ge,{htmlFor:e,className:v,children:[t," ",l&&u.jsx("span",{className:"text-destructive",children:"*"})]}),(s||o||l)&&u.jsx("div",{className:"absolute right-3 top-3 transition-all duration-300",children:b()})]}),s&&u.jsxs("p",{className:"text-sm text-destructive flex items-center gap-2 animate-fade-in",children:[u.jsx(EI,{className:"w-3 h-3"}),s]}),o&&p&&!s&&u.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-2 animate-fade-in",children:[u.jsx(ma,{className:"w-3 h-3"}),"Looks good!"]})]})});sa.displayName="FormField";const Us=S.forwardRef(({className:t,children:e,rippleColor:n="rgba(255, 255, 255, 0.6)",onClick:r,...i},a)=>{const[s,o]=S.useState([]),l=d=>{const h=d.currentTarget.getBoundingClientRect(),p=Math.max(h.width,h.height),m=d.clientX-h.left-p/2,g=d.clientY-h.top-p/2,b={id:Date.now(),x:m,y:g};o(x=>[...x,b]),setTimeout(()=>{o(x=>x.filter(v=>v.id!==b.id))},600)},c=d=>{l(d),r==null||r(d)};return u.jsxs(se,{ref:a,className:je("relative overflow-hidden",t),onClick:c,...i,children:[e,s.map(d=>u.jsx("span",{className:"absolute rounded-full animate-ripple pointer-events-none",style:{left:d.x,top:d.y,width:"100px",height:"100px",backgroundColor:n,transform:"scale(0)",animation:"ripple 0.6s linear"}},d.id))]})});Us.displayName="RippleButton";const x0=({children:t,className:e,direction:n="up",delay:r=0,threshold:i=.1})=>{const[a,s]=S.useState(!1),o=S.useRef(null);S.useEffect(()=>{const c=new IntersectionObserver(([d])=>{d.isIntersecting&&setTimeout(()=>s(!0),r)},{threshold:i});return o.current&&c.observe(o.current),()=>c.disconnect()},[r,i]);const l={up:"translate-y-8",down:"-translate-y-8",left:"translate-x-8",right:"-translate-x-8"};return u.jsx("div",{ref:o,className:je("transition-all duration-700 ease-out",a?"opacity-100 translate-x-0 translate-y-0":`opacity-0 ${l[n]}`,e),children:t})},Ar=({children:t,className:e,delay:n=0})=>u.jsx(x0,{direction:"up",delay:n,className:e,children:t});var E_e="Separator",QR="horizontal",j_e=["horizontal","vertical"],_H=S.forwardRef((t,e)=>{const{decorative:n,orientation:r=QR,...i}=t,a=A_e(r)?r:QR,o=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return u.jsx($e.div,{"data-orientation":a,...o,...i,ref:e})});_H.displayName=E_e;function A_e(t){return j_e.includes(t)}var SH=_H;const dO=S.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>u.jsx(SH,{ref:i,decorative:n,orientation:e,className:je("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));dO.displayName=SH.displayName;const T_e=({open:t,onOpenChange:e,defaultMode:n="signin"})=>{const[r,i]=S.useState(n);S.useState(!1);const[a,s]=S.useState(!1),[o,l]=S.useState({}),[c,d]=S.useState({}),{toast:f}=Vt(),{signIn:h,signUp:p,signInWithGoogle:m,resetPassword:g}=Un(),[b,x]=S.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),v=(k,O)=>{const L={...o},R={...c};switch(k){case"firstName":case"lastName":{r==="signup"&&(O.trim()?O.trim().length<2?(L[k]=`${k==="firstName"?"First":"Last"} name must be at least 2 characters`,R[k]=!1):(delete L[k],R[k]=!0):(L[k]=`${k==="firstName"?"First":"Last"} name is required`,R[k]=!1));break}case"email":{const F=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;O.trim()?F.test(O)?(delete L.email,R.email=!0):(L.email="Please enter a valid email address",R.email=!1):(L.email="Email is required",R.email=!1);break}case"password":{r!=="forgot"&&(O?O.length<8?(L.password="Password must be at least 8 characters",R.password=!1):/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(O)?(delete L.password,R.password=!0):(L.password="Password must contain uppercase, lowercase, and number",R.password=!1):(L.password="Password is required",R.password=!1));break}case"confirmPassword":{r==="signup"&&(O?O!==b.password?(L.confirmPassword="Passwords do not match",R.confirmPassword=!1):(delete L.confirmPassword,R.confirmPassword=!0):(L.confirmPassword="Please confirm your password",R.confirmPassword=!1));break}}return l(L),d(R),!L[k]},y=(k,O)=>{x(L=>({...L,[k]:O})),(O.trim()||k==="confirmPassword")&&v(k,O)},w=()=>{let k=!0;return r==="signup"&&(k=v("firstName",b.firstName)&&k,k=v("lastName",b.lastName)&&k,k=v("confirmPassword",b.confirmPassword)&&k),r!=="forgot"&&(k=v("password",b.password)&&k),k=v("email",b.email)&&k,k},_=async k=>{if(k.preventDefault(),!w()){f({title:"Please fix the errors above",variant:"destructive"});return}s(!0);try{if(r==="signup"){const O=`${b.firstName} ${b.lastName}`.trim();await p(b.email,b.password,O),e(!1)}else if(r==="signin")await h(b.email,b.password),e(!1);else if(r==="forgot")try{const{error:O}=await Pe.functions.invoke("send-reset-email",{body:{email:b.email,redirectTo:`${window.location.origin}/admit-ai-nexus/reset-password`}});if(O)throw O;f({title:"Password reset sent!",description:"Check your email for reset instructions."}),i("signin")}catch(O){console.error("Reset failed details:",O);let L=O.message;!L&&typeof O=="object"&&(L=JSON.stringify(O)),O&&O.context&&O.context.json&&O.context.json().then(R=>{console.log("Error body:",R)}).catch(()=>{}),f({title:"Request Failed",description:L||"Check console for details",variant:"destructive"})}}catch(O){console.error("Auth error:",O),f({title:"Authentication failed",description:O.message||"Please try again",variant:"destructive"})}finally{s(!1)}},E=async()=>{try{s(!0),await m(),e(!1)}catch(k){console.error("Google sign in error:",k),f({title:"Google sign in failed",description:k.message||"Please try again",variant:"destructive"})}finally{s(!1)}},A=()=>{x({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),l({}),d({})},j=k=>{i(k),A()},T=()=>{switch(r){case"signup":return"Create Account";case"forgot":return"Reset Password";default:return"Welcome Back"}},C=()=>{switch(r){case"signup":return"Join AdmitConnect AI and transform your admissions process";case"forgot":return"Enter your email to receive a password reset link";default:return"Sign in to access your AdmitConnect AI dashboard"}};return u.jsx(ai,{open:t,onOpenChange:e,children:u.jsxs(Mr,{className:"max-w-md bg-card/95 backdrop-blur-sm border-border/50",children:[u.jsxs(Dr,{children:[u.jsx("div",{className:"w-16 h-16 bg-ai-gradient rounded-2xl flex items-center justify-center mx-auto mb-4 animate-bounce-in",children:u.jsx(Zs,{className:"w-8 h-8 text-white"})}),u.jsx(Lr,{className:"text-2xl font-bold text-center",children:T()}),u.jsx(uO,{className:"text-center text-muted-foreground",children:C()})]}),u.jsxs(x0,{direction:"up",className:"space-y-6",children:[u.jsxs("form",{onSubmit:_,className:"space-y-4",children:[r==="signup"&&u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(sa,{label:"First Name",id:"firstName",type:"text",value:b.firstName,onChange:k=>y("firstName",k),placeholder:"John",error:o.firstName,success:c.firstName,required:!0}),u.jsx(sa,{label:"Last Name",id:"lastName",type:"text",value:b.lastName,onChange:k=>y("lastName",k),placeholder:"Doe",error:o.lastName,success:c.lastName,required:!0})]}),u.jsx(sa,{label:"Email Address",id:"email",type:"email",value:b.email,onChange:k=>y("email",k),placeholder:"john@college.edu",error:o.email,success:c.email,required:!0}),r!=="forgot"&&u.jsx(sa,{label:"Password",id:"password",type:"password",value:b.password,onChange:k=>y("password",k),placeholder:"",error:o.password,success:c.password,required:!0}),r==="signup"&&u.jsx(sa,{label:"Confirm Password",id:"confirmPassword",type:"password",value:b.confirmPassword,onChange:k=>y("confirmPassword",k),placeholder:"",error:o.confirmPassword,success:c.confirmPassword,required:!0}),u.jsx(Us,{type:"submit",variant:"hero",size:"lg",className:"w-full mt-6",disabled:a,children:a?u.jsxs(u.Fragment,{children:[u.jsx(El,{size:"sm",className:"mr-2"}),r==="signup"?"Creating Account...":r==="forgot"?"Sending Reset...":"Signing In..."]}):r==="signup"?"Create Account":r==="forgot"?"Send Reset Link":"Sign In"})]}),r!=="forgot"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx(dO,{className:"w-full"})}),u.jsx("div",{className:"relative flex justify-center text-xs",children:u.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),u.jsxs(Us,{variant:"outline",size:"lg",className:"w-full",onClick:E,disabled:a,rippleColor:"rgba(59, 130, 246, 0.3)",children:[u.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})]}),u.jsxs("div",{className:"space-y-2 text-center text-sm",children:[r==="signin"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>j("forgot"),className:"text-primary hover:underline block w-full",children:"Forgot your password?"}),u.jsx("button",{type:"button",onClick:()=>j("signup"),className:"text-muted-foreground hover:text-foreground hover:underline block w-full",children:"Don't have an account? Sign up"})]}),r==="signup"&&u.jsx("button",{type:"button",onClick:()=>j("signin"),className:"text-muted-foreground hover:text-foreground hover:underline block w-full",children:"Already have an account? Sign in"}),r==="forgot"&&u.jsx("button",{type:"button",onClick:()=>j("signin"),className:"text-muted-foreground hover:text-foreground hover:underline block w-full",children:"Back to sign in"})]}),r==="signup"&&u.jsxs("div",{className:"text-xs text-muted-foreground text-center space-y-1",children:[u.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[u.jsx(Wv,{className:"w-3 h-3"}),u.jsx("span",{children:"Password requirements:"})]}),u.jsxs("ul",{className:"space-y-1",children:[u.jsx("li",{children:" At least 8 characters long"}),u.jsx("li",{children:" Contains uppercase and lowercase letters"}),u.jsx("li",{children:" Contains at least one number"})]})]})]})]})})},fO=({onContactClick:t,onScheduleClick:e})=>{const[n,r]=S.useState(!1),[i,a]=S.useState(!1),[s,o]=S.useState("signin"),l=pi(),{user:c,signOut:d}=Un(),f=()=>{o("signin"),a(!0)},h=()=>{o("signup"),a(!0)},p=async()=>{try{await d(),l("/")}catch(m){console.error("Sign out error:",m)}};return u.jsxs("nav",{id:"navigation",className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border/50",role:"navigation","aria-label":"Main navigation",children:[u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer logo-hover",onClick:()=>l("/"),children:[u.jsx("img",{src:"/admit-ai-nexus/app-logo.png",alt:"AdmitConnect AI Logo",className:"w-16 h-16 object-contain rounded-lg"}),u.jsx("span",{className:"text-xl font-bold bg-ai-gradient bg-clip-text text-transparent logo-colorful",children:"AdmitConnect AI"})]}),u.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[u.jsx("button",{onClick:()=>{var m;window.location.pathname!=="/"?(l("/"),setTimeout(()=>{var g;(g=document.getElementById("features"))==null||g.scrollIntoView({behavior:"smooth"})},100)):(m=document.getElementById("features"))==null||m.scrollIntoView({behavior:"smooth"})},className:"text-muted-foreground hover:text-foreground transition-colors",children:"Features"}),u.jsx("button",{onClick:()=>{var m;window.location.pathname!=="/"?(l("/"),setTimeout(()=>{var g;(g=document.getElementById("pricing"))==null||g.scrollIntoView({behavior:"smooth"})},100)):(m=document.getElementById("pricing"))==null||m.scrollIntoView({behavior:"smooth"})},className:"text-muted-foreground hover:text-foreground transition-colors",children:"Pricing"}),u.jsx("button",{onClick:()=>l("/about"),className:"text-muted-foreground hover:text-foreground transition-colors",children:"About"}),u.jsx("button",{onClick:()=>l("/our-services"),className:"text-muted-foreground hover:text-foreground transition-colors",children:"Services"}),c?u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(se,{variant:"outline",onClick:()=>l("/dashboard"),className:"hover-lift",children:"Dashboard"}),u.jsx(se,{variant:"ghost",onClick:p,className:"hover-lift",children:"Sign Out"})]}):u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(se,{variant:"outline",onClick:f,className:"hover-lift",children:"Sign In"}),u.jsx(se,{variant:"hero",onClick:h,className:"hover-lift",children:"Get Started"})]})]}),u.jsx("div",{className:"md:hidden",children:u.jsx(se,{variant:"ghost",size:"icon",onClick:()=>r(!n),children:n?u.jsx(tg,{className:"w-5 h-5"}):u.jsx(Ree,{className:"w-5 h-5"})})})]}),n&&u.jsx("div",{className:"md:hidden pb-4 border-t border-border/50 mt-2",children:u.jsxs("div",{className:"flex flex-col space-y-3 pt-4",children:[u.jsx("button",{onClick:()=>{var m;(m=document.getElementById("features"))==null||m.scrollIntoView({behavior:"smooth"}),r(!1)},className:"text-muted-foreground hover:text-foreground transition-colors text-left",children:"Features"}),u.jsx("button",{onClick:()=>{var m;(m=document.getElementById("pricing"))==null||m.scrollIntoView({behavior:"smooth"}),r(!1)},className:"text-muted-foreground hover:text-foreground transition-colors text-left",children:"Pricing"}),u.jsx("button",{onClick:()=>{l("/about"),r(!1)},className:"text-muted-foreground hover:text-foreground transition-colors text-left",children:"About"}),u.jsx("button",{onClick:()=>{l("/our-services"),r(!1)},className:"text-muted-foreground hover:text-foreground transition-colors text-left",children:"Services"}),u.jsx("div",{className:"flex flex-col space-y-2 pt-2",children:c?u.jsxs(u.Fragment,{children:[u.jsx(se,{variant:"outline",onClick:()=>{l("/dashboard"),r(!1)},className:"w-full justify-center",children:"Dashboard"}),u.jsx(se,{variant:"ghost",onClick:()=>{p(),r(!1)},className:"w-full justify-center",children:"Sign Out"})]}):u.jsxs(u.Fragment,{children:[u.jsx(se,{variant:"outline",onClick:()=>{f(),r(!1)},className:"w-full justify-center",children:"Sign In"}),u.jsx(se,{variant:"hero",onClick:()=>{h(),r(!1)},className:"w-full justify-center",children:"Get Started"})]})})]})})]}),u.jsx(T_e,{open:i,onOpenChange:a,defaultMode:s})]})},EH=()=>u.jsx("footer",{className:"bg-card/50 border-t border-border/50 py-12",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-10 h-10 bg-ai-gradient rounded-lg flex items-center justify-center",children:u.jsx(Zs,{className:"w-6 h-6 text-white"})}),u.jsx("span",{className:"text-xl font-bold bg-ai-gradient bg-clip-text text-transparent",children:"AdmitConnect AI"})]}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"Revolutionizing college admissions through AI-powered automation and intelligent campaign management."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"font-semibold text-lg",children:"Quick Links"}),u.jsxs("div",{className:"flex flex-col space-y-2",children:[u.jsx(ep,{to:"/",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Home"}),u.jsx(ep,{to:"/about",className:"text-muted-foreground hover:text-foreground transition-colors",children:"About"}),u.jsx(ep,{to:"/our-services",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Services"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"font-semibold text-lg",children:"Get in Touch"}),u.jsxs("div",{className:"flex flex-col space-y-3",children:[u.jsxs("a",{href:"https://mail.google.com/mail/?view=cm&fs=1&to=admitconnectAI@gmail.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-muted-foreground hover:text-foreground transition-colors group",children:[u.jsx(ni,{className:"w-5 h-5 group-hover:text-primary transition-colors"}),u.jsx("span",{className:"text-sm",children:"admitconnectAI@gmail.com"})]}),u.jsxs("a",{href:"https://wa.me/918439663198",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-muted-foreground hover:text-foreground transition-colors group",children:[u.jsx(qv,{className:"w-5 h-5 group-hover:text-primary transition-colors"}),u.jsx("span",{className:"text-sm",children:"+91 8439663198"})]})]}),u.jsxs("div",{className:"flex space-x-3 pt-2",children:[u.jsx(se,{size:"sm",variant:"outline",asChild:!0,className:"hover-lift",children:u.jsxs("a",{href:"https://mail.google.com/mail/?view=cm&fs=1&to=admitconnectAI@gmail.com",target:"_blank",rel:"noopener noreferrer",children:[u.jsx(ni,{className:"w-4 h-4 mr-2"}),"Email Us"]})}),u.jsx(se,{size:"sm",variant:"hero",asChild:!0,className:"hover-lift",children:u.jsxs("a",{href:"https://wa.me/918439663198",target:"_blank",rel:"noopener noreferrer",children:[u.jsx(qv,{className:"w-4 h-4 mr-2"}),"WhatsApp"]})})]})]})]}),u.jsx("div",{className:"mt-12 pt-8 border-t border-border/50 text-center",children:u.jsxs("p",{className:"text-muted-foreground text-sm",children:[" ",new Date().getFullYear()," AdmitConnect AI. All rights reserved."]})})]})}),k_e=({onWatchDemoClick:t,onScheduleDemoClick:e})=>{const n=pi(),{user:r}=Un(),i=()=>{n(r?"/dashboard":"/auth")},a=[{icon:Ta,title:"AI Voice Calls",description:"Natural, human-like voice conversations with candidates"},{icon:ci,title:"WhatsApp Automation",description:"Personalized messages with delivery tracking"},{icon:fl,title:"Analytics Dashboard",description:"Real-time campaign performance and insights"},{icon:AB,title:"Enterprise Security",description:"Bank-level security with IP monitoring"},{icon:Fr,title:"Lightning Fast",description:"Process thousands of candidates in minutes"},{icon:Zs,title:"AI-Powered",description:"Advanced AI handles conversations automatically"}];return u.jsxs("div",{className:"min-h-screen pt-16 hero-black hero-rainbow-hover",children:[u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:u.jsxs("div",{className:"text-center space-y-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-primary/10 border border-primary/20 mb-4",children:[u.jsx(Zx,{className:"w-4 h-4 mr-2 text-primary"}),u.jsx("span",{className:"text-sm text-primary font-medium",children:"AI-Powered Admission Automation"})]}),u.jsxs("h1",{className:"text-4xl sm:text-6xl lg:text-7xl font-bold leading-tight",children:[u.jsx("span",{className:"block text-foreground",children:"Revolutionize"}),u.jsx("span",{className:"block bg-ai-gradient bg-clip-text text-transparent logo-colorful",children:"College Admissions"}),u.jsx("span",{className:"block text-foreground",children:"with AI"})]}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"Automate voice calls, WhatsApp messaging, and candidate outreach with our intelligent AI system. Increase enrollment rates by 300% while reducing manual work by 90%."})]}),u.jsx(Ar,{delay:300,children:u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[u.jsxs(Us,{variant:"hero",size:"lg",onClick:i,className:"px-8 py-4 text-lg hover-lift animate-bounce-in",children:["Start Free Trial",u.jsx(Ld,{className:"w-5 h-5 ml-2"})]}),u.jsx(Us,{variant:"outline",size:"lg",onClick:t,className:"px-8 py-4 text-lg hover-lift",rippleColor:"rgba(59, 130, 246, 0.5)",children:"Watch Demo"})]})}),u.jsx(x0,{direction:"up",delay:500,children:u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-8 mt-16 pt-16 border-t border-border/50",children:[u.jsx(Ar,{delay:100,children:u.jsxs("div",{className:"text-center hover:scale-105 transition-transform duration-300",children:[u.jsx("div",{className:"text-3xl sm:text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent logo-colorful animate-text-focus",children:"10,000+"}),u.jsx("p",{className:"text-muted-foreground mt-2",children:"Students Contacted Daily"})]})}),u.jsx(Ar,{delay:200,children:u.jsxs("div",{className:"text-center hover:scale-105 transition-transform duration-300",children:[u.jsx("div",{className:"text-3xl sm:text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent logo-colorful animate-text-focus",children:"300%"}),u.jsx("p",{className:"text-muted-foreground mt-2",children:"Increase in Enrollment"})]})}),u.jsx(Ar,{delay:300,children:u.jsxs("div",{className:"text-center hover:scale-105 transition-transform duration-300",children:[u.jsx("div",{className:"text-3xl sm:text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent logo-colorful animate-text-focus",children:"90%"}),u.jsx("p",{className:"text-muted-foreground mt-2",children:"Reduction in Manual Work"})]})})]})})]})}),u.jsx("div",{className:"py-20 bg-ai-gradient-subtle",id:"features",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center space-y-4 mb-16",children:[u.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-foreground",children:"Powerful Features for Modern Admissions"}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Everything you need to transform your admission process and connect with students effectively"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map((s,o)=>{const l=s.icon;return u.jsx(x0,{direction:"up",delay:o*100,className:"group h-full",children:u.jsx(ne,{className:"relative p-6 bg-card/50 backdrop-blur-sm border-border/50 hover-lift glow-border shine-effect h-full flex flex-col overflow-hidden transition-all duration-500 before:absolute before:inset-0 before:bg-ai-gradient-glow before:opacity-0 before:transition-opacity before:duration-500 hover:before:opacity-100 hover:shadow-glow",children:u.jsxs("div",{className:"space-y-4 flex-1 flex flex-col relative z-10",children:[u.jsxs("div",{className:"relative w-14 h-14 bg-ai-gradient-shine rounded-xl flex items-center justify-center group-hover:rotate-12 group-hover:scale-110 transition-all duration-500 shadow-glow",children:[u.jsx("div",{className:"absolute inset-0 bg-ai-gradient-shine rounded-xl opacity-0 group-hover:opacity-100 blur-xl transition-opacity duration-500"}),u.jsx(l,{className:"w-7 h-7 text-white relative z-10 group-hover:drop-shadow-[0_0_8px_rgba(255,255,255,0.8)] transition-all duration-500"})]}),u.jsx("h3",{className:"text-xl font-semibold text-card-foreground group-hover:text-primary-glow transition-colors duration-300 group-hover:drop-shadow-[0_0_12px_rgba(59,130,246,0.6)]",children:s.title}),u.jsx("p",{className:"text-muted-foreground flex-1 group-hover:text-foreground/90 transition-colors duration-300",children:s.description})]})})},o)})}),u.jsx(Ar,{delay:400,children:u.jsx("div",{className:"text-center mt-16",children:u.jsxs(Us,{variant:"hero",size:"lg",onClick:e,className:"hover-lift pulse",children:["Schedule Demo",u.jsx(Ld,{className:"w-5 h-5 ml-2"})]})})})]})})]})},C_e=({onContactClick:t,onScheduleClick:e})=>{pi();const n=[{name:"Starter",price:"$29",period:"/month",description:"Perfect for small colleges and testing",icon:Ek,features:["500 voice calls/month","1,000 WhatsApp messages","Basic analytics dashboard","Email support","2 campaign templates","CSV upload"],buttonVariant:"outline",popular:!1},{name:"Professional",price:"$99",period:"/month",description:"For growing institutions",icon:Mee,features:["2,500 voice calls/month","5,000 WhatsApp messages","Advanced analytics & reports","Priority support","Unlimited campaign templates","CSV & Excel upload","Custom voice training","A/B testing"],buttonVariant:"hero",popular:!0},{name:"Enterprise",price:"$299",period:"/month",description:"For large institutions and universities",icon:EB,features:["10,000+ voice calls/month","20,000+ WhatsApp messages","Custom analytics dashboard","24/7 phone support","White-label solution","API access","Dedicated account manager","Custom integrations","Multi-language support"],buttonVariant:"premium",popular:!1}];return u.jsx("div",{className:"py-20 bg-background",id:"pricing",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center space-y-4 mb-16",children:[u.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-foreground",children:"Choose Your Perfect Plan"}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Scale your admission automation with transparent pricing that grows with your institution"})]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:n.map((r,i)=>{const a=r.icon;return u.jsxs(ne,{className:`relative p-8 bg-card/50 backdrop-blur-sm border-border/50 hover-lift ${r.popular?"popular-glow glow-border":""}`,children:[r.popular&&u.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:u.jsx("div",{className:"bg-ai-gradient text-white px-4 py-1 rounded-full text-sm font-medium",children:"Most Popular"})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("div",{className:"w-12 h-12 bg-ai-gradient rounded-lg flex items-center justify-center mx-auto",children:u.jsx(a,{className:"w-6 h-6 text-white"})}),u.jsx("h3",{className:"text-2xl font-bold text-card-foreground",children:r.name}),u.jsx("p",{className:"text-muted-foreground",children:r.description})]}),u.jsx("div",{className:"text-center",children:u.jsxs("div",{className:"flex items-baseline justify-center",children:[u.jsx("span",{className:"text-5xl font-bold bg-ai-gradient bg-clip-text text-transparent logo-colorful",children:r.price}),u.jsx("span",{className:"text-muted-foreground ml-1",children:r.period})]})}),u.jsx("div",{className:"space-y-3",children:r.features.map((s,o)=>u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(Xx,{className:"w-5 h-5 text-primary flex-shrink-0"}),u.jsx("span",{className:"text-card-foreground",children:s})]},o))}),u.jsxs(se,{variant:r.buttonVariant,size:"lg",onClick:()=>window.open("https://rzp.io/rzp/DOVfKeU","_blank"),className:"w-full hover-lift",children:["Get Started with ",r.name]})]})]},i)})}),u.jsxs("div",{className:"text-center mt-16 p-8 bg-card/30 rounded-2xl border border-border/50",children:[u.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:"Need a Custom Solution?"}),u.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:"For enterprises with specific requirements, we offer custom solutions with dedicated support, advanced integrations, and tailored features."}),u.jsx(se,{variant:"outline",size:"lg",onClick:t,className:"hover-lift",children:"Contact Sales Team"})]})]})})};function jH(t){const e=S.useRef({value:t,previous:t});return S.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var O_e=[" ","Enter","ArrowUp","ArrowDown"],N_e=[" ","Enter"],bg="Select",[Vb,Wb,P_e]=Gx(bg),[Hf,jWe]=ps(bg,[P_e,If]),qb=If(),[I_e,Dl]=Hf(bg),[$_e,R_e]=Hf(bg),AH=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:s,defaultValue:o,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:p,form:m}=t,g=qb(e),[b,x]=S.useState(null),[v,y]=S.useState(null),[w,_]=S.useState(!1),E=xg(c),[A=!1,j]=Xs({prop:r,defaultProp:i,onChange:a}),[T,C]=Xs({prop:s,defaultProp:o,onChange:l}),k=S.useRef(null),O=b?m||!!b.closest("form"):!0,[L,R]=S.useState(new Set),F=Array.from(L).map(U=>U.props.value).join(";");return u.jsx(Mk,{...g,children:u.jsxs(I_e,{required:p,scope:e,trigger:b,onTriggerChange:x,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:w,onValueNodeHasChildrenChange:_,contentId:ga(),value:T,onValueChange:C,open:A,onOpenChange:j,dir:E,triggerPointerDownPosRef:k,disabled:h,children:[u.jsx(Vb.Provider,{scope:e,children:u.jsx($_e,{scope:t.__scopeSelect,onNativeOptionAdd:S.useCallback(U=>{R(V=>new Set(V).add(U))},[]),onNativeOptionRemove:S.useCallback(U=>{R(V=>{const D=new Set(V);return D.delete(U),D})},[]),children:n})}),O?u.jsxs(ZH,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:T,onChange:U=>C(U.target.value),disabled:h,form:m,children:[T===void 0?u.jsx("option",{value:""}):null,Array.from(L)]},F):null]})})};AH.displayName=bg;var TH="SelectTrigger",kH=S.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=qb(n),s=Dl(TH,n),o=s.disabled||r,l=it(e,s.onTriggerChange),c=Wb(n),d=S.useRef("touch"),[f,h,p]=JH(g=>{const b=c().filter(y=>!y.disabled),x=b.find(y=>y.value===s.value),v=QH(b,g,x);v!==void 0&&s.onValueChange(v.value)}),m=g=>{o||(s.onOpenChange(!0),p()),g&&(s.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return u.jsx(Dk,{asChild:!0,...a,children:u.jsx($e.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":XH(s.value)?"":void 0,...i,ref:l,onClick:pe(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&m(g)}),onPointerDown:pe(i.onPointerDown,g=>{d.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(m(g),g.preventDefault())}),onKeyDown:pe(i.onKeyDown,g=>{const b=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(b&&g.key===" ")&&O_e.includes(g.key)&&(m(),g.preventDefault())})})})});kH.displayName=TH;var CH="SelectValue",OH=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:s="",...o}=t,l=Dl(CH,n),{onValueNodeHasChildrenChange:c}=l,d=a!==void 0,f=it(e,l.onValueNodeChange);return An(()=>{c(d)},[c,d]),u.jsx($e.span,{...o,ref:f,style:{pointerEvents:"none"},children:XH(l.value)?u.jsx(u.Fragment,{children:s}):a})});OH.displayName=CH;var M_e="SelectIcon",NH=S.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return u.jsx($e.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});NH.displayName=M_e;var D_e="SelectPortal",PH=t=>u.jsx(Zm,{asChild:!0,...t});PH.displayName=D_e;var Hc="SelectContent",IH=S.forwardRef((t,e)=>{const n=Dl(Hc,t.__scopeSelect),[r,i]=S.useState();if(An(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Jc.createPortal(u.jsx($H,{scope:t.__scopeSelect,children:u.jsx(Vb.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),a):null}return u.jsx(RH,{...t,ref:e})});IH.displayName=Hc;var Xi=10,[$H,Ll]=Hf(Hc),L_e="SelectContentImpl",RH=S.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:b,...x}=t,v=Dl(Hc,n),[y,w]=S.useState(null),[_,E]=S.useState(null),A=it(e,N=>w(N)),[j,T]=S.useState(null),[C,k]=S.useState(null),O=Wb(n),[L,R]=S.useState(!1),F=S.useRef(!1);S.useEffect(()=>{if(y)return aO(y)},[y]),iO();const U=S.useCallback(N=>{const[K,...z]=O().map(Y=>Y.ref.current),[Z]=z.slice(-1),J=document.activeElement;for(const Y of N)if(Y===J||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===K&&_&&(_.scrollTop=0),Y===Z&&_&&(_.scrollTop=_.scrollHeight),Y==null||Y.focus(),document.activeElement!==J))return},[O,_]),V=S.useCallback(()=>U([j,y]),[U,j,y]);S.useEffect(()=>{L&&V()},[L,V]);const{onOpenChange:D,triggerPointerDownPosRef:B}=v;S.useEffect(()=>{if(y){let N={x:0,y:0};const K=Z=>{var J,Y;N={x:Math.abs(Math.round(Z.pageX)-(((J=B.current)==null?void 0:J.x)??0)),y:Math.abs(Math.round(Z.pageY)-(((Y=B.current)==null?void 0:Y.y)??0))}},z=Z=>{N.x<=10&&N.y<=10?Z.preventDefault():y.contains(Z.target)||D(!1),document.removeEventListener("pointermove",K),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",K),document.addEventListener("pointerup",z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",z,{capture:!0})}}},[y,D,B]),S.useEffect(()=>{const N=()=>D(!1);return window.addEventListener("blur",N),window.addEventListener("resize",N),()=>{window.removeEventListener("blur",N),window.removeEventListener("resize",N)}},[D]);const[P,W]=JH(N=>{const K=O().filter(J=>!J.disabled),z=K.find(J=>J.ref.current===document.activeElement),Z=QH(K,N,z);Z&&setTimeout(()=>Z.ref.current.focus())}),G=S.useCallback((N,K,z)=>{const Z=!F.current&&!z;(v.value!==void 0&&v.value===K||Z)&&(T(N),Z&&(F.current=!0))},[v.value]),$=S.useCallback(()=>y==null?void 0:y.focus(),[y]),ee=S.useCallback((N,K,z)=>{const Z=!F.current&&!z;(v.value!==void 0&&v.value===K||Z)&&k(N)},[v.value]),ie=r==="popper"?Oj:MH,I=ie===Oj?{side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:b}:{};return u.jsx($H,{scope:n,content:y,viewport:_,onViewportChange:E,itemRefCallback:G,selectedItem:j,onItemLeave:$,itemTextRefCallback:ee,focusSelectedItem:V,selectedItemText:C,position:r,isPositioned:L,searchRef:P,children:u.jsx(Hb,{as:dl,allowPinchZoom:!0,children:u.jsx(zb,{asChild:!0,trapped:v.open,onMountAutoFocus:N=>{N.preventDefault()},onUnmountAutoFocus:pe(i,N=>{var K;(K=v.trigger)==null||K.focus({preventScroll:!0}),N.preventDefault()}),children:u.jsx(Cf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:N=>N.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:u.jsx(ie,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:N=>N.preventDefault(),...x,...I,onPlaced:()=>R(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:pe(x.onKeyDown,N=>{const K=N.ctrlKey||N.altKey||N.metaKey;if(N.key==="Tab"&&N.preventDefault(),!K&&N.key.length===1&&W(N.key),["ArrowUp","ArrowDown","Home","End"].includes(N.key)){let Z=O().filter(J=>!J.disabled).map(J=>J.ref.current);if(["ArrowUp","End"].includes(N.key)&&(Z=Z.slice().reverse()),["ArrowUp","ArrowDown"].includes(N.key)){const J=N.target,Y=Z.indexOf(J);Z=Z.slice(Y+1)}setTimeout(()=>U(Z)),N.preventDefault()}})})})})})})});RH.displayName=L_e;var F_e="SelectItemAlignedPosition",MH=S.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=Dl(Hc,n),s=Ll(Hc,n),[o,l]=S.useState(null),[c,d]=S.useState(null),f=it(e,A=>d(A)),h=Wb(n),p=S.useRef(!1),m=S.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:x,focusSelectedItem:v}=s,y=S.useCallback(()=>{if(a.trigger&&a.valueNode&&o&&c&&g&&b&&x){const A=a.trigger.getBoundingClientRect(),j=c.getBoundingClientRect(),T=a.valueNode.getBoundingClientRect(),C=x.getBoundingClientRect();if(a.dir!=="rtl"){const J=C.left-j.left,Y=T.left-J,me=A.left-Y,le=A.width+me,ve=Math.max(le,j.width),oe=window.innerWidth-Xi,Be=kj(Y,[Xi,Math.max(Xi,oe-ve)]);o.style.minWidth=le+"px",o.style.left=Be+"px"}else{const J=j.right-C.right,Y=window.innerWidth-T.right-J,me=window.innerWidth-A.right-Y,le=A.width+me,ve=Math.max(le,j.width),oe=window.innerWidth-Xi,Be=kj(Y,[Xi,Math.max(Xi,oe-ve)]);o.style.minWidth=le+"px",o.style.right=Be+"px"}const k=h(),O=window.innerHeight-Xi*2,L=g.scrollHeight,R=window.getComputedStyle(c),F=parseInt(R.borderTopWidth,10),U=parseInt(R.paddingTop,10),V=parseInt(R.borderBottomWidth,10),D=parseInt(R.paddingBottom,10),B=F+U+L+D+V,P=Math.min(b.offsetHeight*5,B),W=window.getComputedStyle(g),G=parseInt(W.paddingTop,10),$=parseInt(W.paddingBottom,10),ee=A.top+A.height/2-Xi,ie=O-ee,I=b.offsetHeight/2,N=b.offsetTop+I,K=F+U+N,z=B-K;if(K<=ee){const J=k.length>0&&b===k[k.length-1].ref.current;o.style.bottom="0px";const Y=c.clientHeight-g.offsetTop-g.offsetHeight,me=Math.max(ie,I+(J?$:0)+Y+V),le=K+me;o.style.height=le+"px"}else{const J=k.length>0&&b===k[0].ref.current;o.style.top="0px";const me=Math.max(ee,F+g.offsetTop+(J?G:0)+I)+z;o.style.height=me+"px",g.scrollTop=K-ee+g.offsetTop}o.style.margin=`${Xi}px 0`,o.style.minHeight=P+"px",o.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,o,c,g,b,x,a.dir,r]);An(()=>y(),[y]);const[w,_]=S.useState();An(()=>{c&&_(window.getComputedStyle(c).zIndex)},[c]);const E=S.useCallback(A=>{A&&m.current===!0&&(y(),v==null||v(),m.current=!1)},[y,v]);return u.jsx(z_e,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:E,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:u.jsx($e.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});MH.displayName=F_e;var B_e="SelectPopperPosition",Oj=S.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Xi,...a}=t,s=qb(n);return u.jsx(Lk,{...s,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Oj.displayName=B_e;var[z_e,hO]=Hf(Hc,{}),Nj="SelectViewport",DH=S.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=Ll(Nj,n),s=hO(Nj,n),o=it(e,a.onViewportChange),l=S.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(Vb.Slot,{scope:n,children:u.jsx($e.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:pe(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=s;if(h!=null&&h.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const m=window.innerHeight-Xi*2,g=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),x=Math.max(g,b);if(x<m){const v=x+p,y=Math.min(m,v),w=v-y;f.style.height=y+"px",f.style.bottom==="0px"&&(d.scrollTop=w>0?w:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});DH.displayName=Nj;var LH="SelectGroup",[U_e,H_e]=Hf(LH),V_e=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ga();return u.jsx(U_e,{scope:n,id:i,children:u.jsx($e.div,{role:"group","aria-labelledby":i,...r,ref:e})})});V_e.displayName=LH;var FH="SelectLabel",BH=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=H_e(FH,n);return u.jsx($e.div,{id:i.id,...r,ref:e})});BH.displayName=FH;var b0="SelectItem",[W_e,zH]=Hf(b0),UH=S.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...s}=t,o=Dl(b0,n),l=Ll(b0,n),c=o.value===r,[d,f]=S.useState(a??""),[h,p]=S.useState(!1),m=it(e,v=>{var y;return(y=l.itemRefCallback)==null?void 0:y.call(l,v,r,i)}),g=ga(),b=S.useRef("touch"),x=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(W_e,{scope:n,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:S.useCallback(v=>{f(y=>y||((v==null?void 0:v.textContent)??"").trim())},[]),children:u.jsx(Vb.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:u.jsx($e.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:m,onFocus:pe(s.onFocus,()=>p(!0)),onBlur:pe(s.onBlur,()=>p(!1)),onClick:pe(s.onClick,()=>{b.current!=="mouse"&&x()}),onPointerUp:pe(s.onPointerUp,()=>{b.current==="mouse"&&x()}),onPointerDown:pe(s.onPointerDown,v=>{b.current=v.pointerType}),onPointerMove:pe(s.onPointerMove,v=>{var y;b.current=v.pointerType,i?(y=l.onItemLeave)==null||y.call(l):b.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(s.onPointerLeave,v=>{var y;v.currentTarget===document.activeElement&&((y=l.onItemLeave)==null||y.call(l))}),onKeyDown:pe(s.onKeyDown,v=>{var w;((w=l.searchRef)==null?void 0:w.current)!==""&&v.key===" "||(N_e.includes(v.key)&&x(),v.key===" "&&v.preventDefault())})})})})});UH.displayName=b0;var Uh="SelectItemText",HH=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,s=Dl(Uh,n),o=Ll(Uh,n),l=zH(Uh,n),c=R_e(Uh,n),[d,f]=S.useState(null),h=it(e,x=>f(x),l.onItemTextChange,x=>{var v;return(v=o.itemTextRefCallback)==null?void 0:v.call(o,x,l.value,l.disabled)}),p=d==null?void 0:d.textContent,m=S.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=c;return An(()=>(g(m),()=>b(m)),[g,b,m]),u.jsxs(u.Fragment,{children:[u.jsx($e.span,{id:l.textId,...a,ref:h}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Jc.createPortal(a.children,s.valueNode):null]})});HH.displayName=Uh;var VH="SelectItemIndicator",WH=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return zH(VH,n).isSelected?u.jsx($e.span,{"aria-hidden":!0,...r,ref:e}):null});WH.displayName=VH;var Pj="SelectScrollUpButton",qH=S.forwardRef((t,e)=>{const n=Ll(Pj,t.__scopeSelect),r=hO(Pj,t.__scopeSelect),[i,a]=S.useState(!1),s=it(e,r.onScrollButtonChange);return An(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=l.scrollTop>0;a(c)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?u.jsx(KH,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});qH.displayName=Pj;var Ij="SelectScrollDownButton",GH=S.forwardRef((t,e)=>{const n=Ll(Ij,t.__scopeSelect),r=hO(Ij,t.__scopeSelect),[i,a]=S.useState(!1),s=it(e,r.onScrollButtonChange);return An(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;a(d)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?u.jsx(KH,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});GH.displayName=Ij;var KH=S.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=Ll("SelectScrollButton",n),s=S.useRef(null),o=Wb(n),l=S.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return S.useEffect(()=>()=>l(),[l]),An(()=>{var d;const c=o().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),u.jsx($e.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:pe(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:pe(i.onPointerMove,()=>{var c;(c=a.onItemLeave)==null||c.call(a),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:pe(i.onPointerLeave,()=>{l()})})}),q_e="SelectSeparator",YH=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx($e.div,{"aria-hidden":!0,...r,ref:e})});YH.displayName=q_e;var $j="SelectArrow",G_e=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=qb(n),a=Dl($j,n),s=Ll($j,n);return a.open&&s.position==="popper"?u.jsx(Fk,{...i,...r,ref:e}):null});G_e.displayName=$j;function XH(t){return t===""||t===void 0}var ZH=S.forwardRef((t,e)=>{const{value:n,...r}=t,i=S.useRef(null),a=it(e,i),s=jH(n);return S.useEffect(()=>{const o=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&d){const f=new Event("change",{bubbles:!0});d.call(o,n),o.dispatchEvent(f)}},[s,n]),u.jsx(Jm,{asChild:!0,children:u.jsx("select",{...r,ref:a,defaultValue:n})})});ZH.displayName="BubbleSelect";function JH(t){const e=qt(t),n=S.useRef(""),r=S.useRef(0),i=S.useCallback(s=>{const o=n.current+s;e(o),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),a=S.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function QH(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let s=K_e(t,Math.max(a,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function K_e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Y_e=AH,eV=kH,X_e=OH,Z_e=NH,J_e=PH,tV=IH,Q_e=DH,nV=BH,rV=UH,e1e=HH,t1e=WH,iV=qH,aV=GH,sV=YH;const ua=Y_e,da=X_e,ki=S.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(eV,{ref:r,className:je("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(Z_e,{asChild:!0,children:u.jsx(SB,{className:"h-4 w-4 opacity-50"})})]}));ki.displayName=eV.displayName;const oV=S.forwardRef(({className:t,...e},n)=>u.jsx(iV,{ref:n,className:je("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(Aee,{className:"h-4 w-4"})}));oV.displayName=iV.displayName;const lV=S.forwardRef(({className:t,...e},n)=>u.jsx(aV,{ref:n,className:je("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(SB,{className:"h-4 w-4"})}));lV.displayName=aV.displayName;const Ci=S.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>u.jsx(J_e,{children:u.jsxs(tV,{ref:i,className:je("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(oV,{}),u.jsx(Q_e,{className:je("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(lV,{})]})}));Ci.displayName=tV.displayName;const n1e=S.forwardRef(({className:t,...e},n)=>u.jsx(nV,{ref:n,className:je("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));n1e.displayName=nV.displayName;const Bt=S.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(rV,{ref:r,className:je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(t1e,{children:u.jsx(Xx,{className:"h-4 w-4"})})}),u.jsx(e1e,{children:e})]}));Bt.displayName=rV.displayName;const r1e=S.forwardRef(({className:t,...e},n)=>u.jsx(sV,{ref:n,className:je("-mx-1 my-1 h-px bg-muted",t),...e}));r1e.displayName=sV.displayName;const Gb=({open:t,onOpenChange:e})=>{const[n,r]=S.useState(""),[i,a]=S.useState(""),[s,o]=S.useState(""),[l,c]=S.useState(""),[d,f]=S.useState(""),[h,p]=S.useState(""),[m,g]=S.useState(!1),{toast:b}=Vt(),x=["9:00 AM - 10:00 AM","10:00 AM - 11:00 AM","11:00 AM - 12:00 PM","2:00 PM - 3:00 PM","3:00 PM - 4:00 PM","4:00 PM - 5:00 PM"],v=async y=>{if(y.preventDefault(),!n||!i||!s||!d){b({title:"Please fill in all required fields",variant:"destructive"});return}g(!0);try{const{error:w}=await Pe.from("demo_requests").insert([{name:n,email:i,company:s,role:l,preferred_time:d,message:h}]);if(w)throw w;if(!(await fetch("https://formsubmit.co/ajax/admitconnectAI@gmail.com",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:n,email:i,company:s,role:l,preferred_time:d,message:h,_subject:`New Demo Request from ${n}`,_template:"table",_captcha:"false"})})).ok)throw new Error("Failed to send email");b({title:"Demo scheduled successfully!",description:"We'll send you a calendar invite shortly."}),r(""),a(""),o(""),c(""),f(""),p(""),e(!1)}catch(w){console.error("Error scheduling demo:",w),b({title:"Failed to schedule demo",description:"Please check your internet connection and try again.",variant:"destructive"})}finally{g(!1)}};return u.jsx(ai,{open:t,onOpenChange:e,children:u.jsxs(Mr,{className:"max-w-md",children:[u.jsx(Dr,{children:u.jsxs(Lr,{className:"flex items-center space-x-2",children:[u.jsx(Wp,{className:"w-5 h-5"}),u.jsx("span",{children:"Schedule Your Demo"})]})}),u.jsxs("form",{onSubmit:v,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"name",children:"Full Name *"}),u.jsx(Ut,{id:"name",value:n,onChange:y=>r(y.target.value),placeholder:"John Doe",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"email",children:"Email *"}),u.jsx(Ut,{id:"email",type:"email",value:i,onChange:y=>a(y.target.value),placeholder:"john@university.edu",required:!0})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"company",children:"Institution/Company *"}),u.jsx(Ut,{id:"company",value:s,onChange:y=>o(y.target.value),placeholder:"Harvard University",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"role",children:"Your Role"}),u.jsx(Ut,{id:"role",value:l,onChange:y=>c(y.target.value),placeholder:"Admissions Director"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"timeSlot",children:"Preferred Time *"}),u.jsxs(ua,{value:d,onValueChange:f,required:!0,children:[u.jsx(ki,{children:u.jsx(da,{placeholder:"Select a time slot"})}),u.jsx(Ci,{children:x.map(y=>u.jsx(Bt,{value:y,children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(hl,{className:"w-4 h-4"}),u.jsx("span",{children:y})]})},y))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"message",children:"Additional Notes"}),u.jsx(iu,{id:"message",value:h,onChange:y=>p(y.target.value),placeholder:"Tell us about your specific needs or questions...",rows:3})]}),u.jsx(se,{type:"submit",variant:"hero",disabled:m,className:"w-full hover-lift",children:m?"Scheduling...":"Schedule Demo"})]}),u.jsx("div",{className:"text-xs text-muted-foreground text-center",children:"Our team will send you a calendar invite within 1 hour. All times are in EST."})]})})},i1e=({open:t,onOpenChange:e})=>{const[n,r]=S.useState(!1),i=[{title:"Getting Started with AdmitConnect AI",description:"Learn how to set up your first campaign in under 5 minutes",thumbnail:"https://img.youtube.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",duration:"4:32",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{title:"AI Voice Call Demo",description:"See our AI making real admission calls to prospective students",thumbnail:"https://img.youtube.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",duration:"3:15",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{title:"WhatsApp Automation Walkthrough",description:"Complete guide to WhatsApp campaign setup and management",thumbnail:"https://img.youtube.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",duration:"6:45",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"}],a=s=>{window.open(s,"_blank")};return u.jsxs(ai,{open:t,onOpenChange:e,children:[u.jsxs(Mr,{className:"max-w-4xl",children:[u.jsx(Dr,{children:u.jsxs(Lr,{className:"flex items-center space-x-2",children:[u.jsx(Ls,{className:"w-5 h-5"}),u.jsx("span",{children:"Product Demos"})]})}),u.jsxs("div",{className:"space-y-6",children:[u.jsx(ne,{className:"p-6 bg-ai-gradient-subtle border-primary/20",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-6 items-center",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Ek,{className:"w-5 h-5 text-primary"}),u.jsx("span",{className:"text-sm font-medium text-primary",children:"Featured Demo"})]}),u.jsx("h3",{className:"text-2xl font-bold",children:"Complete Platform Overview"}),u.jsx("p",{className:"text-muted-foreground",children:"See how AdmitConnect AI transforms admission workflows with real-world examples and live demonstrations."}),u.jsx(se,{variant:"hero",onClick:()=>r(!0),className:"hover-lift",children:"Schedule Live Demo"})]}),u.jsx("div",{className:"relative",children:u.jsx("div",{className:"aspect-video bg-card rounded-lg flex items-center justify-center border",children:u.jsx(Ls,{className:"w-16 h-16 text-primary"})})})]})}),u.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:i.map((s,o)=>u.jsx(ne,{className:"p-4 hover-lift cursor-pointer h-full flex flex-col",onClick:()=>a(s.url),children:u.jsxs("div",{className:"space-y-3 flex flex-col h-full",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"aspect-video bg-muted rounded-lg flex items-center justify-center",children:u.jsx(Ls,{className:"w-8 h-8 text-primary"})}),u.jsx("div",{className:"absolute bottom-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded",children:s.duration})]}),u.jsxs("div",{className:"space-y-1 flex-1",children:[u.jsx("h4",{className:"font-semibold text-sm line-clamp-2",children:s.title}),u.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:s.description})]}),u.jsxs(se,{variant:"outline",size:"sm",className:"w-full",children:[u.jsx(Oee,{className:"w-3 h-3 mr-2"}),"Watch Video"]})]})},o))}),u.jsxs("div",{className:"text-center p-6 bg-card/50 rounded-lg border border-border/50",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Ready to Transform Your Admissions?"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Start your free trial today and see the results within the first week."}),u.jsx(se,{variant:"hero",className:"hover-lift",onClick:()=>window.location.href="/auth",children:"Start Free Trial"})]})]})]}),u.jsx(Gb,{open:n,onOpenChange:r})]})},pO=({open:t,onOpenChange:e})=>{const[n,r]=S.useState(""),[i,a]=S.useState(""),[s,o]=S.useState(""),[l,c]=S.useState(!1),[d,f]=S.useState({}),[h,p]=S.useState({}),{toast:m}=Vt(),g=(v,y)=>{const w={...d},_={...h};switch(v){case"name":y.trim()?y.trim().length<2?(w.name="Name must be at least 2 characters",_.message=!1):(delete w.message,_.message=!0):(w.name="Name is required",_.name=!1);break}return f(w),p(_),!w[v]},b=(v,y)=>{switch(v){case"name":r(y);break;case"email":a(y);break;case"message":o(y);break}y.trim()&&g(v,y)},x=async v=>{v.preventDefault();const y=g("name",n),w=g("email",i),_=g("message",s);if(!y||!w||!_){m({title:"Please fix the errors above",variant:"destructive"});return}c(!0);try{const{error:E}=await Pe.from("contact_submissions").insert([{name:n,email:i,message:s}]);if(E)throw E;if(!(await fetch("https://formsubmit.co/ajax/admitconnectAI@gmail.com",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:n,email:i,message:s,_subject:`New Contact Request from ${n}`,_template:"table",_captcha:"false"})})).ok)throw new Error("Failed to send email");m({title:"Message sent successfully!",description:"We'll get back to you within 24 hours."}),r(""),a(""),o(""),e(!1)}catch(E){console.error("Error sending message:",E),m({title:"Failed to send message",description:"Please check your internet connection and try again.",variant:"destructive"})}finally{c(!1)}};return u.jsx(ai,{open:t,onOpenChange:e,children:u.jsxs(Mr,{className:"max-w-md",children:[u.jsx(Dr,{children:u.jsxs(Lr,{className:"flex items-center space-x-2",children:[u.jsx(ni,{className:"w-5 h-5"}),u.jsx("span",{children:"Contact Us"})]})}),u.jsxs("form",{onSubmit:x,className:"space-y-6",children:[u.jsx(sa,{label:"Full Name",id:"name",type:"text",value:n,onChange:v=>b("name",v),placeholder:"Enter your full name",error:d.name,success:h.name,required:!0}),u.jsx(sa,{label:"Email Address",id:"email",type:"email",value:i,onChange:v=>b("email",v),placeholder:"your.email@example.com",error:d.email,success:h.email,required:!0}),u.jsx(sa,{label:"Message",id:"message",type:"textarea",value:s,onChange:v=>b("message",v),placeholder:"Tell us how we can help you transform your admission process...",error:d.message,success:h.message,required:!0}),u.jsx(Us,{type:"submit",variant:"hero",disabled:l,className:"w-full hover-lift",children:l?u.jsxs(u.Fragment,{children:[u.jsx(El,{size:"sm",className:"mr-2"}),"Sending Message..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Sk,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]}),u.jsx("div",{className:"text-xs text-muted-foreground text-center",children:"We typically respond within 24 hours. All messages are sent to admitconnectAI@gmail.com"})]})})},cV=()=>{const[t,e]=S.useState(!1);S.useEffect(()=>{const r=()=>{window.pageYOffset>300?e(!0):e(!1)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return t?u.jsx(se,{className:"fixed bottom-6 right-6 z-50 rounded-full shadow-glow hover-lift",variant:"hero",size:"icon",onClick:n,children:u.jsx(See,{className:"w-4 h-4"})}):null},uV=({title:t="AdmitConnect AI - Intelligent College Admission Campaign Management",description:e="Revolutionize your college admission outreach with AI-powered campaign management, automated follow-ups, and real-time analytics. Boost enrollment with smart WhatsApp, voice, and email campaigns.",keywords:n="college admission software, AI campaign management, student recruitment, WhatsApp marketing, voice campaigns, admission analytics, enrollment automation, higher education CRM",image:r="/og-image.jpg",url:i="https://admitconnect.ai",type:a="website",schema:s})=>{const o=t.includes("AdmitConnect AI")?t:`${t} | AdmitConnect AI`,l={"@context":"https://schema.org","@type":"SoftwareApplication",name:"AdmitConnect AI",description:e,url:i,applicationCategory:"Educational Software",operatingSystem:"Web Browser",offers:{"@type":"Offer",category:"SaaS",price:"0",priceCurrency:"USD"},creator:{"@type":"Organization",name:"AdmitConnect AI",url:i}};return u.jsxs(jQ,{children:[u.jsx("title",{children:o}),u.jsx("meta",{name:"description",content:e}),u.jsx("meta",{name:"keywords",content:n}),u.jsx("meta",{name:"robots",content:"index, follow"}),u.jsx("meta",{name:"author",content:"AdmitConnect AI"}),u.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),u.jsx("link",{rel:"canonical",href:i}),u.jsx("meta",{property:"og:title",content:o}),u.jsx("meta",{property:"og:description",content:e}),u.jsx("meta",{property:"og:image",content:r}),u.jsx("meta",{property:"og:url",content:i}),u.jsx("meta",{property:"og:type",content:a}),u.jsx("meta",{property:"og:site_name",content:"AdmitConnect AI"}),u.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),u.jsx("meta",{name:"twitter:title",content:o}),u.jsx("meta",{name:"twitter:description",content:e}),u.jsx("meta",{name:"twitter:image",content:r}),u.jsx("meta",{name:"theme-color",content:"#000000"}),u.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),u.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"black-translucent"}),u.jsx("script",{type:"application/ld+json",children:JSON.stringify(s||l)})]})},a1e={home:{title:"AdmitConnect AI - Intelligent College Admission Campaign Management",description:"Transform your college admissions process with AI-powered campaign management. Automate WhatsApp, voice, and email outreach with intelligent analytics and real-time tracking.",keywords:"college admission AI, student recruitment automation, admission campaign management, WhatsApp marketing education, voice call automation, enrollment analytics"},dashboard:{title:"Dashboard - AdmitConnect AI",description:"Manage your admission campaigns, track performance metrics, and analyze student engagement data from your comprehensive dashboard.",keywords:"admission dashboard, campaign analytics, student metrics, enrollment tracking"},about:{title:"About Us - AdmitConnect AI",description:"Learn about AdmitConnect AI's mission to revolutionize college admissions through intelligent automation and data-driven insights.",keywords:"about admitconnect, college admission technology, AI education solutions"},services:{title:"Our Services - AdmitConnect AI",description:"Discover our comprehensive suite of AI-powered services for college admission campaigns, including automated outreach, analytics, and student engagement tools.",keywords:"admission services, AI campaign tools, student outreach automation, enrollment services"},pricing:{title:"Pricing Plans - AdmitConnect AI",description:"Choose the perfect plan for your institution. Flexible pricing options for colleges and universities of all sizes.",keywords:"admission software pricing, AI campaign costs, college enrollment plans"}},s1e=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState(!1),[i,a]=S.useState(!1);return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(uV,{...a1e.home}),u.jsx(fO,{onContactClick:()=>a(!0),onScheduleClick:()=>r(!0)}),u.jsxs("main",{id:"main-content",tabIndex:-1,className:"focus:outline-none",children:[u.jsx(k_e,{onWatchDemoClick:()=>e(!0),onScheduleDemoClick:()=>r(!0)}),u.jsx(C_e,{onContactClick:()=>a(!0),onScheduleClick:()=>r(!0)})]}),u.jsx(i1e,{open:t,onOpenChange:e}),u.jsx(Gb,{open:n,onOpenChange:r}),u.jsx(pO,{open:i,onOpenChange:a}),u.jsx(EH,{}),u.jsx(cV,{})]})},o1e=()=>{const[t]=VF(),e=pi(),{toast:n}=Vt(),{signIn:r,signUp:i,signInWithGoogle:a,user:s}=Un(),[o,l]=S.useState(t.get("mode")==="signup"),[c,d]=S.useState(!1),[f,h]=S.useState(!1),[p,m]=S.useState(""),[g,b]=S.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""});S.useEffect(()=>{l(t.get("mode")==="signup")},[t]),S.useEffect(()=>{s&&e("/dashboard")},[s,e]);const x=w=>{b({...g,[w.target.name]:w.target.value})},v=async w=>{w.preventDefault(),h(!0),m("");try{if(o){if(g.password!==g.confirmPassword)throw new Error("Passwords don't match");if(g.password.length<8)throw new Error("Password must be at least 8 characters");const _=`${g.firstName} ${g.lastName}`.trim();await i(g.email,g.password,_)}else await r(g.email,g.password)}catch(_){console.error("Auth error:",_),m(_.message||"An error occurred"),n({title:"Authentication failed",description:_.message||"Please try again",variant:"destructive"})}finally{h(!1)}},y=async()=>{try{h(!0),await a()}catch(w){console.error("Google sign in error:",w),n({title:"Google sign in failed",description:w.message||"Please try again",variant:"destructive"})}finally{h(!1)}};return u.jsx("div",{className:"min-h-screen bg-ai-gradient-subtle flex items-center justify-center p-4",children:u.jsxs(ne,{className:"w-full max-w-md p-8 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"w-16 h-16 bg-ai-gradient rounded-2xl flex items-center justify-center mx-auto mb-4",children:u.jsx(Zs,{className:"w-8 h-8 text-white"})}),u.jsx("h1",{className:"text-2xl font-bold text-card-foreground",children:o?"Create Account":"Welcome Back"}),u.jsx("p",{className:"text-muted-foreground mt-2",children:o?"Join AdmitConnect AI and transform your admissions":"Sign in to your AdmitConnect AI account"})]}),u.jsxs("form",{onSubmit:v,className:"space-y-4",children:[o&&u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"firstName",children:"First Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(Gp,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(Ut,{id:"firstName",name:"firstName",type:"text",placeholder:"John",value:g.firstName,onChange:x,className:"pl-10",required:o})]})]}),u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"lastName",children:"Last Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(Gp,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(Ut,{id:"lastName",name:"lastName",type:"text",placeholder:"Doe",value:g.lastName,onChange:x,className:"pl-10",required:o})]})]})]}),u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"email",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(ni,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(Ut,{id:"email",name:"email",type:"email",placeholder:"john@college.edu",value:g.email,onChange:x,className:"pl-10",required:!0})]})]}),u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"password",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(TI,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(Ut,{id:"password",name:"password",type:c?"text":"password",placeholder:"",value:g.password,onChange:x,className:"pl-10 pr-10",required:!0}),u.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:c?u.jsx(Nee,{className:"h-4 w-4"}):u.jsx(Pee,{className:"h-4 w-4"})})]})]}),o&&u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"confirmPassword",children:"Confirm Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(TI,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(Ut,{id:"confirmPassword",name:"confirmPassword",type:c?"text":"password",placeholder:"",value:g.confirmPassword,onChange:x,className:"pl-10",required:o})]})]}),p&&u.jsx("div",{className:"text-destructive text-sm text-center",children:p}),u.jsx(se,{type:"submit",variant:"hero",size:"lg",className:"w-full",disabled:f,children:f?"Please wait...":o?"Create Account":"Sign In"})]}),u.jsxs("div",{className:"mt-6",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-border/50"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),u.jsxs(se,{variant:"outline",size:"lg",className:"w-full mt-4",onClick:y,disabled:f,children:[u.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx("button",{type:"button",onClick:()=>l(!o),className:"text-primary hover:underline text-sm",children:o?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})};function l1e(t,e=[]){let n=[];function r(a,s){const o=S.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||o,b=S.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:b,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||o,m=S.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,d]}const i=()=>{const a=n.map(s=>S.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,c1e(i,...e)]}function c1e(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var O1="rovingFocusGroup.onEntryFocus",u1e={bubbles:!1,cancelable:!0},Kb="RovingFocusGroup",[Rj,dV,d1e]=Gx(Kb),[f1e,Yb]=l1e(Kb,[d1e]),[h1e,p1e]=f1e(Kb),fV=S.forwardRef((t,e)=>u.jsx(Rj.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(Rj.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(m1e,{...t,ref:e})})}));fV.displayName=Kb;var m1e=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,h=S.useRef(null),p=it(e,h),m=xg(a),[g=null,b]=Xs({prop:s,defaultProp:o,onChange:l}),[x,v]=S.useState(!1),y=qt(c),w=dV(n),_=S.useRef(!1),[E,A]=S.useState(0);return S.useEffect(()=>{const j=h.current;if(j)return j.addEventListener(O1,y),()=>j.removeEventListener(O1,y)},[y]),u.jsx(h1e,{scope:n,orientation:r,dir:m,loop:i,currentTabStopId:g,onItemFocus:S.useCallback(j=>b(j),[b]),onItemShiftTab:S.useCallback(()=>v(!0),[]),onFocusableItemAdd:S.useCallback(()=>A(j=>j+1),[]),onFocusableItemRemove:S.useCallback(()=>A(j=>j-1),[]),children:u.jsx($e.div,{tabIndex:x||E===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:pe(t.onMouseDown,()=>{_.current=!0}),onFocus:pe(t.onFocus,j=>{const T=!_.current;if(j.target===j.currentTarget&&T&&!x){const C=new CustomEvent(O1,u1e);if(j.currentTarget.dispatchEvent(C),!C.defaultPrevented){const k=w().filter(U=>U.focusable),O=k.find(U=>U.active),L=k.find(U=>U.id===g),F=[O,L,...k].filter(Boolean).map(U=>U.ref.current);mV(F,d)}}_.current=!1}),onBlur:pe(t.onBlur,()=>v(!1))})})}),hV="RovingFocusGroupItem",pV=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,...s}=t,o=ga(),l=a||o,c=p1e(hV,n),d=c.currentTabStopId===l,f=dV(n),{onFocusableItemAdd:h,onFocusableItemRemove:p}=c;return S.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),u.jsx(Rj.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:u.jsx($e.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...s,ref:e,onMouseDown:pe(t.onMouseDown,m=>{r?c.onItemFocus(l):m.preventDefault()}),onFocus:pe(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:pe(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){c.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const g=v1e(m,c.orientation,c.dir);if(g!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let x=f().filter(v=>v.focusable).map(v=>v.ref.current);if(g==="last")x.reverse();else if(g==="prev"||g==="next"){g==="prev"&&x.reverse();const v=x.indexOf(m.currentTarget);x=c.loop?x1e(x,v+1):x.slice(v+1)}setTimeout(()=>mV(x))}})})})});pV.displayName=hV;var g1e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function y1e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function v1e(t,e,n){const r=y1e(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return g1e[r]}function mV(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function x1e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var gV=fV,yV=pV,mO="Tabs",[b1e,AWe]=ps(mO,[Yb]),vV=Yb(),[w1e,gO]=b1e(mO),xV=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:s="horizontal",dir:o,activationMode:l="automatic",...c}=t,d=xg(o),[f,h]=Xs({prop:r,onChange:i,defaultProp:a});return u.jsx(w1e,{scope:n,baseId:ga(),value:f,onValueChange:h,orientation:s,dir:d,activationMode:l,children:u.jsx($e.div,{dir:d,"data-orientation":s,...c,ref:e})})});xV.displayName=mO;var bV="TabsList",wV=S.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,a=gO(bV,n),s=vV(n);return u.jsx(gV,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:r,children:u.jsx($e.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});wV.displayName=bV;var _V="TabsTrigger",SV=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=t,s=gO(_V,n),o=vV(n),l=AV(s.baseId,r),c=TV(s.baseId,r),d=r===s.value;return u.jsx(yV,{asChild:!0,...o,focusable:!i,active:d,children:u.jsx($e.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:e,onMouseDown:pe(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?s.onValueChange(r):f.preventDefault()}),onKeyDown:pe(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(r)}),onFocus:pe(t.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!i&&f&&s.onValueChange(r)})})})});SV.displayName=_V;var EV="TabsContent",jV=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...s}=t,o=gO(EV,n),l=AV(o.baseId,r),c=TV(o.baseId,r),d=r===o.value,f=S.useRef(d);return S.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),u.jsx(pr,{present:i||d,children:({present:h})=>u.jsx($e.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});jV.displayName=EV;function AV(t,e){return`${t}-trigger-${e}`}function TV(t,e){return`${t}-content-${e}`}var _1e=xV,kV=wV,CV=SV,OV=jV;const au=_1e,Fl=S.forwardRef(({className:t,...e},n)=>u.jsx(kV,{ref:n,className:je("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Fl.displayName=kV.displayName;const mt=S.forwardRef(({className:t,...e},n)=>u.jsx(CV,{ref:n,className:je("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));mt.displayName=CV.displayName;const gt=S.forwardRef(({className:t,...e},n)=>u.jsx(OV,{ref:n,className:je("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));gt.displayName=OV.displayName;var NV={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(un,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,a=!r.document&&!!r.postMessage,s=r.IS_PAPA_WORKER||!1,o={},l=0,c={};function d(j){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(T){var C=_(T);C.chunkSize=parseInt(C.chunkSize),T.step||T.chunk||(C.chunkSize=null),this._handle=new g(C),(this._handle.streamer=this)._config=C}).call(this,j),this.parseChunk=function(T,C){var k=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<k){let L=this._config.newline;L||(O=this._config.quoteChar||'"',L=this._handle.guessLineEndings(T,O)),T=[...T.split(L).slice(k)].join(L)}this.isFirstChunk&&A(this._config.beforeFirstChunk)&&(O=this._config.beforeFirstChunk(T))!==void 0&&(T=O),this.isFirstChunk=!1,this._halted=!1;var k=this._partialLine+T,O=(this._partialLine="",this._handle.parse(k,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(T=O.meta.cursor,k=(this._finished||(this._partialLine=k.substring(T-this._baseIndex),this._baseIndex=T),O&&O.data&&(this._rowCount+=O.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)r.postMessage({results:O,workerId:c.WORKER_ID,finished:k});else if(A(this._config.chunk)&&!C){if(this._config.chunk(O,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=O=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(O.data),this._completeResults.errors=this._completeResults.errors.concat(O.errors),this._completeResults.meta=O.meta),this._completed||!k||!A(this._config.complete)||O&&O.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),k||O&&O.meta.paused||this._nextChunk(),O}this._halted=!0},this._sendError=function(T){A(this._config.error)?this._config.error(T):s&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:T,finished:!1})}}function f(j){var T;(j=j||{}).chunkSize||(j.chunkSize=c.RemoteChunkSize),d.call(this,j),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(C){this._input=C,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(T=new XMLHttpRequest,this._config.withCredentials&&(T.withCredentials=this._config.withCredentials),a||(T.onload=E(this._chunkLoaded,this),T.onerror=E(this._chunkError,this)),T.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var C,k=this._config.downloadRequestHeaders;for(C in k)T.setRequestHeader(C,k[C])}var O;this._config.chunkSize&&(O=this._start+this._config.chunkSize-1,T.setRequestHeader("Range","bytes="+this._start+"-"+O));try{T.send(this._config.downloadRequestBody)}catch(L){this._chunkError(L.message)}a&&T.status===0&&this._chunkError()}},this._chunkLoaded=function(){T.readyState===4&&(T.status<200||400<=T.status?this._chunkError():(this._start+=this._config.chunkSize||T.responseText.length,this._finished=!this._config.chunkSize||this._start>=(C=>(C=C.getResponseHeader("Content-Range"))!==null?parseInt(C.substring(C.lastIndexOf("/")+1)):-1)(T),this.parseChunk(T.responseText)))},this._chunkError=function(C){C=T.statusText||C,this._sendError(new Error(C))}}function h(j){(j=j||{}).chunkSize||(j.chunkSize=c.LocalChunkSize),d.call(this,j);var T,C,k=typeof FileReader<"u";this.stream=function(O){this._input=O,C=O.slice||O.webkitSlice||O.mozSlice,k?((T=new FileReader).onload=E(this._chunkLoaded,this),T.onerror=E(this._chunkError,this)):T=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var O=this._input,L=(this._config.chunkSize&&(L=Math.min(this._start+this._config.chunkSize,this._input.size),O=C.call(O,this._start,L)),T.readAsText(O,this._config.encoding));k||this._chunkLoaded({target:{result:L}})},this._chunkLoaded=function(O){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(O.target.result)},this._chunkError=function(){this._sendError(T.error)}}function p(j){var T;d.call(this,j=j||{}),this.stream=function(C){return T=C,this._nextChunk()},this._nextChunk=function(){var C,k;if(!this._finished)return C=this._config.chunkSize,T=C?(k=T.substring(0,C),T.substring(C)):(k=T,""),this._finished=!T,this.parseChunk(k)}}function m(j){d.call(this,j=j||{});var T=[],C=!0,k=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(O){this._input=O,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){k&&T.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),T.length?this.parseChunk(T.shift()):C=!0},this._streamData=E(function(O){try{T.push(typeof O=="string"?O:O.toString(this._config.encoding)),C&&(C=!1,this._checkIsFinished(),this.parseChunk(T.shift()))}catch(L){this._streamError(L)}},this),this._streamError=E(function(O){this._streamCleanUp(),this._sendError(O)},this),this._streamEnd=E(function(){this._streamCleanUp(),k=!0,this._streamData("")},this),this._streamCleanUp=E(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(j){var T,C,k,O,L=Math.pow(2,53),R=-L,F=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,U=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,V=this,D=0,B=0,P=!1,W=!1,G=[],$={data:[],errors:[],meta:{}};function ee(K){return j.skipEmptyLines==="greedy"?K.join("").trim()==="":K.length===1&&K[0].length===0}function ie(){if($&&k&&(N("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),k=!1),j.skipEmptyLines&&($.data=$.data.filter(function(J){return!ee(J)})),I()){let J=function(Y,me){A(j.transformHeader)&&(Y=j.transformHeader(Y,me)),G.push(Y)};if($)if(Array.isArray($.data[0])){for(var K=0;I()&&K<$.data.length;K++)$.data[K].forEach(J);$.data.splice(0,1)}else $.data.forEach(J)}function z(J,Y){for(var me=j.header?{}:[],le=0;le<J.length;le++){var ve=le,oe=J[le],oe=((Be,Te)=>(De=>(j.dynamicTypingFunction&&j.dynamicTyping[De]===void 0&&(j.dynamicTyping[De]=j.dynamicTypingFunction(De)),(j.dynamicTyping[De]||j.dynamicTyping)===!0))(Be)?Te==="true"||Te==="TRUE"||Te!=="false"&&Te!=="FALSE"&&((De=>{if(F.test(De)&&(De=parseFloat(De),R<De&&De<L))return 1})(Te)?parseFloat(Te):U.test(Te)?new Date(Te):Te===""?null:Te):Te)(ve=j.header?le>=G.length?"__parsed_extra":G[le]:ve,oe=j.transform?j.transform(oe,ve):oe);ve==="__parsed_extra"?(me[ve]=me[ve]||[],me[ve].push(oe)):me[ve]=oe}return j.header&&(le>G.length?N("FieldMismatch","TooManyFields","Too many fields: expected "+G.length+" fields but parsed "+le,B+Y):le<G.length&&N("FieldMismatch","TooFewFields","Too few fields: expected "+G.length+" fields but parsed "+le,B+Y)),me}var Z;$&&(j.header||j.dynamicTyping||j.transform)&&(Z=1,!$.data.length||Array.isArray($.data[0])?($.data=$.data.map(z),Z=$.data.length):$.data=z($.data,0),j.header&&$.meta&&($.meta.fields=G),B+=Z)}function I(){return j.header&&G.length===0}function N(K,z,Z,J){K={type:K,code:z,message:Z},J!==void 0&&(K.row=J),$.errors.push(K)}A(j.step)&&(O=j.step,j.step=function(K){$=K,I()?ie():(ie(),$.data.length!==0&&(D+=K.data.length,j.preview&&D>j.preview?C.abort():($.data=$.data[0],O($,V))))}),this.parse=function(K,z,Z){var J=j.quoteChar||'"',J=(j.newline||(j.newline=this.guessLineEndings(K,J)),k=!1,j.delimiter?A(j.delimiter)&&(j.delimiter=j.delimiter(K),$.meta.delimiter=j.delimiter):((J=((Y,me,le,ve,oe)=>{var Be,Te,De,ae;oe=oe||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var At=0;At<oe.length;At++){for(var we,ye=oe[At],be=0,ge=0,q=0,X=(De=void 0,new x({comments:ve,delimiter:ye,newline:me,preview:10}).parse(Y)),re=0;re<X.data.length;re++)le&&ee(X.data[re])?q++:(we=X.data[re].length,ge+=we,De===void 0?De=we:0<we&&(be+=Math.abs(we-De),De=we));0<X.data.length&&(ge/=X.data.length-q),(Te===void 0||be<=Te)&&(ae===void 0||ae<ge)&&1.99<ge&&(Te=be,Be=ye,ae=ge)}return{successful:!!(j.delimiter=Be),bestDelimiter:Be}})(K,j.newline,j.skipEmptyLines,j.comments,j.delimitersToGuess)).successful?j.delimiter=J.bestDelimiter:(k=!0,j.delimiter=c.DefaultDelimiter),$.meta.delimiter=j.delimiter),_(j));return j.preview&&j.header&&J.preview++,T=K,C=new x(J),$=C.parse(T,z,Z),ie(),P?{meta:{paused:!0}}:$||{meta:{paused:!1}}},this.paused=function(){return P},this.pause=function(){P=!0,C.abort(),T=A(j.chunk)?"":T.substring(C.getCharIndex())},this.resume=function(){V.streamer._halted?(P=!1,V.streamer.parseChunk(T,!0)):setTimeout(V.resume,3)},this.aborted=function(){return W},this.abort=function(){W=!0,C.abort(),$.meta.aborted=!0,A(j.complete)&&j.complete($),T=""},this.guessLineEndings=function(Y,J){Y=Y.substring(0,1048576);var J=new RegExp(b(J)+"([^]*?)"+b(J),"gm"),Z=(Y=Y.replace(J,"")).split("\r"),J=Y.split(`
`),Y=1<J.length&&J[0].length<Z[0].length;if(Z.length===1||Y)return`
`;for(var me=0,le=0;le<Z.length;le++)Z[le][0]===`
`&&me++;return me>=Z.length/2?`\r
`:"\r"}}function b(j){return j.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(j){var T=(j=j||{}).delimiter,C=j.newline,k=j.comments,O=j.step,L=j.preview,R=j.fastMode,F=null,U=!1,V=j.quoteChar==null?'"':j.quoteChar,D=V;if(j.escapeChar!==void 0&&(D=j.escapeChar),(typeof T!="string"||-1<c.BAD_DELIMITERS.indexOf(T))&&(T=","),k===T)throw new Error("Comment character same as delimiter");k===!0?k="#":(typeof k!="string"||-1<c.BAD_DELIMITERS.indexOf(k))&&(k=!1),C!==`
`&&C!=="\r"&&C!==`\r
`&&(C=`
`);var B=0,P=!1;this.parse=function(W,G,$){if(typeof W!="string")throw new Error("Input must be a string");var ee=W.length,ie=T.length,I=C.length,N=k.length,K=A(O),z=[],Z=[],J=[],Y=B=0;if(!W)return be();if(R||R!==!1&&W.indexOf(V)===-1){for(var me=W.split(C),le=0;le<me.length;le++){if(J=me[le],B+=J.length,le!==me.length-1)B+=C.length;else if($)return be();if(!k||J.substring(0,N)!==k){if(K){if(z=[],ae(J.split(T)),ge(),P)return be()}else ae(J.split(T));if(L&&L<=le)return z=z.slice(0,L),be(!0)}}return be()}for(var ve=W.indexOf(T,B),oe=W.indexOf(C,B),Be=new RegExp(b(D)+b(V),"g"),Te=W.indexOf(V,B);;)if(W[B]===V)for(Te=B,B++;;){if((Te=W.indexOf(V,Te+1))===-1)return $||Z.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:z.length,index:B}),we();if(Te===ee-1)return we(W.substring(B,Te).replace(Be,V));if(V===D&&W[Te+1]===D)Te++;else if(V===D||Te===0||W[Te-1]!==D){ve!==-1&&ve<Te+1&&(ve=W.indexOf(T,Te+1));var De=At((oe=oe!==-1&&oe<Te+1?W.indexOf(C,Te+1):oe)===-1?ve:Math.min(ve,oe));if(W.substr(Te+1+De,ie)===T){J.push(W.substring(B,Te).replace(Be,V)),W[B=Te+1+De+ie]!==V&&(Te=W.indexOf(V,B)),ve=W.indexOf(T,B),oe=W.indexOf(C,B);break}if(De=At(oe),W.substring(Te+1+De,Te+1+De+I)===C){if(J.push(W.substring(B,Te).replace(Be,V)),ye(Te+1+De+I),ve=W.indexOf(T,B),Te=W.indexOf(V,B),K&&(ge(),P))return be();if(L&&z.length>=L)return be(!0);break}Z.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:z.length,index:B}),Te++}}else if(k&&J.length===0&&W.substring(B,B+N)===k){if(oe===-1)return be();B=oe+I,oe=W.indexOf(C,B),ve=W.indexOf(T,B)}else if(ve!==-1&&(ve<oe||oe===-1))J.push(W.substring(B,ve)),B=ve+ie,ve=W.indexOf(T,B);else{if(oe===-1)break;if(J.push(W.substring(B,oe)),ye(oe+I),K&&(ge(),P))return be();if(L&&z.length>=L)return be(!0)}return we();function ae(q){z.push(q),Y=B}function At(q){var X=0;return X=q!==-1&&(q=W.substring(Te+1,q))&&q.trim()===""?q.length:X}function we(q){return $||(q===void 0&&(q=W.substring(B)),J.push(q),B=ee,ae(J),K&&ge()),be()}function ye(q){B=q,ae(J),J=[],oe=W.indexOf(C,B)}function be(q){if(j.header&&!G&&z.length&&!U){var X=z[0],re=Object.create(null),Oe=new Set(X);let ct=!1;for(let Kt=0;Kt<X.length;Kt++){let on=X[Kt];if(re[on=A(j.transformHeader)?j.transformHeader(on,Kt):on]){let Cn,Ia=re[on];for(;Cn=on+"_"+Ia,Ia++,Oe.has(Cn););Oe.add(Cn),X[Kt]=Cn,re[on]++,ct=!0,(F=F===null?{}:F)[Cn]=on}else re[on]=1,X[Kt]=on;Oe.add(on)}ct&&console.warn("Duplicate headers found and renamed."),U=!0}return{data:z,errors:Z,meta:{delimiter:T,linebreak:C,aborted:P,truncated:!!q,cursor:Y+(G||0),renamedHeaders:F}}}function ge(){O(be()),z=[],Z=[]}},this.abort=function(){P=!0},this.getCharIndex=function(){return B}}function v(j){var T=j.data,C=o[T.workerId],k=!1;if(T.error)C.userError(T.error,T.file);else if(T.results&&T.results.data){var O={abort:function(){k=!0,y(T.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:w,resume:w};if(A(C.userStep)){for(var L=0;L<T.results.data.length&&(C.userStep({data:T.results.data[L],errors:T.results.errors,meta:T.results.meta},O),!k);L++);delete T.results}else A(C.userChunk)&&(C.userChunk(T.results,O,T.file),delete T.results)}T.finished&&!k&&y(T.workerId,T.results)}function y(j,T){var C=o[j];A(C.userComplete)&&C.userComplete(T),C.terminate(),delete o[j]}function w(){throw new Error("Not implemented.")}function _(j){if(typeof j!="object"||j===null)return j;var T,C=Array.isArray(j)?[]:{};for(T in j)C[T]=_(j[T]);return C}function E(j,T){return function(){j.apply(T,arguments)}}function A(j){return typeof j=="function"}return c.parse=function(j,T){var C=(T=T||{}).dynamicTyping||!1;if(A(C)&&(T.dynamicTypingFunction=C,C={}),T.dynamicTyping=C,T.transform=!!A(T.transform)&&T.transform,!T.worker||!c.WORKERS_SUPPORTED)return C=null,c.NODE_STREAM_INPUT,typeof j=="string"?(j=(k=>k.charCodeAt(0)!==65279?k:k.slice(1))(j),C=new(T.download?f:p)(T)):j.readable===!0&&A(j.read)&&A(j.on)?C=new m(T):(r.File&&j instanceof File||j instanceof Object)&&(C=new h(T)),C.stream(j);(C=(()=>{var k;return!!c.WORKERS_SUPPORTED&&(k=(()=>{var O=r.URL||r.webkitURL||null,L=n.toString();return c.BLOB_URL||(c.BLOB_URL=O.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",L,")();"],{type:"text/javascript"})))})(),(k=new r.Worker(k)).onmessage=v,k.id=l++,o[k.id]=k)})()).userStep=T.step,C.userChunk=T.chunk,C.userComplete=T.complete,C.userError=T.error,T.step=A(T.step),T.chunk=A(T.chunk),T.complete=A(T.complete),T.error=A(T.error),delete T.worker,C.postMessage({input:j,config:T,workerId:C.id})},c.unparse=function(j,T){var C=!1,k=!0,O=",",L=`\r
`,R='"',F=R+R,U=!1,V=null,D=!1,B=((()=>{if(typeof T=="object"){if(typeof T.delimiter!="string"||c.BAD_DELIMITERS.filter(function(G){return T.delimiter.indexOf(G)!==-1}).length||(O=T.delimiter),typeof T.quotes!="boolean"&&typeof T.quotes!="function"&&!Array.isArray(T.quotes)||(C=T.quotes),typeof T.skipEmptyLines!="boolean"&&typeof T.skipEmptyLines!="string"||(U=T.skipEmptyLines),typeof T.newline=="string"&&(L=T.newline),typeof T.quoteChar=="string"&&(R=T.quoteChar),typeof T.header=="boolean"&&(k=T.header),Array.isArray(T.columns)){if(T.columns.length===0)throw new Error("Option columns is empty");V=T.columns}T.escapeChar!==void 0&&(F=T.escapeChar+R),T.escapeFormulae instanceof RegExp?D=T.escapeFormulae:typeof T.escapeFormulae=="boolean"&&T.escapeFormulae&&(D=/^[=+\-@\t\r].*$/)}})(),new RegExp(b(R),"g"));if(typeof j=="string"&&(j=JSON.parse(j)),Array.isArray(j)){if(!j.length||Array.isArray(j[0]))return P(null,j,U);if(typeof j[0]=="object")return P(V||Object.keys(j[0]),j,U)}else if(typeof j=="object")return typeof j.data=="string"&&(j.data=JSON.parse(j.data)),Array.isArray(j.data)&&(j.fields||(j.fields=j.meta&&j.meta.fields||V),j.fields||(j.fields=Array.isArray(j.data[0])?j.fields:typeof j.data[0]=="object"?Object.keys(j.data[0]):[]),Array.isArray(j.data[0])||typeof j.data[0]=="object"||(j.data=[j.data])),P(j.fields||[],j.data||[],U);throw new Error("Unable to serialize unrecognized input");function P(G,$,ee){var ie="",I=(typeof G=="string"&&(G=JSON.parse(G)),typeof $=="string"&&($=JSON.parse($)),Array.isArray(G)&&0<G.length),N=!Array.isArray($[0]);if(I&&k){for(var K=0;K<G.length;K++)0<K&&(ie+=O),ie+=W(G[K],K);0<$.length&&(ie+=L)}for(var z=0;z<$.length;z++){var Z=(I?G:$[z]).length,J=!1,Y=I?Object.keys($[z]).length===0:$[z].length===0;if(ee&&!I&&(J=ee==="greedy"?$[z].join("").trim()==="":$[z].length===1&&$[z][0].length===0),ee==="greedy"&&I){for(var me=[],le=0;le<Z;le++){var ve=N?G[le]:le;me.push($[z][ve])}J=me.join("").trim()===""}if(!J){for(var oe=0;oe<Z;oe++){0<oe&&!Y&&(ie+=O);var Be=I&&N?G[oe]:oe;ie+=W($[z][Be],oe)}z<$.length-1&&(!ee||0<Z&&!Y)&&(ie+=L)}}return ie}function W(G,$){var ee,ie;return G==null?"":G.constructor===Date?JSON.stringify(G).slice(1,25):(ie=!1,D&&typeof G=="string"&&D.test(G)&&(G="'"+G,ie=!0),ee=G.toString().replace(B,F),(ie=ie||C===!0||typeof C=="function"&&C(G,$)||Array.isArray(C)&&C[$]||((I,N)=>{for(var K=0;K<N.length;K++)if(-1<I.indexOf(N[K]))return!0;return!1})(ee,c.BAD_DELIMITERS)||-1<ee.indexOf(O)||ee.charAt(0)===" "||ee.charAt(ee.length-1)===" ")?R+ee+R:ee)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!a&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=x,c.ParserHandle=g,c.NetworkStreamer=f,c.FileStreamer=h,c.StringStreamer=p,c.ReadableStreamStreamer=m,r.jQuery&&((i=r.jQuery).fn.parse=function(j){var T=j.config||{},C=[];return this.each(function(L){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var R=0;R<this.files.length;R++)C.push({file:this.files[R],inputElem:this,instanceConfig:i.extend({},T)})}),k(),this;function k(){if(C.length===0)A(j.complete)&&j.complete();else{var L,R,F,U,V=C[0];if(A(j.before)){var D=j.before(V.file,V.inputElem);if(typeof D=="object"){if(D.action==="abort")return L="AbortError",R=V.file,F=V.inputElem,U=D.reason,void(A(j.error)&&j.error({name:L},R,F,U));if(D.action==="skip")return void O();typeof D.config=="object"&&(V.instanceConfig=i.extend(V.instanceConfig,D.config))}else if(D==="skip")return void O()}var B=V.instanceConfig.complete;V.instanceConfig.complete=function(P){A(B)&&B(P,V.file,V.inputElem),O()},c.parse(V.file,V.instanceConfig)}}function O(){C.splice(0,1),k()}}),s&&(r.onmessage=function(j){j=j.data,c.WORKER_ID===void 0&&j&&(c.WORKER_ID=j.workerId),typeof j.input=="string"?r.postMessage({workerId:c.WORKER_ID,results:c.parse(j.input,j.config),finished:!0}):(r.File&&j.input instanceof File||j.input instanceof Object)&&(j=c.parse(j.input,j.config))&&r.postMessage({workerId:c.WORKER_ID,results:j,finished:!0})}),(f.prototype=Object.create(d.prototype)).constructor=f,(h.prototype=Object.create(d.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(m.prototype=Object.create(d.prototype)).constructor=m,c})})(NV);var S1e=NV.exports;const E1e=at(S1e),PV=({campaignId:t,onUploadComplete:e})=>{const[n,r]=S.useState(null),[i,a]=S.useState(!1),[s,o]=S.useState([]),[l,c]=S.useState(!1),[d,f]=S.useState(t||""),[h,p]=S.useState([]),{toast:m}=Vt(),{user:g}=Un();S.useEffect(()=>{t||b()},[t]);const b=async()=>{if(g)try{const{data:C,error:k}=await Pe.from("campaigns").select("id, name, status").eq("user_id",g.id).order("created_at",{ascending:!1});if(k)throw k;p(C||[]),C&&C.length>0&&!d&&f(C[0].id)}catch(C){console.error("Error loading campaigns:",C)}},x=C=>{var O;const k=(O=C.target.files)==null?void 0:O[0];k&&(r(k),E(k))},[v,y]=S.useState(!1),[w,_]=S.useState(""),E=async C=>{try{if(C.name.endsWith(".csv")){A(C);return}if(C.name.endsWith(".json")){j(C);return}y(!0),_("Extracting text from file...");const{extractTextFromFile:k}=await Ii(async()=>{const{extractTextFromFile:F}=await import("./fileParser-C1AbZKGe.js");return{extractTextFromFile:F}},[]),{extractCandidatesFromText:O}=await Ii(async()=>{const{extractCandidatesFromText:F}=await import("./candidateExtractor-BlHTNC1t.js");return{extractCandidatesFromText:F}},[]),L=await k(C);if(!L||L.trim().length===0)throw new Error("Could not extract any text from the file.");_("AI analyzing candidate data...");const R=await O(L);if(R.length===0){m({title:"No candidates found",description:"AI could not identify any candidate information in this file.",variant:"destructive"}),y(!1);return}o(R),c(!0),m({title:"File analyzed successfully",description:`AI found ${R.length} potential candidates`})}catch(k){console.error("Error parsing file:",k),m({title:"Error parsing file",description:k.message||"Failed to process file with AI.",variant:"destructive"})}finally{y(!1),_("")}},A=C=>{E1e.parse(C,{header:!0,skipEmptyLines:!0,transformHeader:k=>k.toLowerCase().trim(),complete:k=>{const O=[];if(k.data.forEach(L=>{const R={name:L.name||L["student name"]||L["full name"]||L["candidate name"]||"",phone:L.phone||L.mobile||L.contact||L["phone number"]||L["mobile number"]||L.whatsapp||"",email:L.email||L["e-mail"]||L["email address"]||L["e-mail address"]||L.mail||void 0,city:L.city||L.location||L.address||void 0,course:L.course||L.program||L.interest||void 0};if(R.name&&R.phone){const F=R.phone.replace(/[^0-9]/g,"");F.length>=10&&(R.phone=F,O.push(R))}}),O.length===0){m({title:"No valid candidates found",description:"Check CSV headers (name, phone)",variant:"destructive"});return}o(O),c(!0),m({title:"CSV parsed successfully",description:`Found ${O.length} valid candidates`})},error:k=>{m({title:"Error parsing CSV",description:k.message,variant:"destructive"})}})},j=async C=>{try{const k=await C.text(),O=JSON.parse(k);if(Array.isArray(O)){const L=O.filter(R=>R.name&&R.phone).map(R=>({name:R.name,phone:R.phone,email:R.email,city:R.city,course:R.course}));o(L),c(!0),m({title:"JSON parsed successfully",description:`Found ${L.length} valid candidates`})}}catch{m({title:"invalid JSON",variant:"destructive"})}},T=async()=>{if(!(!g||!n)){a(!0),a(!0);try{const{api:C}=await Ii(async()=>{const{api:L}=await Promise.resolve().then(()=>CO);return{api:L}},void 0),k=t||d||void 0,O=await C.candidates.uploadBatch(g.id,s,k);if(O.success)m({title:"Candidates uploaded successfully",description:O.message}),e==null||e(s);else throw new Error(O.message||"Upload failed");o([]),r(null),c(!1)}catch(C){console.error("Error uploading candidates:",C),m({title:"Upload failed",description:C.message||"Failed to upload candidates. Please try again.",variant:"destructive"})}finally{a(!1)}}};return u.jsx(ne,{className:"p-6",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Upload Candidates"}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"Upload a CSV or JSON file with candidate information. Required fields: name, phone"})]}),!t&&h.length===0&&u.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:u.jsx("p",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:"Please create a campaign first before uploading candidates."})}),!t&&h.length>0&&u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"campaign-select",children:"Select Campaign"}),u.jsxs(ua,{value:d,onValueChange:f,children:[u.jsx(ki,{id:"campaign-select",className:"mt-2",children:u.jsx(da,{placeholder:"Choose a campaign"})}),u.jsx(Ci,{children:h.map(C=>u.jsx(Bt,{value:C.id,children:C.name},C.id))})]})]}),l?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center text-green-600",children:[u.jsx(ma,{className:"w-5 h-5 mr-2"}),u.jsxs("span",{className:"font-medium",children:[s.length," candidates found"]})]}),u.jsx(se,{variant:"outline",size:"sm",onClick:()=>{c(!1),r(null),o([])},children:"Choose Different File"})]}),u.jsxs("div",{className:"max-h-40 overflow-y-auto border rounded-lg p-3",children:[u.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Preview:"}),s.slice(0,5).map((C,k)=>u.jsxs("div",{className:"text-sm py-1 border-b border-border/50 last:border-0",children:[u.jsx("span",{className:"font-medium",children:C.name})," - ",C.phone,C.email&&u.jsxs("span",{className:"text-muted-foreground",children:["  ",C.email]})]},k)),s.length>5&&u.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["And ",s.length-5," more..."]})]}),u.jsx(se,{onClick:T,disabled:i||!t&&!d||h.length===0,className:"w-full",variant:"hero",children:i?"Uploading...":`Upload ${s.length} Candidates`})]}):u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"file-upload",children:"Choose File"}),u.jsx("div",{className:"mt-2 flex items-center justify-center w-full",children:u.jsxs("label",{htmlFor:"file-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-border border-dashed rounded-lg cursor-pointer bg-card/50 hover:bg-card/80",children:[u.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[u.jsx(Ak,{className:"w-8 h-8 mb-4 text-muted-foreground"}),u.jsxs("p",{className:"mb-2 text-sm text-muted-foreground",children:[u.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"CSV, JSON, PDF, DOCX, Images"}),v&&u.jsxs("div",{className:"mt-4 flex flex-col items-center",children:[u.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}),u.jsx("p",{className:"mt-2 text-xs text-primary font-medium animate-pulse",children:w})]})]}),u.jsx(Ut,{id:"file-upload",type:"file",className:"hidden",accept:".csv,.json,.pdf,.docx,.png,.jpg,.jpeg,.webp,.txt",disabled:v,onChange:x})]})}),n&&u.jsxs("div",{className:"mt-2 flex items-center text-sm text-muted-foreground",children:[u.jsx(Sc,{className:"w-4 h-4 mr-2"}),n.name]})]})]})})},IV=({onCampaignCreated:t})=>{const[e,n]=S.useState({name:"",type:"",scheduledAt:""}),[r,i]=S.useState(""),[a,s]=S.useState(!1),[o,l]=S.useState(!1),{toast:c}=Vt(),{user:d}=Un(),f=[{value:"email",label:"Email Only",icon:ni,color:"bg-orange-500"},{value:"whatsapp",label:"WhatsApp Only",icon:ci,color:"bg-green-500"},{value:"voice",label:"Voice Only",icon:Ta,color:"bg-blue-500"},{value:"email_whatsapp",label:"Email + WhatsApp",icon:$r,color:"bg-purple-500"},{value:"voice_whatsapp",label:"Voice + WhatsApp",icon:$r,color:"bg-indigo-500"},{value:"email_voice",label:"Email + Voice",icon:$r,color:"bg-pink-500"}],h=(g,b)=>{n(x=>({...x,[g]:b}))},p=async()=>{if(!d||!e.name||!e.type){c({title:"Missing information",description:"Please fill in campaign name and type.",variant:"destructive"});return}if(!r.trim()){c({title:"Missing AI Instructions",description:"Please provide instructions for the AI content generator.",variant:"destructive"});return}l(!0);try{const{api:g}=await Ii(async()=>{const{api:y}=await Promise.resolve().then(()=>CO);return{api:y}},void 0);let b=[];const x=e.type;x==="email"?b=["email"]:x==="whatsapp"?b=["whatsapp"]:x==="voice"?b=["voice"]:x==="email_whatsapp"?b=["email","whatsapp"]:x==="voice_whatsapp"?b=["voice","whatsapp"]:x==="email_voice"&&(b=["email","voice"]),(await g.campaigns.create(d.id,e.name,r,b)).success&&(c({title:"Campaign Initiated!",description:"AI is ready to generate unique content for your candidates."}),n({name:"",type:"",scheduledAt:""}),i(""),t==null||t())}catch(g){console.error("Error creating campaign:",g),c({title:"Creation failed",description:"Failed to create campaign. Ensure backend is running.",variant:"destructive"})}finally{l(!1)}},m=f.find(g=>g.value===e.type);return u.jsx(ne,{className:"p-6",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Create Interactive Campaign"}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"Configure AI to generate unique, personalized content for every candidate at runtime."})]}),u.jsxs("div",{className:"grid gap-4",children:[u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"campaign-name",children:"Campaign Name"}),u.jsx(Ut,{id:"campaign-name",placeholder:"e.g., Engineering Fall 2024 Outreach",value:e.name,onChange:g=>h("name",g.target.value),className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"campaign-type",children:"Campaign Type"}),u.jsxs(ua,{value:e.type,onValueChange:g=>h("type",g),children:[u.jsx(ki,{className:"mt-1",children:u.jsx(da,{placeholder:"Select campaign type"})}),u.jsx(Ci,{children:f.map(g=>{const b=g.icon;return u.jsx(Bt,{value:g.value,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`w-3 h-3 rounded-full ${g.color}`}),u.jsx(b,{className:"w-4 h-4"}),g.label]})},g.value)})})]})]})]}),m&&u.jsxs("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Zx,{className:"w-4 h-4 text-purple-500"}),u.jsx("h4",{className:"font-medium",children:"AI Personalization Engine"})]}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Instead of a single template, provide instructions. The AI will generate a",u.jsx("strong",{children:" unique message for every candidate"})," based on their city, course, and name."]}),u.jsxs("div",{className:"pt-2",children:[r?u.jsxs("div",{className:"bg-muted p-3 rounded-md text-sm italic mb-2 relative group",children:['"',r,'"',u.jsx(se,{variant:"ghost",size:"sm",className:"absolute top-1 right-1 h-6 text-xs opacity-0 group-hover:opacity-100",onClick:()=>s(!0),children:"Edit"})]}):u.jsx("div",{className:"p-3 border border-dashed rounded-md text-sm text-center text-muted-foreground mb-2",children:"No instructions set."}),u.jsxs(ai,{open:a,onOpenChange:s,children:[u.jsx(b_e,{asChild:!0,children:u.jsx(se,{variant:"outline",className:"w-full",children:r?"Edit Instructions":"Set AI Instructions"})}),u.jsxs(Mr,{className:"sm:max-w-[500px]",children:[u.jsxs(Dr,{children:[u.jsx(Lr,{children:"AI Instructions"}),u.jsx(uO,{children:"Tell the AI how to behave. It will use this prompt to write unique messages for each candidate."})]}),u.jsxs("div",{className:"py-4",children:[u.jsx(Ge,{htmlFor:"prompt",className:"mb-2 block",children:"Prompt"}),u.jsx(iu,{id:"prompt",placeholder:"Example: Be friendly and professional. Ask them about their interest in [Course]. Mention something nice about [City]. Keep it under 150 characters.",className:"min-h-[150px]",value:r,onChange:g=>i(g.target.value)})]}),u.jsx(xH,{children:u.jsx(se,{onClick:()=>s(!1),children:"Save Instructions"})})]})]})]})]}),u.jsx(se,{onClick:p,disabled:o||!e.name||!e.type||!r,className:"w-full",variant:"hero",children:o?"Initializing AI...":"Create Campaign"})]})})};var yO="Avatar",[j1e,TWe]=ps(yO),[A1e,$V]=j1e(yO),RV=S.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,a]=S.useState("idle");return u.jsx(A1e,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:u.jsx($e.span,{...r,ref:e})})});RV.displayName=yO;var MV="AvatarImage",DV=S.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=t,s=$V(MV,n),o=T1e(r,a.referrerPolicy),l=qt(c=>{i(c),s.onImageLoadingStatusChange(c)});return An(()=>{o!=="idle"&&l(o)},[o,l]),o==="loaded"?u.jsx($e.img,{...a,ref:e,src:r}):null});DV.displayName=MV;var LV="AvatarFallback",FV=S.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,a=$V(LV,n),[s,o]=S.useState(r===void 0);return S.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(l)}},[r]),s&&a.imageLoadingStatus!=="loaded"?u.jsx($e.span,{...i,ref:e}):null});FV.displayName=LV;function T1e(t,e){const[n,r]=S.useState("idle");return An(()=>{if(!t){r("error");return}let i=!0;const a=new window.Image,s=o=>()=>{i&&r(o)};return r("loading"),a.onload=s("loaded"),a.onerror=s("error"),a.src=t,e&&(a.referrerPolicy=e),()=>{i=!1}},[t,e]),n}var BV=RV,zV=DV,UV=FV;const hv=S.forwardRef(({className:t,...e},n)=>u.jsx(BV,{ref:n,className:je("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));hv.displayName=BV.displayName;const k1e=S.forwardRef(({className:t,...e},n)=>u.jsx(zV,{ref:n,className:je("aspect-square h-full w-full",t),...e}));k1e.displayName=zV.displayName;const pv=S.forwardRef(({className:t,...e},n)=>u.jsx(UV,{ref:n,className:je("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));pv.displayName=UV.displayName;const C1e=({sessionId:t,onNewSession:e,campaigns:n,stats:r})=>{const[i,a]=S.useState([{id:"1",role:"assistant",content:"Hello! I'm your AI assistant for AdmitConnect. I can help you create campaign scripts, generate personalized messages, analyze candidate data, and provide strategic advice for your outreach campaigns. How can I assist you today?",timestamp:new Date}]),[s,o]=S.useState(""),[l,c]=S.useState(!1),[d,f]=S.useState(t),h=S.useRef(null),{toast:p}=Vt(),{user:m}=Un(),g=S.useRef(new W8("dashboard"));S.useEffect(()=>{d&&x()},[d]),S.useEffect(()=>{b()},[i]);const b=()=>{if(h.current){const A=h.current.querySelector("[data-radix-scroll-area-viewport]");A&&(A.scrollTop=A.scrollHeight)}},x=async()=>{if(!(!d||!m))try{const{data:A,error:j}=await Pe.from("ai_chat_messages").select("*").eq("session_id",d).order("created_at");if(j)throw j;if(A&&A.length>0){const T=A.map(C=>({id:C.id,role:C.role,content:C.content,timestamp:new Date(C.created_at)}));a(T)}}catch(A){console.error("Error loading messages:",A)}},v=async()=>{if(!m)return null;try{const{data:A,error:j}=await Pe.from("ai_chat_sessions").insert([{user_id:m.id,title:"New Chat"}]).select().single();if(j)throw j;return A.id}catch(A){return console.error("Error creating session:",A),null}},y=async(A,j,T)=>{try{await Pe.from("ai_chat_messages").insert([{session_id:A,role:j,content:T}])}catch(C){console.error("Error saving message:",C)}},w=async A=>{try{const j=i.map(k=>({role:k.role,content:k.content})),T={campaigns:n,stats:r};return(await g.current.generateResponse(A,j,T)).content}catch(j){throw console.error("Error calling AI chat:",j),new Error("Failed to get AI response")}},_=async()=>{if(!s.trim()||l||!m)return;const A=s.trim();o(""),c(!0);let j=d;if(!j){if(j=await v(),!j){p({title:"Error",description:"Failed to create chat session",variant:"destructive"}),c(!1);return}f(j),e==null||e(j)}const C={id:`user-${Date.now()}`,role:"user",content:A,timestamp:new Date};a(k=>[...k,C]),await y(j,"user",A);try{const k=await w(A),L={id:`ai-${Date.now()}`,role:"assistant",content:k,timestamp:new Date};a(R=>[...R,L]),await y(j,"assistant",k)}catch(k){console.error("Error generating AI response:",k),p({title:"Error",description:"Failed to generate response. Please try again.",variant:"destructive"})}finally{c(!1)}},E=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),_())};return u.jsxs(ne,{className:"flex flex-col h-[500px]",children:[u.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-border",children:[u.jsx("div",{className:"w-8 h-8 bg-ai-gradient rounded-full flex items-center justify-center",children:u.jsx(Zx,{className:"w-4 h-4 text-white"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold",children:"AI Assistant"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Campaign Strategy & Script Generation"})]})]}),u.jsx(rO,{className:"flex-1 p-4",ref:h,children:u.jsxs("div",{className:"space-y-4",children:[i.map(A=>u.jsxs("div",{className:`flex gap-3 ${A.role==="user"?"justify-end":"justify-start"}`,children:[A.role==="assistant"&&u.jsx(hv,{className:"w-8 h-8",children:u.jsx(pv,{className:"bg-ai-gradient text-white",children:u.jsx(pa,{className:"w-4 h-4"})})}),u.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${A.role==="user"?"bg-primary text-primary-foreground ml-auto":"bg-muted"}`,children:[u.jsx("div",{className:"text-sm prose prose-sm dark:prose-invert max-w-none break-words",children:u.jsx(k9,{children:A.content})}),u.jsx("p",{className:"text-xs opacity-70 mt-1",children:A.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),A.role==="user"&&u.jsx(hv,{className:"w-8 h-8",children:u.jsx(pv,{children:u.jsx(Gp,{className:"w-4 h-4"})})})]},A.id)),l&&u.jsxs("div",{className:"flex gap-3 justify-start",children:[u.jsx(hv,{className:"w-8 h-8",children:u.jsx(pv,{className:"bg-ai-gradient text-white",children:u.jsx(pa,{className:"w-4 h-4"})})}),u.jsx("div",{className:"bg-muted rounded-lg p-3",children:u.jsxs("div",{className:"flex space-x-1",children:[u.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce"}),u.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),u.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})]})}),u.jsx("div",{className:"p-4 border-t border-border",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ut,{value:s,onChange:A=>o(A.target.value),placeholder:"Ask me anything about your campaigns...",onKeyPress:E,disabled:l}),u.jsx(se,{onClick:_,disabled:!s.trim()||l,size:"icon",variant:"hero",children:u.jsx(Sk,{className:"w-4 h-4"})})]})})]})};var vO="Switch",[O1e,kWe]=ps(vO),[N1e,P1e]=O1e(vO),HV=S.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:s,disabled:o,value:l="on",onCheckedChange:c,form:d,...f}=t,[h,p]=S.useState(null),m=it(e,y=>p(y)),g=S.useRef(!1),b=h?d||!!h.closest("form"):!0,[x=!1,v]=Xs({prop:i,defaultProp:a,onChange:c});return u.jsxs(N1e,{scope:n,checked:x,disabled:o,children:[u.jsx($e.button,{type:"button",role:"switch","aria-checked":x,"aria-required":s,"data-state":qV(x),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:m,onClick:pe(t.onClick,y=>{v(w=>!w),b&&(g.current=y.isPropagationStopped(),g.current||y.stopPropagation())})}),b&&u.jsx(I1e,{control:h,bubbles:!g.current,name:r,value:l,checked:x,required:s,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});HV.displayName=vO;var VV="SwitchThumb",WV=S.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=P1e(VV,n);return u.jsx($e.span,{"data-state":qV(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});WV.displayName=VV;var I1e=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,a=S.useRef(null),s=jH(n),o=GB(e);return S.useEffect(()=>{const l=a.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(s!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[s,n,r]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function qV(t){return t?"checked":"unchecked"}var GV=HV,$1e=WV;const ei=S.forwardRef(({className:t,...e},n)=>u.jsx(GV,{className:je("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:u.jsx($1e,{className:je("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ei.displayName=GV.displayName;const xO=({open:t,onOpenChange:e})=>{const{user:n}=Un(),{toast:r}=Vt(),[i,a]=S.useState(!1),[s,o]=S.useState({full_name:"",email:"",college_name:"",college_address:"",college_website:"",notifications_enabled:!0,email_alerts:!0,sms_alerts:!1});S.useEffect(()=>{n&&t&&l()},[n,t]);const l=async()=>{try{const{data:f,error:h}=await Pe.from("profiles").select("*").eq("user_id",n==null?void 0:n.id).single();if(h&&h.code!=="PGRST116")throw h;o(f?{full_name:f.full_name||"",email:f.email||(n==null?void 0:n.email)||"",college_name:f.college_name||"",college_address:f.college_address||"",college_website:f.college_website||"",notifications_enabled:f.notifications_enabled!==!1,email_alerts:f.email_alerts!==!1,sms_alerts:f.sms_alerts===!0}:p=>{var m;return{...p,email:(n==null?void 0:n.email)||"",full_name:((m=n==null?void 0:n.user_metadata)==null?void 0:m.full_name)||""}})}catch(f){console.error("Error loading profile:",f),r({title:"Error loading profile",description:"Please try again",variant:"destructive"})}},c=(f,h)=>{o(p=>({...p,[f]:h}))},d=async()=>{if(n){a(!0);try{const{error:f}=await Pe.from("profiles").upsert([{user_id:n.id,full_name:s.full_name,email:s.email,college_name:s.college_name,college_address:s.college_address,college_website:s.college_website,notifications_enabled:s.notifications_enabled,email_alerts:s.email_alerts,sms_alerts:s.sms_alerts}],{onConflict:"user_id"});if(f)throw f;const{error:h}=await Pe.auth.updateUser({data:{full_name:s.full_name}});h&&console.error("Error updating auth metadata:",h),await Pe.auth.refreshSession(),r({title:"Profile updated",description:"Your settings have been saved successfully"})}catch(f){console.error("Error saving profile:",f),r({title:"Save failed",description:"Failed to save settings. Please try again.",variant:"destructive"})}finally{a(!1)}}};return u.jsx(ai,{open:t,onOpenChange:e,children:u.jsxs(Mr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[u.jsx(Dr,{children:u.jsx(Lr,{children:"Settings"})}),u.jsxs(au,{defaultValue:"profile",className:"w-full",children:[u.jsxs(Fl,{className:"grid w-full grid-cols-3",children:[u.jsx(mt,{value:"profile",children:"Profile"}),u.jsx(mt,{value:"college",children:"College"}),u.jsx(mt,{value:"notifications",children:"Notifications"})]}),u.jsx(gt,{value:"profile",className:"space-y-4",children:u.jsxs(ne,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Gp,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"font-semibold",children:"Personal Information"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"full_name",children:"Full Name"}),u.jsx(Ut,{id:"full_name",value:s.full_name,onChange:f=>c("full_name",f.target.value),placeholder:"Enter your full name"})]}),u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"email",children:"Email Address"}),u.jsx(Ut,{id:"email",type:"email",value:s.email,onChange:f=>c("email",f.target.value),placeholder:"Enter your email"})]})]})]})}),u.jsx(gt,{value:"college",className:"space-y-4",children:u.jsxs(ne,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Eee,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"font-semibold",children:"College Information"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"college_name",children:"College/University Name"}),u.jsx(Ut,{id:"college_name",value:s.college_name,onChange:f=>c("college_name",f.target.value),placeholder:"Enter your institution name"})]}),u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"college_address",children:"Address"}),u.jsx(iu,{id:"college_address",value:s.college_address,onChange:f=>c("college_address",f.target.value),placeholder:"Enter your institution address",rows:3})]}),u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"college_website",children:"Website"}),u.jsx(Ut,{id:"college_website",type:"url",value:s.college_website,onChange:f=>c("college_website",f.target.value),placeholder:"https://your-college.edu"})]})]})]})}),u.jsx(gt,{value:"notifications",className:"space-y-4",children:u.jsxs(ne,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(fE,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"font-semibold",children:"Notification Preferences"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"notifications_enabled",className:"text-base font-normal",children:"Enable Notifications"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications about your campaigns"})]}),u.jsx(ei,{id:"notifications_enabled",checked:s.notifications_enabled,onCheckedChange:f=>c("notifications_enabled",f)})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"email_alerts",className:"text-base font-normal",children:"Email Alerts"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Get campaign updates via email"})]}),u.jsx(ei,{id:"email_alerts",checked:s.email_alerts,onCheckedChange:f=>c("email_alerts",f),disabled:!s.notifications_enabled})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"sms_alerts",className:"text-base font-normal",children:"SMS Alerts"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Get important updates via SMS"})]}),u.jsx(ei,{id:"sms_alerts",checked:s.sms_alerts,onCheckedChange:f=>c("sms_alerts",f),disabled:!s.notifications_enabled})]})]})]})})]}),u.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[u.jsx(se,{variant:"outline",onClick:()=>e(!1),children:"Cancel"}),u.jsxs(se,{onClick:d,disabled:i,variant:"hero",children:[u.jsx(Dee,{className:"w-4 h-4 mr-2"}),i?"Saving...":"Save Changes"]})]})]})})},R1e=Qm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function jn({className:t,variant:e,...n}){return u.jsx("div",{className:je(R1e({variant:e}),t),...n})}var Mj=["Enter"," "],M1e=["ArrowDown","PageUp","Home"],KV=["ArrowUp","PageDown","End"],D1e=[...M1e,...KV],L1e={ltr:[...Mj,"ArrowRight"],rtl:[...Mj,"ArrowLeft"]},F1e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},wg="Menu",[om,B1e,z1e]=Gx(wg),[su,YV]=ps(wg,[z1e,If,Yb]),Xb=If(),XV=Yb(),[U1e,ou]=su(wg),[H1e,_g]=su(wg),ZV=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:a,modal:s=!0}=t,o=Xb(e),[l,c]=S.useState(null),d=S.useRef(!1),f=qt(a),h=xg(i);return S.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),u.jsx(Mk,{...o,children:u.jsx(U1e,{scope:e,open:n,onOpenChange:f,content:l,onContentChange:c,children:u.jsx(H1e,{scope:e,onClose:S.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:s,children:r})})})};ZV.displayName=wg;var V1e="MenuAnchor",bO=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Xb(n);return u.jsx(Dk,{...i,...r,ref:e})});bO.displayName=V1e;var wO="MenuPortal",[W1e,JV]=su(wO,{forceMount:void 0}),QV=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,a=ou(wO,e);return u.jsx(W1e,{scope:e,forceMount:n,children:u.jsx(pr,{present:n||a.open,children:u.jsx(Zm,{asChild:!0,container:i,children:r})})})};QV.displayName=wO;var $i="MenuContent",[q1e,_O]=su($i),e7=S.forwardRef((t,e)=>{const n=JV($i,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=ou($i,t.__scopeMenu),s=_g($i,t.__scopeMenu);return u.jsx(om.Provider,{scope:t.__scopeMenu,children:u.jsx(pr,{present:r||a.open,children:u.jsx(om.Slot,{scope:t.__scopeMenu,children:s.modal?u.jsx(G1e,{...i,ref:e}):u.jsx(K1e,{...i,ref:e})})})})}),G1e=S.forwardRef((t,e)=>{const n=ou($i,t.__scopeMenu),r=S.useRef(null),i=it(e,r);return S.useEffect(()=>{const a=r.current;if(a)return aO(a)},[]),u.jsx(SO,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:pe(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),K1e=S.forwardRef((t,e)=>{const n=ou($i,t.__scopeMenu);return u.jsx(SO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),SO=S.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:m,...g}=t,b=ou($i,n),x=_g($i,n),v=Xb(n),y=XV(n),w=B1e(n),[_,E]=S.useState(null),A=S.useRef(null),j=it(e,A,b.onContentChange),T=S.useRef(0),C=S.useRef(""),k=S.useRef(0),O=S.useRef(null),L=S.useRef("right"),R=S.useRef(0),F=m?Hb:S.Fragment,U=m?{as:dl,allowPinchZoom:!0}:void 0,V=B=>{var N,K;const P=C.current+B,W=w().filter(z=>!z.disabled),G=document.activeElement,$=(N=W.find(z=>z.ref.current===G))==null?void 0:N.textValue,ee=W.map(z=>z.textValue),ie=sSe(ee,P,$),I=(K=W.find(z=>z.textValue===ie))==null?void 0:K.ref.current;(function z(Z){C.current=Z,window.clearTimeout(T.current),Z!==""&&(T.current=window.setTimeout(()=>z(""),1e3))})(P),I&&setTimeout(()=>I.focus())};S.useEffect(()=>()=>window.clearTimeout(T.current),[]),iO();const D=S.useCallback(B=>{var W,G;return L.current===((W=O.current)==null?void 0:W.side)&&lSe(B,(G=O.current)==null?void 0:G.area)},[]);return u.jsx(q1e,{scope:n,searchRef:C,onItemEnter:S.useCallback(B=>{D(B)&&B.preventDefault()},[D]),onItemLeave:S.useCallback(B=>{var P;D(B)||((P=A.current)==null||P.focus(),E(null))},[D]),onTriggerLeave:S.useCallback(B=>{D(B)&&B.preventDefault()},[D]),pointerGraceTimerRef:k,onPointerGraceIntentChange:S.useCallback(B=>{O.current=B},[]),children:u.jsx(F,{...U,children:u.jsx(zb,{asChild:!0,trapped:i,onMountAutoFocus:pe(a,B=>{var P;B.preventDefault(),(P=A.current)==null||P.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:u.jsx(Cf,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:u.jsx(gV,{asChild:!0,...y,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:_,onCurrentTabStopIdChange:E,onEntryFocus:pe(l,B=>{x.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(Lk,{role:"menu","aria-orientation":"vertical","data-state":g7(b.open),"data-radix-menu-content":"",dir:x.dir,...v,...g,ref:j,style:{outline:"none",...g.style},onKeyDown:pe(g.onKeyDown,B=>{const W=B.target.closest("[data-radix-menu-content]")===B.currentTarget,G=B.ctrlKey||B.altKey||B.metaKey,$=B.key.length===1;W&&(B.key==="Tab"&&B.preventDefault(),!G&&$&&V(B.key));const ee=A.current;if(B.target!==ee||!D1e.includes(B.key))return;B.preventDefault();const I=w().filter(N=>!N.disabled).map(N=>N.ref.current);KV.includes(B.key)&&I.reverse(),iSe(I)}),onBlur:pe(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(T.current),C.current="")}),onPointerMove:pe(t.onPointerMove,lm(B=>{const P=B.target,W=R.current!==B.clientX;if(B.currentTarget.contains(P)&&W){const G=B.clientX>R.current?"right":"left";L.current=G,R.current=B.clientX}}))})})})})})})});e7.displayName=$i;var Y1e="MenuGroup",EO=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx($e.div,{role:"group",...r,ref:e})});EO.displayName=Y1e;var X1e="MenuLabel",t7=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx($e.div,{...r,ref:e})});t7.displayName=X1e;var w0="MenuItem",eM="menu.itemSelect",Zb=S.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,a=S.useRef(null),s=_g(w0,t.__scopeMenu),o=_O(w0,t.__scopeMenu),l=it(e,a),c=S.useRef(!1),d=()=>{const f=a.current;if(!n&&f){const h=new CustomEvent(eM,{bubbles:!0,cancelable:!0});f.addEventListener(eM,p=>r==null?void 0:r(p),{once:!0}),yk(f,h),h.defaultPrevented?c.current=!1:s.onClose()}};return u.jsx(n7,{...i,ref:l,disabled:n,onClick:pe(t.onClick,d),onPointerDown:f=>{var h;(h=t.onPointerDown)==null||h.call(t,f),c.current=!0},onPointerUp:pe(t.onPointerUp,f=>{var h;c.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:pe(t.onKeyDown,f=>{const h=o.searchRef.current!=="";n||h&&f.key===" "||Mj.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Zb.displayName=w0;var n7=S.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=t,s=_O(w0,n),o=XV(n),l=S.useRef(null),c=it(e,l),[d,f]=S.useState(!1),[h,p]=S.useState("");return S.useEffect(()=>{const m=l.current;m&&p((m.textContent??"").trim())},[a.children]),u.jsx(om.ItemSlot,{scope:n,disabled:r,textValue:i??h,children:u.jsx(yV,{asChild:!0,...o,focusable:!r,children:u.jsx($e.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:c,onPointerMove:pe(t.onPointerMove,lm(m=>{r?s.onItemLeave(m):(s.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:pe(t.onPointerLeave,lm(m=>s.onItemLeave(m))),onFocus:pe(t.onFocus,()=>f(!0)),onBlur:pe(t.onBlur,()=>f(!1))})})})}),Z1e="MenuCheckboxItem",r7=S.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return u.jsx(l7,{scope:t.__scopeMenu,checked:n,children:u.jsx(Zb,{role:"menuitemcheckbox","aria-checked":_0(n)?"mixed":n,...i,ref:e,"data-state":AO(n),onSelect:pe(i.onSelect,()=>r==null?void 0:r(_0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});r7.displayName=Z1e;var i7="MenuRadioGroup",[J1e,Q1e]=su(i7,{value:void 0,onValueChange:()=>{}}),a7=S.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,a=qt(r);return u.jsx(J1e,{scope:t.__scopeMenu,value:n,onValueChange:a,children:u.jsx(EO,{...i,ref:e})})});a7.displayName=i7;var s7="MenuRadioItem",o7=S.forwardRef((t,e)=>{const{value:n,...r}=t,i=Q1e(s7,t.__scopeMenu),a=n===i.value;return u.jsx(l7,{scope:t.__scopeMenu,checked:a,children:u.jsx(Zb,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":AO(a),onSelect:pe(r.onSelect,()=>{var s;return(s=i.onValueChange)==null?void 0:s.call(i,n)},{checkForDefaultPrevented:!1})})})});o7.displayName=s7;var jO="MenuItemIndicator",[l7,eSe]=su(jO,{checked:!1}),c7=S.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,a=eSe(jO,n);return u.jsx(pr,{present:r||_0(a.checked)||a.checked===!0,children:u.jsx($e.span,{...i,ref:e,"data-state":AO(a.checked)})})});c7.displayName=jO;var tSe="MenuSeparator",u7=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx($e.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});u7.displayName=tSe;var nSe="MenuArrow",d7=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Xb(n);return u.jsx(Fk,{...i,...r,ref:e})});d7.displayName=nSe;var rSe="MenuSub",[CWe,f7]=su(rSe),Hh="MenuSubTrigger",h7=S.forwardRef((t,e)=>{const n=ou(Hh,t.__scopeMenu),r=_g(Hh,t.__scopeMenu),i=f7(Hh,t.__scopeMenu),a=_O(Hh,t.__scopeMenu),s=S.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=a,c={__scopeMenu:t.__scopeMenu},d=S.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return S.useEffect(()=>d,[d]),S.useEffect(()=>{const f=o.current;return()=>{window.clearTimeout(f),l(null)}},[o,l]),u.jsx(bO,{asChild:!0,...c,children:u.jsx(n7,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":g7(n.open),...t,ref:qx(e,i.onTriggerChange),onClick:f=>{var h;(h=t.onClick)==null||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:pe(t.onPointerMove,lm(f=>{a.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!s.current&&(a.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:pe(t.onPointerLeave,lm(f=>{var p,m;d();const h=(p=n.content)==null?void 0:p.getBoundingClientRect();if(h){const g=(m=n.content)==null?void 0:m.dataset.side,b=g==="right",x=b?-5:5,v=h[b?"left":"right"],y=h[b?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:v,y:h.top},{x:y,y:h.top},{x:y,y:h.bottom},{x:v,y:h.bottom}],side:g}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:pe(t.onKeyDown,f=>{var p;const h=a.searchRef.current!=="";t.disabled||h&&f.key===" "||L1e[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});h7.displayName=Hh;var p7="MenuSubContent",m7=S.forwardRef((t,e)=>{const n=JV($i,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=ou($i,t.__scopeMenu),s=_g($i,t.__scopeMenu),o=f7(p7,t.__scopeMenu),l=S.useRef(null),c=it(e,l);return u.jsx(om.Provider,{scope:t.__scopeMenu,children:u.jsx(pr,{present:r||a.open,children:u.jsx(om.Slot,{scope:t.__scopeMenu,children:u.jsx(SO,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:c,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;s.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:pe(t.onFocusOutside,d=>{d.target!==o.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:pe(t.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:pe(t.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=F1e[s.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(p=o.trigger)==null||p.focus(),d.preventDefault())})})})})})});m7.displayName=p7;function g7(t){return t?"open":"closed"}function _0(t){return t==="indeterminate"}function AO(t){return _0(t)?"indeterminate":t?"checked":"unchecked"}function iSe(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function aSe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function sSe(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let s=aSe(t,Math.max(a,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function oSe(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const o=e[a].x,l=e[a].y,c=e[s].x,d=e[s].y;l>r!=d>r&&n<(c-o)*(r-l)/(d-l)+o&&(i=!i)}return i}function lSe(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return oSe(n,e)}function lm(t){return e=>e.pointerType==="mouse"?t(e):void 0}var cSe=ZV,uSe=bO,dSe=QV,fSe=e7,hSe=EO,pSe=t7,mSe=Zb,gSe=r7,ySe=a7,vSe=o7,xSe=c7,bSe=u7,wSe=d7,_Se=h7,SSe=m7,TO="DropdownMenu",[ESe,OWe]=ps(TO,[YV]),gr=YV(),[jSe,y7]=ESe(TO),v7=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:s,modal:o=!0}=t,l=gr(e),c=S.useRef(null),[d=!1,f]=Xs({prop:i,defaultProp:a,onChange:s});return u.jsx(jSe,{scope:e,triggerId:ga(),triggerRef:c,contentId:ga(),open:d,onOpenChange:f,onOpenToggle:S.useCallback(()=>f(h=>!h),[f]),modal:o,children:u.jsx(cSe,{...l,open:d,onOpenChange:f,dir:r,modal:o,children:n})})};v7.displayName=TO;var x7="DropdownMenuTrigger",b7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,a=y7(x7,n),s=gr(n);return u.jsx(uSe,{asChild:!0,...s,children:u.jsx($e.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:qx(e,a.triggerRef),onPointerDown:pe(t.onPointerDown,o=>{!r&&o.button===0&&o.ctrlKey===!1&&(a.onOpenToggle(),a.open||o.preventDefault())}),onKeyDown:pe(t.onKeyDown,o=>{r||(["Enter"," "].includes(o.key)&&a.onOpenToggle(),o.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});b7.displayName=x7;var ASe="DropdownMenuPortal",w7=t=>{const{__scopeDropdownMenu:e,...n}=t,r=gr(e);return u.jsx(dSe,{...r,...n})};w7.displayName=ASe;var _7="DropdownMenuContent",S7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=y7(_7,n),a=gr(n),s=S.useRef(!1);return u.jsx(fSe,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:pe(t.onCloseAutoFocus,o=>{var l;s.current||(l=i.triggerRef.current)==null||l.focus(),s.current=!1,o.preventDefault()}),onInteractOutside:pe(t.onInteractOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!i.modal||d)&&(s.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});S7.displayName=_7;var TSe="DropdownMenuGroup",kSe=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return u.jsx(hSe,{...i,...r,ref:e})});kSe.displayName=TSe;var CSe="DropdownMenuLabel",E7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return u.jsx(pSe,{...i,...r,ref:e})});E7.displayName=CSe;var OSe="DropdownMenuItem",j7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return u.jsx(mSe,{...i,...r,ref:e})});j7.displayName=OSe;var NSe="DropdownMenuCheckboxItem",A7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return u.jsx(gSe,{...i,...r,ref:e})});A7.displayName=NSe;var PSe="DropdownMenuRadioGroup",ISe=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return u.jsx(ySe,{...i,...r,ref:e})});ISe.displayName=PSe;var $Se="DropdownMenuRadioItem",T7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return u.jsx(vSe,{...i,...r,ref:e})});T7.displayName=$Se;var RSe="DropdownMenuItemIndicator",k7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return u.jsx(xSe,{...i,...r,ref:e})});k7.displayName=RSe;var MSe="DropdownMenuSeparator",C7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return u.jsx(bSe,{...i,...r,ref:e})});C7.displayName=MSe;var DSe="DropdownMenuArrow",LSe=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return u.jsx(wSe,{...i,...r,ref:e})});LSe.displayName=DSe;var FSe="DropdownMenuSubTrigger",O7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return u.jsx(_Se,{...i,...r,ref:e})});O7.displayName=FSe;var BSe="DropdownMenuSubContent",N7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return u.jsx(SSe,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});N7.displayName=BSe;var zSe=v7,USe=b7,HSe=w7,P7=S7,I7=E7,$7=j7,R7=A7,M7=T7,D7=k7,L7=C7,F7=O7,B7=N7;const VSe=zSe,WSe=USe,qSe=S.forwardRef(({className:t,inset:e,children:n,...r},i)=>u.jsxs(F7,{ref:i,className:je("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,u.jsx(jee,{className:"ml-auto h-4 w-4"})]}));qSe.displayName=F7.displayName;const GSe=S.forwardRef(({className:t,...e},n)=>u.jsx(B7,{ref:n,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));GSe.displayName=B7.displayName;const z7=S.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(HSe,{children:u.jsx(P7,{ref:r,sideOffset:e,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));z7.displayName=P7.displayName;const mv=S.forwardRef(({className:t,inset:e,...n},r)=>u.jsx($7,{ref:r,className:je("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));mv.displayName=$7.displayName;const KSe=S.forwardRef(({className:t,children:e,checked:n,...r},i)=>u.jsxs(R7,{ref:i,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(D7,{children:u.jsx(Xx,{className:"h-4 w-4"})})}),e]}));KSe.displayName=R7.displayName;const YSe=S.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(M7,{ref:r,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(D7,{children:u.jsx(Tee,{className:"h-2 w-2 fill-current"})})}),e]}));YSe.displayName=M7.displayName;const XSe=S.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(I7,{ref:r,className:je("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));XSe.displayName=I7.displayName;const ZSe=S.forwardRef(({className:t,...e},n)=>u.jsx(L7,{ref:n,className:je("-mx-1 my-1 h-px bg-muted",t),...e}));ZSe.displayName=L7.displayName;const Eo="https://admit-ai-backend.onrender.com/api",kO={campaigns:{create:async(t,e,n,r=["email","whatsapp"])=>{const i=await fetch(`${Eo}/campaigns/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t,name:e,goal:n,channels:r})});if(!i.ok)throw new Error("Failed to create campaign via AI Agent");return i.json()},execute:async t=>{const e=await fetch(`${Eo}/campaigns/execute`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({campaign_id:t})});if(!e.ok)throw new Error("Failed to execute campaign");return e.json()},delete:async t=>{const e=await fetch(`${Eo}/campaigns/${t}`,{method:"DELETE"});if(!e.ok)throw new Error("Failed to delete campaign context");return e.json()}},candidates:{upload:async t=>{const e=await fetch(`${Eo}/candidates/upload`,{method:"POST",body:t});if(!e.ok){const n=await e.json();throw new Error(n.message||"Failed to upload candidates")}return e.json()},uploadBatch:async(t,e,n)=>{const r={user_id:t,candidates:e,campaign_id:n},i=await fetch(`${Eo}/candidates/batch`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!i.ok){const a=await i.json();throw new Error(a.detail||"Failed to batch upload candidates")}return i.json()}},analytics:{get:async t=>{const e=t?`${Eo}/analytics?campaign_id=${t}`:`${Eo}/analytics`,n=await fetch(e);if(!n.ok)throw new Error("Failed to fetch analytics");return n.json()}},contact:{submit:async(t,e,n)=>{const r=await fetch(`${Eo}/contact`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:e,message:n})});if(!r.ok){const i=await r.json();throw new Error(i.error||"Failed to send message")}return r.json()}}},CO=Object.freeze(Object.defineProperty({__proto__:null,api:kO},Symbol.toStringTag,{value:"Module"})),Dj=({campaign:t,onUpdate:e})=>{const[n,r]=S.useState(!1),{toast:i}=Vt(),a=f=>{switch(f){case"active":return"bg-green-500/10 text-green-500 border-green-500/20";case"paused":return"bg-yellow-500/10 text-yellow-500 border-yellow-500/20";case"completed":return"bg-blue-500/10 text-blue-500 border-blue-500/20";default:return"bg-gray-500/10 text-gray-500 border-gray-500/20"}},s=f=>{switch(f){case"whatsapp":return u.jsx(ci,{className:"w-4 h-4"});case"voice":return u.jsx(Ta,{className:"w-4 h-4"});default:return u.jsx($r,{className:"w-4 h-4"})}},o=async()=>{r(!0);try{const f=t.status==="active"?"paused":"active",{error:h}=await Pe.from("campaigns").update({status:f}).eq("id",t.id);if(h)throw h;i({title:`Campaign ${f}`,description:`Campaign has been ${f}.`}),e()}catch(f){console.error("Error updating campaign status:",f),i({title:"Update failed",description:"Failed to update campaign status.",variant:"destructive"})}finally{r(!1)}},l=async()=>{r(!0);try{console.log("Deleting campaign:",t.id),await kO.campaigns.delete(t.id),i({title:"Campaign deleted",description:"Campaign has been permanently deleted."}),e()}catch(f){console.error("Error deleting campaign:",f),i({title:"Delete failed",description:"Failed to delete campaign. Check console for details.",variant:"destructive"})}finally{r(!1)}},c=f=>new Date(f).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),d=t.candidates_count>0?Math.round(t.responses_received/t.candidates_count*100):0;return u.jsx(ne,{className:"p-6 hover-lift",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[s(t.type),u.jsx("h3",{className:"font-semibold text-lg",children:t.name})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(jn,{className:`border ${a(t.status)}`,children:t.status}),u.jsx(jn,{variant:"outline",children:t.type.charAt(0).toUpperCase()+t.type.slice(1)})]})]}),u.jsxs(VSe,{children:[u.jsx(WSe,{asChild:!0,children:u.jsx(se,{variant:"ghost",size:"sm",children:u.jsx(Cee,{className:"w-4 h-4"})})}),u.jsxs(z7,{align:"end",children:[u.jsx(mv,{onClick:o,disabled:n,children:t.status==="active"?u.jsxs(u.Fragment,{children:[u.jsx(jB,{className:"w-4 h-4 mr-2"}),"Pause Campaign"]}):u.jsxs(u.Fragment,{children:[u.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Start Campaign"]})}),u.jsxs(mv,{disabled:!0,children:[u.jsx(Bee,{className:"w-4 h-4 mr-2"}),"Edit Campaign"]}),u.jsxs(mv,{onClick:l,className:"text-destructive",disabled:n,children:[u.jsx(jk,{className:"w-4 h-4 mr-2"}),"Delete Campaign"]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-primary",children:t.candidates_count}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Candidates"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-green-500",children:t.messages_sent}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Messages"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-500",children:t.calls_made}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Calls"})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"text-2xl font-bold text-orange-500",children:[d,"%"]}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Response Rate"})]})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground pt-2 border-t border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Wp,{className:"w-3 h-3"}),"Created ",c(t.created_at)]}),t.scheduled_at&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Wp,{className:"w-3 h-3"}),"Scheduled ",c(t.scheduled_at)]})]})]})})},OO=({open:t,onOpenChange:e})=>{Vt(),Un();const n=()=>{window.open("https://rzp.io/rzp/DOVfKeU","_blank"),e(!1)},r=[{name:"Starter",price:"999",originalPrice:"1,999",period:"/month",description:"Perfect for small colleges",icon:Zx,features:["500 voice calls/month","1,000 WhatsApp messages","Basic analytics dashboard","Email support","2 campaign templates"],popular:!1,discount:"50% OFF"},{name:"Professional",price:"2,999",originalPrice:"5,999",period:"/month",description:"Most popular for growing institutions",icon:Fr,features:["2,500 voice calls/month","5,000 WhatsApp messages","Advanced analytics & reports","Priority support","Unlimited campaign templates","Custom voice training","A/B testing"],popular:!0,discount:"50% OFF"},{name:"Enterprise",price:"9,999",originalPrice:"19,999",period:"/month",description:"For large universities",icon:EB,features:["10,000+ voice calls/month","20,000+ WhatsApp messages","Custom analytics dashboard","24/7 phone support","White-label solution","API access","Dedicated account manager","Custom integrations"],popular:!1,discount:"50% OFF"}];return u.jsx(ai,{open:t,onOpenChange:e,children:u.jsxs(Mr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[u.jsxs(Dr,{children:[u.jsx(Lr,{className:"text-center text-2xl",children:"Upgrade to Pro - Limited Time Offer!"}),u.jsx("p",{className:"text-center text-muted-foreground",children:"Transform your admission process with AI-powered automation"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:r.map((i,a)=>{const s=i.icon;return u.jsxs(ne,{className:`relative p-6 ${i.popular?"ring-2 ring-primary border-primary":""}`,children:[i.popular&&u.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:u.jsx(jn,{className:"bg-primary text-primary-foreground",children:"Most Popular"})}),u.jsxs("div",{className:"text-center space-y-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"w-12 h-12 bg-ai-gradient rounded-lg flex items-center justify-center mx-auto mb-4",children:u.jsx(s,{className:"w-6 h-6 text-white"})}),u.jsx("h3",{className:"text-xl font-bold",children:i.name}),u.jsx("p",{className:"text-sm text-muted-foreground",children:i.description})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("span",{className:"text-3xl font-bold text-primary",children:i.price}),u.jsx("span",{className:"text-muted-foreground",children:i.period})]}),u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("span",{className:"text-sm line-through text-muted-foreground",children:i.originalPrice}),u.jsx(jn,{variant:"destructive",className:"text-xs",children:i.discount})]})]}),u.jsx("div",{className:"space-y-2 text-left",children:i.features.map((o,l)=>u.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[u.jsx(ma,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),u.jsx("span",{children:o})]},l))}),u.jsx(se,{variant:i.popular?"hero":"outline",size:"lg",onClick:n,className:"w-full mt-6",children:i.popular?"Choose Pro":`Get ${i.name}`})]})]},a)})}),u.jsx("div",{className:"mt-8 p-6 bg-ai-gradient-subtle rounded-lg",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("h3",{className:"text-xl font-bold",children:" Special Launch Offer"}),u.jsx("p",{className:"text-muted-foreground",children:"Get 50% off for the first 3 months. No setup fees. Cancel anytime."}),u.jsxs("div",{className:"flex justify-center items-center gap-4 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ma,{className:"w-4 h-4 text-green-500"}),u.jsx("span",{children:"30-day money-back guarantee"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ma,{className:"w-4 h-4 text-green-500"}),u.jsx("span",{children:"24/7 customer support"})]})]})]})}),u.jsx("div",{className:"text-center text-xs text-muted-foreground mt-4",children:u.jsx("p",{children:"Payments are secured by Razorpay. Your card details are never stored on our servers."})})]})})};function JSe(t,e=[]){let n=[];function r(a,s){const o=S.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||o,b=S.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:b,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||o,m=S.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,d]}const i=()=>{const a=n.map(s=>S.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,QSe(i,...e)]}function QSe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var NO="Progress",PO=100,[eEe,NWe]=JSe(NO),[tEe,nEe]=eEe(NO),U7=S.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=rEe,...s}=t;(i||i===0)&&!tM(i)&&console.error(iEe(`${i}`,"Progress"));const o=tM(i)?i:PO;r!==null&&!nM(r,o)&&console.error(aEe(`${r}`,"Progress"));const l=nM(r,o)?r:null,c=S0(l)?a(l,o):void 0;return u.jsx(tEe,{scope:n,value:l,max:o,children:u.jsx($e.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":S0(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":W7(l,o),"data-value":l??void 0,"data-max":o,...s,ref:e})})});U7.displayName=NO;var H7="ProgressIndicator",V7=S.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=nEe(H7,n);return u.jsx($e.div,{"data-state":W7(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});V7.displayName=H7;function rEe(t,e){return`${Math.round(t/e*100)}%`}function W7(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function S0(t){return typeof t=="number"}function tM(t){return S0(t)&&!isNaN(t)&&t>0}function nM(t,e){return S0(t)&&!isNaN(t)&&t<=e&&t>=0}function iEe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${PO}\`.`}function aEe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${PO} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var q7=U7,sEe=V7;const Oi=S.forwardRef(({className:t,value:e,...n},r)=>u.jsx(q7,{ref:r,className:je("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:u.jsx(sEe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Oi.displayName=q7.displayName;var oEe=Array.isArray,zr=oEe,lEe=typeof un=="object"&&un&&un.Object===Object&&un,G7=lEe,cEe=G7,uEe=typeof self=="object"&&self&&self.Object===Object&&self,dEe=cEe||uEe||Function("return this")(),ys=dEe,fEe=ys,hEe=fEe.Symbol,Sg=hEe,rM=Sg,K7=Object.prototype,pEe=K7.hasOwnProperty,mEe=K7.toString,wh=rM?rM.toStringTag:void 0;function gEe(t){var e=pEe.call(t,wh),n=t[wh];try{t[wh]=void 0;var r=!0}catch{}var i=mEe.call(t);return r&&(e?t[wh]=n:delete t[wh]),i}var yEe=gEe,vEe=Object.prototype,xEe=vEe.toString;function bEe(t){return xEe.call(t)}var wEe=bEe,iM=Sg,_Ee=yEe,SEe=wEe,EEe="[object Null]",jEe="[object Undefined]",aM=iM?iM.toStringTag:void 0;function AEe(t){return t==null?t===void 0?jEe:EEe:aM&&aM in Object(t)?_Ee(t):SEe(t)}var ho=AEe;function TEe(t){return t!=null&&typeof t=="object"}var po=TEe,kEe=ho,CEe=po,OEe="[object Symbol]";function NEe(t){return typeof t=="symbol"||CEe(t)&&kEe(t)==OEe}var Vf=NEe,PEe=zr,IEe=Vf,$Ee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,REe=/^\w*$/;function MEe(t,e){if(PEe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||IEe(t)?!0:REe.test(t)||!$Ee.test(t)||e!=null&&t in Object(e)}var IO=MEe;function DEe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Bl=DEe;const Wf=at(Bl);var LEe=ho,FEe=Bl,BEe="[object AsyncFunction]",zEe="[object Function]",UEe="[object GeneratorFunction]",HEe="[object Proxy]";function VEe(t){if(!FEe(t))return!1;var e=LEe(t);return e==zEe||e==UEe||e==BEe||e==HEe}var $O=VEe;const Ue=at($O);var WEe=ys,qEe=WEe["__core-js_shared__"],GEe=qEe,N1=GEe,sM=function(){var t=/[^.]+$/.exec(N1&&N1.keys&&N1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function KEe(t){return!!sM&&sM in t}var YEe=KEe,XEe=Function.prototype,ZEe=XEe.toString;function JEe(t){if(t!=null){try{return ZEe.call(t)}catch{}try{return t+""}catch{}}return""}var Y7=JEe,QEe=$O,eje=YEe,tje=Bl,nje=Y7,rje=/[\\^$.*+?()[\]{}|]/g,ije=/^\[object .+?Constructor\]$/,aje=Function.prototype,sje=Object.prototype,oje=aje.toString,lje=sje.hasOwnProperty,cje=RegExp("^"+oje.call(lje).replace(rje,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function uje(t){if(!tje(t)||eje(t))return!1;var e=QEe(t)?cje:ije;return e.test(nje(t))}var dje=uje;function fje(t,e){return t==null?void 0:t[e]}var hje=fje,pje=dje,mje=hje;function gje(t,e){var n=mje(t,e);return pje(n)?n:void 0}var lu=gje,yje=lu,vje=yje(Object,"create"),Jb=vje,oM=Jb;function xje(){this.__data__=oM?oM(null):{},this.size=0}var bje=xje;function wje(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var _je=wje,Sje=Jb,Eje="__lodash_hash_undefined__",jje=Object.prototype,Aje=jje.hasOwnProperty;function Tje(t){var e=this.__data__;if(Sje){var n=e[t];return n===Eje?void 0:n}return Aje.call(e,t)?e[t]:void 0}var kje=Tje,Cje=Jb,Oje=Object.prototype,Nje=Oje.hasOwnProperty;function Pje(t){var e=this.__data__;return Cje?e[t]!==void 0:Nje.call(e,t)}var Ije=Pje,$je=Jb,Rje="__lodash_hash_undefined__";function Mje(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=$je&&e===void 0?Rje:e,this}var Dje=Mje,Lje=bje,Fje=_je,Bje=kje,zje=Ije,Uje=Dje;function qf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}qf.prototype.clear=Lje;qf.prototype.delete=Fje;qf.prototype.get=Bje;qf.prototype.has=zje;qf.prototype.set=Uje;var Hje=qf;function Vje(){this.__data__=[],this.size=0}var Wje=Vje;function qje(t,e){return t===e||t!==t&&e!==e}var RO=qje,Gje=RO;function Kje(t,e){for(var n=t.length;n--;)if(Gje(t[n][0],e))return n;return-1}var Qb=Kje,Yje=Qb,Xje=Array.prototype,Zje=Xje.splice;function Jje(t){var e=this.__data__,n=Yje(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Zje.call(e,n,1),--this.size,!0}var Qje=Jje,eAe=Qb;function tAe(t){var e=this.__data__,n=eAe(e,t);return n<0?void 0:e[n][1]}var nAe=tAe,rAe=Qb;function iAe(t){return rAe(this.__data__,t)>-1}var aAe=iAe,sAe=Qb;function oAe(t,e){var n=this.__data__,r=sAe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var lAe=oAe,cAe=Wje,uAe=Qje,dAe=nAe,fAe=aAe,hAe=lAe;function Gf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Gf.prototype.clear=cAe;Gf.prototype.delete=uAe;Gf.prototype.get=dAe;Gf.prototype.has=fAe;Gf.prototype.set=hAe;var ew=Gf,pAe=lu,mAe=ys,gAe=pAe(mAe,"Map"),MO=gAe,lM=Hje,yAe=ew,vAe=MO;function xAe(){this.size=0,this.__data__={hash:new lM,map:new(vAe||yAe),string:new lM}}var bAe=xAe;function wAe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var _Ae=wAe,SAe=_Ae;function EAe(t,e){var n=t.__data__;return SAe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var tw=EAe,jAe=tw;function AAe(t){var e=jAe(this,t).delete(t);return this.size-=e?1:0,e}var TAe=AAe,kAe=tw;function CAe(t){return kAe(this,t).get(t)}var OAe=CAe,NAe=tw;function PAe(t){return NAe(this,t).has(t)}var IAe=PAe,$Ae=tw;function RAe(t,e){var n=$Ae(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var MAe=RAe,DAe=bAe,LAe=TAe,FAe=OAe,BAe=IAe,zAe=MAe;function Kf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Kf.prototype.clear=DAe;Kf.prototype.delete=LAe;Kf.prototype.get=FAe;Kf.prototype.has=BAe;Kf.prototype.set=zAe;var DO=Kf,X7=DO,UAe="Expected a function";function LO(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(UAe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(LO.Cache||X7),n}LO.Cache=X7;var Z7=LO;const HAe=at(Z7);var VAe=Z7,WAe=500;function qAe(t){var e=VAe(t,function(r){return n.size===WAe&&n.clear(),r}),n=e.cache;return e}var GAe=qAe,KAe=GAe,YAe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,XAe=/\\(\\)?/g,ZAe=KAe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(YAe,function(n,r,i,a){e.push(i?a.replace(XAe,"$1"):r||n)}),e}),JAe=ZAe;function QAe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var FO=QAe,cM=Sg,eTe=FO,tTe=zr,nTe=Vf,rTe=1/0,uM=cM?cM.prototype:void 0,dM=uM?uM.toString:void 0;function J7(t){if(typeof t=="string")return t;if(tTe(t))return eTe(t,J7)+"";if(nTe(t))return dM?dM.call(t):"";var e=t+"";return e=="0"&&1/t==-rTe?"-0":e}var iTe=J7,aTe=iTe;function sTe(t){return t==null?"":aTe(t)}var Q7=sTe,oTe=zr,lTe=IO,cTe=JAe,uTe=Q7;function dTe(t,e){return oTe(t)?t:lTe(t,e)?[t]:cTe(uTe(t))}var eW=dTe,fTe=Vf,hTe=1/0;function pTe(t){if(typeof t=="string"||fTe(t))return t;var e=t+"";return e=="0"&&1/t==-hTe?"-0":e}var nw=pTe,mTe=eW,gTe=nw;function yTe(t,e){e=mTe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[gTe(e[n++])];return n&&n==r?t:void 0}var BO=yTe,vTe=BO;function xTe(t,e,n){var r=t==null?void 0:vTe(t,e);return r===void 0?n:r}var tW=xTe;const si=at(tW);function bTe(t){return t==null}var wTe=bTe;const Ve=at(wTe);var _Te=ho,STe=zr,ETe=po,jTe="[object String]";function ATe(t){return typeof t=="string"||!STe(t)&&ETe(t)&&_Te(t)==jTe}var TTe=ATe;const Eg=at(TTe);var nW={exports:{}},St={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zO=Symbol.for("react.element"),UO=Symbol.for("react.portal"),rw=Symbol.for("react.fragment"),iw=Symbol.for("react.strict_mode"),aw=Symbol.for("react.profiler"),sw=Symbol.for("react.provider"),ow=Symbol.for("react.context"),kTe=Symbol.for("react.server_context"),lw=Symbol.for("react.forward_ref"),cw=Symbol.for("react.suspense"),uw=Symbol.for("react.suspense_list"),dw=Symbol.for("react.memo"),fw=Symbol.for("react.lazy"),CTe=Symbol.for("react.offscreen"),rW;rW=Symbol.for("react.module.reference");function Bi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case zO:switch(t=t.type,t){case rw:case aw:case iw:case cw:case uw:return t;default:switch(t=t&&t.$$typeof,t){case kTe:case ow:case lw:case fw:case dw:case sw:return t;default:return e}}case UO:return e}}}St.ContextConsumer=ow;St.ContextProvider=sw;St.Element=zO;St.ForwardRef=lw;St.Fragment=rw;St.Lazy=fw;St.Memo=dw;St.Portal=UO;St.Profiler=aw;St.StrictMode=iw;St.Suspense=cw;St.SuspenseList=uw;St.isAsyncMode=function(){return!1};St.isConcurrentMode=function(){return!1};St.isContextConsumer=function(t){return Bi(t)===ow};St.isContextProvider=function(t){return Bi(t)===sw};St.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===zO};St.isForwardRef=function(t){return Bi(t)===lw};St.isFragment=function(t){return Bi(t)===rw};St.isLazy=function(t){return Bi(t)===fw};St.isMemo=function(t){return Bi(t)===dw};St.isPortal=function(t){return Bi(t)===UO};St.isProfiler=function(t){return Bi(t)===aw};St.isStrictMode=function(t){return Bi(t)===iw};St.isSuspense=function(t){return Bi(t)===cw};St.isSuspenseList=function(t){return Bi(t)===uw};St.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===rw||t===aw||t===iw||t===cw||t===uw||t===CTe||typeof t=="object"&&t!==null&&(t.$$typeof===fw||t.$$typeof===dw||t.$$typeof===sw||t.$$typeof===ow||t.$$typeof===lw||t.$$typeof===rW||t.getModuleId!==void 0)};St.typeOf=Bi;nW.exports=St;var iW=nW.exports,OTe=ho,NTe=po,PTe="[object Number]";function ITe(t){return typeof t=="number"||NTe(t)&&OTe(t)==PTe}var aW=ITe;const $Te=at(aW);var RTe=aW;function MTe(t){return RTe(t)&&t!=+t}var DTe=MTe;const Yf=at(DTe);var lr=function(e){return e===0?0:e>0?1:-1},dc=function(e){return Eg(e)&&e.indexOf("%")===e.length-1},de=function(e){return $Te(e)&&!Yf(e)},En=function(e){return de(e)||Eg(e)},LTe=0,cu=function(e){var n=++LTe;return"".concat(e||"").concat(n)},cr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(e)&&!Eg(e))return r;var a;if(dc(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return Yf(a)&&(a=r),i&&a>n&&(a=n),a},Mo=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},FTe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},_n=function(e,n){return de(e)&&de(n)?function(r){return e+r*(n-e)}:function(){return n}};function E0(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):si(r,e))===n})}function xd(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Lj(t){"@babel/helpers - typeof";return Lj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lj(t)}var BTe=["viewBox","children"],zTe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],fM=["points","pathLength"],P1={svg:BTe,polygon:fM,polyline:fM},HO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],j0=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(S.isValidElement(e)&&(r=e.props),!Wf(r))return null;var i={};return Object.keys(r).forEach(function(a){HO.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},UTe=function(e,n,r){return function(i){return e(n,r,i),null}},Vc=function(e,n,r){if(!Wf(e)||Lj(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];HO.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=UTe(s,n,r))}),i},HTe=["children"],VTe=["children"];function hM(t,e){if(t==null)return{};var n=WTe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Fj(t){"@babel/helpers - typeof";return Fj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fj(t)}var pM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Hs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},mM=null,I1=null,VO=function t(e){if(e===mM&&Array.isArray(I1))return I1;var n=[];return S.Children.forEach(e,function(r){Ve(r)||(iW.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),I1=n,mM=e,n};function oi(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Hs(i)}):r=[Hs(e)],VO(t).forEach(function(i){var a=si(i,"type.displayName")||si(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Yr(t,e){var n=oi(t,e);return n&&n[0]}var gM=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!de(r)||r<=0||!de(i)||i<=0)},qTe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],GTe=function(e){return e&&e.type&&Eg(e.type)&&qTe.indexOf(e.type)>=0},sW=function(e){return e&&Fj(e)==="object"&&"clipDot"in e},KTe=function(e,n,r,i){var a,s=(a=P1==null?void 0:P1[i])!==null&&a!==void 0?a:[];return!Ue(e)&&(i&&s.includes(n)||zTe.includes(n))||r&&HO.includes(n)},Ie=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(S.isValidElement(e)&&(i=e.props),!Wf(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;KTe((o=i)===null||o===void 0?void 0:o[s],s,n,r)&&(a[s]=i[s])}),a},Bj=function t(e,n){if(e===n)return!0;var r=S.Children.count(e);if(r!==S.Children.count(n))return!1;if(r===0)return!0;if(r===1)return yM(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!yM(a,s))return!1}return!0},yM=function(e,n){if(Ve(e)&&Ve(n))return!0;if(!Ve(e)&&!Ve(n)){var r=e.props||{},i=r.children,a=hM(r,HTe),s=n.props||{},o=s.children,l=hM(s,VTe);return i&&o?xd(a,l)&&Bj(i,o):!i&&!o?xd(a,l):!1}return!1},vM=function(e,n){var r=[],i={};return VO(e).forEach(function(a,s){if(GTe(a))r.push(a);else if(a){var o=Hs(a.type),l=n[o]||{},c=l.handler,d=l.once;if(c&&(!d||!i[o])){var f=c(a,o,s);r.push(f),i[o]=!0}}}),r},YTe=function(e){var n=e&&e.type;return n&&pM[n]?pM[n]:null},XTe=function(e,n){return VO(n).indexOf(e)},ZTe=["children","width","height","viewBox","className","style","title","desc"];function zj(){return zj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zj.apply(this,arguments)}function JTe(t,e){if(t==null)return{};var n=QTe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Uj(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,c=JTe(t,ZTe),d=i||{width:n,height:r,x:0,y:0},f=Ke("recharts-surface",a);return M.createElement("svg",zj({},Ie(c,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),M.createElement("title",null,o),M.createElement("desc",null,l),e)}var eke=["children","className"];function Hj(){return Hj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hj.apply(this,arguments)}function tke(t,e){if(t==null)return{};var n=nke(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ot=M.forwardRef(function(t,e){var n=t.children,r=t.className,i=tke(t,eke),a=Ke("recharts-layer",r);return M.createElement("g",Hj({className:a},Ie(i,!0),{ref:e}),n)}),va=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function rke(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var ike=rke,ake=ike;function ske(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:ake(t,e,n)}var oke=ske,lke="\\ud800-\\udfff",cke="\\u0300-\\u036f",uke="\\ufe20-\\ufe2f",dke="\\u20d0-\\u20ff",fke=cke+uke+dke,hke="\\ufe0e\\ufe0f",pke="\\u200d",mke=RegExp("["+pke+lke+fke+hke+"]");function gke(t){return mke.test(t)}var oW=gke;function yke(t){return t.split("")}var vke=yke,lW="\\ud800-\\udfff",xke="\\u0300-\\u036f",bke="\\ufe20-\\ufe2f",wke="\\u20d0-\\u20ff",_ke=xke+bke+wke,Ske="\\ufe0e\\ufe0f",Eke="["+lW+"]",Vj="["+_ke+"]",Wj="\\ud83c[\\udffb-\\udfff]",jke="(?:"+Vj+"|"+Wj+")",cW="[^"+lW+"]",uW="(?:\\ud83c[\\udde6-\\uddff]){2}",dW="[\\ud800-\\udbff][\\udc00-\\udfff]",Ake="\\u200d",fW=jke+"?",hW="["+Ske+"]?",Tke="(?:"+Ake+"(?:"+[cW,uW,dW].join("|")+")"+hW+fW+")*",kke=hW+fW+Tke,Cke="(?:"+[cW+Vj+"?",Vj,uW,dW,Eke].join("|")+")",Oke=RegExp(Wj+"(?="+Wj+")|"+Cke+kke,"g");function Nke(t){return t.match(Oke)||[]}var Pke=Nke,Ike=vke,$ke=oW,Rke=Pke;function Mke(t){return $ke(t)?Rke(t):Ike(t)}var Dke=Mke,Lke=oke,Fke=oW,Bke=Dke,zke=Q7;function Uke(t){return function(e){e=zke(e);var n=Fke(e)?Bke(e):void 0,r=n?n[0]:e.charAt(0),i=n?Lke(n,1).join(""):e.slice(1);return r[t]()+i}}var Hke=Uke,Vke=Hke,Wke=Vke("toUpperCase"),qke=Wke;const hw=at(qke);function Nt(t){return function(){return t}}const pW=Math.cos,A0=Math.sin,Pa=Math.sqrt,T0=Math.PI,pw=2*T0,qj=Math.PI,Gj=2*qj,nc=1e-6,Gke=Gj-nc;function mW(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Kke(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return mW;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Yke{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?mW:Kke(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,c=i-n,d=s-e,f=o-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>nc)if(!(Math.abs(f*l-c*d)>nc)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,m=i-o,g=l*l+c*c,b=p*p+m*m,x=Math.sqrt(g),v=Math.sqrt(h),y=a*Math.tan((qj-Math.acos((g+h-b)/(2*x*v)))/2),w=y/v,_=y/x;Math.abs(w-1)>nc&&this._append`L${e+w*d},${n+w*f}`,this._append`A${a},${a},0,0,${+(f*p>d*m)},${this._x1=e+_*l},${this._y1=n+_*c}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,d=n+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>nc||Math.abs(this._y1-d)>nc)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%Gj+Gj),h>Gke?this._append`A${r},${r},0,1,${f},${e-o},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>nc&&this._append`A${r},${r},0,${+(h>=qj)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function WO(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Yke(e)}function qO(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function gW(t){this._context=t}gW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function mw(t){return new gW(t)}function yW(t){return t[0]}function vW(t){return t[1]}function xW(t,e){var n=Nt(!0),r=null,i=mw,a=null,s=WO(o);t=typeof t=="function"?t:t===void 0?yW:Nt(t),e=typeof e=="function"?e:e===void 0?vW:Nt(e);function o(l){var c,d=(l=qO(l)).length,f,h=!1,p;for(r==null&&(a=i(p=s())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,c,l),+e(f,c,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Nt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Nt(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Nt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function Oy(t,e,n){var r=null,i=Nt(!0),a=null,s=mw,o=null,l=WO(c);t=typeof t=="function"?t:t===void 0?yW:Nt(+t),e=typeof e=="function"?e:Nt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?vW:Nt(+n);function c(f){var h,p,m,g=(f=qO(f)).length,b,x=!1,v,y=new Array(g),w=new Array(g);for(a==null&&(o=s(v=l())),h=0;h<=g;++h){if(!(h<g&&i(b=f[h],h,f))===x)if(x=!x)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=h-1;m>=p;--m)o.point(y[m],w[m]);o.lineEnd(),o.areaEnd()}x&&(y[h]=+t(b,h,f),w[h]=+e(b,h,f),o.point(r?+r(b,h,f):y[h],n?+n(b,h,f):w[h]))}if(v)return o=null,v+""||null}function d(){return xW().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Nt(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Nt(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Nt(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Nt(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Nt(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Nt(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(n)},c.lineX1=function(){return d().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Nt(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class bW{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Xke(t){return new bW(t,!0)}function Zke(t){return new bW(t,!1)}const GO={draw(t,e){const n=Pa(e/T0);t.moveTo(n,0),t.arc(0,0,n,0,pw)}},Jke={draw(t,e){const n=Pa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},wW=Pa(1/3),Qke=wW*2,eCe={draw(t,e){const n=Pa(e/Qke),r=n*wW;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},tCe={draw(t,e){const n=Pa(e),r=-n/2;t.rect(r,r,n,n)}},nCe=.8908130915292852,_W=A0(T0/10)/A0(7*T0/10),rCe=A0(pw/10)*_W,iCe=-pW(pw/10)*_W,aCe={draw(t,e){const n=Pa(e*nCe),r=rCe*n,i=iCe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=pw*a/5,o=pW(s),l=A0(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},$1=Pa(3),sCe={draw(t,e){const n=-Pa(e/($1*3));t.moveTo(0,n*2),t.lineTo(-$1*n,-n),t.lineTo($1*n,-n),t.closePath()}},mi=-.5,gi=Pa(3)/2,Kj=1/Pa(12),oCe=(Kj/2+1)*3,lCe={draw(t,e){const n=Pa(e/oCe),r=n/2,i=n*Kj,a=r,s=n*Kj+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(mi*r-gi*i,gi*r+mi*i),t.lineTo(mi*a-gi*s,gi*a+mi*s),t.lineTo(mi*o-gi*l,gi*o+mi*l),t.lineTo(mi*r+gi*i,mi*i-gi*r),t.lineTo(mi*a+gi*s,mi*s-gi*a),t.lineTo(mi*o+gi*l,mi*l-gi*o),t.closePath()}};function cCe(t,e){let n=null,r=WO(i);t=typeof t=="function"?t:Nt(t||GO),e=typeof e=="function"?e:Nt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Nt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Nt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function k0(){}function C0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function SW(t){this._context=t}SW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:C0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:C0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function uCe(t){return new SW(t)}function EW(t){this._context=t}EW.prototype={areaStart:k0,areaEnd:k0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:C0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dCe(t){return new EW(t)}function jW(t){this._context=t}jW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:C0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fCe(t){return new jW(t)}function AW(t){this._context=t}AW.prototype={areaStart:k0,areaEnd:k0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function hCe(t){return new AW(t)}function xM(t){return t<0?-1:1}function bM(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(xM(a)+xM(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function wM(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function R1(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function O0(t){this._context=t}O0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:R1(this,this._t0,wM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,R1(this,wM(this,n=bM(this,t,e)),n);break;default:R1(this,this._t0,n=bM(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function TW(t){this._context=new kW(t)}(TW.prototype=Object.create(O0.prototype)).point=function(t,e){O0.prototype.point.call(this,e,t)};function kW(t){this._context=t}kW.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function pCe(t){return new O0(t)}function mCe(t){return new TW(t)}function CW(t){this._context=t}CW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=_M(t),i=_M(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function _M(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function gCe(t){return new CW(t)}function gw(t,e){this._context=t,this._t=e}gw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function yCe(t){return new gw(t,.5)}function vCe(t){return new gw(t,0)}function xCe(t){return new gw(t,1)}function Jd(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Yj(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function bCe(t,e){return t[e]}function wCe(t){const e=[];return e.key=t,e}function _Ce(){var t=Nt([]),e=Yj,n=Jd,r=bCe;function i(a){var s=Array.from(t.apply(this,arguments),wCe),o,l=s.length,c=-1,d;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(f,s[o].key,c,a)]).data=f;for(o=0,d=qO(e(s));o<l;++o)s[d[o]].index=o;return n(s,d),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Nt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Nt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?Yj:typeof a=="function"?a:Nt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Jd,i):n},i}function SCe(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Jd(t,e)}}function ECe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}Jd(t,e)}}function jCe(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var d=t[e[o]],f=d[r][1]||0,h=d[r-1][1]||0,p=(f-h)/2,m=0;m<o;++m){var g=t[e[m]],b=g[r][1]||0,x=g[r-1][1]||0;p+=b-x}l+=f,c+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Jd(t,e)}}function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(t)}var ACe=["type","size","sizeType"];function Xj(){return Xj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xj.apply(this,arguments)}function SM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(n),!0).forEach(function(r){TCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TCe(t,e,n){return e=kCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kCe(t){var e=CCe(t,"string");return cm(e)=="symbol"?e:e+""}function CCe(t,e){if(cm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OCe(t,e){if(t==null)return{};var n=NCe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var OW={symbolCircle:GO,symbolCross:Jke,symbolDiamond:eCe,symbolSquare:tCe,symbolStar:aCe,symbolTriangle:sCe,symbolWye:lCe},PCe=Math.PI/180,ICe=function(e){var n="symbol".concat(hw(e));return OW[n]||GO},$Ce=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*PCe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},RCe=function(e,n){OW["symbol".concat(hw(e))]=n},KO=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=OCe(e,ACe),c=EM(EM({},l),{},{type:r,size:a,sizeType:o}),d=function(){var b=ICe(r),x=cCe().type(b).size($Ce(a,o,r));return x()},f=c.className,h=c.cx,p=c.cy,m=Ie(c,!0);return h===+h&&p===+p&&a===+a?M.createElement("path",Xj({},m,{className:Ke("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};KO.registerSymbol=RCe;function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}function Zj(){return Zj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zj.apply(this,arguments)}function jM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MCe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(n),!0).forEach(function(r){um(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PW(r.key),r)}}function FCe(t,e,n){return e&&LCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BCe(t,e,n){return e=N0(e),zCe(t,NW()?Reflect.construct(e,n||[],N0(t).constructor):e.apply(t,n))}function zCe(t,e){if(e&&(Qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UCe(t)}function UCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NW=function(){return!!t})()}function N0(t){return N0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},N0(t)}function HCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jj(t,e)}function Jj(t,e){return Jj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jj(t,e)}function um(t,e,n){return e=PW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PW(t){var e=VCe(t,"string");return Qd(e)=="symbol"?e:e+""}function VCe(t,e){if(Qd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yi=32,YO=function(t){function e(){return DCe(this,e),BCe(this,e,arguments)}return HCe(e,t),FCe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=yi/2,s=yi/6,o=yi/3,l=r.inactive?i:r.color;if(r.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:yi,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(yi,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(yi/8,"h").concat(yi,"v").concat(yi*3/4,"h").concat(-yi,"z"),className:"recharts-legend-icon"});if(M.isValidElement(r.legendIcon)){var c=MCe({},r);return delete c.legendIcon,M.cloneElement(r.legendIcon,c)}return M.createElement(KO,{fill:l,cx:a,cy:a,size:yi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:yi,height:yi},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,m){var g=p.formatter||l,b=Ke(um(um({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=Ue(p.value)?null:p.value;va(!Ue(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=p.inactive?c:p.color;return M.createElement("li",Zj({className:b,style:f,key:"legend-item-".concat(m)},Vc(r.props,p,m)),M.createElement(Uj,{width:s,height:s,viewBox:d,style:h},r.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},g?g(x,p,m):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(S.PureComponent);um(YO,"displayName","Legend");um(YO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var WCe=ew;function qCe(){this.__data__=new WCe,this.size=0}var GCe=qCe;function KCe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var YCe=KCe;function XCe(t){return this.__data__.get(t)}var ZCe=XCe;function JCe(t){return this.__data__.has(t)}var QCe=JCe,eOe=ew,tOe=MO,nOe=DO,rOe=200;function iOe(t,e){var n=this.__data__;if(n instanceof eOe){var r=n.__data__;if(!tOe||r.length<rOe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new nOe(r)}return n.set(t,e),this.size=n.size,this}var aOe=iOe,sOe=ew,oOe=GCe,lOe=YCe,cOe=ZCe,uOe=QCe,dOe=aOe;function Xf(t){var e=this.__data__=new sOe(t);this.size=e.size}Xf.prototype.clear=oOe;Xf.prototype.delete=lOe;Xf.prototype.get=cOe;Xf.prototype.has=uOe;Xf.prototype.set=dOe;var IW=Xf,fOe="__lodash_hash_undefined__";function hOe(t){return this.__data__.set(t,fOe),this}var pOe=hOe;function mOe(t){return this.__data__.has(t)}var gOe=mOe,yOe=DO,vOe=pOe,xOe=gOe;function P0(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new yOe;++e<n;)this.add(t[e])}P0.prototype.add=P0.prototype.push=vOe;P0.prototype.has=xOe;var $W=P0;function bOe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var RW=bOe;function wOe(t,e){return t.has(e)}var MW=wOe,_Oe=$W,SOe=RW,EOe=MW,jOe=1,AOe=2;function TOe(t,e,n,r,i,a){var s=n&jOe,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(t),d=a.get(e);if(c&&d)return c==e&&d==t;var f=-1,h=!0,p=n&AOe?new _Oe:void 0;for(a.set(t,e),a.set(e,t);++f<o;){var m=t[f],g=e[f];if(r)var b=s?r(g,m,f,e,t,a):r(m,g,f,t,e,a);if(b!==void 0){if(b)continue;h=!1;break}if(p){if(!SOe(e,function(x,v){if(!EOe(p,v)&&(m===x||i(m,x,n,r,a)))return p.push(v)})){h=!1;break}}else if(!(m===g||i(m,g,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var DW=TOe,kOe=ys,COe=kOe.Uint8Array,OOe=COe;function NOe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var POe=NOe;function IOe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var XO=IOe,AM=Sg,TM=OOe,$Oe=RO,ROe=DW,MOe=POe,DOe=XO,LOe=1,FOe=2,BOe="[object Boolean]",zOe="[object Date]",UOe="[object Error]",HOe="[object Map]",VOe="[object Number]",WOe="[object RegExp]",qOe="[object Set]",GOe="[object String]",KOe="[object Symbol]",YOe="[object ArrayBuffer]",XOe="[object DataView]",kM=AM?AM.prototype:void 0,M1=kM?kM.valueOf:void 0;function ZOe(t,e,n,r,i,a,s){switch(n){case XOe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case YOe:return!(t.byteLength!=e.byteLength||!a(new TM(t),new TM(e)));case BOe:case zOe:case VOe:return $Oe(+t,+e);case UOe:return t.name==e.name&&t.message==e.message;case WOe:case GOe:return t==e+"";case HOe:var o=MOe;case qOe:var l=r&LOe;if(o||(o=DOe),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=FOe,s.set(t,e);var d=ROe(o(t),o(e),r,i,a,s);return s.delete(t),d;case KOe:if(M1)return M1.call(t)==M1.call(e)}return!1}var JOe=ZOe;function QOe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var LW=QOe,eNe=LW,tNe=zr;function nNe(t,e,n){var r=e(t);return tNe(t)?r:eNe(r,n(t))}var rNe=nNe;function iNe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var aNe=iNe;function sNe(){return[]}var oNe=sNe,lNe=aNe,cNe=oNe,uNe=Object.prototype,dNe=uNe.propertyIsEnumerable,CM=Object.getOwnPropertySymbols,fNe=CM?function(t){return t==null?[]:(t=Object(t),lNe(CM(t),function(e){return dNe.call(t,e)}))}:cNe,hNe=fNe;function pNe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var mNe=pNe,gNe=ho,yNe=po,vNe="[object Arguments]";function xNe(t){return yNe(t)&&gNe(t)==vNe}var bNe=xNe,OM=bNe,wNe=po,FW=Object.prototype,_Ne=FW.hasOwnProperty,SNe=FW.propertyIsEnumerable,ENe=OM(function(){return arguments}())?OM:function(t){return wNe(t)&&_Ne.call(t,"callee")&&!SNe.call(t,"callee")},ZO=ENe,I0={exports:{}};function jNe(){return!1}var ANe=jNe;I0.exports;(function(t,e){var n=ys,r=ANe,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(I0,I0.exports);var BW=I0.exports,TNe=9007199254740991,kNe=/^(?:0|[1-9]\d*)$/;function CNe(t,e){var n=typeof t;return e=e??TNe,!!e&&(n=="number"||n!="symbol"&&kNe.test(t))&&t>-1&&t%1==0&&t<e}var JO=CNe,ONe=9007199254740991;function NNe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ONe}var QO=NNe,PNe=ho,INe=QO,$Ne=po,RNe="[object Arguments]",MNe="[object Array]",DNe="[object Boolean]",LNe="[object Date]",FNe="[object Error]",BNe="[object Function]",zNe="[object Map]",UNe="[object Number]",HNe="[object Object]",VNe="[object RegExp]",WNe="[object Set]",qNe="[object String]",GNe="[object WeakMap]",KNe="[object ArrayBuffer]",YNe="[object DataView]",XNe="[object Float32Array]",ZNe="[object Float64Array]",JNe="[object Int8Array]",QNe="[object Int16Array]",ePe="[object Int32Array]",tPe="[object Uint8Array]",nPe="[object Uint8ClampedArray]",rPe="[object Uint16Array]",iPe="[object Uint32Array]",Ft={};Ft[XNe]=Ft[ZNe]=Ft[JNe]=Ft[QNe]=Ft[ePe]=Ft[tPe]=Ft[nPe]=Ft[rPe]=Ft[iPe]=!0;Ft[RNe]=Ft[MNe]=Ft[KNe]=Ft[DNe]=Ft[YNe]=Ft[LNe]=Ft[FNe]=Ft[BNe]=Ft[zNe]=Ft[UNe]=Ft[HNe]=Ft[VNe]=Ft[WNe]=Ft[qNe]=Ft[GNe]=!1;function aPe(t){return $Ne(t)&&INe(t.length)&&!!Ft[PNe(t)]}var sPe=aPe;function oPe(t){return function(e){return t(e)}}var zW=oPe,$0={exports:{}};$0.exports;(function(t,e){var n=G7,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})($0,$0.exports);var lPe=$0.exports,cPe=sPe,uPe=zW,NM=lPe,PM=NM&&NM.isTypedArray,dPe=PM?uPe(PM):cPe,UW=dPe,fPe=mNe,hPe=ZO,pPe=zr,mPe=BW,gPe=JO,yPe=UW,vPe=Object.prototype,xPe=vPe.hasOwnProperty;function bPe(t,e){var n=pPe(t),r=!n&&hPe(t),i=!n&&!r&&mPe(t),a=!n&&!r&&!i&&yPe(t),s=n||r||i||a,o=s?fPe(t.length,String):[],l=o.length;for(var c in t)(e||xPe.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||gPe(c,l)))&&o.push(c);return o}var wPe=bPe,_Pe=Object.prototype;function SPe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||_Pe;return t===n}var EPe=SPe;function jPe(t,e){return function(n){return t(e(n))}}var HW=jPe,APe=HW,TPe=APe(Object.keys,Object),kPe=TPe,CPe=EPe,OPe=kPe,NPe=Object.prototype,PPe=NPe.hasOwnProperty;function IPe(t){if(!CPe(t))return OPe(t);var e=[];for(var n in Object(t))PPe.call(t,n)&&n!="constructor"&&e.push(n);return e}var $Pe=IPe,RPe=$O,MPe=QO;function DPe(t){return t!=null&&MPe(t.length)&&!RPe(t)}var jg=DPe,LPe=wPe,FPe=$Pe,BPe=jg;function zPe(t){return BPe(t)?LPe(t):FPe(t)}var yw=zPe,UPe=rNe,HPe=hNe,VPe=yw;function WPe(t){return UPe(t,VPe,HPe)}var qPe=WPe,IM=qPe,GPe=1,KPe=Object.prototype,YPe=KPe.hasOwnProperty;function XPe(t,e,n,r,i,a){var s=n&GPe,o=IM(t),l=o.length,c=IM(e),d=c.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in e:YPe.call(e,h)))return!1}var p=a.get(t),m=a.get(e);if(p&&m)return p==e&&m==t;var g=!0;a.set(t,e),a.set(e,t);for(var b=s;++f<l;){h=o[f];var x=t[h],v=e[h];if(r)var y=s?r(v,x,h,e,t,a):r(x,v,h,t,e,a);if(!(y===void 0?x===v||i(x,v,n,r,a):y)){g=!1;break}b||(b=h=="constructor")}if(g&&!b){var w=t.constructor,_=e.constructor;w!=_&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof _=="function"&&_ instanceof _)&&(g=!1)}return a.delete(t),a.delete(e),g}var ZPe=XPe,JPe=lu,QPe=ys,eIe=JPe(QPe,"DataView"),tIe=eIe,nIe=lu,rIe=ys,iIe=nIe(rIe,"Promise"),aIe=iIe,sIe=lu,oIe=ys,lIe=sIe(oIe,"Set"),VW=lIe,cIe=lu,uIe=ys,dIe=cIe(uIe,"WeakMap"),fIe=dIe,Qj=tIe,eA=MO,tA=aIe,nA=VW,rA=fIe,WW=ho,Zf=Y7,$M="[object Map]",hIe="[object Object]",RM="[object Promise]",MM="[object Set]",DM="[object WeakMap]",LM="[object DataView]",pIe=Zf(Qj),mIe=Zf(eA),gIe=Zf(tA),yIe=Zf(nA),vIe=Zf(rA),rc=WW;(Qj&&rc(new Qj(new ArrayBuffer(1)))!=LM||eA&&rc(new eA)!=$M||tA&&rc(tA.resolve())!=RM||nA&&rc(new nA)!=MM||rA&&rc(new rA)!=DM)&&(rc=function(t){var e=WW(t),n=e==hIe?t.constructor:void 0,r=n?Zf(n):"";if(r)switch(r){case pIe:return LM;case mIe:return $M;case gIe:return RM;case yIe:return MM;case vIe:return DM}return e});var xIe=rc,D1=IW,bIe=DW,wIe=JOe,_Ie=ZPe,FM=xIe,BM=zr,zM=BW,SIe=UW,EIe=1,UM="[object Arguments]",HM="[object Array]",Ny="[object Object]",jIe=Object.prototype,VM=jIe.hasOwnProperty;function AIe(t,e,n,r,i,a){var s=BM(t),o=BM(e),l=s?HM:FM(t),c=o?HM:FM(e);l=l==UM?Ny:l,c=c==UM?Ny:c;var d=l==Ny,f=c==Ny,h=l==c;if(h&&zM(t)){if(!zM(e))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new D1),s||SIe(t)?bIe(t,e,n,r,i,a):wIe(t,e,l,n,r,i,a);if(!(n&EIe)){var p=d&&VM.call(t,"__wrapped__"),m=f&&VM.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,b=m?e.value():e;return a||(a=new D1),i(g,b,n,r,a)}}return h?(a||(a=new D1),_Ie(t,e,n,r,i,a)):!1}var TIe=AIe,kIe=TIe,WM=po;function qW(t,e,n,r,i){return t===e?!0:t==null||e==null||!WM(t)&&!WM(e)?t!==t&&e!==e:kIe(t,e,n,r,qW,i)}var eN=qW,CIe=IW,OIe=eN,NIe=1,PIe=2;function IIe(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var o=n[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=n[i];var l=o[0],c=t[l],d=o[1];if(s&&o[2]){if(c===void 0&&!(l in t))return!1}else{var f=new CIe;if(r)var h=r(c,d,l,t,e,f);if(!(h===void 0?OIe(d,c,NIe|PIe,r,f):h))return!1}}return!0}var $Ie=IIe,RIe=Bl;function MIe(t){return t===t&&!RIe(t)}var GW=MIe,DIe=GW,LIe=yw;function FIe(t){for(var e=LIe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,DIe(i)]}return e}var BIe=FIe;function zIe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var KW=zIe,UIe=$Ie,HIe=BIe,VIe=KW;function WIe(t){var e=HIe(t);return e.length==1&&e[0][2]?VIe(e[0][0],e[0][1]):function(n){return n===t||UIe(n,t,e)}}var qIe=WIe;function GIe(t,e){return t!=null&&e in Object(t)}var KIe=GIe,YIe=eW,XIe=ZO,ZIe=zr,JIe=JO,QIe=QO,e2e=nw;function t2e(t,e,n){e=YIe(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=e2e(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&QIe(i)&&JIe(s,i)&&(ZIe(t)||XIe(t)))}var n2e=t2e,r2e=KIe,i2e=n2e;function a2e(t,e){return t!=null&&i2e(t,e,r2e)}var s2e=a2e,o2e=eN,l2e=tW,c2e=s2e,u2e=IO,d2e=GW,f2e=KW,h2e=nw,p2e=1,m2e=2;function g2e(t,e){return u2e(t)&&d2e(e)?f2e(h2e(t),e):function(n){var r=l2e(n,t);return r===void 0&&r===e?c2e(n,t):o2e(e,r,p2e|m2e)}}var y2e=g2e;function v2e(t){return t}var Jf=v2e;function x2e(t){return function(e){return e==null?void 0:e[t]}}var b2e=x2e,w2e=BO;function _2e(t){return function(e){return w2e(e,t)}}var S2e=_2e,E2e=b2e,j2e=S2e,A2e=IO,T2e=nw;function k2e(t){return A2e(t)?E2e(T2e(t)):j2e(t)}var C2e=k2e,O2e=qIe,N2e=y2e,P2e=Jf,I2e=zr,$2e=C2e;function R2e(t){return typeof t=="function"?t:t==null?P2e:typeof t=="object"?I2e(t)?N2e(t[0],t[1]):O2e(t):$2e(t)}var vs=R2e;function M2e(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var YW=M2e;function D2e(t){return t!==t}var L2e=D2e;function F2e(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var B2e=F2e,z2e=YW,U2e=L2e,H2e=B2e;function V2e(t,e,n){return e===e?H2e(t,e,n):z2e(t,U2e,n)}var W2e=V2e,q2e=W2e;function G2e(t,e){var n=t==null?0:t.length;return!!n&&q2e(t,e,0)>-1}var K2e=G2e;function Y2e(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var X2e=Y2e;function Z2e(){}var J2e=Z2e,L1=VW,Q2e=J2e,e$e=XO,t$e=1/0,n$e=L1&&1/e$e(new L1([,-0]))[1]==t$e?function(t){return new L1(t)}:Q2e,r$e=n$e,i$e=$W,a$e=K2e,s$e=X2e,o$e=MW,l$e=r$e,c$e=XO,u$e=200;function d$e(t,e,n){var r=-1,i=a$e,a=t.length,s=!0,o=[],l=o;if(n)s=!1,i=s$e;else if(a>=u$e){var c=e?null:l$e(t);if(c)return c$e(c);s=!1,i=o$e,l=new i$e}else l=e?[]:o;e:for(;++r<a;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),o.push(d)}else i(l,f,n)||(l!==o&&l.push(f),o.push(d))}return o}var f$e=d$e,h$e=vs,p$e=f$e;function m$e(t,e){return t&&t.length?p$e(t,h$e(e)):[]}var g$e=m$e;const qM=at(g$e);function XW(t,e,n){return e===!0?qM(t,n):Ue(e)?qM(t,e):t}function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}var y$e=["ref"];function GM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GM(Object(n),!0).forEach(function(r){vw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JW(r.key),r)}}function x$e(t,e,n){return e&&KM(t.prototype,e),n&&KM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function b$e(t,e,n){return e=R0(e),w$e(t,ZW()?Reflect.construct(e,n||[],R0(t).constructor):e.apply(t,n))}function w$e(t,e){if(e&&(ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _$e(t)}function _$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZW=function(){return!!t})()}function R0(t){return R0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},R0(t)}function S$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iA(t,e)}function iA(t,e){return iA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iA(t,e)}function vw(t,e,n){return e=JW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JW(t){var e=E$e(t,"string");return ef(e)=="symbol"?e:e+""}function E$e(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j$e(t,e){if(t==null)return{};var n=A$e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A$e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function T$e(t){return t.value}function k$e(t,e){if(M.isValidElement(t))return M.cloneElement(t,e);if(typeof t=="function")return M.createElement(t,e);e.ref;var n=j$e(e,y$e);return M.createElement(YO,n)}var YM=1,ol=function(t){function e(){var n;v$e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=b$e(this,e,[].concat(i)),vw(n,"lastBoundingBox",{width:-1,height:-1}),n}return S$e(e,t),x$e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>YM||Math.abs(i.height-this.lastBoundingBox.height)>YM)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_s({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return _s(_s({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,f=_s(_s({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},k$e(a,_s(_s({},this.props),{},{payload:XW(d,c,T$e)})))}}],[{key:"getWithHeight",value:function(r,i){var a=_s(_s({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&de(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(S.PureComponent);vw(ol,"displayName","Legend");vw(ol,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var XM=Sg,C$e=ZO,O$e=zr,ZM=XM?XM.isConcatSpreadable:void 0;function N$e(t){return O$e(t)||C$e(t)||!!(ZM&&t&&t[ZM])}var P$e=N$e,I$e=LW,$$e=P$e;function QW(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=$$e),i||(i=[]);++a<s;){var o=t[a];e>0&&n(o)?e>1?QW(o,e-1,n,r,i):I$e(i,o):r||(i[i.length]=o)}return i}var eq=QW;function R$e(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var l=s[t?o:++i];if(n(a[l],l,a)===!1)break}return e}}var M$e=R$e,D$e=M$e,L$e=D$e(),F$e=L$e,B$e=F$e,z$e=yw;function U$e(t,e){return t&&B$e(t,e,z$e)}var tq=U$e,H$e=jg;function V$e(t,e){return function(n,r){if(n==null)return n;if(!H$e(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var W$e=V$e,q$e=tq,G$e=W$e,K$e=G$e(q$e),tN=K$e,Y$e=tN,X$e=jg;function Z$e(t,e){var n=-1,r=X$e(t)?Array(t.length):[];return Y$e(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var nq=Z$e;function J$e(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Q$e=J$e,JM=Vf;function eRe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=JM(t),s=e!==void 0,o=e===null,l=e===e,c=JM(e);if(!o&&!c&&!a&&t>e||a&&s&&l&&!o&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!l)return-1}return 0}var tRe=eRe,nRe=tRe;function rRe(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,o=n.length;++r<s;){var l=nRe(i[r],a[r]);if(l){if(r>=o)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var iRe=rRe,F1=FO,aRe=BO,sRe=vs,oRe=nq,lRe=Q$e,cRe=zW,uRe=iRe,dRe=Jf,fRe=zr;function hRe(t,e,n){e.length?e=F1(e,function(a){return fRe(a)?function(s){return aRe(s,a.length===1?a[0]:a)}:a}):e=[dRe];var r=-1;e=F1(e,cRe(sRe));var i=oRe(t,function(a,s,o){var l=F1(e,function(c){return c(a)});return{criteria:l,index:++r,value:a}});return lRe(i,function(a,s){return uRe(a,s,n)})}var pRe=hRe;function mRe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var gRe=mRe,yRe=gRe,QM=Math.max;function vRe(t,e,n){return e=QM(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=QM(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(s),yRe(t,this,o)}}var xRe=vRe;function bRe(t){return function(){return t}}var wRe=bRe,_Re=lu,SRe=function(){try{var t=_Re(Object,"defineProperty");return t({},"",{}),t}catch{}}(),rq=SRe,ERe=wRe,eD=rq,jRe=Jf,ARe=eD?function(t,e){return eD(t,"toString",{configurable:!0,enumerable:!1,value:ERe(e),writable:!0})}:jRe,TRe=ARe,kRe=800,CRe=16,ORe=Date.now;function NRe(t){var e=0,n=0;return function(){var r=ORe(),i=CRe-(r-n);if(n=r,i>0){if(++e>=kRe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var PRe=NRe,IRe=TRe,$Re=PRe,RRe=$Re(IRe),MRe=RRe,DRe=Jf,LRe=xRe,FRe=MRe;function BRe(t,e){return FRe(LRe(t,e,DRe),t+"")}var zRe=BRe,URe=RO,HRe=jg,VRe=JO,WRe=Bl;function qRe(t,e,n){if(!WRe(n))return!1;var r=typeof e;return(r=="number"?HRe(n)&&VRe(e,n.length):r=="string"&&e in n)?URe(n[e],t):!1}var xw=qRe,GRe=eq,KRe=pRe,YRe=zRe,tD=xw,XRe=YRe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&tD(t,e[0],e[1])?e=[]:n>2&&tD(e[0],e[1],e[2])&&(e=[e[0]]),KRe(t,GRe(e,1),[])}),ZRe=XRe;const nN=at(ZRe);function dm(t){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(t)}function aA(){return aA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aA.apply(this,arguments)}function JRe(t,e){return nMe(t)||tMe(t,e)||eMe(t,e)||QRe()}function QRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eMe(t,e){if(t){if(typeof t=="string")return nD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nD(t,e)}}function nD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tMe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function nMe(t){if(Array.isArray(t))return t}function rD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rD(Object(n),!0).forEach(function(r){rMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rMe(t,e,n){return e=iMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iMe(t){var e=aMe(t,"string");return dm(e)=="symbol"?e:e+""}function aMe(t,e){if(dm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sMe(t){return Array.isArray(t)&&En(t[0])&&En(t[1])?t.join(" ~ "):t}var oMe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,b=e.labelFormatter,x=e.accessibilityLayer,v=x===void 0?!1:x,y=function(){if(d&&d.length){var O={padding:0,margin:0},L=(h?nN(d,h):d).map(function(R,F){if(R.type==="none")return null;var U=B1({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},o),V=R.formatter||f||sMe,D=R.value,B=R.name,P=D,W=B;if(V&&P!=null&&W!=null){var G=V(D,B,R,F,d);if(Array.isArray(G)){var $=JRe(G,2);P=$[0],W=$[1]}else P=G}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:U},En(W)?M.createElement("span",{className:"recharts-tooltip-item-name"},W):null,En(W)?M.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,M.createElement("span",{className:"recharts-tooltip-item-value"},P),M.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:O},L)}return null},w=B1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),_=B1({margin:0},c),E=!Ve(g),A=E?g:"",j=Ke("recharts-default-tooltip",p),T=Ke("recharts-tooltip-label",m);E&&b&&d!==void 0&&d!==null&&(A=b(g,d));var C=v?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",aA({className:j,style:w},C),M.createElement("p",{className:T,style:_},M.isValidElement(A)?A:"".concat(A)),y())};function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}function Py(t,e,n){return e=lMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lMe(t){var e=cMe(t,"string");return fm(e)=="symbol"?e:e+""}function cMe(t,e){if(fm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _h="recharts-tooltip-wrapper",uMe={visibility:"hidden"};function dMe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ke(_h,Py(Py(Py(Py({},"".concat(_h,"-right"),de(n)&&e&&de(e.x)&&n>=e.x),"".concat(_h,"-left"),de(n)&&e&&de(e.x)&&n<e.x),"".concat(_h,"-bottom"),de(r)&&e&&de(e.y)&&r>=e.y),"".concat(_h,"-top"),de(r)&&e&&de(e.y)&&r<e.y))}function iD(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&de(a[r]))return a[r];var d=n[r]-o-i,f=n[r]+i;if(e[r])return s[r]?d:f;if(s[r]){var h=d,p=l[r];return h<p?Math.max(f,l[r]):Math.max(d,l[r])}var m=f+o,g=l[r]+c;return m>g?Math.max(d,l[r]):Math.max(f,l[r])}function fMe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function hMe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,d,f;return s.height>0&&s.width>0&&n?(d=iD({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=iD({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=fMe({translateX:d,translateY:f,useTranslate3d:o})):c=uMe,{cssProperties:c,cssClasses:dMe({translateX:d,translateY:f,coordinate:n})}}function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function aD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(n),!0).forEach(function(r){oA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mMe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aq(r.key),r)}}function gMe(t,e,n){return e&&mMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yMe(t,e,n){return e=M0(e),vMe(t,iq()?Reflect.construct(e,n||[],M0(t).constructor):e.apply(t,n))}function vMe(t,e){if(e&&(tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xMe(t)}function xMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iq=function(){return!!t})()}function M0(t){return M0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},M0(t)}function bMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sA(t,e)}function sA(t,e){return sA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sA(t,e)}function oA(t,e,n){return e=aq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aq(t){var e=wMe(t,"string");return tf(e)=="symbol"?e:e+""}function wMe(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oD=1,_Me=function(t){function e(){var n;pMe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=yMe(this,e,[].concat(i)),oA(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),oA(n,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),n}return bMe(e,t),gMe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>oD||Math.abs(r.height-this.state.lastBoundingBox.height)>oD)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,b=i.useTranslate3d,x=i.viewBox,v=i.wrapperStyle,y=hMe({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:x}),w=y.cssClasses,_=y.cssProperties,E=sD(sD({transition:h&&a?"transform ".concat(o,"ms ").concat(l):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return M.createElement("div",{tabIndex:-1,className:w,style:E,ref:function(j){r.wrapperNode=j}},c)}}])}(S.PureComponent),SMe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},xa={isSsr:SMe(),get:function(e){return xa[e]},set:function(e,n){if(typeof e=="string")xa[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){xa[i]=e[i]})}}};function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function lD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lD(Object(n),!0).forEach(function(r){rN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jMe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oq(r.key),r)}}function AMe(t,e,n){return e&&jMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TMe(t,e,n){return e=D0(e),kMe(t,sq()?Reflect.construct(e,n||[],D0(t).constructor):e.apply(t,n))}function kMe(t,e){if(e&&(nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CMe(t)}function CMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sq=function(){return!!t})()}function D0(t){return D0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},D0(t)}function OMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lA(t,e)}function lA(t,e){return lA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lA(t,e)}function rN(t,e,n){return e=oq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oq(t){var e=NMe(t,"string");return nf(e)=="symbol"?e:e+""}function NMe(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PMe(t){return t.dataKey}function IMe(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(oMe,e)}var wr=function(t){function e(){return EMe(this,e),TMe(this,e,arguments)}return OMe(e,t),AMe(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,b=i.position,x=i.reverseDirection,v=i.useTranslate3d,y=i.viewBox,w=i.wrapperStyle,_=m??[];f&&_.length&&(_=XW(m.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),g,PMe));var E=_.length>0;return M.createElement(_Me,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:a,coordinate:d,hasPayload:E,offset:p,position:b,reverseDirection:x,useTranslate3d:v,viewBox:y,wrapperStyle:w},IMe(c,cD(cD({},this.props),{},{payload:_})))}}])}(S.PureComponent);rN(wr,"displayName","Tooltip");rN(wr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!xa.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var $Me=ys,RMe=function(){return $Me.Date.now()},MMe=RMe,DMe=/\s/;function LMe(t){for(var e=t.length;e--&&DMe.test(t.charAt(e)););return e}var FMe=LMe,BMe=FMe,zMe=/^\s+/;function UMe(t){return t&&t.slice(0,BMe(t)+1).replace(zMe,"")}var HMe=UMe,VMe=HMe,uD=Bl,WMe=Vf,dD=NaN,qMe=/^[-+]0x[0-9a-f]+$/i,GMe=/^0b[01]+$/i,KMe=/^0o[0-7]+$/i,YMe=parseInt;function XMe(t){if(typeof t=="number")return t;if(WMe(t))return dD;if(uD(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=uD(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=VMe(t);var n=GMe.test(t);return n||KMe.test(t)?YMe(t.slice(2),n?2:8):qMe.test(t)?dD:+t}var lq=XMe,ZMe=Bl,z1=MMe,fD=lq,JMe="Expected a function",QMe=Math.max,eDe=Math.min;function tDe(t,e,n){var r,i,a,s,o,l,c=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(JMe);e=fD(e)||0,ZMe(n)&&(d=!!n.leading,f="maxWait"in n,a=f?QMe(fD(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function p(E){var A=r,j=i;return r=i=void 0,c=E,s=t.apply(j,A),s}function m(E){return c=E,o=setTimeout(x,e),d?p(E):s}function g(E){var A=E-l,j=E-c,T=e-A;return f?eDe(T,a-j):T}function b(E){var A=E-l,j=E-c;return l===void 0||A>=e||A<0||f&&j>=a}function x(){var E=z1();if(b(E))return v(E);o=setTimeout(x,g(E))}function v(E){return o=void 0,h&&r?p(E):(r=i=void 0,s)}function y(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function w(){return o===void 0?s:v(z1())}function _(){var E=z1(),A=b(E);if(r=arguments,i=this,l=E,A){if(o===void 0)return m(l);if(f)return clearTimeout(o),o=setTimeout(x,e),p(l)}return o===void 0&&(o=setTimeout(x,e)),s}return _.cancel=y,_.flush=w,_}var nDe=tDe,rDe=nDe,iDe=Bl,aDe="Expected a function";function sDe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(aDe);return iDe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),rDe(t,e,{leading:r,maxWait:e,trailing:i})}var oDe=sDe;const cq=at(oDe);function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(t)}function hD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Iy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(n),!0).forEach(function(r){lDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lDe(t,e,n){return e=cDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cDe(t){var e=uDe(t,"string");return hm(e)=="symbol"?e:e+""}function uDe(t,e){if(hm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dDe(t,e){return mDe(t)||pDe(t,e)||hDe(t,e)||fDe()}function fDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hDe(t,e){if(t){if(typeof t=="string")return pD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pD(t,e)}}function pD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pDe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function mDe(t){if(Array.isArray(t))return t}var mp=S.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,d=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,b=t.id,x=t.className,v=t.onResize,y=t.style,w=y===void 0?{}:y,_=S.useRef(null),E=S.useRef();E.current=v,S.useImperativeHandle(e,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var A=S.useState({containerWidth:i.width,containerHeight:i.height}),j=dDe(A,2),T=j[0],C=j[1],k=S.useCallback(function(L,R){C(function(F){var U=Math.round(L),V=Math.round(R);return F.containerWidth===U&&F.containerHeight===V?F:{containerWidth:U,containerHeight:V}})},[]);S.useEffect(function(){var L=function(B){var P,W=B[0].contentRect,G=W.width,$=W.height;k(G,$),(P=E.current)===null||P===void 0||P.call(E,G,$)};g>0&&(L=cq(L,g,{trailing:!0,leading:!1}));var R=new ResizeObserver(L),F=_.current.getBoundingClientRect(),U=F.width,V=F.height;return k(U,V),R.observe(_.current),function(){R.disconnect()}},[k,g]);var O=S.useMemo(function(){var L=T.containerWidth,R=T.containerHeight;if(L<0||R<0)return null;va(dc(s)||dc(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),va(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=dc(s)?L:s,U=dc(l)?R:l;n&&n>0&&(F?U=F/n:U&&(F=U*n),h&&U>h&&(U=h)),va(F>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,U,s,l,d,f,n);var V=!Array.isArray(p)&&Hs(p.type).endsWith("Chart");return M.Children.map(p,function(D){return iW.isElement(D)?S.cloneElement(D,Iy({width:F,height:U},V?{style:Iy({height:"100%",width:"100%",maxHeight:U,maxWidth:F},D.props.style)}:{})):D})},[n,p,l,h,f,d,T,s]);return M.createElement("div",{id:b?"".concat(b):void 0,className:Ke("recharts-responsive-container",x),style:Iy(Iy({},w),{},{width:s,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:_},O)}),Ag=function(e){return null};Ag.displayName="Cell";function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}function mD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(n),!0).forEach(function(r){gDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gDe(t,e,n){return e=yDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yDe(t){var e=vDe(t,"string");return pm(e)=="symbol"?e:e+""}function vDe(t,e){if(pm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tu={widthCache:{},cacheCount:0},xDe=2e3,bDe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},gD="recharts_measurement_span";function wDe(t){var e=cA({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var gp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||xa.isSsr)return{width:0,height:0};var r=wDe(n),i=JSON.stringify({text:e,copyStyle:r});if(Tu.widthCache[i])return Tu.widthCache[i];try{var a=document.getElementById(gD);a||(a=document.createElement("span"),a.setAttribute("id",gD),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=cA(cA({},bDe),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return Tu.widthCache[i]=l,++Tu.cacheCount>xDe&&(Tu.cacheCount=0,Tu.widthCache={}),l}catch{return{width:0,height:0}}},_De=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function L0(t,e){return ADe(t)||jDe(t,e)||EDe(t,e)||SDe()}function SDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EDe(t,e){if(t){if(typeof t=="string")return yD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yD(t,e)}}function yD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jDe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function ADe(t){if(Array.isArray(t))return t}function TDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CDe(r.key),r)}}function kDe(t,e,n){return e&&vD(t.prototype,e),n&&vD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function CDe(t){var e=ODe(t,"string");return mm(e)=="symbol"?e:e+""}function ODe(t,e){if(mm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,NDe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,PDe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,uq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},IDe=Object.keys(uq),Qu="NaN";function $De(t,e){return t*uq[e]}var $y=function(){function t(e,n){TDe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!NDe.test(n)&&(this.num=NaN,this.unit=""),IDe.includes(n)&&(this.num=$De(e,n),this.unit="px")}return kDe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=PDe.exec(n))!==null&&r!==void 0?r:[],a=L0(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function dq(t){if(t.includes(Qu))return Qu;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=xD.exec(e))!==null&&n!==void 0?n:[],i=L0(r,4),a=i[1],s=i[2],o=i[3],l=$y.parse(a??""),c=$y.parse(o??""),d=s==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Qu;e=e.replace(xD,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=bD.exec(e))!==null&&f!==void 0?f:[],p=L0(h,4),m=p[1],g=p[2],b=p[3],x=$y.parse(m??""),v=$y.parse(b??""),y=g==="+"?x.add(v):x.subtract(v);if(y.isNaN())return Qu;e=e.replace(bD,y.toString())}return e}var wD=/\(([^()]*)\)/;function RDe(t){for(var e=t;e.includes("(");){var n=wD.exec(e),r=L0(n,2),i=r[1];e=e.replace(wD,dq(i))}return e}function MDe(t){var e=t.replace(/\s+/g,"");return e=RDe(e),e=dq(e),e}function DDe(t){try{return MDe(t)}catch{return Qu}}function U1(t){var e=DDe(t.slice(5,-1));return e===Qu?"":e}var LDe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],FDe=["dx","dy","angle","className","breakAll"];function uA(){return uA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uA.apply(this,arguments)}function _D(t,e){if(t==null)return{};var n=BDe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BDe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function SD(t,e){return VDe(t)||HDe(t,e)||UDe(t,e)||zDe()}function zDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UDe(t,e){if(t){if(typeof t=="string")return ED(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ED(t,e)}}function ED(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HDe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function VDe(t){if(Array.isArray(t))return t}var fq=/[ \f\n\r\t\v\u2028\u2029]+/,hq=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Ve(n)||(r?a=n.toString().split(""):a=n.toString().split(fq));var s=a.map(function(l){return{word:l,width:gp(l,i).width}}),o=r?0:gp("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},WDe=function(e,n,r,i,a){var s=e.maxLines,o=e.children,l=e.style,c=e.breakAll,d=de(s),f=o,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(U,V){var D=V.word,B=V.width,P=U[U.length-1];if(P&&(i==null||a||P.width+B+r<Number(i)))P.words.push(D),P.width+=B+r;else{var W={words:[D],width:B};U.push(W)}return U},[])},p=h(n),m=function(F){return F.reduce(function(U,V){return U.width>V.width?U:V})};if(!d)return p;for(var g="",b=function(F){var U=f.slice(0,F),V=hq({breakAll:c,style:l,children:U+g}).wordsWithComputedWidth,D=h(V),B=D.length>s||m(D).width>Number(i);return[B,D]},x=0,v=f.length-1,y=0,w;x<=v&&y<=f.length-1;){var _=Math.floor((x+v)/2),E=_-1,A=b(E),j=SD(A,2),T=j[0],C=j[1],k=b(_),O=SD(k,1),L=O[0];if(!T&&!L&&(x=_+1),T&&L&&(v=_-1),!T&&L){w=C;break}y++}return w||p},jD=function(e){var n=Ve(e)?[]:e.toString().split(fq);return[{words:n}]},qDe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((n||r)&&!xa.isSsr){var l,c,d=hq({breakAll:s,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,c=h}else return jD(i);return WDe({breakAll:s,children:i,maxLines:o,style:a},l,c,n,r)}return jD(i)},AD="#808080",Wc=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,p=h===void 0?"start":h,m=e.verticalAnchor,g=m===void 0?"end":m,b=e.fill,x=b===void 0?AD:b,v=_D(e,LDe),y=S.useMemo(function(){return qDe({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),w=v.dx,_=v.dy,E=v.angle,A=v.className,j=v.breakAll,T=_D(v,FDe);if(!En(r)||!En(a))return null;var C=r+(de(w)?w:0),k=a+(de(_)?_:0),O;switch(g){case"start":O=U1("calc(".concat(c,")"));break;case"middle":O=U1("calc(".concat((y.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:O=U1("calc(".concat(y.length-1," * -").concat(o,")"));break}var L=[];if(f){var R=y[0].width,F=v.width;L.push("scale(".concat((de(F)?F/R:1)/R,")"))}return E&&L.push("rotate(".concat(E,", ").concat(C,", ").concat(k,")")),L.length&&(T.transform=L.join(" ")),M.createElement("text",uA({},Ie(T,!0),{x:C,y:k,className:Ke("recharts-text",A),textAnchor:p,fill:x.includes("url")?AD:x}),y.map(function(U,V){var D=U.words.join(j?"":" ");return M.createElement("tspan",{x:C,dy:V===0?O:o,key:"".concat(D,"-").concat(V)},D)}))};function ll(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function GDe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function iN(t){let e,n,r;t.length!==2?(e=ll,n=(o,l)=>ll(t(o),l),r=(o,l)=>t(o)-l):(e=t===ll||t===GDe?t:KDe,n=t,r=t);function i(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<0?c=f+1:d=f}while(c<d)}return c}function a(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function s(o,l,c=0,d=o.length){const f=i(o,l,c,d-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function KDe(){return 0}function pq(t){return t===null?NaN:+t}function*YDe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const XDe=iN(ll),Tg=XDe.right;iN(pq).center;class TD extends Map{constructor(e,n=QDe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(kD(this,e))}has(e){return super.has(kD(this,e))}set(e,n){return super.set(ZDe(this,e),n)}delete(e){return super.delete(JDe(this,e))}}function kD({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ZDe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function JDe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function QDe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function eLe(t=ll){if(t===ll)return mq;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function mq(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const tLe=Math.sqrt(50),nLe=Math.sqrt(10),rLe=Math.sqrt(2);function F0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=tLe?10:a>=nLe?5:a>=rLe?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?F0(t,e,n*2):[o,l,c]}function dA(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?F0(e,t,n):F0(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function fA(t,e,n){return e=+e,t=+t,n=+n,F0(t,e,n)[2]}function hA(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?fA(e,t,n):fA(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function CD(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function OD(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function gq(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?mq:eLe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*f/l+h)),m=Math.min(r,Math.floor(e+(l-c)*f/l+h));gq(t,e,p,m,i)}const a=t[e];let s=n,o=r;for(Sh(t,n,e),i(t[r],a)>0&&Sh(t,n,r);s<o;){for(Sh(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?Sh(t,n,o):(++o,Sh(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Sh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function iLe(t,e,n){if(t=Float64Array.from(YDe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return OD(t);if(e>=1)return CD(t);var r,i=(r-1)*e,a=Math.floor(i),s=CD(gq(t,a).subarray(0,a+1)),o=OD(t.subarray(a+1));return s+(o-s)*(i-a)}}function aLe(t,e,n=pq){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function sLe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function zi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function mo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const pA=Symbol("implicit");function aN(){var t=new TD,e=[],n=[],r=pA;function i(a){let s=t.get(a);if(s===void 0){if(r!==pA)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new TD;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return aN(e,n).unknown(r)},zi.apply(i,arguments),i}function gm(){var t=aN().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,c=0,d=.5;delete t.unknown;function f(){var h=e().length,p=i<r,m=p?i:r,g=p?r:i;a=(g-m)/Math.max(1,h-l+c*2),o&&(a=Math.floor(a)),m+=(g-m-a*(h-l))*d,s=a*(1-l),o&&(m=Math.round(m),s=Math.round(s));var b=sLe(h).map(function(x){return m+a*x});return n(p?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(o=!!h,f()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return gm(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},zi.apply(f(),arguments)}function yq(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return yq(e())},t}function yp(){return yq(gm.apply(null,arguments).paddingInner(1))}function sN(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function vq(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function kg(){}var ym=.7,B0=1/ym,bd="\\s*([+-]?\\d+)\\s*",vm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",as="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oLe=/^#([0-9a-f]{3,8})$/,lLe=new RegExp(`^rgb\\(${bd},${bd},${bd}\\)$`),cLe=new RegExp(`^rgb\\(${as},${as},${as}\\)$`),uLe=new RegExp(`^rgba\\(${bd},${bd},${bd},${vm}\\)$`),dLe=new RegExp(`^rgba\\(${as},${as},${as},${vm}\\)$`),fLe=new RegExp(`^hsl\\(${vm},${as},${as}\\)$`),hLe=new RegExp(`^hsla\\(${vm},${as},${as},${vm}\\)$`),ND={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sN(kg,xm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:PD,formatHex:PD,formatHex8:pLe,formatHsl:mLe,formatRgb:ID,toString:ID});function PD(){return this.rgb().formatHex()}function pLe(){return this.rgb().formatHex8()}function mLe(){return xq(this).formatHsl()}function ID(){return this.rgb().formatRgb()}function xm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=oLe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?$D(e):n===3?new Cr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ry(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ry(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=lLe.exec(t))?new Cr(e[1],e[2],e[3],1):(e=cLe.exec(t))?new Cr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=uLe.exec(t))?Ry(e[1],e[2],e[3],e[4]):(e=dLe.exec(t))?Ry(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=fLe.exec(t))?DD(e[1],e[2]/100,e[3]/100,1):(e=hLe.exec(t))?DD(e[1],e[2]/100,e[3]/100,e[4]):ND.hasOwnProperty(t)?$D(ND[t]):t==="transparent"?new Cr(NaN,NaN,NaN,0):null}function $D(t){return new Cr(t>>16&255,t>>8&255,t&255,1)}function Ry(t,e,n,r){return r<=0&&(t=e=n=NaN),new Cr(t,e,n,r)}function gLe(t){return t instanceof kg||(t=xm(t)),t?(t=t.rgb(),new Cr(t.r,t.g,t.b,t.opacity)):new Cr}function mA(t,e,n,r){return arguments.length===1?gLe(t):new Cr(t,e,n,r??1)}function Cr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}sN(Cr,mA,vq(kg,{brighter(t){return t=t==null?B0:Math.pow(B0,t),new Cr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ym:Math.pow(ym,t),new Cr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Cr(Tc(this.r),Tc(this.g),Tc(this.b),z0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:RD,formatHex:RD,formatHex8:yLe,formatRgb:MD,toString:MD}));function RD(){return`#${fc(this.r)}${fc(this.g)}${fc(this.b)}`}function yLe(){return`#${fc(this.r)}${fc(this.g)}${fc(this.b)}${fc((isNaN(this.opacity)?1:this.opacity)*255)}`}function MD(){const t=z0(this.opacity);return`${t===1?"rgb(":"rgba("}${Tc(this.r)}, ${Tc(this.g)}, ${Tc(this.b)}${t===1?")":`, ${t})`}`}function z0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Tc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function fc(t){return t=Tc(t),(t<16?"0":"")+t.toString(16)}function DD(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new oa(t,e,n,r)}function xq(t){if(t instanceof oa)return new oa(t.h,t.s,t.l,t.opacity);if(t instanceof kg||(t=xm(t)),!t)return new oa;if(t instanceof oa)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new oa(s,o,l,t.opacity)}function vLe(t,e,n,r){return arguments.length===1?xq(t):new oa(t,e,n,r??1)}function oa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}sN(oa,vLe,vq(kg,{brighter(t){return t=t==null?B0:Math.pow(B0,t),new oa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ym:Math.pow(ym,t),new oa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Cr(H1(t>=240?t-240:t+120,i,r),H1(t,i,r),H1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new oa(LD(this.h),My(this.s),My(this.l),z0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=z0(this.opacity);return`${t===1?"hsl(":"hsla("}${LD(this.h)}, ${My(this.s)*100}%, ${My(this.l)*100}%${t===1?")":`, ${t})`}`}}));function LD(t){return t=(t||0)%360,t<0?t+360:t}function My(t){return Math.max(0,Math.min(1,t||0))}function H1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const oN=t=>()=>t;function xLe(t,e){return function(n){return t+n*e}}function bLe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function wLe(t){return(t=+t)==1?bq:function(e,n){return n-e?bLe(e,n,t):oN(isNaN(e)?n:e)}}function bq(t,e){var n=e-t;return n?xLe(t,n):oN(isNaN(t)?e:t)}const FD=function t(e){var n=wLe(e);function r(i,a){var s=n((i=mA(i)).r,(a=mA(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=bq(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=t,r}(1);function _Le(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function SLe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ELe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Qf(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function jLe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function U0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ALe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Qf(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var gA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,V1=new RegExp(gA.source,"g");function TLe(t){return function(){return t}}function kLe(t){return function(e){return t(e)+""}}function CLe(t,e){var n=gA.lastIndex=V1.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=gA.exec(t))&&(i=V1.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:U0(r,i)})),n=V1.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?kLe(l[0].x):TLe(e):(e=l.length,function(c){for(var d=0,f;d<e;++d)o[(f=l[d]).i]=f.x(c);return o.join("")})}function Qf(t,e){var n=typeof e,r;return e==null||n==="boolean"?oN(e):(n==="number"?U0:n==="string"?(r=xm(e))?(e=r,FD):CLe:e instanceof xm?FD:e instanceof Date?jLe:SLe(e)?_Le:Array.isArray(e)?ELe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ALe:U0)(t,e)}function lN(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function OLe(t,e){e===void 0&&(e=t,t=Qf);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function NLe(t){return function(){return t}}function H0(t){return+t}var BD=[0,1];function ur(t){return t}function yA(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:NLe(isNaN(e)?NaN:.5)}function PLe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function ILe(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=yA(i,r),a=n(s,a)):(r=yA(r,i),a=n(a,s)),function(o){return a(r(o))}}function $Le(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=yA(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=Tg(t,o,1,r)-1;return a[l](i[l](o))}}function Cg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function bw(){var t=BD,e=BD,n=Qf,r,i,a,s=ur,o,l,c;function d(){var h=Math.min(t.length,e.length);return s!==ur&&(s=PLe(t[0],t[h-1])),o=h>2?$Le:ILe,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((c||(c=o(e,t.map(r),U0)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,H0),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=lN,d()},f.clamp=function(h){return arguments.length?(s=h?!0:ur,d()):s!==ur},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return r=h,i=p,d()}}function cN(){return bw()(ur,ur)}function RLe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function V0(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function rf(t){return t=V0(Math.abs(t)),t?t[1]:NaN}function MLe(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function DLe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var LLe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bm(t){if(!(e=LLe.exec(t)))throw new Error("invalid format: "+t);var e;return new uN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}bm.prototype=uN.prototype;function uN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}uN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function FLe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var wq;function BLe(t,e){var n=V0(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(wq=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+V0(t,Math.max(0,e+a-1))[0]}function zD(t,e){var n=V0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const UD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:RLe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>zD(t*100,e),r:zD,s:BLe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function HD(t){return t}var VD=Array.prototype.map,WD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function zLe(t){var e=t.grouping===void 0||t.thousands===void 0?HD:MLe(VD.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?HD:DLe(VD.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=bm(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,b=f.zero,x=f.width,v=f.comma,y=f.precision,w=f.trim,_=f.type;_==="n"?(v=!0,_="g"):UD[_]||(y===void 0&&(y=12),w=!0,_="g"),(b||h==="0"&&p==="=")&&(b=!0,h="0",p="=");var E=g==="$"?n:g==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",A=g==="$"?r:/[%p]/.test(_)?s:"",j=UD[_],T=/[defgprs%]/.test(_);y=y===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function C(k){var O=E,L=A,R,F,U;if(_==="c")L=j(k)+L,k="";else{k=+k;var V=k<0||1/k<0;if(k=isNaN(k)?l:j(Math.abs(k),y),w&&(k=FLe(k)),V&&+k==0&&m!=="+"&&(V=!1),O=(V?m==="("?m:o:m==="-"||m==="("?"":m)+O,L=(_==="s"?WD[8+wq/3]:"")+L+(V&&m==="("?")":""),T){for(R=-1,F=k.length;++R<F;)if(U=k.charCodeAt(R),48>U||U>57){L=(U===46?i+k.slice(R+1):k.slice(R))+L,k=k.slice(0,R);break}}}v&&!b&&(k=e(k,1/0));var D=O.length+k.length+L.length,B=D<x?new Array(x-D+1).join(h):"";switch(v&&b&&(k=e(B+k,B.length?x-L.length:1/0),B=""),p){case"<":k=O+k+L+B;break;case"=":k=O+B+k+L;break;case"^":k=B.slice(0,D=B.length>>1)+O+k+L+B.slice(D);break;default:k=B+O+k+L;break}return a(k)}return C.toString=function(){return f+""},C}function d(f,h){var p=c((f=bm(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(rf(h)/3)))*3,g=Math.pow(10,-m),b=WD[8+m/3];return function(x){return p(g*x)+b}}return{format:c,formatPrefix:d}}var Dy,dN,_q;ULe({thousands:",",grouping:[3],currency:["$",""]});function ULe(t){return Dy=zLe(t),dN=Dy.format,_q=Dy.formatPrefix,Dy}function HLe(t){return Math.max(0,-rf(Math.abs(t)))}function VLe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(rf(e)/3)))*3-rf(Math.abs(t)))}function WLe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,rf(e)-rf(t))+1}function Sq(t,e,n,r){var i=hA(t,e,n),a;switch(r=bm(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=VLe(i,s))&&(r.precision=a),_q(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=WLe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=HLe(i))&&(r.precision=a-(r.type==="%")*2);break}}return dN(r)}function zl(t){var e=t.domain;return t.ticks=function(n){var r=e();return dA(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Sq(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,d=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);d-- >0;){if(c=fA(s,o,n),c===l)return r[i]=s,r[a]=o,e(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function W0(){var t=cN();return t.copy=function(){return Cg(t,W0())},zi.apply(t,arguments),zl(t)}function Eq(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,H0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Eq(t).unknown(e)},t=arguments.length?Array.from(t,H0):[0,1],zl(n)}function jq(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function qD(t){return Math.log(t)}function GD(t){return Math.exp(t)}function qLe(t){return-Math.log(-t)}function GLe(t){return-Math.exp(-t)}function KLe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function YLe(t){return t===10?KLe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function XLe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function KD(t){return(e,n)=>-t(-e,n)}function fN(t){const e=t(qD,GD),n=e.domain;let r=10,i,a;function s(){return i=XLe(r),a=YLe(r),n()[0]<0?(i=KD(i),a=KD(a),t(qLe,GLe)):t(qD,GD),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),p=i(d),m,g;const b=o==null?10:+o;let x=[];if(!(r%1)&&p-h<b){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<r;++m)if(g=h<0?m/a(-h):m*a(h),!(g<c)){if(g>d)break;x.push(g)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<c)){if(g>d)break;x.push(g)}x.length*2<b&&(x=dA(c,d,b))}else x=dA(h,p,Math.min(p-h,b)).map(a);return f?x.reverse():x},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=bm(l)).precision==null&&(l.trim=!0),l=dN(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},e.nice=()=>n(jq(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function Aq(){const t=fN(bw()).domain([1,10]);return t.copy=()=>Cg(t,Aq()).base(t.base()),zi.apply(t,arguments),t}function YD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function XD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function hN(t){var e=1,n=t(YD(e),XD(e));return n.constant=function(r){return arguments.length?t(YD(e=+r),XD(e)):e},zl(n)}function Tq(){var t=hN(bw());return t.copy=function(){return Cg(t,Tq()).constant(t.constant())},zi.apply(t,arguments)}function ZD(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ZLe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function JLe(t){return t<0?-t*t:t*t}function pN(t){var e=t(ur,ur),n=1;function r(){return n===1?t(ur,ur):n===.5?t(ZLe,JLe):t(ZD(n),ZD(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},zl(e)}function mN(){var t=pN(bw());return t.copy=function(){return Cg(t,mN()).exponent(t.exponent())},zi.apply(t,arguments),t}function QLe(){return mN.apply(null,arguments).exponent(.5)}function JD(t){return Math.sign(t)*t*t}function e4e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function kq(){var t=cN(),e=[0,1],n=!1,r;function i(a){var s=e4e(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(JD(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,H0)).map(JD)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return kq(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},zi.apply(i,arguments),zl(i)}function Cq(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=aLe(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[Tg(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(ll),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Cq().domain(t).range(e).unknown(r)},zi.apply(a,arguments)}function Oq(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Tg(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return Oq().domain([t,e]).range(i).unknown(a)},zi.apply(zl(s),arguments)}function Nq(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Tg(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Nq().domain(t).range(e).unknown(n)},zi.apply(i,arguments)}const W1=new Date,q1=new Date;function kn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>kn(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(W1.setTime(+a),q1.setTime(+s),t(W1),t(q1),Math.floor(n(W1,q1))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const q0=kn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);q0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?kn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):q0);q0.range;const Is=1e3,Ni=Is*60,$s=Ni*60,ao=$s*24,gN=ao*7,QD=ao*30,G1=ao*365,hc=kn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Is)},(t,e)=>(e-t)/Is,t=>t.getUTCSeconds());hc.range;const yN=kn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Is)},(t,e)=>{t.setTime(+t+e*Ni)},(t,e)=>(e-t)/Ni,t=>t.getMinutes());yN.range;const vN=kn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ni)},(t,e)=>(e-t)/Ni,t=>t.getUTCMinutes());vN.range;const xN=kn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Is-t.getMinutes()*Ni)},(t,e)=>{t.setTime(+t+e*$s)},(t,e)=>(e-t)/$s,t=>t.getHours());xN.range;const bN=kn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*$s)},(t,e)=>(e-t)/$s,t=>t.getUTCHours());bN.range;const Og=kn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ni)/ao,t=>t.getDate()-1);Og.range;const ww=kn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ao,t=>t.getUTCDate()-1);ww.range;const Pq=kn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ao,t=>Math.floor(t/ao));Pq.range;function uu(t){return kn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ni)/gN)}const _w=uu(0),G0=uu(1),t4e=uu(2),n4e=uu(3),af=uu(4),r4e=uu(5),i4e=uu(6);_w.range;G0.range;t4e.range;n4e.range;af.range;r4e.range;i4e.range;function du(t){return kn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/gN)}const Sw=du(0),K0=du(1),a4e=du(2),s4e=du(3),sf=du(4),o4e=du(5),l4e=du(6);Sw.range;K0.range;a4e.range;s4e.range;sf.range;o4e.range;l4e.range;const wN=kn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());wN.range;const _N=kn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());_N.range;const so=kn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());so.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});so.range;const oo=kn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());oo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});oo.range;function Iq(t,e,n,r,i,a){const s=[[hc,1,Is],[hc,5,5*Is],[hc,15,15*Is],[hc,30,30*Is],[a,1,Ni],[a,5,5*Ni],[a,15,15*Ni],[a,30,30*Ni],[i,1,$s],[i,3,3*$s],[i,6,6*$s],[i,12,12*$s],[r,1,ao],[r,2,2*ao],[n,1,gN],[e,1,QD],[e,3,3*QD],[t,1,G1]];function o(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const p=f&&typeof f.range=="function"?f:l(c,d,f),m=p?p.range(c,+d+1):[];return h?m.reverse():m}function l(c,d,f){const h=Math.abs(d-c)/f,p=iN(([,,b])=>b).right(s,h);if(p===s.length)return t.every(hA(c/G1,d/G1,f));if(p===0)return q0.every(Math.max(hA(c,d,f),1));const[m,g]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return m.every(g)}return[o,l]}const[c4e,u4e]=Iq(oo,_N,Sw,Pq,bN,vN),[d4e,f4e]=Iq(so,wN,_w,Og,xN,yN);function K1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Y1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Eh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function h4e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=jh(i),d=Ah(i),f=jh(a),h=Ah(a),p=jh(s),m=Ah(s),g=jh(o),b=Ah(o),x=jh(l),v=Ah(l),y={a:V,A:D,b:B,B:P,c:null,d:aL,e:aL,f:M4e,g:q4e,G:K4e,H:I4e,I:$4e,j:R4e,L:$q,m:D4e,M:L4e,p:W,q:G,Q:lL,s:cL,S:F4e,u:B4e,U:z4e,V:U4e,w:H4e,W:V4e,x:null,X:null,y:W4e,Y:G4e,Z:Y4e,"%":oL},w={a:$,A:ee,b:ie,B:I,c:null,d:sL,e:sL,f:Q4e,g:c5e,G:d5e,H:X4e,I:Z4e,j:J4e,L:Mq,m:e5e,M:t5e,p:N,q:K,Q:lL,s:cL,S:n5e,u:r5e,U:i5e,V:a5e,w:s5e,W:o5e,x:null,X:null,y:l5e,Y:u5e,Z:f5e,"%":oL},_={a:C,A:k,b:O,B:L,c:R,d:rL,e:rL,f:C4e,g:nL,G:tL,H:iL,I:iL,j:j4e,L:k4e,m:E4e,M:A4e,p:T,q:S4e,Q:N4e,s:P4e,S:T4e,u:v4e,U:x4e,V:b4e,w:y4e,W:w4e,x:F,X:U,y:nL,Y:tL,Z:_4e,"%":O4e};y.x=E(n,y),y.X=E(r,y),y.c=E(e,y),w.x=E(n,w),w.X=E(r,w),w.c=E(e,w);function E(z,Z){return function(J){var Y=[],me=-1,le=0,ve=z.length,oe,Be,Te;for(J instanceof Date||(J=new Date(+J));++me<ve;)z.charCodeAt(me)===37&&(Y.push(z.slice(le,me)),(Be=eL[oe=z.charAt(++me)])!=null?oe=z.charAt(++me):Be=oe==="e"?" ":"0",(Te=Z[oe])&&(oe=Te(J,Be)),Y.push(oe),le=me+1);return Y.push(z.slice(le,me)),Y.join("")}}function A(z,Z){return function(J){var Y=Eh(1900,void 0,1),me=j(Y,z,J+="",0),le,ve;if(me!=J.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(Z&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(le=Y1(Eh(Y.y,0,1)),ve=le.getUTCDay(),le=ve>4||ve===0?K0.ceil(le):K0(le),le=ww.offset(le,(Y.V-1)*7),Y.y=le.getUTCFullYear(),Y.m=le.getUTCMonth(),Y.d=le.getUTCDate()+(Y.w+6)%7):(le=K1(Eh(Y.y,0,1)),ve=le.getDay(),le=ve>4||ve===0?G0.ceil(le):G0(le),le=Og.offset(le,(Y.V-1)*7),Y.y=le.getFullYear(),Y.m=le.getMonth(),Y.d=le.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),ve="Z"in Y?Y1(Eh(Y.y,0,1)).getUTCDay():K1(Eh(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(ve+5)%7:Y.w+Y.U*7-(ve+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,Y1(Y)):K1(Y)}}function j(z,Z,J,Y){for(var me=0,le=Z.length,ve=J.length,oe,Be;me<le;){if(Y>=ve)return-1;if(oe=Z.charCodeAt(me++),oe===37){if(oe=Z.charAt(me++),Be=_[oe in eL?Z.charAt(me++):oe],!Be||(Y=Be(z,J,Y))<0)return-1}else if(oe!=J.charCodeAt(Y++))return-1}return Y}function T(z,Z,J){var Y=c.exec(Z.slice(J));return Y?(z.p=d.get(Y[0].toLowerCase()),J+Y[0].length):-1}function C(z,Z,J){var Y=p.exec(Z.slice(J));return Y?(z.w=m.get(Y[0].toLowerCase()),J+Y[0].length):-1}function k(z,Z,J){var Y=f.exec(Z.slice(J));return Y?(z.w=h.get(Y[0].toLowerCase()),J+Y[0].length):-1}function O(z,Z,J){var Y=x.exec(Z.slice(J));return Y?(z.m=v.get(Y[0].toLowerCase()),J+Y[0].length):-1}function L(z,Z,J){var Y=g.exec(Z.slice(J));return Y?(z.m=b.get(Y[0].toLowerCase()),J+Y[0].length):-1}function R(z,Z,J){return j(z,e,Z,J)}function F(z,Z,J){return j(z,n,Z,J)}function U(z,Z,J){return j(z,r,Z,J)}function V(z){return s[z.getDay()]}function D(z){return a[z.getDay()]}function B(z){return l[z.getMonth()]}function P(z){return o[z.getMonth()]}function W(z){return i[+(z.getHours()>=12)]}function G(z){return 1+~~(z.getMonth()/3)}function $(z){return s[z.getUTCDay()]}function ee(z){return a[z.getUTCDay()]}function ie(z){return l[z.getUTCMonth()]}function I(z){return o[z.getUTCMonth()]}function N(z){return i[+(z.getUTCHours()>=12)]}function K(z){return 1+~~(z.getUTCMonth()/3)}return{format:function(z){var Z=E(z+="",y);return Z.toString=function(){return z},Z},parse:function(z){var Z=A(z+="",!1);return Z.toString=function(){return z},Z},utcFormat:function(z){var Z=E(z+="",w);return Z.toString=function(){return z},Z},utcParse:function(z){var Z=A(z+="",!0);return Z.toString=function(){return z},Z}}}var eL={"-":"",_:" ",0:"0"},Mn=/^\s*\d+/,p4e=/^%/,m4e=/[\\^$*+?|[\]().{}]/g;function ht(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function g4e(t){return t.replace(m4e,"\\$&")}function jh(t){return new RegExp("^(?:"+t.map(g4e).join("|")+")","i")}function Ah(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function y4e(t,e,n){var r=Mn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function v4e(t,e,n){var r=Mn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function x4e(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function b4e(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function w4e(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function tL(t,e,n){var r=Mn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function nL(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function _4e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function S4e(t,e,n){var r=Mn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function E4e(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function rL(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function j4e(t,e,n){var r=Mn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function iL(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function A4e(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function T4e(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function k4e(t,e,n){var r=Mn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function C4e(t,e,n){var r=Mn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function O4e(t,e,n){var r=p4e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function N4e(t,e,n){var r=Mn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function P4e(t,e,n){var r=Mn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function aL(t,e){return ht(t.getDate(),e,2)}function I4e(t,e){return ht(t.getHours(),e,2)}function $4e(t,e){return ht(t.getHours()%12||12,e,2)}function R4e(t,e){return ht(1+Og.count(so(t),t),e,3)}function $q(t,e){return ht(t.getMilliseconds(),e,3)}function M4e(t,e){return $q(t,e)+"000"}function D4e(t,e){return ht(t.getMonth()+1,e,2)}function L4e(t,e){return ht(t.getMinutes(),e,2)}function F4e(t,e){return ht(t.getSeconds(),e,2)}function B4e(t){var e=t.getDay();return e===0?7:e}function z4e(t,e){return ht(_w.count(so(t)-1,t),e,2)}function Rq(t){var e=t.getDay();return e>=4||e===0?af(t):af.ceil(t)}function U4e(t,e){return t=Rq(t),ht(af.count(so(t),t)+(so(t).getDay()===4),e,2)}function H4e(t){return t.getDay()}function V4e(t,e){return ht(G0.count(so(t)-1,t),e,2)}function W4e(t,e){return ht(t.getFullYear()%100,e,2)}function q4e(t,e){return t=Rq(t),ht(t.getFullYear()%100,e,2)}function G4e(t,e){return ht(t.getFullYear()%1e4,e,4)}function K4e(t,e){var n=t.getDay();return t=n>=4||n===0?af(t):af.ceil(t),ht(t.getFullYear()%1e4,e,4)}function Y4e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ht(e/60|0,"0",2)+ht(e%60,"0",2)}function sL(t,e){return ht(t.getUTCDate(),e,2)}function X4e(t,e){return ht(t.getUTCHours(),e,2)}function Z4e(t,e){return ht(t.getUTCHours()%12||12,e,2)}function J4e(t,e){return ht(1+ww.count(oo(t),t),e,3)}function Mq(t,e){return ht(t.getUTCMilliseconds(),e,3)}function Q4e(t,e){return Mq(t,e)+"000"}function e5e(t,e){return ht(t.getUTCMonth()+1,e,2)}function t5e(t,e){return ht(t.getUTCMinutes(),e,2)}function n5e(t,e){return ht(t.getUTCSeconds(),e,2)}function r5e(t){var e=t.getUTCDay();return e===0?7:e}function i5e(t,e){return ht(Sw.count(oo(t)-1,t),e,2)}function Dq(t){var e=t.getUTCDay();return e>=4||e===0?sf(t):sf.ceil(t)}function a5e(t,e){return t=Dq(t),ht(sf.count(oo(t),t)+(oo(t).getUTCDay()===4),e,2)}function s5e(t){return t.getUTCDay()}function o5e(t,e){return ht(K0.count(oo(t)-1,t),e,2)}function l5e(t,e){return ht(t.getUTCFullYear()%100,e,2)}function c5e(t,e){return t=Dq(t),ht(t.getUTCFullYear()%100,e,2)}function u5e(t,e){return ht(t.getUTCFullYear()%1e4,e,4)}function d5e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?sf(t):sf.ceil(t),ht(t.getUTCFullYear()%1e4,e,4)}function f5e(){return"+0000"}function oL(){return"%"}function lL(t){return+t}function cL(t){return Math.floor(+t/1e3)}var ku,Lq,Fq;h5e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function h5e(t){return ku=h4e(t),Lq=ku.format,ku.parse,Fq=ku.utcFormat,ku.utcParse,ku}function p5e(t){return new Date(t)}function m5e(t){return t instanceof Date?+t:+new Date(+t)}function SN(t,e,n,r,i,a,s,o,l,c){var d=cN(),f=d.invert,h=d.domain,p=c(".%L"),m=c(":%S"),g=c("%I:%M"),b=c("%I %p"),x=c("%a %d"),v=c("%b %d"),y=c("%B"),w=c("%Y");function _(E){return(l(E)<E?p:o(E)<E?m:s(E)<E?g:a(E)<E?b:r(E)<E?i(E)<E?x:v:n(E)<E?y:w)(E)}return d.invert=function(E){return new Date(f(E))},d.domain=function(E){return arguments.length?h(Array.from(E,m5e)):h().map(p5e)},d.ticks=function(E){var A=h();return t(A[0],A[A.length-1],E??10)},d.tickFormat=function(E,A){return A==null?_:c(A)},d.nice=function(E){var A=h();return(!E||typeof E.range!="function")&&(E=e(A[0],A[A.length-1],E??10)),E?h(jq(A,E)):d},d.copy=function(){return Cg(d,SN(t,e,n,r,i,a,s,o,l,c))},d}function g5e(){return zi.apply(SN(d4e,f4e,so,wN,_w,Og,xN,yN,hc,Lq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function y5e(){return zi.apply(SN(c4e,u4e,oo,_N,Sw,ww,bN,vN,hc,Fq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ew(){var t=0,e=1,n,r,i,a,s=ur,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,s=f(p,m),c):[s(0),s(1)]}}return c.range=d(Qf),c.rangeRound=d(lN),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function Ul(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Bq(){var t=zl(Ew()(ur));return t.copy=function(){return Ul(t,Bq())},mo.apply(t,arguments)}function zq(){var t=fN(Ew()).domain([1,10]);return t.copy=function(){return Ul(t,zq()).base(t.base())},mo.apply(t,arguments)}function Uq(){var t=hN(Ew());return t.copy=function(){return Ul(t,Uq()).constant(t.constant())},mo.apply(t,arguments)}function EN(){var t=pN(Ew());return t.copy=function(){return Ul(t,EN()).exponent(t.exponent())},mo.apply(t,arguments)}function v5e(){return EN.apply(null,arguments).exponent(.5)}function Hq(){var t=[],e=ur;function n(r){if(r!=null&&!isNaN(r=+r))return e((Tg(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ll),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>iLe(t,a/r))},n.copy=function(){return Hq(e).domain(t)},mo.apply(n,arguments)}function jw(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,c=ur,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(r*g<r*a?o:l),c(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=d(t=+t),a=d(e=+e),s=d(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(c=g,p):c};function m(g){return function(b){var x,v,y;return arguments.length?([x,v,y]=b,c=OLe(g,[x,v,y]),p):[c(0),c(.5),c(1)]}}return p.range=m(Qf),p.rangeRound=m(lN),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,i=g(t),a=g(e),s=g(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function Vq(){var t=zl(jw()(ur));return t.copy=function(){return Ul(t,Vq())},mo.apply(t,arguments)}function Wq(){var t=fN(jw()).domain([.1,1,10]);return t.copy=function(){return Ul(t,Wq()).base(t.base())},mo.apply(t,arguments)}function qq(){var t=hN(jw());return t.copy=function(){return Ul(t,qq()).constant(t.constant())},mo.apply(t,arguments)}function jN(){var t=pN(jw());return t.copy=function(){return Ul(t,jN()).exponent(t.exponent())},mo.apply(t,arguments)}function x5e(){return jN.apply(null,arguments).exponent(.5)}const uL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:gm,scaleDiverging:Vq,scaleDivergingLog:Wq,scaleDivergingPow:jN,scaleDivergingSqrt:x5e,scaleDivergingSymlog:qq,scaleIdentity:Eq,scaleImplicit:pA,scaleLinear:W0,scaleLog:Aq,scaleOrdinal:aN,scalePoint:yp,scalePow:mN,scaleQuantile:Cq,scaleQuantize:Oq,scaleRadial:kq,scaleSequential:Bq,scaleSequentialLog:zq,scaleSequentialPow:EN,scaleSequentialQuantile:Hq,scaleSequentialSqrt:v5e,scaleSequentialSymlog:Uq,scaleSqrt:QLe,scaleSymlog:Tq,scaleThreshold:Nq,scaleTime:g5e,scaleUtc:y5e,tickFormat:Sq},Symbol.toStringTag,{value:"Module"}));var b5e=Vf;function w5e(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(s!=null&&(o===void 0?s===s&&!b5e(s):n(s,o)))var o=s,l=a}return l}var Aw=w5e;function _5e(t,e){return t>e}var Gq=_5e,S5e=Aw,E5e=Gq,j5e=Jf;function A5e(t){return t&&t.length?S5e(t,j5e,E5e):void 0}var T5e=A5e;const Ko=at(T5e);function k5e(t,e){return t<e}var Kq=k5e,C5e=Aw,O5e=Kq,N5e=Jf;function P5e(t){return t&&t.length?C5e(t,N5e,O5e):void 0}var I5e=P5e;const Tw=at(I5e);var $5e=FO,R5e=vs,M5e=nq,D5e=zr;function L5e(t,e){var n=D5e(t)?$5e:M5e;return n(t,R5e(e))}var F5e=L5e,B5e=eq,z5e=F5e;function U5e(t,e){return B5e(z5e(t,e),1)}var H5e=U5e;const V5e=at(H5e);var W5e=eN;function q5e(t,e){return W5e(t,e)}var G5e=q5e;const qc=at(G5e);var eh=1e9,K5e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},TN,Gt=!0,Di="[DecimalError] ",kc=Di+"Invalid argument: ",AN=Di+"Exponent out of range: ",th=Math.floor,ic=Math.pow,Y5e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Zr,Pn=1e7,zt=7,Yq=9007199254740991,Y0=th(Yq/zt),Ee={};Ee.absoluteValue=Ee.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ee.comparedTo=Ee.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*zt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ee.dividedBy=Ee.div=function(t){return Vs(this,new this.constructor(t))};Ee.dividedToIntegerBy=Ee.idiv=function(t){var e=this,n=e.constructor;return jt(Vs(e,new n(t),0,1),n.precision)};Ee.equals=Ee.eq=function(t){return!this.cmp(t)};Ee.exponent=function(){return vn(this)};Ee.greaterThan=Ee.gt=function(t){return this.cmp(t)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(t){return this.cmp(t)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(t){return this.cmp(t)<0};Ee.lessThanOrEqualTo=Ee.lte=function(t){return this.cmp(t)<1};Ee.logarithm=Ee.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Zr))throw Error(Di+"NaN");if(n.s<1)throw Error(Di+(n.s?"NaN":"-Infinity"));return n.eq(Zr)?new r(0):(Gt=!1,e=Vs(wm(n,a),wm(t,a),a),Gt=!0,jt(e,i))};Ee.minus=Ee.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Jq(e,t):Xq(e,(t.s=-t.s,t))};Ee.modulo=Ee.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Di+"NaN");return n.s?(Gt=!1,e=Vs(n,t,0,1).times(t),Gt=!0,n.minus(e)):jt(new r(n),i)};Ee.naturalExponential=Ee.exp=function(){return Zq(this)};Ee.naturalLogarithm=Ee.ln=function(){return wm(this)};Ee.negated=Ee.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ee.plus=Ee.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Xq(e,t):Jq(e,(t.s=-t.s,t))};Ee.precision=Ee.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(kc+t);if(e=vn(i)+1,r=i.d.length-1,n=r*zt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ee.squareRoot=Ee.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Di+"NaN")}for(t=vn(o),Gt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Za(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=th((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(Vs(o,a,s+2)).times(.5),Za(a.d).slice(0,s)===(e=Za(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(jt(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return Gt=!0,jt(r,n)};Ee.times=Ee.mul=function(t){var e,n,r,i,a,s,o,l,c,d=this,f=d.constructor,h=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+p[r]*h[i-r-1]+e,a[i--]=o%Pn|0,e=o/Pn|0;a[i]=(a[i]+e)%Pn|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Gt?jt(t,f.precision):t};Ee.toDecimalPlaces=Ee.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(hs(t,0,eh),e===void 0?e=r.rounding:hs(e,0,8),jt(n,t+vn(n)+1,e))};Ee.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Gc(r,!0):(hs(t,0,eh),e===void 0?e=i.rounding:hs(e,0,8),r=jt(new i(r),t+1,e),n=Gc(r,!0,t+1)),n};Ee.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Gc(i):(hs(t,0,eh),e===void 0?e=a.rounding:hs(e,0,8),r=jt(new a(i),t+vn(i)+1,e),n=Gc(r.abs(),!1,t+vn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ee.toInteger=Ee.toint=function(){var t=this,e=t.constructor;return jt(new e(t),vn(t)+1,e.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(Zr);if(o=new l(o),!o.s){if(t.s<1)throw Error(Di+"Infinity");return o}if(o.eq(Zr))return o;if(r=l.precision,t.eq(Zr))return jt(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=d<0?-d:d)<=Yq){for(i=new l(Zr),e=Math.ceil(r/zt+4),Gt=!1;n%2&&(i=i.times(o),fL(i.d,e)),n=th(n/2),n!==0;)o=o.times(o),fL(o.d,e);return Gt=!0,t.s<0?new l(Zr).div(i):jt(i,r)}}else if(a<0)throw Error(Di+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Gt=!1,i=t.times(wm(o,r+c)),Gt=!0,i=Zq(i),i.s=a,i};Ee.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=vn(i),r=Gc(i,n<=a.toExpNeg||n>=a.toExpPos)):(hs(t,1,eh),e===void 0?e=a.rounding:hs(e,0,8),i=jt(new a(i),t,e),n=vn(i),r=Gc(i,t<=n||n<=a.toExpNeg,t)),r};Ee.toSignificantDigits=Ee.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(hs(t,1,eh),e===void 0?e=r.rounding:hs(e,0,8)),jt(new r(n),t,e)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=vn(t),n=t.constructor;return Gc(t,e<=n.toExpNeg||e>=n.toExpPos)};function Xq(t,e){var n,r,i,a,s,o,l,c,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Gt?jt(e,f):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(f/zt),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/Pn|0,l[a]%=Pn;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Gt?jt(e,f):e}function hs(t,e,n){if(t!==~~t||t<e||t>n)throw Error(kc+t)}function Za(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=zt-r.length,n&&(a+=Po(n)),a+=r;s=t[e],r=s+"",n=zt-r.length,n&&(a+=Po(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Vs=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%Pn|0,s=a/Pn|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Pn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,d,f,h,p,m,g,b,x,v,y,w,_,E,A,j,T=r.constructor,C=r.s==i.s?1:-1,k=r.d,O=i.d;if(!r.s)return new T(r);if(!i.s)throw Error(Di+"Division by zero");for(l=r.e-i.e,A=O.length,_=k.length,p=new T(C),m=p.d=[],c=0;O[c]==(k[c]||0);)++c;if(O[c]>(k[c]||0)&&--l,a==null?v=a=T.precision:s?v=a+(vn(r)-vn(i))+1:v=a,v<0)return new T(0);if(v=v/zt+2|0,c=0,A==1)for(d=0,O=O[0],v++;(c<_||d)&&v--;c++)y=d*Pn+(k[c]||0),m[c]=y/O|0,d=y%O|0;else{for(d=Pn/(O[0]+1)|0,d>1&&(O=t(O,d),k=t(k,d),A=O.length,_=k.length),w=A,g=k.slice(0,A),b=g.length;b<A;)g[b++]=0;j=O.slice(),j.unshift(0),E=O[0],O[1]>=Pn/2&&++E;do d=0,o=e(O,g,A,b),o<0?(x=g[0],A!=b&&(x=x*Pn+(g[1]||0)),d=x/E|0,d>1?(d>=Pn&&(d=Pn-1),f=t(O,d),h=f.length,b=g.length,o=e(f,g,h,b),o==1&&(d--,n(f,A<h?j:O,h))):(d==0&&(o=d=1),f=O.slice()),h=f.length,h<b&&f.unshift(0),n(g,f,b),o==-1&&(b=g.length,o=e(O,g,A,b),o<1&&(d++,n(g,A<b?j:O,b))),b=g.length):o===0&&(d++,g=[0]),m[c++]=d,o&&g[0]?g[b++]=k[w]||0:(g=[k[w]],b=1);while((w++<_||g[0]!==void 0)&&v--)}return m[0]||m.shift(),p.e=l,jt(p,s?a+vn(p)+1:a)}}();function Zq(t,e){var n,r,i,a,s,o,l=0,c=0,d=t.constructor,f=d.precision;if(vn(t)>16)throw Error(AN+vn(t));if(!t.s)return new d(Zr);for(e==null?(Gt=!1,o=f):o=e,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(ic(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new d(Zr),d.precision=o;;){if(i=jt(i.times(t),o),n=n.times(++l),s=a.plus(Vs(i,n,o)),Za(s.d).slice(0,o)===Za(a.d).slice(0,o)){for(;c--;)a=jt(a.times(a),o);return d.precision=f,e==null?(Gt=!0,jt(a,f)):a}a=s}}function vn(t){for(var e=t.e*zt,n=t.d[0];n>=10;n/=10)e++;return e}function X1(t,e,n){if(e>t.LN10.sd())throw Gt=!0,n&&(t.precision=n),Error(Di+"LN10 precision limit exceeded");return jt(new t(t.LN10),e)}function Po(t){for(var e="";t--;)e+="0";return e}function wm(t,e){var n,r,i,a,s,o,l,c,d,f=1,h=10,p=t,m=p.d,g=p.constructor,b=g.precision;if(p.s<1)throw Error(Di+(p.s?"NaN":"-Infinity"));if(p.eq(Zr))return new g(0);if(e==null?(Gt=!1,c=b):c=e,p.eq(10))return e==null&&(Gt=!0),X1(g,c);if(c+=h,g.precision=c,n=Za(m),r=n.charAt(0),a=vn(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Za(p.d),r=n.charAt(0),f++;a=vn(p),r>1?(p=new g("0."+n),a++):p=new g(r+"."+n.slice(1))}else return l=X1(g,c+2,b).times(a+""),p=wm(new g(r+"."+n.slice(1)),c-h).plus(l),g.precision=b,e==null?(Gt=!0,jt(p,b)):p;for(o=s=p=Vs(p.minus(Zr),p.plus(Zr),c),d=jt(p.times(p),c),i=3;;){if(s=jt(s.times(d),c),l=o.plus(Vs(s,new g(i),c)),Za(l.d).slice(0,c)===Za(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(X1(g,c+2,b).times(a+""))),o=Vs(o,new g(f),c),g.precision=b,e==null?(Gt=!0,jt(o,b)):o;o=l,i+=2}}function dL(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=th(n/zt),t.d=[],r=(n+1)%zt,n<0&&(r+=zt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=zt;r<i;)t.d.push(+e.slice(r,r+=zt));e=e.slice(r),r=zt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Gt&&(t.e>Y0||t.e<-Y0))throw Error(AN+n)}else t.s=0,t.e=0,t.d=[0];return t}function jt(t,e,n){var r,i,a,s,o,l,c,d,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=zt,i=e,c=f[d=0];else{if(d=Math.ceil((r+1)/zt),a=f.length,d>=a)return t;for(c=a=f[d],s=1;a>=10;a/=10)s++;r%=zt,i=r-zt+s}if(n!==void 0&&(a=ic(10,s-i-1),o=c/a%10|0,l=e<0||f[d+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/ic(10,s-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=vn(t),f.length=1,e=e-a-1,f[0]=ic(10,(zt-e%zt)%zt),t.e=th(-e/zt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=ic(10,zt-r),f[d]=i>0?(c/ic(10,s-i)%ic(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==Pn&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=Pn)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Gt&&(t.e>Y0||t.e<-Y0))throw Error(AN+vn(t));return t}function Jq(t,e){var n,r,i,a,s,o,l,c,d,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Gt?jt(e,p):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),s=c-r,s){for(d=s<0,d?(n=l,s=-s,o=f.length):(n=f,r=c,o=l.length),i=Math.max(Math.ceil(p/zt),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Pn-1;--l[a],l[i]+=Pn}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Gt?jt(e,p):e):new h(0)}function Gc(t,e,n){var r,i=vn(t),a=Za(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Po(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Po(-i-1)+a,n&&(r=n-s)>0&&(a+=Po(r))):i>=s?(a+=Po(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Po(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Po(r))),t.s<0?"-"+a:a}function fL(t,e){if(t.length>e)return t.length=e,!0}function Qq(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(kc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return dL(s,a.toString())}else if(typeof a!="string")throw Error(kc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Y5e.test(a))dL(s,a);else throw Error(kc+a)}if(i.prototype=Ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Qq,i.config=i.set=X5e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function X5e(t){if(!t||typeof t!="object")throw Error(Di+"Object expected");var e,n,r,i=["precision",1,eh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(th(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(kc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(kc+n+": "+r);return this}var TN=Qq(K5e);Zr=new TN(1);const Et=TN;function Z5e(t){return t3e(t)||e3e(t)||Q5e(t)||J5e()}function J5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q5e(t,e){if(t){if(typeof t=="string")return vA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vA(t,e)}}function e3e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function t3e(t){if(Array.isArray(t))return vA(t)}function vA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var n3e=function(e){return e},eG={"@@functional/placeholder":!0},tG=function(e){return e===eG},hL=function(e){return function n(){return arguments.length===0||arguments.length===1&&tG(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},r3e=function t(e,n){return e===1?n:hL(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==eG}).length;return s>=e?n.apply(void 0,i):t(e-s,hL(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var d=i.map(function(f){return tG(f)?l.shift():f});return n.apply(void 0,Z5e(d).concat(l))}))})},kw=function(e){return r3e(e.length,e)},xA=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},i3e=kw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),a3e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return n3e;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},bA=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},nG=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(o,l){return o===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function s3e(t){var e;return t===0?e=1:e=Math.floor(new Et(t).abs().log(10).toNumber())+1,e}function o3e(t,e,n){for(var r=new Et(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var l3e=kw(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),c3e=kw(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),u3e=kw(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Cw={rangeStep:o3e,getDigitCount:s3e,interpolateNumber:l3e,uninterpolateNumber:c3e,uninterpolateTruncation:u3e};function wA(t){return h3e(t)||f3e(t)||rG(t)||d3e()}function d3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f3e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function h3e(t){if(Array.isArray(t))return _A(t)}function _m(t,e){return g3e(t)||m3e(t,e)||rG(t,e)||p3e()}function p3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rG(t,e){if(t){if(typeof t=="string")return _A(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _A(t,e)}}function _A(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m3e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function g3e(t){if(Array.isArray(t))return t}function iG(t){var e=_m(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function aG(t,e,n){if(t.lte(0))return new Et(0);var r=Cw.getDigitCount(t.toNumber()),i=new Et(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new Et(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?l:new Et(Math.ceil(l))}function y3e(t,e,n){var r=1,i=new Et(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Et(10).pow(Cw.getDigitCount(t)-1),i=new Et(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Et(Math.floor(t)))}else t===0?i=new Et(Math.floor((e-1)/2)):n||(i=new Et(Math.floor(t)));var s=Math.floor((e-1)/2),o=a3e(i3e(function(l){return i.add(new Et(l-s).mul(r)).toNumber()}),xA);return o(0,e)}function sG(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Et(0),tickMin:new Et(0),tickMax:new Et(0)};var a=aG(new Et(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Et(0):(s=new Et(t).add(e).div(2),s=s.sub(new Et(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new Et(e).sub(s).div(a).toNumber()),c=o+l+1;return c>n?sG(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,o=e>0?o:o+(n-c)),{step:a,tickMin:s.sub(new Et(o).mul(a)),tickMax:s.add(new Et(l).mul(a))})}function v3e(t){var e=_m(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=iG([n,r]),l=_m(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(wA(xA(0,i-1).map(function(){return 1/0}))):[].concat(wA(xA(0,i-1).map(function(){return-1/0})),[d]);return n>r?bA(f):f}if(c===d)return y3e(c,i,a);var h=sG(c,d,s,a),p=h.step,m=h.tickMin,g=h.tickMax,b=Cw.rangeStep(m,g.add(new Et(.1).mul(p)),p);return n>r?bA(b):b}function x3e(t,e){var n=_m(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=iG([r,i]),o=_m(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(e,2),f=aG(new Et(c).sub(l).div(d-1),a,0),h=[].concat(wA(Cw.rangeStep(new Et(l),new Et(c).sub(new Et(.99).mul(f)),f)),[c]);return r>i?bA(h):h}var b3e=nG(v3e),w3e=nG(x3e),_3e="Invariant failed";function Kc(t,e){throw new Error(_3e)}var S3e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X0.apply(this,arguments)}function E3e(t,e){return k3e(t)||T3e(t,e)||A3e(t,e)||j3e()}function j3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A3e(t,e){if(t){if(typeof t=="string")return pL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pL(t,e)}}function pL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function k3e(t){if(Array.isArray(t))return t}function C3e(t,e){if(t==null)return{};var n=O3e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function O3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function N3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P3e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cG(r.key),r)}}function I3e(t,e,n){return e&&P3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $3e(t,e,n){return e=Z0(e),R3e(t,oG()?Reflect.construct(e,n||[],Z0(t).constructor):e.apply(t,n))}function R3e(t,e){if(e&&(of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M3e(t)}function M3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oG=function(){return!!t})()}function Z0(t){return Z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z0(t)}function D3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SA(t,e)}function SA(t,e){return SA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SA(t,e)}function lG(t,e,n){return e=cG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cG(t){var e=L3e(t,"string");return of(e)=="symbol"?e:e+""}function L3e(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ng=function(t){function e(){return N3e(this,e),$3e(this,e,arguments)}return D3e(e,t),I3e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=C3e(r,S3e),p=Ie(h,!1);this.props.direction==="x"&&d.type!=="number"&&Kc();var m=l.map(function(g){var b=c(g,o),x=b.x,v=b.y,y=b.value,w=b.errorVal;if(!w)return null;var _=[],E,A;if(Array.isArray(w)){var j=E3e(w,2);E=j[0],A=j[1]}else E=A=w;if(a==="vertical"){var T=d.scale,C=v+i,k=C+s,O=C-s,L=T(y-E),R=T(y+A);_.push({x1:R,y1:k,x2:R,y2:O}),_.push({x1:L,y1:C,x2:R,y2:C}),_.push({x1:L,y1:k,x2:L,y2:O})}else if(a==="horizontal"){var F=f.scale,U=x+i,V=U-s,D=U+s,B=F(y-E),P=F(y+A);_.push({x1:V,y1:P,x2:D,y2:P}),_.push({x1:U,y1:B,x2:U,y2:P}),_.push({x1:V,y1:B,x2:D,y2:B})}return M.createElement(ot,X0({className:"recharts-errorBar",key:"bar-".concat(_.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},p),_.map(function(W){return M.createElement("line",X0({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return M.createElement(ot,{className:"recharts-errorBars"},m)}}])}(M.Component);lG(Ng,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});lG(Ng,"displayName","ErrorBar");function Sm(t){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sm(t)}function mL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mL(Object(n),!0).forEach(function(r){F3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F3e(t,e,n){return e=B3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B3e(t){var e=z3e(t,"string");return Sm(e)=="symbol"?e:e+""}function z3e(t,e){if(Sm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uG=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Yr(n,ol);if(!s)return null;var o=ol.defaultProps,l=o!==void 0?Gl(Gl({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:a==="children"?c=(r||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(g){return{type:s.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Gl(Gl({},h),f.props):{},m=p.dataKey,g=p.name,b=p.legendType,x=p.hide;return{inactive:x,dataKey:m,type:l.iconType||b||"square",color:kN(f),value:g||m,payload:p}}),Gl(Gl(Gl({},l),ol.getWithHeight(s,i)),{},{payload:c,item:s})};function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}function gL(t){return W3e(t)||V3e(t)||H3e(t)||U3e()}function U3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H3e(t,e){if(t){if(typeof t=="string")return EA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EA(t,e)}}function V3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function W3e(t){if(Array.isArray(t))return EA(t)}function EA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yL(Object(n),!0).forEach(function(r){wd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wd(t,e,n){return e=q3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q3e(t){var e=G3e(t,"string");return Em(e)=="symbol"?e:e+""}function G3e(t,e){if(Em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cn(t,e,n){return Ve(t)||Ve(e)?n:En(e)?si(t,e,n):Ue(e)?e(t):n}function vp(t,e,n,r){var i=V5e(t,function(o){return cn(o,e)});if(n==="number"){var a=i.filter(function(o){return de(o)||parseFloat(o)});return a.length?[Tw(a),Ko(a)]:[1/0,-1/0]}var s=r?i.filter(function(o){return!Ve(o)}):i;return s.map(function(o){return En(o)||o instanceof Date?o:""})}var K3e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<o;c++){var d=c>0?i[c-1].coordinate:i[o-1].coordinate,f=i[c].coordinate,h=c>=o-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(lr(f-d)!==lr(h-f)){var m=[];if(lr(h-f)===lr(l[1]-l[0])){p=h;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+d)/2),m[1]=Math.max(g,(g+d)/2)}else{p=d;var b=h+l[1]-l[0];m[0]=Math.min(f,(b+f)/2),m[1]=Math.max(f,(b+f)/2)}var x=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>x[0]&&e<=x[1]||e>=m[0]&&e<=m[1]){s=i[c].index;break}}else{var v=Math.min(d,h),y=Math.max(d,h);if(e>(v+f)/2&&e<=(y+f)/2){s=i[c].index;break}}}else for(var w=0;w<o;w++)if(w===0&&e<=(r[w].coordinate+r[w+1].coordinate)/2||w>0&&w<o-1&&e>(r[w].coordinate+r[w-1].coordinate)/2&&e<=(r[w].coordinate+r[w+1].coordinate)/2||w===o-1&&e>(r[w].coordinate+r[w-1].coordinate)/2){s=r[w].index;break}return s},kN=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?sn(sn({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},Y3e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,c=o.length;l<c;l++)for(var d=a[o[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],g=m.items,b=m.cateAxisId,x=g.filter(function(A){return Hs(A.type).indexOf("Bar")>=0});if(x&&x.length){var v=x[0].type.defaultProps,y=v!==void 0?sn(sn({},v),x[0].props):x[0].props,w=y.barSize,_=y[b];s[_]||(s[_]=[]);var E=Ve(w)?n:w;s[_].push({item:x[0],stackList:x.slice(1),barSize:Ve(E)?void 0:cr(E,r,0)})}}return s},X3e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var c=cr(n,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/l,m=s.reduce(function(w,_){return w+_.barSize||0},0);m+=(l-1)*c,m>=i&&(m-=(l-1)*c,c=0),m>=i&&p>0&&(h=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,b={offset:g-c,size:0};d=s.reduce(function(w,_){var E={item:_.item,position:{offset:b.offset+b.size+c,size:h?p:_.barSize}},A=[].concat(gL(w),[E]);return b=A[A.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(j){A.push({item:j,position:b})}),A},f)}else{var x=cr(r,i,0,!0);i-2*x-(l-1)*c<=0&&(c=0);var v=(i-2*x-(l-1)*c)/l;v>1&&(v>>=0);var y=o===+o?Math.min(v,o):v;d=s.reduce(function(w,_,E){var A=[].concat(gL(w),[{item:_.item,position:{offset:x+(v+c)*E+(v-y)/2,size:y}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(j){A.push({item:j,position:A[A.length-1].position})}),A},f)}return d},Z3e=function(e,n,r,i){var a=r.children,s=r.width,o=r.margin,l=s-(o.left||0)-(o.right||0),c=uG({children:a,legendWidth:l});if(c){var d=i||{},f=d.width,h=d.height,p=c.align,m=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&de(e[p]))return sn(sn({},e),{},wd({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&de(e[m]))return sn(sn({},e),{},wd({},m,e[m]+(h||0)))}return e},J3e=function(e,n,r){return Ve(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},dG=function(e,n,r,i,a){var s=n.props.children,o=oi(s,Ng).filter(function(c){return J3e(i,a,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var f=cn(d,r);if(Ve(f))return c;var h=Array.isArray(f)?[Tw(f),Ko(f)]:[f,f],p=l.reduce(function(m,g){var b=cn(d,g,0),x=h[0]-Math.abs(Array.isArray(b)?b[0]:b),v=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(x,m[0]),Math.max(v,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},Q3e=function(e,n,r,i,a){var s=n.map(function(o){return dG(e,o,r,a,i)}).filter(function(o){return!Ve(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},fG=function(e,n,r,i,a){var s=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&dG(e,l,c,i)||vp(e,c,r,a)});if(r==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)o[c[d]]||(o[c[d]]=!0,l.push(c[d]));return l},[])},hG=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},pG=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate});return a||o.push(n),s||o.push(r),o},Rs=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?lr(o[0]-o[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return d.filter(function(f){return!Yf(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:a?a[f]:f,index:h,offset:c}})},Z1=new WeakMap,Ly=function(e,n){if(typeof n!="function")return e;Z1.has(e)||Z1.set(e,new WeakMap);var r=Z1.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},mG=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:gm(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:W0(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:yp(),realScaleType:"point"}:a==="category"?{scale:gm(),realScaleType:"band"}:{scale:W0(),realScaleType:"linear"};if(Eg(i)){var l="scale".concat(hw(i));return{scale:(uL[l]||yp)(),realScaleType:uL[l]?l:"point"}}return Ue(i)?{scale:i}:{scale:yp(),realScaleType:"point"}},vL=1e-4,gG=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-vL,s=Math.max(i[0],i[1])+vL,o=e(n[0]),l=e(n[r-1]);(o<a||o>s||l<a||l>s)&&e.domain([n[0],n[r-1]])}},eFe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},tFe=function(e,n){if(!n||n.length!==2||!de(n[0])||!de(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!de(e[0])||e[0]<r)&&(a[0]=r),(!de(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},nFe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,o=0;o<n;++o){var l=Yf(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1])}},rFe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var o=Yf(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},iFe={sign:nFe,expand:SCe,none:Jd,silhouette:ECe,wiggle:jCe,positive:rFe},aFe=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),a=iFe[r],s=_Ce().keys(i).value(function(o,l){return+cn(o,l,0)}).order(Yj).offset(a);return s(e)},sFe=function(e,n,r,i,a,s){if(!e)return null;var o=s?n.reverse():n,l={},c=o.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?sn(sn({},h.type.defaultProps),h.props):h.props,g=m.stackId,b=m.hide;if(b)return f;var x=m[r],v=f[x]||{hasStack:!1,stackGroups:{}};if(En(g)){var y=v.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};y.items.push(h),v.hasStack=!0,v.stackGroups[g]=y}else v.stackGroups[cu("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return sn(sn({},f),{},wd({},x,v))},l),d={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,b){var x=p.stackGroups[b];return sn(sn({},g),{},wd({},b,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:aFe(e,x.items,a)}))},m)}return sn(sn({},f),{},wd({},h,p))},d)},yG=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=b3e(c,a,o);return e.domain([Tw(d),Ko(d)]),{niceTicks:d}}if(a&&i==="number"){var f=e.domain(),h=w3e(f,a,o);return{niceTicks:h}}return null};function J0(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ve(i[e.dataKey])){var o=E0(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=cn(i,Ve(s)?e.dataKey:s);return Ve(l)?null:e.scale(l)}var xL=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=cn(s,n.dataKey,n.domain[o]);return Ve(l)?null:n.scale(l)-a/2+i},oFe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},lFe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?sn(sn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(En(a)){var s=n[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},cFe=function(e){return e.reduce(function(n,r){return[Tw(r.concat([n[0]]).filter(de)),Ko(r.concat([n[1]]).filter(de))]},[1/0,-1/0])},vG=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(c,d){var f=cFe(d.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},bL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jA=function(e,n,r){if(Ue(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(de(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(bL.test(e[0])){var a=+bL.exec(e[0])[1];i[0]=n[0]-a}else Ue(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(de(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(wL.test(e[1])){var s=+wL.exec(e[1])[1];i[1]=n[1]+s}else Ue(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Q0=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=nN(n,function(f){return f.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],d=a[o-1];s=Math.min((c.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},_L=function(e,n,r){return!e||!e.length||qc(e,si(r,"type.defaultProps.domain"))?n:e},xG=function(e,n){var r=e.type.defaultProps?sn(sn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,d=r.hide;return sn(sn({},Ie(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:kN(e),value:cn(n,i),type:l,payload:n,chartType:c,hide:d})};function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(t)}function SL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ks(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SL(Object(n),!0).forEach(function(r){bG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bG(t,e,n){return e=uFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uFe(t){var e=dFe(t,"string");return jm(e)=="symbol"?e:e+""}function dFe(t,e){if(jm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fFe(t,e){return gFe(t)||mFe(t,e)||pFe(t,e)||hFe()}function hFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pFe(t,e){if(t){if(typeof t=="string")return EL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EL(t,e)}}function EL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function gFe(t){if(Array.isArray(t))return t}var ex=Math.PI/180,yFe=function(e){return e*180/Math.PI},$t=function(e,n,r,i){return{x:e+Math.cos(-ex*i)*r,y:n+Math.sin(-ex*i)*r}},wG=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},vFe=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.startAngle,c=e.endAngle,d=cr(e.cx,s,s/2),f=cr(e.cy,o,o/2),h=wG(s,o,r),p=cr(e.innerRadius,h,0),m=cr(e.outerRadius,h,h*.8),g=Object.keys(n);return g.reduce(function(b,x){var v=n[x],y=v.domain,w=v.reversed,_;if(Ve(v.range))i==="angleAxis"?_=[l,c]:i==="radiusAxis"&&(_=[p,m]),w&&(_=[_[1],_[0]]);else{_=v.range;var E=_,A=fFe(E,2);l=A[0],c=A[1]}var j=mG(v,a),T=j.realScaleType,C=j.scale;C.domain(y).range(_),gG(C);var k=yG(C,ks(ks({},v),{},{realScaleType:T})),O=ks(ks(ks({},v),k),{},{range:_,radius:m,realScaleType:T,scale:C,cx:d,cy:f,innerRadius:p,outerRadius:m,startAngle:l,endAngle:c});return ks(ks({},b),{},bG({},x,O))},{})},xFe=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},bFe=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,o=xFe({x:r,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(r-a)/o,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:o,angle:yFe(c),angleInRadian:c}},wFe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},_Fe=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},jL=function(e,n){var r=e.x,i=e.y,a=bFe({x:r,y:i},n),s=a.radius,o=a.angle,l=n.innerRadius,c=n.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var d=wFe(n),f=d.startAngle,h=d.endAngle,p=o,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?ks(ks({},n),{},{radius:s,angle:_Fe(p,n)}):null},_G=function(e){return!S.isValidElement(e)&&!Ue(e)&&typeof e!="boolean"?e.className:""};function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}var SFe=["offset"];function EFe(t){return kFe(t)||TFe(t)||AFe(t)||jFe()}function jFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AFe(t,e){if(t){if(typeof t=="string")return AA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AA(t,e)}}function TFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kFe(t){if(Array.isArray(t))return AA(t)}function AA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CFe(t,e){if(t==null)return{};var n=OFe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OFe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function AL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AL(Object(n),!0).forEach(function(r){NFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NFe(t,e,n){return e=PFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PFe(t){var e=IFe(t,"string");return Am(e)=="symbol"?e:e+""}function IFe(t,e){if(Am(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tm(){return Tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tm.apply(this,arguments)}var $Fe=function(e){var n=e.value,r=e.formatter,i=Ve(e.children)?n:e.children;return Ue(r)?r(i):i},RFe=function(e,n){var r=lr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},MFe=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,c=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,b=(f+h)/2,x=RFe(p,m),v=x>=0?1:-1,y,w;i==="insideStart"?(y=p+v*s,w=g):i==="insideEnd"?(y=m-v*s,w=!g):i==="end"&&(y=m+v*s,w=g),w=x<=0?w:!w;var _=$t(c,d,b,y),E=$t(c,d,b,y+(w?1:-1)*359),A="M".concat(_.x,",").concat(_.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(w?0:1,`,
    `).concat(E.x,",").concat(E.y),j=Ve(e.id)?cu("recharts-radial-line-"):e.id;return M.createElement("text",Tm({},r,{dominantBaseline:"central",className:Ke("recharts-radial-bar-label",o)}),M.createElement("defs",null,M.createElement("path",{id:j,d:A})),M.createElement("textPath",{xlinkHref:"#".concat(j)},n))},DFe=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,o=a.cy,l=a.innerRadius,c=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var p=$t(s,o,c+r,h),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var b=(l+c)/2,x=$t(s,o,b,h),v=x.x,y=x.y;return{x:v,y,textAnchor:"middle",verticalAnchor:"middle"}},LFe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,o=s.x,l=s.y,c=s.width,d=s.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=c>=0?1:-1,b=g*i,x=g>0?"end":"start",v=g>0?"start":"end";if(a==="top"){var y={x:o+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return xn(xn({},y),r?{height:Math.max(l-r.y,0),width:c}:{})}if(a==="bottom"){var w={x:o+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:m};return xn(xn({},w),r?{height:Math.max(r.y+r.height-(l+d),0),width:c}:{})}if(a==="left"){var _={x:o-b,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return xn(xn({},_),r?{width:Math.max(_.x-r.x,0),height:d}:{})}if(a==="right"){var E={x:o+c+b,y:l+d/2,textAnchor:v,verticalAnchor:"middle"};return xn(xn({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:d}:{})}var A=r?{width:c,height:d}:{};return a==="insideLeft"?xn({x:o+b,y:l+d/2,textAnchor:v,verticalAnchor:"middle"},A):a==="insideRight"?xn({x:o+c-b,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},A):a==="insideTop"?xn({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},A):a==="insideBottom"?xn({x:o+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},A):a==="insideTopLeft"?xn({x:o+b,y:l+h,textAnchor:v,verticalAnchor:m},A):a==="insideTopRight"?xn({x:o+c-b,y:l+h,textAnchor:x,verticalAnchor:m},A):a==="insideBottomLeft"?xn({x:o+b,y:l+d-h,textAnchor:v,verticalAnchor:p},A):a==="insideBottomRight"?xn({x:o+c-b,y:l+d-h,textAnchor:x,verticalAnchor:p},A):Wf(a)&&(de(a.x)||dc(a.x))&&(de(a.y)||dc(a.y))?xn({x:o+cr(a.x,c),y:l+cr(a.y,d),textAnchor:"end",verticalAnchor:"end"},A):xn({x:o+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},FFe=function(e){return"cx"in e&&de(e.cx)};function $n(t){var e=t.offset,n=e===void 0?5:e,r=CFe(t,SFe),i=xn({offset:n},r),a=i.viewBox,s=i.position,o=i.value,l=i.children,c=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||Ve(o)&&Ve(l)&&!S.isValidElement(c)&&!Ue(c))return null;if(S.isValidElement(c))return S.cloneElement(c,i);var p;if(Ue(c)){if(p=S.createElement(c,i),S.isValidElement(p))return p}else p=$Fe(i);var m=FFe(a),g=Ie(i,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return MFe(i,p,g);var b=m?DFe(i):LFe(i);return M.createElement(Wc,Tm({className:Ke("recharts-label",f)},g,b,{breakAll:h}),p)}$n.displayName="Label";var SG=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,p=e.top,m=e.left,g=e.width,b=e.height,x=e.clockWise,v=e.labelViewBox;if(v)return v;if(de(g)&&de(b)){if(de(f)&&de(h))return{x:f,y:h,width:g,height:b};if(de(p)&&de(m))return{x:p,y:m,width:g,height:b}}return de(f)&&de(h)?{x:f,y:h,width:0,height:0}:de(n)&&de(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:d||l||o||0,clockWise:x}:e.viewBox?e.viewBox:{}},BFe=function(e,n){return e?e===!0?M.createElement($n,{key:"label-implicit",viewBox:n}):En(e)?M.createElement($n,{key:"label-implicit",viewBox:n,value:e}):S.isValidElement(e)?e.type===$n?S.cloneElement(e,{key:"label-implicit",viewBox:n}):M.createElement($n,{key:"label-implicit",content:e,viewBox:n}):Ue(e)?M.createElement($n,{key:"label-implicit",content:e,viewBox:n}):Wf(e)?M.createElement($n,Tm({viewBox:n},e,{key:"label-implicit"})):null:null},zFe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=SG(e),s=oi(i,$n).map(function(l,c){return S.cloneElement(l,{viewBox:n||a,key:"label-".concat(c)})});if(!r)return s;var o=BFe(e.label,n||a);return[o].concat(EFe(s))};$n.parseViewBox=SG;$n.renderCallByParent=zFe;function UFe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var HFe=UFe;const VFe=at(HFe);function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}var WFe=["valueAccessor"],qFe=["data","dataKey","clockWise","id","textBreakAll"];function GFe(t){return ZFe(t)||XFe(t)||YFe(t)||KFe()}function KFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YFe(t,e){if(t){if(typeof t=="string")return TA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TA(t,e)}}function XFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZFe(t){if(Array.isArray(t))return TA(t)}function TA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tx(){return tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tx.apply(this,arguments)}function TL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TL(Object(n),!0).forEach(function(r){JFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JFe(t,e,n){return e=QFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QFe(t){var e=eBe(t,"string");return km(e)=="symbol"?e:e+""}function eBe(t,e){if(km(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CL(t,e){if(t==null)return{};var n=tBe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tBe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var nBe=function(e){return Array.isArray(e.value)?VFe(e.value):e.value};function ss(t){var e=t.valueAccessor,n=e===void 0?nBe:e,r=CL(t,WFe),i=r.data,a=r.dataKey,s=r.clockWise,o=r.id,l=r.textBreakAll,c=CL(r,qFe);return!i||!i.length?null:M.createElement(ot,{className:"recharts-label-list"},i.map(function(d,f){var h=Ve(a)?n(d,f):cn(d&&d.payload,a),p=Ve(o)?{}:{id:"".concat(o,"-").concat(f)};return M.createElement($n,tx({},Ie(d,!0),c,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:$n.parseViewBox(Ve(s)?d:kL(kL({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}ss.displayName="LabelList";function rBe(t,e){return t?t===!0?M.createElement(ss,{key:"labelList-implicit",data:e}):M.isValidElement(t)||Ue(t)?M.createElement(ss,{key:"labelList-implicit",data:e,content:t}):Wf(t)?M.createElement(ss,tx({data:e},t,{key:"labelList-implicit"})):null:null}function iBe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=oi(r,ss).map(function(s,o){return S.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var a=rBe(t.label,e);return[a].concat(GFe(i))}ss.renderCallByParent=iBe;function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}function kA(){return kA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kA.apply(this,arguments)}function OL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OL(Object(n),!0).forEach(function(r){aBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aBe(t,e,n){return e=sBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sBe(t){var e=oBe(t,"string");return Cm(e)=="symbol"?e:e+""}function oBe(t,e){if(Cm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lBe=function(e,n){var r=lr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Fy=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(o?1:-1)+i,f=Math.asin(l/d)/ex,h=c?a:a+s*f,p=$t(n,r,d,h),m=$t(n,r,i,h),g=c?a-s*f:a,b=$t(n,r,d*Math.cos(f*ex),g);return{center:p,circleTangency:m,lineTangency:b,theta:f}},EG=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=lBe(s,o),c=s+l,d=$t(n,r,a,s),f=$t(n,r,a,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=$t(n,r,i,s),m=$t(n,r,i,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},cBe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,f=lr(d-c),h=Fy({cx:n,cy:r,radius:a,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,g=h.theta,b=Fy({cx:n,cy:r,radius:a,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),x=b.circleTangency,v=b.lineTangency,y=b.theta,w=l?Math.abs(c-d):Math.abs(c-d)-g-y;if(w<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):EG({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d});var _="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(i>0){var E=Fy({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),A=E.circleTangency,j=E.lineTangency,T=E.theta,C=Fy({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),k=C.circleTangency,O=C.lineTangency,L=C.theta,R=l?Math.abs(c-d):Math.abs(c-d)-T-L;if(R<0&&s===0)return"".concat(_,"L").concat(n,",").concat(r,"Z");_+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,"Z")}else _+="L".concat(n,",").concat(r,"Z");return _},uBe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},jG=function(e){var n=NL(NL({},uBe),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(s<a||d===f)return null;var p=Ke("recharts-sector",h),m=s-a,g=cr(o,m,0,!0),b;return g>0&&Math.abs(d-f)<360?b=cBe({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):b=EG({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:d,endAngle:f}),M.createElement("path",kA({},Ie(n,!0),{className:p,d:b,role:"img"}))};function Om(t){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}function CA(){return CA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CA.apply(this,arguments)}function PL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PL(Object(n),!0).forEach(function(r){dBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dBe(t,e,n){return e=fBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fBe(t){var e=hBe(t,"string");return Om(e)=="symbol"?e:e+""}function hBe(t,e){if(Om(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Om(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $L={curveBasisClosed:dCe,curveBasisOpen:fCe,curveBasis:uCe,curveBumpX:Xke,curveBumpY:Zke,curveLinearClosed:hCe,curveLinear:mw,curveMonotoneX:pCe,curveMonotoneY:mCe,curveNatural:gCe,curveStep:yCe,curveStepAfter:xCe,curveStepBefore:vCe},By=function(e){return e.x===+e.x&&e.y===+e.y},Th=function(e){return e.x},kh=function(e){return e.y},pBe=function(e,n){if(Ue(e))return e;var r="curve".concat(hw(e));return(r==="curveMonotone"||r==="curveBump")&&n?$L["".concat(r).concat(n==="vertical"?"Y":"X")]:$L[r]||mw},mBe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=pBe(r,o),f=c?a.filter(function(g){return By(g)}):a,h;if(Array.isArray(s)){var p=c?s.filter(function(g){return By(g)}):s,m=f.map(function(g,b){return IL(IL({},g),{},{base:p[b]})});return o==="vertical"?h=Oy().y(kh).x1(Th).x0(function(g){return g.base.x}):h=Oy().x(Th).y1(kh).y0(function(g){return g.base.y}),h.defined(By).curve(d),h(m)}return o==="vertical"&&de(s)?h=Oy().y(kh).x1(Th).x0(s):de(s)?h=Oy().x(Th).y1(kh).y0(s):h=xW().x(Th).y(kh),h.defined(By).curve(d),h(f)},Cc=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?mBe(e):i;return M.createElement("path",CA({},Ie(e,!1),j0(e),{className:Ke("recharts-curve",n),d:s,ref:a}))},AG={exports:{}},gBe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",yBe=gBe,vBe=yBe;function TG(){}function kG(){}kG.resetWarningCache=TG;var xBe=function(){function t(r,i,a,s,o,l){if(l!==vBe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:kG,resetWarningCache:TG};return n.PropTypes=n,n};AG.exports=xBe();var bBe=AG.exports;const Qe=at(bBe);var wBe=Object.getOwnPropertyNames,_Be=Object.getOwnPropertySymbols,SBe=Object.prototype.hasOwnProperty;function RL(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function zy(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,s=a.get(n),o=a.get(r);if(s&&o)return s===r&&o===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function ML(t){return wBe(t).concat(_Be(t))}var CG=Object.hasOwn||function(t,e){return SBe.call(t,e)};function nh(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var OG="_owner",DL=Object.getOwnPropertyDescriptor,LL=Object.keys;function EBe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function jBe(t,e){return nh(t.getTime(),e.getTime())}function FL(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),a=0,s,o;(s=i.next())&&!s.done;){for(var l=e.entries(),c=!1,d=0;(o=l.next())&&!o.done;){var f=s.value,h=f[0],p=f[1],m=o.value,g=m[0],b=m[1];!c&&!r[d]&&(c=n.equals(h,g,a,d,t,e,n)&&n.equals(p,b,h,g,t,e,n))&&(r[d]=!0),d++}if(!c)return!1;a++}return!0}function ABe(t,e,n){var r=LL(t),i=r.length;if(LL(e).length!==i)return!1;for(var a;i-- >0;)if(a=r[i],a===OG&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!CG(e,a)||!n.equals(t[a],e[a],a,a,t,e,n))return!1;return!0}function Ch(t,e,n){var r=ML(t),i=r.length;if(ML(e).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=r[i],a===OG&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!CG(e,a)||!n.equals(t[a],e[a],a,a,t,e,n)||(s=DL(t,a),o=DL(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function TBe(t,e){return nh(t.valueOf(),e.valueOf())}function kBe(t,e){return t.source===e.source&&t.flags===e.flags}function BL(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),a,s;(a=i.next())&&!a.done;){for(var o=e.values(),l=!1,c=0;(s=o.next())&&!s.done;)!l&&!r[c]&&(l=n.equals(a.value,s.value,a.value,s.value,t,e,n))&&(r[c]=!0),c++;if(!l)return!1}return!0}function CBe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var OBe="[object Arguments]",NBe="[object Boolean]",PBe="[object Date]",IBe="[object Map]",$Be="[object Number]",RBe="[object Object]",MBe="[object RegExp]",DBe="[object Set]",LBe="[object String]",FBe=Array.isArray,zL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,UL=Object.assign,BBe=Object.prototype.toString.call.bind(Object.prototype.toString);function zBe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,a=t.arePrimitiveWrappersEqual,s=t.areRegExpsEqual,o=t.areSetsEqual,l=t.areTypedArraysEqual;return function(d,f,h){if(d===f)return!0;if(d==null||f==null||typeof d!="object"||typeof f!="object")return d!==d&&f!==f;var p=d.constructor;if(p!==f.constructor)return!1;if(p===Object)return i(d,f,h);if(FBe(d))return e(d,f,h);if(zL!=null&&zL(d))return l(d,f,h);if(p===Date)return n(d,f,h);if(p===RegExp)return s(d,f,h);if(p===Map)return r(d,f,h);if(p===Set)return o(d,f,h);var m=BBe(d);return m===PBe?n(d,f,h):m===MBe?s(d,f,h):m===IBe?r(d,f,h):m===DBe?o(d,f,h):m===RBe?typeof d.then!="function"&&typeof f.then!="function"&&i(d,f,h):m===OBe?i(d,f,h):m===NBe||m===$Be||m===LBe?a(d,f,h):!1}}function UBe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Ch:EBe,areDatesEqual:jBe,areMapsEqual:r?RL(FL,Ch):FL,areObjectsEqual:r?Ch:ABe,arePrimitiveWrappersEqual:TBe,areRegExpsEqual:kBe,areSetsEqual:r?RL(BL,Ch):BL,areTypedArraysEqual:r?Ch:CBe};if(n&&(i=UL({},i,n(i))),e){var a=zy(i.areArraysEqual),s=zy(i.areMapsEqual),o=zy(i.areObjectsEqual),l=zy(i.areSetsEqual);i=UL({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}function HBe(t){return function(e,n,r,i,a,s,o){return t(e,n,o)}}function VBe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,c){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return n(l,c,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return n(l,c,s)}}var WBe=Hl();Hl({strict:!0});Hl({circular:!0});Hl({circular:!0,strict:!0});Hl({createInternalComparator:function(){return nh}});Hl({strict:!0,createInternalComparator:function(){return nh}});Hl({circular:!0,createInternalComparator:function(){return nh}});Hl({circular:!0,createInternalComparator:function(){return nh},strict:!0});function Hl(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,o=UBe(t),l=zBe(o),c=r?r(l):HBe(l);return VBe({circular:n,comparator:l,createState:i,equals:c,strict:s})}function qBe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function HL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):qBe(i)};requestAnimationFrame(r)}function OA(t){"@babel/helpers - typeof";return OA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OA(t)}function GBe(t){return ZBe(t)||XBe(t)||YBe(t)||KBe()}function KBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YBe(t,e){if(t){if(typeof t=="string")return VL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VL(t,e)}}function VL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZBe(t){if(Array.isArray(t))return t}function JBe(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,o=GBe(s),l=o[0],c=o.slice(1);if(typeof l=="number"){HL(i.bind(null,c),l);return}i(l),HL(i.bind(null,c));return}OA(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Nm(t){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(t)}function WL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WL(Object(n),!0).forEach(function(r){NG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NG(t,e,n){return e=QBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QBe(t){var e=eze(t,"string");return Nm(e)==="symbol"?e:String(e)}function eze(t,e){if(Nm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tze=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},nze=function(e){return e},rze=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},xp=function(e,n){return Object.keys(n).reduce(function(r,i){return qL(qL({},r),{},NG({},i,e(i,n[i])))},{})},GL=function(e,n,r){return e.map(function(i){return"".concat(rze(i)," ").concat(n,"ms ").concat(r)}).join(",")};function ize(t,e){return oze(t)||sze(t,e)||PG(t,e)||aze()}function aze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sze(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function oze(t){if(Array.isArray(t))return t}function lze(t){return dze(t)||uze(t)||PG(t)||cze()}function cze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PG(t,e){if(t){if(typeof t=="string")return NA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NA(t,e)}}function uze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dze(t){if(Array.isArray(t))return NA(t)}function NA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var nx=1e-4,IG=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},$G=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},KL=function(e,n){return function(r){var i=IG(e,n);return $G(i,r)}},fze=function(e,n){return function(r){var i=IG(e,n),a=[].concat(lze(i.map(function(s,o){return s*o}).slice(1)),[0]);return $G(a,r)}},YL=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),d=ize(c,4);i=d[0],a=d[1],s=d[2],o=d[3]}}}var f=KL(i,s),h=KL(a,o),p=fze(i,s),m=function(x){return x>1?1:x<0?0:x},g=function(x){for(var v=x>1?1:x,y=v,w=0;w<8;++w){var _=f(y)-v,E=p(y);if(Math.abs(_-v)<nx||E<nx)return h(y);y=m(y-_/E)}return h(y)};return g.isStepper=!1,g},hze=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(d,f,h){var p=-(d-f)*r,m=h*a,g=h+(p-m)*o/1e3,b=h*o/1e3+d;return Math.abs(b-f)<nx&&Math.abs(g)<nx?[f,0]:[b,g]};return l.isStepper=!0,l.dt=o,l},pze=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return YL(i);case"spring":return hze();default:if(i.split("(")[0]==="cubic-bezier")return YL(i)}return typeof i=="function"?i:null};function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function XL(t){return yze(t)||gze(t)||RG(t)||mze()}function mze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yze(t){if(Array.isArray(t))return IA(t)}function ZL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZL(Object(n),!0).forEach(function(r){PA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PA(t,e,n){return e=vze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vze(t){var e=xze(t,"string");return Pm(e)==="symbol"?e:String(e)}function xze(t,e){if(Pm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bze(t,e){return Sze(t)||_ze(t,e)||RG(t,e)||wze()}function wze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RG(t,e){if(t){if(typeof t=="string")return IA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IA(t,e)}}function IA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _ze(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Sze(t){if(Array.isArray(t))return t}var rx=function(e,n,r){return e+(n-e)*r},$A=function(e){var n=e.from,r=e.to;return n!==r},Eze=function t(e,n,r){var i=xp(function(a,s){if($A(s)){var o=e(s.from,s.to,s.velocity),l=bze(o,2),c=l[0],d=l[1];return Ln(Ln({},s),{},{from:c,velocity:d})}return s},n);return r<1?xp(function(a,s){return $A(s)?Ln(Ln({},s),{},{velocity:rx(s.velocity,i[a].velocity,r),from:rx(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const jze=function(t,e,n,r,i){var a=tze(t,e),s=a.reduce(function(b,x){return Ln(Ln({},b),{},PA({},x,[t[x],e[x]]))},{}),o=a.reduce(function(b,x){return Ln(Ln({},b),{},PA({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,c,d,f=function(){return null},h=function(){return xp(function(x,v){return v.from},o)},p=function(){return!Object.values(o).filter($A).length},m=function(x){c||(c=x);var v=x-c,y=v/n.dt;o=Eze(n,o,y),i(Ln(Ln(Ln({},t),e),h())),c=x,p()||(l=requestAnimationFrame(f))},g=function(x){d||(d=x);var v=(x-d)/r,y=xp(function(_,E){return rx.apply(void 0,XL(E).concat([n(v)]))},s);if(i(Ln(Ln(Ln({},t),e),y)),v<1)l=requestAnimationFrame(f);else{var w=xp(function(_,E){return rx.apply(void 0,XL(E).concat([n(1)]))},s);i(Ln(Ln(Ln({},t),e),w))}};return f=n.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}var Aze=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Tze(t,e){if(t==null)return{};var n=kze(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kze(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function J1(t){return Pze(t)||Nze(t)||Oze(t)||Cze()}function Cze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oze(t,e){if(t){if(typeof t=="string")return RA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RA(t,e)}}function Nze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pze(t){if(Array.isArray(t))return RA(t)}function RA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JL(Object(n),!0).forEach(function(r){Vh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vh(t,e,n){return e=MG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ize(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MG(r.key),r)}}function Rze(t,e,n){return e&&$ze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MG(t){var e=Mze(t,"string");return lf(e)==="symbol"?e:String(e)}function Mze(t,e){if(lf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MA(t,e)}function MA(t,e){return MA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},MA(t,e)}function Lze(t){var e=Fze();return function(){var r=ix(t),i;if(e){var a=ix(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return DA(this,i)}}function DA(t,e){if(e&&(lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LA(t)}function LA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fze(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ix(t){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ix(t)}var Aa=function(t){Dze(n,t);var e=Lze(n);function n(r,i){var a;Ize(this,n),a=e.call(this,r,i);var s=a.props,o=s.isActive,l=s.attributeName,c=s.from,d=s.to,f=s.steps,h=s.children,p=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(LA(a)),a.changeStyle=a.changeStyle.bind(LA(a)),!o||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),DA(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof h=="function")return a.state={style:c},DA(a);a.state={style:l?Vh({},l,c):c}}else a.state={style:{}};return a}return Rze(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(o){if(!s){var p={style:l?Vh({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(WBe(i.to,d)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||c?f:i.to;if(this.state&&h){var b={style:l?Vh({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(b)}this.runAnimation(Gi(Gi({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,c=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=jze(s,o,pze(c),l,this.changeStyle),m=function(){a.stopJSAnimation=p()};this.manager.start([h,d,m,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,c=s[0],d=c.style,f=c.duration,h=f===void 0?0:f,p=function(g,b,x){if(x===0)return g;var v=b.duration,y=b.easing,w=y===void 0?"ease":y,_=b.style,E=b.properties,A=b.onAnimationEnd,j=x>0?s[x-1]:b,T=E||Object.keys(_);if(typeof w=="function"||w==="spring")return[].concat(J1(g),[a.runJSAnimation.bind(a,{from:j.style,to:_,duration:v,easing:w}),v]);var C=GL(T,v,w),k=Gi(Gi(Gi({},j.style),_),{},{transition:C});return[].concat(J1(g),[k,v,A]).filter(nze)};return this.manager.start([l].concat(J1(s.reduce(p,[d,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=JBe());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=o?Vh({},o,l):l,b=GL(Object.keys(g),s,c);m.start([d,a,Gi(Gi({},g),{},{transition:b}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Tze(i,Aze),c=S.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!o||c===0||s<=0)return a;var f=function(p){var m=p.props,g=m.style,b=g===void 0?{}:g,x=m.className,v=S.cloneElement(p,Gi(Gi({},l),{},{style:Gi(Gi({},b),d),className:x}));return v};return c===1?f(S.Children.only(a)):M.createElement("div",null,S.Children.map(a,function(h){return f(h)}))}}]),n}(S.PureComponent);Aa.displayName="Animate";Aa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Aa.propTypes={from:Qe.oneOfType([Qe.object,Qe.string]),to:Qe.oneOfType([Qe.object,Qe.string]),attributeName:Qe.string,duration:Qe.number,begin:Qe.number,easing:Qe.oneOfType([Qe.string,Qe.func]),steps:Qe.arrayOf(Qe.shape({duration:Qe.number.isRequired,style:Qe.object.isRequired,easing:Qe.oneOfType([Qe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Qe.func]),properties:Qe.arrayOf("string"),onAnimationEnd:Qe.func})),children:Qe.oneOfType([Qe.node,Qe.func]),isActive:Qe.bool,canBegin:Qe.bool,onAnimationEnd:Qe.func,shouldReAnimate:Qe.bool,onAnimationStart:Qe.func,onAnimationReStart:Qe.func};Qe.object,Qe.object,Qe.object,Qe.element;Qe.object,Qe.object,Qe.object,Qe.oneOfType([Qe.array,Qe.element]),Qe.any;function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}function ax(){return ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ax.apply(this,arguments)}function Bze(t,e){return Vze(t)||Hze(t,e)||Uze(t,e)||zze()}function zze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uze(t,e){if(t){if(typeof t=="string")return QL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QL(t,e)}}function QL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hze(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Vze(t){if(Array.isArray(t))return t}function e4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e4(Object(n),!0).forEach(function(r){Wze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wze(t,e,n){return e=qze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qze(t){var e=Gze(t,"string");return Im(e)=="symbol"?e:e+""}function Gze(t,e){if(Im(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n4=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,d;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>s?s:a[h];d="M".concat(e,",").concat(n+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+o*f[1])),d+="L ".concat(e+r,",").concat(n+i-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),d+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-o*f[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var m=Math.min(s,a);d="M ".concat(e,",").concat(n+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(n+o*m,`
            L `).concat(e+r,",").concat(n+i-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(n+i-o*m," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},Kze=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(a,a+o),d=Math.max(a,a+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return r>=c&&r<=d&&i>=f&&i<=h}return!1},Yze={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},CN=function(e){var n=t4(t4({},Yze),e),r=S.useRef(),i=S.useState(-1),a=Bze(i,2),s=a[0],o=a[1];S.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&o(w)}catch{}},[]);var l=n.x,c=n.y,d=n.width,f=n.height,h=n.radius,p=n.className,m=n.animationEasing,g=n.animationDuration,b=n.animationBegin,x=n.isAnimationActive,v=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var y=Ke("recharts-rectangle",p);return v?M.createElement(Aa,{canBegin:s>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:g,animationEasing:m,isActive:v},function(w){var _=w.width,E=w.height,A=w.x,j=w.y;return M.createElement(Aa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,isActive:x,easing:m},M.createElement("path",ax({},Ie(n,!0),{className:y,d:n4(A,j,_,E,h),ref:r})))}):M.createElement("path",ax({},Ie(n,!0),{className:y,d:n4(l,c,d,f,h)}))},Xze=["points","className","baseLinePoints","connectNulls"];function ed(){return ed=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ed.apply(this,arguments)}function Zze(t,e){if(t==null)return{};var n=Jze(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jze(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function r4(t){return nUe(t)||tUe(t)||eUe(t)||Qze()}function Qze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eUe(t,e){if(t){if(typeof t=="string")return FA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FA(t,e)}}function tUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nUe(t){if(Array.isArray(t))return FA(t)}function FA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var i4=function(e){return e&&e.x===+e.x&&e.y===+e.y},rUe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){i4(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),i4(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},bp=function(e,n){var r=rUe(e);n&&(r=[r.reduce(function(a,s){return[].concat(r4(a),r4(s))},[])]);var i=r.map(function(a){return a.reduce(function(s,o,l){return"".concat(s).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},iUe=function(e,n,r){var i=bp(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(bp(n.reverse(),r).slice(1))},aUe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,s=Zze(e,Xze);if(!n||!n.length)return null;var o=Ke("recharts-polygon",r);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",c=iUe(n,i,a);return M.createElement("g",{className:o},M.createElement("path",ed({},Ie(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),l?M.createElement("path",ed({},Ie(s,!0),{fill:"none",d:bp(n,a)})):null,l?M.createElement("path",ed({},Ie(s,!0),{fill:"none",d:bp(i,a)})):null)}var d=bp(n,a);return M.createElement("path",ed({},Ie(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:o,d}))};function BA(){return BA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BA.apply(this,arguments)}var Pg=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=Ke("recharts-dot",a);return n===+n&&r===+r&&i===+i?M.createElement("circle",BA({},Ie(e,!1),j0(e),{className:s,cx:n,cy:r,r:i})):null};function $m(t){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$m(t)}var sUe=["x","y","top","left","width","height","className"];function zA(){return zA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zA.apply(this,arguments)}function a4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oUe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a4(Object(n),!0).forEach(function(r){lUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lUe(t,e,n){return e=cUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cUe(t){var e=uUe(t,"string");return $m(e)=="symbol"?e:e+""}function uUe(t,e){if($m(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dUe(t,e){if(t==null)return{};var n=fUe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var hUe=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},pUe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,c=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,p=h===void 0?0:h,m=e.className,g=dUe(e,sUe),b=oUe({x:r,y:a,top:o,left:c,width:f,height:p},g);return!de(r)||!de(a)||!de(f)||!de(p)||!de(o)||!de(c)?null:M.createElement("path",zA({},Ie(b,!0),{className:Ke("recharts-cross",m),d:hUe(r,a,f,p,o,c)}))},mUe=Aw,gUe=Gq,yUe=vs;function vUe(t,e){return t&&t.length?mUe(t,yUe(e),gUe):void 0}var xUe=vUe;const bUe=at(xUe);var wUe=Aw,_Ue=vs,SUe=Kq;function EUe(t,e){return t&&t.length?wUe(t,_Ue(e),SUe):void 0}var jUe=EUe;const AUe=at(jUe);var TUe=["cx","cy","angle","ticks","axisLine"],kUe=["ticks","tick","angle","tickFormatter","stroke"];function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function wp(){return wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wp.apply(this,arguments)}function s4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s4(Object(n),!0).forEach(function(r){Ow(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o4(t,e){if(t==null)return{};var n=CUe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LG(r.key),r)}}function NUe(t,e,n){return e&&l4(t.prototype,e),n&&l4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function PUe(t,e,n){return e=sx(e),IUe(t,DG()?Reflect.construct(e,n||[],sx(t).constructor):e.apply(t,n))}function IUe(t,e){if(e&&(cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ue(t)}function $Ue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DG=function(){return!!t})()}function sx(t){return sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sx(t)}function RUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UA(t,e)}function UA(t,e){return UA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UA(t,e)}function Ow(t,e,n){return e=LG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LG(t){var e=MUe(t,"string");return cf(e)=="symbol"?e:e+""}function MUe(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nw=function(t){function e(){return OUe(this,e),PUe(this,e,arguments)}return RUe(e,t),NUe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,s=a.angle,o=a.cx,l=a.cy;return $t(o,l,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,o=r.ticks,l=bUe(o,function(d){return d.coordinate||0}),c=AUe(o,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,o=r.ticks,l=r.axisLine,c=o4(r,TUe),d=o.reduce(function(m,g){return[Math.min(m[0],g.coordinate),Math.max(m[1],g.coordinate)]},[1/0,-1/0]),f=$t(i,a,d[0],s),h=$t(i,a,d[1],s),p=Kl(Kl(Kl({},Ie(c,!1)),{},{fill:"none"},Ie(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return M.createElement("line",wp({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,o=i.angle,l=i.tickFormatter,c=i.stroke,d=o4(i,kUe),f=this.getTickTextAnchor(),h=Ie(d,!1),p=Ie(s,!1),m=a.map(function(g,b){var x=r.getTickValueCoord(g),v=Kl(Kl(Kl(Kl({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(x.x,", ").concat(x.y,")")},h),{},{stroke:"none",fill:c},p),{},{index:b},x),{},{payload:g});return M.createElement(ot,wp({className:Ke("recharts-polar-radius-axis-tick",_G(s)),key:"tick-".concat(g.coordinate)},Vc(r.props,g,b)),e.renderTickItem(s,v,l?l(g.value,b):g.value))});return M.createElement(ot,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,s=r.tick;return!i||!i.length?null:M.createElement(ot,{className:Ke("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),$n.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return M.isValidElement(r)?s=M.cloneElement(r,i):Ue(r)?s=r(i):s=M.createElement(Wc,wp({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(S.PureComponent);Ow(Nw,"displayName","PolarRadiusAxis");Ow(Nw,"axisType","radiusAxis");Ow(Nw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function oc(){return oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oc.apply(this,arguments)}function c4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c4(Object(n),!0).forEach(function(r){Pw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BG(r.key),r)}}function LUe(t,e,n){return e&&u4(t.prototype,e),n&&u4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function FUe(t,e,n){return e=ox(e),BUe(t,FG()?Reflect.construct(e,n||[],ox(t).constructor):e.apply(t,n))}function BUe(t,e){if(e&&(uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zUe(t)}function zUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FG=function(){return!!t})()}function ox(t){return ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ox(t)}function UUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HA(t,e)}function HA(t,e){return HA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HA(t,e)}function Pw(t,e,n){return e=BG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BG(t){var e=HUe(t,"string");return uf(e)=="symbol"?e:e+""}function HUe(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VUe=Math.PI/180,d4=1e-5,Iw=function(t){function e(){return DUe(this,e),FUe(this,e,arguments)}return UUe(e,t),LUe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,s=i.cy,o=i.radius,l=i.orientation,c=i.tickSize,d=c||8,f=$t(a,s,o,r.coordinate),h=$t(a,s,o+(l==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*VUe),s;return a>d4?s=i==="outer"?"start":"end":a<-d4?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.radius,o=r.axisLine,l=r.axisLineType,c=Yl(Yl({},Ie(this.props,!1)),{},{fill:"none"},Ie(o,!1));if(l==="circle")return M.createElement(Pg,oc({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:a,r:s}));var d=this.props.ticks,f=d.map(function(h){return $t(i,a,s,h.coordinate)});return M.createElement(aUe,oc({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,o=i.tickLine,l=i.tickFormatter,c=i.stroke,d=Ie(this.props,!1),f=Ie(s,!1),h=Yl(Yl({},d),{},{fill:"none"},Ie(o,!1)),p=a.map(function(m,g){var b=r.getTickLineCoord(m),x=r.getTickTextAnchor(m),v=Yl(Yl(Yl({textAnchor:x},d),{},{stroke:"none",fill:c},f),{},{index:g,payload:m,x:b.x2,y:b.y2});return M.createElement(ot,oc({className:Ke("recharts-polar-angle-axis-tick",_G(s)),key:"tick-".concat(m.coordinate)},Vc(r.props,m,g)),o&&M.createElement("line",oc({className:"recharts-polar-angle-axis-tick-line"},h,b)),s&&e.renderTickItem(s,v,l?l(m.value,g):m.value))});return M.createElement(ot,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,s=r.axisLine;return a<=0||!i||!i.length?null:M.createElement(ot,{className:Ke("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var s;return M.isValidElement(r)?s=M.cloneElement(r,i):Ue(r)?s=r(i):s=M.createElement(Wc,oc({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(S.PureComponent);Pw(Iw,"displayName","PolarAngleAxis");Pw(Iw,"axisType","angleAxis");Pw(Iw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var WUe=HW,qUe=WUe(Object.getPrototypeOf,Object),GUe=qUe,KUe=ho,YUe=GUe,XUe=po,ZUe="[object Object]",JUe=Function.prototype,QUe=Object.prototype,zG=JUe.toString,e6e=QUe.hasOwnProperty,t6e=zG.call(Object);function n6e(t){if(!XUe(t)||KUe(t)!=ZUe)return!1;var e=YUe(t);if(e===null)return!0;var n=e6e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&zG.call(n)==t6e}var r6e=n6e;const i6e=at(r6e);var a6e=ho,s6e=po,o6e="[object Boolean]";function l6e(t){return t===!0||t===!1||s6e(t)&&a6e(t)==o6e}var c6e=l6e;const u6e=at(c6e);function Rm(t){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rm(t)}function lx(){return lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lx.apply(this,arguments)}function d6e(t,e){return m6e(t)||p6e(t,e)||h6e(t,e)||f6e()}function f6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h6e(t,e){if(t){if(typeof t=="string")return f4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f4(t,e)}}function f4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p6e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function m6e(t){if(Array.isArray(t))return t}function h4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h4(Object(n),!0).forEach(function(r){g6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g6e(t,e,n){return e=y6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y6e(t){var e=v6e(t,"string");return Rm(e)=="symbol"?e:e+""}function v6e(t,e){if(Rm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var m4=function(e,n,r,i,a){var s=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-s/2,",").concat(n+a),o+="L ".concat(e+r-s/2-i,",").concat(n+a),o+="L ".concat(e,",").concat(n," Z"),o},x6e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},b6e=function(e){var n=p4(p4({},x6e),e),r=S.useRef(),i=S.useState(-1),a=d6e(i,2),s=a[0],o=a[1];S.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&o(y)}catch{}},[]);var l=n.x,c=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,m=n.animationEasing,g=n.animationDuration,b=n.animationBegin,x=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var v=Ke("recharts-trapezoid",p);return x?M.createElement(Aa,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:c},duration:g,animationEasing:m,isActive:x},function(y){var w=y.upperWidth,_=y.lowerWidth,E=y.height,A=y.x,j=y.y;return M.createElement(Aa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,easing:m},M.createElement("path",lx({},Ie(n,!0),{className:v,d:m4(A,j,w,_,E),ref:r})))}):M.createElement("g",null,M.createElement("path",lx({},Ie(n,!0),{className:v,d:m4(l,c,d,f,h)})))},w6e=["option","shapeType","propTransformer","activeClassName","isActive"];function Mm(t){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mm(t)}function _6e(t,e){if(t==null)return{};var n=S6e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function S6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function g4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g4(Object(n),!0).forEach(function(r){E6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E6e(t,e,n){return e=j6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j6e(t){var e=A6e(t,"string");return Mm(e)=="symbol"?e:e+""}function A6e(t,e){if(Mm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T6e(t,e){return cx(cx({},e),t)}function k6e(t,e){return t==="symbols"}function y4(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return M.createElement(CN,n);case"trapezoid":return M.createElement(b6e,n);case"sector":return M.createElement(jG,n);case"symbols":if(k6e(e))return M.createElement(KO,n);break;default:return null}}function C6e(t){return S.isValidElement(t)?t.props:t}function UG(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?T6e:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=_6e(t,w6e),c;if(S.isValidElement(e))c=S.cloneElement(e,cx(cx({},l),C6e(e)));else if(Ue(e))c=e(l);else if(i6e(e)&&!u6e(e)){var d=i(e,l);c=M.createElement(y4,{shapeType:n,elementProps:d})}else{var f=l;c=M.createElement(y4,{shapeType:n,elementProps:f})}return o?M.createElement(ot,{className:s},c):c}function $w(t,e){return e!=null&&"trapezoids"in t.props}function Rw(t,e){return e!=null&&"sectors"in t.props}function Dm(t,e){return e!=null&&"points"in t.props}function O6e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function N6e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function P6e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function I6e(t,e){var n;return $w(t,e)?n=O6e:Rw(t,e)?n=N6e:Dm(t,e)&&(n=P6e),n}function $6e(t,e){var n;return $w(t,e)?n="trapezoids":Rw(t,e)?n="sectors":Dm(t,e)&&(n="points"),n}function R6e(t,e){if($w(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Rw(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Dm(t,e)?e.payload:{}}function M6e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=$6e(n,e),a=R6e(n,e),s=r.filter(function(l,c){var d=qc(a,l),f=n.props[i].filter(function(m){var g=I6e(n,e);return g(m,e)}),h=n.props[i].indexOf(f[f.length-1]),p=c===h;return d&&p}),o=r.indexOf(s[s.length-1]);return o}var gv;function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function td(){return td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},td.apply(this,arguments)}function v4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v4(Object(n),!0).forEach(function(r){ji(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VG(r.key),r)}}function L6e(t,e,n){return e&&x4(t.prototype,e),n&&x4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function F6e(t,e,n){return e=ux(e),B6e(t,HG()?Reflect.construct(e,n||[],ux(t).constructor):e.apply(t,n))}function B6e(t,e){if(e&&(df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z6e(t)}function z6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HG=function(){return!!t})()}function ux(t){return ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ux(t)}function U6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VA(t,e)}function VA(t,e){return VA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VA(t,e)}function ji(t,e,n){return e=VG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VG(t){var e=H6e(t,"string");return df(e)=="symbol"?e:e+""}function H6e(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xs=function(t){function e(n){var r;return D6e(this,e),r=F6e(this,e,[n]),ji(r,"pieRef",null),ji(r,"sectorRefs",[]),ji(r,"id",cu("recharts-pie-")),ji(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ue(i)&&i()}),ji(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ue(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return U6e(e,t),L6e(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,o=a.labelLine,l=a.dataKey,c=a.valueKey,d=Ie(this.props,!1),f=Ie(s,!1),h=Ie(o,!1),p=s&&s.offsetRadius||20,m=r.map(function(g,b){var x=(g.startAngle+g.endAngle)/2,v=$t(g.cx,g.cy,g.outerRadius+p,x),y=Ot(Ot(Ot(Ot({},d),g),{},{stroke:"none"},f),{},{index:b,textAnchor:e.getTextAnchor(v.x,g.cx)},v),w=Ot(Ot(Ot(Ot({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:b,points:[$t(g.cx,g.cy,g.outerRadius,x),v]}),_=l;return Ve(l)&&Ve(c)?_="value":Ve(l)&&(_=c),M.createElement(ot,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(b)},o&&e.renderLabelLineItem(o,w,"line"),e.renderLabelItem(s,y,cn(g,_)))});return M.createElement(ot,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,s=a.activeShape,o=a.blendStroke,l=a.inactiveShape;return r.map(function(c,d){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(d),h=l&&i.hasActiveIndex()?l:null,p=f?s:h,m=Ot(Ot({},c),{},{stroke:o?c.fill:c.stroke,tabIndex:-1});return M.createElement(ot,td({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},Vc(i.props,c,d),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(d)}),M.createElement(UG,td({option:p,isActive:f,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,s=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,c=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return M.createElement(Aa,{begin:o,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var g=m.t,b=[],x=a&&a[0],v=x.startAngle;return a.forEach(function(y,w){var _=h&&h[w],E=w>0?si(y,"paddingAngle",0):0;if(_){var A=_n(_.endAngle-_.startAngle,y.endAngle-y.startAngle),j=Ot(Ot({},y),{},{startAngle:v+E,endAngle:v+A(g)+E});b.push(j),v=j.endAngle}else{var T=y.endAngle,C=y.startAngle,k=_n(0,T-C),O=k(g),L=Ot(Ot({},y),{},{startAngle:v+E,endAngle:v+O+E});b.push(L),v=L.endAngle}}),M.createElement(ot,null,r.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!qc(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,s=i.sectors,o=i.className,l=i.label,c=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,m=this.state.isAnimationFinished;if(a||!s||!s.length||!de(c)||!de(d)||!de(f)||!de(h))return null;var g=Ke("recharts-pie",o);return M.createElement(ot,{tabIndex:this.props.rootTabIndex,className:g,ref:function(x){r.pieRef=x}},this.renderSectors(),l&&this.renderLabels(s),$n.renderCallByParent(this.props,null,!1),(!p||m)&&ss.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(M.isValidElement(r))return M.cloneElement(r,i);if(Ue(r))return r(i);var s=Ke("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return M.createElement(Cc,td({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,a){if(M.isValidElement(r))return M.cloneElement(r,i);var s=a;if(Ue(r)&&(s=r(i),M.isValidElement(s)))return s;var o=Ke("recharts-pie-label-text",typeof r!="boolean"&&!Ue(r)?r.className:"");return M.createElement(Wc,td({},i,{alignmentBaseline:"middle",className:o}),s)}}])}(S.PureComponent);gv=xs;ji(xs,"displayName","Pie");ji(xs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!xa.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ji(xs,"parseDeltaAngle",function(t,e){var n=lr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});ji(xs,"getRealPieData",function(t){var e=t.data,n=t.children,r=Ie(t,!1),i=oi(n,Ag);return e&&e.length?e.map(function(a,s){return Ot(Ot(Ot({payload:a},r),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return Ot(Ot({},r),a.props)}):[]});ji(xs,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,s=wG(i,a),o=r+cr(t.cx,i,i/2),l=n+cr(t.cy,a,a/2),c=cr(t.innerRadius,s,0),d=cr(t.outerRadius,s,s*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:o,cy:l,innerRadius:c,outerRadius:d,maxRadius:f}});ji(xs,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Ot(Ot({},e.type.defaultProps),e.props):e.props,i=gv.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,s=r.startAngle,o=r.endAngle,l=r.paddingAngle,c=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,p=Math.abs(r.minAngle),m=gv.parseCoordinateOfPie(r,n),g=gv.parseDeltaAngle(s,o),b=Math.abs(g),x=c;Ve(c)&&Ve(f)?(va(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Ve(c)&&(va(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var v=i.filter(function(j){return cn(j,x,0)!==0}).length,y=(b>=360?v:v-1)*l,w=b-v*p-y,_=i.reduce(function(j,T){var C=cn(T,x,0);return j+(de(C)?C:0)},0),E;if(_>0){var A;E=i.map(function(j,T){var C=cn(j,x,0),k=cn(j,d,T),O=(de(C)?C:0)/_,L;T?L=A.endAngle+lr(g)*l*(C!==0?1:0):L=s;var R=L+lr(g)*((C!==0?p:0)+O*w),F=(L+R)/2,U=(m.innerRadius+m.outerRadius)/2,V=[{name:k,value:C,payload:j,dataKey:x,type:h}],D=$t(m.cx,m.cy,U,F);return A=Ot(Ot(Ot({percent:O,cornerRadius:a,name:k,tooltipPayload:V,midAngle:F,middleRadius:U,tooltipPosition:D},j),m),{},{value:cn(j,x),startAngle:L,endAngle:R,payload:j,paddingAngle:lr(g)*l}),A})}return Ot(Ot({},m),{},{sectors:E,data:i})});var V6e=Math.ceil,W6e=Math.max;function q6e(t,e,n,r){for(var i=-1,a=W6e(V6e((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var G6e=q6e,K6e=lq,b4=1/0,Y6e=17976931348623157e292;function X6e(t){if(!t)return t===0?t:0;if(t=K6e(t),t===b4||t===-b4){var e=t<0?-1:1;return e*Y6e}return t===t?t:0}var WG=X6e,Z6e=G6e,J6e=xw,Q1=WG;function Q6e(t){return function(e,n,r){return r&&typeof r!="number"&&J6e(e,n,r)&&(n=r=void 0),e=Q1(e),n===void 0?(n=e,e=0):n=Q1(n),r=r===void 0?e<n?1:-1:Q1(r),Z6e(e,n,r,t)}}var e8e=Q6e,t8e=e8e,n8e=t8e(),r8e=n8e;const dx=at(r8e);function Lm(t){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lm(t)}function w4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w4(Object(n),!0).forEach(function(r){qG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qG(t,e,n){return e=i8e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i8e(t){var e=a8e(t,"string");return Lm(e)=="symbol"?e:e+""}function a8e(t,e){if(Lm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s8e=["Webkit","Moz","O","ms"],o8e=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=s8e.reduce(function(a,s){return _4(_4({},a),{},qG({},s+r,n))},{});return i[e]=n,i};function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function fx(){return fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fx.apply(this,arguments)}function S4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S4(Object(n),!0).forEach(function(r){Wr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KG(r.key),r)}}function c8e(t,e,n){return e&&E4(t.prototype,e),n&&E4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function u8e(t,e,n){return e=hx(e),d8e(t,GG()?Reflect.construct(e,n||[],hx(t).constructor):e.apply(t,n))}function d8e(t,e){if(e&&(ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f8e(t)}function f8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GG=function(){return!!t})()}function hx(t){return hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hx(t)}function h8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WA(t,e)}function WA(t,e){return WA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WA(t,e)}function Wr(t,e,n){return e=KG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KG(t){var e=p8e(t,"string");return ff(e)=="symbol"?e:e+""}function p8e(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var m8e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=yp().domain(dx(0,l)).range([a,a+s-o]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:d}},j4=function(e){return e.changedTouches&&!!e.changedTouches.length},hf=function(t){function e(n){var r;return l8e(this,e),r=u8e(this,e,[n]),Wr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Wr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Wr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),r.detachDragEndListener()}),Wr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Wr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Wr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Wr(r,"handleSlideDragStart",function(i){var a=j4(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return h8e(e,t),c8e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,d=c.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(s,f),m=e.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:m===d?d:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=cn(a[r],o,r);return Ue(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,g=r.pageX-a;g>0?g=Math.min(g,c+d-f-o,c+d-f-s):g<0&&(g=Math.max(g,c-s,c-o));var b=this.getIndex({startX:s+g,endX:o+g});(b.startIndex!==h||b.endIndex!==p)&&m&&m(b),this.setState({startX:s+g,endX:o+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=j4(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[s],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,g=d.gap,b=d.data,x={startX:this.state.startX,endX:this.state.endX},v=r.pageX-a;v>0?v=Math.min(v,f+h-p-c):v<0&&(v=Math.max(v,f-c)),x[s]=c+v;var y=this.getIndex(x),w=y.startIndex,_=y.endIndex,E=function(){var j=b.length-1;return s==="startX"&&(o>l?w%g===0:_%g===0)||o<l&&_===j||s==="endX"&&(o>l?_%g===0:w%g===0)||o>l&&_===j};this.setState(Wr(Wr({},s,c+v),"brushMoveStartX",r.pageX),function(){m&&E()&&m(y)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,d=this.state[i],f=o.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(Wr({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.fill,c=r.stroke;return M.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.data,c=r.children,d=r.padding,f=S.Children.only(c);return f?M.cloneElement(f,{x:i,y:a,width:s,height:o,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,o=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,b=l.endIndex,x=Math.max(r,this.props.x),v=eS(eS({},Ie(this.props,!1)),{},{x,y:c,width:d,height:f}),y=p||"Min value: ".concat((a=m[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=m[b])===null||s===void 0?void 0:s.name);return M.createElement(ot,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),o.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,v))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,c=a.travellerWidth,d=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:s,width:f,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:c};return M.createElement(ot,{className:"recharts-brush-texts"},M.createElement(Wc,fx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+o/2},m),this.getTextOfTick(i)),M.createElement(Wc,fx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:s+o/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,o=r.x,l=r.y,c=r.width,d=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,m=h.endX,g=h.isTextActive,b=h.isSlideMoving,x=h.isTravellerMoving,v=h.isTravellerFocused;if(!i||!i.length||!de(o)||!de(l)||!de(c)||!de(d)||c<=0||d<=0)return null;var y=Ke("recharts-brush",a),w=M.Children.count(s)===1,_=o8e("userSelect","none");return M.createElement(ot,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||b||x||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,o=r.height,l=r.stroke,c=Math.floor(a+o/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),M.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return M.isValidElement(r)?a=M.cloneElement(r,i):Ue(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,d=r.startIndex,f=r.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return eS({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},a&&a.length?m8e({data:a,width:s,x:o,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);r[l]>i?o=l:s=l}return i>=r[o]?o:s}}])}(S.PureComponent);Wr(hf,"displayName","Brush");Wr(hf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var g8e=tN;function y8e(t,e){var n;return g8e(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var v8e=y8e,x8e=RW,b8e=vs,w8e=v8e,_8e=zr,S8e=xw;function E8e(t,e,n){var r=_8e(t)?x8e:w8e;return n&&S8e(t,e,n)&&(e=void 0),r(t,b8e(e))}var j8e=E8e;const A8e=at(j8e);var os=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},A4=rq;function T8e(t,e,n){e=="__proto__"&&A4?A4(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var k8e=T8e,C8e=k8e,O8e=tq,N8e=vs;function P8e(t,e){var n={};return e=N8e(e),O8e(t,function(r,i,a){C8e(n,i,e(r,i,a))}),n}var I8e=P8e;const $8e=at(I8e);function R8e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var M8e=R8e,D8e=tN;function L8e(t,e){var n=!0;return D8e(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var F8e=L8e,B8e=M8e,z8e=F8e,U8e=vs,H8e=zr,V8e=xw;function W8e(t,e,n){var r=H8e(t)?B8e:z8e;return n&&V8e(t,e,n)&&(e=void 0),r(t,U8e(e))}var q8e=W8e;const YG=at(q8e);var G8e=["x","y"];function Fm(t){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fm(t)}function qA(){return qA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qA.apply(this,arguments)}function T4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T4(Object(n),!0).forEach(function(r){K8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K8e(t,e,n){return e=Y8e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y8e(t){var e=X8e(t,"string");return Fm(e)=="symbol"?e:e+""}function X8e(t,e){if(Fm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z8e(t,e){if(t==null)return{};var n=J8e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function J8e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Q8e(t,e){var n=t.x,r=t.y,i=Z8e(t,G8e),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),d=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Oh(Oh(Oh(Oh(Oh({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function k4(t){return M.createElement(UG,qA({shapeType:"rectangle",propTransformer:Q8e,activeClassName:"recharts-active-bar"},t))}var e9e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,i):(a||Kc(),n)}},t9e=["value","background"],XG;function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function n9e(t,e){if(t==null)return{};var n=r9e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function r9e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function px(){return px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},px.apply(this,arguments)}function C4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C4(Object(n),!0).forEach(function(r){Yo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JG(r.key),r)}}function a9e(t,e,n){return e&&O4(t.prototype,e),n&&O4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function s9e(t,e,n){return e=mx(e),o9e(t,ZG()?Reflect.construct(e,n||[],mx(t).constructor):e.apply(t,n))}function o9e(t,e){if(e&&(pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l9e(t)}function l9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZG=function(){return!!t})()}function mx(t){return mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mx(t)}function c9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GA(t,e)}function GA(t,e){return GA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GA(t,e)}function Yo(t,e,n){return e=JG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JG(t){var e=u9e(t,"string");return pf(e)=="symbol"?e:e+""}function u9e(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ws=function(t){function e(){var n;i9e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=s9e(this,e,[].concat(i)),Yo(n,"state",{isAnimationFinished:!1}),Yo(n,"id",cu("recharts-bar-")),Yo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Yo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return c9e(e,t),a9e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,c=a.activeBar,d=Ie(this.props,!1);return r&&r.map(function(f,h){var p=h===l,m=p?c:s,g=mn(mn(mn({},d),f),{},{isActive:p,option:m,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return M.createElement(ot,px({className:"recharts-bar-rectangle"},Vc(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),M.createElement(k4,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return M.createElement(Aa,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=a.map(function(b,x){var v=h&&h[x];if(v){var y=_n(v.x,b.x),w=_n(v.y,b.y),_=_n(v.width,b.width),E=_n(v.height,b.height);return mn(mn({},b),{},{x:y(m),y:w(m),width:_(m),height:E(m)})}if(s==="horizontal"){var A=_n(0,b.height),j=A(m);return mn(mn({},b),{},{y:b.y+b.height-j,height:j})}var T=_n(0,b.width),C=T(m);return mn(mn({},b),{},{width:C})});return M.createElement(ot,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!qc(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=Ie(this.props.background,!1);return a.map(function(c,d){c.value;var f=c.background,h=n9e(c,t9e);if(!f)return null;var p=mn(mn(mn(mn(mn({},h),{},{fill:"#eee"},f),l),Vc(r.props,c,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return M.createElement(k4,px({key:"background-bar-".concat(d),option:r.props.background,isActive:d===o},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,c=a.layout,d=a.children,f=oi(d,Ng);if(!f)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(b,x){var v=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:v,errorVal:cn(b,x)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(ot,m,f.map(function(g){return M.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,o=r.xAxis,l=r.yAxis,c=r.left,d=r.top,f=r.width,h=r.height,p=r.isAnimationActive,m=r.background,g=r.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,x=Ke("recharts-bar",s),v=o&&o.allowDataOverflow,y=l&&l.allowDataOverflow,w=v||y,_=Ve(g)?this.id:g;return M.createElement(ot,{className:x},v||y?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(_)},M.createElement("rect",{x:v?c:c-f/2,y:y?d:d-h/2,width:v?f:f*2,height:y?h:h*2}))):null,M.createElement(ot,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(_,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,_),(!p||b)&&ss.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(S.PureComponent);XG=Ws;Yo(Ws,"displayName","Bar");Yo(Ws,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!xa.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Yo(Ws,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=eFe(r,n);if(!p)return null;var m=e.layout,g=n.type.defaultProps,b=g!==void 0?mn(mn({},g),n.props):n.props,x=b.dataKey,v=b.children,y=b.minPointSize,w=m==="horizontal"?s:a,_=c?w.scale.domain():null,E=oFe({numericAxis:w}),A=oi(v,Ag),j=f.map(function(T,C){var k,O,L,R,F,U;c?k=tFe(c[d+C],_):(k=cn(T,x),Array.isArray(k)||(k=[E,k]));var V=e9e(y,XG.defaultProps.minPointSize)(k[1],C);if(m==="horizontal"){var D,B=[s.scale(k[0]),s.scale(k[1])],P=B[0],W=B[1];O=xL({axis:a,ticks:o,bandSize:i,offset:p.offset,entry:T,index:C}),L=(D=W??P)!==null&&D!==void 0?D:void 0,R=p.size;var G=P-W;if(F=Number.isNaN(G)?0:G,U={x:O,y:s.y,width:R,height:s.height},Math.abs(V)>0&&Math.abs(F)<Math.abs(V)){var $=lr(F||V)*(Math.abs(V)-Math.abs(F));L-=$,F+=$}}else{var ee=[a.scale(k[0]),a.scale(k[1])],ie=ee[0],I=ee[1];if(O=ie,L=xL({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:T,index:C}),R=I-ie,F=p.size,U={x:a.x,y:L,width:a.width,height:F},Math.abs(V)>0&&Math.abs(R)<Math.abs(V)){var N=lr(R||V)*(Math.abs(V)-Math.abs(R));R+=N}}return mn(mn(mn({},T),{},{x:O,y:L,width:R,height:F,value:c?k:k[1],payload:T,background:U},A&&A[C]&&A[C].props),{},{tooltipPayload:[xG(n,T)],tooltipPosition:{x:O+R/2,y:L+F/2}})});return mn({data:j,layout:m},h)});function Bm(t){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bm(t)}function d9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QG(r.key),r)}}function f9e(t,e,n){return e&&N4(t.prototype,e),n&&N4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function P4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ra(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P4(Object(n),!0).forEach(function(r){Mw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mw(t,e,n){return e=QG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QG(t){var e=h9e(t,"string");return Bm(e)=="symbol"?e:e+""}function h9e(t,e){if(Bm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ON=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.layout,c=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},h=!!Yr(c,Ws);return d.reduce(function(p,m){var g=n[m],b=g.orientation,x=g.domain,v=g.padding,y=v===void 0?{}:v,w=g.mirror,_=g.reversed,E="".concat(b).concat(w?"Mirror":""),A,j,T,C,k;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var O=x[1]-x[0],L=1/0,R=g.categoricalDomain.sort();if(R.forEach(function(ee,ie){ie>0&&(L=Math.min((ee||0)-(R[ie-1]||0),L))}),Number.isFinite(L)){var F=L/O,U=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(A=F*U/2),g.padding==="no-gap"){var V=cr(e.barCategoryGap,F*U),D=F*U/2;A=D-V-(D-V)/U*V}}}i==="xAxis"?j=[r.left+(y.left||0)+(A||0),r.left+r.width-(y.right||0)-(A||0)]:i==="yAxis"?j=l==="horizontal"?[r.top+r.height-(y.bottom||0),r.top+(y.top||0)]:[r.top+(y.top||0)+(A||0),r.top+r.height-(y.bottom||0)-(A||0)]:j=g.range,_&&(j=[j[1],j[0]]);var B=mG(g,a,h),P=B.scale,W=B.realScaleType;P.domain(x).range(j),gG(P);var G=yG(P,ra(ra({},g),{},{realScaleType:W}));i==="xAxis"?(k=b==="top"&&!w||b==="bottom"&&w,T=r.left,C=f[E]-k*g.height):i==="yAxis"&&(k=b==="left"&&!w||b==="right"&&w,T=f[E]-k*g.width,C=r.top);var $=ra(ra(ra({},g),G),{},{realScaleType:W,x:T,y:C,scale:P,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return $.bandSize=Q0($,G),!g.hide&&i==="xAxis"?f[E]+=(k?-1:1)*$.height:g.hide||(f[E]+=(k?-1:1)*$.width),ra(ra({},p),{},Mw({},m,$))},{})},eK=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},p9e=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return eK({x:n,y:r},{x:i,y:a})},tK=function(){function t(e){d9e(this,t),this.scale=e}return f9e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Mw(tK,"EPS",1e-4);var NN=function(e){var n=Object.keys(e).reduce(function(r,i){return ra(ra({},r),{},Mw({},i,tK.create(e[i])))},{});return ra(ra({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return $8e(i,function(l,c){return n[c].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return YG(i,function(a,s){return n[s].isInRange(a)})}})};function m9e(t){return(t%180+180)%180}var g9e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=m9e(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},y9e=vs,v9e=jg,x9e=yw;function b9e(t){return function(e,n,r){var i=Object(e);if(!v9e(e)){var a=y9e(n);e=x9e(e),n=function(o){return a(i[o],o,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:void 0}}var w9e=b9e,_9e=WG;function S9e(t){var e=_9e(t),n=e%1;return e===e?n?e-n:e:0}var E9e=S9e,j9e=YW,A9e=vs,T9e=E9e,k9e=Math.max;function C9e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:T9e(n);return i<0&&(i=k9e(r+i,0)),j9e(t,A9e(e),i)}var O9e=C9e,N9e=w9e,P9e=O9e,I9e=N9e(P9e),$9e=I9e;const R9e=at($9e);var M9e=HAe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),PN=S.createContext(void 0),IN=S.createContext(void 0),nK=S.createContext(void 0),rK=S.createContext({}),iK=S.createContext(void 0),aK=S.createContext(0),sK=S.createContext(0),I4=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,d=M9e(a);return M.createElement(PN.Provider,{value:r},M.createElement(IN.Provider,{value:i},M.createElement(rK.Provider,{value:a},M.createElement(nK.Provider,{value:d},M.createElement(iK.Provider,{value:s},M.createElement(aK.Provider,{value:c},M.createElement(sK.Provider,{value:l},o)))))))},D9e=function(){return S.useContext(iK)},oK=function(e){var n=S.useContext(PN);n==null&&Kc();var r=n[e];return r==null&&Kc(),r},L9e=function(){var e=S.useContext(PN);return Mo(e)},F9e=function(){var e=S.useContext(IN),n=R9e(e,function(r){return YG(r.domain,Number.isFinite)});return n||Mo(e)},lK=function(e){var n=S.useContext(IN);n==null&&Kc();var r=n[e];return r==null&&Kc(),r},B9e=function(){var e=S.useContext(nK);return e},z9e=function(){return S.useContext(rK)},$N=function(){return S.useContext(sK)},RN=function(){return S.useContext(aK)};function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function U9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H9e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uK(r.key),r)}}function V9e(t,e,n){return e&&H9e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function W9e(t,e,n){return e=gx(e),q9e(t,cK()?Reflect.construct(e,n||[],gx(t).constructor):e.apply(t,n))}function q9e(t,e){if(e&&(mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G9e(t)}function G9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cK=function(){return!!t})()}function gx(t){return gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gx(t)}function K9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KA(t,e)}function KA(t,e){return KA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KA(t,e)}function $4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$4(Object(n),!0).forEach(function(r){MN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MN(t,e,n){return e=uK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uK(t){var e=Y9e(t,"string");return mf(e)=="symbol"?e:e+""}function Y9e(t,e){if(mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function X9e(t,e){return eHe(t)||Q9e(t,e)||J9e(t,e)||Z9e()}function Z9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J9e(t,e){if(t){if(typeof t=="string")return M4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M4(t,e)}}function M4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Q9e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function eHe(t){if(Array.isArray(t))return t}function YA(){return YA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YA.apply(this,arguments)}var tHe=function(e,n){var r;return M.isValidElement(e)?r=M.cloneElement(e,n):Ue(e)?r=e(n):r=M.createElement("line",YA({},n,{className:"recharts-reference-line-line"})),r},nHe=function(e,n,r,i,a,s,o,l,c){var d=a.x,f=a.y,h=a.width,p=a.height;if(r){var m=c.y,g=e.y.apply(m,{position:s});if(os(c,"discard")&&!e.y.isInRange(g))return null;var b=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?b.reverse():b}if(n){var x=c.x,v=e.x.apply(x,{position:s});if(os(c,"discard")&&!e.x.isInRange(v))return null;var y=[{x:v,y:f+p},{x:v,y:f}];return o==="top"?y.reverse():y}if(i){var w=c.segment,_=w.map(function(E){return e.apply(E,{position:s})});return os(c,"discard")&&A8e(_,function(E){return!e.isInRange(E)})?null:_}return null};function rHe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,c=D9e(),d=oK(i),f=lK(a),h=B9e();if(!c||!h)return null;va(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=NN({x:d.scale,y:f.scale}),m=En(e),g=En(n),b=r&&r.length===2,x=nHe(p,m,g,b,h,t.position,d.orientation,f.orientation,t);if(!x)return null;var v=X9e(x,2),y=v[0],w=y.x,_=y.y,E=v[1],A=E.x,j=E.y,T=os(t,"hidden")?"url(#".concat(c,")"):void 0,C=R4(R4({clipPath:T},Ie(t,!0)),{},{x1:w,y1:_,x2:A,y2:j});return M.createElement(ot,{className:Ke("recharts-reference-line",o)},tHe(s,C),$n.renderCallByParent(t,p9e({x1:w,y1:_,x2:A,y2:j})))}var DN=function(t){function e(){return U9e(this,e),W9e(this,e,arguments)}return K9e(e,t),V9e(e,[{key:"render",value:function(){return M.createElement(rHe,this.props)}}])}(M.Component);MN(DN,"displayName","ReferenceLine");MN(DN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function XA(){return XA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XA.apply(this,arguments)}function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function D4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D4(Object(n),!0).forEach(function(r){Dw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aHe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fK(r.key),r)}}function sHe(t,e,n){return e&&aHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oHe(t,e,n){return e=yx(e),lHe(t,dK()?Reflect.construct(e,n||[],yx(t).constructor):e.apply(t,n))}function lHe(t,e){if(e&&(gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cHe(t)}function cHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dK=function(){return!!t})()}function yx(t){return yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yx(t)}function uHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZA(t,e)}function ZA(t,e){return ZA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZA(t,e)}function Dw(t,e,n){return e=fK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fK(t){var e=dHe(t,"string");return gf(e)=="symbol"?e:e+""}function dHe(t,e){if(gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fHe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=NN({x:i.scale,y:a.scale}),o=s.apply({x:n,y:r},{bandAware:!0});return os(e,"discard")&&!s.isInRange(o)?null:o},Lw=function(t){function e(){return iHe(this,e),oHe(this,e,arguments)}return uHe(e,t),sHe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,o=r.alwaysShow,l=r.clipPathId,c=En(i),d=En(a);if(va(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=fHe(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,g=m.shape,b=m.className,x=os(this.props,"hidden")?"url(#".concat(l,")"):void 0,v=L4(L4({clipPath:x},Ie(this.props,!0)),{},{cx:h,cy:p});return M.createElement(ot,{className:Ke("recharts-reference-dot",b)},e.renderDot(g,v),$n.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(M.Component);Dw(Lw,"displayName","ReferenceDot");Dw(Lw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Dw(Lw,"renderDot",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):Ue(t)?n=t(e):n=M.createElement(Pg,XA({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function JA(){return JA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JA.apply(this,arguments)}function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function F4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F4(Object(n),!0).forEach(function(r){Fw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pHe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pK(r.key),r)}}function mHe(t,e,n){return e&&pHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gHe(t,e,n){return e=vx(e),yHe(t,hK()?Reflect.construct(e,n||[],vx(t).constructor):e.apply(t,n))}function yHe(t,e){if(e&&(yf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vHe(t)}function vHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hK=function(){return!!t})()}function vx(t){return vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vx(t)}function xHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QA(t,e)}function QA(t,e){return QA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QA(t,e)}function Fw(t,e,n){return e=pK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pK(t){var e=bHe(t,"string");return yf(e)=="symbol"?e:e+""}function bHe(t,e){if(yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wHe=function(e,n,r,i,a){var s=a.x1,o=a.x2,l=a.y1,c=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=NN({x:d.scale,y:f.scale}),p={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:n?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return os(a,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:eK(p,m)},Bw=function(t){function e(){return hHe(this,e),gHe(this,e,arguments)}return xHe(e,t),mHe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,d=r.clipPathId;va(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=En(i),h=En(a),p=En(s),m=En(o),g=this.props.shape;if(!f&&!h&&!p&&!m&&!g)return null;var b=wHe(f,h,p,m,this.props);if(!b&&!g)return null;var x=os(this.props,"hidden")?"url(#".concat(d,")"):void 0;return M.createElement(ot,{className:Ke("recharts-reference-area",l)},e.renderRect(g,B4(B4({clipPath:x},Ie(this.props,!0)),b)),$n.renderCallByParent(this.props,b))}}])}(M.Component);Fw(Bw,"displayName","ReferenceArea");Fw(Bw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Fw(Bw,"renderRect",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):Ue(t)?n=t(e):n=M.createElement(CN,JA({},e,{className:"recharts-reference-area-rect"})),n});function mK(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function _He(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return g9e(r,n)}function SHe(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function xx(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function EHe(t,e){return mK(t,e+1)}function jHe(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,o=e.end,l=0,c=1,d=s,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:mK(r,c)};var g=l,b,x=function(){return b===void 0&&(b=n(m,g)),b},v=m.coordinate,y=l===0||xx(t,v,x,d,o);y||(l=0,d=s,c+=1),y&&(d=v+t*(x()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function zm(t){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zm(t)}function z4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z4(Object(n),!0).forEach(function(r){AHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AHe(t,e,n){return e=THe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function THe(t){var e=kHe(t,"string");return zm(e)=="symbol"?e:e+""}function kHe(t,e){if(zm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CHe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,o=e.start,l=e.end,c=function(h){var p=a[h],m,g=function(){return m===void 0&&(m=n(p,h)),m};if(h===s-1){var b=t*(p.coordinate+t*g()/2-l);a[h]=p=Kn(Kn({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate})}else a[h]=p=Kn(Kn({},p),{},{tickCoord:p.coordinate});var x=xx(t,p.tickCoord,g,o,l);x&&(l=p.tickCoord-t*(g()/2+i),a[h]=Kn(Kn({},p),{},{isShow:!0}))},d=s-1;d>=0;d--)c(d);return a}function OHe(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,l=e.start,c=e.end;if(a){var d=r[o-1],f=n(d,o-1),h=t*(d.coordinate+t*f/2-c);s[o-1]=d=Kn(Kn({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var p=xx(t,d.tickCoord,function(){return f},l,c);p&&(c=d.tickCoord-t*(f/2+i),s[o-1]=Kn(Kn({},d),{},{isShow:!0}))}for(var m=a?o-1:o,g=function(v){var y=s[v],w,_=function(){return w===void 0&&(w=n(y,v)),w};if(v===0){var E=t*(y.coordinate-t*_()/2-l);s[v]=y=Kn(Kn({},y),{},{tickCoord:E<0?y.coordinate-E*t:y.coordinate})}else s[v]=y=Kn(Kn({},y),{},{tickCoord:y.coordinate});var A=xx(t,y.tickCoord,_,l,c);A&&(l=y.tickCoord+t*(_()/2+i),s[v]=Kn(Kn({},y),{},{isShow:!0}))},b=0;b<m;b++)g(b);return s}function LN(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(de(l)||xa.isSsr)return EHe(i,typeof l=="number"&&de(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",m=d&&p==="width"?gp(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(y,w){var _=Ue(c)?c(y.value,w):y.value;return p==="width"?_He(gp(_,{fontSize:e,letterSpacing:n}),m,f):gp(_,{fontSize:e,letterSpacing:n})[p]},b=i.length>=2?lr(i[1].coordinate-i[0].coordinate):1,x=SHe(a,b,p);return l==="equidistantPreserveStart"?jHe(b,x,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=OHe(b,x,g,i,s,l==="preserveStartEnd"):h=CHe(b,x,g,i,s),h.filter(function(v){return v.isShow}))}var NHe=["viewBox"],PHe=["viewBox"],IHe=["ticks"];function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function nd(){return nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nd.apply(this,arguments)}function U4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U4(Object(n),!0).forEach(function(r){FN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tS(t,e){if(t==null)return{};var n=$He(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $He(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function RHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yK(r.key),r)}}function MHe(t,e,n){return e&&H4(t.prototype,e),n&&H4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function DHe(t,e,n){return e=bx(e),LHe(t,gK()?Reflect.construct(e,n||[],bx(t).constructor):e.apply(t,n))}function LHe(t,e){if(e&&(vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FHe(t)}function FHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gK=function(){return!!t})()}function bx(t){return bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bx(t)}function BHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eT(t,e)}function eT(t,e){return eT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eT(t,e)}function FN(t,e,n){return e=yK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yK(t){var e=zHe(t,"string");return vf(e)=="symbol"?e:e+""}function zHe(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rh=function(t){function e(n){var r;return RHe(this,e),r=DHe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return BHe(e,t),MHe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=tS(r,NHe),o=this.props,l=o.viewBox,c=tS(o,PHe);return!xd(a,l)||!xd(s,c)||!xd(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,c=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,m,g,b,x,v,y=f?-1:1,w=r.tickSize||d,_=de(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=m=r.coordinate,b=s+ +!f*l,g=b-y*w,v=g-y*h,x=_;break;case"left":g=b=r.coordinate,m=a+ +!f*o,p=m-y*w,x=p-y*h,v=_;break;case"right":g=b=r.coordinate,m=a+ +f*o,p=m+y*w,x=p+y*h,v=_;break;default:p=m=r.coordinate,b=s+ +f*l,g=b+y*w,v=g+y*h,x=_;break}return{line:{x1:p,y1:g,x2:m,y2:b},tick:{x,y:v}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.orientation,c=r.mirror,d=r.axisLine,f=rr(rr(rr({},Ie(this.props,!1)),Ie(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=rr(rr({},f),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=rr(rr({},f),{},{x1:i+p*s,y1:a,x2:i+p*s,y2:a+o})}return M.createElement("line",nd({},f,{className:Ke("recharts-cartesian-axis-line",si(d,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,o=this.props,l=o.tickLine,c=o.stroke,d=o.tick,f=o.tickFormatter,h=o.unit,p=LN(rr(rr({},this.props),{},{ticks:r}),i,a),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),b=Ie(this.props,!1),x=Ie(d,!1),v=rr(rr({},b),{},{fill:"none"},Ie(l,!1)),y=p.map(function(w,_){var E=s.getTickLineCoord(w),A=E.line,j=E.tick,T=rr(rr(rr(rr({textAnchor:m,verticalAnchor:g},b),{},{stroke:"none",fill:c},x),j),{},{index:_,payload:w,visibleTicksCount:p.length,tickFormatter:f});return M.createElement(ot,nd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},Vc(s.props,w,_)),l&&M.createElement("line",nd({},v,A,{className:Ke("recharts-cartesian-axis-tick-line",si(l,"className"))})),d&&e.renderTickItem(d,T,"".concat(Ue(f)?f(w.value,_):w.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=tS(f,IHe),m=h;return Ue(l)&&(m=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!m||!m.length?null:M.createElement(ot,{className:Ke("recharts-cartesian-axis",c),ref:function(b){r.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),$n.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return M.isValidElement(r)?s=M.cloneElement(r,i):Ue(r)?s=r(i):s=M.createElement(Wc,nd({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(S.Component);FN(rh,"displayName","CartesianAxis");FN(rh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var UHe=["x1","y1","x2","y2","key"],HHe=["offset"];function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function V4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V4(Object(n),!0).forEach(function(r){VHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VHe(t,e,n){return e=WHe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WHe(t){var e=qHe(t,"string");return Yc(e)=="symbol"?e:e+""}function qHe(t,e){if(Yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pc(){return pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pc.apply(this,arguments)}function W4(t,e){if(t==null)return{};var n=GHe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GHe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var KHe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return M.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function vK(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(Ue(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=W4(e,UHe),c=Ie(l,!1);c.offset;var d=W4(c,HHe);n=M.createElement("line",pc({},d,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function YHe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=Xn(Xn({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return vK(i,c)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function XHe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=Xn(Xn({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return vK(i,c)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function ZHe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var d=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?i+s-h:d[p+1]-h;if(g<=0)return null;var b=p%e.length;return M.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:g,width:a,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function JHe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var d=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?a+o-h:d[p+1]-h;if(g<=0)return null;var b=p%r.length;return M.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:g,height:l,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var QHe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return pG(LN(Xn(Xn(Xn({},rh.defaultProps),r),{},{ticks:Rs(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},eVe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return pG(LN(Xn(Xn(Xn({},rh.defaultProps),r),{},{ticks:Rs(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},Cu={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function wx(t){var e,n,r,i,a,s,o=$N(),l=RN(),c=z9e(),d=Xn(Xn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Cu.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Cu.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Cu.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Cu.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Cu.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Cu.verticalFill,x:de(t.x)?t.x:c.left,y:de(t.y)?t.y:c.top,width:de(t.width)?t.width:c.width,height:de(t.height)?t.height:c.height}),f=d.x,h=d.y,p=d.width,m=d.height,g=d.syncWithTicks,b=d.horizontalValues,x=d.verticalValues,v=L9e(),y=F9e();if(!de(p)||p<=0||!de(m)||m<=0||!de(f)||f!==+f||!de(h)||h!==+h)return null;var w=d.verticalCoordinatesGenerator||QHe,_=d.horizontalCoordinatesGenerator||eVe,E=d.horizontalPoints,A=d.verticalPoints;if((!E||!E.length)&&Ue(_)){var j=b&&b.length,T=_({yAxis:y?Xn(Xn({},y),{},{ticks:j?b:y.ticks}):void 0,width:o,height:l,offset:c},j?!0:g);va(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Yc(T),"]")),Array.isArray(T)&&(E=T)}if((!A||!A.length)&&Ue(w)){var C=x&&x.length,k=w({xAxis:v?Xn(Xn({},v),{},{ticks:C?x:v.ticks}):void 0,width:o,height:l,offset:c},C?!0:g);va(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Yc(k),"]")),Array.isArray(k)&&(A=k)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(KHe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),M.createElement(YHe,pc({},d,{offset:c,horizontalPoints:E,xAxis:v,yAxis:y})),M.createElement(XHe,pc({},d,{offset:c,verticalPoints:A,xAxis:v,yAxis:y})),M.createElement(ZHe,pc({},d,{horizontalPoints:E})),M.createElement(JHe,pc({},d,{verticalPoints:A})))}wx.displayName="CartesianGrid";var tVe=["type","layout","connectNulls","ref"],nVe=["key"];function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function q4(t,e){if(t==null)return{};var n=rVe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rVe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _p(){return _p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_p.apply(this,arguments)}function G4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G4(Object(n),!0).forEach(function(r){ia(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ou(t){return oVe(t)||sVe(t)||aVe(t)||iVe()}function iVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aVe(t,e){if(t){if(typeof t=="string")return tT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tT(t,e)}}function sVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oVe(t){if(Array.isArray(t))return tT(t)}function tT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bK(r.key),r)}}function cVe(t,e,n){return e&&K4(t.prototype,e),n&&K4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uVe(t,e,n){return e=_x(e),dVe(t,xK()?Reflect.construct(e,n||[],_x(t).constructor):e.apply(t,n))}function dVe(t,e){if(e&&(xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fVe(t)}function fVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xK=function(){return!!t})()}function _x(t){return _x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_x(t)}function hVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nT(t,e)}function nT(t,e){return nT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nT(t,e)}function ia(t,e,n){return e=bK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bK(t){var e=pVe(t,"string");return xf(e)=="symbol"?e:e+""}function pVe(t,e){if(xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oc=function(t){function e(){var n;lVe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=uVe(this,e,[].concat(i)),ia(n,"state",{isAnimationFinished:!0,totalLength:0}),ia(n,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),ia(n,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(x,v){return x+v});if(!c)return n.generateSimpleStrokeDasharray(o,s);for(var d=Math.floor(s/c),f=s%c,h=o-s,p=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>f){p=[].concat(Ou(l.slice(0,m)),[f-g]);break}var b=p.length%2===0?[0,h]:[h];return[].concat(Ou(e.repeat(l,d)),Ou(p),b).map(function(x){return"".concat(x,"px")}).join(", ")}),ia(n,"id",cu("recharts-line-")),ia(n,"pathRef",function(s){n.mainCurve=s}),ia(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),ia(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return hVe(e,t),cVe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,c=a.layout,d=a.children,f=oi(d,Ng);if(!f)return null;var h=function(g,b){return{x:g.x,y:g.y,value:g.value,errorVal:cn(g.payload,b)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(ot,p,f.map(function(m){return M.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,d=o.dataKey,f=Ie(this.props,!1),h=Ie(l,!0),p=c.map(function(g,b){var x=Vr(Vr(Vr({key:"dot-".concat(b),r:3},f),h),{},{value:g.value,dataKey:d,cx:g.x,cy:g.y,index:b,payload:g.payload});return e.renderDotItem(l,x)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return M.createElement(ot,_p({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(r,i,a,s){var o=this.props,l=o.type,c=o.layout,d=o.connectNulls;o.ref;var f=q4(o,tVe),h=Vr(Vr(Vr({},Ie(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},s),{},{type:l,layout:c,connectNulls:d});return M.createElement(Cc,_p({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,m=s.animateNewValues,g=s.width,b=s.height,x=this.state,v=x.prevPoints,y=x.totalLength;return M.createElement(Aa,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var _=w.t;if(v){var E=v.length/o.length,A=o.map(function(O,L){var R=Math.floor(L*E);if(v[R]){var F=v[R],U=_n(F.x,O.x),V=_n(F.y,O.y);return Vr(Vr({},O),{},{x:U(_),y:V(_)})}if(m){var D=_n(g*2,O.x),B=_n(b/2,O.y);return Vr(Vr({},O),{},{x:D(_),y:B(_)})}return Vr(Vr({},O),{},{x:O.x,y:O.y})});return a.renderCurveStatically(A,r,i)}var j=_n(0,y),T=j(_),C;if(l){var k="".concat(l).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});C=a.getStrokeDasharray(T,y,k)}else C=a.generateSimpleStrokeDasharray(y,T);return a.renderCurveStatically(o,r,i,{strokeDasharray:C})})}},{key:"renderCurve",value:function(r,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return o&&s&&s.length&&(!c&&d>0||!qc(c,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,m=i.height,g=i.isAnimationActive,b=i.id;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,v=o.length===1,y=Ke("recharts-line",l),w=c&&c.allowDataOverflow,_=d&&d.allowDataOverflow,E=w||_,A=Ve(b)?this.id:b,j=(r=Ie(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},T=j.r,C=T===void 0?3:T,k=j.strokeWidth,O=k===void 0?2:k,L=sW(s)?s:{},R=L.clipDot,F=R===void 0?!0:R,U=C*2+O;return M.createElement(ot,{className:y},w||_?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(A)},M.createElement("rect",{x:w?h:h-p/2,y:_?f:f-m/2,width:w?p:p*2,height:_?m:m*2})),!F&&M.createElement("clipPath",{id:"clipPath-dots-".concat(A)},M.createElement("rect",{x:h-U/2,y:f-U/2,width:p+U,height:m+U}))):null,!v&&this.renderCurve(E,A),this.renderErrorBar(E,A),(v||s)&&this.renderDots(E,F,A),(!g||x)&&ss.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(Ou(r),[0]):r,s=[],o=0;o<i;++o)s=[].concat(Ou(s),Ou(a));return s}},{key:"renderDotItem",value:function(r,i){var a;if(M.isValidElement(r))a=M.cloneElement(r,i);else if(Ue(r))a=r(i);else{var s=i.key,o=q4(i,nVe),l=Ke("recharts-line-dot",typeof r!="boolean"?r.className:"");a=M.createElement(Pg,_p({key:s},o,{className:l}))}return a}}])}(S.PureComponent);ia(Oc,"displayName","Line");ia(Oc,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!xa.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ia(Oc,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,c=t.offset,d=e.layout,f=l.map(function(h,p){var m=cn(h,s);return d==="horizontal"?{x:J0({axis:n,ticks:i,bandSize:o,entry:h,index:p}),y:Ve(m)?null:r.scale(m),value:m,payload:h}:{x:Ve(m)?null:n.scale(m),y:J0({axis:r,ticks:a,bandSize:o,entry:h,index:p}),value:m,payload:h}});return Vr({points:f,layout:d},c)});var mVe=["layout","type","stroke","connectNulls","isRange","ref"],gVe=["key"],wK;function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function _K(t,e){if(t==null)return{};var n=yVe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yVe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mc.apply(this,arguments)}function Y4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ko(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y4(Object(n),!0).forEach(function(r){Ja(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EK(r.key),r)}}function xVe(t,e,n){return e&&X4(t.prototype,e),n&&X4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bVe(t,e,n){return e=Sx(e),wVe(t,SK()?Reflect.construct(e,n||[],Sx(t).constructor):e.apply(t,n))}function wVe(t,e){if(e&&(bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ve(t)}function _Ve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SK=function(){return!!t})()}function Sx(t){return Sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sx(t)}function SVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rT(t,e)}function rT(t,e){return rT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rT(t,e)}function Ja(t,e,n){return e=EK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EK(t){var e=EVe(t,"string");return bf(e)=="symbol"?e:e+""}function EVe(t,e){if(bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lo=function(t){function e(){var n;vVe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=bVe(this,e,[].concat(i)),Ja(n,"state",{isAnimationFinished:!0}),Ja(n,"id",cu("recharts-area-")),Ja(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ue(s)&&s()}),Ja(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ue(s)&&s()}),n}return SVe(e,t),xVe(e,[{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var l=this.props,c=l.dot,d=l.points,f=l.dataKey,h=Ie(this.props,!1),p=Ie(c,!0),m=d.map(function(b,x){var v=ko(ko(ko({key:"dot-".concat(x),r:3},h),p),{},{index:x,cx:b.x,cy:b.y,dataKey:f,value:b.value,payload:b.payload,points:d});return e.renderDotItem(c,v)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return M.createElement(ot,mc({className:"recharts-area-dots"},g),m)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].x,c=s[s.length-1].x,d=r*Math.abs(l-c),f=Ko(s.map(function(h){return h.y||0}));return de(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Ko(a.map(function(h){return h.y||0})),f)),de(f)?M.createElement("rect",{x:l<c?l:l-d,y:0,width:d,height:Math.floor(f+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].y,c=s[s.length-1].y,d=r*Math.abs(l-c),f=Ko(s.map(function(h){return h.x||0}));return de(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Ko(a.map(function(h){return h.x||0})),f)),de(f)?M.createElement("rect",{x:0,y:l<c?l:l-d,width:f+(o?parseInt("".concat(o),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,s){var o=this.props,l=o.layout,c=o.type,d=o.stroke,f=o.connectNulls,h=o.isRange;o.ref;var p=_K(o,mVe);return M.createElement(ot,{clipPath:a?"url(#clipPath-".concat(s,")"):null},M.createElement(Cc,mc({},Ie(p,!0),{points:r,connectNulls:f,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&M.createElement(Cc,mc({},Ie(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:r})),d!=="none"&&h&&M.createElement(Cc,mc({},Ie(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,m=this.state,g=m.prevPoints,b=m.prevBaseLine;return M.createElement(Aa,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var v=x.t;if(g){var y=g.length/o.length,w=o.map(function(j,T){var C=Math.floor(T*y);if(g[C]){var k=g[C],O=_n(k.x,j.x),L=_n(k.y,j.y);return ko(ko({},j),{},{x:O(v),y:L(v)})}return j}),_;if(de(l)&&typeof l=="number"){var E=_n(b,l);_=E(v)}else if(Ve(l)||Yf(l)){var A=_n(b,0);_=A(v)}else _=l.map(function(j,T){var C=Math.floor(T*y);if(b[C]){var k=b[C],O=_n(k.x,j.x),L=_n(k.y,j.y);return ko(ko({},j),{},{x:O(v),y:L(v)})}return j});return a.renderAreaStatically(w,_,r,i)}return M.createElement(ot,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(v))),M.createElement(ot,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(o,l,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,s=a.points,o=a.baseLine,l=a.isAnimationActive,c=this.state,d=c.prevPoints,f=c.prevBaseLine,h=c.totalLength;return l&&s&&s.length&&(!d&&h>0||!qc(d,s)||!qc(f,o))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.top,d=i.left,f=i.xAxis,h=i.yAxis,p=i.width,m=i.height,g=i.isAnimationActive,b=i.id;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,v=o.length===1,y=Ke("recharts-area",l),w=f&&f.allowDataOverflow,_=h&&h.allowDataOverflow,E=w||_,A=Ve(b)?this.id:b,j=(r=Ie(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},T=j.r,C=T===void 0?3:T,k=j.strokeWidth,O=k===void 0?2:k,L=sW(s)?s:{},R=L.clipDot,F=R===void 0?!0:R,U=C*2+O;return M.createElement(ot,{className:y},w||_?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(A)},M.createElement("rect",{x:w?d:d-p/2,y:_?c:c-m/2,width:w?p:p*2,height:_?m:m*2})),!F&&M.createElement("clipPath",{id:"clipPath-dots-".concat(A)},M.createElement("rect",{x:d-U/2,y:c-U/2,width:p+U,height:m+U}))):null,v?null:this.renderArea(E,A),(s||v)&&this.renderDots(E,F,A),(!g||x)&&ss.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(S.PureComponent);wK=lo;Ja(lo,"displayName","Area");Ja(lo,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!xa.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ja(lo,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,s=e.props.baseValue,o=s??a;if(de(o)&&typeof o=="number")return o;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var d=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return o==="dataMin"?f:o==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]});Ja(lo,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.bandSize,l=t.dataKey,c=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=e.layout,m=c&&c.length,g=wK.getBaseValue(e,n,r,i),b=p==="horizontal",x=!1,v=f.map(function(w,_){var E;m?E=c[d+_]:(E=cn(w,l),Array.isArray(E)?x=!0:E=[g,E]);var A=E[1]==null||m&&cn(w,l)==null;return b?{x:J0({axis:r,ticks:a,bandSize:o,entry:w,index:_}),y:A?null:i.scale(E[1]),value:E,payload:w}:{x:A?null:r.scale(E[1]),y:J0({axis:i,ticks:s,bandSize:o,entry:w,index:_}),value:E,payload:w}}),y;return m||x?y=v.map(function(w){var _=Array.isArray(w.value)?w.value[0]:null;return b?{x:w.x,y:_!=null&&w.y!=null?i.scale(_):null}:{x:_!=null?r.scale(_):null,y:w.y}}):y=b?i.scale(g):r.scale(g),ko({points:v,baseLine:y,layout:p,isRange:x},h)});Ja(lo,"renderDotItem",function(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(Ue(t))n=t(e);else{var r=Ke("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=_K(e,gVe);n=M.createElement(Pg,mc({},a,{key:i,className:r}))}return n});function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function jVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AVe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TK(r.key),r)}}function TVe(t,e,n){return e&&AVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kVe(t,e,n){return e=Ex(e),CVe(t,jK()?Reflect.construct(e,n||[],Ex(t).constructor):e.apply(t,n))}function CVe(t,e){if(e&&(wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OVe(t)}function OVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jK=function(){return!!t})()}function Ex(t){return Ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ex(t)}function NVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iT(t,e)}function iT(t,e){return iT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iT(t,e)}function AK(t,e,n){return e=TK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TK(t){var e=PVe(t,"string");return wf(e)=="symbol"?e:e+""}function PVe(t,e){if(wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aT(){return aT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aT.apply(this,arguments)}function IVe(t){var e=t.xAxisId,n=$N(),r=RN(),i=oK(e);return i==null?null:M.createElement(rh,aT({},i,{className:Ke("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Rs(s,!0)}}))}var jl=function(t){function e(){return jVe(this,e),kVe(this,e,arguments)}return NVe(e,t),TVe(e,[{key:"render",value:function(){return M.createElement(IVe,this.props)}}])}(M.Component);AK(jl,"displayName","XAxis");AK(jl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function $Ve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RVe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OK(r.key),r)}}function MVe(t,e,n){return e&&RVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DVe(t,e,n){return e=jx(e),LVe(t,kK()?Reflect.construct(e,n||[],jx(t).constructor):e.apply(t,n))}function LVe(t,e){if(e&&(_f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FVe(t)}function FVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kK=function(){return!!t})()}function jx(t){return jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jx(t)}function BVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sT(t,e)}function sT(t,e){return sT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sT(t,e)}function CK(t,e,n){return e=OK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OK(t){var e=zVe(t,"string");return _f(e)=="symbol"?e:e+""}function zVe(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oT(){return oT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oT.apply(this,arguments)}var UVe=function(e){var n=e.yAxisId,r=$N(),i=RN(),a=lK(n);return a==null?null:M.createElement(rh,oT({},a,{className:Ke("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return Rs(o,!0)}}))},Al=function(t){function e(){return $Ve(this,e),DVe(this,e,arguments)}return BVe(e,t),MVe(e,[{key:"render",value:function(){return M.createElement(UVe,this.props)}}])}(M.Component);CK(Al,"displayName","YAxis");CK(Al,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Z4(t){return qVe(t)||WVe(t)||VVe(t)||HVe()}function HVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VVe(t,e){if(t){if(typeof t=="string")return lT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lT(t,e)}}function WVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qVe(t){if(Array.isArray(t))return lT(t)}function lT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var cT=function(e,n,r,i,a){var s=oi(e,DN),o=oi(e,Lw),l=[].concat(Z4(s),Z4(o)),c=oi(e,Bw),d="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(g,b){if(b.props[d]===r&&os(b.props,"extendDomain")&&de(b.props[f])){var x=b.props[f];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},h)),c.length){var p="".concat(f,"1"),m="".concat(f,"2");h=c.reduce(function(g,b){if(b.props[d]===r&&os(b.props,"extendDomain")&&de(b.props[p])&&de(b.props[m])){var x=b.props[p],v=b.props[m];return[Math.min(g[0],x,v),Math.max(g[1],x,v)]}return g},h)}return a&&a.length&&(h=a.reduce(function(g,b){return de(b)?[Math.min(g[0],b),Math.max(g[1],b)]:g},h)),h},nS=new Oue,rS="recharts.syncMouseEvents";function Um(t){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(t)}function GVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KVe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NK(r.key),r)}}function YVe(t,e,n){return e&&KVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iS(t,e,n){return e=NK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NK(t){var e=XVe(t,"string");return Um(e)=="symbol"?e:e+""}function XVe(t,e){if(Um(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ZVe=function(){function t(){GVe(this,t),iS(this,"activeIndex",0),iS(this,"coordinateList",[]),iS(this,"layout","horizontal")}return YVe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,o=s===void 0?null:s,l=n.layout,c=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+c,h=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function JVe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&de(r)&&de(i))return!0}return!1}function QVe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function PK(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=$t(e,n,r,i),o=$t(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function e7e(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,d=e.outerRadius,f=e.angle,h=$t(o,l,c,f),p=$t(o,l,d,f);r=h.x,i=h.y,a=p.x,s=p.y}else return PK(e);return[{x:r,y:i},{x:a,y:s}]}function Hm(t){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(t)}function J4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J4(Object(n),!0).forEach(function(r){t7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t7e(t,e,n){return e=n7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n7e(t){var e=r7e(t,"string");return Hm(e)=="symbol"?e:e+""}function r7e(t,e){if(Hm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i7e(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var m,g=Cc;if(h==="ScatterChart")m=s,g=pUe;else if(h==="BarChart")m=QVe(f,s,l,d),g=CN;else if(f==="radial"){var b=PK(s),x=b.cx,v=b.cy,y=b.radius,w=b.startAngle,_=b.endAngle;m={cx:x,cy:v,startAngle:w,endAngle:_,innerRadius:y,outerRadius:y},g=jG}else m={points:e7e(f,s,l)},g=Cc;var E=Uy(Uy(Uy(Uy({stroke:"#ccc",pointerEvents:"none"},l),m),Ie(p,!1)),{},{payload:o,payloadIndex:c,className:Ke("recharts-tooltip-cursor",p.className)});return S.isValidElement(p)?S.cloneElement(p,E):S.createElement(g,E)}var a7e=["item"],s7e=["children","className","width","height","style","compact","title","desc"];function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function Sp(){return Sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sp.apply(this,arguments)}function Q4(t,e){return c7e(t)||l7e(t,e)||$K(t,e)||o7e()}function o7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l7e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function c7e(t){if(Array.isArray(t))return t}function e5(t,e){if(t==null)return{};var n=u7e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function u7e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function d7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f7e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RK(r.key),r)}}function h7e(t,e,n){return e&&f7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function p7e(t,e,n){return e=Ax(e),m7e(t,IK()?Reflect.construct(e,n||[],Ax(t).constructor):e.apply(t,n))}function m7e(t,e){if(e&&(Sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g7e(t)}function g7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IK=function(){return!!t})()}function Ax(t){return Ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ax(t)}function y7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uT(t,e)}function uT(t,e){return uT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uT(t,e)}function Ef(t){return b7e(t)||x7e(t)||$K(t)||v7e()}function v7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $K(t,e){if(t){if(typeof t=="string")return dT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dT(t,e)}}function x7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function b7e(t){if(Array.isArray(t))return dT(t)}function dT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function t5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t5(Object(n),!0).forEach(function(r){ze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ze(t,e,n){return e=RK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RK(t){var e=w7e(t,"string");return Sf(e)=="symbol"?e:e+""}function w7e(t,e){if(Sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _7e={xAxis:["bottom","top"],yAxis:["left","right"]},S7e={width:"100%",height:"100%"},MK={x:0,y:0};function Hy(t){return t}var E7e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},j7e=function(e,n,r,i){var a=n.find(function(d){return d&&d.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return Q(Q(Q({},i),$t(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,c=i.angle;return Q(Q(Q({},i),$t(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return MK},zw=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Ef(o),Ef(c)):o},[]);return s.length>0?s:e&&e.length&&de(i)&&de(a)?e.slice(i,a+1):[]};function DK(t){return t==="number"?[0,"auto"]:void 0}var fT=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,o=zw(n,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;h=E0(p,s.dataKey,i)}else h=f&&f[r]||o[r];return h?[].concat(Ef(l),[xG(c,h)]):l},[])},n5=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=E7e(a,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=K3e(s,o,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,h=fT(e,n,d,f),p=j7e(r,o,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},A7e=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,p=hG(d,a);return r.reduce(function(m,g){var b,x=g.type.defaultProps!==void 0?Q(Q({},g.type.defaultProps),g.props):g.props,v=x.type,y=x.dataKey,w=x.allowDataOverflow,_=x.allowDuplicatedCategory,E=x.scale,A=x.ticks,j=x.includeHidden,T=x[s];if(m[T])return m;var C=zw(e.data,{graphicalItems:i.filter(function(G){var $,ee=s in G.props?G.props[s]:($=G.type.defaultProps)===null||$===void 0?void 0:$[s];return ee===T}),dataStartIndex:l,dataEndIndex:c}),k=C.length,O,L,R;JVe(x.domain,w,v)&&(O=jA(x.domain,null,w),p&&(v==="number"||E!=="auto")&&(R=vp(C,y,"category")));var F=DK(v);if(!O||O.length===0){var U,V=(U=x.domain)!==null&&U!==void 0?U:F;if(y){if(O=vp(C,y,v),v==="category"&&p){var D=FTe(O);_&&D?(L=O,O=dx(0,k)):_||(O=_L(V,O,g).reduce(function(G,$){return G.indexOf($)>=0?G:[].concat(Ef(G),[$])},[]))}else if(v==="category")_?O=O.filter(function(G){return G!==""&&!Ve(G)}):O=_L(V,O,g).reduce(function(G,$){return G.indexOf($)>=0||$===""||Ve($)?G:[].concat(Ef(G),[$])},[]);else if(v==="number"){var B=Q3e(C,i.filter(function(G){var $,ee,ie=s in G.props?G.props[s]:($=G.type.defaultProps)===null||$===void 0?void 0:$[s],I="hide"in G.props?G.props.hide:(ee=G.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return ie===T&&(j||!I)}),y,a,d);B&&(O=B)}p&&(v==="number"||E!=="auto")&&(R=vp(C,y,"category"))}else p?O=dx(0,k):o&&o[T]&&o[T].hasStack&&v==="number"?O=h==="expand"?[0,1]:vG(o[T].stackGroups,l,c):O=fG(C,i.filter(function(G){var $=s in G.props?G.props[s]:G.type.defaultProps[s],ee="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return $===T&&(j||!ee)}),v,d,!0);if(v==="number")O=cT(f,O,T,a,A),V&&(O=jA(V,O,w));else if(v==="category"&&V){var P=V,W=O.every(function(G){return P.indexOf(G)>=0});W&&(O=P)}}return Q(Q({},m),{},ze({},T,Q(Q({},x),{},{axisType:a,domain:O,categoricalDomain:R,duplicateDomain:L,originalDomain:(b=x.domain)!==null&&b!==void 0?b:F,isCategorical:p,layout:d})))},{})},T7e=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=zw(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=hG(d,a),g=-1;return r.reduce(function(b,x){var v=x.type.defaultProps!==void 0?Q(Q({},x.type.defaultProps),x.props):x.props,y=v[s],w=DK("number");if(!b[y]){g++;var _;return m?_=dx(0,p):o&&o[y]&&o[y].hasStack?(_=vG(o[y].stackGroups,l,c),_=cT(f,_,y,a)):(_=jA(w,fG(h,r.filter(function(E){var A,j,T=s in E.props?E.props[s]:(A=E.type.defaultProps)===null||A===void 0?void 0:A[s],C="hide"in E.props?E.props.hide:(j=E.type.defaultProps)===null||j===void 0?void 0:j.hide;return T===y&&!C}),"number",d),i.defaultProps.allowDataOverflow),_=cT(f,_,y,a)),Q(Q({},b),{},ze({},y,Q(Q({axisType:a},i.defaultProps),{},{hide:!0,orientation:si(_7e,"".concat(a,".").concat(g%2),null),domain:_,originalDomain:w,isCategorical:m,layout:d})))}return b},{})},k7e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=oi(d,a),p={};return h&&h.length?p=A7e(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=T7e(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},C7e=function(e){var n=Mo(e),r=Rs(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:nN(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Q0(n,r)}},r5=function(e){var n=e.children,r=e.defaultShowTooltip,i=Yr(n,hf),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},O7e=function(e){return!e||!e.length?!1:e.some(function(n){var r=Hs(n&&n.type);return r&&r.indexOf("Bar")>=0})},i5=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},N7e=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,d=r.height,f=r.children,h=r.margin||{},p=Yr(f,hf),m=Yr(f,ol),g=Object.keys(l).reduce(function(_,E){var A=l[E],j=A.orientation;return!A.mirror&&!A.hide?Q(Q({},_),{},ze({},j,_[j]+A.width)):_},{left:h.left||0,right:h.right||0}),b=Object.keys(s).reduce(function(_,E){var A=s[E],j=A.orientation;return!A.mirror&&!A.hide?Q(Q({},_),{},ze({},j,si(_,"".concat(j))+A.height)):_},{top:h.top||0,bottom:h.bottom||0}),x=Q(Q({},b),g),v=x.bottom;p&&(x.bottom+=p.props.height||hf.defaultProps.height),m&&n&&(x=Z3e(x,i,r,n));var y=c-x.left-x.right,w=d-x.top-x.bottom;return Q(Q({brushBottom:v},x),{},{width:Math.max(y,0),height:Math.max(w,0)})},P7e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Uw=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(b,x){var v=x.graphicalItems,y=x.stackGroups,w=x.offset,_=x.updateId,E=x.dataStartIndex,A=x.dataEndIndex,j=b.barSize,T=b.layout,C=b.barGap,k=b.barCategoryGap,O=b.maxBarSize,L=i5(T),R=L.numericAxisName,F=L.cateAxisName,U=O7e(v),V=[];return v.forEach(function(D,B){var P=zw(b.data,{graphicalItems:[D],dataStartIndex:E,dataEndIndex:A}),W=D.type.defaultProps!==void 0?Q(Q({},D.type.defaultProps),D.props):D.props,G=W.dataKey,$=W.maxBarSize,ee=W["".concat(R,"Id")],ie=W["".concat(F,"Id")],I={},N=l.reduce(function(ae,At){var we=x["".concat(At.axisType,"Map")],ye=W["".concat(At.axisType,"Id")];we&&we[ye]||At.axisType==="zAxis"||Kc();var be=we[ye];return Q(Q({},ae),{},ze(ze({},At.axisType,be),"".concat(At.axisType,"Ticks"),Rs(be)))},I),K=N[F],z=N["".concat(F,"Ticks")],Z=y&&y[ee]&&y[ee].hasStack&&lFe(D,y[ee].stackGroups),J=Hs(D.type).indexOf("Bar")>=0,Y=Q0(K,z),me=[],le=U&&Y3e({barSize:j,stackGroups:y,totalSize:P7e(N,F)});if(J){var ve,oe,Be=Ve($)?O:$,Te=(ve=(oe=Q0(K,z,!0))!==null&&oe!==void 0?oe:Be)!==null&&ve!==void 0?ve:0;me=X3e({barGap:C,barCategoryGap:k,bandSize:Te!==Y?Te:Y,sizeList:le[ie],maxBarSize:Be}),Te!==Y&&(me=me.map(function(ae){return Q(Q({},ae),{},{position:Q(Q({},ae.position),{},{offset:ae.position.offset-Te/2})})}))}var De=D&&D.type&&D.type.getComposedData;De&&V.push({props:Q(Q({},De(Q(Q({},N),{},{displayedData:P,props:b,dataKey:G,item:D,bandSize:Y,barPosition:me,offset:w,stackedData:Z,layout:T,dataStartIndex:E,dataEndIndex:A}))),{},ze(ze(ze({key:D.key||"item-".concat(B)},R,N[R]),F,N[F]),"animationId",_)),childIndex:XTe(D,b.children),item:D})}),V},p=function(b,x){var v=b.props,y=b.dataStartIndex,w=b.dataEndIndex,_=b.updateId;if(!gM({props:v}))return null;var E=v.children,A=v.layout,j=v.stackOffset,T=v.data,C=v.reverseStackOrder,k=i5(A),O=k.numericAxisName,L=k.cateAxisName,R=oi(E,r),F=sFe(T,R,"".concat(O,"Id"),"".concat(L,"Id"),j,C),U=l.reduce(function(W,G){var $="".concat(G.axisType,"Map");return Q(Q({},W),{},ze({},$,k7e(v,Q(Q({},G),{},{graphicalItems:R,stackGroups:G.axisType===O&&F,dataStartIndex:y,dataEndIndex:w}))))},{}),V=N7e(Q(Q({},U),{},{props:v,graphicalItems:R}),x==null?void 0:x.legendBBox);Object.keys(U).forEach(function(W){U[W]=d(v,U[W],V,W.replace("Map",""),n)});var D=U["".concat(L,"Map")],B=C7e(D),P=h(v,Q(Q({},U),{},{dataStartIndex:y,dataEndIndex:w,updateId:_,graphicalItems:R,stackGroups:F,offset:V}));return Q(Q({formattedGraphicalItems:P,graphicalItems:R,offset:V,stackGroups:F},B),U)},m=function(g){function b(x){var v,y,w;return d7e(this,b),w=p7e(this,b,[x]),ze(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ze(w,"accessibilityManager",new ZVe),ze(w,"handleLegendBBoxUpdate",function(_){if(_){var E=w.state,A=E.dataStartIndex,j=E.dataEndIndex,T=E.updateId;w.setState(Q({legendBBox:_},p({props:w.props,dataStartIndex:A,dataEndIndex:j,updateId:T},Q(Q({},w.state),{},{legendBBox:_}))))}}),ze(w,"handleReceiveSyncEvent",function(_,E,A){if(w.props.syncId===_){if(A===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(E)}}),ze(w,"handleBrushChange",function(_){var E=_.startIndex,A=_.endIndex;if(E!==w.state.dataStartIndex||A!==w.state.dataEndIndex){var j=w.state.updateId;w.setState(function(){return Q({dataStartIndex:E,dataEndIndex:A},p({props:w.props,dataStartIndex:E,dataEndIndex:A,updateId:j},w.state))}),w.triggerSyncEvent({dataStartIndex:E,dataEndIndex:A})}}),ze(w,"handleMouseEnter",function(_){var E=w.getMouseInfo(_);if(E){var A=Q(Q({},E),{},{isTooltipActive:!0});w.setState(A),w.triggerSyncEvent(A);var j=w.props.onMouseEnter;Ue(j)&&j(A,_)}}),ze(w,"triggeredAfterMouseMove",function(_){var E=w.getMouseInfo(_),A=E?Q(Q({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(A),w.triggerSyncEvent(A);var j=w.props.onMouseMove;Ue(j)&&j(A,_)}),ze(w,"handleItemMouseEnter",function(_){w.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),ze(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),ze(w,"handleMouseMove",function(_){_.persist(),w.throttleTriggeredAfterMouseMove(_)}),ze(w,"handleMouseLeave",function(_){w.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};w.setState(E),w.triggerSyncEvent(E);var A=w.props.onMouseLeave;Ue(A)&&A(E,_)}),ze(w,"handleOuterEvent",function(_){var E=YTe(_),A=si(w.props,"".concat(E));if(E&&Ue(A)){var j,T;/.*touch.*/i.test(E)?T=w.getMouseInfo(_.changedTouches[0]):T=w.getMouseInfo(_),A((j=T)!==null&&j!==void 0?j:{},_)}}),ze(w,"handleClick",function(_){var E=w.getMouseInfo(_);if(E){var A=Q(Q({},E),{},{isTooltipActive:!0});w.setState(A),w.triggerSyncEvent(A);var j=w.props.onClick;Ue(j)&&j(A,_)}}),ze(w,"handleMouseDown",function(_){var E=w.props.onMouseDown;if(Ue(E)){var A=w.getMouseInfo(_);E(A,_)}}),ze(w,"handleMouseUp",function(_){var E=w.props.onMouseUp;if(Ue(E)){var A=w.getMouseInfo(_);E(A,_)}}),ze(w,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),ze(w,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.handleMouseDown(_.changedTouches[0])}),ze(w,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.handleMouseUp(_.changedTouches[0])}),ze(w,"triggerSyncEvent",function(_){w.props.syncId!==void 0&&nS.emit(rS,w.props.syncId,_,w.eventEmitterSymbol)}),ze(w,"applySyncEvent",function(_){var E=w.props,A=E.layout,j=E.syncMethod,T=w.state.updateId,C=_.dataStartIndex,k=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)w.setState(Q({dataStartIndex:C,dataEndIndex:k},p({props:w.props,dataStartIndex:C,dataEndIndex:k,updateId:T},w.state)));else if(_.activeTooltipIndex!==void 0){var O=_.chartX,L=_.chartY,R=_.activeTooltipIndex,F=w.state,U=F.offset,V=F.tooltipTicks;if(!U)return;if(typeof j=="function")R=j(V,_);else if(j==="value"){R=-1;for(var D=0;D<V.length;D++)if(V[D].value===_.activeLabel){R=D;break}}var B=Q(Q({},U),{},{x:U.left,y:U.top}),P=Math.min(O,B.x+B.width),W=Math.min(L,B.y+B.height),G=V[R]&&V[R].value,$=fT(w.state,w.props.data,R),ee=V[R]?{x:A==="horizontal"?V[R].coordinate:P,y:A==="horizontal"?W:V[R].coordinate}:MK;w.setState(Q(Q({},_),{},{activeLabel:G,activeCoordinate:ee,activePayload:$,activeTooltipIndex:R}))}else w.setState(_)}),ze(w,"renderCursor",function(_){var E,A=w.state,j=A.isTooltipActive,T=A.activeCoordinate,C=A.activePayload,k=A.offset,O=A.activeTooltipIndex,L=A.tooltipAxisBandSize,R=w.getTooltipEventType(),F=(E=_.props.active)!==null&&E!==void 0?E:j,U=w.props.layout,V=_.key||"_recharts-cursor";return M.createElement(i7e,{key:V,activeCoordinate:T,activePayload:C,activeTooltipIndex:O,chartName:n,element:_,isActive:F,layout:U,offset:k,tooltipAxisBandSize:L,tooltipEventType:R})}),ze(w,"renderPolarAxis",function(_,E,A){var j=si(_,"type.axisType"),T=si(w.state,"".concat(j,"Map")),C=_.type.defaultProps,k=C!==void 0?Q(Q({},C),_.props):_.props,O=T&&T[k["".concat(j,"Id")]];return S.cloneElement(_,Q(Q({},O),{},{className:Ke(j,O.className),key:_.key||"".concat(E,"-").concat(A),ticks:Rs(O,!0)}))}),ze(w,"renderPolarGrid",function(_){var E=_.props,A=E.radialLines,j=E.polarAngles,T=E.polarRadius,C=w.state,k=C.radiusAxisMap,O=C.angleAxisMap,L=Mo(k),R=Mo(O),F=R.cx,U=R.cy,V=R.innerRadius,D=R.outerRadius;return S.cloneElement(_,{polarAngles:Array.isArray(j)?j:Rs(R,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(T)?T:Rs(L,!0).map(function(B){return B.coordinate}),cx:F,cy:U,innerRadius:V,outerRadius:D,key:_.key||"polar-grid",radialLines:A})}),ze(w,"renderLegend",function(){var _=w.state.formattedGraphicalItems,E=w.props,A=E.children,j=E.width,T=E.height,C=w.props.margin||{},k=j-(C.left||0)-(C.right||0),O=uG({children:A,formattedGraphicalItems:_,legendWidth:k,legendContent:c});if(!O)return null;var L=O.item,R=e5(O,a7e);return S.cloneElement(L,Q(Q({},R),{},{chartWidth:j,chartHeight:T,margin:C,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),ze(w,"renderTooltip",function(){var _,E=w.props,A=E.children,j=E.accessibilityLayer,T=Yr(A,wr);if(!T)return null;var C=w.state,k=C.isTooltipActive,O=C.activeCoordinate,L=C.activePayload,R=C.activeLabel,F=C.offset,U=(_=T.props.active)!==null&&_!==void 0?_:k;return S.cloneElement(T,{viewBox:Q(Q({},F),{},{x:F.left,y:F.top}),active:U,label:R,payload:U?L:[],coordinate:O,accessibilityLayer:j})}),ze(w,"renderBrush",function(_){var E=w.props,A=E.margin,j=E.data,T=w.state,C=T.offset,k=T.dataStartIndex,O=T.dataEndIndex,L=T.updateId;return S.cloneElement(_,{key:_.key||"_recharts-brush",onChange:Ly(w.handleBrushChange,_.props.onChange),data:j,x:de(_.props.x)?_.props.x:C.left,y:de(_.props.y)?_.props.y:C.top+C.height+C.brushBottom-(A.bottom||0),width:de(_.props.width)?_.props.width:C.width,startIndex:k,endIndex:O,updateId:"brush-".concat(L)})}),ze(w,"renderReferenceElement",function(_,E,A){if(!_)return null;var j=w,T=j.clipPathId,C=w.state,k=C.xAxisMap,O=C.yAxisMap,L=C.offset,R=_.type.defaultProps||{},F=_.props,U=F.xAxisId,V=U===void 0?R.xAxisId:U,D=F.yAxisId,B=D===void 0?R.yAxisId:D;return S.cloneElement(_,{key:_.key||"".concat(E,"-").concat(A),xAxis:k[V],yAxis:O[B],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:T})}),ze(w,"renderActivePoints",function(_){var E=_.item,A=_.activePoint,j=_.basePoint,T=_.childIndex,C=_.isRange,k=[],O=E.props.key,L=E.item.type.defaultProps!==void 0?Q(Q({},E.item.type.defaultProps),E.item.props):E.item.props,R=L.activeDot,F=L.dataKey,U=Q(Q({index:T,dataKey:F,cx:A.x,cy:A.y,r:4,fill:kN(E.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Ie(R,!1)),j0(R));return k.push(b.renderActiveDot(R,U,"".concat(O,"-activePoint-").concat(T))),j?k.push(b.renderActiveDot(R,Q(Q({},U),{},{cx:j.x,cy:j.y}),"".concat(O,"-basePoint-").concat(T))):C&&k.push(null),k}),ze(w,"renderGraphicChild",function(_,E,A){var j=w.filterFormatItem(_,E,A);if(!j)return null;var T=w.getTooltipEventType(),C=w.state,k=C.isTooltipActive,O=C.tooltipAxis,L=C.activeTooltipIndex,R=C.activeLabel,F=w.props.children,U=Yr(F,wr),V=j.props,D=V.points,B=V.isRange,P=V.baseLine,W=j.item.type.defaultProps!==void 0?Q(Q({},j.item.type.defaultProps),j.item.props):j.item.props,G=W.activeDot,$=W.hide,ee=W.activeBar,ie=W.activeShape,I=!!(!$&&k&&U&&(G||ee||ie)),N={};T!=="axis"&&U&&U.props.trigger==="click"?N={onClick:Ly(w.handleItemMouseEnter,_.props.onClick)}:T!=="axis"&&(N={onMouseLeave:Ly(w.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:Ly(w.handleItemMouseEnter,_.props.onMouseEnter)});var K=S.cloneElement(_,Q(Q({},j.props),N));function z(At){return typeof O.dataKey=="function"?O.dataKey(At.payload):null}if(I)if(L>=0){var Z,J;if(O.dataKey&&!O.allowDuplicatedCategory){var Y=typeof O.dataKey=="function"?z:"payload.".concat(O.dataKey.toString());Z=E0(D,Y,R),J=B&&P&&E0(P,Y,R)}else Z=D==null?void 0:D[L],J=B&&P&&P[L];if(ie||ee){var me=_.props.activeIndex!==void 0?_.props.activeIndex:L;return[S.cloneElement(_,Q(Q(Q({},j.props),N),{},{activeIndex:me})),null,null]}if(!Ve(Z))return[K].concat(Ef(w.renderActivePoints({item:j,activePoint:Z,basePoint:J,childIndex:L,isRange:B})))}else{var le,ve=(le=w.getItemByXY(w.state.activeCoordinate))!==null&&le!==void 0?le:{graphicalItem:K},oe=ve.graphicalItem,Be=oe.item,Te=Be===void 0?_:Be,De=oe.childIndex,ae=Q(Q(Q({},j.props),N),{},{activeIndex:De});return[S.cloneElement(Te,ae),null,null]}return B?[K,null,null]:[K,null]}),ze(w,"renderCustomized",function(_,E,A){return S.cloneElement(_,Q(Q({key:"recharts-customized-".concat(A)},w.props),w.state))}),ze(w,"renderMap",{CartesianGrid:{handler:Hy,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Hy},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Hy},YAxis:{handler:Hy},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((v=x.id)!==null&&v!==void 0?v:cu("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=cq(w.triggeredAfterMouseMove,(y=x.throttleDelay)!==null&&y!==void 0?y:1e3/60),w.state={},w}return y7e(b,g),h7e(b,[{key:"componentDidMount",value:function(){var v,y;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(y=this.props.margin.top)!==null&&y!==void 0?y:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var v=this.props,y=v.children,w=v.data,_=v.height,E=v.layout,A=Yr(y,wr);if(A){var j=A.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,C=fT(this.state,w,j,T),k=this.state.tooltipTicks[j].coordinate,O=(this.state.offset.top+_)/2,L=E==="horizontal",R=L?{x:k,y:O}:{y:k,x:O},F=this.state.formattedGraphicalItems.find(function(V){var D=V.item;return D.type.name==="Scatter"});F&&(R=Q(Q({},R),F.props.points[j].tooltipPosition),C=F.props.points[j].tooltipPayload);var U={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:T,activePayload:C,activeCoordinate:R};this.setState(U),this.renderCursor(A),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(v,y){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==y.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==v.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==v.margin){var w,_;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(v){Bj([Yr(v.children,wr)],[Yr(this.props.children,wr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var v=Yr(this.props.children,wr);if(v&&typeof v.props.shared=="boolean"){var y=v.props.shared?"axis":"item";return o.indexOf(y)>=0?y:a}return a}},{key:"getMouseInfo",value:function(v){if(!this.container)return null;var y=this.container,w=y.getBoundingClientRect(),_=_De(w),E={chartX:Math.round(v.pageX-_.left),chartY:Math.round(v.pageY-_.top)},A=w.width/y.offsetWidth||1,j=this.inRange(E.chartX,E.chartY,A);if(!j)return null;var T=this.state,C=T.xAxisMap,k=T.yAxisMap,O=this.getTooltipEventType();if(O!=="axis"&&C&&k){var L=Mo(C).scale,R=Mo(k).scale,F=L&&L.invert?L.invert(E.chartX):null,U=R&&R.invert?R.invert(E.chartY):null;return Q(Q({},E),{},{xValue:F,yValue:U})}var V=n5(this.state,this.props.data,this.props.layout,j);return V?Q(Q({},E),V):null}},{key:"inRange",value:function(v,y){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,E=v/w,A=y/w;if(_==="horizontal"||_==="vertical"){var j=this.state.offset,T=E>=j.left&&E<=j.left+j.width&&A>=j.top&&A<=j.top+j.height;return T?{x:E,y:A}:null}var C=this.state,k=C.angleAxisMap,O=C.radiusAxisMap;if(k&&O){var L=Mo(k);return jL({x:E,y:A},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var v=this.props.children,y=this.getTooltipEventType(),w=Yr(v,wr),_={};w&&y==="axis"&&(w.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var E=j0(this.props,this.handleOuterEvent);return Q(Q({},E),_)}},{key:"addListener",value:function(){nS.on(rS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){nS.removeListener(rS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(v,y,w){for(var _=this.state.formattedGraphicalItems,E=0,A=_.length;E<A;E++){var j=_[E];if(j.item===v||j.props.key===v.key||y===Hs(j.item.type)&&w===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var v=this.clipPathId,y=this.state.offset,w=y.left,_=y.top,E=y.height,A=y.width;return M.createElement("defs",null,M.createElement("clipPath",{id:v},M.createElement("rect",{x:w,y:_,height:E,width:A})))}},{key:"getXScales",value:function(){var v=this.state.xAxisMap;return v?Object.entries(v).reduce(function(y,w){var _=Q4(w,2),E=_[0],A=_[1];return Q(Q({},y),{},ze({},E,A.scale))},{}):null}},{key:"getYScales",value:function(){var v=this.state.yAxisMap;return v?Object.entries(v).reduce(function(y,w){var _=Q4(w,2),E=_[0],A=_[1];return Q(Q({},y),{},ze({},E,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(v){var y;return(y=this.state.xAxisMap)===null||y===void 0||(y=y[v])===null||y===void 0?void 0:y.scale}},{key:"getYScaleByAxisId",value:function(v){var y;return(y=this.state.yAxisMap)===null||y===void 0||(y=y[v])===null||y===void 0?void 0:y.scale}},{key:"getItemByXY",value:function(v){var y=this.state,w=y.formattedGraphicalItems,_=y.activeItem;if(w&&w.length)for(var E=0,A=w.length;E<A;E++){var j=w[E],T=j.props,C=j.item,k=C.type.defaultProps!==void 0?Q(Q({},C.type.defaultProps),C.props):C.props,O=Hs(C.type);if(O==="Bar"){var L=(T.data||[]).find(function(V){return Kze(v,V)});if(L)return{graphicalItem:j,payload:L}}else if(O==="RadialBar"){var R=(T.data||[]).find(function(V){return jL(v,V)});if(R)return{graphicalItem:j,payload:R}}else if($w(j,_)||Rw(j,_)||Dm(j,_)){var F=M6e({graphicalItem:j,activeTooltipItem:_,itemData:k.data}),U=k.activeIndex===void 0?F:k.activeIndex;return{graphicalItem:Q(Q({},j),{},{childIndex:U}),payload:Dm(j,_)?k.data[F]:j.props.data[F]}}}return null}},{key:"render",value:function(){var v=this;if(!gM(this))return null;var y=this.props,w=y.children,_=y.className,E=y.width,A=y.height,j=y.style,T=y.compact,C=y.title,k=y.desc,O=e5(y,s7e),L=Ie(O,!1);if(T)return M.createElement(I4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(Uj,Sp({},L,{width:E,height:A,title:C,desc:k}),this.renderClipPath(),vM(w,this.renderMap)));if(this.props.accessibilityLayer){var R,F;L.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,L.role=(F=this.props.role)!==null&&F!==void 0?F:"application",L.onKeyDown=function(V){v.accessibilityManager.keyboardEvent(V)},L.onFocus=function(){v.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return M.createElement(I4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",Sp({className:Ke("recharts-wrapper",_),style:Q({position:"relative",cursor:"default",width:E,height:A},j)},U,{ref:function(D){v.container=D}}),M.createElement(Uj,Sp({},L,{width:E,height:A,title:C,desc:k,style:S7e}),this.renderClipPath(),vM(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(S.Component);return ze(m,"displayName",n),ze(m,"defaultProps",Q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ze(m,"getDerivedStateFromProps",function(g,b){var x=g.dataKey,v=g.data,y=g.children,w=g.width,_=g.height,E=g.layout,A=g.stackOffset,j=g.margin,T=b.dataStartIndex,C=b.dataEndIndex;if(b.updateId===void 0){var k=r5(g);return Q(Q(Q({},k),{},{updateId:0},p(Q(Q({props:g},k),{},{updateId:0}),b)),{},{prevDataKey:x,prevData:v,prevWidth:w,prevHeight:_,prevLayout:E,prevStackOffset:A,prevMargin:j,prevChildren:y})}if(x!==b.prevDataKey||v!==b.prevData||w!==b.prevWidth||_!==b.prevHeight||E!==b.prevLayout||A!==b.prevStackOffset||!xd(j,b.prevMargin)){var O=r5(g),L={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},R=Q(Q({},n5(b,v,E)),{},{updateId:b.updateId+1}),F=Q(Q(Q({},O),L),R);return Q(Q(Q({},F),p(Q({props:g},F),b)),{},{prevDataKey:x,prevData:v,prevWidth:w,prevHeight:_,prevLayout:E,prevStackOffset:A,prevMargin:j,prevChildren:y})}if(!Bj(y,b.prevChildren)){var U,V,D,B,P=Yr(y,hf),W=P&&(U=(V=P.props)===null||V===void 0?void 0:V.startIndex)!==null&&U!==void 0?U:T,G=P&&(D=(B=P.props)===null||B===void 0?void 0:B.endIndex)!==null&&D!==void 0?D:C,$=W!==T||G!==C,ee=!Ve(v),ie=ee&&!$?b.updateId:b.updateId+1;return Q(Q({updateId:ie},p(Q(Q({props:g},b),{},{updateId:ie,dataStartIndex:W,dataEndIndex:G}),b)),{},{prevChildren:y,dataStartIndex:W,dataEndIndex:G})}return null}),ze(m,"renderActiveDot",function(g,b,x){var v;return S.isValidElement(g)?v=S.cloneElement(g,b):Ue(g)?v=g(b):v=M.createElement(Pg,b),M.createElement(ot,{className:"recharts-active-dot",key:x},v)}),function(b){return M.createElement(m,b)}},I7e=Uw({chartName:"LineChart",GraphicalChild:Oc,axisComponents:[{axisType:"xAxis",AxisComp:jl},{axisType:"yAxis",AxisComp:Al}],formatAxisMap:ON}),$7e=Uw({chartName:"BarChart",GraphicalChild:Ws,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:jl},{axisType:"yAxis",AxisComp:Al}],formatAxisMap:ON}),LK=Uw({chartName:"PieChart",GraphicalChild:xs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Iw},{axisType:"radiusAxis",AxisComp:Nw}],formatAxisMap:vFe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),R7e=Uw({chartName:"AreaChart",GraphicalChild:lo,axisComponents:[{axisType:"xAxis",AxisComp:jl},{axisType:"yAxis",AxisComp:Al}],formatAxisMap:ON});const FK=()=>{var b;const[t,e]=S.useState(null),[n,r]=S.useState([]),[i,a]=S.useState([]),[s,o]=S.useState(!0),[l,c]=S.useState("all"),{toast:d}=Vt(),f=["hsl(var(--primary))","hsl(var(--secondary))","hsl(var(--accent))","hsl(var(--muted))"],h=async()=>{var x,v,y;try{o(!0);const{data:w,error:_}=await Pe.from("campaigns").select("*").order("created_at",{ascending:!1});if(_)throw _;r(w||[]);const E=await kO.analytics.get(l==="all"?void 0:l),A=(w==null?void 0:w.length)||0,j=l==="all"?w:w==null?void 0:w.filter(k=>k.id===l),T=((x=E.overview)==null?void 0:x.total_sent)||0;e({totalCampaigns:l==="all"?A:1,activeCampaigns:((v=E.overview)==null?void 0:v.active_campaigns)||0,totalCandidates:(j==null?void 0:j.reduce((k,O)=>k+(O.candidates_count||0),0))||0,messagesSent:T,callsMade:0,responsesReceived:0,conversionRate:((y=E.overview)==null?void 0:y.delivery_rate)||0});const C=(j==null?void 0:j.slice(0,7).map(k=>({name:k.name.substring(0,15)+(k.name.length>15?"...":""),messages:k.messages_sent||0,calls:k.calls_made||0,responses:k.responses_received||0,conversion:(k.responses_received||0)/(k.messages_sent||1)*100})))||[];a(C)}catch(w){console.error("Error fetching analytics:",w),d({title:"Error",description:"Failed to fetch analytics data",variant:"destructive"})}finally{o(!1)}};S.useEffect(()=>{h()},[l]),S.useEffect(()=>{const x=Pe.channel("analytics-realtime").on("postgres_changes",{event:"*",schema:"public",table:"campaign_executions"},v=>{console.log("Realtime Update:",v),h(),d({title:"New Activity",description:"Campaign data updated"})}).subscribe();return()=>{Pe.removeChannel(x)}},[]);const p=async()=>{try{d({title:"Generating PDF",description:"Please wait..."});const x=(await Ii(async()=>{const{default:T}=await import("./html2canvas.esm-CBrSDip1.js");return{default:T}},[])).default,v=(await Ii(async()=>{const{default:T}=await import("./jspdf.es.min-DTgDDsI3.js").then(C=>C.j);return{default:T}},[])).default,y=document.getElementById("analytics-dashboard");if(!y)throw new Error("Dashboard element not found");const w=await x(y,{scale:2}),_=w.toDataURL("image/png"),E=new v("p","mm","a4"),A=E.internal.pageSize.getWidth(),j=w.height*A/w.width;E.setFontSize(16),E.text("Admit AI - Campaign Analytics Report",10,10),E.addImage(_,"PNG",0,20,A,j),E.save(`analytics_report_${new Date().toISOString().split("T")[0]}.pdf`),d({title:"Success",description:"Report downloaded!"})}catch(x){console.error("Export failed",x),d({title:"Export Failed",description:"Could not generate PDF",variant:"destructive"})}},m=()=>u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"colorMessages",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:f[0],stopOpacity:.8}),u.jsx("stop",{offset:"95%",stopColor:f[0],stopOpacity:0})]}),u.jsxs("linearGradient",{id:"colorCalls",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:f[1],stopOpacity:.8}),u.jsx("stop",{offset:"95%",stopColor:f[1],stopOpacity:0})]})]}),g=[{name:"Messages Sent",value:(t==null?void 0:t.messagesSent)||0,color:f[0]},{name:"Calls Made",value:(t==null?void 0:t.callsMade)||0,color:f[1]},{name:"Responses",value:(t==null?void 0:t.responsesReceived)||0,color:f[2]}];return s&&!t?u.jsx("div",{className:"p-8",children:u.jsx(El,{})}):u.jsxs("div",{id:"analytics-dashboard",className:"space-y-6",children:[u.jsx(Ar,{children:u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold bg-ai-gradient bg-clip-text text-transparent",children:"Campaign Analytics"}),u.jsxs("p",{className:"text-muted-foreground",children:["Deep insights into your ",l==="all"?"global":"campaign"," performance"]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[u.jsx("div",{className:"w-[200px]",children:u.jsxs(ua,{value:l,onValueChange:c,children:[u.jsxs(ki,{children:[u.jsx(Iee,{className:"w-4 h-4 mr-2 text-muted-foreground"}),u.jsx(da,{placeholder:"All Campaigns"})]}),u.jsxs(Ci,{children:[u.jsx(Bt,{value:"all",children:"All Campaigns"}),n.map(x=>u.jsx(Bt,{value:x.id,children:x.name},x.id))]})]})}),u.jsxs(se,{variant:"outline",onClick:h,disabled:s,className:"hover-lift",children:[u.jsx(pl,{className:`w-4 h-4 mr-2 ${s?"animate-spin":""}`}),"Refresh"]}),u.jsxs(se,{variant:"hero",onClick:p,className:"hover-lift",children:[u.jsx(wk,{className:"w-4 h-4 mr-2"}),"Export"]})]})]})}),u.jsx(Ar,{delay:100,children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs(ne,{className:"hover-lift transition-all duration-200 border-t-4 border-t-primary",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:l==="all"?"Total Campaigns":"Campaign Status"}),u.jsx(qp,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Fe,{children:[u.jsx("div",{className:"text-2xl font-bold",children:l==="all"?t==null?void 0:t.totalCampaigns:u.jsx("span",{className:"capitalize",children:((b=n.find(x=>x.id===l))==null?void 0:b.status)||"Active"})}),u.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:l==="all"?`${t==null?void 0:t.activeCampaigns} Active currently`:"Current Status"})]})]}),u.jsxs(ne,{className:"hover-lift transition-all duration-200 border-t-4 border-t-secondary",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:"Candidates Reached"}),u.jsx($r,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Fe,{children:[u.jsx("div",{className:"text-2xl font-bold",children:(t==null?void 0:t.totalCandidates)||0}),u.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Target audience size"})]})]}),u.jsxs(ne,{className:"hover-lift transition-all duration-200 border-t-4 border-t-accent",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:"Engagement"}),u.jsx(Ds,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Fe,{children:[u.jsx("div",{className:"text-2xl font-bold",children:((t==null?void 0:t.messagesSent)||0)+((t==null?void 0:t.callsMade)||0)}),u.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[u.jsxs(jn,{variant:"outline",className:"text-xs font-normal",children:[(t==null?void 0:t.messagesSent)||0," Msgs"]}),u.jsxs(jn,{variant:"outline",className:"text-xs font-normal",children:[(t==null?void 0:t.callsMade)||0," Calls"]})]})]})]}),u.jsxs(ne,{className:"hover-lift transition-all duration-200 border-t-4 border-t-green-500",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:"Delivery Rate"}),u.jsx(Ir,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Fe,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[(t==null?void 0:t.conversionRate.toFixed(1))||0,"%"]}),u.jsx(Oi,{value:(t==null?void 0:t.conversionRate)||0,className:"mt-2 h-1"})]})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsx(Ar,{delay:200,children:u.jsxs(ne,{className:"hover-scale transition-all duration-300",children:[u.jsx(et,{children:u.jsx(tt,{children:"Performance Trends"})}),u.jsx(Fe,{children:u.jsx(mp,{width:"100%",height:300,children:u.jsxs(R7e,{data:i,children:[u.jsx(m,{}),u.jsx(wx,{strokeDasharray:"3 3",vertical:!1,opacity:.3}),u.jsx(jl,{dataKey:"name",tick:{fontSize:12},interval:0}),u.jsx(Al,{}),u.jsx(wr,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),u.jsx(lo,{type:"monotone",dataKey:"messages",stroke:f[0],fillOpacity:1,fill:"url(#colorMessages)",name:"Messages"}),u.jsx(lo,{type:"monotone",dataKey:"calls",stroke:f[1],fillOpacity:1,fill:"url(#colorCalls)",name:"Calls"})]})})})]})}),u.jsx(Ar,{delay:300,children:u.jsxs(ne,{className:"hover-scale transition-all duration-300",children:[u.jsx(et,{children:u.jsx(tt,{children:"Channel Distribution"})}),u.jsxs(Fe,{children:[u.jsx(mp,{width:"100%",height:300,children:u.jsxs(LK,{children:[u.jsx(xs,{data:g,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:g.map((x,v)=>u.jsx(Ag,{fill:x.color,stroke:"none"},`cell-${v}`))}),u.jsx(wr,{})]})}),u.jsx("div",{className:"flex justify-center gap-4 mt-4",children:g.map((x,v)=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:x.color}}),u.jsxs("span",{className:"text-sm text-muted-foreground",children:[x.name," (",x.value,")"]})]},v))})]})]})})]})]})},BK=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!1),[i,a]=S.useState(!1),{toast:s}=Vt(),{user:o}=Un(),[l,c]=S.useState({name:"",trigger:"no_response",channels:[],delay:24,template:"",active:!0}),d=[{value:"no_response",label:"No Response After Message"},{value:"email_open",label:"Email Opened"},{value:"link_click",label:"Link Clicked"},{value:"form_submit",label:"Form Submitted"},{value:"time_based",label:"Time-Based Follow-up"}],f=[{value:"whatsapp",label:"WhatsApp",icon:ci},{value:"voice",label:"Voice Call",icon:Ta},{value:"email",label:"Email",icon:ni}],h={whatsapp:"Hi {name}, I wanted to follow up on our previous message about {college}. Do you have any questions about our programs?",voice:"Hello {name}, this is a follow-up call regarding your interest in {college}. Please call us back at your convenience.",email:`Dear {name},

We noticed you showed interest in {college}. We'd love to answer any questions you might have about our programs.

Best regards,
Admissions Team`},p=async()=>{if(o){r(!0);try{const{data:v,error:y}=await Pe.from("automations").select("*").eq("user_id",o.id).order("created_at",{ascending:!1});if(y)throw y;const w=(v||[]).map(_=>{var E,A,j;return{id:_.id,name:_.name,trigger:_.trigger_type,channels:((E=_.action_config)==null?void 0:E.channels)||[],delay:((A=_.trigger_config)==null?void 0:A.delay)||24,template:((j=_.action_config)==null?void 0:j.template)||"",active:_.is_active,user_id:_.user_id}});e(w)}catch(v){console.error("Error loading automations",v),s({title:"Error",description:"Failed to load automation rules",variant:"destructive"})}finally{r(!1)}}},m=async()=>{if(o){if(!l.name||!l.template||l.channels.length===0){s({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}try{const v={user_id:o.id,name:l.name,trigger_type:l.trigger,trigger_config:{delay:l.delay},action_type:"send_campaign_message",action_config:{channels:l.channels,template:l.template},is_active:l.active},{data:y,error:w}=await Pe.from("automations").insert([v]).select().single();if(w)throw w;const _={id:y.id,name:y.name,trigger:y.trigger_type,channels:y.action_config.channels,delay:y.trigger_config.delay,template:y.action_config.template,active:y.is_active,user_id:y.user_id};e([_,...t]),c({name:"",trigger:"no_response",channels:[],delay:24,template:"",active:!0}),a(!1),s({title:"Success",description:"Automation rule created successfully"})}catch(v){console.error("Error creating automation",v),s({title:"Error",description:"Failed to save automation rule",variant:"destructive"})}}},g=async(v,y)=>{try{const{error:w}=await Pe.from("automations").update({is_active:!y}).eq("id",v);if(w)throw w;const _=t.map(E=>E.id===v?{...E,active:!E.active}:E);e(_),s({title:"Success",description:"Automation rule updated"})}catch(w){console.error("Error toggling rule:",w),s({title:"Error",description:"Failed to update rule status",variant:"destructive"})}},b=async v=>{try{const{error:y}=await Pe.from("automations").delete().eq("id",v);if(y)throw y;const w=t.filter(_=>_.id!==v);e(w),s({title:"Success",description:"Automation rule deleted"})}catch(y){console.error("Error deleting rule:",y),s({title:"Error",description:"Failed to delete rule",variant:"destructive"})}},x=v=>{c(y=>({...y,channels:y.channels.includes(v)?y.channels.filter(w=>w!==v):[...y.channels,v],template:y.channels.includes(v)?y.template:h[v]||y.template}))};return S.useEffect(()=>{p()},[o]),n?u.jsx("div",{className:"flex items-center justify-center p-8",children:u.jsx(El,{})}):u.jsxs("div",{className:"space-y-6",children:[u.jsx(Ar,{children:u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold bg-ai-gradient bg-clip-text text-transparent",children:"Campaign Automation"}),u.jsx("p",{className:"text-muted-foreground",children:"Set up automated follow-ups and drip campaigns"})]}),u.jsxs(se,{onClick:()=>a(!0),variant:"hero",className:"hover-lift",children:[u.jsx(np,{className:"w-4 h-4 mr-2"}),"New Automation Rule"]}),u.jsx(se,{variant:"ghost",size:"icon",className:"rounded-full",onClick:()=>{s({title:"How Automation Works",description:`1. Create a Rule (e.g. 'No Response').
2. Set a Delay (e.g. 24h).
3. If condition met, System sends your Template.`,duration:6e3})},children:u.jsx("div",{className:"flex h-6 w-6 items-center justify-center rounded-full border border-muted-foreground/30",children:u.jsx("span",{className:"text-xs font-bold text-muted-foreground",children:"?"})})})]})}),u.jsx(Ar,{delay:100,children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs(ne,{className:"hover-lift",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:"Active Rules"}),u.jsx(Fr,{className:"h-4 w-4 text-primary"})]}),u.jsxs(Fe,{children:[u.jsx("div",{className:"text-2xl font-bold",children:t.filter(v=>v.active).length}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Out of ",t.length," total rules"]})]})]}),u.jsxs(ne,{className:"hover-lift",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:"Avg Delay"}),u.jsx(hl,{className:"h-4 w-4 text-secondary"})]}),u.jsxs(Fe,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.length>0?Math.round(t.reduce((v,y)=>v+y.delay,0)/t.length):0,"h"]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Average follow-up delay"})]})]}),u.jsxs(ne,{className:"hover-lift",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:"Multi-Channel"}),u.jsx($r,{className:"h-4 w-4 text-accent"})]}),u.jsxs(Fe,{children:[u.jsx("div",{className:"text-2xl font-bold",children:t.filter(v=>v.channels.length>1).length}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Rules using multiple channels"})]})]})]})}),i&&u.jsx(Ar,{children:u.jsxs(ne,{className:"border-primary/20",children:[u.jsx(et,{children:u.jsxs(tt,{className:"flex items-center gap-2",children:[u.jsx(eg,{className:"w-5 h-5"}),"Create Automation Rule"]})}),u.jsxs(Fe,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"rule-name",children:"Rule Name"}),u.jsx(Ut,{id:"rule-name",placeholder:"e.g., WhatsApp Follow-up",value:l.name,onChange:v=>c(y=>({...y,name:v.target.value}))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"trigger",children:"Trigger Event"}),u.jsxs(ua,{value:l.trigger,onValueChange:v=>c(y=>({...y,trigger:v})),children:[u.jsx(ki,{children:u.jsx(da,{})}),u.jsx(Ci,{children:d.map(v=>u.jsx(Bt,{value:v.value,children:v.label},v.value))})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{children:"Communication Channels"}),u.jsx("div",{className:"flex flex-wrap gap-3",children:f.map(v=>{const y=v.icon,w=l.channels.includes(v.value);return u.jsxs("div",{className:`flex items-center space-x-2 p-3 border rounded-lg cursor-pointer transition-all hover-lift ${w?"border-primary bg-primary/10":"border-border"}`,onClick:()=>x(v.value),children:[u.jsx(y,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:v.label})]},v.value)})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"delay",children:"Delay (hours)"}),u.jsx(Ut,{id:"delay",type:"number",min:"1",max:"168",value:l.delay,onChange:v=>c(y=>({...y,delay:parseInt(v.target.value)||24}))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"template",children:"Message Template"}),u.jsx(iu,{id:"template",placeholder:"Use {name}, {college}, etc. for personalization",value:l.template,onChange:v=>c(y=>({...y,template:v.target.value})),rows:4})]}),u.jsx(dO,{}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(ei,{id:"active",checked:l.active,onCheckedChange:v=>c(y=>({...y,active:v}))}),u.jsx(Ge,{htmlFor:"active",children:"Activate immediately"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(se,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),u.jsx(se,{onClick:m,variant:"hero",className:"hover-lift",children:"Create Rule"})]})]})]})]})}),u.jsx(Ar,{delay:200,children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Automation Rules"}),t.length===0?u.jsx(ne,{children:u.jsxs(Fe,{className:"text-center py-8",children:[u.jsx(Fr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),u.jsx("p",{className:"text-muted-foreground",children:"No automation rules created yet"}),u.jsx(se,{variant:"outline",className:"mt-4",onClick:()=>a(!0),children:"Create Your First Rule"})]})}):t.map((v,y)=>{var w;return u.jsx(Ar,{delay:300+y*50,children:u.jsx(ne,{className:"hover-scale transition-all duration-200",children:u.jsxs(Fe,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-3 h-3 rounded-full ${v.active?"bg-green-500":"bg-gray-400"}`}),u.jsx("h4",{className:"font-semibold",children:v.name}),u.jsx(jn,{variant:"secondary",children:(w=d.find(_=>_.value===v.trigger))==null?void 0:w.label})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(se,{variant:"ghost",size:"sm",onClick:()=>g(v.id,v.active),className:"hover-lift",children:v.active?u.jsx(jB,{className:"w-4 h-4"}):u.jsx(Ls,{className:"w-4 h-4"})}),u.jsx(se,{variant:"ghost",size:"sm",onClick:()=>b(v.id),className:"hover-lift text-destructive",children:u.jsx(jk,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Channels:"}),u.jsx("div",{className:"flex gap-1 mt-1",children:v.channels.map(_=>{const E=f.find(j=>j.value===_),A=(E==null?void 0:E.icon)||ci;return u.jsxs(jn,{variant:"outline",className:"text-xs",children:[u.jsx(A,{className:"w-3 h-3 mr-1"}),E==null?void 0:E.label]},_)})})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Delay:"}),u.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[u.jsx(hl,{className:"w-3 h-3"}),v.delay," hours"]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Status:"}),u.jsx("div",{className:"mt-1",children:u.jsx(jn,{variant:v.active?"default":"secondary",children:v.active?"Active":"Paused"})})]})]}),u.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50",children:[u.jsx("span",{className:"text-muted-foreground text-sm",children:"Template Preview:"}),u.jsx("p",{className:"text-sm mt-1 line-clamp-2",children:v.template})]})]})})},v.id)})]})})]})},zK=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState("default"),[i,a]=S.useState({campaignUpdates:!0,newResponses:!0,scheduleReminders:!0,weeklyReports:!1}),[s,o]=S.useState([]),{toast:l}=Vt(),{user:c}=Un(),d=S.useCallback(async()=>{if(c)try{const{data:y,error:w}=await Pe.from("profiles").select("notifications_enabled, email_alerts, sms_alerts").eq("user_id",c.id).single();if(w&&w.code!=="PGRST116"){console.error("Error loading notification settings:",w);return}y&&a(_=>({..._,campaignUpdates:y.notifications_enabled??!0,newResponses:y.email_alerts??!0,scheduleReminders:y.sms_alerts??!1}))}catch(y){console.error("Error loading notification settings:",y)}},[c]),f=S.useCallback(async()=>{if(c)try{const{data:y,error:w}=await Pe.from("notifications").select("*").eq("user_id",c.id).order("created_at",{ascending:!1}).limit(20);if(w)throw w;o(y||[])}catch(y){console.error("Error loading notifications:",y)}},[c]),h=S.useCallback(()=>{if(!c)return;const y=Pe.channel("public:notifications").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${c.id}`},w=>{if(console.log("Real-time notification update:",w),w.eventType==="INSERT"){const _=w.new;o(E=>[_,...E]),Notification.permission==="granted"&&new Notification(_.title,{body:_.message,icon:"/favicon.ico"})}else if(w.eventType==="UPDATE"){const _=w.new;o(E=>E.map(A=>A.id===_.id?_:A))}else if(w.eventType==="DELETE"){const _=w.old.id;o(E=>E.filter(A=>A.id!==_))}}).subscribe();return()=>{Pe.removeChannel(y)}},[c]);S.useEffect(()=>{p();let y;return c&&(d(),f(),y=h()),()=>{y==null||y()}},[c,d,f,h]);const p=async()=>{if(!("Notification"in window)){l({title:"Not Supported",description:"Your browser does not support notifications",variant:"destructive"});return}try{const y=await Notification.requestPermission();r(y),y==="granted"?(e(!0),new Notification("AdmitConnect AI",{body:"Notifications enabled! You'll now receive updates about your campaigns.",icon:"/favicon.ico",badge:"/favicon.ico"}),l({title:"Success",description:"Browser notifications enabled successfully!"}),await m({...i,campaignUpdates:!0})):l({title:"Permission Denied",description:"Please enable notifications in your browser settings",variant:"destructive"})}catch(y){console.error("Error requesting notification permission:",y),l({title:"Error",description:"Failed to enable notifications",variant:"destructive"})}},m=async y=>{if(c)try{const{error:w}=await Pe.from("profiles").update({notifications_enabled:y.campaignUpdates,email_alerts:y.newResponses,sms_alerts:y.scheduleReminders}).eq("user_id",c.id);if(w)throw w;a(y),l({title:"Settings Updated",description:"Notification preferences saved successfully"})}catch(w){console.error("Error updating notification settings:",w),l({title:"Error",description:"Failed to update notification settings",variant:"destructive"})}},g=async()=>{if(c)try{const{error:y}=await Pe.from("notifications").insert({user_id:c.id,title:"Test Notification",message:"This is a test notification from AdmitConnect AI",type:"info"});if(y)throw y;l({title:"Sent",description:"Test notification sent to database"})}catch(y){console.error("Error sending test notification:",y),l({title:"Error",description:"Failed to send test notification",variant:"destructive"})}},b=(y,w)=>{const _={...i,[y]:w};m(_)},x=async y=>{try{const{error:w}=await Pe.from("notifications").update({read:!0}).eq("id",y);if(w)throw w}catch(w){console.error("Error marking as read:",w)}},v=async y=>{try{const{error:w}=await Pe.from("notifications").delete().eq("id",y);if(w)throw w}catch(w){console.error("Error deleting notification:",w)}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold bg-ai-gradient bg-clip-text text-transparent mb-2",children:"Notification Center"}),u.jsx("p",{className:"text-muted-foreground",children:"Stay updated with real-time alerts about your campaigns and responses"})]}),u.jsxs(ne,{className:"hover-scale transition-all duration-200",children:[u.jsx(et,{children:u.jsxs(tt,{className:"flex items-center gap-2",children:[u.jsx(fE,{className:"w-5 h-5"}),"Browser Notifications"]})}),u.jsxs(Fe,{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"font-medium",children:"Push Notifications"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Get instant updates directly in your browser"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(jn,{variant:n==="granted"?"default":"secondary",children:n==="granted"?"Enabled":"Disabled"}),n!=="granted"&&u.jsx(se,{onClick:p,variant:"hero",size:"sm",className:"hover-lift",children:"Enable"})]})]}),u.jsx("div",{className:"pt-4 border-t",children:u.jsx(se,{variant:"outline",size:"sm",onClick:g,className:"hover-lift",children:"Send Test Notification"})})]})]}),u.jsxs(ne,{className:"hover-scale transition-all duration-200",children:[u.jsx(et,{children:u.jsx(tt,{children:"Notification Preferences"})}),u.jsxs(Fe,{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Ge,{className:"flex items-center gap-2",children:[u.jsx(Ir,{className:"w-4 h-4"}),"Campaign Updates"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications when campaigns start, complete, or need attention"})]}),u.jsx(ei,{checked:i.campaignUpdates,onCheckedChange:y=>b("campaignUpdates",y),disabled:n!=="granted"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Ge,{className:"flex items-center gap-2",children:[u.jsx(ci,{className:"w-4 h-4"}),"New Responses"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Immediate alerts when candidates respond to your outreach"})]}),u.jsx(ei,{checked:i.newResponses,onCheckedChange:y=>b("newResponses",y),disabled:n!=="granted"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Ge,{className:"flex items-center gap-2",children:[u.jsx(Wp,{className:"w-4 h-4"}),"Schedule Reminders"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Reminders for upcoming deadlines and follow-ups"})]}),u.jsx(ei,{checked:i.scheduleReminders,onCheckedChange:y=>b("scheduleReminders",y),disabled:n!=="granted"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Ge,{className:"flex items-center gap-2",children:[u.jsx(fE,{className:"w-4 h-4"}),"Weekly Reports"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Weekly summary of campaign performance and metrics"})]}),u.jsx(ei,{checked:i.weeklyReports,onCheckedChange:y=>b("weeklyReports",y),disabled:n!=="granted"})]})]})]}),u.jsxs(ne,{className:"hover-scale transition-all duration-200",children:[u.jsx(et,{children:u.jsx(tt,{children:"Recent Notifications"})}),u.jsx(Fe,{children:u.jsx("div",{className:"space-y-3",children:s.length===0?u.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No notifications yet"}):s.map(y=>u.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg transition-colors ${y.read?"bg-muted/30":"bg-muted/80"}`,children:[u.jsx("div",{className:`w-2 h-2 mt-2 rounded-full flex-shrink-0 ${y.type==="success"?"bg-green-500":y.type==="error"?"bg-red-500":y.type==="warning"?"bg-orange-500":"bg-blue-500"}`}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:`text-sm font-medium ${y.read?"text-muted-foreground":"text-foreground"}`,children:y.title}),u.jsx("p",{className:"text-sm text-muted-foreground",children:y.message}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[new Date(y.created_at).toLocaleTimeString(),"  ",new Date(y.created_at).toLocaleDateString()]})]}),u.jsxs("div",{className:"flex gap-1",children:[!y.read&&u.jsx(se,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>x(y.id),title:"Mark as read",children:u.jsx(Xx,{className:"w-3 h-3"})}),u.jsx(se,{variant:"ghost",size:"icon",className:"h-6 w-6 text-destructive",onClick:()=>v(y.id),title:"Delete",children:u.jsx(jk,{className:"w-3 h-3"})})]})]},y.id))})})]})]})},UK=({campaign:t,onExecutionComplete:e})=>{var x;const[n,r]=S.useState((t==null?void 0:t.id)||""),[i,a]=S.useState(""),[s,o]=S.useState(0),[l,c]=S.useState(!1),[d,f]=S.useState(t?[t]:[]),{toast:h}=Vt(),{user:p}=Un(),m=async()=>{if(!p)return;const{data:v}=await Pe.from("campaigns").select("id, name, candidates_count, status").eq("user_id",p.id).order("created_at",{ascending:!1});v&&f(v)};S.useEffect(()=>{m()},[p]);const g=[{value:"email",label:"Email Only",icon:ni,color:"text-orange-500"},{value:"whatsapp",label:"WhatsApp Only",icon:ci,color:"text-green-500"},{value:"voice",label:"Voice Only",icon:Ta,color:"text-blue-500"},{value:"email_whatsapp",label:"Email + WhatsApp",icon:$r,color:"text-purple-500"},{value:"voice_whatsapp",label:"Voice + WhatsApp",icon:$r,color:"text-indigo-500"},{value:"email_voice",label:"Email + Voice",icon:$r,color:"text-pink-500"}],b=async()=>{if(!n){h({title:"Select a Campaign",variant:"destructive"});return}if(!i){h({title:"Select Execution Strategy",variant:"destructive"});return}c(!0);try{let v=[];i==="email"?v=["email"]:i==="whatsapp"?v=["whatsapp"]:i==="voice"?v=["voice"]:i==="email_whatsapp"?v=["email","whatsapp"]:i==="voice_whatsapp"?v=["voice","whatsapp"]:i==="email_voice"&&(v=["email","voice"]);const{api:y}=await Ii(async()=>{const{api:w}=await Promise.resolve().then(()=>CO);return{api:w}},void 0);await Pe.from("campaigns").update({channels:v}).eq("id",n),await y.campaigns.execute(n),h({title:"Campaign Started",description:`Executing ${i} strategy.`}),e==null||e()}catch(v){console.error("Campaign execution error:",v),h({title:"Execution Failed",description:v.message,variant:"destructive"})}finally{c(!1)}};return u.jsxs(ne,{className:"border-primary/20",children:[u.jsx(et,{children:u.jsxs(tt,{className:"flex items-center gap-2",children:[u.jsx(Fr,{className:"w-5 h-5 text-primary"}),"Campaign Execution Center"]})}),u.jsxs(Fe,{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{children:"Select Target Campaign"}),u.jsxs(ua,{value:n,onValueChange:r,children:[u.jsx(ki,{children:u.jsx(da,{placeholder:"Choose a campaign..."})}),u.jsx(Ci,{children:d.map(v=>u.jsxs(Bt,{value:v.id,children:[v.name," (",v.candidates_count," candidates)"]},v.id))})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(Ge,{className:"text-base font-medium",children:"Select Execution Strategy"}),u.jsx("div",{className:"grid grid-cols-2 gap-3",children:g.map(v=>{const y=v.icon,w=i===v.value;return u.jsxs("div",{className:`flex items-center space-x-2 p-3 border rounded-lg cursor-pointer transition-all hover:bg-accent ${w?"border-primary bg-primary/10 ring-1 ring-primary":"border-border"}`,onClick:()=>a(v.value),children:[u.jsx(y,{className:`w-4 h-4 ${v.color}`}),u.jsx("span",{className:"text-sm font-medium",children:v.label})]},v.value)})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"delay",className:"text-base font-medium",children:"Delay (minutes)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(hl,{className:"w-4 h-4 text-muted-foreground"}),u.jsx(Ut,{id:"delay",type:"number",min:"0",max:"1440",value:s,onChange:v=>o(parseInt(v.target.value)||0),className:"w-24"})]})]}),u.jsx(se,{onClick:b,disabled:l||!i,className:"w-full",variant:"hero",children:l?u.jsxs(u.Fragment,{children:[u.jsx(El,{size:"sm",className:"mr-2"}),"Executing Campaign..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Execute Campaign"]})}),i&&u.jsxs("div",{className:"text-sm text-muted-foreground text-center",children:["Will execute: ",(x=g.find(v=>v.value===i))==null?void 0:x.label,s>0&&` with ${s}min delay`]})]})]})},M7e=()=>{var v;const t=pi(),{user:e,signOut:n}=Un(),{toast:r}=Vt(),[i,a]=S.useState(null),[s,o]=S.useState("overview"),[l,c]=S.useState(!1),[d,f]=S.useState(!1),[h,p]=S.useState([]),[m,g]=S.useState({totalCampaigns:0,messagesSent:0,callsMade:0,responseRate:0});S.useEffect(()=>{b()},[e]),S.useEffect(()=>{const y=Pe.channel("dashboard-analytics").on("postgres_changes",{event:"INSERT",schema:"public",table:"campaign_analytics"},w=>{console.log("Real-time analytics update:",w),r({title:"New Activity",description:`Agent ${w.new.channel} reported: ${w.new.status}`}),b()}).subscribe();return()=>{Pe.removeChannel(y)}},[]);const b=async()=>{if(e)try{const{data:y,error:w}=await Pe.from("campaigns").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(w)throw w;p(y||[]);const _=(y==null?void 0:y.length)||0,E=(y==null?void 0:y.reduce((k,O)=>k+(O.messages_sent||0),0))||0,A=(y==null?void 0:y.reduce((k,O)=>k+(O.calls_made||0),0))||0,j=(y==null?void 0:y.reduce((k,O)=>k+(O.responses_received||0),0))||0,T=E+A,C=T>0?Math.round(j/T*100):0;g({totalCampaigns:_,messagesSent:E,callsMade:A,responseRate:C})}catch(y){console.error("Error loading dashboard data:",y),r({title:"Error loading data",description:"Failed to load dashboard data. Please refresh the page.",variant:"destructive"})}},x=async()=>{try{await n(),t("/")}catch(y){console.error("Error signing out:",y),r({title:"Sign out failed",description:"Please try again",variant:"destructive"})}};return u.jsxs("div",{className:"min-h-screen bg-ai-gradient-subtle",children:[u.jsx("div",{className:"bg-card/50 backdrop-blur-sm border-b border-border/50 sticky top-0 z-40",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-ai-gradient rounded-lg flex items-center justify-center",children:u.jsx(pa,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-lg font-semibold",children:"AdmitConnect AI"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Dashboard"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(se,{variant:"outline",size:"sm",onClick:()=>f(!0),children:[u.jsx(Ir,{className:"w-4 h-4 mr-2"}),"Upgrade"]}),u.jsx(se,{variant:"ghost",size:"sm",onClick:()=>c(!0),children:u.jsx(eg,{className:"w-4 h-4"})}),u.jsx(se,{variant:"ghost",size:"sm",onClick:x,children:u.jsx(_k,{className:"w-4 h-4"})})]})]})})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("h2",{className:"text-2xl font-bold mb-2",children:["Welcome back, ",((v=e==null?void 0:e.user_metadata)==null?void 0:v.full_name)||(e==null?void 0:e.email),"! "]}),u.jsx("p",{className:"text-muted-foreground",children:"Manage your admission campaigns and track performance from your dashboard."})]}),u.jsxs(au,{value:s,onValueChange:o,className:"space-y-6",children:[u.jsxs(Fl,{className:"grid w-full grid-cols-5",children:[u.jsx(mt,{value:"overview",children:"Overview"}),u.jsx(mt,{value:"campaigns",children:"Campaigns"}),u.jsx(mt,{value:"analytics",children:"Analytics"}),u.jsx(mt,{value:"automation",children:"Automation"}),u.jsx(mt,{value:"notifications",children:"Notifications"})]}),u.jsxs(gt,{value:"overview",className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[u.jsx(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Sc,{className:"w-5 h-5 text-blue-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Campaigns"}),u.jsx("p",{className:"text-2xl font-bold",children:m.totalCampaigns})]})]})}),u.jsx(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:u.jsx(ci,{className:"w-5 h-5 text-green-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Messages Sent"}),u.jsx("p",{className:"text-2xl font-bold",children:m.messagesSent})]})]})}),u.jsx(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Ta,{className:"w-5 h-5 text-purple-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Calls Made"}),u.jsx("p",{className:"text-2xl font-bold",children:m.callsMade})]})]})}),u.jsx(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-orange-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Ir,{className:"w-5 h-5 text-orange-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Response Rate"}),u.jsxs("p",{className:"text-2xl font-bold",children:[m.responseRate,"%"]})]})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Recent Campaigns"}),u.jsxs(se,{onClick:()=>a("create-campaign"),variant:"hero",children:[u.jsx(np,{className:"w-4 h-4 mr-2"}),"New Campaign"]})]}),h.length===0?u.jsxs(ne,{className:"p-8 text-center bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx(Sc,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No campaigns yet"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first campaign to start reaching prospective students."}),u.jsx(se,{onClick:()=>a("create-campaign"),variant:"hero",children:"Create Your First Campaign"})]}):u.jsxs("div",{className:"space-y-4",children:[h.slice(0,3).map(y=>u.jsx(Dj,{campaign:y,onUpdate:b},y.id)),h.length>3&&u.jsxs(ne,{className:"p-4 text-center bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("p",{className:"text-muted-foreground",children:["+",h.length-3," more campaigns"]}),u.jsx(se,{variant:"ghost",size:"sm",className:"mt-2",onClick:()=>o("campaigns"),children:"View All Campaigns"})]})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsx(C1e,{campaigns:h,stats:m}),u.jsxs(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[u.jsx(Fr,{className:"w-5 h-5 text-primary"}),"Quick Actions"]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(se,{variant:"outline",className:"w-full justify-start",onClick:()=>a("upload-candidates"),children:[u.jsx(Ak,{className:"w-4 h-4 mr-2"}),"Upload Candidates"]}),u.jsxs(se,{variant:"outline",className:"w-full justify-start",onClick:()=>a("create-campaign"),children:[u.jsx(np,{className:"w-4 h-4 mr-2"}),"Create Campaign"]}),h.length>0&&u.jsxs(se,{variant:"outline",className:"w-full justify-start",onClick:()=>a("execute-campaign"),children:[u.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Execute Campaign"]}),u.jsxs(se,{variant:"outline",className:"w-full justify-start",onClick:()=>f(!0),children:[u.jsx(Ir,{className:"w-4 h-4 mr-2"}),"Upgrade Plan"]})]})]})]})]})]}),u.jsxs(gt,{value:"campaigns",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"All Campaigns"}),u.jsxs(se,{onClick:()=>a("create-campaign"),variant:"hero",children:[u.jsx(np,{className:"w-4 h-4 mr-2"}),"New Campaign"]})]}),h.length===0?u.jsxs(ne,{className:"p-8 text-center bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx(Sc,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No campaigns yet"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first campaign to start reaching prospective students."}),u.jsx(se,{onClick:()=>a("create-campaign"),variant:"hero",children:"Create Your First Campaign"})]}):u.jsx("div",{className:"grid grid-cols-1 gap-4",children:h.map(y=>u.jsx(Dj,{campaign:y,onUpdate:b},y.id))})]}),u.jsx(gt,{value:"analytics",children:u.jsx(FK,{})}),u.jsx(gt,{value:"automation",children:u.jsx(BK,{})}),u.jsx(gt,{value:"notifications",children:u.jsx(zK,{})})]})]}),u.jsx(ai,{open:i==="create-campaign",onOpenChange:y=>!y&&a(null),children:u.jsxs(Mr,{className:"max-w-2xl",children:[u.jsx(Dr,{children:u.jsx(Lr,{children:"Create New Campaign"})}),u.jsx(IV,{onCampaignCreated:()=>{a(null),b()}})]})}),u.jsx(ai,{open:i==="upload-candidates",onOpenChange:y=>!y&&a(null),children:u.jsxs(Mr,{className:"max-w-2xl",children:[u.jsx(Dr,{children:u.jsx(Lr,{children:"Upload Candidates"})}),u.jsx(PV,{onUploadComplete:()=>{a(null),b()}})]})}),u.jsx(ai,{open:i==="execute-campaign",onOpenChange:y=>!y&&a(null),children:u.jsxs(Mr,{className:"max-w-2xl",children:[u.jsx(Dr,{children:u.jsx(Lr,{children:"Execute Campaign"})}),h.length>0&&u.jsx(UK,{campaign:h[0],onExecutionComplete:()=>{a(null),b(),r({title:"Campaign Executed",description:"Your campaign is now running across selected channels"})}})]})}),u.jsx(xO,{open:l,onOpenChange:c}),u.jsx(OO,{open:d,onOpenChange:f})]})},D7e=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState(!1);return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(fO,{onContactClick:()=>e(!0),onScheduleClick:()=>r(!0)}),u.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:u.jsxs("div",{className:"text-center space-y-6",children:[u.jsx("h1",{className:"text-4xl md:text-6xl font-bold",children:u.jsx("span",{className:"bg-ai-gradient bg-clip-text text-transparent",children:"About AdmitConnect AI"})}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Revolutionizing college admissions through AI-powered automation, personalized outreach, and intelligent campaign management."})]})}),u.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Our Mission"}),u.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:"We empower educational institutions to connect with prospective students through intelligent automation, personalized messaging, and data-driven insights."}),u.jsx("p",{className:"text-lg text-muted-foreground",children:"Our platform combines cutting-edge AI technology with proven admission strategies to help colleges and universities scale their outreach efforts while maintaining a personal touch."})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx(qp,{className:"w-8 h-8 text-primary mb-4"}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Targeted Outreach"}),u.jsx("p",{className:"text-muted-foreground",children:"Reach the right students with personalized messaging that resonates with their interests and goals."})]}),u.jsxs(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx(Fr,{className:"w-8 h-8 text-primary mb-4"}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Automated Efficiency"}),u.jsx("p",{className:"text-muted-foreground",children:"Save time and resources while increasing your reach with intelligent automation that works 24/7."})]})]})]})}),u.jsx("section",{className:"py-16 bg-ai-gradient-subtle",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Making an Impact"}),u.jsx("p",{className:"text-xl text-muted-foreground",children:"See how we're transforming college admissions nationwide"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent mb-2",children:"500+"}),u.jsx("p",{className:"text-muted-foreground",children:"Colleges Served"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent mb-2",children:"2M+"}),u.jsx("p",{className:"text-muted-foreground",children:"Students Reached"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent mb-2",children:"85%"}),u.jsx("p",{className:"text-muted-foreground",children:"Response Rate"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent mb-2",children:"98%"}),u.jsx("p",{className:"text-muted-foreground",children:"Client Satisfaction"})]})]})]})}),u.jsxs("section",{className:"py-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Meet the AdmitConnect AI Team"}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto mb-8",children:"Our passionate team of AI experts, educators, and developers is dedicated to revolutionizing the college admission process."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[u.jsx(se,{size:"lg",variant:"hero",onClick:()=>window.open("/admit-ai-nexus/our-services","_blank"),className:"text-lg px-8 py-3",children:"Learn More About Our Services"}),u.jsxs(se,{size:"lg",variant:"outline",onClick:()=>e(!0),className:"text-lg px-8 py-3",children:[u.jsx(ni,{className:"w-5 h-5 mr-2"}),"Contact Us"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs(ne,{className:"p-6 text-center bg-card/50 backdrop-blur-sm border-border/50 hover:shadow-xl transition-all duration-300",children:[u.jsx("div",{className:"w-20 h-20 bg-ai-gradient rounded-full mx-auto mb-4 flex items-center justify-center",children:u.jsx($r,{className:"w-10 h-10 text-white"})}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"AI & Technology"}),u.jsx("p",{className:"text-muted-foreground",children:"Cutting-edge AI researchers and engineers building the future of educational technology."})]}),u.jsxs(ne,{className:"p-6 text-center bg-card/50 backdrop-blur-sm border-border/50 hover:shadow-xl transition-all duration-300",children:[u.jsx("div",{className:"w-20 h-20 bg-ai-gradient rounded-full mx-auto mb-4 flex items-center justify-center",children:u.jsx(qp,{className:"w-10 h-10 text-white"})}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Education Experts"}),u.jsx("p",{className:"text-muted-foreground",children:"Former admissions counselors and education professionals who understand the industry."})]}),u.jsxs(ne,{className:"p-6 text-center bg-card/50 backdrop-blur-sm border-border/50 hover:shadow-xl transition-all duration-300",children:[u.jsx("div",{className:"w-20 h-20 bg-ai-gradient rounded-full mx-auto mb-4 flex items-center justify-center",children:u.jsx(Fr,{className:"w-10 h-10 text-white"})}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Customer Success"}),u.jsx("p",{className:"text-muted-foreground",children:"Dedicated support team ensuring every client achieves their enrollment goals."})]})]})]}),u.jsx("section",{className:"py-16 bg-card/50",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[u.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Get in Touch"}),u.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Ready to transform your admissions process? Let's discuss how AdmitConnect AI can help your institution thrive."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsxs(se,{variant:"hero",size:"lg",onClick:()=>r(!0),className:"hover-lift",children:[u.jsx(Wp,{className:"w-5 h-5 mr-2"}),"Schedule Demo"]}),u.jsxs(se,{variant:"outline",size:"lg",onClick:()=>e(!0),className:"hover-lift",children:[u.jsx(ni,{className:"w-5 h-5 mr-2"}),"Contact Sales"]})]}),u.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-2 gap-8 max-w-2xl mx-auto",children:[u.jsxs("a",{href:"mailto:admitconnectAI@gmail.com",className:"flex flex-col items-center p-6 bg-card rounded-lg border border-border/50 hover:border-primary/50 transition-all hover:shadow-lg group",children:[u.jsx(ni,{className:"w-12 h-12 text-primary mb-4 group-hover:scale-110 transition-transform"}),u.jsx("h3",{className:"font-semibold mb-2",children:"Email"}),u.jsx("p",{className:"text-muted-foreground text-sm text-center break-all",children:"admitconnectAI@gmail.com"})]}),u.jsxs("a",{href:"https://wa.me/918439663198",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center p-6 bg-card rounded-lg border border-border/50 hover:border-primary/50 transition-all hover:shadow-lg group",children:[u.jsx(qv,{className:"w-12 h-12 text-primary mb-4 group-hover:scale-110 transition-transform"}),u.jsx("h3",{className:"font-semibold mb-2",children:"WhatsApp"}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"+91 8439663198"})]})]})]})}),u.jsx(pO,{open:t,onOpenChange:e}),u.jsx(Gb,{open:n,onOpenChange:r}),u.jsx(EH,{}),u.jsx(cV,{})]})},L7e=()=>{pi();const[t,e]=S.useState(!1),[n,r]=S.useState(!1),i=[{icon:Zs,title:"AI-Driven Admission Counseling",description:"Intelligent guidance powered by advanced AI algorithms",features:["Personalized course recommendations","University matching based on profile","Real-time admission probability analysis","Document requirement tracking","Application timeline management"],color:"blue"},{icon:ci,title:"WhatsApp Automation",description:"Natural language communication at scale",features:["24/7 automated responses","Natural conversation flow","Multi-language support","Smart follow-up sequences","Rich media sharing"],color:"green"},{icon:Ta,title:"Voice Call Automation",description:"Intelligent voice interactions with prospective students",features:["AI-powered voice calls","Natural speech recognition","Appointment scheduling","Call quality analytics","Integration with CRM systems"],color:"purple"},{icon:fl,title:"Analytics Dashboard",description:"Comprehensive insights and performance tracking",features:["Real-time engagement metrics","Conversion rate tracking","Student journey analytics","ROI measurement","Custom reporting"],color:"orange"}],a=[{icon:qp,title:"Increased Conversion",description:"Up to 40% improvement in lead conversion rates"},{icon:hl,title:"24/7 Availability",description:"Round-the-clock student support and engagement"},{icon:$r,title:"Scalable Operations",description:"Handle thousands of inquiries simultaneously"},{icon:AB,title:"Data Security",description:"Enterprise-grade security and privacy protection"},{icon:Fr,title:"Quick Implementation",description:"Get started in under 48 hours"},{icon:hE,title:"Global Reach",description:"Multi-language support for international students"}],s=o=>{const l={blue:"bg-blue-500/10 text-blue-500 border-blue-500/20",green:"bg-green-500/10 text-green-500 border-green-500/20",purple:"bg-purple-500/10 text-purple-500 border-purple-500/20",orange:"bg-orange-500/10 text-orange-500 border-orange-500/20"};return l[o]||l.blue};return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(fO,{onContactClick:()=>e(!0),onScheduleClick:()=>r(!0)}),u.jsx("section",{className:"pt-24 pb-16 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[u.jsxs(jn,{variant:"outline",className:"mb-6 px-4 py-2",children:[u.jsx(Ek,{className:"w-4 h-4 mr-2"}),"Comprehensive AI Solutions"]}),u.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 bg-ai-gradient bg-clip-text text-transparent",children:"Our Services"}),u.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-3xl mx-auto",children:"Transform your admission process with our suite of AI-powered tools designed to engage, convert, and retain prospective students at scale."})]})}),u.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:i.map((o,l)=>u.jsxs(ne,{className:"relative overflow-hidden group hover:shadow-2xl transition-all duration-300 border-border/50 bg-card/50 backdrop-blur-sm",children:[u.jsxs(et,{className:"pb-4",children:[u.jsx("div",{className:`w-16 h-16 rounded-xl ${s(o.color)} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300`,children:u.jsx(o.icon,{className:"w-8 h-8"})}),u.jsx(tt,{className:"text-2xl mb-2",children:o.title}),u.jsx(Xa,{className:"text-base",children:o.description})]}),u.jsx(Fe,{children:u.jsx("ul",{className:"space-y-3",children:o.features.map((c,d)=>u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(ma,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),u.jsx("span",{className:"text-muted-foreground",children:c})]},d))})})]},l))})})}),u.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 bg-muted/20",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Why Choose AdmitConnect AI?"}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Experience the benefits that leading educational institutions trust"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((o,l)=>u.jsxs(ne,{className:"text-center p-6 hover:shadow-lg transition-all duration-300 border-border/50 bg-card/50 backdrop-blur-sm",children:[u.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(o.icon,{className:"w-6 h-6 text-primary"})}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:o.title}),u.jsx("p",{className:"text-muted-foreground",children:o.description})]},l))})]})}),u.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"How It Works"}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Simple implementation process to get you started"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[{step:"01",title:"Integration",description:"Connect your existing systems"},{step:"02",title:"Configuration",description:"Customize AI responses and workflows"},{step:"03",title:"Training",description:"AI learns your institution's specifics"},{step:"04",title:"Launch",description:"Go live and start engaging students"}].map((o,l)=>u.jsxs("div",{className:"text-center relative",children:[u.jsx("div",{className:"w-16 h-16 bg-ai-gradient rounded-full flex items-center justify-center mx-auto mb-4 text-white font-bold text-lg",children:o.step}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:o.title}),u.jsx("p",{className:"text-muted-foreground",children:o.description}),l<3&&u.jsx(Ld,{className:"hidden md:block absolute top-8 -right-4 w-6 h-6 text-muted-foreground"})]},l))})]})}),u.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 bg-ai-gradient-subtle",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Transform Your Admissions?"}),u.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Join hundreds of institutions already using AdmitConnect AI to boost their admission success"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsxs(se,{size:"lg",variant:"hero",onClick:()=>r(!0),className:"text-lg px-8 py-3",children:["Schedule Demo",u.jsx(Ld,{className:"w-5 h-5 ml-2"})]}),u.jsx(se,{size:"lg",variant:"outline",onClick:()=>e(!0),className:"text-lg px-8 py-3",children:"Contact Sales"})]})]})}),u.jsx(pO,{open:t,onOpenChange:e}),u.jsx(Gb,{open:n,onOpenChange:r})]})},F7e=()=>{const t=Pl();return S.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),u.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},B7e=()=>{const{toast:t}=Vt(),[e,n]=S.useState([]),[r,i]=S.useState([]),[a,s]=S.useState({totalCandidates:0,readyForDistribution:0,inProgress:0,completed:0,failed:0}),[o,l]=S.useState(!1),[c,d]=S.useState(""),[f,h]=S.useState("all"),[p,m]=S.useState(!1);S.useEffect(()=>{g()},[]),S.useEffect(()=>{x()},[e,c,f]);const g=async()=>{l(!0);try{const{data:_,error:E}=await Pe.from("candidates").select(`
          *,
          campaigns(name, type, status)
        `).order("created_at",{ascending:!1});if(E)throw E;n(_||[]),b(_||[])}catch(_){console.error("Error loading candidate data:",_),t({title:"Error",description:"Failed to load candidate data",variant:"destructive"})}finally{l(!1)}},b=_=>{const E=_.length,A=_.filter(k=>k.status==="pending").length,j=_.filter(k=>k.status==="email_sent"||k.status==="voice_called"||k.status==="whatsapp_sent").length,T=_.filter(k=>k.response_received).length,C=_.filter(k=>k.status==="failed").length;s({totalCandidates:E,readyForDistribution:A,inProgress:j,completed:T,failed:C})},x=()=>{let _=e;c&&(_=_.filter(E=>E.name.toLowerCase().includes(c.toLowerCase())||E.email.toLowerCase().includes(c.toLowerCase())||E.phone.includes(c)||E.city.toLowerCase().includes(c.toLowerCase()))),f!=="all"&&(_=_.filter(E=>E.status===f)),i(_)},v=async(_,E)=>{m(!0);try{const A=[];for(const j of E){let T="";switch(j){case"email":T="email-agent";break;case"voice":T="voice-agent";break;case"whatsapp":T="whatsapp-agent";break;default:continue}const{data:C,error:k}=await Pe.functions.invoke(T,{body:{candidateIds:_,distributedBy:"data-distribution-layer"}});if(k)throw k;A.push({channel:j,success:!0,data:C})}t({title:"Distribution Complete",description:`Successfully distributed data to ${E.length} channels`}),g()}catch(A){console.error("Error distributing data:",A),t({title:"Distribution Failed",description:"Failed to distribute data to agents",variant:"destructive"})}finally{m(!1)}},y=_=>{const E=[];return!_.email&&!_.phone&&E.push("Missing contact information"),_.name||E.push("Missing name"),_.email&&!_.email.includes("@")&&E.push("Invalid email format"),E},w=_=>{switch(_){case"pending":return"bg-yellow-500/10 text-yellow-500";case"email_sent":return"bg-blue-500/10 text-blue-500";case"voice_called":return"bg-purple-500/10 text-purple-500";case"whatsapp_sent":return"bg-green-500/10 text-green-500";case"completed":return"bg-emerald-500/10 text-emerald-500";case"failed":return"bg-red-500/10 text-red-500";default:return"bg-gray-500/10 text-gray-500"}};return u.jsx(dz,{children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[u.jsx(dd,{className:"w-6 h-6 text-primary"}),"Data Distribution Layer"]}),u.jsx("p",{className:"text-muted-foreground",children:"Centralized candidate data management and agent distribution"})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs(se,{onClick:g,variant:"outline",disabled:o,children:[u.jsx(pl,{className:`w-4 h-4 mr-2 ${o?"animate-spin":""}`}),"Refresh"]})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[u.jsx(ne,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx($r,{className:"w-5 h-5 text-blue-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Candidates"}),u.jsx("p",{className:"text-xl font-bold",children:a.totalCandidates})]})]})}),u.jsx(ne,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Ds,{className:"w-5 h-5 text-yellow-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Ready"}),u.jsx("p",{className:"text-xl font-bold",children:a.readyForDistribution})]})]})}),u.jsx(ne,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Ld,{className:"w-5 h-5 text-orange-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"In Progress"}),u.jsx("p",{className:"text-xl font-bold",children:a.inProgress})]})]})}),u.jsx(ne,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(ma,{className:"w-5 h-5 text-green-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed"}),u.jsx("p",{className:"text-xl font-bold",children:a.completed})]})]})}),u.jsx(ne,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Wv,{className:"w-5 h-5 text-red-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Failed"}),u.jsx("p",{className:"text-xl font-bold",children:a.failed})]})]})})]}),u.jsxs(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Ds,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"text-lg font-semibold",children:"Distribution Progress"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[u.jsx("span",{children:"Overall Completion"}),u.jsxs("span",{children:[Math.round(a.completed/a.totalCandidates*100)||0,"%"]})]}),u.jsx(Oi,{value:a.completed/a.totalCandidates*100||0,className:"h-2"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[u.jsx("span",{children:"Ready for Distribution"}),u.jsxs("span",{children:[Math.round(a.readyForDistribution/a.totalCandidates*100)||0,"%"]})]}),u.jsx(Oi,{value:a.readyForDistribution/a.totalCandidates*100||0,className:"h-2"})]})]})]}),u.jsx(ne,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx(Lee,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),u.jsx(Ut,{placeholder:"Search candidates...",value:c,onChange:_=>d(_.target.value),className:"pl-9"})]})}),u.jsxs(ua,{value:f,onValueChange:h,children:[u.jsx(ki,{className:"w-48",children:u.jsx(da,{placeholder:"Filter by status"})}),u.jsxs(Ci,{children:[u.jsx(Bt,{value:"all",children:"All Statuses"}),u.jsx(Bt,{value:"pending",children:"Pending"}),u.jsx(Bt,{value:"email_sent",children:"Email Sent"}),u.jsx(Bt,{value:"voice_called",children:"Voice Called"}),u.jsx(Bt,{value:"whatsapp_sent",children:"WhatsApp Sent"}),u.jsx(Bt,{value:"completed",children:"Completed"}),u.jsx(Bt,{value:"failed",children:"Failed"})]})]}),u.jsxs(se,{onClick:()=>v(r.filter(_=>_.status==="pending").map(_=>_.id),["email","voice","whatsapp"]),disabled:p||r.filter(_=>_.status==="pending").length===0,variant:"hero",children:[p?u.jsx(pl,{className:"w-4 h-4 mr-2 animate-spin"}):u.jsx(Ld,{className:"w-4 h-4 mr-2"}),"Distribute to Agents"]})]})}),u.jsxs(ne,{className:"bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx("div",{className:"p-4 border-b border-border/50",children:u.jsxs("h3",{className:"text-lg font-semibold",children:["Candidate Data (",r.length,")"]})}),u.jsxs("div",{className:"overflow-x-auto",children:[u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-muted/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left p-4",children:"Name"}),u.jsx("th",{className:"text-left p-4",children:"Contact"}),u.jsx("th",{className:"text-left p-4",children:"Location"}),u.jsx("th",{className:"text-left p-4",children:"Course"}),u.jsx("th",{className:"text-left p-4",children:"Status"}),u.jsx("th",{className:"text-left p-4",children:"Distribution"}),u.jsx("th",{className:"text-left p-4",children:"Validation"})]})}),u.jsx("tbody",{children:r.map(_=>{const E=y(_);return u.jsxs("tr",{className:"border-t border-border/50 hover:bg-muted/20",children:[u.jsx("td",{className:"p-4",children:u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:_.name}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",_.id.slice(0,8)]})]})}),u.jsx("td",{className:"p-4",children:u.jsxs("div",{className:"space-y-1",children:[_.email&&u.jsxs("p",{className:"text-sm flex items-center gap-1",children:[u.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),_.email]}),_.phone&&u.jsxs("p",{className:"text-sm flex items-center gap-1",children:[u.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),_.phone]})]})}),u.jsx("td",{className:"p-4",children:u.jsx("p",{className:"text-sm",children:_.city||"N/A"})}),u.jsx("td",{className:"p-4",children:u.jsx("p",{className:"text-sm",children:_.course||"N/A"})}),u.jsx("td",{className:"p-4",children:u.jsx(jn,{className:w(_.status),children:_.status.replace("_"," ")})}),u.jsx("td",{className:"p-4",children:u.jsxs("div",{className:"flex gap-1",children:[_.email_sent&&u.jsxs(pu,{children:[u.jsx(mu,{children:u.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),u.jsx(Jl,{children:"Email sent"})]}),_.voice_called&&u.jsxs(pu,{children:[u.jsx(mu,{children:u.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"})}),u.jsx(Jl,{children:"Voice called"})]}),_.whatsapp_sent&&u.jsxs(pu,{children:[u.jsx(mu,{children:u.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"})}),u.jsx(Jl,{children:"WhatsApp sent"})]}),_.response_received&&u.jsxs(pu,{children:[u.jsx(mu,{children:u.jsx(ma,{className:"w-4 h-4 text-emerald-500"})}),u.jsx(Jl,{children:"Response received"})]})]})}),u.jsx("td",{className:"p-4",children:E.length>0?u.jsxs(pu,{children:[u.jsx(mu,{children:u.jsx(Wv,{className:"w-4 h-4 text-red-500"})}),u.jsx(Jl,{children:E.join(", ")})]}):u.jsxs(pu,{children:[u.jsx(mu,{children:u.jsx(ma,{className:"w-4 h-4 text-green-500"})}),u.jsx(Jl,{children:"Valid data"})]})})]},_.id)})})]}),r.length===0&&u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No candidates found matching your criteria"})]})]})]})})},z7e=()=>{const{toast:t}=Vt(),[e,n]=S.useState([]),[r,i]=S.useState([]),[a,s]=S.useState(""),[o,l]=S.useState([]),[c,d]=S.useState(!1),[f,h]=S.useState(null);S.useEffect(()=>{p();const E=setInterval(p,1e4);return h(E),()=>{E&&clearInterval(E)}},[]);const p=async()=>{try{await Promise.all([m(),g(),b()])}catch(E){console.error("Error loading data:",E)}},m=async()=>{const{data:E,error:A}=await Pe.from("campaigns").select("*").order("created_at",{ascending:!1});if(A)throw A;i(E||[])},g=async()=>{const E=[{id:"email-agent-001",name:"Email Agent Alpha",type:"email",status:"online",lastActivity:new Date(Date.now()-12e4).toISOString(),metrics:{totalProcessed:1247,successRate:94.2,avgResponseTime:1850,currentLoad:15}},{id:"voice-agent-001",name:"Voice Agent Beta",type:"voice",status:"online",lastActivity:new Date(Date.now()-3e5).toISOString(),metrics:{totalProcessed:892,successRate:87.6,avgResponseTime:12400,currentLoad:8}},{id:"messaging-agent-001",name:"Messaging Agent Gamma",type:"messaging",status:"online",lastActivity:new Date(Date.now()-6e4).toISOString(),metrics:{totalProcessed:2156,successRate:96.8,avgResponseTime:950,currentLoad:22}}];n(E)},b=async()=>{const{data:E,error:A}=await Pe.from("campaign_analytics").select("*").eq("event_type","campaign_orchestrated").order("timestamp",{ascending:!1}).limit(10);if(A){console.error("Error loading executions:",A);return}const j=(E||[]).map((T,C)=>({id:T.id,campaignName:`Campaign ${T.campaign_id.slice(0,8)}`,status:C===0?"running":C<3?"completed":"pending",progress:C===0?65:C<3?100:0,agents:["email","voice","messaging"],startTime:T.timestamp,results:C<3?T.metadata:void 0}));l(j)},x=async(E="normal")=>{if(!a){t({title:"No Campaign Selected",description:"Please select a campaign to execute",variant:"destructive"});return}d(!0);try{console.log("Executing multi-channel campaign with enhanced agents");const{data:A,error:j}=await Pe.functions.invoke("campaign-orchestrator",{body:{campaignId:a,channels:["email","voice","whatsapp"],priority:E,agentConfig:{email:{priority:E,retryCount:3},voice:{priority:E,voiceSettings:{voice:"alice",speed:1}},messaging:{priority:E,messageType:"whatsapp"}}}});if(j)throw j;t({title:"Campaign Execution Started",description:`Multi-channel campaign launched with ${E} priority`}),p()}catch(A){console.error("Error executing campaign:",A),t({title:"Execution Failed",description:"Failed to start campaign execution",variant:"destructive"})}finally{d(!1)}},v=async E=>{if(!a){t({title:"No Campaign Selected",description:"Please select a campaign first",variant:"destructive"});return}d(!0);try{const A=E==="messaging"?"whatsapp-agent":`${E}-agent`,{data:j,error:T}=await Pe.functions.invoke(A,{body:{campaignId:a,priority:"normal",agentId:`${E}-agent-manual-${Date.now()}`}});if(T)throw T;t({title:"Agent Execution Started",description:`${E.charAt(0).toUpperCase()+E.slice(1)} agent is processing the campaign`}),p()}catch(A){console.error(`Error executing ${E} agent:`,A),t({title:"Agent Execution Failed",description:`Failed to start ${E} agent`,variant:"destructive"})}finally{d(!1)}},y=E=>{switch(E){case"online":return"bg-green-500/10 text-green-500";case"busy":return"bg-yellow-500/10 text-yellow-500";case"offline":return"bg-gray-500/10 text-gray-500";case"error":return"bg-red-500/10 text-red-500";default:return"bg-gray-500/10 text-gray-500"}},w=E=>{switch(E){case"running":return"bg-blue-500/10 text-blue-500";case"completed":return"bg-green-500/10 text-green-500";case"failed":return"bg-red-500/10 text-red-500";case"pending":return"bg-yellow-500/10 text-yellow-500";default:return"bg-gray-500/10 text-gray-500"}},_=E=>{switch(E){case"email":return ni;case"voice":return Ta;case"messaging":return ci;default:return pa}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[u.jsx(pa,{className:"w-6 h-6 text-primary"}),"Enhanced Agent Control Panel"]}),u.jsx("p",{className:"text-muted-foreground",children:"Advanced multi-agent coordination and intelligent campaign execution"})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs(se,{onClick:p,variant:"outline",disabled:c,children:[u.jsx(pl,{className:`w-4 h-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]})})]}),u.jsx(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select Campaign"}),u.jsxs(ua,{value:a,onValueChange:s,children:[u.jsx(ki,{children:u.jsx(da,{placeholder:"Choose a campaign to execute"})}),u.jsx(Ci,{children:r.map(E=>u.jsxs(Bt,{value:E.id,children:[E.name," (",E.type,")"]},E.id))})]})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs(se,{onClick:()=>x("high"),disabled:!a||c,variant:"hero",children:[u.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Execute All Agents"]})})]})}),u.jsxs(au,{defaultValue:"agents",className:"space-y-6",children:[u.jsxs(Fl,{className:"grid w-full grid-cols-4",children:[u.jsx(mt,{value:"agents",children:"Agent Status"}),u.jsx(mt,{value:"execution",children:"Live Execution"}),u.jsx(mt,{value:"performance",children:"Performance"}),u.jsx(mt,{value:"coordination",children:"Coordination"})]}),u.jsx(gt,{value:"agents",className:"space-y-6",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map(E=>{const A=_(E.type);return u.jsxs(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:u.jsx(A,{className:"w-5 h-5 text-primary"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold",children:E.name}),u.jsx("p",{className:"text-sm text-muted-foreground",children:E.type})]})]}),u.jsx(jn,{className:y(E.status),children:E.status})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Processed"}),u.jsx("span",{className:"font-semibold",children:E.metrics.totalProcessed})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Success Rate"}),u.jsxs("span",{className:"font-semibold",children:[E.metrics.successRate,"%"]})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Avg Response"}),u.jsxs("span",{className:"font-semibold",children:[E.metrics.avgResponseTime,"ms"]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[u.jsx("span",{children:"Current Load"}),u.jsxs("span",{className:"font-semibold",children:[E.metrics.currentLoad,"%"]})]}),u.jsx(Oi,{value:E.metrics.currentLoad,className:"h-2"})]})]}),u.jsxs(se,{onClick:()=>v(E.type),disabled:!a||c,className:"w-full mt-4",variant:"outline",children:[u.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Execute Agent"]})]},E.id)})})}),u.jsx(gt,{value:"execution",className:"space-y-6",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Live Campaign Executions"}),o.map(E=>u.jsxs(ne,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Ds,{className:"w-5 h-5 text-primary"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold",children:E.campaignName}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Started ",new Date(E.startTime).toLocaleTimeString()]})]})]}),u.jsx(jn,{className:w(E.status),children:E.status})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Progress"}),u.jsxs("span",{children:[E.progress,"%"]})]}),u.jsx(Oi,{value:E.progress,className:"h-2"}),u.jsx("div",{className:"flex gap-2 mt-3",children:E.agents.map(A=>{const j=_(A);return u.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[u.jsx(j,{className:"w-3 h-3"}),A]},A)})})]})]},E.id))]})}),u.jsx(gt,{value:"performance",className:"space-y-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[u.jsx(fl,{className:"w-5 h-5"}),"Agent Performance"]}),u.jsx("div",{className:"space-y-4",children:e.map(E=>u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:E.name}),u.jsxs("span",{children:[E.metrics.successRate,"%"]})]}),u.jsx(Oi,{value:E.metrics.successRate,className:"h-2"})]},E.id))})]}),u.jsxs(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[u.jsx(hl,{className:"w-5 h-5"}),"Response Times"]}),u.jsx("div",{className:"space-y-4",children:e.map(E=>u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:E.name}),u.jsxs("span",{className:"text-sm font-semibold",children:[E.metrics.avgResponseTime,"ms"]})]},E.id))})]})]})}),u.jsx(gt,{value:"coordination",className:"space-y-6",children:u.jsxs(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Coordination Settings"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Priority Mode"}),u.jsxs(ua,{defaultValue:"normal",children:[u.jsx(ki,{children:u.jsx(da,{})}),u.jsxs(Ci,{children:[u.jsx(Bt,{value:"low",children:"Low Priority"}),u.jsx(Bt,{value:"normal",children:"Normal Priority"}),u.jsx(Bt,{value:"high",children:"High Priority"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Retry Strategy"}),u.jsxs(ua,{defaultValue:"aggressive",children:[u.jsx(ki,{children:u.jsx(da,{})}),u.jsxs(Ci,{children:[u.jsx(Bt,{value:"conservative",children:"Conservative"}),u.jsx(Bt,{value:"balanced",children:"Balanced"}),u.jsx(Bt,{value:"aggressive",children:"Aggressive"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Load Balancing"}),u.jsxs(ua,{defaultValue:"auto",children:[u.jsx(ki,{children:u.jsx(da,{})}),u.jsxs(Ci,{children:[u.jsx(Bt,{value:"manual",children:"Manual"}),u.jsx(Bt,{value:"auto",children:"Automatic"}),u.jsx(Bt,{value:"intelligent",children:"Intelligent"})]})]})]})]})]})})]})]})};function U7e(){var g,b,x;const[t,e]=S.useState([]),[n,r]=S.useState(null),[i,a]=S.useState(!1),[s,o]=S.useState(""),[l,c]=S.useState([]);S.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:v,error:y}=await Pe.from("campaigns").select("*").order("created_at",{ascending:!1});if(y)throw y;c(v||[]),v&&v.length>0&&o(v[0].id)}catch(v){console.error("Error loading campaigns:",v),Vl.error("Failed to load campaigns")}},f=async v=>{a(!0);try{const{data:y,error:w}=await Pe.functions.invoke("decision-engine",{body:{campaignId:v,action:"generate_strategy"}});if(w)throw w;if(y.success){const _=y.result;e(E=>[...E.filter(j=>j.campaignId!==v),_]),Vl.success("Strategy generated successfully")}}catch(y){console.error("Error generating strategy:",y),Vl.error("Failed to generate strategy")}finally{a(!1)}},h=async v=>{a(!0);try{const{data:y,error:w}=await Pe.functions.invoke("mcp-server",{body:{method:"tools/call",params:{name:"analyze_campaign_performance",arguments:{campaignId:v,timeframe:"30d"}}}});if(w)throw w;y.success&&(r(y.result),Vl.success("MCP analysis completed"))}catch(y){console.error("Error with MCP analysis:",y),Vl.error("Failed to analyze with MCP")}finally{a(!1)}},p=async v=>{a(!0);try{const{data:y,error:w}=await Pe.functions.invoke("mcp-server",{body:{method:"tools/call",params:{name:"optimize_candidate_targeting",arguments:{campaignId:v,criteria:{}}}}});if(w)throw w;y.success&&Vl.success("Targeting optimization completed")}catch(y){console.error("Error optimizing targeting:",y),Vl.error("Failed to optimize targeting")}finally{a(!1)}},m=t.find(v=>v.campaignId===s);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Decision Logic & MCP Server"}),u.jsx("p",{className:"text-muted-foreground",children:"AI-powered campaign optimization and intelligent decision making"})]}),u.jsx("div",{className:"flex gap-2",children:u.jsx("select",{value:s,onChange:v=>o(v.target.value),className:"px-3 py-2 border rounded-md bg-background",children:l.map(v=>u.jsx("option",{value:v.id,children:v.name},v.id))})})]}),u.jsxs(au,{defaultValue:"strategy",className:"w-full",children:[u.jsxs(Fl,{className:"grid w-full grid-cols-3",children:[u.jsxs(mt,{value:"strategy",className:"flex items-center gap-2",children:[u.jsx(qp,{className:"h-4 w-4"}),"Strategy Engine"]}),u.jsxs(mt,{value:"mcp",className:"flex items-center gap-2",children:[u.jsx(Zs,{className:"h-4 w-4"}),"MCP Analysis"]}),u.jsxs(mt,{value:"optimization",className:"flex items-center gap-2",children:[u.jsx(Ir,{className:"h-4 w-4"}),"Optimization"]})]}),u.jsx(gt,{value:"strategy",className:"space-y-4",children:u.jsxs(ne,{children:[u.jsxs(et,{children:[u.jsxs(tt,{className:"flex items-center gap-2",children:[u.jsx(Fr,{className:"h-5 w-5"}),"Campaign Strategy Generator"]}),u.jsx(Xa,{children:"Generate intelligent campaign strategies using decision logic engine"})]}),u.jsxs(Fe,{className:"space-y-4",children:[u.jsx("div",{className:"flex gap-2",children:u.jsx(se,{onClick:()=>s&&f(s),disabled:i||!s,children:i?"Generating...":"Generate Strategy"})}),m&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsx(ne,{children:u.jsxs(Fe,{className:"pt-4",children:[u.jsx("div",{className:"text-2xl font-bold",children:m.totalCandidates}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Candidates"})]})}),u.jsx(ne,{children:u.jsxs(Fe,{className:"pt-4",children:[u.jsx("div",{className:"text-2xl font-bold",children:((g=m.effectiveness)==null?void 0:g.expectedConversions)||0}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected Conversions"})]})}),u.jsx(ne,{children:u.jsxs(Fe,{className:"pt-4",children:[u.jsx("div",{className:"text-2xl font-bold",children:((b=m.effectiveness)==null?void 0:b.efficiency)||"N/A"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Efficiency Rating"})]})})]}),u.jsxs(ne,{children:[u.jsx(et,{children:u.jsx(tt,{children:"Channel Priority"})}),u.jsx(Fe,{children:u.jsx("div",{className:"flex gap-2",children:m.channelPriority.map((v,y)=>u.jsxs(jn,{variant:y===0?"default":"secondary",children:["#",y+1," ",v]},v))})})]}),u.jsxs(ne,{children:[u.jsx(et,{children:u.jsx(tt,{children:"Timeline Phases"})}),u.jsx(Fe,{className:"space-y-3",children:Object.entries(((x=m.estimatedTimeline)==null?void 0:x.phases)||{}).map(([v,y])=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"capitalize",children:v}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Oi,{value:y/m.totalCandidates*100,className:"w-24"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:y})]})]},v))})]})]})]})]})}),u.jsx(gt,{value:"mcp",className:"space-y-4",children:u.jsxs(ne,{children:[u.jsxs(et,{children:[u.jsxs(tt,{className:"flex items-center gap-2",children:[u.jsx(Zs,{className:"h-5 w-5"}),"MCP Server Analysis"]}),u.jsx(Xa,{children:"Model Context Protocol powered intelligent analysis"})]}),u.jsxs(Fe,{className:"space-y-4",children:[u.jsx(se,{onClick:()=>s&&h(s),disabled:i||!s,children:i?"Analyzing...":"Run MCP Analysis"}),n&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs(ne,{children:[u.jsx(et,{children:u.jsx(tt,{children:"Performance Metrics"})}),u.jsx(Fe,{className:"space-y-3",children:n.performance&&Object.entries(n.performance).map(([v,y])=>u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"capitalize",children:v.replace(/([A-Z])/g," $1").trim()}),u.jsx(jn,{variant:"outline",children:typeof y=="number"?`${(y*100).toFixed(1)}%`:String(y)})]},v))})]}),u.jsxs(ne,{children:[u.jsx(et,{children:u.jsx(tt,{children:"AI Insights"})}),u.jsx(Fe,{children:u.jsx("ul",{className:"space-y-2",children:n.insights.map((v,y)=>u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(fl,{className:"h-4 w-4 mt-1 text-primary"}),u.jsx("span",{className:"text-sm",children:v})]},y))})})]}),u.jsxs(ne,{children:[u.jsx(et,{children:u.jsx(tt,{children:"Recommendations"})}),u.jsx(Fe,{children:u.jsx("ul",{className:"space-y-2",children:n.recommendations.map((v,y)=>u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(TB,{className:"h-4 w-4 mt-1 text-orange-500"}),u.jsx("span",{className:"text-sm",children:v})]},y))})})]})]})]})]})}),u.jsx(gt,{value:"optimization",className:"space-y-4",children:u.jsxs(ne,{children:[u.jsxs(et,{children:[u.jsxs(tt,{className:"flex items-center gap-2",children:[u.jsx(eg,{className:"h-5 w-5"}),"Campaign Optimization"]}),u.jsx(Xa,{children:"Optimize targeting and communication strategies"})]}),u.jsxs(Fe,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(se,{onClick:()=>s&&p(s),disabled:i||!s,variant:"outline",children:"Optimize Targeting"}),u.jsx(se,{onClick:()=>s&&f(s),disabled:i||!s,variant:"outline",children:"Generate Communication Strategy"})]}),u.jsxs(ne,{children:[u.jsx(et,{children:u.jsx(tt,{className:"text-lg",children:"Decision Rules"})}),u.jsx(Fe,{className:"space-y-3",children:u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"Email First Priority"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Send email to candidates with email addresses"})]}),u.jsx(ei,{defaultChecked:!0})]}),u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"Voice Follow-up"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Call candidates who don't open emails within 2 days"})]}),u.jsx(ei,{defaultChecked:!0})]}),u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"WhatsApp Engagement"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Send WhatsApp to engaged candidates"})]}),u.jsx(ei,{defaultChecked:!0})]}),u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"High Priority Blast"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Multi-channel approach for high-priority candidates"})]}),u.jsx(ei,{defaultChecked:!0})]})]})})]})]})]})})]})]})}const H7e=Qm("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Mu=S.forwardRef(({className:t,variant:e,...n},r)=>u.jsx("div",{ref:r,role:"alert",className:je(H7e({variant:e}),t),...n}));Mu.displayName="Alert";const V7e=S.forwardRef(({className:t,...e},n)=>u.jsx("h5",{ref:n,className:je("mb-1 font-medium leading-none tracking-tight",t),...e}));V7e.displayName="AlertTitle";const Du=S.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:je("text-sm [&_p]:leading-relaxed",t),...e}));Du.displayName="AlertDescription";const W7e=()=>{const[t,e]=S.useState({cpuUsage:45,memoryUsage:62,apiResponseTime:235,databaseConnections:12,cacheHitRate:85,activeUsers:147,throughput:324,errorRate:.8}),[n,r]=S.useState([{id:"query-caching",name:"Database Query Caching",description:"Cache frequently accessed database queries to reduce load",impact:"high",enabled:!0,lastApplied:"2024-01-10T10:30:00Z"},{id:"connection-pooling",name:"Connection Pooling",description:"Optimize database connection management",impact:"high",enabled:!0,lastApplied:"2024-01-10T09:15:00Z"},{id:"batch-processing",name:"Batch Processing",description:"Group similar operations for better efficiency",impact:"medium",enabled:!0,lastApplied:"2024-01-10T08:45:00Z"},{id:"cdn-optimization",name:"CDN Optimization",description:"Optimize content delivery network usage",impact:"medium",enabled:!1,lastApplied:"2024-01-09T16:20:00Z"}]),[i,a]=S.useState(!1);S.useEffect(()=>{const f=setInterval(()=>{e(h=>({cpuUsage:Math.max(0,Math.min(100,h.cpuUsage+(Math.random()-.5)*10)),memoryUsage:Math.max(0,Math.min(100,h.memoryUsage+(Math.random()-.5)*8)),apiResponseTime:Math.max(50,h.apiResponseTime+(Math.random()-.5)*50),databaseConnections:Math.max(0,Math.min(50,h.databaseConnections+Math.floor((Math.random()-.5)*5))),cacheHitRate:Math.max(0,Math.min(100,h.cacheHitRate+(Math.random()-.5)*5)),activeUsers:Math.max(0,h.activeUsers+Math.floor((Math.random()-.5)*10)),throughput:Math.max(0,h.throughput+(Math.random()-.5)*100),errorRate:Math.max(0,Math.min(10,h.errorRate+(Math.random()-.5)*.5))}))},2e3);return()=>clearInterval(f)},[]);const s=S.useCallback(f=>{r(h=>h.map(p=>p.id===f?{...p,enabled:!p.enabled,lastApplied:new Date().toISOString()}:p))},[]),o=S.useCallback(async()=>{a(!0),await new Promise(f=>setTimeout(f,3e3)),e(f=>({...f,cpuUsage:Math.max(20,f.cpuUsage*.8),memoryUsage:Math.max(30,f.memoryUsage*.9),apiResponseTime:Math.max(100,f.apiResponseTime*.7),cacheHitRate:Math.min(100,f.cacheHitRate*1.1),errorRate:f.errorRate*.5})),a(!1)},[]),l=S.useMemo(()=>{const f=[100-t.cpuUsage,100-t.memoryUsage,Math.max(0,100-(t.apiResponseTime-100)/10),t.cacheHitRate,Math.max(0,100-t.errorRate*10)];return Math.round(f.reduce((h,p)=>h+p)/f.length)},[t]),c=f=>f>=80?"text-green-600":f>=60?"text-yellow-600":"text-red-600",d=f=>{switch(f){case"high":return"destructive";case"medium":return"secondary";case"low":return"outline";default:return"outline"}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-bold",children:"Performance Optimization"}),u.jsx("p",{className:"text-muted-foreground",children:"Monitor and optimize system performance"})]}),u.jsxs(se,{onClick:o,disabled:i,className:"gap-2",children:[i?u.jsx(pl,{className:"h-4 w-4 animate-spin"}):u.jsx(Fr,{className:"h-4 w-4"}),i?"Optimizing...":"Run Optimization"]})]}),u.jsxs(ne,{children:[u.jsx(et,{children:u.jsxs(tt,{className:"flex items-center gap-2",children:[u.jsx(Ir,{className:"h-5 w-5"}),"Overall Performance Score"]})}),u.jsx(Fe,{children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:`text-4xl font-bold ${c(l)}`,children:[l,"%"]}),u.jsx(Oi,{value:l,className:"flex-1"}),u.jsx(jn,{variant:l>=80?"default":l>=60?"secondary":"destructive",children:l>=80?"Excellent":l>=60?"Good":"Needs Attention"})]})})]}),u.jsxs(au,{defaultValue:"metrics",className:"space-y-4",children:[u.jsxs(Fl,{children:[u.jsx(mt,{value:"metrics",children:"Real-time Metrics"}),u.jsx(mt,{value:"optimizations",children:"Optimization Rules"}),u.jsx(mt,{value:"alerts",children:"Performance Alerts"})]}),u.jsx(gt,{value:"metrics",className:"space-y-4",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs(ne,{children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:"CPU Usage"}),u.jsx(kee,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Fe,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.cpuUsage.toFixed(1),"%"]}),u.jsx(Oi,{value:t.cpuUsage,className:"mt-2"})]})]}),u.jsxs(ne,{children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:"Memory Usage"}),u.jsx($ee,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Fe,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.memoryUsage.toFixed(1),"%"]}),u.jsx(Oi,{value:t.memoryUsage,className:"mt-2"})]})]}),u.jsxs(ne,{children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:"API Response"}),u.jsx(hl,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Fe,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.apiResponseTime.toFixed(0),"ms"]}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Average response time"})]})]}),u.jsxs(ne,{children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:"Cache Hit Rate"}),u.jsx(dd,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Fe,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.cacheHitRate.toFixed(1),"%"]}),u.jsx(Oi,{value:t.cacheHitRate,className:"mt-2"})]})]}),u.jsxs(ne,{children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:"Active Users"}),u.jsx(Ds,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Fe,{children:[u.jsx("div",{className:"text-2xl font-bold",children:t.activeUsers}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Currently online"})]})]}),u.jsxs(ne,{children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:"Throughput"}),u.jsx(fl,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Fe,{children:[u.jsx("div",{className:"text-2xl font-bold",children:t.throughput.toFixed(0)}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Requests per minute"})]})]}),u.jsxs(ne,{children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:"DB Connections"}),u.jsx(dd,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Fe,{children:[u.jsx("div",{className:"text-2xl font-bold",children:t.databaseConnections}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Active connections"})]})]}),u.jsxs(ne,{children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:"Error Rate"}),u.jsx(hE,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Fe,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.errorRate.toFixed(2),"%"]}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Error percentage"})]})]})]})}),u.jsx(gt,{value:"optimizations",className:"space-y-4",children:u.jsx("div",{className:"grid gap-4",children:n.map(f=>u.jsxs(ne,{children:[u.jsx(et,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(tt,{className:"text-lg",children:f.name}),u.jsx(Xa,{children:f.description})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(jn,{variant:d(f.impact),children:[f.impact," impact"]}),u.jsx(se,{size:"sm",variant:f.enabled?"default":"outline",onClick:()=>s(f.id),children:f.enabled?"Enabled":"Disabled"})]})]})}),u.jsx(Fe,{children:u.jsxs("div",{className:"text-sm text-muted-foreground",children:["Last applied: ",new Date(f.lastApplied).toLocaleString()]})})]},f.id))})}),u.jsx(gt,{value:"alerts",className:"space-y-4",children:u.jsxs("div",{className:"space-y-4",children:[t.cpuUsage>80&&u.jsxs(Mu,{children:[u.jsx(Ds,{className:"h-4 w-4"}),u.jsxs(Du,{children:["High CPU usage detected (",t.cpuUsage.toFixed(1),"%). Consider enabling CPU optimization rules."]})]}),t.apiResponseTime>500&&u.jsxs(Mu,{children:[u.jsx(hl,{className:"h-4 w-4"}),u.jsxs(Du,{children:["API response time is above threshold (",t.apiResponseTime.toFixed(0),"ms). Enable caching optimizations."]})]}),t.cacheHitRate<70&&u.jsxs(Mu,{children:[u.jsx(dd,{className:"h-4 w-4"}),u.jsxs(Du,{children:["Low cache hit rate (",t.cacheHitRate.toFixed(1),"%). Review caching strategy."]})]}),t.errorRate>2&&u.jsxs(Mu,{children:[u.jsx(hE,{className:"h-4 w-4"}),u.jsxs(Du,{children:["High error rate detected (",t.errorRate.toFixed(2),"%). Check system logs for issues."]})]}),t.cpuUsage<=80&&t.apiResponseTime<=500&&t.cacheHitRate>=70&&t.errorRate<=2&&u.jsxs(Mu,{children:[u.jsx(Ir,{className:"h-4 w-4"}),u.jsx(Du,{children:"All systems operating within normal parameters. No alerts at this time."})]})]})})]})]})},q7e=({agentId:t="agent_0b0a29061f41517a382a32035e"})=>{const{toast:e}=Vt(),n=S.useRef(null),[r,i]=S.useState(""),[a,s]=S.useState(""),[o,l]=S.useState(null),[c,d]=S.useState(""),[f,h]=S.useState(!1),[p,m]=S.useState(!1),g=async x=>{var y;const v=(y=x.target.files)==null?void 0:y[0];if(v){l(v),h(!0);try{const w=new FileReader;w.onload=async _=>{var A;const E=(A=_.target)==null?void 0:A.result;v.type==="text/plain"||v.name.endsWith(".txt")?d(E):d(`Document: ${v.name} (${v.type})`),e({title:"Document uploaded",description:`${v.name} has been processed for the call context.`})},v.type==="text/plain"||v.name.endsWith(".txt")?w.readAsText(v):w.readAsDataURL(v)}catch(w){console.error("Error processing file:",w),e({title:"Upload failed",description:"Failed to process the uploaded document.",variant:"destructive"})}finally{h(!1)}}},b=async()=>{if(!r){e({title:"Phone number required",description:"Please enter a phone number to call.",variant:"destructive"});return}m(!0);try{const{data:x,error:v}=await Pe.functions.invoke("retell-agent",{body:{phone_number:r,agent_id:t,context:a,document_content:c}});if(v)throw v;if(x.success)e({title:"Call initiated",description:`Call to ${r} has been started successfully.`}),i(""),s(""),l(null),d(""),n.current&&(n.current.value="");else throw new Error(x.error||"Failed to initiate call")}catch(x){console.error("Error initiating call:",x),e({title:"Call failed",description:x instanceof Error?x.message:"Failed to initiate the call.",variant:"destructive"})}finally{m(!1)}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs(ne,{children:[u.jsx(et,{children:u.jsxs(tt,{className:"flex items-center gap-2",children:[u.jsx(pa,{className:"h-5 w-5"}),"Retell.ai Agent Panel"]})}),u.jsxs(Fe,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"phone",children:"Phone Number"}),u.jsx(Ut,{id:"phone",type:"tel",placeholder:"+1234567890",value:r,onChange:x=>i(x.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"agent",children:"Agent ID"}),u.jsx(Ut,{id:"agent",value:t,disabled:!0,className:"bg-muted"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"context",children:"Call Context"}),u.jsx(iu,{id:"context",placeholder:"Enter context or talking points for the call...",value:a,onChange:x=>s(x.target.value),rows:3})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"document",children:"Upload Document (Optional)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(se,{variant:"outline",onClick:()=>{var x;return(x=n.current)==null?void 0:x.click()},disabled:f,children:[f?u.jsx(AI,{className:"h-4 w-4 animate-spin mr-2"}):u.jsx(Ak,{className:"h-4 w-4 mr-2"}),"Upload Document"]}),o&&u.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[u.jsx(Sc,{className:"h-4 w-4"}),o.name]})]}),u.jsx("input",{ref:n,type:"file",onChange:g,accept:".txt,.pdf,.doc,.docx",className:"hidden"})]}),c&&u.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[u.jsx(Ge,{className:"text-sm font-medium",children:"Document Content Preview:"}),u.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[c.substring(0,200),c.length>200&&"..."]})]}),u.jsx(se,{onClick:b,disabled:p||!r,className:"w-full",children:p?u.jsxs(u.Fragment,{children:[u.jsx(AI,{className:"h-4 w-4 animate-spin mr-2"}),"Initiating Call..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Ta,{className:"h-4 w-4 mr-2"}),"Initiate Call"]})})]})]}),u.jsxs(ne,{children:[u.jsx(et,{children:u.jsx(tt,{children:"AI Analysis Integration"})}),u.jsxs(Fe,{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"The Retell.ai agent integrates with your existing AI analysis system to:"}),u.jsxs("ul",{className:"list-disc list-inside text-sm text-muted-foreground mt-2 space-y-1",children:[u.jsx("li",{children:"Analyze uploaded documents for call context"}),u.jsx("li",{children:"Generate intelligent talking points"}),u.jsx("li",{children:"Track call performance and outcomes"}),u.jsx("li",{children:"Integrate with campaign analytics"})]})]})]})]})},G7e=()=>{var b;const t=pi(),{user:e,signOut:n}=Un(),{toast:r}=Vt(),[i,a]=S.useState(null),[s,o]=S.useState(!1),[l,c]=S.useState(!1),[d,f]=S.useState([]),[h,p]=S.useState({totalCampaigns:0,messagesSent:0,callsMade:0,responseRate:0});S.useEffect(()=>{m()},[e]);const m=async()=>{if(e)try{const{data:x,error:v}=await Pe.from("campaigns").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(v)throw v;f(x||[]);const y=(x==null?void 0:x.length)||0,w=(x==null?void 0:x.reduce((T,C)=>T+(C.messages_sent||0),0))||0,_=(x==null?void 0:x.reduce((T,C)=>T+(C.calls_made||0),0))||0,E=(x==null?void 0:x.reduce((T,C)=>T+(C.responses_received||0),0))||0,A=w+_,j=A>0?Math.round(E/A*100):0;p({totalCampaigns:y,messagesSent:w,callsMade:_,responseRate:j})}catch(x){console.error("Error loading dashboard data:",x),r({title:"Error loading data",description:"Failed to load dashboard data. Please refresh the page.",variant:"destructive"})}},g=async()=>{try{await n(),t("/")}catch(x){console.error("Error signing out:",x),r({title:"Sign out failed",description:"Please try again",variant:"destructive"})}};return u.jsxs("div",{className:"min-h-screen bg-ai-gradient-subtle",children:[u.jsx("div",{className:"bg-card/50 backdrop-blur-sm border-b border-border/50 sticky top-0 z-40",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-ai-gradient rounded-lg flex items-center justify-center",children:u.jsx(pa,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-lg font-semibold",children:"AdmitConnect AI"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Admin Dashboard"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ep,{to:"/analytics",children:u.jsxs(se,{variant:"outline",size:"sm",children:[u.jsx(fl,{className:"w-4 h-4 mr-2"}),"Analytics"]})}),u.jsxs(se,{variant:"outline",size:"sm",onClick:()=>c(!0),children:[u.jsx(Ir,{className:"w-4 h-4 mr-2"}),"Upgrade"]}),u.jsx(se,{variant:"ghost",size:"sm",onClick:()=>o(!0),children:u.jsx(eg,{className:"w-4 h-4"})}),u.jsx(se,{variant:"ghost",size:"sm",onClick:g,children:u.jsx(_k,{className:"w-4 h-4"})})]})]})})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Admin Control Center "}),u.jsx("p",{className:"text-muted-foreground",children:"Manage campaigns, candidate data, and system configurations."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[u.jsx(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Sc,{className:"w-5 h-5 text-blue-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Campaigns"}),u.jsx("p",{className:"text-2xl font-bold",children:h.totalCampaigns})]})]})}),u.jsx(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:u.jsx(ci,{className:"w-5 h-5 text-green-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Messages Sent"}),u.jsx("p",{className:"text-2xl font-bold",children:h.messagesSent})]})]})}),u.jsx(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Ta,{className:"w-5 h-5 text-purple-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Calls Made"}),u.jsx("p",{className:"text-2xl font-bold",children:h.callsMade})]})]})}),u.jsx(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-orange-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Ir,{className:"w-5 h-5 text-orange-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Response Rate"}),u.jsxs("p",{className:"text-2xl font-bold",children:[h.responseRate,"%"]})]})]})})]}),u.jsxs(au,{defaultValue:"campaigns",className:"space-y-6",children:[u.jsxs(Fl,{className:"grid w-full grid-cols-7",children:[u.jsx(mt,{value:"campaigns",children:"Campaigns"}),u.jsx(mt,{value:"data",children:"Candidate Data"}),u.jsx(mt,{value:"agents",children:"Agent Control"}),u.jsx(mt,{value:"decision",children:"Decision Logic"}),u.jsx(mt,{value:"performance",children:"Performance"}),u.jsx(mt,{value:"retell",children:"Retell AI"}),u.jsx(mt,{value:"automation",children:"Automation"}),u.jsx(mt,{value:"notifications",children:"Notifications"})]}),u.jsxs(gt,{value:"campaigns",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Campaign Management"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(se,{onClick:()=>a("create-campaign"),variant:"hero",children:[u.jsx(np,{className:"w-4 h-4 mr-2"}),"New Campaign"]}),d.length>0&&u.jsxs(se,{onClick:()=>a("execute-campaign"),variant:"outline",children:[u.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Execute"]})]})]}),d.length===0?u.jsxs(ne,{className:"p-8 text-center bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx(Sc,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No campaigns yet"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first campaign to start reaching prospective students."}),u.jsx(se,{onClick:()=>a("create-campaign"),variant:"hero",children:"Create Your First Campaign"})]}):u.jsx("div",{className:"grid grid-cols-1 gap-4",children:d.map(x=>u.jsx(Dj,{campaign:x,onUpdate:m},x.id))})]}),u.jsx(gt,{value:"data",className:"space-y-6",children:u.jsx(B7e,{})}),u.jsx(gt,{value:"agents",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Enhanced Agent Control"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Advanced multi-agent coordination and intelligent execution"})]}),u.jsx(z7e,{})]})}),u.jsx(gt,{value:"decision",children:u.jsx(U7e,{})}),u.jsx(gt,{value:"performance",children:u.jsx(W7e,{})}),u.jsx(gt,{value:"retell",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Retell.ai Agent Integration"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"AI-powered voice calls with document analysis"})]}),u.jsx(q7e,{})]})}),u.jsx(gt,{value:"automation",children:u.jsx(BK,{})}),u.jsx(gt,{value:"notifications",children:u.jsx(zK,{})})]})]}),u.jsx(ai,{open:i==="create-campaign",onOpenChange:x=>!x&&a(null),children:u.jsxs(Mr,{className:"max-w-2xl",children:[u.jsx(Dr,{children:u.jsx(Lr,{children:"Create New Campaign"})}),u.jsx(IV,{onCampaignCreated:()=>{a(null),m()}})]})}),u.jsx(ai,{open:i==="upload-candidates",onOpenChange:x=>!x&&a(null),children:u.jsxs(Mr,{className:"max-w-2xl",children:[u.jsx(Dr,{children:u.jsx(Lr,{children:"Upload Candidates"})}),u.jsx(PV,{campaignId:(b=d[0])==null?void 0:b.id,onUploadComplete:()=>{a(null),m()}})]})}),u.jsx(ai,{open:i==="execute-campaign",onOpenChange:x=>!x&&a(null),children:u.jsxs(Mr,{className:"max-w-2xl",children:[u.jsx(Dr,{children:u.jsx(Lr,{children:"Execute Campaign"})}),d.length>0&&u.jsx(UK,{campaign:d[0],onExecutionComplete:()=>{a(null),m(),r({title:"Campaign Executed",description:"Your campaign is now running across selected channels"})}})]})}),u.jsx(xO,{open:s,onOpenChange:o}),u.jsx(OO,{open:l,onOpenChange:c})]})},K7e=()=>{const[t,e]=S.useState([]),[n,r]=S.useState([]),[i,a]=S.useState([]),[s,o]=S.useState(!0),[l,c]=S.useState("7d"),{toast:d}=Vt();S.useEffect(()=>{f()},[l]);const f=async()=>{o(!0);try{const E=h(l),{data:A,error:j}=await Pe.from("campaign_analytics").select(`
          *,
          campaigns (name)
        `).gte("timestamp",E.toISOString()).order("timestamp",{ascending:!1});if(j)throw j;const T=p(A||[]);e(T);const C=m(A||[]);r(C);const k=g(A||[]);a(k)}catch(E){console.error("Error fetching analytics:",E),d({title:"Error",description:"Failed to load analytics data",variant:"destructive"})}finally{o(!1)}},h=E=>{const A=new Date;switch(E){case"24h":return new Date(A.getTime()-24*60*60*1e3);case"7d":return new Date(A.getTime()-7*24*60*60*1e3);case"30d":return new Date(A.getTime()-30*24*60*60*1e3);default:return new Date(A.getTime()-7*24*60*60*1e3)}},p=E=>{const A=E.reduce((j,T)=>{var k,O;const C=`${((k=T.campaigns)==null?void 0:k.name)||"Unknown"}-${T.event_type}-${T.channel}`;return j[C]||(j[C]={campaign_id:T.campaign_id,campaign_name:((O=T.campaigns)==null?void 0:O.name)||"Unknown",event_type:T.event_type,channel:T.channel,status:T.status,count:0,timestamp:T.timestamp}),j[C].count++,j},{});return Object.values(A)},m=E=>["email","voice","whatsapp"].map(j=>{const T=E.filter(F=>F.channel===j),C=T.filter(F=>F.event_type.includes("sent")||F.event_type.includes("initiated")).length,k=T.filter(F=>F.status==="success"&&F.event_type.includes("delivered")).length,O=T.filter(F=>F.event_type.includes("opened")||F.event_type.includes("answered")).length,L=T.filter(F=>F.event_type.includes("failed")||F.status==="failed").length,R=C>0?O/C*100:0;return{channel:j,sent:C,delivered:k,opened:O,failed:L,engagement_rate:Math.round(R*100)/100}}),g=E=>{const A=[],j=new Date;for(let T=6;T>=0;T--){const C=new Date(j.getTime()-T*24*60*60*1e3),k={date:C.toLocaleDateString(),email:0,voice:0,whatsapp:0};E.forEach(O=>{new Date(O.timestamp).toDateString()===C.toDateString()&&O.status==="success"&&(O.channel==="email"&&k.email++,O.channel==="voice"&&k.voice++,O.channel==="whatsapp"&&k.whatsapp++)}),A.push(k)}return A},b=async()=>{try{const E=x(),A=new Blob([E],{type:"text/csv"}),j=window.URL.createObjectURL(A),T=document.createElement("a");T.href=j,T.download=`agent-analytics-${l}-${new Date().toISOString().split("T")[0]}.csv`,T.click(),window.URL.revokeObjectURL(j),d({title:"Success",description:"Analytics report exported successfully"})}catch{d({title:"Error",description:"Failed to export report",variant:"destructive"})}},x=()=>{const E=["Campaign","Channel","Event Type","Status","Count","Timestamp"],A=t.map(j=>[j.campaign_name,j.channel,j.event_type,j.status,j.count,j.timestamp]);return[E,...A].map(j=>j.join(",")).join(`
`)},v=["#8884d8","#82ca9d","#ffc658","#ff7300"],y=n.reduce((E,A)=>E+A.opened,0),w=n.reduce((E,A)=>E+A.sent,0),_=w>0?y/w*100:0;return s?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx(pl,{className:"h-8 w-8 animate-spin"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Agent Analytics Dashboard"}),u.jsx("p",{className:"text-muted-foreground",children:"Track engagement across all channels"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("select",{className:"rounded-md border border-input bg-background px-3 py-2",value:l,onChange:E=>c(E.target.value),children:[u.jsx("option",{value:"24h",children:"Last 24 Hours"}),u.jsx("option",{value:"7d",children:"Last 7 Days"}),u.jsx("option",{value:"30d",children:"Last 30 Days"})]}),u.jsxs(se,{onClick:f,variant:"outline",size:"sm",children:[u.jsx(pl,{className:"h-4 w-4 mr-2"}),"Refresh"]}),u.jsxs(se,{onClick:b,variant:"outline",size:"sm",children:[u.jsx(wk,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsx(ne,{children:u.jsxs(Fe,{className:"flex items-center justify-between p-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Sent"}),u.jsx("p",{className:"text-2xl font-bold",children:w})]}),u.jsx(ci,{className:"h-8 w-8 text-muted-foreground"})]})}),u.jsx(ne,{children:u.jsxs(Fe,{className:"flex items-center justify-between p-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Engagement"}),u.jsx("p",{className:"text-2xl font-bold",children:y})]}),u.jsx(Ir,{className:"h-8 w-8 text-muted-foreground"})]})}),u.jsx(ne,{children:u.jsxs(Fe,{className:"flex items-center justify-between p-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Engagement Rate"}),u.jsxs("p",{className:"text-2xl font-bold",children:[_.toFixed(1),"%"]})]}),u.jsx($r,{className:"h-8 w-8 text-muted-foreground"})]})}),u.jsx(ne,{children:u.jsxs(Fe,{className:"flex items-center justify-between p-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Channels"}),u.jsx("p",{className:"text-2xl font-bold",children:n.filter(E=>E.sent>0).length})]}),u.jsx(ni,{className:"h-8 w-8 text-muted-foreground"})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(ne,{children:[u.jsxs(et,{children:[u.jsx(tt,{children:"Channel Performance"}),u.jsx(Xa,{children:"Messages sent and engagement by channel"})]}),u.jsx(Fe,{children:u.jsx(mp,{width:"100%",height:300,children:u.jsxs($7e,{data:n,children:[u.jsx(wx,{strokeDasharray:"3 3"}),u.jsx(jl,{dataKey:"channel"}),u.jsx(Al,{}),u.jsx(wr,{}),u.jsx(ol,{}),u.jsx(Ws,{dataKey:"sent",fill:"#8884d8",name:"Sent"}),u.jsx(Ws,{dataKey:"opened",fill:"#82ca9d",name:"Engaged"}),u.jsx(Ws,{dataKey:"failed",fill:"#ff7300",name:"Failed"})]})})})]}),u.jsxs(ne,{children:[u.jsxs(et,{children:[u.jsx(tt,{children:"Channel Distribution"}),u.jsx(Xa,{children:"Share of total messages by channel"})]}),u.jsx(Fe,{children:u.jsx(mp,{width:"100%",height:300,children:u.jsxs(LK,{children:[u.jsx(xs,{data:n.filter(E=>E.sent>0),cx:"50%",cy:"50%",labelLine:!1,label:({channel:E,sent:A})=>`${E}: ${A}`,outerRadius:80,fill:"#8884d8",dataKey:"sent",children:n.map((E,A)=>u.jsx(Ag,{fill:v[A%v.length]},`cell-${A}`))}),u.jsx(wr,{})]})})})]})]}),u.jsxs(ne,{children:[u.jsxs(et,{children:[u.jsx(tt,{children:"Engagement Trends"}),u.jsx(Xa,{children:"Daily engagement across all channels"})]}),u.jsx(Fe,{children:u.jsx(mp,{width:"100%",height:300,children:u.jsxs(I7e,{data:i,children:[u.jsx(wx,{strokeDasharray:"3 3"}),u.jsx(jl,{dataKey:"date"}),u.jsx(Al,{}),u.jsx(wr,{}),u.jsx(ol,{}),u.jsx(Oc,{type:"monotone",dataKey:"email",stroke:"#8884d8",strokeWidth:2}),u.jsx(Oc,{type:"monotone",dataKey:"voice",stroke:"#82ca9d",strokeWidth:2}),u.jsx(Oc,{type:"monotone",dataKey:"whatsapp",stroke:"#ffc658",strokeWidth:2})]})})})]}),u.jsxs(ne,{children:[u.jsxs(et,{children:[u.jsx(tt,{children:"Channel Details"}),u.jsx(Xa,{children:"Detailed performance metrics by channel"})]}),u.jsx(Fe,{children:u.jsx("div",{className:"space-y-4",children:n.map(E=>{const A=E.channel==="email"?ni:E.channel==="voice"?Ta:ci;return u.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(A,{className:"h-5 w-5"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium capitalize",children:E.channel}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[E.sent," sent, ",E.opened," engaged"]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs(jn,{variant:E.engagement_rate>10?"default":"secondary",children:[E.engagement_rate,"% engagement"]}),E.failed>0&&u.jsxs("p",{className:"text-sm text-red-600 mt-1",children:[E.failed," failed"]})]})]},E.channel)})})})]})]})},Y7e=()=>{const t=pi(),{user:e,signOut:n}=Un(),{toast:r}=Vt(),[i,a]=S.useState(!1),[s,o]=S.useState(!1),l=async()=>{try{await n(),t("/")}catch(c){console.error("Error signing out:",c),r({title:"Sign out failed",description:"Please try again",variant:"destructive"})}};return u.jsxs("div",{className:"min-h-screen bg-ai-gradient-subtle",children:[u.jsx("div",{className:"bg-card/50 backdrop-blur-sm border-b border-border/50 sticky top-0 z-40",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-ai-gradient rounded-lg flex items-center justify-center",children:u.jsx(pa,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-lg font-semibold",children:"AdmitConnect AI"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Analytics Dashboard"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ep,{to:"/admin",children:u.jsxs(se,{variant:"outline",size:"sm",children:[u.jsx($r,{className:"w-4 h-4 mr-2"}),"Admin"]})}),u.jsxs(se,{variant:"outline",size:"sm",onClick:()=>o(!0),children:[u.jsx(Ir,{className:"w-4 h-4 mr-2"}),"Upgrade"]}),u.jsx(se,{variant:"ghost",size:"sm",onClick:()=>a(!0),children:u.jsx(eg,{className:"w-4 h-4"})}),u.jsx(se,{variant:"ghost",size:"sm",onClick:l,children:u.jsx(_k,{className:"w-4 h-4"})})]})]})})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Analytics & Intelligence Center "}),u.jsx("p",{className:"text-muted-foreground",children:"Deep insights into campaign performance, agent analytics, and AI-driven intelligence."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[u.jsx(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:u.jsx(fl,{className:"w-5 h-5 text-blue-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Campaign Analytics"}),u.jsx("p",{className:"text-lg font-semibold",children:"Performance Tracking"})]})]})}),u.jsx(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Ds,{className:"w-5 h-5 text-green-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Agent Analytics"}),u.jsx("p",{className:"text-lg font-semibold",children:"Channel Performance"})]})]})}),u.jsx(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Zs,{className:"w-5 h-5 text-purple-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"AI Intelligence"}),u.jsx("p",{className:"text-lg font-semibold",children:"LLM & Agentic RAG"})]})]})}),u.jsx(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-orange-500/10 rounded-lg flex items-center justify-center",children:u.jsx(dd,{className:"w-5 h-5 text-orange-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Data Distribution"}),u.jsx("p",{className:"text-lg font-semibold",children:"Layer Analytics"})]})]})})]}),u.jsxs(au,{defaultValue:"campaigns",className:"space-y-6",children:[u.jsxs(Fl,{className:"grid w-full grid-cols-4",children:[u.jsx(mt,{value:"campaigns",children:"Campaign Analytics"}),u.jsx(mt,{value:"agents",children:"Agent Performance"}),u.jsx(mt,{value:"intelligence",children:"AI Intelligence"}),u.jsx(mt,{value:"realtime",children:"Real-time Monitoring"})]}),u.jsxs(gt,{value:"campaigns",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Campaign Performance Analytics"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Comprehensive campaign metrics and insights"})]}),u.jsx(FK,{})]}),u.jsxs(gt,{value:"agents",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Agent Performance Dashboard"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Multi-channel agent analytics and performance metrics"})]}),u.jsx(K7e,{})]}),u.jsxs(gt,{value:"intelligence",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"AI Intelligence Center"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"LLM performance, Agentic RAG insights, and AI decision logic"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Zs,{className:"w-6 h-6 text-purple-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"LLM Performance"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Response Quality"}),u.jsx("span",{className:"font-semibold",children:"94.2%"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Average Response Time"}),u.jsx("span",{className:"font-semibold",children:"1.8s"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Context Retention"}),u.jsx("span",{className:"font-semibold",children:"98.7%"})]})]})]}),u.jsxs(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Fr,{className:"w-6 h-6 text-orange-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"Agentic RAG"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Knowledge Retrieval"}),u.jsx("span",{className:"font-semibold",children:"96.8%"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Context Relevance"}),u.jsx("span",{className:"font-semibold",children:"92.4%"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Decision Accuracy"}),u.jsx("span",{className:"font-semibold",children:"89.6%"})]})]})]})]}),u.jsxs(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(dd,{className:"w-6 h-6 text-blue-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"Decision Logic & MCP Server"})]}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Intelligent routing and decision-making for automated campaigns and agent coordination."}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[u.jsx(Ds,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),u.jsx("p",{className:"font-semibold",children:"Active Decisions"}),u.jsx("p",{className:"text-2xl font-bold text-green-500",children:"1,247"})]}),u.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[u.jsx(Ir,{className:"w-8 h-8 text-blue-500 mx-auto mb-2"}),u.jsx("p",{className:"font-semibold",children:"Success Rate"}),u.jsx("p",{className:"text-2xl font-bold text-blue-500",children:"94.2%"})]}),u.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[u.jsx(Fr,{className:"w-8 h-8 text-purple-500 mx-auto mb-2"}),u.jsx("p",{className:"font-semibold",children:"Avg Process Time"}),u.jsx("p",{className:"text-2xl font-bold text-purple-500",children:"0.3s"})]})]})]})]}),u.jsxs(gt,{value:"realtime",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Real-time System Monitoring"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Live system performance and agent activity"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Ds,{className:"w-6 h-6 text-green-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"System Health"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Email Agent"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"Online"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Voice Agent"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"Online"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Messaging Agent"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"Online"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"AI Chatbot"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"Online"})]})]})]}),u.jsxs(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(fl,{className:"w-6 h-6 text-blue-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"Live Metrics"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Active Campaigns"}),u.jsx("span",{className:"text-blue-500 text-sm font-semibold",children:"7"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Messages Queued"}),u.jsx("span",{className:"text-orange-500 text-sm font-semibold",children:"23"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Processing Time"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"0.8s"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Success Rate"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"96.2%"})]})]})]}),u.jsxs(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Ir,{className:"w-6 h-6 text-purple-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"Recent Activity"})]}),u.jsxs("div",{className:"space-y-3 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Campaign started"}),u.jsx("span",{className:"text-muted-foreground",children:"2m ago"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"23 emails sent"}),u.jsx("span",{className:"text-muted-foreground",children:"5m ago"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Voice calls completed"}),u.jsx("span",{className:"text-muted-foreground",children:"8m ago"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Data sync completed"}),u.jsx("span",{className:"text-muted-foreground",children:"12m ago"})]})]})]})]})]})]})]}),u.jsx(xO,{open:i,onOpenChange:a}),u.jsx(OO,{open:s,onOpenChange:o})]})},X7e=()=>{const[t,e]=S.useState(""),[n,r]=S.useState(""),[i,a]=S.useState(!1),[s,o]=S.useState(!1),[l,c]=S.useState({}),[d,f]=S.useState({}),h=pi(),{toast:p}=Vt(),[m]=VF(),g=m.get("token"),b=m.get("token_hash");m.get("type");const x=m.get("email"),[v,y]=S.useState(!!g||!!b),[w,_]=S.useState(!1);S.useEffect(()=>{g||b||Pe.auth.getSession().then(({data:{session:C}})=>{C||(p({title:"Invalid or expired reset link",description:"Please request a new password reset link.",variant:"destructive"}),h("/auth"))})},[h,p,g,b]);const E=async()=>{if(!(!g&&!b||!x)){_(!0),console.log("Verifying Identity with:",{token:g,tokenHash:b,email:x,type:"recovery"});try{let C;const k=b||(g&&g.length>20?g:null);if(k?(console.log("Using token_hash flow (detected hash)"),C=(await Pe.auth.verifyOtp({token_hash:k,type:"recovery"})).error,C&&!b&&g&&(console.log("token_hash failed, retrying with standard token..."),(await Pe.auth.verifyOtp({token:g,type:"recovery",email:x})).error||(C=null))):(console.log("Using standard token flow"),C=(await Pe.auth.verifyOtp({token:g,type:"recovery",email:x})).error),C)throw console.error("verifyOtp error:",C),C;console.log("Identity verified successfully"),y(!1),p({title:"Identity Verified",description:"Please set your new password."})}catch(C){console.error("Verification Catch Block:",C),p({title:"Verification Failed",description:C.message||"Link expired or invalid",variant:"destructive"})}finally{_(!1)}}},A=C=>{const k={...l},O={...d};return C.trim()?C.length<8?(k.password="Password must be at least 8 characters",O.password=!1):(delete k.password,O.password=!0):(k.password="Password is required",O.password=!1),c(k),f(O),!k.password},j=C=>{const k={...l},O={...d};return C.trim()?C!==t?(k.confirmPassword="Passwords do not match",O.confirmPassword=!1):(delete k.confirmPassword,O.confirmPassword=!0):(k.confirmPassword="Please confirm your password",O.confirmPassword=!1),c(k),f(O),!k.confirmPassword},T=async C=>{C.preventDefault();const k=A(t),O=j(n);if(!(!k||!O)){a(!0);try{const{error:L}=await Pe.auth.updateUser({password:t});if(L)throw L;o(!0),p({title:"Password reset successful!",description:"You can now sign in with your new password."}),setTimeout(()=>{h("/auth")},2e3)}catch(L){console.error("Password reset error:",L),p({title:"Failed to reset password",description:L.message||"Please try again",variant:"destructive"})}finally{a(!1)}}};return u.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:[u.jsx(uV,{title:"Reset Password - AdmitConnect AI",description:"Reset your AdmitConnect AI account password"}),u.jsx(ne,{className:"max-w-md w-full p-8 bg-card/95 backdrop-blur-sm border-border/50",children:s?u.jsxs("div",{className:"text-center space-y-6 animate-fade-in",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center mx-auto bg-green-500 animate-bounce-in",children:u.jsx(ma,{className:"w-8 h-8 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Password Reset!"}),u.jsx("p",{className:"text-muted-foreground",children:"Redirecting you to sign in..."})]})]}):v?u.jsxs("div",{className:"text-center space-y-6 animate-fade-in",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 bg-ai-gradient animate-bounce-in",children:u.jsx(jI,{className:"w-8 h-8 text-white"})}),u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Verify Your Identity"}),u.jsx("p",{className:"text-muted-foreground",children:"Click the button below to verify your email and reset your password."}),u.jsx(Us,{onClick:E,variant:"hero",size:"lg",className:"w-full",disabled:w,children:w?u.jsxs(u.Fragment,{children:[u.jsx(El,{size:"sm",className:"mr-2"}),"Verifying..."]}):"Verify Identity"})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 bg-ai-gradient animate-bounce-in",children:u.jsx(jI,{className:"w-8 h-8 text-white"})}),u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Reset Your Password"}),u.jsx("p",{className:"text-muted-foreground",children:"Enter your new password below"})]}),u.jsxs("form",{onSubmit:T,className:"space-y-4",children:[u.jsx(sa,{label:"New Password",id:"newPassword",type:"password",value:t,onChange:C=>{e(C),C.trim()&&A(C)},placeholder:"Enter new password",error:l.password,success:d.password,required:!0}),u.jsx(sa,{label:"Confirm Password",id:"confirmPassword",type:"password",value:n,onChange:C=>{r(C),C.trim()&&j(C)},placeholder:"Confirm new password",error:l.confirmPassword,success:d.confirmPassword,required:!0}),u.jsx(Us,{type:"submit",variant:"hero",size:"lg",className:"w-full",disabled:i||!t.trim()||!n.trim(),children:i?u.jsxs(u.Fragment,{children:[u.jsx(El,{size:"sm",className:"mr-2"}),"Resetting Password..."]}):"Reset Password"})]})]})})]})},Z7e=new BZ,J7e=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState(!0);S.useEffect(()=>{window.location.pathname.includes("/reset-password")?(e(!1),r(!0)):(e(!0),r(!1))},[]);const i=()=>{r(!0)};return t&&!n?u.jsx(mwe,{onComplete:i}):u.jsx(hwe,{children:u.jsx(ZF,{children:u.jsx(UZ,{client:Z7e,children:u.jsx(qJ,{attribute:"class",defaultTheme:"dark",enableSystem:!0,children:u.jsxs(dz,{children:[u.jsx(_te,{}),u.jsx(Gte,{}),u.jsx(Dae,{children:u.jsxs(FJ,{children:[u.jsx(pwe,{}),u.jsx(fwe,{}),u.jsxs(NJ,{children:[u.jsx(Fa,{path:"/",element:u.jsx(s1e,{})}),u.jsx(Fa,{path:"/auth",element:u.jsx(o1e,{})}),u.jsx(Fa,{path:"/reset-password",element:u.jsx(X7e,{})}),u.jsx(Fa,{path:"/about",element:u.jsx(D7e,{})}),u.jsx(Fa,{path:"/our-services",element:u.jsx(L7e,{})}),u.jsx(Fa,{path:"/dashboard",element:u.jsx($_,{children:u.jsx(M7e,{})})}),u.jsx(Fa,{path:"/admin",element:u.jsx($_,{children:u.jsx(G7e,{})})}),u.jsx(Fa,{path:"/analytics",element:u.jsx($_,{children:u.jsx(Y7e,{})})}),u.jsx(Fa,{path:"*",element:u.jsx(F7e,{})})]}),u.jsx(uwe,{}),u.jsx(dwe,{})]})})]})})})})})};kF(document.getElementById("root")).render(u.jsx(J7e,{}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});export{Zge as C,Sa as H,us as S,Ii as _,GK as a,kb as b,un as c,at as g};
