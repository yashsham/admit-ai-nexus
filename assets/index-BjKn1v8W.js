var IK=Object.defineProperty;var kN=t=>{throw TypeError(t)};var $K=(t,e,n)=>e in t?IK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var z=(t,e,n)=>$K(t,typeof e!="symbol"?e+"":e,n),Mw=(t,e,n)=>e.has(t)||kN("Cannot "+n);var ne=(t,e,n)=>(Mw(t,e,"read from private field"),n?n.call(t):e.get(t)),xt=(t,e,n)=>e.has(t)?kN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),nt=(t,e,n,r)=>(Mw(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Un=(t,e,n)=>(Mw(t,e,"access private method"),n);var Cg=(t,e,n,r)=>({set _(i){nt(t,e,i,n)},get _(){return ne(t,e,r)}});function RK(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var un=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function at(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function MK(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var t5={exports:{}},xx={},n5={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm=Symbol.for("react.element"),LK=Symbol.for("react.portal"),DK=Symbol.for("react.fragment"),FK=Symbol.for("react.strict_mode"),BK=Symbol.for("react.profiler"),zK=Symbol.for("react.provider"),UK=Symbol.for("react.context"),HK=Symbol.for("react.forward_ref"),WK=Symbol.for("react.suspense"),VK=Symbol.for("react.memo"),qK=Symbol.for("react.lazy"),ON=Symbol.iterator;function GK(t){return t===null||typeof t!="object"?null:(t=ON&&t[ON]||t["@@iterator"],typeof t=="function"?t:null)}var r5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},i5=Object.assign,a5={};function gf(t,e,n){this.props=t,this.context=e,this.refs=a5,this.updater=n||r5}gf.prototype.isReactComponent={};gf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};gf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function s5(){}s5.prototype=gf.prototype;function aC(t,e,n){this.props=t,this.context=e,this.refs=a5,this.updater=n||r5}var sC=aC.prototype=new s5;sC.constructor=aC;i5(sC,gf.prototype);sC.isPureReactComponent=!0;var NN=Array.isArray,o5=Object.prototype.hasOwnProperty,oC={current:null},l5={key:!0,ref:!0,__self:!0,__source:!0};function c5(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)o5.call(e,r)&&!l5.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Lm,type:t,key:a,ref:s,props:i,_owner:oC.current}}function KK(t,e){return{$$typeof:Lm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function lC(t){return typeof t=="object"&&t!==null&&t.$$typeof===Lm}function YK(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var PN=/\/+/g;function Lw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YK(""+t.key):e.toString(36)}function Ly(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Lm:case LK:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Lw(s,0):r,NN(i)?(n="",t!=null&&(n=t.replace(PN,"$&/")+"/"),Ly(i,e,n,"",function(c){return c})):i!=null&&(lC(i)&&(i=KK(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(PN,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",NN(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+Lw(a,o);s+=Ly(a,e,n,l,i)}else if(l=GK(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+Lw(a,o++),s+=Ly(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Tg(t,e,n){if(t==null)return t;var r=[],i=0;return Ly(t,r,"","",function(a){return e.call(n,a,i++)}),r}function XK(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mr={current:null},Dy={transition:null},ZK={ReactCurrentDispatcher:mr,ReactCurrentBatchConfig:Dy,ReactCurrentOwner:oC};function u5(){throw Error("act(...) is not supported in production builds of React.")}ot.Children={map:Tg,forEach:function(t,e,n){Tg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Tg(t,function(){e++}),e},toArray:function(t){return Tg(t,function(e){return e})||[]},only:function(t){if(!lC(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ot.Component=gf;ot.Fragment=DK;ot.Profiler=BK;ot.PureComponent=aC;ot.StrictMode=FK;ot.Suspense=WK;ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZK;ot.act=u5;ot.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=i5({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=oC.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)o5.call(e,l)&&!l5.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Lm,type:t.type,key:i,ref:a,props:r,_owner:s}};ot.createContext=function(t){return t={$$typeof:UK,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zK,_context:t},t.Consumer=t};ot.createElement=c5;ot.createFactory=function(t){var e=c5.bind(null,t);return e.type=t,e};ot.createRef=function(){return{current:null}};ot.forwardRef=function(t){return{$$typeof:HK,render:t}};ot.isValidElement=lC;ot.lazy=function(t){return{$$typeof:qK,_payload:{_status:-1,_result:t},_init:XK}};ot.memo=function(t,e){return{$$typeof:VK,type:t,compare:e===void 0?null:e}};ot.startTransition=function(t){var e=Dy.transition;Dy.transition={};try{t()}finally{Dy.transition=e}};ot.unstable_act=u5;ot.useCallback=function(t,e){return mr.current.useCallback(t,e)};ot.useContext=function(t){return mr.current.useContext(t)};ot.useDebugValue=function(){};ot.useDeferredValue=function(t){return mr.current.useDeferredValue(t)};ot.useEffect=function(t,e){return mr.current.useEffect(t,e)};ot.useId=function(){return mr.current.useId()};ot.useImperativeHandle=function(t,e,n){return mr.current.useImperativeHandle(t,e,n)};ot.useInsertionEffect=function(t,e){return mr.current.useInsertionEffect(t,e)};ot.useLayoutEffect=function(t,e){return mr.current.useLayoutEffect(t,e)};ot.useMemo=function(t,e){return mr.current.useMemo(t,e)};ot.useReducer=function(t,e,n){return mr.current.useReducer(t,e,n)};ot.useRef=function(t){return mr.current.useRef(t)};ot.useState=function(t){return mr.current.useState(t)};ot.useSyncExternalStore=function(t,e,n){return mr.current.useSyncExternalStore(t,e,n)};ot.useTransition=function(){return mr.current.useTransition()};ot.version="18.3.1";n5.exports=ot;var S=n5.exports;const L=at(S),d5=RK({__proto__:null,default:L},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JK=S,QK=Symbol.for("react.element"),eY=Symbol.for("react.fragment"),tY=Object.prototype.hasOwnProperty,nY=JK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rY={key:!0,ref:!0,__self:!0,__source:!0};function f5(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)tY.call(e,r)&&!rY.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:QK,type:t,key:a,ref:s,props:i,_owner:nY.current}}xx.Fragment=eY;xx.jsx=f5;xx.jsxs=f5;t5.exports=xx;var u=t5.exports,h5={exports:{}},fi={},p5={exports:{}},m5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,D){var N=M.length;M.push(D);e:for(;0<N;){var V=N-1>>>1,G=M[V];if(0<i(G,D))M[V]=D,M[N]=G,N=V;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var D=M[0],N=M.pop();if(N!==D){M[0]=N;e:for(var V=0,G=M.length,$=G>>>1;V<$;){var te=2*(V+1)-1,ae=M[te],I=te+1,k=M[I];if(0>i(ae,N))I<G&&0>i(k,ae)?(M[V]=k,M[I]=N,V=I):(M[V]=ae,M[te]=N,V=te);else if(I<G&&0>i(k,N))M[V]=k,M[I]=N,V=I;else break e}}return D}function i(M,D){var N=M.sortIndex-D.sortIndex;return N!==0?N:M.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(M){for(var D=n(c);D!==null;){if(D.callback===null)r(c);else if(D.startTime<=M)r(c),D.sortIndex=D.expirationTime,e(l,D);else break;D=n(c)}}function _(M){if(g=!1,b(M),!m)if(n(l)!==null)m=!0,U(w);else{var D=n(c);D!==null&&W(_,D.startTime-M)}}function w(M,D){m=!1,g&&(g=!1,y(j),j=-1),p=!0;var N=h;try{for(b(D),f=n(l);f!==null&&(!(f.expirationTime>D)||M&&!O());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var G=V(f.expirationTime<=D);D=t.unstable_now(),typeof G=="function"?f.callback=G:f===n(l)&&r(l),b(D)}else r(l);f=n(l)}if(f!==null)var $=!0;else{var te=n(c);te!==null&&W(_,te.startTime-D),$=!1}return $}finally{f=null,h=N,p=!1}}var E=!1,A=null,j=-1,C=5,T=-1;function O(){return!(t.unstable_now()-T<C)}function P(){if(A!==null){var M=t.unstable_now();T=M;var D=!0;try{D=A(!0,M)}finally{D?H():(E=!1,A=null)}}else E=!1}var H;if(typeof x=="function")H=function(){x(P)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,B=R.port2;R.port1.onmessage=P,H=function(){B.postMessage(null)}}else H=function(){v(P,0)};function U(M){A=M,E||(E=!0,H())}function W(M,D){j=v(function(){M(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,U(w))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var N=h;h=D;try{return M()}finally{h=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,D){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var N=h;h=M;try{return D()}finally{h=N}},t.unstable_scheduleCallback=function(M,D,N){var V=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?V+N:V):N=V,M){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=N+G,M={id:d++,callback:D,priorityLevel:M,startTime:N,expirationTime:G,sortIndex:-1},N>V?(M.sortIndex=N,e(c,M),n(l)===null&&M===n(c)&&(g?(y(j),j=-1):g=!0,W(_,N-V))):(M.sortIndex=G,e(l,M),m||p||(m=!0,U(w))),M},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(M){var D=h;return function(){var N=h;h=D;try{return M.apply(this,arguments)}finally{h=N}}}})(m5);p5.exports=m5;var iY=p5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aY=S,ci=iY;function le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g5=new Set,pp={};function Uc(t,e){Sd(t,e),Sd(t+"Capture",e)}function Sd(t,e){for(pp[t]=e,t=0;t<e.length;t++)g5.add(e[t])}var qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Q1=Object.prototype.hasOwnProperty,sY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,IN={},$N={};function oY(t){return Q1.call($N,t)?!0:Q1.call(IN,t)?!1:sY.test(t)?$N[t]=!0:(IN[t]=!0,!1)}function lY(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cY(t,e,n,r){if(e===null||typeof e>"u"||lY(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gr(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Bn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Bn[t]=new gr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Bn[e]=new gr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Bn[t]=new gr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Bn[t]=new gr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Bn[t]=new gr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Bn[t]=new gr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Bn[t]=new gr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Bn[t]=new gr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Bn[t]=new gr(t,5,!1,t.toLowerCase(),null,!1,!1)});var cC=/[\-:]([a-z])/g;function uC(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cC,uC);Bn[e]=new gr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cC,uC);Bn[e]=new gr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cC,uC);Bn[e]=new gr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Bn[t]=new gr(t,1,!1,t.toLowerCase(),null,!1,!1)});Bn.xlinkHref=new gr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Bn[t]=new gr(t,1,!1,t.toLowerCase(),null,!0,!0)});function dC(t,e,n,r){var i=Bn.hasOwnProperty(e)?Bn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cY(e,n,i,r)&&(n=null),r||i===null?oY(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var so=aY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kg=Symbol.for("react.element"),Tu=Symbol.for("react.portal"),ku=Symbol.for("react.fragment"),fC=Symbol.for("react.strict_mode"),eS=Symbol.for("react.profiler"),y5=Symbol.for("react.provider"),v5=Symbol.for("react.context"),hC=Symbol.for("react.forward_ref"),tS=Symbol.for("react.suspense"),nS=Symbol.for("react.suspense_list"),pC=Symbol.for("react.memo"),jo=Symbol.for("react.lazy"),x5=Symbol.for("react.offscreen"),RN=Symbol.iterator;function Xf(t){return t===null||typeof t!="object"?null:(t=RN&&t[RN]||t["@@iterator"],typeof t=="function"?t:null)}var Jt=Object.assign,Dw;function Sh(t){if(Dw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Dw=e&&e[1]||""}return`
`+Dw+t}var Fw=!1;function Bw(t,e){if(!t||Fw)return"";Fw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{Fw=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Sh(t):""}function uY(t){switch(t.tag){case 5:return Sh(t.type);case 16:return Sh("Lazy");case 13:return Sh("Suspense");case 19:return Sh("SuspenseList");case 0:case 2:case 15:return t=Bw(t.type,!1),t;case 11:return t=Bw(t.type.render,!1),t;case 1:return t=Bw(t.type,!0),t;default:return""}}function rS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ku:return"Fragment";case Tu:return"Portal";case eS:return"Profiler";case fC:return"StrictMode";case tS:return"Suspense";case nS:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case v5:return(t.displayName||"Context")+".Consumer";case y5:return(t._context.displayName||"Context")+".Provider";case hC:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case pC:return e=t.displayName||null,e!==null?e:rS(t.type)||"Memo";case jo:e=t._payload,t=t._init;try{return rS(t(e))}catch{}}return null}function dY(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rS(e);case 8:return e===fC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ol(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function b5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fY(t){var e=b5(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Og(t){t._valueTracker||(t._valueTracker=fY(t))}function w5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=b5(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function uv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function iS(t,e){var n=e.checked;return Jt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function MN(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ol(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _5(t,e){e=e.checked,e!=null&&dC(t,"checked",e,!1)}function aS(t,e){_5(t,e);var n=ol(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sS(t,e.type,n):e.hasOwnProperty("defaultValue")&&sS(t,e.type,ol(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function LN(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function sS(t,e,n){(e!=="number"||uv(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Eh=Array.isArray;function Gu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ol(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function oS(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(le(91));return Jt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function DN(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(le(92));if(Eh(n)){if(1<n.length)throw Error(le(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ol(n)}}function S5(t,e){var n=ol(e.value),r=ol(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function FN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function E5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lS(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?E5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ng,j5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ng=Ng||document.createElement("div"),Ng.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ng.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Lh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hY=["Webkit","ms","Moz","O"];Object.keys(Lh).forEach(function(t){hY.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Lh[e]=Lh[t]})});function A5(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Lh.hasOwnProperty(t)&&Lh[t]?(""+e).trim():e+"px"}function C5(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=A5(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var pY=Jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cS(t,e){if(e){if(pY[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(le(62))}}function uS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dS=null;function mC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fS=null,Ku=null,Yu=null;function BN(t){if(t=Bm(t)){if(typeof fS!="function")throw Error(le(280));var e=t.stateNode;e&&(e=Ex(e),fS(t.stateNode,t.type,e))}}function T5(t){Ku?Yu?Yu.push(t):Yu=[t]:Ku=t}function k5(){if(Ku){var t=Ku,e=Yu;if(Yu=Ku=null,BN(t),e)for(t=0;t<e.length;t++)BN(e[t])}}function O5(t,e){return t(e)}function N5(){}var zw=!1;function P5(t,e,n){if(zw)return t(e,n);zw=!0;try{return O5(t,e,n)}finally{zw=!1,(Ku!==null||Yu!==null)&&(N5(),k5())}}function gp(t,e){var n=t.stateNode;if(n===null)return null;var r=Ex(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(le(231,e,typeof n));return n}var hS=!1;if(qs)try{var Zf={};Object.defineProperty(Zf,"passive",{get:function(){hS=!0}}),window.addEventListener("test",Zf,Zf),window.removeEventListener("test",Zf,Zf)}catch{hS=!1}function mY(t,e,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Dh=!1,dv=null,fv=!1,pS=null,gY={onError:function(t){Dh=!0,dv=t}};function yY(t,e,n,r,i,a,s,o,l){Dh=!1,dv=null,mY.apply(gY,arguments)}function vY(t,e,n,r,i,a,s,o,l){if(yY.apply(this,arguments),Dh){if(Dh){var c=dv;Dh=!1,dv=null}else throw Error(le(198));fv||(fv=!0,pS=c)}}function Hc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function I5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zN(t){if(Hc(t)!==t)throw Error(le(188))}function xY(t){var e=t.alternate;if(!e){if(e=Hc(t),e===null)throw Error(le(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return zN(i),t;if(a===r)return zN(i),e;a=a.sibling}throw Error(le(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(le(189))}}if(n.alternate!==r)throw Error(le(190))}if(n.tag!==3)throw Error(le(188));return n.stateNode.current===n?t:e}function $5(t){return t=xY(t),t!==null?R5(t):null}function R5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=R5(t);if(e!==null)return e;t=t.sibling}return null}var M5=ci.unstable_scheduleCallback,UN=ci.unstable_cancelCallback,bY=ci.unstable_shouldYield,wY=ci.unstable_requestPaint,cn=ci.unstable_now,_Y=ci.unstable_getCurrentPriorityLevel,gC=ci.unstable_ImmediatePriority,L5=ci.unstable_UserBlockingPriority,hv=ci.unstable_NormalPriority,SY=ci.unstable_LowPriority,D5=ci.unstable_IdlePriority,bx=null,Xa=null;function EY(t){if(Xa&&typeof Xa.onCommitFiberRoot=="function")try{Xa.onCommitFiberRoot(bx,t,void 0,(t.current.flags&128)===128)}catch{}}var da=Math.clz32?Math.clz32:CY,jY=Math.log,AY=Math.LN2;function CY(t){return t>>>=0,t===0?32:31-(jY(t)/AY|0)|0}var Pg=64,Ig=4194304;function jh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pv(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=jh(o):(a&=s,a!==0&&(r=jh(a)))}else s=n&~i,s!==0?r=jh(s):a!==0&&(r=jh(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-da(e),i=1<<n,r|=t[n],e&=~i;return r}function TY(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kY(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-da(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=TY(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function mS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function F5(){var t=Pg;return Pg<<=1,!(Pg&4194240)&&(Pg=64),t}function Uw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Dm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-da(e),t[e]=n}function OY(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-da(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function yC(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-da(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var St=0;function B5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var z5,vC,U5,H5,W5,gS=!1,$g=[],Vo=null,qo=null,Go=null,yp=new Map,vp=new Map,ko=[],NY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function HN(t,e){switch(t){case"focusin":case"focusout":Vo=null;break;case"dragenter":case"dragleave":qo=null;break;case"mouseover":case"mouseout":Go=null;break;case"pointerover":case"pointerout":yp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vp.delete(e.pointerId)}}function Jf(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Bm(e),e!==null&&vC(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function PY(t,e,n,r,i){switch(e){case"focusin":return Vo=Jf(Vo,t,e,n,r,i),!0;case"dragenter":return qo=Jf(qo,t,e,n,r,i),!0;case"mouseover":return Go=Jf(Go,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return yp.set(a,Jf(yp.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,vp.set(a,Jf(vp.get(a)||null,t,e,n,r,i)),!0}return!1}function V5(t){var e=ic(t.target);if(e!==null){var n=Hc(e);if(n!==null){if(e=n.tag,e===13){if(e=I5(n),e!==null){t.blockedOn=e,W5(t.priority,function(){U5(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=yS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);dS=r,n.target.dispatchEvent(r),dS=null}else return e=Bm(n),e!==null&&vC(e),t.blockedOn=n,!1;e.shift()}return!0}function WN(t,e,n){Fy(t)&&n.delete(e)}function IY(){gS=!1,Vo!==null&&Fy(Vo)&&(Vo=null),qo!==null&&Fy(qo)&&(qo=null),Go!==null&&Fy(Go)&&(Go=null),yp.forEach(WN),vp.forEach(WN)}function Qf(t,e){t.blockedOn===e&&(t.blockedOn=null,gS||(gS=!0,ci.unstable_scheduleCallback(ci.unstable_NormalPriority,IY)))}function xp(t){function e(i){return Qf(i,t)}if(0<$g.length){Qf($g[0],t);for(var n=1;n<$g.length;n++){var r=$g[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Vo!==null&&Qf(Vo,t),qo!==null&&Qf(qo,t),Go!==null&&Qf(Go,t),yp.forEach(e),vp.forEach(e),n=0;n<ko.length;n++)r=ko[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ko.length&&(n=ko[0],n.blockedOn===null);)V5(n),n.blockedOn===null&&ko.shift()}var Xu=so.ReactCurrentBatchConfig,mv=!0;function $Y(t,e,n,r){var i=St,a=Xu.transition;Xu.transition=null;try{St=1,xC(t,e,n,r)}finally{St=i,Xu.transition=a}}function RY(t,e,n,r){var i=St,a=Xu.transition;Xu.transition=null;try{St=4,xC(t,e,n,r)}finally{St=i,Xu.transition=a}}function xC(t,e,n,r){if(mv){var i=yS(t,e,n,r);if(i===null)Jw(t,e,r,gv,n),HN(t,r);else if(PY(i,t,e,n,r))r.stopPropagation();else if(HN(t,r),e&4&&-1<NY.indexOf(t)){for(;i!==null;){var a=Bm(i);if(a!==null&&z5(a),a=yS(t,e,n,r),a===null&&Jw(t,e,r,gv,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Jw(t,e,r,null,n)}}var gv=null;function yS(t,e,n,r){if(gv=null,t=mC(r),t=ic(t),t!==null)if(e=Hc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=I5(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gv=t,null}function q5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_Y()){case gC:return 1;case L5:return 4;case hv:case SY:return 16;case D5:return 536870912;default:return 16}default:return 16}}var Do=null,bC=null,By=null;function G5(){if(By)return By;var t,e=bC,n=e.length,r,i="value"in Do?Do.value:Do.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return By=i.slice(t,1<r?1-r:void 0)}function zy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rg(){return!0}function VN(){return!1}function hi(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Rg:VN,this.isPropagationStopped=VN,this}return Jt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rg)},persist:function(){},isPersistent:Rg}),e}var yf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wC=hi(yf),Fm=Jt({},yf,{view:0,detail:0}),MY=hi(Fm),Hw,Ww,eh,wx=Jt({},Fm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_C,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==eh&&(eh&&t.type==="mousemove"?(Hw=t.screenX-eh.screenX,Ww=t.screenY-eh.screenY):Ww=Hw=0,eh=t),Hw)},movementY:function(t){return"movementY"in t?t.movementY:Ww}}),qN=hi(wx),LY=Jt({},wx,{dataTransfer:0}),DY=hi(LY),FY=Jt({},Fm,{relatedTarget:0}),Vw=hi(FY),BY=Jt({},yf,{animationName:0,elapsedTime:0,pseudoElement:0}),zY=hi(BY),UY=Jt({},yf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),HY=hi(UY),WY=Jt({},yf,{data:0}),GN=hi(WY),VY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KY(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=GY[t])?!!e[t]:!1}function _C(){return KY}var YY=Jt({},Fm,{key:function(t){if(t.key){var e=VY[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qY[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_C,charCode:function(t){return t.type==="keypress"?zy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),XY=hi(YY),ZY=Jt({},wx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),KN=hi(ZY),JY=Jt({},Fm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_C}),QY=hi(JY),eX=Jt({},yf,{propertyName:0,elapsedTime:0,pseudoElement:0}),tX=hi(eX),nX=Jt({},wx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rX=hi(nX),iX=[9,13,27,32],SC=qs&&"CompositionEvent"in window,Fh=null;qs&&"documentMode"in document&&(Fh=document.documentMode);var aX=qs&&"TextEvent"in window&&!Fh,K5=qs&&(!SC||Fh&&8<Fh&&11>=Fh),YN=" ",XN=!1;function Y5(t,e){switch(t){case"keyup":return iX.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ou=!1;function sX(t,e){switch(t){case"compositionend":return X5(e);case"keypress":return e.which!==32?null:(XN=!0,YN);case"textInput":return t=e.data,t===YN&&XN?null:t;default:return null}}function oX(t,e){if(Ou)return t==="compositionend"||!SC&&Y5(t,e)?(t=G5(),By=bC=Do=null,Ou=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return K5&&e.locale!=="ko"?null:e.data;default:return null}}var lX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ZN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lX[t.type]:e==="textarea"}function Z5(t,e,n,r){T5(r),e=yv(e,"onChange"),0<e.length&&(n=new wC("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Bh=null,bp=null;function cX(t){l3(t,0)}function _x(t){var e=Iu(t);if(w5(e))return t}function uX(t,e){if(t==="change")return e}var J5=!1;if(qs){var qw;if(qs){var Gw="oninput"in document;if(!Gw){var JN=document.createElement("div");JN.setAttribute("oninput","return;"),Gw=typeof JN.oninput=="function"}qw=Gw}else qw=!1;J5=qw&&(!document.documentMode||9<document.documentMode)}function QN(){Bh&&(Bh.detachEvent("onpropertychange",Q5),bp=Bh=null)}function Q5(t){if(t.propertyName==="value"&&_x(bp)){var e=[];Z5(e,bp,t,mC(t)),P5(cX,e)}}function dX(t,e,n){t==="focusin"?(QN(),Bh=e,bp=n,Bh.attachEvent("onpropertychange",Q5)):t==="focusout"&&QN()}function fX(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _x(bp)}function hX(t,e){if(t==="click")return _x(e)}function pX(t,e){if(t==="input"||t==="change")return _x(e)}function mX(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ya=typeof Object.is=="function"?Object.is:mX;function wp(t,e){if(ya(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Q1.call(e,i)||!ya(t[i],e[i]))return!1}return!0}function eP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tP(t,e){var n=eP(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=eP(n)}}function e3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?e3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function t3(){for(var t=window,e=uv();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=uv(t.document)}return e}function EC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gX(t){var e=t3(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&e3(n.ownerDocument.documentElement,n)){if(r!==null&&EC(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=tP(n,a);var s=tP(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yX=qs&&"documentMode"in document&&11>=document.documentMode,Nu=null,vS=null,zh=null,xS=!1;function nP(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xS||Nu==null||Nu!==uv(r)||(r=Nu,"selectionStart"in r&&EC(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zh&&wp(zh,r)||(zh=r,r=yv(vS,"onSelect"),0<r.length&&(e=new wC("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Nu)))}function Mg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Pu={animationend:Mg("Animation","AnimationEnd"),animationiteration:Mg("Animation","AnimationIteration"),animationstart:Mg("Animation","AnimationStart"),transitionend:Mg("Transition","TransitionEnd")},Kw={},n3={};qs&&(n3=document.createElement("div").style,"AnimationEvent"in window||(delete Pu.animationend.animation,delete Pu.animationiteration.animation,delete Pu.animationstart.animation),"TransitionEvent"in window||delete Pu.transitionend.transition);function Sx(t){if(Kw[t])return Kw[t];if(!Pu[t])return t;var e=Pu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in n3)return Kw[t]=e[n];return t}var r3=Sx("animationend"),i3=Sx("animationiteration"),a3=Sx("animationstart"),s3=Sx("transitionend"),o3=new Map,rP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function El(t,e){o3.set(t,e),Uc(e,[t])}for(var Yw=0;Yw<rP.length;Yw++){var Xw=rP[Yw],vX=Xw.toLowerCase(),xX=Xw[0].toUpperCase()+Xw.slice(1);El(vX,"on"+xX)}El(r3,"onAnimationEnd");El(i3,"onAnimationIteration");El(a3,"onAnimationStart");El("dblclick","onDoubleClick");El("focusin","onFocus");El("focusout","onBlur");El(s3,"onTransitionEnd");Sd("onMouseEnter",["mouseout","mouseover"]);Sd("onMouseLeave",["mouseout","mouseover"]);Sd("onPointerEnter",["pointerout","pointerover"]);Sd("onPointerLeave",["pointerout","pointerover"]);Uc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ah="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bX=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ah));function iP(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,vY(r,e,void 0,t),t.currentTarget=null}function l3(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;iP(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;iP(i,o,c),a=l}}}if(fv)throw t=pS,fv=!1,pS=null,t}function Bt(t,e){var n=e[ES];n===void 0&&(n=e[ES]=new Set);var r=t+"__bubble";n.has(r)||(c3(e,t,2,!1),n.add(r))}function Zw(t,e,n){var r=0;e&&(r|=4),c3(n,t,r,e)}var Lg="_reactListening"+Math.random().toString(36).slice(2);function _p(t){if(!t[Lg]){t[Lg]=!0,g5.forEach(function(n){n!=="selectionchange"&&(bX.has(n)||Zw(n,!1,t),Zw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Lg]||(e[Lg]=!0,Zw("selectionchange",!1,e))}}function c3(t,e,n,r){switch(q5(e)){case 1:var i=$Y;break;case 4:i=RY;break;default:i=xC}n=i.bind(null,e,n,t),i=void 0,!hS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Jw(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=ic(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}P5(function(){var c=a,d=mC(n),f=[];e:{var h=o3.get(t);if(h!==void 0){var p=wC,m=t;switch(t){case"keypress":if(zy(n)===0)break e;case"keydown":case"keyup":p=XY;break;case"focusin":m="focus",p=Vw;break;case"focusout":m="blur",p=Vw;break;case"beforeblur":case"afterblur":p=Vw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=qN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=DY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=QY;break;case r3:case i3:case a3:p=zY;break;case s3:p=tX;break;case"scroll":p=MY;break;case"wheel":p=rX;break;case"copy":case"cut":case"paste":p=HY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=KN}var g=(e&4)!==0,v=!g&&t==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var x=c,b;x!==null;){b=x;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,y!==null&&(_=gp(x,y),_!=null&&g.push(Sp(x,_,b)))),v)break;x=x.return}0<g.length&&(h=new p(h,m,null,n,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==dS&&(m=n.relatedTarget||n.fromElement)&&(ic(m)||m[Gs]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?ic(m):null,m!==null&&(v=Hc(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=qN,_="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(g=KN,_="onPointerLeave",y="onPointerEnter",x="pointer"),v=p==null?h:Iu(p),b=m==null?h:Iu(m),h=new g(_,x+"leave",p,n,d),h.target=v,h.relatedTarget=b,_=null,ic(d)===c&&(g=new g(y,x+"enter",m,n,d),g.target=b,g.relatedTarget=v,_=g),v=_,p&&m)t:{for(g=p,y=m,x=0,b=g;b;b=nu(b))x++;for(b=0,_=y;_;_=nu(_))b++;for(;0<x-b;)g=nu(g),x--;for(;0<b-x;)y=nu(y),b--;for(;x--;){if(g===y||y!==null&&g===y.alternate)break t;g=nu(g),y=nu(y)}g=null}else g=null;p!==null&&aP(f,h,p,g,!1),m!==null&&v!==null&&aP(f,v,m,g,!0)}}e:{if(h=c?Iu(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=uX;else if(ZN(h))if(J5)w=pX;else{w=fX;var E=dX}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=hX);if(w&&(w=w(t,c))){Z5(f,w,n,d);break e}E&&E(t,h,c),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&sS(h,"number",h.value)}switch(E=c?Iu(c):window,t){case"focusin":(ZN(E)||E.contentEditable==="true")&&(Nu=E,vS=c,zh=null);break;case"focusout":zh=vS=Nu=null;break;case"mousedown":xS=!0;break;case"contextmenu":case"mouseup":case"dragend":xS=!1,nP(f,n,d);break;case"selectionchange":if(yX)break;case"keydown":case"keyup":nP(f,n,d)}var A;if(SC)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Ou?Y5(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(K5&&n.locale!=="ko"&&(Ou||j!=="onCompositionStart"?j==="onCompositionEnd"&&Ou&&(A=G5()):(Do=d,bC="value"in Do?Do.value:Do.textContent,Ou=!0)),E=yv(c,j),0<E.length&&(j=new GN(j,t,null,n,d),f.push({event:j,listeners:E}),A?j.data=A:(A=X5(n),A!==null&&(j.data=A)))),(A=aX?sX(t,n):oX(t,n))&&(c=yv(c,"onBeforeInput"),0<c.length&&(d=new GN("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=A))}l3(f,e)})}function Sp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function yv(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=gp(t,n),a!=null&&r.unshift(Sp(t,a,i)),a=gp(t,e),a!=null&&r.push(Sp(t,a,i))),t=t.return}return r}function nu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function aP(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=gp(n,a),l!=null&&s.unshift(Sp(n,l,o))):i||(l=gp(n,a),l!=null&&s.push(Sp(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var wX=/\r\n?/g,_X=/\u0000|\uFFFD/g;function sP(t){return(typeof t=="string"?t:""+t).replace(wX,`
`).replace(_X,"")}function Dg(t,e,n){if(e=sP(e),sP(t)!==e&&n)throw Error(le(425))}function vv(){}var bS=null,wS=null;function _S(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var SS=typeof setTimeout=="function"?setTimeout:void 0,SX=typeof clearTimeout=="function"?clearTimeout:void 0,oP=typeof Promise=="function"?Promise:void 0,EX=typeof queueMicrotask=="function"?queueMicrotask:typeof oP<"u"?function(t){return oP.resolve(null).then(t).catch(jX)}:SS;function jX(t){setTimeout(function(){throw t})}function Qw(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xp(e)}function Ko(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function lP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var vf=Math.random().toString(36).slice(2),Ha="__reactFiber$"+vf,Ep="__reactProps$"+vf,Gs="__reactContainer$"+vf,ES="__reactEvents$"+vf,AX="__reactListeners$"+vf,CX="__reactHandles$"+vf;function ic(t){var e=t[Ha];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gs]||n[Ha]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=lP(t);t!==null;){if(n=t[Ha])return n;t=lP(t)}return e}t=n,n=t.parentNode}return null}function Bm(t){return t=t[Ha]||t[Gs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Iu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(le(33))}function Ex(t){return t[Ep]||null}var jS=[],$u=-1;function jl(t){return{current:t}}function Ht(t){0>$u||(t.current=jS[$u],jS[$u]=null,$u--)}function It(t,e){$u++,jS[$u]=t.current,t.current=e}var ll={},Zn=jl(ll),Or=jl(!1),Ec=ll;function Ed(t,e){var n=t.type.contextTypes;if(!n)return ll;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Nr(t){return t=t.childContextTypes,t!=null}function xv(){Ht(Or),Ht(Zn)}function cP(t,e,n){if(Zn.current!==ll)throw Error(le(168));It(Zn,e),It(Or,n)}function u3(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(le(108,dY(t)||"Unknown",i));return Jt({},n,r)}function bv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ll,Ec=Zn.current,It(Zn,t),It(Or,Or.current),!0}function uP(t,e,n){var r=t.stateNode;if(!r)throw Error(le(169));n?(t=u3(t,e,Ec),r.__reactInternalMemoizedMergedChildContext=t,Ht(Or),Ht(Zn),It(Zn,t)):Ht(Or),It(Or,n)}var Ts=null,jx=!1,e_=!1;function d3(t){Ts===null?Ts=[t]:Ts.push(t)}function TX(t){jx=!0,d3(t)}function Al(){if(!e_&&Ts!==null){e_=!0;var t=0,e=St;try{var n=Ts;for(St=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ts=null,jx=!1}catch(i){throw Ts!==null&&(Ts=Ts.slice(t+1)),M5(gC,Al),i}finally{St=e,e_=!1}}return null}var Ru=[],Mu=0,wv=null,_v=0,_i=[],Si=0,jc=null,Os=1,Ns="";function ql(t,e){Ru[Mu++]=_v,Ru[Mu++]=wv,wv=t,_v=e}function f3(t,e,n){_i[Si++]=Os,_i[Si++]=Ns,_i[Si++]=jc,jc=t;var r=Os;t=Ns;var i=32-da(r)-1;r&=~(1<<i),n+=1;var a=32-da(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Os=1<<32-da(e)+i|n<<i|r,Ns=a+t}else Os=1<<a|n<<i|r,Ns=t}function jC(t){t.return!==null&&(ql(t,1),f3(t,1,0))}function AC(t){for(;t===wv;)wv=Ru[--Mu],Ru[Mu]=null,_v=Ru[--Mu],Ru[Mu]=null;for(;t===jc;)jc=_i[--Si],_i[Si]=null,Ns=_i[--Si],_i[Si]=null,Os=_i[--Si],_i[Si]=null}var Qr=null,Yr=null,Wt=!1,sa=null;function h3(t,e){var n=Ai(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function dP(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qr=t,Yr=Ko(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qr=t,Yr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=jc!==null?{id:Os,overflow:Ns}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ai(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qr=t,Yr=null,!0):!1;default:return!1}}function AS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function CS(t){if(Wt){var e=Yr;if(e){var n=e;if(!dP(t,e)){if(AS(t))throw Error(le(418));e=Ko(n.nextSibling);var r=Qr;e&&dP(t,e)?h3(r,n):(t.flags=t.flags&-4097|2,Wt=!1,Qr=t)}}else{if(AS(t))throw Error(le(418));t.flags=t.flags&-4097|2,Wt=!1,Qr=t}}}function fP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qr=t}function Fg(t){if(t!==Qr)return!1;if(!Wt)return fP(t),Wt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_S(t.type,t.memoizedProps)),e&&(e=Yr)){if(AS(t))throw p3(),Error(le(418));for(;e;)h3(t,e),e=Ko(e.nextSibling)}if(fP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yr=Ko(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yr=null}}else Yr=Qr?Ko(t.stateNode.nextSibling):null;return!0}function p3(){for(var t=Yr;t;)t=Ko(t.nextSibling)}function jd(){Yr=Qr=null,Wt=!1}function CC(t){sa===null?sa=[t]:sa.push(t)}var kX=so.ReactCurrentBatchConfig;function th(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(le(309));var r=n.stateNode}if(!r)throw Error(le(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(le(284));if(!n._owner)throw Error(le(290,t))}return t}function Bg(t,e){throw t=Object.prototype.toString.call(e),Error(le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hP(t){var e=t._init;return e(t._payload)}function m3(t){function e(y,x){if(t){var b=y.deletions;b===null?(y.deletions=[x],y.flags|=16):b.push(x)}}function n(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=Jo(y,x),y.index=0,y.sibling=null,y}function a(y,x,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<x?(y.flags|=2,x):b):(y.flags|=2,x)):(y.flags|=1048576,x)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,x,b,_){return x===null||x.tag!==6?(x=o_(b,y.mode,_),x.return=y,x):(x=i(x,b),x.return=y,x)}function l(y,x,b,_){var w=b.type;return w===ku?d(y,x,b.props.children,_,b.key):x!==null&&(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===jo&&hP(w)===x.type)?(_=i(x,b.props),_.ref=th(y,x,b),_.return=y,_):(_=Ky(b.type,b.key,b.props,null,y.mode,_),_.ref=th(y,x,b),_.return=y,_)}function c(y,x,b,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=l_(b,y.mode,_),x.return=y,x):(x=i(x,b.children||[]),x.return=y,x)}function d(y,x,b,_,w){return x===null||x.tag!==7?(x=yc(b,y.mode,_,w),x.return=y,x):(x=i(x,b),x.return=y,x)}function f(y,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=o_(""+x,y.mode,b),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case kg:return b=Ky(x.type,x.key,x.props,null,y.mode,b),b.ref=th(y,null,x),b.return=y,b;case Tu:return x=l_(x,y.mode,b),x.return=y,x;case jo:var _=x._init;return f(y,_(x._payload),b)}if(Eh(x)||Xf(x))return x=yc(x,y.mode,b,null),x.return=y,x;Bg(y,x)}return null}function h(y,x,b,_){var w=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:o(y,x,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case kg:return b.key===w?l(y,x,b,_):null;case Tu:return b.key===w?c(y,x,b,_):null;case jo:return w=b._init,h(y,x,w(b._payload),_)}if(Eh(b)||Xf(b))return w!==null?null:d(y,x,b,_,null);Bg(y,b)}return null}function p(y,x,b,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(b)||null,o(x,y,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case kg:return y=y.get(_.key===null?b:_.key)||null,l(x,y,_,w);case Tu:return y=y.get(_.key===null?b:_.key)||null,c(x,y,_,w);case jo:var E=_._init;return p(y,x,b,E(_._payload),w)}if(Eh(_)||Xf(_))return y=y.get(b)||null,d(x,y,_,w,null);Bg(x,_)}return null}function m(y,x,b,_){for(var w=null,E=null,A=x,j=x=0,C=null;A!==null&&j<b.length;j++){A.index>j?(C=A,A=null):C=A.sibling;var T=h(y,A,b[j],_);if(T===null){A===null&&(A=C);break}t&&A&&T.alternate===null&&e(y,A),x=a(T,x,j),E===null?w=T:E.sibling=T,E=T,A=C}if(j===b.length)return n(y,A),Wt&&ql(y,j),w;if(A===null){for(;j<b.length;j++)A=f(y,b[j],_),A!==null&&(x=a(A,x,j),E===null?w=A:E.sibling=A,E=A);return Wt&&ql(y,j),w}for(A=r(y,A);j<b.length;j++)C=p(A,y,j,b[j],_),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?j:C.key),x=a(C,x,j),E===null?w=C:E.sibling=C,E=C);return t&&A.forEach(function(O){return e(y,O)}),Wt&&ql(y,j),w}function g(y,x,b,_){var w=Xf(b);if(typeof w!="function")throw Error(le(150));if(b=w.call(b),b==null)throw Error(le(151));for(var E=w=null,A=x,j=x=0,C=null,T=b.next();A!==null&&!T.done;j++,T=b.next()){A.index>j?(C=A,A=null):C=A.sibling;var O=h(y,A,T.value,_);if(O===null){A===null&&(A=C);break}t&&A&&O.alternate===null&&e(y,A),x=a(O,x,j),E===null?w=O:E.sibling=O,E=O,A=C}if(T.done)return n(y,A),Wt&&ql(y,j),w;if(A===null){for(;!T.done;j++,T=b.next())T=f(y,T.value,_),T!==null&&(x=a(T,x,j),E===null?w=T:E.sibling=T,E=T);return Wt&&ql(y,j),w}for(A=r(y,A);!T.done;j++,T=b.next())T=p(A,y,j,T.value,_),T!==null&&(t&&T.alternate!==null&&A.delete(T.key===null?j:T.key),x=a(T,x,j),E===null?w=T:E.sibling=T,E=T);return t&&A.forEach(function(P){return e(y,P)}),Wt&&ql(y,j),w}function v(y,x,b,_){if(typeof b=="object"&&b!==null&&b.type===ku&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case kg:e:{for(var w=b.key,E=x;E!==null;){if(E.key===w){if(w=b.type,w===ku){if(E.tag===7){n(y,E.sibling),x=i(E,b.props.children),x.return=y,y=x;break e}}else if(E.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===jo&&hP(w)===E.type){n(y,E.sibling),x=i(E,b.props),x.ref=th(y,E,b),x.return=y,y=x;break e}n(y,E);break}else e(y,E);E=E.sibling}b.type===ku?(x=yc(b.props.children,y.mode,_,b.key),x.return=y,y=x):(_=Ky(b.type,b.key,b.props,null,y.mode,_),_.ref=th(y,x,b),_.return=y,y=_)}return s(y);case Tu:e:{for(E=b.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(y,x.sibling),x=i(x,b.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else e(y,x);x=x.sibling}x=l_(b,y.mode,_),x.return=y,y=x}return s(y);case jo:return E=b._init,v(y,x,E(b._payload),_)}if(Eh(b))return m(y,x,b,_);if(Xf(b))return g(y,x,b,_);Bg(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(y,x.sibling),x=i(x,b),x.return=y,y=x):(n(y,x),x=o_(b,y.mode,_),x.return=y,y=x),s(y)):n(y,x)}return v}var Ad=m3(!0),g3=m3(!1),Sv=jl(null),Ev=null,Lu=null,TC=null;function kC(){TC=Lu=Ev=null}function OC(t){var e=Sv.current;Ht(Sv),t._currentValue=e}function TS(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Zu(t,e){Ev=t,TC=Lu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Cr=!0),t.firstContext=null)}function $i(t){var e=t._currentValue;if(TC!==t)if(t={context:t,memoizedValue:e,next:null},Lu===null){if(Ev===null)throw Error(le(308));Lu=t,Ev.dependencies={lanes:0,firstContext:t}}else Lu=Lu.next=t;return e}var ac=null;function NC(t){ac===null?ac=[t]:ac.push(t)}function y3(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,NC(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ks(t,r)}function Ks(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ao=!1;function PC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function v3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ls(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,dt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ks(t,n)}return i=r.interleaved,i===null?(e.next=e,NC(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ks(t,n)}function Uy(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yC(t,n)}}function pP(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function jv(t,e,n,r){var i=t.updateQueue;Ao=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=c=l=null,o=a;do{var h=o.lane,p=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,g=o;switch(h=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=Jt({},f,h);break e;case 2:Ao=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Cc|=s,t.lanes=s,t.memoizedState=f}}function mP(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(le(191,i));i.call(r)}}}var zm={},Za=jl(zm),jp=jl(zm),Ap=jl(zm);function sc(t){if(t===zm)throw Error(le(174));return t}function IC(t,e){switch(It(Ap,e),It(jp,t),It(Za,zm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lS(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=lS(e,t)}Ht(Za),It(Za,e)}function Cd(){Ht(Za),Ht(jp),Ht(Ap)}function x3(t){sc(Ap.current);var e=sc(Za.current),n=lS(e,t.type);e!==n&&(It(jp,t),It(Za,n))}function $C(t){jp.current===t&&(Ht(Za),Ht(jp))}var Yt=jl(0);function Av(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var t_=[];function RC(){for(var t=0;t<t_.length;t++)t_[t]._workInProgressVersionPrimary=null;t_.length=0}var Hy=so.ReactCurrentDispatcher,n_=so.ReactCurrentBatchConfig,Ac=0,Zt=null,bn=null,Pn=null,Cv=!1,Uh=!1,Cp=0,OX=0;function Hn(){throw Error(le(321))}function MC(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ya(t[n],e[n]))return!1;return!0}function LC(t,e,n,r,i,a){if(Ac=a,Zt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hy.current=t===null||t.memoizedState===null?$X:RX,t=n(r,i),Uh){a=0;do{if(Uh=!1,Cp=0,25<=a)throw Error(le(301));a+=1,Pn=bn=null,e.updateQueue=null,Hy.current=MX,t=n(r,i)}while(Uh)}if(Hy.current=Tv,e=bn!==null&&bn.next!==null,Ac=0,Pn=bn=Zt=null,Cv=!1,e)throw Error(le(300));return t}function DC(){var t=Cp!==0;return Cp=0,t}function Da(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?Zt.memoizedState=Pn=t:Pn=Pn.next=t,Pn}function Ri(){if(bn===null){var t=Zt.alternate;t=t!==null?t.memoizedState:null}else t=bn.next;var e=Pn===null?Zt.memoizedState:Pn.next;if(e!==null)Pn=e,bn=t;else{if(t===null)throw Error(le(310));bn=t,t={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},Pn===null?Zt.memoizedState=Pn=t:Pn=Pn.next=t}return Pn}function Tp(t,e){return typeof e=="function"?e(t):e}function r_(t){var e=Ri(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=bn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var d=c.lane;if((Ac&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,Zt.lanes|=d,Cc|=d}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,ya(r,e.memoizedState)||(Cr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,Zt.lanes|=a,Cc|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function i_(t){var e=Ri(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);ya(a,e.memoizedState)||(Cr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function b3(){}function w3(t,e){var n=Zt,r=Ri(),i=e(),a=!ya(r.memoizedState,i);if(a&&(r.memoizedState=i,Cr=!0),r=r.queue,FC(E3.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Pn!==null&&Pn.memoizedState.tag&1){if(n.flags|=2048,kp(9,S3.bind(null,n,r,i,e),void 0,null),$n===null)throw Error(le(349));Ac&30||_3(n,e,i)}return i}function _3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Zt.updateQueue,e===null?(e={lastEffect:null,stores:null},Zt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function S3(t,e,n,r){e.value=n,e.getSnapshot=r,j3(e)&&A3(t)}function E3(t,e,n){return n(function(){j3(e)&&A3(t)})}function j3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ya(t,n)}catch{return!0}}function A3(t){var e=Ks(t,1);e!==null&&fa(e,t,1,-1)}function gP(t){var e=Da();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tp,lastRenderedState:t},e.queue=t,t=t.dispatch=IX.bind(null,Zt,t),[e.memoizedState,t]}function kp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Zt.updateQueue,e===null?(e={lastEffect:null,stores:null},Zt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function C3(){return Ri().memoizedState}function Wy(t,e,n,r){var i=Da();Zt.flags|=t,i.memoizedState=kp(1|e,n,void 0,r===void 0?null:r)}function Ax(t,e,n,r){var i=Ri();r=r===void 0?null:r;var a=void 0;if(bn!==null){var s=bn.memoizedState;if(a=s.destroy,r!==null&&MC(r,s.deps)){i.memoizedState=kp(e,n,a,r);return}}Zt.flags|=t,i.memoizedState=kp(1|e,n,a,r)}function yP(t,e){return Wy(8390656,8,t,e)}function FC(t,e){return Ax(2048,8,t,e)}function T3(t,e){return Ax(4,2,t,e)}function k3(t,e){return Ax(4,4,t,e)}function O3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function N3(t,e,n){return n=n!=null?n.concat([t]):null,Ax(4,4,O3.bind(null,e,t),n)}function BC(){}function P3(t,e){var n=Ri();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&MC(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function I3(t,e){var n=Ri();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&MC(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function $3(t,e,n){return Ac&21?(ya(n,e)||(n=F5(),Zt.lanes|=n,Cc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Cr=!0),t.memoizedState=n)}function NX(t,e){var n=St;St=n!==0&&4>n?n:4,t(!0);var r=n_.transition;n_.transition={};try{t(!1),e()}finally{St=n,n_.transition=r}}function R3(){return Ri().memoizedState}function PX(t,e,n){var r=Zo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},M3(t))L3(e,n);else if(n=y3(t,e,n,r),n!==null){var i=pr();fa(n,t,r,i),D3(n,e,r)}}function IX(t,e,n){var r=Zo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(M3(t))L3(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,ya(o,s)){var l=e.interleaved;l===null?(i.next=i,NC(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=y3(t,e,i,r),n!==null&&(i=pr(),fa(n,t,r,i),D3(n,e,r))}}function M3(t){var e=t.alternate;return t===Zt||e!==null&&e===Zt}function L3(t,e){Uh=Cv=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function D3(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yC(t,n)}}var Tv={readContext:$i,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useInsertionEffect:Hn,useLayoutEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useMutableSource:Hn,useSyncExternalStore:Hn,useId:Hn,unstable_isNewReconciler:!1},$X={readContext:$i,useCallback:function(t,e){return Da().memoizedState=[t,e===void 0?null:e],t},useContext:$i,useEffect:yP,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wy(4194308,4,O3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wy(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wy(4,2,t,e)},useMemo:function(t,e){var n=Da();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Da();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=PX.bind(null,Zt,t),[r.memoizedState,t]},useRef:function(t){var e=Da();return t={current:t},e.memoizedState=t},useState:gP,useDebugValue:BC,useDeferredValue:function(t){return Da().memoizedState=t},useTransition:function(){var t=gP(!1),e=t[0];return t=NX.bind(null,t[1]),Da().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Zt,i=Da();if(Wt){if(n===void 0)throw Error(le(407));n=n()}else{if(n=e(),$n===null)throw Error(le(349));Ac&30||_3(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,yP(E3.bind(null,r,a,t),[t]),r.flags|=2048,kp(9,S3.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Da(),e=$n.identifierPrefix;if(Wt){var n=Ns,r=Os;n=(r&~(1<<32-da(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Cp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=OX++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},RX={readContext:$i,useCallback:P3,useContext:$i,useEffect:FC,useImperativeHandle:N3,useInsertionEffect:T3,useLayoutEffect:k3,useMemo:I3,useReducer:r_,useRef:C3,useState:function(){return r_(Tp)},useDebugValue:BC,useDeferredValue:function(t){var e=Ri();return $3(e,bn.memoizedState,t)},useTransition:function(){var t=r_(Tp)[0],e=Ri().memoizedState;return[t,e]},useMutableSource:b3,useSyncExternalStore:w3,useId:R3,unstable_isNewReconciler:!1},MX={readContext:$i,useCallback:P3,useContext:$i,useEffect:FC,useImperativeHandle:N3,useInsertionEffect:T3,useLayoutEffect:k3,useMemo:I3,useReducer:i_,useRef:C3,useState:function(){return i_(Tp)},useDebugValue:BC,useDeferredValue:function(t){var e=Ri();return bn===null?e.memoizedState=t:$3(e,bn.memoizedState,t)},useTransition:function(){var t=i_(Tp)[0],e=Ri().memoizedState;return[t,e]},useMutableSource:b3,useSyncExternalStore:w3,useId:R3,unstable_isNewReconciler:!1};function Ji(t,e){if(t&&t.defaultProps){e=Jt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function kS(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Jt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cx={isMounted:function(t){return(t=t._reactInternals)?Hc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=pr(),i=Zo(t),a=Ls(r,i);a.payload=e,n!=null&&(a.callback=n),e=Yo(t,a,i),e!==null&&(fa(e,t,i,r),Uy(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=pr(),i=Zo(t),a=Ls(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Yo(t,a,i),e!==null&&(fa(e,t,i,r),Uy(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=pr(),r=Zo(t),i=Ls(n,r);i.tag=2,e!=null&&(i.callback=e),e=Yo(t,i,r),e!==null&&(fa(e,t,r,n),Uy(e,t,r))}};function vP(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!wp(n,r)||!wp(i,a):!0}function F3(t,e,n){var r=!1,i=ll,a=e.contextType;return typeof a=="object"&&a!==null?a=$i(a):(i=Nr(e)?Ec:Zn.current,r=e.contextTypes,a=(r=r!=null)?Ed(t,i):ll),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cx,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function xP(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cx.enqueueReplaceState(e,e.state,null)}function OS(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},PC(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=$i(a):(a=Nr(e)?Ec:Zn.current,i.context=Ed(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(kS(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Cx.enqueueReplaceState(i,i.state,null),jv(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Td(t,e){try{var n="",r=e;do n+=uY(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function a_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function NS(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var LX=typeof WeakMap=="function"?WeakMap:Map;function B3(t,e,n){n=Ls(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ov||(Ov=!0,zS=r),NS(t,e)},n}function z3(t,e,n){n=Ls(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){NS(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){NS(t,e),typeof r!="function"&&(Xo===null?Xo=new Set([this]):Xo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function bP(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new LX;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ZX.bind(null,t,e,n),e.then(t,t))}function wP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _P(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ls(-1,1),e.tag=2,Yo(n,e,1))),n.lanes|=1),t)}var DX=so.ReactCurrentOwner,Cr=!1;function or(t,e,n,r){e.child=t===null?g3(e,null,n,r):Ad(e,t.child,n,r)}function SP(t,e,n,r,i){n=n.render;var a=e.ref;return Zu(e,i),r=LC(t,e,n,r,a,i),n=DC(),t!==null&&!Cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ys(t,e,i)):(Wt&&n&&jC(e),e.flags|=1,or(t,e,r,i),e.child)}function EP(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!KC(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,U3(t,e,a,r,i)):(t=Ky(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:wp,n(s,r)&&t.ref===e.ref)return Ys(t,e,i)}return e.flags|=1,t=Jo(a,r),t.ref=e.ref,t.return=e,e.child=t}function U3(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(wp(a,r)&&t.ref===e.ref)if(Cr=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Cr=!0);else return e.lanes=t.lanes,Ys(t,e,i)}return PS(t,e,n,r,i)}function H3(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(Fu,Wr),Wr|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,It(Fu,Wr),Wr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,It(Fu,Wr),Wr|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,It(Fu,Wr),Wr|=r;return or(t,e,i,n),e.child}function W3(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function PS(t,e,n,r,i){var a=Nr(n)?Ec:Zn.current;return a=Ed(e,a),Zu(e,i),n=LC(t,e,n,r,a,i),r=DC(),t!==null&&!Cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ys(t,e,i)):(Wt&&r&&jC(e),e.flags|=1,or(t,e,n,i),e.child)}function jP(t,e,n,r,i){if(Nr(n)){var a=!0;bv(e)}else a=!1;if(Zu(e,i),e.stateNode===null)Vy(t,e),F3(e,n,r),OS(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=$i(c):(c=Nr(n)?Ec:Zn.current,c=Ed(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&xP(e,s,r,c),Ao=!1;var h=e.memoizedState;s.state=h,jv(e,r,s,i),l=e.memoizedState,o!==r||h!==l||Or.current||Ao?(typeof d=="function"&&(kS(e,n,d,r),l=e.memoizedState),(o=Ao||vP(e,n,o,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,v3(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Ji(e.type,o),s.props=c,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=$i(l):(l=Nr(n)?Ec:Zn.current,l=Ed(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&xP(e,s,r,l),Ao=!1,h=e.memoizedState,s.state=h,jv(e,r,s,i);var m=e.memoizedState;o!==f||h!==m||Or.current||Ao?(typeof p=="function"&&(kS(e,n,p,r),m=e.memoizedState),(c=Ao||vP(e,n,c,r,h,m,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return IS(t,e,n,r,a,i)}function IS(t,e,n,r,i,a){W3(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&uP(e,n,!1),Ys(t,e,a);r=e.stateNode,DX.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ad(e,t.child,null,a),e.child=Ad(e,null,o,a)):or(t,e,o,a),e.memoizedState=r.state,i&&uP(e,n,!0),e.child}function V3(t){var e=t.stateNode;e.pendingContext?cP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cP(t,e.context,!1),IC(t,e.containerInfo)}function AP(t,e,n,r,i){return jd(),CC(i),e.flags|=256,or(t,e,n,r),e.child}var $S={dehydrated:null,treeContext:null,retryLane:0};function RS(t){return{baseLanes:t,cachePool:null,transitions:null}}function q3(t,e,n){var r=e.pendingProps,i=Yt.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),It(Yt,i&1),t===null)return CS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Ox(s,r,0,null),t=yc(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=RS(n),e.memoizedState=$S,t):zC(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return FX(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Jo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Jo(o,a):(a=yc(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?RS(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=$S,r}return a=t.child,t=a.sibling,r=Jo(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function zC(t,e){return e=Ox({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zg(t,e,n,r){return r!==null&&CC(r),Ad(e,t.child,null,n),t=zC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FX(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=a_(Error(le(422))),zg(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Ox({mode:"visible",children:r.children},i,0,null),a=yc(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Ad(e,t.child,null,s),e.child.memoizedState=RS(s),e.memoizedState=$S,a);if(!(e.mode&1))return zg(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(le(419)),r=a_(a,r,void 0),zg(t,e,s,r)}if(o=(s&t.childLanes)!==0,Cr||o){if(r=$n,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ks(t,i),fa(r,t,i,-1))}return GC(),r=a_(Error(le(421))),zg(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=JX.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Yr=Ko(i.nextSibling),Qr=e,Wt=!0,sa=null,t!==null&&(_i[Si++]=Os,_i[Si++]=Ns,_i[Si++]=jc,Os=t.id,Ns=t.overflow,jc=e),e=zC(e,r.children),e.flags|=4096,e)}function CP(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),TS(t.return,e,n)}function s_(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function G3(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(or(t,e,r.children,n),r=Yt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&CP(t,n,e);else if(t.tag===19)CP(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(It(Yt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Av(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),s_(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Av(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}s_(e,!0,n,null,a);break;case"together":s_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ys(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Cc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(le(153));if(e.child!==null){for(t=e.child,n=Jo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Jo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function BX(t,e,n){switch(e.tag){case 3:V3(e),jd();break;case 5:x3(e);break;case 1:Nr(e.type)&&bv(e);break;case 4:IC(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;It(Sv,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(It(Yt,Yt.current&1),e.flags|=128,null):n&e.child.childLanes?q3(t,e,n):(It(Yt,Yt.current&1),t=Ys(t,e,n),t!==null?t.sibling:null);It(Yt,Yt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return G3(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),It(Yt,Yt.current),r)break;return null;case 22:case 23:return e.lanes=0,H3(t,e,n)}return Ys(t,e,n)}var K3,MS,Y3,X3;K3=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};MS=function(){};Y3=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,sc(Za.current);var a=null;switch(n){case"input":i=iS(t,i),r=iS(t,r),a=[];break;case"select":i=Jt({},i,{value:void 0}),r=Jt({},r,{value:void 0}),a=[];break;case"textarea":i=oS(t,i),r=oS(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=vv)}cS(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(pp.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(pp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Bt("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};X3=function(t,e,n,r){n!==r&&(e.flags|=4)};function nh(t,e){if(!Wt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zX(t,e,n){var r=e.pendingProps;switch(AC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(e),null;case 1:return Nr(e.type)&&xv(),Wn(e),null;case 3:return r=e.stateNode,Cd(),Ht(Or),Ht(Zn),RC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,sa!==null&&(WS(sa),sa=null))),MS(t,e),Wn(e),null;case 5:$C(e);var i=sc(Ap.current);if(n=e.type,t!==null&&e.stateNode!=null)Y3(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(le(166));return Wn(e),null}if(t=sc(Za.current),Fg(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Ha]=e,r[Ep]=a,t=(e.mode&1)!==0,n){case"dialog":Bt("cancel",r),Bt("close",r);break;case"iframe":case"object":case"embed":Bt("load",r);break;case"video":case"audio":for(i=0;i<Ah.length;i++)Bt(Ah[i],r);break;case"source":Bt("error",r);break;case"img":case"image":case"link":Bt("error",r),Bt("load",r);break;case"details":Bt("toggle",r);break;case"input":MN(r,a),Bt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Bt("invalid",r);break;case"textarea":DN(r,a),Bt("invalid",r)}cS(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Dg(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Dg(r.textContent,o,t),i=["children",""+o]):pp.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Bt("scroll",r)}switch(n){case"input":Og(r),LN(r,a,!0);break;case"textarea":Og(r),FN(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=vv)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=E5(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Ha]=e,t[Ep]=r,K3(t,e,!1,!1),e.stateNode=t;e:{switch(s=uS(n,r),n){case"dialog":Bt("cancel",t),Bt("close",t),i=r;break;case"iframe":case"object":case"embed":Bt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ah.length;i++)Bt(Ah[i],t);i=r;break;case"source":Bt("error",t),i=r;break;case"img":case"image":case"link":Bt("error",t),Bt("load",t),i=r;break;case"details":Bt("toggle",t),i=r;break;case"input":MN(t,r),i=iS(t,r),Bt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Jt({},r,{value:void 0}),Bt("invalid",t);break;case"textarea":DN(t,r),i=oS(t,r),Bt("invalid",t);break;default:i=r}cS(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?C5(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&j5(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&mp(t,l):typeof l=="number"&&mp(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(pp.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Bt("scroll",t):l!=null&&dC(t,a,l,s))}switch(n){case"input":Og(t),LN(t,r,!1);break;case"textarea":Og(t),FN(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ol(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Gu(t,!!r.multiple,a,!1):r.defaultValue!=null&&Gu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=vv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wn(e),null;case 6:if(t&&e.stateNode!=null)X3(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(le(166));if(n=sc(Ap.current),sc(Za.current),Fg(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ha]=e,(a=r.nodeValue!==n)&&(t=Qr,t!==null))switch(t.tag){case 3:Dg(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Dg(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ha]=e,e.stateNode=r}return Wn(e),null;case 13:if(Ht(Yt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Wt&&Yr!==null&&e.mode&1&&!(e.flags&128))p3(),jd(),e.flags|=98560,a=!1;else if(a=Fg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(le(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(le(317));a[Ha]=e}else jd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wn(e),a=!1}else sa!==null&&(WS(sa),sa=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Yt.current&1?Sn===0&&(Sn=3):GC())),e.updateQueue!==null&&(e.flags|=4),Wn(e),null);case 4:return Cd(),MS(t,e),t===null&&_p(e.stateNode.containerInfo),Wn(e),null;case 10:return OC(e.type._context),Wn(e),null;case 17:return Nr(e.type)&&xv(),Wn(e),null;case 19:if(Ht(Yt),a=e.memoizedState,a===null)return Wn(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)nh(a,!1);else{if(Sn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Av(t),s!==null){for(e.flags|=128,nh(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return It(Yt,Yt.current&1|2),e.child}t=t.sibling}a.tail!==null&&cn()>kd&&(e.flags|=128,r=!0,nh(a,!1),e.lanes=4194304)}else{if(!r)if(t=Av(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),nh(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Wt)return Wn(e),null}else 2*cn()-a.renderingStartTime>kd&&n!==1073741824&&(e.flags|=128,r=!0,nh(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=cn(),e.sibling=null,n=Yt.current,It(Yt,r?n&1|2:n&1),e):(Wn(e),null);case 22:case 23:return qC(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wr&1073741824&&(Wn(e),e.subtreeFlags&6&&(e.flags|=8192)):Wn(e),null;case 24:return null;case 25:return null}throw Error(le(156,e.tag))}function UX(t,e){switch(AC(e),e.tag){case 1:return Nr(e.type)&&xv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Cd(),Ht(Or),Ht(Zn),RC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $C(e),null;case 13:if(Ht(Yt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(le(340));jd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ht(Yt),null;case 4:return Cd(),null;case 10:return OC(e.type._context),null;case 22:case 23:return qC(),null;case 24:return null;default:return null}}var Ug=!1,Kn=!1,HX=typeof WeakSet=="function"?WeakSet:Set,_e=null;function Du(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){an(t,e,r)}else n.current=null}function LS(t,e,n){try{n()}catch(r){an(t,e,r)}}var TP=!1;function WX(t,e){if(bS=mv,t=t3(),EC(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++c===i&&(o=s),h===a&&++d===r&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(wS={focusedElem:t,selectionRange:n},mv=!1,_e=e;_e!==null;)if(e=_e,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,_e=t;else for(;_e!==null;){e=_e;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:Ji(e.type,g),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(_){an(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,_e=t;break}_e=e.return}return m=TP,TP=!1,m}function Hh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&LS(e,n,a)}i=i.next}while(i!==r)}}function Tx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function DS(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Z3(t){var e=t.alternate;e!==null&&(t.alternate=null,Z3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ha],delete e[Ep],delete e[ES],delete e[AX],delete e[CX])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function J3(t){return t.tag===5||t.tag===3||t.tag===4}function kP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||J3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function FS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=vv));else if(r!==4&&(t=t.child,t!==null))for(FS(t,e,n),t=t.sibling;t!==null;)FS(t,e,n),t=t.sibling}function BS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(BS(t,e,n),t=t.sibling;t!==null;)BS(t,e,n),t=t.sibling}var Dn=null,na=!1;function mo(t,e,n){for(n=n.child;n!==null;)Q3(t,e,n),n=n.sibling}function Q3(t,e,n){if(Xa&&typeof Xa.onCommitFiberUnmount=="function")try{Xa.onCommitFiberUnmount(bx,n)}catch{}switch(n.tag){case 5:Kn||Du(n,e);case 6:var r=Dn,i=na;Dn=null,mo(t,e,n),Dn=r,na=i,Dn!==null&&(na?(t=Dn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Dn.removeChild(n.stateNode));break;case 18:Dn!==null&&(na?(t=Dn,n=n.stateNode,t.nodeType===8?Qw(t.parentNode,n):t.nodeType===1&&Qw(t,n),xp(t)):Qw(Dn,n.stateNode));break;case 4:r=Dn,i=na,Dn=n.stateNode.containerInfo,na=!0,mo(t,e,n),Dn=r,na=i;break;case 0:case 11:case 14:case 15:if(!Kn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&LS(n,e,s),i=i.next}while(i!==r)}mo(t,e,n);break;case 1:if(!Kn&&(Du(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){an(n,e,o)}mo(t,e,n);break;case 21:mo(t,e,n);break;case 22:n.mode&1?(Kn=(r=Kn)||n.memoizedState!==null,mo(t,e,n),Kn=r):mo(t,e,n);break;default:mo(t,e,n)}}function OP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new HX),e.forEach(function(r){var i=QX.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Hi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Dn=o.stateNode,na=!1;break e;case 3:Dn=o.stateNode.containerInfo,na=!0;break e;case 4:Dn=o.stateNode.containerInfo,na=!0;break e}o=o.return}if(Dn===null)throw Error(le(160));Q3(a,s,i),Dn=null,na=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){an(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)eF(e,t),e=e.sibling}function eF(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Hi(e,t),Ia(t),r&4){try{Hh(3,t,t.return),Tx(3,t)}catch(g){an(t,t.return,g)}try{Hh(5,t,t.return)}catch(g){an(t,t.return,g)}}break;case 1:Hi(e,t),Ia(t),r&512&&n!==null&&Du(n,n.return);break;case 5:if(Hi(e,t),Ia(t),r&512&&n!==null&&Du(n,n.return),t.flags&32){var i=t.stateNode;try{mp(i,"")}catch(g){an(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&_5(i,a),uS(o,s);var c=uS(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?C5(i,f):d==="dangerouslySetInnerHTML"?j5(i,f):d==="children"?mp(i,f):dC(i,d,f,c)}switch(o){case"input":aS(i,a);break;case"textarea":S5(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Gu(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Gu(i,!!a.multiple,a.defaultValue,!0):Gu(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ep]=a}catch(g){an(t,t.return,g)}}break;case 6:if(Hi(e,t),Ia(t),r&4){if(t.stateNode===null)throw Error(le(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){an(t,t.return,g)}}break;case 3:if(Hi(e,t),Ia(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xp(e.containerInfo)}catch(g){an(t,t.return,g)}break;case 4:Hi(e,t),Ia(t);break;case 13:Hi(e,t),Ia(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(WC=cn())),r&4&&OP(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Kn=(c=Kn)||d,Hi(e,t),Kn=c):Hi(e,t),Ia(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(_e=t,d=t.child;d!==null;){for(f=_e=d;_e!==null;){switch(h=_e,p=h.child,h.tag){case 0:case 11:case 14:case 15:Hh(4,h,h.return);break;case 1:Du(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){an(r,n,g)}}break;case 5:Du(h,h.return);break;case 22:if(h.memoizedState!==null){PP(f);continue}}p!==null?(p.return=h,_e=p):PP(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=A5("display",s))}catch(g){an(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){an(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Hi(e,t),Ia(t),r&4&&OP(t);break;case 21:break;default:Hi(e,t),Ia(t)}}function Ia(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(J3(n)){var r=n;break e}n=n.return}throw Error(le(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(mp(i,""),r.flags&=-33);var a=kP(t);BS(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=kP(t);FS(t,o,s);break;default:throw Error(le(161))}}catch(l){an(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function VX(t,e,n){_e=t,tF(t)}function tF(t,e,n){for(var r=(t.mode&1)!==0;_e!==null;){var i=_e,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ug;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Kn;o=Ug;var c=Kn;if(Ug=s,(Kn=l)&&!c)for(_e=i;_e!==null;)s=_e,l=s.child,s.tag===22&&s.memoizedState!==null?IP(i):l!==null?(l.return=s,_e=l):IP(i);for(;a!==null;)_e=a,tF(a),a=a.sibling;_e=i,Ug=o,Kn=c}NP(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,_e=a):NP(t)}}function NP(t){for(;_e!==null;){var e=_e;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kn||Tx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Kn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ji(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&mP(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}mP(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&xp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}Kn||e.flags&512&&DS(e)}catch(h){an(e,e.return,h)}}if(e===t){_e=null;break}if(n=e.sibling,n!==null){n.return=e.return,_e=n;break}_e=e.return}}function PP(t){for(;_e!==null;){var e=_e;if(e===t){_e=null;break}var n=e.sibling;if(n!==null){n.return=e.return,_e=n;break}_e=e.return}}function IP(t){for(;_e!==null;){var e=_e;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Tx(4,e)}catch(l){an(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){an(e,i,l)}}var a=e.return;try{DS(e)}catch(l){an(e,a,l)}break;case 5:var s=e.return;try{DS(e)}catch(l){an(e,s,l)}}}catch(l){an(e,e.return,l)}if(e===t){_e=null;break}var o=e.sibling;if(o!==null){o.return=e.return,_e=o;break}_e=e.return}}var qX=Math.ceil,kv=so.ReactCurrentDispatcher,UC=so.ReactCurrentOwner,Oi=so.ReactCurrentBatchConfig,dt=0,$n=null,yn=null,Fn=0,Wr=0,Fu=jl(0),Sn=0,Op=null,Cc=0,kx=0,HC=0,Wh=null,Sr=null,WC=0,kd=1/0,Es=null,Ov=!1,zS=null,Xo=null,Hg=!1,Fo=null,Nv=0,Vh=0,US=null,qy=-1,Gy=0;function pr(){return dt&6?cn():qy!==-1?qy:qy=cn()}function Zo(t){return t.mode&1?dt&2&&Fn!==0?Fn&-Fn:kX.transition!==null?(Gy===0&&(Gy=F5()),Gy):(t=St,t!==0||(t=window.event,t=t===void 0?16:q5(t.type)),t):1}function fa(t,e,n,r){if(50<Vh)throw Vh=0,US=null,Error(le(185));Dm(t,n,r),(!(dt&2)||t!==$n)&&(t===$n&&(!(dt&2)&&(kx|=n),Sn===4&&Oo(t,Fn)),Pr(t,r),n===1&&dt===0&&!(e.mode&1)&&(kd=cn()+500,jx&&Al()))}function Pr(t,e){var n=t.callbackNode;kY(t,e);var r=pv(t,t===$n?Fn:0);if(r===0)n!==null&&UN(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&UN(n),e===1)t.tag===0?TX($P.bind(null,t)):d3($P.bind(null,t)),EX(function(){!(dt&6)&&Al()}),n=null;else{switch(B5(r)){case 1:n=gC;break;case 4:n=L5;break;case 16:n=hv;break;case 536870912:n=D5;break;default:n=hv}n=cF(n,nF.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function nF(t,e){if(qy=-1,Gy=0,dt&6)throw Error(le(327));var n=t.callbackNode;if(Ju()&&t.callbackNode!==n)return null;var r=pv(t,t===$n?Fn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Pv(t,r);else{e=r;var i=dt;dt|=2;var a=iF();($n!==t||Fn!==e)&&(Es=null,kd=cn()+500,gc(t,e));do try{YX();break}catch(o){rF(t,o)}while(!0);kC(),kv.current=a,dt=i,yn!==null?e=0:($n=null,Fn=0,e=Sn)}if(e!==0){if(e===2&&(i=mS(t),i!==0&&(r=i,e=HS(t,i))),e===1)throw n=Op,gc(t,0),Oo(t,r),Pr(t,cn()),n;if(e===6)Oo(t,r);else{if(i=t.current.alternate,!(r&30)&&!GX(i)&&(e=Pv(t,r),e===2&&(a=mS(t),a!==0&&(r=a,e=HS(t,a))),e===1))throw n=Op,gc(t,0),Oo(t,r),Pr(t,cn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(le(345));case 2:Gl(t,Sr,Es);break;case 3:if(Oo(t,r),(r&130023424)===r&&(e=WC+500-cn(),10<e)){if(pv(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){pr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=SS(Gl.bind(null,t,Sr,Es),e);break}Gl(t,Sr,Es);break;case 4:if(Oo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-da(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=cn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qX(r/1960))-r,10<r){t.timeoutHandle=SS(Gl.bind(null,t,Sr,Es),r);break}Gl(t,Sr,Es);break;case 5:Gl(t,Sr,Es);break;default:throw Error(le(329))}}}return Pr(t,cn()),t.callbackNode===n?nF.bind(null,t):null}function HS(t,e){var n=Wh;return t.current.memoizedState.isDehydrated&&(gc(t,e).flags|=256),t=Pv(t,e),t!==2&&(e=Sr,Sr=n,e!==null&&WS(e)),t}function WS(t){Sr===null?Sr=t:Sr.push.apply(Sr,t)}function GX(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ya(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Oo(t,e){for(e&=~HC,e&=~kx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-da(e),r=1<<n;t[n]=-1,e&=~r}}function $P(t){if(dt&6)throw Error(le(327));Ju();var e=pv(t,0);if(!(e&1))return Pr(t,cn()),null;var n=Pv(t,e);if(t.tag!==0&&n===2){var r=mS(t);r!==0&&(e=r,n=HS(t,r))}if(n===1)throw n=Op,gc(t,0),Oo(t,e),Pr(t,cn()),n;if(n===6)throw Error(le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gl(t,Sr,Es),Pr(t,cn()),null}function VC(t,e){var n=dt;dt|=1;try{return t(e)}finally{dt=n,dt===0&&(kd=cn()+500,jx&&Al())}}function Tc(t){Fo!==null&&Fo.tag===0&&!(dt&6)&&Ju();var e=dt;dt|=1;var n=Oi.transition,r=St;try{if(Oi.transition=null,St=1,t)return t()}finally{St=r,Oi.transition=n,dt=e,!(dt&6)&&Al()}}function qC(){Wr=Fu.current,Ht(Fu)}function gc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,SX(n)),yn!==null)for(n=yn.return;n!==null;){var r=n;switch(AC(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xv();break;case 3:Cd(),Ht(Or),Ht(Zn),RC();break;case 5:$C(r);break;case 4:Cd();break;case 13:Ht(Yt);break;case 19:Ht(Yt);break;case 10:OC(r.type._context);break;case 22:case 23:qC()}n=n.return}if($n=t,yn=t=Jo(t.current,null),Fn=Wr=e,Sn=0,Op=null,HC=kx=Cc=0,Sr=Wh=null,ac!==null){for(e=0;e<ac.length;e++)if(n=ac[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}ac=null}return t}function rF(t,e){do{var n=yn;try{if(kC(),Hy.current=Tv,Cv){for(var r=Zt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cv=!1}if(Ac=0,Pn=bn=Zt=null,Uh=!1,Cp=0,UC.current=null,n===null||n.return===null){Sn=1,Op=e,yn=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=Fn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=wP(s);if(p!==null){p.flags&=-257,_P(p,s,o,a,e),p.mode&1&&bP(a,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){bP(a,c,e),GC();break e}l=Error(le(426))}}else if(Wt&&o.mode&1){var v=wP(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),_P(v,s,o,a,e),CC(Td(l,o));break e}}a=l=Td(l,o),Sn!==4&&(Sn=2),Wh===null?Wh=[a]:Wh.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=B3(a,l,e);pP(a,y);break e;case 1:o=l;var x=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Xo===null||!Xo.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var _=z3(a,o,e);pP(a,_);break e}}a=a.return}while(a!==null)}sF(n)}catch(w){e=w,yn===n&&n!==null&&(yn=n=n.return);continue}break}while(!0)}function iF(){var t=kv.current;return kv.current=Tv,t===null?Tv:t}function GC(){(Sn===0||Sn===3||Sn===2)&&(Sn=4),$n===null||!(Cc&268435455)&&!(kx&268435455)||Oo($n,Fn)}function Pv(t,e){var n=dt;dt|=2;var r=iF();($n!==t||Fn!==e)&&(Es=null,gc(t,e));do try{KX();break}catch(i){rF(t,i)}while(!0);if(kC(),dt=n,kv.current=r,yn!==null)throw Error(le(261));return $n=null,Fn=0,Sn}function KX(){for(;yn!==null;)aF(yn)}function YX(){for(;yn!==null&&!bY();)aF(yn)}function aF(t){var e=lF(t.alternate,t,Wr);t.memoizedProps=t.pendingProps,e===null?sF(t):yn=e,UC.current=null}function sF(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=UX(n,e),n!==null){n.flags&=32767,yn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Sn=6,yn=null;return}}else if(n=zX(n,e,Wr),n!==null){yn=n;return}if(e=e.sibling,e!==null){yn=e;return}yn=e=t}while(e!==null);Sn===0&&(Sn=5)}function Gl(t,e,n){var r=St,i=Oi.transition;try{Oi.transition=null,St=1,XX(t,e,n,r)}finally{Oi.transition=i,St=r}return null}function XX(t,e,n,r){do Ju();while(Fo!==null);if(dt&6)throw Error(le(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(le(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(OY(t,a),t===$n&&(yn=$n=null,Fn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hg||(Hg=!0,cF(hv,function(){return Ju(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Oi.transition,Oi.transition=null;var s=St;St=1;var o=dt;dt|=4,UC.current=null,WX(t,n),eF(n,t),gX(wS),mv=!!bS,wS=bS=null,t.current=n,VX(n),wY(),dt=o,St=s,Oi.transition=a}else t.current=n;if(Hg&&(Hg=!1,Fo=t,Nv=i),a=t.pendingLanes,a===0&&(Xo=null),EY(n.stateNode),Pr(t,cn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ov)throw Ov=!1,t=zS,zS=null,t;return Nv&1&&t.tag!==0&&Ju(),a=t.pendingLanes,a&1?t===US?Vh++:(Vh=0,US=t):Vh=0,Al(),null}function Ju(){if(Fo!==null){var t=B5(Nv),e=Oi.transition,n=St;try{if(Oi.transition=null,St=16>t?16:t,Fo===null)var r=!1;else{if(t=Fo,Fo=null,Nv=0,dt&6)throw Error(le(331));var i=dt;for(dt|=4,_e=t.current;_e!==null;){var a=_e,s=a.child;if(_e.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(_e=c;_e!==null;){var d=_e;switch(d.tag){case 0:case 11:case 15:Hh(8,d,a)}var f=d.child;if(f!==null)f.return=d,_e=f;else for(;_e!==null;){d=_e;var h=d.sibling,p=d.return;if(Z3(d),d===c){_e=null;break}if(h!==null){h.return=p,_e=h;break}_e=p}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}_e=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,_e=s;else e:for(;_e!==null;){if(a=_e,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Hh(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,_e=y;break e}_e=a.return}}var x=t.current;for(_e=x;_e!==null;){s=_e;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,_e=b;else e:for(s=x;_e!==null;){if(o=_e,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Tx(9,o)}}catch(w){an(o,o.return,w)}if(o===s){_e=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,_e=_;break e}_e=o.return}}if(dt=i,Al(),Xa&&typeof Xa.onPostCommitFiberRoot=="function")try{Xa.onPostCommitFiberRoot(bx,t)}catch{}r=!0}return r}finally{St=n,Oi.transition=e}}return!1}function RP(t,e,n){e=Td(n,e),e=B3(t,e,1),t=Yo(t,e,1),e=pr(),t!==null&&(Dm(t,1,e),Pr(t,e))}function an(t,e,n){if(t.tag===3)RP(t,t,n);else for(;e!==null;){if(e.tag===3){RP(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xo===null||!Xo.has(r))){t=Td(n,t),t=z3(e,t,1),e=Yo(e,t,1),t=pr(),e!==null&&(Dm(e,1,t),Pr(e,t));break}}e=e.return}}function ZX(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=pr(),t.pingedLanes|=t.suspendedLanes&n,$n===t&&(Fn&n)===n&&(Sn===4||Sn===3&&(Fn&130023424)===Fn&&500>cn()-WC?gc(t,0):HC|=n),Pr(t,e)}function oF(t,e){e===0&&(t.mode&1?(e=Ig,Ig<<=1,!(Ig&130023424)&&(Ig=4194304)):e=1);var n=pr();t=Ks(t,e),t!==null&&(Dm(t,e,n),Pr(t,n))}function JX(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),oF(t,n)}function QX(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(le(314))}r!==null&&r.delete(e),oF(t,n)}var lF;lF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Or.current)Cr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Cr=!1,BX(t,e,n);Cr=!!(t.flags&131072)}else Cr=!1,Wt&&e.flags&1048576&&f3(e,_v,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Vy(t,e),t=e.pendingProps;var i=Ed(e,Zn.current);Zu(e,n),i=LC(null,e,r,t,i,n);var a=DC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nr(r)?(a=!0,bv(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,PC(e),i.updater=Cx,e.stateNode=i,i._reactInternals=e,OS(e,r,t,n),e=IS(null,e,r,!0,a,n)):(e.tag=0,Wt&&a&&jC(e),or(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Vy(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=tZ(r),t=Ji(r,t),i){case 0:e=PS(null,e,r,t,n);break e;case 1:e=jP(null,e,r,t,n);break e;case 11:e=SP(null,e,r,t,n);break e;case 14:e=EP(null,e,r,Ji(r.type,t),n);break e}throw Error(le(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ji(r,i),PS(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ji(r,i),jP(t,e,r,i,n);case 3:e:{if(V3(e),t===null)throw Error(le(387));r=e.pendingProps,a=e.memoizedState,i=a.element,v3(t,e),jv(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Td(Error(le(423)),e),e=AP(t,e,r,n,i);break e}else if(r!==i){i=Td(Error(le(424)),e),e=AP(t,e,r,n,i);break e}else for(Yr=Ko(e.stateNode.containerInfo.firstChild),Qr=e,Wt=!0,sa=null,n=g3(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jd(),r===i){e=Ys(t,e,n);break e}or(t,e,r,n)}e=e.child}return e;case 5:return x3(e),t===null&&CS(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,_S(r,i)?s=null:a!==null&&_S(r,a)&&(e.flags|=32),W3(t,e),or(t,e,s,n),e.child;case 6:return t===null&&CS(e),null;case 13:return q3(t,e,n);case 4:return IC(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ad(e,null,r,n):or(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ji(r,i),SP(t,e,r,i,n);case 7:return or(t,e,e.pendingProps,n),e.child;case 8:return or(t,e,e.pendingProps.children,n),e.child;case 12:return or(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,It(Sv,r._currentValue),r._currentValue=s,a!==null)if(ya(a.value,s)){if(a.children===i.children&&!Or.current){e=Ys(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Ls(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),TS(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(le(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),TS(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}or(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Zu(e,n),i=$i(i),r=r(i),e.flags|=1,or(t,e,r,n),e.child;case 14:return r=e.type,i=Ji(r,e.pendingProps),i=Ji(r.type,i),EP(t,e,r,i,n);case 15:return U3(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ji(r,i),Vy(t,e),e.tag=1,Nr(r)?(t=!0,bv(e)):t=!1,Zu(e,n),F3(e,r,i),OS(e,r,i,n),IS(null,e,r,!0,t,n);case 19:return G3(t,e,n);case 22:return H3(t,e,n)}throw Error(le(156,e.tag))};function cF(t,e){return M5(t,e)}function eZ(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ai(t,e,n,r){return new eZ(t,e,n,r)}function KC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tZ(t){if(typeof t=="function")return KC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hC)return 11;if(t===pC)return 14}return 2}function Jo(t,e){var n=t.alternate;return n===null?(n=Ai(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ky(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")KC(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ku:return yc(n.children,i,a,e);case fC:s=8,i|=8;break;case eS:return t=Ai(12,n,e,i|2),t.elementType=eS,t.lanes=a,t;case tS:return t=Ai(13,n,e,i),t.elementType=tS,t.lanes=a,t;case nS:return t=Ai(19,n,e,i),t.elementType=nS,t.lanes=a,t;case x5:return Ox(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case y5:s=10;break e;case v5:s=9;break e;case hC:s=11;break e;case pC:s=14;break e;case jo:s=16,r=null;break e}throw Error(le(130,t==null?t:typeof t,""))}return e=Ai(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function yc(t,e,n,r){return t=Ai(7,t,r,e),t.lanes=n,t}function Ox(t,e,n,r){return t=Ai(22,t,r,e),t.elementType=x5,t.lanes=n,t.stateNode={isHidden:!1},t}function o_(t,e,n){return t=Ai(6,t,null,e),t.lanes=n,t}function l_(t,e,n){return e=Ai(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nZ(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uw(0),this.expirationTimes=Uw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function YC(t,e,n,r,i,a,s,o,l){return t=new nZ(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ai(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},PC(a),t}function rZ(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function uF(t){if(!t)return ll;t=t._reactInternals;e:{if(Hc(t)!==t||t.tag!==1)throw Error(le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(le(171))}if(t.tag===1){var n=t.type;if(Nr(n))return u3(t,n,e)}return e}function dF(t,e,n,r,i,a,s,o,l){return t=YC(n,r,!0,t,i,a,s,o,l),t.context=uF(null),n=t.current,r=pr(),i=Zo(n),a=Ls(r,i),a.callback=e??null,Yo(n,a,i),t.current.lanes=i,Dm(t,i,r),Pr(t,r),t}function Nx(t,e,n,r){var i=e.current,a=pr(),s=Zo(i);return n=uF(n),e.context===null?e.context=n:e.pendingContext=n,e=Ls(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Yo(i,e,s),t!==null&&(fa(t,i,s,a),Uy(t,i,s)),s}function Iv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function MP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function XC(t,e){MP(t,e),(t=t.alternate)&&MP(t,e)}function iZ(){return null}var fF=typeof reportError=="function"?reportError:function(t){console.error(t)};function ZC(t){this._internalRoot=t}Px.prototype.render=ZC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(le(409));Nx(t,e,null,null)};Px.prototype.unmount=ZC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Tc(function(){Nx(null,t,null,null)}),e[Gs]=null}};function Px(t){this._internalRoot=t}Px.prototype.unstable_scheduleHydration=function(t){if(t){var e=H5();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ko.length&&e!==0&&e<ko[n].priority;n++);ko.splice(n,0,t),n===0&&V5(t)}};function JC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ix(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function LP(){}function aZ(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=Iv(s);a.call(c)}}var s=dF(e,r,t,0,null,!1,!1,"",LP);return t._reactRootContainer=s,t[Gs]=s.current,_p(t.nodeType===8?t.parentNode:t),Tc(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=Iv(l);o.call(c)}}var l=YC(t,0,!1,null,null,!1,!1,"",LP);return t._reactRootContainer=l,t[Gs]=l.current,_p(t.nodeType===8?t.parentNode:t),Tc(function(){Nx(e,l,n,r)}),l}function $x(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Iv(s);o.call(l)}}Nx(e,s,t,i)}else s=aZ(n,e,t,i,r);return Iv(s)}z5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=jh(e.pendingLanes);n!==0&&(yC(e,n|1),Pr(e,cn()),!(dt&6)&&(kd=cn()+500,Al()))}break;case 13:Tc(function(){var r=Ks(t,1);if(r!==null){var i=pr();fa(r,t,1,i)}}),XC(t,1)}};vC=function(t){if(t.tag===13){var e=Ks(t,134217728);if(e!==null){var n=pr();fa(e,t,134217728,n)}XC(t,134217728)}};U5=function(t){if(t.tag===13){var e=Zo(t),n=Ks(t,e);if(n!==null){var r=pr();fa(n,t,e,r)}XC(t,e)}};H5=function(){return St};W5=function(t,e){var n=St;try{return St=t,e()}finally{St=n}};fS=function(t,e,n){switch(e){case"input":if(aS(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ex(r);if(!i)throw Error(le(90));w5(r),aS(r,i)}}}break;case"textarea":S5(t,n);break;case"select":e=n.value,e!=null&&Gu(t,!!n.multiple,e,!1)}};O5=VC;N5=Tc;var sZ={usingClientEntryPoint:!1,Events:[Bm,Iu,Ex,T5,k5,VC]},rh={findFiberByHostInstance:ic,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oZ={bundleType:rh.bundleType,version:rh.version,rendererPackageName:rh.rendererPackageName,rendererConfig:rh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:so.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$5(t),t===null?null:t.stateNode},findFiberByHostInstance:rh.findFiberByHostInstance||iZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wg.isDisabled&&Wg.supportsFiber)try{bx=Wg.inject(oZ),Xa=Wg}catch{}}fi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sZ;fi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!JC(e))throw Error(le(200));return rZ(t,e,null,n)};fi.createRoot=function(t,e){if(!JC(t))throw Error(le(299));var n=!1,r="",i=fF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=YC(t,1,!1,null,null,n,!1,r,i),t[Gs]=e.current,_p(t.nodeType===8?t.parentNode:t),new ZC(e)};fi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(le(188)):(t=Object.keys(t).join(","),Error(le(268,t)));return t=$5(e),t=t===null?null:t.stateNode,t};fi.flushSync=function(t){return Tc(t)};fi.hydrate=function(t,e,n){if(!Ix(e))throw Error(le(200));return $x(null,t,e,!0,n)};fi.hydrateRoot=function(t,e,n){if(!JC(t))throw Error(le(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=fF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=dF(e,null,t,1,n??null,i,!1,a,s),t[Gs]=e.current,_p(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Px(e)};fi.render=function(t,e,n){if(!Ix(e))throw Error(le(200));return $x(null,t,e,!1,n)};fi.unmountComponentAtNode=function(t){if(!Ix(t))throw Error(le(40));return t._reactRootContainer?(Tc(function(){$x(null,null,t,!1,function(){t._reactRootContainer=null,t[Gs]=null})}),!0):!1};fi.unstable_batchedUpdates=VC;fi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ix(n))throw Error(le(200));if(t==null||t._reactInternals===void 0)throw Error(le(38));return $x(t,e,n,!1,r)};fi.version="18.3.1-next-f1338f8080-20240426";function hF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hF)}catch(t){console.error(t)}}hF(),h5.exports=fi;var Wc=h5.exports;const pF=at(Wc);var mF,DP=Wc;mF=DP.createRoot,DP.hydrateRoot;var Rx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Mx=typeof window>"u"||"Deno"in globalThis;function Qi(){}function lZ(t,e){return typeof t=="function"?t(e):t}function cZ(t){return typeof t=="number"&&t>=0&&t!==1/0}function uZ(t,e){return Math.max(t+(e||0)-Date.now(),0)}function FP(t,e){return typeof t=="function"?t(e):t}function dZ(t,e){return typeof t=="function"?t(e):t}function BP(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:s,stale:o}=t;if(s){if(r){if(e.queryHash!==QC(s,e.options))return!1}else if(!Pp(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||a&&!a(e))}function zP(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(Np(e.options.mutationKey)!==Np(a))return!1}else if(!Pp(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function QC(t,e){return((e==null?void 0:e.queryKeyHashFn)||Np)(t)}function Np(t){return JSON.stringify(t,(e,n)=>VS(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Pp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Pp(t[n],e[n])):!1}function gF(t,e){if(t===e)return t;const n=UP(t)&&UP(e);if(n||VS(t)&&VS(e)){const r=n?t:Object.keys(t),i=r.length,a=n?e:Object.keys(e),s=a.length,o=n?[]:{};let l=0;for(let c=0;c<s;c++){const d=n?c:a[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(o[d]=void 0,l++):(o[d]=gF(t[d],e[d]),o[d]===t[d]&&t[d]!==void 0&&l++)}return i===s&&l===i?t:o}return e}function UP(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function VS(t){if(!HP(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!HP(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function HP(t){return Object.prototype.toString.call(t)==="[object Object]"}function fZ(t){return new Promise(e=>{setTimeout(e,t)})}function hZ(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?gF(t,e):e}function pZ(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function mZ(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var eT=Symbol();function yF(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===eT?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var dc,Io,pd,q4,gZ=(q4=class extends Rx{constructor(){super();xt(this,dc);xt(this,Io);xt(this,pd);nt(this,pd,e=>{if(!Mx&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ne(this,Io)||this.setEventListener(ne(this,pd))}onUnsubscribe(){var e;this.hasListeners()||((e=ne(this,Io))==null||e.call(this),nt(this,Io,void 0))}setEventListener(e){var n;nt(this,pd,e),(n=ne(this,Io))==null||n.call(this),nt(this,Io,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ne(this,dc)!==e&&(nt(this,dc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ne(this,dc)=="boolean"?ne(this,dc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},dc=new WeakMap,Io=new WeakMap,pd=new WeakMap,q4),vF=new gZ,md,$o,gd,G4,yZ=(G4=class extends Rx{constructor(){super();xt(this,md,!0);xt(this,$o);xt(this,gd);nt(this,gd,e=>{if(!Mx&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ne(this,$o)||this.setEventListener(ne(this,gd))}onUnsubscribe(){var e;this.hasListeners()||((e=ne(this,$o))==null||e.call(this),nt(this,$o,void 0))}setEventListener(e){var n;nt(this,gd,e),(n=ne(this,$o))==null||n.call(this),nt(this,$o,e(this.setOnline.bind(this)))}setOnline(e){ne(this,md)!==e&&(nt(this,md,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ne(this,md)}},md=new WeakMap,$o=new WeakMap,gd=new WeakMap,G4),$v=new yZ;function vZ(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function xZ(t){return Math.min(1e3*2**t,3e4)}function xF(t){return(t??"online")==="online"?$v.isOnline():!0}var bF=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function c_(t){return t instanceof bF}function wF(t){let e=!1,n=0,r=!1,i;const a=vZ(),s=g=>{var v;r||(h(new bF(g)),(v=t.abort)==null||v.call(t))},o=()=>{e=!0},l=()=>{e=!1},c=()=>vF.isFocused()&&(t.networkMode==="always"||$v.isOnline())&&t.canRun(),d=()=>xF(t.networkMode)&&t.canRun(),f=g=>{var v;r||(r=!0,(v=t.onSuccess)==null||v.call(t,g),i==null||i(),a.resolve(g))},h=g=>{var v;r||(r=!0,(v=t.onError)==null||v.call(t,g),i==null||i(),a.reject(g))},p=()=>new Promise(g=>{var v;i=y=>{(r||c())&&g(y)},(v=t.onPause)==null||v.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),m=()=>{if(r)return;let g;const v=n===0?t.initialPromise:void 0;try{g=v??t.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(f).catch(y=>{var E;if(r)return;const x=t.retry??(Mx?0:3),b=t.retryDelay??xZ,_=typeof b=="function"?b(n,y):b,w=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,y);if(e||!w){h(y);return}n++,(E=t.onFail)==null||E.call(t,n,y),fZ(_).then(()=>c()?void 0:p()).then(()=>{e?h(y):m()})})};return{promise:a,cancel:s,continue:()=>(i==null||i(),a),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?m():p().then(m),a)}}function bZ(){let t=[],e=0,n=o=>{o()},r=o=>{o()},i=o=>setTimeout(o,0);const a=o=>{e?t.push(o):i(()=>{n(o)})},s=()=>{const o=t;t=[],o.length&&i(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||s()}return l},batchCalls:o=>(...l)=>{a(()=>{o(...l)})},schedule:a,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var cr=bZ(),fc,K4,_F=(K4=class{constructor(){xt(this,fc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cZ(this.gcTime)&&nt(this,fc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Mx?1/0:5*60*1e3))}clearGcTimeout(){ne(this,fc)&&(clearTimeout(ne(this,fc)),nt(this,fc,void 0))}},fc=new WeakMap,K4),yd,vd,wi,qn,Rm,hc,ta,_s,Y4,wZ=(Y4=class extends _F{constructor(e){super();xt(this,ta);xt(this,yd);xt(this,vd);xt(this,wi);xt(this,qn);xt(this,Rm);xt(this,hc);nt(this,hc,!1),nt(this,Rm,e.defaultOptions),this.setOptions(e.options),this.observers=[],nt(this,wi,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,nt(this,yd,SZ(this.options)),this.state=e.state??ne(this,yd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ne(this,qn))==null?void 0:e.promise}setOptions(e){this.options={...ne(this,Rm),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ne(this,wi).remove(this)}setData(e,n){const r=hZ(this.state.data,e,this.options);return Un(this,ta,_s).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Un(this,ta,_s).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=ne(this,qn))==null?void 0:r.promise;return(i=ne(this,qn))==null||i.cancel(e),n?n.then(Qi).catch(Qi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ne(this,yd))}isActive(){return this.observers.some(e=>dZ(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===eT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!uZ(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=ne(this,qn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=ne(this,qn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ne(this,wi).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(ne(this,qn)&&(ne(this,hc)?ne(this,qn).cancel({revert:!0}):ne(this,qn).cancelRetry()),this.scheduleGc()),ne(this,wi).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Un(this,ta,_s).call(this,{type:"invalidate"})}fetch(e,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ne(this,qn))return ne(this,qn).continueRetry(),ne(this,qn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(nt(this,hc,!0),r.signal)})},a=()=>{const f=yF(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return i(h),nt(this,hc,!1),this.options.persister?this.options.persister(f,h,this):f(h)},s={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(s),(l=this.options.behavior)==null||l.onFetch(s,this),nt(this,vd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=s.fetchOptions)==null?void 0:c.meta))&&Un(this,ta,_s).call(this,{type:"fetch",meta:(d=s.fetchOptions)==null?void 0:d.meta});const o=f=>{var h,p,m,g;c_(f)&&f.silent||Un(this,ta,_s).call(this,{type:"error",error:f}),c_(f)||((p=(h=ne(this,wi).config).onError)==null||p.call(h,f,this),(g=(m=ne(this,wi).config).onSettled)==null||g.call(m,this.state.data,f,this)),this.scheduleGc()};return nt(this,qn,wF({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,p,m,g;if(f===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(v){o(v);return}(p=(h=ne(this,wi).config).onSuccess)==null||p.call(h,f,this),(g=(m=ne(this,wi).config).onSettled)==null||g.call(m,f,this.state.error,this),this.scheduleGc()},onError:o,onFail:(f,h)=>{Un(this,ta,_s).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Un(this,ta,_s).call(this,{type:"pause"})},onContinue:()=>{Un(this,ta,_s).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),ne(this,qn).start()}},yd=new WeakMap,vd=new WeakMap,wi=new WeakMap,qn=new WeakMap,Rm=new WeakMap,hc=new WeakMap,ta=new WeakSet,_s=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,..._Z(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return c_(i)&&i.revert&&ne(this,vd)?{...ne(this,vd),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),cr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ne(this,wi).notify({query:this,type:"updated",action:e})})},Y4);function _Z(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xF(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function SZ(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ba,X4,EZ=(X4=class extends Rx{constructor(e={}){super();xt(this,Ba);this.config=e,nt(this,Ba,new Map)}build(e,n,r){const i=n.queryKey,a=n.queryHash??QC(i,n);let s=this.get(a);return s||(s=new wZ({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){ne(this,Ba).has(e.queryHash)||(ne(this,Ba).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ne(this,Ba).get(e.queryHash);n&&(e.destroy(),n===e&&ne(this,Ba).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){cr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ne(this,Ba).get(e)}getAll(){return[...ne(this,Ba).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>BP(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>BP(e,r)):n}notify(e){cr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){cr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){cr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ba=new WeakMap,X4),za,sr,pc,Ua,_o,Z4,jZ=(Z4=class extends _F{constructor(e){super();xt(this,Ua);xt(this,za);xt(this,sr);xt(this,pc);this.mutationId=e.mutationId,nt(this,sr,e.mutationCache),nt(this,za,[]),this.state=e.state||AZ(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ne(this,za).includes(e)||(ne(this,za).push(e),this.clearGcTimeout(),ne(this,sr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){nt(this,za,ne(this,za).filter(n=>n!==e)),this.scheduleGc(),ne(this,sr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ne(this,za).length||(this.state.status==="pending"?this.scheduleGc():ne(this,sr).remove(this))}continue(){var e;return((e=ne(this,pc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,s,o,l,c,d,f,h,p,m,g,v,y,x,b,_,w,E,A;nt(this,pc,wF({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(j,C)=>{Un(this,Ua,_o).call(this,{type:"failed",failureCount:j,error:C})},onPause:()=>{Un(this,Ua,_o).call(this,{type:"pause"})},onContinue:()=>{Un(this,Ua,_o).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ne(this,sr).canRun(this)}));const n=this.state.status==="pending",r=!ne(this,pc).canStart();try{if(!n){Un(this,Ua,_o).call(this,{type:"pending",variables:e,isPaused:r}),await((a=(i=ne(this,sr).config).onMutate)==null?void 0:a.call(i,e,this));const C=await((o=(s=this.options).onMutate)==null?void 0:o.call(s,e));C!==this.state.context&&Un(this,Ua,_o).call(this,{type:"pending",context:C,variables:e,isPaused:r})}const j=await ne(this,pc).start();return await((c=(l=ne(this,sr).config).onSuccess)==null?void 0:c.call(l,j,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,j,e,this.state.context)),await((p=(h=ne(this,sr).config).onSettled)==null?void 0:p.call(h,j,null,this.state.variables,this.state.context,this)),await((g=(m=this.options).onSettled)==null?void 0:g.call(m,j,null,e,this.state.context)),Un(this,Ua,_o).call(this,{type:"success",data:j}),j}catch(j){try{throw await((y=(v=ne(this,sr).config).onError)==null?void 0:y.call(v,j,e,this.state.context,this)),await((b=(x=this.options).onError)==null?void 0:b.call(x,j,e,this.state.context)),await((w=(_=ne(this,sr).config).onSettled)==null?void 0:w.call(_,void 0,j,this.state.variables,this.state.context,this)),await((A=(E=this.options).onSettled)==null?void 0:A.call(E,void 0,j,e,this.state.context)),j}finally{Un(this,Ua,_o).call(this,{type:"error",error:j})}}finally{ne(this,sr).runNext(this)}}},za=new WeakMap,sr=new WeakMap,pc=new WeakMap,Ua=new WeakSet,_o=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),cr.batch(()=>{ne(this,za).forEach(r=>{r.onMutationUpdate(e)}),ne(this,sr).notify({mutation:this,type:"updated",action:e})})},Z4);function AZ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ur,Mm,J4,CZ=(J4=class extends Rx{constructor(e={}){super();xt(this,Ur);xt(this,Mm);this.config=e,nt(this,Ur,new Map),nt(this,Mm,Date.now())}build(e,n,r){const i=new jZ({mutationCache:this,mutationId:++Cg(this,Mm)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Vg(e),r=ne(this,Ur).get(n)??[];r.push(e),ne(this,Ur).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Vg(e);if(ne(this,Ur).has(n)){const i=(r=ne(this,Ur).get(n))==null?void 0:r.filter(a=>a!==e);i&&(i.length===0?ne(this,Ur).delete(n):ne(this,Ur).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=ne(this,Ur).get(Vg(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=ne(this,Ur).get(Vg(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){cr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...ne(this,Ur).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>zP(n,r))}findAll(e={}){return this.getAll().filter(n=>zP(e,n))}notify(e){cr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return cr.batch(()=>Promise.all(e.map(n=>n.continue().catch(Qi))))}},Ur=new WeakMap,Mm=new WeakMap,J4);function Vg(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function WP(t){return{onFetch:(e,n)=>{var d,f,h,p,m;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((p=e.state.data)==null?void 0:p.pages)||[],s=((m=e.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},y=yF(e.options,e.fetchOptions),x=async(b,_,w)=>{if(g)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const E={queryKey:e.queryKey,pageParam:_,direction:w?"backward":"forward",meta:e.options.meta};v(E);const A=await y(E),{maxPages:j}=e.options,C=w?mZ:pZ;return{pages:C(b.pages,A,j),pageParams:C(b.pageParams,_,j)}};if(i&&a.length){const b=i==="backward",_=b?TZ:VP,w={pages:a,pageParams:s},E=_(r,w);o=await x(w,E,b)}else{const b=t??a.length;do{const _=l===0?s[0]??r.initialPageParam:VP(r,o);if(l>0&&_==null)break;o=await x(o,_),l++}while(l<b)}return o};e.options.persister?e.fetchFn=()=>{var g,v;return(v=(g=e.options).persister)==null?void 0:v.call(g,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function VP(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function TZ(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var en,Ro,Mo,xd,bd,Lo,wd,_d,Q4,kZ=(Q4=class{constructor(t={}){xt(this,en);xt(this,Ro);xt(this,Mo);xt(this,xd);xt(this,bd);xt(this,Lo);xt(this,wd);xt(this,_d);nt(this,en,t.queryCache||new EZ),nt(this,Ro,t.mutationCache||new CZ),nt(this,Mo,t.defaultOptions||{}),nt(this,xd,new Map),nt(this,bd,new Map),nt(this,Lo,0)}mount(){Cg(this,Lo)._++,ne(this,Lo)===1&&(nt(this,wd,vF.subscribe(async t=>{t&&(await this.resumePausedMutations(),ne(this,en).onFocus())})),nt(this,_d,$v.subscribe(async t=>{t&&(await this.resumePausedMutations(),ne(this,en).onOnline())})))}unmount(){var t,e;Cg(this,Lo)._--,ne(this,Lo)===0&&((t=ne(this,wd))==null||t.call(this),nt(this,wd,void 0),(e=ne(this,_d))==null||e.call(this),nt(this,_d,void 0))}isFetching(t){return ne(this,en).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ne(this,Ro).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ne(this,en).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=ne(this,en).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(FP(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return ne(this,en).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=ne(this,en).get(r.queryHash),a=i==null?void 0:i.state.data,s=lZ(e,a);if(s!==void 0)return ne(this,en).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return cr.batch(()=>ne(this,en).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ne(this,en).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ne(this,en);cr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ne(this,en),r={type:"active",...t};return cr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=cr.batch(()=>ne(this,en).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Qi).catch(Qi)}invalidateQueries(t={},e={}){return cr.batch(()=>{if(ne(this,en).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=cr.batch(()=>ne(this,en).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Qi)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Qi)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ne(this,en).build(this,e);return n.isStaleByTime(FP(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Qi).catch(Qi)}fetchInfiniteQuery(t){return t.behavior=WP(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Qi).catch(Qi)}ensureInfiniteQueryData(t){return t.behavior=WP(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return $v.isOnline()?ne(this,Ro).resumePausedMutations():Promise.resolve()}getQueryCache(){return ne(this,en)}getMutationCache(){return ne(this,Ro)}getDefaultOptions(){return ne(this,Mo)}setDefaultOptions(t){nt(this,Mo,t)}setQueryDefaults(t,e){ne(this,xd).set(Np(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ne(this,xd).values()];let n={};return e.forEach(r=>{Pp(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){ne(this,bd).set(Np(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ne(this,bd).values()];let n={};return e.forEach(r=>{Pp(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ne(this,Mo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=QC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===eT&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ne(this,Mo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ne(this,en).clear(),ne(this,Ro).clear()}},en=new WeakMap,Ro=new WeakMap,Mo=new WeakMap,xd=new WeakMap,bd=new WeakMap,Lo=new WeakMap,wd=new WeakMap,_d=new WeakMap,Q4),OZ=S.createContext(void 0),NZ=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(OZ.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ip(){return Ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ip.apply(this,arguments)}var Bo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bo||(Bo={}));const qP="popstate";function PZ(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return qS("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Rv(i)}return $Z(e,n,null,t)}function dn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function SF(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IZ(){return Math.random().toString(36).substr(2,8)}function GP(t,e){return{usr:t.state,key:t.key,idx:e}}function qS(t,e,n,r){return n===void 0&&(n=null),Ip({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?xf(e):e,{state:n,key:e&&e.key||r||IZ()})}function Rv(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function xf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function $Z(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=Bo.Pop,l=null,c=d();c==null&&(c=0,s.replaceState(Ip({},s.state,{idx:c}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=Bo.Pop;let v=d(),y=v==null?null:v-c;c=v,l&&l({action:o,location:g.location,delta:y})}function h(v,y){o=Bo.Push;let x=qS(g.location,v,y);c=d()+1;let b=GP(x,c),_=g.createHref(x);try{s.pushState(b,"",_)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(_)}a&&l&&l({action:o,location:g.location,delta:1})}function p(v,y){o=Bo.Replace;let x=qS(g.location,v,y);c=d();let b=GP(x,c),_=g.createHref(x);s.replaceState(b,"",_),a&&l&&l({action:o,location:g.location,delta:0})}function m(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof v=="string"?v:Rv(v);return x=x.replace(/ $/,"%20"),dn(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let g={get action(){return o},get location(){return t(i,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(qP,f),l=v,()=>{i.removeEventListener(qP,f),l=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let y=m(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(v){return s.go(v)}};return g}var KP;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(KP||(KP={}));function RZ(t,e,n){return n===void 0&&(n="/"),MZ(t,e,n,!1)}function MZ(t,e,n,r){let i=typeof e=="string"?xf(e):e,a=tT(i.pathname||"/",n);if(a==null)return null;let s=EF(t);LZ(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=KZ(a);o=qZ(s[l],c,r)}return o}function EF(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(dn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Qo([r,l.relativePath]),d=n.concat(l);a.children&&a.children.length>0&&(dn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),EF(a.children,e,d,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:WZ(c,a.index),routesMeta:d})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of jF(a.path))i(a,s,l)}),e}function jF(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=jF(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function LZ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:VZ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const DZ=/^:[\w-]+$/,FZ=3,BZ=2,zZ=1,UZ=10,HZ=-2,YP=t=>t==="*";function WZ(t,e){let n=t.split("/"),r=n.length;return n.some(YP)&&(r+=HZ),e&&(r+=BZ),n.filter(i=>!YP(i)).reduce((i,a)=>i+(DZ.test(a)?FZ:a===""?zZ:UZ),r)}function VZ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function qZ(t,e,n){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,d=a==="/"?e:e.slice(a.length)||"/",f=XP({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=XP({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Qo([a,f.pathname]),pathnameBase:JZ(Qo([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Qo([a,f.pathnameBase]))}return s}function XP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=GZ(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=o[f]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=o[f];return p&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function GZ(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),SF(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function KZ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return SF(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function tT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function YZ(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?xf(t):t;return{pathname:n?n.startsWith("/")?n:XZ(n,e):e,search:QZ(r),hash:eJ(i)}}function XZ(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function u_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ZZ(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nT(t,e){let n=ZZ(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function rT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=xf(t):(i=Ip({},t),dn(!i.pathname||!i.pathname.includes("?"),u_("?","pathname","search",i)),dn(!i.pathname||!i.pathname.includes("#"),u_("#","pathname","hash",i)),dn(!i.search||!i.search.includes("#"),u_("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=YZ(i,o),c=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Qo=t=>t.join("/").replace(/\/\/+/g,"/"),JZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,eJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function tJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const AF=["post","put","patch","delete"];new Set(AF);const nJ=["get",...AF];new Set(nJ);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $p(){return $p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$p.apply(this,arguments)}const iT=S.createContext(null),rJ=S.createContext(null),Cl=S.createContext(null),Lx=S.createContext(null),Tl=S.createContext({outlet:null,matches:[],isDataRoute:!1}),CF=S.createContext(null);function iJ(t,e){let{relative:n}=e===void 0?{}:e;bf()||dn(!1);let{basename:r,navigator:i}=S.useContext(Cl),{hash:a,pathname:s,search:o}=kF(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Qo([r,s])),i.createHref({pathname:l,search:o,hash:a})}function bf(){return S.useContext(Lx)!=null}function Vc(){return bf()||dn(!1),S.useContext(Lx).location}function TF(t){S.useContext(Cl).static||S.useLayoutEffect(t)}function pi(){let{isDataRoute:t}=S.useContext(Tl);return t?yJ():aJ()}function aJ(){bf()||dn(!1);let t=S.useContext(iT),{basename:e,future:n,navigator:r}=S.useContext(Cl),{matches:i}=S.useContext(Tl),{pathname:a}=Vc(),s=JSON.stringify(nT(i,n.v7_relativeSplatPath)),o=S.useRef(!1);return TF(()=>{o.current=!0}),S.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=rT(c,JSON.parse(s),a,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Qo([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,s,a,t])}function kF(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=S.useContext(Cl),{matches:i}=S.useContext(Tl),{pathname:a}=Vc(),s=JSON.stringify(nT(i,r.v7_relativeSplatPath));return S.useMemo(()=>rT(t,JSON.parse(s),a,n==="path"),[t,s,a,n])}function sJ(t,e){return oJ(t,e)}function oJ(t,e,n,r){bf()||dn(!1);let{navigator:i}=S.useContext(Cl),{matches:a}=S.useContext(Tl),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Vc(),d;if(e){var f;let v=typeof e=="string"?xf(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||dn(!1),d=v}else d=c;let h=d.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=RZ(t,{pathname:p}),g=fJ(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Qo([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Qo([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n,r);return e&&g?S.createElement(Lx.Provider,{value:{location:$p({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Bo.Pop}},g):g}function lJ(){let t=gJ(),e=tJ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,null)}const cJ=S.createElement(lJ,null);class uJ extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(Tl.Provider,{value:this.props.routeContext},S.createElement(CF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dJ(t){let{routeContext:e,match:n,children:r}=t,i=S.useContext(iT);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Tl.Provider,{value:e},r)}function fJ(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||dn(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:p}=n,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,m=!1,g=null,v=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||cJ,l&&(c<0&&h===0?(m=!0,v=null):c===h&&(m=!0,v=f.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,h+1)),x=()=>{let b;return p?b=g:m?b=v:f.route.Component?b=S.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,S.createElement(dJ,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?S.createElement(uJ,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var OF=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(OF||{}),Mv=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Mv||{});function hJ(t){let e=S.useContext(iT);return e||dn(!1),e}function pJ(t){let e=S.useContext(rJ);return e||dn(!1),e}function mJ(t){let e=S.useContext(Tl);return e||dn(!1),e}function NF(t){let e=mJ(),n=e.matches[e.matches.length-1];return n.route.id||dn(!1),n.route.id}function gJ(){var t;let e=S.useContext(CF),n=pJ(Mv.UseRouteError),r=NF(Mv.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function yJ(){let{router:t}=hJ(OF.UseNavigateStable),e=NF(Mv.UseNavigateStable),n=S.useRef(!1);return TF(()=>{n.current=!0}),S.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,$p({fromRouteId:e},a)))},[t,e])}function vJ(t){let{to:e,replace:n,state:r,relative:i}=t;bf()||dn(!1);let{future:a,static:s}=S.useContext(Cl),{matches:o}=S.useContext(Tl),{pathname:l}=Vc(),c=pi(),d=rT(e,nT(o,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return S.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function Ma(t){dn(!1)}function xJ(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Bo.Pop,navigator:a,static:s=!1,future:o}=t;bf()&&dn(!1);let l=e.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:l,navigator:a,static:s,future:$p({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof r=="string"&&(r=xf(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=r,g=S.useMemo(()=>{let v=tT(d,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:m},navigationType:i}},[l,d,f,h,p,m,i]);return g==null?null:S.createElement(Cl.Provider,{value:c},S.createElement(Lx.Provider,{children:n,value:g}))}function bJ(t){let{children:e,location:n}=t;return sJ(GS(e),n)}new Promise(()=>{});function GS(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let a=[...e,i];if(r.type===S.Fragment){n.push.apply(n,GS(r.props.children,a));return}r.type!==Ma&&dn(!1),!r.props.index||!r.props.children||dn(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=GS(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function KS(){return KS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KS.apply(this,arguments)}function wJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function _J(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function SJ(t,e){return t.button===0&&(!e||e==="_self")&&!_J(t)}function YS(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function EJ(t,e){let n=YS(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const jJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],AJ="6";try{window.__reactRouterVersion=AJ}catch{}const CJ="startTransition",ZP=d5[CJ];function TJ(t){let{basename:e,children:n,future:r,window:i}=t,a=S.useRef();a.current==null&&(a.current=PZ({window:i,v5Compat:!0}));let s=a.current,[o,l]=S.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},d=S.useCallback(f=>{c&&ZP?ZP(()=>l(f)):l(f)},[l,c]);return S.useLayoutEffect(()=>s.listen(d),[s,d]),S.createElement(xJ,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}const kJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PF=S.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,h=wJ(e,jJ),{basename:p}=S.useContext(Cl),m,g=!1;if(typeof c=="string"&&OJ.test(c)&&(m=c,kJ))try{let b=new URL(window.location.href),_=c.startsWith("//")?new URL(b.protocol+c):new URL(c),w=tT(_.pathname,p);_.origin===b.origin&&w!=null?c=w+_.search+_.hash:g=!0}catch{}let v=iJ(c,{relative:i}),y=NJ(c,{replace:s,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:f});function x(b){r&&r(b),b.defaultPrevented||y(b)}return S.createElement("a",KS({},h,{href:m||v,onClick:g||a?r:x,ref:n,target:l}))});var JP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(JP||(JP={}));var QP;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(QP||(QP={}));function NJ(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=pi(),c=Vc(),d=kF(t,{relative:s});return S.useCallback(f=>{if(SJ(f,n)){f.preventDefault();let h=r!==void 0?r:Rv(c)===Rv(d);l(t,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,d,r,i,n,t,a,s,o])}function PJ(t){let e=S.useRef(YS(t)),n=S.useRef(!1),r=Vc(),i=S.useMemo(()=>EJ(r.search,n.current?null:e.current),[r.search]),a=pi(),s=S.useCallback((o,l)=>{const c=YS(typeof o=="function"?o(i):o);n.current=!0,a("?"+c,l)},[a,i]);return[i,s]}var Lv=["light","dark"],aT="(prefers-color-scheme: dark)",IJ=typeof window>"u",sT=S.createContext(void 0),$J={setTheme:t=>{},themes:[]},RJ=()=>{var t;return(t=S.useContext(sT))!=null?t:$J},MJ=t=>S.useContext(sT)?t.children:S.createElement(DJ,{...t}),LJ=["light","dark"],DJ=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:i="theme",themes:a=LJ,defaultTheme:s=n?"system":"light",attribute:o="data-theme",value:l,children:c,nonce:d})=>{let[f,h]=S.useState(()=>eI(i,s)),[p,m]=S.useState(()=>eI(i)),g=l?Object.values(l):a,v=S.useCallback(_=>{let w=_;if(!w)return;_==="system"&&n&&(w=tI());let E=l?l[w]:w,A=e?BJ():null,j=document.documentElement;if(o==="class"?(j.classList.remove(...g),E&&j.classList.add(E)):E?j.setAttribute(o,E):j.removeAttribute(o),r){let C=Lv.includes(s)?s:null,T=Lv.includes(w)?w:C;j.style.colorScheme=T}A==null||A()},[]),y=S.useCallback(_=>{let w=typeof _=="function"?_(_):_;h(w);try{localStorage.setItem(i,w)}catch{}},[t]),x=S.useCallback(_=>{let w=tI(_);m(w),f==="system"&&n&&!t&&v("system")},[f,t]);S.useEffect(()=>{let _=window.matchMedia(aT);return _.addListener(x),x(_),()=>_.removeListener(x)},[x]),S.useEffect(()=>{let _=w=>{if(w.key!==i)return;let E=w.newValue||s;y(E)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[y]),S.useEffect(()=>{v(t??f)},[t,f]);let b=S.useMemo(()=>({theme:f,setTheme:y,forcedTheme:t,resolvedTheme:f==="system"?p:f,themes:n?[...a,"system"]:a,systemTheme:n?p:void 0}),[f,y,t,p,n,a]);return S.createElement(sT.Provider,{value:b},S.createElement(FJ,{forcedTheme:t,disableTransitionOnChange:e,enableSystem:n,enableColorScheme:r,storageKey:i,themes:a,defaultTheme:s,attribute:o,value:l,children:c,attrs:g,nonce:d}),c)},FJ=S.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:s,attrs:o,nonce:l})=>{let c=a==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?Lv.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(m,g=!1,v=!0)=>{let y=s?s[m]:m,x=g?m+"|| ''":`'${y}'`,b="";return i&&v&&!g&&Lv.includes(m)&&(b+=`d.style.colorScheme = '${m}';`),n==="class"?g||y?b+=`c.add(${x})`:b+="null":y&&(b+=`d[s](n,${x})`),b},p=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${aT}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}${c?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return S.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})}),eI=(t,e)=>{if(IJ)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},BJ=()=>{let t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},tI=t=>(t||(t=window.matchMedia(aT)),t.matches?"dark":"light"),zJ=typeof Element<"u",UJ=typeof Map=="function",HJ=typeof Set=="function",WJ=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Yy(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Yy(t[r],e[r]))return!1;return!0}var a;if(UJ&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(a=t.entries();!(r=a.next()).done;)if(!e.has(r.value[0]))return!1;for(a=t.entries();!(r=a.next()).done;)if(!Yy(r.value[1],e.get(r.value[0])))return!1;return!0}if(HJ&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(a=t.entries();!(r=a.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(WJ&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(zJ&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!Yy(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var VJ=function(e,n){try{return Yy(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const qJ=at(VJ);var GJ=function(t,e,n,r,i,a,s,o){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,s,o],d=0;l=new Error(e.replace(/%s/g,function(){return c[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},KJ=GJ;const nI=at(KJ);var YJ=function(e,n,r,i){var a=r?r.call(i,e,n):void 0;if(a!==void 0)return!!a;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),c=0;c<s.length;c++){var d=s[c];if(!l(d))return!1;var f=e[d],h=n[d];if(a=r?r.call(i,f,h,d):void 0,a===!1||a===void 0&&f!==h)return!1}return!0};const XJ=at(YJ);var IF=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(IF||{}),d_={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},rI=Object.values(IF),oT={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},ZJ=Object.entries(oT).reduce((t,[e,n])=>(t[n]=e,t),{}),ca="data-rh",Qu={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},ed=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},JJ=t=>{let e=ed(t,"title");const n=ed(t,Qu.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=ed(t,Qu.DEFAULT_TITLE);return e||r||void 0},QJ=t=>ed(t,Qu.ON_CHANGE_CLIENT_STATE)||(()=>{}),f_=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),eQ=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let a=0;a<i.length;a+=1){const o=i[a].toLowerCase();if(t.indexOf(o)!==-1&&r[o])return n.concat(r)}}return n},[]),tQ=t=>console&&typeof console.warn=="function"&&console.warn(t),ih=(t,e,n)=>{const r={};return n.filter(i=>Array.isArray(i[t])?!0:(typeof i[t]<"u"&&tQ(`Helmet: ${t} should be of type "Array". Instead found type "${typeof i[t]}"`),!1)).map(i=>i[t]).reverse().reduce((i,a)=>{const s={};a.filter(l=>{let c;const d=Object.keys(l);for(let h=0;h<d.length;h+=1){const p=d[h],m=p.toLowerCase();e.indexOf(m)!==-1&&!(c==="rel"&&l[c].toLowerCase()==="canonical")&&!(m==="rel"&&l[m].toLowerCase()==="stylesheet")&&(c=m),e.indexOf(p)!==-1&&(p==="innerHTML"||p==="cssText"||p==="itemprop")&&(c=p)}if(!c||!l[c])return!1;const f=l[c].toLowerCase();return r[c]||(r[c]={}),s[c]||(s[c]={}),r[c][f]?!1:(s[c][f]=!0,!0)}).reverse().forEach(l=>i.push(l));const o=Object.keys(s);for(let l=0;l<o.length;l+=1){const c=o[l],d={...r[c],...s[c]};r[c]=d}return i},[]).reverse()},nQ=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},rQ=t=>({baseTag:eQ(["href"],t),bodyAttributes:f_("bodyAttributes",t),defer:ed(t,Qu.DEFER),encode:ed(t,Qu.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:f_("htmlAttributes",t),linkTags:ih("link",["rel","href"],t),metaTags:ih("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:ih("noscript",["innerHTML"],t),onChangeClientState:QJ(t),scriptTags:ih("script",["src","innerHTML"],t),styleTags:ih("style",["cssText"],t),title:JJ(t),titleAttributes:f_("titleAttributes",t),prioritizeSeoTags:nQ(t,Qu.PRIORITIZE_SEO_TAGS)}),$F=t=>Array.isArray(t)?t.join(""):t,iQ=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},h_=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(iQ(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},iI=(t,e)=>({...t,[e]:void 0}),aQ=["noscript","script","style"],XS=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),RF=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),sQ=(t,e,n,r)=>{const i=RF(n),a=$F(e);return i?`<${t} ${ca}="true" ${i}>${XS(a,r)}</${t}>`:`<${t} ${ca}="true">${XS(a,r)}</${t}>`},oQ=(t,e,n=!0)=>e.reduce((r,i)=>{const a=i,s=Object.keys(a).filter(c=>!(c==="innerHTML"||c==="cssText")).reduce((c,d)=>{const f=typeof a[d]>"u"?d:`${d}="${XS(a[d],n)}"`;return c?`${c} ${f}`:f},""),o=a.innerHTML||a.cssText||"",l=aQ.indexOf(t)===-1;return`${r}<${t} ${ca}="true" ${s}${l?"/>":`>${o}</${t}>`}`},""),MF=(t,e={})=>Object.keys(t).reduce((n,r)=>{const i=oT[r];return n[i||r]=t[r],n},e),lQ=(t,e,n)=>{const r={key:e,[ca]:!0},i=MF(n,r);return[L.createElement("title",i,e)]},Xy=(t,e)=>e.map((n,r)=>{const i={key:r,[ca]:!0};return Object.keys(n).forEach(a=>{const o=oT[a]||a;if(o==="innerHTML"||o==="cssText"){const l=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:l}}else i[o]=n[a]}),L.createElement(t,i)}),xi=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>lQ(t,e.title,e.titleAttributes),toString:()=>sQ(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>MF(e),toString:()=>RF(e)};default:return{toComponent:()=>Xy(t,e),toString:()=>oQ(t,e,n)}}},cQ=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const i=h_(t,d_.meta),a=h_(e,d_.link),s=h_(n,d_.script);return{priorityMethods:{toComponent:()=>[...Xy("meta",i.priority),...Xy("link",a.priority),...Xy("script",s.priority)],toString:()=>`${xi("meta",i.priority,r)} ${xi("link",a.priority,r)} ${xi("script",s.priority,r)}`},metaTags:i.default,linkTags:a.default,scriptTags:s.default}},uQ=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:a,styleTags:s,title:o="",titleAttributes:l,prioritizeSeoTags:c}=t;let{linkTags:d,metaTags:f,scriptTags:h}=t,p={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:p,linkTags:d,metaTags:f,scriptTags:h}=cQ(t)),{priority:p,base:xi("base",e,r),bodyAttributes:xi("bodyAttributes",n,r),htmlAttributes:xi("htmlAttributes",i,r),link:xi("link",d,r),meta:xi("meta",f,r),noscript:xi("noscript",a,r),script:xi("script",h,r),style:xi("style",s,r),title:xi("title",{title:o,titleAttributes:l},r)}},ZS=uQ,qg=[],LF=!!(typeof window<"u"&&window.document&&window.document.createElement),JS=class{constructor(t,e){z(this,"instances",[]);z(this,"canUseDOM",LF);z(this,"context");z(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?qg:this.instances,add:t=>{(this.canUseDOM?qg:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?qg:this.instances).indexOf(t);(this.canUseDOM?qg:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=ZS({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},dQ={},DF=L.createContext(dQ),mc,FF=(mc=class extends S.Component{constructor(n){super(n);z(this,"helmetData");this.helmetData=new JS(this.props.context||{},mc.canUseDOM)}render(){return L.createElement(DF.Provider,{value:this.helmetData.value},this.props.children)}},z(mc,"canUseDOM",LF),mc),ru=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${ca}]`),i=[].slice.call(r),a=[];let s;return e&&e.length&&e.forEach(o=>{const l=document.createElement(t);for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c))if(c==="innerHTML")l.innerHTML=o.innerHTML;else if(c==="cssText")l.styleSheet?l.styleSheet.cssText=o.cssText:l.appendChild(document.createTextNode(o.cssText));else{const d=c,f=typeof o[d]>"u"?"":o[d];l.setAttribute(c,f)}l.setAttribute(ca,"true"),i.some((c,d)=>(s=d,l.isEqualNode(c)))?i.splice(s,1):a.push(l)}),i.forEach(o=>{var l;return(l=o.parentNode)==null?void 0:l.removeChild(o)}),a.forEach(o=>n.appendChild(o)),{oldTags:i,newTags:a}},QS=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(ca),i=r?r.split(","):[],a=[...i],s=Object.keys(e);for(const o of s){const l=e[o]||"";n.getAttribute(o)!==l&&n.setAttribute(o,l),i.indexOf(o)===-1&&i.push(o);const c=a.indexOf(o);c!==-1&&a.splice(c,1)}for(let o=a.length-1;o>=0;o-=1)n.removeAttribute(a[o]);i.length===a.length?n.removeAttribute(ca):n.getAttribute(ca)!==s.join(",")&&n.setAttribute(ca,s.join(","))},fQ=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=$F(t)),QS("title",e)},aI=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:a,metaTags:s,noscriptTags:o,onChangeClientState:l,scriptTags:c,styleTags:d,title:f,titleAttributes:h}=t;QS("body",r),QS("html",i),fQ(f,h);const p={baseTag:ru("base",n),linkTags:ru("link",a),metaTags:ru("meta",s),noscriptTags:ru("noscript",o),scriptTags:ru("script",c),styleTags:ru("style",d)},m={},g={};Object.keys(p).forEach(v=>{const{newTags:y,oldTags:x}=p[v];y.length&&(m[v]=y),x.length&&(g[v]=p[v].oldTags)}),e&&e(),l(t,m,g)},ah=null,hQ=t=>{ah&&cancelAnimationFrame(ah),t.defer?ah=requestAnimationFrame(()=>{aI(t,()=>{ah=null})}):(aI(t),ah=null)},pQ=hQ,sI=class extends S.Component{constructor(){super(...arguments);z(this,"rendered",!1)}shouldComponentUpdate(e){return!XJ(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const i=rQ(e.get().map(a=>{const s={...a.props};return delete s.context,s}));FF.canUseDOM?pQ(i):ZS&&(r=ZS(i)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},J1,mQ=(J1=class extends S.Component{shouldComponentUpdate(t){return!qJ(iI(this.props,"helmetData"),iI(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return nI(rI.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${rI.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),nI(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return L.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:i,...a}=r.props,s=Object.keys(a).reduce((l,c)=>(l[ZJ[c]||c]=a[c],l),{});let{type:o}=r;switch(typeof o=="symbol"?o=o.toString():this.warnOnInvalidChildren(r,i),o){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,s,i);break;default:e=this.mapObjectTypeChildren(r,e,s,i);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof JS)){const i=r;r=new JS(i.context,!0),delete n.helmetData}return r?L.createElement(sI,{...n,context:r.value}):L.createElement(DF.Consumer,null,i=>L.createElement(sI,{...n,context:i}))}},z(J1,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),J1);const gQ=1,yQ=1e6;let p_=0;function vQ(){return p_=(p_+1)%Number.MAX_SAFE_INTEGER,p_.toString()}const m_=new Map,oI=t=>{if(m_.has(t))return;const e=setTimeout(()=>{m_.delete(t),qh({type:"REMOVE_TOAST",toastId:t})},yQ);m_.set(t,e)},xQ=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,gQ)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?oI(n):t.toasts.forEach(r=>{oI(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Zy=[];let Jy={toasts:[]};function qh(t){Jy=xQ(Jy,t),Zy.forEach(e=>{e(Jy)})}function bQ({...t}){const e=vQ(),n=i=>qh({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>qh({type:"DISMISS_TOAST",toastId:e});return qh({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Mt(){const[t,e]=S.useState(Jy);return S.useEffect(()=>(Zy.push(e),()=>{const n=Zy.indexOf(e);n>-1&&Zy.splice(n,1)}),[t]),{...t,toast:bQ,dismiss:n=>qh({type:"DISMISS_TOAST",toastId:n})}}function he(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function wQ(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Dx(...t){return e=>t.forEach(n=>wQ(n,e))}function rt(...t){return S.useCallback(Dx(...t),t)}function _Q(t,e=[]){let n=[];function r(a,s){const o=S.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||o,v=S.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:v,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||o,m=S.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,d]}const i=()=>{const a=n.map(s=>S.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,SQ(i,...e)]}function SQ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var cl=S.forwardRef((t,e)=>{const{children:n,...r}=t,i=S.Children.toArray(n),a=i.find(EQ);if(a){const s=a.props.children,o=i.map(l=>l===a?S.Children.count(s)>1?S.Children.only(null):S.isValidElement(s)?s.props.children:null:l);return u.jsx(eE,{...r,ref:e,children:S.isValidElement(s)?S.cloneElement(s,void 0,o):null})}return u.jsx(eE,{...r,ref:e,children:n})});cl.displayName="Slot";var eE=S.forwardRef((t,e)=>{const{children:n,...r}=t;if(S.isValidElement(n)){const i=AQ(n);return S.cloneElement(n,{...jQ(r,n.props),ref:e?Dx(e,i):i})}return S.Children.count(n)>1?S.Children.only(null):null});eE.displayName="SlotClone";var BF=({children:t})=>u.jsx(u.Fragment,{children:t});function EQ(t){return S.isValidElement(t)&&t.type===BF}function jQ(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...o)=>{a(...o),i(...o)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function AQ(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Fx(t){const e=t+"CollectionProvider",[n,r]=_Q(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=p=>{const{scope:m,children:g}=p,v=L.useRef(null),y=L.useRef(new Map).current;return u.jsx(i,{scope:m,itemMap:y,collectionRef:v,children:g})};s.displayName=e;const o=t+"CollectionSlot",l=L.forwardRef((p,m)=>{const{scope:g,children:v}=p,y=a(o,g),x=rt(m,y.collectionRef);return u.jsx(cl,{ref:x,children:v})});l.displayName=o;const c=t+"CollectionItemSlot",d="data-radix-collection-item",f=L.forwardRef((p,m)=>{const{scope:g,children:v,...y}=p,x=L.useRef(null),b=rt(m,x),_=a(c,g);return L.useEffect(()=>(_.itemMap.set(x,{ref:x,...y}),()=>void _.itemMap.delete(x))),u.jsx(cl,{[d]:"",ref:b,children:v})});f.displayName=c;function h(p){const m=a(t+"CollectionConsumer",p);return L.useCallback(()=>{const v=m.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(m.itemMap.values()).sort((_,w)=>y.indexOf(_.ref.current)-y.indexOf(w.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:s,Slot:l,ItemSlot:f},h,r]}function CQ(t,e){const n=S.createContext(e),r=a=>{const{children:s,...o}=a,l=S.useMemo(()=>o,Object.values(o));return u.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function i(a){const s=S.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function Sa(t,e=[]){let n=[];function r(a,s){const o=S.createContext(s),l=n.length;n=[...n,s];const c=f=>{var y;const{scope:h,children:p,...m}=f,g=((y=h==null?void 0:h[t])==null?void 0:y[l])||o,v=S.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:v,children:p})};c.displayName=a+"Provider";function d(f,h){var g;const p=((g=h==null?void 0:h[t])==null?void 0:g[l])||o,m=S.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[c,d]}const i=()=>{const a=n.map(s=>S.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,TQ(i,...e)]}function TQ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var kQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ne=kQ.reduce((t,e)=>{const n=S.forwardRef((r,i)=>{const{asChild:a,...s}=r,o=a?cl:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(o,{...s,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function lT(t,e){t&&Wc.flushSync(()=>t.dispatchEvent(e))}function Vt(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function OQ(t,e=globalThis==null?void 0:globalThis.document){const n=Vt(t);S.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var NQ="DismissableLayer",tE="dismissableLayer.update",PQ="dismissableLayer.pointerDownOutside",IQ="dismissableLayer.focusOutside",lI,zF=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wf=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:o,...l}=t,c=S.useContext(zF),[d,f]=S.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=S.useState({}),m=rt(e,A=>f(A)),g=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(v),x=d?g.indexOf(d):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,_=x>=y,w=RQ(A=>{const j=A.target,C=[...c.branches].some(T=>T.contains(j));!_||C||(i==null||i(A),s==null||s(A),A.defaultPrevented||o==null||o())},h),E=MQ(A=>{const j=A.target;[...c.branches].some(T=>T.contains(j))||(a==null||a(A),s==null||s(A),A.defaultPrevented||o==null||o())},h);return OQ(A=>{x===c.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&o&&(A.preventDefault(),o()))},h),S.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(lI=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),cI(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=lI)}},[d,h,n,c]),S.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),cI())},[d,c]),S.useEffect(()=>{const A=()=>p({});return document.addEventListener(tE,A),()=>document.removeEventListener(tE,A)},[]),u.jsx(Ne.div,{...l,ref:m,style:{pointerEvents:b?_?"auto":"none":void 0,...t.style},onFocusCapture:he(t.onFocusCapture,E.onFocusCapture),onBlurCapture:he(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:he(t.onPointerDownCapture,w.onPointerDownCapture)})});wf.displayName=NQ;var $Q="DismissableLayerBranch",UF=S.forwardRef((t,e)=>{const n=S.useContext(zF),r=S.useRef(null),i=rt(e,r);return S.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),u.jsx(Ne.div,{...t,ref:i})});UF.displayName=$Q;function RQ(t,e=globalThis==null?void 0:globalThis.document){const n=Vt(t),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const a=o=>{if(o.target&&!r.current){let l=function(){HF(PQ,n,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function MQ(t,e=globalThis==null?void 0:globalThis.document){const n=Vt(t),r=S.useRef(!1);return S.useEffect(()=>{const i=a=>{a.target&&!r.current&&HF(IQ,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function cI(){const t=new CustomEvent(tE);document.dispatchEvent(t)}function HF(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?lT(i,a):i.dispatchEvent(a)}var LQ=wf,DQ=UF,jn=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},FQ="Portal",Um=S.forwardRef((t,e)=>{var o;const{container:n,...r}=t,[i,a]=S.useState(!1);jn(()=>a(!0),[]);const s=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return s?pF.createPortal(u.jsx(Ne.div,{...r,ref:e}),s):null});Um.displayName=FQ;function BQ(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var er=t=>{const{present:e,children:n}=t,r=zQ(e),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),a=rt(r.ref,UQ(i));return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:a}):null};er.displayName="Presence";function zQ(t){const[e,n]=S.useState(),r=S.useRef({}),i=S.useRef(t),a=S.useRef("none"),s=t?"mounted":"unmounted",[o,l]=BQ(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const c=Gg(r.current);a.current=o==="mounted"?c:"none"},[o]),jn(()=>{const c=r.current,d=i.current;if(d!==t){const h=a.current,p=Gg(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),jn(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=p=>{const g=Gg(r.current).includes(p.animationName);if(p.target===e&&g&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},h=p=>{p.target===e&&(a.current=Gg(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:S.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Gg(t){return(t==null?void 0:t.animationName)||"none"}function UQ(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function as({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=HQ({defaultProp:e,onChange:n}),a=t!==void 0,s=a?t:r,o=Vt(n),l=S.useCallback(c=>{if(a){const f=typeof c=="function"?c(t):c;f!==t&&o(f)}else i(c)},[a,t,i,o]);return[s,l]}function HQ({defaultProp:t,onChange:e}){const n=S.useState(t),[r]=n,i=S.useRef(r),a=Vt(e);return S.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}var WQ="VisuallyHidden",Hm=S.forwardRef((t,e)=>u.jsx(Ne.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Hm.displayName=WQ;var VQ=Hm,cT="ToastProvider",[uT,qQ,GQ]=Fx("Toast"),[WF,LWe]=Sa("Toast",[GQ]),[KQ,Bx]=WF(cT),VF=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:s}=t,[o,l]=S.useState(null),[c,d]=S.useState(0),f=S.useRef(!1),h=S.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${cT}\`. Expected non-empty \`string\`.`),u.jsx(uT.Provider,{scope:e,children:u.jsx(KQ,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:c,viewport:o,onViewportChange:l,onToastAdd:S.useCallback(()=>d(p=>p+1),[]),onToastRemove:S.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};VF.displayName=cT;var qF="ToastViewport",YQ=["F8"],nE="toast.viewportPause",rE="toast.viewportResume",GF=S.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=YQ,label:i="Notifications ({hotkey})",...a}=t,s=Bx(qF,n),o=qQ(n),l=S.useRef(null),c=S.useRef(null),d=S.useRef(null),f=S.useRef(null),h=rt(e,f,s.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=s.toastCount>0;S.useEffect(()=>{const v=y=>{var b;r.length!==0&&r.every(_=>y[_]||y.code===_)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),S.useEffect(()=>{const v=l.current,y=f.current;if(m&&v&&y){const x=()=>{if(!s.isClosePausedRef.current){const E=new CustomEvent(nE);y.dispatchEvent(E),s.isClosePausedRef.current=!0}},b=()=>{if(s.isClosePausedRef.current){const E=new CustomEvent(rE);y.dispatchEvent(E),s.isClosePausedRef.current=!1}},_=E=>{!v.contains(E.relatedTarget)&&b()},w=()=>{v.contains(document.activeElement)||b()};return v.addEventListener("focusin",x),v.addEventListener("focusout",_),v.addEventListener("pointermove",x),v.addEventListener("pointerleave",w),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{v.removeEventListener("focusin",x),v.removeEventListener("focusout",_),v.removeEventListener("pointermove",x),v.removeEventListener("pointerleave",w),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[m,s.isClosePausedRef]);const g=S.useCallback(({tabbingDirection:v})=>{const x=o().map(b=>{const _=b.ref.current,w=[_,...lee(_)];return v==="forwards"?w:w.reverse()});return(v==="forwards"?x.reverse():x).flat()},[o]);return S.useEffect(()=>{const v=f.current;if(v){const y=x=>{var w,E,A;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const j=document.activeElement,C=x.shiftKey;if(x.target===v&&C){(w=c.current)==null||w.focus();return}const P=g({tabbingDirection:C?"backwards":"forwards"}),H=P.findIndex(R=>R===j);g_(P.slice(H+1))?x.preventDefault():C?(E=c.current)==null||E.focus():(A=d.current)==null||A.focus()}};return v.addEventListener("keydown",y),()=>v.removeEventListener("keydown",y)}},[o,g]),u.jsxs(DQ,{ref:l,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&u.jsx(iE,{ref:c,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});g_(v)}}),u.jsx(uT.Slot,{scope:n,children:u.jsx(Ne.ol,{tabIndex:-1,...a,ref:h})}),m&&u.jsx(iE,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});g_(v)}})]})});GF.displayName=qF;var KF="ToastFocusProxy",iE=S.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,a=Bx(KF,n);return u.jsx(Hm,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var c;const o=s.relatedTarget;!((c=a.viewport)!=null&&c.contains(o))&&r()}})});iE.displayName=KF;var zx="Toast",XQ="toast.swipeStart",ZQ="toast.swipeMove",JQ="toast.swipeCancel",QQ="toast.swipeEnd",YF=S.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...s}=t,[o=!0,l]=as({prop:r,defaultProp:i,onChange:a});return u.jsx(er,{present:n||o,children:u.jsx(nee,{open:o,...s,ref:e,onClose:()=>l(!1),onPause:Vt(t.onPause),onResume:Vt(t.onResume),onSwipeStart:he(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:he(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:he(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:he(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});YF.displayName=zx;var[eee,tee]=WF(zx,{onClose(){}}),nee=S.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:s,onEscapeKeyDown:o,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...m}=t,g=Bx(zx,n),[v,y]=S.useState(null),x=rt(e,R=>y(R)),b=S.useRef(null),_=S.useRef(null),w=i||g.duration,E=S.useRef(0),A=S.useRef(w),j=S.useRef(0),{onToastAdd:C,onToastRemove:T}=g,O=Vt(()=>{var B;(v==null?void 0:v.contains(document.activeElement))&&((B=g.viewport)==null||B.focus()),s()}),P=S.useCallback(R=>{!R||R===1/0||(window.clearTimeout(j.current),E.current=new Date().getTime(),j.current=window.setTimeout(O,R))},[O]);S.useEffect(()=>{const R=g.viewport;if(R){const B=()=>{P(A.current),c==null||c()},U=()=>{const W=new Date().getTime()-E.current;A.current=A.current-W,window.clearTimeout(j.current),l==null||l()};return R.addEventListener(nE,U),R.addEventListener(rE,B),()=>{R.removeEventListener(nE,U),R.removeEventListener(rE,B)}}},[g.viewport,w,l,c,P]),S.useEffect(()=>{a&&!g.isClosePausedRef.current&&P(w)},[a,w,g.isClosePausedRef,P]),S.useEffect(()=>(C(),()=>T()),[C,T]);const H=S.useMemo(()=>v?nB(v):null,[v]);return g.viewport?u.jsxs(u.Fragment,{children:[H&&u.jsx(ree,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),u.jsx(eee,{scope:n,onClose:O,children:Wc.createPortal(u.jsx(uT.ItemSlot,{scope:n,children:u.jsx(LQ,{asChild:!0,onEscapeKeyDown:he(o,()=>{g.isFocusedToastEscapeKeyDownRef.current||O(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Ne.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...m,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:he(t.onKeyDown,R=>{R.key==="Escape"&&(o==null||o(R.nativeEvent),R.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:he(t.onPointerDown,R=>{R.button===0&&(b.current={x:R.clientX,y:R.clientY})}),onPointerMove:he(t.onPointerMove,R=>{if(!b.current)return;const B=R.clientX-b.current.x,U=R.clientY-b.current.y,W=!!_.current,M=["left","right"].includes(g.swipeDirection),D=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,N=M?D(0,B):0,V=M?0:D(0,U),G=R.pointerType==="touch"?10:2,$={x:N,y:V},te={originalEvent:R,delta:$};W?(_.current=$,Kg(ZQ,f,te,{discrete:!1})):uI($,g.swipeDirection,G)?(_.current=$,Kg(XQ,d,te,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(B)>G||Math.abs(U)>G)&&(b.current=null)}),onPointerUp:he(t.onPointerUp,R=>{const B=_.current,U=R.target;if(U.hasPointerCapture(R.pointerId)&&U.releasePointerCapture(R.pointerId),_.current=null,b.current=null,B){const W=R.currentTarget,M={originalEvent:R,delta:B};uI(B,g.swipeDirection,g.swipeThreshold)?Kg(QQ,p,M,{discrete:!0}):Kg(JQ,h,M,{discrete:!0}),W.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),ree=t=>{const{__scopeToast:e,children:n,...r}=t,i=Bx(zx,e),[a,s]=S.useState(!1),[o,l]=S.useState(!1);return see(()=>s(!0)),S.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),o?null:u.jsx(Um,{asChild:!0,children:u.jsx(Hm,{...r,children:a&&u.jsxs(u.Fragment,{children:[i.label," ",n]})})})},iee="ToastTitle",XF=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Ne.div,{...r,ref:e})});XF.displayName=iee;var aee="ToastDescription",ZF=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Ne.div,{...r,ref:e})});ZF.displayName=aee;var JF="ToastAction",QF=S.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(tB,{altText:n,asChild:!0,children:u.jsx(dT,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${JF}\`. Expected non-empty \`string\`.`),null)});QF.displayName=JF;var eB="ToastClose",dT=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=tee(eB,n);return u.jsx(tB,{asChild:!0,children:u.jsx(Ne.button,{type:"button",...r,ref:e,onClick:he(t.onClick,i.onClose)})})});dT.displayName=eB;var tB=S.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return u.jsx(Ne.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function nB(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),oee(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const s=r.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...nB(r))}}),e}function Kg(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?lT(i,a):i.dispatchEvent(a)}var uI=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),a=r>i;return e==="left"||e==="right"?a&&r>n:!a&&i>n};function see(t=()=>{}){const e=Vt(t);jn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function oee(t){return t.nodeType===t.ELEMENT_NODE}function lee(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function g_(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var cee=VF,rB=GF,iB=YF,aB=XF,sB=ZF,oB=QF,lB=dT;function cB(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=cB(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Je(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=cB(t))&&(r&&(r+=" "),r+=e);return r}const dI=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,fI=Je,Wm=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return fI(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=e,s=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],f=a==null?void 0:a[c];if(d===null)return null;const h=dI(d)||dI(f);return i[c][h]}),o=n&&Object.entries(n).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(m=>{let[g,v]=m;return Array.isArray(v)?v.includes({...a,...o}[g]):{...a,...o}[g]===v})?[...c,f,h]:c},[]);return fI(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uee=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uB=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>S.createElement("svg",{ref:l,...dee,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:uB("lucide",i),...o},[...s.map(([c,d])=>S.createElement(c,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(t,e)=>{const n=S.forwardRef(({className:r,...i},a)=>S.createElement(fee,{ref:a,iconNode:e,className:uB(`lucide-${uee(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=Te("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=Te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=Te("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=Te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=Te("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=Te("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=Te("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=Te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=Te("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=Te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=Te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mee=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gee=Te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=Te("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=Te("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=Te("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yee=Te("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=Te("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=Te("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=Te("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=Te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xee=Te("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bee=Te("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wee=Te("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ee=Te("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=Te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=Te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const See=Te("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eee=Te("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=Te("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=Te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=Te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=Te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jee=Te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=Te("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=Te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=Te("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=Te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Te("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=Te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aee=Te("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cee=Te("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tee=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=Te("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=Te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=Te("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kee=Te("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=Te("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oee=Te("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=Te("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=Te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=Te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=Te("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=Te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=Te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=Te("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=Te("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),yT="-",Nee=t=>{const e=Iee(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const o=s.split(yT);return o[0]===""&&o.length!==1&&o.shift(),yB(o,e)||Pee(s)},getConflictingClassGroupIds:(s,o)=>{const l=n[s]||[];return o&&r[s]?[...l,...r[s]]:l}}},yB=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?yB(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(yT);return(s=e.validators.find(({validator:o})=>o(a)))==null?void 0:s.classGroupId},gI=/^\[(.+)\]$/,Pee=t=>{if(gI.test(t)){const e=gI.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Iee=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Ree(Object.entries(t.classGroups),n).forEach(([a,s])=>{oE(s,r,a,e)}),r},oE=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:yI(e,i);a.classGroupId=n;return}if(typeof i=="function"){if($ee(i)){oE(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,s])=>{oE(s,yI(e,a),n,r)})})},yI=(t,e)=>{let n=t;return e.split(yT).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},$ee=t=>t.isThemeGetter,Ree=(t,e)=>e?t.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([s,o])=>[e+s,o])):a);return[n,i]}):t,Mee=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,s)=>{n.set(a,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let s=n.get(a);if(s!==void 0)return s;if((s=r.get(a))!==void 0)return i(a,s),s},set(a,s){n.has(a)?n.set(a,s):i(a,s)}}},vB="!",Lee=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],a=e.length,s=o=>{const l=[];let c=0,d=0,f;for(let v=0;v<o.length;v++){let y=o[v];if(c===0){if(y===i&&(r||o.slice(v,v+a)===e)){l.push(o.slice(d,v)),d=v+a;continue}if(y==="/"){f=v;continue}}y==="["?c++:y==="]"&&c--}const h=l.length===0?o:o.substring(d),p=h.startsWith(vB),m=p?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}};return n?o=>n({className:o,parseClassName:s}):s},Dee=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Fee=t=>({cache:Mee(t.cacheSize),parseClassName:Lee(t),...Nee(t)}),Bee=/\s+/,zee=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],s=t.trim().split(Bee);let o="";for(let l=s.length-1;l>=0;l-=1){const c=s[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(c);let m=!!p,g=r(m?h.substring(0,p):h);if(!g){if(!m){o=c+(o.length>0?" "+o:o);continue}if(g=r(h),!g){o=c+(o.length>0?" "+o:o);continue}m=!1}const v=Dee(d).join(":"),y=f?v+vB:v,x=y+g;if(a.includes(x))continue;a.push(x);const b=i(g,m);for(let _=0;_<b.length;++_){const w=b[_];a.push(y+w)}o=c+(o.length>0?" "+o:o)}return o};function Uee(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=xB(e))&&(r&&(r+=" "),r+=n);return r}const xB=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=xB(t[r]))&&(n&&(n+=" "),n+=e);return n};function Hee(t,...e){let n,r,i,a=s;function s(l){const c=e.reduce((d,f)=>f(d),t());return n=Fee(c),r=n.cache.get,i=n.cache.set,a=o,o(l)}function o(l){const c=r(l);if(c)return c;const d=zee(l,n);return i(l,d),d}return function(){return a(Uee.apply(null,arguments))}}const Ft=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},bB=/^\[(?:([a-z-]+):)?(.+)\]$/i,Wee=/^\d+\/\d+$/,Vee=new Set(["px","full","screen"]),qee=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Gee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Kee=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Yee=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Xee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bs=t=>rd(t)||Vee.has(t)||Wee.test(t),go=t=>_f(t,"length",ite),rd=t=>!!t&&!Number.isNaN(Number(t)),y_=t=>_f(t,"number",rd),sh=t=>!!t&&Number.isInteger(Number(t)),Zee=t=>t.endsWith("%")&&rd(t.slice(0,-1)),Qe=t=>bB.test(t),yo=t=>qee.test(t),Jee=new Set(["length","size","percentage"]),Qee=t=>_f(t,Jee,wB),ete=t=>_f(t,"position",wB),tte=new Set(["image","url"]),nte=t=>_f(t,tte,ste),rte=t=>_f(t,"",ate),oh=()=>!0,_f=(t,e,n)=>{const r=bB.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},ite=t=>Gee.test(t)&&!Kee.test(t),wB=()=>!1,ate=t=>Yee.test(t),ste=t=>Xee.test(t),ote=()=>{const t=Ft("colors"),e=Ft("spacing"),n=Ft("blur"),r=Ft("brightness"),i=Ft("borderColor"),a=Ft("borderRadius"),s=Ft("borderSpacing"),o=Ft("borderWidth"),l=Ft("contrast"),c=Ft("grayscale"),d=Ft("hueRotate"),f=Ft("invert"),h=Ft("gap"),p=Ft("gradientColorStops"),m=Ft("gradientColorStopPositions"),g=Ft("inset"),v=Ft("margin"),y=Ft("opacity"),x=Ft("padding"),b=Ft("saturate"),_=Ft("scale"),w=Ft("sepia"),E=Ft("skew"),A=Ft("space"),j=Ft("translate"),C=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Qe,e],P=()=>[Qe,e],H=()=>["",bs,go],R=()=>["auto",rd,Qe],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",Qe],N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[rd,Qe];return{cacheSize:500,separator:":",theme:{colors:[oh],spacing:[bs,go],blur:["none","",yo,Qe],brightness:V(),borderColor:[t],borderRadius:["none","","full",yo,Qe],borderSpacing:P(),borderWidth:H(),contrast:V(),grayscale:D(),hueRotate:V(),invert:D(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[Zee,go],inset:O(),margin:O(),opacity:V(),padding:P(),saturate:V(),scale:V(),sepia:D(),skew:V(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Qe]}],container:["container"],columns:[{columns:[yo]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),Qe]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",sh,Qe]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Qe]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",sh,Qe]}],"grid-cols":[{"grid-cols":[oh]}],"col-start-end":[{col:["auto",{span:["full",sh,Qe]},Qe]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[oh]}],"row-start-end":[{row:["auto",{span:[sh,Qe]},Qe]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Qe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Qe,e]}],"min-w":[{"min-w":[Qe,e,"min","max","fit"]}],"max-w":[{"max-w":[Qe,e,"none","full","min","max","fit","prose",{screen:[yo]},yo]}],h:[{h:[Qe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Qe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Qe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Qe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",yo,go]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",y_]}],"font-family":[{font:[oh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Qe]}],"line-clamp":[{"line-clamp":["none",rd,y_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",bs,Qe]}],"list-image":[{"list-image":["none",Qe]}],"list-style-type":[{list:["none","disc","decimal",Qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",bs,go]}],"underline-offset":[{"underline-offset":["auto",bs,Qe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),ete]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Qee]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nte]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:U()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[bs,Qe]}],"outline-w":[{outline:[bs,go]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[bs,go]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",yo,rte]}],"shadow-color":[{shadow:[oh]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",yo,Qe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Qe]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",Qe]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",Qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[sh,Qe]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[bs,go,y_]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},lte=Hee(ote);function je(...t){return lte(Je(t))}const cte=cee,_B=S.forwardRef(({className:t,...e},n)=>u.jsx(rB,{ref:n,className:je("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));_B.displayName=rB.displayName;const ute=Wm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),SB=S.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(iB,{ref:r,className:je(ute({variant:e}),t),...n}));SB.displayName=iB.displayName;const dte=S.forwardRef(({className:t,...e},n)=>u.jsx(oB,{ref:n,className:je("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));dte.displayName=oB.displayName;const EB=S.forwardRef(({className:t,...e},n)=>u.jsx(lB,{ref:n,className:je("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(qm,{className:"h-4 w-4"})}));EB.displayName=lB.displayName;const jB=S.forwardRef(({className:t,...e},n)=>u.jsx(aB,{ref:n,className:je("text-sm font-semibold",t),...e}));jB.displayName=aB.displayName;const AB=S.forwardRef(({className:t,...e},n)=>u.jsx(sB,{ref:n,className:je("text-sm opacity-90",t),...e}));AB.displayName=sB.displayName;function fte(){const{toasts:t}=Mt();return u.jsxs(cte,{children:[t.map(function({id:e,title:n,description:r,action:i,...a}){return u.jsxs(SB,{...a,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(jB,{children:n}),r&&u.jsx(AB,{children:r})]}),i,u.jsx(EB,{})]},e)}),u.jsx(_B,{})]})}var hte=t=>{switch(t){case"success":return gte;case"info":return vte;case"warning":return yte;case"error":return xte;default:return null}},pte=Array(12).fill(0),mte=({visible:t})=>L.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},L.createElement("div",{className:"sonner-spinner"},pte.map((e,n)=>L.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),gte=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),yte=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),vte=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),xte=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),bte=()=>{let[t,e]=L.useState(document.hidden);return L.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},lE=1,wte=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:lE++,a=this.toasts.find(o=>o.id===i),s=t.dismissible===void 0?!0:t.dismissible;return a?this.toasts=this.toasts.map(o=>o.id===i?(this.publish({...o,...t,id:i,title:n}),{...o,...t,id:i,dismissible:s,title:n}):o):this.addToast({title:n,...r,dismissible:s,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0;return r.then(async a=>{if(Ste(a)&&!a.ok){i=!1;let s=typeof e.error=="function"?await e.error(`HTTP error! status: ${a.status}`):e.error,o=typeof e.description=="function"?await e.description(`HTTP error! status: ${a.status}`):e.description;this.create({id:n,type:"error",message:s,description:o})}else if(e.success!==void 0){i=!1;let s=typeof e.success=="function"?await e.success(a):e.success,o=typeof e.description=="function"?await e.description(a):e.description;this.create({id:n,type:"success",message:s,description:o})}}).catch(async a=>{if(e.error!==void 0){i=!1;let s=typeof e.error=="function"?await e.error(a):e.error,o=typeof e.description=="function"?await e.description(a):e.description;this.create({id:n,type:"error",message:s,description:o})}}).finally(()=>{var a;i&&(this.dismiss(n),n=void 0),(a=e.finally)==null||a.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||lE++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},Hr=new wte,_te=(t,e)=>{let n=(e==null?void 0:e.id)||lE++;return Hr.addToast({title:t,...e,id:n}),n},Ste=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Ete=_te,jte=()=>Hr.toasts,Bl=Object.assign(Ete,{success:Hr.success,info:Hr.info,warning:Hr.warning,error:Hr.error,custom:Hr.custom,message:Hr.message,promise:Hr.promise,dismiss:Hr.dismiss,loading:Hr.loading},{getHistory:jte});function Ate(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Ate(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Yg(t){return t.label!==void 0}var Cte=3,Tte="32px",kte=4e3,Ote=356,Nte=14,Pte=20,Ite=200;function $te(...t){return t.filter(Boolean).join(" ")}var Rte=t=>{var e,n,r,i,a,s,o,l,c,d;let{invert:f,toast:h,unstyled:p,interacting:m,setHeights:g,visibleToasts:v,heights:y,index:x,toasts:b,expanded:_,removeToast:w,defaultRichColors:E,closeButton:A,style:j,cancelButtonStyle:C,actionButtonStyle:T,className:O="",descriptionClassName:P="",duration:H,position:R,gap:B,loadingIcon:U,expandByDefault:W,classNames:M,icons:D,closeButtonAriaLabel:N="Close toast",pauseWhenPageIsHidden:V,cn:G}=t,[$,te]=L.useState(!1),[ae,I]=L.useState(!1),[k,K]=L.useState(!1),[F,Z]=L.useState(!1),[J,Y]=L.useState(0),[ge,ce]=L.useState(0),ye=L.useRef(null),se=L.useRef(null),Re=x===0,Me=x+1<=v,Ie=h.type,re=h.dismissible!==!1,Ct=h.className||"",we=h.descriptionClassName||"",ve=L.useMemo(()=>y.findIndex(Be=>Be.toastId===h.id)||0,[y,h.id]),be=L.useMemo(()=>{var Be;return(Be=h.closeButton)!=null?Be:A},[h.closeButton,A]),me=L.useMemo(()=>h.duration||H||kte,[h.duration,H]),q=L.useRef(0),X=L.useRef(0),ie=L.useRef(0),ke=L.useRef(null),[lt,Gt]=R.split("-"),ln=L.useMemo(()=>y.reduce((Be,Dt,Tt)=>Tt>=ve?Be:Be+Dt.height,0),[y,ve]),Tn=bte(),Oa=h.invert||f,xs=Ie==="loading";X.current=L.useMemo(()=>ve*B+ln,[ve,ln]),L.useEffect(()=>{te(!0)},[]),L.useLayoutEffect(()=>{if(!$)return;let Be=se.current,Dt=Be.style.height;Be.style.height="auto";let Tt=Be.getBoundingClientRect().height;Be.style.height=Dt,ce(Tt),g(Na=>Na.find(Pa=>Pa.toastId===h.id)?Na.map(Pa=>Pa.toastId===h.id?{...Pa,height:Tt}:Pa):[{toastId:h.id,height:Tt,position:h.position},...Na])},[$,h.title,h.description,g,h.id]);let Qt=L.useCallback(()=>{I(!0),Y(X.current),g(Be=>Be.filter(Dt=>Dt.toastId!==h.id)),setTimeout(()=>{w(h)},Ite)},[h,w,g,X]);L.useEffect(()=>{if(h.promise&&Ie==="loading"||h.duration===1/0||h.type==="loading")return;let Be,Dt=me;return _||m||V&&Tn?(()=>{if(ie.current<q.current){let Tt=new Date().getTime()-q.current;Dt=Dt-Tt}ie.current=new Date().getTime()})():Dt!==1/0&&(q.current=new Date().getTime(),Be=setTimeout(()=>{var Tt;(Tt=h.onAutoClose)==null||Tt.call(h,h),Qt()},Dt)),()=>clearTimeout(Be)},[_,m,W,h,me,Qt,h.promise,Ie,V,Tn]),L.useEffect(()=>{let Be=se.current;if(Be){let Dt=Be.getBoundingClientRect().height;return ce(Dt),g(Tt=>[{toastId:h.id,height:Dt,position:h.position},...Tt]),()=>g(Tt=>Tt.filter(Na=>Na.toastId!==h.id))}},[g,h.id]),L.useEffect(()=>{h.delete&&Qt()},[Qt,h.delete]);function po(){return D!=null&&D.loading?L.createElement("div",{className:"sonner-loader","data-visible":Ie==="loading"},D.loading):U?L.createElement("div",{className:"sonner-loader","data-visible":Ie==="loading"},U):L.createElement(mte,{visible:Ie==="loading"})}return L.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:se,className:G(O,Ct,M==null?void 0:M.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,M==null?void 0:M.default,M==null?void 0:M[Ie],(n=h==null?void 0:h.classNames)==null?void 0:n[Ie]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:E,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":$,"data-promise":!!h.promise,"data-removed":ae,"data-visible":Me,"data-y-position":lt,"data-x-position":Gt,"data-index":x,"data-front":Re,"data-swiping":k,"data-dismissible":re,"data-type":Ie,"data-invert":Oa,"data-swipe-out":F,"data-expanded":!!(_||W&&$),style:{"--index":x,"--toasts-before":x,"--z-index":b.length-x,"--offset":`${ae?J:X.current}px`,"--initial-height":W?"auto":`${ge}px`,...j,...h.style},onPointerDown:Be=>{xs||!re||(ye.current=new Date,Y(X.current),Be.target.setPointerCapture(Be.pointerId),Be.target.tagName!=="BUTTON"&&(K(!0),ke.current={x:Be.clientX,y:Be.clientY}))},onPointerUp:()=>{var Be,Dt,Tt,Na;if(F||!re)return;ke.current=null;let Pa=Number(((Be=se.current)==null?void 0:Be.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ag=new Date().getTime()-((Dt=ye.current)==null?void 0:Dt.getTime()),PK=Math.abs(Pa)/Ag;if(Math.abs(Pa)>=Pte||PK>.11){Y(X.current),(Tt=h.onDismiss)==null||Tt.call(h,h),Qt(),Z(!0);return}(Na=se.current)==null||Na.style.setProperty("--swipe-amount","0px"),K(!1)},onPointerMove:Be=>{var Dt;if(!ke.current||!re)return;let Tt=Be.clientY-ke.current.y,Na=Be.clientX-ke.current.x,Pa=(lt==="top"?Math.min:Math.max)(0,Tt),Ag=Be.pointerType==="touch"?10:2;Math.abs(Pa)>Ag?(Dt=se.current)==null||Dt.style.setProperty("--swipe-amount",`${Tt}px`):Math.abs(Na)>Ag&&(ke.current=null)}},be&&!h.jsx?L.createElement("button",{"aria-label":N,"data-disabled":xs,"data-close-button":!0,onClick:xs||!re?()=>{}:()=>{var Be;Qt(),(Be=h.onDismiss)==null||Be.call(h,h)},className:G(M==null?void 0:M.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},L.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),L.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||L.isValidElement(h.title)?h.jsx||h.title:L.createElement(L.Fragment,null,Ie||h.icon||h.promise?L.createElement("div",{"data-icon":"",className:G(M==null?void 0:M.icon,(a=h==null?void 0:h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||po():null,h.type!=="loading"?h.icon||(D==null?void 0:D[Ie])||hte(Ie):null):null,L.createElement("div",{"data-content":"",className:G(M==null?void 0:M.content,(s=h==null?void 0:h.classNames)==null?void 0:s.content)},L.createElement("div",{"data-title":"",className:G(M==null?void 0:M.title,(o=h==null?void 0:h.classNames)==null?void 0:o.title)},h.title),h.description?L.createElement("div",{"data-description":"",className:G(P,we,M==null?void 0:M.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),L.isValidElement(h.cancel)?h.cancel:h.cancel&&Yg(h.cancel)?L.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||C,onClick:Be=>{var Dt,Tt;Yg(h.cancel)&&re&&((Tt=(Dt=h.cancel).onClick)==null||Tt.call(Dt,Be),Qt())},className:G(M==null?void 0:M.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,L.isValidElement(h.action)?h.action:h.action&&Yg(h.action)?L.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||T,onClick:Be=>{var Dt,Tt;Yg(h.action)&&(Be.defaultPrevented||((Tt=(Dt=h.action).onClick)==null||Tt.call(Dt,Be),Qt()))},className:G(M==null?void 0:M.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function vI(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var Mte=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:a,className:s,offset:o,theme:l="light",richColors:c,duration:d,style:f,visibleToasts:h=Cte,toastOptions:p,dir:m=vI(),gap:g=Nte,loadingIcon:v,icons:y,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:b,cn:_=$te}=t,[w,E]=L.useState([]),A=L.useMemo(()=>Array.from(new Set([n].concat(w.filter(V=>V.position).map(V=>V.position)))),[w,n]),[j,C]=L.useState([]),[T,O]=L.useState(!1),[P,H]=L.useState(!1),[R,B]=L.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=L.useRef(null),W=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=L.useRef(null),D=L.useRef(!1),N=L.useCallback(V=>{var G;(G=w.find($=>$.id===V.id))!=null&&G.delete||Hr.dismiss(V.id),E($=>$.filter(({id:te})=>te!==V.id))},[w]);return L.useEffect(()=>Hr.subscribe(V=>{if(V.dismiss){E(G=>G.map($=>$.id===V.id?{...$,delete:!0}:$));return}setTimeout(()=>{pF.flushSync(()=>{E(G=>{let $=G.findIndex(te=>te.id===V.id);return $!==-1?[...G.slice(0,$),{...G[$],...V},...G.slice($+1)]:[V,...G]})})})}),[]),L.useEffect(()=>{if(l!=="system"){B(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:V})=>{B(V?"dark":"light")})},[l]),L.useEffect(()=>{w.length<=1&&O(!1)},[w]),L.useEffect(()=>{let V=G=>{var $,te;r.every(ae=>G[ae]||G.code===ae)&&(O(!0),($=U.current)==null||$.focus()),G.code==="Escape"&&(document.activeElement===U.current||(te=U.current)!=null&&te.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[r]),L.useEffect(()=>{if(U.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,D.current=!1)}},[U.current]),w.length?L.createElement("section",{"aria-label":`${x} ${W}`,tabIndex:-1},A.map((V,G)=>{var $;let[te,ae]=V.split("-");return L.createElement("ol",{key:V,dir:m==="auto"?vI():m,tabIndex:-1,ref:U,className:s,"data-sonner-toaster":!0,"data-theme":R,"data-y-position":te,"data-x-position":ae,style:{"--front-toast-height":`${(($=j[0])==null?void 0:$.height)||0}px`,"--offset":typeof o=="number"?`${o}px`:o||Tte,"--width":`${Ote}px`,"--gap":`${g}px`,...f},onBlur:I=>{D.current&&!I.currentTarget.contains(I.relatedTarget)&&(D.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:I=>{I.target instanceof HTMLElement&&I.target.dataset.dismissible==="false"||D.current||(D.current=!0,M.current=I.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{P||O(!1)},onPointerDown:I=>{I.target instanceof HTMLElement&&I.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},w.filter(I=>!I.position&&G===0||I.position===V).map((I,k)=>{var K,F;return L.createElement(Rte,{key:I.id,icons:y,index:k,toast:I,defaultRichColors:c,duration:(K=p==null?void 0:p.duration)!=null?K:d,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:e,visibleToasts:h,closeButton:(F=p==null?void 0:p.closeButton)!=null?F:a,interacting:P,position:V,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:N,toasts:w.filter(Z=>Z.position==I.position),heights:j.filter(Z=>Z.position==I.position),setHeights:C,expandByDefault:i,gap:g,loadingIcon:v,expanded:T,pauseWhenPageIsHidden:b,cn:_})}))})):null};const Lte=({...t})=>{const{theme:e="system"}=RJ();return u.jsx(Mte,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Dte=d5.useId||(()=>{}),Fte=0;function pa(t){const[e,n]=S.useState(Dte());return jn(()=>{n(r=>r??String(Fte++))},[t]),e?`radix-${e}`:""}const Bte=["top","right","bottom","left"],hl=Math.min,qr=Math.max,zv=Math.round,Xg=Math.floor,pl=t=>({x:t,y:t}),zte={left:"right",right:"left",bottom:"top",top:"bottom"},Ute={start:"end",end:"start"};function cE(t,e,n){return qr(t,hl(e,n))}function Xs(t,e){return typeof t=="function"?t(e):t}function Zs(t){return t.split("-")[0]}function Sf(t){return t.split("-")[1]}function vT(t){return t==="x"?"y":"x"}function xT(t){return t==="y"?"height":"width"}function ml(t){return["top","bottom"].includes(Zs(t))?"y":"x"}function bT(t){return vT(ml(t))}function Hte(t,e,n){n===void 0&&(n=!1);const r=Sf(t),i=bT(t),a=xT(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=Uv(s)),[s,Uv(s)]}function Wte(t){const e=Uv(t);return[uE(t),e,uE(e)]}function uE(t){return t.replace(/start|end/g,e=>Ute[e])}function Vte(t,e,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?a:s;default:return[]}}function qte(t,e,n,r){const i=Sf(t);let a=Vte(Zs(t),n==="start",r);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(uE)))),a}function Uv(t){return t.replace(/left|right|bottom|top/g,e=>zte[e])}function Gte(t){return{top:0,right:0,bottom:0,left:0,...t}}function CB(t){return typeof t!="number"?Gte(t):{top:t,right:t,bottom:t,left:t}}function Hv(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function xI(t,e,n){let{reference:r,floating:i}=t;const a=ml(e),s=bT(e),o=xT(s),l=Zs(e),c=a==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let p;switch(l){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Sf(e)){case"start":p[s]-=h*(n&&c?-1:1);break;case"end":p[s]+=h*(n&&c?-1:1);break}return p}const Kte=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=n,o=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=xI(c,r,l),h=r,p={},m=0;for(let g=0;g<o.length;g++){const{name:v,fn:y}=o[g],{x,y:b,data:_,reset:w}=await y({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:t,floating:e}});d=x??d,f=b??f,p={...p,[v]:{...p[v],..._}},w&&m<=50&&(m++,typeof w=="object"&&(w.placement&&(h=w.placement),w.rects&&(c=w.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):w.rects),{x:d,y:f}=xI(c,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function Dp(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:s,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Xs(e,t),m=CB(p),v=o[h?f==="floating"?"reference":"floating":f],y=Hv(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(v)))==null||n?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),x=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),_=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},w=Hv(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:b,strategy:l}):x);return{top:(y.top-w.top+m.top)/_.y,bottom:(w.bottom-y.bottom+m.bottom)/_.y,left:(y.left-w.left+m.left)/_.x,right:(w.right-y.right+m.right)/_.x}}const Yte=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:s,elements:o,middlewareData:l}=e,{element:c,padding:d=0}=Xs(t,e)||{};if(c==null)return{};const f=CB(d),h={x:n,y:r},p=bT(i),m=xT(p),g=await s.getDimensions(c),v=p==="y",y=v?"top":"left",x=v?"bottom":"right",b=v?"clientHeight":"clientWidth",_=a.reference[m]+a.reference[p]-h[p]-a.floating[m],w=h[p]-a.reference[p],E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let A=E?E[b]:0;(!A||!await(s.isElement==null?void 0:s.isElement(E)))&&(A=o.floating[b]||a.floating[m]);const j=_/2-w/2,C=A/2-g[m]/2-1,T=hl(f[y],C),O=hl(f[x],C),P=T,H=A-g[m]-O,R=A/2-g[m]/2+j,B=cE(P,R,H),U=!l.arrow&&Sf(i)!=null&&R!==B&&a.reference[m]/2-(R<P?T:O)-g[m]/2<0,W=U?R<P?R-P:R-H:0;return{[p]:h[p]+W,data:{[p]:B,centerOffset:R-B-W,...U&&{alignmentOffset:W}},reset:U}}}),Xte=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...v}=Xs(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const y=Zs(i),x=ml(o),b=Zs(o)===o,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),w=h||(b||!g?[Uv(o)]:Wte(o)),E=m!=="none";!h&&E&&w.push(...qte(o,g,m,_));const A=[o,...w],j=await Dp(e,v),C=[];let T=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&C.push(j[y]),f){const R=Hte(i,s,_);C.push(j[R[0]],j[R[1]])}if(T=[...T,{placement:i,overflows:C}],!C.every(R=>R<=0)){var O,P;const R=(((O=a.flip)==null?void 0:O.index)||0)+1,B=A[R];if(B)return{data:{index:R,overflows:T},reset:{placement:B}};let U=(P=T.filter(W=>W.overflows[0]<=0).sort((W,M)=>W.overflows[1]-M.overflows[1])[0])==null?void 0:P.placement;if(!U)switch(p){case"bestFit":{var H;const W=(H=T.filter(M=>{if(E){const D=ml(M.placement);return D===x||D==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(D=>D>0).reduce((D,N)=>D+N,0)]).sort((M,D)=>M[1]-D[1])[0])==null?void 0:H[0];W&&(U=W);break}case"initialPlacement":U=o;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function bI(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function wI(t){return Bte.some(e=>t[e]>=0)}const Zte=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Xs(t,e);switch(r){case"referenceHidden":{const a=await Dp(e,{...i,elementContext:"reference"}),s=bI(a,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:wI(s)}}}case"escaped":{const a=await Dp(e,{...i,altBoundary:!0}),s=bI(a,n.floating);return{data:{escapedOffsets:s,escaped:wI(s)}}}default:return{}}}}};async function Jte(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Zs(n),o=Sf(n),l=ml(n)==="y",c=["left","top"].includes(s)?-1:1,d=a&&l?-1:1,f=Xs(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof m=="number"&&(p=o==="end"?m*-1:m),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}const Qte=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:s,middlewareData:o}=e,l=await Jte(e,t);return s===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:s}}}}},ene=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:v=>{let{x:y,y:x}=v;return{x:y,y:x}}},...l}=Xs(t,e),c={x:n,y:r},d=await Dp(e,l),f=ml(Zs(i)),h=vT(f);let p=c[h],m=c[f];if(a){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=p+d[v],b=p-d[y];p=cE(x,p,b)}if(s){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=m+d[v],b=m-d[y];m=cE(x,m,b)}const g=o.fn({...e,[h]:p,[f]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:a,[f]:s}}}}}},tne=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:s}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=Xs(t,e),d={x:n,y:r},f=ml(i),h=vT(f);let p=d[h],m=d[f];const g=Xs(o,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const b=h==="y"?"height":"width",_=a.reference[h]-a.floating[b]+v.mainAxis,w=a.reference[h]+a.reference[b]-v.mainAxis;p<_?p=_:p>w&&(p=w)}if(c){var y,x;const b=h==="y"?"width":"height",_=["top","left"].includes(Zs(i)),w=a.reference[f]-a.floating[b]+(_&&((y=s.offset)==null?void 0:y[f])||0)+(_?0:v.crossAxis),E=a.reference[f]+a.reference[b]+(_?0:((x=s.offset)==null?void 0:x[f])||0)-(_?v.crossAxis:0);m<w?m=w:m>E&&(m=E)}return{[h]:p,[f]:m}}}},nne=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:s,elements:o}=e,{apply:l=()=>{},...c}=Xs(t,e),d=await Dp(e,c),f=Zs(i),h=Sf(i),p=ml(i)==="y",{width:m,height:g}=a.floating;let v,y;f==="top"||f==="bottom"?(v=f,y=h===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(y=f,v=h==="end"?"top":"bottom");const x=g-d.top-d.bottom,b=m-d.left-d.right,_=hl(g-d[v],x),w=hl(m-d[y],b),E=!e.middlewareData.shift;let A=_,j=w;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(j=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=x),E&&!h){const T=qr(d.left,0),O=qr(d.right,0),P=qr(d.top,0),H=qr(d.bottom,0);p?j=m-2*(T!==0||O!==0?T+O:qr(d.left,d.right)):A=g-2*(P!==0||H!==0?P+H:qr(d.top,d.bottom))}await l({...e,availableWidth:j,availableHeight:A});const C=await s.getDimensions(o.floating);return m!==C.width||g!==C.height?{reset:{rects:!0}}:{}}}};function Hx(){return typeof window<"u"}function Ef(t){return TB(t)?(t.nodeName||"").toLowerCase():"#document"}function ni(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ps(t){var e;return(e=(TB(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function TB(t){return Hx()?t instanceof Node||t instanceof ni(t).Node:!1}function va(t){return Hx()?t instanceof Element||t instanceof ni(t).Element:!1}function ss(t){return Hx()?t instanceof HTMLElement||t instanceof ni(t).HTMLElement:!1}function _I(t){return!Hx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ni(t).ShadowRoot}function Gm(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=xa(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function rne(t){return["table","td","th"].includes(Ef(t))}function Wx(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function wT(t){const e=_T(),n=va(t)?xa(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function ine(t){let e=gl(t);for(;ss(e)&&!Nd(e);){if(wT(e))return e;if(Wx(e))return null;e=gl(e)}return null}function _T(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Nd(t){return["html","body","#document"].includes(Ef(t))}function xa(t){return ni(t).getComputedStyle(t)}function Vx(t){return va(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function gl(t){if(Ef(t)==="html")return t;const e=t.assignedSlot||t.parentNode||_I(t)&&t.host||ps(t);return _I(e)?e.host:e}function kB(t){const e=gl(t);return Nd(e)?t.ownerDocument?t.ownerDocument.body:t.body:ss(e)&&Gm(e)?e:kB(e)}function Fp(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=kB(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),s=ni(i);if(a){const o=dE(s);return e.concat(s,s.visualViewport||[],Gm(i)?i:[],o&&n?Fp(o):[])}return e.concat(i,Fp(i,[],n))}function dE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function OB(t){const e=xa(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ss(t),a=i?t.offsetWidth:n,s=i?t.offsetHeight:r,o=zv(n)!==a||zv(r)!==s;return o&&(n=a,r=s),{width:n,height:r,$:o}}function ST(t){return va(t)?t:t.contextElement}function id(t){const e=ST(t);if(!ss(e))return pl(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=OB(e);let s=(a?zv(n.width):n.width)/r,o=(a?zv(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const ane=pl(0);function NB(t){const e=ni(t);return!_T()||!e.visualViewport?ane:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function sne(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ni(t)?!1:e}function kc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=ST(t);let s=pl(1);e&&(r?va(r)&&(s=id(r)):s=id(t));const o=sne(a,n,r)?NB(a):pl(0);let l=(i.left+o.x)/s.x,c=(i.top+o.y)/s.y,d=i.width/s.x,f=i.height/s.y;if(a){const h=ni(a),p=r&&va(r)?ni(r):r;let m=h,g=dE(m);for(;g&&r&&p!==m;){const v=id(g),y=g.getBoundingClientRect(),x=xa(g),b=y.left+(g.clientLeft+parseFloat(x.paddingLeft))*v.x,_=y.top+(g.clientTop+parseFloat(x.paddingTop))*v.y;l*=v.x,c*=v.y,d*=v.x,f*=v.y,l+=b,c+=_,m=ni(g),g=dE(m)}}return Hv({width:d,height:f,x:l,y:c})}function one(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",s=ps(r),o=e?Wx(e.floating):!1;if(r===s||o&&a)return n;let l={scrollLeft:0,scrollTop:0},c=pl(1);const d=pl(0),f=ss(r);if((f||!f&&!a)&&((Ef(r)!=="body"||Gm(s))&&(l=Vx(r)),ss(r))){const h=kc(r);c=id(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function lne(t){return Array.from(t.getClientRects())}function fE(t,e){const n=Vx(t).scrollLeft;return e?e.left+n:kc(ps(t)).left+n}function cne(t){const e=ps(t),n=Vx(t),r=t.ownerDocument.body,i=qr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=qr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+fE(t);const o=-n.scrollTop;return xa(r).direction==="rtl"&&(s+=qr(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:o}}function une(t,e){const n=ni(t),r=ps(t),i=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const c=_T();(!c||c&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}function dne(t,e){const n=kc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=ss(t)?id(t):pl(1),s=t.clientWidth*a.x,o=t.clientHeight*a.y,l=i*a.x,c=r*a.y;return{width:s,height:o,x:l,y:c}}function SI(t,e,n){let r;if(e==="viewport")r=une(t,n);else if(e==="document")r=cne(ps(t));else if(va(e))r=dne(e,n);else{const i=NB(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Hv(r)}function PB(t,e){const n=gl(t);return n===e||!va(n)||Nd(n)?!1:xa(n).position==="fixed"||PB(n,e)}function fne(t,e){const n=e.get(t);if(n)return n;let r=Fp(t,[],!1).filter(o=>va(o)&&Ef(o)!=="body"),i=null;const a=xa(t).position==="fixed";let s=a?gl(t):t;for(;va(s)&&!Nd(s);){const o=xa(s),l=wT(s);!l&&o.position==="fixed"&&(i=null),(a?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Gm(s)&&!l&&PB(t,s))?r=r.filter(d=>d!==s):i=o,s=gl(s)}return e.set(t,r),r}function hne(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?Wx(e)?[]:fne(e,this._c):[].concat(n),r],o=s[0],l=s.reduce((c,d)=>{const f=SI(e,d,i);return c.top=qr(f.top,c.top),c.right=hl(f.right,c.right),c.bottom=hl(f.bottom,c.bottom),c.left=qr(f.left,c.left),c},SI(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function pne(t){const{width:e,height:n}=OB(t);return{width:e,height:n}}function mne(t,e,n){const r=ss(e),i=ps(e),a=n==="fixed",s=kc(t,!0,a,e);let o={scrollLeft:0,scrollTop:0};const l=pl(0);if(r||!r&&!a)if((Ef(e)!=="body"||Gm(i))&&(o=Vx(e)),r){const p=kc(e,!0,a,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&(l.x=fE(i));let c=0,d=0;if(i&&!r&&!a){const p=i.getBoundingClientRect();d=p.top+o.scrollTop,c=p.left+o.scrollLeft-fE(i,p)}const f=s.left+o.scrollLeft-l.x-c,h=s.top+o.scrollTop-l.y-d;return{x:f,y:h,width:s.width,height:s.height}}function v_(t){return xa(t).position==="static"}function EI(t,e){if(!ss(t)||xa(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ps(t)===n&&(n=n.ownerDocument.body),n}function IB(t,e){const n=ni(t);if(Wx(t))return n;if(!ss(t)){let i=gl(t);for(;i&&!Nd(i);){if(va(i)&&!v_(i))return i;i=gl(i)}return n}let r=EI(t,e);for(;r&&rne(r)&&v_(r);)r=EI(r,e);return r&&Nd(r)&&v_(r)&&!wT(r)?n:r||ine(t)||n}const gne=async function(t){const e=this.getOffsetParent||IB,n=this.getDimensions,r=await n(t.floating);return{reference:mne(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function yne(t){return xa(t).direction==="rtl"}const vne={convertOffsetParentRelativeRectToViewportRelativeRect:one,getDocumentElement:ps,getClippingRect:hne,getOffsetParent:IB,getElementRects:gne,getClientRects:lne,getDimensions:pne,getScale:id,isElement:va,isRTL:yne};function xne(t,e){let n=null,r;const i=ps(t);function a(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),a();const{left:c,top:d,width:f,height:h}=t.getBoundingClientRect();if(o||e(),!f||!h)return;const p=Xg(d),m=Xg(i.clientWidth-(c+f)),g=Xg(i.clientHeight-(d+h)),v=Xg(c),x={rootMargin:-p+"px "+-m+"px "+-g+"px "+-v+"px",threshold:qr(0,hl(1,l))||1};let b=!0;function _(w){const E=w[0].intersectionRatio;if(E!==l){if(!b)return s();E?s(!1,E):r=setTimeout(()=>{s(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(_,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,x)}n.observe(t)}return s(!0),a}function bne(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=ST(t),d=i||a?[...c?Fp(c):[],...Fp(e)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),a&&y.addEventListener("resize",n)});const f=c&&o?xne(c,n):null;let h=-1,p=null;s&&(p=new ResizeObserver(y=>{let[x]=y;x&&x.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let m,g=l?kc(t):null;l&&v();function v(){const y=kc(t);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&n(),g=y,m=requestAnimationFrame(v)}return n(),()=>{var y;d.forEach(x=>{i&&x.removeEventListener("scroll",n),a&&x.removeEventListener("resize",n)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const wne=Qte,_ne=ene,Sne=Xte,Ene=nne,jne=Zte,jI=Yte,Ane=tne,Cne=(t,e,n)=>{const r=new Map,i={platform:vne,...n},a={...i.platform,_c:r};return Kte(t,e,{...i,platform:a})};var Qy=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Wv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Wv(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!Wv(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function $B(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function AI(t,e){const n=$B(t);return Math.round(e*n)/n}function x_(t){const e=S.useRef(t);return Qy(()=>{e.current=t}),e}function Tne(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:l,open:c}=t,[d,f]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=S.useState(r);Wv(h,r)||p(r);const[m,g]=S.useState(null),[v,y]=S.useState(null),x=S.useCallback(M=>{M!==E.current&&(E.current=M,g(M))},[]),b=S.useCallback(M=>{M!==A.current&&(A.current=M,y(M))},[]),_=a||m,w=s||v,E=S.useRef(null),A=S.useRef(null),j=S.useRef(d),C=l!=null,T=x_(l),O=x_(i),P=x_(c),H=S.useCallback(()=>{if(!E.current||!A.current)return;const M={placement:e,strategy:n,middleware:h};O.current&&(M.platform=O.current),Cne(E.current,A.current,M).then(D=>{const N={...D,isPositioned:P.current!==!1};R.current&&!Wv(j.current,N)&&(j.current=N,Wc.flushSync(()=>{f(N)}))})},[h,e,n,O,P]);Qy(()=>{c===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[c]);const R=S.useRef(!1);Qy(()=>(R.current=!0,()=>{R.current=!1}),[]),Qy(()=>{if(_&&(E.current=_),w&&(A.current=w),_&&w){if(T.current)return T.current(_,w,H);H()}},[_,w,H,T,C]);const B=S.useMemo(()=>({reference:E,floating:A,setReference:x,setFloating:b}),[x,b]),U=S.useMemo(()=>({reference:_,floating:w}),[_,w]),W=S.useMemo(()=>{const M={position:n,left:0,top:0};if(!U.floating)return M;const D=AI(U.floating,d.x),N=AI(U.floating,d.y);return o?{...M,transform:"translate("+D+"px, "+N+"px)",...$B(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:N}},[n,o,U.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:H,refs:B,elements:U,floatingStyles:W}),[d,H,B,U,W])}const kne=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?jI({element:r.current,padding:i}).fn(n):{}:r?jI({element:r,padding:i}).fn(n):{}}}},One=(t,e)=>({...wne(t),options:[t,e]}),Nne=(t,e)=>({..._ne(t),options:[t,e]}),Pne=(t,e)=>({...Ane(t),options:[t,e]}),Ine=(t,e)=>({...Sne(t),options:[t,e]}),$ne=(t,e)=>({...Ene(t),options:[t,e]}),Rne=(t,e)=>({...jne(t),options:[t,e]}),Mne=(t,e)=>({...kne(t),options:[t,e]});var Lne="Arrow",RB=S.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return u.jsx(Ne.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});RB.displayName=Lne;var Dne=RB;function Fne(t,e=[]){let n=[];function r(a,s){const o=S.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||o,v=S.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:v,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||o,m=S.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,d]}const i=()=>{const a=n.map(s=>S.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,Bne(i,...e)]}function Bne(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function ET(t){const[e,n]=S.useState(void 0);return jn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,o;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,o=c.blockSize}else s=t.offsetWidth,o=t.offsetHeight;n({width:s,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var jT="Popper",[MB,jf]=Fne(jT),[zne,LB]=MB(jT),DB=t=>{const{__scopePopper:e,children:n}=t,[r,i]=S.useState(null);return u.jsx(zne,{scope:e,anchor:r,onAnchorChange:i,children:n})};DB.displayName=jT;var FB="PopperAnchor",BB=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=LB(FB,n),s=S.useRef(null),o=rt(e,s);return S.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:u.jsx(Ne.div,{...i,ref:o})});BB.displayName=FB;var AT="PopperContent",[Une,Hne]=MB(AT),zB=S.forwardRef((t,e)=>{var k,K,F,Z,J,Y;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:m,...g}=t,v=LB(AT,n),[y,x]=S.useState(null),b=rt(e,ge=>x(ge)),[_,w]=S.useState(null),E=ET(_),A=(E==null?void 0:E.width)??0,j=(E==null?void 0:E.height)??0,C=r+(a!=="center"?"-"+a:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(c)?c:[c],P=O.length>0,H={padding:T,boundary:O.filter(Vne),altBoundary:P},{refs:R,floatingStyles:B,placement:U,isPositioned:W,middlewareData:M}=Tne({strategy:"fixed",placement:C,whileElementsMounted:(...ge)=>bne(...ge,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[One({mainAxis:i+j,alignmentAxis:s}),l&&Nne({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Pne():void 0,...H}),l&&Ine({...H}),$ne({...H,apply:({elements:ge,rects:ce,availableWidth:ye,availableHeight:se})=>{const{width:Re,height:Me}=ce.reference,Ie=ge.floating.style;Ie.setProperty("--radix-popper-available-width",`${ye}px`),Ie.setProperty("--radix-popper-available-height",`${se}px`),Ie.setProperty("--radix-popper-anchor-width",`${Re}px`),Ie.setProperty("--radix-popper-anchor-height",`${Me}px`)}}),_&&Mne({element:_,padding:o}),qne({arrowWidth:A,arrowHeight:j}),h&&Rne({strategy:"referenceHidden",...H})]}),[D,N]=WB(U),V=Vt(m);jn(()=>{W&&(V==null||V())},[W,V]);const G=(k=M.arrow)==null?void 0:k.x,$=(K=M.arrow)==null?void 0:K.y,te=((F=M.arrow)==null?void 0:F.centerOffset)!==0,[ae,I]=S.useState();return jn(()=>{y&&I(window.getComputedStyle(y).zIndex)},[y]),u.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:W?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(Z=M.transformOrigin)==null?void 0:Z.x,(J=M.transformOrigin)==null?void 0:J.y].join(" "),...((Y=M.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(Une,{scope:n,placedSide:D,onArrowChange:w,arrowX:G,arrowY:$,shouldHideArrow:te,children:u.jsx(Ne.div,{"data-side":D,"data-align":N,...g,ref:b,style:{...g.style,animation:W?void 0:"none"}})})})});zB.displayName=AT;var UB="PopperArrow",Wne={top:"bottom",right:"left",bottom:"top",left:"right"},HB=S.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=Hne(UB,r),s=Wne[a.placedSide];return u.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:u.jsx(Dne,{...i,ref:n,style:{...i.style,display:"block"}})})});HB.displayName=UB;function Vne(t){return t!==null}var qne=t=>({name:"transformOrigin",options:t,fn(e){var v,y,x;const{placement:n,rects:r,middlewareData:i}=e,s=((v=i.arrow)==null?void 0:v.centerOffset)!==0,o=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,d]=WB(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=i.arrow)==null?void 0:y.x)??0)+o/2,p=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let m="",g="";return c==="bottom"?(m=s?f:`${h}px`,g=`${-l}px`):c==="top"?(m=s?f:`${h}px`,g=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,g=s?f:`${p}px`):c==="left"&&(m=`${r.floating.width+l}px`,g=s?f:`${p}px`),{data:{x:m,y:g}}}});function WB(t){const[e,n="center"]=t.split("-");return[e,n]}var CT=DB,TT=BB,kT=zB,OT=HB,[qx,DWe]=Sa("Tooltip",[jf]),Gx=jf(),VB="TooltipProvider",Gne=700,hE="tooltip.open",[Kne,NT]=qx(VB),qB=t=>{const{__scopeTooltip:e,delayDuration:n=Gne,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=t,[s,o]=S.useState(!0),l=S.useRef(!1),c=S.useRef(0);return S.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),u.jsx(Kne,{scope:e,isOpenDelayed:s,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(c.current),o(!1)},[]),onClose:S.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:S.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:a})};qB.displayName=VB;var Kx="Tooltip",[Yne,Yx]=qx(Kx),GB=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:s,delayDuration:o}=t,l=NT(Kx,t.__scopeTooltip),c=Gx(e),[d,f]=S.useState(null),h=pa(),p=S.useRef(0),m=s??l.disableHoverableContent,g=o??l.delayDuration,v=S.useRef(!1),[y=!1,x]=as({prop:r,defaultProp:i,onChange:A=>{A?(l.onOpen(),document.dispatchEvent(new CustomEvent(hE))):l.onClose(),a==null||a(A)}}),b=S.useMemo(()=>y?v.current?"delayed-open":"instant-open":"closed",[y]),_=S.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v.current=!1,x(!0)},[x]),w=S.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x(!1)},[x]),E=S.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{v.current=!0,x(!0),p.current=0},g)},[g,x]);return S.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),u.jsx(CT,{...c,children:u.jsx(Yne,{scope:e,contentId:h,open:y,stateAttribute:b,trigger:d,onTriggerChange:f,onTriggerEnter:S.useCallback(()=>{l.isOpenDelayed?E():_()},[l.isOpenDelayed,E,_]),onTriggerLeave:S.useCallback(()=>{m?w():(window.clearTimeout(p.current),p.current=0)},[w,m]),onOpen:_,onClose:w,disableHoverableContent:m,children:n})})};GB.displayName=Kx;var pE="TooltipTrigger",KB=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Yx(pE,n),a=NT(pE,n),s=Gx(n),o=S.useRef(null),l=rt(e,o,i.onTriggerChange),c=S.useRef(!1),d=S.useRef(!1),f=S.useCallback(()=>c.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(TT,{asChild:!0,...s,children:u.jsx(Ne.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:he(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:he(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:he(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:he(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:he(t.onBlur,i.onClose),onClick:he(t.onClick,i.onClose)})})});KB.displayName=pE;var Xne="TooltipPortal",[FWe,Zne]=qx(Xne,{forceMount:void 0}),Pd="TooltipContent",YB=S.forwardRef((t,e)=>{const n=Zne(Pd,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=t,s=Yx(Pd,t.__scopeTooltip);return u.jsx(er,{present:r||s.open,children:s.disableHoverableContent?u.jsx(XB,{side:i,...a,ref:e}):u.jsx(Jne,{side:i,...a,ref:e})})}),Jne=S.forwardRef((t,e)=>{const n=Yx(Pd,t.__scopeTooltip),r=NT(Pd,t.__scopeTooltip),i=S.useRef(null),a=rt(e,i),[s,o]=S.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:f}=r,h=S.useCallback(()=>{o(null),f(!1)},[f]),p=S.useCallback((m,g)=>{const v=m.currentTarget,y={x:m.clientX,y:m.clientY},x=nre(y,v.getBoundingClientRect()),b=rre(y,x),_=ire(g.getBoundingClientRect()),w=sre([...b,..._]);o(w),f(!0)},[f]);return S.useEffect(()=>()=>h(),[h]),S.useEffect(()=>{if(l&&d){const m=v=>p(v,d),g=v=>p(v,l);return l.addEventListener("pointerleave",m),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",m),d.removeEventListener("pointerleave",g)}}},[l,d,p,h]),S.useEffect(()=>{if(s){const m=g=>{const v=g.target,y={x:g.clientX,y:g.clientY},x=(l==null?void 0:l.contains(v))||(d==null?void 0:d.contains(v)),b=!are(y,s);x?h():b&&(h(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,d,s,c,h]),u.jsx(XB,{...t,ref:a})}),[Qne,ere]=qx(Kx,{isInside:!1}),XB=S.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...o}=t,l=Yx(Pd,n),c=Gx(n),{onClose:d}=l;return S.useEffect(()=>(document.addEventListener(hE,d),()=>document.removeEventListener(hE,d)),[d]),S.useEffect(()=>{if(l.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(wf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(kT,{"data-state":l.stateAttribute,...c,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(BF,{children:r}),u.jsx(Qne,{scope:n,isInside:!0,children:u.jsx(VQ,{id:l.contentId,role:"tooltip",children:i||r})})]})})});YB.displayName=Pd;var ZB="TooltipArrow",tre=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Gx(n);return ere(ZB,n).isInside?null:u.jsx(OT,{...i,...r,ref:e})});tre.displayName=ZB;function nre(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function rre(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function ire(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function are(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const o=e[a].x,l=e[a].y,c=e[s].x,d=e[s].y;l>r!=d>r&&n<(c-o)*(r-l)/(d-l)+o&&(i=!i)}return i}function sre(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),ore(e)}function ore(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const a=e[e.length-1],s=e[e.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const a=n[n.length-1],s=n[n.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var lre=qB,cre=GB,ure=KB,JB=YB;const QB=lre,iu=cre,au=ure,Kl=S.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(JB,{ref:r,sideOffset:e,className:je("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Kl.displayName=JB.displayName;const dre="modulepreload",fre=function(t){return"/admit-ai-nexus/"+t},CI={},Km=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=fre(l),l in CI)return;CI[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":dre,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},hre=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Km(async()=>{const{default:r}=await Promise.resolve().then(()=>Af);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class PT extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class pre extends PT{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class TI extends PT{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class kI extends PT{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var mE;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(mE||(mE={}));var mre=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class gre{constructor(e,{headers:n={},customFetch:r,region:i=mE.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=hre(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return mre(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=n;let o={},{region:l}=n;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(o["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(o["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(o["Content-Type"]="application/json",d=JSON.stringify(s)));const f=yield this.fetch(c.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:d}).catch(g=>{throw new pre(g)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new TI(f);if(!f.ok)throw new kI(f);let p=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield f.json():p==="application/octet-stream"?m=yield f.blob():p==="text/event-stream"?m=f:p==="multipart/form-data"?m=yield f.formData():m=yield f.text(),{data:m,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof kI||i instanceof TI?i.context:void 0}}})}}var Er={},IT={},Xx={},Ym={},Zx={},Jx={},yre=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Id=yre();const vre=Id.fetch,ez=Id.fetch.bind(Id),tz=Id.Headers,xre=Id.Request,bre=Id.Response,Af=Object.freeze(Object.defineProperty({__proto__:null,Headers:tz,Request:xre,Response:bre,default:ez,fetch:vre},Symbol.toStringTag,{value:"Module"})),wre=MK(Af);var Qx={};Object.defineProperty(Qx,"__esModule",{value:!0});let _re=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Qx.default=_re;var nz=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jx,"__esModule",{value:!0});const Sre=nz(wre),Ere=nz(Qx);let jre=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Sre.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,o,l;let c=null,d=null,f=null,h=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const y=await a.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const g=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),v=(o=a.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");g&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await a.text();try{c=JSON.parse(g),Array.isArray(c)&&a.status===404&&(d=[],c=null,h=200,p="OK")}catch{a.status===404&&g===""?(h=204,p="No Content"):c={message:g}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,p="OK"),c&&this.shouldThrowOnError)throw new Ere.default(c)}return{error:c,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,o,l;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};Jx.default=jre;var Are=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zx,"__esModule",{value:!0});const Cre=Are(Jx);let Tre=class extends Cre.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var o;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Zx.default=Tre;var kre=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ym,"__esModule",{value:!0});const Ore=kre(Zx);let Nre=class extends Ore.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${s}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Ym.default=Nre;var Pre=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xx,"__esModule",{value:!0});const lh=Pre(Ym);let Ire=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let a=!1;const s=(e??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new lh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const s=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(s.length>0){const o=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new lh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){const s="POST",o=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),a||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new lh.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new lh.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new lh.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Xx.default=Ire;var eb={},tb={};Object.defineProperty(tb,"__esModule",{value:!0});tb.version=void 0;tb.version="0.0.0-automated";Object.defineProperty(eb,"__esModule",{value:!0});eb.DEFAULT_HEADERS=void 0;const $re=tb;eb.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${$re.version}`};var rz=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(IT,"__esModule",{value:!0});const Rre=rz(Xx),Mre=rz(Ym),Lre=eb;let Dre=class iz{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},Lre.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new Rre.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new iz(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:a}={}){let s;const o=new URL(`${this.url}/rpc/${e}`);let l;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(s="POST",l=n);const c=Object.assign({},this.headers);return a&&(c.Prefer=`count=${a}`),new Mre.default({method:s,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};IT.default=Dre;var Cf=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Er,"__esModule",{value:!0});Er.PostgrestError=Er.PostgrestBuilder=Er.PostgrestTransformBuilder=Er.PostgrestFilterBuilder=Er.PostgrestQueryBuilder=Er.PostgrestClient=void 0;const az=Cf(IT);Er.PostgrestClient=az.default;const sz=Cf(Xx);Er.PostgrestQueryBuilder=sz.default;const oz=Cf(Ym);Er.PostgrestFilterBuilder=oz.default;const lz=Cf(Zx);Er.PostgrestTransformBuilder=lz.default;const cz=Cf(Jx);Er.PostgrestBuilder=cz.default;const uz=Cf(Qx);Er.PostgrestError=uz.default;var Fre=Er.default={PostgrestClient:az.default,PostgrestQueryBuilder:sz.default,PostgrestFilterBuilder:oz.default,PostgrestTransformBuilder:lz.default,PostgrestBuilder:cz.default,PostgrestError:uz.default};const{PostgrestClient:Bre,PostgrestQueryBuilder:VWe,PostgrestFilterBuilder:qWe,PostgrestTransformBuilder:GWe,PostgrestBuilder:KWe,PostgrestError:YWe}=Fre;function zre(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Ure=zre(),Hre="2.11.15",Wre=`realtime-js/${Hre}`,Vre="1.0.0",dz=1e4,qre=1e3;var Kh;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Kh||(Kh={}));var Vn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Vn||(Vn={}));var ra;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ra||(ra={}));var gE;(function(t){t.websocket="websocket"})(gE||(gE={}));var tc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(tc||(tc={}));class Gre{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2);let s=this.HEADER_LENGTH+2;const o=r.decode(e.slice(s,s+i));s=s+i;const l=r.decode(e.slice(s,s+a));s=s+a;const c=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class fz{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var kt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(kt||(kt={}));const OI=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,s)=>(a[s]=Kre(s,t,e,i),a),{})},Kre=(t,e,n,r)=>{const i=e.find(o=>o.name===t),a=i==null?void 0:i.type,s=n[t];return a&&!r.includes(a)?hz(a,s):yE(s)},hz=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Jre(e,n)}switch(t){case kt.bool:return Yre(e);case kt.float4:case kt.float8:case kt.int2:case kt.int4:case kt.int8:case kt.numeric:case kt.oid:return Xre(e);case kt.json:case kt.jsonb:return Zre(e);case kt.timestamp:return Qre(e);case kt.abstime:case kt.date:case kt.daterange:case kt.int4range:case kt.int8range:case kt.money:case kt.reltime:case kt.text:case kt.time:case kt.timestamptz:case kt.timetz:case kt.tsrange:case kt.tstzrange:return yE(e);default:return yE(e)}},yE=t=>t,Yre=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Xre=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Zre=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Jre=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const s=t.slice(1,n);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>hz(e,o))}return t},Qre=t=>typeof t=="string"?t.replace(" ","T"):t,pz=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class b_{constructor(e,n,r={},i=dz){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var NI;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(NI||(NI={}));class Yh{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yh.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=Yh.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Yh.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),s=this.transformState(n),o={},l={};return this.map(a,(c,d)=>{s[c]||(l[c]=d)}),this.map(s,(c,d)=>{const f=a[c];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),m=d.filter(v=>p.indexOf(v.presence_ref)<0),g=f.filter(v=>h.indexOf(v.presence_ref)<0);m.length>0&&(o[c]=m),g.length>0&&(l[c]=g)}else o[c]=d}),this.syncDiff(a,{joins:o,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var c;const d=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),d.length>0){const f=e[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);e[o].unshift(...h)}r(o,d,l)}),this.map(s,(o,l)=>{let c=e[o];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var PI;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(PI||(PI={}));var II;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(II||(II={}));var js;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(js||(js={}));class $T{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Vn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new b_(this,ra.join,this.params,this.timeout),this.rejoinTimer=new fz(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Vn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Vn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ra.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Yh(this),this.broadcastEndpointURL=pz(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Vn.closed){const{config:{broadcast:a,presence:s,private:o}}=this.params;this._onError(d=>e==null?void 0:e(js.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(js.CLOSED));const l={},c={broadcast:a,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(js.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,m=[];for(let g=0;g<p;g++){const v=h[g],{filter:{event:y,schema:x,table:b,filter:_}}=v,w=d&&d[g];if(w&&w.event===y&&w.schema===x&&w.table===b&&w.filter===_)m.push(Object.assign(Object.assign({},v),{id:w.id}));else{this.unsubscribe(),this.state=Vn.errored,e==null||e(js.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(js.SUBSCRIBED);return}}).receive("error",d=>{this.state=Vn.errored,e==null||e(js.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(js.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Vn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ra.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new b_(this,ra.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new b_(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const s=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:d}=ra;if(r&&[o,l,c,d].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,g,v;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(g=p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(p=>p.callback(h,r)):(a=this.bindings[s])===null||a===void 0||a.filter(p=>{var m,g,v,y,x,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const _=p.id,w=(m=p.filter)===null||m===void 0?void 0:m.event;return _&&((g=n.ids)===null||g===void 0?void 0:g.includes(_))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(x=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:v,commit_timestamp:y,type:x,errors:b}=m;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:y,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(m))}p.callback(h,r)})}_isClosed(){return this.state===Vn.closed}_isJoined(){return this.state===Vn.joined}_isJoining(){return this.state===Vn.joining}_isLeaving(){return this.state===Vn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&$T.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ra.close,{},e)}_onError(e){this._on(ra.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Vn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=OI(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=OI(e.columns,e.old_record)),n}}const $I=()=>{},eie=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tie{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=dz,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$I,this.ref=0,this.logger=$I,this.conn=null,this.sendBuffer=[],this.serializer=new Gre,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...o)=>Km(async()=>{const{default:l}=await Promise.resolve().then(()=>Af);return{default:l}},void 0).then(({default:l})=>l(...o)):s=fetch,(...o)=>s(...o)},this.endPoint=`${e}/${gE.websocket}`,this.httpEndpoint=pz(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,s)=>s(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new fz(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Ure),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Vre}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Kh.connecting:return tc.Connecting;case Kh.open:return tc.Open;case Kh.closing:return tc.Closing;default:return tc.Closed}}isConnected(){return this.connectionState()===tc.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new $T(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,s=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:Wre};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(ra.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(qre,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:a,ref:s}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,a),Array.from(this.channels).filter(o=>o._isMember(r)).forEach(o=>o._trigger(i,a,s)),this.stateChangeCallbacks.message.forEach(o=>o(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ra.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([eie],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class RT extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function On(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class nie extends RT{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vE extends RT{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var rie=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const mz=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Km(async()=>{const{default:r}=await Promise.resolve().then(()=>Af);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},iie=()=>rie(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Km(()=>Promise.resolve().then(()=>Af),void 0)).Response:Response}),xE=t=>{if(Array.isArray(t))return t.map(n=>xE(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=xE(r)}),e},aie=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var qc=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const w_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),sie=(t,e,n)=>qc(void 0,void 0,void 0,function*(){const r=yield iie();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const a=t.status||500,s=(i==null?void 0:i.statusCode)||a+"";e(new nie(w_(i),a,s))}).catch(i=>{e(new vE(w_(i),i))}):e(new vE(w_(t),t))}),oie=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(aie(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function Xm(t,e,n,r,i,a){return qc(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(n,oie(e,r,i,a)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>sie(l,o,r))})})}function Vv(t,e,n,r){return qc(this,void 0,void 0,function*(){return Xm(t,"GET",e,n,r)})}function As(t,e,n,r,i){return qc(this,void 0,void 0,function*(){return Xm(t,"POST",e,r,i,n)})}function bE(t,e,n,r,i){return qc(this,void 0,void 0,function*(){return Xm(t,"PUT",e,r,i,n)})}function lie(t,e,n,r){return qc(this,void 0,void 0,function*(){return Xm(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function gz(t,e,n,r,i){return qc(this,void 0,void 0,function*(){return Xm(t,"DELETE",e,r,i,n)})}var xr=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const cie={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},RI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class uie{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=mz(i)}uploadOrUpdate(e,n,r,i){return xr(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},RI),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=r,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),f=yield(e=="PUT"?bE:As)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(On(a))return{data:null,error:a};throw a}})}upload(e,n,r){return xr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return xr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:RI.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield bE(this.fetch,o.toString(),l,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(On(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return xr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield As(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new RT("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(r){if(On(r))return{data:null,error:r};throw r}})}update(e,n,r){return xr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return xr(this,void 0,void 0,function*(){try{return{data:yield As(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(On(i))return{data:null,error:i};throw i}})}copy(e,n,r){return xr(this,void 0,void 0,function*(){try{return{data:{path:(yield As(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(On(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return xr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield As(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(On(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return xr(this,void 0,void 0,function*(){try{const i=yield As(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(On(i))return{data:null,error:i};throw i}})}download(e,n){return xr(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=a?`?${a}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Vv(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(On(o))return{data:null,error:o};throw o}})}info(e){return xr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Vv(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:xE(r),error:null}}catch(r){if(On(r))return{data:null,error:r};throw r}})}exists(e){return xr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield lie(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(On(r)&&r instanceof vE){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${c}`)}}}remove(e){return xr(this,void 0,void 0,function*(){try{return{data:yield gz(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(On(n))return{data:null,error:n};throw n}})}list(e,n,r){return xr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},cie),n),{prefix:e||""});return{data:yield As(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(On(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const die="2.10.4",fie={"X-Client-Info":`storage-js/${die}`};var su=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class hie{constructor(e,n={},r,i){const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},fie),n),this.fetch=mz(r)}listBuckets(){return su(this,void 0,void 0,function*(){try{return{data:yield Vv(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(On(e))return{data:null,error:e};throw e}})}getBucket(e){return su(this,void 0,void 0,function*(){try{return{data:yield Vv(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(On(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return su(this,void 0,void 0,function*(){try{return{data:yield As(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(On(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return su(this,void 0,void 0,function*(){try{return{data:yield bE(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(On(r))return{data:null,error:r};throw r}})}emptyBucket(e){return su(this,void 0,void 0,function*(){try{return{data:yield As(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(On(n))return{data:null,error:n};throw n}})}deleteBucket(e){return su(this,void 0,void 0,function*(){try{return{data:yield gz(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(On(n))return{data:null,error:n};throw n}})}}class pie extends hie{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new uie(this.url,this.headers,e,this.fetch)}}const mie="2.53.0";let Ch="";typeof Deno<"u"?Ch="deno":typeof document<"u"?Ch="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ch="react-native":Ch="node";const gie={"X-Client-Info":`supabase-js-${Ch}/${mie}`},yie={headers:gie},vie={schema:"public"},xie={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bie={};var wie=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const _ie=t=>{let e;return t?e=t:typeof fetch>"u"?e=ez:e=fetch,(...n)=>e(...n)},Sie=()=>typeof Headers>"u"?tz:Headers,Eie=(t,e,n)=>{const r=_ie(n),i=Sie();return(a,s)=>wie(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let c=new i(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(a,Object.assign(Object.assign({},s),{headers:c}))})};var jie=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};function Aie(t){return t.endsWith("/")?t:t+"/"}function Cie(t,e){var n,r;const{db:i,auth:a,realtime:s,global:o}=t,{db:l,auth:c,realtime:d,global:f}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>jie(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const yz="2.71.1",wu=30*1e3,wE=3,__=wE*wu,Tie="http://localhost:9999",kie="supabase.auth.token",Oie={"X-Client-Info":`gotrue-js/${yz}`},_E="X-Supabase-Api-Version",vz={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Nie=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Pie=10*60*1e3;class MT extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ze(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Iie extends MT{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function $ie(t){return Ze(t)&&t.name==="AuthApiError"}class xz extends MT{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class kl extends MT{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class So extends kl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Rie(t){return Ze(t)&&t.name==="AuthSessionMissingError"}class Zg extends kl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jg extends kl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Qg extends kl{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Mie(t){return Ze(t)&&t.name==="AuthImplicitGrantRedirectError"}class MI extends kl{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class SE extends kl{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function S_(t){return Ze(t)&&t.name==="AuthRetryableFetchError"}class LI extends kl{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class EE extends kl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const qv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),DI=` 	
\r=`.split(""),Lie=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<DI.length;e+=1)t[DI[e].charCodeAt(0)]=-2;for(let e=0;e<qv.length;e+=1)t[qv[e].charCodeAt(0)]=e;return t})();function FI(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(qv[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(qv[r]),e.queuedBits-=6}}function bz(t,e,n){const r=Lie[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function BI(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{Bie(s,r,n)};for(let s=0;s<t.length;s+=1)bz(t.charCodeAt(s),i,a);return e.join("")}function Die(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Fie(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Die(r,e)}}function Bie(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function zie(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)bz(t.charCodeAt(i),n,r);return new Uint8Array(e)}function Uie(t){const e=[];return Fie(t,n=>e.push(n)),new Uint8Array(e)}function Hie(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>FI(i,n,r)),FI(null,n,r),e.join("")}function Wie(t){return Math.round(Date.now()/1e3)+t}function Vie(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Yi=()=>typeof window<"u"&&typeof document<"u",zl={tested:!1,writable:!1},wz=()=>{if(!Yi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zl.tested)return zl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),zl.tested=!0,zl.writable=!0}catch{zl.tested=!0,zl.writable=!1}return zl.writable};function qie(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const _z=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Km(async()=>{const{default:r}=await Promise.resolve().then(()=>Af);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Gie=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",_u=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ul=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},vo=async(t,e)=>{await t.removeItem(e)};class nb{constructor(){this.promise=new nb.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}nb.promiseConstructor=Promise;function E_(t){const e=t.split(".");if(e.length!==3)throw new EE("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Nie.test(e[r]))throw new EE("JWT not in base64url format");return{header:JSON.parse(BI(e[0])),payload:JSON.parse(BI(e[1])),signature:zie(e[2]),raw:{header:e[0],payload:e[1]}}}async function Kie(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Yie(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){r(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function Xie(t){return("0"+t.toString(16)).substr(-2)}function Zie(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Xie).join("")}async function Jie(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Qie(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Jie(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ou(t,e,n=!1){const r=Zie();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await _u(t,`${e}-code-verifier`,i);const a=await Qie(r);return[a,r===a?"plain":"s256"]}const eae=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function tae(t){const e=t.headers.get(_E);if(!e||!e.match(eae))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function nae(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function rae(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const iae=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function lu(t){if(!iae.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function j_(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zI(t){return JSON.parse(JSON.stringify(t))}var aae=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Yl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),sae=[502,503,504];async function UI(t){var e;if(!Gie(t))throw new SE(Yl(t),0);if(sae.includes(t.status))throw new SE(Yl(t),t.status);let n;try{n=await t.json()}catch(a){throw new xz(Yl(a),a)}let r;const i=tae(t);if(i&&i.getTime()>=vz["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new LI(Yl(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new So}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new LI(Yl(n),t.status,n.weak_password.reasons);throw new Iie(Yl(n),t.status||500,r)}const oae=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function st(t,e,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[_E]||(a[_E]=vz["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const s=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await lae(t,e,n+o,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function lae(t,e,n,r,i,a){const s=oae(e,r,i,a);let o;try{o=await t(n,Object.assign({},s))}catch(l){throw console.error(l),new SE(Yl(l),0)}if(o.ok||await UI(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await UI(l)}}function Ss(t){var e;let n=null;fae(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Wie(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function HI(t){const e=Ss(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function No(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function cae(t){return{data:t,error:null}}function uae(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,s=aae(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function dae(t){return t}function fae(t){return t.access_token&&t.refresh_token&&t.expires_in}const A_=["global","local","others"];var hae=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class pae{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=_z(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=A_[0]){if(A_.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${A_.join(", ")}`);try{return await st(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await st(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:No})}catch(r){if(Ze(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=hae(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await st(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:uae,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ze(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await st(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:No})}catch(n){if(Ze(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await st(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:dae});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);c[`${v}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Ze(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){lu(e);try{return await st(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:No})}catch(n){if(Ze(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){lu(e);try{return await st(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:No})}catch(r){if(Ze(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){lu(e);try{return await st(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:No})}catch(r){if(Ze(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){lu(e.userId);try{const{data:n,error:r}=await st(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _deleteFactor(e){lu(e.userId),lu(e.id);try{return{data:await st(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}}}function WI(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function mae(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const cu={debug:!!(globalThis&&wz()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Sz extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class gae extends Sz{}async function yae(t,e,n){cu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),cu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){cu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{cu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw cu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new gae(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(cu.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}mae();const vae={url:Tie,storageKey:kie,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Oie,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function VI(t,e,n){return await n()}const uu={};class Bp{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Bp.nextInstanceID,Bp.nextInstanceID+=1,this.instanceID>0&&Yi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},vae),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new pae({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=_z(i.fetch),this.lock=i.lock||VI,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Yi()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=yae:this.lock=VI,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:wz()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=WI(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=WI(this.memoryStorage)),Yi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=uu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){uu[this.storageKey]=Object.assign(Object.assign({},uu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=uu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){uu[this.storageKey]=Object.assign(Object.assign({},uu[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yz}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=qie(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Yi()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Mie(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ze(n)?{error:n}:{error:new xz("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ss}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(Ze(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:d,password:f,options:h}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await ou(this.storage,this.storageKey)),a=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:Ss})}else if("phone"in e){const{phone:d,password:f,options:h}=e;a=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ss})}else throw new Jg("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(Ze(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:s,options:o}=e;n=await st(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:HI})}else if("phone"in e){const{phone:a,password:s,options:o}=e;n=await st(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:HI})}else throw new Jg("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Zg}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ze(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,i,a,s,o,l,c,d,f,h,p;let m,g;if("message"in e)m=e.message,g=e.signature;else{const{chain:v,wallet:y,statement:x,options:b}=e;let _;if(Yi())if(typeof y=="object")_=y;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const w=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),x?{statement:x}:null));let A;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")A=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)A=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)m=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),g=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${w.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(i=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(m),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=E}}try{const{data:v,error:y}=await st(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Hie(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ss});if(y)throw y;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Zg}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:y})}catch(v){if(Ze(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(e){const n=await Ul(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:s}=await st(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ss});if(await vo(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Zg}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(Ze(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:s}=e,o=await st(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ss}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Zg}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(Ze(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,a,s;try{if("email"in e){const{email:o,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await ou(this.storage,this.storageKey));const{error:f}=await st(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:d}=await st(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Jg("You must provide either an email or phone number.")}catch(o){if(Ze(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:o}=await st(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ss});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Ze(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await ou(this.storage,this.storageKey)),await st(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:cae})}catch(a){if(Ze(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new So;const{error:i}=await st(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Ze(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:s}=await st(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:s,error:o}=await st(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new Jg("You must provide either an email or phone number and a type")}catch(n){if(Ze(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ul(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<__:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const s=await Ul(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=j_()}if(this.storage.isServer&&e.user){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!s&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await st(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:No}):await this._useSession(async n=>{var r,i,a;const{data:s,error:o}=n;if(o)throw o;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new So}:await st(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:No})})}catch(n){if(Ze(n))return Rie(n)&&(await this._removeSession(),await vo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new So;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await ou(this.storage,this.storageKey));const{data:c,error:d}=await st(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:No});if(d)throw d;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(Ze(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new So;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:s}=E_(e.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Ze(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:s,error:o}=n;if(o)throw o;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new So;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ze(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Yi())throw new Qg("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Qg(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new MI("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qg("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new MI("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:c}=e;if(!a||!o||!s||!c)throw new Qg("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=wu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:g,error:v}=await this._getUser(a);if(v)throw v;const y={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:s,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(Ze(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ul(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!($ie(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await vo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Vie(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await ou(this.storage,this.storageKey,!0));try{return await st(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Ze(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var s,o,l,c,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await st(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Yi()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ze(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)throw s;return await st(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Yie(async i=>(i>0&&await Kie(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await st(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ss})),(i,a)=>{const s=200*Math.pow(2,i);return a&&S_(a)&&Date.now()+s-r<wu})}catch(r){if(this._debug(n,"error",r),Ze(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Yi()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Ul(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Ul(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await _u(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:j_()}else if(i&&!i.user&&!i.user){const s=await Ul(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await vo(this.storage,this.storageKey+"-user"),await _u(this.storage,this.storageKey,i)):i.user=j_()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<__;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${__}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),S_(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new So;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new nb;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new So;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),Ze(a)){const s={session:null,error:a};return S_(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await _u(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=zI(i);await _u(this.storage,this.storageKey,a)}else{const i=zI(n);await _u(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await vo(this.storage,this.storageKey),await vo(this.storage,this.storageKey+"-code-verifier"),await vo(this.storage,this.storageKey+"-user"),this.userStorage&&await vo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Yi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),wu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/wu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${wu}ms, refresh threshold is ${wE} ticks`),i<=wE&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Sz)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Yi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,s]=await ou(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await st(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await st(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:s,error:o}=await st(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await st(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=r.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=E_(i.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+Pie>i)return r;const{data:a,error:s}=await st(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(o=>o.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};r=p.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=E_(r);n!=null&&n.allowExpired||nae(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:a,header:i,signature:s},error:null}}const d=rae(i.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,Uie(`${o}.${l}`)))throw new EE("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}}}Bp.nextInstanceID=0;const xae=Bp;class bae extends xae{constructor(e){super(e)}}var wae=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class _ae{constructor(e,n,r){var i,a,s;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const o=Aie(e),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:vie,realtime:bie,auth:Object.assign(Object.assign({},xie),{storageKey:c}),global:yie},f=Cie(r??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=f.auth)!==null&&s!==void 0?s:{},this.headers,f.global.fetch),this.fetch=Eie(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Bre(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new pie(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new gre(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return wae(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:a,flowType:s,lock:o,debug:l},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bae({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:s,lock:o,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new tie(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Sae=(t,e,n)=>new _ae(t,e,n);function Eae(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Eae()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const jae="https://imlbkhgquajmnqgbvgwj.supabase.co",Aae="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImltbGJraGdxdWFqbW5xZ2J2Z3dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM5MDA5NTAsImV4cCI6MjA2OTQ3Njk1MH0.J-baoXJnvpag7bEVSqbqXoAoGhAI7wnOb1osZcQo-Xk",ze=Sae(jae,Aae,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Ez=S.createContext(void 0),zn=()=>{const t=S.useContext(Ez);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Cae=({children:t})=>{const[e,n]=S.useState(null),[r,i]=S.useState(null),[a,s]=S.useState(!0),{toast:o}=Mt();S.useEffect(()=>{const{data:{subscription:v}}=ze.auth.onAuthStateChange(async(y,x)=>{var b;console.log("Auth state changed:",y,(b=x==null?void 0:x.user)==null?void 0:b.email),i(x),n((x==null?void 0:x.user)??null),s(!1),y==="SIGNED_IN"?x!=null&&x.user&&setTimeout(()=>{l(x.user)},0):y==="SIGNED_OUT"?localStorage.removeItem("sb-imlbkhgquajmnqgbvgwj-auth-token"):y==="TOKEN_REFRESHED"&&console.log("Token refreshed successfully")});return ze.auth.getSession().then(({data:{session:y}})=>{i(y),n((y==null?void 0:y.user)??null),s(!1)}),()=>v.unsubscribe()},[]);const l=async v=>{var y,x,b,_,w;try{const{error:E}=await ze.from("profiles").upsert({user_id:v.id,email:v.email,full_name:((y=v.user_metadata)==null?void 0:y.full_name)||((x=v.user_metadata)==null?void 0:x.name),display_name:((b=v.user_metadata)==null?void 0:b.full_name)||((_=v.user_metadata)==null?void 0:_.name),avatar_url:(w=v.user_metadata)==null?void 0:w.avatar_url,updated_at:new Date().toISOString()},{onConflict:"user_id"});E&&E.code!=="23505"&&console.error("Profile creation/update error:",E)}catch(E){console.error("Profile creation/update error:",E)}},g={user:e,session:r,loading:a,signIn:async(v,y)=>{const{data:x,error:b}=await ze.auth.signInWithPassword({email:v,password:y});if(b)throw b.message.includes("Invalid login credentials")?new Error("Invalid email or password. Please check your credentials and try again."):b.message.includes("Email not confirmed")?new Error("Please check your email and click the confirmation link before signing in."):b;x.user&&o({title:"Welcome back!",description:"Successfully signed in to your account."})},signInWithGoogle:async()=>{const{error:v}=await ze.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/admit-ai-nexus/dashboard`,queryParams:{access_type:"offline",prompt:"consent"}}});if(v)throw v},signUp:async(v,y,x)=>{const b=`${window.location.origin}/admit-ai-nexus/`,{error:_,data:w}=await ze.auth.signUp({email:v,password:y,options:{emailRedirectTo:b,data:{full_name:x}}});if(_)throw _.message.includes("User already registered")?new Error("An account with this email already exists. Please sign in instead."):_.message.includes("Password should be")?new Error("Password must be at least 8 characters long."):_;w.user&&!w.user.email_confirmed_at?o({title:"Check your email",description:"We've sent you a confirmation link to verify your account."}):o({title:"Account created!",description:"Welcome to AdmitConnect AI."})},signOut:async()=>{const{error:v}=await ze.auth.signOut();if(v)throw v;i(null),n(null),o({title:"Signed out",description:"You have been successfully signed out."})},resetPassword:async v=>{const{error:y}=await ze.auth.resetPasswordForEmail(v,{redirectTo:`${window.location.origin}/admit-ai-nexus/reset-password`});if(y)throw y},updatePassword:async v=>{const{error:y}=await ze.auth.updateUser({password:v});if(y)throw y;o({title:"Password updated",description:"Your password has been successfully updated."})}};return u.jsx(Ez.Provider,{value:g,children:t})},C_=({children:t})=>{const{user:e,loading:n}=zn();return n?u.jsx("div",{className:"min-h-screen bg-ai-gradient-subtle flex items-center justify-center",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-primary/30 border-t-primary rounded-full animate-spin mx-auto"}),u.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):e?u.jsx(u.Fragment,{children:t}):u.jsx(vJ,{to:"/auth",replace:!0})},Tae={"llama-3.1-8b-instant":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"mistral-saba-24b":{maxInputTokens:32768,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama3-8b-8192":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"qwen-qwq-32b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama3-70b-8192":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"deepseek-r1-distill-llama-70b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama-guard-3-8b":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!1},"gemma2-9b-it":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama-3.3-70b-versatile":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"moonshotai/kimi-k2-instruct-0905":{maxInputTokens:262144,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"moonshotai/kimi-k2-instruct":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"openai/gpt-oss-20b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"openai/gpt-oss-120b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"qwen/qwen3-32b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"meta-llama/llama-4-scout-17b-16e-instruct":{maxInputTokens:131072,imageInputs:!0,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"meta-llama/llama-4-maverick-17b-128e-instruct":{maxInputTokens:131072,imageInputs:!0,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"meta-llama/llama-guard-4-12b":{maxInputTokens:131072,imageInputs:!0,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:128,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!1}};var kae=Tae,Oae=Object.defineProperty,wt=(t,e)=>{for(var n in e)Oae(t,n,{get:e[n],enumerable:!0})};function Tf(t,e,n){function r(o,l){if(o._zod||Object.defineProperty(o,"_zod",{value:{def:l,constr:s,traits:new Set},enumerable:!1}),o._zod.traits.has(t))return;o._zod.traits.add(t),e(o,l);const c=s.prototype,d=Object.keys(c);for(let f=0;f<d.length;f++){const h=d[f];h in o||(o[h]=c[h].bind(o))}}const i=(n==null?void 0:n.Parent)??Object;class a extends i{}Object.defineProperty(a,"name",{value:t});function s(o){var l;const c=n!=null&&n.Parent?new a:this;r(c,o),(l=c._zod).deferred??(l.deferred=[]);for(const d of c._zod.deferred)d();return c}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:o=>{var l,c;return n!=null&&n.Parent&&o instanceof n.Parent?!0:(c=(l=o==null?void 0:o._zod)==null?void 0:l.traits)==null?void 0:c.has(t)}}),Object.defineProperty(s,"name",{value:t}),s}class Xh extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const Nae={};function rb(t){return Nae}function Pae(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,i])=>e.indexOf(+r)===-1).map(([r,i])=>i)}function Iae(t,e){return typeof e=="bigint"?e.toString():e}function $ae(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}const qI=Symbol("evaluating");function GI(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==qI)return r===void 0&&(r=qI,r=n()),r},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function jz(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Az(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}const Cz="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function KI(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function Rae(t){if(KI(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(KI(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Js(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n!=null&&n.parent)&&(r._zod.parent=t),r}function Mae(t){return{}}function Lae(t,e){if(!Rae(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=Az(t._zod.def,{get shape(){const a={...t._zod.def.shape,...e};return jz(this,"shape",a),a},checks:[]});return Js(t,i)}function Dae(t,e,n){const r=Az(e._zod.def,{get shape(){const i=e._zod.def.shape,a={...i};for(const s in i)a[s]=t?new t({type:"optional",innerType:i[s]}):i[s];return jz(this,"shape",a),a},checks:[]});return Js(e,r)}function ey(t,e=0){var n;if(t.aborted===!0)return!0;for(let r=e;r<t.issues.length;r++)if(((n=t.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function ty(t){return typeof t=="string"?t:t==null?void 0:t.message}function ib(t,e,n){var i,a,s,o,l,c;const r={...t,path:t.path??[]};if(!t.message){const d=ty((s=(a=(i=t.inst)==null?void 0:i._zod.def)==null?void 0:a.error)==null?void 0:s.call(a,t))??ty((o=e==null?void 0:e.error)==null?void 0:o.call(e,t))??ty((l=n.customError)==null?void 0:l.call(n,t))??ty((c=n.localeError)==null?void 0:c.call(n,t))??"Invalid input";r.message=d}return delete r.inst,delete r.continue,e!=null&&e.reportInput||delete r.input,r}const Tz=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Iae,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Fae=Tf("$ZodError",Tz),ab=Tf("$ZodError",Tz,{Parent:Error}),Bae=t=>(e,n,r,i)=>{const a=r?Object.assign(r,{async:!1}):{async:!1},s=e._zod.run({value:n,issues:[]},a);if(s instanceof Promise)throw new Xh;if(s.issues.length){const o=new((i==null?void 0:i.Err)??t)(s.issues.map(l=>ib(l,a,rb())));throw Cz(o,i==null?void 0:i.callee),o}return s.value},LT=Bae(ab),zae=t=>async(e,n,r,i)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let s=e._zod.run({value:n,issues:[]},a);if(s instanceof Promise&&(s=await s),s.issues.length){const o=new((i==null?void 0:i.Err)??t)(s.issues.map(l=>ib(l,a,rb())));throw Cz(o,i==null?void 0:i.callee),o}return s.value},kz=zae(ab),Uae=t=>(e,n,r)=>{const i=r?{...r,async:!1}:{async:!1},a=e._zod.run({value:n,issues:[]},i);if(a instanceof Promise)throw new Xh;return a.issues.length?{success:!1,error:new(t??Fae)(a.issues.map(s=>ib(s,i,rb())))}:{success:!0,data:a.value}},Hae=Uae(ab),Wae=t=>async(e,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let a=e._zod.run({value:n,issues:[]},i);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new t(a.issues.map(s=>ib(s,i,rb())))}:{success:!0,data:a.value}},Vae=Wae(ab),qae={major:4,minor:1,patch:13},DT=Tf("$ZodType",(t,e)=>{var i;var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=qae;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const a of r)for(const s of a._zod.onattach)s(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),(i=t._zod.deferred)==null||i.push(()=>{t._zod.run=t._zod.parse});else{const a=(o,l,c)=>{let d=ey(o),f;for(const h of l){if(h._zod.def.when){if(!h._zod.def.when(o))continue}else if(d)continue;const p=o.issues.length,m=h._zod.check(o);if(m instanceof Promise&&(c==null?void 0:c.async)===!1)throw new Xh;if(f||m instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await m,o.issues.length!==p&&(d||(d=ey(o,p)))});else{if(o.issues.length===p)continue;d||(d=ey(o,p))}}return f?f.then(()=>o):o},s=(o,l,c)=>{if(ey(o))return o.aborted=!0,o;const d=a(l,r,c);if(d instanceof Promise){if(c.async===!1)throw new Xh;return d.then(f=>t._zod.parse(f,c))}return t._zod.parse(d,c)};t._zod.run=(o,l)=>{if(l.skipChecks)return t._zod.parse(o,l);if(l.direction==="backward"){const d=t._zod.parse({value:o.value,issues:[]},{...l,skipChecks:!0});return d instanceof Promise?d.then(f=>s(f,o,l)):s(d,o,l)}const c=t._zod.parse(o,l);if(c instanceof Promise){if(l.async===!1)throw new Xh;return c.then(d=>a(d,r,l))}return a(c,r,l)}}t["~standard"]={validate:a=>{var s;try{const o=Hae(t,a);return o.success?{value:o.data}:{issues:(s=o.error)==null?void 0:s.issues}}catch{return Vae(t,a).then(l=>{var c;return l.success?{value:l.data}:{issues:(c=l.error)==null?void 0:c.issues}})}},vendor:"zod",version:1}}),Gae=Tf("$ZodUnknown",(t,e)=>{DT.init(t,e),t._zod.parse=n=>n}),Kae=Tf("$ZodNever",(t,e)=>{DT.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function YI(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const Oz=Tf("$ZodOptional",(t,e)=>{DT.init(t,e),t._zod.optin="optional",t._zod.optout="optional",GI(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),GI(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${$ae(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(a=>YI(a,n.value)):YI(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}});var XI;class Nz{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function Yae(){return new Nz}(XI=globalThis).__zod_globalRegistry??(XI.__zod_globalRegistry=Yae());const Tr=globalThis.__zod_globalRegistry;function Xae(t){return new t({type:"unknown"})}function Zae(t,e){return new t({type:"never",...Mae()})}class ZI{constructor(e){this.counter=0,this.metadataRegistry=(e==null?void 0:e.metadata)??Tr,this.target=(e==null?void 0:e.target)??"draft-2020-12",this.unrepresentable=(e==null?void 0:e.unrepresentable)??"throw",this.override=(e==null?void 0:e.override)??(()=>{}),this.io=(e==null?void 0:e.io)??"output",this.seen=new Map}process(e,n={path:[],schemaPath:[]}){var f,h,p;var r;const i=e._zod.def,a={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},s=this.seen.get(e);if(s)return s.count++,n.schemaPath.includes(e)&&(s.cycle=n.path),s.schema;const o={schema:{},count:1,cycle:void 0,path:n.path};this.seen.set(e,o);const l=(h=(f=e._zod).toJSONSchema)==null?void 0:h.call(f);if(l)o.schema=l;else{const m={...n,schemaPath:[...n.schemaPath,e],path:n.path},g=e._zod.parent;if(g)o.ref=g,this.process(g,m),this.seen.get(g).isParent=!0;else{const v=o.schema;switch(i.type){case"string":{const y=v;y.type="string";const{minimum:x,maximum:b,format:_,patterns:w,contentEncoding:E}=e._zod.bag;if(typeof x=="number"&&(y.minLength=x),typeof b=="number"&&(y.maxLength=b),_&&(y.format=a[_]??_,y.format===""&&delete y.format),E&&(y.contentEncoding=E),w&&w.size>0){const A=[...w];A.length===1?y.pattern=A[0].source:A.length>1&&(o.schema.allOf=[...A.map(j=>({...this.target==="draft-7"||this.target==="draft-4"||this.target==="openapi-3.0"?{type:"string"}:{},pattern:j.source}))])}break}case"number":{const y=v,{minimum:x,maximum:b,format:_,multipleOf:w,exclusiveMaximum:E,exclusiveMinimum:A}=e._zod.bag;typeof _=="string"&&_.includes("int")?y.type="integer":y.type="number",typeof A=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(y.minimum=A,y.exclusiveMinimum=!0):y.exclusiveMinimum=A),typeof x=="number"&&(y.minimum=x,typeof A=="number"&&this.target!=="draft-4"&&(A>=x?delete y.minimum:delete y.exclusiveMinimum)),typeof E=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(y.maximum=E,y.exclusiveMaximum=!0):y.exclusiveMaximum=E),typeof b=="number"&&(y.maximum=b,typeof E=="number"&&this.target!=="draft-4"&&(E<=b?delete y.maximum:delete y.exclusiveMaximum)),typeof w=="number"&&(y.multipleOf=w);break}case"boolean":{const y=v;y.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{this.target==="openapi-3.0"?(v.type="string",v.nullable=!0,v.enum=[null]):v.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{v.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{const y=v,{minimum:x,maximum:b}=e._zod.bag;typeof x=="number"&&(y.minItems=x),typeof b=="number"&&(y.maxItems=b),y.type="array",y.items=this.process(i.element,{...m,path:[...m.path,"items"]});break}case"object":{const y=v;y.type="object",y.properties={};const x=i.shape;for(const w in x)y.properties[w]=this.process(x[w],{...m,path:[...m.path,"properties",w]});const b=new Set(Object.keys(x)),_=new Set([...b].filter(w=>{const E=i.shape[w]._zod;return this.io==="input"?E.optin===void 0:E.optout===void 0}));_.size>0&&(y.required=Array.from(_)),((p=i.catchall)==null?void 0:p._zod.def.type)==="never"?y.additionalProperties=!1:i.catchall?i.catchall&&(y.additionalProperties=this.process(i.catchall,{...m,path:[...m.path,"additionalProperties"]})):this.io==="output"&&(y.additionalProperties=!1);break}case"union":{const y=v,x=i.discriminator!==void 0,b=i.options.map((_,w)=>this.process(_,{...m,path:[...m.path,x?"oneOf":"anyOf",w]}));x?y.oneOf=b:y.anyOf=b;break}case"intersection":{const y=v,x=this.process(i.left,{...m,path:[...m.path,"allOf",0]}),b=this.process(i.right,{...m,path:[...m.path,"allOf",1]}),_=E=>"allOf"in E&&Object.keys(E).length===1,w=[..._(x)?x.allOf:[x],..._(b)?b.allOf:[b]];y.allOf=w;break}case"tuple":{const y=v;y.type="array";const x=this.target==="draft-2020-12"?"prefixItems":"items",b=this.target==="draft-2020-12"||this.target==="openapi-3.0"?"items":"additionalItems",_=i.items.map((j,C)=>this.process(j,{...m,path:[...m.path,x,C]})),w=i.rest?this.process(i.rest,{...m,path:[...m.path,b,...this.target==="openapi-3.0"?[i.items.length]:[]]}):null;this.target==="draft-2020-12"?(y.prefixItems=_,w&&(y.items=w)):this.target==="openapi-3.0"?(y.items={anyOf:_},w&&y.items.anyOf.push(w),y.minItems=_.length,w||(y.maxItems=_.length)):(y.items=_,w&&(y.additionalItems=w));const{minimum:E,maximum:A}=e._zod.bag;typeof E=="number"&&(y.minItems=E),typeof A=="number"&&(y.maxItems=A);break}case"record":{const y=v;y.type="object",(this.target==="draft-7"||this.target==="draft-2020-12")&&(y.propertyNames=this.process(i.keyType,{...m,path:[...m.path,"propertyNames"]})),y.additionalProperties=this.process(i.valueType,{...m,path:[...m.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{const y=v,x=Pae(i.entries);x.every(b=>typeof b=="number")&&(y.type="number"),x.every(b=>typeof b=="string")&&(y.type="string"),y.enum=x;break}case"literal":{const y=v,x=[];for(const b of i.values)if(b===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof b=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");x.push(Number(b))}else x.push(b);if(x.length!==0)if(x.length===1){const b=x[0];y.type=b===null?"null":typeof b,this.target==="draft-4"||this.target==="openapi-3.0"?y.enum=[b]:y.const=b}else x.every(b=>typeof b=="number")&&(y.type="number"),x.every(b=>typeof b=="string")&&(y.type="string"),x.every(b=>typeof b=="boolean")&&(y.type="string"),x.every(b=>b===null)&&(y.type="null"),y.enum=x;break}case"file":{const y=v,x={type:"string",format:"binary",contentEncoding:"binary"},{minimum:b,maximum:_,mime:w}=e._zod.bag;b!==void 0&&(x.minLength=b),_!==void 0&&(x.maxLength=_),w?w.length===1?(x.contentMediaType=w[0],Object.assign(y,x)):y.anyOf=w.map(E=>({...x,contentMediaType:E})):Object.assign(y,x);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{const y=this.process(i.innerType,m);this.target==="openapi-3.0"?(o.ref=i.innerType,v.nullable=!0):v.anyOf=[y,{type:"null"}];break}case"nonoptional":{this.process(i.innerType,m),o.ref=i.innerType;break}case"success":{const y=v;y.type="boolean";break}case"default":{this.process(i.innerType,m),o.ref=i.innerType,v.default=JSON.parse(JSON.stringify(i.defaultValue));break}case"prefault":{this.process(i.innerType,m),o.ref=i.innerType,this.io==="input"&&(v._prefault=JSON.parse(JSON.stringify(i.defaultValue)));break}case"catch":{this.process(i.innerType,m),o.ref=i.innerType;let y;try{y=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}v.default=y;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{const y=v,x=e._zod.pattern;if(!x)throw new Error("Pattern not found in template literal");y.type="string",y.pattern=x.source;break}case"pipe":{const y=this.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;this.process(y,m),o.ref=y;break}case"readonly":{this.process(i.innerType,m),o.ref=i.innerType,v.readOnly=!0;break}case"promise":{this.process(i.innerType,m),o.ref=i.innerType;break}case"optional":{this.process(i.innerType,m),o.ref=i.innerType;break}case"lazy":{const y=e._zod.innerType;this.process(y,m),o.ref=y;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}case"function":{if(this.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema");break}}}}const c=this.metadataRegistry.get(e);return c&&Object.assign(o.schema,c),this.io==="input"&&ar(e)&&(delete o.schema.examples,delete o.schema.default),this.io==="input"&&o.schema._prefault&&((r=o.schema).default??(r.default=o.schema._prefault)),delete o.schema._prefault,this.seen.get(e).schema}emit(e,n){var d,f,h,p,m,g;const r={cycles:(n==null?void 0:n.cycles)??"ref",reused:(n==null?void 0:n.reused)??"inline",external:(n==null?void 0:n.external)??void 0},i=this.seen.get(e);if(!i)throw new Error("Unprocessed schema. This is a bug in Zod.");const a=v=>{var w;const y=this.target==="draft-2020-12"?"$defs":"definitions";if(r.external){const E=(w=r.external.registry.get(v[0]))==null?void 0:w.id,A=r.external.uri??(C=>C);if(E)return{ref:A(E)};const j=v[1].defId??v[1].schema.id??`schema${this.counter++}`;return v[1].defId=j,{defId:j,ref:`${A("__shared")}#/${y}/${j}`}}if(v[1]===i)return{ref:"#"};const b=`#/${y}/`,_=v[1].schema.id??`__schema${this.counter++}`;return{defId:_,ref:b+_}},s=v=>{if(v[1].schema.$ref)return;const y=v[1],{ref:x,defId:b}=a(v);y.def={...y.schema},b&&(y.defId=b);const _=y.schema;for(const w in _)delete _[w];_.$ref=x};if(r.cycles==="throw")for(const v of this.seen.entries()){const y=v[1];if(y.cycle)throw new Error(`Cycle detected: #/${(d=y.cycle)==null?void 0:d.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const v of this.seen.entries()){const y=v[1];if(e===v[0]){s(v);continue}if(r.external){const b=(f=r.external.registry.get(v[0]))==null?void 0:f.id;if(e!==v[0]&&b){s(v);continue}}if((h=this.metadataRegistry.get(v[0]))==null?void 0:h.id){s(v);continue}if(y.cycle){s(v);continue}if(y.count>1&&r.reused==="ref"){s(v);continue}}const o=(v,y)=>{const x=this.seen.get(v),b=x.def??x.schema,_={...b};if(x.ref===null)return;const w=x.ref;if(x.ref=null,w){o(w,y);const E=this.seen.get(w).schema;E.$ref&&(y.target==="draft-7"||y.target==="draft-4"||y.target==="openapi-3.0")?(b.allOf=b.allOf??[],b.allOf.push(E)):(Object.assign(b,E),Object.assign(b,_))}x.isParent||this.override({zodSchema:v,jsonSchema:b,path:x.path??[]})};for(const v of[...this.seen.entries()].reverse())o(v[0],{target:this.target});const l={};if(this.target==="draft-2020-12"?l.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?l.$schema="http://json-schema.org/draft-07/schema#":this.target==="draft-4"?l.$schema="http://json-schema.org/draft-04/schema#":this.target==="openapi-3.0"||console.warn(`Invalid target: ${this.target}`),(p=r.external)!=null&&p.uri){const v=(m=r.external.registry.get(e))==null?void 0:m.id;if(!v)throw new Error("Schema is missing an `id` property");l.$id=r.external.uri(v)}Object.assign(l,i.def);const c=((g=r.external)==null?void 0:g.defs)??{};for(const v of this.seen.entries()){const y=v[1];y.def&&y.defId&&(c[y.defId]=y.def)}r.external||Object.keys(c).length>0&&(this.target==="draft-2020-12"?l.$defs=c:l.definitions=c);try{return JSON.parse(JSON.stringify(l))}catch{throw new Error("Error converting schema to JSON.")}}}function JI(t,e){if(t instanceof Nz){const r=new ZI(e),i={};for(const o of t._idmap.entries()){const[l,c]=o;r.process(c)}const a={},s={registry:t,uri:e==null?void 0:e.uri,defs:i};for(const o of t._idmap.entries()){const[l,c]=o;a[l]=r.emit(c,{...e,external:s})}if(Object.keys(i).length>0){const o=r.target==="draft-2020-12"?"$defs":"definitions";a.__shared={[o]:i}}return{schemas:a}}const n=new ZI(e);return n.process(t),n.emit(t,e)}function ar(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return ar(r.element,n);if(r.type==="set")return ar(r.valueType,n);if(r.type==="lazy")return ar(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return ar(r.innerType,n);if(r.type==="intersection")return ar(r.left,n)||ar(r.right,n);if(r.type==="record"||r.type==="map")return ar(r.keyType,n)||ar(r.valueType,n);if(r.type==="pipe")return ar(r.in,n)||ar(r.out,n);if(r.type==="object"){for(const i in r.shape)if(ar(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(ar(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(ar(i,n))return!0;return!!(r.rest&&ar(r.rest,n))}return!1}function hn(t){if(typeof t!="object"||t===null)return!1;const e=t;if(!("_zod"in e))return!1;const n=e._zod;return typeof n=="object"&&n!==null&&"def"in n}function An(t){if(typeof t!="object"||t===null)return!1;const e=t;if(!("_def"in e)||"_zod"in e)return!1;const n=e._def;return typeof n=="object"&&n!=null&&"typeName"in n}function Jae(t){return hn(t)&&console.warn("[WARNING] Attempting to use Zod 4 schema in a context where Zod 3 schema is expected. This may cause unexpected behavior."),An(t)}function Oc(t){return!t||typeof t!="object"||Array.isArray(t)?!1:!!(hn(t)||An(t))}function Pz(t){return typeof t=="object"&&t!==null&&"_def"in t&&typeof t._def=="object"&&t._def!==null&&"typeName"in t._def&&t._def.typeName==="ZodLiteral"}function Iz(t){return hn(t)?typeof t=="object"&&t!==null&&"_zod"in t&&typeof t._zod=="object"&&t._zod!==null&&"def"in t._zod&&typeof t._zod.def=="object"&&t._zod.def!==null&&"type"in t._zod.def&&t._zod.def.type==="literal":!1}function Qae(t){return!!(Pz(t)||Iz(t))}async function $z(t,e){if(hn(t))try{return{success:!0,data:await kz(t,e)}}catch(n){return{success:!1,error:n}}if(An(t))return await t.safeParseAsync(e);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}async function FT(t,e){if(hn(t))return await kz(t,e);if(An(t))return await t.parseAsync(e);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function ese(t,e){if(hn(t))try{return{success:!0,data:LT(t,e)}}catch(n){return{success:!1,error:n}}if(An(t))return t.safeParse(e);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function tse(t,e){if(hn(t))return LT(t,e);if(An(t))return t.parse(e);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function BT(t){var e;if(hn(t))return(e=Tr.get(t))==null?void 0:e.description;if(An(t)||"description"in t&&typeof t.description=="string")return t.description}function nse(t){if(!Oc(t))return!1;if(An(t)){const e=t._def;if(e.typeName==="ZodObject"){const n=t;return!n.shape||Object.keys(n.shape).length===0}if(e.typeName==="ZodRecord")return!0}if(hn(t)){const e=t._zod.def;if(e.type==="object"){const n=t;return!n.shape||Object.keys(n.shape).length===0}if(e.type==="record")return!0}return typeof t=="object"&&t!==null&&!("shape"in t)}function Rz(t){return Oc(t)?An(t)?t._def.typeName==="ZodString":hn(t)?t._zod.def.type==="string":!1:!1}function zT(t){return typeof t=="object"&&t!==null&&"_def"in t&&typeof t._def=="object"&&t._def!==null&&"typeName"in t._def&&t._def.typeName==="ZodObject"}function Ja(t){return hn(t)?typeof t=="object"&&t!==null&&"_zod"in t&&typeof t._zod=="object"&&t._zod!==null&&"def"in t._zod&&typeof t._zod.def=="object"&&t._zod.def!==null&&"type"in t._zod.def&&t._zod.def.type==="object":!1}function sb(t){return hn(t)?typeof t=="object"&&t!==null&&"_zod"in t&&typeof t._zod=="object"&&t._zod!==null&&"def"in t._zod&&typeof t._zod.def=="object"&&t._zod.def!==null&&"type"in t._zod.def&&t._zod.def.type==="array":!1}function rse(t){return!!(zT(t)||Ja(t))}function jE(t){if(An(t))return t.shape;if(hn(t))return t._zod.def.shape;throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function ise(t,e){if(An(t))return t.extend(e);if(hn(t))return Lae(t,e);throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function ase(t){if(An(t))return t.partial();if(hn(t))return Dae(Oz,t);throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function Gv(t,e=!1){if(An(t))return t.strict();if(Ja(t)){const n=t._zod.def.shape;if(e)for(const[a,s]of Object.entries(t._zod.def.shape)){if(Ja(s)){const l=Gv(s,e);n[a]=l}else if(sb(s)){let l=s._zod.def.element;Ja(l)&&(l=Gv(l,e)),n[a]=Js(s,{...s._zod.def,element:l})}else n[a]=s;const o=Tr.get(s);o&&Tr.add(n[a],o)}const r=Js(t,{...t._zod.def,shape:n,catchall:Zae(Kae)}),i=Tr.get(t);return i&&Tr.add(r,i),r}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function AE(t,e=!1){if(zT(t))return t.passthrough();if(Ja(t)){const n=t._zod.def.shape;if(e)for(const[a,s]of Object.entries(t._zod.def.shape)){if(Ja(s)){const l=AE(s,e);n[a]=l}else if(sb(s)){let l=s._zod.def.element;Ja(l)&&(l=AE(l,e)),n[a]=Js(s,{...s._zod.def,element:l})}else n[a]=s;const o=Tr.get(s);o&&Tr.add(n[a],o)}const r=Js(t,{...t._zod.def,shape:n,catchall:Xae(Gae)}),i=Tr.get(t);return i&&Tr.add(r,i),r}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function sse(t){if(An(t))try{const e=t.parse(void 0);return()=>e}catch{return}if(hn(t))try{const e=LT(t,void 0);return()=>e}catch{return}}function ose(t){return An(t)&&"typeName"in t._def&&t._def.typeName==="ZodEffects"}function lse(t){return hn(t)&&t._zod.def.type==="pipe"}function Th(t,e,n){const r=n.get(t);if(r!==void 0)return r;if(An(t))return ose(t)?Th(t._def.schema,e,n):t;if(hn(t)){let i=t;if(lse(t)&&(i=Th(t._zod.def.in,e,n)),e){if(Ja(i)){const s=i._zod.def.shape;for(const[o,l]of Object.entries(i._zod.def.shape))s[o]=Th(l,e,n);i=Js(i,{...i._zod.def,shape:s})}else if(sb(i)){const s=Th(i._zod.def.element,e,n);i=Js(i,{...i._zod.def,element:s})}}const a=Tr.get(t);return a&&Tr.add(i,a),n.set(t,i),i}throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function Mz(t,e=!1){return Th(t,e,new WeakMap)}function cse(t,e){if(An(t)){const n=jE(t),r={};for(const[i,a]of Object.entries(n))e(i,a)?r[i]=a.optional():r[i]=a;return t.extend(r)}if(hn(t)){const n=jE(t),r={...t._zod.def.shape};for(const[s,o]of Object.entries(n))e(s,o)&&(r[s]=new Oz({type:"optional",innerType:o}));const i=Js(t,{...t._zod.def,shape:r}),a=Tr.get(t);return a&&Tr.add(i,a),i}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function use(t){return t instanceof Error&&(t.constructor.name==="ZodError"||t.constructor.name==="$ZodError")}const dse=Symbol("Let zodToJsonSchema decide on which parser to use"),fse={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},hse=t=>({...fse,...t}),pse=t=>{const e=hse(t),n=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,flags:{hasReferencedOpenAiAnyType:!1},currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([r,i])=>[i._def,{def:i._def,path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))}},Lz=(t,e)=>{let n=0;for(;n<t.length&&n<e.length&&t[n]===e[n];n++);return[(t.length-n).toString(),...e.slice(n)].join("/")};function ui(t){if(t.target!=="openAi")return{};const e=[...t.basePath,t.definitionPath,t.openAiAnyTypeName];return t.flags.hasReferencedOpenAiAnyType=!0,{$ref:t.$refStrategy==="relative"?Lz(e,t.currentPath):e.join("/")}}function Dz(t,e,n,r){r!=null&&r.errorMessages&&n&&(t.errorMessage={...t.errorMessage,[e]:n})}function _t(t,e,n,r,i){t[e]=n,Dz(t,e,r,i)}var ht;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},t.find=(i,a)=>{for(const s of i)if(a(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(ht||(ht={}));var QI;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(QI||(QI={}));const Ce=ht.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Co=t=>{switch(typeof t){case"undefined":return Ce.undefined;case"string":return Ce.string;case"number":return Number.isNaN(t)?Ce.nan:Ce.number;case"boolean":return Ce.boolean;case"function":return Ce.function;case"bigint":return Ce.bigint;case"symbol":return Ce.symbol;case"object":return Array.isArray(t)?Ce.array:t===null?Ce.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ce.promise:typeof Map<"u"&&t instanceof Map?Ce.map:typeof Set<"u"&&t instanceof Set?Ce.set:typeof Date<"u"&&t instanceof Date?Ce.date:Ce.object;default:return Ce.unknown}},de=ht.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Qs extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let o=r,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(n(s))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof Qs))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ht.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n=Object.create(null),r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];n[a]=n[a]||[],n[a].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Qs.create=t=>new Qs(t);const CE=(t,e)=>{let n;switch(t.code){case de.invalid_type:t.received===Ce.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case de.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ht.jsonStringifyReplacer)}`;break;case de.unrecognized_keys:n=`Unrecognized key(s) in object: ${ht.joinValues(t.keys,", ")}`;break;case de.invalid_union:n="Invalid input";break;case de.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ht.joinValues(t.options)}`;break;case de.invalid_enum_value:n=`Invalid enum value. Expected ${ht.joinValues(t.options)}, received '${t.received}'`;break;case de.invalid_arguments:n="Invalid function arguments";break;case de.invalid_return_type:n="Invalid function return type";break;case de.invalid_date:n="Invalid date";break;case de.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ht.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case de.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case de.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case de.custom:n="Invalid input";break;case de.invalid_intersection_types:n="Intersection results could not be merged";break;case de.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case de.not_finite:n="Number must be finite";break;default:n=e.defaultError,ht.assertNever(t)}return{message:n}};let mse=CE;function gse(){return mse}const yse=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)o=c(s,{data:e,defaultError:o}).message;return{...i,path:a,message:o}};function xe(t,e){const n=gse(),r=yse({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===CE?void 0:CE].filter(i=>!!i)});t.common.issues.push(r)}class di{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Ke;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,s=await i.value;r.push({key:a,value:s})}return di.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return Ke;a.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[a.value]=s.value)}return{status:e.value,value:r}}}const Ke=Object.freeze({status:"aborted"}),kh=t=>({status:"dirty",value:t}),Fi=t=>({status:"valid",value:t}),e2=t=>t.status==="aborted",t2=t=>t.status==="dirty",$d=t=>t.status==="valid",Kv=t=>typeof Promise<"u"&&t instanceof Promise;var Oe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Oe||(Oe={}));class yl{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const n2=(t,e)=>{if($d(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Qs(t.common.issues);return this._error=n,this._error}}};function it(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,o)=>{const{message:l}=t;return s.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??r??o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:l??n??o.defaultError}},description:i}}class ft{get description(){return this._def.description}_getType(e){return Co(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Co(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new di,ctx:{common:e.parent.common,data:e.data,parsedType:Co(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Kv(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Co(e)},i=this._parseSync({data:e,path:r.path,parent:r});return n2(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Co(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return $d(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>$d(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Co(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(Kv(i)?i:Promise.resolve(i));return n2(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const s=e(i),o=()=>a.addIssue({code:de.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Md({schema:this,typeName:fe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return el.create(this,this._def)}nullable(){return Ld.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Qa.create(this)}promise(){return Jv.create(this,this._def)}or(e){return Xv.create([this,e],this._def)}and(e){return Zv.create(this,e,this._def)}transform(e){return new Md({...it(this._def),schema:this,typeName:fe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new OE({...it(this._def),innerType:this,defaultValue:n,typeName:fe.ZodDefault})}brand(){return new Bse({typeName:fe.ZodBranded,type:this,...it(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new NE({...it(this._def),innerType:this,catchValue:n,typeName:fe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return UT.create(this,e)}readonly(){return PE.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const vse=/^c[^\s-]{8,}$/i,xse=/^[0-9a-z]+$/,bse=/^[0-9A-HJKMNP-TV-Z]{26}$/i,wse=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_se=/^[a-z0-9_-]{21}$/i,Sse=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Ese=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,jse=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ase="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let T_;const Cse=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Tse=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,kse=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Ose=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Nse=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Pse=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Fz="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Ise=new RegExp(`^${Fz}$`);function Bz(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function $se(t){return new RegExp(`^${Bz(t)}$`)}function Rse(t){let e=`${Fz}T${Bz(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Mse(t,e){return!!((e==="v4"||!e)&&Cse.test(t)||(e==="v6"||!e)&&kse.test(t))}function Lse(t,e){if(!Sse.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function Dse(t,e){return!!((e==="v4"||!e)&&Tse.test(t)||(e==="v6"||!e)&&Ose.test(t))}class zo extends ft{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ce.string){const a=this._getOrReturnCtx(e);return xe(a,{code:de.invalid_type,expected:Ce.string,received:a.parsedType}),Ke}const r=new di;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:de.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:de.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const s=e.data.length>a.value,o=e.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(e,i),s?xe(i,{code:de.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&xe(i,{code:de.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")jse.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"email",code:de.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")T_||(T_=new RegExp(Ase,"u")),T_.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"emoji",code:de.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")wse.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"uuid",code:de.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")_se.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"nanoid",code:de.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")vse.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"cuid",code:de.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")xse.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"cuid2",code:de.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")bse.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"ulid",code:de.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),xe(i,{validation:"url",code:de.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"regex",code:de.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),xe(i,{code:de.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),xe(i,{code:de.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),xe(i,{code:de.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?Rse(a).test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{code:de.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?Ise.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{code:de.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?$se(a).test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{code:de.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?Ese.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"duration",code:de.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?Mse(e.data,a.version)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"ip",code:de.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?Lse(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"jwt",code:de.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?Dse(e.data,a.version)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"cidr",code:de.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?Nse.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"base64",code:de.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?Pse.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"base64url",code:de.invalid_string,message:a.message}),r.dirty()):ht.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:de.invalid_string,...Oe.errToObj(r)})}_addCheck(e){return new zo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Oe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Oe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Oe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Oe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Oe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Oe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Oe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Oe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Oe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Oe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Oe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Oe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Oe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Oe.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Oe.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Oe.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Oe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Oe.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Oe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Oe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Oe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Oe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Oe.errToObj(n)})}nonempty(e){return this.min(1,Oe.errToObj(e))}trim(){return new zo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new zo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new zo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}zo.create=t=>new zo({checks:[],typeName:fe.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...it(t)});function Fse(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=Number.parseInt(t.toFixed(i).replace(".","")),s=Number.parseInt(e.toFixed(i).replace(".",""));return a%s/10**i}class zp extends ft{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ce.number){const a=this._getOrReturnCtx(e);return xe(a,{code:de.invalid_type,expected:Ce.number,received:a.parsedType}),Ke}let r;const i=new di;for(const a of this._def.checks)a.kind==="int"?ht.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),xe(r,{code:de.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:de.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:de.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?Fse(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),xe(r,{code:de.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),xe(r,{code:de.not_finite,message:a.message}),i.dirty()):ht.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Oe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Oe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Oe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Oe.toString(n))}setLimit(e,n,r,i){return new zp({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Oe.toString(i)}]})}_addCheck(e){return new zp({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Oe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Oe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Oe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Oe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Oe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Oe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Oe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Oe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Oe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ht.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}zp.create=t=>new zp({checks:[],typeName:fe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...it(t)});class Up extends ft{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ce.bigint)return this._getInvalidInput(e);let r;const i=new di;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:de.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:de.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:de.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):ht.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return xe(n,{code:de.invalid_type,expected:Ce.bigint,received:n.parsedType}),Ke}gte(e,n){return this.setLimit("min",e,!0,Oe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Oe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Oe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Oe.toString(n))}setLimit(e,n,r,i){return new Up({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Oe.toString(i)}]})}_addCheck(e){return new Up({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Oe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Oe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Oe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Oe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Oe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Up.create=t=>new Up({checks:[],typeName:fe.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...it(t)});class r2 extends ft{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ce.boolean){const r=this._getOrReturnCtx(e);return xe(r,{code:de.invalid_type,expected:Ce.boolean,received:r.parsedType}),Ke}return Fi(e.data)}}r2.create=t=>new r2({typeName:fe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...it(t)});class Yv extends ft{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ce.date){const a=this._getOrReturnCtx(e);return xe(a,{code:de.invalid_type,expected:Ce.date,received:a.parsedType}),Ke}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return xe(a,{code:de.invalid_date}),Ke}const r=new di;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:de.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:de.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):ht.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Yv({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Oe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Oe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Yv.create=t=>new Yv({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:fe.ZodDate,...it(t)});class i2 extends ft{_parse(e){if(this._getType(e)!==Ce.symbol){const r=this._getOrReturnCtx(e);return xe(r,{code:de.invalid_type,expected:Ce.symbol,received:r.parsedType}),Ke}return Fi(e.data)}}i2.create=t=>new i2({typeName:fe.ZodSymbol,...it(t)});class a2 extends ft{_parse(e){if(this._getType(e)!==Ce.undefined){const r=this._getOrReturnCtx(e);return xe(r,{code:de.invalid_type,expected:Ce.undefined,received:r.parsedType}),Ke}return Fi(e.data)}}a2.create=t=>new a2({typeName:fe.ZodUndefined,...it(t)});class s2 extends ft{_parse(e){if(this._getType(e)!==Ce.null){const r=this._getOrReturnCtx(e);return xe(r,{code:de.invalid_type,expected:Ce.null,received:r.parsedType}),Ke}return Fi(e.data)}}s2.create=t=>new s2({typeName:fe.ZodNull,...it(t)});class TE extends ft{constructor(){super(...arguments),this._any=!0}_parse(e){return Fi(e.data)}}TE.create=t=>new TE({typeName:fe.ZodAny,...it(t)});class o2 extends ft{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Fi(e.data)}}o2.create=t=>new o2({typeName:fe.ZodUnknown,...it(t)});class vl extends ft{_parse(e){const n=this._getOrReturnCtx(e);return xe(n,{code:de.invalid_type,expected:Ce.never,received:n.parsedType}),Ke}}vl.create=t=>new vl({typeName:fe.ZodNever,...it(t)});class l2 extends ft{_parse(e){if(this._getType(e)!==Ce.undefined){const r=this._getOrReturnCtx(e);return xe(r,{code:de.invalid_type,expected:Ce.void,received:r.parsedType}),Ke}return Fi(e.data)}}l2.create=t=>new l2({typeName:fe.ZodVoid,...it(t)});class Qa extends ft{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Ce.array)return xe(n,{code:de.invalid_type,expected:Ce.array,received:n.parsedType}),Ke;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(s||o)&&(xe(n,{code:s?de.too_big:de.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(xe(n,{code:de.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(xe(n,{code:de.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,o)=>i.type._parseAsync(new yl(n,s,n.path,o)))).then(s=>di.mergeArray(r,s));const a=[...n.data].map((s,o)=>i.type._parseSync(new yl(n,s,n.path,o)));return di.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new Qa({...this._def,minLength:{value:e,message:Oe.toString(n)}})}max(e,n){return new Qa({...this._def,maxLength:{value:e,message:Oe.toString(n)}})}length(e,n){return new Qa({...this._def,exactLength:{value:e,message:Oe.toString(n)}})}nonempty(e){return this.min(1,e)}}Qa.create=(t,e)=>new Qa({type:t,minLength:null,maxLength:null,exactLength:null,typeName:fe.ZodArray,...it(e)});function Su(t){if(t instanceof tn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=el.create(Su(r))}return new tn({...t._def,shape:()=>e})}else return t instanceof Qa?new Qa({...t._def,type:Su(t.element)}):t instanceof el?el.create(Su(t.unwrap())):t instanceof Ld?Ld.create(Su(t.unwrap())):t instanceof Nc?Nc.create(t.items.map(e=>Su(e))):t}class tn extends ft{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ht.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Ce.object){const c=this._getOrReturnCtx(e);return xe(c,{code:de.invalid_type,expected:Ce.object,received:c.parsedType}),Ke}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof vl&&this._def.unknownKeys==="strip"))for(const c in i.data)s.includes(c)||o.push(c);const l=[];for(const c of s){const d=a[c],f=i.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new yl(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof vl){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of o)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(c==="strict")o.length>0&&(xe(i,{code:de.unrecognized_keys,keys:o}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of o){const f=i.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new yl(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const f=await d.key,h=await d.value;c.push({key:f,value:h,alwaysSet:d.alwaysSet})}return c}).then(c=>di.mergeObjectSync(r,c)):di.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Oe.errToObj,new tn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var a,s;const i=((s=(a=this._def).errorMap)==null?void 0:s.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Oe.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new tn({...this._def,unknownKeys:"strip"})}passthrough(){return new tn({...this._def,unknownKeys:"passthrough"})}extend(e){return new tn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new tn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:fe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new tn({...this._def,catchall:e})}pick(e){const n={};for(const r of ht.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new tn({...this._def,shape:()=>n})}omit(e){const n={};for(const r of ht.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new tn({...this._def,shape:()=>n})}deepPartial(){return Su(this)}partial(e){const n={};for(const r of ht.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new tn({...this._def,shape:()=>n})}required(e){const n={};for(const r of ht.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof el;)a=a._def.innerType;n[r]=a}return new tn({...this._def,shape:()=>n})}keyof(){return zz(ht.objectKeys(this.shape))}}tn.create=(t,e)=>new tn({shape:()=>t,unknownKeys:"strip",catchall:vl.create(),typeName:fe.ZodObject,...it(e)});tn.strictCreate=(t,e)=>new tn({shape:()=>t,unknownKeys:"strict",catchall:vl.create(),typeName:fe.ZodObject,...it(e)});tn.lazycreate=(t,e)=>new tn({shape:t,unknownKeys:"strip",catchall:vl.create(),typeName:fe.ZodObject,...it(e)});class Xv extends ft{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new Qs(o.ctx.common.issues));return xe(n,{code:de.invalid_union,unionErrors:s}),Ke}if(n.common.async)return Promise.all(r.map(async a=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(l=>new Qs(l));return xe(n,{code:de.invalid_union,unionErrors:o}),Ke}}get options(){return this._def.options}}Xv.create=(t,e)=>new Xv({options:t,typeName:fe.ZodUnion,...it(e)});function kE(t,e){const n=Co(t),r=Co(e);if(t===e)return{valid:!0,data:t};if(n===Ce.object&&r===Ce.object){const i=ht.objectKeys(e),a=ht.objectKeys(t).filter(o=>i.indexOf(o)!==-1),s={...t,...e};for(const o of a){const l=kE(t[o],e[o]);if(!l.valid)return{valid:!1};s[o]=l.data}return{valid:!0,data:s}}else if(n===Ce.array&&r===Ce.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const s=t[a],o=e[a],l=kE(s,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===Ce.date&&r===Ce.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Zv extends ft{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,s)=>{if(e2(a)||e2(s))return Ke;const o=kE(a.value,s.value);return o.valid?((t2(a)||t2(s))&&n.dirty(),{status:n.value,value:o.data}):(xe(r,{code:de.invalid_intersection_types}),Ke)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Zv.create=(t,e,n)=>new Zv({left:t,right:e,typeName:fe.ZodIntersection,...it(n)});class Nc extends ft{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ce.array)return xe(r,{code:de.invalid_type,expected:Ce.array,received:r.parsedType}),Ke;if(r.data.length<this._def.items.length)return xe(r,{code:de.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ke;!this._def.rest&&r.data.length>this._def.items.length&&(xe(r,{code:de.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((s,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new yl(r,s,r.path,o)):null}).filter(s=>!!s);return r.common.async?Promise.all(a).then(s=>di.mergeArray(n,s)):di.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new Nc({...this._def,rest:e})}}Nc.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Nc({items:t,typeName:fe.ZodTuple,rest:null,...it(e)})};class c2 extends ft{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ce.map)return xe(r,{code:de.invalid_type,expected:Ce.map,received:r.parsedType}),Ke;const i=this._def.keyType,a=this._def.valueType,s=[...r.data.entries()].map(([o,l],c)=>({key:i._parse(new yl(r,o,r.path,[c,"key"])),value:a._parse(new yl(r,l,r.path,[c,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of s){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return Ke;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(c.value,d.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const l of s){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return Ke;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(c.value,d.value)}return{status:n.value,value:o}}}}c2.create=(t,e,n)=>new c2({valueType:e,keyType:t,typeName:fe.ZodMap,...it(n)});class Hp extends ft{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ce.set)return xe(r,{code:de.invalid_type,expected:Ce.set,received:r.parsedType}),Ke;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(xe(r,{code:de.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(xe(r,{code:de.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function s(l){const c=new Set;for(const d of l){if(d.status==="aborted")return Ke;d.status==="dirty"&&n.dirty(),c.add(d.value)}return{status:n.value,value:c}}const o=[...r.data.values()].map((l,c)=>a._parse(new yl(r,l,r.path,c)));return r.common.async?Promise.all(o).then(l=>s(l)):s(o)}min(e,n){return new Hp({...this._def,minSize:{value:e,message:Oe.toString(n)}})}max(e,n){return new Hp({...this._def,maxSize:{value:e,message:Oe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Hp.create=(t,e)=>new Hp({valueType:t,minSize:null,maxSize:null,typeName:fe.ZodSet,...it(e)});class u2 extends ft{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}u2.create=(t,e)=>new u2({getter:t,typeName:fe.ZodLazy,...it(e)});class d2 extends ft{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return xe(n,{received:n.data,code:de.invalid_literal,expected:this._def.value}),Ke}return{status:"valid",value:e.data}}get value(){return this._def.value}}d2.create=(t,e)=>new d2({value:t,typeName:fe.ZodLiteral,...it(e)});function zz(t,e){return new Rd({values:t,typeName:fe.ZodEnum,...it(e)})}class Rd extends ft{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return xe(n,{expected:ht.joinValues(r),received:n.parsedType,code:de.invalid_type}),Ke}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return xe(n,{received:n.data,code:de.invalid_enum_value,options:r}),Ke}return Fi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Rd.create(e,{...this._def,...n})}exclude(e,n=this._def){return Rd.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Rd.create=zz;class f2 extends ft{_parse(e){const n=ht.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ce.string&&r.parsedType!==Ce.number){const i=ht.objectValues(n);return xe(r,{expected:ht.joinValues(i),received:r.parsedType,code:de.invalid_type}),Ke}if(this._cache||(this._cache=new Set(ht.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=ht.objectValues(n);return xe(r,{received:r.data,code:de.invalid_enum_value,options:i}),Ke}return Fi(e.data)}get enum(){return this._def.values}}f2.create=(t,e)=>new f2({values:t,typeName:fe.ZodNativeEnum,...it(e)});class Jv extends ft{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ce.promise&&n.common.async===!1)return xe(n,{code:de.invalid_type,expected:Ce.promise,received:n.parsedType}),Ke;const r=n.parsedType===Ce.promise?n.data:Promise.resolve(n.data);return Fi(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Jv.create=(t,e)=>new Jv({type:t,typeName:fe.ZodPromise,...it(e)});class Md extends ft{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===fe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:s=>{xe(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(r.data,a);if(r.common.async)return Promise.resolve(s).then(async o=>{if(n.value==="aborted")return Ke;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?Ke:l.status==="dirty"||n.value==="dirty"?kh(l.value):l});{if(n.value==="aborted")return Ke;const o=this._def.schema._parseSync({data:s,path:r.path,parent:r});return o.status==="aborted"?Ke:o.status==="dirty"||n.value==="dirty"?kh(o.value):o}}if(i.type==="refinement"){const s=o=>{const l=i.refinement(o,a);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Ke:(o.status==="dirty"&&n.dirty(),s(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?Ke:(o.status==="dirty"&&n.dirty(),s(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!$d(s))return Ke;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>$d(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:n.value,value:o})):Ke);ht.assertNever(i)}}Md.create=(t,e,n)=>new Md({schema:t,typeName:fe.ZodEffects,effect:e,...it(n)});Md.createWithPreprocess=(t,e,n)=>new Md({schema:e,effect:{type:"preprocess",transform:t},typeName:fe.ZodEffects,...it(n)});class el extends ft{_parse(e){return this._getType(e)===Ce.undefined?Fi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}el.create=(t,e)=>new el({innerType:t,typeName:fe.ZodOptional,...it(e)});class Ld extends ft{_parse(e){return this._getType(e)===Ce.null?Fi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ld.create=(t,e)=>new Ld({innerType:t,typeName:fe.ZodNullable,...it(e)});class OE extends ft{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Ce.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}OE.create=(t,e)=>new OE({innerType:t,typeName:fe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...it(e)});class NE extends ft{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Kv(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Qs(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Qs(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}NE.create=(t,e)=>new NE({innerType:t,typeName:fe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...it(e)});class h2 extends ft{_parse(e){if(this._getType(e)!==Ce.nan){const r=this._getOrReturnCtx(e);return xe(r,{code:de.invalid_type,expected:Ce.nan,received:r.parsedType}),Ke}return{status:"valid",value:e.data}}}h2.create=t=>new h2({typeName:fe.ZodNaN,...it(t)});class Bse extends ft{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class UT extends ft{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ke:a.status==="dirty"?(n.dirty(),kh(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ke:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new UT({in:e,out:n,typeName:fe.ZodPipeline})}}class PE extends ft{_parse(e){const n=this._def.innerType._parse(e),r=i=>($d(i)&&(i.value=Object.freeze(i.value)),i);return Kv(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}PE.create=(t,e)=>new PE({innerType:t,typeName:fe.ZodReadonly,...it(e)});tn.lazycreate;var fe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(fe||(fe={}));const HT=zo.create,p2=TE.create;vl.create;Qa.create;const WT=tn.create;tn.strictCreate;Xv.create;Zv.create;Nc.create;Rd.create;Jv.create;el.create;Ld.create;function zse(t,e){var r,i,a;const n={type:"array"};return(r=t.type)!=null&&r._def&&((a=(i=t.type)==null?void 0:i._def)==null?void 0:a.typeName)!==fe.ZodAny&&(n.items=bt(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&_t(n,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&_t(n,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(_t(n,"minItems",t.exactLength.value,t.exactLength.message,e),_t(n,"maxItems",t.exactLength.value,t.exactLength.message,e)),n}function Use(t,e){const n={type:"integer",format:"int64"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?_t(n,"minimum",r.value,r.message,e):_t(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),_t(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?_t(n,"maximum",r.value,r.message,e):_t(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),_t(n,"maximum",r.value,r.message,e));break;case"multipleOf":_t(n,"multipleOf",r.value,r.message,e);break}return n}function Hse(){return{type:"boolean"}}function Uz(t,e){return bt(t.type._def,e)}const Wse=(t,e)=>bt(t.innerType._def,e);function Hz(t,e,n){const r=n??e.dateStrategy;if(Array.isArray(r))return{anyOf:r.map(i=>Hz(t,e,i))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return Vse(t,e)}}const Vse=(t,e)=>{const n={type:"integer",format:"unix-time"};if(e.target==="openApi3")return n;for(const r of t.checks)switch(r.kind){case"min":_t(n,"minimum",r.value,r.message,e);break;case"max":_t(n,"maximum",r.value,r.message,e);break}return n};function qse(t,e){return{...bt(t.innerType._def,e),default:t.defaultValue()}}function Gse(t,e){return e.effectStrategy==="input"?bt(t.schema._def,e):ui(e)}function Kse(t){return{type:"string",enum:Array.from(t.values)}}const Yse=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function Xse(t,e){const n=[bt(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),bt(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(a=>!!a);let r=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const i=[];return n.forEach(a=>{if(Yse(a))i.push(...a.allOf),a.unevaluatedProperties===void 0&&(r=void 0);else{let s=a;if("additionalProperties"in a&&a.additionalProperties===!1){const{additionalProperties:o,...l}=a;s=l}else r=void 0;i.push(s)}}),i.length?{allOf:i,...r}:void 0}function Zse(t,e){const n=typeof t.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[t.value]}:{type:n==="bigint"?"integer":n,const:t.value}}let k_;const Wi={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(k_===void 0&&(k_=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),k_),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function Wz(t,e){const n={type:"string"};if(t.checks)for(const r of t.checks)switch(r.kind){case"min":_t(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,e);break;case"max":_t(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,e);break;case"email":switch(e.emailStrategy){case"format:email":Vi(n,"email",r.message,e);break;case"format:idn-email":Vi(n,"idn-email",r.message,e);break;case"pattern:zod":nr(n,Wi.email,r.message,e);break}break;case"url":Vi(n,"uri",r.message,e);break;case"uuid":Vi(n,"uuid",r.message,e);break;case"regex":nr(n,r.regex,r.message,e);break;case"cuid":nr(n,Wi.cuid,r.message,e);break;case"cuid2":nr(n,Wi.cuid2,r.message,e);break;case"startsWith":nr(n,RegExp(`^${O_(r.value,e)}`),r.message,e);break;case"endsWith":nr(n,RegExp(`${O_(r.value,e)}$`),r.message,e);break;case"datetime":Vi(n,"date-time",r.message,e);break;case"date":Vi(n,"date",r.message,e);break;case"time":Vi(n,"time",r.message,e);break;case"duration":Vi(n,"duration",r.message,e);break;case"length":_t(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,e),_t(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,e);break;case"includes":nr(n,RegExp(O_(r.value,e)),r.message,e);break;case"ip":r.version!=="v6"&&Vi(n,"ipv4",r.message,e),r.version!=="v4"&&Vi(n,"ipv6",r.message,e);break;case"base64url":nr(n,Wi.base64url,r.message,e);break;case"jwt":nr(n,Wi.jwt,r.message,e);break;case"cidr":r.version!=="v6"&&nr(n,Wi.ipv4Cidr,r.message,e),r.version!=="v4"&&nr(n,Wi.ipv6Cidr,r.message,e);break;case"emoji":nr(n,Wi.emoji(),r.message,e);break;case"ulid":nr(n,Wi.ulid,r.message,e);break;case"base64":switch(e.base64Strategy){case"format:binary":Vi(n,"binary",r.message,e);break;case"contentEncoding:base64":_t(n,"contentEncoding","base64",r.message,e);break;case"pattern:zod":nr(n,Wi.base64,r.message,e);break}break;case"nanoid":nr(n,Wi.nanoid,r.message,e);break}return n}function O_(t,e){return e.patternStrategy==="escape"?Qse(t):t}const Jse=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function Qse(t){let e="";for(let n=0;n<t.length;n++)Jse.has(t[n])||(e+="\\"),e+=t[n];return e}function Vi(t,e,n,r){var i;t.format||(i=t.anyOf)!=null&&i.some(a=>a.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&r.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...n&&r.errorMessages&&{errorMessage:{format:n}}})):_t(t,"format",e,n,r)}function nr(t,e,n,r){var i;t.pattern||(i=t.allOf)!=null&&i.some(a=>a.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&r.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:m2(e,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):_t(t,"pattern",m2(e,r),n,r)}function m2(t,e){var l;if(!e.applyRegexFlags||!t.flags)return t.source;const n={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},r=n.i?t.source.toLowerCase():t.source;let i="",a=!1,s=!1,o=!1;for(let c=0;c<r.length;c++){if(a){i+=r[c],a=!1;continue}if(n.i){if(s){if(r[c].match(/[a-z]/)){o?(i+=r[c],i+=`${r[c-2]}-${r[c]}`.toUpperCase(),o=!1):r[c+1]==="-"&&((l=r[c+2])!=null&&l.match(/[a-z]/))?(i+=r[c],o=!0):i+=`${r[c]}${r[c].toUpperCase()}`;continue}}else if(r[c].match(/[a-z]/)){i+=`[${r[c]}${r[c].toUpperCase()}]`;continue}}if(n.m){if(r[c]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(r[c]==="$"){i+=`($|(?=[\r
]))`;continue}}if(n.s&&r[c]==="."){i+=s?`${r[c]}\r
`:`[${r[c]}\r
]`;continue}i+=r[c],r[c]==="\\"?a=!0:s&&r[c]==="]"?s=!1:!s&&r[c]==="["&&(s=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return i}function Vz(t,e){var r,i,a,s,o,l;if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&((r=t.keyType)==null?void 0:r._def.typeName)===fe.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((c,d)=>({...c,[d]:bt(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",d]})??ui(e)}),{}),additionalProperties:e.rejectedAdditionalProperties};const n={type:"object",additionalProperties:bt(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??e.allowedAdditionalProperties};if(e.target==="openApi3")return n;if(((i=t.keyType)==null?void 0:i._def.typeName)===fe.ZodString&&((a=t.keyType._def.checks)!=null&&a.length)){const{type:c,...d}=Wz(t.keyType._def,e);return{...n,propertyNames:d}}else{if(((s=t.keyType)==null?void 0:s._def.typeName)===fe.ZodEnum)return{...n,propertyNames:{enum:t.keyType._def.values}};if(((o=t.keyType)==null?void 0:o._def.typeName)===fe.ZodBranded&&t.keyType._def.type._def.typeName===fe.ZodString&&((l=t.keyType._def.type._def.checks)!=null&&l.length)){const{type:c,...d}=Uz(t.keyType._def,e);return{...n,propertyNames:d}}}return n}function eoe(t,e){if(e.mapStrategy==="record")return Vz(t,e);const n=bt(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||ui(e),r=bt(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||ui(e);return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function toe(t){const e=t.values,r=Object.keys(t.values).filter(a=>typeof e[e[a]]!="number").map(a=>e[a]),i=Array.from(new Set(r.map(a=>typeof a)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:r}}function noe(t){return t.target==="openAi"?void 0:{not:ui({...t,currentPath:[...t.currentPath,"not"]})}}function roe(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const Qv={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function ioe(t,e){if(e.target==="openApi3")return g2(t,e);const n=t.options instanceof Map?Array.from(t.options.values()):t.options;if(n.every(r=>r._def.typeName in Qv&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((i,a)=>{const s=Qv[a._def.typeName];return s&&!i.includes(s)?[...i,s]:i},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((i,a)=>{const s=typeof a._def.value;switch(s){case"string":case"number":case"boolean":return[...i,s];case"bigint":return[...i,"integer"];case"object":return a._def.value===null?[...i,"null"]:i;case"symbol":case"undefined":case"function":default:return i}},[]);if(r.length===n.length){const i=r.filter((a,s,o)=>o.indexOf(a)===s);return{type:i.length>1?i:i[0],enum:n.reduce((a,s)=>a.includes(s._def.value)?a:[...a,s._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,i)=>[...r,...i._def.values.filter(a=>!r.includes(a))],[])};return g2(t,e)}const g2=(t,e)=>{const n=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((r,i)=>bt(r._def,{...e,currentPath:[...e.currentPath,"anyOf",`${i}`]})).filter(r=>!!r&&(!e.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function aoe(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:Qv[t.innerType._def.typeName],nullable:!0}:{type:[Qv[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const r=bt(t.innerType._def,{...e,currentPath:[...e.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const n=bt(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function soe(t,e){const n={type:"number"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"int":n.type="integer",Dz(n,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?_t(n,"minimum",r.value,r.message,e):_t(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),_t(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?_t(n,"maximum",r.value,r.message,e):_t(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),_t(n,"maximum",r.value,r.message,e));break;case"multipleOf":_t(n,"multipleOf",r.value,r.message,e);break}return n}function ooe(t,e){const n=e.target==="openAi",r={type:"object",properties:{}},i=[],a=t.shape();for(const o in a){let l=a[o];if(l===void 0||l._def===void 0)continue;let c=coe(l);c&&n&&(l._def.typeName==="ZodOptional"&&(l=l._def.innerType),l.isNullable()||(l=l.nullable()),c=!1);const d=bt(l._def,{...e,currentPath:[...e.currentPath,"properties",o],propertyPath:[...e.currentPath,"properties",o]});d!==void 0&&(r.properties[o]=d,c||i.push(o))}i.length&&(r.required=i);const s=loe(t,e);return s!==void 0&&(r.additionalProperties=s),r}function loe(t,e){if(t.catchall._def.typeName!=="ZodNever")return bt(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]});switch(t.unknownKeys){case"passthrough":return e.allowedAdditionalProperties;case"strict":return e.rejectedAdditionalProperties;case"strip":return e.removeAdditionalStrategy==="strict"?e.allowedAdditionalProperties:e.rejectedAdditionalProperties}}function coe(t){try{return t.isOptional()}catch{return!0}}const uoe=(t,e)=>{var r;if(e.currentPath.toString()===((r=e.propertyPath)==null?void 0:r.toString()))return bt(t.innerType._def,e);const n=bt(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return n?{anyOf:[{not:ui(e)},n]}:ui(e)},doe=(t,e)=>{if(e.pipeStrategy==="input")return bt(t.in._def,e);if(e.pipeStrategy==="output")return bt(t.out._def,e);const n=bt(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),r=bt(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(i=>i!==void 0)}};function foe(t,e){return bt(t.type._def,e)}function hoe(t,e){const r={type:"array",uniqueItems:!0,items:bt(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&_t(r,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&_t(r,"maxItems",t.maxSize.value,t.maxSize.message,e),r}function poe(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((n,r)=>bt(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:bt(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((n,r)=>bt(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function moe(t){return{not:ui(t)}}function goe(t){return ui(t)}const yoe=(t,e)=>bt(t.innerType._def,e),voe=(t,e,n)=>{switch(e){case fe.ZodString:return Wz(t,n);case fe.ZodNumber:return soe(t,n);case fe.ZodObject:return ooe(t,n);case fe.ZodBigInt:return Use(t,n);case fe.ZodBoolean:return Hse();case fe.ZodDate:return Hz(t,n);case fe.ZodUndefined:return moe(n);case fe.ZodNull:return roe(n);case fe.ZodArray:return zse(t,n);case fe.ZodUnion:case fe.ZodDiscriminatedUnion:return ioe(t,n);case fe.ZodIntersection:return Xse(t,n);case fe.ZodTuple:return poe(t,n);case fe.ZodRecord:return Vz(t,n);case fe.ZodLiteral:return Zse(t,n);case fe.ZodEnum:return Kse(t);case fe.ZodNativeEnum:return toe(t);case fe.ZodNullable:return aoe(t,n);case fe.ZodOptional:return uoe(t,n);case fe.ZodMap:return eoe(t,n);case fe.ZodSet:return hoe(t,n);case fe.ZodLazy:return()=>t.getter()._def;case fe.ZodPromise:return foe(t,n);case fe.ZodNaN:case fe.ZodNever:return noe(n);case fe.ZodEffects:return Gse(t,n);case fe.ZodAny:return ui(n);case fe.ZodUnknown:return goe(n);case fe.ZodDefault:return qse(t,n);case fe.ZodBranded:return Uz(t,n);case fe.ZodReadonly:return yoe(t,n);case fe.ZodCatch:return Wse(t,n);case fe.ZodPipeline:return doe(t,n);case fe.ZodFunction:case fe.ZodVoid:case fe.ZodSymbol:return;default:return(r=>{})()}};function bt(t,e,n=!1){var o;const r=e.seen.get(t);if(e.override){const l=(o=e.override)==null?void 0:o.call(e,t,e,r,n);if(l!==dse)return l}if(r&&!n){const l=xoe(r,e);if(l!==void 0)return l}const i={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,i);const a=voe(t,t.typeName,e),s=typeof a=="function"?bt(a(),e):a;if(s&&boe(t,e,s),e.postProcess){const l=e.postProcess(s,t,e);return i.jsonSchema=s,l}return i.jsonSchema=s,s}const xoe=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:Lz(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((n,r)=>e.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),ui(e)):e.$refStrategy==="seen"?ui(e):void 0}},boe=(t,e,n)=>(t.description&&(n.description=t.description,e.markdownDescription&&(n.markdownDescription=t.description)),n),woe=(t,e)=>{const n=pse(e);let r;const i=e==null?void 0:e.name,a=bt(t._def,n,!1)??ui(n);n.flags.hasReferencedOpenAiAnyType&&(r||(r={}),r[n.openAiAnyTypeName]||(r[n.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:n.$refStrategy==="relative"?"1":[...n.basePath,n.definitionPath,n.openAiAnyTypeName].join("/")}}));const s=i===void 0?r?{...a,[n.definitionPath]:r}:a:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,i].join("/"),[n.definitionPath]:{...r,[i]:a}};return n.target==="jsonSchema7"?s.$schema="http://json-schema.org/draft-07/schema#":(n.target==="jsonSchema2019-09"||n.target==="openAi")&&(s.$schema="https://json-schema.org/draft/2019-09/schema#"),n.target==="openAi"&&("anyOf"in s||"oneOf"in s||"allOf"in s||"type"in s&&Array.isArray(s.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),s};function xc(t,e){const n=typeof t;if(n!==typeof e)return!1;if(Array.isArray(t)){if(!Array.isArray(e))return!1;const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(!xc(t[i],e[i]))return!1;return!0}if(n==="object"){if(!t||!e)return t===e;const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(const s of r)if(!xc(t[s],e[s]))return!1;return!0}return t===e}function Xi(t){return encodeURI(_oe(t))}function _oe(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}const Soe={prefixItems:!0,items:!0,allOf:!0,anyOf:!0,oneOf:!0},Eoe={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependentSchemas:!0},joe={id:!0,$id:!0,$ref:!0,$schema:!0,$anchor:!0,$vocabulary:!0,$comment:!0,default:!0,enum:!0,const:!0,required:!0,type:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};let Aoe=typeof self<"u"&&self.location&&self.location.origin!=="null"?new URL(self.location.origin+self.location.pathname+location.search):new URL("https://github.com/cfworker");function Uo(t,e=Object.create(null),n=Aoe,r=""){if(t&&typeof t=="object"&&!Array.isArray(t)){const a=t.$id||t.id;if(a){const s=new URL(a,n.href);s.hash.length>1?e[s.href]=t:(s.hash="",r===""?n=s:Uo(t,e,n))}}else if(t!==!0&&t!==!1)return e;const i=n.href+(r?"#"+r:"");if(e[i]!==void 0)throw new Error(`Duplicate schema URI "${i}".`);if(e[i]=t,t===!0||t===!1)return e;if(t.__absolute_uri__===void 0&&Object.defineProperty(t,"__absolute_uri__",{enumerable:!1,value:i}),t.$ref&&t.__absolute_ref__===void 0){const a=new URL(t.$ref,n.href);a.hash=a.hash,Object.defineProperty(t,"__absolute_ref__",{enumerable:!1,value:a.href})}if(t.$recursiveRef&&t.__absolute_recursive_ref__===void 0){const a=new URL(t.$recursiveRef,n.href);a.hash=a.hash,Object.defineProperty(t,"__absolute_recursive_ref__",{enumerable:!1,value:a.href})}if(t.$anchor){const a=new URL("#"+t.$anchor,n.href);e[a.href]=t}for(let a in t){if(joe[a])continue;const s=`${r}/${Xi(a)}`,o=t[a];if(Array.isArray(o)){if(Soe[a]){const l=o.length;for(let c=0;c<l;c++)Uo(o[c],e,n,`${s}/${c}`)}}else if(Eoe[a])for(let l in o)Uo(o[l],e,n,`${s}/${Xi(l)}`);else Uo(o,e,n,s)}return e}const Coe=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Toe=[0,31,28,31,30,31,30,31,31,30,31,30,31],koe=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,Ooe=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,Noe=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Poe=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,Ioe=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)(?:\.(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,$oe=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,Roe=/^(?:\/(?:[^~/]|~0|~1)*)*$/,Moe=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,Loe=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,Doe=t=>{if(t[0]==='"')return!1;const[e,n,...r]=t.split("@");return!e||!n||r.length!==0||e.length>64||n.length>253||e[0]==="."||e.endsWith(".")||e.includes("..")||!/^[a-z0-9.-]+$/i.test(n)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(e)?!1:n.split(".").every(i=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(i))},Foe=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,Boe=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,zoe=t=>t.length>1&&t.length<80&&(/^P\d+([.,]\d+)?W$/.test(t)||/^P[\dYMDTHS]*(\d[.,]\d+)?[YMDHS]$/.test(t)&&/^P([.,\d]+Y)?([.,\d]+M)?([.,\d]+D)?(T([.,\d]+H)?([.,\d]+M)?([.,\d]+S)?)?$/.test(t));function $a(t){return t.test.bind(t)}const y2={date:qz,time:Gz.bind(void 0,!1),"date-time":Woe,duration:zoe,uri:Goe,"uri-reference":$a(Noe),"uri-template":$a(Poe),url:$a(Ioe),email:Doe,hostname:$a(Ooe),ipv4:$a(Foe),ipv6:$a(Boe),regex:Yoe,uuid:$a($oe),"json-pointer":$a(Roe),"json-pointer-uri-fragment":$a(Moe),"relative-json-pointer":$a(Loe)};function Uoe(t){return t%4===0&&(t%100!==0||t%400===0)}function qz(t){const e=t.match(Coe);if(!e)return!1;const n=+e[1],r=+e[2],i=+e[3];return r>=1&&r<=12&&i>=1&&i<=(r==2&&Uoe(n)?29:Toe[r])}function Gz(t,e){const n=e.match(koe);if(!n)return!1;const r=+n[1],i=+n[2],a=+n[3],s=!!n[5];return(r<=23&&i<=59&&a<=59||r==23&&i==59&&a==60)&&(!t||s)}const Hoe=/t|\s/i;function Woe(t){const e=t.split(Hoe);return e.length==2&&qz(e[0])&&Gz(!0,e[1])}const Voe=/\/|:/,qoe=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function Goe(t){return Voe.test(t)&&qoe.test(t)}const Koe=/[^\\]\\Z/;function Yoe(t){if(Koe.test(t))return!1;try{return new RegExp(t,"u"),!0}catch{return!1}}function Xoe(t){let e=0,n=t.length,r=0,i;for(;r<n;)e++,i=t.charCodeAt(r++),i>=55296&&i<=56319&&r<n&&(i=t.charCodeAt(r),(i&64512)==56320&&r++);return e}function Kt(t,e,n="2019-09",r=Uo(e),i=!0,a=null,s="#",o="#",l=Object.create(null)){if(e===!0)return{valid:!0,errors:[]};if(e===!1)return{valid:!1,errors:[{instanceLocation:s,keyword:"false",keywordLocation:s,error:"False boolean schema."}]};const c=typeof t;let d;switch(c){case"boolean":case"number":case"string":d=c;break;case"object":t===null?d="null":Array.isArray(t)?d="array":d="object";break;default:throw new Error(`Instances of "${c}" type are not supported.`)}const{$ref:f,$recursiveRef:h,$recursiveAnchor:p,type:m,const:g,enum:v,required:y,not:x,anyOf:b,allOf:_,oneOf:w,if:E,then:A,else:j,format:C,properties:T,patternProperties:O,additionalProperties:P,unevaluatedProperties:H,minProperties:R,maxProperties:B,propertyNames:U,dependentRequired:W,dependentSchemas:M,dependencies:D,prefixItems:N,items:V,additionalItems:G,unevaluatedItems:$,contains:te,minContains:ae,maxContains:I,minItems:k,maxItems:K,uniqueItems:F,minimum:Z,maximum:J,exclusiveMinimum:Y,exclusiveMaximum:ge,multipleOf:ce,minLength:ye,maxLength:se,pattern:Re,__absolute_ref__:Me,__absolute_recursive_ref__:Ie}=e,re=[];if(p===!0&&a===null&&(a=e),h==="#"){const we=a===null?r[Ie]:a,ve=`${o}/$recursiveRef`,be=Kt(t,a===null?e:a,n,r,i,we,s,ve,l);be.valid||re.push({instanceLocation:s,keyword:"$recursiveRef",keywordLocation:ve,error:"A subschema had errors."},...be.errors)}if(f!==void 0){const ve=r[Me||f];if(ve===void 0){let q=`Unresolved $ref "${f}".`;throw Me&&Me!==f&&(q+=`  Absolute URI "${Me}".`),q+=`
Known schemas:
- ${Object.keys(r).join(`
- `)}`,new Error(q)}const be=`${o}/$ref`,me=Kt(t,ve,n,r,i,a,s,be,l);if(me.valid||re.push({instanceLocation:s,keyword:"$ref",keywordLocation:be,error:"A subschema had errors."},...me.errors),n==="4"||n==="7")return{valid:re.length===0,errors:re}}if(Array.isArray(m)){let we=m.length,ve=!1;for(let be=0;be<we;be++)if(d===m[be]||m[be]==="integer"&&d==="number"&&t%1===0&&t===t){ve=!0;break}ve||re.push({instanceLocation:s,keyword:"type",keywordLocation:`${o}/type`,error:`Instance type "${d}" is invalid. Expected "${m.join('", "')}".`})}else m==="integer"?(d!=="number"||t%1||t!==t)&&re.push({instanceLocation:s,keyword:"type",keywordLocation:`${o}/type`,error:`Instance type "${d}" is invalid. Expected "${m}".`}):m!==void 0&&d!==m&&re.push({instanceLocation:s,keyword:"type",keywordLocation:`${o}/type`,error:`Instance type "${d}" is invalid. Expected "${m}".`});if(g!==void 0&&(d==="object"||d==="array"?xc(t,g)||re.push({instanceLocation:s,keyword:"const",keywordLocation:`${o}/const`,error:`Instance does not match ${JSON.stringify(g)}.`}):t!==g&&re.push({instanceLocation:s,keyword:"const",keywordLocation:`${o}/const`,error:`Instance does not match ${JSON.stringify(g)}.`})),v!==void 0&&(d==="object"||d==="array"?v.some(we=>xc(t,we))||re.push({instanceLocation:s,keyword:"enum",keywordLocation:`${o}/enum`,error:`Instance does not match any of ${JSON.stringify(v)}.`}):v.some(we=>t===we)||re.push({instanceLocation:s,keyword:"enum",keywordLocation:`${o}/enum`,error:`Instance does not match any of ${JSON.stringify(v)}.`})),x!==void 0){const we=`${o}/not`;Kt(t,x,n,r,i,a,s,we).valid&&re.push({instanceLocation:s,keyword:"not",keywordLocation:we,error:'Instance matched "not" schema.'})}let Ct=[];if(b!==void 0){const we=`${o}/anyOf`,ve=re.length;let be=!1;for(let me=0;me<b.length;me++){const q=b[me],X=Object.create(l),ie=Kt(t,q,n,r,i,p===!0?a:null,s,`${we}/${me}`,X);re.push(...ie.errors),be=be||ie.valid,ie.valid&&Ct.push(X)}be?re.length=ve:re.splice(ve,0,{instanceLocation:s,keyword:"anyOf",keywordLocation:we,error:"Instance does not match any subschemas."})}if(_!==void 0){const we=`${o}/allOf`,ve=re.length;let be=!0;for(let me=0;me<_.length;me++){const q=_[me],X=Object.create(l),ie=Kt(t,q,n,r,i,p===!0?a:null,s,`${we}/${me}`,X);re.push(...ie.errors),be=be&&ie.valid,ie.valid&&Ct.push(X)}be?re.length=ve:re.splice(ve,0,{instanceLocation:s,keyword:"allOf",keywordLocation:we,error:"Instance does not match every subschema."})}if(w!==void 0){const we=`${o}/oneOf`,ve=re.length,be=w.filter((me,q)=>{const X=Object.create(l),ie=Kt(t,me,n,r,i,p===!0?a:null,s,`${we}/${q}`,X);return re.push(...ie.errors),ie.valid&&Ct.push(X),ie.valid}).length;be===1?re.length=ve:re.splice(ve,0,{instanceLocation:s,keyword:"oneOf",keywordLocation:we,error:`Instance does not match exactly one subschema (${be} matches).`})}if((d==="object"||d==="array")&&Object.assign(l,...Ct),E!==void 0){const we=`${o}/if`;if(Kt(t,E,n,r,i,a,s,we,l).valid){if(A!==void 0){const be=Kt(t,A,n,r,i,a,s,`${o}/then`,l);be.valid||re.push({instanceLocation:s,keyword:"if",keywordLocation:we,error:'Instance does not match "then" schema.'},...be.errors)}}else if(j!==void 0){const be=Kt(t,j,n,r,i,a,s,`${o}/else`,l);be.valid||re.push({instanceLocation:s,keyword:"if",keywordLocation:we,error:'Instance does not match "else" schema.'},...be.errors)}}if(d==="object"){if(y!==void 0)for(const me of y)me in t||re.push({instanceLocation:s,keyword:"required",keywordLocation:`${o}/required`,error:`Instance does not have required property "${me}".`});const we=Object.keys(t);if(R!==void 0&&we.length<R&&re.push({instanceLocation:s,keyword:"minProperties",keywordLocation:`${o}/minProperties`,error:`Instance does not have at least ${R} properties.`}),B!==void 0&&we.length>B&&re.push({instanceLocation:s,keyword:"maxProperties",keywordLocation:`${o}/maxProperties`,error:`Instance does not have at least ${B} properties.`}),U!==void 0){const me=`${o}/propertyNames`;for(const q in t){const X=`${s}/${Xi(q)}`,ie=Kt(q,U,n,r,i,a,X,me);ie.valid||re.push({instanceLocation:s,keyword:"propertyNames",keywordLocation:me,error:`Property name "${q}" does not match schema.`},...ie.errors)}}if(W!==void 0){const me=`${o}/dependantRequired`;for(const q in W)if(q in t){const X=W[q];for(const ie of X)ie in t||re.push({instanceLocation:s,keyword:"dependentRequired",keywordLocation:me,error:`Instance has "${q}" but does not have "${ie}".`})}}if(M!==void 0)for(const me in M){const q=`${o}/dependentSchemas`;if(me in t){const X=Kt(t,M[me],n,r,i,a,s,`${q}/${Xi(me)}`,l);X.valid||re.push({instanceLocation:s,keyword:"dependentSchemas",keywordLocation:q,error:`Instance has "${me}" but does not match dependant schema.`},...X.errors)}}if(D!==void 0){const me=`${o}/dependencies`;for(const q in D)if(q in t){const X=D[q];if(Array.isArray(X))for(const ie of X)ie in t||re.push({instanceLocation:s,keyword:"dependencies",keywordLocation:me,error:`Instance has "${q}" but does not have "${ie}".`});else{const ie=Kt(t,X,n,r,i,a,s,`${me}/${Xi(q)}`);ie.valid||re.push({instanceLocation:s,keyword:"dependencies",keywordLocation:me,error:`Instance has "${q}" but does not match dependant schema.`},...ie.errors)}}}const ve=Object.create(null);let be=!1;if(T!==void 0){const me=`${o}/properties`;for(const q in T){if(!(q in t))continue;const X=`${s}/${Xi(q)}`,ie=Kt(t[q],T[q],n,r,i,a,X,`${me}/${Xi(q)}`);if(ie.valid)l[q]=ve[q]=!0;else if(be=i,re.push({instanceLocation:s,keyword:"properties",keywordLocation:me,error:`Property "${q}" does not match schema.`},...ie.errors),be)break}}if(!be&&O!==void 0){const me=`${o}/patternProperties`;for(const q in O){const X=new RegExp(q,"u"),ie=O[q];for(const ke in t){if(!X.test(ke))continue;const lt=`${s}/${Xi(ke)}`,Gt=Kt(t[ke],ie,n,r,i,a,lt,`${me}/${Xi(q)}`);Gt.valid?l[ke]=ve[ke]=!0:(be=i,re.push({instanceLocation:s,keyword:"patternProperties",keywordLocation:me,error:`Property "${ke}" matches pattern "${q}" but does not match associated schema.`},...Gt.errors))}}}if(!be&&P!==void 0){const me=`${o}/additionalProperties`;for(const q in t){if(ve[q])continue;const X=`${s}/${Xi(q)}`,ie=Kt(t[q],P,n,r,i,a,X,me);ie.valid?l[q]=!0:(be=i,re.push({instanceLocation:s,keyword:"additionalProperties",keywordLocation:me,error:`Property "${q}" does not match additional properties schema.`},...ie.errors))}}else if(!be&&H!==void 0){const me=`${o}/unevaluatedProperties`;for(const q in t)if(!l[q]){const X=`${s}/${Xi(q)}`,ie=Kt(t[q],H,n,r,i,a,X,me);ie.valid?l[q]=!0:re.push({instanceLocation:s,keyword:"unevaluatedProperties",keywordLocation:me,error:`Property "${q}" does not match unevaluated properties schema.`},...ie.errors)}}}else if(d==="array"){K!==void 0&&t.length>K&&re.push({instanceLocation:s,keyword:"maxItems",keywordLocation:`${o}/maxItems`,error:`Array has too many items (${t.length} > ${K}).`}),k!==void 0&&t.length<k&&re.push({instanceLocation:s,keyword:"minItems",keywordLocation:`${o}/minItems`,error:`Array has too few items (${t.length} < ${k}).`});const we=t.length;let ve=0,be=!1;if(N!==void 0){const me=`${o}/prefixItems`,q=Math.min(N.length,we);for(;ve<q;ve++){const X=Kt(t[ve],N[ve],n,r,i,a,`${s}/${ve}`,`${me}/${ve}`);if(l[ve]=!0,!X.valid&&(be=i,re.push({instanceLocation:s,keyword:"prefixItems",keywordLocation:me,error:"Items did not match schema."},...X.errors),be))break}}if(V!==void 0){const me=`${o}/items`;if(Array.isArray(V)){const q=Math.min(V.length,we);for(;ve<q;ve++){const X=Kt(t[ve],V[ve],n,r,i,a,`${s}/${ve}`,`${me}/${ve}`);if(l[ve]=!0,!X.valid&&(be=i,re.push({instanceLocation:s,keyword:"items",keywordLocation:me,error:"Items did not match schema."},...X.errors),be))break}}else for(;ve<we;ve++){const q=Kt(t[ve],V,n,r,i,a,`${s}/${ve}`,me);if(l[ve]=!0,!q.valid&&(be=i,re.push({instanceLocation:s,keyword:"items",keywordLocation:me,error:"Items did not match schema."},...q.errors),be))break}if(!be&&G!==void 0){const q=`${o}/additionalItems`;for(;ve<we;ve++){const X=Kt(t[ve],G,n,r,i,a,`${s}/${ve}`,q);l[ve]=!0,X.valid||(be=i,re.push({instanceLocation:s,keyword:"additionalItems",keywordLocation:q,error:"Items did not match additional items schema."},...X.errors))}}}if(te!==void 0)if(we===0&&ae===void 0)re.push({instanceLocation:s,keyword:"contains",keywordLocation:`${o}/contains`,error:"Array is empty. It must contain at least one item matching the schema."});else if(ae!==void 0&&we<ae)re.push({instanceLocation:s,keyword:"minContains",keywordLocation:`${o}/minContains`,error:`Array has less items (${we}) than minContains (${ae}).`});else{const me=`${o}/contains`,q=re.length;let X=0;for(let ie=0;ie<we;ie++){const ke=Kt(t[ie],te,n,r,i,a,`${s}/${ie}`,me);ke.valid?(l[ie]=!0,X++):re.push(...ke.errors)}X>=(ae||0)&&(re.length=q),ae===void 0&&I===void 0&&X===0?re.splice(q,0,{instanceLocation:s,keyword:"contains",keywordLocation:me,error:"Array does not contain item matching schema."}):ae!==void 0&&X<ae?re.push({instanceLocation:s,keyword:"minContains",keywordLocation:`${o}/minContains`,error:`Array must contain at least ${ae} items matching schema. Only ${X} items were found.`}):I!==void 0&&X>I&&re.push({instanceLocation:s,keyword:"maxContains",keywordLocation:`${o}/maxContains`,error:`Array may contain at most ${I} items matching schema. ${X} items were found.`})}if(!be&&$!==void 0){const me=`${o}/unevaluatedItems`;for(ve;ve<we;ve++){if(l[ve])continue;const q=Kt(t[ve],$,n,r,i,a,`${s}/${ve}`,me);l[ve]=!0,q.valid||re.push({instanceLocation:s,keyword:"unevaluatedItems",keywordLocation:me,error:"Items did not match unevaluated items schema."},...q.errors)}}if(F)for(let me=0;me<we;me++){const q=t[me],X=typeof q=="object"&&q!==null;for(let ie=0;ie<we;ie++){if(me===ie)continue;const ke=t[ie];(q===ke||X&&(typeof ke=="object"&&ke!==null)&&xc(q,ke))&&(re.push({instanceLocation:s,keyword:"uniqueItems",keywordLocation:`${o}/uniqueItems`,error:`Duplicate items at indexes ${me} and ${ie}.`}),me=Number.MAX_SAFE_INTEGER,ie=Number.MAX_SAFE_INTEGER)}}}else if(d==="number"){if(n==="4"?(Z!==void 0&&(Y===!0&&t<=Z||t<Z)&&re.push({instanceLocation:s,keyword:"minimum",keywordLocation:`${o}/minimum`,error:`${t} is less than ${Y?"or equal to ":""} ${Z}.`}),J!==void 0&&(ge===!0&&t>=J||t>J)&&re.push({instanceLocation:s,keyword:"maximum",keywordLocation:`${o}/maximum`,error:`${t} is greater than ${ge?"or equal to ":""} ${J}.`})):(Z!==void 0&&t<Z&&re.push({instanceLocation:s,keyword:"minimum",keywordLocation:`${o}/minimum`,error:`${t} is less than ${Z}.`}),J!==void 0&&t>J&&re.push({instanceLocation:s,keyword:"maximum",keywordLocation:`${o}/maximum`,error:`${t} is greater than ${J}.`}),Y!==void 0&&t<=Y&&re.push({instanceLocation:s,keyword:"exclusiveMinimum",keywordLocation:`${o}/exclusiveMinimum`,error:`${t} is less than ${Y}.`}),ge!==void 0&&t>=ge&&re.push({instanceLocation:s,keyword:"exclusiveMaximum",keywordLocation:`${o}/exclusiveMaximum`,error:`${t} is greater than or equal to ${ge}.`})),ce!==void 0){const we=t%ce;Math.abs(0-we)>=11920929e-14&&Math.abs(ce-we)>=11920929e-14&&re.push({instanceLocation:s,keyword:"multipleOf",keywordLocation:`${o}/multipleOf`,error:`${t} is not a multiple of ${ce}.`})}}else if(d==="string"){const we=ye===void 0&&se===void 0?0:Xoe(t);ye!==void 0&&we<ye&&re.push({instanceLocation:s,keyword:"minLength",keywordLocation:`${o}/minLength`,error:`String is too short (${we} < ${ye}).`}),se!==void 0&&we>se&&re.push({instanceLocation:s,keyword:"maxLength",keywordLocation:`${o}/maxLength`,error:`String is too long (${we} > ${se}).`}),Re!==void 0&&!new RegExp(Re,"u").test(t)&&re.push({instanceLocation:s,keyword:"pattern",keywordLocation:`${o}/pattern`,error:"String does not match pattern."}),C!==void 0&&y2[C]&&!y2[C](t)&&re.push({instanceLocation:s,keyword:"format",keywordLocation:`${o}/format`,error:`String does not match format "${C}".`})}return{valid:re.length===0,errors:re}}class Zoe{constructor(e,n="2019-09",r=!0){z(this,"schema");z(this,"draft");z(this,"shortCircuit");z(this,"lookup");this.schema=e,this.draft=n,this.shortCircuit=r,this.lookup=Uo(e)}validate(e){return Kt(e,this.schema,this.draft,this.lookup,this.shortCircuit)}addSchema(e,n){n&&(e={...e,$id:n}),Uo(e,this.lookup)}}var Joe={};wt(Joe,{Validator:()=>Zoe,deepCompareStrict:()=>xc,toJsonSchema:()=>xl,validatesOnlyStrings:()=>ev});function xl(t){if(hn(t)){const e=Mz(t,!0);if(Ja(e)){const n=Gv(e,!0);return JI(n)}else return JI(t)}return An(t)?woe(t):t}function ev(t){if(!t||typeof t!="object"||Object.keys(t).length===0||Array.isArray(t))return!1;if("type"in t)return typeof t.type=="string"?t.type==="string":Array.isArray(t.type)?t.type.every(e=>e==="string"):!1;if("enum"in t)return Array.isArray(t.enum)&&t.enum.length>0&&t.enum.every(e=>typeof e=="string");if("const"in t)return typeof t.const=="string";if("allOf"in t&&Array.isArray(t.allOf))return t.allOf.some(e=>ev(e));if("anyOf"in t&&Array.isArray(t.anyOf)||"oneOf"in t&&Array.isArray(t.oneOf)){const e="anyOf"in t?t.anyOf:t.oneOf;return e.length>0&&e.every(n=>ev(n))}if("not"in t)return!1;if("$ref"in t&&typeof t.$ref=="string"){const e=t.$ref,n=Uo(t);return n[e]?ev(n[e]):!1}return!1}function bl(t){return typeof t=="object"&&t!==null&&"type"in t&&typeof t.type=="string"&&"source_type"in t&&(t.source_type==="url"||t.source_type==="base64"||t.source_type==="text"||t.source_type==="id")}function VT(t){return bl(t)&&t.source_type==="url"&&"url"in t&&typeof t.url=="string"}function qT(t){return bl(t)&&t.source_type==="base64"&&"data"in t&&typeof t.data=="string"}function Qoe(t){return bl(t)&&t.source_type==="text"&&"text"in t&&typeof t.text=="string"}function Kz(t){return bl(t)&&t.source_type==="id"&&"id"in t&&typeof t.id=="string"}function Yz(t){if(bl(t)){if(t.source_type==="url")return{type:"image_url",image_url:{url:t.url}};if(t.source_type==="base64"){if(!t.mime_type)throw new Error("mime_type key is required for base64 data.");return{type:"image_url",image_url:{url:`data:${t.mime_type};base64,${t.data}`}}}}throw new Error("Unsupported source type. Only 'url' and 'base64' are supported.")}function ele(t){const e=t.split(";")[0].split("/");if(e.length!==2)throw new Error(`Invalid mime type: "${t}" - does not match type/subtype format.`);const n=e[0].trim(),r=e[1].trim();if(n===""||r==="")throw new Error(`Invalid mime type: "${t}" - type or subtype is empty.`);const i={};for(const a of t.split(";").slice(1)){const s=a.split("=");if(s.length!==2)throw new Error(`Invalid parameter syntax in mime type: "${t}".`);const o=s[0].trim(),l=s[1].trim();if(o==="")throw new Error(`Invalid parameter syntax in mime type: "${t}".`);i[o]=l}return{type:n,subtype:r,parameters:i}}function IE({dataUrl:t,asTypedArray:e=!1}){const n=t.match(/^data:(\w+\/\w+);base64,([A-Za-z0-9+/]+=*)$/);let r;if(n){r=n[1].toLowerCase();const i=e?Uint8Array.from(atob(n[2]),a=>a.charCodeAt(0)):n[2];return{mime_type:r,data:i}}}function tle(t,e){if(t.type==="text"){if(!e.fromStandardTextBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardTextBlock\` method.`);return e.fromStandardTextBlock(t)}if(t.type==="image"){if(!e.fromStandardImageBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardImageBlock\` method.`);return e.fromStandardImageBlock(t)}if(t.type==="audio"){if(!e.fromStandardAudioBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardAudioBlock\` method.`);return e.fromStandardAudioBlock(t)}if(t.type==="file"){if(!e.fromStandardFileBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardFileBlock\` method.`);return e.fromStandardFileBlock(t)}throw new Error(`Unable to convert content block type '${t.type}' to provider-specific format: not recognized.`)}var nle=function(t,e){if(typeof t!="string")throw new TypeError("Expected a string");return e=typeof e>"u"?"_":e,t.replace(/([a-z\d])([A-Z])/g,"$1"+e+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+e+"$2").toLowerCase()};const rle=at(nle);var Xz={exports:{}};const ile=/[\p{Lu}]/u,ale=/[\p{Ll}]/u,v2=/^[\p{Lu}](?![\p{Lu}])/gu,Zz=/([\p{Alpha}\p{N}_]|$)/u,Jz=/[_.\- ]+/,sle=new RegExp("^"+Jz.source),x2=new RegExp(Jz.source+Zz.source,"gu"),b2=new RegExp("\\d+"+Zz.source,"gu"),ole=(t,e,n)=>{let r=!1,i=!1,a=!1;for(let s=0;s<t.length;s++){const o=t[s];r&&ile.test(o)?(t=t.slice(0,s)+"-"+t.slice(s),r=!1,a=i,i=!0,s++):i&&a&&ale.test(o)?(t=t.slice(0,s-1)+"-"+t.slice(s-1),a=i,i=!1,r=!0):(r=e(o)===o&&n(o)!==o,a=i,i=n(o)===o&&e(o)!==o)}return t},lle=(t,e)=>(v2.lastIndex=0,t.replace(v2,n=>e(n))),cle=(t,e)=>(x2.lastIndex=0,b2.lastIndex=0,t.replace(x2,(n,r)=>e(r)).replace(b2,n=>e(n))),Qz=(t,e)=>{if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(t)?t=t.map(a=>a.trim()).filter(a=>a.length).join("-"):t=t.trim(),t.length===0)return"";const n=e.locale===!1?a=>a.toLowerCase():a=>a.toLocaleLowerCase(e.locale),r=e.locale===!1?a=>a.toUpperCase():a=>a.toLocaleUpperCase(e.locale);return t.length===1?e.pascalCase?r(t):n(t):(t!==n(t)&&(t=ole(t,n,r)),t=t.replace(sle,""),e.preserveConsecutiveUppercase?t=lle(t,n):t=n(t),e.pascalCase&&(t=r(t.charAt(0))+t.slice(1)),cle(t,r))};Xz.exports=Qz;Xz.exports.default=Qz;function ule(t,e){return(e==null?void 0:e[t])||rle(t)}function dle(t,e,n){const r={};for(const i in t)Object.hasOwn(t,i)&&(r[e(i,n)]=t[i]);return r}var fle={};wt(fle,{Serializable:()=>Dd,get_lc_unique_name:()=>GT});function w2(t){return Array.isArray(t)?[...t]:{...t}}function hle(t,e){const n=w2(t);for(const[r,i]of Object.entries(e)){const[a,...s]=r.split(".").reverse();let o=n;for(const l of s.reverse()){if(o[l]===void 0)break;o[l]=w2(o[l]),o=o[l]}o[a]!==void 0&&(o[a]={lc:1,type:"secret",id:[i]})}return n}function GT(t){const e=Object.getPrototypeOf(t);return typeof t.lc_name=="function"&&(typeof e.lc_name!="function"||t.lc_name()!==e.lc_name())?t.lc_name():t.name}var Dd=class eU{constructor(e,...n){z(this,"lc_serializable",!1);z(this,"lc_kwargs");this.lc_serializable_keys!==void 0?this.lc_kwargs=Object.fromEntries(Object.entries(e||{}).filter(([r])=>{var i;return(i=this.lc_serializable_keys)==null?void 0:i.includes(r)})):this.lc_kwargs=e??{}}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,GT(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof eU||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const e={},n={},r=Object.keys(this.lc_kwargs).reduce((i,a)=>(i[a]=a in this?this[a]:this.lc_kwargs[a],i),{});for(let i=Object.getPrototypeOf(this);i;i=Object.getPrototypeOf(i))Object.assign(e,Reflect.get(i,"lc_aliases",this)),Object.assign(n,Reflect.get(i,"lc_secrets",this)),Object.assign(r,Reflect.get(i,"lc_attributes",this));return Object.keys(n).forEach(i=>{let a=this,s=r;const[o,...l]=i.split(".").reverse();for(const c of l.reverse()){if(!(c in a)||a[c]===void 0)return;(!(c in s)||s[c]===void 0)&&(typeof a[c]=="object"&&a[c]!=null?s[c]={}:Array.isArray(a[c])&&(s[c]=[])),a=a[c],s=s[c]}o in a&&a[o]!==void 0&&(s[o]=s[o]||a[o])}),{lc:1,type:"constructor",id:this.lc_id,kwargs:dle(Object.keys(n).length?hle(r,n):r,ule,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}};function $e(t,e){return Ge(t)&&t.type===e}function Ge(t){return typeof t=="object"&&t!==null}function es(t){return Array.isArray(t)}function Se(t){return typeof t=="string"}function ea(t){return typeof t=="number"}function KT(t){return t instanceof Uint8Array}function _2(t){try{return JSON.parse(t)}catch{return}}const Wp=t=>t();function ple(t){if(t.type==="char_location"&&Se(t.document_title)&&ea(t.start_char_index)&&ea(t.end_char_index)&&Se(t.cited_text)){const{document_title:e,start_char_index:n,end_char_index:r,cited_text:i,...a}=t;return{...a,type:"citation",source:"char",title:e??void 0,startIndex:n,endIndex:r,citedText:i}}if(t.type==="page_location"&&Se(t.document_title)&&ea(t.start_page_number)&&ea(t.end_page_number)&&Se(t.cited_text)){const{document_title:e,start_page_number:n,end_page_number:r,cited_text:i,...a}=t;return{...a,type:"citation",source:"page",title:e??void 0,startIndex:n,endIndex:r,citedText:i}}if(t.type==="content_block_location"&&Se(t.document_title)&&ea(t.start_block_index)&&ea(t.end_block_index)&&Se(t.cited_text)){const{document_title:e,start_block_index:n,end_block_index:r,cited_text:i,...a}=t;return{...a,type:"citation",source:"block",title:e??void 0,startIndex:n,endIndex:r,citedText:i}}if(t.type==="web_search_result_location"&&Se(t.url)&&Se(t.title)&&Se(t.encrypted_index)&&Se(t.cited_text)){const{url:e,title:n,encrypted_index:r,cited_text:i,...a}=t;return{...a,type:"citation",source:"url",url:e,title:n,startIndex:Number(r),endIndex:Number(r),citedText:i}}if(t.type==="search_result_location"&&Se(t.source)&&Se(t.title)&&ea(t.start_block_index)&&ea(t.end_block_index)&&Se(t.cited_text)){const{source:e,title:n,start_block_index:r,end_block_index:i,cited_text:a,...s}=t;return{...s,type:"citation",source:"search",url:e,title:n??void 0,startIndex:r,endIndex:i,citedText:a}}}function tU(t){if($e(t,"document")&&Ge(t.source)&&"type"in t.source){if(t.source.type==="base64"&&Se(t.source.media_type)&&Se(t.source.data))return{type:"file",mimeType:t.source.media_type,data:t.source.data};if(t.source.type==="url"&&Se(t.source.url))return{type:"file",url:t.source.url};if(t.source.type==="file"&&Se(t.source.file_id))return{type:"file",fileId:t.source.file_id};if(t.source.type==="text"&&Se(t.source.data))return{type:"file",mimeType:String(t.source.media_type??"text/plain"),data:t.source.data}}else if($e(t,"image")&&Ge(t.source)&&"type"in t.source){if(t.source.type==="base64"&&Se(t.source.media_type)&&Se(t.source.data))return{type:"image",mimeType:t.source.media_type,data:t.source.data};if(t.source.type==="url"&&Se(t.source.url))return{type:"image",url:t.source.url};if(t.source.type==="file"&&Se(t.source.file_id))return{type:"image",fileId:t.source.file_id}}}function mle(t){function*e(){for(const n of t){const r=tU(n);r?yield r:yield n}}return Array.from(e())}function S2(t){function*e(){var r;const n=typeof t.content=="string"?[{type:"text",text:t.content}]:t.content;for(const i of n){if($e(i,"text")&&Se(i.text)){const{text:a,citations:s,...o}=i;if(es(s)&&s.length){const l=s.reduce((c,d)=>{const f=ple(d);return f?[...c,f]:c},[]);yield{...o,type:"text",text:a,annotations:l};continue}else{yield{...o,type:"text",text:a};continue}}else if($e(i,"thinking")&&Se(i.thinking)){const{thinking:a,signature:s,...o}=i;yield{...o,type:"reasoning",reasoning:a,signature:s};continue}else if($e(i,"redacted_thinking")){yield{type:"non_standard",value:i};continue}else if($e(i,"tool_use")&&Se(i.name)&&Se(i.id)){yield{type:"tool_call",id:i.id,name:i.name,args:i.input};continue}else if($e(i,"input_json_delta")){if(yle(t)&&((r=t.tool_call_chunks)!=null&&r.length)){const a=t.tool_call_chunks[0];yield{type:"tool_call_chunk",id:a.id,name:a.name,args:a.args,index:a.index};continue}}else if($e(i,"server_tool_use")&&Se(i.name)&&Se(i.id)){const{name:a,id:s}=i;if(a==="web_search"){const o=Wp(()=>{if(typeof i.input=="string")return i.input;if(Ge(i.input)&&Se(i.input.query))return i.input.query;if(Se(i.partial_json)){const l=_2(i.partial_json);if(l!=null&&l.query)return l.query}return""});yield{id:s,type:"server_tool_call",name:"web_search",args:{query:o}};continue}else if(i.name==="code_execution"){const o=Wp(()=>{if(typeof i.input=="string")return i.input;if(Ge(i.input)&&Se(i.input.code))return i.input.code;if(Se(i.partial_json)){const l=_2(i.partial_json);if(l!=null&&l.code)return l.code}return""});yield{id:s,type:"server_tool_call",name:"code_execution",args:{code:o}};continue}}else if($e(i,"web_search_tool_result")&&Se(i.tool_use_id)&&es(i.content)){const{content:a,tool_use_id:s}=i,o=a.reduce((l,c)=>$e(c,"web_search_result")?[...l,c.url]:l,[]);yield{type:"server_tool_call_result",name:"web_search",toolCallId:s,status:"success",output:{urls:o}};continue}else if($e(i,"code_execution_tool_result")&&Se(i.tool_use_id)&&Ge(i.content)){yield{type:"server_tool_call_result",name:"code_execution",toolCallId:i.tool_use_id,status:"success",output:i.content};continue}else if($e(i,"mcp_tool_use")){yield{id:i.id,type:"server_tool_call",name:"mcp_tool_use",args:i.input};continue}else if($e(i,"mcp_tool_result")&&Se(i.tool_use_id)&&Ge(i.content)){yield{type:"server_tool_call_result",name:"mcp_tool_use",toolCallId:i.tool_use_id,status:"success",output:i.content};continue}else if($e(i,"container_upload")){yield{type:"server_tool_call",name:"container_upload",args:i.input};continue}else if($e(i,"search_result")){yield{id:i.id,type:"non_standard",value:i};continue}else if($e(i,"tool_result")){yield{id:i.id,type:"non_standard",value:i};continue}else{const a=tU(i);if(a){yield a;continue}}yield{type:"non_standard",value:i}}}return Array.from(e())}const gle={translateContent:S2,translateContentChunk:S2};function yle(t){return typeof(t==null?void 0:t._getType)=="function"&&typeof t.concat=="function"&&t._getType()==="ai"}function vle(t){return VT(t)?{type:t.type,mimeType:t.mime_type,url:t.url,metadata:t.metadata}:qT(t)?{type:t.type,mimeType:t.mime_type??"application/octet-stream",data:t.data,metadata:t.metadata}:Kz(t)?{type:t.type,mimeType:t.mime_type,fileId:t.id,metadata:t.metadata}:t}function xle(t){return t.map(vle)}function ble(t){return!!($e(t,"image_url")&&Ge(t.image_url)||$e(t,"input_audio")&&Ge(t.input_audio)||$e(t,"file")&&Ge(t.file))}function wle(t){if($e(t,"image_url")&&Ge(t.image_url)&&Se(t.image_url.url)){const e=IE({dataUrl:t.image_url.url});return e?{type:"image",mimeType:e.mime_type,data:e.data}:{type:"image",url:t.image_url.url}}else{if($e(t,"input_audio")&&Ge(t.input_audio)&&Se(t.input_audio.data)&&Se(t.input_audio.format))return{type:"audio",data:t.input_audio.data,mimeType:`audio/${t.input_audio.format}`};if($e(t,"file")&&Ge(t.file)&&Se(t.file.data)){const e=IE({dataUrl:t.file.data});if(e)return{type:"file",data:e.data,mimeType:e.mime_type};if(Se(t.file.file_id))return{type:"file",fileId:t.file.file_id}}}return t}function _le(t){const e=[];typeof t.content=="string"?e.push({type:"text",text:t.content}):e.push(...YT(t.content));for(const n of t.tool_calls??[])e.push({type:"tool_call",id:n.id,name:n.name,args:n.args});return e}function Sle(t){const e=[];typeof t.content=="string"?e.push({type:"text",text:t.content}):e.push(...YT(t.content));for(const n of t.tool_calls??[])e.push({type:"tool_call",id:n.id,name:n.name,args:n.args});return e}function YT(t){const e=[];for(const n of t)ble(n)?e.push(wle(n)):e.push(n);return e}function Ele(t){if(t.type==="url_citation"){const{url:e,title:n,start_index:r,end_index:i}=t;return{type:"citation",url:e,title:n,startIndex:r,endIndex:i}}if(t.type==="file_citation"){const{file_id:e,filename:n,index:r}=t;return{type:"citation",title:n,startIndex:r,endIndex:r,fileId:e}}return t}function nU(t){function*e(){var r;Ge((r=t.additional_kwargs)==null?void 0:r.reasoning)&&es(t.additional_kwargs.reasoning.summary)&&(yield{type:"reasoning",reasoning:t.additional_kwargs.reasoning.summary.reduce((a,s)=>Ge(s)&&Se(s.text)?`${a}${s.text}`:a,"")});const n=typeof t.content=="string"?[{type:"text",text:t.content}]:t.content;for(const i of n)if($e(i,"text")){const{text:a,annotations:s,...o}=i;Array.isArray(s)?yield{...o,type:"text",text:String(a),annotations:s.map(Ele)}:yield{...o,type:"text",text:String(a)}}for(const i of t.tool_calls??[])yield{type:"tool_call",id:i.id,name:i.name,args:i.args};if(Ge(t.additional_kwargs)&&es(t.additional_kwargs.tool_outputs))for(const i of t.additional_kwargs.tool_outputs){if($e(i,"web_search_call")){yield{id:i.id,type:"server_tool_call",name:"web_search",args:{query:i.query}};continue}else if($e(i,"file_search_call")){yield{id:i.id,type:"server_tool_call",name:"file_search",args:{query:i.query}};continue}else if($e(i,"computer_call")){yield{type:"non_standard",value:i};continue}else if($e(i,"code_interpreter_call")){if(Se(i.code)&&(yield{id:i.id,type:"server_tool_call",name:"code_interpreter",args:{code:i.code}}),es(i.outputs)){const a=Wp(()=>{if(i.status!=="in_progress"){if(i.status==="completed")return 0;if(i.status==="incomplete")return 127;if(i.status!=="interpreting"&&i.status==="failed")return 1}});for(const s of i.outputs)if($e(s,"logs")){yield{type:"server_tool_call_result",toolCallId:i.id??"",status:"success",output:{type:"code_interpreter_output",returnCode:a??0,stderr:[0,void 0].includes(a)?void 0:String(s.logs),stdout:[0,void 0].includes(a)?String(s.logs):void 0}};continue}}continue}else if($e(i,"mcp_call")){yield{id:i.id,type:"server_tool_call",name:"mcp_call",args:i.input};continue}else if($e(i,"mcp_list_tools")){yield{id:i.id,type:"server_tool_call",name:"mcp_list_tools",args:i.input};continue}else if($e(i,"mcp_approval_request")){yield{type:"non_standard",value:i};continue}else if($e(i,"image_generation_call")){yield{type:"non_standard",value:i};continue}Ge(i)&&(yield{type:"non_standard",value:i})}}return Array.from(e())}function jle(t){function*e(){yield*nU(t);for(const n of t.tool_call_chunks??[])yield{type:"tool_call_chunk",id:n.id,name:n.name,args:n.args}}return Array.from(e())}const Ale={translateContent:t=>typeof t.content=="string"?_le(t):nU(t),translateContentChunk:t=>typeof t.content=="string"?Sle(t):jle(t)};function rU(t){return typeof t=="object"&&t!==null&&"type"in t&&"content"in t&&(typeof t.content=="string"||Array.isArray(t.content))}function Cle(t,e="pretty"){return e==="pretty"?Tle(t):JSON.stringify(t)}function Tle(t){const e=[],n=` ${t.type.charAt(0).toUpperCase()+t.type.slice(1)} Message `,r=Math.floor((80-n.length)/2),i="=".repeat(r),a=n.length%2===0?i:`${i}=`;if(e.push(`${i}${n}${a}`),t.type==="ai"){const s=t;if(s.tool_calls&&s.tool_calls.length>0){e.push("Tool Calls:");for(const o of s.tool_calls){e.push(`  ${o.name} (${o.id})`),e.push(` Call ID: ${o.id}`),e.push("  Args:");for(const[l,c]of Object.entries(o.args))e.push(`    ${l}: ${c}`)}}}if(t.type==="tool"){const s=t;s.name&&e.push(`Name: ${s.name}`)}return typeof t.content=="string"&&t.content.trim()&&(e.length>1&&e.push(""),e.push(t.content)),e.join(`
`)}const N_=Symbol.for("langchain.message");function eo(t,e){return typeof t=="string"?t===""?e:typeof e=="string"?t+e:Array.isArray(e)&&e.length===0?t:Array.isArray(e)&&e.some(n=>bl(n))?[{type:"text",source_type:"text",text:t},...e]:[{type:"text",text:t},...e]:Array.isArray(e)?Zm(t,e)??[...t,...e]:e===""?t:Array.isArray(t)&&t.some(n=>bl(n))?[...t,{type:"file",source_type:"text",text:e}]:[...t,{type:"text",text:e}]}function iU(t,e){return t==="error"||e==="error"?"error":"success"}function kle(t,e){function n(r,i){if(typeof r!="object"||r===null||r===void 0)return r;if(i>=e)return Array.isArray(r)?"[Array]":"[Object]";if(Array.isArray(r))return r.map(s=>n(s,i+1));const a={};for(const s of Object.keys(r))a[s]=n(r[s],i+1);return a}return JSON.stringify(n(t,0),null,2)}var e5,oo=class extends Dd{constructor(e){const n=typeof e=="string"||Array.isArray(e)?{content:e}:e;n.additional_kwargs||(n.additional_kwargs={}),n.response_metadata||(n.response_metadata={});super(n);z(this,"lc_namespace",["langchain_core","messages"]);z(this,"lc_serializable",!0);z(this,e5,!0);z(this,"id");z(this,"name");z(this,"content");z(this,"additional_kwargs");z(this,"response_metadata");this.name=n.name,n.content===void 0&&n.contentBlocks!==void 0?(this.content=n.contentBlocks,this.response_metadata={output_version:"v1",...n.response_metadata}):n.content!==void 0?(this.content=n.content??[],this.response_metadata=n.response_metadata):(this.content=[],this.response_metadata=n.response_metadata),this.additional_kwargs=n.additional_kwargs,this.id=n.id}get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}_getType(){return this.type}getType(){return this._getType()}get text(){return typeof this.content=="string"?this.content:Array.isArray(this.content)?this.content.map(e=>typeof e=="string"?e:e.type==="text"?e.text:"").join(""):""}get contentBlocks(){const e=typeof this.content=="string"?[{type:"text",text:this.content}]:this.content;return[xle,YT,mle].reduce((i,a)=>a(i),e)}toDict(){return{type:this.getType(),data:this.toJSON().kwargs}}static lc_name(){return"BaseMessage"}get _printableFields(){return{id:this.id,content:this.content,name:this.name,additional_kwargs:this.additional_kwargs,response_metadata:this.response_metadata}}static isInstance(e){return typeof e=="object"&&e!==null&&N_ in e&&e[N_]===!0&&rU(e)}_updateId(e){this.id=e,this.lc_kwargs.id=e}get[(e5=N_,Symbol.toStringTag)](){return this.constructor.lc_name()}[Symbol.for("nodejs.util.inspect.custom")](e){if(e===null)return this;const n=kle(this._printableFields,Math.max(4,e));return`${this.constructor.lc_name()} ${n}`}toFormattedString(e="pretty"){return Cle(this,e)}};function Ole(t){return Array.isArray(t)&&t.every(e=>typeof e.index=="number")}function Jn(t={},e={}){const n={...t};for(const[r,i]of Object.entries(e))if(n[r]==null)n[r]=i;else{if(i==null)continue;if(typeof n[r]!=typeof i||Array.isArray(n[r])!==Array.isArray(i))throw new Error(`field[${r}] already exists in the message chunk, but with a different type.`);if(typeof n[r]=="string"){if(r==="type")continue;["id","name","output_version","model_provider"].includes(r)?n[r]=i:n[r]+=i}else if(typeof n[r]=="object"&&!Array.isArray(n[r]))n[r]=Jn(n[r],i);else if(Array.isArray(n[r]))n[r]=Zm(n[r],i);else{if(n[r]===i)continue;console.warn(`field[${r}] already exists in this message chunk and value has unsupported type.`)}}return n}function Zm(t,e){if(!(t===void 0&&e===void 0)){if(t===void 0||e===void 0)return t||e;{const n=[...t];for(const r of e)if(typeof r=="object"&&r!==null&&"index"in r&&typeof r.index=="number"){const i=n.findIndex(a=>{const s=typeof a=="object",o="index"in a&&a.index===r.index,l="id"in a&&"id"in r&&(a==null?void 0:a.id)===(r==null?void 0:r.id),c=!("id"in a)||!(a!=null&&a.id)||!("id"in r)||!(r!=null&&r.id);return s&&o&&(l||c)});i!==-1&&typeof n[i]=="object"&&n[i]!==null?n[i]=Jn(n[i],r):n.push(r)}else{if(typeof r=="object"&&r!==null&&"text"in r&&r.text==="")continue;n.push(r)}return n}}}function aU(t,e){if(!t&&!e)throw new Error("Cannot merge two undefined objects.");if(!t||!e)return t||e;if(typeof t!=typeof e)throw new Error(`Cannot merge objects of different types.
Left ${typeof t}
Right ${typeof e}`);if(typeof t=="string"&&typeof e=="string")return t+e;if(Array.isArray(t)&&Array.isArray(e))return Zm(t,e);if(typeof t=="object"&&typeof e=="object")return Jn(t,e);if(t===e)return t;throw new Error(`Can not merge objects of different types.
Left ${t}
Right ${e}`)}var Ol=class sU extends oo{static isInstance(e){if(!super.isInstance(e))return!1;let n=Object.getPrototypeOf(e);for(;n!==null;){if(n===sU.prototype)return!0;n=Object.getPrototypeOf(n)}return!1}};function oU(t){return typeof t.role=="string"}function Ho(t){return typeof(t==null?void 0:t._getType)=="function"}function XT(t){return Ol.isInstance(t)}function $E(t,e=ob){t=t.trim();const n=t.indexOf("```");if(n===-1)return e(t);let r=t.substring(n+3);r.startsWith(`json
`)?r=r.substring(5):r.startsWith("json")?r=r.substring(4):r.startsWith(`
`)&&(r=r.substring(1));const i=r.indexOf("```");let a=r;return i!==-1&&(a=r.substring(0,i)),e(a.trim())}function ob(t){if(typeof t>"u")return null;try{return JSON.parse(t)}catch{}let e="";const n=[];let r=!1,i=!1;for(let a of t){if(r)a==='"'&&!i?r=!1:a===`
`&&!i?a="\\n":a==="\\"?i=!i:i=!1;else if(a==='"')r=!0,i=!1;else if(a==="{")n.push("}");else if(a==="[")n.push("]");else if(a==="}"||a==="]")if(n&&n[n.length-1]===a)n.pop();else return null;e+=a}r&&(e+='"');for(let a=n.length-1;a>=0;a-=1)e+=n[a];try{return JSON.parse(e)}catch{return null}}function ZT(t){switch(t){case"csv":return"text/csv";case"doc":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"docx":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"html":return"text/html";case"md":return"text/markdown";case"pdf":return"application/pdf";case"txt":return"text/plain";case"xls":return"application/vnd.ms-excel";case"xlsx":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"gif":return"image/gif";case"jpeg":return"image/jpeg";case"jpg":return"image/jpeg";case"png":return"image/png";case"webp":return"image/webp";case"flv":return"video/flv";case"mkv":return"video/mkv";case"mov":return"video/mov";case"mp4":return"video/mp4";case"mpeg":return"video/mpeg";case"mpg":return"video/mpg";case"three_gp":return"video/three_gp";case"webm":return"video/webm";case"wmv":return"video/wmv";default:return"application/octet-stream"}}function Nle(t){if(Ge(t.document)&&Ge(t.document.source)){const e=Ge(t.document)&&Se(t.document.format)?t.document.format:"",n=ZT(e);if(Ge(t.document.source)){if(Ge(t.document.source.s3Location)&&Se(t.document.source.s3Location.uri))return{type:"file",mimeType:n,fileId:t.document.source.s3Location.uri};if(KT(t.document.source.bytes))return{type:"file",mimeType:n,data:t.document.source.bytes};if(Se(t.document.source.text))return{type:"file",mimeType:n,data:Buffer.from(t.document.source.text).toString("base64")};if(es(t.document.source.content)){const r=t.document.source.content.reduce((i,a)=>Ge(a)&&Se(a.text)?i+a.text:i,"");return{type:"file",mimeType:n,data:r}}}}return{type:"non_standard",value:t}}function Ple(t){if($e(t,"image")&&Ge(t.image)){const e=Ge(t.image)&&Se(t.image.format)?t.image.format:"",n=ZT(e);if(Ge(t.image.source)){if(Ge(t.image.source.s3Location)&&Se(t.image.source.s3Location.uri))return{type:"image",mimeType:n,fileId:t.image.source.s3Location.uri};if(KT(t.image.source.bytes))return{type:"image",mimeType:n,data:t.image.source.bytes}}}return{type:"non_standard",value:t}}function Ile(t){if($e(t,"video")&&Ge(t.video)){const e=Ge(t.video)&&Se(t.video.format)?t.video.format:"",n=ZT(e);if(Ge(t.video.source)){if(Ge(t.video.source.s3Location)&&Se(t.video.source.s3Location.uri))return{type:"video",mimeType:n,fileId:t.video.source.s3Location.uri};if(KT(t.video.source.bytes))return{type:"video",mimeType:n,data:t.video.source.bytes}}}return{type:"non_standard",value:t}}function E2(t){function*e(){const n=typeof t.content=="string"?[{type:"text",text:t.content}]:t.content;for(const r of n){if($e(r,"cache_point")){yield{type:"non_standard",value:r};continue}else if($e(r,"citations_content")&&Ge(r.citationsContent)){const i=es(r.citationsContent.content)?r.citationsContent.content.reduce((s,o)=>Ge(o)&&Se(o.text)?s+o.text:s,""):"",a=es(r.citationsContent.citations)?r.citationsContent.citations.reduce((s,o)=>{if(Ge(o)){const l=es(o.sourceContent)?o.sourceContent.reduce((d,f)=>Ge(f)&&Se(f.text)?d+f.text:d,""):"",c=Wp(()=>{if(Ge(o.location)){const d=o.location.documentChar||o.location.documentPage||o.location.documentChunk;if(Ge(d))return{source:ea(d.documentIndex)?d.documentIndex.toString():void 0,startIndex:ea(d.start)?d.start:void 0,endIndex:ea(d.end)?d.end:void 0}}return{}});s.push({type:"citation",citedText:l,...c})}return s},[]):[];yield{type:"text",text:i,annotations:a};continue}else if($e(r,"document")&&Ge(r.document)){yield Nle(r);continue}else if($e(r,"guard_content")){yield{type:"non_standard",value:r};continue}else if($e(r,"image")&&Ge(r.image)){yield Ple(r);continue}else if($e(r,"reasoning_content")&&Se(r.reasoningText)){yield{type:"reasoning",reasoning:r.reasoningText};continue}else if($e(r,"text")&&Se(r.text)){yield{type:"text",text:r.text};continue}else if($e(r,"tool_result")){yield{type:"non_standard",value:r};continue}else{if($e(r,"tool_call"))continue;if($e(r,"video")&&Ge(r.video)){yield Ile(r);continue}}yield{type:"non_standard",value:r}}}return Array.from(e())}const $le={translateContent:E2,translateContentChunk:E2};function j2(t){function*e(){const n=typeof t.content=="string"?[{type:"text",text:t.content}]:t.content;for(const r of n){if($e(r,"text")&&Se(r.text)){yield{type:"text",text:r.text};continue}else if($e(r,"inlineData")&&Ge(r.inlineData)&&Se(r.inlineData.mimeType)&&Se(r.inlineData.data)){yield{type:"file",mimeType:r.inlineData.mimeType,data:r.inlineData.data};continue}else if($e(r,"functionCall")&&Ge(r.functionCall)&&Se(r.functionCall.name)&&Ge(r.functionCall.args)){yield{type:"tool_call",id:t.id,name:r.functionCall.name,args:r.functionCall.args};continue}else if($e(r,"functionResponse")){yield{type:"non_standard",value:r};continue}else if($e(r,"fileData")&&Ge(r.fileData)&&Se(r.fileData.mimeType)&&Se(r.fileData.fileUri)){yield{type:"file",mimeType:r.fileData.mimeType,fileId:r.fileData.fileUri};continue}else if($e(r,"executableCode")){yield{type:"non_standard",value:r};continue}else if($e(r,"codeExecutionResult")){yield{type:"non_standard",value:r};continue}yield{type:"non_standard",value:r}}}return Array.from(e())}const Rle={translateContent:j2,translateContentChunk:j2};function A2(t){function*e(){const n=typeof t.content=="string"?[{type:"text",text:t.content}]:t.content;for(const r of n){if($e(r,"reasoning")&&Se(r.reasoning)){const i=Wp(()=>{var s;const a=n.indexOf(r);if(es((s=t.additional_kwargs)==null?void 0:s.signatures)&&a>=0)return t.additional_kwargs.signatures.at(a)});Se(i)?yield{type:"reasoning",reasoning:r.reasoning,signature:i}:yield{type:"reasoning",reasoning:r.reasoning};continue}else if($e(r,"text")&&Se(r.text)){yield{type:"text",text:r.text};continue}else if($e(r,"image_url")){if(Se(r.image_url))if(r.image_url.startsWith("data:")){const i=/^data:([^;]+);base64,(.+)$/,a=r.image_url.match(i);a?yield{type:"image",data:a[2],mimeType:a[1]}:yield{type:"image",url:r.image_url}}else yield{type:"image",url:r.image_url};continue}else if($e(r,"media")&&Se(r.mimeType)&&Se(r.data)){yield{type:"file",mimeType:r.mimeType,data:r.data};continue}yield{type:"non_standard",value:r}}}return Array.from(e())}const Mle={translateContent:A2,translateContentChunk:A2};globalThis.lc_block_translators_registry??(globalThis.lc_block_translators_registry=new Map([["anthropic",gle],["bedrock-converse",$le],["google-genai",Rle],["google-vertexai",Mle],["openai",Ale]]));function lU(t){return globalThis.lc_block_translators_registry.get(t)}function cU(t,e){return Jn(t??{},e??{})}function uU(t,e){const n={};return((t==null?void 0:t.audio)!==void 0||(e==null?void 0:e.audio)!==void 0)&&(n.audio=((t==null?void 0:t.audio)??0)+((e==null?void 0:e.audio)??0)),((t==null?void 0:t.image)!==void 0||(e==null?void 0:e.image)!==void 0)&&(n.image=((t==null?void 0:t.image)??0)+((e==null?void 0:e.image)??0)),((t==null?void 0:t.video)!==void 0||(e==null?void 0:e.video)!==void 0)&&(n.video=((t==null?void 0:t.video)??0)+((e==null?void 0:e.video)??0)),((t==null?void 0:t.document)!==void 0||(e==null?void 0:e.document)!==void 0)&&(n.document=((t==null?void 0:t.document)??0)+((e==null?void 0:e.document)??0)),((t==null?void 0:t.text)!==void 0||(e==null?void 0:e.text)!==void 0)&&(n.text=((t==null?void 0:t.text)??0)+((e==null?void 0:e.text)??0)),n}function Lle(t,e){const n={...uU(t,e)};return((t==null?void 0:t.cache_read)!==void 0||(e==null?void 0:e.cache_read)!==void 0)&&(n.cache_read=((t==null?void 0:t.cache_read)??0)+((e==null?void 0:e.cache_read)??0)),((t==null?void 0:t.cache_creation)!==void 0||(e==null?void 0:e.cache_creation)!==void 0)&&(n.cache_creation=((t==null?void 0:t.cache_creation)??0)+((e==null?void 0:e.cache_creation)??0)),n}function Dle(t,e){const n={...uU(t,e)};return((t==null?void 0:t.reasoning)!==void 0||(e==null?void 0:e.reasoning)!==void 0)&&(n.reasoning=((t==null?void 0:t.reasoning)??0)+((e==null?void 0:e.reasoning)??0)),n}function dU(t,e){return{input_tokens:((t==null?void 0:t.input_tokens)??0)+((e==null?void 0:e.input_tokens)??0),output_tokens:((t==null?void 0:t.output_tokens)??0)+((e==null?void 0:e.output_tokens)??0),total_tokens:((t==null?void 0:t.total_tokens)??0)+((e==null?void 0:e.total_tokens)??0),input_token_details:Lle(t==null?void 0:t.input_token_details,e==null?void 0:e.input_token_details),output_token_details:Dle(t==null?void 0:t.output_token_details,e==null?void 0:e.output_token_details)}}var Fle={};wt(Fle,{ToolMessage:()=>kf,ToolMessageChunk:()=>Jm,defaultToolCallParser:()=>JT,isDirectToolOutput:()=>fU,isToolMessage:()=>hU,isToolMessageChunk:()=>pU});function fU(t){return t!=null&&typeof t=="object"&&"lc_direct_tool_output"in t&&t.lc_direct_tool_output===!0}var kf=class extends oo{constructor(e,n,r){const i=typeof e=="string"||Array.isArray(e)?{content:e,name:r,tool_call_id:n}:e;super(i);z(this,"lc_direct_tool_output",!0);z(this,"type","tool");z(this,"status");z(this,"tool_call_id");z(this,"metadata");z(this,"artifact");this.tool_call_id=i.tool_call_id,this.artifact=i.artifact,this.status=i.status,this.metadata=i.metadata}static lc_name(){return"ToolMessage"}get lc_aliases(){return{tool_call_id:"tool_call_id"}}static isInstance(e){return super.isInstance(e)&&e.type==="tool"}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}},Jm=class extends Ol{constructor(e){super(e);z(this,"type","tool");z(this,"tool_call_id");z(this,"status");z(this,"artifact");this.tool_call_id=e.tool_call_id,this.artifact=e.artifact,this.status=e.status}static lc_name(){return"ToolMessageChunk"}concat(e){const n=this.constructor;return new n({content:eo(this.content,e.content),additional_kwargs:Jn(this.additional_kwargs,e.additional_kwargs),response_metadata:Jn(this.response_metadata,e.response_metadata),artifact:aU(this.artifact,e.artifact),tool_call_id:this.tool_call_id,id:this.id??e.id,status:iU(this.status,e.status)})}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}};function JT(t){const e=[],n=[];for(const r of t)if(r.function){const i=r.function.name;try{const a=JSON.parse(r.function.arguments);e.push({name:i||"",args:a||{},id:r.id})}catch{n.push({name:i,args:r.function.arguments,id:r.id,error:"Malformed args."})}}else continue;return[e,n]}function hU(t){return typeof t=="object"&&t!==null&&"getType"in t&&typeof t.getType=="function"&&t.getType()==="tool"}function pU(t){return t._getType()==="tool"}var os=class extends oo{constructor(e){var r;let n;if(typeof e=="string"||Array.isArray(e))n={content:e,tool_calls:[],invalid_tool_calls:[],additional_kwargs:{}};else{n=e;const i=(r=n.additional_kwargs)==null?void 0:r.tool_calls,a=n.tool_calls;i!=null&&i.length>0&&(a===void 0||a.length===0)&&console.warn(["New LangChain packages are available that more efficiently handle",`tool calling.

Please upgrade your packages to versions that set`,"message tool calls. e.g., `pnpm install @langchain/anthropic`,","pnpm install @langchain/openai`, etc."].join(" "));try{if(i!=null&&a===void 0){const[s,o]=JT(i);n.tool_calls=s??[],n.invalid_tool_calls=o??[]}else n.tool_calls=n.tool_calls??[],n.invalid_tool_calls=n.invalid_tool_calls??[]}catch{n.tool_calls=[],n.invalid_tool_calls=[]}if(n.response_metadata!==void 0&&"output_version"in n.response_metadata&&n.response_metadata.output_version==="v1"&&(n.contentBlocks=n.content,n.content=void 0),n.contentBlocks!==void 0){n.contentBlocks.push(...n.tool_calls.map(o=>({type:"tool_call",id:o.id,name:o.name,args:o.args})));const s=n.contentBlocks.filter(o=>o.type==="tool_call").filter(o=>{var l;return!((l=n.tool_calls)!=null&&l.some(c=>c.id===o.id&&c.name===o.name))});s.length>0&&(n.tool_calls=s.map(o=>({type:"tool_call",id:o.id,name:o.name,args:o.args})))}}super(n);z(this,"type","ai");z(this,"tool_calls",[]);z(this,"invalid_tool_calls",[]);z(this,"usage_metadata");typeof n!="string"&&(this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls),this.usage_metadata=n.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls"}}static lc_name(){return"AIMessage"}get contentBlocks(){if(this.response_metadata&&"output_version"in this.response_metadata&&this.response_metadata.output_version==="v1")return this.content;if(this.response_metadata&&"model_provider"in this.response_metadata&&typeof this.response_metadata.model_provider=="string"){const n=lU(this.response_metadata.model_provider);if(n)return n.translateContent(this)}const e=super.contentBlocks;if(this.tool_calls){const n=this.tool_calls.filter(r=>!e.some(i=>i.id===r.id&&i.name===r.name));e.push(...n.map(r=>({...r,type:"tool_call",id:r.id,name:r.name,args:r.args})))}return e}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}static isInstance(e){return super.isInstance(e)&&e.type==="ai"}};function lb(t){return t._getType()==="ai"}function RE(t){return t._getType()==="ai"}var lo=class extends Ol{constructor(e){var r,i;let n;if(typeof e=="string"||Array.isArray(e))n={content:e,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else if(e.tool_call_chunks===void 0||e.tool_call_chunks.length===0)n={...e,tool_calls:e.tool_calls??[],invalid_tool_calls:[],tool_call_chunks:[],usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0};else{const s=(e.tool_call_chunks??[]).reduce((c,d)=>{const f=c.findIndex(([h])=>"id"in d&&d.id&&"index"in d&&d.index!==void 0?d.id===h.id&&d.index===h.index:"id"in d&&d.id?d.id===h.id:"index"in d&&d.index!==void 0?d.index===h.index:!1);return f!==-1?c[f].push(d):c.push([d]),c},[]),o=[],l=[];for(const c of s){let d=null;const f=((r=c[0])==null?void 0:r.name)??"",h=c.map(g=>g.args||"").join(""),p=h.length?h:"{}",m=(i=c[0])==null?void 0:i.id;try{if(d=ob(p),!m||d===null||typeof d!="object"||Array.isArray(d))throw new Error("Malformed tool call chunk args.");o.push({name:f,args:d,id:m,type:"tool_call"})}catch{l.push({name:f,args:p,id:m,error:"Malformed args.",type:"invalid_tool_call"})}}n={...e,tool_calls:o,invalid_tool_calls:l,usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0}}super(n);z(this,"type","ai");z(this,"tool_calls",[]);z(this,"invalid_tool_calls",[]);z(this,"tool_call_chunks",[]);z(this,"usage_metadata");this.tool_call_chunks=n.tool_call_chunks??this.tool_call_chunks,this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls,this.usage_metadata=n.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}get contentBlocks(){if(this.response_metadata&&"output_version"in this.response_metadata&&this.response_metadata.output_version==="v1")return this.content;if(this.response_metadata&&"model_provider"in this.response_metadata&&typeof this.response_metadata.model_provider=="string"){const n=lU(this.response_metadata.model_provider);if(n)return n.translateContent(this)}const e=super.contentBlocks;if(this.tool_calls&&typeof this.content!="string"){const n=this.content.filter(r=>r.type==="tool_call").map(r=>r.id);for(const r of this.tool_calls)r.id&&!n.includes(r.id)&&e.push({...r,type:"tool_call",id:r.id,name:r.name,args:r.args})}return e}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,tool_call_chunks:this.tool_call_chunks,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}concat(e){const n={content:eo(this.content,e.content),additional_kwargs:Jn(this.additional_kwargs,e.additional_kwargs),response_metadata:cU(this.response_metadata,e.response_metadata),tool_call_chunks:[],id:this.id??e.id};if(this.tool_call_chunks!==void 0||e.tool_call_chunks!==void 0){const i=Zm(this.tool_call_chunks,e.tool_call_chunks);i!==void 0&&i.length>0&&(n.tool_call_chunks=i)}(this.usage_metadata!==void 0||e.usage_metadata!==void 0)&&(n.usage_metadata=dU(this.usage_metadata,e.usage_metadata));const r=this.constructor;return new r(n)}static isInstance(e){return super.isInstance(e)&&e.type==="ai"}},Gc=class mU extends oo{constructor(n,r){(typeof n=="string"||Array.isArray(n))&&(n={content:n,role:r});super(n);z(this,"type","generic");z(this,"role");this.role=n.role}static lc_name(){return"ChatMessage"}static _chatMessageClass(){return mU}static isInstance(n){return super.isInstance(n)&&n.type==="generic"}get _printableFields(){return{...super._printableFields,role:this.role}}},Qm=class extends Ol{constructor(e,n){(typeof e=="string"||Array.isArray(e))&&(e={content:e,role:n});super(e);z(this,"type","generic");z(this,"role");this.role=e.role}static lc_name(){return"ChatMessageChunk"}concat(e){const n=this.constructor;return new n({content:eo(this.content,e.content),additional_kwargs:Jn(this.additional_kwargs,e.additional_kwargs),response_metadata:Jn(this.response_metadata,e.response_metadata),role:this.role,id:this.id??e.id})}static isInstance(e){return super.isInstance(e)&&e.type==="generic"}get _printableFields(){return{...super._printableFields,role:this.role}}};function Ble(t){return t._getType()==="generic"}function zle(t){return t._getType()==="generic"}var cb=class extends oo{constructor(e){super(e);z(this,"type","function");z(this,"name");this.name=e.name}static lc_name(){return"FunctionMessage"}},eg=class extends Ol{constructor(){super(...arguments);z(this,"type","function")}static lc_name(){return"FunctionMessageChunk"}concat(e){const n=this.constructor;return new n({content:eo(this.content,e.content),additional_kwargs:Jn(this.additional_kwargs,e.additional_kwargs),response_metadata:Jn(this.response_metadata,e.response_metadata),name:this.name??"",id:this.id??e.id})}};function Ule(t){return t._getType()==="function"}function Hle(t){return t._getType()==="function"}var ba=class extends oo{constructor(e){super(e);z(this,"type","human")}static lc_name(){return"HumanMessage"}static isInstance(e){return super.isInstance(e)&&e.type==="human"}},tg=class extends Ol{constructor(e){super(e);z(this,"type","human")}static lc_name(){return"HumanMessageChunk"}concat(e){const n=this.constructor;return new n({content:eo(this.content,e.content),additional_kwargs:Jn(this.additional_kwargs,e.additional_kwargs),response_metadata:Jn(this.response_metadata,e.response_metadata),id:this.id??e.id})}static isInstance(e){return super.isInstance(e)&&e.type==="human"}};function Wle(t){return t.getType()==="human"}function Vle(t){return t.getType()==="human"}var ls=class tv extends oo{constructor(n){super(n);z(this,"type","system")}static lc_name(){return"SystemMessage"}concat(n){if(typeof n=="string")return new tv({...this,content:eo(this.content,n)});if(tv.isInstance(n))return new tv({...this,additional_kwargs:{...this.additional_kwargs,...n.additional_kwargs},response_metadata:{...this.response_metadata,...n.response_metadata},content:eo(this.content,n.content)});throw new Error("Unexpected chunk type for system message")}static isInstance(n){return super.isInstance(n)&&n.type==="system"}},wl=class extends Ol{constructor(e){super(e);z(this,"type","system")}static lc_name(){return"SystemMessageChunk"}concat(e){const n=this.constructor;return new n({content:eo(this.content,e.content),additional_kwargs:Jn(this.additional_kwargs,e.additional_kwargs),response_metadata:Jn(this.response_metadata,e.response_metadata),id:this.id??e.id})}static isInstance(e){return super.isInstance(e)&&e.type==="system"}};function qle(t){return t._getType()==="system"}function Gle(t){return t._getType()==="system"}function gU(t,e){return t.lc_error_code=e,t.message=`${t.message}

Troubleshooting URL: https://docs.langchain.com/oss/javascript/langchain/errors/${e}/
`,t}function yU(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="tool_call")}var Kle=class extends Error{constructor(e,n){super(e);z(this,"output");this.output=n}},e0=class extends oo{constructor(e){super({...e,content:[]});z(this,"type","remove");z(this,"id");this.id=e.id}get _printableFields(){return{...super._printableFields,id:this.id}}static isInstance(e){return super.isInstance(e)&&e.type==="remove"}};const Yle=t=>t();function Xle(t){return yU(t)?t:typeof t.id=="string"&&t.type==="function"&&typeof t.function=="object"&&t.function!==null&&"arguments"in t.function&&typeof t.function.arguments=="string"&&"name"in t.function&&typeof t.function.name=="string"?{id:t.id,args:JSON.parse(t.function.arguments),name:t.function.name,type:"tool_call"}:t}function Zle(t){return typeof t=="object"&&t!=null&&t.lc===1&&Array.isArray(t.id)&&t.kwargs!=null&&typeof t.kwargs=="object"}function P_(t){let e,n;if(Zle(t)){const r=t.id.at(-1);r==="HumanMessage"||r==="HumanMessageChunk"?e="user":r==="AIMessage"||r==="AIMessageChunk"?e="assistant":r==="SystemMessage"||r==="SystemMessageChunk"?e="system":r==="FunctionMessage"||r==="FunctionMessageChunk"?e="function":r==="ToolMessage"||r==="ToolMessageChunk"?e="tool":e="unknown",n=t.kwargs}else{const{type:r,...i}=t;e=r,n=i}if(e==="human"||e==="user")return new ba(n);if(e==="ai"||e==="assistant"){const{tool_calls:r,...i}=n;if(!Array.isArray(r))return new os(n);const a=r.map(Xle);return new os({...i,tool_calls:a})}else{if(e==="system")return new ls(n);if(e==="developer")return new ls({...n,additional_kwargs:{...n.additional_kwargs,__openai_role__:"developer"}});if(e==="tool"&&"tool_call_id"in n)return new kf({...n,content:n.content,tool_call_id:n.tool_call_id,name:n.name});if(e==="remove"&&"id"in n&&typeof n.id=="string")return new e0({...n,id:n.id});throw gU(new Error(`Unable to coerce message from array: only human, AI, system, developer, or tool message coercion is currently supported.

Received: ${JSON.stringify(t,null,2)}`),"MESSAGE_COERCION_FAILURE")}}function Zh(t){if(typeof t=="string")return new ba(t);if(Ho(t))return t;if(Array.isArray(t)){const[e,n]=t;return P_({type:e,content:n})}else if(oU(t)){const{role:e,...n}=t;return P_({...n,type:e})}else return P_(t)}function QT(t,e="Human",n="AI"){const r=[];for(const i of t){let a;if(i._getType()==="human")a=e;else if(i._getType()==="ai")a=n;else if(i._getType()==="system")a="System";else if(i._getType()==="tool")a="Tool";else if(i._getType()==="generic")a=i.role;else throw new Error(`Got unsupported message type: ${i._getType()}`);const s=i.name?`${i.name}, `:"",o=typeof i.content=="string"?i.content:JSON.stringify(i.content,null,2);r.push(`${a}: ${s}${o}`)}return r.join(`
`)}function Jle(t){if(t.data!==void 0)return t;{const e=t;return{type:e.type,data:{content:e.text,role:e.role,name:void 0,tool_call_id:void 0}}}}function ek(t){const e=Jle(t);switch(e.type){case"human":return new ba(e.data);case"ai":return new os(e.data);case"system":return new ls(e.data);case"function":if(e.data.name===void 0)throw new Error("Name must be defined for function messages");return new cb(e.data);case"tool":if(e.data.tool_call_id===void 0)throw new Error("Tool call ID must be defined for tool messages");return new kf(e.data);case"generic":if(e.data.role===void 0)throw new Error("Role must be defined for chat messages");return new Gc(e.data);default:throw new Error(`Got unexpected type: ${e.type}`)}}function Qle(t){return t.map(ek)}function ece(t){return t.map(e=>e.toDict())}function t0(t){var n;const e=t._getType();if(e==="human")return new tg({...t});if(e==="ai"){let r={...t};return"tool_calls"in r&&(r={...r,tool_call_chunks:(n=r.tool_calls)==null?void 0:n.map(i=>({...i,type:"tool_call_chunk",index:void 0,args:JSON.stringify(i.args)}))}),new lo({...r})}else{if(e==="system")return new wl({...t});if(e==="function")return new eg({...t});if(Gc.isInstance(t))return new Qm({...t});throw new Error("Unknown message type.")}}var I_={},tce={};wt(tce,{getEnv:()=>_U,getEnvironmentVariable:()=>Bs,getRuntimeEnvironment:()=>SU,isBrowser:()=>vU,isDeno:()=>ub,isJsDom:()=>bU,isNode:()=>wU,isWebWorker:()=>xU});const vU=()=>typeof window<"u"&&typeof window.document<"u",xU=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",bU=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),ub=()=>typeof Deno<"u",wU=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!ub(),_U=()=>{let t;return vU()?t="browser":wU()?t="node":xU()?t="webworker":bU()?t="jsdom":ub()?t="deno":t="other",t};let $_;function SU(){return $_===void 0&&($_={library:"langchain-js",runtime:_U()}),$_}function Bs(t){try{return typeof process<"u"?I_==null?void 0:I_[t]:ub()?Deno==null?void 0:Deno.env.get(t):void 0}catch{return}}const nce=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function Jh(t){return typeof t=="string"&&nce.test(t)}function rce(t){if(!Jh(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}var Mn=[];for(var R_=0;R_<256;++R_)Mn.push((R_+256).toString(16).slice(1));function tk(t,e=0){return(Mn[t[e+0]]+Mn[t[e+1]]+Mn[t[e+2]]+Mn[t[e+3]]+"-"+Mn[t[e+4]]+Mn[t[e+5]]+"-"+Mn[t[e+6]]+Mn[t[e+7]]+"-"+Mn[t[e+8]]+Mn[t[e+9]]+"-"+Mn[t[e+10]]+Mn[t[e+11]]+Mn[t[e+12]]+Mn[t[e+13]]+Mn[t[e+14]]+Mn[t[e+15]]).toLowerCase()}var ny,ice=new Uint8Array(16);function EU(){if(!ny&&(ny=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ny))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ny(ice)}function ace(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var sce="6ba7b810-9dad-11d1-80b4-00c04fd430c8",oce="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function lce(t,e,n){function r(i,a,s,o){var l;if(typeof i=="string"&&(i=ace(i)),typeof a=="string"&&(a=rce(a)),((l=a)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(a),c.set(i,a.length),c=n(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,s){o=o||0;for(var d=0;d<16;++d)s[o+d]=c[d];return s}return tk(c)}try{r.name=t}catch{}return r.DNS=sce,r.URL=oce,r}var cce=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const C2={randomUUID:cce};function jr(t,e,n){if(C2.randomUUID&&!e&&!t)return C2.randomUUID();t=t||{};var r=t.random||(t.rng||EU)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,tk(r)}function uce(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function M_(t,e){return t<<e|t>>>32-e}function dce(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var a=t.length/4+2,s=Math.ceil(a/16),o=new Array(s),l=0;l<s;++l){for(var c=new Uint32Array(16),d=0;d<16;++d)c[d]=t[l*64+d*4]<<24|t[l*64+d*4+1]<<16|t[l*64+d*4+2]<<8|t[l*64+d*4+3];o[l]=c}o[s-1][14]=(t.length-1)*8/Math.pow(2,32),o[s-1][14]=Math.floor(o[s-1][14]),o[s-1][15]=(t.length-1)*8&4294967295;for(var f=0;f<s;++f){for(var h=new Uint32Array(80),p=0;p<16;++p)h[p]=o[f][p];for(var m=16;m<80;++m)h[m]=M_(h[m-3]^h[m-8]^h[m-14]^h[m-16],1);for(var g=n[0],v=n[1],y=n[2],x=n[3],b=n[4],_=0;_<80;++_){var w=Math.floor(_/20),E=M_(g,5)+uce(w,v,y,x)+b+e[w]+h[_]>>>0;b=x,x=y,y=M_(v,30)>>>0,v=g,g=E}n[0]=n[0]+g>>>0,n[1]=n[1]+v>>>0,n[2]=n[2]+y>>>0,n[3]=n[3]+x>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var Oh=lce("v5",80,dce),T2=null,k2=null,qi=0;function fce(t,e,n){t=t||{};var r=e&&n||0,i=e||new Uint8Array(16),a=t.random||(t.rng||EU)(),s=t.msecs!==void 0?t.msecs:Date.now(),o=t.seq!==void 0?t.seq:null,l=k2,c=T2;return s>qi&&t.msecs===void 0&&(qi=s,o!==null&&(l=null,c=null)),o!==null&&(o>2147483647&&(o=2147483647),l=o>>>19&4095,c=o&524287),(l===null||c===null)&&(l=a[6]&127,l=l<<8|a[7],c=a[8]&63,c=c<<8|a[9],c=c<<5|a[10]>>>3),s+1e4>qi&&o===null?++c>524287&&(c=0,++l>4095&&(l=0,qi++)):qi=s,k2=l,T2=c,i[r++]=qi/1099511627776&255,i[r++]=qi/4294967296&255,i[r++]=qi/16777216&255,i[r++]=qi/65536&255,i[r++]=qi/256&255,i[r++]=qi&255,i[r++]=l>>>4&15|112,i[r++]=l&255,i[r++]=c>>>13&63|128,i[r++]=c>>>5&255,i[r++]=c<<3&255|a[10]&7,i[r++]=a[11],i[r++]=a[12],i[r++]=a[13],i[r++]=a[14],i[r++]=a[15],e||tk(i)}var hce={};wt(hce,{BaseCallbackHandler:()=>ng,callbackHandlerPrefersStreaming:()=>jU,isBaseCallbackHandler:()=>AU});var pce=class{};function jU(t){return"lc_prefer_streaming"in t&&t.lc_prefer_streaming}var ng=class extends pce{constructor(e){super();z(this,"lc_serializable",!1);z(this,"lc_kwargs");z(this,"ignoreLLM",!1);z(this,"ignoreChain",!1);z(this,"ignoreAgent",!1);z(this,"ignoreRetriever",!1);z(this,"ignoreCustomEvent",!1);z(this,"raiseError",!1);z(this,"awaitHandlers",Bs("LANGCHAIN_CALLBACKS_BACKGROUND")==="false");this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever,this.ignoreCustomEvent=e.ignoreCustomEvent??this.ignoreCustomEvent,this.raiseError=e.raiseError??this.raiseError,this.awaitHandlers=this.raiseError||(e._awaitHandler??this.awaitHandlers))}get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,GT(this.constructor)]}copy(){return new this.constructor(this)}toJSON(){return Dd.prototype.toJSON.call(this)}toJSONNotImplemented(){return Dd.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){class n extends ng{constructor(){super();z(this,"name",jr());Object.assign(this,e)}}return new n}};const AU=t=>{const e=t;return e!==void 0&&typeof e.copy=="function"&&typeof e.name=="string"&&typeof e.awaitHandlers=="boolean"},mce="gen_ai.operation.name",gce="gen_ai.system",O2="gen_ai.request.model",yce="gen_ai.response.model",N2="gen_ai.usage.input_tokens",P2="gen_ai.usage.output_tokens",I2="gen_ai.usage.total_tokens",vce="gen_ai.request.max_tokens",xce="gen_ai.request.temperature",bce="gen_ai.request.top_p",wce="gen_ai.request.frequency_penalty",_ce="gen_ai.request.presence_penalty",Sce="gen_ai.response.finish_reasons",Ece="gen_ai.prompt",jce="gen_ai.completion",Ace="gen_ai.request.extra_query",Cce="gen_ai.request.extra_body",Tce="gen_ai.serialized.name",kce="gen_ai.serialized.signature",Oce="gen_ai.serialized.doc",Nce="gen_ai.response.id",Pce="gen_ai.response.service_tier",Ice="gen_ai.response.system_fingerprint",$ce="gen_ai.usage.input_token_details",Rce="gen_ai.usage.output_token_details",Mce="langsmith.trace.session_id",Lce="langsmith.trace.session_name",Dce="langsmith.span.kind",Fce="langsmith.trace.name",Bce="langsmith.metadata",$2="langsmith.span.tags",zce="langsmith.request.streaming",Uce="langsmith.request.headers",Hce=(...t)=>fetch(...t),CU=Symbol.for("ls:fetch_implementation"),Wce=()=>{const t=globalThis[CU];return t?typeof t=="function"&&"Headers"in t&&"Request"in t&&"Response"in t:!1},Vce=t=>async(...e)=>{if(t||Ar("DEBUG")==="true"){const[r,i]=e;console.log(` ${(i==null?void 0:i.method)||"GET"} ${r}`)}const n=await(globalThis[CU]??Hce)(...e);return(t||Ar("DEBUG")==="true")&&console.log(` ${n.status} ${n.statusText} ${n.url}`),n},TU=()=>Ar("PROJECT")??cs("LANGCHAIN_SESSION")??"default",R2={};function ME(t){R2[t]||(console.warn(t),R2[t]=!0)}const qce=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Ye(t,e){if(!qce.test(t)){const n=e!==void 0?`Invalid UUID for ${e}: ${t}`:`Invalid UUID: ${t}`;throw new Error(n)}return t}function Gce(t){const e=typeof t=="string"?Date.parse(t):t;return fce({msecs:e,seq:0})}const kU="0.3.82";var Qh={};let Ra;const Kce=()=>typeof window<"u"&&typeof window.document<"u",Yce=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",Xce=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),OU=()=>typeof Deno<"u",Zce=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!OU(),NU=()=>Ra||(typeof Bun<"u"?Ra="bun":Kce()?Ra="browser":Zce()?Ra="node":Yce()?Ra="webworker":Xce()?Ra="jsdom":OU()?Ra="deno":Ra="other",Ra);let L_;function PU(){if(L_===void 0){const t=NU(),e=Qce();L_={library:"langsmith",runtime:t,sdk:"langsmith-js",sdk_version:kU,...e}}return L_}function IU(){const t=Jce(),e={},n=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION","LANGSMITH_API_KEY","LANGSMITH_ENDPOINT","LANGSMITH_TRACING_V2","LANGSMITH_PROJECT","LANGSMITH_SESSION"];for(const[r,i]of Object.entries(t))typeof i=="string"&&!n.includes(r)&&!r.toLowerCase().includes("key")&&!r.toLowerCase().includes("secret")&&!r.toLowerCase().includes("token")&&(r==="LANGCHAIN_REVISION_ID"?e.revision_id=i:e[r]=i);return e}function Jce(){const t={};try{if(typeof process<"u"&&Qh)for(const[e,n]of Object.entries(Qh))(e.startsWith("LANGCHAIN_")||e.startsWith("LANGSMITH_"))&&n!=null&&((e.toLowerCase().includes("key")||e.toLowerCase().includes("secret")||e.toLowerCase().includes("token"))&&typeof n=="string"?t[e]=n.slice(0,2)+"*".repeat(n.length-4)+n.slice(-2):t[e]=n)}catch{}return t}function cs(t){try{return typeof process<"u"?Qh==null?void 0:Qh[t]:void 0}catch{return}}function Ar(t){return cs(`LANGSMITH_${t}`)||cs(`LANGCHAIN_${t}`)}let D_;function Qce(){if(D_!==void 0)return D_;const t=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],e={};for(const n of t){const r=cs(n);r!==void 0&&(e[n]=r)}return D_=e,e}function $U(){return cs("OTEL_ENABLED")==="true"||Ar("OTEL_ENABLED")==="true"}class eue{constructor(){Object.defineProperty(this,"hasWarned",{enumerable:!0,configurable:!0,writable:!0,value:!1})}startActiveSpan(e,...n){!this.hasWarned&&$U()&&(console.warn('You have enabled OTEL export via the `OTEL_ENABLED` or `LANGSMITH_OTEL_ENABLED` environment variable, but have not initialized the required OTEL instances. Please add:\n```\nimport { initializeOTEL } from "langsmith/experimental/otel/setup";\ninitializeOTEL();\n```\nat the beginning of your code.'),this.hasWarned=!0);let r;if(n.length===1&&typeof n[0]=="function"?r=n[0]:n.length===2&&typeof n[1]=="function"?r=n[1]:n.length===3&&typeof n[2]=="function"&&(r=n[2]),typeof r=="function")return r()}}class tue{constructor(){Object.defineProperty(this,"mockTracer",{enumerable:!0,configurable:!0,writable:!0,value:new eue})}getTracer(e,n){return this.mockTracer}getActiveSpan(){}setSpan(e,n){return e}getSpan(e){}setSpanContext(e,n){return e}getTracerProvider(){}setGlobalTracerProvider(e){return!1}}class nue{active(){return{}}with(e,n){return n()}}const F_=Symbol.for("ls:otel_trace"),B_=Symbol.for("ls:otel_context"),M2=Symbol.for("ls:otel_get_default_otlp_tracer_provider"),rue=new tue,iue=new nue;class aue{getTraceInstance(){return globalThis[F_]??rue}getContextInstance(){return globalThis[B_]??iue}initializeGlobalInstances(e){globalThis[F_]===void 0&&(globalThis[F_]=e.trace),globalThis[B_]===void 0&&(globalThis[B_]=e.context)}setDefaultOTLPTracerComponents(e){globalThis[M2]=e}getDefaultOTLPTracerComponents(){return globalThis[M2]??void 0}}const nk=new aue;function RU(){return nk.getTraceInstance()}function sue(){return nk.getContextInstance()}function oue(){return nk.getDefaultOTLPTracerComponents()}const lue={llm:"chat",tool:"execute_tool",retriever:"embeddings",embedding:"embeddings",prompt:"chat"};function cue(t){return lue[t]||t}class uue{constructor(){Object.defineProperty(this,"spans",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}exportBatch(e,n){for(const r of e)try{if(!r.run)continue;if(r.operation==="post"){const i=this.createSpanForRun(r,r.run,n.get(r.id));i&&!r.run.end_time&&this.spans.set(r.id,i)}else this.updateSpanForRun(r,r.run)}catch(i){console.error(`Error processing operation ${r.id}:`,i)}}createSpanForRun(e,n,r){const i=r&&RU().getSpan(r);if(i)try{return this.finishSpanSetup(i,n,e)}catch(a){console.error(`Failed to create span for run ${e.id}:`,a);return}}finishSpanSetup(e,n,r){return this.setSpanAttributes(e,n,r),n.error?(e.setStatus({code:2}),e.recordException(new Error(n.error))):e.setStatus({code:1}),n.end_time&&e.end(new Date(n.end_time)),e}updateSpanForRun(e,n){try{const r=this.spans.get(e.id);if(!r){console.debug(`No span found for run ${e.id} during update`);return}this.setSpanAttributes(r,n,e),n.error?(r.setStatus({code:2}),r.recordException(new Error(n.error))):r.setStatus({code:1});const i=n.end_time;i&&(r.end(new Date(i)),this.spans.delete(e.id))}catch(r){console.error(`Failed to update span for run ${e.id}:`,r)}}extractModelName(e){var n;if((n=e.extra)!=null&&n.metadata){const r=e.extra.metadata;if(r.ls_model_name)return r.ls_model_name;if(r.invocation_params){const i=r.invocation_params;if(i.model)return i.model;if(i.model_name)return i.model_name}}}setSpanAttributes(e,n,r){var o;if("run_type"in n&&n.run_type){e.setAttribute(Dce,n.run_type);const l=cue(n.run_type||"chain");e.setAttribute(mce,l)}"name"in n&&n.name&&e.setAttribute(Fce,n.name),"session_id"in n&&n.session_id&&e.setAttribute(Mce,n.session_id),"session_name"in n&&n.session_name&&e.setAttribute(Lce,n.session_name),this.setGenAiSystem(e,n);const i=this.extractModelName(n);i&&e.setAttribute(O2,i),"prompt_tokens"in n&&typeof n.prompt_tokens=="number"&&e.setAttribute(N2,n.prompt_tokens),"completion_tokens"in n&&typeof n.completion_tokens=="number"&&e.setAttribute(P2,n.completion_tokens),"total_tokens"in n&&typeof n.total_tokens=="number"&&e.setAttribute(I2,n.total_tokens),this.setInvocationParameters(e,n);const a=((o=n.extra)==null?void 0:o.metadata)||{};for(const[l,c]of Object.entries(a))c!=null&&e.setAttribute(`${Bce}.${l}`,String(c));const s=n.tags;if(s&&Array.isArray(s)?e.setAttribute($2,s.join(", ")):s&&e.setAttribute($2,String(s)),"serialized"in n&&typeof n.serialized=="object"){const l=n.serialized;l.name&&e.setAttribute(Tce,String(l.name)),l.signature&&e.setAttribute(kce,String(l.signature)),l.doc&&e.setAttribute(Oce,String(l.doc))}this.setIOAttributes(e,r)}setGenAiSystem(e,n){let r="langchain";const i=this.extractModelName(n);if(i){const a=i.toLowerCase();a.includes("anthropic")||a.startsWith("claude")?r="anthropic":a.includes("bedrock")?r="aws.bedrock":a.includes("azure")&&a.includes("openai")?r="az.ai.openai":a.includes("azure")&&a.includes("inference")?r="az.ai.inference":a.includes("cohere")?r="cohere":a.includes("deepseek")?r="deepseek":a.includes("gemini")?r="gemini":a.includes("groq")?r="groq":a.includes("watson")||a.includes("ibm")?r="ibm.watsonx.ai":a.includes("mistral")?r="mistral_ai":a.includes("gpt")||a.includes("openai")?r="openai":a.includes("perplexity")||a.includes("sonar")?r="perplexity":a.includes("vertex")?r="vertex_ai":(a.includes("xai")||a.includes("grok"))&&(r="xai")}e.setAttribute(gce,r)}setInvocationParameters(e,n){var i,a;if(!((a=(i=n.extra)==null?void 0:i.metadata)!=null&&a.invocation_params))return;const r=n.extra.metadata.invocation_params;r.max_tokens!==void 0&&e.setAttribute(vce,r.max_tokens),r.temperature!==void 0&&e.setAttribute(xce,r.temperature),r.top_p!==void 0&&e.setAttribute(bce,r.top_p),r.frequency_penalty!==void 0&&e.setAttribute(wce,r.frequency_penalty),r.presence_penalty!==void 0&&e.setAttribute(_ce,r.presence_penalty)}setIOAttributes(e,n){if(n.run.inputs)try{const r=n.run.inputs;typeof r=="object"&&r!==null&&(r.model&&Array.isArray(r.messages)&&e.setAttribute(O2,r.model),r.stream!==void 0&&e.setAttribute(zce,r.stream),r.extra_headers&&e.setAttribute(Uce,JSON.stringify(r.extra_headers)),r.extra_query&&e.setAttribute(Ace,JSON.stringify(r.extra_query)),r.extra_body&&e.setAttribute(Cce,JSON.stringify(r.extra_body))),e.setAttribute(Ece,JSON.stringify(r))}catch(r){console.debug(`Failed to process inputs for run ${n.id}`,r)}if(n.run.outputs)try{const r=n.run.outputs,i=this.getUnifiedRunTokens(r);if(i&&(e.setAttribute(N2,i[0]),e.setAttribute(P2,i[1]),e.setAttribute(I2,i[0]+i[1])),r&&typeof r=="object"){if(r.model&&e.setAttribute(yce,String(r.model)),r.id&&e.setAttribute(Nce,r.id),r.choices&&Array.isArray(r.choices)){const a=r.choices.map(s=>s.finish_reason).filter(s=>s).map(String);a.length>0&&e.setAttribute(Sce,a.join(", "))}if(r.service_tier&&e.setAttribute(Pce,r.service_tier),r.system_fingerprint&&e.setAttribute(Ice,r.system_fingerprint),r.usage_metadata&&typeof r.usage_metadata=="object"){const a=r.usage_metadata;a.input_token_details&&e.setAttribute($ce,JSON.stringify(a.input_token_details)),a.output_token_details&&e.setAttribute(Rce,JSON.stringify(a.output_token_details))}}e.setAttribute(jce,JSON.stringify(r))}catch(r){console.debug(`Failed to process outputs for run ${n.id}`,r)}}getUnifiedRunTokens(e){if(!e)return null;let n=this.extractUnifiedRunTokens(e.usage_metadata);if(n)return n;const r=Object.keys(e);for(const s of r){const o=e[s];if(!(!o||typeof o!="object")&&(n=this.extractUnifiedRunTokens(o.usage_metadata),n||o.lc===1&&o.kwargs&&typeof o.kwargs=="object"&&(n=this.extractUnifiedRunTokens(o.kwargs.usage_metadata),n)))return n}const i=e.generations||[];if(!Array.isArray(i))return null;const a=Array.isArray(i[0])?i.flat():i;for(const s of a)if(typeof s=="object"&&s.message&&typeof s.message=="object"&&s.message.kwargs&&typeof s.message.kwargs=="object"&&(n=this.extractUnifiedRunTokens(s.message.kwargs.usage_metadata),n))return n;return null}extractUnifiedRunTokens(e){return!e||typeof e!="object"||typeof e.input_tokens!="number"||typeof e.output_tokens!="number"?null:[e.input_tokens,e.output_tokens]}}const due=Object.prototype.toString,fue=t=>due.call(t)==="[object Error]",hue=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function pue(t){if(!(t&&fue(t)&&t.name==="TypeError"&&typeof t.message=="string"))return!1;const{message:n,stack:r}=t;return n==="Load failed"?r===void 0||"__sentry_captured__"in t:n.startsWith("error sending request for url")?!0:hue.has(n)}function mue(t){if(typeof t=="number"){if(t<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(t))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(t!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function ry(t,e,{min:n=0,allowInfinity:r=!1}={}){if(e!==void 0){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected \`${t}\` to be a number${r?" or Infinity":""}.`);if(!r&&!Number.isFinite(e))throw new TypeError(`Expected \`${t}\` to be a finite number.`);if(e<n)throw new TypeError(`Expected \`${t}\` to be  ${n}.`)}}let gue=class extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}};function yue(t,e){const n=Math.max(1,t+1),r=e.randomize?Math.random()+1:1;let i=Math.round(r*e.minTimeout*e.factor**(n-1));return i=Math.min(i,e.maxTimeout),i}function L2(t,e){return Number.isFinite(e)?e-(performance.now()-t):e}async function vue({error:t,attemptNumber:e,retriesConsumed:n,startTime:r,options:i}){var p,m,g;const a=t instanceof Error?t:new TypeError(`Non-error was thrown: "${t}". You should only throw errors.`);if(a instanceof gue)throw a.originalError;const s=Number.isFinite(i.retries)?Math.max(0,i.retries-n):i.retries,o=i.maxRetryTime??Number.POSITIVE_INFINITY,l=Object.freeze({error:a,attemptNumber:e,retriesLeft:s,retriesConsumed:n});if(await i.onFailedAttempt(l),L2(r,o)<=0)throw a;const c=await i.shouldConsumeRetry(l),d=L2(r,o);if(d<=0||s<=0)throw a;if(a instanceof TypeError&&!pue(a)){if(c)throw a;return(p=i.signal)==null||p.throwIfAborted(),!1}if(!await i.shouldRetry(l))throw a;if(!c)return(m=i.signal)==null||m.throwIfAborted(),!1;const f=yue(n,i),h=Math.min(f,d);return h>0&&await new Promise((v,y)=>{var _,w;const x=()=>{var E;clearTimeout(b),(E=i.signal)==null||E.removeEventListener("abort",x),y(i.signal.reason)},b=setTimeout(()=>{var E;(E=i.signal)==null||E.removeEventListener("abort",x),v()},h);i.unref&&((_=b.unref)==null||_.call(b)),(w=i.signal)==null||w.addEventListener("abort",x,{once:!0})}),(g=i.signal)==null||g.throwIfAborted(),!0}async function xue(t,e={}){var a,s,o;if(e={...e},mue(e.retries),Object.hasOwn(e,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");e.retries??(e.retries=10),e.factor??(e.factor=2),e.minTimeout??(e.minTimeout=1e3),e.maxTimeout??(e.maxTimeout=Number.POSITIVE_INFINITY),e.maxRetryTime??(e.maxRetryTime=Number.POSITIVE_INFINITY),e.randomize??(e.randomize=!1),e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.shouldConsumeRetry??(e.shouldConsumeRetry=()=>!0),ry("factor",e.factor,{min:0,allowInfinity:!1}),ry("minTimeout",e.minTimeout,{min:0,allowInfinity:!1}),ry("maxTimeout",e.maxTimeout,{min:0,allowInfinity:!0}),ry("maxRetryTime",e.maxRetryTime,{min:0,allowInfinity:!0}),e.factor>0||(e.factor=1),(a=e.signal)==null||a.throwIfAborted();let n=0,r=0;const i=performance.now();for(;!Number.isFinite(e.retries)||r<=e.retries;){n++;try{(s=e.signal)==null||s.throwIfAborted();const l=await t(n);return(o=e.signal)==null||o.throwIfAborted(),l}catch(l){await vue({error:l,attemptNumber:n,retriesConsumed:r,startTime:i,options:e})&&r++}}throw new Error("Retry attempts exhausted without throwing an error.")}var MU={},LU={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function a(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||l,h),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},o.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,h,p,m){var g=n?n+c:c;if(!this._events[g])return!1;var v=this._events[g],y=arguments.length,x,b;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,m),!0}for(b=1,x=new Array(y-1);b<y;b++)x[b-1]=arguments[b];v.fn.apply(v.context,x)}else{var _=v.length,w;for(b=0;b<_;b++)switch(v[b].once&&this.removeListener(c,v[b].fn,void 0,!0),y){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,f);break;case 4:v[b].fn.call(v[b].context,d,f,h);break;default:if(!x)for(w=1,x=new Array(y-1);w<y;w++)x[w-1]=arguments[w];v[b].fn.apply(v[b].context,x)}}return!0},o.prototype.on=function(c,d,f){return a(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return a(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,h){var p=n?n+c:c;if(!this._events[p])return this;if(!d)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&s(this,p);else{for(var g=0,v=[],y=m.length;g<y;g++)(m[g].fn!==d||h&&!m[g].once||f&&m[g].context!==f)&&v.push(m[g]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(LU);var DU=LU.exports;const bue=at(DU);var db={exports:{}},wue=(t,e)=>(e=e||(()=>{}),t.then(n=>new Promise(r=>{r(e())}).then(()=>n),n=>new Promise(r=>{r(e())}).then(()=>{throw n})));const _ue=wue;class FU extends Error{constructor(e){super(e),this.name="TimeoutError"}}const BU=(t,e,n)=>new Promise((r,i)=>{if(typeof e!="number"||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===1/0){r(t);return}const a=setTimeout(()=>{if(typeof n=="function"){try{r(n())}catch(l){i(l)}return}const s=typeof n=="string"?n:`Promise timed out after ${e} milliseconds`,o=n instanceof Error?n:new FU(s);typeof t.cancel=="function"&&t.cancel(),i(o)},e);_ue(t.then(r,i),()=>{clearTimeout(a)})});db.exports=BU;db.exports.default=BU;db.exports.TimeoutError=FU;var Sue=db.exports,rk={},ik={};Object.defineProperty(ik,"__esModule",{value:!0});function Eue(t,e,n){let r=0,i=t.length;for(;i>0;){const a=i/2|0;let s=r+a;n(t[s],e)<=0?(r=++s,i-=a+1):i=a}return r}ik.default=Eue;Object.defineProperty(rk,"__esModule",{value:!0});const jue=ik;class Aue{constructor(){this._queue=[]}enqueue(e,n){n=Object.assign({priority:0},n);const r={priority:n.priority,run:e};if(this.size&&this._queue[this.size-1].priority>=n.priority){this._queue.push(r);return}const i=jue.default(this._queue,r,(a,s)=>s.priority-a.priority);this._queue.splice(i,0,r)}dequeue(){const e=this._queue.shift();return e==null?void 0:e.run}filter(e){return this._queue.filter(n=>n.priority===e.priority).map(n=>n.run)}get size(){return this._queue.length}}rk.default=Aue;Object.defineProperty(MU,"__esModule",{value:!0});const Cue=DU,zU=Sue,Tue=rk,iy=()=>{},kue=new zU.TimeoutError;class Oue extends Cue{constructor(e){var n,r,i,a;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=iy,this._resolveIdle=iy,e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:Tue.default},e),!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(r=(n=e.intervalCap)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(a=(i=e.interval)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||e.interval===0,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=e.throwOnTimeout===!0,this._isPaused=e.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=iy,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=iy,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(this._intervalId===void 0){const n=this._intervalEnd-e;if(n<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},n)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const n=this._queue.dequeue();return n?(this.emit("active"),n(),e&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,n={}){return new Promise((r,i)=>{const a=async()=>{this._pendingCount++,this._intervalCount++;try{const s=this._timeout===void 0&&n.timeout===void 0?e():zU.default(Promise.resolve(e()),n.timeout===void 0?this._timeout:n.timeout,()=>{(n.throwOnTimeout===void 0?this._throwOnTimeout:n.throwOnTimeout)&&i(kue)});r(await s)}catch(s){i(s)}this._next()};this._queue.enqueue(a,n),this._tryToStartAnother(),this.emit("add")})}async addAll(e,n){return Promise.all(e.map(async r=>this.add(r,n)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(e=>{const n=this._resolveEmpty;this._resolveEmpty=()=>{n(),e()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(e=>{const n=this._resolveIdle;this._resolveIdle=()=>{n(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}var zs=MU.default=Oue;const Nue=[408,425,429,500,502,503,504];let D2=class{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxQueueSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queueSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.maxQueueSizeBytes=e.maxQueueSizeBytes,"default"in zs?this.queue=new zs.default({concurrency:this.maxConcurrency}):this.queue=new zs({concurrency:this.maxConcurrency}),this.onFailedResponseHook=e==null?void 0:e.onFailedResponseHook}call(e,...n){return this.callWithOptions({},e,...n)}callWithOptions(e,n,...r){const i=e.sizeBytes??0;if(this.maxQueueSizeBytes!==void 0&&i>0&&this.queueSizeBytes+i>this.maxQueueSizeBytes)return Promise.reject(new Error(`Queue size limit (${this.maxQueueSizeBytes} bytes) exceeded. Current queue size: ${this.queueSizeBytes} bytes, attempted addition: ${i} bytes.`));i>0&&(this.queueSizeBytes+=i);const a=this.onFailedResponseHook;let s=this.queue.add(()=>xue(()=>n(...r).catch(o=>{throw o instanceof Error?o:new Error(o)}),{async onFailedAttempt({error:o}){if(o.message.startsWith("Cancel")||o.message.startsWith("TimeoutError")||o.name==="TimeoutError"||o.message.startsWith("AbortError")||(o==null?void 0:o.code)==="ECONNABORTED")throw o;const l=o==null?void 0:o.response;if(a&&await a(l))return;const c=(l==null?void 0:l.status)??(o==null?void 0:o.status);if(c&&!Nue.includes(+c))throw o},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0});return i>0&&(s=s.finally(()=>{this.queueSizeBytes-=i})),e.signal?Promise.race([s,new Promise((o,l)=>{var c;(c=e.signal)==null||c.addEventListener("abort",()=>{l(new Error("AbortError"))})})]):s}};function F2(t){return typeof(t==null?void 0:t._getType)=="function"}function B2(t){const e={type:t._getType(),data:{content:t.content}};return t!=null&&t.additional_kwargs&&Object.keys(t.additional_kwargs).length>0&&(e.data.additional_kwargs={...t.additional_kwargs}),e}var LE={exports:{}};const Pue="2.0.0",UU=256,Iue=Number.MAX_SAFE_INTEGER||9007199254740991,$ue=16,Rue=UU-6,Mue=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var fb={MAX_LENGTH:UU,MAX_SAFE_COMPONENT_LENGTH:$ue,MAX_SAFE_BUILD_LENGTH:Rue,MAX_SAFE_INTEGER:Iue,RELEASE_TYPES:Mue,SEMVER_SPEC_VERSION:Pue,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},z_={};const Lue=typeof process=="object"&&z_&&z_.NODE_DEBUG&&/\bsemver\b/i.test(z_.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var hb=Lue;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=fb,a=hb;e=t.exports={};const s=e.re=[],o=e.safeRe=[],l=e.src=[],c=e.t={};let d=0;const f="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[f,r]],p=g=>{for(const[v,y]of h)g=g.split(`${v}*`).join(`${v}{0,${y}}`).split(`${v}+`).join(`${v}{1,${y}}`);return g},m=(g,v,y)=>{const x=p(v),b=d++;a(g,b,v),c[g]=b,l[b]=v,s[b]=new RegExp(v,y?"g":void 0),o[b]=new RegExp(x,y?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),m("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${l[c.NUMERICIDENTIFIER]}|${l[c.NONNUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NUMERICIDENTIFIERLOOSE]}|${l[c.NONNUMERICIDENTIFIER]})`),m("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${f}+`),m("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),m("FULL",`^${l[c.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),m("LOOSE",`^${l[c.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),m("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),m("COERCE",`${l[c.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",l[c.COERCEPLAIN]+`(?:${l[c.PRERELEASE]})?(?:${l[c.BUILD]})?(?:$|[^\\d])`),m("COERCERTL",l[c.COERCE],!0),m("COERCERTLFULL",l[c.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",m("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",m("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(LE,LE.exports);var rg=LE.exports;const Due=Object.freeze({loose:!0}),Fue=Object.freeze({}),Bue=t=>t?typeof t!="object"?Due:t:Fue;var ak=Bue;const z2=/^[0-9]+$/,HU=(t,e)=>{const n=z2.test(t),r=z2.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},zue=(t,e)=>HU(e,t);var WU={compareIdentifiers:HU,rcompareIdentifiers:zue};const ay=hb,{MAX_LENGTH:U2,MAX_SAFE_INTEGER:sy}=fb,{safeRe:H2,t:W2}=rg,Uue=ak,{compareIdentifiers:du}=WU;let Hue=class La{constructor(e,n){if(n=Uue(n),e instanceof La){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>U2)throw new TypeError(`version is longer than ${U2} characters`);ay("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=e.trim().match(n.loose?H2[W2.LOOSE]:H2[W2.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>sy||this.major<0)throw new TypeError("Invalid major version");if(this.minor>sy||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>sy||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const a=+i;if(a>=0&&a<sy)return a}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(ay("SemVer.compare",this.version,this.options,e),!(e instanceof La)){if(typeof e=="string"&&e===this.version)return 0;e=new La(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof La||(e=new La(e,this.options)),du(this.major,e.major)||du(this.minor,e.minor)||du(this.patch,e.patch)}comparePre(e){if(e instanceof La||(e=new La(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=e.prerelease[n];if(ay("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return du(r,i)}while(++n)}compareBuild(e){e instanceof La||(e=new La(e,this.options));let n=0;do{const r=this.build[n],i=e.build[n];if(ay("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return du(r,i)}while(++n)}inc(e,n,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let a=[n,i];r===!1&&(a=[n]),du(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var yr=Hue;const V2=yr,Wue=(t,e,n=!1)=>{if(t instanceof V2)return t;try{return new V2(t,e)}catch(r){if(!n)return null;throw r}};var Of=Wue;const Vue=Of,que=(t,e)=>{const n=Vue(t,e);return n?n.version:null};var Gue=que;const Kue=Of,Yue=(t,e)=>{const n=Kue(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};var Xue=Yue;const q2=yr,Zue=(t,e,n,r,i)=>{typeof n=="string"&&(i=r,r=n,n=void 0);try{return new q2(t instanceof q2?t.version:t,n).inc(e,r,i).version}catch{return null}};var Jue=Zue;const G2=Of,Que=(t,e)=>{const n=G2(t,null,!0),r=G2(e,null,!0),i=n.compare(r);if(i===0)return null;const a=i>0,s=a?n:r,o=a?r:n,l=!!s.prerelease.length;if(!!o.prerelease.length&&!l)return!o.patch&&!o.minor?"major":s.patch?"patch":s.minor?"minor":"major";const d=l?"pre":"";return n.major!==r.major?d+"major":n.minor!==r.minor?d+"minor":n.patch!==r.patch?d+"patch":"prerelease"};var ede=Que;const tde=yr,nde=(t,e)=>new tde(t,e).major;var rde=nde;const ide=yr,ade=(t,e)=>new ide(t,e).minor;var sde=ade;const ode=yr,lde=(t,e)=>new ode(t,e).patch;var cde=lde;const ude=Of,dde=(t,e)=>{const n=ude(t,e);return n&&n.prerelease.length?n.prerelease:null};var fde=dde;const K2=yr,hde=(t,e,n)=>new K2(t,n).compare(new K2(e,n));var ja=hde;const pde=ja,mde=(t,e,n)=>pde(e,t,n);var gde=mde;const yde=ja,vde=(t,e)=>yde(t,e,!0);var xde=vde;const Y2=yr,bde=(t,e,n)=>{const r=new Y2(t,n),i=new Y2(e,n);return r.compare(i)||r.compareBuild(i)};var sk=bde;const wde=sk,_de=(t,e)=>t.sort((n,r)=>wde(n,r,e));var Sde=_de;const Ede=sk,jde=(t,e)=>t.sort((n,r)=>Ede(r,n,e));var Ade=jde;const Cde=ja,Tde=(t,e,n)=>Cde(t,e,n)>0;var pb=Tde;const kde=ja,Ode=(t,e,n)=>kde(t,e,n)<0;var ok=Ode;const Nde=ja,Pde=(t,e,n)=>Nde(t,e,n)===0;var VU=Pde;const Ide=ja,$de=(t,e,n)=>Ide(t,e,n)!==0;var qU=$de;const Rde=ja,Mde=(t,e,n)=>Rde(t,e,n)>=0;var lk=Mde;const Lde=ja,Dde=(t,e,n)=>Lde(t,e,n)<=0;var ck=Dde;const Fde=VU,Bde=qU,zde=pb,Ude=lk,Hde=ok,Wde=ck,Vde=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return Fde(t,n,r);case"!=":return Bde(t,n,r);case">":return zde(t,n,r);case">=":return Ude(t,n,r);case"<":return Hde(t,n,r);case"<=":return Wde(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};var GU=Vde;const qde=yr,Gde=Of,{safeRe:oy,t:ly}=rg,Kde=(t,e)=>{if(t instanceof qde)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?oy[ly.COERCEFULL]:oy[ly.COERCE]);else{const l=e.includePrerelease?oy[ly.COERCERTLFULL]:oy[ly.COERCERTL];let c;for(;(c=l.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||c.index+c[0].length!==n.index+n[0].length)&&(n=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(n===null)return null;const r=n[2],i=n[3]||"0",a=n[4]||"0",s=e.includePrerelease&&n[5]?`-${n[5]}`:"",o=e.includePrerelease&&n[6]?`+${n[6]}`:"";return Gde(`${r}.${i}.${a}${s}${o}`,e)};var Yde=Kde;class Xde{constructor(){this.max=1e3,this.map=new Map}get(e){const n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(e,n)}return this}}var Zde=Xde,U_,X2;function Aa(){if(X2)return U_;X2=1;const t=/\s+/g;class e{constructor(B,U){if(U=i(U),B instanceof e)return B.loose===!!U.loose&&B.includePrerelease===!!U.includePrerelease?B:new e(B.raw,U);if(B instanceof a)return this.raw=B.value,this.set=[[B]],this.formatted=void 0,this;if(this.options=U,this.loose=!!U.loose,this.includePrerelease=!!U.includePrerelease,this.raw=B.trim().replace(t," "),this.set=this.raw.split("||").map(W=>this.parseRange(W.trim())).filter(W=>W.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const W=this.set[0];if(this.set=this.set.filter(M=>!g(M[0])),this.set.length===0)this.set=[W];else if(this.set.length>1){for(const M of this.set)if(M.length===1&&v(M[0])){this.set=[M];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let B=0;B<this.set.length;B++){B>0&&(this.formatted+="||");const U=this.set[B];for(let W=0;W<U.length;W++)W>0&&(this.formatted+=" "),this.formatted+=U[W].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(B){const W=((this.options.includePrerelease&&p)|(this.options.loose&&m))+":"+B,M=r.get(W);if(M)return M;const D=this.options.loose,N=D?l[c.HYPHENRANGELOOSE]:l[c.HYPHENRANGE];B=B.replace(N,P(this.options.includePrerelease)),s("hyphen replace",B),B=B.replace(l[c.COMPARATORTRIM],d),s("comparator trim",B),B=B.replace(l[c.TILDETRIM],f),s("tilde trim",B),B=B.replace(l[c.CARETTRIM],h),s("caret trim",B);let V=B.split(" ").map(ae=>x(ae,this.options)).join(" ").split(/\s+/).map(ae=>O(ae,this.options));D&&(V=V.filter(ae=>(s("loose invalid filter",ae,this.options),!!ae.match(l[c.COMPARATORLOOSE])))),s("range list",V);const G=new Map,$=V.map(ae=>new a(ae,this.options));for(const ae of $){if(g(ae))return[ae];G.set(ae.value,ae)}G.size>1&&G.has("")&&G.delete("");const te=[...G.values()];return r.set(W,te),te}intersects(B,U){if(!(B instanceof e))throw new TypeError("a Range is required");return this.set.some(W=>y(W,U)&&B.set.some(M=>y(M,U)&&W.every(D=>M.every(N=>D.intersects(N,U)))))}test(B){if(!B)return!1;if(typeof B=="string")try{B=new o(B,this.options)}catch{return!1}for(let U=0;U<this.set.length;U++)if(H(this.set[U],B,this.options))return!0;return!1}}U_=e;const n=Zde,r=new n,i=ak,a=mb(),s=hb,o=yr,{safeRe:l,t:c,comparatorTrimReplace:d,tildeTrimReplace:f,caretTrimReplace:h}=rg,{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:m}=fb,g=R=>R.value==="<0.0.0-0",v=R=>R.value==="",y=(R,B)=>{let U=!0;const W=R.slice();let M=W.pop();for(;U&&W.length;)U=W.every(D=>M.intersects(D,B)),M=W.pop();return U},x=(R,B)=>(s("comp",R,B),R=E(R,B),s("caret",R),R=_(R,B),s("tildes",R),R=j(R,B),s("xrange",R),R=T(R,B),s("stars",R),R),b=R=>!R||R.toLowerCase()==="x"||R==="*",_=(R,B)=>R.trim().split(/\s+/).map(U=>w(U,B)).join(" "),w=(R,B)=>{const U=B.loose?l[c.TILDELOOSE]:l[c.TILDE];return R.replace(U,(W,M,D,N,V)=>{s("tilde",R,W,M,D,N,V);let G;return b(M)?G="":b(D)?G=`>=${M}.0.0 <${+M+1}.0.0-0`:b(N)?G=`>=${M}.${D}.0 <${M}.${+D+1}.0-0`:V?(s("replaceTilde pr",V),G=`>=${M}.${D}.${N}-${V} <${M}.${+D+1}.0-0`):G=`>=${M}.${D}.${N} <${M}.${+D+1}.0-0`,s("tilde return",G),G})},E=(R,B)=>R.trim().split(/\s+/).map(U=>A(U,B)).join(" "),A=(R,B)=>{s("caret",R,B);const U=B.loose?l[c.CARETLOOSE]:l[c.CARET],W=B.includePrerelease?"-0":"";return R.replace(U,(M,D,N,V,G)=>{s("caret",R,M,D,N,V,G);let $;return b(D)?$="":b(N)?$=`>=${D}.0.0${W} <${+D+1}.0.0-0`:b(V)?D==="0"?$=`>=${D}.${N}.0${W} <${D}.${+N+1}.0-0`:$=`>=${D}.${N}.0${W} <${+D+1}.0.0-0`:G?(s("replaceCaret pr",G),D==="0"?N==="0"?$=`>=${D}.${N}.${V}-${G} <${D}.${N}.${+V+1}-0`:$=`>=${D}.${N}.${V}-${G} <${D}.${+N+1}.0-0`:$=`>=${D}.${N}.${V}-${G} <${+D+1}.0.0-0`):(s("no pr"),D==="0"?N==="0"?$=`>=${D}.${N}.${V}${W} <${D}.${N}.${+V+1}-0`:$=`>=${D}.${N}.${V}${W} <${D}.${+N+1}.0-0`:$=`>=${D}.${N}.${V} <${+D+1}.0.0-0`),s("caret return",$),$})},j=(R,B)=>(s("replaceXRanges",R,B),R.split(/\s+/).map(U=>C(U,B)).join(" ")),C=(R,B)=>{R=R.trim();const U=B.loose?l[c.XRANGELOOSE]:l[c.XRANGE];return R.replace(U,(W,M,D,N,V,G)=>{s("xRange",R,W,M,D,N,V,G);const $=b(D),te=$||b(N),ae=te||b(V),I=ae;return M==="="&&I&&(M=""),G=B.includePrerelease?"-0":"",$?M===">"||M==="<"?W="<0.0.0-0":W="*":M&&I?(te&&(N=0),V=0,M===">"?(M=">=",te?(D=+D+1,N=0,V=0):(N=+N+1,V=0)):M==="<="&&(M="<",te?D=+D+1:N=+N+1),M==="<"&&(G="-0"),W=`${M+D}.${N}.${V}${G}`):te?W=`>=${D}.0.0${G} <${+D+1}.0.0-0`:ae&&(W=`>=${D}.${N}.0${G} <${D}.${+N+1}.0-0`),s("xRange return",W),W})},T=(R,B)=>(s("replaceStars",R,B),R.trim().replace(l[c.STAR],"")),O=(R,B)=>(s("replaceGTE0",R,B),R.trim().replace(l[B.includePrerelease?c.GTE0PRE:c.GTE0],"")),P=R=>(B,U,W,M,D,N,V,G,$,te,ae,I)=>(b(W)?U="":b(M)?U=`>=${W}.0.0${R?"-0":""}`:b(D)?U=`>=${W}.${M}.0${R?"-0":""}`:N?U=`>=${U}`:U=`>=${U}${R?"-0":""}`,b($)?G="":b(te)?G=`<${+$+1}.0.0-0`:b(ae)?G=`<${$}.${+te+1}.0-0`:I?G=`<=${$}.${te}.${ae}-${I}`:R?G=`<${$}.${te}.${+ae+1}-0`:G=`<=${G}`,`${U} ${G}`.trim()),H=(R,B,U)=>{for(let W=0;W<R.length;W++)if(!R[W].test(B))return!1;if(B.prerelease.length&&!U.includePrerelease){for(let W=0;W<R.length;W++)if(s(R[W].semver),R[W].semver!==a.ANY&&R[W].semver.prerelease.length>0){const M=R[W].semver;if(M.major===B.major&&M.minor===B.minor&&M.patch===B.patch)return!0}return!1}return!0};return U_}var H_,Z2;function mb(){if(Z2)return H_;Z2=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(d,f){if(f=n(f),d instanceof e){if(d.loose===!!f.loose)return d;d=d.value}d=d.trim().split(/\s+/).join(" "),s("comparator",d,f),this.options=f,this.loose=!!f.loose,this.parse(d),this.semver===t?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(d){const f=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],h=d.match(f);if(!h)throw new TypeError(`Invalid comparator: ${d}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new o(h[2],this.options.loose):this.semver=t}toString(){return this.value}test(d){if(s("Comparator.test",d,this.options.loose),this.semver===t||d===t)return!0;if(typeof d=="string")try{d=new o(d,this.options)}catch{return!1}return a(d,this.operator,this.semver,this.options)}intersects(d,f){if(!(d instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(d.value,f).test(this.value):d.operator===""?d.value===""?!0:new l(this.value,f).test(d.semver):(f=n(f),f.includePrerelease&&(this.value==="<0.0.0-0"||d.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||d.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&d.operator.startsWith(">")||this.operator.startsWith("<")&&d.operator.startsWith("<")||this.semver.version===d.semver.version&&this.operator.includes("=")&&d.operator.includes("=")||a(this.semver,"<",d.semver,f)&&this.operator.startsWith(">")&&d.operator.startsWith("<")||a(this.semver,">",d.semver,f)&&this.operator.startsWith("<")&&d.operator.startsWith(">")))}}H_=e;const n=ak,{safeRe:r,t:i}=rg,a=GU,s=hb,o=yr,l=Aa();return H_}const Jde=Aa(),Qde=(t,e,n)=>{try{e=new Jde(e,n)}catch{return!1}return e.test(t)};var gb=Qde;const efe=Aa(),tfe=(t,e)=>new efe(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));var nfe=tfe;const rfe=yr,ife=Aa(),afe=(t,e,n)=>{let r=null,i=null,a=null;try{a=new ife(e,n)}catch{return null}return t.forEach(s=>{a.test(s)&&(!r||i.compare(s)===-1)&&(r=s,i=new rfe(r,n))}),r};var sfe=afe;const ofe=yr,lfe=Aa(),cfe=(t,e,n)=>{let r=null,i=null,a=null;try{a=new lfe(e,n)}catch{return null}return t.forEach(s=>{a.test(s)&&(!r||i.compare(s)===1)&&(r=s,i=new ofe(r,n))}),r};var ufe=cfe;const W_=yr,dfe=Aa(),J2=pb,ffe=(t,e)=>{t=new dfe(t,e);let n=new W_("0.0.0");if(t.test(n)||(n=new W_("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){const i=t.set[r];let a=null;i.forEach(s=>{const o=new W_(s.semver.version);switch(s.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!a||J2(o,a))&&(a=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),a&&(!n||J2(n,a))&&(n=a)}return n&&t.test(n)?n:null};var hfe=ffe;const pfe=Aa(),mfe=(t,e)=>{try{return new pfe(t,e).range||"*"}catch{return null}};var gfe=mfe;const yfe=yr,KU=mb(),{ANY:vfe}=KU,xfe=Aa(),bfe=gb,Q2=pb,e$=ok,wfe=ck,_fe=lk,Sfe=(t,e,n,r)=>{t=new yfe(t,r),e=new xfe(e,r);let i,a,s,o,l;switch(n){case">":i=Q2,a=wfe,s=e$,o=">",l=">=";break;case"<":i=e$,a=_fe,s=Q2,o="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(bfe(t,e,r))return!1;for(let c=0;c<e.set.length;++c){const d=e.set[c];let f=null,h=null;if(d.forEach(p=>{p.semver===vfe&&(p=new KU(">=0.0.0")),f=f||p,h=h||p,i(p.semver,f.semver,r)?f=p:s(p.semver,h.semver,r)&&(h=p)}),f.operator===o||f.operator===l||(!h.operator||h.operator===o)&&a(t,h.semver))return!1;if(h.operator===l&&s(t,h.semver))return!1}return!0};var uk=Sfe;const Efe=uk,jfe=(t,e,n)=>Efe(t,e,">",n);var Afe=jfe;const Cfe=uk,Tfe=(t,e,n)=>Cfe(t,e,"<",n);var kfe=Tfe;const t$=Aa(),Ofe=(t,e,n)=>(t=new t$(t,n),e=new t$(e,n),t.intersects(e,n));var Nfe=Ofe;const Pfe=gb,Ife=ja;var $fe=(t,e,n)=>{const r=[];let i=null,a=null;const s=t.sort((d,f)=>Ife(d,f,n));for(const d of s)Pfe(d,e,n)?(a=d,i||(i=d)):(a&&r.push([i,a]),a=null,i=null);i&&r.push([i,null]);const o=[];for(const[d,f]of r)d===f?o.push(d):!f&&d===s[0]?o.push("*"):f?d===s[0]?o.push(`<=${f}`):o.push(`${d} - ${f}`):o.push(`>=${d}`);const l=o.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return l.length<c.length?l:e};const n$=Aa(),dk=mb(),{ANY:V_}=dk,ch=gb,fk=ja,Rfe=(t,e,n={})=>{if(t===e)return!0;t=new n$(t,n),e=new n$(e,n);let r=!1;e:for(const i of t.set){for(const a of e.set){const s=Lfe(i,a,n);if(r=r||s!==null,s)continue e}if(r)return!1}return!0},Mfe=[new dk(">=0.0.0-0")],r$=[new dk(">=0.0.0")],Lfe=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===V_){if(e.length===1&&e[0].semver===V_)return!0;n.includePrerelease?t=Mfe:t=r$}if(e.length===1&&e[0].semver===V_){if(n.includePrerelease)return!0;e=r$}const r=new Set;let i,a;for(const p of t)p.operator===">"||p.operator===">="?i=i$(i,p,n):p.operator==="<"||p.operator==="<="?a=a$(a,p,n):r.add(p.semver);if(r.size>1)return null;let s;if(i&&a){if(s=fk(i.semver,a.semver,n),s>0)return null;if(s===0&&(i.operator!==">="||a.operator!=="<="))return null}for(const p of r){if(i&&!ch(p,String(i),n)||a&&!ch(p,String(a),n))return null;for(const m of e)if(!ch(p,String(m),n))return!1;return!0}let o,l,c,d,f=a&&!n.includePrerelease&&a.semver.prerelease.length?a.semver:!1,h=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&a.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const p of e){if(d=d||p.operator===">"||p.operator===">=",c=c||p.operator==="<"||p.operator==="<=",i){if(h&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===h.major&&p.semver.minor===h.minor&&p.semver.patch===h.patch&&(h=!1),p.operator===">"||p.operator===">="){if(o=i$(i,p,n),o===p&&o!==i)return!1}else if(i.operator===">="&&!ch(i.semver,String(p),n))return!1}if(a){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator==="<"||p.operator==="<="){if(l=a$(a,p,n),l===p&&l!==a)return!1}else if(a.operator==="<="&&!ch(a.semver,String(p),n))return!1}if(!p.operator&&(a||i)&&s!==0)return!1}return!(i&&c&&!a&&s!==0||a&&d&&!i&&s!==0||h||f)},i$=(t,e,n)=>{if(!t)return e;const r=fk(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},a$=(t,e,n)=>{if(!t)return e;const r=fk(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t};var Dfe=Rfe;const q_=rg,s$=fb,Ffe=yr,o$=WU,Bfe=Of,zfe=Gue,Ufe=Xue,Hfe=Jue,Wfe=ede,Vfe=rde,qfe=sde,Gfe=cde,Kfe=fde,Yfe=ja,Xfe=gde,Zfe=xde,Jfe=sk,Qfe=Sde,ehe=Ade,the=pb,nhe=ok,rhe=VU,ihe=qU,ahe=lk,she=ck,ohe=GU,lhe=Yde,che=mb(),uhe=Aa(),dhe=gb,fhe=nfe,hhe=sfe,phe=ufe,mhe=hfe,ghe=gfe,yhe=uk,vhe=Afe,xhe=kfe,bhe=Nfe,whe=$fe,_he=Dfe;q_.re,q_.src,q_.t,s$.SEMVER_SPEC_VERSION,s$.RELEASE_TYPES,o$.compareIdentifiers,o$.rcompareIdentifiers;function xo(t){if(!t||t.split("/").length>2||t.startsWith("/")||t.endsWith("/")||t.split(":").length>2)throw new Error(`Invalid identifier format: ${t}`);const[e,n]=t.split(":"),r=n||"latest";if(e.includes("/")){const[i,a]=e.split("/",2);if(!i||!a)throw new Error(`Invalid identifier format: ${t}`);return[i,a,r]}else{if(!e)throw new Error(`Invalid identifier format: ${t}`);return["-",e,r]}}class She extends Error{constructor(e){super(e),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="LangSmithConflictError",this.status=409}}async function Pe(t,e,n){let r;if(t.ok){n&&(r=await t.text());return}if(t.status===403)try{const s=await t.json();(s==null?void 0:s.error)==="org_scoped_key_requires_workspace"&&(r="This API key is org-scoped and requires workspace specification. Please provide 'workspaceId' parameter, or set LANGSMITH_WORKSPACE_ID environment variable.")}catch{const o=new Error(`${t.status} ${t.statusText}`);throw o.status=t==null?void 0:t.status,o}if(r===void 0)try{r=await t.text()}catch{r=""}const i=`Failed to ${e}. Received status [${t.status}]: ${t.statusText}. Message: ${r}`;if(t.status===409)throw new She(i);const a=new Error(i);throw a.status=t.status,a}const YU="ERR_CONFLICTING_ENDPOINTS";class Ehe extends Error{constructor(){super("You cannot provide both LANGSMITH_ENDPOINT / LANGCHAIN_ENDPOINT and LANGSMITH_RUNS_ENDPOINTS."),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:YU}),this.name="ConflictingEndpointsError"}}function jhe(t){return typeof t=="object"&&t!==null&&t.code===YU}var l$="[...]",Ahe={result:"[Circular]"},n0=[],Bu=[];const Che=new TextEncoder;function The(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function cy(t){return Che.encode(t)}function XU(t){if(t&&typeof t=="object"&&t!==null){if(t instanceof Map)return Object.fromEntries(t);if(t instanceof Set)return Array.from(t);if(t instanceof Date)return t.toISOString();if(t instanceof RegExp)return t.toString();if(t instanceof Error)return{name:t.name,message:t.message}}else if(typeof t=="bigint")return t.toString();return t}function khe(t){return function(e,n){return XU(n)}}function Dr(t,e,n,r,i){var a;try{const s=JSON.stringify(t,khe(n),r);return cy(s)}catch(s){if(!((a=s.message)!=null&&a.includes("Converting circular structure to JSON")))return console.warn(`[WARNING]: LangSmith received unserializable value.${e?`
Context: ${e}`:""}`),cy("[Unserializable]");Ar("SUPPRESS_CIRCULAR_JSON_WARNINGS")!=="true"&&console.warn(`[WARNING]: LangSmith received circular JSON. This will decrease tracer performance. ${e?`
Context: ${e}`:""}`),typeof i>"u"&&(i=The()),DE(t,"",0,[],void 0,0,i);let o;try{Bu.length===0?o=JSON.stringify(t,n,r):o=JSON.stringify(t,Ohe(n),r)}catch{return cy("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;n0.length!==0;){const l=n0.pop();l.length===4?Object.defineProperty(l[0],l[1],l[3]):l[0][l[1]]=l[2]}}return cy(o)}}function G_(t,e,n,r){var i=Object.getOwnPropertyDescriptor(r,n);i.get!==void 0?i.configurable?(Object.defineProperty(r,n,{value:t}),n0.push([r,n,e,i])):Bu.push([e,n,t]):(r[n]=t,n0.push([r,n,e]))}function DE(t,e,n,r,i,a,s){a+=1;var o;if(typeof t=="object"&&t!==null){for(o=0;o<r.length;o++)if(r[o]===t){G_(Ahe,t,e,i);return}if(typeof s.depthLimit<"u"&&a>s.depthLimit){G_(l$,t,e,i);return}if(typeof s.edgesLimit<"u"&&n+1>s.edgesLimit){G_(l$,t,e,i);return}if(r.push(t),Array.isArray(t))for(o=0;o<t.length;o++)DE(t[o],o,o,r,t,a,s);else{t=XU(t);var l=Object.keys(t);for(o=0;o<l.length;o++){var c=l[o];DE(t[c],c,o,r,t,a,s)}}r.pop()}}function Ohe(t){return t=typeof t<"u"?t:function(e,n){return n},function(e,n){if(Bu.length>0)for(var r=0;r<Bu.length;r++){var i=Bu[r];if(i[1]===e&&i[0]===n){n=i[2],Bu.splice(r,1);break}}return t.call(this,e,n)}}function c$(t,e){const n=PU(),r=e??IU(),i=t.extra??{},a=i.metadata;return t.extra={...i,runtime:{...n,...i==null?void 0:i.runtime},metadata:{...r,...r.revision_id||"revision_id"in t&&t.revision_id?{revision_id:("revision_id"in t?t.revision_id:void 0)??r.revision_id}:{},...a}},t}const Nhe=t=>{const e=(t==null?void 0:t.toString())??Ar("TRACING_SAMPLING_RATE");if(e===void 0)return;const n=parseFloat(e);if(n<0||n>1)throw new Error(`LANGSMITH_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${n}`);return n},Phe=t=>{const n=t.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return n==="localhost"||n==="127.0.0.1"||n==="::1"};async function Ihe(t){const e=[];for await(const n of t)e.push(n);return e}function uy(t){if(t!==void 0)return t.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}const $he=async t=>{if((t==null?void 0:t.status)===429){const e=parseInt(t.headers.get("retry-after")??"10",10)*1e3;if(e>0)return await new Promise(n=>setTimeout(n,e)),!0}return!1};function u$(t){return typeof t=="number"?Number(t.toFixed(4)):t}const Rhe=24*1024*1024,ZU=1024*1024*1024,Mhe=1e4,Lhe=100,d$="https://api.smith.langchain.com";class Dhe{constructor(e){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"sizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"maxSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSizeBytes=e??ZU}peek(){return this.items[0]}push(e){let n;const r=new Promise(a=>{n=a}),i=Dr(e.item,`Serializing run with id: ${e.item.id}`).length;return this.sizeBytes+i>this.maxSizeBytes&&this.items.length>0?(console.warn(`AutoBatchQueue size limit (${this.maxSizeBytes} bytes) exceeded. Dropping run with id: ${e.item.id}. Current queue size: ${this.sizeBytes} bytes, attempted addition: ${i} bytes.`),n(),r):(this.items.push({action:e.action,payload:e.item,otelContext:e.otelContext,apiKey:e.apiKey,apiUrl:e.apiUrl,itemPromiseResolve:n,itemPromise:r,size:i}),this.sizeBytes+=i,r)}pop({upToSizeBytes:e,upToSize:n}){var a;if(e<1)throw new Error("Number of bytes to pop off may not be less than 1.");const r=[];let i=0;for(;i+(((a=this.peek())==null?void 0:a.size)??0)<e&&this.items.length>0&&r.length<n;){const s=this.items.shift();s&&(r.push(s),i+=s.size,this.sizeBytes-=s.size)}if(r.length===0&&this.items.length>0){const s=this.items.shift();r.push(s),i+=s.size,this.sizeBytes-=s.size}return[r.map(s=>({action:s.action,item:s.payload,otelContext:s.otelContext,apiKey:s.apiKey,apiUrl:s.apiUrl,size:s.size})),()=>r.forEach(s=>s.itemPromiseResolve())]}}class Fd{get _fetch(){return this.fetchImplementation||Vce(this.debug)}constructor(e={}){var i;Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"workspaceId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filteredPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"batchSizeBytesLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchSizeLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"blockOnRootRunFinalization",{enumerable:!0,configurable:!0,writable:!0,value:cs("LANGSMITH_TRACING_BACKGROUND")==="false"}),Object.defineProperty(this,"traceBatchConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:5}),Object.defineProperty(this,"_serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_getServerInfoPromise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"manualFlushMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"langSmithToOTELTranslator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchImplementation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cachedLSEnvVarsForMetadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"multipartStreamingDisabled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"debug",{enumerable:!0,configurable:!0,writable:!0,value:cs("LANGSMITH_DEBUG")==="true"});const n=Fd.getDefaultClientConfig();if(this.tracingSampleRate=Nhe(e.tracingSamplingRate),this.apiUrl=uy(e.apiUrl??n.apiUrl)??"",this.apiUrl.endsWith("/")&&(this.apiUrl=this.apiUrl.slice(0,-1)),this.apiKey=uy(e.apiKey??n.apiKey),this.webUrl=uy(e.webUrl??n.webUrl),(i=this.webUrl)!=null&&i.endsWith("/")&&(this.webUrl=this.webUrl.slice(0,-1)),this.workspaceId=uy(e.workspaceId??Ar("WORKSPACE_ID")),this.timeout_ms=e.timeout_ms??9e4,this.caller=new D2({...e.callerOptions??{},maxRetries:4,debug:e.debug??this.debug}),this.traceBatchConcurrency=e.traceBatchConcurrency??this.traceBatchConcurrency,this.traceBatchConcurrency<1)throw new Error("Trace batch concurrency must be positive.");this.debug=e.debug??this.debug,this.fetchImplementation=e.fetchImplementation;const r=e.maxIngestMemoryBytes??ZU;this.batchIngestCaller=new D2({maxRetries:4,maxConcurrency:this.traceBatchConcurrency,maxQueueSizeBytes:r,...e.callerOptions??{},onFailedResponseHook:$he,debug:e.debug??this.debug}),this.hideInputs=e.hideInputs??e.anonymizer??n.hideInputs,this.hideOutputs=e.hideOutputs??e.anonymizer??n.hideOutputs,this.autoBatchTracing=e.autoBatchTracing??this.autoBatchTracing,this.autoBatchQueue=new Dhe(r),this.blockOnRootRunFinalization=e.blockOnRootRunFinalization??this.blockOnRootRunFinalization,this.batchSizeBytesLimit=e.batchSizeBytesLimit,this.batchSizeLimit=e.batchSizeLimit,this.fetchOptions=e.fetchOptions||{},this.manualFlushMode=e.manualFlushMode??this.manualFlushMode,$U()&&(this.langSmithToOTELTranslator=new uue),this.cachedLSEnvVarsForMetadata=IU()}static getDefaultClientConfig(){const e=Ar("API_KEY"),n=Ar("ENDPOINT")??d$,r=Ar("HIDE_INPUTS")==="true",i=Ar("HIDE_OUTPUTS")==="true";return{apiUrl:n,apiKey:e,webUrl:void 0,hideInputs:r,hideOutputs:i}}getHostUrl(){return this.webUrl?this.webUrl:Phe(this.apiUrl)?(this.webUrl="http://localhost:3000",this.webUrl):this.apiUrl.endsWith("/api/v1")?(this.webUrl=this.apiUrl.replace("/api/v1",""),this.webUrl):this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api")?(this.webUrl=this.apiUrl.replace("/api",""),this.webUrl):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("eu")?(this.webUrl="https://eu.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("beta")?(this.webUrl="https://beta.smith.langchain.com",this.webUrl):(this.webUrl="https://smith.langchain.com",this.webUrl)}get headers(){const e={"User-Agent":`langsmith-js/${kU}`};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),this.workspaceId&&(e["x-tenant-id"]=this.workspaceId),e}_getPlatformEndpointPath(e){return this.apiUrl.slice(-3)!=="/v1"&&this.apiUrl.slice(-4)!=="/v1/"?`/v1/platform/${e}`:`/platform/${e}`}async processInputs(e){return this.hideInputs===!1?e:this.hideInputs===!0?{}:typeof this.hideInputs=="function"?this.hideInputs(e):e}async processOutputs(e){return this.hideOutputs===!1?e:this.hideOutputs===!0?{}:typeof this.hideOutputs=="function"?this.hideOutputs(e):e}async prepareRunCreateOrUpdateInputs(e){const n={...e};return n.inputs!==void 0&&(n.inputs=await this.processInputs(n.inputs)),n.outputs!==void 0&&(n.outputs=await this.processOutputs(n.outputs)),n}async _getResponse(e,n){const r=(n==null?void 0:n.toString())??"",i=`${this.apiUrl}${e}?${r}`;return await this.caller.call(async()=>{const s=await this._fetch(i,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(s,`fetch ${e}`),s})}async _get(e,n){return(await this._getResponse(e,n)).json()}async*_getPaginated(e,n=new URLSearchParams,r){let i=Number(n.get("offset"))||0;const a=Number(n.get("limit"))||100;for(;;){n.set("offset",String(i)),n.set("limit",String(a));const s=`${this.apiUrl}${e}?${n}`,o=await this.caller.call(async()=>{const c=await this._fetch(s,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(c,`fetch ${e}`),c}),l=r?r(await o.json()):await o.json();if(l.length===0||(yield l,l.length<a))break;i+=l.length}}async*_getCursorPaginatedList(e,n=null,r="POST",i="runs"){const a=n?{...n}:{};for(;;){const s=JSON.stringify(a),l=await(await this.caller.call(async()=>{const d=await this._fetch(`${this.apiUrl}${e}`,{method:r,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Pe(d,`fetch ${e}`),d})).json();if(!l||!l[i])break;yield l[i];const c=l.cursors;if(!c||!c.next)break;a.cursor=c.next}}_shouldSample(){return this.tracingSampleRate===void 0?!0:Math.random()<this.tracingSampleRate}_filterForSampling(e,n=!1){if(this.tracingSampleRate===void 0)return e;if(n){const r=[];for(const i of e)this.filteredPostUuids.has(i.trace_id)?i.id===i.trace_id&&this.filteredPostUuids.delete(i.trace_id):r.push(i);return r}else{const r=[];for(const i of e){const a=i.trace_id??i.id;this.filteredPostUuids.has(a)||(i.id===a?this._shouldSample()?r.push(i):this.filteredPostUuids.add(a):r.push(i))}return r}}async _getBatchSizeLimitBytes(){var n;const e=await this._ensureServerInfo();return this.batchSizeBytesLimit??((n=e.batch_ingest_config)==null?void 0:n.size_limit_bytes)??Rhe}async _getBatchSizeLimit(){var n;const e=await this._ensureServerInfo();return this.batchSizeLimit??((n=e.batch_ingest_config)==null?void 0:n.size_limit)??Lhe}async _getDatasetExamplesMultiPartSupport(){var n;return((n=(await this._ensureServerInfo()).instance_flags)==null?void 0:n.dataset_examples_multipart_enabled)??!1}drainAutoBatchQueue({batchSizeLimitBytes:e,batchSizeLimit:n}){const r=[];for(;this.autoBatchQueue.items.length>0;){const[i,a]=this.autoBatchQueue.pop({upToSizeBytes:e,upToSize:n});if(!i.length){a();break}const s=i.reduce((c,d)=>{const f=d.apiUrl??this.apiUrl,h=d.apiKey??this.apiKey,m=d.apiKey===this.apiKey&&d.apiUrl===this.apiUrl?"default":`${f}|${h}`;return c[m]||(c[m]=[]),c[m].push(d),c},{}),o=[];for(const[c,d]of Object.entries(s)){const f=this._processBatch(d,{apiUrl:c==="default"?void 0:c.split("|")[0],apiKey:c==="default"?void 0:c.split("|")[1]});o.push(f)}const l=Promise.all(o).finally(a);r.push(l)}return Promise.all(r)}async _processBatch(e,n){var i,a;if(!e.length)return;const r=e.reduce((s,o)=>s+(o.size??0),0);try{if(this.langSmithToOTELTranslator!==void 0)this._sendBatchToOTELTranslator(e);else{const s={runCreates:e.filter(l=>l.action==="create").map(l=>l.item),runUpdates:e.filter(l=>l.action==="update").map(l=>l.item)},o=await this._ensureServerInfo();if((i=o==null?void 0:o.batch_ingest_config)!=null&&i.use_multipart_endpoint){const l=(a=o==null?void 0:o.instance_flags)==null?void 0:a.gzip_body_enabled;await this.multipartIngestRuns(s,{...n,useGzip:l,sizeBytes:r})}else await this.batchIngestRuns(s,{...n,sizeBytes:r})}}catch(s){console.error("Error exporting batch:",s)}}_sendBatchToOTELTranslator(e){if(this.langSmithToOTELTranslator!==void 0){const n=new Map,r=[];for(const i of e)i.item.id&&i.otelContext&&(n.set(i.item.id,i.otelContext),i.action==="create"?r.push({operation:"post",id:i.item.id,trace_id:i.item.trace_id??i.item.id,run:i.item}):r.push({operation:"patch",id:i.item.id,trace_id:i.item.trace_id??i.item.id,run:i.item}));this.langSmithToOTELTranslator.exportBatch(r,n)}}async processRunOperation(e){clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0,e.item=c$(e.item,this.cachedLSEnvVarsForMetadata);const n=this.autoBatchQueue.push(e);if(this.manualFlushMode)return n;const r=await this._getBatchSizeLimitBytes(),i=await this._getBatchSizeLimit();return(this.autoBatchQueue.sizeBytes>r||this.autoBatchQueue.items.length>i)&&this.drainAutoBatchQueue({batchSizeLimitBytes:r,batchSizeLimit:i}),this.autoBatchQueue.items.length>0&&(this.autoBatchTimeout=setTimeout(()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue({batchSizeLimitBytes:r,batchSizeLimit:i})},this.autoBatchAggregationDelayMs)),n}async _getServerInfo(){const n=await(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(Mhe),...this.fetchOptions});return await Pe(r,"get server info"),r})).json();return this.debug&&console.log(`
=== LangSmith Server Configuration ===
`+JSON.stringify(n,null,2)+`
`),n}async _ensureServerInfo(){return this._getServerInfoPromise===void 0&&(this._getServerInfoPromise=(async()=>{if(this._serverInfo===void 0)try{this._serverInfo=await this._getServerInfo()}catch(e){console.warn(`[LANGSMITH]: Failed to fetch info on supported operations. Falling back to batch operations and default limits. Info: ${e.status??"Unspecified status code"} ${e.message}`)}return this._serverInfo??{}})()),this._getServerInfoPromise.then(e=>(this._serverInfo===void 0&&(this._getServerInfoPromise=void 0),e))}async _getSettings(){return this.settings||(this.settings=this._get("/settings")),await this.settings}async flush(){const e=await this._getBatchSizeLimitBytes(),n=await this._getBatchSizeLimit();await this.drainAutoBatchQueue({batchSizeLimitBytes:e,batchSizeLimit:n})}_cloneCurrentOTELContext(){const e=RU(),n=sue();if(this.langSmithToOTELTranslator!==void 0){const r=e.getActiveSpan();if(r)return e.setSpan(n.active(),r)}}async createRun(e,n){if(!this._filterForSampling([e]).length)return;const r={...this.headers,"Content-Type":"application/json"},i=e.project_name;delete e.project_name;const a=await this.prepareRunCreateOrUpdateInputs({session_name:i,...e,start_time:e.start_time??Date.now()});if(this.autoBatchTracing&&a.trace_id!==void 0&&a.dotted_order!==void 0){const l=this._cloneCurrentOTELContext();this.processRunOperation({action:"create",item:a,otelContext:l,apiKey:n==null?void 0:n.apiKey,apiUrl:n==null?void 0:n.apiUrl}).catch(console.error);return}const s=c$(a,this.cachedLSEnvVarsForMetadata);(n==null?void 0:n.apiKey)!==void 0&&(r["x-api-key"]=n.apiKey),(n==null?void 0:n.workspaceId)!==void 0&&(r["x-tenant-id"]=n.workspaceId);const o=Dr(s,`Creating run with id: ${s.id}`);await this.caller.call(async()=>{const l=await this._fetch(`${(n==null?void 0:n.apiUrl)??this.apiUrl}/runs`,{method:"POST",headers:r,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Pe(l,"create run",!0),l})}async batchIngestRuns({runCreates:e,runUpdates:n},r){if(e===void 0&&n===void 0)return;let i=await Promise.all((e==null?void 0:e.map(l=>this.prepareRunCreateOrUpdateInputs(l)))??[]),a=await Promise.all((n==null?void 0:n.map(l=>this.prepareRunCreateOrUpdateInputs(l)))??[]);if(i.length>0&&a.length>0){const l=i.reduce((d,f)=>(f.id&&(d[f.id]=f),d),{}),c=[];for(const d of a)d.id!==void 0&&l[d.id]?l[d.id]={...l[d.id],...d}:c.push(d);i=Object.values(l),a=c}const s={post:i,patch:a};if(!s.post.length&&!s.patch.length)return;const o={post:[],patch:[]};for(const l of["post","patch"]){const c=l,d=s[c].reverse();let f=d.pop();for(;f!==void 0;)o[c].push(f),f=d.pop()}if(o.post.length>0||o.patch.length>0){const l=o.post.map(c=>c.id).concat(o.patch.map(c=>c.id)).join(",");await this._postBatchIngestRuns(Dr(o,`Ingesting runs with ids: ${l}`),r)}}async _postBatchIngestRuns(e,n){const r={...this.headers,"Content-Type":"application/json",Accept:"application/json"};(n==null?void 0:n.apiKey)!==void 0&&(r["x-api-key"]=n.apiKey),await this.batchIngestCaller.callWithOptions({sizeBytes:n==null?void 0:n.sizeBytes},async()=>{const i=await this._fetch(`${(n==null?void 0:n.apiUrl)??this.apiUrl}/runs/batch`,{method:"POST",headers:r,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:e});return await Pe(i,"batch create run",!0),i})}async multipartIngestRuns({runCreates:e,runUpdates:n},r){if(e===void 0&&n===void 0)return;const i={};let a=[];for(const f of e??[]){const h=await this.prepareRunCreateOrUpdateInputs(f);h.id!==void 0&&h.attachments!==void 0&&(i[h.id]=h.attachments),delete h.attachments,a.push(h)}let s=[];for(const f of n??[])s.push(await this.prepareRunCreateOrUpdateInputs(f));if(a.find(f=>f.trace_id===void 0||f.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when creating a run');if(s.find(f=>f.trace_id===void 0||f.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when updating a run');if(a.length>0&&s.length>0){const f=a.reduce((p,m)=>(m.id&&(p[m.id]=m),p),{}),h=[];for(const p of s)p.id!==void 0&&f[p.id]?f[p.id]={...f[p.id],...p}:h.push(p);a=Object.values(f),s=h}if(a.length===0&&s.length===0)return;const c=[],d=[];for(const[f,h]of[["post",a],["patch",s]])for(const p of h){const{inputs:m,outputs:g,events:v,extra:y,error:x,serialized:b,attachments:_,...w}=p,E={inputs:m,outputs:g,events:v,extra:y,error:x,serialized:b},A=Dr(w,`Serializing for multipart ingestion of run with id: ${w.id}`);d.push({name:`${f}.${w.id}`,payload:new Blob([A],{type:`application/json; length=${A.length}`})});for(const[j,C]of Object.entries(E)){if(C===void 0)continue;const T=Dr(C,`Serializing ${j} for multipart ingestion of run with id: ${w.id}`);d.push({name:`${f}.${w.id}.${j}`,payload:new Blob([T],{type:`application/json; length=${T.length}`})})}if(w.id!==void 0){const j=i[w.id];if(j){delete i[w.id];for(const[C,T]of Object.entries(j)){let O,P;if(Array.isArray(T)?[O,P]=T:(O=T.mimeType,P=T.data),C.includes(".")){console.warn(`Skipping attachment '${C}' for run ${w.id}: Invalid attachment name. Attachment names must not contain periods ('.'). Please rename the attachment and try again.`);continue}d.push({name:`attachment.${w.id}.${C}`,payload:new Blob([P],{type:`${O}; length=${P.byteLength}`})})}}}c.push(`trace=${w.trace_id},id=${w.id}`)}await this._sendMultipartRequest(d,c.join("; "),r)}async _createNodeFetchBody(e,n){const r=[];for(const s of e)r.push(new Blob([`--${n}\r
`])),r.push(new Blob([`Content-Disposition: form-data; name="${s.name}"\r
`,`Content-Type: ${s.payload.type}\r
\r
`])),r.push(s.payload),r.push(new Blob([`\r
`]));return r.push(new Blob([`--${n}--\r
`])),await new Blob(r).arrayBuffer()}async _createMultipartStream(e,n){const r=new TextEncoder;return new ReadableStream({async start(a){const s=async o=>{typeof o=="string"?a.enqueue(r.encode(o)):a.enqueue(o)};for(const o of e){await s(`--${n}\r
`),await s(`Content-Disposition: form-data; name="${o.name}"\r
`),await s(`Content-Type: ${o.payload.type}\r
\r
`);const c=o.payload.stream().getReader();try{let d;for(;!(d=await c.read()).done;)a.enqueue(d.value)}finally{c.releaseLock()}await s(`\r
`)}await s(`--${n}--\r
`),a.close()}})}async _sendMultipartRequest(e,n,r){const i="----LangSmithFormBoundary"+Math.random().toString(36).slice(2),a=Wce(),s=()=>this._createNodeFetchBody(e,i),o=()=>this._createMultipartStream(e,i),l=async c=>this.batchIngestCaller.callWithOptions({sizeBytes:r==null?void 0:r.sizeBytes},async()=>{const d=await c(),f={...this.headers,"Content-Type":`multipart/form-data; boundary=${i}`};(r==null?void 0:r.apiKey)!==void 0&&(f["x-api-key"]=r.apiKey);let h=d;r!=null&&r.useGzip&&typeof d=="object"&&"pipeThrough"in d&&(h=d.pipeThrough(new CompressionStream("gzip")),f["Content-Encoding"]="gzip");const p=await this._fetch(`${(r==null?void 0:r.apiUrl)??this.apiUrl}/runs/multipart`,{method:"POST",headers:f,body:h,duplex:"half",signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(p,"Failed to send multipart request",!0),p});try{let c,d=!1;!a&&!this.multipartStreamingDisabled&&NU()!=="bun"?(d=!0,c=await l(o)):c=await l(s),(!this.multipartStreamingDisabled||d)&&c.status===422&&((r==null?void 0:r.apiUrl)??this.apiUrl)!==d$&&(console.warn(`Streaming multipart upload to ${(r==null?void 0:r.apiUrl)??this.apiUrl}/runs/multipart failed. This usually means the host does not support chunked uploads. Retrying with a buffered upload for operation "${n}".`),this.multipartStreamingDisabled=!0,c=await l(s))}catch(c){console.warn(`${c.message.trim()}

Context: ${n}`)}}async updateRun(e,n,r){Ye(e),n.inputs&&(n.inputs=await this.processInputs(n.inputs)),n.outputs&&(n.outputs=await this.processOutputs(n.outputs));const i={...n,id:e};if(!this._filterForSampling([i],!0).length)return;if(this.autoBatchTracing&&i.trace_id!==void 0&&i.dotted_order!==void 0){const o=this._cloneCurrentOTELContext();if(n.end_time!==void 0&&i.parent_run_id===void 0&&this.blockOnRootRunFinalization&&!this.manualFlushMode){await this.processRunOperation({action:"update",item:i,otelContext:o,apiKey:r==null?void 0:r.apiKey,apiUrl:r==null?void 0:r.apiUrl}).catch(console.error);return}else this.processRunOperation({action:"update",item:i,otelContext:o,apiKey:r==null?void 0:r.apiKey,apiUrl:r==null?void 0:r.apiUrl}).catch(console.error);return}const a={...this.headers,"Content-Type":"application/json"};(r==null?void 0:r.apiKey)!==void 0&&(a["x-api-key"]=r.apiKey),(r==null?void 0:r.workspaceId)!==void 0&&(a["x-tenant-id"]=r.workspaceId);const s=Dr(n,`Serializing payload to update run with id: ${e}`);await this.caller.call(async()=>{const o=await this._fetch(`${(r==null?void 0:r.apiUrl)??this.apiUrl}/runs/${e}`,{method:"PATCH",headers:a,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Pe(o,"update run",!0),o})}async readRun(e,{loadChildRuns:n}={loadChildRuns:!1}){Ye(e);let r=await this._get(`/runs/${e}`);return n&&(r=await this._loadChildRuns(r)),r}async getRunUrl({runId:e,run:n,projectOpts:r}){if(n!==void 0){let i;n.session_id?i=n.session_id:r!=null&&r.projectName?i=(await this.readProject({projectName:r==null?void 0:r.projectName})).id:r!=null&&r.projectId?i=r==null?void 0:r.projectId:i=(await this.readProject({projectName:Ar("PROJECT")||"default"})).id;const a=await this._getTenantId();return`${this.getHostUrl()}/o/${a}/projects/p/${i}/r/${n.id}?poll=true`}else if(e!==void 0){const i=await this.readRun(e);if(!i.app_path)throw new Error(`Run ${e} has no app_path`);return`${this.getHostUrl()}${i.app_path}`}else throw new Error("Must provide either runId or run")}async _loadChildRuns(e){var a;const n=await Ihe(this.listRuns({isRoot:!1,projectId:e.session_id,traceId:e.trace_id})),r={},i={};n.sort((s,o)=>((s==null?void 0:s.dotted_order)??"").localeCompare((o==null?void 0:o.dotted_order)??""));for(const s of n){if(s.parent_run_id===null||s.parent_run_id===void 0)throw new Error(`Child run ${s.id} has no parent`);(a=s.dotted_order)!=null&&a.startsWith(e.dotted_order??"")&&s.id!==e.id&&(s.parent_run_id in r||(r[s.parent_run_id]=[]),r[s.parent_run_id].push(s),i[s.id]=s)}e.child_runs=r[e.id]||[];for(const s in r)s!==e.id&&(i[s].child_runs=r[s]);return e}async*listRuns(e){const{projectId:n,projectName:r,parentRunId:i,traceId:a,referenceExampleId:s,startTime:o,executionOrder:l,isRoot:c,runType:d,error:f,id:h,query:p,filter:m,traceFilter:g,treeFilter:v,limit:y,select:x,order:b}=e;let _=[];if(n&&(_=Array.isArray(n)?n:[n]),r){const j=Array.isArray(r)?r:[r],C=await Promise.all(j.map(T=>this.readProject({projectName:T}).then(O=>O.id)));_.push(...C)}const w=["app_path","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],E={session:_.length?_:null,run_type:d,reference_example:s,query:p,filter:m,trace_filter:g,tree_filter:v,execution_order:l,parent_run:i,start_time:o?o.toISOString():null,error:f,id:h,limit:y,trace:a,select:x||w,is_root:c,order:b};E.select.includes("child_run_ids")&&ME("Deprecated: 'child_run_ids' in the listRuns select parameter is deprecated and will be removed in a future version.");let A=0;for await(const j of this._getCursorPaginatedList("/runs/query",E))if(y){if(A>=y)break;if(j.length+A>y){yield*j.slice(0,y-A);break}A+=j.length,yield*j}else yield*j}async*listGroupRuns(e){const{projectId:n,projectName:r,groupBy:i,filter:a,startTime:s,endTime:o,limit:l,offset:c}=e,f={session_id:n||(await this.readProject({projectName:r})).id,group_by:i,filter:a,start_time:s?s.toISOString():null,end_time:o?o.toISOString():null,limit:Number(l)||100};let h=Number(c)||0;const p="/runs/group",m=`${this.apiUrl}${p}`;for(;;){const g={...f,offset:h},v=Object.fromEntries(Object.entries(g).filter(([E,A])=>A!==void 0)),y=JSON.stringify(v),b=await(await this.caller.call(async()=>{const E=await this._fetch(m,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:y});return await Pe(E,`Failed to fetch ${p}`),E})).json(),{groups:_,total:w}=b;if(_.length===0)break;for(const E of _)yield E;if(h+=_.length,h>=w)break}}async getRunStats({id:e,trace:n,parentRun:r,runType:i,projectNames:a,projectIds:s,referenceExampleIds:o,startTime:l,endTime:c,error:d,query:f,filter:h,traceFilter:p,treeFilter:m,isRoot:g,dataSourceType:v}){let y=s||[];a&&(y=[...s||[],...await Promise.all(a.map(A=>this.readProject({projectName:A}).then(j=>j.id)))]);const b=Object.fromEntries(Object.entries({id:e,trace:n,parent_run:r,run_type:i,session:y,reference_example:o,start_time:l,end_time:c,error:d,query:f,filter:h,trace_filter:p,tree_filter:m,is_root:g,data_source_type:v}).filter(([A,j])=>j!==void 0)),_=JSON.stringify(b);return await(await this.caller.call(async()=>{const A=await this._fetch(`${this.apiUrl}/runs/stats`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:_});return await Pe(A,"get run stats"),A})).json()}async shareRun(e,{shareId:n}={}){const r={run_id:e,share_token:n||jr()};Ye(e);const i=JSON.stringify(r),s=await(await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/runs/${e}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await Pe(o,"share run"),o})).json();if(s===null||!("share_token"in s))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${s.share_token}/r`}async unshareRun(e){Ye(e),await this.caller.call(async()=>{const n=await this._fetch(`${this.apiUrl}/runs/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(n,"unshare run",!0),n})}async readRunSharedLink(e){Ye(e);const r=await(await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/runs/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(i,"read run shared link"),i})).json();if(!(r===null||!("share_token"in r)))return`${this.getHostUrl()}/public/${r.share_token}/r`}async listSharedRuns(e,{runIds:n}={}){const r=new URLSearchParams({share_token:e});if(n!==void 0)for(const s of n)r.append("id",s);return Ye(e),await(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/public/${e}/runs${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(s,"list shared runs"),s})).json()}async readDatasetSharedSchema(e,n){if(!e&&!n)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:n})).id),Ye(e);const i=await(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}/datasets/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(a,"read dataset shared schema"),a})).json();return i.url=`${this.getHostUrl()}/public/${i.share_token}/d`,i}async shareDataset(e,n){if(!e&&!n)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:n})).id);const r={dataset_id:e};Ye(e);const i=JSON.stringify(r),s=await(await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/datasets/${e}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await Pe(o,"share dataset"),o})).json();return s.url=`${this.getHostUrl()}/public/${s.share_token}/d`,s}async unshareDataset(e){Ye(e),await this.caller.call(async()=>{const n=await this._fetch(`${this.apiUrl}/datasets/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(n,"unshare dataset",!0),n})}async readSharedDataset(e){return Ye(e),await(await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/public/${e}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(i,"read shared dataset"),i})).json()}async listSharedExamples(e,n){const r={};n!=null&&n.exampleIds&&(r.id=n.exampleIds);const i=new URLSearchParams;Object.entries(r).forEach(([o,l])=>{Array.isArray(l)?l.forEach(c=>i.append(o,c)):i.append(o,l)});const a=await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/public/${e}/examples?${i.toString()}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(o,"list shared examples"),o}),s=await a.json();if(!a.ok)throw"detail"in s?new Error(`Failed to list shared examples.
Status: ${a.status}
Message: ${Array.isArray(s.detail)?s.detail.join(`
`):"Unspecified error"}`):new Error(`Failed to list shared examples: ${a.status} ${a.statusText}`);return s.map(o=>({...o,_hostUrl:this.getHostUrl()}))}async createProject({projectName:e,description:n=null,metadata:r=null,upsert:i=!1,projectExtra:a=null,referenceDatasetId:s=null}){const o=i?"?upsert=true":"",l=`${this.apiUrl}/sessions${o}`,c=a||{};r&&(c.metadata=r);const d={name:e,extra:c,description:n};s!==null&&(d.reference_dataset_id=s);const f=JSON.stringify(d);return await(await this.caller.call(async()=>{const m=await this._fetch(l,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:f});return await Pe(m,"create project"),m})).json()}async updateProject(e,{name:n=null,description:r=null,metadata:i=null,projectExtra:a=null,endTime:s=null}){const o=`${this.apiUrl}/sessions/${e}`;let l=a;i&&(l={...l||{},metadata:i});const c=JSON.stringify({name:n,extra:l,description:r,end_time:s?new Date(s).toISOString():null});return await(await this.caller.call(async()=>{const h=await this._fetch(o,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await Pe(h,"update project"),h})).json()}async hasProject({projectId:e,projectName:n}){let r="/sessions";const i=new URLSearchParams;if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)Ye(e),r+=`/${e}`;else if(n!==void 0)i.append("name",n);else throw new Error("Must provide projectName or projectId");const a=await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}${r}?${i}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(s,"has project"),s});try{const s=await a.json();return a.ok?Array.isArray(s)?s.length>0:!0:!1}catch{return!1}}async readProject({projectId:e,projectName:n,includeStats:r}){let i="/sessions";const a=new URLSearchParams;if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)Ye(e),i+=`/${e}`;else if(n!==void 0)a.append("name",n);else throw new Error("Must provide projectName or projectId");r!==void 0&&a.append("include_stats",r.toString());const s=await this._get(i,a);let o;if(Array.isArray(s)){if(s.length===0)throw new Error(`Project[id=${e}, name=${n}] not found`);o=s[0]}else o=s;return o}async getProjectUrl({projectId:e,projectName:n}){if(e===void 0&&n===void 0)throw new Error("Must provide either projectName or projectId");const r=await this.readProject({projectId:e,projectName:n}),i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/projects/p/${r.id}`}async getDatasetUrl({datasetId:e,datasetName:n}){if(e===void 0&&n===void 0)throw new Error("Must provide either datasetName or datasetId");const r=await this.readDataset({datasetId:e,datasetName:n}),i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/datasets/${r.id}`}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;const e=new URLSearchParams({limit:"1"});for await(const n of this._getPaginated("/sessions",e))return this._tenantId=n[0].tenant_id,n[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:e,name:n,nameContains:r,referenceDatasetId:i,referenceDatasetName:a,includeStats:s,datasetVersion:o,referenceFree:l,metadata:c}={}){const d=new URLSearchParams;if(e!==void 0)for(const f of e)d.append("id",f);if(n!==void 0&&d.append("name",n),r!==void 0&&d.append("name_contains",r),i!==void 0)d.append("reference_dataset",i);else if(a!==void 0){const f=await this.readDataset({datasetName:a});d.append("reference_dataset",f.id)}s!==void 0&&d.append("include_stats",s.toString()),o!==void 0&&d.append("dataset_version",o),l!==void 0&&d.append("reference_free",l.toString()),c!==void 0&&d.append("metadata",JSON.stringify(c));for await(const f of this._getPaginated("/sessions",d))yield*f}async deleteProject({projectId:e,projectName:n}){let r;if(e===void 0&&n===void 0)throw new Error("Must provide projectName or projectId");if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");e===void 0?r=(await this.readProject({projectName:n})).id:r=e,Ye(r),await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/sessions/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(i,`delete session ${r} (${n})`,!0),i})}async uploadCsv({csvFile:e,fileName:n,inputKeys:r,outputKeys:i,description:a,dataType:s,name:o}){const l=`${this.apiUrl}/datasets/upload`,c=new FormData;return c.append("file",e,n),r.forEach(h=>{c.append("input_keys",h)}),i.forEach(h=>{c.append("output_keys",h)}),a&&c.append("description",a),s&&c.append("data_type",s),o&&c.append("name",o),await(await this.caller.call(async()=>{const h=await this._fetch(l,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await Pe(h,"upload CSV"),h})).json()}async createDataset(e,{description:n,dataType:r,inputsSchema:i,outputsSchema:a,metadata:s}={}){const o={name:e,description:n,extra:s?{metadata:s}:void 0};r&&(o.data_type=r),i&&(o.inputs_schema_definition=i),a&&(o.outputs_schema_definition=a);const l=JSON.stringify(o);return await(await this.caller.call(async()=>{const f=await this._fetch(`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Pe(f,"create dataset"),f})).json()}async readDataset({datasetId:e,datasetName:n}){let r="/datasets";const i=new URLSearchParams({limit:"1"});if(e&&n)throw new Error("Must provide either datasetName or datasetId, not both");if(e)Ye(e),r+=`/${e}`;else if(n)i.append("name",n);else throw new Error("Must provide datasetName or datasetId");const a=await this._get(r,i);let s;if(Array.isArray(a)){if(a.length===0)throw new Error(`Dataset[id=${e}, name=${n}] not found`);s=a[0]}else s=a;return s}async hasDataset({datasetId:e,datasetName:n}){try{return await this.readDataset({datasetId:e,datasetName:n}),!0}catch(r){if(r instanceof Error&&r.message.toLocaleLowerCase().includes("not found"))return!1;throw r}}async diffDatasetVersions({datasetId:e,datasetName:n,fromVersion:r,toVersion:i}){let a=e;if(a===void 0&&n===void 0)throw new Error("Must provide either datasetName or datasetId");if(a!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");a===void 0&&(a=(await this.readDataset({datasetName:n})).id);const s=new URLSearchParams({from_version:typeof r=="string"?r:r.toISOString(),to_version:typeof i=="string"?i:i.toISOString()});return await this._get(`/datasets/${a}/versions/diff`,s)}async readDatasetOpenaiFinetuning({datasetId:e,datasetName:n}){const r="/datasets";if(e===void 0)if(n!==void 0)e=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide either datasetName or datasetId");return(await(await this._getResponse(`${r}/${e}/openai_ft`)).text()).trim().split(`
`).map(o=>JSON.parse(o))}async*listDatasets({limit:e=100,offset:n=0,datasetIds:r,datasetName:i,datasetNameContains:a,metadata:s}={}){const o="/datasets",l=new URLSearchParams({limit:e.toString(),offset:n.toString()});if(r!==void 0)for(const c of r)l.append("id",c);i!==void 0&&l.append("name",i),a!==void 0&&l.append("name_contains",a),s!==void 0&&l.append("metadata",JSON.stringify(s));for await(const c of this._getPaginated(o,l))yield*c}async updateDataset(e){const{datasetId:n,datasetName:r,...i}=e;if(!n&&!r)throw new Error("Must provide either datasetName or datasetId");const a=n??(await this.readDataset({datasetName:r})).id;Ye(a);const s=JSON.stringify(i);return await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/datasets/${a}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Pe(l,"update dataset"),l})).json()}async updateDatasetTag(e){const{datasetId:n,datasetName:r,asOf:i,tag:a}=e;if(!n&&!r)throw new Error("Must provide either datasetName or datasetId");const s=n??(await this.readDataset({datasetName:r})).id;Ye(s);const o=JSON.stringify({as_of:typeof i=="string"?i:i.toISOString(),tag:a});await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/datasets/${s}/tags`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Pe(l,"update dataset tags",!0),l})}async deleteDataset({datasetId:e,datasetName:n}){let r="/datasets",i=e;if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(n!==void 0&&(i=(await this.readDataset({datasetName:n})).id),i!==void 0)Ye(i),r+=`/${i}`;else throw new Error("Must provide datasetName or datasetId");await this.caller.call(async()=>{const a=await this._fetch(this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(a,`delete ${r}`,!0),a})}async indexDataset({datasetId:e,datasetName:n,tag:r}){let i=e;if(!i&&!n)throw new Error("Must provide either datasetName or datasetId");if(i&&n)throw new Error("Must provide either datasetName or datasetId, not both");i||(i=(await this.readDataset({datasetName:n})).id),Ye(i);const s=JSON.stringify({tag:r});await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/datasets/${i}/index`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Pe(l,"index dataset"),l})).json()}async similarExamples(e,n,r,{filter:i}={}){const a={limit:r,inputs:e};i!==void 0&&(a.filter=i),Ye(n);const s=JSON.stringify(a);return(await(await this.caller.call(async()=>{const c=await this._fetch(`${this.apiUrl}/datasets/${n}/search`,{headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,method:"POST",body:s});return await Pe(c,"fetch similar examples"),c})).json()).examples}async createExample(e,n,r){var d;if(f$(e)&&(n!==void 0||r!==void 0))throw new Error("Cannot provide outputs or options when using ExampleCreate object");let i=n?r==null?void 0:r.datasetId:e.dataset_id;const a=n?r==null?void 0:r.datasetName:e.dataset_name;if(i===void 0&&a===void 0)throw new Error("Must provide either datasetName or datasetId");if(i!==void 0&&a!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");i===void 0&&(i=(await this.readDataset({datasetName:a})).id);const s=(n?r==null?void 0:r.createdAt:e.created_at)||new Date;let o;f$(e)?o=e:o={inputs:e,outputs:n,created_at:s==null?void 0:s.toISOString(),id:r==null?void 0:r.exampleId,metadata:r==null?void 0:r.metadata,split:r==null?void 0:r.split,source_run_id:r==null?void 0:r.sourceRunId,use_source_run_io:r==null?void 0:r.useSourceRunIO,use_source_run_attachments:r==null?void 0:r.useSourceRunAttachments,attachments:r==null?void 0:r.attachments};const l=await this._uploadExamplesMultipart(i,[o]);return await this.readExample(((d=l.example_ids)==null?void 0:d[0])??jr())}async createExamples(e){if(Array.isArray(e)){if(e.length===0)return[];const x=e;let b=x[0].dataset_id;const _=x[0].dataset_name;if(b===void 0&&_===void 0)throw new Error("Must provide either datasetName or datasetId");if(b!==void 0&&_!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");b===void 0&&(b=(await this.readDataset({datasetName:_})).id);const w=await this._uploadExamplesMultipart(b,x);return await Promise.all(w.example_ids.map(A=>this.readExample(A)))}const{inputs:n,outputs:r,metadata:i,splits:a,sourceRunIds:s,useSourceRunIOs:o,useSourceRunAttachments:l,attachments:c,exampleIds:d,datasetId:f,datasetName:h}=e;if(n===void 0)throw new Error("Must provide inputs when using legacy parameters");let p=f;const m=h;if(p===void 0&&m===void 0)throw new Error("Must provide either datasetName or datasetId");if(p!==void 0&&m!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");p===void 0&&(p=(await this.readDataset({datasetName:m})).id);const g=n.map((x,b)=>({dataset_id:p,inputs:x,outputs:r==null?void 0:r[b],metadata:i==null?void 0:i[b],split:a==null?void 0:a[b],id:d==null?void 0:d[b],attachments:c==null?void 0:c[b],source_run_id:s==null?void 0:s[b],use_source_run_io:o==null?void 0:o[b],use_source_run_attachments:l==null?void 0:l[b]})),v=await this._uploadExamplesMultipart(p,g);return await Promise.all(v.example_ids.map(x=>this.readExample(x)))}async createLLMExample(e,n,r){return this.createExample({input:e},{output:n},r)}async createChatExample(e,n,r){const i=e.map(s=>F2(s)?B2(s):s),a=F2(n)?B2(n):n;return this.createExample({input:i},{output:a},r)}async readExample(e){Ye(e);const n=`/examples/${e}`,r=await this._get(n),{attachment_urls:i,...a}=r,s=a;return i&&(s.attachments=Object.entries(i).reduce((o,[l,c])=>(o[l.slice(11)]={presigned_url:c.presigned_url,mime_type:c.mime_type},o),{})),s}async*listExamples({datasetId:e,datasetName:n,exampleIds:r,asOf:i,splits:a,inlineS3Urls:s,metadata:o,limit:l,offset:c,filter:d,includeAttachments:f}={}){let h;if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)h=e;else if(n!==void 0)h=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide a datasetName or datasetId");const p=new URLSearchParams({dataset:h}),m=i?typeof i=="string"?i:i==null?void 0:i.toISOString():void 0;m&&p.append("as_of",m);const g=s??!0;if(p.append("inline_s3_urls",g.toString()),r!==void 0)for(const y of r)p.append("id",y);if(a!==void 0)for(const y of a)p.append("splits",y);if(o!==void 0){const y=JSON.stringify(o);p.append("metadata",y)}l!==void 0&&p.append("limit",l.toString()),c!==void 0&&p.append("offset",c.toString()),d!==void 0&&p.append("filter",d),f===!0&&["attachment_urls","outputs","metadata"].forEach(y=>p.append("select",y));let v=0;for await(const y of this._getPaginated("/examples",p)){for(const x of y){const{attachment_urls:b,..._}=x,w=_;b&&(w.attachments=Object.entries(b).reduce((E,[A,j])=>(E[A.slice(11)]={presigned_url:j.presigned_url,mime_type:j.mime_type||void 0},E),{})),yield w,v++}if(l!==void 0&&v>=l)break}}async deleteExample(e){Ye(e);const n=`/examples/${e}`;await this.caller.call(async()=>{const r=await this._fetch(this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(r,`delete ${n}`,!0),r})}async updateExample(e,n){let r;n?r=e:r=e.id,Ye(r);let i;n?i={id:r,...n}:i=e;let a;return i.dataset_id!==void 0?a=i.dataset_id:a=(await this.readExample(r)).dataset_id,this._updateExamplesMultipart(a,[i])}async updateExamples(e){let n;return e[0].dataset_id===void 0?n=(await this.readExample(e[0].id)).dataset_id:n=e[0].dataset_id,this._updateExamplesMultipart(n,e)}async readDatasetVersion({datasetId:e,datasetName:n,asOf:r,tag:i}){let a;if(e?a=e:a=(await this.readDataset({datasetName:n})).id,Ye(a),r&&i||!r&&!i)throw new Error("Exactly one of asOf and tag must be specified.");const s=new URLSearchParams;return r!==void 0&&s.append("as_of",typeof r=="string"?r:r.toISOString()),i!==void 0&&s.append("tag",i),await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/datasets/${a}/version?${s.toString()}`,{method:"GET",headers:{...this.headers},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(l,"read dataset version"),l})).json()}async listDatasetSplits({datasetId:e,datasetName:n,asOf:r}){let i;if(e===void 0&&n===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?i=(await this.readDataset({datasetName:n})).id:i=e,Ye(i);const a=new URLSearchParams,s=r?typeof r=="string"?r:r==null?void 0:r.toISOString():void 0;return s&&a.append("as_of",s),await this._get(`/datasets/${i}/splits`,a)}async updateDatasetSplits({datasetId:e,datasetName:n,splitName:r,exampleIds:i,remove:a=!1}){let s;if(e===void 0&&n===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?s=(await this.readDataset({datasetName:n})).id:s=e,Ye(s);const o={split_name:r,examples:i.map(c=>(Ye(c),c)),remove:a},l=JSON.stringify(o);await this.caller.call(async()=>{const c=await this._fetch(`${this.apiUrl}/datasets/${s}/splits`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Pe(c,"update dataset splits",!0),c})}async evaluateRun(e,n,{sourceInfo:r,loadChildRuns:i,referenceExample:a}={loadChildRuns:!1}){ME("This method is deprecated and will be removed in future LangSmith versions, use `evaluate` from `langsmith/evaluation` instead.");let s;if(typeof e=="string")s=await this.readRun(e,{loadChildRuns:i});else if(typeof e=="object"&&"id"in e)s=e;else throw new Error(`Invalid run type: ${typeof e}`);s.reference_example_id!==null&&s.reference_example_id!==void 0&&(a=await this.readExample(s.reference_example_id));const o=await n.evaluateRun(s,a),[l,c]=await this._logEvaluationFeedback(o,s,r);return c[0]}async createFeedback(e,n,{score:r,value:i,correction:a,comment:s,sourceInfo:o,feedbackSourceType:l="api",sourceRunId:c,feedbackId:d,feedbackConfig:f,projectId:h,comparativeExperimentId:p}){var x;if(!e&&!h)throw new Error("One of runId or projectId must be provided");if(e&&h)throw new Error("Only one of runId or projectId can be provided");const m={type:l??"api",metadata:o??{}};c!==void 0&&(m==null?void 0:m.metadata)!==void 0&&!m.metadata.__run&&(m.metadata.__run={run_id:c}),(m==null?void 0:m.metadata)!==void 0&&((x=m.metadata.__run)==null?void 0:x.run_id)!==void 0&&Ye(m.metadata.__run.run_id);const g={id:d??jr(),run_id:e,key:n,score:u$(r),value:i,correction:a,comment:s,feedback_source:m,comparative_experiment_id:p,feedbackConfig:f,session_id:h},v=JSON.stringify(g),y=`${this.apiUrl}/feedback`;return await this.caller.call(async()=>{const b=await this._fetch(y,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:v});return await Pe(b,"create feedback",!0),b}),g}async updateFeedback(e,{score:n,value:r,correction:i,comment:a}){const s={};n!=null&&(s.score=u$(n)),r!=null&&(s.value=r),i!=null&&(s.correction=i),a!=null&&(s.comment=a),Ye(e);const o=JSON.stringify(s);await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/feedback/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Pe(l,"update feedback",!0),l})}async readFeedback(e){Ye(e);const n=`/feedback/${e}`;return await this._get(n)}async deleteFeedback(e){Ye(e);const n=`/feedback/${e}`;await this.caller.call(async()=>{const r=await this._fetch(this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(r,`delete ${n}`,!0),r})}async*listFeedback({runIds:e,feedbackKeys:n,feedbackSourceTypes:r}={}){const i=new URLSearchParams;if(e)for(const a of e)Ye(a),i.append("run",a);if(n)for(const a of n)i.append("key",a);if(r)for(const a of r)i.append("source",a);for await(const a of this._getPaginated("/feedback",i))yield*a}async createPresignedFeedbackToken(e,n,{expiration:r,feedbackConfig:i}={}){const a={run_id:e,feedback_key:n,feedback_config:i};r?typeof r=="string"?a.expires_at=r:(r!=null&&r.hours||r!=null&&r.minutes||r!=null&&r.days)&&(a.expires_in=r):a.expires_in={hours:3};const s=JSON.stringify(a);return await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Pe(l,"create presigned feedback token"),l})).json()}async createComparativeExperiment({name:e,experimentIds:n,referenceDatasetId:r,createdAt:i,description:a,metadata:s,id:o}){var f;if(n.length===0)throw new Error("At least one experiment is required");if(r||(r=(await this.readProject({projectId:n[0]})).reference_dataset_id),!r==null)throw new Error("A reference dataset is required");const l={id:o,name:e,experiment_ids:n,reference_dataset_id:r,description:a,created_at:(f=i??new Date)==null?void 0:f.toISOString(),extra:{}};s&&(l.extra.metadata=s);const c=JSON.stringify(l);return(await this.caller.call(async()=>{const h=await this._fetch(`${this.apiUrl}/datasets/comparative`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await Pe(h,"create comparative experiment"),h})).json()}async*listPresignedFeedbackTokens(e){Ye(e);const n=new URLSearchParams({run_id:e});for await(const r of this._getPaginated("/feedback/tokens",n))yield*r}_selectEvalResults(e){let n;return"results"in e?n=e.results:Array.isArray(e)?n=e:n=[e],n}async _logEvaluationFeedback(e,n,r){const i=this._selectEvalResults(e),a=[];for(const s of i){let o=r||{};s.evaluatorInfo&&(o={...s.evaluatorInfo,...o});let l=null;s.targetRunId?l=s.targetRunId:n&&(l=n.id),a.push(await this.createFeedback(l,s.key,{score:s.score,value:s.value,comment:s.comment,correction:s.correction,sourceInfo:o,sourceRunId:s.sourceRunId,feedbackConfig:s.feedbackConfig,feedbackSourceType:"model"}))}return[i,a]}async logEvaluationFeedback(e,n,r){const[i]=await this._logEvaluationFeedback(e,n,r);return i}async*listAnnotationQueues(e={}){const{queueIds:n,name:r,nameContains:i,limit:a}=e,s=new URLSearchParams;n&&n.forEach((l,c)=>{Ye(l,`queueIds[${c}]`),s.append("ids",l)}),r&&s.append("name",r),i&&s.append("name_contains",i),s.append("limit",(a!==void 0?Math.min(a,100):100).toString());let o=0;for await(const l of this._getPaginated("/annotation-queues",s))if(yield*l,o++,a!==void 0&&o>=a)break}async createAnnotationQueue(e){const{name:n,description:r,queueId:i,rubricInstructions:a}=e,s={name:n,description:r,id:i||jr(),rubric_instructions:a},o=JSON.stringify(Object.fromEntries(Object.entries(s).filter(([c,d])=>d!==void 0)));return(await this.caller.call(async()=>{const c=await this._fetch(`${this.apiUrl}/annotation-queues`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Pe(c,"create annotation queue"),c})).json()}async readAnnotationQueue(e){return(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(r,"read annotation queue"),r})).json()}async updateAnnotationQueue(e,n){const{name:r,description:i,rubricInstructions:a}=n,s=JSON.stringify({name:r,description:i,rubric_instructions:a});await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Pe(o,"update annotation queue",!0),o})}async deleteAnnotationQueue(e){await this.caller.call(async()=>{const n=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(n,"delete annotation queue",!0),n})}async addRunsToAnnotationQueue(e,n){const r=JSON.stringify(n.map((i,a)=>Ye(i,`runIds[${a}]`).toString()));await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}/runs`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Pe(i,"add runs to annotation queue",!0),i})}async getRunFromAnnotationQueue(e,n){const r=`/annotation-queues/${Ye(e,"queueId")}/run`;return(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}${r}/${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(a,"get run from annotation queue"),a})).json()}async deleteRunFromAnnotationQueue(e,n){await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}/runs/${Ye(n,"queueRunId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(r,"delete run from annotation queue",!0),r})}async getSizeFromAnnotationQueue(e){return(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}/size`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(r,"get size from annotation queue"),r})).json()}async _currentTenantIsOwner(e){const n=await this._getSettings();return e=="-"||n.tenant_handle===e}async _ownerConflictError(e,n){const r=await this._getSettings();return new Error(`Cannot ${e} for another tenant.

      Current tenant: ${r.tenant_handle}

      Requested tenant: ${n}`)}async _getLatestCommitHash(e){const r=await(await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/commits/${e}/?limit=1&offset=0`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(i,"get latest commit hash"),i})).json();if(r.commits.length!==0)return r.commits[0].commit_hash}async _likeOrUnlikePrompt(e,n){const[r,i,a]=xo(e),s=JSON.stringify({like:n});return(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/likes/${r}/${i}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Pe(l,`${n?"like":"unlike"} prompt`),l})).json()}async _getPromptUrl(e){const[n,r,i]=xo(e);if(await this._currentTenantIsOwner(n)){const a=await this._getSettings();return i!=="latest"?`${this.getHostUrl()}/prompts/${r}/${i.substring(0,8)}?organizationId=${a.id}`:`${this.getHostUrl()}/prompts/${r}?organizationId=${a.id}`}else return i!=="latest"?`${this.getHostUrl()}/hub/${n}/${r}/${i.substring(0,8)}`:`${this.getHostUrl()}/hub/${n}/${r}`}async promptExists(e){return!!await this.getPrompt(e)}async likePrompt(e){return this._likeOrUnlikePrompt(e,!0)}async unlikePrompt(e){return this._likeOrUnlikePrompt(e,!1)}async*listCommits(e){for await(const n of this._getPaginated(`/commits/${e}/`,new URLSearchParams,r=>r.commits))yield*n}async*listPrompts(e){const n=new URLSearchParams;n.append("sort_field",(e==null?void 0:e.sortField)??"updated_at"),n.append("sort_direction","desc"),n.append("is_archived",(!!(e!=null&&e.isArchived)).toString()),(e==null?void 0:e.isPublic)!==void 0&&n.append("is_public",e.isPublic.toString()),e!=null&&e.query&&n.append("query",e.query);for await(const r of this._getPaginated("/repos",n,i=>i.repos))yield*r}async getPrompt(e){const[n,r,i]=xo(e),a=await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/repos/${n}/${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return(o==null?void 0:o.status)===404?null:(await Pe(o,"get prompt"),o)}),s=await(a==null?void 0:a.json());return s!=null&&s.repo?s.repo:null}async createPrompt(e,n){const r=await this._getSettings();if(n!=null&&n.isPublic&&!r.tenant_handle)throw new Error(`Cannot create a public prompt without first

        creating a LangChain Hub handle.
        You can add a handle by creating a public prompt at:

        https://smith.langchain.com/prompts`);const[i,a,s]=xo(e);if(!await this._currentTenantIsOwner(i))throw await this._ownerConflictError("create a prompt",i);const o={repo_handle:a,...(n==null?void 0:n.description)&&{description:n.description},...(n==null?void 0:n.readme)&&{readme:n.readme},...(n==null?void 0:n.tags)&&{tags:n.tags},is_public:!!(n!=null&&n.isPublic)},l=JSON.stringify(o),c=await this.caller.call(async()=>{const f=await this._fetch(`${this.apiUrl}/repos/`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Pe(f,"create prompt"),f}),{repo:d}=await c.json();return d}async createCommit(e,n,r){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[i,a,s]=xo(e),o=(r==null?void 0:r.parentCommitHash)==="latest"||!(r!=null&&r.parentCommitHash)?await this._getLatestCommitHash(`${i}/${a}`):r==null?void 0:r.parentCommitHash,l={manifest:JSON.parse(JSON.stringify(n)),parent_commit:o},c=JSON.stringify(l),f=await(await this.caller.call(async()=>{const h=await this._fetch(`${this.apiUrl}/commits/${i}/${a}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await Pe(h,"create commit"),h})).json();return this._getPromptUrl(`${i}/${a}${f.commit_hash?`:${f.commit_hash}`:""}`)}async updateExamplesMultipart(e,n=[]){return this._updateExamplesMultipart(e,n)}async _updateExamplesMultipart(e,n=[]){var s;if(!await this._getDatasetExamplesMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const r=new FormData;for(const o of n){const l=o.id,c={...o.metadata&&{metadata:o.metadata},...o.split&&{split:o.split}},d=Dr(c,`Serializing body for example with id: ${l}`),f=new Blob([d],{type:"application/json"});if(r.append(l,f),o.inputs){const h=Dr(o.inputs,`Serializing inputs for example with id: ${l}`),p=new Blob([h],{type:"application/json"});r.append(`${l}.inputs`,p)}if(o.outputs){const h=Dr(o.outputs,`Serializing outputs whle updating example with id: ${l}`),p=new Blob([h],{type:"application/json"});r.append(`${l}.outputs`,p)}if(o.attachments)for(const[h,p]of Object.entries(o.attachments)){let m,g;Array.isArray(p)?[m,g]=p:(m=p.mimeType,g=p.data);const v=new Blob([g],{type:`${m}; length=${g.byteLength}`});r.append(`${l}.attachment.${h}`,v)}if(o.attachments_operations){const h=Dr(o.attachments_operations,`Serializing attachments while updating example with id: ${l}`),p=new Blob([h],{type:"application/json"});r.append(`${l}.attachments_operations`,p)}}const i=e??((s=n[0])==null?void 0:s.dataset_id);return(await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${i}/examples`)}`,{method:"PATCH",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Pe(o,"update examples"),o})).json()}async uploadExamplesMultipart(e,n=[]){return this._uploadExamplesMultipart(e,n)}async _uploadExamplesMultipart(e,n=[]){if(!await this._getDatasetExamplesMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const r=new FormData;for(const a of n){const s=(a.id??jr()).toString(),o={created_at:a.created_at,...a.metadata&&{metadata:a.metadata},...a.split&&{split:a.split},...a.source_run_id&&{source_run_id:a.source_run_id},...a.use_source_run_io&&{use_source_run_io:a.use_source_run_io},...a.use_source_run_attachments&&{use_source_run_attachments:a.use_source_run_attachments}},l=Dr(o,`Serializing body for uploaded example with id: ${s}`),c=new Blob([l],{type:"application/json"});if(r.append(s,c),a.inputs){const d=Dr(a.inputs,`Serializing inputs for uploaded example with id: ${s}`),f=new Blob([d],{type:"application/json"});r.append(`${s}.inputs`,f)}if(a.outputs){const d=Dr(a.outputs,`Serializing outputs for uploaded example with id: ${s}`),f=new Blob([d],{type:"application/json"});r.append(`${s}.outputs`,f)}if(a.attachments)for(const[d,f]of Object.entries(a.attachments)){let h,p;Array.isArray(f)?[h,p]=f:(h=f.mimeType,p=f.data);const m=new Blob([p],{type:`${h}; length=${p.byteLength}`});r.append(`${s}.attachment.${d}`,m)}}return(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${e}/examples`)}`,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Pe(a,"upload examples"),a})).json()}async updatePrompt(e,n){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[r,i]=xo(e);if(!await this._currentTenantIsOwner(r))throw await this._ownerConflictError("update a prompt",r);const a={};if((n==null?void 0:n.description)!==void 0&&(a.description=n.description),(n==null?void 0:n.readme)!==void 0&&(a.readme=n.readme),(n==null?void 0:n.tags)!==void 0&&(a.tags=n.tags),(n==null?void 0:n.isPublic)!==void 0&&(a.is_public=n.isPublic),(n==null?void 0:n.isArchived)!==void 0&&(a.is_archived=n.isArchived),Object.keys(a).length===0)throw new Error("No valid update options provided");const s=JSON.stringify(a);return(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/repos/${r}/${i}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Pe(l,"update prompt"),l})).json()}async deletePrompt(e){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[n,r,i]=xo(e);if(!await this._currentTenantIsOwner(n))throw await this._ownerConflictError("delete a prompt",n);return(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/repos/${n}/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(s,"delete prompt"),s})).json()}async pullPromptCommit(e,n){const[r,i,a]=xo(e),o=await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/commits/${r}/${i}/${a}${n!=null&&n.includeModel?"?include_model=true":""}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(l,"pull prompt commit"),l})).json();return{owner:r,repo:i,commit_hash:o.commit_hash,manifest:o.manifest,examples:o.examples}}async _pullPrompt(e,n){const r=await this.pullPromptCommit(e,{includeModel:n==null?void 0:n.includeModel});return JSON.stringify(r.manifest)}async pushPrompt(e,n){return await this.promptExists(e)?n&&Object.keys(n).some(i=>i!=="object")&&await this.updatePrompt(e,{description:n==null?void 0:n.description,readme:n==null?void 0:n.readme,tags:n==null?void 0:n.tags,isPublic:n==null?void 0:n.isPublic}):await this.createPrompt(e,{description:n==null?void 0:n.description,readme:n==null?void 0:n.readme,tags:n==null?void 0:n.tags,isPublic:n==null?void 0:n.isPublic}),n!=null&&n.object?await this.createCommit(e,n==null?void 0:n.object,{parentCommitHash:n==null?void 0:n.parentCommitHash}):await this._getPromptUrl(e)}async clonePublicDataset(e,n={}){const{sourceApiUrl:r=this.apiUrl,datasetName:i}=n,[a,s]=this.parseTokenOrUrl(e,r),o=new Fd({apiUrl:a,apiKey:"placeholder"}),l=await o.readSharedDataset(s),c=i||l.name;try{if(await this.hasDataset({datasetId:c})){console.log(`Dataset ${c} already exists in your tenant. Skipping.`);return}}catch{}const d=await o.listSharedExamples(s),f=await this.createDataset(c,{description:l.description,dataType:l.data_type||"kv",inputsSchema:l.inputs_schema_definition??void 0,outputsSchema:l.outputs_schema_definition??void 0});try{await this.createExamples({inputs:d.map(h=>h.inputs),outputs:d.flatMap(h=>h.outputs?[h.outputs]:[]),datasetId:f.id})}catch(h){throw console.error(`An error occurred while creating dataset ${c}. You should delete it manually.`),h}}parseTokenOrUrl(e,n,r=2,i="dataset"){try{return Ye(e),[n,e]}catch{}try{const s=new URL(e).pathname.split("/").filter(o=>o!=="");if(s.length>=r){const o=s[s.length-r];return[n,o]}else throw new Error(`Invalid public ${i} URL: ${e}`)}catch{throw new Error(`Invalid public ${i} URL or token: ${e}`)}}async awaitPendingTraceBatches(){var e,n;if(this.manualFlushMode)return console.warn("[WARNING]: When tracing in manual flush mode, you must call `await client.flush()` manually to submit trace batches."),Promise.resolve();await Promise.all([...this.autoBatchQueue.items.map(({itemPromise:r})=>r),this.batchIngestCaller.queue.onIdle()]),this.langSmithToOTELTranslator!==void 0&&await((n=(e=oue())==null?void 0:e.DEFAULT_LANGSMITH_SPAN_PROCESSOR)==null?void 0:n.forceFlush())}}function f$(t){return"dataset_id"in t||"dataset_name"in t}const Fhe=t=>!!["TRACING_V2","TRACING"].find(n=>Ar(n)==="true"),tl=Symbol.for("lc:context_variables"),K_=Symbol.for("langsmith:replica_trace_roots");function h$(t,e){if(tl in t)return t[tl][e]}function Bhe(t,e,n){const r=tl in t?t[tl]:{};r[e]=n,t[tl]=r}const uh=36,Nh="6ba7b810-9dad-11d1-80b4-00c04fd430c8";function p$(t){const n=Object.keys(t).sort().map(r=>`${r}:${t[r]??""}`).join("|");return Oh(n,Nh)}function zhe(t){return t.replace(/[-:.]/g,"")}function JU(t,e=1){const n=e.toFixed(0).slice(0,3).padStart(3,"0");return`${new Date(t).toISOString().slice(0,-1)}${n}Z`}function QU(t,e,n=1){const r=JU(t,n);return{dottedOrder:zhe(r)+e,microsecondPrecisionDatestring:r}}class r0{constructor(e,n,r,i){Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.metadata=e,this.tags=n,this.project_name=r,this.replicas=i}static fromHeader(e){const n=e.split(",");let r={},i=[],a,s;for(const o of n){const[l,c]=o.split("="),d=decodeURIComponent(c);l==="langsmith-metadata"?r=JSON.parse(d):l==="langsmith-tags"?i=d.split(","):l==="langsmith-project"?a=d:l==="langsmith-replicas"&&(s=JSON.parse(d))}return new r0(r,i,a,s)}toHeader(){const e=[];return this.metadata&&Object.keys(this.metadata).length>0&&e.push(`langsmith-metadata=${encodeURIComponent(JSON.stringify(this.metadata))}`),this.tags&&this.tags.length>0&&e.push(`langsmith-tags=${encodeURIComponent(this.tags.join(","))}`),this.project_name&&e.push(`langsmith-project=${encodeURIComponent(this.project_name)}`),e.join(",")}}class _r{constructor(e){var o;if(Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"run_type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_runs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"end_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extra",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reference_example_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dotted_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"attachments",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"distributedParentId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_serialized_start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Uhe(e)){Object.assign(this,{...e});return}const n=_r.getDefaultConfig(),{metadata:r,...i}=e,a=i.client??_r.getSharedClient(),s={...r,...(o=i==null?void 0:i.extra)==null?void 0:o.metadata};if(i.extra={...i.extra,metadata:s},"id"in i&&i.id==null&&delete i.id,Object.assign(this,{...n,...i,client:a}),this.execution_order??(this.execution_order=1),this.child_execution_order??(this.child_execution_order=1),this.dotted_order||(this._serialized_start_time=JU(this.start_time,this.execution_order)),this.id||(this.id=Gce(this._serialized_start_time??this.start_time)),this.trace_id||(this.parent_run?this.trace_id=this.parent_run.trace_id??this.id:this.trace_id=this.id),this.replicas=qhe(this.replicas),!this.dotted_order){const{dottedOrder:l}=QU(this.start_time,this.id,this.execution_order);this.parent_run?this.dotted_order=this.parent_run.dotted_order+"."+l:this.dotted_order=l}}set metadata(e){var n;this.extra={...this.extra,metadata:{...(n=this.extra)==null?void 0:n.metadata,...e}}}get metadata(){var e;return(e=this.extra)==null?void 0:e.metadata}static getDefaultConfig(){const e=Date.now();return{run_type:"chain",project_name:TU(),child_runs:[],api_url:cs("LANGCHAIN_ENDPOINT")??"http://localhost:1984",api_key:cs("LANGCHAIN_API_KEY"),caller_options:{},start_time:e,serialized:{},inputs:{},extra:{}}}static getSharedClient(){return _r.sharedClient||(_r.sharedClient=new Fd),_r.sharedClient}createChild(e){var d,f,h,p,m,g,v;const n=this.child_execution_order+1,r=(d=this.replicas)==null?void 0:d.map(y=>{const{reroot:x,...b}=y;return b}),i=e.replicas??r,a=new _r({...e,parent_run:this,project_name:this.project_name,replicas:i,client:this.client,tracingEnabled:this.tracingEnabled,execution_order:n,child_execution_order:n});tl in this&&(a[tl]=this[tl]);const s=Symbol.for("lc:child_config"),o=((f=e.extra)==null?void 0:f[s])??this.extra[s];if(Whe(o)){const y={...o},x=Hhe(y.callbacks)?(p=(h=y.callbacks).copy)==null?void 0:p.call(h):void 0;x&&(Object.assign(x,{_parentRunId:a.id}),(v=(g=(m=x.handlers)==null?void 0:m.find(e6))==null?void 0:g.updateFromRunTree)==null||v.call(g,a),y.callbacks=x),a.extra[s]=y}const l=new Set;let c=this;for(;c!=null&&!l.has(c.id);)l.add(c.id),c.child_execution_order=Math.max(c.child_execution_order,n),c=c.parent_run;return this.child_runs.push(a),a}async end(e,n,r=Date.now(),i){this.outputs=this.outputs??e,this.error=this.error??n,this.end_time=this.end_time??r,i&&Object.keys(i).length>0&&(this.extra=this.extra?{...this.extra,metadata:{...this.extra.metadata,...i}}:{metadata:i})}_convertToCreate(e,n,r=!0){var o,l;const i=e.extra??{};if(((o=i==null?void 0:i.runtime)==null?void 0:o.library)===void 0&&(i.runtime||(i.runtime={}),n))for(const[c,d]of Object.entries(n))i.runtime[c]||(i.runtime[c]=d);let a,s;return r?(s=((l=e.parent_run)==null?void 0:l.id)??e.parent_run_id,a=[]):(a=e.child_runs.map(c=>this._convertToCreate(c,n,r)),s=void 0),{id:e.id,name:e.name,start_time:e._serialized_start_time??e.start_time,end_time:e.end_time,run_type:e.run_type,reference_example_id:e.reference_example_id,extra:i,serialized:e.serialized,error:e.error,inputs:e.inputs,outputs:e.outputs,session_name:e.project_name,child_runs:a,parent_run_id:s,trace_id:e.trace_id,dotted_order:e.dotted_order,tags:e.tags,attachments:e.attachments,events:e.events}}_sliceParentId(e,n){if(n.dotted_order){const r=n.dotted_order.split(".");let i=null;for(let a=0;a<r.length;a++)if(r[a].slice(-uh)===e){i=a;break}if(i!==null){const a=r.slice(i+1);n.dotted_order=a.join("."),a.length>0?n.trace_id=a[0].slice(-uh):n.trace_id=n.id}}n.parent_run_id===e&&(n.parent_run_id=void 0)}_setReplicaTraceRoot(e,n){const r=h$(this,K_)??{};r[e]=n,Bhe(this,K_,r);for(const i of this.child_runs)i._setReplicaTraceRoot(e,n)}_remapForProject(e){const{projectName:n,runtimeEnv:r,excludeChildRuns:i=!0,reroot:a=!1,distributedParentId:s,apiUrl:o,apiKey:l,workspaceId:c}=e,d=this._convertToCreate(this,r,i);if(n===this.project_name)return{...d,session_name:n};if(a){if(s)this._sliceParentId(s,d);else if(d.parent_run_id=void 0,d.dotted_order){const x=d.dotted_order.split(".");x.length>0&&(d.dotted_order=x[x.length-1],d.trace_id=d.id)}const y=p$({projectName:n,apiUrl:o,apiKey:l,workspaceId:c});this._setReplicaTraceRoot(y,d.id)}let f;if(!a){const y=h$(this,K_)??{},x=p$({projectName:n,apiUrl:o,apiKey:l,workspaceId:c});if(f=y[x],f&&(d.trace_id=f,d.dotted_order)){const b=d.dotted_order.split(".");let _=null;for(let w=0;w<b.length;w++)if(b[w].slice(-uh)===f){_=w;break}if(_!==null){const w=b.slice(_);d.dotted_order=w.join(".")}}}const h=d.id,p=Oh(`${h}:${n}`,Nh);let m;d.trace_id?m=Oh(`${d.trace_id}:${n}`,Nh):m=p;let g;d.parent_run_id&&(g=Oh(`${d.parent_run_id}:${n}`,Nh));let v;return d.dotted_order&&(v=d.dotted_order.split(".").map(b=>{const _=b.slice(-uh),w=Oh(`${_}:${n}`,Nh);return b.slice(0,-uh)+w}).join(".")),{...d,id:p,trace_id:m,parent_run_id:g,dotted_order:v,session_name:n}}async postRun(e=!0){try{const n=PU();if(this.replicas&&this.replicas.length>0)for(const{projectName:r,apiKey:i,apiUrl:a,workspaceId:s,reroot:o}of this.replicas){const l=this._remapForProject({projectName:r??this.project_name,runtimeEnv:n,excludeChildRuns:!0,reroot:o,distributedParentId:this.distributedParentId,apiUrl:a,apiKey:i,workspaceId:s});await this.client.createRun(l,{apiKey:i,apiUrl:a,workspaceId:s})}else{const r=this._convertToCreate(this,n,e);await this.client.createRun(r)}if(!e){ME("Posting with excludeChildRuns=false is deprecated and will be removed in a future version.");for(const r of this.child_runs)await r.postRun(!1)}}catch(n){console.error(`Error in postRun for run ${this.id}:`,n)}}async patchRun(e){var n;if(this.replicas&&this.replicas.length>0)for(const{projectName:r,apiKey:i,apiUrl:a,workspaceId:s,updates:o,reroot:l}of this.replicas){const c=this._remapForProject({projectName:r??this.project_name,runtimeEnv:void 0,excludeChildRuns:!0,reroot:l,distributedParentId:this.distributedParentId,apiUrl:a,apiKey:i,workspaceId:s}),d={id:c.id,name:c.name,run_type:c.run_type,start_time:c.start_time,outputs:c.outputs,error:c.error,parent_run_id:c.parent_run_id,session_name:c.session_name,reference_example_id:c.reference_example_id,end_time:c.end_time,dotted_order:c.dotted_order,trace_id:c.trace_id,events:c.events,tags:c.tags,extra:c.extra,attachments:this.attachments,...o};e!=null&&e.excludeInputs||(d.inputs=c.inputs),await this.client.updateRun(c.id,d,{apiKey:i,apiUrl:a,workspaceId:s})}else try{const r={name:this.name,run_type:this.run_type,start_time:this._serialized_start_time??this.start_time,end_time:this.end_time,error:this.error,outputs:this.outputs,parent_run_id:((n=this.parent_run)==null?void 0:n.id)??this.parent_run_id,reference_example_id:this.reference_example_id,extra:this.extra,events:this.events,dotted_order:this.dotted_order,trace_id:this.trace_id,tags:this.tags,attachments:this.attachments,session_name:this.project_name};e!=null&&e.excludeInputs||(r.inputs=this.inputs),await this.client.updateRun(this.id,r)}catch(r){console.error(`Error in patchRun for run ${this.id}`,r)}}toJSON(){return this._convertToCreate(this,void 0,!1)}addEvent(e){this.events||(this.events=[]),typeof e=="string"?this.events.push({name:"event",time:new Date().toISOString(),message:e}):this.events.push({...e,time:e.time??new Date().toISOString()})}static fromRunnableConfig(e,n){var c,d,f,h;const r=e==null?void 0:e.callbacks;let i,a,s,o=Fhe();if(r){const p=((c=r==null?void 0:r.getParentRunId)==null?void 0:c.call(r))??"",m=(d=r==null?void 0:r.handlers)==null?void 0:d.find(g=>(g==null?void 0:g.name)=="langchain_tracer");i=(f=m==null?void 0:m.getRun)==null?void 0:f.call(m,p),a=m==null?void 0:m.projectName,s=m==null?void 0:m.client,o=o||!!m}return i?new _r({name:i.name,id:i.id,trace_id:i.trace_id,dotted_order:i.dotted_order,client:s,tracingEnabled:o,project_name:a,tags:[...new Set(((i==null?void 0:i.tags)??[]).concat((e==null?void 0:e.tags)??[]))],extra:{metadata:{...(h=i==null?void 0:i.extra)==null?void 0:h.metadata,...e==null?void 0:e.metadata}}}).createChild(n):new _r({...n,client:s,tracingEnabled:o,project_name:a})}static fromDottedOrder(e){return this.fromHeaders({"langsmith-trace":e})}static fromHeaders(e,n){var d;const r="get"in e&&typeof e.get=="function"?{"langsmith-trace":e.get("langsmith-trace"),baggage:e.get("baggage")}:e,i=r["langsmith-trace"];if(!i||typeof i!="string")return;const a=i.trim(),s=a.split(".").map(f=>{const[h,p]=f.split("Z");return{strTime:h,time:Date.parse(h+"Z"),uuid:p}}),o=s[0].uuid,l={...n,name:(n==null?void 0:n.name)??"parent",run_type:(n==null?void 0:n.run_type)??"chain",start_time:(n==null?void 0:n.start_time)??Date.now(),id:(d=s.at(-1))==null?void 0:d.uuid,trace_id:o,dotted_order:a};if(r.baggage&&typeof r.baggage=="string"){const f=r0.fromHeader(r.baggage);l.metadata=f.metadata,l.tags=f.tags,l.project_name=f.project_name,l.replicas=f.replicas}const c=new _r(l);return c.distributedParentId=c.id,c}toHeaders(e){var r;const n={"langsmith-trace":this.dotted_order,baggage:new r0((r=this.extra)==null?void 0:r.metadata,this.tags,this.project_name,this.replicas).toHeader()};if(e)for(const[i,a]of Object.entries(n))e.set(i,a);return n}}Object.defineProperty(_r,"sharedClient",{enumerable:!0,configurable:!0,writable:!0,value:null});function Uhe(t){return t!=null&&typeof t.createChild=="function"&&typeof t.postRun=="function"}function e6(t){return typeof t=="object"&&t!=null&&typeof t.name=="string"&&t.name==="langchain_tracer"}function m$(t){return Array.isArray(t)&&t.some(e=>e6(e))}function Hhe(t){return typeof t=="object"&&t!=null&&Array.isArray(t.handlers)}function Whe(t){var e;return t!=null&&typeof t.callbacks=="object"&&(m$((e=t.callbacks)==null?void 0:e.handlers)||m$(t.callbacks))}function Vhe(){const t=cs("LANGSMITH_RUNS_ENDPOINTS");if(!t)return[];try{const e=JSON.parse(t);if(Array.isArray(e)){const n=[];for(const r of e){if(typeof r!="object"||r===null){console.warn(`Invalid item type in LANGSMITH_RUNS_ENDPOINTS: expected object, got ${typeof r}`);continue}if(typeof r.api_url!="string"){console.warn(`Invalid api_url type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof r.api_url}`);continue}if(typeof r.api_key!="string"){console.warn(`Invalid api_key type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof r.api_key}`);continue}n.push({apiUrl:r.api_url.replace(/\/$/,""),apiKey:r.api_key})}return n}else if(typeof e=="object"&&e!==null){Ghe(e);const n=[];for(const[r,i]of Object.entries(e)){const a=r.replace(/\/$/,"");if(typeof i=="string")n.push({apiUrl:a,apiKey:i});else{console.warn(`Invalid value type in LANGSMITH_RUNS_ENDPOINTS for URL ${r}: expected string, got ${typeof i}`);continue}}return n}else return console.warn(`Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of objects with api_url and api_key properties, or object mapping url->apiKey, got ${typeof e}`),[]}catch(e){if(jhe(e))throw e;return console.warn("Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of objects with api_url and api_key properties, or object mapping url->apiKey"),[]}}function qhe(t){return t?t.map(e=>Array.isArray(e)?{projectName:e[0],updates:e[1]}:e):Vhe()}function Ghe(t){if(Object.keys(t).length>0&&Ar("ENDPOINT"))throw new Ehe}var Khe={};wt(Khe,{BaseTracer:()=>Nf,isBaseTracer:()=>Eu});const Yhe=t=>{if(t)return t.events=t.events??[],t.child_runs=t.child_runs??[],t};function FE(t,e){if(t)return new _r({...t,start_time:t._serialized_start_time??t.start_time,parent_run:FE(e),child_runs:t.child_runs.map(n=>FE(n)).filter(n=>n!==void 0),extra:{...t.extra,runtime:SU()},tracingEnabled:!1})}function Y_(t,e){return t&&!Array.isArray(t)&&typeof t=="object"?t:{[e]:t}}function Eu(t){return typeof t._addRunToRunMap=="function"}var Nf=class extends ng{constructor(e){super(...arguments);z(this,"runMap",new Map);z(this,"runTreeMap",new Map);z(this,"usesRunTreeMap",!1)}copy(){return this}getRunById(e){if(e!==void 0)return this.usesRunTreeMap?Yhe(this.runTreeMap.get(e)):this.runMap.get(e)}stringifyError(e){return e instanceof Error?e.message+(e!=null&&e.stack?`

${e.stack}`:""):typeof e=="string"?e:`${e}`}_addChildRun(e,n){e.child_runs.push(n)}_addRunToRunMap(e){const{dottedOrder:n,microsecondPrecisionDatestring:r}=QU(new Date(e.start_time).getTime(),e.id,e.execution_order),i={...e},a=this.getRunById(i.parent_run_id);if(i.parent_run_id!==void 0?a&&(this._addChildRun(a,i),a.child_execution_order=Math.max(a.child_execution_order,i.child_execution_order),i.trace_id=a.trace_id,a.dotted_order!==void 0&&(i.dotted_order=[a.dotted_order,n].join("."),i._serialized_start_time=r)):(i.trace_id=i.id,i.dotted_order=n,i._serialized_start_time=r),this.usesRunTreeMap){const s=FE(i,a);s!==void 0&&this.runTreeMap.set(i.id,s)}else this.runMap.set(i.id,i);return i}async _endTrace(e){var r;const n=e.parent_run_id!==void 0&&this.getRunById(e.parent_run_id);n?n.child_execution_order=Math.max(n.child_execution_order,e.child_execution_order):await this.persistRun(e),await((r=this.onRunUpdate)==null?void 0:r.call(this,e)),this.usesRunTreeMap?this.runTreeMap.delete(e.id):this.runMap.delete(e.id)}_getExecutionOrder(e){const n=e!==void 0&&this.getRunById(e);return n?n.child_execution_order+1:1}_createRunForLLMStart(e,n,r,i,a,s,o,l){const c=this._getExecutionOrder(i),d=Date.now(),f=o?{...a,metadata:o}:a,h={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:{prompts:n},execution_order:c,child_runs:[],child_execution_order:c,run_type:"llm",extra:f??{},tags:s||[]};return this._addRunToRunMap(h)}async handleLLMStart(e,n,r,i,a,s,o,l){var d,f;const c=this.getRunById(r)??this._createRunForLLMStart(e,n,r,i,a,s,o,l);return await((d=this.onRunCreate)==null?void 0:d.call(this,c)),await((f=this.onLLMStart)==null?void 0:f.call(this,c)),c}_createRunForChatModelStart(e,n,r,i,a,s,o,l){const c=this._getExecutionOrder(i),d=Date.now(),f=o?{...a,metadata:o}:a,h={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:{messages:n},execution_order:c,child_runs:[],child_execution_order:c,run_type:"llm",extra:f??{},tags:s||[]};return this._addRunToRunMap(h)}async handleChatModelStart(e,n,r,i,a,s,o,l){var d,f;const c=this.getRunById(r)??this._createRunForChatModelStart(e,n,r,i,a,s,o,l);return await((d=this.onRunCreate)==null?void 0:d.call(this,c)),await((f=this.onLLMStart)==null?void 0:f.call(this,c)),c}async handleLLMEnd(e,n,r,i,a){var o;const s=this.getRunById(n);if(!s||(s==null?void 0:s.run_type)!=="llm")throw new Error("No LLM run to end.");return s.end_time=Date.now(),s.outputs=e,s.events.push({name:"end",time:new Date(s.end_time).toISOString()}),s.extra={...s.extra,...a},await((o=this.onLLMEnd)==null?void 0:o.call(this,s)),await this._endTrace(s),s}async handleLLMError(e,n,r,i,a){var o;const s=this.getRunById(n);if(!s||(s==null?void 0:s.run_type)!=="llm")throw new Error("No LLM run to end.");return s.end_time=Date.now(),s.error=this.stringifyError(e),s.events.push({name:"error",time:new Date(s.end_time).toISOString()}),s.extra={...s.extra,...a},await((o=this.onLLMError)==null?void 0:o.call(this,s)),await this._endTrace(s),s}_createRunForChainStart(e,n,r,i,a,s,o,l){const c=this._getExecutionOrder(i),d=Date.now(),f={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:n,execution_order:c,child_execution_order:c,run_type:o??"chain",child_runs:[],extra:s?{metadata:s}:{},tags:a||[]};return this._addRunToRunMap(f)}async handleChainStart(e,n,r,i,a,s,o,l){var d,f;const c=this.getRunById(r)??this._createRunForChainStart(e,n,r,i,a,s,o,l);return await((d=this.onRunCreate)==null?void 0:d.call(this,c)),await((f=this.onChainStart)==null?void 0:f.call(this,c)),c}async handleChainEnd(e,n,r,i,a){var o;const s=this.getRunById(n);if(!s)throw new Error("No chain run to end.");return s.end_time=Date.now(),s.outputs=Y_(e,"output"),s.events.push({name:"end",time:new Date(s.end_time).toISOString()}),(a==null?void 0:a.inputs)!==void 0&&(s.inputs=Y_(a.inputs,"input")),await((o=this.onChainEnd)==null?void 0:o.call(this,s)),await this._endTrace(s),s}async handleChainError(e,n,r,i,a){var o;const s=this.getRunById(n);if(!s)throw new Error("No chain run to end.");return s.end_time=Date.now(),s.error=this.stringifyError(e),s.events.push({name:"error",time:new Date(s.end_time).toISOString()}),(a==null?void 0:a.inputs)!==void 0&&(s.inputs=Y_(a.inputs,"input")),await((o=this.onChainError)==null?void 0:o.call(this,s)),await this._endTrace(s),s}_createRunForToolStart(e,n,r,i,a,s,o){const l=this._getExecutionOrder(i),c=Date.now(),d={id:r,name:o??e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{input:n},execution_order:l,child_execution_order:l,run_type:"tool",child_runs:[],extra:s?{metadata:s}:{},tags:a||[]};return this._addRunToRunMap(d)}async handleToolStart(e,n,r,i,a,s,o){var c,d;const l=this.getRunById(r)??this._createRunForToolStart(e,n,r,i,a,s,o);return await((c=this.onRunCreate)==null?void 0:c.call(this,l)),await((d=this.onToolStart)==null?void 0:d.call(this,l)),l}async handleToolEnd(e,n){var i;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.outputs={output:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((i=this.onToolEnd)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleToolError(e,n){var i;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((i=this.onToolError)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleAgentAction(e,n){var a;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="chain")return;const i=r;i.actions=i.actions||[],i.actions.push(e),i.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:e}}),await((a=this.onAgentAction)==null?void 0:a.call(this,r))}async handleAgentEnd(e,n){var i;const r=this.getRunById(n);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:e}}),await((i=this.onAgentEnd)==null?void 0:i.call(this,r)))}_createRunForRetrieverStart(e,n,r,i,a,s,o){const l=this._getExecutionOrder(i),c=Date.now(),d={id:r,name:o??e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{query:n},execution_order:l,child_execution_order:l,run_type:"retriever",child_runs:[],extra:s?{metadata:s}:{},tags:a||[]};return this._addRunToRunMap(d)}async handleRetrieverStart(e,n,r,i,a,s,o){var c,d;const l=this.getRunById(r)??this._createRunForRetrieverStart(e,n,r,i,a,s,o);return await((c=this.onRunCreate)==null?void 0:c.call(this,l)),await((d=this.onRetrieverStart)==null?void 0:d.call(this,l)),l}async handleRetrieverEnd(e,n){var i;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.outputs={documents:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((i=this.onRetrieverEnd)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleRetrieverError(e,n){var i;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((i=this.onRetrieverError)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleText(e,n){var i;const r=this.getRunById(n);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:e}}),await((i=this.onText)==null?void 0:i.call(this,r)))}async handleLLMNewToken(e,n,r,i,a,s){var l;const o=this.getRunById(r);if(!o||(o==null?void 0:o.run_type)!=="llm")throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return o.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:e,idx:n,chunk:s==null?void 0:s.chunk}}),await((l=this.onLLMNewToken)==null?void 0:l.call(this,o,e,{chunk:s==null?void 0:s.chunk})),o}},hk={exports:{}};hk.exports;(function(t){const n=(a=0)=>s=>`\x1B[${38+a};5;${s}m`,r=(a=0)=>(s,o,l)=>`\x1B[${38+a};2;${s};${o};${l}m`;function i(){const a=new Map,s={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};s.color.gray=s.color.blackBright,s.bgColor.bgGray=s.bgColor.bgBlackBright,s.color.grey=s.color.blackBright,s.bgColor.bgGrey=s.bgColor.bgBlackBright;for(const[o,l]of Object.entries(s)){for(const[c,d]of Object.entries(l))s[c]={open:`\x1B[${d[0]}m`,close:`\x1B[${d[1]}m`},l[c]=s[c],a.set(d[0],d[1]);Object.defineProperty(s,o,{value:l,enumerable:!1})}return Object.defineProperty(s,"codes",{value:a,enumerable:!1}),s.color.close="\x1B[39m",s.bgColor.close="\x1B[49m",s.color.ansi256=n(),s.color.ansi16m=r(),s.bgColor.ansi256=n(10),s.bgColor.ansi16m=r(10),Object.defineProperties(s,{rgbToAnsi256:{value:(o,l,c)=>o===l&&l===c?o<8?16:o>248?231:Math.round((o-8)/247*24)+232:16+36*Math.round(o/255*5)+6*Math.round(l/255*5)+Math.round(c/255*5),enumerable:!1},hexToRgb:{value:o=>{const l=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(o.toString(16));if(!l)return[0,0,0];let{colorString:c}=l.groups;c.length===3&&(c=c.split("").map(f=>f+f).join(""));const d=Number.parseInt(c,16);return[d>>16&255,d>>8&255,d&255]},enumerable:!1},hexToAnsi256:{value:o=>s.rgbToAnsi256(...s.hexToRgb(o)),enumerable:!1}}),s}Object.defineProperty(t,"exports",{enumerable:!0,get:i})})(hk);var Xhe=hk.exports;const t6=at(Xhe);var Zhe={};wt(Zhe,{ConsoleCallbackHandler:()=>BE});function rr(t,e){return`${t.open}${e}${t.close}`}function vi(t,e){try{return JSON.stringify(t,null,2)}catch{return e}}function g$(t){return typeof t=="string"?t.trim():t==null?t:vi(t,t.toString())}function bo(t){if(!t.end_time)return"";const e=t.end_time-t.start_time;return e<1e3?`${e}ms`:`${(e/1e3).toFixed(2)}s`}const{color:br}=t6;var BE=class extends Nf{constructor(){super(...arguments);z(this,"name","console_callback_handler")}persistRun(e){return Promise.resolve()}getParents(e){const n=[];let r=e;for(;r.parent_run_id;){const i=this.runMap.get(r.parent_run_id);if(i)n.push(i),r=i;else break}return n}getBreadcrumbs(e){const r=[...this.getParents(e).reverse(),e].map((i,a,s)=>{const o=`${i.execution_order}:${i.run_type}:${i.name}`;return a===s.length-1?rr(t6.bold,o):o}).join(" > ");return rr(br.grey,r)}onChainStart(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.green,"[chain/start]")} [${n}] Entering Chain run with input: ${vi(e.inputs,"[inputs]")}`)}onChainEnd(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.cyan,"[chain/end]")} [${n}] [${bo(e)}] Exiting Chain run with output: ${vi(e.outputs,"[outputs]")}`)}onChainError(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.red,"[chain/error]")} [${n}] [${bo(e)}] Chain run errored with error: ${vi(e.error,"[error]")}`)}onLLMStart(e){const n=this.getBreadcrumbs(e),r="prompts"in e.inputs?{prompts:e.inputs.prompts.map(i=>i.trim())}:e.inputs;console.log(`${rr(br.green,"[llm/start]")} [${n}] Entering LLM run with input: ${vi(r,"[inputs]")}`)}onLLMEnd(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.cyan,"[llm/end]")} [${n}] [${bo(e)}] Exiting LLM run with output: ${vi(e.outputs,"[response]")}`)}onLLMError(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.red,"[llm/error]")} [${n}] [${bo(e)}] LLM run errored with error: ${vi(e.error,"[error]")}`)}onToolStart(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.green,"[tool/start]")} [${n}] Entering Tool run with input: "${g$(e.inputs.input)}"`)}onToolEnd(e){var r;const n=this.getBreadcrumbs(e);console.log(`${rr(br.cyan,"[tool/end]")} [${n}] [${bo(e)}] Exiting Tool run with output: "${g$((r=e.outputs)==null?void 0:r.output)}"`)}onToolError(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.red,"[tool/error]")} [${n}] [${bo(e)}] Tool run errored with error: ${vi(e.error,"[error]")}`)}onRetrieverStart(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.green,"[retriever/start]")} [${n}] Entering Retriever run with input: ${vi(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.cyan,"[retriever/end]")} [${n}] [${bo(e)}] Exiting Retriever run with output: ${vi(e.outputs,"[outputs]")}`)}onRetrieverError(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.red,"[retriever/error]")} [${n}] [${bo(e)}] Retriever run errored with error: ${vi(e.error,"[error]")}`)}onAgentAction(e){const n=e,r=this.getBreadcrumbs(e);console.log(`${rr(br.blue,"[agent/action]")} [${r}] Agent selected action: ${vi(n.actions[n.actions.length-1],"[action]")}`)}};let X_;const n6=()=>{if(X_===void 0){const t=Bs("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"?{blockOnRootRunFinalization:!0}:{};X_=new Fd(t)}return X_};let Jhe=class{getStore(){}run(e,n){return n()}};const Z_=Symbol.for("ls:tracing_async_local_storage"),Qhe=new Jhe;let epe=class{getInstance(){return globalThis[Z_]??Qhe}initializeGlobalInstance(e){globalThis[Z_]===void 0&&(globalThis[Z_]=e)}};const tpe=new epe;function npe(t=!1){const e=tpe.getInstance().getStore();if(!t&&e===void 0)throw new Error(`Could not get the current run tree.

Please make sure you are calling this method within a traceable function and that tracing is enabled.`);return e}function pk(t){return typeof t=="function"&&"langsmith:traceable"in t}var rpe={};wt(rpe,{LangChainTracer:()=>ep});var ep=class r6 extends Nf{constructor(n={}){super(n);z(this,"name","langchain_tracer");z(this,"projectName");z(this,"exampleId");z(this,"client");z(this,"replicas");z(this,"usesRunTreeMap",!0);const{exampleId:r,projectName:i,client:a,replicas:s}=n;this.projectName=i??TU(),this.replicas=s,this.exampleId=r,this.client=a??n6();const o=r6.getTraceableRunTree();o&&this.updateFromRunTree(o)}async persistRun(n){}async onRunCreate(n){const r=this.getRunTreeWithTracingConfig(n.id);await(r==null?void 0:r.postRun())}async onRunUpdate(n){const r=this.getRunTreeWithTracingConfig(n.id);await(r==null?void 0:r.patchRun())}getRun(n){return this.runTreeMap.get(n)}updateFromRunTree(n){this.runTreeMap.set(n.id,n);let r=n;const i=new Set;for(;r.parent_run&&!(i.has(r.id)||(i.add(r.id),!r.parent_run));)r=r.parent_run;i.clear();const a=[r];for(;a.length>0;){const s=a.shift();!s||i.has(s.id)||(i.add(s.id),this.runTreeMap.set(s.id,s),s.child_runs&&a.push(...s.child_runs))}this.client=n.client??this.client,this.replicas=n.replicas??this.replicas,this.projectName=n.project_name??this.projectName,this.exampleId=n.reference_example_id??this.exampleId}getRunTreeWithTracingConfig(n){const r=this.runTreeMap.get(n);if(r)return new _r({...r,client:this.client,project_name:this.projectName,replicas:this.replicas,reference_example_id:this.exampleId,tracingEnabled:!0})}static getTraceableRunTree(){try{return npe(!0)}catch{return}}};const i6=Symbol.for("ls:tracing_async_local_storage"),tp=Symbol.for("lc:context_variables"),ipe=t=>{globalThis[i6]=t},Vp=()=>globalThis[i6];let bc;function ape(){const t="default"in zs?zs.default:zs;return new t({autoStart:!0,concurrency:1})}function spe(){return typeof bc>"u"&&(bc=ape()),bc}async function gn(t,e){if(e===!0){const n=Vp();n!==void 0?await n.run(void 0,async()=>t()):await t()}else bc=spe(),bc.add(async()=>{const n=Vp();n!==void 0?await n.run(void 0,async()=>t()):await t()})}async function ope(){const t=n6();await Promise.allSettled([typeof bc<"u"?bc.onIdle():Promise.resolve(),t.awaitPendingTraceBatches()])}var lpe={};wt(lpe,{awaitAllCallbacks:()=>ope,consumeCallback:()=>gn});const cpe=t=>!!["LANGSMITH_TRACING_V2","LANGCHAIN_TRACING_V2","LANGSMITH_TRACING","LANGCHAIN_TRACING"].find(n=>Bs(n)==="true");function a6(t){var r;const e=Vp();if(e===void 0)return;const n=e.getStore();return(r=n==null?void 0:n[tp])==null?void 0:r[t]}const upe=Symbol("lc:configure_hooks"),dpe=()=>a6(upe)||[];var fpe={};wt(fpe,{BaseCallbackManager:()=>s6,BaseRunManager:()=>ig,CallbackManager:()=>ts,CallbackManagerForChainRun:()=>l6,CallbackManagerForLLMRun:()=>zE,CallbackManagerForRetrieverRun:()=>o6,CallbackManagerForToolRun:()=>c6,ensureHandler:()=>qp,parseCallbackConfigArg:()=>hpe});function hpe(t){return t?Array.isArray(t)||"name"in t?{callbacks:t}:t:{}}var s6=class{setHandler(t){return this.setHandlers([t])}},ig=class{constructor(t,e,n,r,i,a,s,o){this.runId=t,this.handlers=e,this.inheritableHandlers=n,this.tags=r,this.inheritableTags=i,this.metadata=a,this.inheritableMetadata=s,this._parentRunId=o}get parentRunId(){return this._parentRunId}async handleText(t){await Promise.all(this.handlers.map(e=>gn(async()=>{var n;try{await((n=e.handleText)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleText: ${r}`),e.raiseError)throw r}},e.awaitHandlers)))}async handleCustomEvent(t,e,n,r,i){await Promise.all(this.handlers.map(a=>gn(async()=>{var s;try{await((s=a.handleCustomEvent)==null?void 0:s.call(a,t,e,this.runId,this.tags,this.metadata))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleCustomEvent: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}},o6=class extends ig{getChild(t){const e=new ts(this.runId);return e.setHandlers(this.inheritableHandlers),e.addTags(this.inheritableTags),e.addMetadata(this.inheritableMetadata),t&&e.addTags([t],!1),e}async handleRetrieverEnd(t){await Promise.all(this.handlers.map(e=>gn(async()=>{var n;if(!e.ignoreRetriever)try{await((n=e.handleRetrieverEnd)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleRetriever`),e.raiseError)throw r}},e.awaitHandlers)))}async handleRetrieverError(t){await Promise.all(this.handlers.map(e=>gn(async()=>{var n;if(!e.ignoreRetriever)try{await((n=e.handleRetrieverError)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleRetrieverError: ${r}`),e.raiseError)throw t}},e.awaitHandlers)))}},zE=class extends ig{async handleLLMNewToken(t,e,n,r,i,a){await Promise.all(this.handlers.map(s=>gn(async()=>{var o;if(!s.ignoreLLM)try{await((o=s.handleLLMNewToken)==null?void 0:o.call(s,t,e??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,a))}catch(l){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleLLMNewToken: ${l}`),s.raiseError)throw l}},s.awaitHandlers)))}async handleLLMError(t,e,n,r,i){await Promise.all(this.handlers.map(a=>gn(async()=>{var s;if(!a.ignoreLLM)try{await((s=a.handleLLMError)==null?void 0:s.call(a,t,this.runId,this._parentRunId,this.tags,i))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleLLMError: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}async handleLLMEnd(t,e,n,r,i){await Promise.all(this.handlers.map(a=>gn(async()=>{var s;if(!a.ignoreLLM)try{await((s=a.handleLLMEnd)==null?void 0:s.call(a,t,this.runId,this._parentRunId,this.tags,i))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleLLMEnd: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}},l6=class extends ig{getChild(t){const e=new ts(this.runId);return e.setHandlers(this.inheritableHandlers),e.addTags(this.inheritableTags),e.addMetadata(this.inheritableMetadata),t&&e.addTags([t],!1),e}async handleChainError(t,e,n,r,i){await Promise.all(this.handlers.map(a=>gn(async()=>{var s;if(!a.ignoreChain)try{await((s=a.handleChainError)==null?void 0:s.call(a,t,this.runId,this._parentRunId,this.tags,i))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleChainError: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}async handleChainEnd(t,e,n,r,i){await Promise.all(this.handlers.map(a=>gn(async()=>{var s;if(!a.ignoreChain)try{await((s=a.handleChainEnd)==null?void 0:s.call(a,t,this.runId,this._parentRunId,this.tags,i))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleChainEnd: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}async handleAgentAction(t){await Promise.all(this.handlers.map(e=>gn(async()=>{var n;if(!e.ignoreAgent)try{await((n=e.handleAgentAction)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleAgentAction: ${r}`),e.raiseError)throw r}},e.awaitHandlers)))}async handleAgentEnd(t){await Promise.all(this.handlers.map(e=>gn(async()=>{var n;if(!e.ignoreAgent)try{await((n=e.handleAgentEnd)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleAgentEnd: ${r}`),e.raiseError)throw r}},e.awaitHandlers)))}},c6=class extends ig{getChild(t){const e=new ts(this.runId);return e.setHandlers(this.inheritableHandlers),e.addTags(this.inheritableTags),e.addMetadata(this.inheritableMetadata),t&&e.addTags([t],!1),e}async handleToolError(t){await Promise.all(this.handlers.map(e=>gn(async()=>{var n;if(!e.ignoreAgent)try{await((n=e.handleToolError)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleToolError: ${r}`),e.raiseError)throw r}},e.awaitHandlers)))}async handleToolEnd(t){await Promise.all(this.handlers.map(e=>gn(async()=>{var n;if(!e.ignoreAgent)try{await((n=e.handleToolEnd)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleToolEnd: ${r}`),e.raiseError)throw r}},e.awaitHandlers)))}},ts=class Ph extends s6{constructor(n,r){super();z(this,"handlers",[]);z(this,"inheritableHandlers",[]);z(this,"tags",[]);z(this,"inheritableTags",[]);z(this,"metadata",{});z(this,"inheritableMetadata",{});z(this,"name","callback_manager");z(this,"_parentRunId");this.handlers=(r==null?void 0:r.handlers)??this.handlers,this.inheritableHandlers=(r==null?void 0:r.inheritableHandlers)??this.inheritableHandlers,this.tags=(r==null?void 0:r.tags)??this.tags,this.inheritableTags=(r==null?void 0:r.inheritableTags)??this.inheritableTags,this.metadata=(r==null?void 0:r.metadata)??this.metadata,this.inheritableMetadata=(r==null?void 0:r.inheritableMetadata)??this.inheritableMetadata,this._parentRunId=n}getParentRunId(){return this._parentRunId}async handleLLMStart(n,r,i=void 0,a=void 0,s=void 0,o=void 0,l=void 0,c=void 0){return Promise.all(r.map(async(d,f)=>{const h=f===0&&i?i:jr();return await Promise.all(this.handlers.map(p=>{if(!p.ignoreLLM)return Eu(p)&&p._createRunForLLMStart(n,[d],h,this._parentRunId,s,this.tags,this.metadata,c),gn(async()=>{var m;try{await((m=p.handleLLMStart)==null?void 0:m.call(p,n,[d],h,this._parentRunId,s,this.tags,this.metadata,c))}catch(g){if((p.raiseError?console.error:console.warn)(`Error in handler ${p.constructor.name}, handleLLMStart: ${g}`),p.raiseError)throw g}},p.awaitHandlers)})),new zE(h,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(n,r,i=void 0,a=void 0,s=void 0,o=void 0,l=void 0,c=void 0){return Promise.all(r.map(async(d,f)=>{const h=f===0&&i?i:jr();return await Promise.all(this.handlers.map(p=>{if(!p.ignoreLLM)return Eu(p)&&p._createRunForChatModelStart(n,[d],h,this._parentRunId,s,this.tags,this.metadata,c),gn(async()=>{var m,g;try{if(p.handleChatModelStart)await((m=p.handleChatModelStart)==null?void 0:m.call(p,n,[d],h,this._parentRunId,s,this.tags,this.metadata,c));else if(p.handleLLMStart){const v=QT(d);await((g=p.handleLLMStart)==null?void 0:g.call(p,n,[v],h,this._parentRunId,s,this.tags,this.metadata,c))}}catch(v){if((p.raiseError?console.error:console.warn)(`Error in handler ${p.constructor.name}, handleLLMStart: ${v}`),p.raiseError)throw v}},p.awaitHandlers)})),new zE(h,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(n,r,i=jr(),a=void 0,s=void 0,o=void 0,l=void 0){return await Promise.all(this.handlers.map(c=>{if(!c.ignoreChain)return Eu(c)&&c._createRunForChainStart(n,r,i,this._parentRunId,this.tags,this.metadata,a,l),gn(async()=>{var d;try{await((d=c.handleChainStart)==null?void 0:d.call(c,n,r,i,this._parentRunId,this.tags,this.metadata,a,l))}catch(f){if((c.raiseError?console.error:console.warn)(`Error in handler ${c.constructor.name}, handleChainStart: ${f}`),c.raiseError)throw f}},c.awaitHandlers)})),new l6(i,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(n,r,i=jr(),a=void 0,s=void 0,o=void 0,l=void 0){return await Promise.all(this.handlers.map(c=>{if(!c.ignoreAgent)return Eu(c)&&c._createRunForToolStart(n,r,i,this._parentRunId,this.tags,this.metadata,l),gn(async()=>{var d;try{await((d=c.handleToolStart)==null?void 0:d.call(c,n,r,i,this._parentRunId,this.tags,this.metadata,l))}catch(f){if((c.raiseError?console.error:console.warn)(`Error in handler ${c.constructor.name}, handleToolStart: ${f}`),c.raiseError)throw f}},c.awaitHandlers)})),new c6(i,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(n,r,i=jr(),a=void 0,s=void 0,o=void 0,l=void 0){return await Promise.all(this.handlers.map(c=>{if(!c.ignoreRetriever)return Eu(c)&&c._createRunForRetrieverStart(n,r,i,this._parentRunId,this.tags,this.metadata,l),gn(async()=>{var d;try{await((d=c.handleRetrieverStart)==null?void 0:d.call(c,n,r,i,this._parentRunId,this.tags,this.metadata,l))}catch(f){if((c.raiseError?console.error:console.warn)(`Error in handler ${c.constructor.name}, handleRetrieverStart: ${f}`),c.raiseError)throw f}},c.awaitHandlers)})),new o6(i,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleCustomEvent(n,r,i,a,s){await Promise.all(this.handlers.map(o=>gn(async()=>{var l;if(!o.ignoreCustomEvent)try{await((l=o.handleCustomEvent)==null?void 0:l.call(o,n,r,i,this.tags,this.metadata))}catch(c){if((o.raiseError?console.error:console.warn)(`Error in handler ${o.constructor.name}, handleCustomEvent: ${c}`),o.raiseError)throw c}},o.awaitHandlers)))}addHandler(n,r=!0){this.handlers.push(n),r&&this.inheritableHandlers.push(n)}removeHandler(n){this.handlers=this.handlers.filter(r=>r!==n),this.inheritableHandlers=this.inheritableHandlers.filter(r=>r!==n)}setHandlers(n,r=!0){this.handlers=[],this.inheritableHandlers=[];for(const i of n)this.addHandler(i,r)}addTags(n,r=!0){this.removeTags(n),this.tags.push(...n),r&&this.inheritableTags.push(...n)}removeTags(n){this.tags=this.tags.filter(r=>!n.includes(r)),this.inheritableTags=this.inheritableTags.filter(r=>!n.includes(r))}addMetadata(n,r=!0){this.metadata={...this.metadata,...n},r&&(this.inheritableMetadata={...this.inheritableMetadata,...n})}removeMetadata(n){for(const r of Object.keys(n))delete this.metadata[r],delete this.inheritableMetadata[r]}copy(n=[],r=!0){const i=new Ph(this._parentRunId);for(const a of this.handlers){const s=this.inheritableHandlers.includes(a);i.addHandler(a,s)}for(const a of this.tags){const s=this.inheritableTags.includes(a);i.addTags([a],s)}for(const a of Object.keys(this.metadata)){const s=Object.keys(this.inheritableMetadata).includes(a);i.addMetadata({[a]:this.metadata[a]},s)}for(const a of n)i.handlers.filter(s=>s.name==="console_callback_handler").some(s=>s.name===a.name)||i.addHandler(a,r);return i}static fromHandlers(n){class r extends ng{constructor(){super();z(this,"name",jr());Object.assign(this,n)}}const i=new this;return i.addHandler(new r),i}static configure(n,r,i,a,s,o,l){return this._configureSync(n,r,i,a,s,o,l)}static _configureSync(n,r,i,a,s,o,l){var p;let c;(n||r)&&(Array.isArray(n)||!n?(c=new Ph,c.setHandlers((n==null?void 0:n.map(qp))??[],!0)):c=n,c=c.copy(Array.isArray(r)?r.map(qp):r==null?void 0:r.handlers,!1));const d=Bs("LANGCHAIN_VERBOSE")==="true"||(l==null?void 0:l.verbose),f=((p=ep.getTraceableRunTree())==null?void 0:p.tracingEnabled)||cpe(),h=f||(Bs("LANGCHAIN_TRACING")??!1);if(d||h){if(c||(c=new Ph),d&&!c.handlers.some(m=>m.name===BE.prototype.name)){const m=new BE;c.addHandler(m,!0)}if(h&&!c.handlers.some(m=>m.name==="langchain_tracer")&&f){const m=new ep;c.addHandler(m,!0)}if(f){const m=ep.getTraceableRunTree();if(m&&c._parentRunId===void 0){c._parentRunId=m.id;const g=c.handlers.find(v=>v.name==="langchain_tracer");g==null||g.updateFromRunTree(m)}}}for(const{contextVar:m,inheritable:g=!0,handlerClass:v,envVar:y}of dpe()){const x=y&&Bs(y)==="true"&&v;let b;const _=m!==void 0?a6(m):void 0;_&&AU(_)?b=_:x&&(b=new v({})),b!==void 0&&(c||(c=new Ph),c.handlers.some(w=>w.name===b.name)||c.addHandler(b,g))}return(i||a)&&c&&(c.addTags(i??[]),c.addTags(a??[],!1)),(s||o)&&c&&(c.addMetadata(s??{}),c.addMetadata(o??{},!1)),c}};function qp(t){return"name"in t?t:ng.fromMethods(t)}var u6=class{getStore(){}run(t,e){return e()}enterWith(t){}};const ppe=new u6,y$=Symbol.for("lc:child_config");var mpe=class{getInstance(){return Vp()??ppe}getRunnableConfig(){var e,n;return(n=(e=this.getInstance().getStore())==null?void 0:e.extra)==null?void 0:n[y$]}runWithConfig(t,e,n){var c;const r=ts._configureSync(t==null?void 0:t.callbacks,void 0,t==null?void 0:t.tags,void 0,t==null?void 0:t.metadata),i=this.getInstance(),a=i.getStore(),s=r==null?void 0:r.getParentRunId(),o=(c=r==null?void 0:r.handlers)==null?void 0:c.find(d=>(d==null?void 0:d.name)==="langchain_tracer");let l;return o&&s?l=o.getRunTreeWithTracingConfig(s):n||(l=new _r({name:"<runnable_lambda>",tracingEnabled:!1})),l&&(l.extra={...l.extra,[y$]:t}),a!==void 0&&a[tp]!==void 0&&(l===void 0&&(l={}),l[tp]=a[tp]),i.run(l,e)}initializeGlobalInstance(t){Vp()===void 0&&ipe(t)}};const to=new mpe;var gpe={};wt(gpe,{AsyncLocalStorageProviderSingleton:()=>to,MockAsyncLocalStorage:()=>u6,_CONTEXT_VARIABLES_KEY:()=>tp});const J_=25;async function ri(t){return ts._configureSync(t==null?void 0:t.callbacks,void 0,t==null?void 0:t.tags,void 0,t==null?void 0:t.metadata)}function UE(...t){const e={};for(const n of t.filter(r=>!!r))for(const r of Object.keys(n))if(r==="metadata")e[r]={...e[r],...n[r]};else if(r==="tags"){const i=e[r]??[];e[r]=[...new Set(i.concat(n[r]??[]))]}else if(r==="configurable")e[r]={...e[r],...n[r]};else if(r==="timeout")e.timeout===void 0?e.timeout=n.timeout:n.timeout!==void 0&&(e.timeout=Math.min(e.timeout,n.timeout));else if(r==="signal")e.signal===void 0?e.signal=n.signal:n.signal!==void 0&&("any"in AbortSignal?e.signal=AbortSignal.any([e.signal,n.signal]):e.signal=n.signal);else if(r==="callbacks"){const i=e.callbacks,a=n.callbacks;if(Array.isArray(a))if(!i)e.callbacks=a;else if(Array.isArray(i))e.callbacks=i.concat(a);else{const s=i.copy();for(const o of a)s.addHandler(qp(o),!0);e.callbacks=s}else if(a)if(!i)e.callbacks=a;else if(Array.isArray(i)){const s=a.copy();for(const o of i)s.addHandler(qp(o),!0);e.callbacks=s}else e.callbacks=new ts(a._parentRunId,{handlers:i.handlers.concat(a.handlers),inheritableHandlers:i.inheritableHandlers.concat(a.inheritableHandlers),tags:Array.from(new Set(i.tags.concat(a.tags))),inheritableTags:Array.from(new Set(i.inheritableTags.concat(a.inheritableTags))),metadata:{...i.metadata,...a.metadata}})}else{const i=r;e[i]=n[i]??e[i]}return e}const ype=new Set(["string","number","boolean"]);function gt(t){var r;const e=to.getRunnableConfig();let n={tags:[],metadata:{},recursionLimit:25,runId:void 0};if(e){const{runId:i,runName:a,...s}=e;n=Object.entries(s).reduce((o,[l,c])=>(c!==void 0&&(o[l]=c),o),n)}if(t&&(n=Object.entries(t).reduce((i,[a,s])=>(s!==void 0&&(i[a]=s),i),n)),n!=null&&n.configurable)for(const i of Object.keys(n.configurable))ype.has(typeof n.configurable[i])&&!((r=n.metadata)!=null&&r[i])&&(n.metadata||(n.metadata={}),n.metadata[i]=n.configurable[i]);if(n.timeout!==void 0){if(n.timeout<=0)throw new Error("Timeout must be a positive number");const i=AbortSignal.timeout(n.timeout);n.signal!==void 0?"any"in AbortSignal&&(n.signal=AbortSignal.any([n.signal,i])):n.signal=i,delete n.timeout}return n}function Xt(t={},{callbacks:e,maxConcurrency:n,recursionLimit:r,runName:i,configurable:a,runId:s}={}){const o=gt(t);return e!==void 0&&(delete o.runName,o.callbacks=e),r!==void 0&&(o.recursionLimit=r),n!==void 0&&(o.maxConcurrency=n),i!==void 0&&(o.runName=i),a!==void 0&&(o.configurable={...o.configurable,...a}),s!==void 0&&delete o.runId,o}function Pc(t){if(t)return{configurable:t.configurable,recursionLimit:t.recursionLimit,callbacks:t.callbacks,tags:t.tags,metadata:t.metadata,maxConcurrency:t.maxConcurrency,timeout:t.timeout,signal:t.signal,store:t.store}}async function no(t,e){if(e===void 0)return t;let n;return Promise.race([t.catch(r=>{if(!(e!=null&&e.aborted))throw r}),new Promise((r,i)=>{n=()=>{i(i0(e))},e.addEventListener("abort",n),e.aborted&&i(i0(e))})]).finally(()=>e.removeEventListener("abort",n))}function i0(t){return(t==null?void 0:t.reason)instanceof Error?t.reason:typeof(t==null?void 0:t.reason)=="string"?new Error(t.reason):new Error("Aborted")}var vpe={};wt(vpe,{AsyncGeneratorWithSetup:()=>Kc,IterableReadableStream:()=>wa,atee:()=>mk,concat:()=>Ic,pipeGeneratorWithSetup:()=>d6});var wa=class HE extends ReadableStream{constructor(){super(...arguments);z(this,"reader")}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const n=await this.reader.read();return n.done?(this.reader.releaseLock(),{done:!0,value:void 0}):{done:!1,value:n.value}}catch(n){throw this.reader.releaseLock(),n}}async return(){if(this.ensureReader(),this.locked){const n=this.reader.cancel();this.reader.releaseLock(),await n}return{done:!0,value:void 0}}async throw(n){if(this.ensureReader(),this.locked){const r=this.reader.cancel();this.reader.releaseLock(),await r}throw n}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}static fromReadableStream(n){const r=n.getReader();return new HE({start(i){return a();function a(){return r.read().then(({done:s,value:o})=>{if(s){i.close();return}return i.enqueue(o),a()})}},cancel(){r.releaseLock()}})}static fromAsyncGenerator(n){return new HE({async pull(r){const{value:i,done:a}=await n.next();a&&r.close(),r.enqueue(i)},async cancel(r){await n.return(r)}})}};function mk(t,e=2){const n=Array.from({length:e},()=>[]);return n.map(async function*(i){for(;;)if(i.length===0){const a=await t.next();for(const s of n)s.push(a)}else{if(i[0].done)return;yield i.shift().value}})}function Ic(t,e){if(Array.isArray(t)&&Array.isArray(e))return t.concat(e);if(typeof t=="string"&&typeof e=="string")return t+e;if(typeof t=="number"&&typeof e=="number")return t+e;if("concat"in t&&typeof t.concat=="function")return t.concat(e);if(typeof t=="object"&&typeof e=="object"){const n={...t};for(const[r,i]of Object.entries(e))r in n&&!Array.isArray(n[r])?n[r]=Ic(n[r],i):n[r]=i;return n}else throw new Error(`Cannot concat ${typeof t} and ${typeof e}`)}var Kc=class{constructor(t){z(this,"generator");z(this,"setup");z(this,"config");z(this,"signal");z(this,"firstResult");z(this,"firstResultUsed",!1);var e;this.generator=t.generator,this.config=t.config,this.signal=t.signal??((e=this.config)==null?void 0:e.signal),this.setup=new Promise((n,r)=>{to.runWithConfig(Pc(t.config),async()=>{this.firstResult=t.generator.next(),t.startSetup?this.firstResult.then(t.startSetup).then(n,r):this.firstResult.then(i=>n(void 0),r)},!0)})}async next(...t){var e;return(e=this.signal)==null||e.throwIfAborted(),this.firstResultUsed?to.runWithConfig(Pc(this.config),this.signal?async()=>no(this.generator.next(...t),this.signal):async()=>this.generator.next(...t),!0):(this.firstResultUsed=!0,this.firstResult)}async return(t){return this.generator.return(t)}async throw(t){return this.generator.throw(t)}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}};async function d6(t,e,n,r,...i){const a=new Kc({generator:e,startSetup:n,signal:r}),s=await a.setup;return{output:t(a,s,...i),setup:s}}var xpe={};wt(xpe,{ChatGenerationChunk:()=>Kp,GenerationChunk:()=>Gp,RUN_KEY:()=>WE});const WE="__run";var Gp=class f6{constructor(e){z(this,"text");z(this,"generationInfo");this.text=e.text,this.generationInfo=e.generationInfo}concat(e){return new f6({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo}})}},Kp=class h6 extends Gp{constructor(n){super(n);z(this,"message");this.message=n.message}concat(n){return new h6({text:this.text+n.text,generationInfo:{...this.generationInfo,...n.generationInfo},message:this.message.concat(n.message)})}};/*!
* https://github.com/Starcounter-Jack/JSON-Patch
* (c) 2017-2022 Joachim Wester
* MIT licensed
*/const bpe=Object.prototype.hasOwnProperty;function VE(t,e){return bpe.call(t,e)}function qE(t){if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<n.length;r++)n[r]=""+r;return n}if(Object.keys)return Object.keys(t);let e=[];for(let n in t)VE(t,n)&&e.push(n);return e}function Ci(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}function GE(t){let e=0;const n=t.length;let r;for(;e<n;){if(r=t.charCodeAt(e),r>=48&&r<=57){e++;continue}return!1}return!0}function Xl(t){return t.indexOf("/")===-1&&t.indexOf("~")===-1?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function p6(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function KE(t){if(t===void 0)return!0;if(t){if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(KE(t[n]))return!0}else if(typeof t=="object"){const n=qE(t),r=n.length;for(var e=0;e<r;e++)if(KE(t[n[e]]))return!0}}return!1}function v$(t,e){const n=[t];for(const r in e){const i=typeof e[r]=="object"?JSON.stringify(e[r],null,2):e[r];typeof i<"u"&&n.push(`${r}: ${i}`)}return n.join(`
`)}var m6=class extends Error{constructor(t,e,n,r,i){super(v$(t,{name:e,index:n,operation:r,tree:i})),this.name=e,this.index=n,this.operation=r,this.tree=i,Object.setPrototypeOf(this,new.target.prototype),this.message=v$(t,{name:e,index:n,operation:r,tree:i})}},g6={};wt(g6,{JsonPatchError:()=>nn,_areEquals:()=>Yp,applyOperation:()=>wc,applyPatch:()=>Bd,applyReducer:()=>Spe,deepClone:()=>wpe,getValueByPointer:()=>a0,validate:()=>y6,validator:()=>s0});const nn=m6,wpe=Ci,zu={add:function(t,e,n){return t[e]=this.value,{newDocument:n}},remove:function(t,e,n){var r=t[e];return delete t[e],{newDocument:n,removed:r}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:function(t,e,n){let r=a0(n,this.path);r&&(r=Ci(r));const i=wc(n,{op:"remove",path:this.from}).removed;return wc(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(t,e,n){const r=a0(n,this.from);return wc(n,{op:"add",path:this.path,value:Ci(r)}),{newDocument:n}},test:function(t,e,n){return{newDocument:n,test:Yp(t[e],this.value)}},_get:function(t,e,n){return this.value=t[e],{newDocument:n}}};var _pe={add:function(t,e,n){return GE(e)?t.splice(e,0,this.value):t[e]=this.value,{newDocument:n,index:e}},remove:function(t,e,n){var r=t.splice(e,1);return{newDocument:n,removed:r[0]}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:zu.move,copy:zu.copy,test:zu.test,_get:zu._get};function a0(t,e){if(e=="")return t;var n={op:"_get",path:e};return wc(t,n),n.value}function wc(t,e,n=!1,r=!0,i=!0,a=0){if(n&&(typeof n=="function"?n(e,0,t,e.path):s0(e,0)),e.path===""){let s={newDocument:t};if(e.op==="add")return s.newDocument=e.value,s;if(e.op==="replace")return s.newDocument=e.value,s.removed=t,s;if(e.op==="move"||e.op==="copy")return s.newDocument=a0(t,e.from),e.op==="move"&&(s.removed=t),s;if(e.op==="test"){if(s.test=Yp(t,e.value),s.test===!1)throw new nn("Test operation failed","TEST_OPERATION_FAILED",a,e,t);return s.newDocument=t,s}else{if(e.op==="remove")return s.removed=t,s.newDocument=null,s;if(e.op==="_get")return e.value=t,s;if(n)throw new nn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,e,t);return s}}else{r||(t=Ci(t));const o=(e.path||"").split("/");let l=t,c=1,d=o.length,f,h,p;for(typeof n=="function"?p=n:p=s0;;){if(h=o[c],h&&h.indexOf("~")!=-1&&(h=p6(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&o[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&f===void 0&&(l[h]===void 0?f=o.slice(0,c).join("/"):c==d-1&&(f=e.path),f!==void 0&&p(e,0,t,f)),c++,Array.isArray(l)){if(h==="-")h=l.length;else{if(n&&!GE(h))throw new nn("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,e,t);GE(h)&&(h=~~h)}if(c>=d){if(n&&e.op==="add"&&h>l.length)throw new nn("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",a,e,t);const m=_pe[e.op].call(e,l,h,t);if(m.test===!1)throw new nn("Test operation failed","TEST_OPERATION_FAILED",a,e,t);return m}}else if(c>=d){const m=zu[e.op].call(e,l,h,t);if(m.test===!1)throw new nn("Test operation failed","TEST_OPERATION_FAILED",a,e,t);return m}if(l=l[h],n&&c<d&&(!l||typeof l!="object"))throw new nn("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",a,e,t)}}}function Bd(t,e,n,r=!0,i=!0){if(n&&!Array.isArray(e))throw new nn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(t=Ci(t));const a=new Array(e.length);for(let s=0,o=e.length;s<o;s++)a[s]=wc(t,e[s],n,!0,i,s),t=a[s].newDocument;return a.newDocument=t,a}function Spe(t,e,n){const r=wc(t,e);if(r.test===!1)throw new nn("Test operation failed","TEST_OPERATION_FAILED",n,e,t);return r.newDocument}function s0(t,e,n,r){if(typeof t!="object"||t===null||Array.isArray(t))throw new nn("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,n);if(zu[t.op]){if(typeof t.path!="string")throw new nn("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,n);if(t.path.indexOf("/")!==0&&t.path.length>0)throw new nn('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,n);if((t.op==="move"||t.op==="copy")&&typeof t.from!="string")throw new nn("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&t.value===void 0)throw new nn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&KE(t.value))throw new nn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,n);if(n){if(t.op=="add"){var i=t.path.split("/").length,a=r.split("/").length;if(i!==a+1&&i!==a)throw new nn("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,n)}else if(t.op==="replace"||t.op==="remove"||t.op==="_get"){if(t.path!==r)throw new nn("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,n)}else if(t.op==="move"||t.op==="copy"){var s={op:"_get",path:t.from,value:void 0},o=y6([s],n);if(o&&o.name==="OPERATION_PATH_UNRESOLVABLE")throw new nn("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,n)}}}else throw new nn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,n)}function y6(t,e,n){try{if(!Array.isArray(t))throw new nn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)Bd(Ci(e),Ci(t),n||!0);else{n=n||s0;for(var r=0;r<t.length;r++)n(t[r],r,e,void 0)}}catch(i){if(i instanceof nn)return i;throw i}}function Yp(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=Array.isArray(t),r=Array.isArray(e),i,a,s;if(n&&r){if(a=t.length,a!=e.length)return!1;for(i=a;i--!==0;)if(!Yp(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var o=Object.keys(t);if(a=o.length,a!==Object.keys(e).length)return!1;for(i=a;i--!==0;)if(!e.hasOwnProperty(o[i]))return!1;for(i=a;i--!==0;)if(s=o[i],!Yp(t[s],e[s]))return!1;return!0}return t!==t&&e!==e}function v6(t,e,n,r,i){if(e!==t){typeof e.toJSON=="function"&&(e=e.toJSON());for(var a=qE(e),s=qE(t),o=!1,l=s.length-1;l>=0;l--){var c=s[l],d=t[c];if(VE(e,c)&&!(e[c]===void 0&&d!==void 0&&Array.isArray(e)===!1)){var f=e[c];typeof d=="object"&&d!=null&&typeof f=="object"&&f!=null&&Array.isArray(d)===Array.isArray(f)?v6(d,f,n,r+"/"+Xl(c),i):d!==f&&(i&&n.push({op:"test",path:r+"/"+Xl(c),value:Ci(d)}),n.push({op:"replace",path:r+"/"+Xl(c),value:Ci(f)}))}else Array.isArray(t)===Array.isArray(e)?(i&&n.push({op:"test",path:r+"/"+Xl(c),value:Ci(d)}),n.push({op:"remove",path:r+"/"+Xl(c)}),o=!0):(i&&n.push({op:"test",path:r,value:t}),n.push({op:"replace",path:r,value:e}))}if(!(!o&&a.length==s.length))for(var l=0;l<a.length;l++){var c=a[l];!VE(t,c)&&e[c]!==void 0&&n.push({op:"add",path:r+"/"+Xl(c),value:Ci(e[c])})}}}function gk(t,e,n=!1){var r=[];return v6(t,e,r,"",n),r}({...g6});var Epe={};wt(Epe,{LogStreamCallbackHandler:()=>XE,RunLog:()=>yk,RunLogPatch:()=>ks,isLogStreamHandler:()=>x6});var ks=class{constructor(t){z(this,"ops");this.ops=t.ops??[]}concat(t){const e=this.ops.concat(t.ops),n=Bd({},e);return new yk({ops:e,state:n[n.length-1].newDocument})}},yk=class YE extends ks{constructor(n){super(n);z(this,"state");this.state=n.state}concat(n){const r=this.ops.concat(n.ops),i=Bd(this.state,n.ops);return new YE({ops:r,state:i[i.length-1].newDocument})}static fromRunLogPatch(n){const r=Bd({},n.ops);return new YE({ops:n.ops,state:r[r.length-1].newDocument})}};const x6=t=>t.name==="log_stream_tracer";async function x$(t,e){if(e==="original")throw new Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");const{inputs:n}=t;if(["retriever","llm","prompt"].includes(t.run_type))return n;if(!(Object.keys(n).length===1&&(n==null?void 0:n.input)===""))return n.input}async function b$(t,e){const{outputs:n}=t;return e==="original"||["retriever","llm","prompt"].includes(t.run_type)?n:n!==void 0&&Object.keys(n).length===1&&(n==null?void 0:n.output)!==void 0?n.output:n}function jpe(t){return t!==void 0&&t.message!==void 0}var XE=class extends Nf{constructor(e){super({_awaitHandler:!0,...e});z(this,"autoClose",!0);z(this,"includeNames");z(this,"includeTypes");z(this,"includeTags");z(this,"excludeNames");z(this,"excludeTypes");z(this,"excludeTags");z(this,"_schemaFormat","original");z(this,"rootId");z(this,"keyMapByRunId",{});z(this,"counterMapByRunName",{});z(this,"transformStream");z(this,"writer");z(this,"receiveStream");z(this,"name","log_stream_tracer");z(this,"lc_prefer_streaming",!0);this.autoClose=(e==null?void 0:e.autoClose)??!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this._schemaFormat=(e==null?void 0:e._schemaFormat)??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=wa.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.id===this.rootId)return!1;const n=e.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.run_type)),this.includeTags!==void 0&&(r=r||n.find(i=>{var a;return(a=this.includeTags)==null?void 0:a.includes(i)})!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.run_type)),this.excludeTags!==void 0&&(r=r&&n.every(i=>{var a;return!((a=this.excludeTags)!=null&&a.includes(i))})),r}async*tapOutputIterable(e,n){for await(const r of n){if(e!==this.rootId){const i=this.keyMapByRunId[e];i&&await this.writer.write(new ks({ops:[{op:"add",path:`/logs/${i}/streamed_output/-`,value:r}]}))}yield r}}async onRunCreate(e){var i;if(this.rootId===void 0&&(this.rootId=e.id,await this.writer.write(new ks({ops:[{op:"replace",path:"",value:{id:e.id,name:e.name,type:e.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(e))return;this.counterMapByRunName[e.name]===void 0&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;const n=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=n===1?e.name:`${e.name}:${n}`;const r={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:((i=e.extra)==null?void 0:i.metadata)??{},start_time:new Date(e.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};this._schemaFormat==="streaming_events"&&(r.inputs=await x$(e,this._schemaFormat)),await this.writer.write(new ks({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:r}]}))}async onRunUpdate(e){try{const n=this.keyMapByRunId[e.id];if(n===void 0)return;const r=[];this._schemaFormat==="streaming_events"&&r.push({op:"replace",path:`/logs/${n}/inputs`,value:await x$(e,this._schemaFormat)}),r.push({op:"add",path:`/logs/${n}/final_output`,value:await b$(e,this._schemaFormat)}),e.end_time!==void 0&&r.push({op:"add",path:`/logs/${n}/end_time`,value:new Date(e.end_time).toISOString()});const i=new ks({ops:r});await this.writer.write(i)}finally{if(e.id===this.rootId){const n=new ks({ops:[{op:"replace",path:"/final_output",value:await b$(e,this._schemaFormat)}]});await this.writer.write(n),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,n,r){const i=this.keyMapByRunId[e.id];if(i===void 0)return;const a=e.inputs.messages!==void 0;let s;a?jpe(r==null?void 0:r.chunk)?s=r==null?void 0:r.chunk:s=new lo({id:`run-${e.id}`,content:n}):s=n;const o=new ks({ops:[{op:"add",path:`/logs/${i}/streamed_output_str/-`,value:n},{op:"add",path:`/logs/${i}/streamed_output/-`,value:s}]});await this.writer.write(o)}};function dy({name:t,serialized:e}){return t!==void 0?t:(e==null?void 0:e.name)!==void 0?e.name:(e==null?void 0:e.id)!==void 0&&Array.isArray(e==null?void 0:e.id)?e.id[e.id.length-1]:"Unnamed"}const Ape=t=>t.name==="event_stream_tracer";var Cpe=class extends Nf{constructor(e){super({_awaitHandler:!0,...e});z(this,"autoClose",!0);z(this,"includeNames");z(this,"includeTypes");z(this,"includeTags");z(this,"excludeNames");z(this,"excludeTypes");z(this,"excludeTags");z(this,"runInfoMap",new Map);z(this,"tappedPromises",new Map);z(this,"transformStream");z(this,"writer");z(this,"receiveStream");z(this,"name","event_stream_tracer");z(this,"lc_prefer_streaming",!0);this.autoClose=(e==null?void 0:e.autoClose)??!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=wa.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){const n=e.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.runType)),this.includeTags!==void 0&&(r=r||n.find(i=>{var a;return(a=this.includeTags)==null?void 0:a.includes(i)})!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.runType)),this.excludeTags!==void 0&&(r=r&&n.every(i=>{var a;return!((a=this.excludeTags)!=null&&a.includes(i))})),r}async*tapOutputIterable(e,n){const r=await n.next();if(r.done)return;const i=this.runInfoMap.get(e);if(i===void 0){yield r.value;return}function a(o,l){return o==="llm"&&typeof l=="string"?new Gp({text:l}):l}let s=this.tappedPromises.get(e);if(s===void 0){let o;s=new Promise(l=>{o=l}),this.tappedPromises.set(e,s);try{const l={event:`on_${i.runType}_stream`,run_id:e,name:i.name,tags:i.tags,metadata:i.metadata,data:{}};await this.send({...l,data:{chunk:a(i.runType,r.value)}},i),yield r.value;for await(const c of n)i.runType!=="tool"&&i.runType!=="retriever"&&await this.send({...l,data:{chunk:a(i.runType,c)}},i),yield c}finally{o==null||o()}}else{yield r.value;for await(const o of n)yield o}}async send(e,n){this._includeRun(n)&&await this.writer.write(e)}async sendEndEvent(e,n){const r=this.tappedPromises.get(e.run_id);r!==void 0?r.then(()=>{this.send(e,n)}):await this.send(e,n)}async onLLMStart(e){var s,o;const n=dy(e),r=e.inputs.messages!==void 0?"chat_model":"llm",i={tags:e.tags??[],metadata:((s=e.extra)==null?void 0:s.metadata)??{},name:n,runType:r,inputs:e.inputs};this.runInfoMap.set(e.id,i);const a=`on_${r}_start`;await this.send({event:a,data:{input:e.inputs},name:n,tags:e.tags??[],run_id:e.id,metadata:((o=e.extra)==null?void 0:o.metadata)??{}},i)}async onLLMNewToken(e,n,r){const i=this.runInfoMap.get(e.id);let a,s;if(i===void 0)throw new Error(`onLLMNewToken: Run ID ${e.id} not found in run map.`);if(this.runInfoMap.size!==1){if(i.runType==="chat_model")s="on_chat_model_stream",(r==null?void 0:r.chunk)===void 0?a=new lo({content:n,id:`run-${e.id}`}):a=r.chunk.message;else if(i.runType==="llm")s="on_llm_stream",(r==null?void 0:r.chunk)===void 0?a=new Gp({text:n}):a=r.chunk;else throw new Error(`Unexpected run type ${i.runType}`);await this.send({event:s,data:{chunk:a},run_id:e.id,name:i.name,tags:i.tags,metadata:i.metadata},i)}}async onLLMEnd(e){var s,o,l;const n=this.runInfoMap.get(e.id);this.runInfoMap.delete(e.id);let r;if(n===void 0)throw new Error(`onLLMEnd: Run ID ${e.id} not found in run map.`);const i=(s=e.outputs)==null?void 0:s.generations;let a;if(n.runType==="chat_model"){for(const c of i??[]){if(a!==void 0)break;a=(o=c[0])==null?void 0:o.message}r="on_chat_model_end"}else if(n.runType==="llm")a={generations:i==null?void 0:i.map(c=>c.map(d=>({text:d.text,generationInfo:d.generationInfo}))),llmOutput:((l=e.outputs)==null?void 0:l.llmOutput)??{}},r="on_llm_end";else throw new Error(`onLLMEnd: Unexpected run type: ${n.runType}`);await this.sendEndEvent({event:r,data:{output:a,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onChainStart(e){var s,o;const n=dy(e),r=e.run_type??"chain",i={tags:e.tags??[],metadata:((s=e.extra)==null?void 0:s.metadata)??{},name:n,runType:e.run_type};let a={};e.inputs.input===""&&Object.keys(e.inputs).length===1?(a={},i.inputs={}):e.inputs.input!==void 0?(a.input=e.inputs.input,i.inputs=e.inputs.input):(a.input=e.inputs,i.inputs=e.inputs),this.runInfoMap.set(e.id,i),await this.send({event:`on_${r}_start`,data:a,name:n,tags:e.tags??[],run_id:e.id,metadata:((o=e.extra)==null?void 0:o.metadata)??{}},i)}async onChainEnd(e){var o;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onChainEnd: Run ID ${e.id} not found in run map.`);const r=`on_${e.run_type}_end`,i=e.inputs??n.inputs??{},s={output:((o=e.outputs)==null?void 0:o.output)??e.outputs,input:i};i.input&&Object.keys(i).length===1&&(s.input=i.input,n.inputs=i.input),await this.sendEndEvent({event:r,data:s,run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata??{}},n)}async onToolStart(e){var i,a;const n=dy(e),r={tags:e.tags??[],metadata:((i=e.extra)==null?void 0:i.metadata)??{},name:n,runType:"tool",inputs:e.inputs??{}};this.runInfoMap.set(e.id,r),await this.send({event:"on_tool_start",data:{input:e.inputs??{}},name:n,run_id:e.id,tags:e.tags??[],metadata:((a=e.extra)==null?void 0:a.metadata)??{}},r)}async onToolEnd(e){var i;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onToolEnd: Run ID ${e.id} not found in run map.`);if(n.inputs===void 0)throw new Error(`onToolEnd: Run ID ${e.id} is a tool call, and is expected to have traced inputs.`);const r=((i=e.outputs)==null?void 0:i.output)===void 0?e.outputs:e.outputs.output;await this.sendEndEvent({event:"on_tool_end",data:{output:r,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onRetrieverStart(e){var a,s;const n=dy(e),i={tags:e.tags??[],metadata:((a=e.extra)==null?void 0:a.metadata)??{},name:n,runType:"retriever",inputs:{query:e.inputs.query}};this.runInfoMap.set(e.id,i),await this.send({event:"on_retriever_start",data:{input:{query:e.inputs.query}},name:n,tags:e.tags??[],run_id:e.id,metadata:((s=e.extra)==null?void 0:s.metadata)??{}},i)}async onRetrieverEnd(e){var r;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onRetrieverEnd: Run ID ${e.id} not found in run map.`);await this.sendEndEvent({event:"on_retriever_end",data:{output:((r=e.outputs)==null?void 0:r.documents)??e.outputs,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async handleCustomEvent(e,n,r){const i=this.runInfoMap.get(r);if(i===void 0)throw new Error(`handleCustomEvent: Run ID ${r} not found in run map.`);await this.send({event:"on_custom_event",run_id:r,name:e,tags:i.tags,metadata:i.metadata,data:n},i)}async finish(){const e=[...this.tappedPromises.values()];Promise.all(e).finally(()=>{this.writer.close()})}};const Tpe=Object.prototype.toString,kpe=t=>Tpe.call(t)==="[object Error]",Ope=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function Npe(t){if(!(t&&kpe(t)&&t.name==="TypeError"&&typeof t.message=="string"))return!1;const{message:n,stack:r}=t;return n==="Load failed"?r===void 0||"__sentry_captured__"in t:n.startsWith("error sending request for url")?!0:Ope.has(n)}function Ppe(t){if(typeof t=="number"){if(t<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(t))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(t!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function fy(t,e,{min:n=0,allowInfinity:r=!1}={}){if(e!==void 0){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected \`${t}\` to be a number${r?" or Infinity":""}.`);if(!r&&!Number.isFinite(e))throw new TypeError(`Expected \`${t}\` to be a finite number.`);if(e<n)throw new TypeError(`Expected \`${t}\` to be  ${n}.`)}}class Ipe extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}function $pe(t,e){const n=Math.max(1,t+1),r=e.randomize?Math.random()+1:1;let i=Math.round(r*e.minTimeout*e.factor**(n-1));return i=Math.min(i,e.maxTimeout),i}function w$(t,e){return Number.isFinite(e)?e-(performance.now()-t):e}async function Rpe({error:t,attemptNumber:e,retriesConsumed:n,startTime:r,options:i}){var p,m,g;const a=t instanceof Error?t:new TypeError(`Non-error was thrown: "${t}". You should only throw errors.`);if(a instanceof Ipe)throw a.originalError;const s=Number.isFinite(i.retries)?Math.max(0,i.retries-n):i.retries,o=i.maxRetryTime??Number.POSITIVE_INFINITY,l=Object.freeze({error:a,attemptNumber:e,retriesLeft:s,retriesConsumed:n});if(await i.onFailedAttempt(l),w$(r,o)<=0)throw a;const c=await i.shouldConsumeRetry(l),d=w$(r,o);if(d<=0||s<=0)throw a;if(a instanceof TypeError&&!Npe(a)){if(c)throw a;return(p=i.signal)==null||p.throwIfAborted(),!1}if(!await i.shouldRetry(l))throw a;if(!c)return(m=i.signal)==null||m.throwIfAborted(),!1;const f=$pe(n,i),h=Math.min(f,d);return h>0&&await new Promise((v,y)=>{var _,w;const x=()=>{var E;clearTimeout(b),(E=i.signal)==null||E.removeEventListener("abort",x),y(i.signal.reason)},b=setTimeout(()=>{var E;(E=i.signal)==null||E.removeEventListener("abort",x),v()},h);i.unref&&((_=b.unref)==null||_.call(b)),(w=i.signal)==null||w.addEventListener("abort",x,{once:!0})}),(g=i.signal)==null||g.throwIfAborted(),!0}async function ZE(t,e={}){var a,s,o;if(e={...e},Ppe(e.retries),Object.hasOwn(e,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");e.retries??(e.retries=10),e.factor??(e.factor=2),e.minTimeout??(e.minTimeout=1e3),e.maxTimeout??(e.maxTimeout=Number.POSITIVE_INFINITY),e.maxRetryTime??(e.maxRetryTime=Number.POSITIVE_INFINITY),e.randomize??(e.randomize=!1),e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.shouldConsumeRetry??(e.shouldConsumeRetry=()=>!0),fy("factor",e.factor,{min:0,allowInfinity:!1}),fy("minTimeout",e.minTimeout,{min:0,allowInfinity:!1}),fy("maxTimeout",e.maxTimeout,{min:0,allowInfinity:!0}),fy("maxRetryTime",e.maxRetryTime,{min:0,allowInfinity:!0}),e.factor>0||(e.factor=1),(a=e.signal)==null||a.throwIfAborted();let n=0,r=0;const i=performance.now();for(;!Number.isFinite(e.retries)||r<=e.retries;){n++;try{(s=e.signal)==null||s.throwIfAborted();const l=await t(n);return(o=e.signal)==null||o.throwIfAborted(),l}catch(l){await Rpe({error:l,attemptNumber:n,retriesConsumed:r,startTime:i,options:e})&&r++}}throw new Error("Retry attempts exhausted without throwing an error.")}var Mpe={};wt(Mpe,{AsyncCaller:()=>yb});const Lpe=[400,401,402,403,404,405,406,407,409],Dpe=t=>{var n,r;if(t.message.startsWith("Cancel")||t.message.startsWith("AbortError")||t.name==="AbortError"||(t==null?void 0:t.code)==="ECONNABORTED")throw t;const e=((n=t==null?void 0:t.response)==null?void 0:n.status)??(t==null?void 0:t.status);if(e&&Lpe.includes(+e))throw t;if(((r=t==null?void 0:t.error)==null?void 0:r.code)==="insufficient_quota"){const i=new Error(t==null?void 0:t.message);throw i.name="InsufficientQuotaError",i}};var yb=class{constructor(t){z(this,"maxConcurrency");z(this,"maxRetries");z(this,"onFailedAttempt");z(this,"queue");this.maxConcurrency=t.maxConcurrency??1/0,this.maxRetries=t.maxRetries??6,this.onFailedAttempt=t.onFailedAttempt??Dpe;const e="default"in zs?zs.default:zs;this.queue=new e({concurrency:this.maxConcurrency})}call(t,...e){return this.queue.add(()=>ZE(()=>t(...e).catch(n=>{throw n instanceof Error?n:new Error(n)}),{onFailedAttempt:({error:n})=>{var r;return(r=this.onFailedAttempt)==null?void 0:r.call(this,n)},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(t,e,...n){if(t.signal){let r;return Promise.race([this.call(e,...n),new Promise((i,a)=>{var s;r=()=>{a(i0(t.signal))},(s=t.signal)==null||s.addEventListener("abort",r)})]).finally(()=>{t.signal&&r&&t.signal.removeEventListener("abort",r)})}return this.call(e,...n)}fetch(...t){return this.call(()=>fetch(...t).then(e=>e.ok?e:Promise.reject(e)))}},b6=class extends Nf{constructor({config:e,onStart:n,onEnd:r,onError:i}){super({_awaitHandler:!0});z(this,"name","RootListenersTracer");z(this,"rootId");z(this,"config");z(this,"argOnStart");z(this,"argOnEnd");z(this,"argOnError");this.config=e,this.argOnStart=n,this.argOnEnd=r,this.argOnError=i}persistRun(e){return Promise.resolve()}async onRunCreate(e){this.rootId||(this.rootId=e.id,this.argOnStart&&await this.argOnStart(e,this.config))}async onRunUpdate(e){e.id===this.rootId&&(e.error?this.argOnError&&await this.argOnError(e,this.config):this.argOnEnd&&await this.argOnEnd(e,this.config))}};function vk(t){return t?t.lc_runnable:!1}var Fpe=class{constructor(t){z(this,"includeNames");z(this,"includeTypes");z(this,"includeTags");z(this,"excludeNames");z(this,"excludeTypes");z(this,"excludeTags");this.includeNames=t.includeNames,this.includeTypes=t.includeTypes,this.includeTags=t.includeTags,this.excludeNames=t.excludeNames,this.excludeTypes=t.excludeTypes,this.excludeTags=t.excludeTags}includeEvent(t,e){let n=this.includeNames===void 0&&this.includeTypes===void 0&&this.includeTags===void 0;const r=t.tags??[];return this.includeNames!==void 0&&(n=n||this.includeNames.includes(t.name)),this.includeTypes!==void 0&&(n=n||this.includeTypes.includes(e)),this.includeTags!==void 0&&(n=n||r.some(i=>{var a;return(a=this.includeTags)==null?void 0:a.includes(i)})),this.excludeNames!==void 0&&(n=n&&!this.excludeNames.includes(t.name)),this.excludeTypes!==void 0&&(n=n&&!this.excludeTypes.includes(e)),this.excludeTags!==void 0&&(n=n&&r.every(i=>{var a;return!((a=this.excludeTags)!=null&&a.includes(i))})),n}};function Q_(t){return t.replace(/[^a-zA-Z-_0-9]/g,"_")}const Bpe=["*","_","`"];function zpe(t){let e="";for(const[n,r]of Object.entries(t))e+=`	classDef ${n} ${r};
`;return e}function Upe(t,e,n){const{firstNode:r,lastNode:i,nodeColors:a,withStyles:s=!0,curveStyle:o="linear",wrapLabelNWords:l=9}=n??{};let c=s?`%%{init: {'flowchart': {'curve': '${o}'}}}%%
graph TD;
`:`graph TD;
`;if(s){const p="default",m={[p]:"{0}({1})"};r!==void 0&&(m[r]="{0}([{1}]):::first"),i!==void 0&&(m[i]="{0}([{1}]):::last");for(const[g,v]of Object.entries(t)){const y=v.name.split(":").pop()??"";let b=Bpe.some(w=>y.startsWith(w)&&y.endsWith(w))?`<p>${y}</p>`:y;Object.keys(v.metadata??{}).length&&(b+=`<hr/><small><em>${Object.entries(v.metadata??{}).map(([w,E])=>`${w} = ${E}`).join(`
`)}</em></small>`);const _=(m[g]??m[p]).replace("{0}",Q_(g)).replace("{1}",b);c+=`	${_}
`}}const d={};for(const p of e){const m=p.source.split(":"),g=p.target.split(":"),v=m.filter((y,x)=>y===g[x]).join(":");d[v]||(d[v]=[]),d[v].push(p)}const f=new Set;function h(p,m){const g=p.length===1&&p[0].source===p[0].target;if(m&&!g){const v=m.split(":").pop();if(f.has(v))throw new Error(`Found duplicate subgraph '${v}' -- this likely means that you're reusing a subgraph node with the same name. Please adjust your graph to have subgraph nodes with unique names.`);f.add(v),c+=`	subgraph ${v}
`}for(const v of p){const{source:y,target:x,data:b,conditional:_}=v;let w="";if(b!==void 0){let E=b;const A=E.split(" ");A.length>l&&(E=Array.from({length:Math.ceil(A.length/l)},(j,C)=>A.slice(C*l,(C+1)*l).join(" ")).join("&nbsp;<br>&nbsp;")),w=_?` -. &nbsp;${E}&nbsp; .-> `:` -- &nbsp;${E}&nbsp; --> `}else w=_?" -.-> ":" --> ";c+=`	${Q_(y)}${w}${Q_(x)};
`}for(const v in d)v.startsWith(`${m}:`)&&v!==m&&h(d[v],v);m&&!g&&(c+=`	end
`)}h(d[""]??[],"");for(const p in d)!p.includes(":")&&p!==""&&h(d[p],p);return s&&(c+=zpe(a??{})),c}async function Hpe(t,e){let n=(e==null?void 0:e.backgroundColor)??"white";const r=(e==null?void 0:e.imageType)??"png",i=btoa(t);n!==void 0&&(/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(n)||(n=`!${n}`));const a=`https://mermaid.ink/img/${i}?bgColor=${n}&type=${r}`,s=await fetch(a);if(!s.ok)throw new Error(["Failed to render the graph using the Mermaid.INK API.",`Status code: ${s.status}`,`Status text: ${s.statusText}`].join(`
`));return await s.blob()}var Wpe={};wt(Wpe,{Graph:()=>xk});function Vpe(t,e){if(t!==void 0&&!Jh(t))return t;if(vk(e))try{let n=e.getName();return n=n.startsWith("Runnable")?n.slice(8):n,n}catch{return e.getName()}else return e.name??"UnknownSchema"}function qpe(t){return vk(t.data)?{type:"runnable",data:{id:t.data.lc_id,name:t.data.getName()}}:{type:"schema",data:{...xl(t.data.schema),title:t.data.name}}}var xk=class w6{constructor(e){z(this,"nodes",{});z(this,"edges",[]);this.nodes=(e==null?void 0:e.nodes)??this.nodes,this.edges=(e==null?void 0:e.edges)??this.edges}toJSON(){const e={};return Object.values(this.nodes).forEach((n,r)=>{e[n.id]=Jh(n.id)?r:n.id}),{nodes:Object.values(this.nodes).map(n=>({id:e[n.id],...qpe(n)})),edges:this.edges.map(n=>{const r={source:e[n.source],target:e[n.target]};return typeof n.data<"u"&&(r.data=n.data),typeof n.conditional<"u"&&(r.conditional=n.conditional),r})}}addNode(e,n,r){if(n!==void 0&&this.nodes[n]!==void 0)throw new Error(`Node with id ${n} already exists`);const i=n??jr(),a={id:i,data:e,name:Vpe(n,e),metadata:r};return this.nodes[i]=a,a}removeNode(e){delete this.nodes[e.id],this.edges=this.edges.filter(n=>n.source!==e.id&&n.target!==e.id)}addEdge(e,n,r,i){if(this.nodes[e.id]===void 0)throw new Error(`Source node ${e.id} not in graph`);if(this.nodes[n.id]===void 0)throw new Error(`Target node ${n.id} not in graph`);const a={source:e.id,target:n.id,data:r,conditional:i};return this.edges.push(a),a}firstNode(){return _$(this)}lastNode(){return S$(this)}extend(e,n=""){let r=n;Object.values(e.nodes).map(c=>c.id).every(Jh)&&(r="");const a=c=>r?`${r}:${c}`:c;Object.entries(e.nodes).forEach(([c,d])=>{this.nodes[a(c)]={...d,id:a(c)}});const s=e.edges.map(c=>({...c,source:a(c.source),target:a(c.target)}));this.edges=[...this.edges,...s];const o=e.firstNode(),l=e.lastNode();return[o?{id:a(o.id),data:o.data}:void 0,l?{id:a(l.id),data:l.data}:void 0]}trimFirstNode(){const e=this.firstNode();e&&_$(this,[e.id])&&this.removeNode(e)}trimLastNode(){const e=this.lastNode();e&&S$(this,[e.id])&&this.removeNode(e)}reid(){const e=Object.fromEntries(Object.values(this.nodes).map(i=>[i.id,i.name])),n=new Map;Object.values(e).forEach(i=>{n.set(i,(n.get(i)||0)+1)});const r=i=>{const a=e[i];return Jh(i)&&n.get(a)===1?a:i};return new w6({nodes:Object.fromEntries(Object.entries(this.nodes).map(([i,a])=>[r(i),{...a,id:r(i)}])),edges:this.edges.map(i=>({...i,source:r(i.source),target:r(i.target)}))})}drawMermaid(e){const{withStyles:n,curveStyle:r,nodeColors:i={default:"fill:#f2f0ff,line-height:1.2",first:"fill-opacity:0",last:"fill:#bfb6fc"},wrapLabelNWords:a}=e??{},s=this.reid(),o=s.firstNode(),l=s.lastNode();return Upe(s.nodes,s.edges,{firstNode:o==null?void 0:o.id,lastNode:l==null?void 0:l.id,withStyles:n,curveStyle:r,nodeColors:i,wrapLabelNWords:a})}async drawMermaidPng(e){const n=this.drawMermaid(e);return Hpe(n,{backgroundColor:e==null?void 0:e.backgroundColor})}};function _$(t,e=[]){const n=new Set(t.edges.filter(i=>!e.includes(i.source)).map(i=>i.target)),r=[];for(const i of Object.values(t.nodes))!e.includes(i.id)&&!n.has(i.id)&&r.push(i);return r.length===1?r[0]:void 0}function S$(t,e=[]){const n=new Set(t.edges.filter(i=>!e.includes(i.target)).map(i=>i.source)),r=[];for(const i of Object.values(t.nodes))!e.includes(i.id)&&!n.has(i.id)&&r.push(i);return r.length===1?r[0]:void 0}function Gpe(t){const e=new TextEncoder,n=new ReadableStream({async start(r){for await(const i of t)r.enqueue(e.encode(`event: data
data: ${JSON.stringify(i)}

`));r.enqueue(e.encode(`event: end

`)),r.close()}});return wa.fromReadableStream(n)}function E$(t){return typeof t=="object"&&t!==null&&typeof t[Symbol.iterator]=="function"&&typeof t.next=="function"}const Kpe=t=>t!=null&&typeof t=="object"&&"next"in t&&typeof t.next=="function";function JE(t){return typeof t=="object"&&t!==null&&typeof t[Symbol.asyncIterator]=="function"}function*j$(t,e){for(;;){const{value:n,done:r}=to.runWithConfig(Pc(t),e.next.bind(e),!0);if(r)break;yield n}}async function*QE(t,e){const n=e[Symbol.asyncIterator]();for(;;){const{value:r,done:i}=await to.runWithConfig(Pc(t),n.next.bind(e),!0);if(i)break;yield r}}function wn(t,e){return t&&!Array.isArray(t)&&!(t instanceof Date)&&typeof t=="object"?t:{[e]:t}}var fn=class extends Dd{constructor(){super(...arguments);z(this,"lc_runnable",!0);z(this,"name")}getName(e){const n=this.name??this.constructor.lc_name()??this.constructor.name;return e?`${n}${e}`:n}withRetry(e){return new bk({bound:this,kwargs:{},config:{},maxAttemptNumber:e==null?void 0:e.stopAfterAttempt,...e})}withConfig(e){return new zd({bound:this,config:e,kwargs:{}})}withFallbacks(e){const n=Array.isArray(e)?e:e.fallbacks;return new C6({runnable:this,fallbacks:n})}_getOptionsList(e,n=0){if(Array.isArray(e)&&e.length!==n)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${n} inputs`);if(Array.isArray(e))return e.map(gt);if(n>1&&!Array.isArray(e)&&e.runId){console.warn("Provided runId will be used only for the first element of the batch.");const r=Object.fromEntries(Object.entries(e).filter(([i])=>i!=="runId"));return Array.from({length:n},(i,a)=>gt(a===0?e:r))}return Array.from({length:n},()=>gt(e))}async batch(e,n,r){var l;const i=this._getOptionsList(n??{},e.length),a=((l=i[0])==null?void 0:l.maxConcurrency)??(r==null?void 0:r.maxConcurrency),s=new yb({maxConcurrency:a,onFailedAttempt:c=>{throw c}}),o=e.map((c,d)=>s.call(async()=>{try{return await this.invoke(c,i[d])}catch(f){if(r!=null&&r.returnExceptions)return f;throw f}}));return Promise.all(o)}async*_streamIterator(e,n){yield this.invoke(e,n)}async stream(e,n){const r=gt(n),i=new Kc({generator:this._streamIterator(e,r),config:r});return await i.setup,wa.fromAsyncGenerator(i)}_separateRunnableConfigFromCallOptions(e){let n;e===void 0?n=gt(e):n=gt({callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName,configurable:e.configurable,recursionLimit:e.recursionLimit,maxConcurrency:e.maxConcurrency,runId:e.runId,timeout:e.timeout,signal:e.signal});const r={...e};return delete r.callbacks,delete r.tags,delete r.metadata,delete r.runName,delete r.configurable,delete r.recursionLimit,delete r.maxConcurrency,delete r.runId,delete r.timeout,delete r.signal,[n,r]}async _callWithConfig(e,n,r){const i=gt(r),a=await ri(i),s=await(a==null?void 0:a.handleChainStart(this.toJSON(),wn(n,"input"),i.runId,i==null?void 0:i.runType,void 0,void 0,(i==null?void 0:i.runName)??this.getName()));delete i.runId;let o;try{const l=e.call(this,n,i,s);o=await no(l,r==null?void 0:r.signal)}catch(l){throw await(s==null?void 0:s.handleChainError(l)),l}return await(s==null?void 0:s.handleChainEnd(wn(o,"output"))),o}async _batchWithConfig(e,n,r,i){var c;const a=this._getOptionsList(r??{},n.length),s=await Promise.all(a.map(ri)),o=await Promise.all(s.map(async(d,f)=>{const h=await(d==null?void 0:d.handleChainStart(this.toJSON(),wn(n[f],"input"),a[f].runId,a[f].runType,void 0,void 0,a[f].runName??this.getName()));return delete a[f].runId,h}));let l;try{const d=e.call(this,n,a,o,i);l=await no(d,(c=a==null?void 0:a[0])==null?void 0:c.signal)}catch(d){throw await Promise.all(o.map(f=>f==null?void 0:f.handleChainError(d))),d}return await Promise.all(o.map(d=>d==null?void 0:d.handleChainEnd(wn(l,"output")))),l}_concatOutputChunks(e,n){return Ic(e,n)}async*_transformStreamWithConfig(e,n,r){let i,a=!0,s,o=!0;const l=gt(r),c=await ri(l),d=this;async function*f(){for await(const p of e){if(a)if(i===void 0)i=p;else try{i=d._concatOutputChunks(i,p)}catch{i=void 0,a=!1}yield p}}let h;try{const p=await d6(n.bind(this),f(),async()=>c==null?void 0:c.handleChainStart(this.toJSON(),{input:""},l.runId,l.runType,void 0,void 0,l.runName??this.getName()),r==null?void 0:r.signal,l);delete l.runId,h=p.setup;const m=h==null?void 0:h.handlers.find(Ape);let g=p.output;m!==void 0&&h!==void 0&&(g=m.tapOutputIterable(h.runId,g));const v=h==null?void 0:h.handlers.find(x6);v!==void 0&&h!==void 0&&(g=v.tapOutputIterable(h.runId,g));for await(const y of g)if(yield y,o)if(s===void 0)s=y;else try{s=this._concatOutputChunks(s,y)}catch{s=void 0,o=!1}}catch(p){throw await(h==null?void 0:h.handleChainError(p,void 0,void 0,void 0,{inputs:wn(i,"input")})),p}await(h==null?void 0:h.handleChainEnd(s??{},void 0,void 0,void 0,{inputs:wn(i,"input")}))}getGraph(e){const n=new xk,r=n.addNode({name:`${this.getName()}Input`,schema:p2()}),i=n.addNode(this),a=n.addNode({name:`${this.getName()}Output`,schema:p2()});return n.addEdge(r,i),n.addEdge(i,a),n}pipe(e){return new ag({first:this,last:ua(e)})}pick(e){return this.pipe(new T6(e))}assign(e){return this.pipe(new wk(new Pf({steps:e})))}async*transform(e,n){let r;for await(const i of e)r===void 0?r=i:r=this._concatOutputChunks(r,i);yield*this._streamIterator(r,gt(n))}async*streamLog(e,n,r){const i=new XE({...r,autoClose:!1,_schemaFormat:"original"}),a=gt(n);yield*this._streamLog(e,i,a)}async*_streamLog(e,n,r){const{callbacks:i}=r;if(i===void 0)r.callbacks=[n];else if(Array.isArray(i))r.callbacks=i.concat([n]);else{const l=i.copy();l.addHandler(n,!0),r.callbacks=l}const a=this.stream(e,r);async function s(){try{const l=await a;for await(const c of l){const d=new ks({ops:[{op:"add",path:"/streamed_output/-",value:c}]});await n.writer.write(d)}}finally{await n.writer.close()}}const o=s();try{for await(const l of n)yield l}finally{await o}}streamEvents(e,n,r){let i;if(n.version==="v1")i=this._streamEventsV1(e,n,r);else if(n.version==="v2")i=this._streamEventsV2(e,n,r);else throw new Error('Only versions "v1" and "v2" of the schema are currently supported.');return n.encoding==="text/event-stream"?Gpe(i):wa.fromAsyncGenerator(i)}async*_streamEventsV2(e,n,r){var m;const i=new Cpe({...r,autoClose:!1}),a=gt(n),s=a.runId??jr();a.runId=s;const o=a.callbacks;if(o===void 0)a.callbacks=[i];else if(Array.isArray(o))a.callbacks=o.concat(i);else{const g=o.copy();g.addHandler(i,!0),a.callbacks=g}const l=new AbortController,c=this;async function d(){let g,v=null;try{n!=null&&n.signal?"any"in AbortSignal?g=AbortSignal.any([l.signal,n.signal]):(g=n.signal,v=()=>{l.abort()},n.signal.addEventListener("abort",v,{once:!0})):g=l.signal;const y=await c.stream(e,{...a,signal:g}),x=i.tapOutputIterable(s,y);for await(const b of x)if(l.signal.aborted)break}finally{await i.finish(),g&&v&&g.removeEventListener("abort",v)}}const f=d();let h=!1,p;try{for await(const g of i){if(!h){g.data.input=e,h=!0,p=g.run_id,yield g;continue}g.run_id===p&&g.event.endsWith("_end")&&(m=g.data)!=null&&m.input&&delete g.data.input,yield g}}finally{l.abort(),await f}}async*_streamEventsV1(e,n,r){let i,a=!1;const s=gt(n),o=s.tags??[],l=s.metadata??{},c=s.runName??this.getName(),d=new XE({...r,autoClose:!1,_schemaFormat:"streaming_events"}),f=new Fpe({...r}),h=this._streamLog(e,d,s);for await(const m of h){if(i?i=i.concat(m):i=yk.fromRunLogPatch(m),i.state===void 0)throw new Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!a){a=!0;const x={...i.state},b={run_id:x.id,event:`on_${x.type}_start`,name:c,tags:o,metadata:l,data:{input:e}};f.includeEvent(b,x.type)&&(yield b)}const g=m.ops.filter(x=>x.path.startsWith("/logs/")).map(x=>x.path.split("/")[2]),v=[...new Set(g)];for(const x of v){let b,_={};const w=i.state.logs[x];if(w.end_time===void 0?w.streamed_output.length>0?b="stream":b="start":b="end",b==="start")w.inputs!==void 0&&(_.input=w.inputs);else if(b==="end")w.inputs!==void 0&&(_.input=w.inputs),_.output=w.final_output;else if(b==="stream"){const E=w.streamed_output.length;if(E!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${E} instead. Encountered in: "${w.name}"`);_={chunk:w.streamed_output[0]},w.streamed_output=[]}yield{event:`on_${w.type}_${b}`,name:w.name,run_id:w.id,tags:w.tags,metadata:w.metadata,data:_}}const{state:y}=i;if(y.streamed_output.length>0){const x=y.streamed_output.length;if(x!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${x} instead. Encountered in: "${y.name}"`);const b={chunk:y.streamed_output[0]};y.streamed_output=[];const _={event:`on_${y.type}_stream`,run_id:y.id,tags:o,metadata:l,name:c,data:b};f.includeEvent(_,y.type)&&(yield _)}}const p=i==null?void 0:i.state;if(p!==void 0){const m={event:`on_${p.type}_end`,name:c,run_id:p.id,tags:o,metadata:l,data:{output:p.final_output}};f.includeEvent(m,p.type)&&(yield m)}}static isRunnable(e){return vk(e)}withListeners({onStart:e,onEnd:n,onError:r}){return new zd({bound:this,config:{},configFactories:[i=>({callbacks:[new b6({config:i,onStart:e,onEnd:n,onError:r})]})]})}asTool(e){return Qpe(this,e)}},zd=class _6 extends fn{constructor(n){super(n);z(this,"lc_namespace",["langchain_core","runnables"]);z(this,"lc_serializable",!0);z(this,"bound");z(this,"config");z(this,"kwargs");z(this,"configFactories");this.bound=n.bound,this.kwargs=n.kwargs,this.config=n.config,this.configFactories=n.configFactories}static lc_name(){return"RunnableBinding"}getName(n){return this.bound.getName(n)}async _mergeConfig(...n){const r=UE(this.config,...n);return UE(r,...this.configFactories?await Promise.all(this.configFactories.map(async i=>await i(r))):[])}withConfig(n){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...n}})}withRetry(n){return new bk({bound:this.bound,kwargs:this.kwargs,config:this.config,maxAttemptNumber:n==null?void 0:n.stopAfterAttempt,...n})}async invoke(n,r){return this.bound.invoke(n,await this._mergeConfig(r,this.kwargs))}async batch(n,r,i){const a=Array.isArray(r)?await Promise.all(r.map(async s=>this._mergeConfig(gt(s),this.kwargs))):await this._mergeConfig(gt(r),this.kwargs);return this.bound.batch(n,a,i)}_concatOutputChunks(n,r){return this.bound._concatOutputChunks(n,r)}async*_streamIterator(n,r){yield*this.bound._streamIterator(n,await this._mergeConfig(gt(r),this.kwargs))}async stream(n,r){return this.bound.stream(n,await this._mergeConfig(gt(r),this.kwargs))}async*transform(n,r){yield*this.bound.transform(n,await this._mergeConfig(gt(r),this.kwargs))}streamEvents(n,r,i){const a=this,s=async function*(){yield*a.bound.streamEvents(n,{...await a._mergeConfig(gt(r),a.kwargs),version:r.version},i)};return wa.fromAsyncGenerator(s())}static isRunnableBinding(n){return n.bound&&fn.isRunnable(n.bound)}withListeners({onStart:n,onEnd:r,onError:i}){return new _6({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[a=>({callbacks:[new b6({config:a,onStart:n,onEnd:r,onError:i})]})]})}},Ype=class S6 extends fn{constructor(n){super(n);z(this,"lc_serializable",!0);z(this,"lc_namespace",["langchain_core","runnables"]);z(this,"bound");this.bound=n.bound}static lc_name(){return"RunnableEach"}async invoke(n,r){return this._callWithConfig(this._invoke.bind(this),n,r)}async _invoke(n,r,i){return this.bound.batch(n,Xt(r,{callbacks:i==null?void 0:i.getChild()}))}withListeners({onStart:n,onEnd:r,onError:i}){return new S6({bound:this.bound.withListeners({onStart:n,onEnd:r,onError:i})})}},bk=class extends zd{constructor(e){super(e);z(this,"lc_namespace",["langchain_core","runnables"]);z(this,"maxAttemptNumber",3);z(this,"onFailedAttempt",()=>{});this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}static lc_name(){return"RunnableRetry"}_patchConfigForRetry(e,n,r){const i=e>1?`retry:attempt:${e}`:void 0;return Xt(n,{callbacks:r==null?void 0:r.getChild(i)})}async _invoke(e,n,r){return ZE(i=>super.invoke(e,this._patchConfigForRetry(i,n,r)),{onFailedAttempt:({error:i})=>this.onFailedAttempt(i,e),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,n){return this._callWithConfig(this._invoke.bind(this),e,n)}async _batch(e,n,r,i){const a={};try{await ZE(async s=>{const o=e.map((h,p)=>p).filter(h=>a[h.toString()]===void 0||a[h.toString()]instanceof Error),l=o.map(h=>e[h]),c=o.map(h=>this._patchConfigForRetry(s,n==null?void 0:n[h],r==null?void 0:r[h])),d=await super.batch(l,c,{...i,returnExceptions:!0});let f;for(let h=0;h<d.length;h+=1){const p=d[h],m=o[h];p instanceof Error&&f===void 0&&(f=p,f.input=l[h]),a[m.toString()]=p}if(f)throw f;return d},{onFailedAttempt:({error:s})=>this.onFailedAttempt(s,s.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(s){if((i==null?void 0:i.returnExceptions)!==!0)throw s}return Object.keys(a).sort((s,o)=>parseInt(s,10)-parseInt(o,10)).map(s=>a[parseInt(s,10)])}async batch(e,n,r){return this._batchWithConfig(this._batch.bind(this),e,n,r)}},ag=class Ih extends fn{constructor(n){super(n);z(this,"first");z(this,"middle",[]);z(this,"last");z(this,"omitSequenceTags",!1);z(this,"lc_serializable",!0);z(this,"lc_namespace",["langchain_core","runnables"]);this.first=n.first,this.middle=n.middle??this.middle,this.last=n.last,this.name=n.name,this.omitSequenceTags=n.omitSequenceTags??this.omitSequenceTags}static lc_name(){return"RunnableSequence"}get steps(){return[this.first,...this.middle,this.last]}async invoke(n,r){var c;const i=gt(r),a=await ri(i),s=await(a==null?void 0:a.handleChainStart(this.toJSON(),wn(n,"input"),i.runId,void 0,void 0,void 0,i==null?void 0:i.runName));delete i.runId;let o=n,l;try{const d=[this.first,...this.middle];for(let f=0;f<d.length;f+=1){const p=d[f].invoke(o,Xt(i,{callbacks:s==null?void 0:s.getChild(this.omitSequenceTags?void 0:`seq:step:${f+1}`)}));o=await no(p,r==null?void 0:r.signal)}if((c=r==null?void 0:r.signal)!=null&&c.aborted)throw i0(r.signal);l=await this.last.invoke(o,Xt(i,{callbacks:s==null?void 0:s.getChild(this.omitSequenceTags?void 0:`seq:step:${this.steps.length}`)}))}catch(d){throw await(s==null?void 0:s.handleChainError(d)),d}return await(s==null?void 0:s.handleChainEnd(wn(l,"output"))),l}async batch(n,r,i){var c;const a=this._getOptionsList(r??{},n.length),s=await Promise.all(a.map(ri)),o=await Promise.all(s.map(async(d,f)=>{const h=await(d==null?void 0:d.handleChainStart(this.toJSON(),wn(n[f],"input"),a[f].runId,void 0,void 0,void 0,a[f].runName));return delete a[f].runId,h}));let l=n;try{for(let d=0;d<this.steps.length;d+=1){const h=this.steps[d].batch(l,o.map((p,m)=>{const g=p==null?void 0:p.getChild(this.omitSequenceTags?void 0:`seq:step:${d+1}`);return Xt(a[m],{callbacks:g})}),i);l=await no(h,(c=a[0])==null?void 0:c.signal)}}catch(d){throw await Promise.all(o.map(f=>f==null?void 0:f.handleChainError(d))),d}return await Promise.all(o.map(d=>d==null?void 0:d.handleChainEnd(wn(l,"output")))),l}_concatOutputChunks(n,r){return this.last._concatOutputChunks(n,r)}async*_streamIterator(n,r){var h;const i=await ri(r),{runId:a,...s}=r??{},o=await(i==null?void 0:i.handleChainStart(this.toJSON(),wn(n,"input"),a,void 0,void 0,void 0,s==null?void 0:s.runName)),l=[this.first,...this.middle,this.last];let c=!0,d;async function*f(){yield n}try{let p=l[0].transform(f(),Xt(s,{callbacks:o==null?void 0:o.getChild(this.omitSequenceTags?void 0:"seq:step:1")}));for(let m=1;m<l.length;m+=1)p=await l[m].transform(p,Xt(s,{callbacks:o==null?void 0:o.getChild(this.omitSequenceTags?void 0:`seq:step:${m+1}`)}));for await(const m of p)if((h=r==null?void 0:r.signal)==null||h.throwIfAborted(),yield m,c)if(d===void 0)d=m;else try{d=this._concatOutputChunks(d,m)}catch{d=void 0,c=!1}}catch(p){throw await(o==null?void 0:o.handleChainError(p)),p}await(o==null?void 0:o.handleChainEnd(wn(d,"output")))}getGraph(n){const r=new xk;let i=null;return this.steps.forEach((a,s)=>{const o=a.getGraph(n);s!==0&&o.trimFirstNode(),s!==this.steps.length-1&&o.trimLastNode(),r.extend(o);const l=o.firstNode();if(!l)throw new Error(`Runnable ${a} has no first node`);i&&r.addEdge(i,l),i=o.lastNode()}),r}pipe(n){return Ih.isRunnableSequence(n)?new Ih({first:this.first,middle:this.middle.concat([this.last,n.first,...n.middle]),last:n.last,name:this.name??n.name}):new Ih({first:this.first,middle:[...this.middle,this.last],last:ua(n),name:this.name})}static isRunnableSequence(n){return Array.isArray(n.middle)&&fn.isRunnable(n)}static from([n,...r],i){let a={};return typeof i=="string"?a.name=i:i!==void 0&&(a=i),new Ih({...a,first:ua(n),middle:r.slice(0,-1).map(ua),last:ua(r[r.length-1])})}},Pf=class E6 extends fn{constructor(n){super(n);z(this,"lc_namespace",["langchain_core","runnables"]);z(this,"lc_serializable",!0);z(this,"steps");this.steps={};for(const[r,i]of Object.entries(n.steps))this.steps[r]=ua(i)}static lc_name(){return"RunnableMap"}getStepsKeys(){return Object.keys(this.steps)}static from(n){return new E6({steps:n})}async invoke(n,r){const i=gt(r),a=await ri(i),s=await(a==null?void 0:a.handleChainStart(this.toJSON(),{input:n},i.runId,void 0,void 0,void 0,i==null?void 0:i.runName));delete i.runId;const o={};try{const l=Object.entries(this.steps).map(async([c,d])=>{o[c]=await d.invoke(n,Xt(i,{callbacks:s==null?void 0:s.getChild(`map:key:${c}`)}))});await no(Promise.all(l),r==null?void 0:r.signal)}catch(l){throw await(s==null?void 0:s.handleChainError(l)),l}return await(s==null?void 0:s.handleChainEnd(o)),o}async*_transform(n,r,i){const a={...this.steps},s=mk(n,Object.keys(a).length),o=new Map(Object.entries(a).map(([l,c],d)=>{const f=c.transform(s[d],Xt(i,{callbacks:r==null?void 0:r.getChild(`map:key:${l}`)}));return[l,f.next().then(h=>({key:l,gen:f,result:h}))]}));for(;o.size;){const l=Promise.race(o.values()),{key:c,result:d,gen:f}=await no(l,i==null?void 0:i.signal);o.delete(c),d.done||(yield{[c]:d.value},o.set(c,f.next().then(h=>({key:c,gen:f,result:h}))))}}transform(n,r){return this._transformStreamWithConfig(n,this._transform.bind(this),r)}async stream(n,r){async function*i(){yield n}const a=gt(r),s=new Kc({generator:this.transform(i(),a),config:a});return await s.setup,wa.fromAsyncGenerator(s)}},Xpe=class j6 extends fn{constructor(n){super(n);z(this,"lc_serializable",!1);z(this,"lc_namespace",["langchain_core","runnables"]);z(this,"func");if(!pk(n.func))throw new Error("RunnableTraceable requires a function that is wrapped in traceable higher-order function");this.func=n.func}async invoke(n,r){const[i]=this._getOptionsList(r??{},1),a=await ri(i),s=this.func(Xt(i,{callbacks:a}),n);return no(s,i==null?void 0:i.signal)}async*_streamIterator(n,r){var s,o;const[i]=this._getOptionsList(r??{},1),a=await this.invoke(n,r);if(JE(a)){for await(const l of a)(s=i==null?void 0:i.signal)==null||s.throwIfAborted(),yield l;return}if(Kpe(a)){for(;;){(o=i==null?void 0:i.signal)==null||o.throwIfAborted();const l=a.next();if(l.done)break;yield l.value}return}yield a}static from(n){return new j6({func:n})}};function Zpe(t){if(pk(t))throw new Error("RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.")}var Nl=class A6 extends fn{constructor(n){if(pk(n.func))return Xpe.from(n.func);super(n);z(this,"lc_namespace",["langchain_core","runnables"]);z(this,"func");Zpe(n.func),this.func=n.func}static lc_name(){return"RunnableLambda"}static from(n){return new A6({func:n})}async _invoke(n,r,i){return new Promise((a,s)=>{const o=Xt(r,{callbacks:i==null?void 0:i.getChild(),recursionLimit:((r==null?void 0:r.recursionLimit)??J_)-1});to.runWithConfig(Pc(o),async()=>{var l,c;try{let d=await this.func(n,{...o});if(d&&fn.isRunnable(d)){if((r==null?void 0:r.recursionLimit)===0)throw new Error("Recursion limit reached.");d=await d.invoke(n,{...o,recursionLimit:(o.recursionLimit??J_)-1})}else if(JE(d)){let f;for await(const h of QE(o,d))if((l=r==null?void 0:r.signal)==null||l.throwIfAborted(),f===void 0)f=h;else try{f=this._concatOutputChunks(f,h)}catch{f=h}d=f}else if(E$(d)){let f;for(const h of j$(o,d))if((c=r==null?void 0:r.signal)==null||c.throwIfAborted(),f===void 0)f=h;else try{f=this._concatOutputChunks(f,h)}catch{f=h}d=f}a(d)}catch(d){s(d)}})})}async invoke(n,r){return this._callWithConfig(this._invoke.bind(this),n,r)}async*_transform(n,r,i){var l,c;let a;for await(const d of n)if(a===void 0)a=d;else try{a=this._concatOutputChunks(a,d)}catch{a=d}const s=Xt(i,{callbacks:r==null?void 0:r.getChild(),recursionLimit:((i==null?void 0:i.recursionLimit)??J_)-1}),o=await new Promise((d,f)=>{to.runWithConfig(Pc(s),async()=>{try{const h=await this.func(a,{...s,config:s});d(h)}catch(h){f(h)}})});if(o&&fn.isRunnable(o)){if((i==null?void 0:i.recursionLimit)===0)throw new Error("Recursion limit reached.");const d=await o.stream(a,s);for await(const f of d)yield f}else if(JE(o))for await(const d of QE(s,o))(l=i==null?void 0:i.signal)==null||l.throwIfAborted(),yield d;else if(E$(o))for(const d of j$(s,o))(c=i==null?void 0:i.signal)==null||c.throwIfAborted(),yield d;else yield o}transform(n,r){return this._transformStreamWithConfig(n,this._transform.bind(this),r)}async stream(n,r){async function*i(){yield n}const a=gt(r),s=new Kc({generator:this.transform(i(),a),config:a});return await s.setup,wa.fromAsyncGenerator(s)}},Jpe=class extends Pf{},C6=class extends fn{constructor(e){super(e);z(this,"lc_namespace",["langchain_core","runnables"]);z(this,"lc_serializable",!0);z(this,"runnable");z(this,"fallbacks");this.runnable=e.runnable,this.fallbacks=e.fallbacks}static lc_name(){return"RunnableWithFallbacks"}*runnables(){yield this.runnable;for(const e of this.fallbacks)yield e}async invoke(e,n){const r=gt(n),i=await ri(r),{runId:a,...s}=r,o=await(i==null?void 0:i.handleChainStart(this.toJSON(),wn(e,"input"),a,void 0,void 0,void 0,s==null?void 0:s.runName)),l=Xt(s,{callbacks:o==null?void 0:o.getChild()});return await to.runWithConfig(l,async()=>{var f;let d;for(const h of this.runnables()){(f=r==null?void 0:r.signal)==null||f.throwIfAborted();try{const p=await h.invoke(e,l);return await(o==null?void 0:o.handleChainEnd(wn(p,"output"))),p}catch(p){d===void 0&&(d=p)}}throw d===void 0?new Error("No error stored at end of fallback."):(await(o==null?void 0:o.handleChainError(d)),d)})}async*_streamIterator(e,n){var f;const r=gt(n),i=await ri(r),{runId:a,...s}=r,o=await(i==null?void 0:i.handleChainStart(this.toJSON(),wn(e,"input"),a,void 0,void 0,void 0,s==null?void 0:s.runName));let l,c;for(const h of this.runnables()){(f=r==null?void 0:r.signal)==null||f.throwIfAborted();const p=Xt(s,{callbacks:o==null?void 0:o.getChild()});try{const m=await h.stream(e,p);c=QE(p,m);break}catch(m){l===void 0&&(l=m)}}if(c===void 0){const h=l??new Error("No error stored at end of fallback.");throw await(o==null?void 0:o.handleChainError(h)),h}let d;try{for await(const h of c){yield h;try{d=d===void 0?d:this._concatOutputChunks(d,h)}catch{d=void 0}}}catch(h){throw await(o==null?void 0:o.handleChainError(h)),h}await(o==null?void 0:o.handleChainEnd(wn(d,"output")))}async batch(e,n,r){var l;if(r!=null&&r.returnExceptions)throw new Error("Not implemented.");const i=this._getOptionsList(n??{},e.length),a=await Promise.all(i.map(c=>ri(c))),s=await Promise.all(a.map(async(c,d)=>{const f=await(c==null?void 0:c.handleChainStart(this.toJSON(),wn(e[d],"input"),i[d].runId,void 0,void 0,void 0,i[d].runName));return delete i[d].runId,f}));let o;for(const c of this.runnables()){(l=i[0].signal)==null||l.throwIfAborted();try{const d=await c.batch(e,s.map((f,h)=>Xt(i[h],{callbacks:f==null?void 0:f.getChild()})),r);return await Promise.all(s.map((f,h)=>f==null?void 0:f.handleChainEnd(wn(d[h],"output")))),d}catch(d){o===void 0&&(o=d)}}throw o?(await Promise.all(s.map(c=>c==null?void 0:c.handleChainError(o))),o):new Error("No error stored at end of fallbacks.")}};function ua(t){if(typeof t=="function")return new Nl({func:t});if(fn.isRunnable(t))return t;if(!Array.isArray(t)&&typeof t=="object"){const e={};for(const[n,r]of Object.entries(t))e[n]=ua(r);return new Pf({steps:e})}else throw new Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}var wk=class extends fn{constructor(e){e instanceof Pf&&(e={mapper:e});super(e);z(this,"lc_namespace",["langchain_core","runnables"]);z(this,"lc_serializable",!0);z(this,"mapper");this.mapper=e.mapper}static lc_name(){return"RunnableAssign"}async invoke(e,n){const r=await this.mapper.invoke(e,n);return{...e,...r}}async*_transform(e,n,r){const i=this.mapper.getStepsKeys(),[a,s]=mk(e),o=this.mapper.transform(s,Xt(r,{callbacks:n==null?void 0:n.getChild()})),l=o.next();for await(const c of a){if(typeof c!="object"||Array.isArray(c))throw new Error(`RunnableAssign can only be used with objects as input, got ${typeof c}`);const d=Object.fromEntries(Object.entries(c).filter(([f])=>!i.includes(f)));Object.keys(d).length>0&&(yield d)}yield(await l).value;for await(const c of o)yield c}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=gt(n),a=new Kc({generator:this.transform(r(),i),config:i});return await a.setup,wa.fromAsyncGenerator(a)}},T6=class extends fn{constructor(e){(typeof e=="string"||Array.isArray(e))&&(e={keys:e});super(e);z(this,"lc_namespace",["langchain_core","runnables"]);z(this,"lc_serializable",!0);z(this,"keys");this.keys=e.keys}static lc_name(){return"RunnablePick"}async _pick(e){if(typeof this.keys=="string")return e[this.keys];{const n=this.keys.map(r=>[r,e[r]]).filter(r=>r[1]!==void 0);return n.length===0?void 0:Object.fromEntries(n)}}async invoke(e,n){return this._callWithConfig(this._pick.bind(this),e,n)}async*_transform(e){for await(const n of e){const r=await this._pick(n);r!==void 0&&(yield r)}}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=gt(n),a=new Kc({generator:this.transform(r(),i),config:i});return await a.setup,wa.fromAsyncGenerator(a)}},ej=class extends zd{constructor(e){const n=ag.from([Nl.from(async r=>{let i;if(yU(r))try{i=await FT(this.schema,r.args)}catch{throw new Kle("Received tool input did not match expected schema",JSON.stringify(r.args))}else i=r;return i}).withConfig({runName:`${e.name}:parse_input`}),e.bound]).withConfig({runName:e.name});super({bound:n,config:e.config??{}});z(this,"name");z(this,"description");z(this,"schema");this.name=e.name,this.description=e.description,this.schema=e.schema}static lc_name(){return"RunnableToolLike"}};function Qpe(t,e){const n=e.name??t.getName(),r=e.description??BT(e.schema);return Rz(e.schema)?new ej({name:n,description:r,schema:WT({input:HT()}).transform(i=>i.input),bound:t}):new ej({name:n,description:r,schema:e.schema,bound:t})}const o0=(t,e)=>{const n=[...new Set(e==null?void 0:e.map(i=>{if(typeof i=="string")return i;const a=new i({});if(!("getType"in a)||typeof a.getType!="function")throw new Error("Invalid type provided.");return a.getType()}))],r=t.getType();return n.some(i=>i===r)};function eme(t,e){return Array.isArray(t)?A$(t,e):Nl.from(n=>A$(n,t))}function A$(t,e={}){const{includeNames:n,excludeNames:r,includeTypes:i,excludeTypes:a,includeIds:s,excludeIds:o}=e,l=[];for(const c of t)if(!(r&&c.name&&r.includes(c.name))){{if(a&&o0(c,a))continue;if(o&&c.id&&o.includes(c.id))continue}i||s||n?(n&&c.name&&n.some(d=>d===c.name)||i&&o0(c,i)||s&&c.id&&s.some(d=>d===c.id))&&l.push(c):l.push(c)}return l}function tme(t){return Array.isArray(t)?C$(t):Nl.from(C$)}function C$(t){if(!t.length)return[];const e=[];for(const n of t){const r=n,i=e.pop();if(!i)e.push(r);else if(r.getType()==="tool"||r.getType()!==i.getType())e.push(i,r);else{const a=t0(i),s=t0(r),o=a.concat(s);typeof a.content=="string"&&typeof s.content=="string"&&(o.content=`${a.content}
${s.content}`),e.push(ime(o))}}return e}function nme(t,e){if(Array.isArray(t)){const n=t;if(!e)throw new Error("Options parameter is required when providing messages.");return T$(n,e)}else{const n=t;return Nl.from(r=>T$(r,n)).withConfig({runName:"trim_messages"})}}async function T$(t,e){const{maxTokens:n,tokenCounter:r,strategy:i="last",allowPartial:a=!1,endOn:s,startOn:o,includeSystem:l=!1,textSplitter:c}=e;if(o&&i==="first")throw new Error("`startOn` should only be specified if `strategy` is 'last'.");if(l&&i==="first")throw new Error("`includeSystem` should only be specified if `strategy` is 'last'.");let d;"getNumTokens"in r?d=async h=>(await Promise.all(h.map(m=>r.getNumTokens(m.content)))).reduce((m,g)=>m+g,0):d=async h=>r(h);let f=O6;if(c&&("splitText"in c?f=c.splitText:f=async h=>c(h)),i==="first")return k6(t,{maxTokens:n,tokenCounter:d,textSplitter:f,partialStrategy:a?"first":void 0,endOn:s});if(i==="last")return rme(t,{maxTokens:n,tokenCounter:d,textSplitter:f,allowPartial:a,includeSystem:l,startOn:o,endOn:s});throw new Error(`Unrecognized strategy: '${i}'. Must be one of 'first' or 'last'.`)}async function k6(t,e){const{maxTokens:n,tokenCounter:r,textSplitter:i,partialStrategy:a,endOn:s}=e;let o=[...t],l=0;for(let c=0;c<o.length;c+=1){const d=c>0?o.slice(0,-c):o;if(await r(d)<=n){l=o.length-c;break}}if(l<o.length&&a){let c=!1;if(Array.isArray(o[l].content)){const d=o[l];if(typeof d.content=="string")throw new Error("Expected content to be an array.");const f=d.content.length,h=a==="last"?[...d.content].reverse():d.content;for(let p=1;p<=f;p+=1){const m=a==="first"?h.slice(0,p):h.slice(-p),g=Object.fromEntries(Object.entries(d).filter(([x])=>x!=="type"&&!x.startsWith("lc_"))),v=_k(d.getType(),{...g,content:m}),y=[...o.slice(0,l),v];if(await r(y)<=n)o=y,l+=1,c=!0;else break}c&&a==="last"&&(d.content=[...h].reverse())}if(!c){const d=o[l];let f;if(Array.isArray(d.content)&&d.content.some(h=>typeof h=="string"||h.type==="text")){const h=d.content.find(p=>p.type==="text"&&p.text);f=h==null?void 0:h.text}else typeof d.content=="string"&&(f=d.content);if(f){const h=await i(f),p=h.length;a==="last"&&h.reverse();for(let m=0;m<p-1;m+=1)if(h.pop(),d.content=h.join(""),await r([...o.slice(0,l),d])<=n){a==="last"&&(d.content=[...h].reverse().join("")),o=[...o.slice(0,l),d],l+=1;break}}}}if(s){const c=Array.isArray(s)?s:[s];for(;l>0&&!o0(o[l-1],c);)l-=1}return o.slice(0,l)}async function rme(t,e){var d;const{allowPartial:n=!1,includeSystem:r=!1,endOn:i,startOn:a,...s}=e;let o=t.map(f=>{const h=Object.fromEntries(Object.entries(f).filter(([p])=>p!=="type"&&!p.startsWith("lc_")));return _k(f.getType(),h,XT(f))});if(i){const f=Array.isArray(i)?i:[i];for(;o.length>0&&!o0(o[o.length-1],f);)o=o.slice(0,-1)}const l=r&&((d=o[0])==null?void 0:d.getType())==="system";let c=l?o.slice(0,1).concat(o.slice(1).reverse()):o.reverse();return c=await k6(c,{...s,partialStrategy:n?"last":void 0,endOn:a}),l?[c[0],...c.slice(1).reverse()]:c.reverse()}const k$={human:{message:ba,messageChunk:tg},ai:{message:os,messageChunk:lo},system:{message:ls,messageChunk:wl},developer:{message:ls,messageChunk:wl},tool:{message:kf,messageChunk:Jm},function:{message:cb,messageChunk:eg},generic:{message:Gc,messageChunk:Qm},remove:{message:e0,messageChunk:e0}};function _k(t,e,n){var a;let r,i;switch(t){case"human":n?r=new tg(e):i=new ba(e);break;case"ai":if(n){let s={...e};"tool_calls"in s&&(s={...s,tool_call_chunks:(a=s.tool_calls)==null?void 0:a.map(o=>({...o,type:"tool_call_chunk",index:void 0,args:JSON.stringify(o.args)}))}),r=new lo(s)}else i=new os(e);break;case"system":n?r=new wl(e):i=new ls(e);break;case"developer":n?r=new wl({...e,additional_kwargs:{...e.additional_kwargs,__openai_role__:"developer"}}):i=new ls({...e,additional_kwargs:{...e.additional_kwargs,__openai_role__:"developer"}});break;case"tool":if("tool_call_id"in e)n?r=new Jm(e):i=new kf(e);else throw new Error("Can not convert ToolMessage to ToolMessageChunk if 'tool_call_id' field is not defined.");break;case"function":if(n)r=new eg(e);else{if(!e.name)throw new Error("FunctionMessage must have a 'name' field");i=new cb(e)}break;case"generic":if("role"in e)n?r=new Qm(e):i=new Gc(e);else throw new Error("Can not convert ChatMessage to ChatMessageChunk if 'role' field is not defined.");break;default:throw new Error(`Unrecognized message type ${t}`)}if(n&&r)return r;if(i)return i;throw new Error(`Unrecognized message type ${t}`)}function ime(t){const e=t.getType();let n;const r=Object.fromEntries(Object.entries(t).filter(([i])=>!["type","tool_call_chunks"].includes(i)&&!i.startsWith("lc_")));if(e in k$&&(n=_k(e,r)),!n)throw new Error(`Unrecognized message chunk class ${e}. Supported classes are ${Object.keys(k$)}`);return n}function O6(t){const e=t.split(`
`);return Promise.resolve([...e.slice(0,-1).map(n=>`${n}
`),e[e.length-1]])}const ame=["tool_call","tool_call_chunk","invalid_tool_call","server_tool_call","server_tool_call_chunk","server_tool_call_result"],sme=["image","video","audio","text-plain","file"],ome=["text","reasoning",...ame,...sme];var lme={};wt(lme,{AIMessage:()=>os,AIMessageChunk:()=>lo,BaseMessage:()=>oo,BaseMessageChunk:()=>Ol,ChatMessage:()=>Gc,ChatMessageChunk:()=>Qm,FunctionMessage:()=>cb,FunctionMessageChunk:()=>eg,HumanMessage:()=>ba,HumanMessageChunk:()=>tg,KNOWN_BLOCK_TYPES:()=>ome,RemoveMessage:()=>e0,SystemMessage:()=>ls,SystemMessageChunk:()=>wl,ToolMessage:()=>kf,ToolMessageChunk:()=>Jm,_isMessageFieldWithRole:()=>oU,_mergeDicts:()=>Jn,_mergeLists:()=>Zm,_mergeObj:()=>aU,_mergeStatus:()=>iU,coerceMessageLikeToMessage:()=>Zh,convertToChunk:()=>t0,convertToOpenAIImageBlock:()=>Yz,convertToProviderContentBlock:()=>tle,defaultTextSplitter:()=>O6,defaultToolCallParser:()=>JT,filterMessages:()=>eme,getBufferString:()=>QT,iife:()=>Yle,isAIMessage:()=>lb,isAIMessageChunk:()=>RE,isBase64ContentBlock:()=>qT,isBaseMessage:()=>Ho,isBaseMessageChunk:()=>XT,isChatMessage:()=>Ble,isChatMessageChunk:()=>zle,isDataContentBlock:()=>bl,isDirectToolOutput:()=>fU,isFunctionMessage:()=>Ule,isFunctionMessageChunk:()=>Hle,isHumanMessage:()=>Wle,isHumanMessageChunk:()=>Vle,isIDContentBlock:()=>Kz,isMessage:()=>rU,isOpenAIToolCallArray:()=>Ole,isPlainTextContentBlock:()=>Qoe,isSystemMessage:()=>qle,isSystemMessageChunk:()=>Gle,isToolMessage:()=>hU,isToolMessageChunk:()=>pU,isURLContentBlock:()=>VT,mapChatMessagesToStoredMessages:()=>ece,mapStoredMessageToChatMessage:()=>ek,mapStoredMessagesToChatMessages:()=>Qle,mergeContent:()=>eo,mergeMessageRuns:()=>tme,mergeResponseMetadata:()=>cU,mergeUsageMetadata:()=>dU,parseBase64DataUrl:()=>IE,parseMimeType:()=>ele,trimMessages:()=>nme});var cme={};wt(cme,{BasePromptValue:()=>vb,ChatPromptValue:()=>P6,ImagePromptValue:()=>ume,StringPromptValue:()=>N6});var vb=class extends Dd{},N6=class extends vb{constructor(e){super({value:e});z(this,"lc_namespace",["langchain_core","prompt_values"]);z(this,"lc_serializable",!0);z(this,"value");this.value=e}static lc_name(){return"StringPromptValue"}toString(){return this.value}toChatMessages(){return[new ba(this.value)]}},P6=class extends vb{constructor(e){Array.isArray(e)&&(e={messages:e});super(e);z(this,"lc_namespace",["langchain_core","prompt_values"]);z(this,"lc_serializable",!0);z(this,"messages");this.messages=e.messages}static lc_name(){return"ChatPromptValue"}toString(){return QT(this.messages)}toChatMessages(){return this.messages}},ume=class extends vb{constructor(e){"imageUrl"in e||(e={imageUrl:e});super(e);z(this,"lc_namespace",["langchain_core","prompt_values"]);z(this,"lc_serializable",!0);z(this,"imageUrl");z(this,"value");this.imageUrl=e.imageUrl}static lc_name(){return"ImagePromptValue"}toString(){return this.imageUrl.url}toChatMessages(){return[new ba({content:[{type:"image_url",image_url:{detail:this.imageUrl.detail,url:this.imageUrl.url}}]})]}},Ae="0123456789abcdef".split(""),dme=[-2147483648,8388608,32768,128],Gi=[24,16,8,0],hy=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],kn=[];function _a(t,e){e?(kn[0]=kn[16]=kn[1]=kn[2]=kn[3]=kn[4]=kn[5]=kn[6]=kn[7]=kn[8]=kn[9]=kn[10]=kn[11]=kn[12]=kn[13]=kn[14]=kn[15]=0,this.blocks=kn):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}_a.prototype.update=function(t){if(!this.finalized){var e,n=typeof t;if(n!=="string"){if(n==="object"){if(t===null)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}else throw new Error(ERROR);e=!0}for(var r,i=0,a,s=t.length,o=this.blocks;i<s;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,this.block=o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),e)for(a=this.start;i<s&&a<64;++i)o[a>>>2]|=t[i]<<Gi[a++&3];else for(a=this.start;i<s&&a<64;++i)r=t.charCodeAt(i),r<128?o[a>>>2]|=r<<Gi[a++&3]:r<2048?(o[a>>>2]|=(192|r>>>6)<<Gi[a++&3],o[a>>>2]|=(128|r&63)<<Gi[a++&3]):r<55296||r>=57344?(o[a>>>2]|=(224|r>>>12)<<Gi[a++&3],o[a>>>2]|=(128|r>>>6&63)<<Gi[a++&3],o[a>>>2]|=(128|r&63)<<Gi[a++&3]):(r=65536+((r&1023)<<10|t.charCodeAt(++i)&1023),o[a>>>2]|=(240|r>>>18)<<Gi[a++&3],o[a>>>2]|=(128|r>>>12&63)<<Gi[a++&3],o[a>>>2]|=(128|r>>>6&63)<<Gi[a++&3],o[a>>>2]|=(128|r&63)<<Gi[a++&3]);this.lastByteIndex=a,this.bytes+=a-this.start,a>=64?(this.block=o[16],this.start=a-64,this.hash(),this.hashed=!0):this.start=a}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}};_a.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>>2]|=dme[e&3],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}};_a.prototype.hash=function(){var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,a=this.h5,s=this.h6,o=this.h7,l=this.blocks,c,d,f,h,p,m,g,v,y,x,b;for(c=16;c<64;++c)p=l[c-15],d=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3,p=l[c-2],f=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,l[c]=l[c-16]+d+l[c-7]+f<<0;for(b=e&n,c=0;c<64;c+=4)this.first?(this.is224?(v=300032,p=l[0]-1413257819,o=p-150054599<<0,r=p+24177077<<0):(v=704751109,p=l[0]-210244248,o=p-1521486534<<0,r=p+143694565<<0),this.first=!1):(d=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),f=(i>>>6|i<<26)^(i>>>11|i<<21)^(i>>>25|i<<7),v=t&e,h=v^t&n^b,g=i&a^~i&s,p=o+f+g+hy[c]+l[c],m=d+h,o=r+p<<0,r=p+m<<0),d=(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10),f=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7),y=r&t,h=y^r&e^v,g=s&o^~s&i,p=a+f+g+hy[c+1]+l[c+1],m=d+h,s=n+p<<0,n=p+m<<0,d=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),f=(s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7),x=n&r,h=x^n&t^y,g=a&s^~a&o,p=i+f+g+hy[c+2]+l[c+2],m=d+h,a=e+p<<0,e=p+m<<0,d=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),f=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7),b=e&n,h=b^e&r^x,g=a&s^~a&o,p=i+f+g+hy[c+3]+l[c+3],m=d+h,i=t+p<<0,t=p+m<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0,this.h4=this.h4+i<<0,this.h5=this.h5+a<<0,this.h6=this.h6+s<<0,this.h7=this.h7+o<<0};_a.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,a=this.h5,s=this.h6,o=this.h7,l=Ae[t>>>28&15]+Ae[t>>>24&15]+Ae[t>>>20&15]+Ae[t>>>16&15]+Ae[t>>>12&15]+Ae[t>>>8&15]+Ae[t>>>4&15]+Ae[t&15]+Ae[e>>>28&15]+Ae[e>>>24&15]+Ae[e>>>20&15]+Ae[e>>>16&15]+Ae[e>>>12&15]+Ae[e>>>8&15]+Ae[e>>>4&15]+Ae[e&15]+Ae[n>>>28&15]+Ae[n>>>24&15]+Ae[n>>>20&15]+Ae[n>>>16&15]+Ae[n>>>12&15]+Ae[n>>>8&15]+Ae[n>>>4&15]+Ae[n&15]+Ae[r>>>28&15]+Ae[r>>>24&15]+Ae[r>>>20&15]+Ae[r>>>16&15]+Ae[r>>>12&15]+Ae[r>>>8&15]+Ae[r>>>4&15]+Ae[r&15]+Ae[i>>>28&15]+Ae[i>>>24&15]+Ae[i>>>20&15]+Ae[i>>>16&15]+Ae[i>>>12&15]+Ae[i>>>8&15]+Ae[i>>>4&15]+Ae[i&15]+Ae[a>>>28&15]+Ae[a>>>24&15]+Ae[a>>>20&15]+Ae[a>>>16&15]+Ae[a>>>12&15]+Ae[a>>>8&15]+Ae[a>>>4&15]+Ae[a&15]+Ae[s>>>28&15]+Ae[s>>>24&15]+Ae[s>>>20&15]+Ae[s>>>16&15]+Ae[s>>>12&15]+Ae[s>>>8&15]+Ae[s>>>4&15]+Ae[s&15];return this.is224||(l+=Ae[o>>>28&15]+Ae[o>>>24&15]+Ae[o>>>20&15]+Ae[o>>>16&15]+Ae[o>>>12&15]+Ae[o>>>8&15]+Ae[o>>>4&15]+Ae[o&15]),l};_a.prototype.toString=_a.prototype.hex;_a.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,a=this.h5,s=this.h6,o=this.h7,l=[t>>>24&255,t>>>16&255,t>>>8&255,t&255,e>>>24&255,e>>>16&255,e>>>8&255,e&255,n>>>24&255,n>>>16&255,n>>>8&255,n&255,r>>>24&255,r>>>16&255,r>>>8&255,r&255,i>>>24&255,i>>>16&255,i>>>8&255,i&255,a>>>24&255,a>>>16&255,a>>>8&255,a&255,s>>>24&255,s>>>16&255,s>>>8&255,s&255];return this.is224||l.push(o>>>24&255,o>>>16&255,o>>>8&255,o&255),l};_a.prototype.array=_a.prototype.digest;_a.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t};const I6=(...t)=>new _a(!1,!0).update(t.join("")).hex();var fme={};wt(fme,{sha256:()=>I6});var hme={};wt(hme,{BaseCache:()=>R6,InMemoryCache:()=>M6,defaultHashKeyEncoder:()=>$6,deserializeStoredGeneration:()=>pme,serializeGeneration:()=>mme});const $6=(...t)=>I6(t.join("_"));function pme(t){return t.message!==void 0?{text:t.text,message:ek(t.message)}:{text:t.text}}function mme(t){const e={text:t.text};return t.message!==void 0&&(e.message=t.message.toDict()),e}var R6=class{constructor(){z(this,"keyEncoder",$6)}makeDefaultKeyEncoder(t){this.keyEncoder=t}};const gme=new Map;var M6=class L6 extends R6{constructor(n){super();z(this,"cache");this.cache=n??new Map}lookup(n,r){return Promise.resolve(this.cache.get(this.keyEncoder(n,r))??null)}async update(n,r,i){this.cache.set(this.keyEncoder(n,r),i)}static global(){return new L6(gme)}},xb={};xb.byteLength=xme;xb.toByteArray=wme;xb.fromByteArray=Eme;var Wa=[],bi=[],yme=typeof Uint8Array<"u"?Uint8Array:Array,e1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var fu=0,vme=e1.length;fu<vme;++fu)Wa[fu]=e1[fu],bi[e1.charCodeAt(fu)]=fu;bi[45]=62;bi[95]=63;function D6(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function xme(t){var e=D6(t),n=e[0],r=e[1];return(n+r)*3/4-r}function bme(t,e,n){return(e+n)*3/4-n}function wme(t){var e,n=D6(t),r=n[0],i=n[1],a=new yme(bme(t,r,i)),s=0,o=i>0?r-4:r,l;for(l=0;l<o;l+=4)e=bi[t.charCodeAt(l)]<<18|bi[t.charCodeAt(l+1)]<<12|bi[t.charCodeAt(l+2)]<<6|bi[t.charCodeAt(l+3)],a[s++]=e>>16&255,a[s++]=e>>8&255,a[s++]=e&255;return i===2&&(e=bi[t.charCodeAt(l)]<<2|bi[t.charCodeAt(l+1)]>>4,a[s++]=e&255),i===1&&(e=bi[t.charCodeAt(l)]<<10|bi[t.charCodeAt(l+1)]<<4|bi[t.charCodeAt(l+2)]>>2,a[s++]=e>>8&255,a[s++]=e&255),a}function _me(t){return Wa[t>>18&63]+Wa[t>>12&63]+Wa[t>>6&63]+Wa[t&63]}function Sme(t,e,n){for(var r,i=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(t[a+2]&255),i.push(_me(r));return i.join("")}function Eme(t){for(var e,n=t.length,r=n%3,i=[],a=16383,s=0,o=n-r;s<o;s+=a)i.push(Sme(t,s,s+a>o?o:s+a));return r===1?(e=t[n-1],i.push(Wa[e>>2]+Wa[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Wa[e>>10]+Wa[e>>4&63]+Wa[e<<2&63]+"=")),i.join("")}var jme=Object.defineProperty,Ame=(t,e,n)=>e in t?jme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cme=(t,e,n)=>(Ame(t,e+"",n),n);function Tme(t,e){let n=Array.from({length:t.length},(r,i)=>({start:i,end:i+1}));for(;n.length>1;){let r=null;for(let i=0;i<n.length-1;i++){const a=t.slice(n[i].start,n[i+1].end),s=e.get(a.join(","));s!=null&&(r==null||s<r[0])&&(r=[s,i])}if(r!=null){const i=r[1];n[i]={start:n[i].start,end:n[i+1].end},n.splice(i+1,1)}else break}return n}function kme(t,e){return t.length===1?[e.get(t.join(","))]:Tme(t,e).map(n=>e.get(t.slice(n.start,n.end).join(","))).filter(n=>n!=null)}function Ome(t){return t.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}var tj=class{constructor(t,e){z(this,"specialTokens");z(this,"inverseSpecialTokens");z(this,"patStr");z(this,"textEncoder",new TextEncoder);z(this,"textDecoder",new TextDecoder("utf-8"));z(this,"rankMap",new Map);z(this,"textMap",new Map);this.patStr=t.pat_str;const n=t.bpe_ranks.split(`
`).filter(Boolean).reduce((r,i)=>{const[a,s,...o]=i.split(" "),l=Number.parseInt(s,10);return o.forEach((c,d)=>r[c]=l+d),r},{});for(const[r,i]of Object.entries(n)){const a=xb.toByteArray(r);this.rankMap.set(a.join(","),i),this.textMap.set(i,a)}this.specialTokens={...t.special_tokens,...e},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((r,[i,a])=>(r[a]=this.textEncoder.encode(i),r),{})}encode(t,e=[],n="all"){const r=new RegExp(this.patStr,"ug"),i=tj.specialTokenRegex(Object.keys(this.specialTokens)),a=[],s=new Set(e==="all"?Object.keys(this.specialTokens):e),o=new Set(n==="all"?Object.keys(this.specialTokens).filter(c=>!s.has(c)):n);if(o.size>0){const c=tj.specialTokenRegex([...o]),d=t.match(c);if(d!=null)throw new Error(`The text contains a special token that is not allowed: ${d[0]}`)}let l=0;for(;;){let c=null,d=l;for(;i.lastIndex=d,c=i.exec(t),!(c==null||s.has(c[0]));)d=c.index+1;const f=(c==null?void 0:c.index)??t.length;for(const p of t.substring(l,f).matchAll(r)){const m=this.textEncoder.encode(p[0]),g=this.rankMap.get(m.join(","));if(g!=null){a.push(g);continue}a.push(...kme(m,this.rankMap))}if(c==null)break;let h=this.specialTokens[c[0]];a.push(h),l=c.index+c[0].length}return a}decode(t){const e=[];let n=0;for(let a=0;a<t.length;++a){const s=t[a],o=this.textMap.get(s)??this.inverseSpecialTokens[s];o!=null&&(e.push(o),n+=o.length)}const r=new Uint8Array(n);let i=0;for(const a of e)r.set(a,i),i+=a.length;return this.textDecoder.decode(r)}},F6=tj;Cme(F6,"specialTokenRegex",t=>new RegExp(t.map(e=>Ome(e)).join("|"),"g"));function Nme(t){switch(t){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":case"text-embedding-3-small":case"text-embedding-3-large":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":case"gpt-4o-2024-11-20":case"gpt-4o-mini-2024-07-18":case"gpt-4o-mini":case"gpt-4o-search-preview":case"gpt-4o-search-preview-2025-03-11":case"gpt-4o-mini-search-preview":case"gpt-4o-mini-search-preview-2025-03-11":case"gpt-4o-audio-preview":case"gpt-4o-audio-preview-2024-12-17":case"gpt-4o-audio-preview-2024-10-01":case"gpt-4o-mini-audio-preview":case"gpt-4o-mini-audio-preview-2024-12-17":case"o1":case"o1-2024-12-17":case"o1-mini":case"o1-mini-2024-09-12":case"o1-preview":case"o1-preview-2024-09-12":case"o1-pro":case"o1-pro-2025-03-19":case"o3":case"o3-2025-04-16":case"o3-mini":case"o3-mini-2025-01-31":case"o4-mini":case"o4-mini-2025-04-16":case"chatgpt-4o-latest":case"gpt-4o-realtime":case"gpt-4o-realtime-preview-2024-10-01":case"gpt-4o-realtime-preview-2024-12-17":case"gpt-4o-mini-realtime-preview":case"gpt-4o-mini-realtime-preview-2024-12-17":case"gpt-4.1":case"gpt-4.1-2025-04-14":case"gpt-4.1-mini":case"gpt-4.1-mini-2025-04-14":case"gpt-4.1-nano":case"gpt-4.1-nano-2025-04-14":case"gpt-4.5-preview":case"gpt-4.5-preview-2025-02-27":case"gpt-5":case"gpt-5-2025-08-07":case"gpt-5-nano":case"gpt-5-nano-2025-08-07":case"gpt-5-mini":case"gpt-5-mini-2025-08-07":case"gpt-5-chat-latest":return"o200k_base";default:throw new Error("Unknown model")}}var Pme={};wt(Pme,{encodingForModel:()=>Sk,getEncoding:()=>B6});const py={},Ime=new yb({});async function B6(t){return t in py||(py[t]=Ime.fetch(`https://tiktoken.pages.dev/js/${t}.json`).then(e=>e.json()).then(e=>new F6(e)).catch(e=>{throw delete py[t],e})),await py[t]}async function Sk(t){return B6(Nme(t))}var $me={};wt($me,{BaseLangChain:()=>U6,BaseLanguageModel:()=>H6,calculateMaxTokens:()=>Lme,getEmbeddingContextSize:()=>Rme,getModelContextSize:()=>z6,getModelNameForTiktoken:()=>bb,isOpenAITool:()=>Mme});const bb=t=>t.startsWith("gpt-5")?"gpt-5":t.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":t.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":t.startsWith("gpt-4-32k")?"gpt-4-32k":t.startsWith("gpt-4-")?"gpt-4":t.startsWith("gpt-4o")?"gpt-4o":t,Rme=t=>{switch(t){case"text-embedding-ada-002":return 8191;default:return 2046}},z6=t=>{switch(bb(t)){case"gpt-5":case"gpt-5-turbo":case"gpt-5-turbo-preview":return 4e5;case"gpt-4o":case"gpt-4o-mini":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":return 128e3;case"gpt-4-turbo":case"gpt-4-turbo-preview":case"gpt-4-turbo-2024-04-09":case"gpt-4-0125-preview":case"gpt-4-1106-preview":return 128e3;case"gpt-4-32k":case"gpt-4-32k-0314":case"gpt-4-32k-0613":return 32768;case"gpt-4":case"gpt-4-0314":case"gpt-4-0613":return 8192;case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-16k-0613":return 16384;case"gpt-3.5-turbo":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-1106":case"gpt-3.5-turbo-0125":return 4096;case"text-davinci-003":case"text-davinci-002":return 4097;case"text-davinci-001":return 2049;case"text-curie-001":case"text-babbage-001":case"text-ada-001":return 2048;case"code-davinci-002":case"code-davinci-001":return 8e3;case"code-cushman-001":return 2048;case"claude-3-5-sonnet-20241022":case"claude-3-5-sonnet-20240620":case"claude-3-opus-20240229":case"claude-3-sonnet-20240229":case"claude-3-haiku-20240307":case"claude-2.1":return 2e5;case"claude-2.0":case"claude-instant-1.2":return 1e5;case"gemini-1.5-pro":case"gemini-1.5-pro-latest":case"gemini-1.5-flash":case"gemini-1.5-flash-latest":return 1e6;case"gemini-pro":case"gemini-pro-vision":return 32768;default:return 4097}};function Mme(t){return typeof t!="object"||!t?!1:!!("type"in t&&t.type==="function"&&"function"in t&&typeof t.function=="object"&&t.function&&"name"in t.function&&"parameters"in t.function)}const Lme=async({prompt:t,modelName:e})=>{let n;try{n=(await Sk(bb(e))).encode(t).length}catch{console.warn("Failed to calculate number of tokens, falling back to approximate count"),n=Math.ceil(t.length/4)}return z6(e)-n},Dme=()=>!1;var U6=class extends fn{constructor(e){super(e);z(this,"verbose");z(this,"callbacks");z(this,"tags");z(this,"metadata");this.verbose=e.verbose??Dme(),this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}get lc_attributes(){return{callbacks:void 0,verbose:void 0}}},H6=class extends U6{constructor({callbacks:e,callbackManager:n,...r}){const{cache:i,...a}=r;super({callbacks:e??n,...a});z(this,"caller");z(this,"cache");z(this,"_encoding");typeof i=="object"?this.cache=i:i?this.cache=M6.global():this.cache=void 0,this.caller=new yb(r??{})}get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}async getNumTokens(e){let n;typeof e=="string"?n=e:n=e.map(i=>typeof i=="string"?i:i.type==="text"&&"text"in i?i.text:"").join("");let r=Math.ceil(n.length/4);if(!this._encoding)try{this._encoding=await Sk("modelName"in this?bb(this.modelName):"gpt2")}catch(i){console.warn("Failed to calculate number of tokens, falling back to approximate count",i)}if(this._encoding)try{r=this._encoding.encode(n).length}catch(i){console.warn("Failed to calculate number of tokens, falling back to approximate count",i)}return r}static _convertInputToPromptValue(e){return typeof e=="string"?new N6(e):Array.isArray(e)?new P6(e.map(Zh)):e}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall({config:e,...n}){const r={...this._identifyingParams(),...n,_type:this._llmType(),_model:this._modelType()};return Object.entries(r).filter(([s,o])=>o!==void 0).map(([s,o])=>`${s}:${JSON.stringify(o)}`).sort().join(",")}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){throw new Error("Use .toJSON() instead")}get profile(){return{}}},Ud=class extends fn{constructor(e){super(e);z(this,"lc_namespace",["langchain_core","runnables"]);z(this,"lc_serializable",!0);z(this,"func");e&&(this.func=e.func)}static lc_name(){return"RunnablePassthrough"}async invoke(e,n){const r=gt(n);return this.func&&await this.func(e,r),this._callWithConfig(i=>Promise.resolve(i),e,r)}async*transform(e,n){const r=gt(n);let i,a=!0;for await(const s of this._transformStreamWithConfig(e,o=>o,r))if(yield s,a)if(i===void 0)i=s;else try{i=Ic(i,s)}catch{i=void 0,a=!1}this.func&&i!==void 0&&await this.func(i,r)}static assign(e){return new wk(new Pf({steps:e}))}};const Fme=t=>t();function t1(t){const e=t.constructor;return new e({...t,content:t.contentBlocks,response_metadata:{...t.response_metadata,output_version:"v1"}})}var Bme={};wt(Bme,{BaseChatModel:()=>Ek,SimpleChatModel:()=>zme});function n1(t){const e=[];for(const n of t){let r=n;if(Array.isArray(n.content))for(let i=0;i<n.content.length;i++){const a=n.content[i];(VT(a)||qT(a))&&r===n&&(r=new n.constructor({...r,content:[...n.content.slice(0,i),Yz(a),...n.content.slice(i+1)]}))}e.push(r)}return e}var Ek=class Zl extends H6{constructor(n){super(n);z(this,"lc_namespace",["langchain","chat_models",this._llmType()]);z(this,"disableStreaming",!1);z(this,"outputVersion");this.outputVersion=Fme(()=>{const r=n.outputVersion??Bs("LC_OUTPUT_VERSION");return r&&["v0","v1"].includes(r)?r:"v0"})}get callKeys(){return[...super.callKeys,"outputVersion"]}_separateRunnableConfigFromCallOptionsCompat(n){const[r,i]=super._separateRunnableConfigFromCallOptions(n);return i.signal=r.signal,[r,i]}async invoke(n,r){const i=Zl._convertInputToPromptValue(n);return(await this.generatePrompt([i],r,r==null?void 0:r.callbacks)).generations[0][0].message}async*_streamResponseChunks(n,r,i){throw new Error("Not implemented.")}async*_streamIterator(n,r){var i;if(this._streamResponseChunks===Zl.prototype._streamResponseChunks||this.disableStreaming)yield this.invoke(n,r);else{const s=Zl._convertInputToPromptValue(n).toChatMessages(),[o,l]=this._separateRunnableConfigFromCallOptionsCompat(r),c={...o.metadata,...this.getLsParams(l)},d=await ts.configure(o.callbacks,this.callbacks,o.tags,this.tags,c,this.metadata,{verbose:this.verbose}),f={options:l,invocation_params:this==null?void 0:this.invocationParams(l),batch_size:1},h=l.outputVersion??this.outputVersion,p=await(d==null?void 0:d.handleChatModelStart(this.toJSON(),[n1(s)],o.runId,void 0,f,void 0,void 0,o.runName));let m,g;try{for await(const v of this._streamResponseChunks(s,l,p==null?void 0:p[0])){if(v.message.id==null){const y=(i=p==null?void 0:p.at(0))==null?void 0:i.runId;y!=null&&v.message._updateId(`run-${y}`)}v.message.response_metadata={...v.generationInfo,...v.message.response_metadata},h==="v1"?yield t1(v.message):yield v.message,m?m=m.concat(v):m=v,RE(v.message)&&v.message.usage_metadata!==void 0&&(g={tokenUsage:{promptTokens:v.message.usage_metadata.input_tokens,completionTokens:v.message.usage_metadata.output_tokens,totalTokens:v.message.usage_metadata.total_tokens}})}}catch(v){throw await Promise.all((p??[]).map(y=>y==null?void 0:y.handleLLMError(v))),v}await Promise.all((p??[]).map(v=>v==null?void 0:v.handleLLMEnd({generations:[[m]],llmOutput:g})))}}getLsParams(n){const r=this.getName().startsWith("Chat")?this.getName().replace("Chat",""):this.getName();return{ls_model_type:"chat",ls_stop:n.stop,ls_provider:r}}async _generateUncached(n,r,i,a){var p,m;const s=n.map(g=>g.map(Zh));let o;if(a!==void 0&&a.length===s.length)o=a;else{const g={...i.metadata,...this.getLsParams(r)},v=await ts.configure(i.callbacks,this.callbacks,i.tags,this.tags,g,this.metadata,{verbose:this.verbose}),y={options:r,invocation_params:this==null?void 0:this.invocationParams(r),batch_size:1};o=await(v==null?void 0:v.handleChatModelStart(this.toJSON(),s.map(n1),i.runId,void 0,y,void 0,void 0,i.runName))}const l=r.outputVersion??this.outputVersion,c=[],d=[];if(!!(o!=null&&o[0].handlers.find(jU))&&!this.disableStreaming&&s.length===1&&this._streamResponseChunks!==Zl.prototype._streamResponseChunks)try{const g=await this._streamResponseChunks(s[0],r,o==null?void 0:o[0]);let v,y;for await(const x of g){if(x.message.id==null){const b=(p=o==null?void 0:o.at(0))==null?void 0:p.runId;b!=null&&x.message._updateId(`run-${b}`)}v===void 0?v=x:v=Ic(v,x),RE(x.message)&&x.message.usage_metadata!==void 0&&(y={tokenUsage:{promptTokens:x.message.usage_metadata.input_tokens,completionTokens:x.message.usage_metadata.output_tokens,totalTokens:x.message.usage_metadata.total_tokens}})}if(v===void 0)throw new Error("Received empty response from chat model call.");c.push([v]),await(o==null?void 0:o[0].handleLLMEnd({generations:c,llmOutput:y}))}catch(g){throw await(o==null?void 0:o[0].handleLLMError(g)),g}else{const g=await Promise.allSettled(s.map(async(v,y)=>{const x=await this._generate(v,{...r,promptIndex:y},o==null?void 0:o[y]);if(l==="v1")for(const b of x.generations)b.message=t1(b.message);return x}));await Promise.all(g.map(async(v,y)=>{var x,b,_;if(v.status==="fulfilled"){const w=v.value;for(const E of w.generations){if(E.message.id==null){const A=(x=o==null?void 0:o.at(0))==null?void 0:x.runId;A!=null&&E.message._updateId(`run-${A}`)}E.message.response_metadata={...E.generationInfo,...E.message.response_metadata}}return w.generations.length===1&&(w.generations[0].message.response_metadata={...w.llmOutput,...w.generations[0].message.response_metadata}),c[y]=w.generations,d[y]=w.llmOutput,(b=o==null?void 0:o[y])==null?void 0:b.handleLLMEnd({generations:[w.generations],llmOutput:w.llmOutput})}else return await((_=o==null?void 0:o[y])==null?void 0:_.handleLLMError(v.reason)),Promise.reject(v.reason)}))}const h={generations:c,llmOutput:d.length?(m=this._combineLLMOutput)==null?void 0:m.call(this,...d):void 0};return Object.defineProperty(h,WE,{value:o?{runIds:o==null?void 0:o.map(g=>g.runId)}:void 0,configurable:!0}),h}async _generateCached({messages:n,cache:r,llmStringKey:i,parsedOptions:a,handledOptions:s}){const o=n.map(x=>x.map(Zh)),l={...s.metadata,...this.getLsParams(a)},c=await ts.configure(s.callbacks,this.callbacks,s.tags,this.tags,l,this.metadata,{verbose:this.verbose}),d={options:a,invocation_params:this==null?void 0:this.invocationParams(a),batch_size:1},f=await(c==null?void 0:c.handleChatModelStart(this.toJSON(),o.map(n1),s.runId,void 0,d,void 0,void 0,s.runName)),h=[],m=(await Promise.allSettled(o.map(async(x,b)=>{const _=Zl._convertInputToPromptValue(x).toString(),w=await r.lookup(_,i);return w==null&&h.push(b),w}))).map((x,b)=>({result:x,runManager:f==null?void 0:f[b]})).filter(({result:x})=>x.status==="fulfilled"&&x.value!=null||x.status==="rejected"),g=a.outputVersion??this.outputVersion,v=[];await Promise.all(m.map(async({result:x,runManager:b},_)=>{if(x.status==="fulfilled"){const w=x.value;return v[_]=w.map(E=>("message"in E&&Ho(E.message)&&lb(E.message)&&(E.message.usage_metadata={input_tokens:0,output_tokens:0,total_tokens:0},g==="v1"&&(E.message=t1(E.message))),E.generationInfo={...E.generationInfo,tokenUsage:{}},E)),w.length&&await(b==null?void 0:b.handleLLMNewToken(w[0].text)),b==null?void 0:b.handleLLMEnd({generations:[w]},void 0,void 0,void 0,{cached:!0})}else return await(b==null?void 0:b.handleLLMError(x.reason,void 0,void 0,void 0,{cached:!0})),Promise.reject(x.reason)}));const y={generations:v,missingPromptIndices:h,startedRunManagers:f};return Object.defineProperty(y,WE,{value:f?{runIds:f==null?void 0:f.map(x=>x.runId)}:void 0,configurable:!0}),y}async generate(n,r,i){let a;Array.isArray(r)?a={stop:r}:a=r;const s=n.map(g=>g.map(Zh)),[o,l]=this._separateRunnableConfigFromCallOptionsCompat(a);if(o.callbacks=o.callbacks??i,!this.cache)return this._generateUncached(s,l,o);const{cache:c}=this,d=this._getSerializedCacheKeyParametersForCall(l),{generations:f,missingPromptIndices:h,startedRunManagers:p}=await this._generateCached({messages:s,cache:c,llmStringKey:d,parsedOptions:l,handledOptions:o});let m={};if(h.length>0){const g=await this._generateUncached(h.map(v=>s[v]),l,o,p!==void 0?h.map(v=>p==null?void 0:p[v]):void 0);await Promise.all(g.generations.map(async(v,y)=>{const x=h[y];f[x]=v;const b=Zl._convertInputToPromptValue(s[x]).toString();return c.update(b,d,v)})),m=g.llmOutput??{}}return{generations:f,llmOutput:m}}invocationParams(n){return{}}_modelType(){return"base_chat_model"}async generatePrompt(n,r,i){const a=n.map(s=>s.toChatMessages());return this.generate(a,r,i)}withStructuredOutput(n,r){if(typeof this.bindTools!="function")throw new Error('Chat model must implement ".bindTools()" to use withStructuredOutput.');if(r!=null&&r.strict)throw new Error('"strict" mode is not supported for this model by default.');const i=n,a=r==null?void 0:r.name,s=BT(i)??"A function available to call.",o=r==null?void 0:r.method,l=r==null?void 0:r.includeRaw;if(o==="jsonMode")throw new Error('Base withStructuredOutput implementation only supports "functionCalling" as a method.');let c=a??"extract",d;Oc(i)?d=[{type:"function",function:{name:c,description:s,parameters:xl(i)}}]:("name"in i&&(c=i.name),d=[{type:"function",function:{name:c,description:s,parameters:i}}]);const f=this.bindTools(d),h=Nl.from(v=>{if(!lo.isInstance(v))throw new Error("Input is not an AIMessageChunk.");if(!v.tool_calls||v.tool_calls.length===0)throw new Error("No tool calls found in the response.");const y=v.tool_calls.find(x=>x.name===c);if(!y)throw new Error(`No tool call found with name ${c}.`);return y.args});if(!l)return f.pipe(h).withConfig({runName:"StructuredOutput"});const p=Ud.assign({parsed:(v,y)=>h.invoke(v.raw,y)}),m=Ud.assign({parsed:()=>null}),g=p.withFallbacks({fallbacks:[m]});return ag.from([{raw:f},g]).withConfig({runName:"StructuredOutputRunnable"})}},zme=class extends Ek{async _generate(t,e,n){const r=await this._call(t,e,n),i=new os(r);if(typeof i.content!="string")throw new Error("Cannot generate with a simple chat model when output is not a string.");return{generations:[{text:i.content,message:i}]}}},Ume={};wt(Ume,{extendInteropZodObject:()=>ise,getInteropZodDefaultGetter:()=>sse,getInteropZodObjectShape:()=>jE,getSchemaDescription:()=>BT,interopParse:()=>tse,interopParseAsync:()=>FT,interopSafeParse:()=>ese,interopSafeParseAsync:()=>$z,interopZodObjectMakeFieldsOptional:()=>cse,interopZodObjectPartial:()=>ase,interopZodObjectPassthrough:()=>AE,interopZodObjectStrict:()=>Gv,interopZodTransformInputSchema:()=>Mz,isInteropZodError:()=>use,isInteropZodLiteral:()=>Qae,isInteropZodObject:()=>rse,isInteropZodSchema:()=>Oc,isShapelessZodSchema:()=>nse,isSimpleStringZodSchema:()=>Rz,isZodArrayV4:()=>sb,isZodLiteralV3:()=>Pz,isZodLiteralV4:()=>Iz,isZodObjectV3:()=>zT,isZodObjectV4:()=>Ja,isZodSchema:()=>Jae,isZodSchemaV3:()=>An,isZodSchemaV4:()=>hn});const ju="0.19.0";let O$=!1,np,W6,V6,nj,q6,G6,K6,Y6,X6;function Hme(t,e={auto:!1}){if(O$)throw new Error(`you must \`import 'groq-sdk/shims/${t.kind}'\` before importing anything else from groq-sdk`);if(np)throw new Error(`can't \`import 'groq-sdk/shims/${t.kind}'\` after \`import 'groq-sdk/shims/${np}'\``);O$=e.auto,np=t.kind,W6=t.fetch,V6=t.FormData,nj=t.File,q6=t.ReadableStream,G6=t.getMultipartRequestOptions,K6=t.getDefaultAgent,Y6=t.fileFromPath,X6=t.isFsReadStream}class Wme{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function Vme({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from 'groq-sdk'`:\n- `import 'groq-sdk/shims/node'` (if you're running on Node)\n- `import 'groq-sdk/shims/web'` (otherwise)\n";let n,r,i,a;try{n=fetch,r=Request,i=Response,a=Headers}catch(s){throw new Error(`this environment is missing the following Web Fetch API type: ${s.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:i,Headers:a,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(s,o)=>({...o,body:new Wme(s)}),getDefaultAgent:s=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/groq/groq-typescript#file-uploads")},isFsReadStream:s=>!1}}const Z6=()=>{np||Hme(Vme(),{auto:!0})};Z6();class ma extends Error{}class Qn extends ma{constructor(e,n,r,i){super(`${Qn.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new wb({message:r,cause:aj(n)});const a=n;return e===400?new Q6(e,a,r,i):e===401?new e8(e,a,r,i):e===403?new t8(e,a,r,i):e===404?new n8(e,a,r,i):e===409?new r8(e,a,r,i):e===422?new i8(e,a,r,i):e===429?new a8(e,a,r,i):e>=500?new s8(e,a,r,i):new Qn(e,a,r,i)}}class rj extends Qn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class wb extends Qn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class J6 extends wb{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Q6 extends Qn{}class e8 extends Qn{}class t8 extends Qn{}class n8 extends Qn{}class r8 extends Qn{}class i8 extends Qn{}class a8 extends Qn{}class s8 extends Qn{}class Uu{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;const i=new qme;async function*a(){if(!e.body)throw n.abort(),new ma("Attempted to iterate over a response with no body");const o=new $c,l=N$(e.body);for await(const c of l)for(const d of o.decode(c)){const f=i.decode(d);f&&(yield f)}for(const c of o.flush()){const d=i.decode(c);d&&(yield d)}}async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const l of a())if(!o){if(l.data.startsWith("[DONE]")){o=!0;continue}if(l.event===null||l.event==="error"){let c;try{c=JSON.parse(l.data)}catch(d){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),d}if(c&&c.error)throw new Qn(c.error.status_code,c.error,c.error.message,void 0);yield c}}o=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{o||n.abort()}}return new Uu(s,n)}static fromReadableStream(e,n){let r=!1;async function*i(){const s=new $c,o=N$(e);for await(const l of o)for(const c of s.decode(l))yield c;for(const l of s.flush())yield l}async function*a(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{for await(const o of i())s||o&&(yield JSON.parse(o));s=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{s||n.abort()}}return new Uu(a,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const s=r.next();e.push(s),n.push(s)}return a.shift()}});return[new Uu(()=>i(e),this.controller),new Uu(()=>i(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new q6({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:a,done:s}=await n.next();if(s)return i.close();const o=r.encode(JSON.stringify(a)+`
`);i.enqueue(o)}catch(a){i.error(a)}},async cancel(){var i;await((i=n.return)==null?void 0:i.call(n))}})}}class qme{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=Gme(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}class $c{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let n=this.decodeText(e);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=$c.NEWLINE_CHARS.has(n[n.length-1]||"");let i=n.split($c.NEWLINE_REGEXP);return i.length===1&&!r?(this.buffer.push(i[0]),[]):(this.buffer.length>0&&(i=[this.buffer.join("")+i[0],...i.slice(1)],this.buffer=[]),r||(this.buffer=[i.pop()||""]),i)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new ma(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new ma(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new ma("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}$c.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]);$c.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function Gme(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}function N$(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const o8=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",l8=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&_b(t),_b=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Kme=t=>l8(t)||o8(t)||X6(t);async function c8(t,e,n){var i;if(t=await t,l8(t))return t;if(o8(t)){const a=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const s=_b(a)?[await a.arrayBuffer()]:[a];return new nj(s,e,n)}const r=await Yme(t);if(e||(e=Zme(t)??"unknown_file"),!(n!=null&&n.type)){const a=(i=r[0])==null?void 0:i.type;typeof a=="string"&&(n={...n,type:a})}return new nj(r,e,n)}async function Yme(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(_b(t))e.push(await t.arrayBuffer());else if(Jme(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${Xme(t)}`);return e}function Xme(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function Zme(t){var e;return r1(t.name)||r1(t.filename)||((e=r1(t.path))==null?void 0:e.split(/[\\/]/).pop())}const r1=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},Jme=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",P$=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",jk=async t=>{const e=await Qme(t.body);return G6(e,t)},Qme=async t=>{const e=new V6;return await Promise.all(Object.entries(t||{}).map(([n,r])=>ij(e,n,r))),e},ij=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(Kme(n)){const r=await c8(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>ij(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>ij(t,`${e}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var ad={};Z6();async function u8(t){var s;const{response:e}=t;if(t.options.stream)return sd("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):Uu.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type"),r=(s=n==null?void 0:n.split(";")[0])==null?void 0:s.trim();if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.endsWith("+json"))){const o=await e.json();return sd("response",e.status,e.url,e.headers,o),o}const a=await e.text();return sd("response",e.status,e.url,e.headers,a),a}class Sb extends Promise{constructor(e,n=u8){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new Sb(this.responsePromise,async n=>e(await this.parseResponse(n),n))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class ege{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e4,httpAgent:i,fetch:a}){this.baseURL=e,this.maxRetries=i1("maxRetries",n),this.timeout=i1("timeout",r),this.httpAgent=i,this.fetch=a??W6}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...age(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${fge()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async i=>{const a=i&&_b(i==null?void 0:i.body)?new DataView(await i.body.arrayBuffer()):(i==null?void 0:i.body)instanceof DataView?i.body:(i==null?void 0:i.body)instanceof ArrayBuffer?new DataView(i.body):i&&ArrayBuffer.isView(i==null?void 0:i.body)?new DataView(i.body.buffer):i==null?void 0:i.body;return{method:e,path:n,...i,body:a}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){var m;e={...e};const{method:r,path:i,query:a,headers:s={}}=e,o=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:P$(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,l=this.calculateContentLength(o),c=this.buildURL(i,a);"timeout"in e&&i1("timeout",e.timeout),e.timeout=e.timeout??this.timeout;const d=e.httpAgent??this.httpAgent??K6(c),f=e.timeout+1e3;typeof((m=d==null?void 0:d.options)==null?void 0:m.timeout)=="number"&&f>(d.options.timeout??0)&&(d.options.timeout=f),this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const h=this.buildHeaders({options:e,headers:s,contentLength:l,retryCount:n});return{req:{method:r,...o&&{body:o},headers:h,...d&&{agent:d},signal:e.signal??null},url:c,timeout:e.timeout}}buildHeaders({options:e,headers:n,contentLength:r,retryCount:i}){const a={};r&&(a["content-length"]=r);const s=this.defaultHeaders(e);return L$(a,s),L$(a,n),P$(e.body)&&np!=="node"&&delete a["content-type"],my(s,"x-stainless-retry-count")===void 0&&my(n,"x-stainless-retry-count")===void 0&&(a["x-stainless-retry-count"]=String(i)),my(s,"x-stainless-timeout")===void 0&&my(n,"x-stainless-timeout")===void 0&&e.timeout&&(a["x-stainless-timeout"]=String(e.timeout)),this.validateHeaders(a,n),a}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,i){return Qn.generate(e,n,r,i)}request(e,n=null){return new Sb(this.makeRequest(e,n))}async makeRequest(e,n){var f,h;const r=await e,i=r.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(r);const{req:a,url:s,timeout:o}=this.buildRequest(r,{retryCount:i-n});if(await this.prepareRequest(a,{url:s,options:r}),sd("request",s,r,a.headers),(f=r.signal)!=null&&f.aborted)throw new rj;const l=new AbortController,c=await this.fetchWithTimeout(s,a,o,l).catch(aj);if(c instanceof Error){if((h=r.signal)!=null&&h.aborted)throw new rj;if(n)return this.retryRequest(r,n);throw c.name==="AbortError"?new J6:new wb({cause:c})}const d=nge(c.headers);if(!c.ok){if(n&&this.shouldRetry(c)){const x=`retrying, ${n} attempts remaining`;return sd(`response (error; ${x})`,c.status,s,d),this.retryRequest(r,n,d)}const p=await c.text().catch(x=>aj(x).message),m=sge(p),g=m?void 0:p;throw sd(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,c.status,s,d,g),this.makeStatusError(c.status,m,g,d)}return{response:c,options:r,controller:l}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new tge(this,r,e)}buildURL(e,n){const r=lge(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return uge(i)||(n={...i,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new ma(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,i){const{signal:a,...s}=n||{};a&&a.addEventListener("abort",()=>i.abort());const o=setTimeout(()=>i.abort(),r),l={signal:i.signal,...s};return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,e,l).finally(()=>{clearTimeout(o)})}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let i;const a=r==null?void 0:r["retry-after-ms"];if(a){const o=parseFloat(a);Number.isNaN(o)||(i=o)}const s=r==null?void 0:r["retry-after"];if(s&&!i){const o=parseFloat(s);Number.isNaN(o)?i=Date.parse(s)-Date.now():i=o*1e3}if(!(i&&0<=i&&i<60*1e3)){const o=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,o)}return await cge(i),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,s=Math.min(.5*Math.pow(2,a),8),o=1-Math.random()*.25;return s*o*1e3}getUserAgent(){return`${this.constructor.name}/JS ${ju}`}}class tge extends Sb{constructor(e,n,r){super(n,async i=>new r(e,i.response,await u8(i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const nge=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),rge=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ju,"X-Stainless-OS":$$(Deno.build.os),"X-Stainless-Arch":I$(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ju,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ju,"X-Stainless-OS":$$(process.platform),"X-Stainless-Arch":I$(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=ige();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ju,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ju,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function ige(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${a}.${s}`}}}return null}const I$=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",$$=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let R$;const age=()=>R$??(R$=rge()),sge=t=>{try{return JSON.parse(t)}catch{return}},oge=/^[a-z][a-z0-9+.-]*:/i,lge=t=>oge.test(t),cge=t=>new Promise(e=>setTimeout(e,t)),i1=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ma(`${t} must be an integer`);if(e<0)throw new ma(`${t} must be a positive integer`);return e},aj=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},M$=t=>{var e,n,r,i;if(typeof process<"u")return((e=ad==null?void 0:ad[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(i=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:i.trim()};function uge(t){if(!t)return!0;for(const e in t)return!1;return!0}function dge(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function L$(t,e){for(const n in e){if(!dge(e,n))continue;const r=n.toLowerCase();if(!r)continue;const i=e[n];i===null?delete t[r]:i!==void 0&&(t[r]=i)}}function sd(t,...e){typeof process<"u"&&(ad==null?void 0:ad.DEBUG)==="true"&&console.log(`Groq:DEBUG:${t}`,...e)}const fge=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),hge=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",pge=t=>typeof(t==null?void 0:t.get)=="function",my=(t,e)=>{var r;const n=e.toLowerCase();if(pge(t)){const i=((r=e[0])==null?void 0:r.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(a,s,o)=>s+o.toUpperCase());for(const a of[e,n,e.toUpperCase(),i]){const s=t.get(a);if(s)return s}}for(const[i,a]of Object.entries(t))if(i.toLowerCase()===n)return Array.isArray(a)?(a.length<=1||console.warn(`Received ${a.length} entries for the ${e} header, using the first entry.`),a[0]):a};class Ca{constructor(e){this._client=e}}class d8 extends Ca{create(e,n){return this._client.post("/openai/v1/audio/speech",{body:e,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class f8 extends Ca{create(e,n){return this._client.post("/openai/v1/audio/transcriptions",jk({body:e,...n}))}}class h8 extends Ca{create(e,n){return this._client.post("/openai/v1/audio/translations",jk({body:e,...n}))}}class sg extends Ca{constructor(){super(...arguments),this.speech=new d8(this._client),this.transcriptions=new f8(this._client),this.translations=new h8(this._client)}}sg.Speech=d8;sg.Transcriptions=f8;sg.Translations=h8;class p8 extends Ca{create(e,n){return this._client.post("/openai/v1/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/openai/v1/batches/${e}`,n)}list(e){return this._client.get("/openai/v1/batches",e)}cancel(e,n){return this._client.post(`/openai/v1/batches/${e}/cancel`,n)}}let m8=class extends Ca{create(e,n){return this._client.post("/openai/v1/chat/completions",{body:e,...n,stream:e.stream??!1})}};class Ak extends Ca{constructor(){super(...arguments),this.completions=new m8(this._client)}}Ak.Completions=m8;class g8 extends Ca{}class y8 extends Ca{create(e,n){return this._client.post("/openai/v1/embeddings",{body:e,...n})}}class v8 extends Ca{create(e,n){return this._client.post("/openai/v1/files",jk({body:e,...n}))}list(e){return this._client.get("/openai/v1/files",e)}delete(e,n){return this._client.delete(`/openai/v1/files/${e}`,n)}content(e,n){return this._client.get(`/openai/v1/files/${e}/content`,n)}info(e,n){return this._client.get(`/openai/v1/files/${e}`,n)}}class x8 extends Ca{retrieve(e,n){return this._client.get(`/openai/v1/models/${e}`,n)}list(e){return this._client.get("/openai/v1/models",e)}delete(e,n){return this._client.delete(`/openai/v1/models/${e}`,n)}}var b8;class Lt extends ege{constructor({baseURL:e=M$("GROQ_BASE_URL"),apiKey:n=M$("GROQ_API_KEY"),...r}={}){if(n===void 0)throw new ma("The GROQ_API_KEY environment variable is missing or empty; either provide it, or instantiate the Groq client with an apiKey option, like new Groq({ apiKey: 'My API Key' }).");const i={apiKey:n,...r,baseURL:e||"https://api.groq.com"};if(!i.dangerouslyAllowBrowser&&hge())throw new ma(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Groq({ apiKey, dangerouslyAllowBrowser: true })`);super({baseURL:i.baseURL,timeout:i.timeout??6e4,httpAgent:i.httpAgent,maxRetries:i.maxRetries,fetch:i.fetch}),this.completions=new g8(this),this.chat=new Ak(this),this.embeddings=new y8(this),this.audio=new sg(this),this.models=new x8(this),this.batches=new p8(this),this.files=new v8(this),this._options=i,this.apiKey=n}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}}b8=Lt;Lt.Groq=b8;Lt.DEFAULT_TIMEOUT=6e4;Lt.GroqError=ma;Lt.APIError=Qn;Lt.APIConnectionError=wb;Lt.APIConnectionTimeoutError=J6;Lt.APIUserAbortError=rj;Lt.NotFoundError=n8;Lt.ConflictError=r8;Lt.RateLimitError=a8;Lt.BadRequestError=Q6;Lt.AuthenticationError=e8;Lt.InternalServerError=s8;Lt.PermissionDeniedError=t8;Lt.UnprocessableEntityError=i8;Lt.toFile=c8;Lt.fileFromPath=Y6;Lt.Completions=g8;Lt.Chat=Ak;Lt.Embeddings=y8;Lt.Audio=sg;Lt.Models=x8;Lt.Batches=p8;Lt.Files=v8;var mge=class extends fn{constructor(e){super(e);z(this,"lc_namespace",["langchain_core","runnables"]);z(this,"lc_serializable",!0);z(this,"runnables");this.runnables=e.runnables}static lc_name(){return"RouterRunnable"}async invoke(e,n){const{key:r,input:i}=e,a=this.runnables[r];if(a===void 0)throw new Error(`No runnable associated with key "${r}".`);return a.invoke(i,gt(n))}async batch(e,n,r){var h;const i=e.map(p=>p.key),a=e.map(p=>p.input);if(i.find(p=>this.runnables[p]===void 0)!==void 0)throw new Error("One or more keys do not have a corresponding runnable.");const o=i.map(p=>this.runnables[p]),l=this._getOptionsList(n??{},e.length),c=((h=l[0])==null?void 0:h.maxConcurrency)??(r==null?void 0:r.maxConcurrency),d=c&&c>0?c:e.length,f=[];for(let p=0;p<a.length;p+=d){const m=a.slice(p,p+d).map((v,y)=>o[y].invoke(v,l[y])),g=await Promise.all(m);f.push(g)}return f.flat()}async stream(e,n){const{key:r,input:i}=e,a=this.runnables[r];if(a===void 0)throw new Error(`No runnable associated with key "${r}".`);return a.stream(i,n)}},gge=class extends fn{constructor(e){super(e);z(this,"lc_namespace",["langchain_core","runnables"]);z(this,"lc_serializable",!0);z(this,"default");z(this,"branches");this.branches=e.branches,this.default=e.default}static lc_name(){return"RunnableBranch"}static from(e){if(e.length<1)throw new Error("RunnableBranch requires at least one branch");const r=e.slice(0,-1).map(([a,s])=>[ua(a),ua(s)]),i=ua(e[e.length-1]);return new this({branches:r,default:i})}async _invoke(e,n,r){let i;for(let a=0;a<this.branches.length;a+=1){const[s,o]=this.branches[a];if(await s.invoke(e,Xt(n,{callbacks:r==null?void 0:r.getChild(`condition:${a+1}`)}))){i=await o.invoke(e,Xt(n,{callbacks:r==null?void 0:r.getChild(`branch:${a+1}`)}));break}}return i||(i=await this.default.invoke(e,Xt(n,{callbacks:r==null?void 0:r.getChild("branch:default")}))),i}async invoke(e,n={}){return this._callWithConfig(this._invoke,e,n)}async*_streamIterator(e,n){const r=await ri(n),i=await(r==null?void 0:r.handleChainStart(this.toJSON(),wn(e,"input"),n==null?void 0:n.runId,void 0,void 0,void 0,n==null?void 0:n.runName));let a,s=!0,o;try{for(let l=0;l<this.branches.length;l+=1){const[c,d]=this.branches[l];if(await c.invoke(e,Xt(n,{callbacks:i==null?void 0:i.getChild(`condition:${l+1}`)}))){o=await d.stream(e,Xt(n,{callbacks:i==null?void 0:i.getChild(`branch:${l+1}`)}));for await(const h of o)if(yield h,s)if(a===void 0)a=h;else try{a=Ic(a,h)}catch{a=void 0,s=!1}break}}if(o===void 0){o=await this.default.stream(e,Xt(n,{callbacks:i==null?void 0:i.getChild("branch:default")}));for await(const l of o)if(yield l,s)if(a===void 0)a=l;else try{a=Ic(a,l)}catch{a=void 0,s=!1}}}catch(l){throw await(i==null?void 0:i.handleChainError(l)),l}await(i==null?void 0:i.handleChainEnd(a??{}))}},yge=class extends zd{constructor(e){let n=Nl.from((s,o)=>this._enterHistory(s,o??{})).withConfig({runName:"loadHistory"});const r=e.historyMessagesKey??e.inputMessagesKey;r&&(n=Ud.assign({[r]:n}).withConfig({runName:"insertHistory"}));const i=n.pipe(e.runnable.withListeners({onEnd:(s,o)=>this._exitHistory(s,o??{})})).withConfig({runName:"RunnableWithMessageHistory"}),a=e.config??{};super({...e,config:a,bound:i});z(this,"runnable");z(this,"inputMessagesKey");z(this,"outputMessagesKey");z(this,"historyMessagesKey");z(this,"getMessageHistory");this.runnable=e.runnable,this.getMessageHistory=e.getMessageHistory,this.inputMessagesKey=e.inputMessagesKey,this.outputMessagesKey=e.outputMessagesKey,this.historyMessagesKey=e.historyMessagesKey}_getInputMessages(e){let n;if(typeof e=="object"&&!Array.isArray(e)&&!Ho(e)){let r;this.inputMessagesKey?r=this.inputMessagesKey:Object.keys(e).length===1?r=Object.keys(e)[0]:r="input",Array.isArray(e[r])&&Array.isArray(e[r][0])?n=e[r][0]:n=e[r]}else n=e;if(typeof n=="string")return[new ba(n)];if(Array.isArray(n))return n;if(Ho(n))return[n];throw new Error(`Expected a string, BaseMessage, or array of BaseMessages.
Got ${JSON.stringify(n,null,2)}`)}_getOutputMessages(e){let n;if(!Array.isArray(e)&&!Ho(e)&&typeof e!="string"){let r;this.outputMessagesKey!==void 0?r=this.outputMessagesKey:Object.keys(e).length===1?r=Object.keys(e)[0]:r="output",e.generations!==void 0?n=e.generations[0][0].message:n=e[r]}else n=e;if(typeof n=="string")return[new os(n)];if(Array.isArray(n))return n;if(Ho(n))return[n];throw new Error(`Expected a string, BaseMessage, or array of BaseMessages. Received: ${JSON.stringify(n,null,2)}`)}async _enterHistory(e,n){var a;const i=await((a=n==null?void 0:n.configurable)==null?void 0:a.messageHistory).getMessages();return this.historyMessagesKey===void 0?i.concat(this._getInputMessages(e)):i}async _exitHistory(e,n){var l;const r=(l=n.configurable)==null?void 0:l.messageHistory;let i;Array.isArray(e.inputs)&&Array.isArray(e.inputs[0])?i=e.inputs[0]:i=e.inputs;let a=this._getInputMessages(i);if(this.historyMessagesKey===void 0){const c=await r.getMessages();a=a.slice(c.length)}const s=e.outputs;if(!s)throw new Error(`Output values from 'Run' undefined. Run: ${JSON.stringify(e,null,2)}`);const o=this._getOutputMessages(s);await r.addMessages([...a,...o])}async _mergeConfig(...e){const n=await super._mergeConfig(...e);if(!n.configurable||!n.configurable.sessionId){const i={[this.inputMessagesKey??"input"]:"foo"},a={configurable:{sessionId:"123"}};throw new Error(`sessionId is required. Pass it in as part of the config argument to .invoke() or .stream()
eg. chain.invoke(${JSON.stringify(i)}, ${JSON.stringify(a)})`)}const{sessionId:r}=n.configurable;return n.configurable.messageHistory=await this.getMessageHistory(r),n}},vge={};wt(vge,{RouterRunnable:()=>mge,Runnable:()=>fn,RunnableAssign:()=>wk,RunnableBinding:()=>zd,RunnableBranch:()=>gge,RunnableEach:()=>Ype,RunnableLambda:()=>Nl,RunnableMap:()=>Pf,RunnableParallel:()=>Jpe,RunnablePassthrough:()=>Ud,RunnablePick:()=>T6,RunnableRetry:()=>bk,RunnableSequence:()=>ag,RunnableToolLike:()=>ej,RunnableWithFallbacks:()=>C6,RunnableWithMessageHistory:()=>yge,_coerceToRunnable:()=>ua,ensureConfig:()=>gt,getCallbackManagerForConfig:()=>ri,mergeConfigs:()=>UE,patchConfig:()=>Xt,pickRunnableConfigKeys:()=>Pc,raceWithSignal:()=>no});var w8=class extends fn{parseResultWithPrompt(t,e,n){return this.parseResult(t,n)}_baseMessageToString(t){return typeof t.content=="string"?t.content:this._baseMessageContentToString(t.content)}_baseMessageContentToString(t){return JSON.stringify(t)}async invoke(t,e){return typeof t=="string"?this._callWithConfig(async(n,r)=>this.parseResult([{text:n}],r==null?void 0:r.callbacks),t,{...e,runType:"parser"}):this._callWithConfig(async(n,r)=>this.parseResult([{message:n,text:this._baseMessageToString(n)}],r==null?void 0:r.callbacks),t,{...e,runType:"parser"})}},Eb=class extends w8{parseResult(t,e){return this.parse(t[0].text,e)}async parseWithPrompt(t,e,n){return this.parse(t,n)}_type(){throw new Error("_type not implemented")}},Us=class extends Error{constructor(e,n,r,i=!1){super(e);z(this,"llmOutput");z(this,"observation");z(this,"sendToLLM");if(this.llmOutput=n,this.observation=r,this.sendToLLM=i,i&&(r===void 0||n===void 0))throw new Error("Arguments 'observation' & 'llmOutput' are required if 'sendToLlm' is true");gU(this,"OUTPUT_PARSING_FAILURE")}},og=class extends Eb{async*_transform(t){for await(const e of t)typeof e=="string"?yield this.parseResult([{text:e}]):yield this.parseResult([{message:e,text:this._baseMessageToString(e)}])}async*transform(t,e){yield*this._transformStreamWithConfig(t,this._transform.bind(this),{...e,runType:"parser"})}},jb=class extends og{constructor(e){super(e);z(this,"diff",!1);this.diff=(e==null?void 0:e.diff)??this.diff}async*_transform(e){let n,r;for await(const i of e){if(typeof i!="string"&&typeof i.content!="string")throw new Error("Cannot handle non-string output.");let a;if(XT(i)){if(typeof i.content!="string")throw new Error("Cannot handle non-string message output.");a=new Kp({message:i,text:i.content})}else if(Ho(i)){if(typeof i.content!="string")throw new Error("Cannot handle non-string message output.");a=new Kp({message:t0(i),text:i.content})}else a=new Gp({text:i});r===void 0?r=a:r=r.concat(a);const s=await this.parsePartialResult([r]);s!=null&&!xc(s,n)&&(this.diff?yield this._diff(n,s):yield s,n=s)}}getFormatInstructions(){return""}},xge={};wt(xge,{applyPatch:()=>Bd,compare:()=>gk});var _8=class extends jb{constructor(){super(...arguments);z(this,"lc_namespace",["langchain_core","output_parsers"]);z(this,"lc_serializable",!0)}static lc_name(){return"JsonOutputParser"}_concatOutputChunks(e,n){return this.diff?super._concatOutputChunks(e,n):n}_diff(e,n){if(n)return e?gk(e,n):[{op:"replace",path:"",value:n}]}async parsePartialResult(e){return $E(e[0].text)}async parse(e){return $E(e,JSON.parse)}getFormatInstructions(){return""}},bge=class extends og{constructor(){super(...arguments);z(this,"lc_namespace",["langchain_core","output_parsers","bytes"]);z(this,"lc_serializable",!0);z(this,"textEncoder",new TextEncoder)}static lc_name(){return"BytesOutputParser"}parse(e){return Promise.resolve(this.textEncoder.encode(e))}getFormatInstructions(){return""}},lg=class extends og{constructor(){super(...arguments);z(this,"re")}async*_transform(e){let n="";for await(const r of e)if(typeof r=="string"?n+=r:n+=r.content,this.re){const i=[...n.matchAll(this.re)];if(i.length>1){let a=0;for(const s of i.slice(0,-1))yield[s[1]],a+=(s.index??0)+s[0].length;n=n.slice(a)}}else{const i=await this.parse(n);if(i.length>1){for(const a of i.slice(0,-1))yield[a];n=i[i.length-1]}}for(const r of await this.parse(n))yield[r]}},wge=class extends lg{constructor(){super(...arguments);z(this,"lc_namespace",["langchain_core","output_parsers","list"]);z(this,"lc_serializable",!0)}static lc_name(){return"CommaSeparatedListOutputParser"}async parse(e){try{return e.trim().split(",").map(n=>n.trim())}catch{throw new Us(`Could not parse output: ${e}`,e)}}getFormatInstructions(){return"Your response should be a list of comma separated values, eg: `foo, bar, baz`"}},_ge=class extends lg{constructor({length:e,separator:n}){super(...arguments);z(this,"lc_namespace",["langchain_core","output_parsers","list"]);z(this,"length");z(this,"separator");this.length=e,this.separator=n||","}async parse(e){try{const n=e.trim().split(this.separator).map(r=>r.trim());if(this.length!==void 0&&n.length!==this.length)throw new Us(`Incorrect number of items. Expected ${this.length}, got ${n.length}.`);return n}catch(n){throw Object.getPrototypeOf(n)===Us.prototype?n:new Us(`Could not parse output: ${e}`)}}getFormatInstructions(){return`Your response should be a list of ${this.length===void 0?"":`${this.length} `}items separated by "${this.separator}" (eg: \`foo${this.separator} bar${this.separator} baz\`)`}},Sge=class extends lg{constructor(){super(...arguments);z(this,"lc_namespace",["langchain_core","output_parsers","list"]);z(this,"lc_serializable",!0);z(this,"re",/\d+\.\s([^\n]+)/g)}static lc_name(){return"NumberedListOutputParser"}getFormatInstructions(){return`Your response should be a numbered list with each item on a new line. For example: 

1. foo

2. bar

3. baz`}async parse(e){return[...e.matchAll(this.re)??[]].map(n=>n[1])}},Ege=class extends lg{constructor(){super(...arguments);z(this,"lc_namespace",["langchain_core","output_parsers","list"]);z(this,"lc_serializable",!0);z(this,"re",/^\s*[-*]\s([^\n]+)$/gm)}static lc_name(){return"NumberedListOutputParser"}getFormatInstructions(){return`Your response should be a numbered list with each item on a new line. For example: 

1. foo

2. bar

3. baz`}async parse(e){return[...e.matchAll(this.re)??[]].map(n=>n[1])}},jge=class extends og{constructor(){super(...arguments);z(this,"lc_namespace",["langchain_core","output_parsers","string"]);z(this,"lc_serializable",!0)}static lc_name(){return"StrOutputParser"}parse(e){return Promise.resolve(e)}getFormatInstructions(){return""}_textContentToString(e){return e.text}_imageUrlContentToString(e){throw new Error('Cannot coerce a multimodal "image_url" message part into a string.')}_messageContentToString(e){switch(e.type){case"text":case"text_delta":if("text"in e)return this._textContentToString(e);break;case"image_url":if("image_url"in e)return this._imageUrlContentToString(e);break;default:throw new Error(`Cannot coerce "${e.type}" message part into a string.`)}throw new Error(`Invalid content type: ${e.type}`)}_baseMessageContentToString(e){return e.reduce((n,r)=>n+this._messageContentToString(r),"")}},Ck=class extends Eb{constructor(e){super(e);z(this,"lc_namespace",["langchain","output_parsers","structured"]);this.schema=e}static lc_name(){return"StructuredOutputParser"}toJSON(){return this.toJSONNotImplemented()}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){const n=WT(Object.fromEntries(Object.entries(e).map(([r,i])=>[r,HT().describe(i)])));return new this(n)}getFormatInstructions(){return`You must format your output as a JSON value that adheres to a given "JSON Schema" instance.

"JSON Schema" is a declarative language that allows you to annotate and validate JSON documents.

For example, the example "JSON Schema" instance {{"properties": {{"foo": {{"description": "a list of test words", "type": "array", "items": {{"type": "string"}}}}}}, "required": ["foo"]}}
would match an object with one required property, "foo". The "type" property specifies "foo" must be an "array", and the "description" property semantically describes it as "a list of test words". The items within "foo" must be strings.
Thus, the object {{"foo": ["bar", "baz"]}} is a well-formatted instance of this example "JSON Schema". The object {{"properties": {{"foo": ["bar", "baz"]}}}} is not well-formatted.

Your output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!

Here is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:
\`\`\`json
${JSON.stringify(xl(this.schema))}
\`\`\`
`}async parse(e){var n,r;try{const i=e.trim(),s=(((n=i.match(/^```(?:json)?\s*([\s\S]*?)```/))==null?void 0:n[1])||((r=i.match(/```json\s*([\s\S]*?)```/))==null?void 0:r[1])||i).replace(/"([^"\\]*(\\.[^"\\]*)*)"/g,(o,l)=>`"${l.replace(/\n/g,"\\n")}"`).replace(/\n/g,"");return await FT(this.schema,JSON.parse(s))}catch(i){throw new Us(`Failed to parse. Text: "${e}". Error: ${i}`,e)}}},S8=class extends Ck{static lc_name(){return"JsonMarkdownStructuredOutputParser"}getFormatInstructions(t){const e=(t==null?void 0:t.interpolationDepth)??1;if(e<1)throw new Error("f string interpolation depth must be at least 1");return`Return a markdown code snippet with a JSON object formatted to look like:
\`\`\`json
${this._schemaToInstruction(xl(this.schema)).replaceAll("{","{".repeat(e)).replaceAll("}","}".repeat(e))}
\`\`\``}_schemaToInstruction(t,e=2){const n=t;if("type"in n){let r=!1,i;if(Array.isArray(n.type)){const o=n.type.findIndex(l=>l==="null");o!==-1&&(r=!0,n.type.splice(o,1)),i=n.type.join(" | ")}else i=n.type;if(n.type==="object"&&n.properties){const o=n.description?` // ${n.description}`:"";return`{
${Object.entries(n.properties).map(([c,d])=>{var h;const f=(h=n.required)!=null&&h.includes(c)?"":" (optional)";return`${" ".repeat(e)}"${c}": ${this._schemaToInstruction(d,e+2)}${f}`}).join(`
`)}
${" ".repeat(e-2)}}${o}`}if(n.type==="array"&&n.items){const o=n.description?` // ${n.description}`:"";return`array[
${" ".repeat(e)}${this._schemaToInstruction(n.items,e+2)}
${" ".repeat(e-2)}] ${o}`}const a=r?" (nullable)":"",s=n.description?` // ${n.description}`:"";return`${i}${s}${a}`}if("anyOf"in n)return n.anyOf.map(r=>this._schemaToInstruction(r,e)).join(`
${" ".repeat(e-2)}`);throw new Error("unsupported schema type")}static fromZodSchema(t){return new this(t)}static fromNamesAndDescriptions(t){const e=WT(Object.fromEntries(Object.entries(t).map(([n,r])=>[n,HT().describe(r)])));return new this(e)}},Age=class extends Eb{constructor({inputSchema:e}){super(...arguments);z(this,"structuredInputParser");this.structuredInputParser=new S8(e)}async parse(e){let n;try{n=await this.structuredInputParser.parse(e)}catch(r){throw new Us(`Failed to parse. Text: "${e}". Error: ${r}`,e)}return this.outputProcessor(n)}getFormatInstructions(){return this.structuredInputParser.getFormatInstructions()}};const Cge=function(){const t={};t.parser=function(I,k){return new n(I,k)},t.SAXParser=n,t.SAXStream=c,t.createStream=l,t.MAX_BUFFER_LENGTH=64*1024;const e=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(I,k){if(!(this instanceof n))return new n(I,k);var K=this;i(K),K.q=K.c="",K.bufferCheckPosition=t.MAX_BUFFER_LENGTH,K.opt=k||{},K.opt.lowercase=K.opt.lowercase||K.opt.lowercasetags,K.looseCase=K.opt.lowercase?"toLowerCase":"toUpperCase",K.tags=[],K.closed=K.closedRoot=K.sawRoot=!1,K.tag=K.error=null,K.strict=!!I,K.noscript=!!(I||K.opt.noscript),K.state=j.BEGIN,K.strictEntities=K.opt.strictEntities,K.ENTITIES=K.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),K.attribList=[],K.opt.xmlns&&(K.ns=Object.create(m)),K.trackPosition=K.opt.position!==!1,K.trackPosition&&(K.position=K.line=K.column=0),T(K,"onready")}Object.create||(Object.create=function(I){function k(){}k.prototype=I;var K=new k;return K}),Object.keys||(Object.keys=function(I){var k=[];for(var K in I)I.hasOwnProperty(K)&&k.push(K);return k});function r(I){for(var k=Math.max(t.MAX_BUFFER_LENGTH,10),K=0,F=0,Z=e.length;F<Z;F++){var J=I[e[F]].length;if(J>k)switch(e[F]){case"textNode":P(I);break;case"cdata":O(I,"oncdata",I.cdata),I.cdata="";break;case"script":O(I,"onscript",I.script),I.script="";break;default:R(I,"Max buffer length exceeded: "+e[F])}K=Math.max(K,J)}var Y=t.MAX_BUFFER_LENGTH-K;I.bufferCheckPosition=Y+I.position}function i(I){for(var k=0,K=e.length;k<K;k++)I[e[k]]=""}function a(I){P(I),I.cdata!==""&&(O(I,"oncdata",I.cdata),I.cdata=""),I.script!==""&&(O(I,"onscript",I.script),I.script="")}n.prototype={end:function(){B(this)},write:ae,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};var s=ReadableStream;s||(s=function(){});var o=t.EVENTS.filter(function(I){return I!=="error"&&I!=="end"});function l(I,k){return new c(I,k)}function c(I,k){if(!(this instanceof c))return new c(I,k);s.apply(this),this._parser=new n(I,k),this.writable=!0,this.readable=!0;var K=this;this._parser.onend=function(){K.emit("end")},this._parser.onerror=function(F){K.emit("error",F),K._parser.error=null},this._decoder=null,o.forEach(function(F){Object.defineProperty(K,"on"+F,{get:function(){return K._parser["on"+F]},set:function(Z){if(!Z)return K.removeAllListeners(F),K._parser["on"+F]=Z,Z;K.on(F,Z)},enumerable:!0,configurable:!1})})}c.prototype=Object.create(s.prototype,{constructor:{value:c}}),c.prototype.write=function(I){return this._parser.write(I.toString()),this.emit("data",I),!0},c.prototype.end=function(I){return I&&I.length&&this.write(I),this._parser.end(),!0},c.prototype.on=function(I,k){var K=this;return!K._parser["on"+I]&&o.indexOf(I)!==-1&&(K._parser["on"+I]=function(){var F=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);F.splice(0,0,I),K.emit.apply(K,F)}),s.prototype.on.call(K,I,k)};var d="[CDATA[",f="DOCTYPE",h="http://www.w3.org/XML/1998/namespace",p="http://www.w3.org/2000/xmlns/",m={xml:h,xmlns:p},g=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,x=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function b(I){return I===" "||I===`
`||I==="\r"||I==="	"}function _(I){return I==='"'||I==="'"}function w(I){return I===">"||b(I)}function E(I,k){return I.test(k)}function A(I,k){return!E(I,k)}var j=0;t.STATE={BEGIN:j++,BEGIN_WHITESPACE:j++,TEXT:j++,TEXT_ENTITY:j++,OPEN_WAKA:j++,SGML_DECL:j++,SGML_DECL_QUOTED:j++,DOCTYPE:j++,DOCTYPE_QUOTED:j++,DOCTYPE_DTD:j++,DOCTYPE_DTD_QUOTED:j++,COMMENT_STARTING:j++,COMMENT:j++,COMMENT_ENDING:j++,COMMENT_ENDED:j++,CDATA:j++,CDATA_ENDING:j++,CDATA_ENDING_2:j++,PROC_INST:j++,PROC_INST_BODY:j++,PROC_INST_ENDING:j++,OPEN_TAG:j++,OPEN_TAG_SLASH:j++,ATTRIB:j++,ATTRIB_NAME:j++,ATTRIB_NAME_SAW_WHITE:j++,ATTRIB_VALUE:j++,ATTRIB_VALUE_QUOTED:j++,ATTRIB_VALUE_CLOSED:j++,ATTRIB_VALUE_UNQUOTED:j++,ATTRIB_VALUE_ENTITY_Q:j++,ATTRIB_VALUE_ENTITY_U:j++,CLOSE_TAG:j++,CLOSE_TAG_SAW_WHITE:j++,SCRIPT:j++,SCRIPT_ENDING:j++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(I){var k=t.ENTITIES[I],K=typeof k=="number"?String.fromCharCode(k):k;t.ENTITIES[I]=K});for(var C in t.STATE)t.STATE[t.STATE[C]]=C;j=t.STATE;function T(I,k,K){I[k]&&I[k](K)}function O(I,k,K){I.textNode&&P(I),T(I,k,K)}function P(I){I.textNode=H(I.opt,I.textNode),I.textNode&&T(I,"ontext",I.textNode),I.textNode=""}function H(I,k){return I.trim&&(k=k.trim()),I.normalize&&(k=k.replace(/\s+/g," ")),k}function R(I,k){return P(I),I.trackPosition&&(k+=`
Line: `+I.line+`
Column: `+I.column+`
Char: `+I.c),k=new Error(k),I.error=k,T(I,"onerror",k),I}function B(I){return I.sawRoot&&!I.closedRoot&&U(I,"Unclosed root tag"),I.state!==j.BEGIN&&I.state!==j.BEGIN_WHITESPACE&&I.state!==j.TEXT&&R(I,"Unexpected end"),P(I),I.c="",I.closed=!0,T(I,"onend"),n.call(I,I.strict,I.opt),I}function U(I,k){if(typeof I!="object"||!(I instanceof n))throw new Error("bad call to strictFail");I.strict&&R(I,k)}function W(I){I.strict||(I.tagName=I.tagName[I.looseCase]());var k=I.tags[I.tags.length-1]||I,K=I.tag={name:I.tagName,attributes:{}};I.opt.xmlns&&(K.ns=k.ns),I.attribList.length=0,O(I,"onopentagstart",K)}function M(I,k){var K=I.indexOf(":"),F=K<0?["",I]:I.split(":"),Z=F[0],J=F[1];return k&&I==="xmlns"&&(Z="xmlns",J=""),{prefix:Z,local:J}}function D(I){if(I.strict||(I.attribName=I.attribName[I.looseCase]()),I.attribList.indexOf(I.attribName)!==-1||I.tag.attributes.hasOwnProperty(I.attribName)){I.attribName=I.attribValue="";return}if(I.opt.xmlns){var k=M(I.attribName,!0),K=k.prefix,F=k.local;if(K==="xmlns")if(F==="xml"&&I.attribValue!==h)U(I,"xml: prefix must be bound to "+h+`
Actual: `+I.attribValue);else if(F==="xmlns"&&I.attribValue!==p)U(I,"xmlns: prefix must be bound to "+p+`
Actual: `+I.attribValue);else{var Z=I.tag,J=I.tags[I.tags.length-1]||I;Z.ns===J.ns&&(Z.ns=Object.create(J.ns)),Z.ns[F]=I.attribValue}I.attribList.push([I.attribName,I.attribValue])}else I.tag.attributes[I.attribName]=I.attribValue,O(I,"onattribute",{name:I.attribName,value:I.attribValue});I.attribName=I.attribValue=""}function N(I,k){if(I.opt.xmlns){var K=I.tag,F=M(I.tagName);K.prefix=F.prefix,K.local=F.local,K.uri=K.ns[F.prefix]||"",K.prefix&&!K.uri&&(U(I,"Unbound namespace prefix: "+JSON.stringify(I.tagName)),K.uri=F.prefix);var Z=I.tags[I.tags.length-1]||I;K.ns&&Z.ns!==K.ns&&Object.keys(K.ns).forEach(function(Ct){O(I,"onopennamespace",{prefix:Ct,uri:K.ns[Ct]})});for(var J=0,Y=I.attribList.length;J<Y;J++){var ge=I.attribList[J],ce=ge[0],ye=ge[1],se=M(ce,!0),Re=se.prefix,Me=se.local,Ie=Re===""?"":K.ns[Re]||"",re={name:ce,value:ye,prefix:Re,local:Me,uri:Ie};Re&&Re!=="xmlns"&&!Ie&&(U(I,"Unbound namespace prefix: "+JSON.stringify(Re)),re.uri=Re),I.tag.attributes[ce]=re,O(I,"onattribute",re)}I.attribList.length=0}I.tag.isSelfClosing=!!k,I.sawRoot=!0,I.tags.push(I.tag),O(I,"onopentag",I.tag),k||(!I.noscript&&I.tagName.toLowerCase()==="script"?I.state=j.SCRIPT:I.state=j.TEXT,I.tag=null,I.tagName=""),I.attribName=I.attribValue="",I.attribList.length=0}function V(I){if(!I.tagName){U(I,"Weird empty close tag."),I.textNode+="</>",I.state=j.TEXT;return}if(I.script){if(I.tagName!=="script"){I.script+="</"+I.tagName+">",I.tagName="",I.state=j.SCRIPT;return}O(I,"onscript",I.script),I.script=""}var k=I.tags.length,K=I.tagName;I.strict||(K=K[I.looseCase]());for(var F=K;k--;){var Z=I.tags[k];if(Z.name!==F)U(I,"Unexpected close tag");else break}if(k<0){U(I,"Unmatched closing tag: "+I.tagName),I.textNode+="</"+I.tagName+">",I.state=j.TEXT;return}I.tagName=K;for(var J=I.tags.length;J-- >k;){var Y=I.tag=I.tags.pop();I.tagName=I.tag.name,O(I,"onclosetag",I.tagName);var ge={};for(var ce in Y.ns)ge[ce]=Y.ns[ce];var ye=I.tags[I.tags.length-1]||I;I.opt.xmlns&&Y.ns!==ye.ns&&Object.keys(Y.ns).forEach(function(se){var Re=Y.ns[se];O(I,"onclosenamespace",{prefix:se,uri:Re})})}k===0&&(I.closedRoot=!0),I.tagName=I.attribValue=I.attribName="",I.attribList.length=0,I.state=j.TEXT}function G(I){var k=I.entity,K=k.toLowerCase(),F,Z="";return I.ENTITIES[k]?I.ENTITIES[k]:I.ENTITIES[K]?I.ENTITIES[K]:(k=K,k.charAt(0)==="#"&&(k.charAt(1)==="x"?(k=k.slice(2),F=parseInt(k,16),Z=F.toString(16)):(k=k.slice(1),F=parseInt(k,10),Z=F.toString(10))),k=k.replace(/^0+/,""),isNaN(F)||Z.toLowerCase()!==k?(U(I,"Invalid character entity"),"&"+I.entity+";"):String.fromCodePoint(F))}function $(I,k){k==="<"?(I.state=j.OPEN_WAKA,I.startTagPosition=I.position):b(k)||(U(I,"Non-whitespace before first tag."),I.textNode=k,I.state=j.TEXT)}function te(I,k){var K="";return k<I.length&&(K=I.charAt(k)),K}function ae(I){var k=this;if(this.error)throw this.error;if(k.closed)return R(k,"Cannot write after close. Assign an onready handler.");if(I===null)return B(k);typeof I=="object"&&(I=I.toString());for(var K=0,F="";F=te(I,K++),k.c=F,!!F;)switch(k.trackPosition&&(k.position++,F===`
`?(k.line++,k.column=0):k.column++),k.state){case j.BEGIN:if(k.state=j.BEGIN_WHITESPACE,F==="\uFEFF")continue;$(k,F);continue;case j.BEGIN_WHITESPACE:$(k,F);continue;case j.TEXT:if(k.sawRoot&&!k.closedRoot){for(var Z=K-1;F&&F!=="<"&&F!=="&";)F=te(I,K++),F&&k.trackPosition&&(k.position++,F===`
`?(k.line++,k.column=0):k.column++);k.textNode+=I.substring(Z,K-1)}F==="<"&&!(k.sawRoot&&k.closedRoot&&!k.strict)?(k.state=j.OPEN_WAKA,k.startTagPosition=k.position):(!b(F)&&(!k.sawRoot||k.closedRoot)&&U(k,"Text data outside of root node."),F==="&"?k.state=j.TEXT_ENTITY:k.textNode+=F);continue;case j.SCRIPT:F==="<"?k.state=j.SCRIPT_ENDING:k.script+=F;continue;case j.SCRIPT_ENDING:F==="/"?k.state=j.CLOSE_TAG:(k.script+="<"+F,k.state=j.SCRIPT);continue;case j.OPEN_WAKA:if(F==="!")k.state=j.SGML_DECL,k.sgmlDecl="";else if(!b(F))if(E(g,F))k.state=j.OPEN_TAG,k.tagName=F;else if(F==="/")k.state=j.CLOSE_TAG,k.tagName="";else if(F==="?")k.state=j.PROC_INST,k.procInstName=k.procInstBody="";else{if(U(k,"Unencoded <"),k.startTagPosition+1<k.position){var J=k.position-k.startTagPosition;F=new Array(J).join(" ")+F}k.textNode+="<"+F,k.state=j.TEXT}continue;case j.SGML_DECL:(k.sgmlDecl+F).toUpperCase()===d?(O(k,"onopencdata"),k.state=j.CDATA,k.sgmlDecl="",k.cdata=""):k.sgmlDecl+F==="--"?(k.state=j.COMMENT,k.comment="",k.sgmlDecl=""):(k.sgmlDecl+F).toUpperCase()===f?(k.state=j.DOCTYPE,(k.doctype||k.sawRoot)&&U(k,"Inappropriately located doctype declaration"),k.doctype="",k.sgmlDecl=""):F===">"?(O(k,"onsgmldeclaration",k.sgmlDecl),k.sgmlDecl="",k.state=j.TEXT):(_(F)&&(k.state=j.SGML_DECL_QUOTED),k.sgmlDecl+=F);continue;case j.SGML_DECL_QUOTED:F===k.q&&(k.state=j.SGML_DECL,k.q=""),k.sgmlDecl+=F;continue;case j.DOCTYPE:F===">"?(k.state=j.TEXT,O(k,"ondoctype",k.doctype),k.doctype=!0):(k.doctype+=F,F==="["?k.state=j.DOCTYPE_DTD:_(F)&&(k.state=j.DOCTYPE_QUOTED,k.q=F));continue;case j.DOCTYPE_QUOTED:k.doctype+=F,F===k.q&&(k.q="",k.state=j.DOCTYPE);continue;case j.DOCTYPE_DTD:k.doctype+=F,F==="]"?k.state=j.DOCTYPE:_(F)&&(k.state=j.DOCTYPE_DTD_QUOTED,k.q=F);continue;case j.DOCTYPE_DTD_QUOTED:k.doctype+=F,F===k.q&&(k.state=j.DOCTYPE_DTD,k.q="");continue;case j.COMMENT:F==="-"?k.state=j.COMMENT_ENDING:k.comment+=F;continue;case j.COMMENT_ENDING:F==="-"?(k.state=j.COMMENT_ENDED,k.comment=H(k.opt,k.comment),k.comment&&O(k,"oncomment",k.comment),k.comment=""):(k.comment+="-"+F,k.state=j.COMMENT);continue;case j.COMMENT_ENDED:F!==">"?(U(k,"Malformed comment"),k.comment+="--"+F,k.state=j.COMMENT):k.state=j.TEXT;continue;case j.CDATA:F==="]"?k.state=j.CDATA_ENDING:k.cdata+=F;continue;case j.CDATA_ENDING:F==="]"?k.state=j.CDATA_ENDING_2:(k.cdata+="]"+F,k.state=j.CDATA);continue;case j.CDATA_ENDING_2:F===">"?(k.cdata&&O(k,"oncdata",k.cdata),O(k,"onclosecdata"),k.cdata="",k.state=j.TEXT):F==="]"?k.cdata+="]":(k.cdata+="]]"+F,k.state=j.CDATA);continue;case j.PROC_INST:F==="?"?k.state=j.PROC_INST_ENDING:b(F)?k.state=j.PROC_INST_BODY:k.procInstName+=F;continue;case j.PROC_INST_BODY:if(!k.procInstBody&&b(F))continue;F==="?"?k.state=j.PROC_INST_ENDING:k.procInstBody+=F;continue;case j.PROC_INST_ENDING:F===">"?(O(k,"onprocessinginstruction",{name:k.procInstName,body:k.procInstBody}),k.procInstName=k.procInstBody="",k.state=j.TEXT):(k.procInstBody+="?"+F,k.state=j.PROC_INST_BODY);continue;case j.OPEN_TAG:E(v,F)?k.tagName+=F:(W(k),F===">"?N(k):F==="/"?k.state=j.OPEN_TAG_SLASH:(b(F)||U(k,"Invalid character in tag name"),k.state=j.ATTRIB));continue;case j.OPEN_TAG_SLASH:F===">"?(N(k,!0),V(k)):(U(k,"Forward-slash in opening tag not followed by >"),k.state=j.ATTRIB);continue;case j.ATTRIB:if(b(F))continue;F===">"?N(k):F==="/"?k.state=j.OPEN_TAG_SLASH:E(g,F)?(k.attribName=F,k.attribValue="",k.state=j.ATTRIB_NAME):U(k,"Invalid attribute name");continue;case j.ATTRIB_NAME:F==="="?k.state=j.ATTRIB_VALUE:F===">"?(U(k,"Attribute without value"),k.attribValue=k.attribName,D(k),N(k)):b(F)?k.state=j.ATTRIB_NAME_SAW_WHITE:E(v,F)?k.attribName+=F:U(k,"Invalid attribute name");continue;case j.ATTRIB_NAME_SAW_WHITE:if(F==="=")k.state=j.ATTRIB_VALUE;else{if(b(F))continue;U(k,"Attribute without value"),k.tag.attributes[k.attribName]="",k.attribValue="",O(k,"onattribute",{name:k.attribName,value:""}),k.attribName="",F===">"?N(k):E(g,F)?(k.attribName=F,k.state=j.ATTRIB_NAME):(U(k,"Invalid attribute name"),k.state=j.ATTRIB)}continue;case j.ATTRIB_VALUE:if(b(F))continue;_(F)?(k.q=F,k.state=j.ATTRIB_VALUE_QUOTED):(U(k,"Unquoted attribute value"),k.state=j.ATTRIB_VALUE_UNQUOTED,k.attribValue=F);continue;case j.ATTRIB_VALUE_QUOTED:if(F!==k.q){F==="&"?k.state=j.ATTRIB_VALUE_ENTITY_Q:k.attribValue+=F;continue}D(k),k.q="",k.state=j.ATTRIB_VALUE_CLOSED;continue;case j.ATTRIB_VALUE_CLOSED:b(F)?k.state=j.ATTRIB:F===">"?N(k):F==="/"?k.state=j.OPEN_TAG_SLASH:E(g,F)?(U(k,"No whitespace between attributes"),k.attribName=F,k.attribValue="",k.state=j.ATTRIB_NAME):U(k,"Invalid attribute name");continue;case j.ATTRIB_VALUE_UNQUOTED:if(!w(F)){F==="&"?k.state=j.ATTRIB_VALUE_ENTITY_U:k.attribValue+=F;continue}D(k),F===">"?N(k):k.state=j.ATTRIB;continue;case j.CLOSE_TAG:if(k.tagName)F===">"?V(k):E(v,F)?k.tagName+=F:k.script?(k.script+="</"+k.tagName,k.tagName="",k.state=j.SCRIPT):(b(F)||U(k,"Invalid tagname in closing tag"),k.state=j.CLOSE_TAG_SAW_WHITE);else{if(b(F))continue;A(g,F)?k.script?(k.script+="</"+F,k.state=j.SCRIPT):U(k,"Invalid tagname in closing tag."):k.tagName=F}continue;case j.CLOSE_TAG_SAW_WHITE:if(b(F))continue;F===">"?V(k):U(k,"Invalid characters in closing tag");continue;case j.TEXT_ENTITY:case j.ATTRIB_VALUE_ENTITY_Q:case j.ATTRIB_VALUE_ENTITY_U:var Y,ge;switch(k.state){case j.TEXT_ENTITY:Y=j.TEXT,ge="textNode";break;case j.ATTRIB_VALUE_ENTITY_Q:Y=j.ATTRIB_VALUE_QUOTED,ge="attribValue";break;case j.ATTRIB_VALUE_ENTITY_U:Y=j.ATTRIB_VALUE_UNQUOTED,ge="attribValue";break}if(F===";")if(k.opt.unparsedEntities){var ce=G(k);k.entity="",k.state=Y,k.write(ce)}else k[ge]+=G(k),k.entity="",k.state=Y;else E(k.entity.length?x:y,F)?k.entity+=F:(U(k,"Invalid character in entity name"),k[ge]+="&"+k.entity+F,k.entity="",k.state=Y);continue;default:throw new Error(k,"Unknown state: "+k.state)}return k.position>=k.bufferCheckPosition&&r(k),k}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */return String.fromCodePoint||function(){var I=String.fromCharCode,k=Math.floor,K=function(){var F=16384,Z=[],J,Y,ge=-1,ce=arguments.length;if(!ce)return"";for(var ye="";++ge<ce;){var se=Number(arguments[ge]);if(!isFinite(se)||se<0||se>1114111||k(se)!==se)throw RangeError("Invalid code point: "+se);se<=65535?Z.push(se):(se-=65536,J=(se>>10)+55296,Y=se%1024+56320,Z.push(J,Y)),(ge+1===ce||Z.length>F)&&(ye+=I.apply(null,Z),Z.length=0)}return ye};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:K,configurable:!0,writable:!0}):String.fromCodePoint=K}(),t},Tge=Cge(),sj=`The output should be formatted as a XML file.
1. Output should conform to the tags below. 
2. If tags are not given, make them on your own.
3. Remember to always open and close all the tags.

As an example, for the tags ["foo", "bar", "baz"]:
1. String "<foo>
   <bar>
      <baz></baz>
   </bar>
</foo>" is a well-formatted instance of the schema. 
2. String "<foo>
   <bar>
   </foo>" is a badly-formatted instance.
3. String "<foo>
   <tag>
   </tag>
</foo>" is a badly-formatted instance.

Here are the output tags:
\`\`\`
{tags}
\`\`\``;var kge=class extends jb{constructor(e){super(e);z(this,"tags");z(this,"lc_namespace",["langchain_core","output_parsers"]);z(this,"lc_serializable",!0);this.tags=e==null?void 0:e.tags}static lc_name(){return"XMLOutputParser"}_diff(e,n){if(n)return e?gk(e,n):[{op:"replace",path:"",value:n}]}async parsePartialResult(e){return oj(e[0].text)}async parse(e){return oj(e)}getFormatInstructions(){var n;return!!(this.tags&&this.tags.length>0)?sj.replace("{tags}",((n=this.tags)==null?void 0:n.join(", "))??""):sj}};const Oge=t=>t.split(`
`).map(e=>e.replace(/^\s+/,"")).join(`
`).trim(),E8=t=>{if(Object.keys(t).length===0)return{};const e={};return t.children.length>0?(e[t.name]=t.children.map(E8),e):(e[t.name]=t.text??void 0,e)};function oj(t){const e=Oge(t),n=Tge.parser(!0);let r={};const i=[];n.onopentag=o=>{const l={name:o.name,attributes:o.attributes,children:[],text:"",isSelfClosing:o.isSelfClosing};i.length>0?i[i.length-1].children.push(l):r=l,o.isSelfClosing||i.push(l)},n.onclosetag=()=>{if(i.length>0){const o=i.pop();i.length===0&&o&&(r=o)}},n.ontext=o=>{if(i.length>0){const l=i[i.length-1];l.text+=o}},n.onattribute=o=>{if(i.length>0){const l=i[i.length-1];l.attributes[o.name]=o.value}};const a=/```(xml)?(.*)```/s.exec(e),s=a?a[2]:e;return n.write(s).close(),r&&r.name==="?xml"&&(r=r.children[0]),E8(r)}var Nge={};wt(Nge,{AsymmetricStructuredOutputParser:()=>Age,BaseCumulativeTransformOutputParser:()=>jb,BaseLLMOutputParser:()=>w8,BaseOutputParser:()=>Eb,BaseTransformOutputParser:()=>og,BytesOutputParser:()=>bge,CommaSeparatedListOutputParser:()=>wge,CustomListOutputParser:()=>_ge,JsonMarkdownStructuredOutputParser:()=>S8,JsonOutputParser:()=>_8,ListOutputParser:()=>lg,MarkdownListOutputParser:()=>Ege,NumberedListOutputParser:()=>Sge,OutputParserException:()=>Us,StringOutputParser:()=>jge,StructuredOutputParser:()=>Ck,XMLOutputParser:()=>kge,XML_FORMAT_INSTRUCTIONS:()=>sj,parseJsonMarkdown:()=>$E,parsePartialJson:()=>ob,parseXMLMarkdown:()=>oj});function Tk(t,e){if(t.function===void 0)return;let n;if(e!=null&&e.partial)try{n=ob(t.function.arguments??"{}")}catch{return}else try{n=JSON.parse(t.function.arguments)}catch(i){throw new Us([`Function "${t.function.name}" arguments:`,"",t.function.arguments,"","are not valid JSON.",`Error: ${i.message}`].join(`
`))}const r={name:t.function.name,args:n,type:"tool_call"};return e!=null&&e.returnId&&(r.id=t.id),r}function j8(t){if(t.id===void 0)throw new Error('All OpenAI tool calls must have an "id" field.');return{id:t.id,type:"function",function:{name:t.name,arguments:JSON.stringify(t.args)}}}function A8(t,e){var n,r;return{name:(n=t.function)==null?void 0:n.name,args:(r=t.function)==null?void 0:r.arguments,id:t.id,error:e,type:"invalid_tool_call"}}var C8=class extends jb{constructor(e){super(e);z(this,"returnId",!1);z(this,"lc_namespace",["langchain","output_parsers","openai_tools"]);z(this,"lc_serializable",!0);this.returnId=(e==null?void 0:e.returnId)??this.returnId}static lc_name(){return"JsonOutputToolsParser"}_diff(){throw new Error("Not supported.")}async parse(){throw new Error("Not implemented.")}async parseResult(e){return await this.parsePartialResult(e,!1)}async parsePartialResult(e,n=!0){var s;const r=e[0].message;let i;if(lb(r)&&((s=r.tool_calls)!=null&&s.length)?i=r.tool_calls.map(o=>{const{id:l,...c}=o;return this.returnId?{id:l,...c}:c}):r.additional_kwargs.tool_calls!==void 0&&(i=JSON.parse(JSON.stringify(r.additional_kwargs.tool_calls)).map(l=>Tk(l,{returnId:this.returnId,partial:n}))),!i)return[];const a=[];for(const o of i)if(o!==void 0){const l={type:o.name,args:o.args,id:o.id};a.push(l)}return a}},lj=class extends C8{constructor(e){super(e);z(this,"lc_namespace",["langchain","output_parsers","openai_tools"]);z(this,"lc_serializable",!0);z(this,"returnId",!1);z(this,"keyName");z(this,"returnSingle",!1);z(this,"zodSchema");this.keyName=e.keyName,this.returnSingle=e.returnSingle??this.returnSingle,this.zodSchema=e.zodSchema}static lc_name(){return"JsonOutputKeyToolsParser"}async _validateResult(e){var r;if(this.zodSchema===void 0)return e;const n=await $z(this.zodSchema,e);if(n.success)return n.data;throw new Us(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify((r=n.error)==null?void 0:r.issues)}`,JSON.stringify(e,null,2))}async parsePartialResult(e){const r=(await super.parsePartialResult(e)).filter(a=>a.type===this.keyName);let i=r;if(r.length)return this.returnId||(i=r.map(a=>a.args)),this.returnSingle?i[0]:i}async parseResult(e){const r=(await super.parsePartialResult(e,!1)).filter(s=>s.type===this.keyName);let i=r;return r.length?(this.returnId||(i=r.map(s=>s.args)),this.returnSingle?this._validateResult(i[0]):await Promise.all(i.map(s=>this._validateResult(s)))):void 0}},Pge={};wt(Pge,{JsonOutputKeyToolsParser:()=>lj,JsonOutputToolsParser:()=>C8,convertLangChainToolCallToOpenAI:()=>j8,makeInvalidToolCall:()=>A8,parseToolCall:()=>Tk});function T8(t){return t!==void 0&&Array.isArray(t.lc_namespace)}function k8(t){return t!==void 0&&fn.isRunnable(t)&&"lc_name"in t.constructor&&typeof t.constructor.lc_name=="function"&&t.constructor.lc_name()==="RunnableToolLike"}function O8(t){return!!t&&typeof t=="object"&&"name"in t&&"schema"in t&&(Oc(t.schema)||t.schema!=null&&typeof t.schema=="object"&&"type"in t.schema&&typeof t.schema.type=="string"&&["null","boolean","object","array","number","string"].includes(t.schema.type))}function N8(t){return O8(t)||k8(t)||T8(t)}var Ige={};wt(Ige,{convertToOpenAIFunction:()=>P8,convertToOpenAITool:()=>cj,isLangChainTool:()=>N8,isRunnableToolLike:()=>k8,isStructuredTool:()=>T8,isStructuredToolParams:()=>O8});function P8(t,e){const n=typeof e=="number"?void 0:e;return{name:t.name,description:t.description,parameters:xl(t.schema),...(n==null?void 0:n.strict)!==void 0?{strict:n.strict}:{}}}function cj(t,e){const n=typeof e=="number"?void 0:e;let r;return N8(t)?r={type:"function",function:P8(t)}:r=t,(n==null?void 0:n.strict)!==void 0&&(r.function.strict=n.strict),r}const $ge=["frequency_penalty","function_call","functions","logit_bias","logprobs","max_completion_tokens","max_tokens","n","parallel_tool_calls","presence_penalty","reasoning_format","response_format","seed","service_tier","stop","temperature","tool_choice","top_logprobs","top_p"],Rge=["headers","promptIndex","stream_options","tools"],Mge=[...$ge,...Rge];function Lge(t){if(t.role!=="system"&&t.role!=="assistant"&&t.role!=="user"&&t.role!=="function")throw new Error(`Unsupported message role: ${t.role}. Expected "system", "assistant", "user", or "function"`);return t.role}function Dge(t){switch(t.type){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"tool":return"tool";case"generic":if(!Gc.isInstance(t))throw new Error("Invalid generic chat message");return Lge(t);default:throw new Error(`Unknown message type: ${t.type}`)}}function D$(t){return t.map(e=>{var r;const n={role:Dge(e),content:e.content,name:e.name,function_call:e.additional_kwargs.function_call,tool_calls:e.additional_kwargs.tool_calls,tool_call_id:e.tool_call_id};return lb(e)&&((r=e.tool_calls)!=null&&r.length)?n.tool_calls=e.tool_calls.map(j8):(e.additional_kwargs.tool_calls!=null&&(n.tool_calls=e.additional_kwargs.tool_calls),e.tool_call_id!=null&&(n.tool_call_id=e.tool_call_id)),n})}function Fge(t,e,n){const r=t.tool_calls;switch(t.role){case"assistant":{const i=[],a=[];for(const s of r??[])try{i.push(Tk(s,{returnId:!0}))}catch(o){a.push(A8(s,o.message))}return new os({content:t.content||"",additional_kwargs:{tool_calls:r},tool_calls:i,invalid_tool_calls:a,usage_metadata:e,response_metadata:n})}default:return new Gc(t.content||"",t.role??"unknown")}}function Bge(t,e,n,r){var h,p;const i=t.role??e,a=t.content??"";let s;t.function_call?s={function_call:t.function_call}:t.tool_calls?s={tool_calls:t.tool_calls}:s={},t.audio&&(s.audio={...t.audio,index:n.choices[0].index});let o,l=r,c;const d=n.x_groq;d!=null&&d.usage&&(o={input_tokens:d.usage.prompt_tokens,output_tokens:d.usage.completion_tokens,total_tokens:d.usage.total_tokens},c={completion_time:d.usage.completion_time,prompt_time:d.usage.prompt_time,queue_time:d.usage.queue_time,total_time:d.usage.total_time}),d!=null&&d.id&&(l=d.id);const f={usage:o,timing:c};if(i==="user")return new tg({content:a,response_metadata:f});if(i==="assistant"){const m=[];if(Array.isArray(t.tool_calls))for(const g of t.tool_calls)m.push({name:(h=g.function)==null?void 0:h.name,args:(p=g.function)==null?void 0:p.arguments,id:g.id,index:g.index,type:"tool_call_chunk"});return new lo({content:a,tool_call_chunks:m,additional_kwargs:s,id:l,response_metadata:f})}else return i==="system"?new wl({content:a,response_metadata:f}):i==="developer"?new wl({content:a,response_metadata:f,additional_kwargs:{__openai_role__:"developer"}}):i==="function"?new eg({content:a,additional_kwargs:s,name:t.name,response_metadata:f}):i==="tool"?new Jm({content:a,additional_kwargs:s,tool_call_id:t.tool_call_id,response_metadata:f}):new Qm({content:a,role:i,response_metadata:f})}var zge=class extends Ek{constructor(e){super(e);z(this,"lc_namespace",["langchain","chat_models","groq"]);z(this,"client");z(this,"model");z(this,"temperature",.7);z(this,"stop");z(this,"stopSequences");z(this,"maxTokens");z(this,"streaming",!1);z(this,"apiKey");z(this,"streamUsage",!0);z(this,"topP");z(this,"frequencyPenalty");z(this,"presencePenalty");z(this,"logprobs");z(this,"n");z(this,"logitBias");z(this,"user");z(this,"reasoningFormat");z(this,"serviceTier");z(this,"topLogprobs");z(this,"lc_serializable",!0);const n=e.apiKey||Bs("GROQ_API_KEY");if(!n)throw new Error('Groq API key not found. Please set the GROQ_API_KEY environment variable or provide the key into "apiKey"');const r={"User-Agent":"langchainjs",...e.defaultHeaders??{}};this.client=new Lt({apiKey:n,dangerouslyAllowBrowser:!0,baseURL:e.baseUrl,timeout:e.timeout,httpAgent:e.httpAgent,fetch:e.fetch,maxRetries:0,defaultHeaders:r,defaultQuery:e.defaultQuery}),this.apiKey=n,this.temperature=e.temperature??this.temperature,this.model=e.model,this.streaming=e.streaming??this.streaming,this.stop=e.stopSequences??(typeof e.stop=="string"?[e.stop]:e.stop)??[],this.stopSequences=this.stop,this.maxTokens=e.maxTokens,this.topP=e.topP,this.frequencyPenalty=e.frequencyPenalty,this.presencePenalty=e.presencePenalty,this.logprobs=e.logprobs,this.n=e.n,this.logitBias=e.logitBias,this.user=e.user}get lc_serialized_keys(){return["client","model","temperature","stop","stopSequences","maxTokens","streaming","apiKey","streamUsage","topP","frequencyPenalty","presencePenalty","logprobs","n","logitBias","user","reasoningFormat","serviceTier","topLogprobs"]}static lc_name(){return"ChatGroq"}_llmType(){return"groq"}get lc_secrets(){return{apiKey:"GROQ_API_KEY"}}get callKeys(){return[...super.callKeys,...Mge]}getLsParams(e){const n=this.invocationParams(e);return{ls_provider:"groq",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:n.temperature??this.temperature,ls_max_tokens:n.max_tokens??this.maxTokens,ls_stop:e.stop}}async completionWithRetry(e,n){return this.caller.call(async()=>this.client.chat.completions.create(e,n))}invocationParams(e,n){var s;const r=super.invocationParams(e);let i={};(e==null?void 0:e.stream_options)!==void 0?i={stream_options:e.stream_options}:(this.streamUsage&&this.streaming||n!=null&&n.streaming)&&(i={stream_options:{include_usage:!0}});const a={model:this.model,frequency_penalty:this.frequencyPenalty,function_call:e==null?void 0:e.function_call,functions:e==null?void 0:e.functions,logit_bias:this.logitBias,logprobs:this.logprobs,n:this.n,parallel_tool_calls:e==null?void 0:e.parallel_tool_calls,presence_penalty:this.presencePenalty,reasoning_format:this.reasoningFormat,response_format:e==null?void 0:e.response_format,seed:e==null?void 0:e.seed,service_tier:this.serviceTier,stop:(e==null?void 0:e.stop)??this.stopSequences,temperature:(e==null?void 0:e.temperature)??this.temperature,tool_choice:Uge(e==null?void 0:e.tool_choice),tools:(s=e==null?void 0:e.tools)!=null&&s.length?e.tools.map(o=>cj(o)):void 0,top_logprobs:this.topLogprobs,top_p:this.topP,user:this.user,stream:this.streaming,...r,...i};return a.max_completion_tokens=(e==null?void 0:e.max_completion_tokens)??(e==null?void 0:e.max_tokens)??this.maxTokens,a.max_completion_tokens===-1&&delete a.max_completion_tokens,a}bindTools(e,n){return this.withConfig({tools:e.map(r=>cj(r)),...n})}async*_streamResponseChunks(e,n,r){var d,f;const i=this.invocationParams(n,{streaming:!0}),a=D$(e),s=await this.completionWithRetry({...i,messages:a,stream:!0},{signal:n==null?void 0:n.signal,headers:n==null?void 0:n.headers});let o,l,c;for await(const h of s){c=h;const p=h==null?void 0:h.choices[0];if(!p)continue;(d=p.delta)!=null&&d.role&&(o=p.delta.role);const m=Bge(p.delta,o,h,l),g={prompt:n.promptIndex??0,completion:p.index??0};if(typeof m.content!="string"){console.log("[WARNING]: Received non-string content from OpenAI. This is currently not supported.");continue}const v={...g};p.finish_reason!=null&&(v.finish_reason=p.finish_reason,v.system_fingerprint=h.system_fingerprint,v.model_name=h.model);const y=new Kp({message:m,text:m.content,generationInfo:v});yield y,await(r==null?void 0:r.handleLLMNewToken(y.text??"",g,void 0,void 0,void 0,{chunk:y}))}if(c&&("choices"in c&&delete c.choices,yield new Kp({message:new lo({content:"",response_metadata:c}),text:""})),(f=n.signal)!=null&&f.aborted)throw new Error("AbortError")}async _generate(e,n,r){var i;if(this.streaming){const a={},s=this._streamResponseChunks(e,n,r),o={};for await(const c of s){const d=((i=c.generationInfo)==null?void 0:i.completion)??0;o[d]===void 0?o[d]=c:o[d]=o[d].concat(c)}return{generations:Object.entries(o).sort(([c],[d])=>parseInt(c,10)-parseInt(d,10)).map(([c,d])=>d),llmOutput:{estimatedTokenUsage:a}}}else return this._generateNonStreaming(e,n,r)}async _generateNonStreaming(e,n,r){var c;const i={},a=this.invocationParams(n),s=D$(e),o=await this.completionWithRetry({...a,stream:!1,messages:s},{signal:n==null?void 0:n.signal,headers:n==null?void 0:n.headers});if("usage"in o&&o.usage){const{completion_tokens:d,prompt_tokens:f,total_tokens:h}=o.usage;d&&(i.completionTokens=(i.completionTokens??0)+d),f&&(i.promptTokens=(i.promptTokens??0)+f),h&&(i.totalTokens=(i.totalTokens??0)+h)}const l=[];if("choices"in o&&o.choices)for(const d of o.choices){const f=((c=d.message)==null?void 0:c.content)??"";let h;i.totalTokens!==void 0&&(h={input_tokens:i.promptTokens??0,output_tokens:i.completionTokens??0,total_tokens:i.totalTokens});const{choices:p,...m}=o,g={text:f,message:Fge(d.message??{role:"assistant"},h,m)};g.generationInfo={...d.finish_reason?{finish_reason:d.finish_reason}:{},...d.logprobs?{logprobs:d.logprobs}:{}},l.push(g)}return{generations:l,llmOutput:{tokenUsage:i}}}get profile(){return kae[this.model]??{}}withStructuredOutput(e,n){const r=e,i=n==null?void 0:n.name,a=n==null?void 0:n.method,s=n==null?void 0:n.includeRaw;let o=i??"extract",l,c;if(a==="jsonMode"){let p;Oc(r)?(l=Ck.fromZodSchema(r),p=xl(r)):l=new _8,c=this.withConfig({response_format:{type:"json_object"},ls_structured_output_format:{kwargs:{method:"jsonMode"},schema:p}})}else if(Oc(r)){const p=xl(r);c=this.bindTools([{type:"function",function:{name:o,description:p.description,parameters:p}}]).withConfig({tool_choice:{type:"function",function:{name:o}},ls_structured_output_format:{kwargs:{method:"functionCalling"},schema:p}}),l=new lj({returnSingle:!0,keyName:o,zodSchema:r})}else{let p;typeof r.name=="string"&&typeof r.parameters=="object"&&r.parameters!=null?(p=r,o=r.name):(o=r.title??o,p={name:o,description:r.description??"",parameters:r}),c=this.bindTools([{type:"function",function:p}]).withConfig({tool_choice:{type:"function",function:{name:o}},ls_structured_output_format:{kwargs:{method:"functionCalling"},schema:r}}),l=new lj({returnSingle:!0,keyName:o})}if(!s)return c.pipe(l).withConfig({runName:"ChatGroqStructuredOutput"});const d=Ud.assign({parsed:(p,m)=>l.invoke(p.raw,m)}),f=Ud.assign({parsed:()=>null}),h=d.withFallbacks({fallbacks:[f]});return ag.from([{raw:c},h]).withConfig({runName:"ChatGroqStructuredOutput"})}};function Uge(t){if(t)return t==="any"||t==="required"?"required":t==="auto"?"auto":t==="none"?"none":typeof t=="string"?{type:"function",function:{name:t}}:t}const Hge="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",Wge="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",Vge="https://api.tavily.com/search",qge=!0,F$="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",Gge="AdmitConnectAI",Kge=`You are the AdmitConnect AI Assistant, designed to help users understand and navigate the AdmitConnect platform.

About AdmitConnect AI:
AdmitConnect AI is a college admission campaign management platform that helps educational institutions execute multi-channel outreach campaigns through WhatsApp, Voice Calls, and Email using AI-powered automation.

Core capabilities include AI-powered campaign automation, real-time analytics for tracking engagement and response rates, multi-channel communication across Email, Voice, and WhatsApp, candidate management tools, 24/7 AI counseling agents, and predictive intelligence for campaign optimization.

The platform was developed by Yash Sharma, a Generative AI Engineer specializing in scalable AI solutions for educational technology.

Your role:
Provide clear, accurate information about the platform's features and capabilities. Offer professional guidance on college admission trends and best practices. Use real-time web search when needed for current information. Help users navigate the platform and understand how to use its features effectively.

Communication style:
Write in a natural, conversational tone similar to ChatGPT. Be professional but approachable. Keep responses concise and to the point. Avoid excessive formatting like bold text, emojis, or bullet points unless they genuinely improve clarity. Use simple paragraphs for most explanations. When citing external sources from web searches, use [1], [2] notation naturally within the text.`,Yge=`You are the AdmitConnect Campaign Expert, a specialized assistant for users working in the AdmitConnect Dashboard.

About the platform:
AdmitConnect AI, developed by Yash Sharma (Generative AI Engineer), is a comprehensive campaign management platform for college admissions. It enables educational institutions to streamline student outreach and enrollment through AI-driven automation.

Platform features:
The Campaign Creation Suite allows users to set up WhatsApp campaigns with automated personalized messaging, Voice Call campaigns with AI-powered interactions, and Email campaigns with professional sequences and tracking.

The Candidate Management System supports bulk uploads via CSV/Excel, intelligent segmentation and filtering, comprehensive candidate profiles, and engagement history tracking.

Analytics and Reporting provides real-time campaign performance metrics, response rate analysis, channel effectiveness comparisons, and ROI tracking with optimization insights.

The AI Agent Ecosystem includes a Counseling Crew for 24/7 automated student support, a Campaign Orchestrator for intelligent multi-channel coordination, a Decision Engine for smart campaign strategy recommendations, and a Content Generator for AI-powered message and script creation.

Automation and Intelligence features cover smart scheduling and timing optimization, predictive analytics for student engagement, automated follow-up sequences, and performance-based campaign adjustments.

Your expertise:
You understand campaign strategy development, multi-channel marketing for educational institutions, data-driven decision making for student recruitment, AI-powered automation workflows, and candidate engagement best practices.

How to help users:
For campaign creation, guide users through defining their target audience, recommend the optimal channel mix based on their goals, suggest effective messaging strategies, and help configure timing and frequency.

For analytics, explain what the metrics mean, identify areas for improvement, provide context by benchmarking against industry standards, and recommend specific optimization strategies.

For feature navigation, give clear step-by-step instructions on how to find and use dashboard features, configure settings, set up integrations, and apply best practices.

For strategy consultation, offer professional recommendations on campaign planning and execution, channel selection based on demographics, content personalization techniques, and engagement optimization.

Communication style:
Write naturally and conversationally, similar to ChatGPT. Be professional and consultative, but avoid overly formal language. Focus on providing actionable, results-driven advice. Use specific examples from the dashboard when relevant. Give step-by-step guidance for complex processes, but keep explanations concise. Avoid excessive formatting - write in clear paragraphs and only use lists when they genuinely make the information clearer.`;class I8{constructor(e="general"){z(this,"context");z(this,"model",null);z(this,"tracer");z(this,"isAvailable",!1);this.context=e;try{if(this.model=new zge({apiKey:Hge,model:"llama-3.3-70b-versatile",temperature:.7,maxTokens:1024}),this.isAvailable=!0,qge&&F$)try{const n=new Fd({apiUrl:"https://api.smith.langchain.com",apiKey:F$});this.tracer=new ep({projectName:Gge||"default",client:n})}catch(n){console.warn("Failed to initialize LangSmith tracer",n)}}catch(n){console.error("Failed to initialize ChatService:",n),this.isAvailable=!1}}checkAvailability(){return this.isAvailable}async searchTavily(e){try{const n=await fetch(Vge,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({api_key:Wge,query:e,search_depth:"basic",include_answer:!0,max_results:3})});if(!n.ok)throw new Error("Tavily search failed");return(await n.json()).results.map(i=>({title:i.title,url:i.url,content:i.content}))}catch(n){return console.error("Error searching Tavily:",n),[]}}async generateResponse(e,n=[]){if(!this.model||!this.isAvailable)return{content:"I'm sorry, the AI chat service is currently unavailable. Please check the API configuration.",sources:[]};try{let r=[],i="";e.length>10&&(this.context==="general"||e.toLowerCase().includes("search")||e.toLowerCase().includes("news"))&&(r=await this.searchTavily(e));const a=this.context==="dashboard"?Yge:Kge;r.length>0&&(i=`

Here is some relevant information found from the web:
${r.map((d,f)=>`[${f+1}] ${d.title}: ${d.content}`).join(`
`)}

Use this information to answer the user's question if relevant. Cite sources using [1], [2] notation.`);const s=[new ls(a+i),...n.map(d=>d.role==="user"?new ba(d.content):d.role==="assistant"?new os(d.content):new ls(d.content)),new ba(e)],o=this.tracer?[this.tracer]:[];return{content:(await this.model.invoke(s,{callbacks:o,metadata:{context:this.context},tags:["admit-connect-ai",this.context]})).content,sources:r}}catch(r){return console.error("ChatService error:",r),{content:"I'm sorry, I encountered an error while processing your request. Please try again later.",sources:[]}}}}const Xge=Wm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 button-magnetic micro-bounce",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-elegant",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-primary/20 bg-background/10 backdrop-blur-sm text-foreground hover:bg-primary/10 hover:border-primary/40",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-ai-gradient text-white hover:scale-105 transform transition-all duration-300 shadow-glow hover:shadow-[0_0_30px_hsl(217_91%_60%_/_0.5)] button-glow hover-glow",premium:"bg-gradient-to-r from-ai-purple to-ai-teal text-white hover:scale-105 transform transition-all duration-300 shadow-elegant button-glow animate-gradient-shift"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),oe=S.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const s=r?cl:"button";return u.jsx(s,{className:je(Xge({variant:e,size:n,className:t})),ref:a,...i})});oe.displayName="Button";const ee=S.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:je("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ee.displayName="Card";const We=S.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:je("flex flex-col space-y-1.5 p-6",t),...e}));We.displayName="CardHeader";const Ve=S.forwardRef(({className:t,...e},n)=>u.jsx("h3",{ref:n,className:je("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ve.displayName="CardTitle";const Xr=S.forwardRef(({className:t,...e},n)=>u.jsx("p",{ref:n,className:je("text-sm text-muted-foreground",t),...e}));Xr.displayName="CardDescription";const Le=S.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:je("p-6 pt-0",t),...e}));Le.displayName="CardContent";const Zge=S.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:je("flex items-center p-6 pt-0",t),...e}));Zge.displayName="CardFooter";const vt=S.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));vt.displayName="Input";var Jge=S.createContext(void 0);function cg(t){const e=S.useContext(Jge);return t||e||"ltr"}function uj(t,[e,n]){return Math.min(n,Math.max(e,t))}function Qge(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var kk="ScrollArea",[$8,aVe]=Sa(kk),[eye,Bi]=$8(kk),R8=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:a=600,...s}=t,[o,l]=S.useState(null),[c,d]=S.useState(null),[f,h]=S.useState(null),[p,m]=S.useState(null),[g,v]=S.useState(null),[y,x]=S.useState(0),[b,_]=S.useState(0),[w,E]=S.useState(!1),[A,j]=S.useState(!1),C=rt(e,O=>l(O)),T=cg(i);return u.jsx(eye,{scope:n,type:r,dir:T,scrollHideDelay:a,scrollArea:o,viewport:c,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:m,scrollbarXEnabled:w,onScrollbarXEnabledChange:E,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:A,onScrollbarYEnabledChange:j,onCornerWidthChange:x,onCornerHeightChange:_,children:u.jsx(Ne.div,{dir:T,...s,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});R8.displayName=kk;var M8="ScrollAreaViewport",L8=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,asChild:i,nonce:a,...s}=t,o=Bi(M8,n),l=S.useRef(null),c=rt(e,l,o.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),u.jsx(Ne.div,{"data-radix-scroll-area-viewport":"",...s,asChild:i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:uye({asChild:i,children:r},d=>u.jsx("div",{"data-radix-scroll-area-content":"",ref:o.onContentChange,style:{minWidth:o.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});L8.displayName=M8;var ms="ScrollAreaScrollbar",Ok=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Bi(ms,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:s}=i,o=t.orientation==="horizontal";return S.useEffect(()=>(o?a(!0):s(!0),()=>{o?a(!1):s(!1)}),[o,a,s]),i.type==="hover"?u.jsx(tye,{...r,ref:e,forceMount:n}):i.type==="scroll"?u.jsx(nye,{...r,ref:e,forceMount:n}):i.type==="auto"?u.jsx(D8,{...r,ref:e,forceMount:n}):i.type==="always"?u.jsx(Nk,{...r,ref:e}):null});Ok.displayName=ms;var tye=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Bi(ms,t.__scopeScrollArea),[a,s]=S.useState(!1);return S.useEffect(()=>{const o=i.scrollArea;let l=0;if(o){const c=()=>{window.clearTimeout(l),s(!0)},d=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",c),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",c),o.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),u.jsx(er,{present:n||a,children:u.jsx(D8,{"data-state":a?"visible":"hidden",...r,ref:e})})}),nye=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Bi(ms,t.__scopeScrollArea),a=t.orientation==="horizontal",s=Cb(()=>l("SCROLL_END"),100),[o,l]=Qge("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(o==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[o,i.scrollHideDelay,l]),S.useEffect(()=>{const c=i.viewport,d=a?"scrollLeft":"scrollTop";if(c){let f=c[d];const h=()=>{const p=c[d];f!==p&&(l("SCROLL"),s()),f=p};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,a,l,s]),u.jsx(er,{present:n||o!=="hidden",children:u.jsx(Nk,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:he(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:he(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),D8=S.forwardRef((t,e)=>{const n=Bi(ms,t.__scopeScrollArea),{forceMount:r,...i}=t,[a,s]=S.useState(!1),o=t.orientation==="horizontal",l=Cb(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;s(o?c:d)}},10);return Hd(n.viewport,l),Hd(n.content,l),u.jsx(er,{present:r||a,children:u.jsx(Nk,{"data-state":a?"visible":"hidden",...i,ref:e})})}),Nk=S.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Bi(ms,t.__scopeScrollArea),a=S.useRef(null),s=S.useRef(0),[o,l]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=H8(o.viewport,o.content),d={...r,sizes:o,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,p){return lye(h,s.current,o,p)}return n==="horizontal"?u.jsx(rye,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollLeft,p=B$(h,o,i.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?u.jsx(iye,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollTop,p=B$(h,o);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),rye=S.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,a=Bi(ms,t.__scopeScrollArea),[s,o]=S.useState(),l=S.useRef(null),c=rt(e,l,a.onScrollbarXChange);return S.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),u.jsx(B8,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ab(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),V8(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&s&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:c0(s.paddingLeft),paddingEnd:c0(s.paddingRight)}})}})}),iye=S.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,a=Bi(ms,t.__scopeScrollArea),[s,o]=S.useState(),l=S.useRef(null),c=rt(e,l,a.onScrollbarYChange);return S.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),u.jsx(B8,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ab(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),V8(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&s&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:c0(s.paddingTop),paddingEnd:c0(s.paddingBottom)}})}})}),[aye,F8]=$8(ms),B8=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:s,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:f,...h}=t,p=Bi(ms,n),[m,g]=S.useState(null),v=rt(e,C=>g(C)),y=S.useRef(null),x=S.useRef(""),b=p.viewport,_=r.content-r.viewport,w=Vt(d),E=Vt(l),A=Cb(f,10);function j(C){if(y.current){const T=C.clientX-y.current.left,O=C.clientY-y.current.top;c({x:T,y:O})}}return S.useEffect(()=>{const C=T=>{const O=T.target;(m==null?void 0:m.contains(O))&&w(T,_)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[b,m,_,w]),S.useEffect(E,[r,E]),Hd(m,A),Hd(p.content,A),u.jsx(aye,{scope:n,scrollbar:m,hasThumb:i,onThumbChange:Vt(a),onThumbPointerUp:Vt(s),onThumbPositionChange:E,onThumbPointerDown:Vt(o),children:u.jsx(Ne.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:he(t.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),y.current=m.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),j(C))}),onPointerMove:he(t.onPointerMove,j),onPointerUp:he(t.onPointerUp,C=>{const T=C.target;T.hasPointerCapture(C.pointerId)&&T.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),l0="ScrollAreaThumb",z8=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=F8(l0,t.__scopeScrollArea);return u.jsx(er,{present:n||i.hasThumb,children:u.jsx(sye,{ref:e,...r})})}),sye=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,a=Bi(l0,n),s=F8(l0,n),{onThumbPositionChange:o}=s,l=rt(e,f=>s.onThumbChange(f)),c=S.useRef(),d=Cb(()=>{c.current&&(c.current(),c.current=void 0)},100);return S.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!c.current){const p=cye(f,o);c.current=p,o()}};return o(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,o]),u.jsx(Ne.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:he(t.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),m=f.clientX-p.left,g=f.clientY-p.top;s.onThumbPointerDown({x:m,y:g})}),onPointerUp:he(t.onPointerUp,s.onThumbPointerUp)})});z8.displayName=l0;var Pk="ScrollAreaCorner",U8=S.forwardRef((t,e)=>{const n=Bi(Pk,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(oye,{...t,ref:e}):null});U8.displayName=Pk;var oye=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Bi(Pk,n),[a,s]=S.useState(0),[o,l]=S.useState(0),c=!!(a&&o);return Hd(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),Hd(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),s(d)}),c?u.jsx(Ne.div,{...r,ref:e,style:{width:a,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function c0(t){return t?parseInt(t,10):0}function H8(t,e){const n=t/e;return isNaN(n)?0:n}function Ab(t){const e=H8(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function lye(t,e,n,r="ltr"){const i=Ab(n),a=i/2,s=e||a,o=i-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-o,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return W8([l,c],f)(t)}function B$(t,e,n="ltr"){const r=Ab(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,s=e.content-e.viewport,o=a-r,l=n==="ltr"?[0,s]:[s*-1,0],c=uj(t,l);return W8([0,s],[0,o])(c)}function W8(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function V8(t,e){return t>0&&t<e}var cye=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const a={left:t.scrollLeft,top:t.scrollTop},s=n.left!==a.left,o=n.top!==a.top;(s||o)&&e(),n=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Cb(t,e){const n=Vt(t),r=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),S.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Hd(t,e){const n=Vt(e);jn(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}function uye(t,e){const{asChild:n,children:r}=t;if(!n)return typeof e=="function"?e(r):e;const i=S.Children.only(r);return S.cloneElement(i,{children:typeof e=="function"?e(i.props.children):e})}var q8=R8,dye=L8,fye=U8;const Tb=S.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(q8,{ref:r,className:je("relative overflow-hidden",t),...n,children:[u.jsx(dye,{className:"h-full w-full rounded-[inherit]",children:e}),u.jsx(G8,{}),u.jsx(fye,{})]}));Tb.displayName=q8.displayName;const G8=S.forwardRef(({className:t,orientation:e="vertical",...n},r)=>u.jsx(Ok,{ref:r,orientation:e,className:je("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:u.jsx(z8,{className:"relative flex-1 rounded-full bg-border"})}));G8.displayName=Ok.displayName;const Yc=({size:t="md",className:e})=>{const n={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return u.jsx("div",{className:je("flex items-center justify-center",e),children:u.jsx("div",{className:je("animate-spin rounded-full border-2 border-primary/20 border-t-primary",n[t]),role:"status","aria-label":"Loading",children:u.jsx("span",{className:"sr-only",children:"Loading..."})})})},hye=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState([{id:"welcome",content:"Hi! I'm your AI college counselor. I can help you with admissions, applications, and campus information. How can I assist you today?",role:"assistant",timestamp:new Date}]),[i,a]=S.useState(""),[s,o]=S.useState(!1),l=S.useRef(null),{toast:c}=Mt(),d=S.useRef(new I8("general")),f=()=>{var p;(p=l.current)==null||p.scrollIntoView({behavior:"smooth"})};S.useEffect(()=>{f()},[n]);const h=async p=>{if(p.preventDefault(),!i.trim()||s)return;const m={id:Date.now().toString(),content:i.trim(),role:"user",timestamp:new Date};r(g=>[...g,m]),a(""),o(!0);try{const g=n.map(x=>({role:x.role,content:x.content})),v=await d.current.generateResponse(m.content,g),y={id:(Date.now()+1).toString(),content:v.content,role:"assistant",timestamp:new Date};r(x=>[...x,y])}catch(g){console.error("AI Chat error:",g),c({title:"Error",description:"Failed to get AI response. Please try again.",variant:"destructive"});const v={id:(Date.now()+1).toString(),content:"I apologize, but I'm having trouble processing your request right now. Please try again in a moment.",role:"assistant",timestamp:new Date};r(y=>[...y,v])}finally{o(!1)}};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:u.jsx(oe,{onClick:()=>e(!t),size:"lg",className:je("rounded-full w-14 h-14 shadow-elegant hover-lift transition-all duration-300",t?"rotate-180":"animate-pulse"),variant:"hero",children:t?u.jsx(qm,{className:"w-6 h-6"}):u.jsx(Bv,{className:"w-6 h-6"})})}),t&&u.jsx(ee,{className:"fixed bottom-24 right-6 w-96 h-[500px] z-40 shadow-2xl border-2 border-primary/20 animate-scale-in",children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx("div",{className:"p-4 border-b bg-gradient-subtle rounded-t-lg",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-8 h-8 bg-ai-gradient rounded-full flex items-center justify-center",children:u.jsx(ha,{className:"w-4 h-4 text-white"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-sm",children:"AI College Counselor"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Always here to help"})]})]})}),u.jsxs(Tb,{className:"flex-1 p-4",children:[u.jsxs("div",{className:"space-y-4",children:[n.map(p=>u.jsxs("div",{className:je("flex items-start space-x-2",p.role==="user"?"justify-end":"justify-start"),children:[p.role==="assistant"&&u.jsx("div",{className:"w-6 h-6 bg-ai-gradient rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:u.jsx(ha,{className:"w-3 h-3 text-white"})}),u.jsx("div",{className:je("max-w-[280px] p-3 rounded-lg text-sm transition-all duration-200",p.role==="user"?"bg-primary text-primary-foreground ml-auto hover-lift":"bg-secondary text-secondary-foreground hover-scale"),children:p.content}),p.role==="user"&&u.jsx("div",{className:"w-6 h-6 bg-muted rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:u.jsx(Lp,{className:"w-3 h-3"})})]},p.id)),s&&u.jsxs("div",{className:"flex items-start space-x-2",children:[u.jsx("div",{className:"w-6 h-6 bg-ai-gradient rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:u.jsx(ha,{className:"w-3 h-3 text-white"})}),u.jsx("div",{className:"bg-secondary p-3 rounded-lg",children:u.jsx(Yc,{size:"sm"})})]})]}),u.jsx("div",{ref:l})]}),u.jsx("form",{onSubmit:h,className:"p-4 border-t",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(vt,{value:i,onChange:p=>a(p.target.value),placeholder:"Ask about admissions, applications...",disabled:s,className:"flex-1"}),u.jsx(oe,{type:"submit",size:"icon",disabled:s||!i.trim(),className:"flex-shrink-0 hover-lift",variant:"hero",children:u.jsx(pT,{className:"w-4 h-4"})})]})})]})})]})},pye=()=>{const[t,e]=S.useState(null),[n,r]=S.useState(!1),[i,a]=S.useState(!1);S.useEffect(()=>{(()=>{window.matchMedia("(display-mode: standalone)").matches&&a(!0)})();const d=h=>{h.preventDefault(),e(h),setTimeout(()=>{r(!0)},3e3)},f=()=>{a(!0),r(!1),e(null)};return window.addEventListener("beforeinstallprompt",d),window.addEventListener("appinstalled",f),()=>{window.removeEventListener("beforeinstallprompt",d),window.removeEventListener("appinstalled",f)}},[]);const s=async()=>{if(t){try{await t.prompt(),(await t.userChoice).outcome==="accepted"?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt")}catch(c){console.error("Error during install prompt:",c)}e(null),r(!1)}},o=()=>{r(!1),localStorage.setItem("pwa-install-dismissed",Date.now().toString())};if(i||!n||!t)return null;const l=localStorage.getItem("pwa-install-dismissed");return l&&Date.now()-parseInt(l)<24*60*60*1e3?null:u.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 md:left-auto md:right-4 md:w-80",children:u.jsx(ee,{className:"p-4 bg-card/95 backdrop-blur-sm border shadow-lg",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:u.jsx(kee,{className:"w-5 h-5 text-primary"})}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsx("h3",{className:"font-semibold text-sm text-card-foreground",children:"Install AdmitConnect AI"}),u.jsx(oe,{variant:"ghost",size:"icon",onClick:o,className:"w-6 h-6 -mt-1 -mr-1",children:u.jsx(qm,{className:"w-4 h-4"})})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Get faster access and offline features by installing our app on your device."}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs(oe,{onClick:s,size:"sm",className:"flex-1",children:[u.jsx(fT,{className:"w-4 h-4 mr-1"}),"Install"]}),u.jsx(oe,{variant:"outline",size:"sm",onClick:o,className:"flex-1",children:"Later"})]})]})]})})})},mye=()=>u.jsxs("div",{className:"sr-only focus:not-sr-only",children:[u.jsx("a",{href:"#main-content",className:"fixed top-0 left-0 z-[9999] bg-primary text-primary-foreground px-4 py-2 rounded-br-md focus:outline-none focus:ring-2 focus:ring-ring",onFocus:t=>{t.currentTarget.classList.remove("sr-only")},onBlur:t=>{t.currentTarget.classList.add("sr-only")},children:"Skip to main content"}),u.jsx("a",{href:"#navigation",className:"fixed top-0 left-0 z-[9999] bg-primary text-primary-foreground px-4 py-2 rounded-br-md focus:outline-none focus:ring-2 focus:ring-ring ml-32",onFocus:t=>{t.currentTarget.classList.remove("sr-only")},onBlur:t=>{t.currentTarget.classList.add("sr-only")},children:"Skip to navigation"})]});class gye extends S.Component{constructor(){super(...arguments);z(this,"state",{hasError:!1})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("ErrorBoundary caught an error:",n,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:u.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:u.jsxs(ee,{className:"max-w-md w-full p-6 text-center space-y-4",children:[u.jsx("div",{className:"w-16 h-16 bg-destructive/10 rounded-full flex items-center justify-center mx-auto",children:u.jsx(gB,{className:"w-8 h-8 text-destructive"})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Something went wrong"}),u.jsx("p",{className:"text-muted-foreground",children:"We encountered an unexpected error. Please try refreshing the page."}),!1]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[u.jsxs(oe,{onClick:()=>window.location.reload(),className:"flex-1",children:[u.jsx(fl,{className:"w-4 h-4 mr-2"}),"Refresh Page"]}),u.jsx(oe,{variant:"outline",onClick:()=>window.location.href="/",className:"flex-1",children:"Go Home"})]})]})}):this.props.children}}const yye=()=>{const t=pi(),{user:e}=zn();return S.useEffect(()=>{e&&window.location.pathname==="/auth"&&t("/dashboard",{replace:!0})},[e,t]),null},vye=({onComplete:t})=>{const[e,n]=S.useState(!0);return S.useEffect(()=>{const r=setTimeout(()=>{n(!1),setTimeout(t,300)},800);return()=>clearTimeout(r)},[t]),u.jsxs("div",{className:je("fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-background via-primary/20 to-background transition-opacity duration-500",!e&&"opacity-0 pointer-events-none"),children:[u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[u.jsx("div",{className:"absolute w-32 h-32 border-4 border-primary/30 rounded-full animate-[ping_2s_ease-in-out_infinite]"}),u.jsx("div",{className:"absolute w-40 h-40 border-4 border-primary/20 rounded-full animate-[ping_2s_ease-in-out_0.5s_infinite]"}),u.jsx("div",{className:"absolute w-48 h-48 border-4 border-primary/10 rounded-full animate-[ping_2s_ease-in-out_1s_infinite]"})]}),u.jsx("div",{className:"relative z-10 animate-[scale-in_0.5s_ease-out]",children:u.jsx("img",{src:"/app-logo.png",alt:"AdmitConnect AI",className:"w-24 h-24 rounded-2xl shadow-2xl shadow-primary/50 animate-[float_3s_ease-in-out_infinite]"})}),u.jsx("div",{className:"absolute inset-0 -z-10 rounded-2xl bg-gradient-to-r from-transparent via-primary/20 to-transparent animate-[shimmer_2s_ease-in-out_infinite]"})]}),u.jsx("div",{className:"absolute bottom-1/3 animate-[fade-in_1s_ease-out_0.5s_both]",children:u.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-primary via-primary-glow to-primary bg-clip-text text-transparent",children:"AdmitConnect AI"})}),u.jsxs("div",{className:"absolute bottom-1/4 flex gap-2 animate-[fade-in_1s_ease-out_1s_both]",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-[bounce_1s_ease-in-out_infinite]"}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-[bounce_1s_ease-in-out_0.2s_infinite]"}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-[bounce_1s_ease-in-out_0.4s_infinite]"})]})]})};var a1="focusScope.autoFocusOnMount",s1="focusScope.autoFocusOnUnmount",z$={bubbles:!1,cancelable:!0},xye="FocusScope",kb=S.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=t,[o,l]=S.useState(null),c=Vt(i),d=Vt(a),f=S.useRef(null),h=rt(e,g=>l(g)),p=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let g=function(b){if(p.paused||!o)return;const _=b.target;o.contains(_)?f.current=_:Eo(f.current,{select:!0})},v=function(b){if(p.paused||!o)return;const _=b.relatedTarget;_!==null&&(o.contains(_)||Eo(f.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const w of b)w.removedNodes.length>0&&Eo(o)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const x=new MutationObserver(y);return o&&x.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),x.disconnect()}}},[r,o,p.paused]),S.useEffect(()=>{if(o){H$.add(p);const g=document.activeElement;if(!o.contains(g)){const y=new CustomEvent(a1,z$);o.addEventListener(a1,c),o.dispatchEvent(y),y.defaultPrevented||(bye(jye(K8(o)),{select:!0}),document.activeElement===g&&Eo(o))}return()=>{o.removeEventListener(a1,c),setTimeout(()=>{const y=new CustomEvent(s1,z$);o.addEventListener(s1,d),o.dispatchEvent(y),y.defaultPrevented||Eo(g??document.body,{select:!0}),o.removeEventListener(s1,d),H$.remove(p)},0)}}},[o,c,d,p]);const m=S.useCallback(g=>{if(!n&&!r||p.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(v&&y){const x=g.currentTarget,[b,_]=wye(x);b&&_?!g.shiftKey&&y===_?(g.preventDefault(),n&&Eo(b,{select:!0})):g.shiftKey&&y===b&&(g.preventDefault(),n&&Eo(_,{select:!0})):y===x&&g.preventDefault()}},[n,r,p.paused]);return u.jsx(Ne.div,{tabIndex:-1,...s,ref:h,onKeyDown:m})});kb.displayName=xye;function bye(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Eo(r,{select:e}),document.activeElement!==n)return}function wye(t){const e=K8(t),n=U$(e,t),r=U$(e.reverse(),t);return[n,r]}function K8(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function U$(t,e){for(const n of t)if(!_ye(n,{upTo:e}))return n}function _ye(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Sye(t){return t instanceof HTMLInputElement&&"select"in t}function Eo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Sye(t)&&e&&t.select()}}var H$=Eye();function Eye(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=W$(t,e),t.unshift(e)},remove(e){var n;t=W$(t,e),(n=t[0])==null||n.resume()}}}function W$(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function jye(t){return t.filter(e=>e.tagName!=="A")}var o1=0;function Ik(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??V$()),document.body.insertAdjacentElement("beforeend",t[1]??V$()),o1++,()=>{o1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),o1--}},[])}function V$(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Va=function(){return Va=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Va.apply(this,arguments)};function Y8(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Aye(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var nv="right-scroll-bar-position",rv="width-before-scroll-bar",Cye="with-scroll-bars-hidden",Tye="--removed-body-scroll-bar-size";function l1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function kye(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Oye=typeof window<"u"?S.useLayoutEffect:S.useEffect,q$=new WeakMap;function Nye(t,e){var n=kye(null,function(r){return t.forEach(function(i){return l1(i,r)})});return Oye(function(){var r=q$.get(n);if(r){var i=new Set(r),a=new Set(t),s=n.current;i.forEach(function(o){a.has(o)||l1(o,null)}),a.forEach(function(o){i.has(o)||l1(o,s)})}q$.set(n,t)},[t]),n}function Pye(t){return t}function Iye(t,e){e===void 0&&(e=Pye);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var s=e(a,r);return n.push(s),function(){n=n.filter(function(o){return o!==s})}},assignSyncMedium:function(a){for(r=!0;n.length;){var s=n;n=[],s.forEach(a)}n={push:function(o){return a(o)},filter:function(){return n}}},assignMedium:function(a){r=!0;var s=[];if(n.length){var o=n;n=[],o.forEach(a),s=n}var l=function(){var d=s;s=[],d.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){s.push(d),c()},filter:function(d){return s=s.filter(d),n}}}};return i}function $ye(t){t===void 0&&(t={});var e=Iye(null);return e.options=Va({async:!0,ssr:!1},t),e}var X8=function(t){var e=t.sideCar,n=Y8(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,Va({},n))};X8.isSideCarExport=!0;function Rye(t,e){return t.useMedium(e),X8}var Z8=$ye(),c1=function(){},Ob=S.forwardRef(function(t,e){var n=S.useRef(null),r=S.useState({onScrollCapture:c1,onWheelCapture:c1,onTouchMoveCapture:c1}),i=r[0],a=r[1],s=t.forwardProps,o=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,p=t.noIsolation,m=t.inert,g=t.allowPinchZoom,v=t.as,y=v===void 0?"div":v,x=t.gapMode,b=Y8(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,w=Nye([n,e]),E=Va(Va({},b),i);return S.createElement(S.Fragment,null,d&&S.createElement(_,{sideCar:Z8,removeScrollBar:c,shards:f,noIsolation:p,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:n,gapMode:x}),s?S.cloneElement(S.Children.only(o),Va(Va({},E),{ref:w})):S.createElement(y,Va({},E,{className:l,ref:w}),o))});Ob.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ob.classNames={fullWidth:rv,zeroRight:nv};var Mye=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Lye(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Mye();return e&&t.setAttribute("nonce",e),t}function Dye(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Fye(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Bye=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Lye())&&(Dye(e,n),Fye(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},zye=function(){var t=Bye();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},J8=function(){var t=zye(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Uye={left:0,top:0,right:0,gap:0},u1=function(t){return parseInt(t||"",10)||0},Hye=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[u1(n),u1(r),u1(i)]},Wye=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Uye;var e=Hye(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Vye=J8(),od="data-scroll-locked",qye=function(t,e,n,r){var i=t.left,a=t.top,s=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Cye,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(od,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(nv,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(rv,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(nv," .").concat(nv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(rv," .").concat(rv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(od,`] {
    `).concat(Tye,": ").concat(o,`px;
  }
`)},G$=function(){var t=parseInt(document.body.getAttribute(od)||"0",10);return isFinite(t)?t:0},Gye=function(){S.useEffect(function(){return document.body.setAttribute(od,(G$()+1).toString()),function(){var t=G$()-1;t<=0?document.body.removeAttribute(od):document.body.setAttribute(od,t.toString())}},[])},Kye=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Gye();var a=S.useMemo(function(){return Wye(i)},[i]);return S.createElement(Vye,{styles:qye(a,!e,i,n?"":"!important")})},dj=!1;if(typeof window<"u")try{var gy=Object.defineProperty({},"passive",{get:function(){return dj=!0,!0}});window.addEventListener("test",gy,gy),window.removeEventListener("test",gy,gy)}catch{dj=!1}var hu=dj?{passive:!1}:!1,Yye=function(t){return t.tagName==="TEXTAREA"},Q8=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Yye(t)&&n[e]==="visible")},Xye=function(t){return Q8(t,"overflowY")},Zye=function(t){return Q8(t,"overflowX")},K$=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=e9(t,r);if(i){var a=t9(t,r),s=a[1],o=a[2];if(s>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Jye=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Qye=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},e9=function(t,e){return t==="v"?Xye(e):Zye(e)},t9=function(t,e){return t==="v"?Jye(e):Qye(e)},eve=function(t,e){return t==="h"&&e==="rtl"?-1:1},tve=function(t,e,n,r,i){var a=eve(t,window.getComputedStyle(e).direction),s=a*r,o=n.target,l=e.contains(o),c=!1,d=s>0,f=0,h=0;do{var p=t9(t,o),m=p[0],g=p[1],v=p[2],y=g-v-a*m;(m||y)&&e9(t,o)&&(f+=y,h+=m),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(c=!0),c},yy=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Y$=function(t){return[t.deltaX,t.deltaY]},X$=function(t){return t&&"current"in t?t.current:t},nve=function(t,e){return t[0]===e[0]&&t[1]===e[1]},rve=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},ive=0,pu=[];function ave(t){var e=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),i=S.useState(ive++)[0],a=S.useState(J8)[0],s=S.useRef(t);S.useEffect(function(){s.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=Aye([t.lockRef.current],(t.shards||[]).map(X$),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=S.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var y=yy(g),x=n.current,b="deltaX"in g?g.deltaX:x[0]-y[0],_="deltaY"in g?g.deltaY:x[1]-y[1],w,E=g.target,A=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in g&&A==="h"&&E.type==="range")return!1;var j=K$(A,E);if(!j)return!0;if(j?w=A:(w=A==="v"?"h":"v",j=K$(A,E)),!j)return!1;if(!r.current&&"changedTouches"in g&&(b||_)&&(r.current=w),!w)return!0;var C=r.current||w;return tve(C,v,g,C==="h"?b:_,!0)},[]),l=S.useCallback(function(g){var v=g;if(!(!pu.length||pu[pu.length-1]!==a)){var y="deltaY"in v?Y$(v):yy(v),x=e.current.filter(function(w){return w.name===v.type&&(w.target===v.target||v.target===w.shadowParent)&&nve(w.delta,y)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var b=(s.current.shards||[]).map(X$).filter(Boolean).filter(function(w){return w.contains(v.target)}),_=b.length>0?o(v,b[0]):!s.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),c=S.useCallback(function(g,v,y,x){var b={name:g,delta:v,target:y,should:x,shadowParent:sve(y)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(_){return _!==b})},1)},[]),d=S.useCallback(function(g){n.current=yy(g),r.current=void 0},[]),f=S.useCallback(function(g){c(g.type,Y$(g),g.target,o(g,t.lockRef.current))},[]),h=S.useCallback(function(g){c(g.type,yy(g),g.target,o(g,t.lockRef.current))},[]);S.useEffect(function(){return pu.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,hu),document.addEventListener("touchmove",l,hu),document.addEventListener("touchstart",d,hu),function(){pu=pu.filter(function(g){return g!==a}),document.removeEventListener("wheel",l,hu),document.removeEventListener("touchmove",l,hu),document.removeEventListener("touchstart",d,hu)}},[]);var p=t.removeScrollBar,m=t.inert;return S.createElement(S.Fragment,null,m?S.createElement(a,{styles:rve(i)}):null,p?S.createElement(Kye,{gapMode:t.gapMode}):null)}function sve(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const ove=Rye(Z8,ave);var Nb=S.forwardRef(function(t,e){return S.createElement(Ob,Va({},t,{ref:e,sideCar:ove}))});Nb.classNames=Ob.classNames;var lve=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},mu=new WeakMap,vy=new WeakMap,xy={},d1=0,n9=function(t){return t&&(t.host||n9(t.parentNode))},cve=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=n9(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},uve=function(t,e,n,r){var i=cve(e,Array.isArray(t)?t:[t]);xy[n]||(xy[n]=new WeakMap);var a=xy[n],s=[],o=new Set,l=new Set(i),c=function(f){!f||o.has(f)||(o.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var p=h.getAttribute(r),m=p!==null&&p!=="false",g=(mu.get(h)||0)+1,v=(a.get(h)||0)+1;mu.set(h,g),a.set(h,v),s.push(h),g===1&&m&&vy.set(h,!0),v===1&&h.setAttribute(n,"true"),m||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(e),o.clear(),d1++,function(){s.forEach(function(f){var h=mu.get(f)-1,p=a.get(f)-1;mu.set(f,h),a.set(f,p),h||(vy.has(f)||f.removeAttribute(r),vy.delete(f)),p||f.removeAttribute(n)}),d1--,d1||(mu=new WeakMap,mu=new WeakMap,vy=new WeakMap,xy={})}},$k=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=lve(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),uve(r,i,n,"aria-hidden")):function(){return null}},Rk="Dialog",[r9,sVe]=Sa(Rk),[dve,Ta]=r9(Rk),i9=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:s=!0}=t,o=S.useRef(null),l=S.useRef(null),[c=!1,d]=as({prop:r,defaultProp:i,onChange:a});return u.jsx(dve,{scope:e,triggerRef:o,contentRef:l,contentId:pa(),titleId:pa(),descriptionId:pa(),open:c,onOpenChange:d,onOpenToggle:S.useCallback(()=>d(f=>!f),[d]),modal:s,children:n})};i9.displayName=Rk;var a9="DialogTrigger",fve=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ta(a9,n),a=rt(e,i.triggerRef);return u.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Dk(i.open),...r,ref:a,onClick:he(t.onClick,i.onOpenToggle)})});fve.displayName=a9;var Mk="DialogPortal",[hve,s9]=r9(Mk,{forceMount:void 0}),o9=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=Ta(Mk,e);return u.jsx(hve,{scope:e,forceMount:n,children:S.Children.map(r,s=>u.jsx(er,{present:n||a.open,children:u.jsx(Um,{asChild:!0,container:i,children:s})}))})};o9.displayName=Mk;var u0="DialogOverlay",l9=S.forwardRef((t,e)=>{const n=s9(u0,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=Ta(u0,t.__scopeDialog);return a.modal?u.jsx(er,{present:r||a.open,children:u.jsx(pve,{...i,ref:e})}):null});l9.displayName=u0;var pve=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ta(u0,n);return u.jsx(Nb,{as:cl,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(Ne.div,{"data-state":Dk(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Rc="DialogContent",c9=S.forwardRef((t,e)=>{const n=s9(Rc,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=Ta(Rc,t.__scopeDialog);return u.jsx(er,{present:r||a.open,children:a.modal?u.jsx(mve,{...i,ref:e}):u.jsx(gve,{...i,ref:e})})});c9.displayName=Rc;var mve=S.forwardRef((t,e)=>{const n=Ta(Rc,t.__scopeDialog),r=S.useRef(null),i=rt(e,n.contentRef,r);return S.useEffect(()=>{const a=r.current;if(a)return $k(a)},[]),u.jsx(u9,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(t.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:he(t.onPointerDownOutside,a=>{const s=a.detail.originalEvent,o=s.button===0&&s.ctrlKey===!0;(s.button===2||o)&&a.preventDefault()}),onFocusOutside:he(t.onFocusOutside,a=>a.preventDefault())})}),gve=S.forwardRef((t,e)=>{const n=Ta(Rc,t.__scopeDialog),r=S.useRef(!1),i=S.useRef(!1);return u.jsx(u9,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,o;(s=t.onCloseAutoFocus)==null||s.call(t,a),a.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),u9=S.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=t,o=Ta(Rc,n),l=S.useRef(null),c=rt(e,l);return Ik(),u.jsxs(u.Fragment,{children:[u.jsx(kb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:u.jsx(wf,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":Dk(o.open),...s,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(yve,{titleId:o.titleId}),u.jsx(xve,{contentRef:l,descriptionId:o.descriptionId})]})]})}),Lk="DialogTitle",d9=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ta(Lk,n);return u.jsx(Ne.h2,{id:i.titleId,...r,ref:e})});d9.displayName=Lk;var f9="DialogDescription",h9=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ta(f9,n);return u.jsx(Ne.p,{id:i.descriptionId,...r,ref:e})});h9.displayName=f9;var p9="DialogClose",m9=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ta(p9,n);return u.jsx(Ne.button,{type:"button",...r,ref:e,onClick:he(t.onClick,()=>i.onOpenChange(!1))})});m9.displayName=p9;function Dk(t){return t?"open":"closed"}var g9="DialogTitleWarning",[oVe,y9]=CQ(g9,{contentName:Rc,titleName:Lk,docsSlug:"dialog"}),yve=({titleId:t})=>{const e=y9(g9),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},vve="DialogDescriptionWarning",xve=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${y9(vve).contentName}}.`;return S.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},bve=i9,wve=o9,v9=l9,x9=c9,b9=d9,w9=h9,_ve=m9;const Ni=bve,Sve=wve,_9=S.forwardRef(({className:t,...e},n)=>u.jsx(v9,{ref:n,className:je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));_9.displayName=v9.displayName;const ii=S.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(Sve,{children:[u.jsx(_9,{}),u.jsxs(x9,{ref:r,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(_ve,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(qm,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ii.displayName=x9.displayName;const ai=({className:t,...e})=>u.jsx("div",{className:je("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ai.displayName="DialogHeader";const si=S.forwardRef(({className:t,...e},n)=>u.jsx(b9,{ref:n,className:je("text-lg font-semibold leading-none tracking-tight",t),...e}));si.displayName=b9.displayName;const S9=S.forwardRef(({className:t,...e},n)=>u.jsx(w9,{ref:n,className:je("text-sm text-muted-foreground",t),...e}));S9.displayName=w9.displayName;const us=S.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:je("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));us.displayName="Textarea";var Eve="Label",E9=S.forwardRef((t,e)=>u.jsx(Ne.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));E9.displayName=Eve;var j9=E9;const jve=Wm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),De=S.forwardRef(({className:t,...e},n)=>u.jsx(j9,{ref:n,className:je(jve(),t),...e}));De.displayName=j9.displayName;const oa=S.forwardRef(({label:t,id:e,type:n="text",placeholder:r,value:i,onChange:a,error:s,success:o,required:l,className:c},d)=>{const[f,h]=S.useState(!1),[p,m]=S.useState(!1);S.useEffect(()=>{m(i.length>0)},[i]);const g=b=>{a(b.target.value)},v=()=>s?u.jsx(hI,{className:"w-4 h-4 text-destructive"}):o&&p?u.jsx(ei,{className:"w-4 h-4 text-green-500"}):l&&!p?u.jsx(Dv,{className:"w-4 h-4 text-muted-foreground/50"}):null,y=je("peer w-full px-4 py-3 border rounded-lg transition-all duration-300","focus:ring-2 focus:ring-primary/20 focus:border-primary","placeholder-transparent",s?"border-destructive focus:border-destructive focus:ring-destructive/20":o&&p?"border-green-500 focus:border-green-500 focus:ring-green-500/20":"border-border hover:border-primary/50",c),x=je("absolute left-4 transition-all duration-300 pointer-events-none","text-muted-foreground",f||p?"-top-2 text-xs bg-background px-1 text-primary":"top-3 text-sm");return u.jsxs("div",{className:"relative space-y-1",children:[u.jsxs("div",{className:"relative",children:[n==="textarea"?u.jsx(us,{ref:d,id:e,placeholder:r,value:i,onChange:g,onFocus:()=>h(!0),onBlur:()=>h(!1),className:y,required:l,rows:4}):u.jsx(vt,{ref:d,id:e,type:n,placeholder:r,value:i,onChange:g,onFocus:()=>h(!0),onBlur:()=>h(!1),className:y,required:l}),u.jsxs(De,{htmlFor:e,className:x,children:[t," ",l&&u.jsx("span",{className:"text-destructive",children:"*"})]}),(s||o||l)&&u.jsx("div",{className:"absolute right-3 top-3 transition-all duration-300",children:v()})]}),s&&u.jsxs("p",{className:"text-sm text-destructive flex items-center gap-2 animate-fade-in",children:[u.jsx(hI,{className:"w-3 h-3"}),s]}),o&&p&&!s&&u.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-2 animate-fade-in",children:[u.jsx(ei,{className:"w-3 h-3"}),"Looks good!"]})]})});oa.displayName="FormField";const nl=S.forwardRef(({className:t,children:e,rippleColor:n="rgba(255, 255, 255, 0.6)",onClick:r,...i},a)=>{const[s,o]=S.useState([]),l=d=>{const h=d.currentTarget.getBoundingClientRect(),p=Math.max(h.width,h.height),m=d.clientX-h.left-p/2,g=d.clientY-h.top-p/2,v={id:Date.now(),x:m,y:g};o(y=>[...y,v]),setTimeout(()=>{o(y=>y.filter(x=>x.id!==v.id))},600)},c=d=>{l(d),r==null||r(d)};return u.jsxs(oe,{ref:a,className:je("relative overflow-hidden",t),onClick:c,...i,children:[e,s.map(d=>u.jsx("span",{className:"absolute rounded-full animate-ripple pointer-events-none",style:{left:d.x,top:d.y,width:"100px",height:"100px",backgroundColor:n,transform:"scale(0)",animation:"ripple 0.6s linear"}},d.id))]})});nl.displayName="RippleButton";const d0=({children:t,className:e,direction:n="up",delay:r=0,threshold:i=.1})=>{const[a,s]=S.useState(!1),o=S.useRef(null);S.useEffect(()=>{const c=new IntersectionObserver(([d])=>{d.isIntersecting&&setTimeout(()=>s(!0),r)},{threshold:i});return o.current&&c.observe(o.current),()=>c.disconnect()},[r,i]);const l={up:"translate-y-8",down:"-translate-y-8",left:"translate-x-8",right:"-translate-x-8"};return u.jsx("div",{ref:o,className:je("transition-all duration-700 ease-out",a?"opacity-100 translate-x-0 translate-y-0":`opacity-0 ${l[n]}`,e),children:t})},ur=({children:t,className:e,delay:n=0})=>u.jsx(d0,{direction:"up",delay:n,className:e,children:t});var Ave="Separator",Z$="horizontal",Cve=["horizontal","vertical"],A9=S.forwardRef((t,e)=>{const{decorative:n,orientation:r=Z$,...i}=t,a=Tve(r)?r:Z$,o=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return u.jsx(Ne.div,{"data-orientation":a,...o,...i,ref:e})});A9.displayName=Ave;function Tve(t){return Cve.includes(t)}var C9=A9;const Fk=S.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>u.jsx(C9,{ref:i,decorative:n,orientation:e,className:je("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Fk.displayName=C9.displayName;const kve=({open:t,onOpenChange:e,defaultMode:n="signin"})=>{const[r,i]=S.useState(n);S.useState(!1);const[a,s]=S.useState(!1),[o,l]=S.useState({}),[c,d]=S.useState({}),{toast:f}=Mt(),{signIn:h,signUp:p,signInWithGoogle:m}=zn(),[g,v]=S.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),y=(T,O)=>{const P={...o},H={...c};switch(T){case"firstName":case"lastName":{r==="signup"&&(O.trim()?O.trim().length<2?(P[T]=`${T==="firstName"?"First":"Last"} name must be at least 2 characters`,H[T]=!1):(delete P[T],H[T]=!0):(P[T]=`${T==="firstName"?"First":"Last"} name is required`,H[T]=!1));break}case"email":{const R=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;O.trim()?R.test(O)?(delete P.email,H.email=!0):(P.email="Please enter a valid email address",H.email=!1):(P.email="Email is required",H.email=!1);break}case"password":{r!=="forgot"&&(O?O.length<8?(P.password="Password must be at least 8 characters",H.password=!1):/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(O)?(delete P.password,H.password=!0):(P.password="Password must contain uppercase, lowercase, and number",H.password=!1):(P.password="Password is required",H.password=!1));break}case"confirmPassword":{r==="signup"&&(O?O!==g.password?(P.confirmPassword="Passwords do not match",H.confirmPassword=!1):(delete P.confirmPassword,H.confirmPassword=!0):(P.confirmPassword="Please confirm your password",H.confirmPassword=!1));break}}return l(P),d(H),!P[T]},x=(T,O)=>{v(P=>({...P,[T]:O})),(O.trim()||T==="confirmPassword")&&y(T,O)},b=()=>{let T=!0;return r==="signup"&&(T=y("firstName",g.firstName)&&T,T=y("lastName",g.lastName)&&T,T=y("confirmPassword",g.confirmPassword)&&T),r!=="forgot"&&(T=y("password",g.password)&&T),T=y("email",g.email)&&T,T},_=async T=>{if(T.preventDefault(),!b()){f({title:"Please fix the errors above",variant:"destructive"});return}s(!0);try{if(r==="signup"){const O=`${g.firstName} ${g.lastName}`.trim();await p(g.email,g.password,O),e(!1)}else r==="signin"?(await h(g.email,g.password),e(!1)):r==="forgot"&&(f({title:"Password reset sent!",description:"Check your email for reset instructions."}),i("signin"))}catch(O){console.error("Auth error:",O),f({title:"Authentication failed",description:O.message||"Please try again",variant:"destructive"})}finally{s(!1)}},w=async()=>{try{s(!0),await m(),e(!1)}catch(T){console.error("Google sign in error:",T),f({title:"Google sign in failed",description:T.message||"Please try again",variant:"destructive"})}finally{s(!1)}},E=()=>{v({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),l({}),d({})},A=T=>{i(T),E()},j=()=>{switch(r){case"signup":return"Create Account";case"forgot":return"Reset Password";default:return"Welcome Back"}},C=()=>{switch(r){case"signup":return"Join AdmitConnect AI and transform your admissions process";case"forgot":return"Enter your email to receive a password reset link";default:return"Sign in to access your AdmitConnect AI dashboard"}};return u.jsx(Ni,{open:t,onOpenChange:e,children:u.jsxs(ii,{className:"max-w-md bg-card/95 backdrop-blur-sm border-border/50",children:[u.jsxs(ai,{children:[u.jsx("div",{className:"w-16 h-16 bg-ai-gradient rounded-2xl flex items-center justify-center mx-auto mb-4 animate-bounce-in",children:u.jsx(Mi,{className:"w-8 h-8 text-white"})}),u.jsx(si,{className:"text-2xl font-bold text-center",children:j()}),u.jsx(S9,{className:"text-center text-muted-foreground",children:C()})]}),u.jsxs(d0,{direction:"up",className:"space-y-6",children:[u.jsxs("form",{onSubmit:_,className:"space-y-4",children:[r==="signup"&&u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(oa,{label:"First Name",id:"firstName",type:"text",value:g.firstName,onChange:T=>x("firstName",T),placeholder:"John",error:o.firstName,success:c.firstName,required:!0}),u.jsx(oa,{label:"Last Name",id:"lastName",type:"text",value:g.lastName,onChange:T=>x("lastName",T),placeholder:"Doe",error:o.lastName,success:c.lastName,required:!0})]}),u.jsx(oa,{label:"Email Address",id:"email",type:"email",value:g.email,onChange:T=>x("email",T),placeholder:"john@college.edu",error:o.email,success:c.email,required:!0}),r!=="forgot"&&u.jsx(oa,{label:"Password",id:"password",type:"password",value:g.password,onChange:T=>x("password",T),placeholder:"",error:o.password,success:c.password,required:!0}),r==="signup"&&u.jsx(oa,{label:"Confirm Password",id:"confirmPassword",type:"password",value:g.confirmPassword,onChange:T=>x("confirmPassword",T),placeholder:"",error:o.confirmPassword,success:c.confirmPassword,required:!0}),u.jsx(nl,{type:"submit",variant:"hero",size:"lg",className:"w-full mt-6",disabled:a,children:a?u.jsxs(u.Fragment,{children:[u.jsx(Yc,{size:"sm",className:"mr-2"}),r==="signup"?"Creating Account...":r==="forgot"?"Sending Reset...":"Signing In..."]}):r==="signup"?"Create Account":r==="forgot"?"Send Reset Link":"Sign In"})]}),r!=="forgot"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx(Fk,{className:"w-full"})}),u.jsx("div",{className:"relative flex justify-center text-xs",children:u.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),u.jsxs(nl,{variant:"outline",size:"lg",className:"w-full",onClick:w,disabled:a,rippleColor:"rgba(59, 130, 246, 0.3)",children:[u.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})]}),u.jsxs("div",{className:"space-y-2 text-center text-sm",children:[r==="signin"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>A("forgot"),className:"text-primary hover:underline block w-full",children:"Forgot your password?"}),u.jsx("button",{type:"button",onClick:()=>A("signup"),className:"text-muted-foreground hover:text-foreground hover:underline block w-full",children:"Don't have an account? Sign up"})]}),r==="signup"&&u.jsx("button",{type:"button",onClick:()=>A("signin"),className:"text-muted-foreground hover:text-foreground hover:underline block w-full",children:"Already have an account? Sign in"}),r==="forgot"&&u.jsx("button",{type:"button",onClick:()=>A("signin"),className:"text-muted-foreground hover:text-foreground hover:underline block w-full",children:"Back to sign in"})]}),r==="signup"&&u.jsxs("div",{className:"text-xs text-muted-foreground text-center space-y-1",children:[u.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[u.jsx(Dv,{className:"w-3 h-3"}),u.jsx("span",{children:"Password requirements:"})]}),u.jsxs("ul",{className:"space-y-1",children:[u.jsx("li",{children:" At least 8 characters long"}),u.jsx("li",{children:" Contains uppercase and lowercase letters"}),u.jsx("li",{children:" Contains at least one number"})]})]})]})]})})},Bk=({onContactClick:t,onScheduleClick:e})=>{const[n,r]=S.useState(!1),[i,a]=S.useState(!1),[s,o]=S.useState("signin"),l=pi(),{user:c,signOut:d}=zn(),f=()=>{o("signin"),a(!0)},h=()=>{o("signup"),a(!0)},p=async()=>{try{await d(),l("/")}catch(m){console.error("Sign out error:",m)}};return u.jsxs("nav",{id:"navigation",className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border/50",role:"navigation","aria-label":"Main navigation",children:[u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer logo-hover",onClick:()=>l("/"),children:[u.jsx("div",{className:"w-10 h-10 bg-ai-gradient rounded-lg flex items-center justify-center",children:u.jsx(Mi,{className:"w-6 h-6 text-white"})}),u.jsx("span",{className:"text-xl font-bold bg-ai-gradient bg-clip-text text-transparent logo-colorful",children:"AdmitConnect AI"})]}),u.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[u.jsx("button",{onClick:()=>{var m;window.location.pathname!=="/"?(l("/"),setTimeout(()=>{var g;(g=document.getElementById("features"))==null||g.scrollIntoView({behavior:"smooth"})},100)):(m=document.getElementById("features"))==null||m.scrollIntoView({behavior:"smooth"})},className:"text-muted-foreground hover:text-foreground transition-colors",children:"Features"}),u.jsx("button",{onClick:()=>{var m;window.location.pathname!=="/"?(l("/"),setTimeout(()=>{var g;(g=document.getElementById("pricing"))==null||g.scrollIntoView({behavior:"smooth"})},100)):(m=document.getElementById("pricing"))==null||m.scrollIntoView({behavior:"smooth"})},className:"text-muted-foreground hover:text-foreground transition-colors",children:"Pricing"}),u.jsx("button",{onClick:()=>l("/about"),className:"text-muted-foreground hover:text-foreground transition-colors",children:"About"}),u.jsx("button",{onClick:()=>l("/our-services"),className:"text-muted-foreground hover:text-foreground transition-colors",children:"Services"}),c?u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(oe,{variant:"outline",onClick:()=>l("/dashboard"),className:"hover-lift",children:"Dashboard"}),u.jsx(oe,{variant:"ghost",onClick:p,className:"hover-lift",children:"Sign Out"})]}):u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(oe,{variant:"outline",onClick:f,className:"hover-lift",children:"Sign In"}),u.jsx(oe,{variant:"hero",onClick:h,className:"hover-lift",children:"Get Started"})]})]}),u.jsx("div",{className:"md:hidden",children:u.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>r(!n),children:n?u.jsx(qm,{className:"w-5 h-5"}):u.jsx(jee,{className:"w-5 h-5"})})})]}),n&&u.jsx("div",{className:"md:hidden pb-4 border-t border-border/50 mt-2",children:u.jsxs("div",{className:"flex flex-col space-y-3 pt-4",children:[u.jsx("button",{onClick:()=>{var m;(m=document.getElementById("features"))==null||m.scrollIntoView({behavior:"smooth"}),r(!1)},className:"text-muted-foreground hover:text-foreground transition-colors text-left",children:"Features"}),u.jsx("button",{onClick:()=>{var m;(m=document.getElementById("pricing"))==null||m.scrollIntoView({behavior:"smooth"}),r(!1)},className:"text-muted-foreground hover:text-foreground transition-colors text-left",children:"Pricing"}),u.jsx("button",{onClick:()=>{l("/about"),r(!1)},className:"text-muted-foreground hover:text-foreground transition-colors text-left",children:"About"}),u.jsx("button",{onClick:()=>{l("/our-services"),r(!1)},className:"text-muted-foreground hover:text-foreground transition-colors text-left",children:"Services"}),u.jsx("div",{className:"flex flex-col space-y-2 pt-2",children:c?u.jsxs(u.Fragment,{children:[u.jsx(oe,{variant:"outline",onClick:()=>{l("/dashboard"),r(!1)},className:"w-full justify-center",children:"Dashboard"}),u.jsx(oe,{variant:"ghost",onClick:()=>{p(),r(!1)},className:"w-full justify-center",children:"Sign Out"})]}):u.jsxs(u.Fragment,{children:[u.jsx(oe,{variant:"outline",onClick:()=>{f(),r(!1)},className:"w-full justify-center",children:"Sign In"}),u.jsx(oe,{variant:"hero",onClick:()=>{h(),r(!1)},className:"w-full justify-center",children:"Get Started"})]})})]})})]}),u.jsx(kve,{open:i,onOpenChange:a,defaultMode:s})]})},T9=()=>u.jsx("footer",{className:"bg-card/50 border-t border-border/50 py-12",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-10 h-10 bg-ai-gradient rounded-lg flex items-center justify-center",children:u.jsx(Mi,{className:"w-6 h-6 text-white"})}),u.jsx("span",{className:"text-xl font-bold bg-ai-gradient bg-clip-text text-transparent",children:"AdmitConnect AI"})]}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"Revolutionizing college admissions through AI-powered automation and intelligent campaign management."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"font-semibold text-lg",children:"Quick Links"}),u.jsxs("div",{className:"flex flex-col space-y-2",children:[u.jsx("a",{href:"/",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Home"}),u.jsx("a",{href:"/about",className:"text-muted-foreground hover:text-foreground transition-colors",children:"About"}),u.jsx("a",{href:"/our-services",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Services"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"font-semibold text-lg",children:"Get in Touch"}),u.jsxs("div",{className:"flex flex-col space-y-3",children:[u.jsxs("a",{href:"https://mail.google.com/mail/?view=cm&fs=1&to=admitconnectAI@gmail.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-muted-foreground hover:text-foreground transition-colors group",children:[u.jsx(ti,{className:"w-5 h-5 group-hover:text-primary transition-colors"}),u.jsx("span",{className:"text-sm",children:"admitconnectAI@gmail.com"})]}),u.jsxs("a",{href:"https://wa.me/918439663198",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-muted-foreground hover:text-foreground transition-colors group",children:[u.jsx(Bv,{className:"w-5 h-5 group-hover:text-primary transition-colors"}),u.jsx("span",{className:"text-sm",children:"+91 8439663198"})]})]}),u.jsxs("div",{className:"flex space-x-3 pt-2",children:[u.jsx(oe,{size:"sm",variant:"outline",asChild:!0,className:"hover-lift",children:u.jsxs("a",{href:"https://mail.google.com/mail/?view=cm&fs=1&to=admitconnectAI@gmail.com",target:"_blank",rel:"noopener noreferrer",children:[u.jsx(ti,{className:"w-4 h-4 mr-2"}),"Email Us"]})}),u.jsx(oe,{size:"sm",variant:"hero",asChild:!0,className:"hover-lift",children:u.jsxs("a",{href:"https://wa.me/918439663198",target:"_blank",rel:"noopener noreferrer",children:[u.jsx(Bv,{className:"w-4 h-4 mr-2"}),"WhatsApp"]})})]})]})]}),u.jsx("div",{className:"mt-12 pt-8 border-t border-border/50 text-center",children:u.jsxs("p",{className:"text-muted-foreground text-sm",children:[" ",new Date().getFullYear()," AdmitConnect AI. All rights reserved."]})})]})}),Ove=({onWatchDemoClick:t,onScheduleDemoClick:e})=>{const n=pi(),{user:r}=zn(),i=()=>{n(r?"/dashboard":"/auth")},a=[{icon:Di,title:"AI Voice Calls",description:"Natural, human-like voice conversations with candidates"},{icon:$r,title:"WhatsApp Automation",description:"Personalized messages with delivery tracking"},{icon:ul,title:"Analytics Dashboard",description:"Real-time campaign performance and insights"},{icon:pB,title:"Enterprise Security",description:"Bank-level security with IP monitoring"},{icon:Rr,title:"Lightning Fast",description:"Process thousands of candidates in minutes"},{icon:Mi,title:"AI-Powered",description:"Advanced AI handles conversations automatically"}];return u.jsxs("div",{className:"min-h-screen pt-16 hero-black hero-rainbow-hover",children:[u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:u.jsxs("div",{className:"text-center space-y-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-primary/10 border border-primary/20 mb-4",children:[u.jsx(nd,{className:"w-4 h-4 mr-2 text-primary"}),u.jsx("span",{className:"text-sm text-primary font-medium",children:"AI-Powered Admission Automation"})]}),u.jsxs("h1",{className:"text-4xl sm:text-6xl lg:text-7xl font-bold leading-tight",children:[u.jsx("span",{className:"block text-foreground",children:"Revolutionize"}),u.jsx("span",{className:"block bg-ai-gradient bg-clip-text text-transparent logo-colorful",children:"College Admissions"}),u.jsx("span",{className:"block text-foreground",children:"with AI"})]}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"Automate voice calls, WhatsApp messaging, and candidate outreach with our intelligent AI system. Increase enrollment rates by 300% while reducing manual work by 90%."})]}),u.jsx(ur,{delay:300,children:u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[u.jsxs(nl,{variant:"hero",size:"lg",onClick:i,className:"px-8 py-4 text-lg hover-lift animate-bounce-in",children:["Start Free Trial",u.jsx(Od,{className:"w-5 h-5 ml-2"})]}),u.jsx(nl,{variant:"outline",size:"lg",onClick:t,className:"px-8 py-4 text-lg hover-lift",rippleColor:"rgba(59, 130, 246, 0.5)",children:"Watch Demo"})]})}),u.jsx(d0,{direction:"up",delay:500,children:u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-8 mt-16 pt-16 border-t border-border/50",children:[u.jsx(ur,{delay:100,children:u.jsxs("div",{className:"text-center hover:scale-105 transition-transform duration-300",children:[u.jsx("div",{className:"text-3xl sm:text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent logo-colorful animate-text-focus",children:"10,000+"}),u.jsx("p",{className:"text-muted-foreground mt-2",children:"Students Contacted Daily"})]})}),u.jsx(ur,{delay:200,children:u.jsxs("div",{className:"text-center hover:scale-105 transition-transform duration-300",children:[u.jsx("div",{className:"text-3xl sm:text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent logo-colorful animate-text-focus",children:"300%"}),u.jsx("p",{className:"text-muted-foreground mt-2",children:"Increase in Enrollment"})]})}),u.jsx(ur,{delay:300,children:u.jsxs("div",{className:"text-center hover:scale-105 transition-transform duration-300",children:[u.jsx("div",{className:"text-3xl sm:text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent logo-colorful animate-text-focus",children:"90%"}),u.jsx("p",{className:"text-muted-foreground mt-2",children:"Reduction in Manual Work"})]})})]})})]})}),u.jsx("div",{className:"py-20 bg-ai-gradient-subtle",id:"features",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center space-y-4 mb-16",children:[u.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-foreground",children:"Powerful Features for Modern Admissions"}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Everything you need to transform your admission process and connect with students effectively"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map((s,o)=>{const l=s.icon;return u.jsx(d0,{direction:"up",delay:o*100,className:"group h-full",children:u.jsx(ee,{className:"relative p-6 bg-card/50 backdrop-blur-sm border-border/50 hover-lift glow-border shine-effect h-full flex flex-col overflow-hidden transition-all duration-500 before:absolute before:inset-0 before:bg-ai-gradient-glow before:opacity-0 before:transition-opacity before:duration-500 hover:before:opacity-100 hover:shadow-glow",children:u.jsxs("div",{className:"space-y-4 flex-1 flex flex-col relative z-10",children:[u.jsxs("div",{className:"relative w-14 h-14 bg-ai-gradient-shine rounded-xl flex items-center justify-center group-hover:rotate-12 group-hover:scale-110 transition-all duration-500 shadow-glow",children:[u.jsx("div",{className:"absolute inset-0 bg-ai-gradient-shine rounded-xl opacity-0 group-hover:opacity-100 blur-xl transition-opacity duration-500"}),u.jsx(l,{className:"w-7 h-7 text-white relative z-10 group-hover:drop-shadow-[0_0_8px_rgba(255,255,255,0.8)] transition-all duration-500"})]}),u.jsx("h3",{className:"text-xl font-semibold text-card-foreground group-hover:text-primary-glow transition-colors duration-300 group-hover:drop-shadow-[0_0_12px_rgba(59,130,246,0.6)]",children:s.title}),u.jsx("p",{className:"text-muted-foreground flex-1 group-hover:text-foreground/90 transition-colors duration-300",children:s.description})]})})},o)})}),u.jsx(ur,{delay:400,children:u.jsx("div",{className:"text-center mt-16",children:u.jsxs(nl,{variant:"hero",size:"lg",onClick:e,className:"hover-lift pulse",children:["Schedule Demo",u.jsx(Od,{className:"w-5 h-5 ml-2"})]})})})]})})]})},Nve=({onContactClick:t,onScheduleClick:e})=>{pi();const n=[{name:"Starter",price:"$29",period:"/month",description:"Perfect for small colleges and testing",icon:mT,features:["500 voice calls/month","1,000 WhatsApp messages","Basic analytics dashboard","Email support","2 campaign templates","CSV upload"],buttonVariant:"outline",popular:!1},{name:"Professional",price:"$99",period:"/month",description:"For growing institutions",icon:Aee,features:["2,500 voice calls/month","5,000 WhatsApp messages","Advanced analytics & reports","Priority support","Unlimited campaign templates","CSV & Excel upload","Custom voice training","A/B testing"],buttonVariant:"hero",popular:!0},{name:"Enterprise",price:"$299",period:"/month",description:"For large institutions and universities",icon:fB,features:["10,000+ voice calls/month","20,000+ WhatsApp messages","Custom analytics dashboard","24/7 phone support","White-label solution","API access","Dedicated account manager","Custom integrations","Multi-language support"],buttonVariant:"premium",popular:!1}];return u.jsx("div",{className:"py-20 bg-background",id:"pricing",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center space-y-4 mb-16",children:[u.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-foreground",children:"Choose Your Perfect Plan"}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Scale your admission automation with transparent pricing that grows with your institution"})]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:n.map((r,i)=>{const a=r.icon;return u.jsxs(ee,{className:`relative p-8 bg-card/50 backdrop-blur-sm border-border/50 hover-lift ${r.popular?"popular-glow glow-border":""}`,children:[r.popular&&u.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:u.jsx("div",{className:"bg-ai-gradient text-white px-4 py-1 rounded-full text-sm font-medium",children:"Most Popular"})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("div",{className:"w-12 h-12 bg-ai-gradient rounded-lg flex items-center justify-center mx-auto",children:u.jsx(a,{className:"w-6 h-6 text-white"})}),u.jsx("h3",{className:"text-2xl font-bold text-card-foreground",children:r.name}),u.jsx("p",{className:"text-muted-foreground",children:r.description})]}),u.jsx("div",{className:"text-center",children:u.jsxs("div",{className:"flex items-baseline justify-center",children:[u.jsx("span",{className:"text-5xl font-bold bg-ai-gradient bg-clip-text text-transparent logo-colorful",children:r.price}),u.jsx("span",{className:"text-muted-foreground ml-1",children:r.period})]})}),u.jsx("div",{className:"space-y-3",children:r.features.map((s,o)=>u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(Ux,{className:"w-5 h-5 text-primary flex-shrink-0"}),u.jsx("span",{className:"text-card-foreground",children:s})]},o))}),u.jsxs(oe,{variant:r.buttonVariant,size:"lg",onClick:()=>window.open("https://rzp.io/rzp/DOVfKeU","_blank"),className:"w-full hover-lift",children:["Get Started with ",r.name]})]})]},i)})}),u.jsxs("div",{className:"text-center mt-16 p-8 bg-card/30 rounded-2xl border border-border/50",children:[u.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:"Need a Custom Solution?"}),u.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:"For enterprises with specific requirements, we offer custom solutions with dedicated support, advanced integrations, and tailored features."}),u.jsx(oe,{variant:"outline",size:"lg",onClick:t,className:"hover-lift",children:"Contact Sales Team"})]})]})})};function zk(t){const e=S.useRef({value:t,previous:t});return S.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Pve=[" ","Enter","ArrowUp","ArrowDown"],Ive=[" ","Enter"],ug="Select",[Pb,Ib,$ve]=Fx(ug),[If,lVe]=Sa(ug,[$ve,jf]),$b=jf(),[Rve,Pl]=If(ug),[Mve,Lve]=If(ug),k9=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:s,defaultValue:o,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:p,form:m}=t,g=$b(e),[v,y]=S.useState(null),[x,b]=S.useState(null),[_,w]=S.useState(!1),E=cg(c),[A=!1,j]=as({prop:r,defaultProp:i,onChange:a}),[C,T]=as({prop:s,defaultProp:o,onChange:l}),O=S.useRef(null),P=v?m||!!v.closest("form"):!0,[H,R]=S.useState(new Set),B=Array.from(H).map(U=>U.props.value).join(";");return u.jsx(CT,{...g,children:u.jsxs(Rve,{required:p,scope:e,trigger:v,onTriggerChange:y,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:w,contentId:pa(),value:C,onValueChange:T,open:A,onOpenChange:j,dir:E,triggerPointerDownPosRef:O,disabled:h,children:[u.jsx(Pb.Provider,{scope:e,children:u.jsx(Mve,{scope:t.__scopeSelect,onNativeOptionAdd:S.useCallback(U=>{R(W=>new Set(W).add(U))},[]),onNativeOptionRemove:S.useCallback(U=>{R(W=>{const M=new Set(W);return M.delete(U),M})},[]),children:n})}),P?u.jsxs(eH,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:U=>T(U.target.value),disabled:h,form:m,children:[C===void 0?u.jsx("option",{value:""}):null,Array.from(H)]},B):null]})})};k9.displayName=ug;var O9="SelectTrigger",N9=S.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=$b(n),s=Pl(O9,n),o=s.disabled||r,l=rt(e,s.onTriggerChange),c=Ib(n),d=S.useRef("touch"),[f,h,p]=tH(g=>{const v=c().filter(b=>!b.disabled),y=v.find(b=>b.value===s.value),x=nH(v,g,y);x!==void 0&&s.onValueChange(x.value)}),m=g=>{o||(s.onOpenChange(!0),p()),g&&(s.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return u.jsx(TT,{asChild:!0,...a,children:u.jsx(Ne.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":Q9(s.value)?"":void 0,...i,ref:l,onClick:he(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&m(g)}),onPointerDown:he(i.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(m(g),g.preventDefault())}),onKeyDown:he(i.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(v&&g.key===" ")&&Pve.includes(g.key)&&(m(),g.preventDefault())})})})});N9.displayName=O9;var P9="SelectValue",I9=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:s="",...o}=t,l=Pl(P9,n),{onValueNodeHasChildrenChange:c}=l,d=a!==void 0,f=rt(e,l.onValueNodeChange);return jn(()=>{c(d)},[c,d]),u.jsx(Ne.span,{...o,ref:f,style:{pointerEvents:"none"},children:Q9(l.value)?u.jsx(u.Fragment,{children:s}):a})});I9.displayName=P9;var Dve="SelectIcon",$9=S.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return u.jsx(Ne.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});$9.displayName=Dve;var Fve="SelectPortal",R9=t=>u.jsx(Um,{asChild:!0,...t});R9.displayName=Fve;var Mc="SelectContent",M9=S.forwardRef((t,e)=>{const n=Pl(Mc,t.__scopeSelect),[r,i]=S.useState();if(jn(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Wc.createPortal(u.jsx(L9,{scope:t.__scopeSelect,children:u.jsx(Pb.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),a):null}return u.jsx(D9,{...t,ref:e})});M9.displayName=Mc;var Zi=10,[L9,Il]=If(Mc),Bve="SelectContentImpl",D9=S.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:v,...y}=t,x=Pl(Mc,n),[b,_]=S.useState(null),[w,E]=S.useState(null),A=rt(e,k=>_(k)),[j,C]=S.useState(null),[T,O]=S.useState(null),P=Ib(n),[H,R]=S.useState(!1),B=S.useRef(!1);S.useEffect(()=>{if(b)return $k(b)},[b]),Ik();const U=S.useCallback(k=>{const[K,...F]=P().map(Y=>Y.ref.current),[Z]=F.slice(-1),J=document.activeElement;for(const Y of k)if(Y===J||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===K&&w&&(w.scrollTop=0),Y===Z&&w&&(w.scrollTop=w.scrollHeight),Y==null||Y.focus(),document.activeElement!==J))return},[P,w]),W=S.useCallback(()=>U([j,b]),[U,j,b]);S.useEffect(()=>{H&&W()},[H,W]);const{onOpenChange:M,triggerPointerDownPosRef:D}=x;S.useEffect(()=>{if(b){let k={x:0,y:0};const K=Z=>{var J,Y;k={x:Math.abs(Math.round(Z.pageX)-(((J=D.current)==null?void 0:J.x)??0)),y:Math.abs(Math.round(Z.pageY)-(((Y=D.current)==null?void 0:Y.y)??0))}},F=Z=>{k.x<=10&&k.y<=10?Z.preventDefault():b.contains(Z.target)||M(!1),document.removeEventListener("pointermove",K),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",K),document.addEventListener("pointerup",F,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",F,{capture:!0})}}},[b,M,D]),S.useEffect(()=>{const k=()=>M(!1);return window.addEventListener("blur",k),window.addEventListener("resize",k),()=>{window.removeEventListener("blur",k),window.removeEventListener("resize",k)}},[M]);const[N,V]=tH(k=>{const K=P().filter(J=>!J.disabled),F=K.find(J=>J.ref.current===document.activeElement),Z=nH(K,k,F);Z&&setTimeout(()=>Z.ref.current.focus())}),G=S.useCallback((k,K,F)=>{const Z=!B.current&&!F;(x.value!==void 0&&x.value===K||Z)&&(C(k),Z&&(B.current=!0))},[x.value]),$=S.useCallback(()=>b==null?void 0:b.focus(),[b]),te=S.useCallback((k,K,F)=>{const Z=!B.current&&!F;(x.value!==void 0&&x.value===K||Z)&&O(k)},[x.value]),ae=r==="popper"?fj:F9,I=ae===fj?{side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:v}:{};return u.jsx(L9,{scope:n,content:b,viewport:w,onViewportChange:E,itemRefCallback:G,selectedItem:j,onItemLeave:$,itemTextRefCallback:te,focusSelectedItem:W,selectedItemText:T,position:r,isPositioned:H,searchRef:N,children:u.jsx(Nb,{as:cl,allowPinchZoom:!0,children:u.jsx(kb,{asChild:!0,trapped:x.open,onMountAutoFocus:k=>{k.preventDefault()},onUnmountAutoFocus:he(i,k=>{var K;(K=x.trigger)==null||K.focus({preventScroll:!0}),k.preventDefault()}),children:u.jsx(wf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:k=>k.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:u.jsx(ae,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:k=>k.preventDefault(),...y,...I,onPlaced:()=>R(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:he(y.onKeyDown,k=>{const K=k.ctrlKey||k.altKey||k.metaKey;if(k.key==="Tab"&&k.preventDefault(),!K&&k.key.length===1&&V(k.key),["ArrowUp","ArrowDown","Home","End"].includes(k.key)){let Z=P().filter(J=>!J.disabled).map(J=>J.ref.current);if(["ArrowUp","End"].includes(k.key)&&(Z=Z.slice().reverse()),["ArrowUp","ArrowDown"].includes(k.key)){const J=k.target,Y=Z.indexOf(J);Z=Z.slice(Y+1)}setTimeout(()=>U(Z)),k.preventDefault()}})})})})})})});D9.displayName=Bve;var zve="SelectItemAlignedPosition",F9=S.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=Pl(Mc,n),s=Il(Mc,n),[o,l]=S.useState(null),[c,d]=S.useState(null),f=rt(e,A=>d(A)),h=Ib(n),p=S.useRef(!1),m=S.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:y,focusSelectedItem:x}=s,b=S.useCallback(()=>{if(a.trigger&&a.valueNode&&o&&c&&g&&v&&y){const A=a.trigger.getBoundingClientRect(),j=c.getBoundingClientRect(),C=a.valueNode.getBoundingClientRect(),T=y.getBoundingClientRect();if(a.dir!=="rtl"){const J=T.left-j.left,Y=C.left-J,ge=A.left-Y,ce=A.width+ge,ye=Math.max(ce,j.width),se=window.innerWidth-Zi,Re=uj(Y,[Zi,Math.max(Zi,se-ye)]);o.style.minWidth=ce+"px",o.style.left=Re+"px"}else{const J=j.right-T.right,Y=window.innerWidth-C.right-J,ge=window.innerWidth-A.right-Y,ce=A.width+ge,ye=Math.max(ce,j.width),se=window.innerWidth-Zi,Re=uj(Y,[Zi,Math.max(Zi,se-ye)]);o.style.minWidth=ce+"px",o.style.right=Re+"px"}const O=h(),P=window.innerHeight-Zi*2,H=g.scrollHeight,R=window.getComputedStyle(c),B=parseInt(R.borderTopWidth,10),U=parseInt(R.paddingTop,10),W=parseInt(R.borderBottomWidth,10),M=parseInt(R.paddingBottom,10),D=B+U+H+M+W,N=Math.min(v.offsetHeight*5,D),V=window.getComputedStyle(g),G=parseInt(V.paddingTop,10),$=parseInt(V.paddingBottom,10),te=A.top+A.height/2-Zi,ae=P-te,I=v.offsetHeight/2,k=v.offsetTop+I,K=B+U+k,F=D-K;if(K<=te){const J=O.length>0&&v===O[O.length-1].ref.current;o.style.bottom="0px";const Y=c.clientHeight-g.offsetTop-g.offsetHeight,ge=Math.max(ae,I+(J?$:0)+Y+W),ce=K+ge;o.style.height=ce+"px"}else{const J=O.length>0&&v===O[0].ref.current;o.style.top="0px";const ge=Math.max(te,B+g.offsetTop+(J?G:0)+I)+F;o.style.height=ge+"px",g.scrollTop=K-te+g.offsetTop}o.style.margin=`${Zi}px 0`,o.style.minHeight=N+"px",o.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,o,c,g,v,y,a.dir,r]);jn(()=>b(),[b]);const[_,w]=S.useState();jn(()=>{c&&w(window.getComputedStyle(c).zIndex)},[c]);const E=S.useCallback(A=>{A&&m.current===!0&&(b(),x==null||x(),m.current=!1)},[b,x]);return u.jsx(Hve,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:E,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:u.jsx(Ne.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});F9.displayName=zve;var Uve="SelectPopperPosition",fj=S.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Zi,...a}=t,s=$b(n);return u.jsx(kT,{...s,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});fj.displayName=Uve;var[Hve,Uk]=If(Mc,{}),hj="SelectViewport",B9=S.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=Il(hj,n),s=Uk(hj,n),o=rt(e,a.onViewportChange),l=S.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(Pb.Slot,{scope:n,children:u.jsx(Ne.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:he(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=s;if(h!=null&&h.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const m=window.innerHeight-Zi*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),y=Math.max(g,v);if(y<m){const x=y+p,b=Math.min(m,x),_=x-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});B9.displayName=hj;var z9="SelectGroup",[Wve,Vve]=If(z9),qve=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=pa();return u.jsx(Wve,{scope:n,id:i,children:u.jsx(Ne.div,{role:"group","aria-labelledby":i,...r,ref:e})})});qve.displayName=z9;var U9="SelectLabel",H9=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Vve(U9,n);return u.jsx(Ne.div,{id:i.id,...r,ref:e})});H9.displayName=U9;var f0="SelectItem",[Gve,W9]=If(f0),V9=S.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...s}=t,o=Pl(f0,n),l=Il(f0,n),c=o.value===r,[d,f]=S.useState(a??""),[h,p]=S.useState(!1),m=rt(e,x=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,x,r,i)}),g=pa(),v=S.useRef("touch"),y=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(Gve,{scope:n,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:S.useCallback(x=>{f(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:u.jsx(Pb.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:u.jsx(Ne.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:m,onFocus:he(s.onFocus,()=>p(!0)),onBlur:he(s.onBlur,()=>p(!1)),onClick:he(s.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:he(s.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:he(s.onPointerDown,x=>{v.current=x.pointerType}),onPointerMove:he(s.onPointerMove,x=>{var b;v.current=x.pointerType,i?(b=l.onItemLeave)==null||b.call(l):v.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:he(s.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:he(s.onKeyDown,x=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(Ive.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});V9.displayName=f0;var $h="SelectItemText",q9=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,s=Pl($h,n),o=Il($h,n),l=W9($h,n),c=Lve($h,n),[d,f]=S.useState(null),h=rt(e,y=>f(y),l.onItemTextChange,y=>{var x;return(x=o.itemTextRefCallback)==null?void 0:x.call(o,y,l.value,l.disabled)}),p=d==null?void 0:d.textContent,m=S.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=c;return jn(()=>(g(m),()=>v(m)),[g,v,m]),u.jsxs(u.Fragment,{children:[u.jsx(Ne.span,{id:l.textId,...a,ref:h}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Wc.createPortal(a.children,s.valueNode):null]})});q9.displayName=$h;var G9="SelectItemIndicator",K9=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return W9(G9,n).isSelected?u.jsx(Ne.span,{"aria-hidden":!0,...r,ref:e}):null});K9.displayName=G9;var pj="SelectScrollUpButton",Y9=S.forwardRef((t,e)=>{const n=Il(pj,t.__scopeSelect),r=Uk(pj,t.__scopeSelect),[i,a]=S.useState(!1),s=rt(e,r.onScrollButtonChange);return jn(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=l.scrollTop>0;a(c)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?u.jsx(Z9,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});Y9.displayName=pj;var mj="SelectScrollDownButton",X9=S.forwardRef((t,e)=>{const n=Il(mj,t.__scopeSelect),r=Uk(mj,t.__scopeSelect),[i,a]=S.useState(!1),s=rt(e,r.onScrollButtonChange);return jn(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;a(d)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?u.jsx(Z9,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});X9.displayName=mj;var Z9=S.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=Il("SelectScrollButton",n),s=S.useRef(null),o=Ib(n),l=S.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return S.useEffect(()=>()=>l(),[l]),jn(()=>{var d;const c=o().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),u.jsx(Ne.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:he(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:he(i.onPointerMove,()=>{var c;(c=a.onItemLeave)==null||c.call(a),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:he(i.onPointerLeave,()=>{l()})})}),Kve="SelectSeparator",J9=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(Ne.div,{"aria-hidden":!0,...r,ref:e})});J9.displayName=Kve;var gj="SelectArrow",Yve=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=$b(n),a=Pl(gj,n),s=Il(gj,n);return a.open&&s.position==="popper"?u.jsx(OT,{...i,...r,ref:e}):null});Yve.displayName=gj;function Q9(t){return t===""||t===void 0}var eH=S.forwardRef((t,e)=>{const{value:n,...r}=t,i=S.useRef(null),a=rt(e,i),s=zk(n);return S.useEffect(()=>{const o=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&d){const f=new Event("change",{bubbles:!0});d.call(o,n),o.dispatchEvent(f)}},[s,n]),u.jsx(Hm,{asChild:!0,children:u.jsx("select",{...r,ref:a,defaultValue:n})})});eH.displayName="BubbleSelect";function tH(t){const e=Vt(t),n=S.useRef(""),r=S.useRef(0),i=S.useCallback(s=>{const o=n.current+s;e(o),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),a=S.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function nH(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let s=Xve(t,Math.max(a,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Xve(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Zve=k9,rH=N9,Jve=I9,Qve=$9,e0e=R9,iH=M9,t0e=B9,aH=H9,sH=V9,n0e=q9,r0e=K9,oH=Y9,lH=X9,cH=J9;const Ps=Zve,Is=Jve,Ga=S.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(rH,{ref:r,className:je("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(Qve,{asChild:!0,children:u.jsx(dB,{className:"h-4 w-4 opacity-50"})})]}));Ga.displayName=rH.displayName;const uH=S.forwardRef(({className:t,...e},n)=>u.jsx(oH,{ref:n,className:je("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(gee,{className:"h-4 w-4"})}));uH.displayName=oH.displayName;const dH=S.forwardRef(({className:t,...e},n)=>u.jsx(lH,{ref:n,className:je("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(dB,{className:"h-4 w-4"})}));dH.displayName=lH.displayName;const Ka=S.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>u.jsx(e0e,{children:u.jsxs(iH,{ref:i,className:je("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(uH,{}),u.jsx(t0e,{className:je("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(dH,{})]})}));Ka.displayName=iH.displayName;const i0e=S.forwardRef(({className:t,...e},n)=>u.jsx(aH,{ref:n,className:je("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));i0e.displayName=aH.displayName;const rn=S.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(sH,{ref:r,className:je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(r0e,{children:u.jsx(Ux,{className:"h-4 w-4"})})}),u.jsx(n0e,{children:e})]}));rn.displayName=sH.displayName;const a0e=S.forwardRef(({className:t,...e},n)=>u.jsx(cH,{ref:n,className:je("-mx-1 my-1 h-px bg-muted",t),...e}));a0e.displayName=cH.displayName;const Rb=({open:t,onOpenChange:e})=>{const[n,r]=S.useState(""),[i,a]=S.useState(""),[s,o]=S.useState(""),[l,c]=S.useState(""),[d,f]=S.useState(""),[h,p]=S.useState(""),[m,g]=S.useState(!1),{toast:v}=Mt(),y=["9:00 AM - 10:00 AM","10:00 AM - 11:00 AM","11:00 AM - 12:00 PM","2:00 PM - 3:00 PM","3:00 PM - 4:00 PM","4:00 PM - 5:00 PM"],x=async b=>{if(b.preventDefault(),!n||!i||!s||!d){v({title:"Please fill in all required fields",variant:"destructive"});return}g(!0);try{const{error:_}=await ze.from("demo_requests").insert([{name:n,email:i,company:s,role:l,preferred_time:d,message:h}]);if(_)throw _;v({title:"Demo scheduled successfully!",description:"We'll send you a calendar invite within the next hour. Check admitconnectAI@gmail.com"}),r(""),a(""),o(""),c(""),f(""),p(""),e(!1)}catch(_){console.error("Error scheduling demo:",_),v({title:"Failed to schedule demo",description:"Please try again or contact us directly.",variant:"destructive"})}finally{g(!1)}};return u.jsx(Ni,{open:t,onOpenChange:e,children:u.jsxs(ii,{className:"max-w-md",children:[u.jsx(ai,{children:u.jsxs(si,{className:"flex items-center space-x-2",children:[u.jsx(Rp,{className:"w-5 h-5"}),u.jsx("span",{children:"Schedule Your Demo"})]})}),u.jsxs("form",{onSubmit:x,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(De,{htmlFor:"name",children:"Full Name *"}),u.jsx(vt,{id:"name",value:n,onChange:b=>r(b.target.value),placeholder:"John Doe",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(De,{htmlFor:"email",children:"Email *"}),u.jsx(vt,{id:"email",type:"email",value:i,onChange:b=>a(b.target.value),placeholder:"john@university.edu",required:!0})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(De,{htmlFor:"company",children:"Institution/Company *"}),u.jsx(vt,{id:"company",value:s,onChange:b=>o(b.target.value),placeholder:"Harvard University",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(De,{htmlFor:"role",children:"Your Role"}),u.jsx(vt,{id:"role",value:l,onChange:b=>c(b.target.value),placeholder:"Admissions Director"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(De,{htmlFor:"timeSlot",children:"Preferred Time *"}),u.jsxs(Ps,{value:d,onValueChange:f,required:!0,children:[u.jsx(Ga,{children:u.jsx(Is,{placeholder:"Select a time slot"})}),u.jsx(Ka,{children:y.map(b=>u.jsx(rn,{value:b,children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(dl,{className:"w-4 h-4"}),u.jsx("span",{children:b})]})},b))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(De,{htmlFor:"message",children:"Additional Notes"}),u.jsx(us,{id:"message",value:h,onChange:b=>p(b.target.value),placeholder:"Tell us about your specific needs or questions...",rows:3})]}),u.jsx(oe,{type:"submit",variant:"hero",disabled:m,className:"w-full hover-lift",children:m?"Scheduling...":"Schedule Demo"})]}),u.jsx("div",{className:"text-xs text-muted-foreground text-center",children:"Our team will send you a calendar invite within 1 hour. All times are in EST."})]})})},s0e=({open:t,onOpenChange:e})=>{const[n,r]=S.useState(!1),i=[{title:"Getting Started with AdmitConnect AI",description:"Learn how to set up your first campaign in under 5 minutes",thumbnail:"https://img.youtube.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",duration:"4:32",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{title:"AI Voice Call Demo",description:"See our AI making real admission calls to prospective students",thumbnail:"https://img.youtube.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",duration:"3:15",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{title:"WhatsApp Automation Walkthrough",description:"Complete guide to WhatsApp campaign setup and management",thumbnail:"https://img.youtube.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",duration:"6:45",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"}],a=s=>{window.open(s,"_blank")};return u.jsxs(Ni,{open:t,onOpenChange:e,children:[u.jsxs(ii,{className:"max-w-4xl",children:[u.jsx(ai,{children:u.jsxs(si,{className:"flex items-center space-x-2",children:[u.jsx(Fs,{className:"w-5 h-5"}),u.jsx("span",{children:"Product Demos"})]})}),u.jsxs("div",{className:"space-y-6",children:[u.jsx(ee,{className:"p-6 bg-ai-gradient-subtle border-primary/20",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-6 items-center",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(mT,{className:"w-5 h-5 text-primary"}),u.jsx("span",{className:"text-sm font-medium text-primary",children:"Featured Demo"})]}),u.jsx("h3",{className:"text-2xl font-bold",children:"Complete Platform Overview"}),u.jsx("p",{className:"text-muted-foreground",children:"See how AdmitConnect AI transforms admission workflows with real-world examples and live demonstrations."}),u.jsx(oe,{variant:"hero",onClick:()=>r(!0),className:"hover-lift",children:"Schedule Live Demo"})]}),u.jsx("div",{className:"relative",children:u.jsx("div",{className:"aspect-video bg-card rounded-lg flex items-center justify-center border",children:u.jsx(Fs,{className:"w-16 h-16 text-primary"})})})]})}),u.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:i.map((s,o)=>u.jsx(ee,{className:"p-4 hover-lift cursor-pointer h-full flex flex-col",onClick:()=>a(s.url),children:u.jsxs("div",{className:"space-y-3 flex flex-col h-full",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"aspect-video bg-muted rounded-lg flex items-center justify-center",children:u.jsx(Fs,{className:"w-8 h-8 text-primary"})}),u.jsx("div",{className:"absolute bottom-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded",children:s.duration})]}),u.jsxs("div",{className:"space-y-1 flex-1",children:[u.jsx("h4",{className:"font-semibold text-sm line-clamp-2",children:s.title}),u.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:s.description})]}),u.jsxs(oe,{variant:"outline",size:"sm",className:"w-full",children:[u.jsx(bee,{className:"w-3 h-3 mr-2"}),"Watch Video"]})]})},o))}),u.jsxs("div",{className:"text-center p-6 bg-card/50 rounded-lg border border-border/50",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Ready to Transform Your Admissions?"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Start your free trial today and see the results within the first week."}),u.jsx(oe,{variant:"hero",className:"hover-lift",onClick:()=>window.location.href="/auth",children:"Start Free Trial"})]})]})]}),u.jsx(Rb,{open:n,onOpenChange:r})]})},Hk=({open:t,onOpenChange:e})=>{const[n,r]=S.useState(""),[i,a]=S.useState(""),[s,o]=S.useState(""),[l,c]=S.useState(!1),[d,f]=S.useState({}),[h,p]=S.useState({}),{toast:m}=Mt(),g=(x,b)=>{const _={...d},w={...h};switch(x){case"name":b.trim()?b.trim().length<2?(_.name="Name must be at least 2 characters",w.message=!1):(delete _.message,w.message=!0):(_.name="Name is required",w.name=!1);break}return f(_),p(w),!_[x]},v=(x,b)=>{switch(x){case"name":r(b);break;case"email":a(b);break;case"message":o(b);break}b.trim()&&g(x,b)},y=async x=>{x.preventDefault();const b=g("name",n),_=g("email",i),w=g("message",s);if(!b||!_||!w){m({title:"Please fix the errors above",variant:"destructive"});return}c(!0);try{const{error:E}=await ze.from("contact_submissions").insert([{name:n,email:i,message:s}]);if(E)throw E;m({title:"Message sent successfully!",description:"We'll get back to you within 24 hours."}),r(""),a(""),o(""),e(!1)}catch(E){console.error("Error submitting contact form:",E),m({title:"Failed to send message",description:"Please try again or email us directly.",variant:"destructive"})}finally{c(!1)}};return u.jsx(Ni,{open:t,onOpenChange:e,children:u.jsxs(ii,{className:"max-w-md",children:[u.jsx(ai,{children:u.jsxs(si,{className:"flex items-center space-x-2",children:[u.jsx(ti,{className:"w-5 h-5"}),u.jsx("span",{children:"Contact Us"})]})}),u.jsxs("form",{onSubmit:y,className:"space-y-6",children:[u.jsx(oa,{label:"Full Name",id:"name",type:"text",value:n,onChange:x=>v("name",x),placeholder:"Enter your full name",error:d.name,success:h.name,required:!0}),u.jsx(oa,{label:"Email Address",id:"email",type:"email",value:i,onChange:x=>v("email",x),placeholder:"your.email@example.com",error:d.email,success:h.email,required:!0}),u.jsx(oa,{label:"Message",id:"message",type:"textarea",value:s,onChange:x=>v("message",x),placeholder:"Tell us how we can help you transform your admission process...",error:d.message,success:h.message,required:!0}),u.jsx(nl,{type:"submit",variant:"hero",disabled:l,className:"w-full hover-lift",children:l?u.jsxs(u.Fragment,{children:[u.jsx(Yc,{size:"sm",className:"mr-2"}),"Sending Message..."]}):u.jsxs(u.Fragment,{children:[u.jsx(pT,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]}),u.jsx("div",{className:"text-xs text-muted-foreground text-center",children:"We typically respond within 24 hours. All messages are sent to admitconnectAI@gmail.com"})]})})},fH=()=>{const[t,e]=S.useState(!1);S.useEffect(()=>{const r=()=>{window.pageYOffset>300?e(!0):e(!1)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return t?u.jsx(oe,{className:"fixed bottom-6 right-6 z-50 rounded-full shadow-glow hover-lift",variant:"hero",size:"icon",onClick:n,children:u.jsx(hee,{className:"w-4 h-4"})}):null},hH=({title:t="AdmitConnect AI - Intelligent College Admission Campaign Management",description:e="Revolutionize your college admission outreach with AI-powered campaign management, automated follow-ups, and real-time analytics. Boost enrollment with smart WhatsApp, voice, and email campaigns.",keywords:n="college admission software, AI campaign management, student recruitment, WhatsApp marketing, voice campaigns, admission analytics, enrollment automation, higher education CRM",image:r="/og-image.jpg",url:i="https://admitconnect.ai",type:a="website",schema:s})=>{const o=t.includes("AdmitConnect AI")?t:`${t} | AdmitConnect AI`,l={"@context":"https://schema.org","@type":"SoftwareApplication",name:"AdmitConnect AI",description:e,url:i,applicationCategory:"Educational Software",operatingSystem:"Web Browser",offers:{"@type":"Offer",category:"SaaS",price:"0",priceCurrency:"USD"},creator:{"@type":"Organization",name:"AdmitConnect AI",url:i}};return u.jsxs(mQ,{children:[u.jsx("title",{children:o}),u.jsx("meta",{name:"description",content:e}),u.jsx("meta",{name:"keywords",content:n}),u.jsx("meta",{name:"robots",content:"index, follow"}),u.jsx("meta",{name:"author",content:"AdmitConnect AI"}),u.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),u.jsx("link",{rel:"canonical",href:i}),u.jsx("meta",{property:"og:title",content:o}),u.jsx("meta",{property:"og:description",content:e}),u.jsx("meta",{property:"og:image",content:r}),u.jsx("meta",{property:"og:url",content:i}),u.jsx("meta",{property:"og:type",content:a}),u.jsx("meta",{property:"og:site_name",content:"AdmitConnect AI"}),u.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),u.jsx("meta",{name:"twitter:title",content:o}),u.jsx("meta",{name:"twitter:description",content:e}),u.jsx("meta",{name:"twitter:image",content:r}),u.jsx("meta",{name:"theme-color",content:"#000000"}),u.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),u.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"black-translucent"}),u.jsx("script",{type:"application/ld+json",children:JSON.stringify(s||l)})]})},o0e={home:{title:"AdmitConnect AI - Intelligent College Admission Campaign Management",description:"Transform your college admissions process with AI-powered campaign management. Automate WhatsApp, voice, and email outreach with intelligent analytics and real-time tracking.",keywords:"college admission AI, student recruitment automation, admission campaign management, WhatsApp marketing education, voice call automation, enrollment analytics"},dashboard:{title:"Dashboard - AdmitConnect AI",description:"Manage your admission campaigns, track performance metrics, and analyze student engagement data from your comprehensive dashboard.",keywords:"admission dashboard, campaign analytics, student metrics, enrollment tracking"},about:{title:"About Us - AdmitConnect AI",description:"Learn about AdmitConnect AI's mission to revolutionize college admissions through intelligent automation and data-driven insights.",keywords:"about admitconnect, college admission technology, AI education solutions"},services:{title:"Our Services - AdmitConnect AI",description:"Discover our comprehensive suite of AI-powered services for college admission campaigns, including automated outreach, analytics, and student engagement tools.",keywords:"admission services, AI campaign tools, student outreach automation, enrollment services"},pricing:{title:"Pricing Plans - AdmitConnect AI",description:"Choose the perfect plan for your institution. Flexible pricing options for colleges and universities of all sizes.",keywords:"admission software pricing, AI campaign costs, college enrollment plans"}},l0e=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState(!1),[i,a]=S.useState(!1);return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(hH,{...o0e.home}),u.jsx(Bk,{onContactClick:()=>a(!0),onScheduleClick:()=>r(!0)}),u.jsxs("main",{id:"main-content",tabIndex:-1,className:"focus:outline-none",children:[u.jsx(Ove,{onWatchDemoClick:()=>e(!0),onScheduleDemoClick:()=>r(!0)}),u.jsx(Nve,{onContactClick:()=>a(!0),onScheduleClick:()=>r(!0)})]}),u.jsx(s0e,{open:t,onOpenChange:e}),u.jsx(Rb,{open:n,onOpenChange:r}),u.jsx(Hk,{open:i,onOpenChange:a}),u.jsx(T9,{}),u.jsx(fH,{})]})},c0e=()=>{const[t]=PJ(),e=pi(),{toast:n}=Mt(),{signIn:r,signUp:i,signInWithGoogle:a,user:s}=zn(),[o,l]=S.useState(t.get("mode")==="signup"),[c,d]=S.useState(!1),[f,h]=S.useState(!1),[p,m]=S.useState(""),[g,v]=S.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""});S.useEffect(()=>{l(t.get("mode")==="signup")},[t]),S.useEffect(()=>{s&&e("/dashboard")},[s,e]);const y=_=>{v({...g,[_.target.name]:_.target.value})},x=async _=>{_.preventDefault(),h(!0),m("");try{if(o){if(g.password!==g.confirmPassword)throw new Error("Passwords don't match");if(g.password.length<8)throw new Error("Password must be at least 8 characters");const w=`${g.firstName} ${g.lastName}`.trim();await i(g.email,g.password,w)}else await r(g.email,g.password)}catch(w){console.error("Auth error:",w),m(w.message||"An error occurred"),n({title:"Authentication failed",description:w.message||"Please try again",variant:"destructive"})}finally{h(!1)}},b=async()=>{try{h(!0),await a()}catch(_){console.error("Google sign in error:",_),n({title:"Google sign in failed",description:_.message||"Please try again",variant:"destructive"})}finally{h(!1)}};return u.jsx("div",{className:"min-h-screen bg-ai-gradient-subtle flex items-center justify-center p-4",children:u.jsxs(ee,{className:"w-full max-w-md p-8 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"w-16 h-16 bg-ai-gradient rounded-2xl flex items-center justify-center mx-auto mb-4",children:u.jsx(Mi,{className:"w-8 h-8 text-white"})}),u.jsx("h1",{className:"text-2xl font-bold text-card-foreground",children:o?"Create Account":"Welcome Back"}),u.jsx("p",{className:"text-muted-foreground mt-2",children:o?"Join AdmitConnect AI and transform your admissions":"Sign in to your AdmitConnect AI account"})]}),u.jsxs("form",{onSubmit:x,className:"space-y-4",children:[o&&u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(De,{htmlFor:"firstName",children:"First Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(Lp,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(vt,{id:"firstName",name:"firstName",type:"text",placeholder:"John",value:g.firstName,onChange:y,className:"pl-10",required:o})]})]}),u.jsxs("div",{children:[u.jsx(De,{htmlFor:"lastName",children:"Last Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(Lp,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(vt,{id:"lastName",name:"lastName",type:"text",placeholder:"Doe",value:g.lastName,onChange:y,className:"pl-10",required:o})]})]})]}),u.jsxs("div",{children:[u.jsx(De,{htmlFor:"email",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(ti,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(vt,{id:"email",name:"email",type:"email",placeholder:"john@college.edu",value:g.email,onChange:y,className:"pl-10",required:!0})]})]}),u.jsxs("div",{children:[u.jsx(De,{htmlFor:"password",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(pI,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(vt,{id:"password",name:"password",type:c?"text":"password",placeholder:"",value:g.password,onChange:y,className:"pl-10 pr-10",required:!0}),u.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:c?u.jsx(wee,{className:"h-4 w-4"}):u.jsx(_ee,{className:"h-4 w-4"})})]})]}),o&&u.jsxs("div",{children:[u.jsx(De,{htmlFor:"confirmPassword",children:"Confirm Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(pI,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(vt,{id:"confirmPassword",name:"confirmPassword",type:c?"text":"password",placeholder:"",value:g.confirmPassword,onChange:y,className:"pl-10",required:o})]})]}),p&&u.jsx("div",{className:"text-destructive text-sm text-center",children:p}),u.jsx(oe,{type:"submit",variant:"hero",size:"lg",className:"w-full",disabled:f,children:f?"Please wait...":o?"Create Account":"Sign In"})]}),u.jsxs("div",{className:"mt-6",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-border/50"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),u.jsxs(oe,{variant:"outline",size:"lg",className:"w-full mt-4",onClick:b,disabled:f,children:[u.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx("button",{type:"button",onClick:()=>l(!o),className:"text-primary hover:underline text-sm",children:o?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})};function u0e(t,e=[]){let n=[];function r(a,s){const o=S.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||o,v=S.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:v,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||o,m=S.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,d]}const i=()=>{const a=n.map(s=>S.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,d0e(i,...e)]}function d0e(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var f1="rovingFocusGroup.onEntryFocus",f0e={bubbles:!1,cancelable:!0},Mb="RovingFocusGroup",[yj,pH,h0e]=Fx(Mb),[p0e,Lb]=u0e(Mb,[h0e]),[m0e,g0e]=p0e(Mb),mH=S.forwardRef((t,e)=>u.jsx(yj.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(yj.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(y0e,{...t,ref:e})})}));mH.displayName=Mb;var y0e=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,h=S.useRef(null),p=rt(e,h),m=cg(a),[g=null,v]=as({prop:s,defaultProp:o,onChange:l}),[y,x]=S.useState(!1),b=Vt(c),_=pH(n),w=S.useRef(!1),[E,A]=S.useState(0);return S.useEffect(()=>{const j=h.current;if(j)return j.addEventListener(f1,b),()=>j.removeEventListener(f1,b)},[b]),u.jsx(m0e,{scope:n,orientation:r,dir:m,loop:i,currentTabStopId:g,onItemFocus:S.useCallback(j=>v(j),[v]),onItemShiftTab:S.useCallback(()=>x(!0),[]),onFocusableItemAdd:S.useCallback(()=>A(j=>j+1),[]),onFocusableItemRemove:S.useCallback(()=>A(j=>j-1),[]),children:u.jsx(Ne.div,{tabIndex:y||E===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:he(t.onMouseDown,()=>{w.current=!0}),onFocus:he(t.onFocus,j=>{const C=!w.current;if(j.target===j.currentTarget&&C&&!y){const T=new CustomEvent(f1,f0e);if(j.currentTarget.dispatchEvent(T),!T.defaultPrevented){const O=_().filter(U=>U.focusable),P=O.find(U=>U.active),H=O.find(U=>U.id===g),B=[P,H,...O].filter(Boolean).map(U=>U.ref.current);vH(B,d)}}w.current=!1}),onBlur:he(t.onBlur,()=>x(!1))})})}),gH="RovingFocusGroupItem",yH=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,...s}=t,o=pa(),l=a||o,c=g0e(gH,n),d=c.currentTabStopId===l,f=pH(n),{onFocusableItemAdd:h,onFocusableItemRemove:p}=c;return S.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),u.jsx(yj.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:u.jsx(Ne.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...s,ref:e,onMouseDown:he(t.onMouseDown,m=>{r?c.onItemFocus(l):m.preventDefault()}),onFocus:he(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:he(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){c.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const g=b0e(m,c.orientation,c.dir);if(g!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let y=f().filter(x=>x.focusable).map(x=>x.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const x=y.indexOf(m.currentTarget);y=c.loop?w0e(y,x+1):y.slice(x+1)}setTimeout(()=>vH(y))}})})})});yH.displayName=gH;var v0e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function x0e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function b0e(t,e,n){const r=x0e(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return v0e[r]}function vH(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function w0e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var xH=mH,bH=yH,Wk="Tabs",[_0e,cVe]=Sa(Wk,[Lb]),wH=Lb(),[S0e,Vk]=_0e(Wk),_H=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:s="horizontal",dir:o,activationMode:l="automatic",...c}=t,d=cg(o),[f,h]=as({prop:r,onChange:i,defaultProp:a});return u.jsx(S0e,{scope:n,baseId:pa(),value:f,onValueChange:h,orientation:s,dir:d,activationMode:l,children:u.jsx(Ne.div,{dir:d,"data-orientation":s,...c,ref:e})})});_H.displayName=Wk;var SH="TabsList",EH=S.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,a=Vk(SH,n),s=wH(n);return u.jsx(xH,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:r,children:u.jsx(Ne.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});EH.displayName=SH;var jH="TabsTrigger",AH=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=t,s=Vk(jH,n),o=wH(n),l=kH(s.baseId,r),c=OH(s.baseId,r),d=r===s.value;return u.jsx(bH,{asChild:!0,...o,focusable:!i,active:d,children:u.jsx(Ne.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:e,onMouseDown:he(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?s.onValueChange(r):f.preventDefault()}),onKeyDown:he(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(r)}),onFocus:he(t.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!i&&f&&s.onValueChange(r)})})})});AH.displayName=jH;var CH="TabsContent",TH=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...s}=t,o=Vk(CH,n),l=kH(o.baseId,r),c=OH(o.baseId,r),d=r===o.value,f=S.useRef(d);return S.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),u.jsx(er,{present:i||d,children:({present:h})=>u.jsx(Ne.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});TH.displayName=CH;function kH(t,e){return`${t}-trigger-${e}`}function OH(t,e){return`${t}-content-${e}`}var E0e=_H,NH=EH,PH=AH,IH=TH;const $l=E0e,co=S.forwardRef(({className:t,...e},n)=>u.jsx(NH,{ref:n,className:je("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));co.displayName=NH.displayName;const ct=S.forwardRef(({className:t,...e},n)=>u.jsx(PH,{ref:n,className:je("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));ct.displayName=PH.displayName;const ut=S.forwardRef(({className:t,...e},n)=>u.jsx(IH,{ref:n,className:je("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ut.displayName=IH.displayName;var $H={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(un,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,a=!r.document&&!!r.postMessage,s=r.IS_PAPA_WORKER||!1,o={},l=0,c={};function d(j){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(C){var T=w(C);T.chunkSize=parseInt(T.chunkSize),C.step||C.chunk||(T.chunkSize=null),this._handle=new g(T),(this._handle.streamer=this)._config=T}).call(this,j),this.parseChunk=function(C,T){var O=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<O){let H=this._config.newline;H||(P=this._config.quoteChar||'"',H=this._handle.guessLineEndings(C,P)),C=[...C.split(H).slice(O)].join(H)}this.isFirstChunk&&A(this._config.beforeFirstChunk)&&(P=this._config.beforeFirstChunk(C))!==void 0&&(C=P),this.isFirstChunk=!1,this._halted=!1;var O=this._partialLine+C,P=(this._partialLine="",this._handle.parse(O,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(C=P.meta.cursor,O=(this._finished||(this._partialLine=O.substring(C-this._baseIndex),this._baseIndex=C),P&&P.data&&(this._rowCount+=P.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)r.postMessage({results:P,workerId:c.WORKER_ID,finished:O});else if(A(this._config.chunk)&&!T){if(this._config.chunk(P,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=P=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(P.data),this._completeResults.errors=this._completeResults.errors.concat(P.errors),this._completeResults.meta=P.meta),this._completed||!O||!A(this._config.complete)||P&&P.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),O||P&&P.meta.paused||this._nextChunk(),P}this._halted=!0},this._sendError=function(C){A(this._config.error)?this._config.error(C):s&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:C,finished:!1})}}function f(j){var C;(j=j||{}).chunkSize||(j.chunkSize=c.RemoteChunkSize),d.call(this,j),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(T){this._input=T,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(C=new XMLHttpRequest,this._config.withCredentials&&(C.withCredentials=this._config.withCredentials),a||(C.onload=E(this._chunkLoaded,this),C.onerror=E(this._chunkError,this)),C.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var T,O=this._config.downloadRequestHeaders;for(T in O)C.setRequestHeader(T,O[T])}var P;this._config.chunkSize&&(P=this._start+this._config.chunkSize-1,C.setRequestHeader("Range","bytes="+this._start+"-"+P));try{C.send(this._config.downloadRequestBody)}catch(H){this._chunkError(H.message)}a&&C.status===0&&this._chunkError()}},this._chunkLoaded=function(){C.readyState===4&&(C.status<200||400<=C.status?this._chunkError():(this._start+=this._config.chunkSize||C.responseText.length,this._finished=!this._config.chunkSize||this._start>=(T=>(T=T.getResponseHeader("Content-Range"))!==null?parseInt(T.substring(T.lastIndexOf("/")+1)):-1)(C),this.parseChunk(C.responseText)))},this._chunkError=function(T){T=C.statusText||T,this._sendError(new Error(T))}}function h(j){(j=j||{}).chunkSize||(j.chunkSize=c.LocalChunkSize),d.call(this,j);var C,T,O=typeof FileReader<"u";this.stream=function(P){this._input=P,T=P.slice||P.webkitSlice||P.mozSlice,O?((C=new FileReader).onload=E(this._chunkLoaded,this),C.onerror=E(this._chunkError,this)):C=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var P=this._input,H=(this._config.chunkSize&&(H=Math.min(this._start+this._config.chunkSize,this._input.size),P=T.call(P,this._start,H)),C.readAsText(P,this._config.encoding));O||this._chunkLoaded({target:{result:H}})},this._chunkLoaded=function(P){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(P.target.result)},this._chunkError=function(){this._sendError(C.error)}}function p(j){var C;d.call(this,j=j||{}),this.stream=function(T){return C=T,this._nextChunk()},this._nextChunk=function(){var T,O;if(!this._finished)return T=this._config.chunkSize,C=T?(O=C.substring(0,T),C.substring(T)):(O=C,""),this._finished=!C,this.parseChunk(O)}}function m(j){d.call(this,j=j||{});var C=[],T=!0,O=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(P){this._input=P,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){O&&C.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),C.length?this.parseChunk(C.shift()):T=!0},this._streamData=E(function(P){try{C.push(typeof P=="string"?P:P.toString(this._config.encoding)),T&&(T=!1,this._checkIsFinished(),this.parseChunk(C.shift()))}catch(H){this._streamError(H)}},this),this._streamError=E(function(P){this._streamCleanUp(),this._sendError(P)},this),this._streamEnd=E(function(){this._streamCleanUp(),O=!0,this._streamData("")},this),this._streamCleanUp=E(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(j){var C,T,O,P,H=Math.pow(2,53),R=-H,B=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,U=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,W=this,M=0,D=0,N=!1,V=!1,G=[],$={data:[],errors:[],meta:{}};function te(K){return j.skipEmptyLines==="greedy"?K.join("").trim()==="":K.length===1&&K[0].length===0}function ae(){if($&&O&&(k("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),O=!1),j.skipEmptyLines&&($.data=$.data.filter(function(Y){return!te(Y)})),I()){let Y=function(ge,ce){A(j.transformHeader)&&(ge=j.transformHeader(ge,ce)),G.push(ge)};var J=Y;if($)if(Array.isArray($.data[0])){for(var K=0;I()&&K<$.data.length;K++)$.data[K].forEach(Y);$.data.splice(0,1)}else $.data.forEach(Y)}function F(Y,ge){for(var ce=j.header?{}:[],ye=0;ye<Y.length;ye++){var se=ye,Re=Y[ye],Re=((Me,Ie)=>(re=>(j.dynamicTypingFunction&&j.dynamicTyping[re]===void 0&&(j.dynamicTyping[re]=j.dynamicTypingFunction(re)),(j.dynamicTyping[re]||j.dynamicTyping)===!0))(Me)?Ie==="true"||Ie==="TRUE"||Ie!=="false"&&Ie!=="FALSE"&&((re=>{if(B.test(re)&&(re=parseFloat(re),R<re&&re<H))return 1})(Ie)?parseFloat(Ie):U.test(Ie)?new Date(Ie):Ie===""?null:Ie):Ie)(se=j.header?ye>=G.length?"__parsed_extra":G[ye]:se,Re=j.transform?j.transform(Re,se):Re);se==="__parsed_extra"?(ce[se]=ce[se]||[],ce[se].push(Re)):ce[se]=Re}return j.header&&(ye>G.length?k("FieldMismatch","TooManyFields","Too many fields: expected "+G.length+" fields but parsed "+ye,D+ge):ye<G.length&&k("FieldMismatch","TooFewFields","Too few fields: expected "+G.length+" fields but parsed "+ye,D+ge)),ce}var Z;$&&(j.header||j.dynamicTyping||j.transform)&&(Z=1,!$.data.length||Array.isArray($.data[0])?($.data=$.data.map(F),Z=$.data.length):$.data=F($.data,0),j.header&&$.meta&&($.meta.fields=G),D+=Z)}function I(){return j.header&&G.length===0}function k(K,F,Z,J){K={type:K,code:F,message:Z},J!==void 0&&(K.row=J),$.errors.push(K)}A(j.step)&&(P=j.step,j.step=function(K){$=K,I()?ae():(ae(),$.data.length!==0&&(M+=K.data.length,j.preview&&M>j.preview?T.abort():($.data=$.data[0],P($,W))))}),this.parse=function(K,F,Z){var J=j.quoteChar||'"',J=(j.newline||(j.newline=this.guessLineEndings(K,J)),O=!1,j.delimiter?A(j.delimiter)&&(j.delimiter=j.delimiter(K),$.meta.delimiter=j.delimiter):((J=((Y,ge,ce,ye,se)=>{var Re,Me,Ie,re;se=se||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Ct=0;Ct<se.length;Ct++){for(var we,ve=se[Ct],be=0,me=0,q=0,X=(Ie=void 0,new y({comments:ye,delimiter:ve,newline:ge,preview:10}).parse(Y)),ie=0;ie<X.data.length;ie++)ce&&te(X.data[ie])?q++:(we=X.data[ie].length,me+=we,Ie===void 0?Ie=we:0<we&&(be+=Math.abs(we-Ie),Ie=we));0<X.data.length&&(me/=X.data.length-q),(Me===void 0||be<=Me)&&(re===void 0||re<me)&&1.99<me&&(Me=be,Re=ve,re=me)}return{successful:!!(j.delimiter=Re),bestDelimiter:Re}})(K,j.newline,j.skipEmptyLines,j.comments,j.delimitersToGuess)).successful?j.delimiter=J.bestDelimiter:(O=!0,j.delimiter=c.DefaultDelimiter),$.meta.delimiter=j.delimiter),w(j));return j.preview&&j.header&&J.preview++,C=K,T=new y(J),$=T.parse(C,F,Z),ae(),N?{meta:{paused:!0}}:$||{meta:{paused:!1}}},this.paused=function(){return N},this.pause=function(){N=!0,T.abort(),C=A(j.chunk)?"":C.substring(T.getCharIndex())},this.resume=function(){W.streamer._halted?(N=!1,W.streamer.parseChunk(C,!0)):setTimeout(W.resume,3)},this.aborted=function(){return V},this.abort=function(){V=!0,T.abort(),$.meta.aborted=!0,A(j.complete)&&j.complete($),C=""},this.guessLineEndings=function(Y,J){Y=Y.substring(0,1048576);var J=new RegExp(v(J)+"([^]*?)"+v(J),"gm"),Z=(Y=Y.replace(J,"")).split("\r"),J=Y.split(`
`),Y=1<J.length&&J[0].length<Z[0].length;if(Z.length===1||Y)return`
`;for(var ge=0,ce=0;ce<Z.length;ce++)Z[ce][0]===`
`&&ge++;return ge>=Z.length/2?`\r
`:"\r"}}function v(j){return j.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(j){var C=(j=j||{}).delimiter,T=j.newline,O=j.comments,P=j.step,H=j.preview,R=j.fastMode,B=null,U=!1,W=j.quoteChar==null?'"':j.quoteChar,M=W;if(j.escapeChar!==void 0&&(M=j.escapeChar),(typeof C!="string"||-1<c.BAD_DELIMITERS.indexOf(C))&&(C=","),O===C)throw new Error("Comment character same as delimiter");O===!0?O="#":(typeof O!="string"||-1<c.BAD_DELIMITERS.indexOf(O))&&(O=!1),T!==`
`&&T!=="\r"&&T!==`\r
`&&(T=`
`);var D=0,N=!1;this.parse=function(V,G,$){if(typeof V!="string")throw new Error("Input must be a string");var te=V.length,ae=C.length,I=T.length,k=O.length,K=A(P),F=[],Z=[],J=[],Y=D=0;if(!V)return be();if(R||R!==!1&&V.indexOf(W)===-1){for(var ge=V.split(T),ce=0;ce<ge.length;ce++){if(J=ge[ce],D+=J.length,ce!==ge.length-1)D+=T.length;else if($)return be();if(!O||J.substring(0,k)!==O){if(K){if(F=[],re(J.split(C)),me(),N)return be()}else re(J.split(C));if(H&&H<=ce)return F=F.slice(0,H),be(!0)}}return be()}for(var ye=V.indexOf(C,D),se=V.indexOf(T,D),Re=new RegExp(v(M)+v(W),"g"),Me=V.indexOf(W,D);;)if(V[D]===W)for(Me=D,D++;;){if((Me=V.indexOf(W,Me+1))===-1)return $||Z.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:F.length,index:D}),we();if(Me===te-1)return we(V.substring(D,Me).replace(Re,W));if(W===M&&V[Me+1]===M)Me++;else if(W===M||Me===0||V[Me-1]!==M){ye!==-1&&ye<Me+1&&(ye=V.indexOf(C,Me+1));var Ie=Ct((se=se!==-1&&se<Me+1?V.indexOf(T,Me+1):se)===-1?ye:Math.min(ye,se));if(V.substr(Me+1+Ie,ae)===C){J.push(V.substring(D,Me).replace(Re,W)),V[D=Me+1+Ie+ae]!==W&&(Me=V.indexOf(W,D)),ye=V.indexOf(C,D),se=V.indexOf(T,D);break}if(Ie=Ct(se),V.substring(Me+1+Ie,Me+1+Ie+I)===T){if(J.push(V.substring(D,Me).replace(Re,W)),ve(Me+1+Ie+I),ye=V.indexOf(C,D),Me=V.indexOf(W,D),K&&(me(),N))return be();if(H&&F.length>=H)return be(!0);break}Z.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:F.length,index:D}),Me++}}else if(O&&J.length===0&&V.substring(D,D+k)===O){if(se===-1)return be();D=se+I,se=V.indexOf(T,D),ye=V.indexOf(C,D)}else if(ye!==-1&&(ye<se||se===-1))J.push(V.substring(D,ye)),D=ye+ae,ye=V.indexOf(C,D);else{if(se===-1)break;if(J.push(V.substring(D,se)),ve(se+I),K&&(me(),N))return be();if(H&&F.length>=H)return be(!0)}return we();function re(q){F.push(q),Y=D}function Ct(q){var X=0;return X=q!==-1&&(q=V.substring(Me+1,q))&&q.trim()===""?q.length:X}function we(q){return $||(q===void 0&&(q=V.substring(D)),J.push(q),D=te,re(J),K&&me()),be()}function ve(q){D=q,re(J),J=[],se=V.indexOf(T,D)}function be(q){if(j.header&&!G&&F.length&&!U){var X=F[0],ie=Object.create(null),ke=new Set(X);let lt=!1;for(let Gt=0;Gt<X.length;Gt++){let ln=X[Gt];if(ie[ln=A(j.transformHeader)?j.transformHeader(ln,Gt):ln]){let Tn,Oa=ie[ln];for(;Tn=ln+"_"+Oa,Oa++,ke.has(Tn););ke.add(Tn),X[Gt]=Tn,ie[ln]++,lt=!0,(B=B===null?{}:B)[Tn]=ln}else ie[ln]=1,X[Gt]=ln;ke.add(ln)}lt&&console.warn("Duplicate headers found and renamed."),U=!0}return{data:F,errors:Z,meta:{delimiter:C,linebreak:T,aborted:N,truncated:!!q,cursor:Y+(G||0),renamedHeaders:B}}}function me(){P(be()),F=[],Z=[]}},this.abort=function(){N=!0},this.getCharIndex=function(){return D}}function x(j){var C=j.data,T=o[C.workerId],O=!1;if(C.error)T.userError(C.error,C.file);else if(C.results&&C.results.data){var P={abort:function(){O=!0,b(C.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(A(T.userStep)){for(var H=0;H<C.results.data.length&&(T.userStep({data:C.results.data[H],errors:C.results.errors,meta:C.results.meta},P),!O);H++);delete C.results}else A(T.userChunk)&&(T.userChunk(C.results,P,C.file),delete C.results)}C.finished&&!O&&b(C.workerId,C.results)}function b(j,C){var T=o[j];A(T.userComplete)&&T.userComplete(C),T.terminate(),delete o[j]}function _(){throw new Error("Not implemented.")}function w(j){if(typeof j!="object"||j===null)return j;var C,T=Array.isArray(j)?[]:{};for(C in j)T[C]=w(j[C]);return T}function E(j,C){return function(){j.apply(C,arguments)}}function A(j){return typeof j=="function"}return c.parse=function(j,C){var T=(C=C||{}).dynamicTyping||!1;if(A(T)&&(C.dynamicTypingFunction=T,T={}),C.dynamicTyping=T,C.transform=!!A(C.transform)&&C.transform,!C.worker||!c.WORKERS_SUPPORTED)return T=null,c.NODE_STREAM_INPUT,typeof j=="string"?(j=(O=>O.charCodeAt(0)!==65279?O:O.slice(1))(j),T=new(C.download?f:p)(C)):j.readable===!0&&A(j.read)&&A(j.on)?T=new m(C):(r.File&&j instanceof File||j instanceof Object)&&(T=new h(C)),T.stream(j);(T=(()=>{var O;return!!c.WORKERS_SUPPORTED&&(O=(()=>{var P=r.URL||r.webkitURL||null,H=n.toString();return c.BLOB_URL||(c.BLOB_URL=P.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",H,")();"],{type:"text/javascript"})))})(),(O=new r.Worker(O)).onmessage=x,O.id=l++,o[O.id]=O)})()).userStep=C.step,T.userChunk=C.chunk,T.userComplete=C.complete,T.userError=C.error,C.step=A(C.step),C.chunk=A(C.chunk),C.complete=A(C.complete),C.error=A(C.error),delete C.worker,T.postMessage({input:j,config:C,workerId:T.id})},c.unparse=function(j,C){var T=!1,O=!0,P=",",H=`\r
`,R='"',B=R+R,U=!1,W=null,M=!1,D=((()=>{if(typeof C=="object"){if(typeof C.delimiter!="string"||c.BAD_DELIMITERS.filter(function(G){return C.delimiter.indexOf(G)!==-1}).length||(P=C.delimiter),typeof C.quotes!="boolean"&&typeof C.quotes!="function"&&!Array.isArray(C.quotes)||(T=C.quotes),typeof C.skipEmptyLines!="boolean"&&typeof C.skipEmptyLines!="string"||(U=C.skipEmptyLines),typeof C.newline=="string"&&(H=C.newline),typeof C.quoteChar=="string"&&(R=C.quoteChar),typeof C.header=="boolean"&&(O=C.header),Array.isArray(C.columns)){if(C.columns.length===0)throw new Error("Option columns is empty");W=C.columns}C.escapeChar!==void 0&&(B=C.escapeChar+R),C.escapeFormulae instanceof RegExp?M=C.escapeFormulae:typeof C.escapeFormulae=="boolean"&&C.escapeFormulae&&(M=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(R),"g"));if(typeof j=="string"&&(j=JSON.parse(j)),Array.isArray(j)){if(!j.length||Array.isArray(j[0]))return N(null,j,U);if(typeof j[0]=="object")return N(W||Object.keys(j[0]),j,U)}else if(typeof j=="object")return typeof j.data=="string"&&(j.data=JSON.parse(j.data)),Array.isArray(j.data)&&(j.fields||(j.fields=j.meta&&j.meta.fields||W),j.fields||(j.fields=Array.isArray(j.data[0])?j.fields:typeof j.data[0]=="object"?Object.keys(j.data[0]):[]),Array.isArray(j.data[0])||typeof j.data[0]=="object"||(j.data=[j.data])),N(j.fields||[],j.data||[],U);throw new Error("Unable to serialize unrecognized input");function N(G,$,te){var ae="",I=(typeof G=="string"&&(G=JSON.parse(G)),typeof $=="string"&&($=JSON.parse($)),Array.isArray(G)&&0<G.length),k=!Array.isArray($[0]);if(I&&O){for(var K=0;K<G.length;K++)0<K&&(ae+=P),ae+=V(G[K],K);0<$.length&&(ae+=H)}for(var F=0;F<$.length;F++){var Z=(I?G:$[F]).length,J=!1,Y=I?Object.keys($[F]).length===0:$[F].length===0;if(te&&!I&&(J=te==="greedy"?$[F].join("").trim()==="":$[F].length===1&&$[F][0].length===0),te==="greedy"&&I){for(var ge=[],ce=0;ce<Z;ce++){var ye=k?G[ce]:ce;ge.push($[F][ye])}J=ge.join("").trim()===""}if(!J){for(var se=0;se<Z;se++){0<se&&!Y&&(ae+=P);var Re=I&&k?G[se]:se;ae+=V($[F][Re],se)}F<$.length-1&&(!te||0<Z&&!Y)&&(ae+=H)}}return ae}function V(G,$){var te,ae;return G==null?"":G.constructor===Date?JSON.stringify(G).slice(1,25):(ae=!1,M&&typeof G=="string"&&M.test(G)&&(G="'"+G,ae=!0),te=G.toString().replace(D,B),(ae=ae||T===!0||typeof T=="function"&&T(G,$)||Array.isArray(T)&&T[$]||((I,k)=>{for(var K=0;K<k.length;K++)if(-1<I.indexOf(k[K]))return!0;return!1})(te,c.BAD_DELIMITERS)||-1<te.indexOf(P)||te.charAt(0)===" "||te.charAt(te.length-1)===" ")?R+te+R:te)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!a&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=y,c.ParserHandle=g,c.NetworkStreamer=f,c.FileStreamer=h,c.StringStreamer=p,c.ReadableStreamStreamer=m,r.jQuery&&((i=r.jQuery).fn.parse=function(j){var C=j.config||{},T=[];return this.each(function(H){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var R=0;R<this.files.length;R++)T.push({file:this.files[R],inputElem:this,instanceConfig:i.extend({},C)})}),O(),this;function O(){if(T.length===0)A(j.complete)&&j.complete();else{var H,R,B,U,W=T[0];if(A(j.before)){var M=j.before(W.file,W.inputElem);if(typeof M=="object"){if(M.action==="abort")return H="AbortError",R=W.file,B=W.inputElem,U=M.reason,void(A(j.error)&&j.error({name:H},R,B,U));if(M.action==="skip")return void P();typeof M.config=="object"&&(W.instanceConfig=i.extend(W.instanceConfig,M.config))}else if(M==="skip")return void P()}var D=W.instanceConfig.complete;W.instanceConfig.complete=function(N){A(D)&&D(N,W.file,W.inputElem),P()},c.parse(W.file,W.instanceConfig)}}function P(){T.splice(0,1),O()}}),s&&(r.onmessage=function(j){j=j.data,c.WORKER_ID===void 0&&j&&(c.WORKER_ID=j.workerId),typeof j.input=="string"?r.postMessage({workerId:c.WORKER_ID,results:c.parse(j.input,j.config),finished:!0}):(r.File&&j.input instanceof File||j.input instanceof Object)&&(j=c.parse(j.input,j.config))&&r.postMessage({workerId:c.WORKER_ID,results:j,finished:!0})}),(f.prototype=Object.create(d.prototype)).constructor=f,(h.prototype=Object.create(d.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(m.prototype=Object.create(d.prototype)).constructor=m,c})})($H);var j0e=$H.exports;const A0e=at(j0e),RH=({campaignId:t,onUploadComplete:e})=>{const[n,r]=S.useState(null),[i,a]=S.useState(!1),[s,o]=S.useState([]),[l,c]=S.useState(!1),[d,f]=S.useState(t||""),[h,p]=S.useState([]),{toast:m}=Mt(),{user:g}=zn();S.useEffect(()=>{t||v()},[t]);const v=async()=>{if(g)try{const{data:_,error:w}=await ze.from("campaigns").select("id, name, status").eq("user_id",g.id).order("created_at",{ascending:!1});if(w)throw w;p(_||[]),_&&_.length>0&&!d&&f(_[0].id)}catch(_){console.error("Error loading campaigns:",_)}},y=_=>{var E;const w=(E=_.target.files)==null?void 0:E[0];w&&(r(w),x(w))},x=async _=>{try{if(_.name.endsWith(".csv"))A0e.parse(_,{header:!0,skipEmptyLines:!0,transformHeader:w=>w.toLowerCase().trim(),complete:w=>{const E=[],A=[];if(w.data.forEach((j,C)=>{const T={name:j.name||j["full name"]||j["candidate name"]||"",phone:j.phone||j.mobile||j["phone number"]||j["mobile number"]||"",email:j.email||j["email address"]||void 0,city:j.city||j.location||j.address||void 0,course:j.course||j.program||j.interest||void 0};T.name&&T.phone&&(T.phone.length<10,E.push(T))}),E.length===0){m({title:"No valid candidates found",description:"Please check your CSV headers. Required: name, phone",variant:"destructive"});return}o(E),c(!0),m({title:"File parsed successfully",description:`Found ${E.length} valid candidates`})},error:w=>{console.error("CSV Parsing Error:",w),m({title:"Error parsing CSV",description:w.message,variant:"destructive"})}});else if(_.name.endsWith(".json")){const w=await _.text(),E=JSON.parse(w);if(Array.isArray(E)){const A=E.filter(j=>j.name&&j.phone).map(j=>({name:j.name,phone:j.phone,email:j.email,city:j.city,course:j.course}));o(A),c(!0),m({title:"File parsed successfully",description:`Found ${A.length} valid candidates`})}}}catch(w){console.error("Error parsing file:",w),m({title:"Error parsing file",description:"Please check your file format and try again",variant:"destructive"})}},b=async()=>{const _=t||d;if(!(!g||!_||s.length===0)){a(!0);try{const w=Array.from(new Map(s.map(H=>[H.phone,H])).values());w.length<s.length&&m({title:"Duplicates removed",description:`Removed ${s.length-w.length} duplicate phone numbers from the batch.`});const{data:E,error:A}=await ze.from("candidates").select("phone").eq("campaign_id",_);if(A)throw A;const j=new Set((E==null?void 0:E.map(H=>H.phone))||[]),C=w.filter(H=>!j.has(H.phone));if(C.length===0){m({title:"All candidates already exist",description:"All candidates in this file are already in this campaign.",variant:"destructive"}),a(!1);return}C.length<w.length&&m({title:"Existing candidates skipped",description:`Skipped ${w.length-C.length} candidates that are already in this campaign.`});const T=C.map(H=>({campaign_id:_,name:H.name,phone:H.phone,email:H.email||null,city:H.city||null,course:H.course||null})),{error:O}=await ze.from("candidates").insert(T);if(O)throw O;const{count:P}=await ze.from("candidates").select("*",{count:"exact",head:!0}).eq("campaign_id",_);await ze.from("campaigns").update({candidates_count:P}).eq("id",_),m({title:"Candidates uploaded successfully",description:`${C.length} new candidates added to your campaign`}),e==null||e(C),o([]),r(null),c(!1)}catch(w){console.error("Error uploading candidates:",w),m({title:"Upload failed",description:"Failed to upload candidates. Please try again.",variant:"destructive"})}finally{a(!1)}}};return u.jsx(ee,{className:"p-6",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Upload Candidates"}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"Upload a CSV or JSON file with candidate information. Required fields: name, phone"})]}),!t&&h.length===0&&u.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:u.jsx("p",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:"Please create a campaign first before uploading candidates."})}),!t&&h.length>0&&u.jsxs("div",{children:[u.jsx(De,{htmlFor:"campaign-select",children:"Select Campaign"}),u.jsxs(Ps,{value:d,onValueChange:f,children:[u.jsx(Ga,{id:"campaign-select",className:"mt-2",children:u.jsx(Is,{placeholder:"Choose a campaign"})}),u.jsx(Ka,{children:h.map(_=>u.jsx(rn,{value:_.id,children:_.name},_.id))})]})]}),l?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center text-green-600",children:[u.jsx(ei,{className:"w-5 h-5 mr-2"}),u.jsxs("span",{className:"font-medium",children:[s.length," candidates found"]})]}),u.jsx(oe,{variant:"outline",size:"sm",onClick:()=>{c(!1),r(null),o([])},children:"Choose Different File"})]}),u.jsxs("div",{className:"max-h-40 overflow-y-auto border rounded-lg p-3",children:[u.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Preview:"}),s.slice(0,5).map((_,w)=>u.jsxs("div",{className:"text-sm py-1 border-b border-border/50 last:border-0",children:[u.jsx("span",{className:"font-medium",children:_.name})," - ",_.phone,_.email&&u.jsxs("span",{className:"text-muted-foreground",children:["  ",_.email]})]},w)),s.length>5&&u.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["And ",s.length-5," more..."]})]}),u.jsx(oe,{onClick:b,disabled:i||!t&&!d||h.length===0,className:"w-full",variant:"hero",children:i?"Uploading...":`Upload ${s.length} Candidates`})]}):u.jsxs("div",{children:[u.jsx(De,{htmlFor:"file-upload",children:"Choose File"}),u.jsx("div",{className:"mt-2 flex items-center justify-center w-full",children:u.jsxs("label",{htmlFor:"file-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-border border-dashed rounded-lg cursor-pointer bg-card/50 hover:bg-card/80",children:[u.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[u.jsx(gT,{className:"w-8 h-8 mb-4 text-muted-foreground"}),u.jsxs("p",{className:"mb-2 text-sm text-muted-foreground",children:[u.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"CSV or JSON files only"})]}),u.jsx(vt,{id:"file-upload",type:"file",className:"hidden",accept:".csv,.json",onChange:y})]})}),n&&u.jsxs("div",{className:"mt-2 flex items-center text-sm text-muted-foreground",children:[u.jsx(vc,{className:"w-4 h-4 mr-2"}),n.name]})]})]})})},C0e=Wm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function on({className:t,variant:e,...n}){return u.jsx("div",{className:je(C0e({variant:e}),t),...n})}const MH=({onCampaignCreated:t})=>{const[e,n]=S.useState({name:"",type:"",scheduledAt:"",templateWhatsapp:"",templateVoice:""}),[r,i]=S.useState(!1),[a,s]=S.useState(!1),{toast:o}=Mt(),{user:l}=zn(),c=[{value:"whatsapp",label:"WhatsApp Only",icon:$r,color:"bg-green-500"},{value:"voice",label:"Voice Only",icon:Di,color:"bg-blue-500"},{value:"both",label:"Voice + WhatsApp",icon:Ea,color:"bg-purple-500"},{value:"email",label:"Email Campaign",icon:ti,color:"bg-orange-500"}],d=(m,g)=>{n(v=>({...v,[m]:g}))},f=async m=>{i(!0);try{const g=m==="whatsapp"?"Generate a professional WhatsApp message template for college admission outreach. The message should be personalized, engaging, and encourage prospective students to learn more about our programs. Include placeholders for student name and course. Keep it under 160 characters.":"Generate a professional voice call script for college admission outreach. The script should be warm, engaging, and designed to encourage prospective students to learn more about our programs. Include placeholders for student name and course. Keep it conversational and under 100 words.",v={whatsapp:`Hi {{name}}!  We noticed your interest in {{course}} at our college. We'd love to share how our program can help you achieve your career goals. Reply "YES" for more info! `,voice:"Hello {{name}}, this is calling from the admissions office. We're excited about your interest in our {{course}} program. I'd love to tell you about our unique opportunities and answer any questions. Do you have a few minutes to chat?"};setTimeout(()=>{d(m==="whatsapp"?"templateWhatsapp":"templateVoice",v[m]),i(!1),o({title:"Script generated!",description:`${m==="whatsapp"?"WhatsApp":"Voice"} template has been generated.`})},2e3)}catch(g){console.error("Error generating script:",g),o({title:"Generation failed",description:"Failed to generate script. Please try again.",variant:"destructive"}),i(!1)}},h=async()=>{if(!l||!e.name||!e.type){o({title:"Missing information",description:"Please fill in campaign name and type.",variant:"destructive"});return}s(!0);try{const{data:m,error:g}=await ze.from("campaigns").insert([{user_id:l.id,name:e.name,type:e.type,template_whatsapp:e.templateWhatsapp||null,template_voice:e.templateVoice||null,scheduled_at:e.scheduledAt?new Date(e.scheduledAt).toISOString():null,status:"draft"}]).select().single();if(g)throw g;o({title:"Campaign created!",description:"Your campaign has been created successfully."}),n({name:"",type:"",scheduledAt:"",templateWhatsapp:"",templateVoice:""}),t==null||t()}catch(m){console.error("Error creating campaign:",m),o({title:"Creation failed",description:"Failed to create campaign. Please try again.",variant:"destructive"})}finally{s(!1)}},p=c.find(m=>m.value===e.type);return u.jsx(ee,{className:"p-6",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Create New Campaign"}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"Set up your admission outreach campaign with AI-powered messaging"})]}),u.jsxs("div",{className:"grid gap-4",children:[u.jsxs("div",{children:[u.jsx(De,{htmlFor:"campaign-name",children:"Campaign Name"}),u.jsx(vt,{id:"campaign-name",placeholder:"e.g., Engineering Fall 2024 Outreach",value:e.name,onChange:m=>d("name",m.target.value)})]}),u.jsxs("div",{children:[u.jsx(De,{htmlFor:"campaign-type",children:"Campaign Type"}),u.jsxs(Ps,{value:e.type,onValueChange:m=>d("type",m),children:[u.jsx(Ga,{children:u.jsx(Is,{placeholder:"Select campaign type"})}),u.jsx(Ka,{children:c.map(m=>{const g=m.icon;return u.jsx(rn,{value:m.value,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`w-3 h-3 rounded-full ${m.color}`}),u.jsx(g,{className:"w-4 h-4"}),m.label]})},m.value)})})]})]}),u.jsxs("div",{children:[u.jsx(De,{htmlFor:"scheduled-at",children:"Schedule For (Optional)"}),u.jsx(vt,{id:"scheduled-at",type:"datetime-local",value:e.scheduledAt,onChange:m=>d("scheduledAt",m.target.value)})]})]}),p&&u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs(on,{variant:"secondary",className:"flex items-center gap-1",children:[u.jsx(p.icon,{className:"w-3 h-3"}),p.label]})}),(e.type==="whatsapp"||e.type==="both")&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx(De,{htmlFor:"whatsapp-template",children:"WhatsApp Template"}),u.jsxs(oe,{type:"button",variant:"outline",size:"sm",onClick:()=>f("whatsapp"),disabled:r,children:[u.jsx(mI,{className:"w-4 h-4 mr-1"}),r?"Generating...":"AI Generate"]})]}),u.jsx(us,{id:"whatsapp-template",placeholder:"Enter your WhatsApp message template...",value:e.templateWhatsapp,onChange:m=>d("templateWhatsapp",m.target.value),rows:3}),u.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Use ","{{name}}"," for student name, ","{{course}}"," for course name"]})]}),(e.type==="voice"||e.type==="both")&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx(De,{htmlFor:"voice-template",children:"Voice Call Script"}),u.jsxs(oe,{type:"button",variant:"outline",size:"sm",onClick:()=>f("voice"),disabled:r,children:[u.jsx(mI,{className:"w-4 h-4 mr-1"}),r?"Generating...":"AI Generate"]})]}),u.jsx(us,{id:"voice-template",placeholder:"Enter your voice call script...",value:e.templateVoice,onChange:m=>d("templateVoice",m.target.value),rows:4}),u.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Use ","{{name}}"," for student name, ","{{course}}"," for course name"]})]})]}),u.jsx(oe,{onClick:h,disabled:a||!e.name||!e.type,className:"w-full",variant:"hero",children:a?"Creating...":"Create Campaign"})]})})};var qk="Avatar",[T0e,uVe]=Sa(qk),[k0e,LH]=T0e(qk),DH=S.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,a]=S.useState("idle");return u.jsx(k0e,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:u.jsx(Ne.span,{...r,ref:e})})});DH.displayName=qk;var FH="AvatarImage",BH=S.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=t,s=LH(FH,n),o=O0e(r,a.referrerPolicy),l=Vt(c=>{i(c),s.onImageLoadingStatusChange(c)});return jn(()=>{o!=="idle"&&l(o)},[o,l]),o==="loaded"?u.jsx(Ne.img,{...a,ref:e,src:r}):null});BH.displayName=FH;var zH="AvatarFallback",UH=S.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,a=LH(zH,n),[s,o]=S.useState(r===void 0);return S.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(l)}},[r]),s&&a.imageLoadingStatus!=="loaded"?u.jsx(Ne.span,{...i,ref:e}):null});UH.displayName=zH;function O0e(t,e){const[n,r]=S.useState("idle");return jn(()=>{if(!t){r("error");return}let i=!0;const a=new window.Image,s=o=>()=>{i&&r(o)};return r("loading"),a.onload=s("loaded"),a.onerror=s("error"),a.src=t,e&&(a.referrerPolicy=e),()=>{i=!1}},[t,e]),n}var HH=DH,WH=BH,VH=UH;const iv=S.forwardRef(({className:t,...e},n)=>u.jsx(HH,{ref:n,className:je("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));iv.displayName=HH.displayName;const N0e=S.forwardRef(({className:t,...e},n)=>u.jsx(WH,{ref:n,className:je("aspect-square h-full w-full",t),...e}));N0e.displayName=WH.displayName;const av=S.forwardRef(({className:t,...e},n)=>u.jsx(VH,{ref:n,className:je("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));av.displayName=VH.displayName;const P0e=({sessionId:t,onNewSession:e})=>{const[n,r]=S.useState([{id:"1",role:"assistant",content:"Hello! I'm your AI assistant for AdmitConnect. I can help you create campaign scripts, generate personalized messages, analyze candidate data, and provide strategic advice for your outreach campaigns. How can I assist you today?",timestamp:new Date}]),[i,a]=S.useState(""),[s,o]=S.useState(!1),[l,c]=S.useState(t),d=S.useRef(null),{toast:f}=Mt(),{user:h}=zn(),p=S.useRef(new I8("dashboard"));S.useEffect(()=>{l&&g()},[l]),S.useEffect(()=>{m()},[n]);const m=()=>{if(d.current){const w=d.current.querySelector("[data-radix-scroll-area-viewport]");w&&(w.scrollTop=w.scrollHeight)}},g=async()=>{if(!(!l||!h))try{const{data:w,error:E}=await ze.from("ai_chat_messages").select("*").eq("session_id",l).order("created_at");if(E)throw E;if(w&&w.length>0){const A=w.map(j=>({id:j.id,role:j.role,content:j.content,timestamp:new Date(j.created_at)}));r(A)}}catch(w){console.error("Error loading messages:",w)}},v=async()=>{if(!h)return null;try{const{data:w,error:E}=await ze.from("ai_chat_sessions").insert([{user_id:h.id,title:"New Chat"}]).select().single();if(E)throw E;return w.id}catch(w){return console.error("Error creating session:",w),null}},y=async(w,E,A)=>{try{await ze.from("ai_chat_messages").insert([{session_id:w,role:E,content:A}])}catch(j){console.error("Error saving message:",j)}},x=async w=>{try{const E=n.map(j=>({role:j.role,content:j.content}));return(await p.current.generateResponse(w,E)).content}catch(E){throw console.error("Error calling AI chat:",E),new Error("Failed to get AI response")}},b=async()=>{if(!i.trim()||s||!h)return;const w=i.trim();a(""),o(!0);let E=l;if(!E){if(E=await v(),!E){f({title:"Error",description:"Failed to create chat session",variant:"destructive"}),o(!1);return}c(E),e==null||e(E)}const j={id:`user-${Date.now()}`,role:"user",content:w,timestamp:new Date};r(C=>[...C,j]),await y(E,"user",w);try{const C=await x(w),O={id:`ai-${Date.now()}`,role:"assistant",content:C,timestamp:new Date};r(P=>[...P,O]),await y(E,"assistant",C)}catch(C){console.error("Error generating AI response:",C),f({title:"Error",description:"Failed to generate response. Please try again.",variant:"destructive"})}finally{o(!1)}},_=w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),b())};return u.jsxs(ee,{className:"flex flex-col h-[500px]",children:[u.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-border",children:[u.jsx("div",{className:"w-8 h-8 bg-ai-gradient rounded-full flex items-center justify-center",children:u.jsx(nd,{className:"w-4 h-4 text-white"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold",children:"AI Assistant"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Campaign Strategy & Script Generation"})]})]}),u.jsx(Tb,{className:"flex-1 p-4",ref:d,children:u.jsxs("div",{className:"space-y-4",children:[n.map(w=>u.jsxs("div",{className:`flex gap-3 ${w.role==="user"?"justify-end":"justify-start"}`,children:[w.role==="assistant"&&u.jsx(iv,{className:"w-8 h-8",children:u.jsx(av,{className:"bg-ai-gradient text-white",children:u.jsx(ha,{className:"w-4 h-4"})})}),u.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${w.role==="user"?"bg-primary text-primary-foreground ml-auto":"bg-muted"}`,children:[u.jsx("p",{className:"text-sm",children:w.content}),u.jsx("p",{className:"text-xs opacity-70 mt-1",children:w.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),w.role==="user"&&u.jsx(iv,{className:"w-8 h-8",children:u.jsx(av,{children:u.jsx(Lp,{className:"w-4 h-4"})})})]},w.id)),s&&u.jsxs("div",{className:"flex gap-3 justify-start",children:[u.jsx(iv,{className:"w-8 h-8",children:u.jsx(av,{className:"bg-ai-gradient text-white",children:u.jsx(ha,{className:"w-4 h-4"})})}),u.jsx("div",{className:"bg-muted rounded-lg p-3",children:u.jsxs("div",{className:"flex space-x-1",children:[u.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce"}),u.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),u.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})]})}),u.jsx("div",{className:"p-4 border-t border-border",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(vt,{value:i,onChange:w=>a(w.target.value),placeholder:"Ask me anything about your campaigns...",onKeyPress:_,disabled:s}),u.jsx(oe,{onClick:b,disabled:!i.trim()||s,size:"icon",variant:"hero",children:u.jsx(pT,{className:"w-4 h-4"})})]})})]})};var Gk="Switch",[I0e,dVe]=Sa(Gk),[$0e,R0e]=I0e(Gk),qH=S.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:s,disabled:o,value:l="on",onCheckedChange:c,form:d,...f}=t,[h,p]=S.useState(null),m=rt(e,b=>p(b)),g=S.useRef(!1),v=h?d||!!h.closest("form"):!0,[y=!1,x]=as({prop:i,defaultProp:a,onChange:c});return u.jsxs($0e,{scope:n,checked:y,disabled:o,children:[u.jsx(Ne.button,{type:"button",role:"switch","aria-checked":y,"aria-required":s,"data-state":YH(y),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:m,onClick:he(t.onClick,b=>{x(_=>!_),v&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),v&&u.jsx(M0e,{control:h,bubbles:!g.current,name:r,value:l,checked:y,required:s,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});qH.displayName=Gk;var GH="SwitchThumb",KH=S.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=R0e(GH,n);return u.jsx(Ne.span,{"data-state":YH(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});KH.displayName=GH;var M0e=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,a=S.useRef(null),s=zk(n),o=ET(e);return S.useEffect(()=>{const l=a.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(s!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[s,n,r]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function YH(t){return t?"checked":"unchecked"}var XH=qH,L0e=KH;const Zr=S.forwardRef(({className:t,...e},n)=>u.jsx(XH,{className:je("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:u.jsx(L0e,{className:je("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Zr.displayName=XH.displayName;const Kk=({open:t,onOpenChange:e})=>{const{user:n}=zn(),{toast:r}=Mt(),[i,a]=S.useState(!1),[s,o]=S.useState({full_name:"",email:"",college_name:"",college_address:"",college_website:"",notifications_enabled:!0,email_alerts:!0,sms_alerts:!1});S.useEffect(()=>{n&&t&&l()},[n,t]);const l=async()=>{try{const{data:f,error:h}=await ze.from("profiles").select("*").eq("user_id",n==null?void 0:n.id).single();if(h&&h.code!=="PGRST116")throw h;o(f?{full_name:f.full_name||"",email:f.email||(n==null?void 0:n.email)||"",college_name:f.college_name||"",college_address:f.college_address||"",college_website:f.college_website||"",notifications_enabled:f.notifications_enabled!==!1,email_alerts:f.email_alerts!==!1,sms_alerts:f.sms_alerts===!0}:p=>{var m;return{...p,email:(n==null?void 0:n.email)||"",full_name:((m=n==null?void 0:n.user_metadata)==null?void 0:m.full_name)||""}})}catch(f){console.error("Error loading profile:",f),r({title:"Error loading profile",description:"Please try again",variant:"destructive"})}},c=(f,h)=>{o(p=>({...p,[f]:h}))},d=async()=>{if(n){a(!0);try{const{error:f}=await ze.from("profiles").upsert([{user_id:n.id,full_name:s.full_name,email:s.email,college_name:s.college_name,college_address:s.college_address,college_website:s.college_website,notifications_enabled:s.notifications_enabled,email_alerts:s.email_alerts,sms_alerts:s.sms_alerts}],{onConflict:"user_id"});if(f)throw f;r({title:"Profile updated",description:"Your settings have been saved successfully"})}catch(f){console.error("Error saving profile:",f),r({title:"Save failed",description:"Failed to save settings. Please try again.",variant:"destructive"})}finally{a(!1)}}};return u.jsx(Ni,{open:t,onOpenChange:e,children:u.jsxs(ii,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[u.jsx(ai,{children:u.jsx(si,{children:"Settings"})}),u.jsxs($l,{defaultValue:"profile",className:"w-full",children:[u.jsxs(co,{className:"grid w-full grid-cols-3",children:[u.jsx(ct,{value:"profile",children:"Profile"}),u.jsx(ct,{value:"college",children:"College"}),u.jsx(ct,{value:"notifications",children:"Notifications"})]}),u.jsx(ut,{value:"profile",className:"space-y-4",children:u.jsxs(ee,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Lp,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"font-semibold",children:"Personal Information"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(De,{htmlFor:"full_name",children:"Full Name"}),u.jsx(vt,{id:"full_name",value:s.full_name,onChange:f=>c("full_name",f.target.value),placeholder:"Enter your full name"})]}),u.jsxs("div",{children:[u.jsx(De,{htmlFor:"email",children:"Email Address"}),u.jsx(vt,{id:"email",type:"email",value:s.email,onChange:f=>c("email",f.target.value),placeholder:"Enter your email"})]})]})]})}),u.jsx(ut,{value:"college",className:"space-y-4",children:u.jsxs(ee,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(pee,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"font-semibold",children:"College Information"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(De,{htmlFor:"college_name",children:"College/University Name"}),u.jsx(vt,{id:"college_name",value:s.college_name,onChange:f=>c("college_name",f.target.value),placeholder:"Enter your institution name"})]}),u.jsxs("div",{children:[u.jsx(De,{htmlFor:"college_address",children:"Address"}),u.jsx(us,{id:"college_address",value:s.college_address,onChange:f=>c("college_address",f.target.value),placeholder:"Enter your institution address",rows:3})]}),u.jsxs("div",{children:[u.jsx(De,{htmlFor:"college_website",children:"Website"}),u.jsx(vt,{id:"college_website",type:"url",value:s.college_website,onChange:f=>c("college_website",f.target.value),placeholder:"https://your-college.edu"})]})]})]})}),u.jsx(ut,{value:"notifications",className:"space-y-4",children:u.jsxs(ee,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(aE,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"font-semibold",children:"Notification Preferences"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(De,{htmlFor:"notifications_enabled",className:"text-base font-normal",children:"Enable Notifications"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications about your campaigns"})]}),u.jsx(Zr,{id:"notifications_enabled",checked:s.notifications_enabled,onCheckedChange:f=>c("notifications_enabled",f)})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(De,{htmlFor:"email_alerts",className:"text-base font-normal",children:"Email Alerts"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Get campaign updates via email"})]}),u.jsx(Zr,{id:"email_alerts",checked:s.email_alerts,onCheckedChange:f=>c("email_alerts",f),disabled:!s.notifications_enabled})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(De,{htmlFor:"sms_alerts",className:"text-base font-normal",children:"SMS Alerts"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Get important updates via SMS"})]}),u.jsx(Zr,{id:"sms_alerts",checked:s.sms_alerts,onCheckedChange:f=>c("sms_alerts",f),disabled:!s.notifications_enabled})]})]})]})})]}),u.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[u.jsx(oe,{variant:"outline",onClick:()=>e(!1),children:"Cancel"}),u.jsxs(oe,{onClick:d,disabled:i,variant:"hero",children:[u.jsx(Cee,{className:"w-4 h-4 mr-2"}),i?"Saving...":"Save Changes"]})]})]})})};var vj=["Enter"," "],D0e=["ArrowDown","PageUp","Home"],ZH=["ArrowUp","PageDown","End"],F0e=[...D0e,...ZH],B0e={ltr:[...vj,"ArrowRight"],rtl:[...vj,"ArrowLeft"]},z0e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},dg="Menu",[Xp,U0e,H0e]=Fx(dg),[Xc,JH]=Sa(dg,[H0e,jf,Lb]),Db=jf(),QH=Lb(),[W0e,Zc]=Xc(dg),[V0e,fg]=Xc(dg),e7=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:a,modal:s=!0}=t,o=Db(e),[l,c]=S.useState(null),d=S.useRef(!1),f=Vt(a),h=cg(i);return S.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),u.jsx(CT,{...o,children:u.jsx(W0e,{scope:e,open:n,onOpenChange:f,content:l,onContentChange:c,children:u.jsx(V0e,{scope:e,onClose:S.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:s,children:r})})})};e7.displayName=dg;var q0e="MenuAnchor",Yk=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Db(n);return u.jsx(TT,{...i,...r,ref:e})});Yk.displayName=q0e;var Xk="MenuPortal",[G0e,t7]=Xc(Xk,{forceMount:void 0}),n7=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,a=Zc(Xk,e);return u.jsx(G0e,{scope:e,forceMount:n,children:u.jsx(er,{present:n||a.open,children:u.jsx(Um,{asChild:!0,container:i,children:r})})})};n7.displayName=Xk;var Pi="MenuContent",[K0e,Zk]=Xc(Pi),r7=S.forwardRef((t,e)=>{const n=t7(Pi,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=Zc(Pi,t.__scopeMenu),s=fg(Pi,t.__scopeMenu);return u.jsx(Xp.Provider,{scope:t.__scopeMenu,children:u.jsx(er,{present:r||a.open,children:u.jsx(Xp.Slot,{scope:t.__scopeMenu,children:s.modal?u.jsx(Y0e,{...i,ref:e}):u.jsx(X0e,{...i,ref:e})})})})}),Y0e=S.forwardRef((t,e)=>{const n=Zc(Pi,t.__scopeMenu),r=S.useRef(null),i=rt(e,r);return S.useEffect(()=>{const a=r.current;if(a)return $k(a)},[]),u.jsx(Jk,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:he(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),X0e=S.forwardRef((t,e)=>{const n=Zc(Pi,t.__scopeMenu);return u.jsx(Jk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Jk=S.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:m,...g}=t,v=Zc(Pi,n),y=fg(Pi,n),x=Db(n),b=QH(n),_=U0e(n),[w,E]=S.useState(null),A=S.useRef(null),j=rt(e,A,v.onContentChange),C=S.useRef(0),T=S.useRef(""),O=S.useRef(0),P=S.useRef(null),H=S.useRef("right"),R=S.useRef(0),B=m?Nb:S.Fragment,U=m?{as:cl,allowPinchZoom:!0}:void 0,W=D=>{var k,K;const N=T.current+D,V=_().filter(F=>!F.disabled),G=document.activeElement,$=(k=V.find(F=>F.ref.current===G))==null?void 0:k.textValue,te=V.map(F=>F.textValue),ae=lxe(te,N,$),I=(K=V.find(F=>F.textValue===ae))==null?void 0:K.ref.current;(function F(Z){T.current=Z,window.clearTimeout(C.current),Z!==""&&(C.current=window.setTimeout(()=>F(""),1e3))})(N),I&&setTimeout(()=>I.focus())};S.useEffect(()=>()=>window.clearTimeout(C.current),[]),Ik();const M=S.useCallback(D=>{var V,G;return H.current===((V=P.current)==null?void 0:V.side)&&uxe(D,(G=P.current)==null?void 0:G.area)},[]);return u.jsx(K0e,{scope:n,searchRef:T,onItemEnter:S.useCallback(D=>{M(D)&&D.preventDefault()},[M]),onItemLeave:S.useCallback(D=>{var N;M(D)||((N=A.current)==null||N.focus(),E(null))},[M]),onTriggerLeave:S.useCallback(D=>{M(D)&&D.preventDefault()},[M]),pointerGraceTimerRef:O,onPointerGraceIntentChange:S.useCallback(D=>{P.current=D},[]),children:u.jsx(B,{...U,children:u.jsx(kb,{asChild:!0,trapped:i,onMountAutoFocus:he(a,D=>{var N;D.preventDefault(),(N=A.current)==null||N.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:u.jsx(wf,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:u.jsx(xH,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:w,onCurrentTabStopIdChange:E,onEntryFocus:he(l,D=>{y.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(kT,{role:"menu","aria-orientation":"vertical","data-state":x7(v.open),"data-radix-menu-content":"",dir:y.dir,...x,...g,ref:j,style:{outline:"none",...g.style},onKeyDown:he(g.onKeyDown,D=>{const V=D.target.closest("[data-radix-menu-content]")===D.currentTarget,G=D.ctrlKey||D.altKey||D.metaKey,$=D.key.length===1;V&&(D.key==="Tab"&&D.preventDefault(),!G&&$&&W(D.key));const te=A.current;if(D.target!==te||!F0e.includes(D.key))return;D.preventDefault();const I=_().filter(k=>!k.disabled).map(k=>k.ref.current);ZH.includes(D.key)&&I.reverse(),sxe(I)}),onBlur:he(t.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(C.current),T.current="")}),onPointerMove:he(t.onPointerMove,Zp(D=>{const N=D.target,V=R.current!==D.clientX;if(D.currentTarget.contains(N)&&V){const G=D.clientX>R.current?"right":"left";H.current=G,R.current=D.clientX}}))})})})})})})});r7.displayName=Pi;var Z0e="MenuGroup",Qk=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Ne.div,{role:"group",...r,ref:e})});Qk.displayName=Z0e;var J0e="MenuLabel",i7=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Ne.div,{...r,ref:e})});i7.displayName=J0e;var h0="MenuItem",J$="menu.itemSelect",Fb=S.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,a=S.useRef(null),s=fg(h0,t.__scopeMenu),o=Zk(h0,t.__scopeMenu),l=rt(e,a),c=S.useRef(!1),d=()=>{const f=a.current;if(!n&&f){const h=new CustomEvent(J$,{bubbles:!0,cancelable:!0});f.addEventListener(J$,p=>r==null?void 0:r(p),{once:!0}),lT(f,h),h.defaultPrevented?c.current=!1:s.onClose()}};return u.jsx(a7,{...i,ref:l,disabled:n,onClick:he(t.onClick,d),onPointerDown:f=>{var h;(h=t.onPointerDown)==null||h.call(t,f),c.current=!0},onPointerUp:he(t.onPointerUp,f=>{var h;c.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:he(t.onKeyDown,f=>{const h=o.searchRef.current!=="";n||h&&f.key===" "||vj.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Fb.displayName=h0;var a7=S.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=t,s=Zk(h0,n),o=QH(n),l=S.useRef(null),c=rt(e,l),[d,f]=S.useState(!1),[h,p]=S.useState("");return S.useEffect(()=>{const m=l.current;m&&p((m.textContent??"").trim())},[a.children]),u.jsx(Xp.ItemSlot,{scope:n,disabled:r,textValue:i??h,children:u.jsx(bH,{asChild:!0,...o,focusable:!r,children:u.jsx(Ne.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:c,onPointerMove:he(t.onPointerMove,Zp(m=>{r?s.onItemLeave(m):(s.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:he(t.onPointerLeave,Zp(m=>s.onItemLeave(m))),onFocus:he(t.onFocus,()=>f(!0)),onBlur:he(t.onBlur,()=>f(!1))})})})}),Q0e="MenuCheckboxItem",s7=S.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return u.jsx(d7,{scope:t.__scopeMenu,checked:n,children:u.jsx(Fb,{role:"menuitemcheckbox","aria-checked":p0(n)?"mixed":n,...i,ref:e,"data-state":tO(n),onSelect:he(i.onSelect,()=>r==null?void 0:r(p0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});s7.displayName=Q0e;var o7="MenuRadioGroup",[exe,txe]=Xc(o7,{value:void 0,onValueChange:()=>{}}),l7=S.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,a=Vt(r);return u.jsx(exe,{scope:t.__scopeMenu,value:n,onValueChange:a,children:u.jsx(Qk,{...i,ref:e})})});l7.displayName=o7;var c7="MenuRadioItem",u7=S.forwardRef((t,e)=>{const{value:n,...r}=t,i=txe(c7,t.__scopeMenu),a=n===i.value;return u.jsx(d7,{scope:t.__scopeMenu,checked:a,children:u.jsx(Fb,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":tO(a),onSelect:he(r.onSelect,()=>{var s;return(s=i.onValueChange)==null?void 0:s.call(i,n)},{checkForDefaultPrevented:!1})})})});u7.displayName=c7;var eO="MenuItemIndicator",[d7,nxe]=Xc(eO,{checked:!1}),f7=S.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,a=nxe(eO,n);return u.jsx(er,{present:r||p0(a.checked)||a.checked===!0,children:u.jsx(Ne.span,{...i,ref:e,"data-state":tO(a.checked)})})});f7.displayName=eO;var rxe="MenuSeparator",h7=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Ne.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});h7.displayName=rxe;var ixe="MenuArrow",p7=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Db(n);return u.jsx(OT,{...i,...r,ref:e})});p7.displayName=ixe;var axe="MenuSub",[fVe,m7]=Xc(axe),Rh="MenuSubTrigger",g7=S.forwardRef((t,e)=>{const n=Zc(Rh,t.__scopeMenu),r=fg(Rh,t.__scopeMenu),i=m7(Rh,t.__scopeMenu),a=Zk(Rh,t.__scopeMenu),s=S.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=a,c={__scopeMenu:t.__scopeMenu},d=S.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return S.useEffect(()=>d,[d]),S.useEffect(()=>{const f=o.current;return()=>{window.clearTimeout(f),l(null)}},[o,l]),u.jsx(Yk,{asChild:!0,...c,children:u.jsx(a7,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":x7(n.open),...t,ref:Dx(e,i.onTriggerChange),onClick:f=>{var h;(h=t.onClick)==null||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:he(t.onPointerMove,Zp(f=>{a.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!s.current&&(a.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:he(t.onPointerLeave,Zp(f=>{var p,m;d();const h=(p=n.content)==null?void 0:p.getBoundingClientRect();if(h){const g=(m=n.content)==null?void 0:m.dataset.side,v=g==="right",y=v?-5:5,x=h[v?"left":"right"],b=h[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x,y:h.bottom}],side:g}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:he(t.onKeyDown,f=>{var p;const h=a.searchRef.current!=="";t.disabled||h&&f.key===" "||B0e[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});g7.displayName=Rh;var y7="MenuSubContent",v7=S.forwardRef((t,e)=>{const n=t7(Pi,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=Zc(Pi,t.__scopeMenu),s=fg(Pi,t.__scopeMenu),o=m7(y7,t.__scopeMenu),l=S.useRef(null),c=rt(e,l);return u.jsx(Xp.Provider,{scope:t.__scopeMenu,children:u.jsx(er,{present:r||a.open,children:u.jsx(Xp.Slot,{scope:t.__scopeMenu,children:u.jsx(Jk,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:c,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;s.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:he(t.onFocusOutside,d=>{d.target!==o.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:he(t.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:he(t.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=z0e[s.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(p=o.trigger)==null||p.focus(),d.preventDefault())})})})})})});v7.displayName=y7;function x7(t){return t?"open":"closed"}function p0(t){return t==="indeterminate"}function tO(t){return p0(t)?"indeterminate":t?"checked":"unchecked"}function sxe(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function oxe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function lxe(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let s=oxe(t,Math.max(a,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function cxe(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const o=e[a].x,l=e[a].y,c=e[s].x,d=e[s].y;l>r!=d>r&&n<(c-o)*(r-l)/(d-l)+o&&(i=!i)}return i}function uxe(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return cxe(n,e)}function Zp(t){return e=>e.pointerType==="mouse"?t(e):void 0}var dxe=e7,fxe=Yk,hxe=n7,pxe=r7,mxe=Qk,gxe=i7,yxe=Fb,vxe=s7,xxe=l7,bxe=u7,wxe=f7,_xe=h7,Sxe=p7,Exe=g7,jxe=v7,nO="DropdownMenu",[Axe,hVe]=Sa(nO,[JH]),vr=JH(),[Cxe,b7]=Axe(nO),w7=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:s,modal:o=!0}=t,l=vr(e),c=S.useRef(null),[d=!1,f]=as({prop:i,defaultProp:a,onChange:s});return u.jsx(Cxe,{scope:e,triggerId:pa(),triggerRef:c,contentId:pa(),open:d,onOpenChange:f,onOpenToggle:S.useCallback(()=>f(h=>!h),[f]),modal:o,children:u.jsx(dxe,{...l,open:d,onOpenChange:f,dir:r,modal:o,children:n})})};w7.displayName=nO;var _7="DropdownMenuTrigger",S7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,a=b7(_7,n),s=vr(n);return u.jsx(fxe,{asChild:!0,...s,children:u.jsx(Ne.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Dx(e,a.triggerRef),onPointerDown:he(t.onPointerDown,o=>{!r&&o.button===0&&o.ctrlKey===!1&&(a.onOpenToggle(),a.open||o.preventDefault())}),onKeyDown:he(t.onKeyDown,o=>{r||(["Enter"," "].includes(o.key)&&a.onOpenToggle(),o.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});S7.displayName=_7;var Txe="DropdownMenuPortal",E7=t=>{const{__scopeDropdownMenu:e,...n}=t,r=vr(e);return u.jsx(hxe,{...r,...n})};E7.displayName=Txe;var j7="DropdownMenuContent",A7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=b7(j7,n),a=vr(n),s=S.useRef(!1);return u.jsx(pxe,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:he(t.onCloseAutoFocus,o=>{var l;s.current||(l=i.triggerRef.current)==null||l.focus(),s.current=!1,o.preventDefault()}),onInteractOutside:he(t.onInteractOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!i.modal||d)&&(s.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});A7.displayName=j7;var kxe="DropdownMenuGroup",Oxe=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(mxe,{...i,...r,ref:e})});Oxe.displayName=kxe;var Nxe="DropdownMenuLabel",C7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(gxe,{...i,...r,ref:e})});C7.displayName=Nxe;var Pxe="DropdownMenuItem",T7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(yxe,{...i,...r,ref:e})});T7.displayName=Pxe;var Ixe="DropdownMenuCheckboxItem",k7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(vxe,{...i,...r,ref:e})});k7.displayName=Ixe;var $xe="DropdownMenuRadioGroup",Rxe=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(xxe,{...i,...r,ref:e})});Rxe.displayName=$xe;var Mxe="DropdownMenuRadioItem",O7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(bxe,{...i,...r,ref:e})});O7.displayName=Mxe;var Lxe="DropdownMenuItemIndicator",N7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(wxe,{...i,...r,ref:e})});N7.displayName=Lxe;var Dxe="DropdownMenuSeparator",P7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(_xe,{...i,...r,ref:e})});P7.displayName=Dxe;var Fxe="DropdownMenuArrow",Bxe=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(Sxe,{...i,...r,ref:e})});Bxe.displayName=Fxe;var zxe="DropdownMenuSubTrigger",I7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(Exe,{...i,...r,ref:e})});I7.displayName=zxe;var Uxe="DropdownMenuSubContent",$7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(jxe,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$7.displayName=Uxe;var Hxe=w7,Wxe=S7,Vxe=E7,R7=A7,M7=C7,L7=T7,D7=k7,F7=O7,B7=N7,z7=P7,U7=I7,H7=$7;const qxe=Hxe,Gxe=Wxe,Kxe=S.forwardRef(({className:t,inset:e,children:n,...r},i)=>u.jsxs(U7,{ref:i,className:je("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,u.jsx(mee,{className:"ml-auto h-4 w-4"})]}));Kxe.displayName=U7.displayName;const Yxe=S.forwardRef(({className:t,...e},n)=>u.jsx(H7,{ref:n,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Yxe.displayName=H7.displayName;const W7=S.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(Vxe,{children:u.jsx(R7,{ref:r,sideOffset:e,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));W7.displayName=R7.displayName;const sv=S.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(L7,{ref:r,className:je("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));sv.displayName=L7.displayName;const Xxe=S.forwardRef(({className:t,children:e,checked:n,...r},i)=>u.jsxs(D7,{ref:i,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(B7,{children:u.jsx(Ux,{className:"h-4 w-4"})})}),e]}));Xxe.displayName=D7.displayName;const Zxe=S.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(F7,{ref:r,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(B7,{children:u.jsx(yee,{className:"h-2 w-2 fill-current"})})}),e]}));Zxe.displayName=F7.displayName;const Jxe=S.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(M7,{ref:r,className:je("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));Jxe.displayName=M7.displayName;const Qxe=S.forwardRef(({className:t,...e},n)=>u.jsx(z7,{ref:n,className:je("-mx-1 my-1 h-px bg-muted",t),...e}));Qxe.displayName=z7.displayName;const xj=({campaign:t,onUpdate:e})=>{const[n,r]=S.useState(!1),{toast:i}=Mt(),a=f=>{switch(f){case"active":return"bg-green-500/10 text-green-500 border-green-500/20";case"paused":return"bg-yellow-500/10 text-yellow-500 border-yellow-500/20";case"completed":return"bg-blue-500/10 text-blue-500 border-blue-500/20";default:return"bg-gray-500/10 text-gray-500 border-gray-500/20"}},s=f=>{switch(f){case"whatsapp":return u.jsx($r,{className:"w-4 h-4"});case"voice":return u.jsx(Di,{className:"w-4 h-4"});default:return u.jsx(Ea,{className:"w-4 h-4"})}},o=async()=>{r(!0);try{const f=t.status==="active"?"paused":"active",{error:h}=await ze.from("campaigns").update({status:f}).eq("id",t.id);if(h)throw h;i({title:`Campaign ${f}`,description:`Campaign has been ${f}.`}),e()}catch(f){console.error("Error updating campaign status:",f),i({title:"Update failed",description:"Failed to update campaign status.",variant:"destructive"})}finally{r(!1)}},l=async()=>{if(confirm("Are you sure you want to delete this campaign?")){r(!0);try{const{error:f}=await ze.from("campaigns").delete().eq("id",t.id);if(f)throw f;i({title:"Campaign deleted",description:"Campaign has been permanently deleted."}),e()}catch(f){console.error("Error deleting campaign:",f),i({title:"Delete failed",description:"Failed to delete campaign.",variant:"destructive"})}finally{r(!1)}}},c=f=>new Date(f).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),d=t.candidates_count>0?Math.round(t.responses_received/t.candidates_count*100):0;return u.jsx(ee,{className:"p-6 hover-lift",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[s(t.type),u.jsx("h3",{className:"font-semibold text-lg",children:t.name})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(on,{className:`border ${a(t.status)}`,children:t.status}),u.jsx(on,{variant:"outline",children:t.type.charAt(0).toUpperCase()+t.type.slice(1)})]})]}),u.jsxs(qxe,{children:[u.jsx(Gxe,{asChild:!0,children:u.jsx(oe,{variant:"ghost",size:"sm",children:u.jsx(xee,{className:"w-4 h-4"})})}),u.jsxs(W7,{align:"end",children:[u.jsx(sv,{onClick:o,disabled:n,children:t.status==="active"?u.jsxs(u.Fragment,{children:[u.jsx(hB,{className:"w-4 h-4 mr-2"}),"Pause Campaign"]}):u.jsxs(u.Fragment,{children:[u.jsx(Fs,{className:"w-4 h-4 mr-2"}),"Start Campaign"]})}),u.jsxs(sv,{disabled:!0,children:[u.jsx(Oee,{className:"w-4 h-4 mr-2"}),"Edit Campaign"]}),u.jsxs(sv,{onClick:l,className:"text-destructive",disabled:n,children:[u.jsx(mB,{className:"w-4 h-4 mr-2"}),"Delete Campaign"]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-primary",children:t.candidates_count}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Candidates"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-green-500",children:t.messages_sent}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Messages"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-500",children:t.calls_made}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Calls"})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"text-2xl font-bold text-orange-500",children:[d,"%"]}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Response Rate"})]})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground pt-2 border-t border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Rp,{className:"w-3 h-3"}),"Created ",c(t.created_at)]}),t.scheduled_at&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Rp,{className:"w-3 h-3"}),"Scheduled ",c(t.scheduled_at)]})]})]})})},rO=({open:t,onOpenChange:e})=>{Mt(),zn();const n=()=>{window.open("https://rzp.io/rzp/DOVfKeU","_blank"),e(!1)},r=[{name:"Starter",price:"999",originalPrice:"1,999",period:"/month",description:"Perfect for small colleges",icon:nd,features:["500 voice calls/month","1,000 WhatsApp messages","Basic analytics dashboard","Email support","2 campaign templates"],popular:!1,discount:"50% OFF"},{name:"Professional",price:"2,999",originalPrice:"5,999",period:"/month",description:"Most popular for growing institutions",icon:Rr,features:["2,500 voice calls/month","5,000 WhatsApp messages","Advanced analytics & reports","Priority support","Unlimited campaign templates","Custom voice training","A/B testing"],popular:!0,discount:"50% OFF"},{name:"Enterprise",price:"9,999",originalPrice:"19,999",period:"/month",description:"For large universities",icon:fB,features:["10,000+ voice calls/month","20,000+ WhatsApp messages","Custom analytics dashboard","24/7 phone support","White-label solution","API access","Dedicated account manager","Custom integrations"],popular:!1,discount:"50% OFF"}];return u.jsx(Ni,{open:t,onOpenChange:e,children:u.jsxs(ii,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[u.jsxs(ai,{children:[u.jsx(si,{className:"text-center text-2xl",children:"Upgrade to Pro - Limited Time Offer!"}),u.jsx("p",{className:"text-center text-muted-foreground",children:"Transform your admission process with AI-powered automation"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:r.map((i,a)=>{const s=i.icon;return u.jsxs(ee,{className:`relative p-6 ${i.popular?"ring-2 ring-primary border-primary":""}`,children:[i.popular&&u.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:u.jsx(on,{className:"bg-primary text-primary-foreground",children:"Most Popular"})}),u.jsxs("div",{className:"text-center space-y-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"w-12 h-12 bg-ai-gradient rounded-lg flex items-center justify-center mx-auto mb-4",children:u.jsx(s,{className:"w-6 h-6 text-white"})}),u.jsx("h3",{className:"text-xl font-bold",children:i.name}),u.jsx("p",{className:"text-sm text-muted-foreground",children:i.description})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("span",{className:"text-3xl font-bold text-primary",children:i.price}),u.jsx("span",{className:"text-muted-foreground",children:i.period})]}),u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("span",{className:"text-sm line-through text-muted-foreground",children:i.originalPrice}),u.jsx(on,{variant:"destructive",className:"text-xs",children:i.discount})]})]}),u.jsx("div",{className:"space-y-2 text-left",children:i.features.map((o,l)=>u.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[u.jsx(ei,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),u.jsx("span",{children:o})]},l))}),u.jsx(oe,{variant:i.popular?"hero":"outline",size:"lg",onClick:n,className:"w-full mt-6",children:i.popular?"Choose Pro":`Get ${i.name}`})]})]},a)})}),u.jsx("div",{className:"mt-8 p-6 bg-ai-gradient-subtle rounded-lg",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("h3",{className:"text-xl font-bold",children:" Special Launch Offer"}),u.jsx("p",{className:"text-muted-foreground",children:"Get 50% off for the first 3 months. No setup fees. Cancel anytime."}),u.jsxs("div",{className:"flex justify-center items-center gap-4 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ei,{className:"w-4 h-4 text-green-500"}),u.jsx("span",{children:"30-day money-back guarantee"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ei,{className:"w-4 h-4 text-green-500"}),u.jsx("span",{children:"24/7 customer support"})]})]})]})}),u.jsx("div",{className:"text-center text-xs text-muted-foreground mt-4",children:u.jsx("p",{children:"Payments are secured by Razorpay. Your card details are never stored on our servers."})})]})})};function ebe(t,e=[]){let n=[];function r(a,s){const o=S.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||o,v=S.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:v,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||o,m=S.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,d]}const i=()=>{const a=n.map(s=>S.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,tbe(i,...e)]}function tbe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var iO="Progress",aO=100,[nbe,pVe]=ebe(iO),[rbe,ibe]=nbe(iO),V7=S.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=abe,...s}=t;(i||i===0)&&!Q$(i)&&console.error(sbe(`${i}`,"Progress"));const o=Q$(i)?i:aO;r!==null&&!eR(r,o)&&console.error(obe(`${r}`,"Progress"));const l=eR(r,o)?r:null,c=m0(l)?a(l,o):void 0;return u.jsx(rbe,{scope:n,value:l,max:o,children:u.jsx(Ne.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":m0(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":K7(l,o),"data-value":l??void 0,"data-max":o,...s,ref:e})})});V7.displayName=iO;var q7="ProgressIndicator",G7=S.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=ibe(q7,n);return u.jsx(Ne.div,{"data-state":K7(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});G7.displayName=q7;function abe(t,e){return`${Math.round(t/e*100)}%`}function K7(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function m0(t){return typeof t=="number"}function Q$(t){return m0(t)&&!isNaN(t)&&t>0}function eR(t,e){return m0(t)&&!isNaN(t)&&t<=e&&t>=0}function sbe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${aO}\`.`}function obe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${aO} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Y7=V7,lbe=G7;const Ti=S.forwardRef(({className:t,value:e,...n},r)=>u.jsx(Y7,{ref:r,className:je("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:u.jsx(lbe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Ti.displayName=Y7.displayName;var cbe=Array.isArray,Mr=cbe,ube=typeof un=="object"&&un&&un.Object===Object&&un,X7=ube,dbe=X7,fbe=typeof self=="object"&&self&&self.Object===Object&&self,hbe=dbe||fbe||Function("return this")(),gs=hbe,pbe=gs,mbe=pbe.Symbol,hg=mbe,tR=hg,Z7=Object.prototype,gbe=Z7.hasOwnProperty,ybe=Z7.toString,dh=tR?tR.toStringTag:void 0;function vbe(t){var e=gbe.call(t,dh),n=t[dh];try{t[dh]=void 0;var r=!0}catch{}var i=ybe.call(t);return r&&(e?t[dh]=n:delete t[dh]),i}var xbe=vbe,bbe=Object.prototype,wbe=bbe.toString;function _be(t){return wbe.call(t)}var Sbe=_be,nR=hg,Ebe=xbe,jbe=Sbe,Abe="[object Null]",Cbe="[object Undefined]",rR=nR?nR.toStringTag:void 0;function Tbe(t){return t==null?t===void 0?Cbe:Abe:rR&&rR in Object(t)?Ebe(t):jbe(t)}var uo=Tbe;function kbe(t){return t!=null&&typeof t=="object"}var fo=kbe,Obe=uo,Nbe=fo,Pbe="[object Symbol]";function Ibe(t){return typeof t=="symbol"||Nbe(t)&&Obe(t)==Pbe}var $f=Ibe,$be=Mr,Rbe=$f,Mbe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lbe=/^\w*$/;function Dbe(t,e){if($be(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Rbe(t)?!0:Lbe.test(t)||!Mbe.test(t)||e!=null&&t in Object(e)}var sO=Dbe;function Fbe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Rl=Fbe;const Rf=at(Rl);var Bbe=uo,zbe=Rl,Ube="[object AsyncFunction]",Hbe="[object Function]",Wbe="[object GeneratorFunction]",Vbe="[object Proxy]";function qbe(t){if(!zbe(t))return!1;var e=Bbe(t);return e==Hbe||e==Wbe||e==Ube||e==Vbe}var oO=qbe;const qe=at(oO);var Gbe=gs,Kbe=Gbe["__core-js_shared__"],Ybe=Kbe,h1=Ybe,iR=function(){var t=/[^.]+$/.exec(h1&&h1.keys&&h1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Xbe(t){return!!iR&&iR in t}var Zbe=Xbe,Jbe=Function.prototype,Qbe=Jbe.toString;function ewe(t){if(t!=null){try{return Qbe.call(t)}catch{}try{return t+""}catch{}}return""}var J7=ewe,twe=oO,nwe=Zbe,rwe=Rl,iwe=J7,awe=/[\\^$.*+?()[\]{}|]/g,swe=/^\[object .+?Constructor\]$/,owe=Function.prototype,lwe=Object.prototype,cwe=owe.toString,uwe=lwe.hasOwnProperty,dwe=RegExp("^"+cwe.call(uwe).replace(awe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fwe(t){if(!rwe(t)||nwe(t))return!1;var e=twe(t)?dwe:swe;return e.test(iwe(t))}var hwe=fwe;function pwe(t,e){return t==null?void 0:t[e]}var mwe=pwe,gwe=hwe,ywe=mwe;function vwe(t,e){var n=ywe(t,e);return gwe(n)?n:void 0}var Jc=vwe,xwe=Jc,bwe=xwe(Object,"create"),Bb=bwe,aR=Bb;function wwe(){this.__data__=aR?aR(null):{},this.size=0}var _we=wwe;function Swe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Ewe=Swe,jwe=Bb,Awe="__lodash_hash_undefined__",Cwe=Object.prototype,Twe=Cwe.hasOwnProperty;function kwe(t){var e=this.__data__;if(jwe){var n=e[t];return n===Awe?void 0:n}return Twe.call(e,t)?e[t]:void 0}var Owe=kwe,Nwe=Bb,Pwe=Object.prototype,Iwe=Pwe.hasOwnProperty;function $we(t){var e=this.__data__;return Nwe?e[t]!==void 0:Iwe.call(e,t)}var Rwe=$we,Mwe=Bb,Lwe="__lodash_hash_undefined__";function Dwe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Mwe&&e===void 0?Lwe:e,this}var Fwe=Dwe,Bwe=_we,zwe=Ewe,Uwe=Owe,Hwe=Rwe,Wwe=Fwe;function Mf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Mf.prototype.clear=Bwe;Mf.prototype.delete=zwe;Mf.prototype.get=Uwe;Mf.prototype.has=Hwe;Mf.prototype.set=Wwe;var Vwe=Mf;function qwe(){this.__data__=[],this.size=0}var Gwe=qwe;function Kwe(t,e){return t===e||t!==t&&e!==e}var lO=Kwe,Ywe=lO;function Xwe(t,e){for(var n=t.length;n--;)if(Ywe(t[n][0],e))return n;return-1}var zb=Xwe,Zwe=zb,Jwe=Array.prototype,Qwe=Jwe.splice;function e_e(t){var e=this.__data__,n=Zwe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Qwe.call(e,n,1),--this.size,!0}var t_e=e_e,n_e=zb;function r_e(t){var e=this.__data__,n=n_e(e,t);return n<0?void 0:e[n][1]}var i_e=r_e,a_e=zb;function s_e(t){return a_e(this.__data__,t)>-1}var o_e=s_e,l_e=zb;function c_e(t,e){var n=this.__data__,r=l_e(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var u_e=c_e,d_e=Gwe,f_e=t_e,h_e=i_e,p_e=o_e,m_e=u_e;function Lf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Lf.prototype.clear=d_e;Lf.prototype.delete=f_e;Lf.prototype.get=h_e;Lf.prototype.has=p_e;Lf.prototype.set=m_e;var Ub=Lf,g_e=Jc,y_e=gs,v_e=g_e(y_e,"Map"),cO=v_e,sR=Vwe,x_e=Ub,b_e=cO;function w_e(){this.size=0,this.__data__={hash:new sR,map:new(b_e||x_e),string:new sR}}var __e=w_e;function S_e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var E_e=S_e,j_e=E_e;function A_e(t,e){var n=t.__data__;return j_e(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Hb=A_e,C_e=Hb;function T_e(t){var e=C_e(this,t).delete(t);return this.size-=e?1:0,e}var k_e=T_e,O_e=Hb;function N_e(t){return O_e(this,t).get(t)}var P_e=N_e,I_e=Hb;function $_e(t){return I_e(this,t).has(t)}var R_e=$_e,M_e=Hb;function L_e(t,e){var n=M_e(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var D_e=L_e,F_e=__e,B_e=k_e,z_e=P_e,U_e=R_e,H_e=D_e;function Df(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Df.prototype.clear=F_e;Df.prototype.delete=B_e;Df.prototype.get=z_e;Df.prototype.has=U_e;Df.prototype.set=H_e;var uO=Df,Q7=uO,W_e="Expected a function";function dO(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(W_e);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(dO.Cache||Q7),n}dO.Cache=Q7;var eW=dO;const V_e=at(eW);var q_e=eW,G_e=500;function K_e(t){var e=q_e(t,function(r){return n.size===G_e&&n.clear(),r}),n=e.cache;return e}var Y_e=K_e,X_e=Y_e,Z_e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,J_e=/\\(\\)?/g,Q_e=X_e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Z_e,function(n,r,i,a){e.push(i?a.replace(J_e,"$1"):r||n)}),e}),e1e=Q_e;function t1e(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var fO=t1e,oR=hg,n1e=fO,r1e=Mr,i1e=$f,a1e=1/0,lR=oR?oR.prototype:void 0,cR=lR?lR.toString:void 0;function tW(t){if(typeof t=="string")return t;if(r1e(t))return n1e(t,tW)+"";if(i1e(t))return cR?cR.call(t):"";var e=t+"";return e=="0"&&1/t==-a1e?"-0":e}var s1e=tW,o1e=s1e;function l1e(t){return t==null?"":o1e(t)}var nW=l1e,c1e=Mr,u1e=sO,d1e=e1e,f1e=nW;function h1e(t,e){return c1e(t)?t:u1e(t,e)?[t]:d1e(f1e(t))}var rW=h1e,p1e=$f,m1e=1/0;function g1e(t){if(typeof t=="string"||p1e(t))return t;var e=t+"";return e=="0"&&1/t==-m1e?"-0":e}var Wb=g1e,y1e=rW,v1e=Wb;function x1e(t,e){e=y1e(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[v1e(e[n++])];return n&&n==r?t:void 0}var hO=x1e,b1e=hO;function w1e(t,e,n){var r=t==null?void 0:b1e(t,e);return r===void 0?n:r}var iW=w1e;const oi=at(iW);function _1e(t){return t==null}var S1e=_1e;const Xe=at(S1e);var E1e=uo,j1e=Mr,A1e=fo,C1e="[object String]";function T1e(t){return typeof t=="string"||!j1e(t)&&A1e(t)&&E1e(t)==C1e}var k1e=T1e;const pg=at(k1e);var aW={exports:{}},Et={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pO=Symbol.for("react.element"),mO=Symbol.for("react.portal"),Vb=Symbol.for("react.fragment"),qb=Symbol.for("react.strict_mode"),Gb=Symbol.for("react.profiler"),Kb=Symbol.for("react.provider"),Yb=Symbol.for("react.context"),O1e=Symbol.for("react.server_context"),Xb=Symbol.for("react.forward_ref"),Zb=Symbol.for("react.suspense"),Jb=Symbol.for("react.suspense_list"),Qb=Symbol.for("react.memo"),ew=Symbol.for("react.lazy"),N1e=Symbol.for("react.offscreen"),sW;sW=Symbol.for("react.module.reference");function zi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case pO:switch(t=t.type,t){case Vb:case Gb:case qb:case Zb:case Jb:return t;default:switch(t=t&&t.$$typeof,t){case O1e:case Yb:case Xb:case ew:case Qb:case Kb:return t;default:return e}}case mO:return e}}}Et.ContextConsumer=Yb;Et.ContextProvider=Kb;Et.Element=pO;Et.ForwardRef=Xb;Et.Fragment=Vb;Et.Lazy=ew;Et.Memo=Qb;Et.Portal=mO;Et.Profiler=Gb;Et.StrictMode=qb;Et.Suspense=Zb;Et.SuspenseList=Jb;Et.isAsyncMode=function(){return!1};Et.isConcurrentMode=function(){return!1};Et.isContextConsumer=function(t){return zi(t)===Yb};Et.isContextProvider=function(t){return zi(t)===Kb};Et.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===pO};Et.isForwardRef=function(t){return zi(t)===Xb};Et.isFragment=function(t){return zi(t)===Vb};Et.isLazy=function(t){return zi(t)===ew};Et.isMemo=function(t){return zi(t)===Qb};Et.isPortal=function(t){return zi(t)===mO};Et.isProfiler=function(t){return zi(t)===Gb};Et.isStrictMode=function(t){return zi(t)===qb};Et.isSuspense=function(t){return zi(t)===Zb};Et.isSuspenseList=function(t){return zi(t)===Jb};Et.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Vb||t===Gb||t===qb||t===Zb||t===Jb||t===N1e||typeof t=="object"&&t!==null&&(t.$$typeof===ew||t.$$typeof===Qb||t.$$typeof===Kb||t.$$typeof===Yb||t.$$typeof===Xb||t.$$typeof===sW||t.getModuleId!==void 0)};Et.typeOf=zi;aW.exports=Et;var oW=aW.exports,P1e=uo,I1e=fo,$1e="[object Number]";function R1e(t){return typeof t=="number"||I1e(t)&&P1e(t)==$1e}var lW=R1e;const M1e=at(lW);var L1e=lW;function D1e(t){return L1e(t)&&t!=+t}var F1e=D1e;const mg=at(F1e);var dr=function(e){return e===0?0:e>0?1:-1},oc=function(e){return pg(e)&&e.indexOf("%")===e.length-1},pe=function(e){return M1e(e)&&!mg(e)},En=function(e){return pe(e)||pg(e)},B1e=0,Ff=function(e){var n=++B1e;return"".concat(e||"").concat(n)},fr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pe(e)&&!pg(e))return r;var a;if(oc(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return mg(a)&&(a=r),i&&a>n&&(a=n),a},Po=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},z1e=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Gr=function(e,n){return pe(e)&&pe(n)?function(r){return e+r*(n-e)}:function(){return n}};function g0(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):oi(r,e))===n})}function ld(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function bj(t){"@babel/helpers - typeof";return bj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bj(t)}var U1e=["viewBox","children"],H1e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],uR=["points","pathLength"],p1={svg:U1e,polygon:uR,polyline:uR},gO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],y0=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(S.isValidElement(e)&&(r=e.props),!Rf(r))return null;var i={};return Object.keys(r).forEach(function(a){gO.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},W1e=function(e,n,r){return function(i){return e(n,r,i),null}},Lc=function(e,n,r){if(!Rf(e)||bj(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];gO.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=W1e(s,n,r))}),i},V1e=["children"],q1e=["children"];function dR(t,e){if(t==null)return{};var n=G1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function G1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wj(t){"@babel/helpers - typeof";return wj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wj(t)}var fR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Hs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},hR=null,m1=null,yO=function t(e){if(e===hR&&Array.isArray(m1))return m1;var n=[];return S.Children.forEach(e,function(r){Xe(r)||(oW.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),m1=n,hR=e,n};function li(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Hs(i)}):r=[Hs(e)],yO(t).forEach(function(i){var a=oi(i,"type.displayName")||oi(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Vr(t,e){var n=li(t,e);return n&&n[0]}var pR=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!pe(r)||r<=0||!pe(i)||i<=0)},K1e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Y1e=function(e){return e&&e.type&&pg(e.type)&&K1e.indexOf(e.type)>=0},X1e=function(e){return e&&wj(e)==="object"&&"clipDot"in e},Z1e=function(e,n,r,i){var a,s=(a=p1==null?void 0:p1[i])!==null&&a!==void 0?a:[];return!qe(e)&&(i&&s.includes(n)||H1e.includes(n))||r&&gO.includes(n)},Fe=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(S.isValidElement(e)&&(i=e.props),!Rf(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;Z1e((o=i)===null||o===void 0?void 0:o[s],s,n,r)&&(a[s]=i[s])}),a},_j=function t(e,n){if(e===n)return!0;var r=S.Children.count(e);if(r!==S.Children.count(n))return!1;if(r===0)return!0;if(r===1)return mR(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!mR(a,s))return!1}return!0},mR=function(e,n){if(Xe(e)&&Xe(n))return!0;if(!Xe(e)&&!Xe(n)){var r=e.props||{},i=r.children,a=dR(r,V1e),s=n.props||{},o=s.children,l=dR(s,q1e);return i&&o?ld(a,l)&&_j(i,o):!i&&!o?ld(a,l):!1}return!1},gR=function(e,n){var r=[],i={};return yO(e).forEach(function(a,s){if(Y1e(a))r.push(a);else if(a){var o=Hs(a.type),l=n[o]||{},c=l.handler,d=l.once;if(c&&(!d||!i[o])){var f=c(a,o,s);r.push(f),i[o]=!0}}}),r},J1e=function(e){var n=e&&e.type;return n&&fR[n]?fR[n]:null},Q1e=function(e,n){return yO(n).indexOf(e)},eSe=["children","width","height","viewBox","className","style","title","desc"];function Sj(){return Sj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sj.apply(this,arguments)}function tSe(t,e){if(t==null)return{};var n=nSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ej(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,c=tSe(t,eSe),d=i||{width:n,height:r,x:0,y:0},f=Je("recharts-surface",a);return L.createElement("svg",Sj({},Fe(c,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),L.createElement("title",null,o),L.createElement("desc",null,l),e)}var rSe=["children","className"];function jj(){return jj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jj.apply(this,arguments)}function iSe(t,e){if(t==null)return{};var n=aSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var pt=L.forwardRef(function(t,e){var n=t.children,r=t.className,i=iSe(t,rSe),a=Je("recharts-layer",r);return L.createElement("g",jj({className:a},Fe(i,!0),{ref:e}),n)}),ga=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function sSe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var oSe=sSe,lSe=oSe;function cSe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:lSe(t,e,n)}var uSe=cSe,dSe="\\ud800-\\udfff",fSe="\\u0300-\\u036f",hSe="\\ufe20-\\ufe2f",pSe="\\u20d0-\\u20ff",mSe=fSe+hSe+pSe,gSe="\\ufe0e\\ufe0f",ySe="\\u200d",vSe=RegExp("["+ySe+dSe+mSe+gSe+"]");function xSe(t){return vSe.test(t)}var cW=xSe;function bSe(t){return t.split("")}var wSe=bSe,uW="\\ud800-\\udfff",_Se="\\u0300-\\u036f",SSe="\\ufe20-\\ufe2f",ESe="\\u20d0-\\u20ff",jSe=_Se+SSe+ESe,ASe="\\ufe0e\\ufe0f",CSe="["+uW+"]",Aj="["+jSe+"]",Cj="\\ud83c[\\udffb-\\udfff]",TSe="(?:"+Aj+"|"+Cj+")",dW="[^"+uW+"]",fW="(?:\\ud83c[\\udde6-\\uddff]){2}",hW="[\\ud800-\\udbff][\\udc00-\\udfff]",kSe="\\u200d",pW=TSe+"?",mW="["+ASe+"]?",OSe="(?:"+kSe+"(?:"+[dW,fW,hW].join("|")+")"+mW+pW+")*",NSe=mW+pW+OSe,PSe="(?:"+[dW+Aj+"?",Aj,fW,hW,CSe].join("|")+")",ISe=RegExp(Cj+"(?="+Cj+")|"+PSe+NSe,"g");function $Se(t){return t.match(ISe)||[]}var RSe=$Se,MSe=wSe,LSe=cW,DSe=RSe;function FSe(t){return LSe(t)?DSe(t):MSe(t)}var BSe=FSe,zSe=uSe,USe=cW,HSe=BSe,WSe=nW;function VSe(t){return function(e){e=WSe(e);var n=USe(e)?HSe(e):void 0,r=n?n[0]:e.charAt(0),i=n?zSe(n,1).join(""):e.slice(1);return r[t]()+i}}var qSe=VSe,GSe=qSe,KSe=GSe("toUpperCase"),YSe=KSe;const tw=at(YSe);function Pt(t){return function(){return t}}const gW=Math.cos,v0=Math.sin,ka=Math.sqrt,x0=Math.PI,nw=2*x0,Tj=Math.PI,kj=2*Tj,Jl=1e-6,XSe=kj-Jl;function yW(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function ZSe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return yW;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class JSe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?yW:ZSe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,c=i-n,d=s-e,f=o-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Jl)if(!(Math.abs(f*l-c*d)>Jl)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,m=i-o,g=l*l+c*c,v=p*p+m*m,y=Math.sqrt(g),x=Math.sqrt(h),b=a*Math.tan((Tj-Math.acos((g+h-v)/(2*y*x)))/2),_=b/x,w=b/y;Math.abs(_-1)>Jl&&this._append`L${e+_*d},${n+_*f}`,this._append`A${a},${a},0,0,${+(f*p>d*m)},${this._x1=e+w*l},${this._y1=n+w*c}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,d=n+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Jl||Math.abs(this._y1-d)>Jl)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%kj+kj),h>XSe?this._append`A${r},${r},0,1,${f},${e-o},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>Jl&&this._append`A${r},${r},0,${+(h>=Tj)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function vO(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new JSe(e)}function xO(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function vW(t){this._context=t}vW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function rw(t){return new vW(t)}function xW(t){return t[0]}function bW(t){return t[1]}function wW(t,e){var n=Pt(!0),r=null,i=rw,a=null,s=vO(o);t=typeof t=="function"?t:t===void 0?xW:Pt(t),e=typeof e=="function"?e:e===void 0?bW:Pt(e);function o(l){var c,d=(l=xO(l)).length,f,h=!1,p;for(r==null&&(a=i(p=s())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,c,l),+e(f,c,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Pt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Pt(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Pt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function by(t,e,n){var r=null,i=Pt(!0),a=null,s=rw,o=null,l=vO(c);t=typeof t=="function"?t:t===void 0?xW:Pt(+t),e=typeof e=="function"?e:Pt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?bW:Pt(+n);function c(f){var h,p,m,g=(f=xO(f)).length,v,y=!1,x,b=new Array(g),_=new Array(g);for(a==null&&(o=s(x=l())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===y)if(y=!y)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=h-1;m>=p;--m)o.point(b[m],_[m]);o.lineEnd(),o.areaEnd()}y&&(b[h]=+t(v,h,f),_[h]=+e(v,h,f),o.point(r?+r(v,h,f):b[h],n?+n(v,h,f):_[h]))}if(x)return o=null,x+""||null}function d(){return wW().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Pt(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Pt(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Pt(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Pt(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Pt(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Pt(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(n)},c.lineX1=function(){return d().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Pt(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class _W{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function QSe(t){return new _W(t,!0)}function eEe(t){return new _W(t,!1)}const bO={draw(t,e){const n=ka(e/x0);t.moveTo(n,0),t.arc(0,0,n,0,nw)}},tEe={draw(t,e){const n=ka(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},SW=ka(1/3),nEe=SW*2,rEe={draw(t,e){const n=ka(e/nEe),r=n*SW;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},iEe={draw(t,e){const n=ka(e),r=-n/2;t.rect(r,r,n,n)}},aEe=.8908130915292852,EW=v0(x0/10)/v0(7*x0/10),sEe=v0(nw/10)*EW,oEe=-gW(nw/10)*EW,lEe={draw(t,e){const n=ka(e*aEe),r=sEe*n,i=oEe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=nw*a/5,o=gW(s),l=v0(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},g1=ka(3),cEe={draw(t,e){const n=-ka(e/(g1*3));t.moveTo(0,n*2),t.lineTo(-g1*n,-n),t.lineTo(g1*n,-n),t.closePath()}},mi=-.5,gi=ka(3)/2,Oj=1/ka(12),uEe=(Oj/2+1)*3,dEe={draw(t,e){const n=ka(e/uEe),r=n/2,i=n*Oj,a=r,s=n*Oj+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(mi*r-gi*i,gi*r+mi*i),t.lineTo(mi*a-gi*s,gi*a+mi*s),t.lineTo(mi*o-gi*l,gi*o+mi*l),t.lineTo(mi*r+gi*i,mi*i-gi*r),t.lineTo(mi*a+gi*s,mi*s-gi*a),t.lineTo(mi*o+gi*l,mi*l-gi*o),t.closePath()}};function fEe(t,e){let n=null,r=vO(i);t=typeof t=="function"?t:Pt(t||bO),e=typeof e=="function"?e:Pt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Pt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Pt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function b0(){}function w0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function jW(t){this._context=t}jW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:w0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:w0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hEe(t){return new jW(t)}function AW(t){this._context=t}AW.prototype={areaStart:b0,areaEnd:b0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:w0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pEe(t){return new AW(t)}function CW(t){this._context=t}CW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:w0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mEe(t){return new CW(t)}function TW(t){this._context=t}TW.prototype={areaStart:b0,areaEnd:b0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function gEe(t){return new TW(t)}function yR(t){return t<0?-1:1}function vR(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(yR(a)+yR(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function xR(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function y1(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function _0(t){this._context=t}_0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:y1(this,this._t0,xR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,y1(this,xR(this,n=vR(this,t,e)),n);break;default:y1(this,this._t0,n=vR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function kW(t){this._context=new OW(t)}(kW.prototype=Object.create(_0.prototype)).point=function(t,e){_0.prototype.point.call(this,e,t)};function OW(t){this._context=t}OW.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function yEe(t){return new _0(t)}function vEe(t){return new kW(t)}function NW(t){this._context=t}NW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=bR(t),i=bR(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function bR(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function xEe(t){return new NW(t)}function iw(t,e){this._context=t,this._t=e}iw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function bEe(t){return new iw(t,.5)}function wEe(t){return new iw(t,0)}function _Ee(t){return new iw(t,1)}function Wd(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Nj(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function SEe(t,e){return t[e]}function EEe(t){const e=[];return e.key=t,e}function jEe(){var t=Pt([]),e=Nj,n=Wd,r=SEe;function i(a){var s=Array.from(t.apply(this,arguments),EEe),o,l=s.length,c=-1,d;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(f,s[o].key,c,a)]).data=f;for(o=0,d=xO(e(s));o<l;++o)s[d[o]].index=o;return n(s,d),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Pt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Pt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?Nj:typeof a=="function"?a:Pt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Wd,i):n},i}function AEe(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Wd(t,e)}}function CEe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}Wd(t,e)}}function TEe(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var d=t[e[o]],f=d[r][1]||0,h=d[r-1][1]||0,p=(f-h)/2,m=0;m<o;++m){var g=t[e[m]],v=g[r][1]||0,y=g[r-1][1]||0;p+=v-y}l+=f,c+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Wd(t,e)}}function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}var kEe=["type","size","sizeType"];function Pj(){return Pj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pj.apply(this,arguments)}function wR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _R(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(n),!0).forEach(function(r){OEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OEe(t,e,n){return e=NEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NEe(t){var e=PEe(t,"string");return Jp(e)=="symbol"?e:e+""}function PEe(t,e){if(Jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IEe(t,e){if(t==null)return{};var n=$Ee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $Ee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var PW={symbolCircle:bO,symbolCross:tEe,symbolDiamond:rEe,symbolSquare:iEe,symbolStar:lEe,symbolTriangle:cEe,symbolWye:dEe},REe=Math.PI/180,MEe=function(e){var n="symbol".concat(tw(e));return PW[n]||bO},LEe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*REe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},DEe=function(e,n){PW["symbol".concat(tw(e))]=n},wO=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=IEe(e,kEe),c=_R(_R({},l),{},{type:r,size:a,sizeType:o}),d=function(){var v=MEe(r),y=fEe().type(v).size(LEe(a,o,r));return y()},f=c.className,h=c.cx,p=c.cy,m=Fe(c,!0);return h===+h&&p===+p&&a===+a?L.createElement("path",Pj({},m,{className:Je("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};wO.registerSymbol=DEe;function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function Ij(){return Ij=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ij.apply(this,arguments)}function SR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FEe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(n),!0).forEach(function(r){Qp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$W(r.key),r)}}function UEe(t,e,n){return e&&zEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HEe(t,e,n){return e=S0(e),WEe(t,IW()?Reflect.construct(e,n||[],S0(t).constructor):e.apply(t,n))}function WEe(t,e){if(e&&(Vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VEe(t)}function VEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IW=function(){return!!t})()}function S0(t){return S0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},S0(t)}function qEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$j(t,e)}function $j(t,e){return $j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$j(t,e)}function Qp(t,e,n){return e=$W(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $W(t){var e=GEe(t,"string");return Vd(e)=="symbol"?e:e+""}function GEe(t,e){if(Vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yi=32,_O=function(t){function e(){return BEe(this,e),HEe(this,e,arguments)}return qEe(e,t),UEe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=yi/2,s=yi/6,o=yi/3,l=r.inactive?i:r.color;if(r.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:yi,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(yi,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return L.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(yi/8,"h").concat(yi,"v").concat(yi*3/4,"h").concat(-yi,"z"),className:"recharts-legend-icon"});if(L.isValidElement(r.legendIcon)){var c=FEe({},r);return delete c.legendIcon,L.cloneElement(r.legendIcon,c)}return L.createElement(wO,{fill:l,cx:a,cy:a,size:yi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:yi,height:yi},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,m){var g=p.formatter||l,v=Je(Qp(Qp({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=qe(p.value)?null:p.value;ga(!qe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?c:p.color;return L.createElement("li",Ij({className:v,style:f,key:"legend-item-".concat(m)},Lc(r.props,p,m)),L.createElement(Ej,{width:s,height:s,viewBox:d,style:h},r.renderIcon(p)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},g?g(y,p,m):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(S.PureComponent);Qp(_O,"displayName","Legend");Qp(_O,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var KEe=Ub;function YEe(){this.__data__=new KEe,this.size=0}var XEe=YEe;function ZEe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var JEe=ZEe;function QEe(t){return this.__data__.get(t)}var eje=QEe;function tje(t){return this.__data__.has(t)}var nje=tje,rje=Ub,ije=cO,aje=uO,sje=200;function oje(t,e){var n=this.__data__;if(n instanceof rje){var r=n.__data__;if(!ije||r.length<sje-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new aje(r)}return n.set(t,e),this.size=n.size,this}var lje=oje,cje=Ub,uje=XEe,dje=JEe,fje=eje,hje=nje,pje=lje;function Bf(t){var e=this.__data__=new cje(t);this.size=e.size}Bf.prototype.clear=uje;Bf.prototype.delete=dje;Bf.prototype.get=fje;Bf.prototype.has=hje;Bf.prototype.set=pje;var RW=Bf,mje="__lodash_hash_undefined__";function gje(t){return this.__data__.set(t,mje),this}var yje=gje;function vje(t){return this.__data__.has(t)}var xje=vje,bje=uO,wje=yje,_je=xje;function E0(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new bje;++e<n;)this.add(t[e])}E0.prototype.add=E0.prototype.push=wje;E0.prototype.has=_je;var MW=E0;function Sje(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var LW=Sje;function Eje(t,e){return t.has(e)}var DW=Eje,jje=MW,Aje=LW,Cje=DW,Tje=1,kje=2;function Oje(t,e,n,r,i,a){var s=n&Tje,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(t),d=a.get(e);if(c&&d)return c==e&&d==t;var f=-1,h=!0,p=n&kje?new jje:void 0;for(a.set(t,e),a.set(e,t);++f<o;){var m=t[f],g=e[f];if(r)var v=s?r(g,m,f,e,t,a):r(m,g,f,t,e,a);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!Aje(e,function(y,x){if(!Cje(p,x)&&(m===y||i(m,y,n,r,a)))return p.push(x)})){h=!1;break}}else if(!(m===g||i(m,g,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var FW=Oje,Nje=gs,Pje=Nje.Uint8Array,Ije=Pje;function $je(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Rje=$je;function Mje(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var SO=Mje,ER=hg,jR=Ije,Lje=lO,Dje=FW,Fje=Rje,Bje=SO,zje=1,Uje=2,Hje="[object Boolean]",Wje="[object Date]",Vje="[object Error]",qje="[object Map]",Gje="[object Number]",Kje="[object RegExp]",Yje="[object Set]",Xje="[object String]",Zje="[object Symbol]",Jje="[object ArrayBuffer]",Qje="[object DataView]",AR=ER?ER.prototype:void 0,v1=AR?AR.valueOf:void 0;function eAe(t,e,n,r,i,a,s){switch(n){case Qje:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Jje:return!(t.byteLength!=e.byteLength||!a(new jR(t),new jR(e)));case Hje:case Wje:case Gje:return Lje(+t,+e);case Vje:return t.name==e.name&&t.message==e.message;case Kje:case Xje:return t==e+"";case qje:var o=Fje;case Yje:var l=r&zje;if(o||(o=Bje),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=Uje,s.set(t,e);var d=Dje(o(t),o(e),r,i,a,s);return s.delete(t),d;case Zje:if(v1)return v1.call(t)==v1.call(e)}return!1}var tAe=eAe;function nAe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var BW=nAe,rAe=BW,iAe=Mr;function aAe(t,e,n){var r=e(t);return iAe(t)?r:rAe(r,n(t))}var sAe=aAe;function oAe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var lAe=oAe;function cAe(){return[]}var uAe=cAe,dAe=lAe,fAe=uAe,hAe=Object.prototype,pAe=hAe.propertyIsEnumerable,CR=Object.getOwnPropertySymbols,mAe=CR?function(t){return t==null?[]:(t=Object(t),dAe(CR(t),function(e){return pAe.call(t,e)}))}:fAe,gAe=mAe;function yAe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var vAe=yAe,xAe=uo,bAe=fo,wAe="[object Arguments]";function _Ae(t){return bAe(t)&&xAe(t)==wAe}var SAe=_Ae,TR=SAe,EAe=fo,zW=Object.prototype,jAe=zW.hasOwnProperty,AAe=zW.propertyIsEnumerable,CAe=TR(function(){return arguments}())?TR:function(t){return EAe(t)&&jAe.call(t,"callee")&&!AAe.call(t,"callee")},EO=CAe,j0={exports:{}};function TAe(){return!1}var kAe=TAe;j0.exports;(function(t,e){var n=gs,r=kAe,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(j0,j0.exports);var UW=j0.exports,OAe=9007199254740991,NAe=/^(?:0|[1-9]\d*)$/;function PAe(t,e){var n=typeof t;return e=e??OAe,!!e&&(n=="number"||n!="symbol"&&NAe.test(t))&&t>-1&&t%1==0&&t<e}var jO=PAe,IAe=9007199254740991;function $Ae(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=IAe}var AO=$Ae,RAe=uo,MAe=AO,LAe=fo,DAe="[object Arguments]",FAe="[object Array]",BAe="[object Boolean]",zAe="[object Date]",UAe="[object Error]",HAe="[object Function]",WAe="[object Map]",VAe="[object Number]",qAe="[object Object]",GAe="[object RegExp]",KAe="[object Set]",YAe="[object String]",XAe="[object WeakMap]",ZAe="[object ArrayBuffer]",JAe="[object DataView]",QAe="[object Float32Array]",eCe="[object Float64Array]",tCe="[object Int8Array]",nCe="[object Int16Array]",rCe="[object Int32Array]",iCe="[object Uint8Array]",aCe="[object Uint8ClampedArray]",sCe="[object Uint16Array]",oCe="[object Uint32Array]",zt={};zt[QAe]=zt[eCe]=zt[tCe]=zt[nCe]=zt[rCe]=zt[iCe]=zt[aCe]=zt[sCe]=zt[oCe]=!0;zt[DAe]=zt[FAe]=zt[ZAe]=zt[BAe]=zt[JAe]=zt[zAe]=zt[UAe]=zt[HAe]=zt[WAe]=zt[VAe]=zt[qAe]=zt[GAe]=zt[KAe]=zt[YAe]=zt[XAe]=!1;function lCe(t){return LAe(t)&&MAe(t.length)&&!!zt[RAe(t)]}var cCe=lCe;function uCe(t){return function(e){return t(e)}}var HW=uCe,A0={exports:{}};A0.exports;(function(t,e){var n=X7,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(A0,A0.exports);var dCe=A0.exports,fCe=cCe,hCe=HW,kR=dCe,OR=kR&&kR.isTypedArray,pCe=OR?hCe(OR):fCe,WW=pCe,mCe=vAe,gCe=EO,yCe=Mr,vCe=UW,xCe=jO,bCe=WW,wCe=Object.prototype,_Ce=wCe.hasOwnProperty;function SCe(t,e){var n=yCe(t),r=!n&&gCe(t),i=!n&&!r&&vCe(t),a=!n&&!r&&!i&&bCe(t),s=n||r||i||a,o=s?mCe(t.length,String):[],l=o.length;for(var c in t)(e||_Ce.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||xCe(c,l)))&&o.push(c);return o}var ECe=SCe,jCe=Object.prototype;function ACe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||jCe;return t===n}var CCe=ACe;function TCe(t,e){return function(n){return t(e(n))}}var VW=TCe,kCe=VW,OCe=kCe(Object.keys,Object),NCe=OCe,PCe=CCe,ICe=NCe,$Ce=Object.prototype,RCe=$Ce.hasOwnProperty;function MCe(t){if(!PCe(t))return ICe(t);var e=[];for(var n in Object(t))RCe.call(t,n)&&n!="constructor"&&e.push(n);return e}var LCe=MCe,DCe=oO,FCe=AO;function BCe(t){return t!=null&&FCe(t.length)&&!DCe(t)}var gg=BCe,zCe=ECe,UCe=LCe,HCe=gg;function WCe(t){return HCe(t)?zCe(t):UCe(t)}var aw=WCe,VCe=sAe,qCe=gAe,GCe=aw;function KCe(t){return VCe(t,GCe,qCe)}var YCe=KCe,NR=YCe,XCe=1,ZCe=Object.prototype,JCe=ZCe.hasOwnProperty;function QCe(t,e,n,r,i,a){var s=n&XCe,o=NR(t),l=o.length,c=NR(e),d=c.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in e:JCe.call(e,h)))return!1}var p=a.get(t),m=a.get(e);if(p&&m)return p==e&&m==t;var g=!0;a.set(t,e),a.set(e,t);for(var v=s;++f<l;){h=o[f];var y=t[h],x=e[h];if(r)var b=s?r(x,y,h,e,t,a):r(y,x,h,t,e,a);if(!(b===void 0?y===x||i(y,x,n,r,a):b)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var _=t.constructor,w=e.constructor;_!=w&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof w=="function"&&w instanceof w)&&(g=!1)}return a.delete(t),a.delete(e),g}var eTe=QCe,tTe=Jc,nTe=gs,rTe=tTe(nTe,"DataView"),iTe=rTe,aTe=Jc,sTe=gs,oTe=aTe(sTe,"Promise"),lTe=oTe,cTe=Jc,uTe=gs,dTe=cTe(uTe,"Set"),qW=dTe,fTe=Jc,hTe=gs,pTe=fTe(hTe,"WeakMap"),mTe=pTe,Rj=iTe,Mj=cO,Lj=lTe,Dj=qW,Fj=mTe,GW=uo,zf=J7,PR="[object Map]",gTe="[object Object]",IR="[object Promise]",$R="[object Set]",RR="[object WeakMap]",MR="[object DataView]",yTe=zf(Rj),vTe=zf(Mj),xTe=zf(Lj),bTe=zf(Dj),wTe=zf(Fj),Ql=GW;(Rj&&Ql(new Rj(new ArrayBuffer(1)))!=MR||Mj&&Ql(new Mj)!=PR||Lj&&Ql(Lj.resolve())!=IR||Dj&&Ql(new Dj)!=$R||Fj&&Ql(new Fj)!=RR)&&(Ql=function(t){var e=GW(t),n=e==gTe?t.constructor:void 0,r=n?zf(n):"";if(r)switch(r){case yTe:return MR;case vTe:return PR;case xTe:return IR;case bTe:return $R;case wTe:return RR}return e});var _Te=Ql,x1=RW,STe=FW,ETe=tAe,jTe=eTe,LR=_Te,DR=Mr,FR=UW,ATe=WW,CTe=1,BR="[object Arguments]",zR="[object Array]",wy="[object Object]",TTe=Object.prototype,UR=TTe.hasOwnProperty;function kTe(t,e,n,r,i,a){var s=DR(t),o=DR(e),l=s?zR:LR(t),c=o?zR:LR(e);l=l==BR?wy:l,c=c==BR?wy:c;var d=l==wy,f=c==wy,h=l==c;if(h&&FR(t)){if(!FR(e))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new x1),s||ATe(t)?STe(t,e,n,r,i,a):ETe(t,e,l,n,r,i,a);if(!(n&CTe)){var p=d&&UR.call(t,"__wrapped__"),m=f&&UR.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,v=m?e.value():e;return a||(a=new x1),i(g,v,n,r,a)}}return h?(a||(a=new x1),jTe(t,e,n,r,i,a)):!1}var OTe=kTe,NTe=OTe,HR=fo;function KW(t,e,n,r,i){return t===e?!0:t==null||e==null||!HR(t)&&!HR(e)?t!==t&&e!==e:NTe(t,e,n,r,KW,i)}var CO=KW,PTe=RW,ITe=CO,$Te=1,RTe=2;function MTe(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var o=n[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=n[i];var l=o[0],c=t[l],d=o[1];if(s&&o[2]){if(c===void 0&&!(l in t))return!1}else{var f=new PTe;if(r)var h=r(c,d,l,t,e,f);if(!(h===void 0?ITe(d,c,$Te|RTe,r,f):h))return!1}}return!0}var LTe=MTe,DTe=Rl;function FTe(t){return t===t&&!DTe(t)}var YW=FTe,BTe=YW,zTe=aw;function UTe(t){for(var e=zTe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,BTe(i)]}return e}var HTe=UTe;function WTe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var XW=WTe,VTe=LTe,qTe=HTe,GTe=XW;function KTe(t){var e=qTe(t);return e.length==1&&e[0][2]?GTe(e[0][0],e[0][1]):function(n){return n===t||VTe(n,t,e)}}var YTe=KTe;function XTe(t,e){return t!=null&&e in Object(t)}var ZTe=XTe,JTe=rW,QTe=EO,eke=Mr,tke=jO,nke=AO,rke=Wb;function ike(t,e,n){e=JTe(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=rke(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&nke(i)&&tke(s,i)&&(eke(t)||QTe(t)))}var ake=ike,ske=ZTe,oke=ake;function lke(t,e){return t!=null&&oke(t,e,ske)}var cke=lke,uke=CO,dke=iW,fke=cke,hke=sO,pke=YW,mke=XW,gke=Wb,yke=1,vke=2;function xke(t,e){return hke(t)&&pke(e)?mke(gke(t),e):function(n){var r=dke(n,t);return r===void 0&&r===e?fke(n,t):uke(e,r,yke|vke)}}var bke=xke;function wke(t){return t}var Uf=wke;function _ke(t){return function(e){return e==null?void 0:e[t]}}var Ske=_ke,Eke=hO;function jke(t){return function(e){return Eke(e,t)}}var Ake=jke,Cke=Ske,Tke=Ake,kke=sO,Oke=Wb;function Nke(t){return kke(t)?Cke(Oke(t)):Tke(t)}var Pke=Nke,Ike=YTe,$ke=bke,Rke=Uf,Mke=Mr,Lke=Pke;function Dke(t){return typeof t=="function"?t:t==null?Rke:typeof t=="object"?Mke(t)?$ke(t[0],t[1]):Ike(t):Lke(t)}var ys=Dke;function Fke(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var ZW=Fke;function Bke(t){return t!==t}var zke=Bke;function Uke(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Hke=Uke,Wke=ZW,Vke=zke,qke=Hke;function Gke(t,e,n){return e===e?qke(t,e,n):Wke(t,Vke,n)}var Kke=Gke,Yke=Kke;function Xke(t,e){var n=t==null?0:t.length;return!!n&&Yke(t,e,0)>-1}var Zke=Xke;function Jke(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Qke=Jke;function eOe(){}var tOe=eOe,b1=qW,nOe=tOe,rOe=SO,iOe=1/0,aOe=b1&&1/rOe(new b1([,-0]))[1]==iOe?function(t){return new b1(t)}:nOe,sOe=aOe,oOe=MW,lOe=Zke,cOe=Qke,uOe=DW,dOe=sOe,fOe=SO,hOe=200;function pOe(t,e,n){var r=-1,i=lOe,a=t.length,s=!0,o=[],l=o;if(n)s=!1,i=cOe;else if(a>=hOe){var c=e?null:dOe(t);if(c)return fOe(c);s=!1,i=uOe,l=new oOe}else l=e?[]:o;e:for(;++r<a;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),o.push(d)}else i(l,f,n)||(l!==o&&l.push(f),o.push(d))}return o}var mOe=pOe,gOe=ys,yOe=mOe;function vOe(t,e){return t&&t.length?yOe(t,gOe(e)):[]}var xOe=vOe;const WR=at(xOe);function JW(t,e,n){return e===!0?WR(t,n):qe(e)?WR(t,e):t}function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}var bOe=["ref"];function VR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ws(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(n),!0).forEach(function(r){sw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eV(r.key),r)}}function _Oe(t,e,n){return e&&qR(t.prototype,e),n&&qR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function SOe(t,e,n){return e=C0(e),EOe(t,QW()?Reflect.construct(e,n||[],C0(t).constructor):e.apply(t,n))}function EOe(t,e){if(e&&(qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jOe(t)}function jOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QW=function(){return!!t})()}function C0(t){return C0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},C0(t)}function AOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bj(t,e)}function Bj(t,e){return Bj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bj(t,e)}function sw(t,e,n){return e=eV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eV(t){var e=COe(t,"string");return qd(e)=="symbol"?e:e+""}function COe(t,e){if(qd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TOe(t,e){if(t==null)return{};var n=kOe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OOe(t){return t.value}function NOe(t,e){if(L.isValidElement(t))return L.cloneElement(t,e);if(typeof t=="function")return L.createElement(t,e);e.ref;var n=TOe(e,bOe);return L.createElement(_O,n)}var GR=1,rl=function(t){function e(){var n;wOe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=SOe(this,e,[].concat(i)),sw(n,"lastBoundingBox",{width:-1,height:-1}),n}return AOe(e,t),_Oe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>GR||Math.abs(i.height-this.lastBoundingBox.height)>GR)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ws({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ws(ws({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,f=ws(ws({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return L.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},NOe(a,ws(ws({},this.props),{},{payload:JW(d,c,OOe)})))}}],[{key:"getWithHeight",value:function(r,i){var a=ws(ws({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&pe(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(S.PureComponent);sw(rl,"displayName","Legend");sw(rl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var KR=hg,POe=EO,IOe=Mr,YR=KR?KR.isConcatSpreadable:void 0;function $Oe(t){return IOe(t)||POe(t)||!!(YR&&t&&t[YR])}var ROe=$Oe,MOe=BW,LOe=ROe;function tV(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=LOe),i||(i=[]);++a<s;){var o=t[a];e>0&&n(o)?e>1?tV(o,e-1,n,r,i):MOe(i,o):r||(i[i.length]=o)}return i}var nV=tV;function DOe(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var l=s[t?o:++i];if(n(a[l],l,a)===!1)break}return e}}var FOe=DOe,BOe=FOe,zOe=BOe(),UOe=zOe,HOe=UOe,WOe=aw;function VOe(t,e){return t&&HOe(t,e,WOe)}var rV=VOe,qOe=gg;function GOe(t,e){return function(n,r){if(n==null)return n;if(!qOe(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var KOe=GOe,YOe=rV,XOe=KOe,ZOe=XOe(YOe),TO=ZOe,JOe=TO,QOe=gg;function eNe(t,e){var n=-1,r=QOe(t)?Array(t.length):[];return JOe(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var iV=eNe;function tNe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var nNe=tNe,XR=$f;function rNe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=XR(t),s=e!==void 0,o=e===null,l=e===e,c=XR(e);if(!o&&!c&&!a&&t>e||a&&s&&l&&!o&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!l)return-1}return 0}var iNe=rNe,aNe=iNe;function sNe(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,o=n.length;++r<s;){var l=aNe(i[r],a[r]);if(l){if(r>=o)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var oNe=sNe,w1=fO,lNe=hO,cNe=ys,uNe=iV,dNe=nNe,fNe=HW,hNe=oNe,pNe=Uf,mNe=Mr;function gNe(t,e,n){e.length?e=w1(e,function(a){return mNe(a)?function(s){return lNe(s,a.length===1?a[0]:a)}:a}):e=[pNe];var r=-1;e=w1(e,fNe(cNe));var i=uNe(t,function(a,s,o){var l=w1(e,function(c){return c(a)});return{criteria:l,index:++r,value:a}});return dNe(i,function(a,s){return hNe(a,s,n)})}var yNe=gNe;function vNe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var xNe=vNe,bNe=xNe,ZR=Math.max;function wNe(t,e,n){return e=ZR(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=ZR(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(s),bNe(t,this,o)}}var _Ne=wNe;function SNe(t){return function(){return t}}var ENe=SNe,jNe=Jc,ANe=function(){try{var t=jNe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),aV=ANe,CNe=ENe,JR=aV,TNe=Uf,kNe=JR?function(t,e){return JR(t,"toString",{configurable:!0,enumerable:!1,value:CNe(e),writable:!0})}:TNe,ONe=kNe,NNe=800,PNe=16,INe=Date.now;function $Ne(t){var e=0,n=0;return function(){var r=INe(),i=PNe-(r-n);if(n=r,i>0){if(++e>=NNe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var RNe=$Ne,MNe=ONe,LNe=RNe,DNe=LNe(MNe),FNe=DNe,BNe=Uf,zNe=_Ne,UNe=FNe;function HNe(t,e){return UNe(zNe(t,e,BNe),t+"")}var WNe=HNe,VNe=lO,qNe=gg,GNe=jO,KNe=Rl;function YNe(t,e,n){if(!KNe(n))return!1;var r=typeof e;return(r=="number"?qNe(n)&&GNe(e,n.length):r=="string"&&e in n)?VNe(n[e],t):!1}var ow=YNe,XNe=nV,ZNe=yNe,JNe=WNe,QR=ow,QNe=JNe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&QR(t,e[0],e[1])?e=[]:n>2&&QR(e[0],e[1],e[2])&&(e=[e[0]]),ZNe(t,XNe(e,1),[])}),ePe=QNe;const kO=at(ePe);function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function zj(){return zj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zj.apply(this,arguments)}function tPe(t,e){return aPe(t)||iPe(t,e)||rPe(t,e)||nPe()}function nPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rPe(t,e){if(t){if(typeof t=="string")return eM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eM(t,e)}}function eM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function aPe(t){if(Array.isArray(t))return t}function tM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(n),!0).forEach(function(r){sPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sPe(t,e,n){return e=oPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oPe(t){var e=lPe(t,"string");return em(e)=="symbol"?e:e+""}function lPe(t,e){if(em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cPe(t){return Array.isArray(t)&&En(t[0])&&En(t[1])?t.join(" ~ "):t}var uPe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,v=e.labelFormatter,y=e.accessibilityLayer,x=y===void 0?!1:y,b=function(){if(d&&d.length){var P={padding:0,margin:0},H=(h?kO(d,h):d).map(function(R,B){if(R.type==="none")return null;var U=_1({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},o),W=R.formatter||f||cPe,M=R.value,D=R.name,N=M,V=D;if(W&&N!=null&&V!=null){var G=W(M,D,R,B,d);if(Array.isArray(G)){var $=tPe(G,2);N=$[0],V=$[1]}else N=G}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:U},En(V)?L.createElement("span",{className:"recharts-tooltip-item-name"},V):null,En(V)?L.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,L.createElement("span",{className:"recharts-tooltip-item-value"},N),L.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:P},H)}return null},_=_1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=_1({margin:0},c),E=!Xe(g),A=E?g:"",j=Je("recharts-default-tooltip",p),C=Je("recharts-tooltip-label",m);E&&v&&d!==void 0&&d!==null&&(A=v(g,d));var T=x?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",zj({className:j,style:_},T),L.createElement("p",{className:C,style:w},L.isValidElement(A)?A:"".concat(A)),b())};function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function _y(t,e,n){return e=dPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dPe(t){var e=fPe(t,"string");return tm(e)=="symbol"?e:e+""}function fPe(t,e){if(tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fh="recharts-tooltip-wrapper",hPe={visibility:"hidden"};function pPe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Je(fh,_y(_y(_y(_y({},"".concat(fh,"-right"),pe(n)&&e&&pe(e.x)&&n>=e.x),"".concat(fh,"-left"),pe(n)&&e&&pe(e.x)&&n<e.x),"".concat(fh,"-bottom"),pe(r)&&e&&pe(e.y)&&r>=e.y),"".concat(fh,"-top"),pe(r)&&e&&pe(e.y)&&r<e.y))}function nM(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&pe(a[r]))return a[r];var d=n[r]-o-i,f=n[r]+i;if(e[r])return s[r]?d:f;if(s[r]){var h=d,p=l[r];return h<p?Math.max(f,l[r]):Math.max(d,l[r])}var m=f+o,g=l[r]+c;return m>g?Math.max(d,l[r]):Math.max(f,l[r])}function mPe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function gPe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,d,f;return s.height>0&&s.width>0&&n?(d=nM({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=nM({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=mPe({translateX:d,translateY:f,useTranslate3d:o})):c=hPe,{cssProperties:c,cssClasses:pPe({translateX:d,translateY:f,coordinate:n})}}function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function rM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(n),!0).forEach(function(r){Hj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oV(r.key),r)}}function xPe(t,e,n){return e&&vPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bPe(t,e,n){return e=T0(e),wPe(t,sV()?Reflect.construct(e,n||[],T0(t).constructor):e.apply(t,n))}function wPe(t,e){if(e&&(Gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Pe(t)}function _Pe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sV=function(){return!!t})()}function T0(t){return T0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},T0(t)}function SPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uj(t,e)}function Uj(t,e){return Uj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Uj(t,e)}function Hj(t,e,n){return e=oV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oV(t){var e=EPe(t,"string");return Gd(e)=="symbol"?e:e+""}function EPe(t,e){if(Gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aM=1,jPe=function(t){function e(){var n;yPe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=bPe(this,e,[].concat(i)),Hj(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Hj(n,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),n}return SPe(e,t),xPe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>aM||Math.abs(r.height-this.state.lastBoundingBox.height)>aM)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,v=i.useTranslate3d,y=i.viewBox,x=i.wrapperStyle,b=gPe({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),_=b.cssClasses,w=b.cssProperties,E=iM(iM({transition:h&&a?"transform ".concat(o,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return L.createElement("div",{tabIndex:-1,className:_,style:E,ref:function(j){r.wrapperNode=j}},c)}}])}(S.PureComponent),APe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ns={isSsr:APe(),get:function(e){return ns[e]},set:function(e,n){if(typeof e=="string")ns[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){ns[i]=e[i]})}}};function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function sM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sM(Object(n),!0).forEach(function(r){OO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cV(r.key),r)}}function kPe(t,e,n){return e&&TPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OPe(t,e,n){return e=k0(e),NPe(t,lV()?Reflect.construct(e,n||[],k0(t).constructor):e.apply(t,n))}function NPe(t,e){if(e&&(Kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PPe(t)}function PPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lV=function(){return!!t})()}function k0(t){return k0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},k0(t)}function IPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wj(t,e)}function Wj(t,e){return Wj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wj(t,e)}function OO(t,e,n){return e=cV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cV(t){var e=$Pe(t,"string");return Kd(e)=="symbol"?e:e+""}function $Pe(t,e){if(Kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RPe(t){return t.dataKey}function MPe(t,e){return L.isValidElement(t)?L.cloneElement(t,e):typeof t=="function"?L.createElement(t,e):L.createElement(uPe,e)}var lr=function(t){function e(){return CPe(this,e),OPe(this,e,arguments)}return IPe(e,t),kPe(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,v=i.position,y=i.reverseDirection,x=i.useTranslate3d,b=i.viewBox,_=i.wrapperStyle,w=m??[];f&&w.length&&(w=JW(m.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),g,RPe));var E=w.length>0;return L.createElement(jPe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:a,coordinate:d,hasPayload:E,offset:p,position:v,reverseDirection:y,useTranslate3d:x,viewBox:b,wrapperStyle:_},MPe(c,oM(oM({},this.props),{},{payload:w})))}}])}(S.PureComponent);OO(lr,"displayName","Tooltip");OO(lr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ns.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var LPe=gs,DPe=function(){return LPe.Date.now()},FPe=DPe,BPe=/\s/;function zPe(t){for(var e=t.length;e--&&BPe.test(t.charAt(e)););return e}var UPe=zPe,HPe=UPe,WPe=/^\s+/;function VPe(t){return t&&t.slice(0,HPe(t)+1).replace(WPe,"")}var qPe=VPe,GPe=qPe,lM=Rl,KPe=$f,cM=NaN,YPe=/^[-+]0x[0-9a-f]+$/i,XPe=/^0b[01]+$/i,ZPe=/^0o[0-7]+$/i,JPe=parseInt;function QPe(t){if(typeof t=="number")return t;if(KPe(t))return cM;if(lM(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=lM(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=GPe(t);var n=XPe.test(t);return n||ZPe.test(t)?JPe(t.slice(2),n?2:8):YPe.test(t)?cM:+t}var uV=QPe,eIe=Rl,S1=FPe,uM=uV,tIe="Expected a function",nIe=Math.max,rIe=Math.min;function iIe(t,e,n){var r,i,a,s,o,l,c=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(tIe);e=uM(e)||0,eIe(n)&&(d=!!n.leading,f="maxWait"in n,a=f?nIe(uM(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function p(E){var A=r,j=i;return r=i=void 0,c=E,s=t.apply(j,A),s}function m(E){return c=E,o=setTimeout(y,e),d?p(E):s}function g(E){var A=E-l,j=E-c,C=e-A;return f?rIe(C,a-j):C}function v(E){var A=E-l,j=E-c;return l===void 0||A>=e||A<0||f&&j>=a}function y(){var E=S1();if(v(E))return x(E);o=setTimeout(y,g(E))}function x(E){return o=void 0,h&&r?p(E):(r=i=void 0,s)}function b(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function _(){return o===void 0?s:x(S1())}function w(){var E=S1(),A=v(E);if(r=arguments,i=this,l=E,A){if(o===void 0)return m(l);if(f)return clearTimeout(o),o=setTimeout(y,e),p(l)}return o===void 0&&(o=setTimeout(y,e)),s}return w.cancel=b,w.flush=_,w}var aIe=iIe,sIe=aIe,oIe=Rl,lIe="Expected a function";function cIe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(lIe);return oIe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),sIe(t,e,{leading:r,maxWait:e,trailing:i})}var uIe=cIe;const dV=at(uIe);function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}function dM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(n),!0).forEach(function(r){dIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dIe(t,e,n){return e=fIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fIe(t){var e=hIe(t,"string");return nm(e)=="symbol"?e:e+""}function hIe(t,e){if(nm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pIe(t,e){return vIe(t)||yIe(t,e)||gIe(t,e)||mIe()}function mIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gIe(t,e){if(t){if(typeof t=="string")return fM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fM(t,e)}}function fM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function vIe(t){if(Array.isArray(t))return t}var cd=S.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,d=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,v=t.id,y=t.className,x=t.onResize,b=t.style,_=b===void 0?{}:b,w=S.useRef(null),E=S.useRef();E.current=x,S.useImperativeHandle(e,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var A=S.useState({containerWidth:i.width,containerHeight:i.height}),j=pIe(A,2),C=j[0],T=j[1],O=S.useCallback(function(H,R){T(function(B){var U=Math.round(H),W=Math.round(R);return B.containerWidth===U&&B.containerHeight===W?B:{containerWidth:U,containerHeight:W}})},[]);S.useEffect(function(){var H=function(D){var N,V=D[0].contentRect,G=V.width,$=V.height;O(G,$),(N=E.current)===null||N===void 0||N.call(E,G,$)};g>0&&(H=dV(H,g,{trailing:!0,leading:!1}));var R=new ResizeObserver(H),B=w.current.getBoundingClientRect(),U=B.width,W=B.height;return O(U,W),R.observe(w.current),function(){R.disconnect()}},[O,g]);var P=S.useMemo(function(){var H=C.containerWidth,R=C.containerHeight;if(H<0||R<0)return null;ga(oc(s)||oc(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),ga(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=oc(s)?H:s,U=oc(l)?R:l;n&&n>0&&(B?U=B/n:U&&(B=U*n),h&&U>h&&(U=h)),ga(B>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,U,s,l,d,f,n);var W=!Array.isArray(p)&&Hs(p.type).endsWith("Chart");return L.Children.map(p,function(M){return oW.isElement(M)?S.cloneElement(M,Sy({width:B,height:U},W?{style:Sy({height:"100%",width:"100%",maxHeight:U,maxWidth:B},M.props.style)}:{})):M})},[n,p,l,h,f,d,C,s]);return L.createElement("div",{id:v?"".concat(v):void 0,className:Je("recharts-responsive-container",y),style:Sy(Sy({},_),{},{width:s,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:w},P)}),yg=function(e){return null};yg.displayName="Cell";function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}function hM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(n),!0).forEach(function(r){xIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xIe(t,e,n){return e=bIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bIe(t){var e=wIe(t,"string");return rm(e)=="symbol"?e:e+""}function wIe(t,e){if(rm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gu={widthCache:{},cacheCount:0},_Ie=2e3,SIe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},pM="recharts_measurement_span";function EIe(t){var e=Vj({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var rp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ns.isSsr)return{width:0,height:0};var r=EIe(n),i=JSON.stringify({text:e,copyStyle:r});if(gu.widthCache[i])return gu.widthCache[i];try{var a=document.getElementById(pM);a||(a=document.createElement("span"),a.setAttribute("id",pM),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=Vj(Vj({},SIe),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return gu.widthCache[i]=l,++gu.cacheCount>_Ie&&(gu.cacheCount=0,gu.widthCache={}),l}catch{return{width:0,height:0}}},jIe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function O0(t,e){return kIe(t)||TIe(t,e)||CIe(t,e)||AIe()}function AIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CIe(t,e){if(t){if(typeof t=="string")return mM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mM(t,e)}}function mM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function kIe(t){if(Array.isArray(t))return t}function OIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PIe(r.key),r)}}function NIe(t,e,n){return e&&gM(t.prototype,e),n&&gM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function PIe(t){var e=IIe(t,"string");return im(e)=="symbol"?e:e+""}function IIe(t,e){if(im(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$Ie=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,RIe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},MIe=Object.keys(fV),Hu="NaN";function LIe(t,e){return t*fV[e]}var Ey=function(){function t(e,n){OIe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!$Ie.test(n)&&(this.num=NaN,this.unit=""),MIe.includes(n)&&(this.num=LIe(e,n),this.unit="px")}return NIe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=RIe.exec(n))!==null&&r!==void 0?r:[],a=O0(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function hV(t){if(t.includes(Hu))return Hu;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=yM.exec(e))!==null&&n!==void 0?n:[],i=O0(r,4),a=i[1],s=i[2],o=i[3],l=Ey.parse(a??""),c=Ey.parse(o??""),d=s==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Hu;e=e.replace(yM,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=vM.exec(e))!==null&&f!==void 0?f:[],p=O0(h,4),m=p[1],g=p[2],v=p[3],y=Ey.parse(m??""),x=Ey.parse(v??""),b=g==="+"?y.add(x):y.subtract(x);if(b.isNaN())return Hu;e=e.replace(vM,b.toString())}return e}var xM=/\(([^()]*)\)/;function DIe(t){for(var e=t;e.includes("(");){var n=xM.exec(e),r=O0(n,2),i=r[1];e=e.replace(xM,hV(i))}return e}function FIe(t){var e=t.replace(/\s+/g,"");return e=DIe(e),e=hV(e),e}function BIe(t){try{return FIe(t)}catch{return Hu}}function E1(t){var e=BIe(t.slice(5,-1));return e===Hu?"":e}var zIe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],UIe=["dx","dy","angle","className","breakAll"];function qj(){return qj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qj.apply(this,arguments)}function bM(t,e){if(t==null)return{};var n=HIe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wM(t,e){return GIe(t)||qIe(t,e)||VIe(t,e)||WIe()}function WIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VIe(t,e){if(t){if(typeof t=="string")return _M(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _M(t,e)}}function _M(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function GIe(t){if(Array.isArray(t))return t}var pV=/[ \f\n\r\t\v\u2028\u2029]+/,mV=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Xe(n)||(r?a=n.toString().split(""):a=n.toString().split(pV));var s=a.map(function(l){return{word:l,width:rp(l,i).width}}),o=r?0:rp("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},KIe=function(e,n,r,i,a){var s=e.maxLines,o=e.children,l=e.style,c=e.breakAll,d=pe(s),f=o,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(U,W){var M=W.word,D=W.width,N=U[U.length-1];if(N&&(i==null||a||N.width+D+r<Number(i)))N.words.push(M),N.width+=D+r;else{var V={words:[M],width:D};U.push(V)}return U},[])},p=h(n),m=function(B){return B.reduce(function(U,W){return U.width>W.width?U:W})};if(!d)return p;for(var g="",v=function(B){var U=f.slice(0,B),W=mV({breakAll:c,style:l,children:U+g}).wordsWithComputedWidth,M=h(W),D=M.length>s||m(M).width>Number(i);return[D,M]},y=0,x=f.length-1,b=0,_;y<=x&&b<=f.length-1;){var w=Math.floor((y+x)/2),E=w-1,A=v(E),j=wM(A,2),C=j[0],T=j[1],O=v(w),P=wM(O,1),H=P[0];if(!C&&!H&&(y=w+1),C&&H&&(x=w-1),!C&&H){_=T;break}b++}return _||p},SM=function(e){var n=Xe(e)?[]:e.toString().split(pV);return[{words:n}]},YIe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((n||r)&&!ns.isSsr){var l,c,d=mV({breakAll:s,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,c=h}else return SM(i);return KIe({breakAll:s,children:i,maxLines:o,style:a},l,c,n,r)}return SM(i)},EM="#808080",Dc=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,p=h===void 0?"start":h,m=e.verticalAnchor,g=m===void 0?"end":m,v=e.fill,y=v===void 0?EM:v,x=bM(e,zIe),b=S.useMemo(function(){return YIe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),_=x.dx,w=x.dy,E=x.angle,A=x.className,j=x.breakAll,C=bM(x,UIe);if(!En(r)||!En(a))return null;var T=r+(pe(_)?_:0),O=a+(pe(w)?w:0),P;switch(g){case"start":P=E1("calc(".concat(c,")"));break;case"middle":P=E1("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:P=E1("calc(".concat(b.length-1," * -").concat(o,")"));break}var H=[];if(f){var R=b[0].width,B=x.width;H.push("scale(".concat((pe(B)?B/R:1)/R,")"))}return E&&H.push("rotate(".concat(E,", ").concat(T,", ").concat(O,")")),H.length&&(C.transform=H.join(" ")),L.createElement("text",qj({},Fe(C,!0),{x:T,y:O,className:Je("recharts-text",A),textAnchor:p,fill:y.includes("url")?EM:y}),b.map(function(U,W){var M=U.words.join(j?"":" ");return L.createElement("tspan",{x:T,dy:W===0?P:o,key:"".concat(M,"-").concat(W)},M)}))};function il(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function XIe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function NO(t){let e,n,r;t.length!==2?(e=il,n=(o,l)=>il(t(o),l),r=(o,l)=>t(o)-l):(e=t===il||t===XIe?t:ZIe,n=t,r=t);function i(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<0?c=f+1:d=f}while(c<d)}return c}function a(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function s(o,l,c=0,d=o.length){const f=i(o,l,c,d-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function ZIe(){return 0}function gV(t){return t===null?NaN:+t}function*JIe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const QIe=NO(il),vg=QIe.right;NO(gV).center;class jM extends Map{constructor(e,n=n2e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(AM(this,e))}has(e){return super.has(AM(this,e))}set(e,n){return super.set(e2e(this,e),n)}delete(e){return super.delete(t2e(this,e))}}function AM({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function e2e({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function t2e({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function n2e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function r2e(t=il){if(t===il)return yV;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function yV(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const i2e=Math.sqrt(50),a2e=Math.sqrt(10),s2e=Math.sqrt(2);function N0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=i2e?10:a>=a2e?5:a>=s2e?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?N0(t,e,n*2):[o,l,c]}function Gj(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?N0(e,t,n):N0(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function Kj(t,e,n){return e=+e,t=+t,n=+n,N0(t,e,n)[2]}function Yj(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Kj(e,t,n):Kj(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function CM(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function TM(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function vV(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?yV:r2e(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*f/l+h)),m=Math.min(r,Math.floor(e+(l-c)*f/l+h));vV(t,e,p,m,i)}const a=t[e];let s=n,o=r;for(hh(t,n,e),i(t[r],a)>0&&hh(t,n,r);s<o;){for(hh(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?hh(t,n,o):(++o,hh(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function hh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function o2e(t,e,n){if(t=Float64Array.from(JIe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return TM(t);if(e>=1)return CM(t);var r,i=(r-1)*e,a=Math.floor(i),s=CM(vV(t,a).subarray(0,a+1)),o=TM(t.subarray(a+1));return s+(o-s)*(i-a)}}function l2e(t,e,n=gV){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function c2e(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Ui(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ho(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Xj=Symbol("implicit");function PO(){var t=new jM,e=[],n=[],r=Xj;function i(a){let s=t.get(a);if(s===void 0){if(r!==Xj)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new jM;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return PO(e,n).unknown(r)},Ui.apply(i,arguments),i}function am(){var t=PO().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,c=0,d=.5;delete t.unknown;function f(){var h=e().length,p=i<r,m=p?i:r,g=p?r:i;a=(g-m)/Math.max(1,h-l+c*2),o&&(a=Math.floor(a)),m+=(g-m-a*(h-l))*d,s=a*(1-l),o&&(m=Math.round(m),s=Math.round(s));var v=c2e(h).map(function(y){return m+a*y});return n(p?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(o=!!h,f()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return am(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},Ui.apply(f(),arguments)}function xV(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return xV(e())},t}function ip(){return xV(am.apply(null,arguments).paddingInner(1))}function IO(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function bV(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function xg(){}var sm=.7,P0=1/sm,ud="\\s*([+-]?\\d+)\\s*",om="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u2e=/^#([0-9a-f]{3,8})$/,d2e=new RegExp(`^rgb\\(${ud},${ud},${ud}\\)$`),f2e=new RegExp(`^rgb\\(${rs},${rs},${rs}\\)$`),h2e=new RegExp(`^rgba\\(${ud},${ud},${ud},${om}\\)$`),p2e=new RegExp(`^rgba\\(${rs},${rs},${rs},${om}\\)$`),m2e=new RegExp(`^hsl\\(${om},${rs},${rs}\\)$`),g2e=new RegExp(`^hsla\\(${om},${rs},${rs},${om}\\)$`),kM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};IO(xg,lm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:OM,formatHex:OM,formatHex8:y2e,formatHsl:v2e,formatRgb:NM,toString:NM});function OM(){return this.rgb().formatHex()}function y2e(){return this.rgb().formatHex8()}function v2e(){return wV(this).formatHsl()}function NM(){return this.rgb().formatRgb()}function lm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=u2e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?PM(e):n===3?new kr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?jy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?jy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=d2e.exec(t))?new kr(e[1],e[2],e[3],1):(e=f2e.exec(t))?new kr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=h2e.exec(t))?jy(e[1],e[2],e[3],e[4]):(e=p2e.exec(t))?jy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=m2e.exec(t))?RM(e[1],e[2]/100,e[3]/100,1):(e=g2e.exec(t))?RM(e[1],e[2]/100,e[3]/100,e[4]):kM.hasOwnProperty(t)?PM(kM[t]):t==="transparent"?new kr(NaN,NaN,NaN,0):null}function PM(t){return new kr(t>>16&255,t>>8&255,t&255,1)}function jy(t,e,n,r){return r<=0&&(t=e=n=NaN),new kr(t,e,n,r)}function x2e(t){return t instanceof xg||(t=lm(t)),t?(t=t.rgb(),new kr(t.r,t.g,t.b,t.opacity)):new kr}function Zj(t,e,n,r){return arguments.length===1?x2e(t):new kr(t,e,n,r??1)}function kr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}IO(kr,Zj,bV(xg,{brighter(t){return t=t==null?P0:Math.pow(P0,t),new kr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?sm:Math.pow(sm,t),new kr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new kr(_c(this.r),_c(this.g),_c(this.b),I0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:IM,formatHex:IM,formatHex8:b2e,formatRgb:$M,toString:$M}));function IM(){return`#${lc(this.r)}${lc(this.g)}${lc(this.b)}`}function b2e(){return`#${lc(this.r)}${lc(this.g)}${lc(this.b)}${lc((isNaN(this.opacity)?1:this.opacity)*255)}`}function $M(){const t=I0(this.opacity);return`${t===1?"rgb(":"rgba("}${_c(this.r)}, ${_c(this.g)}, ${_c(this.b)}${t===1?")":`, ${t})`}`}function I0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _c(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function lc(t){return t=_c(t),(t<16?"0":"")+t.toString(16)}function RM(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new la(t,e,n,r)}function wV(t){if(t instanceof la)return new la(t.h,t.s,t.l,t.opacity);if(t instanceof xg||(t=lm(t)),!t)return new la;if(t instanceof la)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new la(s,o,l,t.opacity)}function w2e(t,e,n,r){return arguments.length===1?wV(t):new la(t,e,n,r??1)}function la(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}IO(la,w2e,bV(xg,{brighter(t){return t=t==null?P0:Math.pow(P0,t),new la(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?sm:Math.pow(sm,t),new la(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new kr(j1(t>=240?t-240:t+120,i,r),j1(t,i,r),j1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new la(MM(this.h),Ay(this.s),Ay(this.l),I0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=I0(this.opacity);return`${t===1?"hsl(":"hsla("}${MM(this.h)}, ${Ay(this.s)*100}%, ${Ay(this.l)*100}%${t===1?")":`, ${t})`}`}}));function MM(t){return t=(t||0)%360,t<0?t+360:t}function Ay(t){return Math.max(0,Math.min(1,t||0))}function j1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const $O=t=>()=>t;function _2e(t,e){return function(n){return t+n*e}}function S2e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function E2e(t){return(t=+t)==1?_V:function(e,n){return n-e?S2e(e,n,t):$O(isNaN(e)?n:e)}}function _V(t,e){var n=e-t;return n?_2e(t,n):$O(isNaN(t)?e:t)}const LM=function t(e){var n=E2e(e);function r(i,a){var s=n((i=Zj(i)).r,(a=Zj(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=_V(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=t,r}(1);function j2e(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function A2e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function C2e(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Hf(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function T2e(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function $0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function k2e(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Hf(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Jj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,A1=new RegExp(Jj.source,"g");function O2e(t){return function(){return t}}function N2e(t){return function(e){return t(e)+""}}function P2e(t,e){var n=Jj.lastIndex=A1.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=Jj.exec(t))&&(i=A1.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:$0(r,i)})),n=A1.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?N2e(l[0].x):O2e(e):(e=l.length,function(c){for(var d=0,f;d<e;++d)o[(f=l[d]).i]=f.x(c);return o.join("")})}function Hf(t,e){var n=typeof e,r;return e==null||n==="boolean"?$O(e):(n==="number"?$0:n==="string"?(r=lm(e))?(e=r,LM):P2e:e instanceof lm?LM:e instanceof Date?T2e:A2e(e)?j2e:Array.isArray(e)?C2e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?k2e:$0)(t,e)}function RO(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function I2e(t,e){e===void 0&&(e=t,t=Hf);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function $2e(t){return function(){return t}}function R0(t){return+t}var DM=[0,1];function hr(t){return t}function Qj(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:$2e(isNaN(e)?NaN:.5)}function R2e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function M2e(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=Qj(i,r),a=n(s,a)):(r=Qj(r,i),a=n(a,s)),function(o){return a(r(o))}}function L2e(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=Qj(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=vg(t,o,1,r)-1;return a[l](i[l](o))}}function bg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function lw(){var t=DM,e=DM,n=Hf,r,i,a,s=hr,o,l,c;function d(){var h=Math.min(t.length,e.length);return s!==hr&&(s=R2e(t[0],t[h-1])),o=h>2?L2e:M2e,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((c||(c=o(e,t.map(r),$0)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,R0),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=RO,d()},f.clamp=function(h){return arguments.length?(s=h?!0:hr,d()):s!==hr},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return r=h,i=p,d()}}function MO(){return lw()(hr,hr)}function D2e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function M0(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Yd(t){return t=M0(Math.abs(t)),t?t[1]:NaN}function F2e(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function B2e(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var z2e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cm(t){if(!(e=z2e.exec(t)))throw new Error("invalid format: "+t);var e;return new LO({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}cm.prototype=LO.prototype;function LO(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}LO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function U2e(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var SV;function H2e(t,e){var n=M0(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(SV=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+M0(t,Math.max(0,e+a-1))[0]}function FM(t,e){var n=M0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const BM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:D2e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>FM(t*100,e),r:FM,s:H2e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function zM(t){return t}var UM=Array.prototype.map,HM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function W2e(t){var e=t.grouping===void 0||t.thousands===void 0?zM:F2e(UM.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?zM:B2e(UM.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=cm(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,v=f.zero,y=f.width,x=f.comma,b=f.precision,_=f.trim,w=f.type;w==="n"?(x=!0,w="g"):BM[w]||(b===void 0&&(b=12),_=!0,w="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var E=g==="$"?n:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",A=g==="$"?r:/[%p]/.test(w)?s:"",j=BM[w],C=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function T(O){var P=E,H=A,R,B,U;if(w==="c")H=j(O)+H,O="";else{O=+O;var W=O<0||1/O<0;if(O=isNaN(O)?l:j(Math.abs(O),b),_&&(O=U2e(O)),W&&+O==0&&m!=="+"&&(W=!1),P=(W?m==="("?m:o:m==="-"||m==="("?"":m)+P,H=(w==="s"?HM[8+SV/3]:"")+H+(W&&m==="("?")":""),C){for(R=-1,B=O.length;++R<B;)if(U=O.charCodeAt(R),48>U||U>57){H=(U===46?i+O.slice(R+1):O.slice(R))+H,O=O.slice(0,R);break}}}x&&!v&&(O=e(O,1/0));var M=P.length+O.length+H.length,D=M<y?new Array(y-M+1).join(h):"";switch(x&&v&&(O=e(D+O,D.length?y-H.length:1/0),D=""),p){case"<":O=P+O+H+D;break;case"=":O=P+D+O+H;break;case"^":O=D.slice(0,M=D.length>>1)+P+O+H+D.slice(M);break;default:O=D+P+O+H;break}return a(O)}return T.toString=function(){return f+""},T}function d(f,h){var p=c((f=cm(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Yd(h)/3)))*3,g=Math.pow(10,-m),v=HM[8+m/3];return function(y){return p(g*y)+v}}return{format:c,formatPrefix:d}}var Cy,DO,EV;V2e({thousands:",",grouping:[3],currency:["$",""]});function V2e(t){return Cy=W2e(t),DO=Cy.format,EV=Cy.formatPrefix,Cy}function q2e(t){return Math.max(0,-Yd(Math.abs(t)))}function G2e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yd(e)/3)))*3-Yd(Math.abs(t)))}function K2e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Yd(e)-Yd(t))+1}function jV(t,e,n,r){var i=Yj(t,e,n),a;switch(r=cm(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=G2e(i,s))&&(r.precision=a),EV(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=K2e(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=q2e(i))&&(r.precision=a-(r.type==="%")*2);break}}return DO(r)}function Ml(t){var e=t.domain;return t.ticks=function(n){var r=e();return Gj(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return jV(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,d=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);d-- >0;){if(c=Kj(s,o,n),c===l)return r[i]=s,r[a]=o,e(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function L0(){var t=MO();return t.copy=function(){return bg(t,L0())},Ui.apply(t,arguments),Ml(t)}function AV(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,R0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return AV(t).unknown(e)},t=arguments.length?Array.from(t,R0):[0,1],Ml(n)}function CV(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function WM(t){return Math.log(t)}function VM(t){return Math.exp(t)}function Y2e(t){return-Math.log(-t)}function X2e(t){return-Math.exp(-t)}function Z2e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function J2e(t){return t===10?Z2e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Q2e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function qM(t){return(e,n)=>-t(-e,n)}function FO(t){const e=t(WM,VM),n=e.domain;let r=10,i,a;function s(){return i=Q2e(r),a=J2e(r),n()[0]<0?(i=qM(i),a=qM(a),t(Y2e,X2e)):t(WM,VM),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),p=i(d),m,g;const v=o==null?10:+o;let y=[];if(!(r%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<r;++m)if(g=h<0?m/a(-h):m*a(h),!(g<c)){if(g>d)break;y.push(g)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<c)){if(g>d)break;y.push(g)}y.length*2<v&&(y=Gj(c,d,v))}else y=Gj(h,p,Math.min(p-h,v)).map(a);return f?y.reverse():y},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=cm(l)).precision==null&&(l.trim=!0),l=DO(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},e.nice=()=>n(CV(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function TV(){const t=FO(lw()).domain([1,10]);return t.copy=()=>bg(t,TV()).base(t.base()),Ui.apply(t,arguments),t}function GM(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function KM(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function BO(t){var e=1,n=t(GM(e),KM(e));return n.constant=function(r){return arguments.length?t(GM(e=+r),KM(e)):e},Ml(n)}function kV(){var t=BO(lw());return t.copy=function(){return bg(t,kV()).constant(t.constant())},Ui.apply(t,arguments)}function YM(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function e$e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function t$e(t){return t<0?-t*t:t*t}function zO(t){var e=t(hr,hr),n=1;function r(){return n===1?t(hr,hr):n===.5?t(e$e,t$e):t(YM(n),YM(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ml(e)}function UO(){var t=zO(lw());return t.copy=function(){return bg(t,UO()).exponent(t.exponent())},Ui.apply(t,arguments),t}function n$e(){return UO.apply(null,arguments).exponent(.5)}function XM(t){return Math.sign(t)*t*t}function r$e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function OV(){var t=MO(),e=[0,1],n=!1,r;function i(a){var s=r$e(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(XM(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,R0)).map(XM)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return OV(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ui.apply(i,arguments),Ml(i)}function NV(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=l2e(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[vg(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(il),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return NV().domain(t).range(e).unknown(r)},Ui.apply(a,arguments)}function PV(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[vg(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return PV().domain([t,e]).range(i).unknown(a)},Ui.apply(Ml(s),arguments)}function IV(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[vg(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return IV().domain(t).range(e).unknown(n)},Ui.apply(i,arguments)}const C1=new Date,T1=new Date;function Cn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>Cn(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(C1.setTime(+a),T1.setTime(+s),t(C1),t(T1),Math.floor(n(C1,T1))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const D0=Cn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);D0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Cn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):D0);D0.range;const $s=1e3,ki=$s*60,Rs=ki*60,ro=Rs*24,HO=ro*7,ZM=ro*30,k1=ro*365,cc=Cn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*$s)},(t,e)=>(e-t)/$s,t=>t.getUTCSeconds());cc.range;const WO=Cn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$s)},(t,e)=>{t.setTime(+t+e*ki)},(t,e)=>(e-t)/ki,t=>t.getMinutes());WO.range;const VO=Cn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ki)},(t,e)=>(e-t)/ki,t=>t.getUTCMinutes());VO.range;const qO=Cn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$s-t.getMinutes()*ki)},(t,e)=>{t.setTime(+t+e*Rs)},(t,e)=>(e-t)/Rs,t=>t.getHours());qO.range;const GO=Cn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Rs)},(t,e)=>(e-t)/Rs,t=>t.getUTCHours());GO.range;const wg=Cn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ki)/ro,t=>t.getDate()-1);wg.range;const cw=Cn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ro,t=>t.getUTCDate()-1);cw.range;const $V=Cn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ro,t=>Math.floor(t/ro));$V.range;function Qc(t){return Cn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ki)/HO)}const uw=Qc(0),F0=Qc(1),i$e=Qc(2),a$e=Qc(3),Xd=Qc(4),s$e=Qc(5),o$e=Qc(6);uw.range;F0.range;i$e.range;a$e.range;Xd.range;s$e.range;o$e.range;function eu(t){return Cn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/HO)}const dw=eu(0),B0=eu(1),l$e=eu(2),c$e=eu(3),Zd=eu(4),u$e=eu(5),d$e=eu(6);dw.range;B0.range;l$e.range;c$e.range;Zd.range;u$e.range;d$e.range;const KO=Cn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());KO.range;const YO=Cn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());YO.range;const io=Cn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());io.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Cn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});io.range;const ao=Cn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ao.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Cn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ao.range;function RV(t,e,n,r,i,a){const s=[[cc,1,$s],[cc,5,5*$s],[cc,15,15*$s],[cc,30,30*$s],[a,1,ki],[a,5,5*ki],[a,15,15*ki],[a,30,30*ki],[i,1,Rs],[i,3,3*Rs],[i,6,6*Rs],[i,12,12*Rs],[r,1,ro],[r,2,2*ro],[n,1,HO],[e,1,ZM],[e,3,3*ZM],[t,1,k1]];function o(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const p=f&&typeof f.range=="function"?f:l(c,d,f),m=p?p.range(c,+d+1):[];return h?m.reverse():m}function l(c,d,f){const h=Math.abs(d-c)/f,p=NO(([,,v])=>v).right(s,h);if(p===s.length)return t.every(Yj(c/k1,d/k1,f));if(p===0)return D0.every(Math.max(Yj(c,d,f),1));const[m,g]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return m.every(g)}return[o,l]}const[f$e,h$e]=RV(ao,YO,dw,$V,GO,VO),[p$e,m$e]=RV(io,KO,uw,wg,qO,WO);function O1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function N1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ph(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function g$e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=mh(i),d=gh(i),f=mh(a),h=gh(a),p=mh(s),m=gh(s),g=mh(o),v=gh(o),y=mh(l),x=gh(l),b={a:W,A:M,b:D,B:N,c:null,d:rL,e:rL,f:F$e,g:Y$e,G:Z$e,H:M$e,I:L$e,j:D$e,L:MV,m:B$e,M:z$e,p:V,q:G,Q:sL,s:oL,S:U$e,u:H$e,U:W$e,V:V$e,w:q$e,W:G$e,x:null,X:null,y:K$e,Y:X$e,Z:J$e,"%":aL},_={a:$,A:te,b:ae,B:I,c:null,d:iL,e:iL,f:nRe,g:fRe,G:pRe,H:Q$e,I:eRe,j:tRe,L:DV,m:rRe,M:iRe,p:k,q:K,Q:sL,s:oL,S:aRe,u:sRe,U:oRe,V:lRe,w:cRe,W:uRe,x:null,X:null,y:dRe,Y:hRe,Z:mRe,"%":aL},w={a:T,A:O,b:P,B:H,c:R,d:tL,e:tL,f:P$e,g:eL,G:QM,H:nL,I:nL,j:T$e,L:N$e,m:C$e,M:k$e,p:C,q:A$e,Q:$$e,s:R$e,S:O$e,u:w$e,U:_$e,V:S$e,w:b$e,W:E$e,x:B,X:U,y:eL,Y:QM,Z:j$e,"%":I$e};b.x=E(n,b),b.X=E(r,b),b.c=E(e,b),_.x=E(n,_),_.X=E(r,_),_.c=E(e,_);function E(F,Z){return function(J){var Y=[],ge=-1,ce=0,ye=F.length,se,Re,Me;for(J instanceof Date||(J=new Date(+J));++ge<ye;)F.charCodeAt(ge)===37&&(Y.push(F.slice(ce,ge)),(Re=JM[se=F.charAt(++ge)])!=null?se=F.charAt(++ge):Re=se==="e"?" ":"0",(Me=Z[se])&&(se=Me(J,Re)),Y.push(se),ce=ge+1);return Y.push(F.slice(ce,ge)),Y.join("")}}function A(F,Z){return function(J){var Y=ph(1900,void 0,1),ge=j(Y,F,J+="",0),ce,ye;if(ge!=J.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(Z&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(ce=N1(ph(Y.y,0,1)),ye=ce.getUTCDay(),ce=ye>4||ye===0?B0.ceil(ce):B0(ce),ce=cw.offset(ce,(Y.V-1)*7),Y.y=ce.getUTCFullYear(),Y.m=ce.getUTCMonth(),Y.d=ce.getUTCDate()+(Y.w+6)%7):(ce=O1(ph(Y.y,0,1)),ye=ce.getDay(),ce=ye>4||ye===0?F0.ceil(ce):F0(ce),ce=wg.offset(ce,(Y.V-1)*7),Y.y=ce.getFullYear(),Y.m=ce.getMonth(),Y.d=ce.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),ye="Z"in Y?N1(ph(Y.y,0,1)).getUTCDay():O1(ph(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(ye+5)%7:Y.w+Y.U*7-(ye+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,N1(Y)):O1(Y)}}function j(F,Z,J,Y){for(var ge=0,ce=Z.length,ye=J.length,se,Re;ge<ce;){if(Y>=ye)return-1;if(se=Z.charCodeAt(ge++),se===37){if(se=Z.charAt(ge++),Re=w[se in JM?Z.charAt(ge++):se],!Re||(Y=Re(F,J,Y))<0)return-1}else if(se!=J.charCodeAt(Y++))return-1}return Y}function C(F,Z,J){var Y=c.exec(Z.slice(J));return Y?(F.p=d.get(Y[0].toLowerCase()),J+Y[0].length):-1}function T(F,Z,J){var Y=p.exec(Z.slice(J));return Y?(F.w=m.get(Y[0].toLowerCase()),J+Y[0].length):-1}function O(F,Z,J){var Y=f.exec(Z.slice(J));return Y?(F.w=h.get(Y[0].toLowerCase()),J+Y[0].length):-1}function P(F,Z,J){var Y=y.exec(Z.slice(J));return Y?(F.m=x.get(Y[0].toLowerCase()),J+Y[0].length):-1}function H(F,Z,J){var Y=g.exec(Z.slice(J));return Y?(F.m=v.get(Y[0].toLowerCase()),J+Y[0].length):-1}function R(F,Z,J){return j(F,e,Z,J)}function B(F,Z,J){return j(F,n,Z,J)}function U(F,Z,J){return j(F,r,Z,J)}function W(F){return s[F.getDay()]}function M(F){return a[F.getDay()]}function D(F){return l[F.getMonth()]}function N(F){return o[F.getMonth()]}function V(F){return i[+(F.getHours()>=12)]}function G(F){return 1+~~(F.getMonth()/3)}function $(F){return s[F.getUTCDay()]}function te(F){return a[F.getUTCDay()]}function ae(F){return l[F.getUTCMonth()]}function I(F){return o[F.getUTCMonth()]}function k(F){return i[+(F.getUTCHours()>=12)]}function K(F){return 1+~~(F.getUTCMonth()/3)}return{format:function(F){var Z=E(F+="",b);return Z.toString=function(){return F},Z},parse:function(F){var Z=A(F+="",!1);return Z.toString=function(){return F},Z},utcFormat:function(F){var Z=E(F+="",_);return Z.toString=function(){return F},Z},utcParse:function(F){var Z=A(F+="",!0);return Z.toString=function(){return F},Z}}}var JM={"-":"",_:" ",0:"0"},Rn=/^\s*\d+/,y$e=/^%/,v$e=/[\\^$*+?|[\]().{}]/g;function mt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function x$e(t){return t.replace(v$e,"\\$&")}function mh(t){return new RegExp("^(?:"+t.map(x$e).join("|")+")","i")}function gh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function b$e(t,e,n){var r=Rn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function w$e(t,e,n){var r=Rn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function _$e(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function S$e(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function E$e(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function QM(t,e,n){var r=Rn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function eL(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function j$e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function A$e(t,e,n){var r=Rn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function C$e(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function tL(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function T$e(t,e,n){var r=Rn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function nL(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function k$e(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function O$e(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function N$e(t,e,n){var r=Rn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function P$e(t,e,n){var r=Rn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function I$e(t,e,n){var r=y$e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function $$e(t,e,n){var r=Rn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function R$e(t,e,n){var r=Rn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function rL(t,e){return mt(t.getDate(),e,2)}function M$e(t,e){return mt(t.getHours(),e,2)}function L$e(t,e){return mt(t.getHours()%12||12,e,2)}function D$e(t,e){return mt(1+wg.count(io(t),t),e,3)}function MV(t,e){return mt(t.getMilliseconds(),e,3)}function F$e(t,e){return MV(t,e)+"000"}function B$e(t,e){return mt(t.getMonth()+1,e,2)}function z$e(t,e){return mt(t.getMinutes(),e,2)}function U$e(t,e){return mt(t.getSeconds(),e,2)}function H$e(t){var e=t.getDay();return e===0?7:e}function W$e(t,e){return mt(uw.count(io(t)-1,t),e,2)}function LV(t){var e=t.getDay();return e>=4||e===0?Xd(t):Xd.ceil(t)}function V$e(t,e){return t=LV(t),mt(Xd.count(io(t),t)+(io(t).getDay()===4),e,2)}function q$e(t){return t.getDay()}function G$e(t,e){return mt(F0.count(io(t)-1,t),e,2)}function K$e(t,e){return mt(t.getFullYear()%100,e,2)}function Y$e(t,e){return t=LV(t),mt(t.getFullYear()%100,e,2)}function X$e(t,e){return mt(t.getFullYear()%1e4,e,4)}function Z$e(t,e){var n=t.getDay();return t=n>=4||n===0?Xd(t):Xd.ceil(t),mt(t.getFullYear()%1e4,e,4)}function J$e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mt(e/60|0,"0",2)+mt(e%60,"0",2)}function iL(t,e){return mt(t.getUTCDate(),e,2)}function Q$e(t,e){return mt(t.getUTCHours(),e,2)}function eRe(t,e){return mt(t.getUTCHours()%12||12,e,2)}function tRe(t,e){return mt(1+cw.count(ao(t),t),e,3)}function DV(t,e){return mt(t.getUTCMilliseconds(),e,3)}function nRe(t,e){return DV(t,e)+"000"}function rRe(t,e){return mt(t.getUTCMonth()+1,e,2)}function iRe(t,e){return mt(t.getUTCMinutes(),e,2)}function aRe(t,e){return mt(t.getUTCSeconds(),e,2)}function sRe(t){var e=t.getUTCDay();return e===0?7:e}function oRe(t,e){return mt(dw.count(ao(t)-1,t),e,2)}function FV(t){var e=t.getUTCDay();return e>=4||e===0?Zd(t):Zd.ceil(t)}function lRe(t,e){return t=FV(t),mt(Zd.count(ao(t),t)+(ao(t).getUTCDay()===4),e,2)}function cRe(t){return t.getUTCDay()}function uRe(t,e){return mt(B0.count(ao(t)-1,t),e,2)}function dRe(t,e){return mt(t.getUTCFullYear()%100,e,2)}function fRe(t,e){return t=FV(t),mt(t.getUTCFullYear()%100,e,2)}function hRe(t,e){return mt(t.getUTCFullYear()%1e4,e,4)}function pRe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Zd(t):Zd.ceil(t),mt(t.getUTCFullYear()%1e4,e,4)}function mRe(){return"+0000"}function aL(){return"%"}function sL(t){return+t}function oL(t){return Math.floor(+t/1e3)}var yu,BV,zV;gRe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function gRe(t){return yu=g$e(t),BV=yu.format,yu.parse,zV=yu.utcFormat,yu.utcParse,yu}function yRe(t){return new Date(t)}function vRe(t){return t instanceof Date?+t:+new Date(+t)}function XO(t,e,n,r,i,a,s,o,l,c){var d=MO(),f=d.invert,h=d.domain,p=c(".%L"),m=c(":%S"),g=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),x=c("%b %d"),b=c("%B"),_=c("%Y");function w(E){return(l(E)<E?p:o(E)<E?m:s(E)<E?g:a(E)<E?v:r(E)<E?i(E)<E?y:x:n(E)<E?b:_)(E)}return d.invert=function(E){return new Date(f(E))},d.domain=function(E){return arguments.length?h(Array.from(E,vRe)):h().map(yRe)},d.ticks=function(E){var A=h();return t(A[0],A[A.length-1],E??10)},d.tickFormat=function(E,A){return A==null?w:c(A)},d.nice=function(E){var A=h();return(!E||typeof E.range!="function")&&(E=e(A[0],A[A.length-1],E??10)),E?h(CV(A,E)):d},d.copy=function(){return bg(d,XO(t,e,n,r,i,a,s,o,l,c))},d}function xRe(){return Ui.apply(XO(p$e,m$e,io,KO,uw,wg,qO,WO,cc,BV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function bRe(){return Ui.apply(XO(f$e,h$e,ao,YO,dw,cw,GO,VO,cc,zV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function fw(){var t=0,e=1,n,r,i,a,s=hr,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,s=f(p,m),c):[s(0),s(1)]}}return c.range=d(Hf),c.rangeRound=d(RO),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function Ll(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function UV(){var t=Ml(fw()(hr));return t.copy=function(){return Ll(t,UV())},ho.apply(t,arguments)}function HV(){var t=FO(fw()).domain([1,10]);return t.copy=function(){return Ll(t,HV()).base(t.base())},ho.apply(t,arguments)}function WV(){var t=BO(fw());return t.copy=function(){return Ll(t,WV()).constant(t.constant())},ho.apply(t,arguments)}function ZO(){var t=zO(fw());return t.copy=function(){return Ll(t,ZO()).exponent(t.exponent())},ho.apply(t,arguments)}function wRe(){return ZO.apply(null,arguments).exponent(.5)}function VV(){var t=[],e=hr;function n(r){if(r!=null&&!isNaN(r=+r))return e((vg(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(il),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>o2e(t,a/r))},n.copy=function(){return VV(e).domain(t)},ho.apply(n,arguments)}function hw(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,c=hr,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(r*g<r*a?o:l),c(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=d(t=+t),a=d(e=+e),s=d(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(c=g,p):c};function m(g){return function(v){var y,x,b;return arguments.length?([y,x,b]=v,c=I2e(g,[y,x,b]),p):[c(0),c(.5),c(1)]}}return p.range=m(Hf),p.rangeRound=m(RO),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,i=g(t),a=g(e),s=g(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function qV(){var t=Ml(hw()(hr));return t.copy=function(){return Ll(t,qV())},ho.apply(t,arguments)}function GV(){var t=FO(hw()).domain([.1,1,10]);return t.copy=function(){return Ll(t,GV()).base(t.base())},ho.apply(t,arguments)}function KV(){var t=BO(hw());return t.copy=function(){return Ll(t,KV()).constant(t.constant())},ho.apply(t,arguments)}function JO(){var t=zO(hw());return t.copy=function(){return Ll(t,JO()).exponent(t.exponent())},ho.apply(t,arguments)}function _Re(){return JO.apply(null,arguments).exponent(.5)}const lL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:am,scaleDiverging:qV,scaleDivergingLog:GV,scaleDivergingPow:JO,scaleDivergingSqrt:_Re,scaleDivergingSymlog:KV,scaleIdentity:AV,scaleImplicit:Xj,scaleLinear:L0,scaleLog:TV,scaleOrdinal:PO,scalePoint:ip,scalePow:UO,scaleQuantile:NV,scaleQuantize:PV,scaleRadial:OV,scaleSequential:UV,scaleSequentialLog:HV,scaleSequentialPow:ZO,scaleSequentialQuantile:VV,scaleSequentialSqrt:wRe,scaleSequentialSymlog:WV,scaleSqrt:n$e,scaleSymlog:kV,scaleThreshold:IV,scaleTime:xRe,scaleUtc:bRe,tickFormat:jV},Symbol.toStringTag,{value:"Module"}));var SRe=$f;function ERe(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(s!=null&&(o===void 0?s===s&&!SRe(s):n(s,o)))var o=s,l=a}return l}var pw=ERe;function jRe(t,e){return t>e}var YV=jRe,ARe=pw,CRe=YV,TRe=Uf;function kRe(t){return t&&t.length?ARe(t,TRe,CRe):void 0}var ORe=kRe;const mw=at(ORe);function NRe(t,e){return t<e}var XV=NRe,PRe=pw,IRe=XV,$Re=Uf;function RRe(t){return t&&t.length?PRe(t,$Re,IRe):void 0}var MRe=RRe;const gw=at(MRe);var LRe=fO,DRe=ys,FRe=iV,BRe=Mr;function zRe(t,e){var n=BRe(t)?LRe:FRe;return n(t,DRe(e))}var URe=zRe,HRe=nV,WRe=URe;function VRe(t,e){return HRe(WRe(t,e),1)}var qRe=VRe;const GRe=at(qRe);var KRe=CO;function YRe(t,e){return KRe(t,e)}var XRe=YRe;const _g=at(XRe);var Wf=1e9,ZRe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},eN,qt=!0,Li="[DecimalError] ",Sc=Li+"Invalid argument: ",QO=Li+"Exponent out of range: ",Vf=Math.floor,ec=Math.pow,JRe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Kr,Nn=1e7,Ut=7,ZV=9007199254740991,z0=Vf(ZV/Ut),Ee={};Ee.absoluteValue=Ee.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ee.comparedTo=Ee.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ut;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ee.dividedBy=Ee.div=function(t){return Ws(this,new this.constructor(t))};Ee.dividedToIntegerBy=Ee.idiv=function(t){var e=this,n=e.constructor;return At(Ws(e,new n(t),0,1),n.precision)};Ee.equals=Ee.eq=function(t){return!this.cmp(t)};Ee.exponent=function(){return vn(this)};Ee.greaterThan=Ee.gt=function(t){return this.cmp(t)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(t){return this.cmp(t)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(t){return this.cmp(t)<0};Ee.lessThanOrEqualTo=Ee.lte=function(t){return this.cmp(t)<1};Ee.logarithm=Ee.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Kr))throw Error(Li+"NaN");if(n.s<1)throw Error(Li+(n.s?"NaN":"-Infinity"));return n.eq(Kr)?new r(0):(qt=!1,e=Ws(um(n,a),um(t,a),a),qt=!0,At(e,i))};Ee.minus=Ee.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?eq(e,t):JV(e,(t.s=-t.s,t))};Ee.modulo=Ee.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Li+"NaN");return n.s?(qt=!1,e=Ws(n,t,0,1).times(t),qt=!0,n.minus(e)):At(new r(n),i)};Ee.naturalExponential=Ee.exp=function(){return QV(this)};Ee.naturalLogarithm=Ee.ln=function(){return um(this)};Ee.negated=Ee.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ee.plus=Ee.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?JV(e,t):eq(e,(t.s=-t.s,t))};Ee.precision=Ee.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Sc+t);if(e=vn(i)+1,r=i.d.length-1,n=r*Ut+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ee.squareRoot=Ee.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Li+"NaN")}for(t=vn(o),qt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Ya(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Vf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(Ws(o,a,s+2)).times(.5),Ya(a.d).slice(0,s)===(e=Ya(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(At(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return qt=!0,At(r,n)};Ee.times=Ee.mul=function(t){var e,n,r,i,a,s,o,l,c,d=this,f=d.constructor,h=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+p[r]*h[i-r-1]+e,a[i--]=o%Nn|0,e=o/Nn|0;a[i]=(a[i]+e)%Nn|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,qt?At(t,f.precision):t};Ee.toDecimalPlaces=Ee.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ds(t,0,Wf),e===void 0?e=r.rounding:ds(e,0,8),At(n,t+vn(n)+1,e))};Ee.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Fc(r,!0):(ds(t,0,Wf),e===void 0?e=i.rounding:ds(e,0,8),r=At(new i(r),t+1,e),n=Fc(r,!0,t+1)),n};Ee.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Fc(i):(ds(t,0,Wf),e===void 0?e=a.rounding:ds(e,0,8),r=At(new a(i),t+vn(i)+1,e),n=Fc(r.abs(),!1,t+vn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ee.toInteger=Ee.toint=function(){var t=this,e=t.constructor;return At(new e(t),vn(t)+1,e.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(Kr);if(o=new l(o),!o.s){if(t.s<1)throw Error(Li+"Infinity");return o}if(o.eq(Kr))return o;if(r=l.precision,t.eq(Kr))return At(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=d<0?-d:d)<=ZV){for(i=new l(Kr),e=Math.ceil(r/Ut+4),qt=!1;n%2&&(i=i.times(o),uL(i.d,e)),n=Vf(n/2),n!==0;)o=o.times(o),uL(o.d,e);return qt=!0,t.s<0?new l(Kr).div(i):At(i,r)}}else if(a<0)throw Error(Li+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,qt=!1,i=t.times(um(o,r+c)),qt=!0,i=QV(i),i.s=a,i};Ee.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=vn(i),r=Fc(i,n<=a.toExpNeg||n>=a.toExpPos)):(ds(t,1,Wf),e===void 0?e=a.rounding:ds(e,0,8),i=At(new a(i),t,e),n=vn(i),r=Fc(i,t<=n||n<=a.toExpNeg,t)),r};Ee.toSignificantDigits=Ee.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ds(t,1,Wf),e===void 0?e=r.rounding:ds(e,0,8)),At(new r(n),t,e)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=vn(t),n=t.constructor;return Fc(t,e<=n.toExpNeg||e>=n.toExpPos)};function JV(t,e){var n,r,i,a,s,o,l,c,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),qt?At(e,f):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(f/Ut),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/Nn|0,l[a]%=Nn;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,qt?At(e,f):e}function ds(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Sc+t)}function Ya(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Ut-r.length,n&&(a+=To(n)),a+=r;s=t[e],r=s+"",n=Ut-r.length,n&&(a+=To(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Ws=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%Nn|0,s=a/Nn|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Nn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,d,f,h,p,m,g,v,y,x,b,_,w,E,A,j,C=r.constructor,T=r.s==i.s?1:-1,O=r.d,P=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(Li+"Division by zero");for(l=r.e-i.e,A=P.length,w=O.length,p=new C(T),m=p.d=[],c=0;P[c]==(O[c]||0);)++c;if(P[c]>(O[c]||0)&&--l,a==null?x=a=C.precision:s?x=a+(vn(r)-vn(i))+1:x=a,x<0)return new C(0);if(x=x/Ut+2|0,c=0,A==1)for(d=0,P=P[0],x++;(c<w||d)&&x--;c++)b=d*Nn+(O[c]||0),m[c]=b/P|0,d=b%P|0;else{for(d=Nn/(P[0]+1)|0,d>1&&(P=t(P,d),O=t(O,d),A=P.length,w=O.length),_=A,g=O.slice(0,A),v=g.length;v<A;)g[v++]=0;j=P.slice(),j.unshift(0),E=P[0],P[1]>=Nn/2&&++E;do d=0,o=e(P,g,A,v),o<0?(y=g[0],A!=v&&(y=y*Nn+(g[1]||0)),d=y/E|0,d>1?(d>=Nn&&(d=Nn-1),f=t(P,d),h=f.length,v=g.length,o=e(f,g,h,v),o==1&&(d--,n(f,A<h?j:P,h))):(d==0&&(o=d=1),f=P.slice()),h=f.length,h<v&&f.unshift(0),n(g,f,v),o==-1&&(v=g.length,o=e(P,g,A,v),o<1&&(d++,n(g,A<v?j:P,v))),v=g.length):o===0&&(d++,g=[0]),m[c++]=d,o&&g[0]?g[v++]=O[_]||0:(g=[O[_]],v=1);while((_++<w||g[0]!==void 0)&&x--)}return m[0]||m.shift(),p.e=l,At(p,s?a+vn(p)+1:a)}}();function QV(t,e){var n,r,i,a,s,o,l=0,c=0,d=t.constructor,f=d.precision;if(vn(t)>16)throw Error(QO+vn(t));if(!t.s)return new d(Kr);for(e==null?(qt=!1,o=f):o=e,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(ec(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new d(Kr),d.precision=o;;){if(i=At(i.times(t),o),n=n.times(++l),s=a.plus(Ws(i,n,o)),Ya(s.d).slice(0,o)===Ya(a.d).slice(0,o)){for(;c--;)a=At(a.times(a),o);return d.precision=f,e==null?(qt=!0,At(a,f)):a}a=s}}function vn(t){for(var e=t.e*Ut,n=t.d[0];n>=10;n/=10)e++;return e}function P1(t,e,n){if(e>t.LN10.sd())throw qt=!0,n&&(t.precision=n),Error(Li+"LN10 precision limit exceeded");return At(new t(t.LN10),e)}function To(t){for(var e="";t--;)e+="0";return e}function um(t,e){var n,r,i,a,s,o,l,c,d,f=1,h=10,p=t,m=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(Li+(p.s?"NaN":"-Infinity"));if(p.eq(Kr))return new g(0);if(e==null?(qt=!1,c=v):c=e,p.eq(10))return e==null&&(qt=!0),P1(g,c);if(c+=h,g.precision=c,n=Ya(m),r=n.charAt(0),a=vn(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Ya(p.d),r=n.charAt(0),f++;a=vn(p),r>1?(p=new g("0."+n),a++):p=new g(r+"."+n.slice(1))}else return l=P1(g,c+2,v).times(a+""),p=um(new g(r+"."+n.slice(1)),c-h).plus(l),g.precision=v,e==null?(qt=!0,At(p,v)):p;for(o=s=p=Ws(p.minus(Kr),p.plus(Kr),c),d=At(p.times(p),c),i=3;;){if(s=At(s.times(d),c),l=o.plus(Ws(s,new g(i),c)),Ya(l.d).slice(0,c)===Ya(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(P1(g,c+2,v).times(a+""))),o=Ws(o,new g(f),c),g.precision=v,e==null?(qt=!0,At(o,v)):o;o=l,i+=2}}function cL(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Vf(n/Ut),t.d=[],r=(n+1)%Ut,n<0&&(r+=Ut),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ut;r<i;)t.d.push(+e.slice(r,r+=Ut));e=e.slice(r),r=Ut-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),qt&&(t.e>z0||t.e<-z0))throw Error(QO+n)}else t.s=0,t.e=0,t.d=[0];return t}function At(t,e,n){var r,i,a,s,o,l,c,d,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Ut,i=e,c=f[d=0];else{if(d=Math.ceil((r+1)/Ut),a=f.length,d>=a)return t;for(c=a=f[d],s=1;a>=10;a/=10)s++;r%=Ut,i=r-Ut+s}if(n!==void 0&&(a=ec(10,s-i-1),o=c/a%10|0,l=e<0||f[d+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/ec(10,s-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=vn(t),f.length=1,e=e-a-1,f[0]=ec(10,(Ut-e%Ut)%Ut),t.e=Vf(-e/Ut)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=ec(10,Ut-r),f[d]=i>0?(c/ec(10,s-i)%ec(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==Nn&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=Nn)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(qt&&(t.e>z0||t.e<-z0))throw Error(QO+vn(t));return t}function eq(t,e){var n,r,i,a,s,o,l,c,d,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),qt?At(e,p):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),s=c-r,s){for(d=s<0,d?(n=l,s=-s,o=f.length):(n=f,r=c,o=l.length),i=Math.max(Math.ceil(p/Ut),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Nn-1;--l[a],l[i]+=Nn}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,qt?At(e,p):e):new h(0)}function Fc(t,e,n){var r,i=vn(t),a=Ya(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+To(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+To(-i-1)+a,n&&(r=n-s)>0&&(a+=To(r))):i>=s?(a+=To(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+To(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=To(r))),t.s<0?"-"+a:a}function uL(t,e){if(t.length>e)return t.length=e,!0}function tq(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Sc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return cL(s,a.toString())}else if(typeof a!="string")throw Error(Sc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,JRe.test(a))cL(s,a);else throw Error(Sc+a)}if(i.prototype=Ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=tq,i.config=i.set=QRe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function QRe(t){if(!t||typeof t!="object")throw Error(Li+"Object expected");var e,n,r,i=["precision",1,Wf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Vf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Sc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Sc+n+": "+r);return this}var eN=tq(ZRe);Kr=new eN(1);const jt=eN;function eMe(t){return iMe(t)||rMe(t)||nMe(t)||tMe()}function tMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nMe(t,e){if(t){if(typeof t=="string")return eA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eA(t,e)}}function rMe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function iMe(t){if(Array.isArray(t))return eA(t)}function eA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var aMe=function(e){return e},nq={"@@functional/placeholder":!0},rq=function(e){return e===nq},dL=function(e){return function n(){return arguments.length===0||arguments.length===1&&rq(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},sMe=function t(e,n){return e===1?n:dL(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==nq}).length;return s>=e?n.apply(void 0,i):t(e-s,dL(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var d=i.map(function(f){return rq(f)?l.shift():f});return n.apply(void 0,eMe(d).concat(l))}))})},yw=function(e){return sMe(e.length,e)},tA=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},oMe=yw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),lMe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return aMe;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},nA=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},iq=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(o,l){return o===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function cMe(t){var e;return t===0?e=1:e=Math.floor(new jt(t).abs().log(10).toNumber())+1,e}function uMe(t,e,n){for(var r=new jt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var dMe=yw(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),fMe=yw(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),hMe=yw(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const vw={rangeStep:uMe,getDigitCount:cMe,interpolateNumber:dMe,uninterpolateNumber:fMe,uninterpolateTruncation:hMe};function rA(t){return gMe(t)||mMe(t)||aq(t)||pMe()}function pMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mMe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function gMe(t){if(Array.isArray(t))return iA(t)}function dm(t,e){return xMe(t)||vMe(t,e)||aq(t,e)||yMe()}function yMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aq(t,e){if(t){if(typeof t=="string")return iA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iA(t,e)}}function iA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vMe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function xMe(t){if(Array.isArray(t))return t}function sq(t){var e=dm(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function oq(t,e,n){if(t.lte(0))return new jt(0);var r=vw.getDigitCount(t.toNumber()),i=new jt(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new jt(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?l:new jt(Math.ceil(l))}function bMe(t,e,n){var r=1,i=new jt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new jt(10).pow(vw.getDigitCount(t)-1),i=new jt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new jt(Math.floor(t)))}else t===0?i=new jt(Math.floor((e-1)/2)):n||(i=new jt(Math.floor(t)));var s=Math.floor((e-1)/2),o=lMe(oMe(function(l){return i.add(new jt(l-s).mul(r)).toNumber()}),tA);return o(0,e)}function lq(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new jt(0),tickMin:new jt(0),tickMax:new jt(0)};var a=oq(new jt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new jt(0):(s=new jt(t).add(e).div(2),s=s.sub(new jt(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new jt(e).sub(s).div(a).toNumber()),c=o+l+1;return c>n?lq(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,o=e>0?o:o+(n-c)),{step:a,tickMin:s.sub(new jt(o).mul(a)),tickMax:s.add(new jt(l).mul(a))})}function wMe(t){var e=dm(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=sq([n,r]),l=dm(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(rA(tA(0,i-1).map(function(){return 1/0}))):[].concat(rA(tA(0,i-1).map(function(){return-1/0})),[d]);return n>r?nA(f):f}if(c===d)return bMe(c,i,a);var h=lq(c,d,s,a),p=h.step,m=h.tickMin,g=h.tickMax,v=vw.rangeStep(m,g.add(new jt(.1).mul(p)),p);return n>r?nA(v):v}function _Me(t,e){var n=dm(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=sq([r,i]),o=dm(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(e,2),f=oq(new jt(c).sub(l).div(d-1),a,0),h=[].concat(rA(vw.rangeStep(new jt(l),new jt(c).sub(new jt(.99).mul(f)),f)),[c]);return r>i?nA(h):h}var SMe=iq(wMe),EMe=iq(_Me),jMe="Invariant failed";function Bc(t,e){throw new Error(jMe)}var AMe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function U0(){return U0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U0.apply(this,arguments)}function CMe(t,e){return NMe(t)||OMe(t,e)||kMe(t,e)||TMe()}function TMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kMe(t,e){if(t){if(typeof t=="string")return fL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fL(t,e)}}function fL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OMe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function NMe(t){if(Array.isArray(t))return t}function PMe(t,e){if(t==null)return{};var n=IMe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IMe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $Me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RMe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dq(r.key),r)}}function MMe(t,e,n){return e&&RMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LMe(t,e,n){return e=H0(e),DMe(t,cq()?Reflect.construct(e,n||[],H0(t).constructor):e.apply(t,n))}function DMe(t,e){if(e&&(Jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FMe(t)}function FMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cq=function(){return!!t})()}function H0(t){return H0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},H0(t)}function BMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aA(t,e)}function aA(t,e){return aA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aA(t,e)}function uq(t,e,n){return e=dq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dq(t){var e=zMe(t,"string");return Jd(e)=="symbol"?e:e+""}function zMe(t,e){if(Jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sg=function(t){function e(){return $Me(this,e),LMe(this,e,arguments)}return BMe(e,t),MMe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=PMe(r,AMe),p=Fe(h,!1);this.props.direction==="x"&&d.type!=="number"&&Bc();var m=l.map(function(g){var v=c(g,o),y=v.x,x=v.y,b=v.value,_=v.errorVal;if(!_)return null;var w=[],E,A;if(Array.isArray(_)){var j=CMe(_,2);E=j[0],A=j[1]}else E=A=_;if(a==="vertical"){var C=d.scale,T=x+i,O=T+s,P=T-s,H=C(b-E),R=C(b+A);w.push({x1:R,y1:O,x2:R,y2:P}),w.push({x1:H,y1:T,x2:R,y2:T}),w.push({x1:H,y1:O,x2:H,y2:P})}else if(a==="horizontal"){var B=f.scale,U=y+i,W=U-s,M=U+s,D=B(b-E),N=B(b+A);w.push({x1:W,y1:N,x2:M,y2:N}),w.push({x1:U,y1:D,x2:U,y2:N}),w.push({x1:W,y1:D,x2:M,y2:D})}return L.createElement(pt,U0({className:"recharts-errorBar",key:"bar-".concat(w.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))},p),w.map(function(V){return L.createElement("line",U0({},V,{key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))}))});return L.createElement(pt,{className:"recharts-errorBars"},m)}}])}(L.Component);uq(Sg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});uq(Sg,"displayName","ErrorBar");function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}function hL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hL(Object(n),!0).forEach(function(r){UMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UMe(t,e,n){return e=HMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HMe(t){var e=WMe(t,"string");return fm(e)=="symbol"?e:e+""}function WMe(t,e){if(fm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fq=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Vr(n,rl);if(!s)return null;var o=rl.defaultProps,l=o!==void 0?Hl(Hl({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:a==="children"?c=(r||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(g){return{type:s.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Hl(Hl({},h),f.props):{},m=p.dataKey,g=p.name,v=p.legendType,y=p.hide;return{inactive:y,dataKey:m,type:l.iconType||v||"square",color:tN(f),value:g||m,payload:p}}),Hl(Hl(Hl({},l),rl.getWithHeight(s,i)),{},{payload:c,item:s})};function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(t)}function pL(t){return KMe(t)||GMe(t)||qMe(t)||VMe()}function VMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qMe(t,e){if(t){if(typeof t=="string")return sA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sA(t,e)}}function GMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KMe(t){if(Array.isArray(t))return sA(t)}function sA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mL(Object(n),!0).forEach(function(r){dd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dd(t,e,n){return e=YMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YMe(t){var e=XMe(t,"string");return hm(e)=="symbol"?e:e+""}function XMe(t,e){if(hm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _n(t,e,n){return Xe(t)||Xe(e)?n:En(e)?oi(t,e,n):qe(e)?e(t):n}function ap(t,e,n,r){var i=GRe(t,function(o){return _n(o,e)});if(n==="number"){var a=i.filter(function(o){return pe(o)||parseFloat(o)});return a.length?[gw(a),mw(a)]:[1/0,-1/0]}var s=r?i.filter(function(o){return!Xe(o)}):i;return s.map(function(o){return En(o)||o instanceof Date?o:""})}var ZMe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<o;c++){var d=c>0?i[c-1].coordinate:i[o-1].coordinate,f=i[c].coordinate,h=c>=o-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(dr(f-d)!==dr(h-f)){var m=[];if(dr(h-f)===dr(l[1]-l[0])){p=h;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+d)/2),m[1]=Math.max(g,(g+d)/2)}else{p=d;var v=h+l[1]-l[0];m[0]=Math.min(f,(v+f)/2),m[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>y[0]&&e<=y[1]||e>=m[0]&&e<=m[1]){s=i[c].index;break}}else{var x=Math.min(d,h),b=Math.max(d,h);if(e>(x+f)/2&&e<=(b+f)/2){s=i[c].index;break}}}else for(var _=0;_<o;_++)if(_===0&&e<=(r[_].coordinate+r[_+1].coordinate)/2||_>0&&_<o-1&&e>(r[_].coordinate+r[_-1].coordinate)/2&&e<=(r[_].coordinate+r[_+1].coordinate)/2||_===o-1&&e>(r[_].coordinate+r[_-1].coordinate)/2){s=r[_].index;break}return s},tN=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?sn(sn({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},JMe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,c=o.length;l<c;l++)for(var d=a[o[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],g=m.items,v=m.cateAxisId,y=g.filter(function(A){return Hs(A.type).indexOf("Bar")>=0});if(y&&y.length){var x=y[0].type.defaultProps,b=x!==void 0?sn(sn({},x),y[0].props):y[0].props,_=b.barSize,w=b[v];s[w]||(s[w]=[]);var E=Xe(_)?n:_;s[w].push({item:y[0],stackList:y.slice(1),barSize:Xe(E)?void 0:fr(E,r,0)})}}return s},QMe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var c=fr(n,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/l,m=s.reduce(function(_,w){return _+w.barSize||0},0);m+=(l-1)*c,m>=i&&(m-=(l-1)*c,c=0),m>=i&&p>0&&(h=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,v={offset:g-c,size:0};d=s.reduce(function(_,w){var E={item:w.item,position:{offset:v.offset+v.size+c,size:h?p:w.barSize}},A=[].concat(pL(_),[E]);return v=A[A.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(j){A.push({item:j,position:v})}),A},f)}else{var y=fr(r,i,0,!0);i-2*y-(l-1)*c<=0&&(c=0);var x=(i-2*y-(l-1)*c)/l;x>1&&(x>>=0);var b=o===+o?Math.min(x,o):x;d=s.reduce(function(_,w,E){var A=[].concat(pL(_),[{item:w.item,position:{offset:y+(x+c)*E+(x-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(j){A.push({item:j,position:A[A.length-1].position})}),A},f)}return d},eLe=function(e,n,r,i){var a=r.children,s=r.width,o=r.margin,l=s-(o.left||0)-(o.right||0),c=fq({children:a,legendWidth:l});if(c){var d=i||{},f=d.width,h=d.height,p=c.align,m=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&pe(e[p]))return sn(sn({},e),{},dd({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&pe(e[m]))return sn(sn({},e),{},dd({},m,e[m]+(h||0)))}return e},tLe=function(e,n,r){return Xe(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},hq=function(e,n,r,i,a){var s=n.props.children,o=li(s,Sg).filter(function(c){return tLe(i,a,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var f=_n(d,r);if(Xe(f))return c;var h=Array.isArray(f)?[gw(f),mw(f)]:[f,f],p=l.reduce(function(m,g){var v=_n(d,g,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),x=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,m[0]),Math.max(x,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},nLe=function(e,n,r,i,a){var s=n.map(function(o){return hq(e,o,r,a,i)}).filter(function(o){return!Xe(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},pq=function(e,n,r,i,a){var s=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&hq(e,l,c,i)||ap(e,c,r,a)});if(r==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)o[c[d]]||(o[c[d]]=!0,l.push(c[d]));return l},[])},mq=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},gq=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate});return a||o.push(n),s||o.push(r),o},Ms=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?dr(o[0]-o[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return d.filter(function(f){return!mg(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:a?a[f]:f,index:h,offset:c}})},I1=new WeakMap,Ty=function(e,n){if(typeof n!="function")return e;I1.has(e)||I1.set(e,new WeakMap);var r=I1.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},yq=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:am(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:L0(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:ip(),realScaleType:"point"}:a==="category"?{scale:am(),realScaleType:"band"}:{scale:L0(),realScaleType:"linear"};if(pg(i)){var l="scale".concat(tw(i));return{scale:(lL[l]||ip)(),realScaleType:lL[l]?l:"point"}}return qe(i)?{scale:i}:{scale:ip(),realScaleType:"point"}},gL=1e-4,vq=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-gL,s=Math.max(i[0],i[1])+gL,o=e(n[0]),l=e(n[r-1]);(o<a||o>s||l<a||l>s)&&e.domain([n[0],n[r-1]])}},rLe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},iLe=function(e,n){if(!n||n.length!==2||!pe(n[0])||!pe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!pe(e[0])||e[0]<r)&&(a[0]=r),(!pe(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},aLe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,o=0;o<n;++o){var l=mg(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1])}},sLe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var o=mg(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},oLe={sign:aLe,expand:AEe,none:Wd,silhouette:CEe,wiggle:TEe,positive:sLe},lLe=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),a=oLe[r],s=jEe().keys(i).value(function(o,l){return+_n(o,l,0)}).order(Nj).offset(a);return s(e)},cLe=function(e,n,r,i,a,s){if(!e)return null;var o=s?n.reverse():n,l={},c=o.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?sn(sn({},h.type.defaultProps),h.props):h.props,g=m.stackId,v=m.hide;if(v)return f;var y=m[r],x=f[y]||{hasStack:!1,stackGroups:{}};if(En(g)){var b=x.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};b.items.push(h),x.hasStack=!0,x.stackGroups[g]=b}else x.stackGroups[Ff("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return sn(sn({},f),{},dd({},y,x))},l),d={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var y=p.stackGroups[v];return sn(sn({},g),{},dd({},v,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:lLe(e,y.items,a)}))},m)}return sn(sn({},f),{},dd({},h,p))},d)},xq=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=SMe(c,a,o);return e.domain([gw(d),mw(d)]),{niceTicks:d}}if(a&&i==="number"){var f=e.domain(),h=EMe(f,a,o);return{niceTicks:h}}return null};function yL(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Xe(i[e.dataKey])){var o=g0(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=_n(i,Xe(s)?e.dataKey:s);return Xe(l)?null:e.scale(l)}var vL=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=_n(s,n.dataKey,n.domain[o]);return Xe(l)?null:n.scale(l)-a/2+i},uLe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},dLe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?sn(sn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(En(a)){var s=n[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},fLe=function(e){return e.reduce(function(n,r){return[gw(r.concat([n[0]]).filter(pe)),mw(r.concat([n[1]]).filter(pe))]},[1/0,-1/0])},bq=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(c,d){var f=fLe(d.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},xL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oA=function(e,n,r){if(qe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(pe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(xL.test(e[0])){var a=+xL.exec(e[0])[1];i[0]=n[0]-a}else qe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(pe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(bL.test(e[1])){var s=+bL.exec(e[1])[1];i[1]=n[1]+s}else qe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},W0=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=kO(n,function(f){return f.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],d=a[o-1];s=Math.min((c.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},wL=function(e,n,r){return!e||!e.length||_g(e,oi(r,"type.defaultProps.domain"))?n:e},wq=function(e,n){var r=e.type.defaultProps?sn(sn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,d=r.hide;return sn(sn({},Fe(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:tN(e),value:_n(n,i),type:l,payload:n,chartType:c,hide:d})};function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}function _L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_L(Object(n),!0).forEach(function(r){_q(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_L(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _q(t,e,n){return e=hLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hLe(t){var e=pLe(t,"string");return pm(e)=="symbol"?e:e+""}function pLe(t,e){if(pm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mLe(t,e){return xLe(t)||vLe(t,e)||yLe(t,e)||gLe()}function gLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yLe(t,e){if(t){if(typeof t=="string")return SL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SL(t,e)}}function SL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vLe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function xLe(t){if(Array.isArray(t))return t}var V0=Math.PI/180,bLe=function(e){return e*180/Math.PI},Rt=function(e,n,r,i){return{x:e+Math.cos(-V0*i)*r,y:n+Math.sin(-V0*i)*r}},Sq=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},wLe=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.startAngle,c=e.endAngle,d=fr(e.cx,s,s/2),f=fr(e.cy,o,o/2),h=Sq(s,o,r),p=fr(e.innerRadius,h,0),m=fr(e.outerRadius,h,h*.8),g=Object.keys(n);return g.reduce(function(v,y){var x=n[y],b=x.domain,_=x.reversed,w;if(Xe(x.range))i==="angleAxis"?w=[l,c]:i==="radiusAxis"&&(w=[p,m]),_&&(w=[w[1],w[0]]);else{w=x.range;var E=w,A=mLe(E,2);l=A[0],c=A[1]}var j=yq(x,a),C=j.realScaleType,T=j.scale;T.domain(b).range(w),vq(T);var O=xq(T,Cs(Cs({},x),{},{realScaleType:C})),P=Cs(Cs(Cs({},x),O),{},{range:w,radius:m,realScaleType:C,scale:T,cx:d,cy:f,innerRadius:p,outerRadius:m,startAngle:l,endAngle:c});return Cs(Cs({},v),{},_q({},y,P))},{})},_Le=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},SLe=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,o=_Le({x:r,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(r-a)/o,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:o,angle:bLe(c),angleInRadian:c}},ELe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},jLe=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},EL=function(e,n){var r=e.x,i=e.y,a=SLe({x:r,y:i},n),s=a.radius,o=a.angle,l=n.innerRadius,c=n.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var d=ELe(n),f=d.startAngle,h=d.endAngle,p=o,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?Cs(Cs({},n),{},{radius:s,angle:jLe(p,n)}):null},Eq=function(e){return!S.isValidElement(e)&&!qe(e)&&typeof e!="boolean"?e.className:""};function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}var ALe=["offset"];function CLe(t){return NLe(t)||OLe(t)||kLe(t)||TLe()}function TLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kLe(t,e){if(t){if(typeof t=="string")return lA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lA(t,e)}}function OLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NLe(t){if(Array.isArray(t))return lA(t)}function lA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PLe(t,e){if(t==null)return{};var n=ILe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ILe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jL(Object(n),!0).forEach(function(r){$Le(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Le(t,e,n){return e=RLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RLe(t){var e=MLe(t,"string");return mm(e)=="symbol"?e:e+""}function MLe(t,e){if(mm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gm(){return gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gm.apply(this,arguments)}var LLe=function(e){var n=e.value,r=e.formatter,i=Xe(e.children)?n:e.children;return qe(r)?r(i):i},DLe=function(e,n){var r=dr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},FLe=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,c=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,v=(f+h)/2,y=DLe(p,m),x=y>=0?1:-1,b,_;i==="insideStart"?(b=p+x*s,_=g):i==="insideEnd"?(b=m-x*s,_=!g):i==="end"&&(b=m+x*s,_=g),_=y<=0?_:!_;var w=Rt(c,d,v,b),E=Rt(c,d,v,b+(_?1:-1)*359),A="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(E.x,",").concat(E.y),j=Xe(e.id)?Ff("recharts-radial-line-"):e.id;return L.createElement("text",gm({},r,{dominantBaseline:"central",className:Je("recharts-radial-bar-label",o)}),L.createElement("defs",null,L.createElement("path",{id:j,d:A})),L.createElement("textPath",{xlinkHref:"#".concat(j)},n))},BLe=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,o=a.cy,l=a.innerRadius,c=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var p=Rt(s,o,c+r,h),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,y=Rt(s,o,v,h),x=y.x,b=y.y;return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},zLe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,o=s.x,l=s.y,c=s.width,d=s.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=c>=0?1:-1,v=g*i,y=g>0?"end":"start",x=g>0?"start":"end";if(a==="top"){var b={x:o+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return xn(xn({},b),r?{height:Math.max(l-r.y,0),width:c}:{})}if(a==="bottom"){var _={x:o+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:m};return xn(xn({},_),r?{height:Math.max(r.y+r.height-(l+d),0),width:c}:{})}if(a==="left"){var w={x:o-v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return xn(xn({},w),r?{width:Math.max(w.x-r.x,0),height:d}:{})}if(a==="right"){var E={x:o+c+v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return xn(xn({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:d}:{})}var A=r?{width:c,height:d}:{};return a==="insideLeft"?xn({x:o+v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},A):a==="insideRight"?xn({x:o+c-v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},A):a==="insideTop"?xn({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},A):a==="insideBottom"?xn({x:o+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},A):a==="insideTopLeft"?xn({x:o+v,y:l+h,textAnchor:x,verticalAnchor:m},A):a==="insideTopRight"?xn({x:o+c-v,y:l+h,textAnchor:y,verticalAnchor:m},A):a==="insideBottomLeft"?xn({x:o+v,y:l+d-h,textAnchor:x,verticalAnchor:p},A):a==="insideBottomRight"?xn({x:o+c-v,y:l+d-h,textAnchor:y,verticalAnchor:p},A):Rf(a)&&(pe(a.x)||oc(a.x))&&(pe(a.y)||oc(a.y))?xn({x:o+fr(a.x,c),y:l+fr(a.y,d),textAnchor:"end",verticalAnchor:"end"},A):xn({x:o+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},ULe=function(e){return"cx"in e&&pe(e.cx)};function In(t){var e=t.offset,n=e===void 0?5:e,r=PLe(t,ALe),i=xn({offset:n},r),a=i.viewBox,s=i.position,o=i.value,l=i.children,c=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||Xe(o)&&Xe(l)&&!S.isValidElement(c)&&!qe(c))return null;if(S.isValidElement(c))return S.cloneElement(c,i);var p;if(qe(c)){if(p=S.createElement(c,i),S.isValidElement(p))return p}else p=LLe(i);var m=ULe(a),g=Fe(i,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return FLe(i,p,g);var v=m?BLe(i):zLe(i);return L.createElement(Dc,gm({className:Je("recharts-label",f)},g,v,{breakAll:h}),p)}In.displayName="Label";var jq=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,p=e.top,m=e.left,g=e.width,v=e.height,y=e.clockWise,x=e.labelViewBox;if(x)return x;if(pe(g)&&pe(v)){if(pe(f)&&pe(h))return{x:f,y:h,width:g,height:v};if(pe(p)&&pe(m))return{x:p,y:m,width:g,height:v}}return pe(f)&&pe(h)?{x:f,y:h,width:0,height:0}:pe(n)&&pe(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:d||l||o||0,clockWise:y}:e.viewBox?e.viewBox:{}},HLe=function(e,n){return e?e===!0?L.createElement(In,{key:"label-implicit",viewBox:n}):En(e)?L.createElement(In,{key:"label-implicit",viewBox:n,value:e}):S.isValidElement(e)?e.type===In?S.cloneElement(e,{key:"label-implicit",viewBox:n}):L.createElement(In,{key:"label-implicit",content:e,viewBox:n}):qe(e)?L.createElement(In,{key:"label-implicit",content:e,viewBox:n}):Rf(e)?L.createElement(In,gm({viewBox:n},e,{key:"label-implicit"})):null:null},WLe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=jq(e),s=li(i,In).map(function(l,c){return S.cloneElement(l,{viewBox:n||a,key:"label-".concat(c)})});if(!r)return s;var o=HLe(e.label,n||a);return[o].concat(CLe(s))};In.parseViewBox=jq;In.renderCallByParent=WLe;function VLe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var qLe=VLe;const GLe=at(qLe);function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}var KLe=["valueAccessor"],YLe=["data","dataKey","clockWise","id","textBreakAll"];function XLe(t){return eDe(t)||QLe(t)||JLe(t)||ZLe()}function ZLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JLe(t,e){if(t){if(typeof t=="string")return cA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cA(t,e)}}function QLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eDe(t){if(Array.isArray(t))return cA(t)}function cA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function q0(){return q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q0.apply(this,arguments)}function AL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AL(Object(n),!0).forEach(function(r){tDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tDe(t,e,n){return e=nDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nDe(t){var e=rDe(t,"string");return ym(e)=="symbol"?e:e+""}function rDe(t,e){if(ym(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TL(t,e){if(t==null)return{};var n=iDe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iDe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var aDe=function(e){return Array.isArray(e.value)?GLe(e.value):e.value};function Vs(t){var e=t.valueAccessor,n=e===void 0?aDe:e,r=TL(t,KLe),i=r.data,a=r.dataKey,s=r.clockWise,o=r.id,l=r.textBreakAll,c=TL(r,YLe);return!i||!i.length?null:L.createElement(pt,{className:"recharts-label-list"},i.map(function(d,f){var h=Xe(a)?n(d,f):_n(d&&d.payload,a),p=Xe(o)?{}:{id:"".concat(o,"-").concat(f)};return L.createElement(In,q0({},Fe(d,!0),c,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:In.parseViewBox(Xe(s)?d:CL(CL({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Vs.displayName="LabelList";function sDe(t,e){return t?t===!0?L.createElement(Vs,{key:"labelList-implicit",data:e}):L.isValidElement(t)||qe(t)?L.createElement(Vs,{key:"labelList-implicit",data:e,content:t}):Rf(t)?L.createElement(Vs,q0({data:e},t,{key:"labelList-implicit"})):null:null}function oDe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=li(r,Vs).map(function(s,o){return S.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var a=sDe(t.label,e);return[a].concat(XLe(i))}Vs.renderCallByParent=oDe;function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}function uA(){return uA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uA.apply(this,arguments)}function kL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kL(Object(n),!0).forEach(function(r){lDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lDe(t,e,n){return e=cDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cDe(t){var e=uDe(t,"string");return vm(e)=="symbol"?e:e+""}function uDe(t,e){if(vm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dDe=function(e,n){var r=dr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},ky=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(o?1:-1)+i,f=Math.asin(l/d)/V0,h=c?a:a+s*f,p=Rt(n,r,d,h),m=Rt(n,r,i,h),g=c?a-s*f:a,v=Rt(n,r,d*Math.cos(f*V0),g);return{center:p,circleTangency:m,lineTangency:v,theta:f}},Aq=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=dDe(s,o),c=s+l,d=Rt(n,r,a,s),f=Rt(n,r,a,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Rt(n,r,i,s),m=Rt(n,r,i,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},fDe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,f=dr(d-c),h=ky({cx:n,cy:r,radius:a,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,g=h.theta,v=ky({cx:n,cy:r,radius:a,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),y=v.circleTangency,x=v.lineTangency,b=v.theta,_=l?Math.abs(c-d):Math.abs(c-d)-g-b;if(_<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):Aq({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d});var w="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var E=ky({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),A=E.circleTangency,j=E.lineTangency,C=E.theta,T=ky({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),O=T.circleTangency,P=T.lineTangency,H=T.theta,R=l?Math.abs(c-d):Math.abs(c-d)-C-H;if(R<0&&s===0)return"".concat(w,"L").concat(n,",").concat(r,"Z");w+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,"Z")}else w+="L".concat(n,",").concat(r,"Z");return w},hDe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Cq=function(e){var n=OL(OL({},hDe),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(s<a||d===f)return null;var p=Je("recharts-sector",h),m=s-a,g=fr(o,m,0,!0),v;return g>0&&Math.abs(d-f)<360?v=fDe({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):v=Aq({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:d,endAngle:f}),L.createElement("path",uA({},Fe(n,!0),{className:p,d:v,role:"img"}))};function xm(t){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(t)}function dA(){return dA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dA.apply(this,arguments)}function NL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NL(Object(n),!0).forEach(function(r){pDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pDe(t,e,n){return e=mDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mDe(t){var e=gDe(t,"string");return xm(e)=="symbol"?e:e+""}function gDe(t,e){if(xm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IL={curveBasisClosed:pEe,curveBasisOpen:mEe,curveBasis:hEe,curveBumpX:QSe,curveBumpY:eEe,curveLinearClosed:gEe,curveLinear:rw,curveMonotoneX:yEe,curveMonotoneY:vEe,curveNatural:xEe,curveStep:bEe,curveStepAfter:_Ee,curveStepBefore:wEe},Oy=function(e){return e.x===+e.x&&e.y===+e.y},yh=function(e){return e.x},vh=function(e){return e.y},yDe=function(e,n){if(qe(e))return e;var r="curve".concat(tw(e));return(r==="curveMonotone"||r==="curveBump")&&n?IL["".concat(r).concat(n==="vertical"?"Y":"X")]:IL[r]||rw},vDe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=yDe(r,o),f=c?a.filter(function(g){return Oy(g)}):a,h;if(Array.isArray(s)){var p=c?s.filter(function(g){return Oy(g)}):s,m=f.map(function(g,v){return PL(PL({},g),{},{base:p[v]})});return o==="vertical"?h=by().y(vh).x1(yh).x0(function(g){return g.base.x}):h=by().x(yh).y1(vh).y0(function(g){return g.base.y}),h.defined(Oy).curve(d),h(m)}return o==="vertical"&&pe(s)?h=by().y(vh).x1(yh).x0(s):pe(s)?h=by().x(yh).y1(vh).y0(s):h=wW().x(yh).y(vh),h.defined(Oy).curve(d),h(f)},G0=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?vDe(e):i;return L.createElement("path",dA({},Fe(e,!1),y0(e),{className:Je("recharts-curve",n),d:s,ref:a}))},Tq={exports:{}},xDe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",bDe=xDe,wDe=bDe;function kq(){}function Oq(){}Oq.resetWarningCache=kq;var _De=function(){function t(r,i,a,s,o,l){if(l!==wDe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Oq,resetWarningCache:kq};return n.PropTypes=n,n};Tq.exports=_De();var SDe=Tq.exports;const tt=at(SDe);var EDe=Object.getOwnPropertyNames,jDe=Object.getOwnPropertySymbols,ADe=Object.prototype.hasOwnProperty;function $L(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Ny(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,s=a.get(n),o=a.get(r);if(s&&o)return s===r&&o===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function RL(t){return EDe(t).concat(jDe(t))}var Nq=Object.hasOwn||function(t,e){return ADe.call(t,e)};function qf(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var Pq="_owner",ML=Object.getOwnPropertyDescriptor,LL=Object.keys;function CDe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function TDe(t,e){return qf(t.getTime(),e.getTime())}function DL(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),a=0,s,o;(s=i.next())&&!s.done;){for(var l=e.entries(),c=!1,d=0;(o=l.next())&&!o.done;){var f=s.value,h=f[0],p=f[1],m=o.value,g=m[0],v=m[1];!c&&!r[d]&&(c=n.equals(h,g,a,d,t,e,n)&&n.equals(p,v,h,g,t,e,n))&&(r[d]=!0),d++}if(!c)return!1;a++}return!0}function kDe(t,e,n){var r=LL(t),i=r.length;if(LL(e).length!==i)return!1;for(var a;i-- >0;)if(a=r[i],a===Pq&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!Nq(e,a)||!n.equals(t[a],e[a],a,a,t,e,n))return!1;return!0}function xh(t,e,n){var r=RL(t),i=r.length;if(RL(e).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=r[i],a===Pq&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!Nq(e,a)||!n.equals(t[a],e[a],a,a,t,e,n)||(s=ML(t,a),o=ML(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function ODe(t,e){return qf(t.valueOf(),e.valueOf())}function NDe(t,e){return t.source===e.source&&t.flags===e.flags}function FL(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),a,s;(a=i.next())&&!a.done;){for(var o=e.values(),l=!1,c=0;(s=o.next())&&!s.done;)!l&&!r[c]&&(l=n.equals(a.value,s.value,a.value,s.value,t,e,n))&&(r[c]=!0),c++;if(!l)return!1}return!0}function PDe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var IDe="[object Arguments]",$De="[object Boolean]",RDe="[object Date]",MDe="[object Map]",LDe="[object Number]",DDe="[object Object]",FDe="[object RegExp]",BDe="[object Set]",zDe="[object String]",UDe=Array.isArray,BL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,zL=Object.assign,HDe=Object.prototype.toString.call.bind(Object.prototype.toString);function WDe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,a=t.arePrimitiveWrappersEqual,s=t.areRegExpsEqual,o=t.areSetsEqual,l=t.areTypedArraysEqual;return function(d,f,h){if(d===f)return!0;if(d==null||f==null||typeof d!="object"||typeof f!="object")return d!==d&&f!==f;var p=d.constructor;if(p!==f.constructor)return!1;if(p===Object)return i(d,f,h);if(UDe(d))return e(d,f,h);if(BL!=null&&BL(d))return l(d,f,h);if(p===Date)return n(d,f,h);if(p===RegExp)return s(d,f,h);if(p===Map)return r(d,f,h);if(p===Set)return o(d,f,h);var m=HDe(d);return m===RDe?n(d,f,h):m===FDe?s(d,f,h):m===MDe?r(d,f,h):m===BDe?o(d,f,h):m===DDe?typeof d.then!="function"&&typeof f.then!="function"&&i(d,f,h):m===IDe?i(d,f,h):m===$De||m===LDe||m===zDe?a(d,f,h):!1}}function VDe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?xh:CDe,areDatesEqual:TDe,areMapsEqual:r?$L(DL,xh):DL,areObjectsEqual:r?xh:kDe,arePrimitiveWrappersEqual:ODe,areRegExpsEqual:NDe,areSetsEqual:r?$L(FL,xh):FL,areTypedArraysEqual:r?xh:PDe};if(n&&(i=zL({},i,n(i))),e){var a=Ny(i.areArraysEqual),s=Ny(i.areMapsEqual),o=Ny(i.areObjectsEqual),l=Ny(i.areSetsEqual);i=zL({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}function qDe(t){return function(e,n,r,i,a,s,o){return t(e,n,o)}}function GDe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,c){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return n(l,c,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return n(l,c,s)}}var KDe=Dl();Dl({strict:!0});Dl({circular:!0});Dl({circular:!0,strict:!0});Dl({createInternalComparator:function(){return qf}});Dl({strict:!0,createInternalComparator:function(){return qf}});Dl({circular:!0,createInternalComparator:function(){return qf}});Dl({circular:!0,createInternalComparator:function(){return qf},strict:!0});function Dl(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,o=VDe(t),l=WDe(o),c=r?r(l):qDe(l);return GDe({circular:n,comparator:l,createState:i,equals:c,strict:s})}function YDe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function UL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):YDe(i)};requestAnimationFrame(r)}function fA(t){"@babel/helpers - typeof";return fA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fA(t)}function XDe(t){return e4e(t)||QDe(t)||JDe(t)||ZDe()}function ZDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JDe(t,e){if(t){if(typeof t=="string")return HL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HL(t,e)}}function HL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function e4e(t){if(Array.isArray(t))return t}function t4e(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,o=XDe(s),l=o[0],c=o.slice(1);if(typeof l=="number"){UL(i.bind(null,c),l);return}i(l),UL(i.bind(null,c));return}fA(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}function WL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WL(Object(n),!0).forEach(function(r){Iq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iq(t,e,n){return e=n4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n4e(t){var e=r4e(t,"string");return bm(e)==="symbol"?e:String(e)}function r4e(t,e){if(bm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var i4e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},a4e=function(e){return e},s4e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},sp=function(e,n){return Object.keys(n).reduce(function(r,i){return VL(VL({},r),{},Iq({},i,e(i,n[i])))},{})},qL=function(e,n,r){return e.map(function(i){return"".concat(s4e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function o4e(t,e){return u4e(t)||c4e(t,e)||$q(t,e)||l4e()}function l4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c4e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function u4e(t){if(Array.isArray(t))return t}function d4e(t){return p4e(t)||h4e(t)||$q(t)||f4e()}function f4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $q(t,e){if(t){if(typeof t=="string")return hA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hA(t,e)}}function h4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function p4e(t){if(Array.isArray(t))return hA(t)}function hA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var K0=1e-4,Rq=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},Mq=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},GL=function(e,n){return function(r){var i=Rq(e,n);return Mq(i,r)}},m4e=function(e,n){return function(r){var i=Rq(e,n),a=[].concat(d4e(i.map(function(s,o){return s*o}).slice(1)),[0]);return Mq(a,r)}},KL=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=o4e(c,4);i=d[0],a=d[1],s=d[2],o=d[3]}}}var f=GL(i,s),h=GL(a,o),p=m4e(i,s),m=function(y){return y>1?1:y<0?0:y},g=function(y){for(var x=y>1?1:y,b=x,_=0;_<8;++_){var w=f(b)-x,E=p(b);if(Math.abs(w-x)<K0||E<K0)return h(b);b=m(b-w/E)}return h(b)};return g.isStepper=!1,g},g4e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(d,f,h){var p=-(d-f)*r,m=h*a,g=h+(p-m)*o/1e3,v=h*o/1e3+d;return Math.abs(v-f)<K0&&Math.abs(g)<K0?[f,0]:[v,g]};return l.isStepper=!0,l.dt=o,l},y4e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return KL(i);case"spring":return g4e();default:if(i.split("(")[0]==="cubic-bezier")return KL(i)}return typeof i=="function"?i:null};function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(t)}function YL(t){return b4e(t)||x4e(t)||Lq(t)||v4e()}function v4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function b4e(t){if(Array.isArray(t))return mA(t)}function XL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XL(Object(n),!0).forEach(function(r){pA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pA(t,e,n){return e=w4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w4e(t){var e=_4e(t,"string");return wm(e)==="symbol"?e:String(e)}function _4e(t,e){if(wm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S4e(t,e){return A4e(t)||j4e(t,e)||Lq(t,e)||E4e()}function E4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lq(t,e){if(t){if(typeof t=="string")return mA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mA(t,e)}}function mA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function j4e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function A4e(t){if(Array.isArray(t))return t}var Y0=function(e,n,r){return e+(n-e)*r},gA=function(e){var n=e.from,r=e.to;return n!==r},C4e=function t(e,n,r){var i=sp(function(a,s){if(gA(s)){var o=e(s.from,s.to,s.velocity),l=S4e(o,2),c=l[0],d=l[1];return Ln(Ln({},s),{},{from:c,velocity:d})}return s},n);return r<1?sp(function(a,s){return gA(s)?Ln(Ln({},s),{},{velocity:Y0(s.velocity,i[a].velocity,r),from:Y0(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const T4e=function(t,e,n,r,i){var a=i4e(t,e),s=a.reduce(function(v,y){return Ln(Ln({},v),{},pA({},y,[t[y],e[y]]))},{}),o=a.reduce(function(v,y){return Ln(Ln({},v),{},pA({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,c,d,f=function(){return null},h=function(){return sp(function(y,x){return x.from},o)},p=function(){return!Object.values(o).filter(gA).length},m=function(y){c||(c=y);var x=y-c,b=x/n.dt;o=C4e(n,o,b),i(Ln(Ln(Ln({},t),e),h())),c=y,p()||(l=requestAnimationFrame(f))},g=function(y){d||(d=y);var x=(y-d)/r,b=sp(function(w,E){return Y0.apply(void 0,YL(E).concat([n(x)]))},s);if(i(Ln(Ln(Ln({},t),e),b)),x<1)l=requestAnimationFrame(f);else{var _=sp(function(w,E){return Y0.apply(void 0,YL(E).concat([n(1)]))},s);i(Ln(Ln(Ln({},t),e),_))}};return f=n.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}var k4e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function O4e(t,e){if(t==null)return{};var n=N4e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function N4e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function $1(t){return R4e(t)||$4e(t)||I4e(t)||P4e()}function P4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I4e(t,e){if(t){if(typeof t=="string")return yA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yA(t,e)}}function $4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function R4e(t){if(Array.isArray(t))return yA(t)}function yA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZL(Object(n),!0).forEach(function(r){Mh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mh(t,e,n){return e=Dq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L4e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dq(r.key),r)}}function D4e(t,e,n){return e&&L4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dq(t){var e=F4e(t,"string");return Qd(e)==="symbol"?e:String(e)}function F4e(t,e){if(Qd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vA(t,e)}function vA(t,e){return vA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vA(t,e)}function z4e(t){var e=U4e();return function(){var r=X0(t),i;if(e){var a=X0(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return xA(this,i)}}function xA(t,e){if(e&&(Qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bA(t)}function bA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U4e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function X0(t){return X0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},X0(t)}var fs=function(t){B4e(n,t);var e=z4e(n);function n(r,i){var a;M4e(this,n),a=e.call(this,r,i);var s=a.props,o=s.isActive,l=s.attributeName,c=s.from,d=s.to,f=s.steps,h=s.children,p=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(bA(a)),a.changeStyle=a.changeStyle.bind(bA(a)),!o||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),xA(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof h=="function")return a.state={style:c},xA(a);a.state={style:l?Mh({},l,c):c}}else a.state={style:{}};return a}return D4e(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(o){if(!s){var p={style:l?Mh({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(KDe(i.to,d)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||c?f:i.to;if(this.state&&h){var v={style:l?Mh({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(v)}this.runAnimation(Ki(Ki({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,c=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=T4e(s,o,y4e(c),l,this.changeStyle),m=function(){a.stopJSAnimation=p()};this.manager.start([h,d,m,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,c=s[0],d=c.style,f=c.duration,h=f===void 0?0:f,p=function(g,v,y){if(y===0)return g;var x=v.duration,b=v.easing,_=b===void 0?"ease":b,w=v.style,E=v.properties,A=v.onAnimationEnd,j=y>0?s[y-1]:v,C=E||Object.keys(w);if(typeof _=="function"||_==="spring")return[].concat($1(g),[a.runJSAnimation.bind(a,{from:j.style,to:w,duration:x,easing:_}),x]);var T=qL(C,x,_),O=Ki(Ki(Ki({},j.style),w),{},{transition:T});return[].concat($1(g),[O,x,A]).filter(a4e)};return this.manager.start([l].concat($1(s.reduce(p,[d,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=t4e());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=o?Mh({},o,l):l,v=qL(Object.keys(g),s,c);m.start([d,a,Ki(Ki({},g),{},{transition:v}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=O4e(i,k4e),c=S.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!o||c===0||s<=0)return a;var f=function(p){var m=p.props,g=m.style,v=g===void 0?{}:g,y=m.className,x=S.cloneElement(p,Ki(Ki({},l),{},{style:Ki(Ki({},v),d),className:y}));return x};return c===1?f(S.Children.only(a)):L.createElement("div",null,S.Children.map(a,function(h){return f(h)}))}}]),n}(S.PureComponent);fs.displayName="Animate";fs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};fs.propTypes={from:tt.oneOfType([tt.object,tt.string]),to:tt.oneOfType([tt.object,tt.string]),attributeName:tt.string,duration:tt.number,begin:tt.number,easing:tt.oneOfType([tt.string,tt.func]),steps:tt.arrayOf(tt.shape({duration:tt.number.isRequired,style:tt.object.isRequired,easing:tt.oneOfType([tt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),tt.func]),properties:tt.arrayOf("string"),onAnimationEnd:tt.func})),children:tt.oneOfType([tt.node,tt.func]),isActive:tt.bool,canBegin:tt.bool,onAnimationEnd:tt.func,shouldReAnimate:tt.bool,onAnimationStart:tt.func,onAnimationReStart:tt.func};tt.object,tt.object,tt.object,tt.element;tt.object,tt.object,tt.object,tt.oneOfType([tt.array,tt.element]),tt.any;function _m(t){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(t)}function Z0(){return Z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z0.apply(this,arguments)}function H4e(t,e){return G4e(t)||q4e(t,e)||V4e(t,e)||W4e()}function W4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V4e(t,e){if(t){if(typeof t=="string")return JL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JL(t,e)}}function JL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function q4e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function G4e(t){if(Array.isArray(t))return t}function QL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QL(Object(n),!0).forEach(function(r){K4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K4e(t,e,n){return e=Y4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y4e(t){var e=X4e(t,"string");return _m(e)=="symbol"?e:e+""}function X4e(t,e){if(_m(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tD=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,d;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>s?s:a[h];d="M".concat(e,",").concat(n+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+o*f[1])),d+="L ".concat(e+r,",").concat(n+i-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),d+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-o*f[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var m=Math.min(s,a);d="M ".concat(e,",").concat(n+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(n+o*m,`
            L `).concat(e+r,",").concat(n+i-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(n+i-o*m," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},Z4e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(a,a+o),d=Math.max(a,a+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return r>=c&&r<=d&&i>=f&&i<=h}return!1},J4e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nN=function(e){var n=eD(eD({},J4e),e),r=S.useRef(),i=S.useState(-1),a=H4e(i,2),s=a[0],o=a[1];S.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&o(_)}catch{}},[]);var l=n.x,c=n.y,d=n.width,f=n.height,h=n.radius,p=n.className,m=n.animationEasing,g=n.animationDuration,v=n.animationBegin,y=n.isAnimationActive,x=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var b=Je("recharts-rectangle",p);return x?L.createElement(fs,{canBegin:s>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:g,animationEasing:m,isActive:x},function(_){var w=_.width,E=_.height,A=_.x,j=_.y;return L.createElement(fs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:y,easing:m},L.createElement("path",Z0({},Fe(n,!0),{className:b,d:tD(A,j,w,E,h),ref:r})))}):L.createElement("path",Z0({},Fe(n,!0),{className:b,d:tD(l,c,d,f,h)}))},Q4e=["points","className","baseLinePoints","connectNulls"];function Wu(){return Wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wu.apply(this,arguments)}function e5e(t,e){if(t==null)return{};var n=t5e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function t5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nD(t){return a5e(t)||i5e(t)||r5e(t)||n5e()}function n5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r5e(t,e){if(t){if(typeof t=="string")return wA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wA(t,e)}}function i5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function a5e(t){if(Array.isArray(t))return wA(t)}function wA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rD=function(e){return e&&e.x===+e.x&&e.y===+e.y},s5e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){rD(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),rD(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},op=function(e,n){var r=s5e(e);n&&(r=[r.reduce(function(a,s){return[].concat(nD(a),nD(s))},[])]);var i=r.map(function(a){return a.reduce(function(s,o,l){return"".concat(s).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},o5e=function(e,n,r){var i=op(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(op(n.reverse(),r).slice(1))},l5e=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,s=e5e(e,Q4e);if(!n||!n.length)return null;var o=Je("recharts-polygon",r);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",c=o5e(n,i,a);return L.createElement("g",{className:o},L.createElement("path",Wu({},Fe(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),l?L.createElement("path",Wu({},Fe(s,!0),{fill:"none",d:op(n,a)})):null,l?L.createElement("path",Wu({},Fe(s,!0),{fill:"none",d:op(i,a)})):null)}var d=op(n,a);return L.createElement("path",Wu({},Fe(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:o,d}))};function _A(){return _A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_A.apply(this,arguments)}var xw=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=Je("recharts-dot",a);return n===+n&&r===+r&&i===+i?L.createElement("circle",_A({},Fe(e,!1),y0(e),{className:s,cx:n,cy:r,r:i})):null};function Sm(t){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sm(t)}var c5e=["x","y","top","left","width","height","className"];function SA(){return SA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SA.apply(this,arguments)}function iD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u5e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iD(Object(n),!0).forEach(function(r){d5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d5e(t,e,n){return e=f5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f5e(t){var e=h5e(t,"string");return Sm(e)=="symbol"?e:e+""}function h5e(t,e){if(Sm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p5e(t,e){if(t==null)return{};var n=m5e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function m5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var g5e=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},y5e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,c=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,p=h===void 0?0:h,m=e.className,g=p5e(e,c5e),v=u5e({x:r,y:a,top:o,left:c,width:f,height:p},g);return!pe(r)||!pe(a)||!pe(f)||!pe(p)||!pe(o)||!pe(c)?null:L.createElement("path",SA({},Fe(v,!0),{className:Je("recharts-cross",m),d:g5e(r,a,f,p,o,c)}))},v5e=pw,x5e=YV,b5e=ys;function w5e(t,e){return t&&t.length?v5e(t,b5e(e),x5e):void 0}var _5e=w5e;const S5e=at(_5e);var E5e=pw,j5e=ys,A5e=XV;function C5e(t,e){return t&&t.length?E5e(t,j5e(e),A5e):void 0}var T5e=C5e;const k5e=at(T5e);var O5e=["cx","cy","angle","ticks","axisLine"],N5e=["ticks","tick","angle","tickFormatter","stroke"];function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function lp(){return lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lp.apply(this,arguments)}function aD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(n),!0).forEach(function(r){bw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sD(t,e){if(t==null)return{};var n=P5e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function P5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function I5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bq(r.key),r)}}function $5e(t,e,n){return e&&oD(t.prototype,e),n&&oD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function R5e(t,e,n){return e=J0(e),M5e(t,Fq()?Reflect.construct(e,n||[],J0(t).constructor):e.apply(t,n))}function M5e(t,e){if(e&&(ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L5e(t)}function L5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fq=function(){return!!t})()}function J0(t){return J0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J0(t)}function D5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EA(t,e)}function EA(t,e){return EA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EA(t,e)}function bw(t,e,n){return e=Bq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bq(t){var e=F5e(t,"string");return ef(e)=="symbol"?e:e+""}function F5e(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ww=function(t){function e(){return I5e(this,e),R5e(this,e,arguments)}return D5e(e,t),$5e(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,s=a.angle,o=a.cx,l=a.cy;return Rt(o,l,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,o=r.ticks,l=S5e(o,function(d){return d.coordinate||0}),c=k5e(o,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,o=r.ticks,l=r.axisLine,c=sD(r,O5e),d=o.reduce(function(m,g){return[Math.min(m[0],g.coordinate),Math.max(m[1],g.coordinate)]},[1/0,-1/0]),f=Rt(i,a,d[0],s),h=Rt(i,a,d[1],s),p=Wl(Wl(Wl({},Fe(c,!1)),{},{fill:"none"},Fe(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return L.createElement("line",lp({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,o=i.angle,l=i.tickFormatter,c=i.stroke,d=sD(i,N5e),f=this.getTickTextAnchor(),h=Fe(d,!1),p=Fe(s,!1),m=a.map(function(g,v){var y=r.getTickValueCoord(g),x=Wl(Wl(Wl(Wl({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:c},p),{},{index:v},y),{},{payload:g});return L.createElement(pt,lp({className:Je("recharts-polar-radius-axis-tick",Eq(s)),key:"tick-".concat(g.coordinate)},Lc(r.props,g,v)),e.renderTickItem(s,x,l?l(g.value,v):g.value))});return L.createElement(pt,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,s=r.tick;return!i||!i.length?null:L.createElement(pt,{className:Je("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),In.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return L.isValidElement(r)?s=L.cloneElement(r,i):qe(r)?s=r(i):s=L.createElement(Dc,lp({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(S.PureComponent);bw(ww,"displayName","PolarRadiusAxis");bw(ww,"axisType","radiusAxis");bw(ww,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function nc(){return nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nc.apply(this,arguments)}function lD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lD(Object(n),!0).forEach(function(r){_w(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Uq(r.key),r)}}function z5e(t,e,n){return e&&cD(t.prototype,e),n&&cD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function U5e(t,e,n){return e=Q0(e),H5e(t,zq()?Reflect.construct(e,n||[],Q0(t).constructor):e.apply(t,n))}function H5e(t,e){if(e&&(tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W5e(t)}function W5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zq=function(){return!!t})()}function Q0(t){return Q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q0(t)}function V5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jA(t,e)}function jA(t,e){return jA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jA(t,e)}function _w(t,e,n){return e=Uq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uq(t){var e=q5e(t,"string");return tf(e)=="symbol"?e:e+""}function q5e(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var G5e=Math.PI/180,uD=1e-5,Sw=function(t){function e(){return B5e(this,e),U5e(this,e,arguments)}return V5e(e,t),z5e(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,s=i.cy,o=i.radius,l=i.orientation,c=i.tickSize,d=c||8,f=Rt(a,s,o,r.coordinate),h=Rt(a,s,o+(l==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*G5e),s;return a>uD?s=i==="outer"?"start":"end":a<-uD?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.radius,o=r.axisLine,l=r.axisLineType,c=Vl(Vl({},Fe(this.props,!1)),{},{fill:"none"},Fe(o,!1));if(l==="circle")return L.createElement(xw,nc({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:a,r:s}));var d=this.props.ticks,f=d.map(function(h){return Rt(i,a,s,h.coordinate)});return L.createElement(l5e,nc({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,o=i.tickLine,l=i.tickFormatter,c=i.stroke,d=Fe(this.props,!1),f=Fe(s,!1),h=Vl(Vl({},d),{},{fill:"none"},Fe(o,!1)),p=a.map(function(m,g){var v=r.getTickLineCoord(m),y=r.getTickTextAnchor(m),x=Vl(Vl(Vl({textAnchor:y},d),{},{stroke:"none",fill:c},f),{},{index:g,payload:m,x:v.x2,y:v.y2});return L.createElement(pt,nc({className:Je("recharts-polar-angle-axis-tick",Eq(s)),key:"tick-".concat(m.coordinate)},Lc(r.props,m,g)),o&&L.createElement("line",nc({className:"recharts-polar-angle-axis-tick-line"},h,v)),s&&e.renderTickItem(s,x,l?l(m.value,g):m.value))});return L.createElement(pt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,s=r.axisLine;return a<=0||!i||!i.length?null:L.createElement(pt,{className:Je("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var s;return L.isValidElement(r)?s=L.cloneElement(r,i):qe(r)?s=r(i):s=L.createElement(Dc,nc({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(S.PureComponent);_w(Sw,"displayName","PolarAngleAxis");_w(Sw,"axisType","angleAxis");_w(Sw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var K5e=VW,Y5e=K5e(Object.getPrototypeOf,Object),X5e=Y5e,Z5e=uo,J5e=X5e,Q5e=fo,e3e="[object Object]",t3e=Function.prototype,n3e=Object.prototype,Hq=t3e.toString,r3e=n3e.hasOwnProperty,i3e=Hq.call(Object);function a3e(t){if(!Q5e(t)||Z5e(t)!=e3e)return!1;var e=J5e(t);if(e===null)return!0;var n=r3e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Hq.call(n)==i3e}var s3e=a3e;const o3e=at(s3e);var l3e=uo,c3e=fo,u3e="[object Boolean]";function d3e(t){return t===!0||t===!1||c3e(t)&&l3e(t)==u3e}var f3e=d3e;const h3e=at(f3e);function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}function ex(){return ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ex.apply(this,arguments)}function p3e(t,e){return v3e(t)||y3e(t,e)||g3e(t,e)||m3e()}function m3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g3e(t,e){if(t){if(typeof t=="string")return dD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dD(t,e)}}function dD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function v3e(t){if(Array.isArray(t))return t}function fD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fD(Object(n),!0).forEach(function(r){x3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x3e(t,e,n){return e=b3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b3e(t){var e=w3e(t,"string");return Em(e)=="symbol"?e:e+""}function w3e(t,e){if(Em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pD=function(e,n,r,i,a){var s=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-s/2,",").concat(n+a),o+="L ".concat(e+r-s/2-i,",").concat(n+a),o+="L ".concat(e,",").concat(n," Z"),o},_3e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},S3e=function(e){var n=hD(hD({},_3e),e),r=S.useRef(),i=S.useState(-1),a=p3e(i,2),s=a[0],o=a[1];S.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&o(b)}catch{}},[]);var l=n.x,c=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,m=n.animationEasing,g=n.animationDuration,v=n.animationBegin,y=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=Je("recharts-trapezoid",p);return y?L.createElement(fs,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:c},duration:g,animationEasing:m,isActive:y},function(b){var _=b.upperWidth,w=b.lowerWidth,E=b.height,A=b.x,j=b.y;return L.createElement(fs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:m},L.createElement("path",ex({},Fe(n,!0),{className:x,d:pD(A,j,_,w,E),ref:r})))}):L.createElement("g",null,L.createElement("path",ex({},Fe(n,!0),{className:x,d:pD(l,c,d,f,h)})))},E3e=["option","shapeType","propTransformer","activeClassName","isActive"];function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(t)}function j3e(t,e){if(t==null)return{};var n=A3e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(n),!0).forEach(function(r){C3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C3e(t,e,n){return e=T3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T3e(t){var e=k3e(t,"string");return jm(e)=="symbol"?e:e+""}function k3e(t,e){if(jm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O3e(t,e){return tx(tx({},e),t)}function N3e(t,e){return t==="symbols"}function gD(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return L.createElement(nN,n);case"trapezoid":return L.createElement(S3e,n);case"sector":return L.createElement(Cq,n);case"symbols":if(N3e(e))return L.createElement(wO,n);break;default:return null}}function P3e(t){return S.isValidElement(t)?t.props:t}function Wq(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?O3e:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=j3e(t,E3e),c;if(S.isValidElement(e))c=S.cloneElement(e,tx(tx({},l),P3e(e)));else if(qe(e))c=e(l);else if(o3e(e)&&!h3e(e)){var d=i(e,l);c=L.createElement(gD,{shapeType:n,elementProps:d})}else{var f=l;c=L.createElement(gD,{shapeType:n,elementProps:f})}return o?L.createElement(pt,{className:s},c):c}function Ew(t,e){return e!=null&&"trapezoids"in t.props}function jw(t,e){return e!=null&&"sectors"in t.props}function Am(t,e){return e!=null&&"points"in t.props}function I3e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function $3e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function R3e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function M3e(t,e){var n;return Ew(t,e)?n=I3e:jw(t,e)?n=$3e:Am(t,e)&&(n=R3e),n}function L3e(t,e){var n;return Ew(t,e)?n="trapezoids":jw(t,e)?n="sectors":Am(t,e)&&(n="points"),n}function D3e(t,e){if(Ew(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(jw(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Am(t,e)?e.payload:{}}function F3e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=L3e(n,e),a=D3e(n,e),s=r.filter(function(l,c){var d=_g(a,l),f=n.props[i].filter(function(m){var g=M3e(n,e);return g(m,e)}),h=n.props[i].indexOf(f[f.length-1]),p=c===h;return d&&p}),o=r.indexOf(s[s.length-1]);return o}var ov;function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function Vu(){return Vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vu.apply(this,arguments)}function yD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yD(Object(n),!0).forEach(function(r){ji(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qq(r.key),r)}}function z3e(t,e,n){return e&&vD(t.prototype,e),n&&vD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function U3e(t,e,n){return e=nx(e),H3e(t,Vq()?Reflect.construct(e,n||[],nx(t).constructor):e.apply(t,n))}function H3e(t,e){if(e&&(nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W3e(t)}function W3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vq=function(){return!!t})()}function nx(t){return nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nx(t)}function V3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AA(t,e)}function AA(t,e){return AA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AA(t,e)}function ji(t,e,n){return e=qq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qq(t){var e=q3e(t,"string");return nf(e)=="symbol"?e:e+""}function q3e(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vs=function(t){function e(n){var r;return B3e(this,e),r=U3e(this,e,[n]),ji(r,"pieRef",null),ji(r,"sectorRefs",[]),ji(r,"id",Ff("recharts-pie-")),ji(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),qe(i)&&i()}),ji(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),qe(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return V3e(e,t),z3e(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,o=a.labelLine,l=a.dataKey,c=a.valueKey,d=Fe(this.props,!1),f=Fe(s,!1),h=Fe(o,!1),p=s&&s.offsetRadius||20,m=r.map(function(g,v){var y=(g.startAngle+g.endAngle)/2,x=Rt(g.cx,g.cy,g.outerRadius+p,y),b=Nt(Nt(Nt(Nt({},d),g),{},{stroke:"none"},f),{},{index:v,textAnchor:e.getTextAnchor(x.x,g.cx)},x),_=Nt(Nt(Nt(Nt({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:v,points:[Rt(g.cx,g.cy,g.outerRadius,y),x]}),w=l;return Xe(l)&&Xe(c)?w="value":Xe(l)&&(w=c),L.createElement(pt,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},o&&e.renderLabelLineItem(o,_,"line"),e.renderLabelItem(s,b,_n(g,w)))});return L.createElement(pt,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,s=a.activeShape,o=a.blendStroke,l=a.inactiveShape;return r.map(function(c,d){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(d),h=l&&i.hasActiveIndex()?l:null,p=f?s:h,m=Nt(Nt({},c),{},{stroke:o?c.fill:c.stroke,tabIndex:-1});return L.createElement(pt,Vu({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Lc(i.props,c,d),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(d)}),L.createElement(Wq,Vu({option:p,isActive:f,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,s=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,c=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return L.createElement(fs,{begin:o,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var g=m.t,v=[],y=a&&a[0],x=y.startAngle;return a.forEach(function(b,_){var w=h&&h[_],E=_>0?oi(b,"paddingAngle",0):0;if(w){var A=Gr(w.endAngle-w.startAngle,b.endAngle-b.startAngle),j=Nt(Nt({},b),{},{startAngle:x+E,endAngle:x+A(g)+E});v.push(j),x=j.endAngle}else{var C=b.endAngle,T=b.startAngle,O=Gr(0,C-T),P=O(g),H=Nt(Nt({},b),{},{startAngle:x+E,endAngle:x+P+E});v.push(H),x=H.endAngle}}),L.createElement(pt,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!_g(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,s=i.sectors,o=i.className,l=i.label,c=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,m=this.state.isAnimationFinished;if(a||!s||!s.length||!pe(c)||!pe(d)||!pe(f)||!pe(h))return null;var g=Je("recharts-pie",o);return L.createElement(pt,{tabIndex:this.props.rootTabIndex,className:g,ref:function(y){r.pieRef=y}},this.renderSectors(),l&&this.renderLabels(s),In.renderCallByParent(this.props,null,!1),(!p||m)&&Vs.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(L.isValidElement(r))return L.cloneElement(r,i);if(qe(r))return r(i);var s=Je("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return L.createElement(G0,Vu({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,a){if(L.isValidElement(r))return L.cloneElement(r,i);var s=a;if(qe(r)&&(s=r(i),L.isValidElement(s)))return s;var o=Je("recharts-pie-label-text",typeof r!="boolean"&&!qe(r)?r.className:"");return L.createElement(Dc,Vu({},i,{alignmentBaseline:"middle",className:o}),s)}}])}(S.PureComponent);ov=vs;ji(vs,"displayName","Pie");ji(vs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ns.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ji(vs,"parseDeltaAngle",function(t,e){var n=dr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});ji(vs,"getRealPieData",function(t){var e=t.data,n=t.children,r=Fe(t,!1),i=li(n,yg);return e&&e.length?e.map(function(a,s){return Nt(Nt(Nt({payload:a},r),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return Nt(Nt({},r),a.props)}):[]});ji(vs,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,s=Sq(i,a),o=r+fr(t.cx,i,i/2),l=n+fr(t.cy,a,a/2),c=fr(t.innerRadius,s,0),d=fr(t.outerRadius,s,s*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:o,cy:l,innerRadius:c,outerRadius:d,maxRadius:f}});ji(vs,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Nt(Nt({},e.type.defaultProps),e.props):e.props,i=ov.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,s=r.startAngle,o=r.endAngle,l=r.paddingAngle,c=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,p=Math.abs(r.minAngle),m=ov.parseCoordinateOfPie(r,n),g=ov.parseDeltaAngle(s,o),v=Math.abs(g),y=c;Xe(c)&&Xe(f)?(ga(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Xe(c)&&(ga(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var x=i.filter(function(j){return _n(j,y,0)!==0}).length,b=(v>=360?x:x-1)*l,_=v-x*p-b,w=i.reduce(function(j,C){var T=_n(C,y,0);return j+(pe(T)?T:0)},0),E;if(w>0){var A;E=i.map(function(j,C){var T=_n(j,y,0),O=_n(j,d,C),P=(pe(T)?T:0)/w,H;C?H=A.endAngle+dr(g)*l*(T!==0?1:0):H=s;var R=H+dr(g)*((T!==0?p:0)+P*_),B=(H+R)/2,U=(m.innerRadius+m.outerRadius)/2,W=[{name:O,value:T,payload:j,dataKey:y,type:h}],M=Rt(m.cx,m.cy,U,B);return A=Nt(Nt(Nt({percent:P,cornerRadius:a,name:O,tooltipPayload:W,midAngle:B,middleRadius:U,tooltipPosition:M},j),m),{},{value:_n(j,y),startAngle:H,endAngle:R,payload:j,paddingAngle:dr(g)*l}),A})}return Nt(Nt({},m),{},{sectors:E,data:i})});var G3e=Math.ceil,K3e=Math.max;function Y3e(t,e,n,r){for(var i=-1,a=K3e(G3e((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var X3e=Y3e,Z3e=uV,xD=1/0,J3e=17976931348623157e292;function Q3e(t){if(!t)return t===0?t:0;if(t=Z3e(t),t===xD||t===-xD){var e=t<0?-1:1;return e*J3e}return t===t?t:0}var Gq=Q3e,eFe=X3e,tFe=ow,R1=Gq;function nFe(t){return function(e,n,r){return r&&typeof r!="number"&&tFe(e,n,r)&&(n=r=void 0),e=R1(e),n===void 0?(n=e,e=0):n=R1(n),r=r===void 0?e<n?1:-1:R1(r),eFe(e,n,r,t)}}var rFe=nFe,iFe=rFe,aFe=iFe(),sFe=aFe;const rx=at(sFe);function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}function bD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bD(Object(n),!0).forEach(function(r){Kq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kq(t,e,n){return e=oFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oFe(t){var e=lFe(t,"string");return Cm(e)=="symbol"?e:e+""}function lFe(t,e){if(Cm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cFe=["Webkit","Moz","O","ms"],uFe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=cFe.reduce(function(a,s){return wD(wD({},a),{},Kq({},s+r,n))},{});return i[e]=n,i};function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function ix(){return ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ix.apply(this,arguments)}function _D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_D(Object(n),!0).forEach(function(r){zr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xq(r.key),r)}}function fFe(t,e,n){return e&&SD(t.prototype,e),n&&SD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hFe(t,e,n){return e=ax(e),pFe(t,Yq()?Reflect.construct(e,n||[],ax(t).constructor):e.apply(t,n))}function pFe(t,e){if(e&&(rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mFe(t)}function mFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yq=function(){return!!t})()}function ax(t){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ax(t)}function gFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CA(t,e)}function CA(t,e){return CA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CA(t,e)}function zr(t,e,n){return e=Xq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xq(t){var e=yFe(t,"string");return rf(e)=="symbol"?e:e+""}function yFe(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vFe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=ip().domain(rx(0,l)).range([a,a+s-o]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:d}},ED=function(e){return e.changedTouches&&!!e.changedTouches.length},af=function(t){function e(n){var r;return dFe(this,e),r=hFe(this,e,[n]),zr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),zr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),zr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),r.detachDragEndListener()}),zr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),zr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),zr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),zr(r,"handleSlideDragStart",function(i){var a=ED(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return gFe(e,t),fFe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,d=c.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(s,f),m=e.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:m===d?d:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=_n(a[r],o,r);return qe(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,g=r.pageX-a;g>0?g=Math.min(g,c+d-f-o,c+d-f-s):g<0&&(g=Math.max(g,c-s,c-o));var v=this.getIndex({startX:s+g,endX:o+g});(v.startIndex!==h||v.endIndex!==p)&&m&&m(v),this.setState({startX:s+g,endX:o+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=ED(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[s],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,g=d.gap,v=d.data,y={startX:this.state.startX,endX:this.state.endX},x=r.pageX-a;x>0?x=Math.min(x,f+h-p-c):x<0&&(x=Math.max(x,f-c)),y[s]=c+x;var b=this.getIndex(y),_=b.startIndex,w=b.endIndex,E=function(){var j=v.length-1;return s==="startX"&&(o>l?_%g===0:w%g===0)||o<l&&w===j||s==="endX"&&(o>l?w%g===0:_%g===0)||o>l&&w===j};this.setState(zr(zr({},s,c+x),"brushMoveStartX",r.pageX),function(){m&&E()&&m(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,d=this.state[i],f=o.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(zr({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.fill,c=r.stroke;return L.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.data,c=r.children,d=r.padding,f=S.Children.only(c);return f?L.cloneElement(f,{x:i,y:a,width:s,height:o,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,o=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,v=l.endIndex,y=Math.max(r,this.props.x),x=M1(M1({},Fe(this.props,!1)),{},{x:y,y:c,width:d,height:f}),b=p||"Min value: ".concat((a=m[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=m[v])===null||s===void 0?void 0:s.name);return L.createElement(pt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),o.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,c=a.travellerWidth,d=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:s,width:f,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:c};return L.createElement(pt,{className:"recharts-brush-texts"},L.createElement(Dc,ix({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+o/2},m),this.getTextOfTick(i)),L.createElement(Dc,ix({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:s+o/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,o=r.x,l=r.y,c=r.width,d=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,m=h.endX,g=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!pe(o)||!pe(l)||!pe(c)||!pe(d)||c<=0||d<=0)return null;var b=Je("recharts-brush",a),_=L.Children.count(s)===1,w=uFe("userSelect","none");return L.createElement(pt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||v||y||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,o=r.height,l=r.stroke,c=Math.floor(a+o/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),L.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return L.isValidElement(r)?a=L.cloneElement(r,i):qe(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,d=r.startIndex,f=r.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return M1({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},a&&a.length?vFe({data:a,width:s,x:o,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);r[l]>i?o=l:s=l}return i>=r[o]?o:s}}])}(S.PureComponent);zr(af,"displayName","Brush");zr(af,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var xFe=TO;function bFe(t,e){var n;return xFe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var wFe=bFe,_Fe=LW,SFe=ys,EFe=wFe,jFe=Mr,AFe=ow;function CFe(t,e,n){var r=jFe(t)?_Fe:EFe;return n&&AFe(t,e,n)&&(e=void 0),r(t,SFe(e))}var TFe=CFe;const kFe=at(TFe);var is=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},jD=aV;function OFe(t,e,n){e=="__proto__"&&jD?jD(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var NFe=OFe,PFe=NFe,IFe=rV,$Fe=ys;function RFe(t,e){var n={};return e=$Fe(e),IFe(t,function(r,i,a){PFe(n,i,e(r,i,a))}),n}var MFe=RFe;const LFe=at(MFe);function DFe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var FFe=DFe,BFe=TO;function zFe(t,e){var n=!0;return BFe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var UFe=zFe,HFe=FFe,WFe=UFe,VFe=ys,qFe=Mr,GFe=ow;function KFe(t,e,n){var r=qFe(t)?HFe:WFe;return n&&GFe(t,e,n)&&(e=void 0),r(t,VFe(e))}var YFe=KFe;const Zq=at(YFe);var XFe=["x","y"];function Tm(t){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}function TA(){return TA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TA.apply(this,arguments)}function AD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AD(Object(n),!0).forEach(function(r){ZFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZFe(t,e,n){return e=JFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JFe(t){var e=QFe(t,"string");return Tm(e)=="symbol"?e:e+""}function QFe(t,e){if(Tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eBe(t,e){if(t==null)return{};var n=tBe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tBe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nBe(t,e){var n=t.x,r=t.y,i=eBe(t,XFe),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),d=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return bh(bh(bh(bh(bh({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function CD(t){return L.createElement(Wq,TA({shapeType:"rectangle",propTransformer:nBe,activeClassName:"recharts-active-bar"},t))}var rBe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,i):(a||Bc(),n)}},iBe=["value","background"],Jq;function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function aBe(t,e){if(t==null)return{};var n=sBe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sBe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sx(){return sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sx.apply(this,arguments)}function TD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TD(Object(n),!0).forEach(function(r){Wo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eG(r.key),r)}}function lBe(t,e,n){return e&&kD(t.prototype,e),n&&kD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cBe(t,e,n){return e=ox(e),uBe(t,Qq()?Reflect.construct(e,n||[],ox(t).constructor):e.apply(t,n))}function uBe(t,e){if(e&&(sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dBe(t)}function dBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qq=function(){return!!t})()}function ox(t){return ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ox(t)}function fBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kA(t,e)}function kA(t,e){return kA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kA(t,e)}function Wo(t,e,n){return e=eG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eG(t){var e=hBe(t,"string");return sf(e)=="symbol"?e:e+""}function hBe(t,e){if(sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ii=function(t){function e(){var n;oBe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=cBe(this,e,[].concat(i)),Wo(n,"state",{isAnimationFinished:!1}),Wo(n,"id",Ff("recharts-bar-")),Wo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Wo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return fBe(e,t),lBe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,c=a.activeBar,d=Fe(this.props,!1);return r&&r.map(function(f,h){var p=h===l,m=p?c:s,g=pn(pn(pn({},d),f),{},{isActive:p,option:m,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return L.createElement(pt,sx({className:"recharts-bar-rectangle"},Lc(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),L.createElement(CD,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return L.createElement(fs,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=a.map(function(v,y){var x=h&&h[y];if(x){var b=Gr(x.x,v.x),_=Gr(x.y,v.y),w=Gr(x.width,v.width),E=Gr(x.height,v.height);return pn(pn({},v),{},{x:b(m),y:_(m),width:w(m),height:E(m)})}if(s==="horizontal"){var A=Gr(0,v.height),j=A(m);return pn(pn({},v),{},{y:v.y+v.height-j,height:j})}var C=Gr(0,v.width),T=C(m);return pn(pn({},v),{},{width:T})});return L.createElement(pt,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!_g(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=Fe(this.props.background,!1);return a.map(function(c,d){c.value;var f=c.background,h=aBe(c,iBe);if(!f)return null;var p=pn(pn(pn(pn(pn({},h),{},{fill:"#eee"},f),l),Lc(r.props,c,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return L.createElement(CD,sx({key:"background-bar-".concat(d),option:r.props.background,isActive:d===o},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,c=a.layout,d=a.children,f=li(d,Sg);if(!f)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(v,y){var x=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:x,errorVal:_n(v,y)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return L.createElement(pt,m,f.map(function(g){return L.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,o=r.xAxis,l=r.yAxis,c=r.left,d=r.top,f=r.width,h=r.height,p=r.isAnimationActive,m=r.background,g=r.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,y=Je("recharts-bar",s),x=o&&o.allowDataOverflow,b=l&&l.allowDataOverflow,_=x||b,w=Xe(g)?this.id:g;return L.createElement(pt,{className:y},x||b?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(w)},L.createElement("rect",{x:x?c:c-f/2,y:b?d:d-h/2,width:x?f:f*2,height:b?h:h*2}))):null,L.createElement(pt,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(w,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,w),(!p||v)&&Vs.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(S.PureComponent);Jq=Ii;Wo(Ii,"displayName","Bar");Wo(Ii,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ns.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Wo(Ii,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=rLe(r,n);if(!p)return null;var m=e.layout,g=n.type.defaultProps,v=g!==void 0?pn(pn({},g),n.props):n.props,y=v.dataKey,x=v.children,b=v.minPointSize,_=m==="horizontal"?s:a,w=c?_.scale.domain():null,E=uLe({numericAxis:_}),A=li(x,yg),j=f.map(function(C,T){var O,P,H,R,B,U;c?O=iLe(c[d+T],w):(O=_n(C,y),Array.isArray(O)||(O=[E,O]));var W=rBe(b,Jq.defaultProps.minPointSize)(O[1],T);if(m==="horizontal"){var M,D=[s.scale(O[0]),s.scale(O[1])],N=D[0],V=D[1];P=vL({axis:a,ticks:o,bandSize:i,offset:p.offset,entry:C,index:T}),H=(M=V??N)!==null&&M!==void 0?M:void 0,R=p.size;var G=N-V;if(B=Number.isNaN(G)?0:G,U={x:P,y:s.y,width:R,height:s.height},Math.abs(W)>0&&Math.abs(B)<Math.abs(W)){var $=dr(B||W)*(Math.abs(W)-Math.abs(B));H-=$,B+=$}}else{var te=[a.scale(O[0]),a.scale(O[1])],ae=te[0],I=te[1];if(P=ae,H=vL({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:C,index:T}),R=I-ae,B=p.size,U={x:a.x,y:H,width:a.width,height:B},Math.abs(W)>0&&Math.abs(R)<Math.abs(W)){var k=dr(R||W)*(Math.abs(W)-Math.abs(R));R+=k}}return pn(pn(pn({},C),{},{x:P,y:H,width:R,height:B,value:c?O:O[1],payload:C,background:U},A&&A[T]&&A[T].props),{},{tooltipPayload:[wq(n,C)],tooltipPosition:{x:P+R/2,y:H+B/2}})});return pn({data:j,layout:m},h)});function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}function pBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tG(r.key),r)}}function mBe(t,e,n){return e&&OD(t.prototype,e),n&&OD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ND(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ia(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ND(Object(n),!0).forEach(function(r){Aw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aw(t,e,n){return e=tG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tG(t){var e=gBe(t,"string");return km(e)=="symbol"?e:e+""}function gBe(t,e){if(km(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nG=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.layout,c=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},h=!!Vr(c,Ii);return d.reduce(function(p,m){var g=n[m],v=g.orientation,y=g.domain,x=g.padding,b=x===void 0?{}:x,_=g.mirror,w=g.reversed,E="".concat(v).concat(_?"Mirror":""),A,j,C,T,O;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var P=y[1]-y[0],H=1/0,R=g.categoricalDomain.sort();if(R.forEach(function(te,ae){ae>0&&(H=Math.min((te||0)-(R[ae-1]||0),H))}),Number.isFinite(H)){var B=H/P,U=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(A=B*U/2),g.padding==="no-gap"){var W=fr(e.barCategoryGap,B*U),M=B*U/2;A=M-W-(M-W)/U*W}}}i==="xAxis"?j=[r.left+(b.left||0)+(A||0),r.left+r.width-(b.right||0)-(A||0)]:i==="yAxis"?j=l==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(A||0),r.top+r.height-(b.bottom||0)-(A||0)]:j=g.range,w&&(j=[j[1],j[0]]);var D=yq(g,a,h),N=D.scale,V=D.realScaleType;N.domain(y).range(j),vq(N);var G=xq(N,ia(ia({},g),{},{realScaleType:V}));i==="xAxis"?(O=v==="top"&&!_||v==="bottom"&&_,C=r.left,T=f[E]-O*g.height):i==="yAxis"&&(O=v==="left"&&!_||v==="right"&&_,C=f[E]-O*g.width,T=r.top);var $=ia(ia(ia({},g),G),{},{realScaleType:V,x:C,y:T,scale:N,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return $.bandSize=W0($,G),!g.hide&&i==="xAxis"?f[E]+=(O?-1:1)*$.height:g.hide||(f[E]+=(O?-1:1)*$.width),ia(ia({},p),{},Aw({},m,$))},{})},rG=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},yBe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return rG({x:n,y:r},{x:i,y:a})},iG=function(){function t(e){pBe(this,t),this.scale=e}return mBe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Aw(iG,"EPS",1e-4);var rN=function(e){var n=Object.keys(e).reduce(function(r,i){return ia(ia({},r),{},Aw({},i,iG.create(e[i])))},{});return ia(ia({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return LFe(i,function(l,c){return n[c].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return Zq(i,function(a,s){return n[s].isInRange(a)})}})};function vBe(t){return(t%180+180)%180}var xBe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=vBe(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},bBe=ys,wBe=gg,_Be=aw;function SBe(t){return function(e,n,r){var i=Object(e);if(!wBe(e)){var a=bBe(n);e=_Be(e),n=function(o){return a(i[o],o,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:void 0}}var EBe=SBe,jBe=Gq;function ABe(t){var e=jBe(t),n=e%1;return e===e?n?e-n:e:0}var CBe=ABe,TBe=ZW,kBe=ys,OBe=CBe,NBe=Math.max;function PBe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:OBe(n);return i<0&&(i=NBe(r+i,0)),TBe(t,kBe(e),i)}var IBe=PBe,$Be=EBe,RBe=IBe,MBe=$Be(RBe),LBe=MBe;const DBe=at(LBe);var FBe=V_e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),iN=S.createContext(void 0),aN=S.createContext(void 0),aG=S.createContext(void 0),sG=S.createContext({}),oG=S.createContext(void 0),lG=S.createContext(0),cG=S.createContext(0),PD=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,d=FBe(a);return L.createElement(iN.Provider,{value:r},L.createElement(aN.Provider,{value:i},L.createElement(sG.Provider,{value:a},L.createElement(aG.Provider,{value:d},L.createElement(oG.Provider,{value:s},L.createElement(lG.Provider,{value:c},L.createElement(cG.Provider,{value:l},o)))))))},BBe=function(){return S.useContext(oG)},uG=function(e){var n=S.useContext(iN);n==null&&Bc();var r=n[e];return r==null&&Bc(),r},zBe=function(){var e=S.useContext(iN);return Po(e)},UBe=function(){var e=S.useContext(aN),n=DBe(e,function(r){return Zq(r.domain,Number.isFinite)});return n||Po(e)},dG=function(e){var n=S.useContext(aN);n==null&&Bc();var r=n[e];return r==null&&Bc(),r},HBe=function(){var e=S.useContext(aG);return e},WBe=function(){return S.useContext(sG)},sN=function(){return S.useContext(cG)},oN=function(){return S.useContext(lG)};function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function VBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qBe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hG(r.key),r)}}function GBe(t,e,n){return e&&qBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KBe(t,e,n){return e=lx(e),YBe(t,fG()?Reflect.construct(e,n||[],lx(t).constructor):e.apply(t,n))}function YBe(t,e){if(e&&(of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XBe(t)}function XBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fG=function(){return!!t})()}function lx(t){return lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lx(t)}function ZBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OA(t,e)}function OA(t,e){return OA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OA(t,e)}function ID(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $D(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(n),!0).forEach(function(r){lN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lN(t,e,n){return e=hG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hG(t){var e=JBe(t,"string");return of(e)=="symbol"?e:e+""}function JBe(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QBe(t,e){return rze(t)||nze(t,e)||tze(t,e)||eze()}function eze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tze(t,e){if(t){if(typeof t=="string")return RD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RD(t,e)}}function RD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nze(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function rze(t){if(Array.isArray(t))return t}function NA(){return NA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NA.apply(this,arguments)}var ize=function(e,n){var r;return L.isValidElement(e)?r=L.cloneElement(e,n):qe(e)?r=e(n):r=L.createElement("line",NA({},n,{className:"recharts-reference-line-line"})),r},aze=function(e,n,r,i,a,s,o,l,c){var d=a.x,f=a.y,h=a.width,p=a.height;if(r){var m=c.y,g=e.y.apply(m,{position:s});if(is(c,"discard")&&!e.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?v.reverse():v}if(n){var y=c.x,x=e.x.apply(y,{position:s});if(is(c,"discard")&&!e.x.isInRange(x))return null;var b=[{x,y:f+p},{x,y:f}];return o==="top"?b.reverse():b}if(i){var _=c.segment,w=_.map(function(E){return e.apply(E,{position:s})});return is(c,"discard")&&kFe(w,function(E){return!e.isInRange(E)})?null:w}return null};function sze(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,c=BBe(),d=uG(i),f=dG(a),h=HBe();if(!c||!h)return null;ga(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=rN({x:d.scale,y:f.scale}),m=En(e),g=En(n),v=r&&r.length===2,y=aze(p,m,g,v,h,t.position,d.orientation,f.orientation,t);if(!y)return null;var x=QBe(y,2),b=x[0],_=b.x,w=b.y,E=x[1],A=E.x,j=E.y,C=is(t,"hidden")?"url(#".concat(c,")"):void 0,T=$D($D({clipPath:C},Fe(t,!0)),{},{x1:_,y1:w,x2:A,y2:j});return L.createElement(pt,{className:Je("recharts-reference-line",o)},ize(s,T),In.renderCallByParent(t,yBe({x1:_,y1:w,x2:A,y2:j})))}var cN=function(t){function e(){return VBe(this,e),KBe(this,e,arguments)}return ZBe(e,t),GBe(e,[{key:"render",value:function(){return L.createElement(sze,this.props)}}])}(L.Component);lN(cN,"displayName","ReferenceLine");lN(cN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function PA(){return PA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PA.apply(this,arguments)}function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function MD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MD(Object(n),!0).forEach(function(r){Cw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mG(r.key),r)}}function cze(t,e,n){return e&&lze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uze(t,e,n){return e=cx(e),dze(t,pG()?Reflect.construct(e,n||[],cx(t).constructor):e.apply(t,n))}function dze(t,e){if(e&&(lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fze(t)}function fze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pG=function(){return!!t})()}function cx(t){return cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cx(t)}function hze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IA(t,e)}function IA(t,e){return IA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IA(t,e)}function Cw(t,e,n){return e=mG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mG(t){var e=pze(t,"string");return lf(e)=="symbol"?e:e+""}function pze(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mze=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=rN({x:i.scale,y:a.scale}),o=s.apply({x:n,y:r},{bandAware:!0});return is(e,"discard")&&!s.isInRange(o)?null:o},Tw=function(t){function e(){return oze(this,e),uze(this,e,arguments)}return hze(e,t),cze(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,o=r.alwaysShow,l=r.clipPathId,c=En(i),d=En(a);if(ga(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=mze(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,g=m.shape,v=m.className,y=is(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=LD(LD({clipPath:y},Fe(this.props,!0)),{},{cx:h,cy:p});return L.createElement(pt,{className:Je("recharts-reference-dot",v)},e.renderDot(g,x),In.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(L.Component);Cw(Tw,"displayName","ReferenceDot");Cw(Tw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Cw(Tw,"renderDot",function(t,e){var n;return L.isValidElement(t)?n=L.cloneElement(t,e):qe(t)?n=t(e):n=L.createElement(xw,PA({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function $A(){return $A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$A.apply(this,arguments)}function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function DD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DD(Object(n),!0).forEach(function(r){kw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yG(r.key),r)}}function vze(t,e,n){return e&&yze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xze(t,e,n){return e=ux(e),bze(t,gG()?Reflect.construct(e,n||[],ux(t).constructor):e.apply(t,n))}function bze(t,e){if(e&&(cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wze(t)}function wze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gG=function(){return!!t})()}function ux(t){return ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ux(t)}function _ze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RA(t,e)}function RA(t,e){return RA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RA(t,e)}function kw(t,e,n){return e=yG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yG(t){var e=Sze(t,"string");return cf(e)=="symbol"?e:e+""}function Sze(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eze=function(e,n,r,i,a){var s=a.x1,o=a.x2,l=a.y1,c=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=rN({x:d.scale,y:f.scale}),p={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:n?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return is(a,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:rG(p,m)},Ow=function(t){function e(){return gze(this,e),xze(this,e,arguments)}return _ze(e,t),vze(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,d=r.clipPathId;ga(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=En(i),h=En(a),p=En(s),m=En(o),g=this.props.shape;if(!f&&!h&&!p&&!m&&!g)return null;var v=Eze(f,h,p,m,this.props);if(!v&&!g)return null;var y=is(this.props,"hidden")?"url(#".concat(d,")"):void 0;return L.createElement(pt,{className:Je("recharts-reference-area",l)},e.renderRect(g,FD(FD({clipPath:y},Fe(this.props,!0)),v)),In.renderCallByParent(this.props,v))}}])}(L.Component);kw(Ow,"displayName","ReferenceArea");kw(Ow,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});kw(Ow,"renderRect",function(t,e){var n;return L.isValidElement(t)?n=L.cloneElement(t,e):qe(t)?n=t(e):n=L.createElement(nN,$A({},e,{className:"recharts-reference-area-rect"})),n});function vG(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function jze(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return xBe(r,n)}function Aze(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function dx(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Cze(t,e){return vG(t,e+1)}function Tze(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,o=e.end,l=0,c=1,d=s,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:vG(r,c)};var g=l,v,y=function(){return v===void 0&&(v=n(m,g)),v},x=m.coordinate,b=l===0||dx(t,x,y,d,o);b||(l=0,d=s,c+=1),b&&(d=x+t*(y()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function Om(t){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}function BD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BD(Object(n),!0).forEach(function(r){kze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kze(t,e,n){return e=Oze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oze(t){var e=Nze(t,"string");return Om(e)=="symbol"?e:e+""}function Nze(t,e){if(Om(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Om(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pze(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,o=e.start,l=e.end,c=function(h){var p=a[h],m,g=function(){return m===void 0&&(m=n(p,h)),m};if(h===s-1){var v=t*(p.coordinate+t*g()/2-l);a[h]=p=Gn(Gn({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else a[h]=p=Gn(Gn({},p),{},{tickCoord:p.coordinate});var y=dx(t,p.tickCoord,g,o,l);y&&(l=p.tickCoord-t*(g()/2+i),a[h]=Gn(Gn({},p),{},{isShow:!0}))},d=s-1;d>=0;d--)c(d);return a}function Ize(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,l=e.start,c=e.end;if(a){var d=r[o-1],f=n(d,o-1),h=t*(d.coordinate+t*f/2-c);s[o-1]=d=Gn(Gn({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var p=dx(t,d.tickCoord,function(){return f},l,c);p&&(c=d.tickCoord-t*(f/2+i),s[o-1]=Gn(Gn({},d),{},{isShow:!0}))}for(var m=a?o-1:o,g=function(x){var b=s[x],_,w=function(){return _===void 0&&(_=n(b,x)),_};if(x===0){var E=t*(b.coordinate-t*w()/2-l);s[x]=b=Gn(Gn({},b),{},{tickCoord:E<0?b.coordinate-E*t:b.coordinate})}else s[x]=b=Gn(Gn({},b),{},{tickCoord:b.coordinate});var A=dx(t,b.tickCoord,w,l,c);A&&(l=b.tickCoord+t*(w()/2+i),s[x]=Gn(Gn({},b),{},{isShow:!0}))},v=0;v<m;v++)g(v);return s}function uN(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(pe(l)||ns.isSsr)return Cze(i,typeof l=="number"&&pe(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",m=d&&p==="width"?rp(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(b,_){var w=qe(c)?c(b.value,_):b.value;return p==="width"?jze(rp(w,{fontSize:e,letterSpacing:n}),m,f):rp(w,{fontSize:e,letterSpacing:n})[p]},v=i.length>=2?dr(i[1].coordinate-i[0].coordinate):1,y=Aze(a,v,p);return l==="equidistantPreserveStart"?Tze(v,y,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=Ize(v,y,g,i,s,l==="preserveStartEnd"):h=Pze(v,y,g,i,s),h.filter(function(x){return x.isShow}))}var $ze=["viewBox"],Rze=["viewBox"],Mze=["ticks"];function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function qu(){return qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qu.apply(this,arguments)}function zD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(n),!0).forEach(function(r){dN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L1(t,e){if(t==null)return{};var n=Lze(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lze(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bG(r.key),r)}}function Fze(t,e,n){return e&&UD(t.prototype,e),n&&UD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bze(t,e,n){return e=fx(e),zze(t,xG()?Reflect.construct(e,n||[],fx(t).constructor):e.apply(t,n))}function zze(t,e){if(e&&(uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uze(t)}function Uze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xG=function(){return!!t})()}function fx(t){return fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fx(t)}function Hze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MA(t,e)}function MA(t,e){return MA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},MA(t,e)}function dN(t,e,n){return e=bG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bG(t){var e=Wze(t,"string");return uf(e)=="symbol"?e:e+""}function Wze(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gf=function(t){function e(n){var r;return Dze(this,e),r=Bze(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Hze(e,t),Fze(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=L1(r,$ze),o=this.props,l=o.viewBox,c=L1(o,Rze);return!ld(a,l)||!ld(s,c)||!ld(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,c=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,m,g,v,y,x,b=f?-1:1,_=r.tickSize||d,w=pe(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=m=r.coordinate,v=s+ +!f*l,g=v-b*_,x=g-b*h,y=w;break;case"left":g=v=r.coordinate,m=a+ +!f*o,p=m-b*_,y=p-b*h,x=w;break;case"right":g=v=r.coordinate,m=a+ +f*o,p=m+b*_,y=p+b*h,x=w;break;default:p=m=r.coordinate,v=s+ +f*l,g=v+b*_,x=g+b*h,y=w;break}return{line:{x1:p,y1:g,x2:m,y2:v},tick:{x:y,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.orientation,c=r.mirror,d=r.axisLine,f=ir(ir(ir({},Fe(this.props,!1)),Fe(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=ir(ir({},f),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=ir(ir({},f),{},{x1:i+p*s,y1:a,x2:i+p*s,y2:a+o})}return L.createElement("line",qu({},f,{className:Je("recharts-cartesian-axis-line",oi(d,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,o=this.props,l=o.tickLine,c=o.stroke,d=o.tick,f=o.tickFormatter,h=o.unit,p=uN(ir(ir({},this.props),{},{ticks:r}),i,a),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Fe(this.props,!1),y=Fe(d,!1),x=ir(ir({},v),{},{fill:"none"},Fe(l,!1)),b=p.map(function(_,w){var E=s.getTickLineCoord(_),A=E.line,j=E.tick,C=ir(ir(ir(ir({textAnchor:m,verticalAnchor:g},v),{},{stroke:"none",fill:c},y),j),{},{index:w,payload:_,visibleTicksCount:p.length,tickFormatter:f});return L.createElement(pt,qu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Lc(s.props,_,w)),l&&L.createElement("line",qu({},x,A,{className:Je("recharts-cartesian-axis-tick-line",oi(l,"className"))})),d&&e.renderTickItem(d,C,"".concat(qe(f)?f(_.value,w):_.value).concat(h||"")))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=L1(f,Mze),m=h;return qe(l)&&(m=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!m||!m.length?null:L.createElement(pt,{className:Je("recharts-cartesian-axis",c),ref:function(v){r.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),In.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return L.isValidElement(r)?s=L.cloneElement(r,i):qe(r)?s=r(i):s=L.createElement(Dc,qu({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(S.Component);dN(Gf,"displayName","CartesianAxis");dN(Gf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Vze=["x1","y1","x2","y2","key"],qze=["offset"];function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function HD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HD(Object(n),!0).forEach(function(r){Gze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gze(t,e,n){return e=Kze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kze(t){var e=Yze(t,"string");return zc(e)=="symbol"?e:e+""}function Yze(t,e){if(zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uc(){return uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uc.apply(this,arguments)}function WD(t,e){if(t==null)return{};var n=Xze(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xze(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Zze=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return L.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function wG(t,e){var n;if(L.isValidElement(t))n=L.cloneElement(t,e);else if(qe(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=WD(e,Vze),c=Fe(l,!1);c.offset;var d=WD(c,qze);n=L.createElement("line",uc({},d,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function Jze(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=Yn(Yn({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return wG(i,c)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Qze(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=Yn(Yn({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return wG(i,c)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function eUe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var d=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?i+s-h:d[p+1]-h;if(g<=0)return null;var v=p%e.length;return L.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:g,width:a,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function tUe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var d=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?a+o-h:d[p+1]-h;if(g<=0)return null;var v=p%r.length;return L.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:g,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var nUe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return gq(uN(Yn(Yn(Yn({},Gf.defaultProps),r),{},{ticks:Ms(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},rUe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return gq(uN(Yn(Yn(Yn({},Gf.defaultProps),r),{},{ticks:Ms(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},vu={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Nm(t){var e,n,r,i,a,s,o=sN(),l=oN(),c=WBe(),d=Yn(Yn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:vu.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:vu.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:vu.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:vu.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:vu.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:vu.verticalFill,x:pe(t.x)?t.x:c.left,y:pe(t.y)?t.y:c.top,width:pe(t.width)?t.width:c.width,height:pe(t.height)?t.height:c.height}),f=d.x,h=d.y,p=d.width,m=d.height,g=d.syncWithTicks,v=d.horizontalValues,y=d.verticalValues,x=zBe(),b=UBe();if(!pe(p)||p<=0||!pe(m)||m<=0||!pe(f)||f!==+f||!pe(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||nUe,w=d.horizontalCoordinatesGenerator||rUe,E=d.horizontalPoints,A=d.verticalPoints;if((!E||!E.length)&&qe(w)){var j=v&&v.length,C=w({yAxis:b?Yn(Yn({},b),{},{ticks:j?v:b.ticks}):void 0,width:o,height:l,offset:c},j?!0:g);ga(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(zc(C),"]")),Array.isArray(C)&&(E=C)}if((!A||!A.length)&&qe(_)){var T=y&&y.length,O=_({xAxis:x?Yn(Yn({},x),{},{ticks:T?y:x.ticks}):void 0,width:o,height:l,offset:c},T?!0:g);ga(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(zc(O),"]")),Array.isArray(O)&&(A=O)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(Zze,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),L.createElement(Jze,uc({},d,{offset:c,horizontalPoints:E,xAxis:x,yAxis:b})),L.createElement(Qze,uc({},d,{offset:c,verticalPoints:A,xAxis:x,yAxis:b})),L.createElement(eUe,uc({},d,{horizontalPoints:E})),L.createElement(tUe,uc({},d,{verticalPoints:A})))}Nm.displayName="CartesianGrid";var iUe=["type","layout","connectNulls","ref"],aUe=["key"];function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function VD(t,e){if(t==null)return{};var n=sUe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cp(){return cp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cp.apply(this,arguments)}function qD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qD(Object(n),!0).forEach(function(r){aa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xu(t){return uUe(t)||cUe(t)||lUe(t)||oUe()}function oUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lUe(t,e){if(t){if(typeof t=="string")return LA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LA(t,e)}}function cUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uUe(t){if(Array.isArray(t))return LA(t)}function LA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SG(r.key),r)}}function fUe(t,e,n){return e&&GD(t.prototype,e),n&&GD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hUe(t,e,n){return e=hx(e),pUe(t,_G()?Reflect.construct(e,n||[],hx(t).constructor):e.apply(t,n))}function pUe(t,e){if(e&&(df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mUe(t)}function mUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _G(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_G=function(){return!!t})()}function hx(t){return hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hx(t)}function gUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DA(t,e)}function DA(t,e){return DA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DA(t,e)}function aa(t,e,n){return e=SG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SG(t){var e=yUe(t,"string");return df(e)=="symbol"?e:e+""}function yUe(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var al=function(t){function e(){var n;dUe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=hUe(this,e,[].concat(i)),aa(n,"state",{isAnimationFinished:!0,totalLength:0}),aa(n,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),aa(n,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(y,x){return y+x});if(!c)return n.generateSimpleStrokeDasharray(o,s);for(var d=Math.floor(s/c),f=s%c,h=o-s,p=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>f){p=[].concat(xu(l.slice(0,m)),[f-g]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(xu(e.repeat(l,d)),xu(p),v).map(function(y){return"".concat(y,"px")}).join(", ")}),aa(n,"id",Ff("recharts-line-")),aa(n,"pathRef",function(s){n.mainCurve=s}),aa(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),aa(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return gUe(e,t),fUe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,c=a.layout,d=a.children,f=li(d,Sg);if(!f)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:_n(g.payload,v)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return L.createElement(pt,p,f.map(function(m){return L.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,d=o.dataKey,f=Fe(this.props,!1),h=Fe(l,!0),p=c.map(function(g,v){var y=Fr(Fr(Fr({key:"dot-".concat(v),r:3},f),h),{},{value:g.value,dataKey:d,cx:g.x,cy:g.y,index:v,payload:g.payload});return e.renderDotItem(l,y)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return L.createElement(pt,cp({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(r,i,a,s){var o=this.props,l=o.type,c=o.layout,d=o.connectNulls;o.ref;var f=VD(o,iUe),h=Fr(Fr(Fr({},Fe(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},s),{},{type:l,layout:c,connectNulls:d});return L.createElement(G0,cp({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,m=s.animateNewValues,g=s.width,v=s.height,y=this.state,x=y.prevPoints,b=y.totalLength;return L.createElement(fs,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var w=_.t;if(x){var E=x.length/o.length,A=o.map(function(P,H){var R=Math.floor(H*E);if(x[R]){var B=x[R],U=Gr(B.x,P.x),W=Gr(B.y,P.y);return Fr(Fr({},P),{},{x:U(w),y:W(w)})}if(m){var M=Gr(g*2,P.x),D=Gr(v/2,P.y);return Fr(Fr({},P),{},{x:M(w),y:D(w)})}return Fr(Fr({},P),{},{x:P.x,y:P.y})});return a.renderCurveStatically(A,r,i)}var j=Gr(0,b),C=j(w),T;if(l){var O="".concat(l).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});T=a.getStrokeDasharray(C,b,O)}else T=a.generateSimpleStrokeDasharray(b,C);return a.renderCurveStatically(o,r,i,{strokeDasharray:T})})}},{key:"renderCurve",value:function(r,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return o&&s&&s.length&&(!c&&d>0||!_g(c,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,m=i.height,g=i.isAnimationActive,v=i.id;if(a||!o||!o.length)return null;var y=this.state.isAnimationFinished,x=o.length===1,b=Je("recharts-line",l),_=c&&c.allowDataOverflow,w=d&&d.allowDataOverflow,E=_||w,A=Xe(v)?this.id:v,j=(r=Fe(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=j.r,T=C===void 0?3:C,O=j.strokeWidth,P=O===void 0?2:O,H=X1e(s)?s:{},R=H.clipDot,B=R===void 0?!0:R,U=T*2+P;return L.createElement(pt,{className:b},_||w?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(A)},L.createElement("rect",{x:_?h:h-p/2,y:w?f:f-m/2,width:_?p:p*2,height:w?m:m*2})),!B&&L.createElement("clipPath",{id:"clipPath-dots-".concat(A)},L.createElement("rect",{x:h-U/2,y:f-U/2,width:p+U,height:m+U}))):null,!x&&this.renderCurve(E,A),this.renderErrorBar(E,A),(x||s)&&this.renderDots(E,B,A),(!g||y)&&Vs.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(xu(r),[0]):r,s=[],o=0;o<i;++o)s=[].concat(xu(s),xu(a));return s}},{key:"renderDotItem",value:function(r,i){var a;if(L.isValidElement(r))a=L.cloneElement(r,i);else if(qe(r))a=r(i);else{var s=i.key,o=VD(i,aUe),l=Je("recharts-line-dot",typeof r!="boolean"?r.className:"");a=L.createElement(xw,cp({key:s},o,{className:l}))}return a}}])}(S.PureComponent);aa(al,"displayName","Line");aa(al,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ns.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});aa(al,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,c=t.offset,d=e.layout,f=l.map(function(h,p){var m=_n(h,s);return d==="horizontal"?{x:yL({axis:n,ticks:i,bandSize:o,entry:h,index:p}),y:Xe(m)?null:r.scale(m),value:m,payload:h}:{x:Xe(m)?null:n.scale(m),y:yL({axis:r,ticks:a,bandSize:o,entry:h,index:p}),value:m,payload:h}});return Fr({points:f,layout:d},c)});function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function vUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xUe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AG(r.key),r)}}function bUe(t,e,n){return e&&xUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wUe(t,e,n){return e=px(e),_Ue(t,EG()?Reflect.construct(e,n||[],px(t).constructor):e.apply(t,n))}function _Ue(t,e){if(e&&(ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SUe(t)}function SUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EG=function(){return!!t})()}function px(t){return px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},px(t)}function EUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FA(t,e)}function FA(t,e){return FA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FA(t,e)}function jG(t,e,n){return e=AG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AG(t){var e=jUe(t,"string");return ff(e)=="symbol"?e:e+""}function jUe(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BA(){return BA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BA.apply(this,arguments)}function AUe(t){var e=t.xAxisId,n=sN(),r=oN(),i=uG(e);return i==null?null:L.createElement(Gf,BA({},i,{className:Je("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Ms(s,!0)}}))}var _l=function(t){function e(){return vUe(this,e),wUe(this,e,arguments)}return EUe(e,t),bUe(e,[{key:"render",value:function(){return L.createElement(AUe,this.props)}}])}(L.Component);jG(_l,"displayName","XAxis");jG(_l,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function CUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TUe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kG(r.key),r)}}function kUe(t,e,n){return e&&TUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OUe(t,e,n){return e=mx(e),NUe(t,CG()?Reflect.construct(e,n||[],mx(t).constructor):e.apply(t,n))}function NUe(t,e){if(e&&(hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PUe(t)}function PUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CG=function(){return!!t})()}function mx(t){return mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mx(t)}function IUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zA(t,e)}function zA(t,e){return zA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zA(t,e)}function TG(t,e,n){return e=kG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kG(t){var e=$Ue(t,"string");return hf(e)=="symbol"?e:e+""}function $Ue(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UA(){return UA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UA.apply(this,arguments)}var RUe=function(e){var n=e.yAxisId,r=sN(),i=oN(),a=dG(n);return a==null?null:L.createElement(Gf,UA({},a,{className:Je("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return Ms(o,!0)}}))},Sl=function(t){function e(){return CUe(this,e),OUe(this,e,arguments)}return IUe(e,t),kUe(e,[{key:"render",value:function(){return L.createElement(RUe,this.props)}}])}(L.Component);TG(Sl,"displayName","YAxis");TG(Sl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function KD(t){return FUe(t)||DUe(t)||LUe(t)||MUe()}function MUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LUe(t,e){if(t){if(typeof t=="string")return HA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HA(t,e)}}function DUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FUe(t){if(Array.isArray(t))return HA(t)}function HA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var WA=function(e,n,r,i,a){var s=li(e,cN),o=li(e,Tw),l=[].concat(KD(s),KD(o)),c=li(e,Ow),d="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(g,v){if(v.props[d]===r&&is(v.props,"extendDomain")&&pe(v.props[f])){var y=v.props[f];return[Math.min(g[0],y),Math.max(g[1],y)]}return g},h)),c.length){var p="".concat(f,"1"),m="".concat(f,"2");h=c.reduce(function(g,v){if(v.props[d]===r&&is(v.props,"extendDomain")&&pe(v.props[p])&&pe(v.props[m])){var y=v.props[p],x=v.props[m];return[Math.min(g[0],y,x),Math.max(g[1],y,x)]}return g},h)}return a&&a.length&&(h=a.reduce(function(g,v){return pe(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},D1=new bue,F1="recharts.syncMouseEvents";function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function BUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zUe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OG(r.key),r)}}function UUe(t,e,n){return e&&zUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function B1(t,e,n){return e=OG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OG(t){var e=HUe(t,"string");return Pm(e)=="symbol"?e:e+""}function HUe(t,e){if(Pm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var WUe=function(){function t(){BUe(this,t),B1(this,"activeIndex",0),B1(this,"coordinateList",[]),B1(this,"layout","horizontal")}return UUe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,o=s===void 0?null:s,l=n.layout,c=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+c,h=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function VUe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&pe(r)&&pe(i))return!0}return!1}function qUe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function NG(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=Rt(e,n,r,i),o=Rt(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function GUe(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,d=e.outerRadius,f=e.angle,h=Rt(o,l,c,f),p=Rt(o,l,d,f);r=h.x,i=h.y,a=p.x,s=p.y}else return NG(e);return[{x:r,y:i},{x:a,y:s}]}function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}function YD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Py(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YD(Object(n),!0).forEach(function(r){KUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KUe(t,e,n){return e=YUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YUe(t){var e=XUe(t,"string");return Im(e)=="symbol"?e:e+""}function XUe(t,e){if(Im(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZUe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var m,g=G0;if(h==="ScatterChart")m=s,g=y5e;else if(h==="BarChart")m=qUe(f,s,l,d),g=nN;else if(f==="radial"){var v=NG(s),y=v.cx,x=v.cy,b=v.radius,_=v.startAngle,w=v.endAngle;m={cx:y,cy:x,startAngle:_,endAngle:w,innerRadius:b,outerRadius:b},g=Cq}else m={points:GUe(f,s,l)},g=G0;var E=Py(Py(Py(Py({stroke:"#ccc",pointerEvents:"none"},l),m),Fe(p,!1)),{},{payload:o,payloadIndex:c,className:Je("recharts-tooltip-cursor",p.className)});return S.isValidElement(p)?S.cloneElement(p,E):S.createElement(g,E)}var JUe=["item"],QUe=["children","className","width","height","style","compact","title","desc"];function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function up(){return up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},up.apply(this,arguments)}function XD(t,e){return n6e(t)||t6e(t,e)||IG(t,e)||e6e()}function e6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t6e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function n6e(t){if(Array.isArray(t))return t}function ZD(t,e){if(t==null)return{};var n=r6e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function r6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function i6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a6e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$G(r.key),r)}}function s6e(t,e,n){return e&&a6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function o6e(t,e,n){return e=gx(e),l6e(t,PG()?Reflect.construct(e,n||[],gx(t).constructor):e.apply(t,n))}function l6e(t,e){if(e&&(pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c6e(t)}function c6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PG=function(){return!!t})()}function gx(t){return gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gx(t)}function u6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VA(t,e)}function VA(t,e){return VA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VA(t,e)}function mf(t){return h6e(t)||f6e(t)||IG(t)||d6e()}function d6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IG(t,e){if(t){if(typeof t=="string")return qA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qA(t,e)}}function f6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function h6e(t){if(Array.isArray(t))return qA(t)}function qA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JD(Object(n),!0).forEach(function(r){Ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ue(t,e,n){return e=$G(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $G(t){var e=p6e(t,"string");return pf(e)=="symbol"?e:e+""}function p6e(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var m6e={xAxis:["bottom","top"],yAxis:["left","right"]},g6e={width:"100%",height:"100%"},RG={x:0,y:0};function Iy(t){return t}var y6e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},v6e=function(e,n,r,i){var a=n.find(function(d){return d&&d.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return Q(Q(Q({},i),Rt(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,c=i.angle;return Q(Q(Q({},i),Rt(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return RG},Nw=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(mf(o),mf(c)):o},[]);return s.length>0?s:e&&e.length&&pe(i)&&pe(a)?e.slice(i,a+1):[]};function MG(t){return t==="number"?[0,"auto"]:void 0}var GA=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,o=Nw(n,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;h=g0(p,s.dataKey,i)}else h=f&&f[r]||o[r];return h?[].concat(mf(l),[wq(c,h)]):l},[])},QD=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=y6e(a,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=ZMe(s,o,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,h=GA(e,n,d,f),p=v6e(r,o,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},x6e=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,p=mq(d,a);return r.reduce(function(m,g){var v,y=g.type.defaultProps!==void 0?Q(Q({},g.type.defaultProps),g.props):g.props,x=y.type,b=y.dataKey,_=y.allowDataOverflow,w=y.allowDuplicatedCategory,E=y.scale,A=y.ticks,j=y.includeHidden,C=y[s];if(m[C])return m;var T=Nw(e.data,{graphicalItems:i.filter(function(G){var $,te=s in G.props?G.props[s]:($=G.type.defaultProps)===null||$===void 0?void 0:$[s];return te===C}),dataStartIndex:l,dataEndIndex:c}),O=T.length,P,H,R;VUe(y.domain,_,x)&&(P=oA(y.domain,null,_),p&&(x==="number"||E!=="auto")&&(R=ap(T,b,"category")));var B=MG(x);if(!P||P.length===0){var U,W=(U=y.domain)!==null&&U!==void 0?U:B;if(b){if(P=ap(T,b,x),x==="category"&&p){var M=z1e(P);w&&M?(H=P,P=rx(0,O)):w||(P=wL(W,P,g).reduce(function(G,$){return G.indexOf($)>=0?G:[].concat(mf(G),[$])},[]))}else if(x==="category")w?P=P.filter(function(G){return G!==""&&!Xe(G)}):P=wL(W,P,g).reduce(function(G,$){return G.indexOf($)>=0||$===""||Xe($)?G:[].concat(mf(G),[$])},[]);else if(x==="number"){var D=nLe(T,i.filter(function(G){var $,te,ae=s in G.props?G.props[s]:($=G.type.defaultProps)===null||$===void 0?void 0:$[s],I="hide"in G.props?G.props.hide:(te=G.type.defaultProps)===null||te===void 0?void 0:te.hide;return ae===C&&(j||!I)}),b,a,d);D&&(P=D)}p&&(x==="number"||E!=="auto")&&(R=ap(T,b,"category"))}else p?P=rx(0,O):o&&o[C]&&o[C].hasStack&&x==="number"?P=h==="expand"?[0,1]:bq(o[C].stackGroups,l,c):P=pq(T,i.filter(function(G){var $=s in G.props?G.props[s]:G.type.defaultProps[s],te="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return $===C&&(j||!te)}),x,d,!0);if(x==="number")P=WA(f,P,C,a,A),W&&(P=oA(W,P,_));else if(x==="category"&&W){var N=W,V=P.every(function(G){return N.indexOf(G)>=0});V&&(P=N)}}return Q(Q({},m),{},Ue({},C,Q(Q({},y),{},{axisType:a,domain:P,categoricalDomain:R,duplicateDomain:H,originalDomain:(v=y.domain)!==null&&v!==void 0?v:B,isCategorical:p,layout:d})))},{})},b6e=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=Nw(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=mq(d,a),g=-1;return r.reduce(function(v,y){var x=y.type.defaultProps!==void 0?Q(Q({},y.type.defaultProps),y.props):y.props,b=x[s],_=MG("number");if(!v[b]){g++;var w;return m?w=rx(0,p):o&&o[b]&&o[b].hasStack?(w=bq(o[b].stackGroups,l,c),w=WA(f,w,b,a)):(w=oA(_,pq(h,r.filter(function(E){var A,j,C=s in E.props?E.props[s]:(A=E.type.defaultProps)===null||A===void 0?void 0:A[s],T="hide"in E.props?E.props.hide:(j=E.type.defaultProps)===null||j===void 0?void 0:j.hide;return C===b&&!T}),"number",d),i.defaultProps.allowDataOverflow),w=WA(f,w,b,a)),Q(Q({},v),{},Ue({},b,Q(Q({axisType:a},i.defaultProps),{},{hide:!0,orientation:oi(m6e,"".concat(a,".").concat(g%2),null),domain:w,originalDomain:_,isCategorical:m,layout:d})))}return v},{})},w6e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=li(d,a),p={};return h&&h.length?p=x6e(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=b6e(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},_6e=function(e){var n=Po(e),r=Ms(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:kO(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:W0(n,r)}},e4=function(e){var n=e.children,r=e.defaultShowTooltip,i=Vr(n,af),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},S6e=function(e){return!e||!e.length?!1:e.some(function(n){var r=Hs(n&&n.type);return r&&r.indexOf("Bar")>=0})},t4=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},E6e=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,d=r.height,f=r.children,h=r.margin||{},p=Vr(f,af),m=Vr(f,rl),g=Object.keys(l).reduce(function(w,E){var A=l[E],j=A.orientation;return!A.mirror&&!A.hide?Q(Q({},w),{},Ue({},j,w[j]+A.width)):w},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(w,E){var A=s[E],j=A.orientation;return!A.mirror&&!A.hide?Q(Q({},w),{},Ue({},j,oi(w,"".concat(j))+A.height)):w},{top:h.top||0,bottom:h.bottom||0}),y=Q(Q({},v),g),x=y.bottom;p&&(y.bottom+=p.props.height||af.defaultProps.height),m&&n&&(y=eLe(y,i,r,n));var b=c-y.left-y.right,_=d-y.top-y.bottom;return Q(Q({brushBottom:x},y),{},{width:Math.max(b,0),height:Math.max(_,0)})},j6e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},fN=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(v,y){var x=y.graphicalItems,b=y.stackGroups,_=y.offset,w=y.updateId,E=y.dataStartIndex,A=y.dataEndIndex,j=v.barSize,C=v.layout,T=v.barGap,O=v.barCategoryGap,P=v.maxBarSize,H=t4(C),R=H.numericAxisName,B=H.cateAxisName,U=S6e(x),W=[];return x.forEach(function(M,D){var N=Nw(v.data,{graphicalItems:[M],dataStartIndex:E,dataEndIndex:A}),V=M.type.defaultProps!==void 0?Q(Q({},M.type.defaultProps),M.props):M.props,G=V.dataKey,$=V.maxBarSize,te=V["".concat(R,"Id")],ae=V["".concat(B,"Id")],I={},k=l.reduce(function(re,Ct){var we=y["".concat(Ct.axisType,"Map")],ve=V["".concat(Ct.axisType,"Id")];we&&we[ve]||Ct.axisType==="zAxis"||Bc();var be=we[ve];return Q(Q({},re),{},Ue(Ue({},Ct.axisType,be),"".concat(Ct.axisType,"Ticks"),Ms(be)))},I),K=k[B],F=k["".concat(B,"Ticks")],Z=b&&b[te]&&b[te].hasStack&&dLe(M,b[te].stackGroups),J=Hs(M.type).indexOf("Bar")>=0,Y=W0(K,F),ge=[],ce=U&&JMe({barSize:j,stackGroups:b,totalSize:j6e(k,B)});if(J){var ye,se,Re=Xe($)?P:$,Me=(ye=(se=W0(K,F,!0))!==null&&se!==void 0?se:Re)!==null&&ye!==void 0?ye:0;ge=QMe({barGap:T,barCategoryGap:O,bandSize:Me!==Y?Me:Y,sizeList:ce[ae],maxBarSize:Re}),Me!==Y&&(ge=ge.map(function(re){return Q(Q({},re),{},{position:Q(Q({},re.position),{},{offset:re.position.offset-Me/2})})}))}var Ie=M&&M.type&&M.type.getComposedData;Ie&&W.push({props:Q(Q({},Ie(Q(Q({},k),{},{displayedData:N,props:v,dataKey:G,item:M,bandSize:Y,barPosition:ge,offset:_,stackedData:Z,layout:C,dataStartIndex:E,dataEndIndex:A}))),{},Ue(Ue(Ue({key:M.key||"item-".concat(D)},R,k[R]),B,k[B]),"animationId",w)),childIndex:Q1e(M,v.children),item:M})}),W},p=function(v,y){var x=v.props,b=v.dataStartIndex,_=v.dataEndIndex,w=v.updateId;if(!pR({props:x}))return null;var E=x.children,A=x.layout,j=x.stackOffset,C=x.data,T=x.reverseStackOrder,O=t4(A),P=O.numericAxisName,H=O.cateAxisName,R=li(E,r),B=cLe(C,R,"".concat(P,"Id"),"".concat(H,"Id"),j,T),U=l.reduce(function(V,G){var $="".concat(G.axisType,"Map");return Q(Q({},V),{},Ue({},$,w6e(x,Q(Q({},G),{},{graphicalItems:R,stackGroups:G.axisType===P&&B,dataStartIndex:b,dataEndIndex:_}))))},{}),W=E6e(Q(Q({},U),{},{props:x,graphicalItems:R}),y==null?void 0:y.legendBBox);Object.keys(U).forEach(function(V){U[V]=d(x,U[V],W,V.replace("Map",""),n)});var M=U["".concat(H,"Map")],D=_6e(M),N=h(x,Q(Q({},U),{},{dataStartIndex:b,dataEndIndex:_,updateId:w,graphicalItems:R,stackGroups:B,offset:W}));return Q(Q({formattedGraphicalItems:N,graphicalItems:R,offset:W,stackGroups:B},D),U)},m=function(g){function v(y){var x,b,_;return i6e(this,v),_=o6e(this,v,[y]),Ue(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ue(_,"accessibilityManager",new WUe),Ue(_,"handleLegendBBoxUpdate",function(w){if(w){var E=_.state,A=E.dataStartIndex,j=E.dataEndIndex,C=E.updateId;_.setState(Q({legendBBox:w},p({props:_.props,dataStartIndex:A,dataEndIndex:j,updateId:C},Q(Q({},_.state),{},{legendBBox:w}))))}}),Ue(_,"handleReceiveSyncEvent",function(w,E,A){if(_.props.syncId===w){if(A===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(E)}}),Ue(_,"handleBrushChange",function(w){var E=w.startIndex,A=w.endIndex;if(E!==_.state.dataStartIndex||A!==_.state.dataEndIndex){var j=_.state.updateId;_.setState(function(){return Q({dataStartIndex:E,dataEndIndex:A},p({props:_.props,dataStartIndex:E,dataEndIndex:A,updateId:j},_.state))}),_.triggerSyncEvent({dataStartIndex:E,dataEndIndex:A})}}),Ue(_,"handleMouseEnter",function(w){var E=_.getMouseInfo(w);if(E){var A=Q(Q({},E),{},{isTooltipActive:!0});_.setState(A),_.triggerSyncEvent(A);var j=_.props.onMouseEnter;qe(j)&&j(A,w)}}),Ue(_,"triggeredAfterMouseMove",function(w){var E=_.getMouseInfo(w),A=E?Q(Q({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(A),_.triggerSyncEvent(A);var j=_.props.onMouseMove;qe(j)&&j(A,w)}),Ue(_,"handleItemMouseEnter",function(w){_.setState(function(){return{isTooltipActive:!0,activeItem:w,activePayload:w.tooltipPayload,activeCoordinate:w.tooltipPosition||{x:w.cx,y:w.cy}}})}),Ue(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),Ue(_,"handleMouseMove",function(w){w.persist(),_.throttleTriggeredAfterMouseMove(w)}),Ue(_,"handleMouseLeave",function(w){_.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};_.setState(E),_.triggerSyncEvent(E);var A=_.props.onMouseLeave;qe(A)&&A(E,w)}),Ue(_,"handleOuterEvent",function(w){var E=J1e(w),A=oi(_.props,"".concat(E));if(E&&qe(A)){var j,C;/.*touch.*/i.test(E)?C=_.getMouseInfo(w.changedTouches[0]):C=_.getMouseInfo(w),A((j=C)!==null&&j!==void 0?j:{},w)}}),Ue(_,"handleClick",function(w){var E=_.getMouseInfo(w);if(E){var A=Q(Q({},E),{},{isTooltipActive:!0});_.setState(A),_.triggerSyncEvent(A);var j=_.props.onClick;qe(j)&&j(A,w)}}),Ue(_,"handleMouseDown",function(w){var E=_.props.onMouseDown;if(qe(E)){var A=_.getMouseInfo(w);E(A,w)}}),Ue(_,"handleMouseUp",function(w){var E=_.props.onMouseUp;if(qe(E)){var A=_.getMouseInfo(w);E(A,w)}}),Ue(_,"handleTouchMove",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(w.changedTouches[0])}),Ue(_,"handleTouchStart",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&_.handleMouseDown(w.changedTouches[0])}),Ue(_,"handleTouchEnd",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&_.handleMouseUp(w.changedTouches[0])}),Ue(_,"triggerSyncEvent",function(w){_.props.syncId!==void 0&&D1.emit(F1,_.props.syncId,w,_.eventEmitterSymbol)}),Ue(_,"applySyncEvent",function(w){var E=_.props,A=E.layout,j=E.syncMethod,C=_.state.updateId,T=w.dataStartIndex,O=w.dataEndIndex;if(w.dataStartIndex!==void 0||w.dataEndIndex!==void 0)_.setState(Q({dataStartIndex:T,dataEndIndex:O},p({props:_.props,dataStartIndex:T,dataEndIndex:O,updateId:C},_.state)));else if(w.activeTooltipIndex!==void 0){var P=w.chartX,H=w.chartY,R=w.activeTooltipIndex,B=_.state,U=B.offset,W=B.tooltipTicks;if(!U)return;if(typeof j=="function")R=j(W,w);else if(j==="value"){R=-1;for(var M=0;M<W.length;M++)if(W[M].value===w.activeLabel){R=M;break}}var D=Q(Q({},U),{},{x:U.left,y:U.top}),N=Math.min(P,D.x+D.width),V=Math.min(H,D.y+D.height),G=W[R]&&W[R].value,$=GA(_.state,_.props.data,R),te=W[R]?{x:A==="horizontal"?W[R].coordinate:N,y:A==="horizontal"?V:W[R].coordinate}:RG;_.setState(Q(Q({},w),{},{activeLabel:G,activeCoordinate:te,activePayload:$,activeTooltipIndex:R}))}else _.setState(w)}),Ue(_,"renderCursor",function(w){var E,A=_.state,j=A.isTooltipActive,C=A.activeCoordinate,T=A.activePayload,O=A.offset,P=A.activeTooltipIndex,H=A.tooltipAxisBandSize,R=_.getTooltipEventType(),B=(E=w.props.active)!==null&&E!==void 0?E:j,U=_.props.layout,W=w.key||"_recharts-cursor";return L.createElement(ZUe,{key:W,activeCoordinate:C,activePayload:T,activeTooltipIndex:P,chartName:n,element:w,isActive:B,layout:U,offset:O,tooltipAxisBandSize:H,tooltipEventType:R})}),Ue(_,"renderPolarAxis",function(w,E,A){var j=oi(w,"type.axisType"),C=oi(_.state,"".concat(j,"Map")),T=w.type.defaultProps,O=T!==void 0?Q(Q({},T),w.props):w.props,P=C&&C[O["".concat(j,"Id")]];return S.cloneElement(w,Q(Q({},P),{},{className:Je(j,P.className),key:w.key||"".concat(E,"-").concat(A),ticks:Ms(P,!0)}))}),Ue(_,"renderPolarGrid",function(w){var E=w.props,A=E.radialLines,j=E.polarAngles,C=E.polarRadius,T=_.state,O=T.radiusAxisMap,P=T.angleAxisMap,H=Po(O),R=Po(P),B=R.cx,U=R.cy,W=R.innerRadius,M=R.outerRadius;return S.cloneElement(w,{polarAngles:Array.isArray(j)?j:Ms(R,!0).map(function(D){return D.coordinate}),polarRadius:Array.isArray(C)?C:Ms(H,!0).map(function(D){return D.coordinate}),cx:B,cy:U,innerRadius:W,outerRadius:M,key:w.key||"polar-grid",radialLines:A})}),Ue(_,"renderLegend",function(){var w=_.state.formattedGraphicalItems,E=_.props,A=E.children,j=E.width,C=E.height,T=_.props.margin||{},O=j-(T.left||0)-(T.right||0),P=fq({children:A,formattedGraphicalItems:w,legendWidth:O,legendContent:c});if(!P)return null;var H=P.item,R=ZD(P,JUe);return S.cloneElement(H,Q(Q({},R),{},{chartWidth:j,chartHeight:C,margin:T,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),Ue(_,"renderTooltip",function(){var w,E=_.props,A=E.children,j=E.accessibilityLayer,C=Vr(A,lr);if(!C)return null;var T=_.state,O=T.isTooltipActive,P=T.activeCoordinate,H=T.activePayload,R=T.activeLabel,B=T.offset,U=(w=C.props.active)!==null&&w!==void 0?w:O;return S.cloneElement(C,{viewBox:Q(Q({},B),{},{x:B.left,y:B.top}),active:U,label:R,payload:U?H:[],coordinate:P,accessibilityLayer:j})}),Ue(_,"renderBrush",function(w){var E=_.props,A=E.margin,j=E.data,C=_.state,T=C.offset,O=C.dataStartIndex,P=C.dataEndIndex,H=C.updateId;return S.cloneElement(w,{key:w.key||"_recharts-brush",onChange:Ty(_.handleBrushChange,w.props.onChange),data:j,x:pe(w.props.x)?w.props.x:T.left,y:pe(w.props.y)?w.props.y:T.top+T.height+T.brushBottom-(A.bottom||0),width:pe(w.props.width)?w.props.width:T.width,startIndex:O,endIndex:P,updateId:"brush-".concat(H)})}),Ue(_,"renderReferenceElement",function(w,E,A){if(!w)return null;var j=_,C=j.clipPathId,T=_.state,O=T.xAxisMap,P=T.yAxisMap,H=T.offset,R=w.type.defaultProps||{},B=w.props,U=B.xAxisId,W=U===void 0?R.xAxisId:U,M=B.yAxisId,D=M===void 0?R.yAxisId:M;return S.cloneElement(w,{key:w.key||"".concat(E,"-").concat(A),xAxis:O[W],yAxis:P[D],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:C})}),Ue(_,"renderActivePoints",function(w){var E=w.item,A=w.activePoint,j=w.basePoint,C=w.childIndex,T=w.isRange,O=[],P=E.props.key,H=E.item.type.defaultProps!==void 0?Q(Q({},E.item.type.defaultProps),E.item.props):E.item.props,R=H.activeDot,B=H.dataKey,U=Q(Q({index:C,dataKey:B,cx:A.x,cy:A.y,r:4,fill:tN(E.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Fe(R,!1)),y0(R));return O.push(v.renderActiveDot(R,U,"".concat(P,"-activePoint-").concat(C))),j?O.push(v.renderActiveDot(R,Q(Q({},U),{},{cx:j.x,cy:j.y}),"".concat(P,"-basePoint-").concat(C))):T&&O.push(null),O}),Ue(_,"renderGraphicChild",function(w,E,A){var j=_.filterFormatItem(w,E,A);if(!j)return null;var C=_.getTooltipEventType(),T=_.state,O=T.isTooltipActive,P=T.tooltipAxis,H=T.activeTooltipIndex,R=T.activeLabel,B=_.props.children,U=Vr(B,lr),W=j.props,M=W.points,D=W.isRange,N=W.baseLine,V=j.item.type.defaultProps!==void 0?Q(Q({},j.item.type.defaultProps),j.item.props):j.item.props,G=V.activeDot,$=V.hide,te=V.activeBar,ae=V.activeShape,I=!!(!$&&O&&U&&(G||te||ae)),k={};C!=="axis"&&U&&U.props.trigger==="click"?k={onClick:Ty(_.handleItemMouseEnter,w.props.onClick)}:C!=="axis"&&(k={onMouseLeave:Ty(_.handleItemMouseLeave,w.props.onMouseLeave),onMouseEnter:Ty(_.handleItemMouseEnter,w.props.onMouseEnter)});var K=S.cloneElement(w,Q(Q({},j.props),k));function F(Ct){return typeof P.dataKey=="function"?P.dataKey(Ct.payload):null}if(I)if(H>=0){var Z,J;if(P.dataKey&&!P.allowDuplicatedCategory){var Y=typeof P.dataKey=="function"?F:"payload.".concat(P.dataKey.toString());Z=g0(M,Y,R),J=D&&N&&g0(N,Y,R)}else Z=M==null?void 0:M[H],J=D&&N&&N[H];if(ae||te){var ge=w.props.activeIndex!==void 0?w.props.activeIndex:H;return[S.cloneElement(w,Q(Q(Q({},j.props),k),{},{activeIndex:ge})),null,null]}if(!Xe(Z))return[K].concat(mf(_.renderActivePoints({item:j,activePoint:Z,basePoint:J,childIndex:H,isRange:D})))}else{var ce,ye=(ce=_.getItemByXY(_.state.activeCoordinate))!==null&&ce!==void 0?ce:{graphicalItem:K},se=ye.graphicalItem,Re=se.item,Me=Re===void 0?w:Re,Ie=se.childIndex,re=Q(Q(Q({},j.props),k),{},{activeIndex:Ie});return[S.cloneElement(Me,re),null,null]}return D?[K,null,null]:[K,null]}),Ue(_,"renderCustomized",function(w,E,A){return S.cloneElement(w,Q(Q({key:"recharts-customized-".concat(A)},_.props),_.state))}),Ue(_,"renderMap",{CartesianGrid:{handler:Iy,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:Iy},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:Iy},YAxis:{handler:Iy},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((x=y.id)!==null&&x!==void 0?x:Ff("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=dV(_.triggeredAfterMouseMove,(b=y.throttleDelay)!==null&&b!==void 0?b:1e3/60),_.state={},_}return u6e(v,g),s6e(v,[{key:"componentDidMount",value:function(){var x,b;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(b=this.props.margin.top)!==null&&b!==void 0?b:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,b=x.children,_=x.data,w=x.height,E=x.layout,A=Vr(b,lr);if(A){var j=A.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,T=GA(this.state,_,j,C),O=this.state.tooltipTicks[j].coordinate,P=(this.state.offset.top+w)/2,H=E==="horizontal",R=H?{x:O,y:P}:{y:O,x:P},B=this.state.formattedGraphicalItems.find(function(W){var M=W.item;return M.type.name==="Scatter"});B&&(R=Q(Q({},R),B.props.points[j].tooltipPosition),T=B.props.points[j].tooltipPayload);var U={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:C,activePayload:T,activeCoordinate:R};this.setState(U),this.renderCursor(A),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,b){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==b.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var _,w;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0}})}return null}},{key:"componentDidUpdate",value:function(x){_j([Vr(x.children,lr)],[Vr(this.props.children,lr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Vr(this.props.children,lr);if(x&&typeof x.props.shared=="boolean"){var b=x.props.shared?"axis":"item";return o.indexOf(b)>=0?b:a}return a}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var b=this.container,_=b.getBoundingClientRect(),w=jIe(_),E={chartX:Math.round(x.pageX-w.left),chartY:Math.round(x.pageY-w.top)},A=_.width/b.offsetWidth||1,j=this.inRange(E.chartX,E.chartY,A);if(!j)return null;var C=this.state,T=C.xAxisMap,O=C.yAxisMap,P=this.getTooltipEventType();if(P!=="axis"&&T&&O){var H=Po(T).scale,R=Po(O).scale,B=H&&H.invert?H.invert(E.chartX):null,U=R&&R.invert?R.invert(E.chartY):null;return Q(Q({},E),{},{xValue:B,yValue:U})}var W=QD(this.state,this.props.data,this.props.layout,j);return W?Q(Q({},E),W):null}},{key:"inRange",value:function(x,b){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=this.props.layout,E=x/_,A=b/_;if(w==="horizontal"||w==="vertical"){var j=this.state.offset,C=E>=j.left&&E<=j.left+j.width&&A>=j.top&&A<=j.top+j.height;return C?{x:E,y:A}:null}var T=this.state,O=T.angleAxisMap,P=T.radiusAxisMap;if(O&&P){var H=Po(O);return EL({x:E,y:A},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,b=this.getTooltipEventType(),_=Vr(x,lr),w={};_&&b==="axis"&&(_.props.trigger==="click"?w={onClick:this.handleClick}:w={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var E=y0(this.props,this.handleOuterEvent);return Q(Q({},E),w)}},{key:"addListener",value:function(){D1.on(F1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){D1.removeListener(F1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,b,_){for(var w=this.state.formattedGraphicalItems,E=0,A=w.length;E<A;E++){var j=w[E];if(j.item===x||j.props.key===x.key||b===Hs(j.item.type)&&_===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,b=this.state.offset,_=b.left,w=b.top,E=b.height,A=b.width;return L.createElement("defs",null,L.createElement("clipPath",{id:x},L.createElement("rect",{x:_,y:w,height:E,width:A})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(b,_){var w=XD(_,2),E=w[0],A=w[1];return Q(Q({},b),{},Ue({},E,A.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(b,_){var w=XD(_,2),E=w[0],A=w[1];return Q(Q({},b),{},Ue({},E,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var b;return(b=this.state.xAxisMap)===null||b===void 0||(b=b[x])===null||b===void 0?void 0:b.scale}},{key:"getYScaleByAxisId",value:function(x){var b;return(b=this.state.yAxisMap)===null||b===void 0||(b=b[x])===null||b===void 0?void 0:b.scale}},{key:"getItemByXY",value:function(x){var b=this.state,_=b.formattedGraphicalItems,w=b.activeItem;if(_&&_.length)for(var E=0,A=_.length;E<A;E++){var j=_[E],C=j.props,T=j.item,O=T.type.defaultProps!==void 0?Q(Q({},T.type.defaultProps),T.props):T.props,P=Hs(T.type);if(P==="Bar"){var H=(C.data||[]).find(function(W){return Z4e(x,W)});if(H)return{graphicalItem:j,payload:H}}else if(P==="RadialBar"){var R=(C.data||[]).find(function(W){return EL(x,W)});if(R)return{graphicalItem:j,payload:R}}else if(Ew(j,w)||jw(j,w)||Am(j,w)){var B=F3e({graphicalItem:j,activeTooltipItem:w,itemData:O.data}),U=O.activeIndex===void 0?B:O.activeIndex;return{graphicalItem:Q(Q({},j),{},{childIndex:U}),payload:Am(j,w)?O.data[B]:j.props.data[B]}}}return null}},{key:"render",value:function(){var x=this;if(!pR(this))return null;var b=this.props,_=b.children,w=b.className,E=b.width,A=b.height,j=b.style,C=b.compact,T=b.title,O=b.desc,P=ZD(b,QUe),H=Fe(P,!1);if(C)return L.createElement(PD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(Ej,up({},H,{width:E,height:A,title:T,desc:O}),this.renderClipPath(),gR(_,this.renderMap)));if(this.props.accessibilityLayer){var R,B;H.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,H.role=(B=this.props.role)!==null&&B!==void 0?B:"application",H.onKeyDown=function(W){x.accessibilityManager.keyboardEvent(W)},H.onFocus=function(){x.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return L.createElement(PD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",up({className:Je("recharts-wrapper",w),style:Q({position:"relative",cursor:"default",width:E,height:A},j)},U,{ref:function(M){x.container=M}}),L.createElement(Ej,up({},H,{width:E,height:A,title:T,desc:O,style:g6e}),this.renderClipPath(),gR(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(S.Component);return Ue(m,"displayName",n),Ue(m,"defaultProps",Q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ue(m,"getDerivedStateFromProps",function(g,v){var y=g.dataKey,x=g.data,b=g.children,_=g.width,w=g.height,E=g.layout,A=g.stackOffset,j=g.margin,C=v.dataStartIndex,T=v.dataEndIndex;if(v.updateId===void 0){var O=e4(g);return Q(Q(Q({},O),{},{updateId:0},p(Q(Q({props:g},O),{},{updateId:0}),v)),{},{prevDataKey:y,prevData:x,prevWidth:_,prevHeight:w,prevLayout:E,prevStackOffset:A,prevMargin:j,prevChildren:b})}if(y!==v.prevDataKey||x!==v.prevData||_!==v.prevWidth||w!==v.prevHeight||E!==v.prevLayout||A!==v.prevStackOffset||!ld(j,v.prevMargin)){var P=e4(g),H={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},R=Q(Q({},QD(v,x,E)),{},{updateId:v.updateId+1}),B=Q(Q(Q({},P),H),R);return Q(Q(Q({},B),p(Q({props:g},B),v)),{},{prevDataKey:y,prevData:x,prevWidth:_,prevHeight:w,prevLayout:E,prevStackOffset:A,prevMargin:j,prevChildren:b})}if(!_j(b,v.prevChildren)){var U,W,M,D,N=Vr(b,af),V=N&&(U=(W=N.props)===null||W===void 0?void 0:W.startIndex)!==null&&U!==void 0?U:C,G=N&&(M=(D=N.props)===null||D===void 0?void 0:D.endIndex)!==null&&M!==void 0?M:T,$=V!==C||G!==T,te=!Xe(x),ae=te&&!$?v.updateId:v.updateId+1;return Q(Q({updateId:ae},p(Q(Q({props:g},v),{},{updateId:ae,dataStartIndex:V,dataEndIndex:G}),v)),{},{prevChildren:b,dataStartIndex:V,dataEndIndex:G})}return null}),Ue(m,"renderActiveDot",function(g,v,y){var x;return S.isValidElement(g)?x=S.cloneElement(g,v):qe(g)?x=g(v):x=L.createElement(xw,v),L.createElement(pt,{className:"recharts-active-dot",key:y},x)}),function(v){return L.createElement(m,v)}},LG=fN({chartName:"LineChart",GraphicalChild:al,axisComponents:[{axisType:"xAxis",AxisComp:_l},{axisType:"yAxis",AxisComp:Sl}],formatAxisMap:nG}),DG=fN({chartName:"BarChart",GraphicalChild:Ii,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:_l},{axisType:"yAxis",AxisComp:Sl}],formatAxisMap:nG}),FG=fN({chartName:"PieChart",GraphicalChild:vs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Sw},{axisType:"radiusAxis",AxisComp:ww}],formatAxisMap:wLe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const BG=()=>{const[t,e]=S.useState(null),[n,r]=S.useState([]),[i,a]=S.useState([]),[s,o]=S.useState(!0),{toast:l}=Mt(),c=["hsl(var(--primary))","hsl(var(--secondary))","hsl(var(--accent))","hsl(var(--muted))"],d=async()=>{try{o(!0);const{data:p,error:m}=await ze.from("campaigns").select("*").order("created_at",{ascending:!1});if(m)throw m;r(p||[]);const g=(p==null?void 0:p.length)||0,v=(p==null?void 0:p.filter(A=>A.status==="active").length)||0,y=(p==null?void 0:p.reduce((A,j)=>A+(j.candidates_count||0),0))||0,x=(p==null?void 0:p.reduce((A,j)=>A+(j.messages_sent||0),0))||0,b=(p==null?void 0:p.reduce((A,j)=>A+(j.calls_made||0),0))||0,_=(p==null?void 0:p.reduce((A,j)=>A+(j.responses_received||0),0))||0,w=y>0?_/y*100:0;e({totalCampaigns:g,activeCampaigns:v,totalCandidates:y,messagesSent:x,callsMade:b,responsesReceived:_,conversionRate:w});const E=(p==null?void 0:p.slice(0,6).map(A=>({name:A.name.substring(0,15)+(A.name.length>15?"...":""),messages:A.messages_sent||0,calls:A.calls_made||0,responses:A.responses_received||0,conversion:A.candidates_count>0?(A.responses_received||0)/A.candidates_count*100:0})))||[];a(E)}catch(p){console.error("Error fetching analytics:",p),l({title:"Error",description:"Failed to fetch analytics data",variant:"destructive"})}finally{o(!1)}},f=()=>{const p=[["Campaign Name","Status","Type","Candidates","Messages Sent","Calls Made","Responses","Conversion Rate"],...n.map(y=>[y.name,y.status,y.type,y.candidates_count||0,y.messages_sent||0,y.calls_made||0,y.responses_received||0,y.candidates_count>0?`${((y.responses_received||0)/y.candidates_count*100).toFixed(2)}%`:"0%"])].map(y=>y.join(",")).join(`
`),m=new Blob([p],{type:"text/csv"}),g=window.URL.createObjectURL(m),v=document.createElement("a");v.href=g,v.download=`campaign-analytics-${new Date().toISOString().split("T")[0]}.csv`,v.click(),window.URL.revokeObjectURL(g),l({title:"Success",description:"Analytics report exported successfully"})};if(S.useEffect(()=>{d();const p=ze.channel("analytics-updates").on("postgres_changes",{event:"*",schema:"public",table:"campaigns"},()=>{d()}).subscribe();return()=>{ze.removeChannel(p)}},[]),s)return u.jsx("div",{className:"flex items-center justify-center p-8",children:u.jsx(Yc,{})});const h=[{name:"Messages Sent",value:(t==null?void 0:t.messagesSent)||0,color:c[0]},{name:"Calls Made",value:(t==null?void 0:t.callsMade)||0,color:c[1]},{name:"Responses",value:(t==null?void 0:t.responsesReceived)||0,color:c[2]}];return u.jsxs("div",{className:"space-y-6",children:[u.jsx(ur,{children:u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold bg-ai-gradient bg-clip-text text-transparent",children:"Campaign Analytics"}),u.jsx("p",{className:"text-muted-foreground",children:"Real-time insights into your outreach performance"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(oe,{variant:"outline",onClick:d,disabled:s,className:"hover-lift",children:[u.jsx(fl,{className:"w-4 h-4 mr-2"}),"Refresh"]}),u.jsxs(oe,{variant:"hero",onClick:f,className:"hover-lift",children:[u.jsx(fT,{className:"w-4 h-4 mr-2"}),"Export Report"]})]})]})}),u.jsx(ur,{delay:100,children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs(ee,{className:"hover-lift transition-all duration-200",children:[u.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ve,{className:"text-sm font-medium",children:"Total Campaigns"}),u.jsx(Mp,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Le,{children:[u.jsx("div",{className:"text-2xl font-bold",children:(t==null?void 0:t.totalCampaigns)||0}),u.jsx("div",{className:"flex items-center space-x-2 mt-2",children:u.jsxs(on,{variant:"secondary",className:"text-xs",children:[(t==null?void 0:t.activeCampaigns)||0," Active"]})})]})]}),u.jsxs(ee,{className:"hover-lift transition-all duration-200",children:[u.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ve,{className:"text-sm font-medium",children:"Total Candidates"}),u.jsx(Ea,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Le,{children:[u.jsx("div",{className:"text-2xl font-bold",children:(t==null?void 0:t.totalCandidates)||0}),u.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Across all campaigns"})]})]}),u.jsxs(ee,{className:"hover-lift transition-all duration-200",children:[u.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ve,{className:"text-sm font-medium",children:"Messages & Calls"}),u.jsx(Ds,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Le,{children:[u.jsx("div",{className:"text-2xl font-bold",children:((t==null?void 0:t.messagesSent)||0)+((t==null?void 0:t.callsMade)||0)}),u.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[u.jsx($r,{className:"h-3 w-3 text-primary"}),u.jsx("span",{className:"text-xs",children:(t==null?void 0:t.messagesSent)||0}),u.jsx(Di,{className:"h-3 w-3 text-secondary"}),u.jsx("span",{className:"text-xs",children:(t==null?void 0:t.callsMade)||0})]})]})]}),u.jsxs(ee,{className:"hover-lift transition-all duration-200",children:[u.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ve,{className:"text-sm font-medium",children:"Conversion Rate"}),u.jsx(Xn,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Le,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[(t==null?void 0:t.conversionRate.toFixed(1))||0,"%"]}),u.jsx(Ti,{value:(t==null?void 0:t.conversionRate)||0,className:"mt-2"})]})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsx(ur,{delay:200,children:u.jsxs(ee,{className:"hover-scale transition-all duration-300",children:[u.jsx(We,{children:u.jsx(Ve,{children:"Campaign Performance"})}),u.jsx(Le,{children:u.jsx(cd,{width:"100%",height:300,children:u.jsxs(DG,{data:i,children:[u.jsx(Nm,{strokeDasharray:"3 3"}),u.jsx(_l,{dataKey:"name"}),u.jsx(Sl,{}),u.jsx(lr,{}),u.jsx(Ii,{dataKey:"messages",fill:c[0],name:"Messages"}),u.jsx(Ii,{dataKey:"calls",fill:c[1],name:"Calls"}),u.jsx(Ii,{dataKey:"responses",fill:c[2],name:"Responses"})]})})})]})}),u.jsx(ur,{delay:300,children:u.jsxs(ee,{className:"hover-scale transition-all duration-300",children:[u.jsx(We,{children:u.jsx(Ve,{children:"Outreach Distribution"})}),u.jsx(Le,{children:u.jsx(cd,{width:"100%",height:300,children:u.jsxs(FG,{children:[u.jsx(vs,{data:h,cx:"50%",cy:"50%",labelLine:!1,label:({name:p,percent:m})=>`${p} ${(m*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:h.map((p,m)=>u.jsx(yg,{fill:p.color},`cell-${m}`))}),u.jsx(lr,{})]})})})]})})]}),u.jsx(ur,{delay:400,children:u.jsxs(ee,{className:"hover-scale transition-all duration-300",children:[u.jsx(We,{children:u.jsx(Ve,{children:"Conversion Rate by Campaign"})}),u.jsx(Le,{children:u.jsx(cd,{width:"100%",height:300,children:u.jsxs(LG,{data:i,children:[u.jsx(Nm,{strokeDasharray:"3 3"}),u.jsx(_l,{dataKey:"name"}),u.jsx(Sl,{}),u.jsx(lr,{formatter:p=>[`${p}%`,"Conversion Rate"]}),u.jsx(al,{type:"monotone",dataKey:"conversion",stroke:c[0],strokeWidth:3,dot:{fill:c[0],strokeWidth:2,r:4}})]})})})]})})]})},zG=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!1),[i,a]=S.useState(!1),{toast:s}=Mt(),{user:o}=zn(),[l,c]=S.useState({name:"",trigger:"no_response",channels:[],delay:24,template:"",active:!0}),d=[{value:"no_response",label:"No Response After Message"},{value:"email_open",label:"Email Opened"},{value:"link_click",label:"Link Clicked"},{value:"form_submit",label:"Form Submitted"},{value:"time_based",label:"Time-Based Follow-up"}],f=[{value:"whatsapp",label:"WhatsApp",icon:$r},{value:"voice",label:"Voice Call",icon:Di},{value:"email",label:"Email",icon:ti}],h={whatsapp:"Hi {name}, I wanted to follow up on our previous message about {college}. Do you have any questions about our programs?",voice:"Hello {name}, this is a follow-up call regarding your interest in {college}. Please call us back at your convenience.",email:`Dear {name},

We noticed you showed interest in {college}. We'd love to answer any questions you might have about our programs.

Best regards,
Admissions Team`},p=()=>{if(!o)return;r(!0);const b=`automation_rules_${o.id}`,_=localStorage.getItem(b);if(_)try{e(JSON.parse(_))}catch{e([])}else{const w=[{id:"mock-1",name:"Example WhatsApp Follow-up",trigger:"no_response",channels:["whatsapp"],delay:24,template:h.whatsapp,active:!0,user_id:o.id}];e(w),localStorage.setItem(b,JSON.stringify(w))}r(!1)},m=b=>{if(!o)return;const _=`automation_rules_${o.id}`;localStorage.setItem(_,JSON.stringify(b))},g=()=>{if(!o)return;if(!l.name||!l.template||l.channels.length===0){s({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}const _=[{id:`rule-${Date.now()}`,user_id:o.id,...l},...t];e(_),m(_),c({name:"",trigger:"no_response",channels:[],delay:24,template:"",active:!0}),a(!1),s({title:"Success",description:"Automation rule created successfully"})},v=(b,_)=>{const w=t.map(E=>E.id===b?{...E,active:!E.active}:E);e(w),m(w),s({title:"Success",description:"Automation rule updated"})},y=b=>{const _=t.filter(w=>w.id!==b);e(_),m(_),s({title:"Success",description:"Automation rule deleted"})},x=b=>{c(_=>({..._,channels:_.channels.includes(b)?_.channels.filter(w=>w!==b):[..._.channels,b],template:_.channels.includes(b)?_.template:h[b]||_.template}))};return S.useEffect(()=>{p()},[o]),n?u.jsx("div",{className:"flex items-center justify-center p-8",children:u.jsx(Yc,{})}):u.jsxs("div",{className:"space-y-6",children:[u.jsx(ur,{children:u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold bg-ai-gradient bg-clip-text text-transparent",children:"Campaign Automation"}),u.jsx("p",{className:"text-muted-foreground",children:"Set up automated follow-ups and drip campaigns"})]}),u.jsxs(oe,{onClick:()=>a(!0),variant:"hero",className:"hover-lift",children:[u.jsx(Gh,{className:"w-4 h-4 mr-2"}),"New Automation Rule"]})]})}),u.jsx(ur,{delay:100,children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs(ee,{className:"hover-lift",children:[u.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ve,{className:"text-sm font-medium",children:"Active Rules"}),u.jsx(Rr,{className:"h-4 w-4 text-primary"})]}),u.jsxs(Le,{children:[u.jsx("div",{className:"text-2xl font-bold",children:t.filter(b=>b.active).length}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Out of ",t.length," total rules"]})]})]}),u.jsxs(ee,{className:"hover-lift",children:[u.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ve,{className:"text-sm font-medium",children:"Avg Delay"}),u.jsx(dl,{className:"h-4 w-4 text-secondary"})]}),u.jsxs(Le,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.length>0?Math.round(t.reduce((b,_)=>b+_.delay,0)/t.length):0,"h"]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Average follow-up delay"})]})]}),u.jsxs(ee,{className:"hover-lift",children:[u.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ve,{className:"text-sm font-medium",children:"Multi-Channel"}),u.jsx(Ea,{className:"h-4 w-4 text-accent"})]}),u.jsxs(Le,{children:[u.jsx("div",{className:"text-2xl font-bold",children:t.filter(b=>b.channels.length>1).length}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Rules using multiple channels"})]})]})]})}),i&&u.jsx(ur,{children:u.jsxs(ee,{className:"border-primary/20",children:[u.jsx(We,{children:u.jsxs(Ve,{className:"flex items-center gap-2",children:[u.jsx(Vm,{className:"w-5 h-5"}),"Create Automation Rule"]})}),u.jsxs(Le,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(De,{htmlFor:"rule-name",children:"Rule Name"}),u.jsx(vt,{id:"rule-name",placeholder:"e.g., WhatsApp Follow-up",value:l.name,onChange:b=>c(_=>({..._,name:b.target.value}))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(De,{htmlFor:"trigger",children:"Trigger Event"}),u.jsxs(Ps,{value:l.trigger,onValueChange:b=>c(_=>({..._,trigger:b})),children:[u.jsx(Ga,{children:u.jsx(Is,{})}),u.jsx(Ka,{children:d.map(b=>u.jsx(rn,{value:b.value,children:b.label},b.value))})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(De,{children:"Communication Channels"}),u.jsx("div",{className:"flex flex-wrap gap-3",children:f.map(b=>{const _=b.icon,w=l.channels.includes(b.value);return u.jsxs("div",{className:`flex items-center space-x-2 p-3 border rounded-lg cursor-pointer transition-all hover-lift ${w?"border-primary bg-primary/10":"border-border"}`,onClick:()=>x(b.value),children:[u.jsx(_,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:b.label})]},b.value)})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(De,{htmlFor:"delay",children:"Delay (hours)"}),u.jsx(vt,{id:"delay",type:"number",min:"1",max:"168",value:l.delay,onChange:b=>c(_=>({..._,delay:parseInt(b.target.value)||24}))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(De,{htmlFor:"template",children:"Message Template"}),u.jsx(us,{id:"template",placeholder:"Use {name}, {college}, etc. for personalization",value:l.template,onChange:b=>c(_=>({..._,template:b.target.value})),rows:4})]}),u.jsx(Fk,{}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Zr,{id:"active",checked:l.active,onCheckedChange:b=>c(_=>({..._,active:b}))}),u.jsx(De,{htmlFor:"active",children:"Activate immediately"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(oe,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),u.jsx(oe,{onClick:g,variant:"hero",className:"hover-lift",children:"Create Rule"})]})]})]})]})}),u.jsx(ur,{delay:200,children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Automation Rules"}),t.length===0?u.jsx(ee,{children:u.jsxs(Le,{className:"text-center py-8",children:[u.jsx(Rr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),u.jsx("p",{className:"text-muted-foreground",children:"No automation rules created yet"}),u.jsx(oe,{variant:"outline",className:"mt-4",onClick:()=>a(!0),children:"Create Your First Rule"})]})}):t.map((b,_)=>{var w;return u.jsx(ur,{delay:300+_*50,children:u.jsx(ee,{className:"hover-scale transition-all duration-200",children:u.jsxs(Le,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-3 h-3 rounded-full ${b.active?"bg-green-500":"bg-gray-400"}`}),u.jsx("h4",{className:"font-semibold",children:b.name}),u.jsx(on,{variant:"secondary",children:(w=d.find(E=>E.value===b.trigger))==null?void 0:w.label})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>v(b.id,b.active),className:"hover-lift",children:b.active?u.jsx(hB,{className:"w-4 h-4"}):u.jsx(Fs,{className:"w-4 h-4"})}),u.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>y(b.id),className:"hover-lift text-destructive",children:u.jsx(mB,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Channels:"}),u.jsx("div",{className:"flex gap-1 mt-1",children:b.channels.map(E=>{const A=f.find(C=>C.value===E),j=(A==null?void 0:A.icon)||$r;return u.jsxs(on,{variant:"outline",className:"text-xs",children:[u.jsx(j,{className:"w-3 h-3 mr-1"}),A==null?void 0:A.label]},E)})})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Delay:"}),u.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[u.jsx(dl,{className:"w-3 h-3"}),b.delay," hours"]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Status:"}),u.jsx("div",{className:"mt-1",children:u.jsx(on,{variant:b.active?"default":"secondary",children:b.active?"Active":"Paused"})})]})]}),u.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50",children:[u.jsx("span",{className:"text-muted-foreground text-sm",children:"Template Preview:"}),u.jsx("p",{className:"text-sm mt-1 line-clamp-2",children:b.template})]})]})})},b.id)})]})})]})},UG=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState("default"),[i,a]=S.useState({campaignUpdates:!0,newResponses:!0,scheduleReminders:!0,weeklyReports:!1}),{toast:s}=Mt(),{user:o}=zn();S.useEffect(()=>{l(),c()},[o]);const l=()=>{"Notification"in window&&(r(Notification.permission),e(Notification.permission==="granted"))},c=async()=>{if(o)try{const{data:m,error:g}=await ze.from("profiles").select("notifications_enabled, email_alerts, sms_alerts").eq("user_id",o.id).single();if(g&&g.code!=="PGRST116"){console.error("Error loading notification settings:",g);return}m&&a(v=>({...v,campaignUpdates:m.notifications_enabled??!0,newResponses:m.email_alerts??!0,scheduleReminders:m.sms_alerts??!1}))}catch(m){console.error("Error loading notification settings:",m)}},d=async()=>{if(!("Notification"in window)){s({title:"Not Supported",description:"Your browser does not support notifications",variant:"destructive"});return}try{const m=await Notification.requestPermission();r(m),m==="granted"?(e(!0),new Notification("AdmitConnect AI",{body:"Notifications enabled! You'll now receive updates about your campaigns.",icon:"/favicon.ico",badge:"/favicon.ico"}),s({title:"Success",description:"Browser notifications enabled successfully!"}),await f({...i,campaignUpdates:!0})):s({title:"Permission Denied",description:"Please enable notifications in your browser settings",variant:"destructive"})}catch(m){console.error("Error requesting notification permission:",m),s({title:"Error",description:"Failed to enable notifications",variant:"destructive"})}},f=async m=>{if(o)try{const{error:g}=await ze.from("profiles").update({notifications_enabled:m.campaignUpdates,email_alerts:m.newResponses,sms_alerts:m.scheduleReminders}).eq("user_id",o.id);if(g)throw g;a(m),s({title:"Settings Updated",description:"Notification preferences saved successfully"})}catch(g){console.error("Error updating notification settings:",g),s({title:"Error",description:"Failed to update notification settings",variant:"destructive"})}},h=()=>{n==="granted"&&new Notification("Test Notification",{body:"This is a test notification from AdmitConnect AI",icon:"/favicon.ico",badge:"/favicon.ico"})},p=(m,g)=>{const v={...i,[m]:g};f(v)};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold bg-ai-gradient bg-clip-text text-transparent mb-2",children:"Notification Center"}),u.jsx("p",{className:"text-muted-foreground",children:"Stay updated with real-time alerts about your campaigns and responses"})]}),u.jsxs(ee,{className:"hover-scale transition-all duration-200",children:[u.jsx(We,{children:u.jsxs(Ve,{className:"flex items-center gap-2",children:[u.jsx(aE,{className:"w-5 h-5"}),"Browser Notifications"]})}),u.jsxs(Le,{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"font-medium",children:"Push Notifications"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Get instant updates directly in your browser"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(on,{variant:n==="granted"?"default":"secondary",children:n==="granted"?"Enabled":"Disabled"}),n!=="granted"&&u.jsx(oe,{onClick:d,variant:"hero",size:"sm",className:"hover-lift",children:"Enable"})]})]}),n==="granted"&&u.jsx("div",{className:"pt-4 border-t",children:u.jsx(oe,{variant:"outline",size:"sm",onClick:h,className:"hover-lift",children:"Send Test Notification"})})]})]}),u.jsxs(ee,{className:"hover-scale transition-all duration-200",children:[u.jsx(We,{children:u.jsx(Ve,{children:"Notification Preferences"})}),u.jsxs(Le,{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs(De,{className:"flex items-center gap-2",children:[u.jsx(Xn,{className:"w-4 h-4"}),"Campaign Updates"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications when campaigns start, complete, or need attention"})]}),u.jsx(Zr,{checked:i.campaignUpdates,onCheckedChange:m=>p("campaignUpdates",m),disabled:n!=="granted"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs(De,{className:"flex items-center gap-2",children:[u.jsx($r,{className:"w-4 h-4"}),"New Responses"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Immediate alerts when candidates respond to your outreach"})]}),u.jsx(Zr,{checked:i.newResponses,onCheckedChange:m=>p("newResponses",m),disabled:n!=="granted"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs(De,{className:"flex items-center gap-2",children:[u.jsx(Rp,{className:"w-4 h-4"}),"Schedule Reminders"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Reminders for upcoming deadlines and follow-ups"})]}),u.jsx(Zr,{checked:i.scheduleReminders,onCheckedChange:m=>p("scheduleReminders",m),disabled:n!=="granted"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs(De,{className:"flex items-center gap-2",children:[u.jsx(aE,{className:"w-4 h-4"}),"Weekly Reports"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Weekly summary of campaign performance and metrics"})]}),u.jsx(Zr,{checked:i.weeklyReports,onCheckedChange:m=>p("weeklyReports",m),disabled:n!=="granted"})]})]})]}),u.jsxs(ee,{className:"hover-scale transition-all duration-200",children:[u.jsx(We,{children:u.jsx(Ve,{children:"Recent Notifications"})}),u.jsx(Le,{children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[u.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium",children:'Campaign "Fall 2024 Intake" completed'}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"2 hours ago"})]})]}),u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[u.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium",children:"New response from candidate"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"4 hours ago"})]})]}),u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[u.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium",children:"Weekly report is ready"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Yesterday"})]})]})]})})]})]})};var hN="Checkbox",[A6e,mVe]=Sa(hN),[C6e,T6e]=A6e(hN),HG=S.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:s,disabled:o,value:l="on",onCheckedChange:c,form:d,...f}=t,[h,p]=S.useState(null),m=rt(e,_=>p(_)),g=S.useRef(!1),v=h?d||!!h.closest("form"):!0,[y=!1,x]=as({prop:i,defaultProp:a,onChange:c}),b=S.useRef(y);return S.useEffect(()=>{const _=h==null?void 0:h.form;if(_){const w=()=>x(b.current);return _.addEventListener("reset",w),()=>_.removeEventListener("reset",w)}},[h,x]),u.jsxs(C6e,{scope:n,state:y,disabled:o,children:[u.jsx(Ne.button,{type:"button",role:"checkbox","aria-checked":sl(y)?"mixed":y,"aria-required":s,"data-state":qG(y),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:m,onKeyDown:he(t.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:he(t.onClick,_=>{x(w=>sl(w)?!0:!w),v&&(g.current=_.isPropagationStopped(),g.current||_.stopPropagation())})}),v&&u.jsx(k6e,{control:h,bubbles:!g.current,name:r,value:l,checked:y,required:s,disabled:o,form:d,style:{transform:"translateX(-100%)"},defaultChecked:sl(a)?!1:a})]})});HG.displayName=hN;var WG="CheckboxIndicator",VG=S.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,a=T6e(WG,n);return u.jsx(er,{present:r||sl(a.state)||a.state===!0,children:u.jsx(Ne.span,{"data-state":qG(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});VG.displayName=WG;var k6e=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:i,...a}=t,s=S.useRef(null),o=zk(n),l=ET(e);S.useEffect(()=>{const d=s.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(o!==n&&p){const m=new Event("click",{bubbles:r});d.indeterminate=sl(n),p.call(d,sl(n)?!1:n),d.dispatchEvent(m)}},[o,n,r]);const c=S.useRef(sl(n)?!1:n);return u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??c.current,...a,tabIndex:-1,ref:s,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function sl(t){return t==="indeterminate"}function qG(t){return sl(t)?"indeterminate":t?"checked":"unchecked"}var GG=HG,O6e=VG;const KG=S.forwardRef(({className:t,...e},n)=>u.jsx(GG,{ref:n,className:je("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:u.jsx(O6e,{className:je("flex items-center justify-center text-current"),children:u.jsx(Ux,{className:"h-4 w-4"})})}));KG.displayName=GG.displayName;const YG=({campaign:t,onExecutionComplete:e})=>{const[n,r]=S.useState([]),[i,a]=S.useState(0),[s,o]=S.useState(!1),{toast:l}=Mt(),c=[{id:"email",label:"Email",icon:ti,color:"text-blue-500"},{id:"voice",label:"Voice Call",icon:Di,color:"text-green-500"},{id:"whatsapp",label:"WhatsApp",icon:$r,color:"text-emerald-500"}],d=h=>{r(p=>p.includes(h)?p.filter(m=>m!==h):[...p,h])},f=async()=>{if(n.length===0){l({title:"No Channels Selected",description:"Please select at least one communication channel",variant:"destructive"});return}o(!0);try{const{data:h,error:p}=await ze.functions.invoke("campaign-orchestrator",{body:{campaignId:t.id,channels:n,delay:i}});if(p)throw p;l({title:"Campaign Started Successfully",description:`Executing across ${n.length} channel(s) with ${i}min delay`}),e==null||e()}catch(h){console.error("Campaign execution error:",h);const p=h.message||"Unknown error occurred",m=h.details||h.hint||"";l({title:"Campaign Execution Failed",description:`${p}. ${m}`,variant:"destructive"})}finally{o(!1)}};return u.jsxs(ee,{className:"border-primary/20",children:[u.jsx(We,{children:u.jsxs(Ve,{className:"flex items-center gap-2",children:[u.jsx(Rr,{className:"w-5 h-5 text-primary"}),"Execute Campaign: ",t.name]})}),u.jsxs(Le,{className:"space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ea,{className:"w-4 h-4 text-muted-foreground"}),u.jsxs("span",{className:"text-sm",children:[t.candidates_count," candidates"]})]}),u.jsx(on,{variant:"secondary",children:t.status})]})}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(De,{className:"text-base font-medium",children:"Select Communication Channels"}),u.jsx("div",{className:"grid grid-cols-1 gap-3",children:c.map(h=>{const p=h.icon,m=n.includes(h.id);return u.jsxs("div",{className:`flex items-center space-x-3 p-4 border rounded-lg cursor-pointer transition-all hover-lift ${m?"border-primary bg-primary/5":"border-border"}`,onClick:()=>d(h.id),children:[u.jsx(KG,{checked:m,onChange:()=>d(h.id)}),u.jsx(p,{className:`w-5 h-5 ${h.color}`}),u.jsx(De,{className:"flex-1 cursor-pointer",children:h.label})]},h.id)})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(De,{htmlFor:"delay",className:"text-base font-medium",children:"Delay Between Channels (minutes)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(dl,{className:"w-4 h-4 text-muted-foreground"}),u.jsx(vt,{id:"delay",type:"number",min:"0",max:"1440",value:i,onChange:h=>a(parseInt(h.target.value)||0),className:"w-24"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"minutes"})]})]}),u.jsx(oe,{onClick:f,disabled:s||n.length===0,className:"w-full",variant:"hero",children:s?u.jsxs(u.Fragment,{children:[u.jsx(Yc,{size:"sm",className:"mr-2"}),"Executing Campaign..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Fs,{className:"w-4 h-4 mr-2"}),"Execute Campaign"]})}),n.length>0&&u.jsxs("div",{className:"text-sm text-muted-foreground text-center",children:["Will execute: ",n.join("  "),i>0&&` with ${i}min delay between channels`]})]})]})};function N6e(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const P6e=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,I6e=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,$6e={};function n4(t,e){return($6e.jsx?I6e:P6e).test(t)}const R6e=/[ \t\n\f\r]/g;function M6e(t){return typeof t=="object"?t.type==="text"?r4(t.value):!1:r4(t)}function r4(t){return t.replace(R6e,"")===""}class Eg{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Eg.prototype.normal={};Eg.prototype.property={};Eg.prototype.space=void 0;function XG(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Eg(n,r,e)}function KA(t){return t.toLowerCase()}class Lr{constructor(e,n){this.attribute=n,this.property=e}}Lr.prototype.attribute="";Lr.prototype.booleanish=!1;Lr.prototype.boolean=!1;Lr.prototype.commaOrSpaceSeparated=!1;Lr.prototype.commaSeparated=!1;Lr.prototype.defined=!1;Lr.prototype.mustUseProperty=!1;Lr.prototype.number=!1;Lr.prototype.overloadedBoolean=!1;Lr.prototype.property="";Lr.prototype.spaceSeparated=!1;Lr.prototype.space=void 0;let L6e=0;const et=tu(),mn=tu(),YA=tu(),ue=tu(),Ot=tu(),fd=tu(),Br=tu();function tu(){return 2**++L6e}const XA=Object.freeze(Object.defineProperty({__proto__:null,boolean:et,booleanish:mn,commaOrSpaceSeparated:Br,commaSeparated:fd,number:ue,overloadedBoolean:YA,spaceSeparated:Ot},Symbol.toStringTag,{value:"Module"})),z1=Object.keys(XA);class pN extends Lr{constructor(e,n,r,i){let a=-1;if(super(e,n),i4(this,"space",i),typeof r=="number")for(;++a<z1.length;){const s=z1[a];i4(this,z1[a],(r&XA[s])===XA[s])}}}pN.prototype.defined=!0;function i4(t,e,n){n&&(t[e]=n)}function Kf(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const a=new pN(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[KA(r)]=r,n[KA(a.attribute)]=r}return new Eg(e,n,t.space)}const ZG=Kf({properties:{ariaActiveDescendant:null,ariaAtomic:mn,ariaAutoComplete:null,ariaBusy:mn,ariaChecked:mn,ariaColCount:ue,ariaColIndex:ue,ariaColSpan:ue,ariaControls:Ot,ariaCurrent:null,ariaDescribedBy:Ot,ariaDetails:null,ariaDisabled:mn,ariaDropEffect:Ot,ariaErrorMessage:null,ariaExpanded:mn,ariaFlowTo:Ot,ariaGrabbed:mn,ariaHasPopup:null,ariaHidden:mn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ot,ariaLevel:ue,ariaLive:null,ariaModal:mn,ariaMultiLine:mn,ariaMultiSelectable:mn,ariaOrientation:null,ariaOwns:Ot,ariaPlaceholder:null,ariaPosInSet:ue,ariaPressed:mn,ariaReadOnly:mn,ariaRelevant:null,ariaRequired:mn,ariaRoleDescription:Ot,ariaRowCount:ue,ariaRowIndex:ue,ariaRowSpan:ue,ariaSelected:mn,ariaSetSize:ue,ariaSort:null,ariaValueMax:ue,ariaValueMin:ue,ariaValueNow:ue,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function JG(t,e){return e in t?t[e]:e}function QG(t,e){return JG(t,e.toLowerCase())}const D6e=Kf({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:fd,acceptCharset:Ot,accessKey:Ot,action:null,allow:null,allowFullScreen:et,allowPaymentRequest:et,allowUserMedia:et,alt:null,as:null,async:et,autoCapitalize:null,autoComplete:Ot,autoFocus:et,autoPlay:et,blocking:Ot,capture:null,charSet:null,checked:et,cite:null,className:Ot,cols:ue,colSpan:null,content:null,contentEditable:mn,controls:et,controlsList:Ot,coords:ue|fd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:et,defer:et,dir:null,dirName:null,disabled:et,download:YA,draggable:mn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:et,formTarget:null,headers:Ot,height:ue,hidden:YA,high:ue,href:null,hrefLang:null,htmlFor:Ot,httpEquiv:Ot,id:null,imageSizes:null,imageSrcSet:null,inert:et,inputMode:null,integrity:null,is:null,isMap:et,itemId:null,itemProp:Ot,itemRef:Ot,itemScope:et,itemType:Ot,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:et,low:ue,manifest:null,max:null,maxLength:ue,media:null,method:null,min:null,minLength:ue,multiple:et,muted:et,name:null,nonce:null,noModule:et,noValidate:et,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:et,optimum:ue,pattern:null,ping:Ot,placeholder:null,playsInline:et,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:et,referrerPolicy:null,rel:Ot,required:et,reversed:et,rows:ue,rowSpan:ue,sandbox:Ot,scope:null,scoped:et,seamless:et,selected:et,shadowRootClonable:et,shadowRootDelegatesFocus:et,shadowRootMode:null,shape:null,size:ue,sizes:null,slot:null,span:ue,spellCheck:mn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ue,step:null,style:null,tabIndex:ue,target:null,title:null,translate:null,type:null,typeMustMatch:et,useMap:null,value:mn,width:ue,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ot,axis:null,background:null,bgColor:null,border:ue,borderColor:null,bottomMargin:ue,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:et,declare:et,event:null,face:null,frame:null,frameBorder:null,hSpace:ue,leftMargin:ue,link:null,longDesc:null,lowSrc:null,marginHeight:ue,marginWidth:ue,noResize:et,noHref:et,noShade:et,noWrap:et,object:null,profile:null,prompt:null,rev:null,rightMargin:ue,rules:null,scheme:null,scrolling:mn,standby:null,summary:null,text:null,topMargin:ue,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ue,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:et,disableRemotePlayback:et,prefix:null,property:null,results:ue,security:null,unselectable:null},space:"html",transform:QG}),F6e=Kf({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Br,accentHeight:ue,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ue,amplitude:ue,arabicForm:null,ascent:ue,attributeName:null,attributeType:null,azimuth:ue,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ue,by:null,calcMode:null,capHeight:ue,className:Ot,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ue,diffuseConstant:ue,direction:null,display:null,dur:null,divisor:ue,dominantBaseline:null,download:et,dx:null,dy:null,edgeMode:null,editable:null,elevation:ue,enableBackground:null,end:null,event:null,exponent:ue,externalResourcesRequired:null,fill:null,fillOpacity:ue,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:fd,g2:fd,glyphName:fd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ue,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ue,horizOriginX:ue,horizOriginY:ue,id:null,ideographic:ue,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ue,k:ue,k1:ue,k2:ue,k3:ue,k4:ue,kernelMatrix:Br,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ue,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ue,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ue,overlineThickness:ue,paintOrder:null,panose1:null,path:null,pathLength:ue,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ot,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ue,pointsAtY:ue,pointsAtZ:ue,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Br,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Br,rev:Br,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Br,requiredFeatures:Br,requiredFonts:Br,requiredFormats:Br,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ue,specularExponent:ue,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ue,strikethroughThickness:ue,string:null,stroke:null,strokeDashArray:Br,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ue,strokeOpacity:ue,strokeWidth:null,style:null,surfaceScale:ue,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Br,tabIndex:ue,tableValues:null,target:null,targetX:ue,targetY:ue,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Br,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ue,underlineThickness:ue,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ue,values:null,vAlphabetic:ue,vMathematical:ue,vectorEffect:null,vHanging:ue,vIdeographic:ue,version:null,vertAdvY:ue,vertOriginX:ue,vertOriginY:ue,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ue,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:JG}),eK=Kf({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),tK=Kf({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:QG}),nK=Kf({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),B6e={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},z6e=/[A-Z]/g,a4=/-[a-z]/g,U6e=/^data[-\w.:]+$/i;function H6e(t,e){const n=KA(e);let r=e,i=Lr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&U6e.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(a4,V6e);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!a4.test(a)){let s=a.replace(z6e,W6e);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=pN}return new i(r,e)}function W6e(t){return"-"+t.toLowerCase()}function V6e(t){return t.charAt(1).toUpperCase()}const q6e=XG([ZG,D6e,eK,tK,nK],"html"),mN=XG([ZG,F6e,eK,tK,nK],"svg");function G6e(t){return t.join(" ").trim()}var gN={},s4=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,K6e=/\n/g,Y6e=/^\s*/,X6e=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Z6e=/^:\s*/,J6e=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Q6e=/^[;\s]*/,e8e=/^\s+|\s+$/g,t8e=`
`,o4="/",l4="*",rc="",n8e="comment",r8e="declaration";function i8e(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(m){var g=m.match(K6e);g&&(n+=g.length);var v=m.lastIndexOf(t8e);r=~v?m.length-v:r+m.length}function a(){var m={line:n,column:r};return function(g){return g.position=new s(m),c(),g}}function s(m){this.start=m,this.end={line:n,column:r},this.source=e.source}s.prototype.content=t;function o(m){var g=new Error(e.source+":"+n+":"+r+": "+m);if(g.reason=m,g.filename=e.source,g.line=n,g.column=r,g.source=t,!e.silent)throw g}function l(m){var g=m.exec(t);if(g){var v=g[0];return i(v),t=t.slice(v.length),g}}function c(){l(Y6e)}function d(m){var g;for(m=m||[];g=f();)g!==!1&&m.push(g);return m}function f(){var m=a();if(!(o4!=t.charAt(0)||l4!=t.charAt(1))){for(var g=2;rc!=t.charAt(g)&&(l4!=t.charAt(g)||o4!=t.charAt(g+1));)++g;if(g+=2,rc===t.charAt(g-1))return o("End of comment missing");var v=t.slice(2,g-2);return r+=2,i(v),t=t.slice(g),r+=2,m({type:n8e,comment:v})}}function h(){var m=a(),g=l(X6e);if(g){if(f(),!l(Z6e))return o("property missing ':'");var v=l(J6e),y=m({type:r8e,property:c4(g[0].replace(s4,rc)),value:v?c4(v[0].replace(s4,rc)):rc});return l(Q6e),y}}function p(){var m=[];d(m);for(var g;g=h();)g!==!1&&(m.push(g),d(m));return m}return c(),p()}function c4(t){return t?t.replace(e8e,rc):rc}var a8e=i8e,s8e=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gN,"__esModule",{value:!0});gN.default=l8e;const o8e=s8e(a8e);function l8e(t,e){let n=null;if(!t||typeof t!="string")return n;const r=(0,o8e.default)(t),i=typeof e=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?e(s,o,a):o&&(n=n||{},n[s]=o)}),n}var Pw={};Object.defineProperty(Pw,"__esModule",{value:!0});Pw.camelCase=void 0;var c8e=/^--[a-zA-Z0-9_-]+$/,u8e=/-([a-z])/g,d8e=/^[^-]+$/,f8e=/^-(webkit|moz|ms|o|khtml)-/,h8e=/^-(ms)-/,p8e=function(t){return!t||d8e.test(t)||c8e.test(t)},m8e=function(t,e){return e.toUpperCase()},u4=function(t,e){return"".concat(e,"-")},g8e=function(t,e){return e===void 0&&(e={}),p8e(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(h8e,u4):t=t.replace(f8e,u4),t.replace(u8e,m8e))};Pw.camelCase=g8e;var y8e=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},v8e=y8e(gN),x8e=Pw;function ZA(t,e){var n={};return!t||typeof t!="string"||(0,v8e.default)(t,function(r,i){r&&i&&(n[(0,x8e.camelCase)(r,e)]=i)}),n}ZA.default=ZA;var b8e=ZA;const w8e=at(b8e),rK=iK("end"),yN=iK("start");function iK(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function _8e(t){const e=yN(t),n=rK(t);if(e&&n)return{start:e,end:n}}function dp(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?d4(t.position):"start"in t||"end"in t?d4(t):"line"in t||"column"in t?JA(t):""}function JA(t){return f4(t&&t.line)+":"+f4(t&&t.column)}function d4(t){return JA(t&&t.start)+"-"+JA(t&&t.end)}function f4(t){return t&&typeof t=="number"?t:1}class tr extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(s=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=dp(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}tr.prototype.file="";tr.prototype.name="";tr.prototype.reason="";tr.prototype.message="";tr.prototype.stack="";tr.prototype.column=void 0;tr.prototype.line=void 0;tr.prototype.ancestors=void 0;tr.prototype.cause=void 0;tr.prototype.fatal=void 0;tr.prototype.place=void 0;tr.prototype.ruleId=void 0;tr.prototype.source=void 0;const vN={}.hasOwnProperty,S8e=new Map,E8e=/[A-Z]/g,j8e=new Set(["table","tbody","thead","tfoot","tr"]),A8e=new Set(["td","th"]),aK="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function C8e(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=R8e(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=$8e(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?mN:q6e,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=sK(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function sK(t,e,n){if(e.type==="element")return T8e(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return k8e(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return N8e(t,e,n);if(e.type==="mdxjsEsm")return O8e(t,e);if(e.type==="root")return P8e(t,e,n);if(e.type==="text")return I8e(t,e)}function T8e(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=mN,t.schema=i),t.ancestors.push(e);const a=lK(t,e.tagName,!1),s=M8e(t,e);let o=bN(t,e);return j8e.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!M6e(l):!0})),oK(t,s,a,e),xN(s,o),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function k8e(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}$m(t,e.position)}function O8e(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);$m(t,e.position)}function N8e(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=mN,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:lK(t,e.name,!0),s=L8e(t,e),o=bN(t,e);return oK(t,s,a,e),xN(s,o),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function P8e(t,e,n){const r={};return xN(r,bN(t,e)),t.create(e,t.Fragment,r,n)}function I8e(t,e){return e.value}function oK(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function xN(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function $8e(t,e,n){return r;function r(i,a,s,o){const c=Array.isArray(s.children)?n:e;return o?c(a,s,o):c(a,s)}}function R8e(t,e){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=yN(r);return e(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function M8e(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&vN.call(e.properties,i)){const a=D8e(t,i,e.properties[i]);if(a){const[s,o]=a;t.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&A8e.has(e.tagName)?r=o:n[s]=o}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function L8e(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,t.evaluater.evaluateExpression(o.argument))}else $m(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const o=r.value.data.estree.body[0];o.type,a=t.evaluater.evaluateExpression(o.expression)}else $m(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function bN(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:S8e;for(;++r<e.children.length;){const a=e.children[r];let s;if(t.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;s=l+"-"+c,i.set(l,c+1)}}const o=sK(t,a,s);o!==void 0&&n.push(o)}return n}function D8e(t,e,n){const r=H6e(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?N6e(n):G6e(n)),r.property==="style"){let i=typeof n=="object"?n:F8e(t,String(n));return t.stylePropertyNameCase==="css"&&(i=B8e(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?B6e[r.property]||r.property:r.attribute,n]}}function F8e(t,e){try{return w8e(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new tr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=aK+"#cannot-parse-style-attribute",i}}function lK(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,s;for(;++a<i.length;){const o=n4(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}r=s}else r=n4(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return vN.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);$m(t)}function $m(t,e){const n=new tr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=aK+"#cannot-handle-mdx-estrees-without-createevaluater",n}function B8e(t){const e={};let n;for(n in t)vN.call(t,n)&&(e[z8e(n)]=t[n]);return e}function z8e(t){let e=t.replace(E8e,U8e);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function U8e(t){return"-"+t.toLowerCase()}const U1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},H8e={};function W8e(t,e){const n=H8e,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return cK(t,r,i)}function cK(t,e,n){if(V8e(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return h4(t.children,e,n)}return Array.isArray(t)?h4(t,e,n):""}function h4(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=cK(t[i],e,n);return r.join("")}function V8e(t){return!!(t&&typeof t=="object")}const p4=document.createElement("i");function wN(t){const e="&"+t+";";p4.innerHTML=e;const n=p4.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function hs(t,e,n,r){const i=t.length;let a=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(e,0),t.splice(...s),a+=1e4,e+=1e4}function Ei(t,e){return t.length>0?(hs(t,t.length,0,e),t):e}const m4={}.hasOwnProperty;function q8e(t){const e={};let n=-1;for(;++n<t.length;)G8e(e,t[n]);return e}function G8e(t,e){let n;for(n in e){const i=(m4.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let s;if(a)for(s in a){m4.call(i,s)||(i[s]=[]);const o=a[s];K8e(i[s],Array.isArray(o)?o:o?[o]:[])}}}function K8e(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);hs(t,0,0,r)}function uK(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function hd(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const qa=Fl(/[A-Za-z]/),Jr=Fl(/[\dA-Za-z]/),Y8e=Fl(/[#-'*+\--9=?A-Z^-~]/);function QA(t){return t!==null&&(t<32||t===127)}const eC=Fl(/\d/),X8e=Fl(/[\dA-Fa-f]/),Z8e=Fl(/[!-/:-@[-`{-~]/);function He(t){return t!==null&&t<-2}function Ir(t){return t!==null&&(t<0||t===32)}function yt(t){return t===-2||t===-1||t===32}const J8e=Fl(new RegExp("\\p{P}|\\p{S}","u")),Q8e=Fl(/\s/);function Fl(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Yf(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let s="";if(a===37&&Jr(t.charCodeAt(n+1))&&Jr(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=t.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function $t(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return yt(l)?(t.enter(n),o(l)):e(l)}function o(l){return yt(l)&&a++<i?(t.consume(l),o):(t.exit(n),e(l))}}const e9e={tokenize:t9e};function t9e(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),$t(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),a(o)}function a(o){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return He(o)?(t.consume(o),t.exit("chunkText"),a):(t.consume(o),s)}}const n9e={tokenize:r9e},g4={tokenize:i9e};function r9e(t){const e=this,n=[];let r=0,i,a,s;return o;function o(b){if(r<n.length){const _=n[r];return e.containerState=_[1],t.attempt(_[0].continuation,l,c)(b)}return c(b)}function l(b){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&x();const _=e.events.length;let w=_,E;for(;w--;)if(e.events[w][0]==="exit"&&e.events[w][1].type==="chunkFlow"){E=e.events[w][1].end;break}y(r);let A=_;for(;A<e.events.length;)e.events[A][1].end={...E},A++;return hs(e.events,w+1,0,e.events.slice(_)),e.events.length=A,c(b)}return o(b)}function c(b){if(r===n.length){if(!i)return h(b);if(i.currentConstruct&&i.currentConstruct.concrete)return m(b);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(g4,d,f)(b)}function d(b){return i&&x(),y(r),h(b)}function f(b){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,m(b)}function h(b){return e.containerState={},t.attempt(g4,p,m)(b)}function p(b){return r++,n.push([e.currentConstruct,e.containerState]),h(b)}function m(b){if(b===null){i&&x(),y(0),t.consume(b);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(b)}function g(b){if(b===null){v(t.exit("chunkFlow"),!0),y(0),t.consume(b);return}return He(b)?(t.consume(b),v(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(b),g)}function v(b,_){const w=e.sliceStream(b);if(_&&w.push(null),b.previous=a,a&&(a.next=b),a=b,i.defineSkip(b.start),i.write(w),e.parser.lazy[b.start.line]){let E=i.events.length;for(;E--;)if(i.events[E][1].start.offset<s&&(!i.events[E][1].end||i.events[E][1].end.offset>s))return;const A=e.events.length;let j=A,C,T;for(;j--;)if(e.events[j][0]==="exit"&&e.events[j][1].type==="chunkFlow"){if(C){T=e.events[j][1].end;break}C=!0}for(y(r),E=A;E<e.events.length;)e.events[E][1].end={...T},E++;hs(e.events,j+1,0,e.events.slice(A)),e.events.length=E}}function y(b){let _=n.length;for(;_-- >b;){const w=n[_];e.containerState=w[1],w[0].exit.call(e,t)}n.length=b}function x(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function i9e(t,e,n){return $t(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function y4(t){if(t===null||Ir(t)||Q8e(t))return 1;if(J8e(t))return 2}function _N(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const tC={name:"attention",resolveAll:a9e,tokenize:s9e};function a9e(t,e){let n=-1,r,i,a,s,o,l,c,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[r][1].end},h={...t[n][1].start};v4(f,-l),v4(h,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...t[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},t[r][1].end={...s.start},t[n][1].start={...o.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=Ei(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=Ei(c,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",a,e]]),c=Ei(c,_N(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=Ei(c,[["exit",a,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,c=Ei(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):d=0,hs(t,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function s9e(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=y4(r);let a;return s;function s(l){return a=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===a)return t.consume(l),o;const c=t.exit("attentionSequence"),d=y4(l),f=!d||d===2&&i||n.includes(l),h=!i||i===2&&d||n.includes(r);return c._open=!!(a===42?f:f&&(i||!h)),c._close=!!(a===42?h:h&&(d||!f)),e(l)}}function v4(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const o9e={name:"autolink",tokenize:l9e};function l9e(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(p){return qa(p)?(t.consume(p),s):p===64?n(p):c(p)}function s(p){return p===43||p===45||p===46||Jr(p)?(r=1,o(p)):c(p)}function o(p){return p===58?(t.consume(p),r=0,l):(p===43||p===45||p===46||Jr(p))&&r++<32?(t.consume(p),o):(r=0,c(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||QA(p)?n(p):(t.consume(p),l)}function c(p){return p===64?(t.consume(p),d):Y8e(p)?(t.consume(p),c):n(p)}function d(p){return Jr(p)?f(p):n(p)}function f(p){return p===46?(t.consume(p),r=0,d):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):h(p)}function h(p){if((p===45||Jr(p))&&r++<63){const m=p===45?h:f;return t.consume(p),m}return n(p)}}const Iw={partial:!0,tokenize:c9e};function c9e(t,e,n){return r;function r(a){return yt(a)?$t(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||He(a)?e(a):n(a)}}const dK={continuation:{tokenize:d9e},exit:f9e,name:"blockQuote",tokenize:u9e};function u9e(t,e,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),a}return n(s)}function a(s){return yt(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function d9e(t,e,n){const r=this;return i;function i(s){return yt(s)?$t(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return t.attempt(dK,e,n)(s)}}function f9e(t){t.exit("blockQuote")}const fK={name:"characterEscape",tokenize:h9e};function h9e(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return Z8e(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const hK={name:"characterReference",tokenize:p9e};function p9e(t,e,n){const r=this;let i=0,a,s;return o;function o(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),l}function l(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),a=31,s=Jr,d(f))}function c(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,s=X8e,d):(t.enter("characterReferenceValue"),a=7,s=eC,d(f))}function d(f){if(f===59&&i){const h=t.exit("characterReferenceValue");return s===Jr&&!wN(r.sliceSerialize(h))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(f)&&i++<a?(t.consume(f),d):n(f)}}const x4={partial:!0,tokenize:g9e},b4={concrete:!0,name:"codeFenced",tokenize:m9e};function m9e(t,e,n){const r=this,i={partial:!0,tokenize:w};let a=0,s=0,o;return l;function l(E){return c(E)}function c(E){const A=r.events[r.events.length-1];return a=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,o=E,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(E)}function d(E){return E===o?(s++,t.consume(E),d):s<3?n(E):(t.exit("codeFencedFenceSequence"),yt(E)?$t(t,f,"whitespace")(E):f(E))}function f(E){return E===null||He(E)?(t.exit("codeFencedFence"),r.interrupt?e(E):t.check(x4,g,_)(E)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(E))}function h(E){return E===null||He(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(E)):yt(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),$t(t,p,"whitespace")(E)):E===96&&E===o?n(E):(t.consume(E),h)}function p(E){return E===null||He(E)?f(E):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),m(E))}function m(E){return E===null||He(E)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(E)):E===96&&E===o?n(E):(t.consume(E),m)}function g(E){return t.attempt(i,_,v)(E)}function v(E){return t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),y}function y(E){return a>0&&yt(E)?$t(t,x,"linePrefix",a+1)(E):x(E)}function x(E){return E===null||He(E)?t.check(x4,g,_)(E):(t.enter("codeFlowValue"),b(E))}function b(E){return E===null||He(E)?(t.exit("codeFlowValue"),x(E)):(t.consume(E),b)}function _(E){return t.exit("codeFenced"),e(E)}function w(E,A,j){let C=0;return T;function T(B){return E.enter("lineEnding"),E.consume(B),E.exit("lineEnding"),O}function O(B){return E.enter("codeFencedFence"),yt(B)?$t(E,P,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):P(B)}function P(B){return B===o?(E.enter("codeFencedFenceSequence"),H(B)):j(B)}function H(B){return B===o?(C++,E.consume(B),H):C>=s?(E.exit("codeFencedFenceSequence"),yt(B)?$t(E,R,"whitespace")(B):R(B)):j(B)}function R(B){return B===null||He(B)?(E.exit("codeFencedFence"),A(B)):j(B)}}}function g9e(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const H1={name:"codeIndented",tokenize:v9e},y9e={partial:!0,tokenize:x9e};function v9e(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),$t(t,a,"linePrefix",5)(c)}function a(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?l(c):He(c)?t.attempt(y9e,s,l)(c):(t.enter("codeFlowValue"),o(c))}function o(c){return c===null||He(c)?(t.exit("codeFlowValue"),s(c)):(t.consume(c),o)}function l(c){return t.exit("codeIndented"),e(c)}}function x9e(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):He(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):$t(t,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):He(s)?i(s):n(s)}}const b9e={name:"codeText",previous:_9e,resolve:w9e,tokenize:S9e};function w9e(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function _9e(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function S9e(t,e,n){let r=0,i,a;return s;function s(f){return t.enter("codeText"),t.enter("codeTextSequence"),o(f)}function o(f){return f===96?(t.consume(f),r++,o):(t.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),l):f===96?(a=t.enter("codeTextSequence"),i=0,d(f)):He(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||He(f)?(t.exit("codeTextData"),l(f)):(t.consume(f),c)}function d(f){return f===96?(t.consume(f),i++,d):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(a.type="codeTextData",c(f))}}class E9e{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&wh(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),wh(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),wh(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);wh(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);wh(this.left,n.reverse())}}}function wh(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function pK(t){const e={};let n=-1,r,i,a,s,o,l,c;const d=new E9e(t);for(;++n<d.length;){for(;n in e;)n=e[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,j9e(d,n)),n=e[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=d.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return hs(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function j9e(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],c={};let d,f,h=-1,p=n,m=0,g=0;const v=[g];for(;p;){for(;t.get(++i)[1]!==p;);a.push(i),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),f&&s.defineSkip(p.start),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(g=h+1,v.push(g),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(s.events=[],p?(p._tokenizer=void 0,p.previous=void 0):v.pop(),h=v.length;h--;){const y=o.slice(v[h],v[h+1]),x=a.pop();l.push([x,x+y.length-1]),t.splice(x,2,y)}for(l.reverse(),h=-1;++h<l.length;)c[m+l[h][0]]=m+l[h][1],m+=l[h][1]-l[h][0]-1;return c}const A9e={resolve:T9e,tokenize:k9e},C9e={partial:!0,tokenize:O9e};function T9e(t){return pK(t),t}function k9e(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):He(o)?t.check(C9e,s,a)(o):(t.consume(o),i)}function a(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function s(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function O9e(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),$t(t,a,"linePrefix")}function a(s){if(s===null||He(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function mK(t,e,n,r,i,a,s,o,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(y){return y===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(y),t.exit(a),h):y===null||y===32||y===41||QA(y)?n(y):(t.enter(r),t.enter(s),t.enter(o),t.enter("chunkString",{contentType:"string"}),g(y))}function h(y){return y===62?(t.enter(a),t.consume(y),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===62?(t.exit("chunkString"),t.exit(o),h(y)):y===null||y===60||He(y)?n(y):(t.consume(y),y===92?m:p)}function m(y){return y===60||y===62||y===92?(t.consume(y),p):p(y)}function g(y){return!d&&(y===null||y===41||Ir(y))?(t.exit("chunkString"),t.exit(o),t.exit(s),t.exit(r),e(y)):d<c&&y===40?(t.consume(y),d++,g):y===41?(t.consume(y),d--,g):y===null||y===32||y===40||QA(y)?n(y):(t.consume(y),y===92?v:g)}function v(y){return y===40||y===41||y===92?(t.consume(y),g):g(y)}}function gK(t,e,n,r,i,a){const s=this;let o=0,l;return c;function c(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(a),d}function d(p){return o>999||p===null||p===91||p===93&&!l||p===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(p):p===93?(t.exit(a),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):He(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||He(p)||o++>999?(t.exit("chunkString"),d(p)):(t.consume(p),l||(l=!yt(p)),p===92?h:f)}function h(p){return p===91||p===92||p===93?(t.consume(p),o++,f):f(p)}}function yK(t,e,n,r,i,a){let s;return o;function o(h){return h===34||h===39||h===40?(t.enter(r),t.enter(i),t.consume(h),t.exit(i),s=h===40?41:h,l):n(h)}function l(h){return h===s?(t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):(t.enter(a),c(h))}function c(h){return h===s?(t.exit(a),l(s)):h===null?n(h):He(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),$t(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===s||h===null||He(h)?(t.exit("chunkString"),c(h)):(t.consume(h),h===92?f:d)}function f(h){return h===s||h===92?(t.consume(h),d):d(h)}}function fp(t,e){let n;return r;function r(i){return He(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):yt(i)?$t(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const N9e={name:"definition",tokenize:I9e},P9e={partial:!0,tokenize:$9e};function I9e(t,e,n){const r=this;let i;return a;function a(p){return t.enter("definition"),s(p)}function s(p){return gK.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return i=hd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):n(p)}function l(p){return Ir(p)?fp(t,c)(p):c(p)}function c(p){return mK(t,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return t.attempt(P9e,f,f)(p)}function f(p){return yt(p)?$t(t,h,"whitespace")(p):h(p)}function h(p){return p===null||He(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function $9e(t,e,n){return r;function r(o){return Ir(o)?fp(t,i)(o):n(o)}function i(o){return yK(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return yt(o)?$t(t,s,"whitespace")(o):s(o)}function s(o){return o===null||He(o)?e(o):n(o)}}const R9e={name:"hardBreakEscape",tokenize:M9e};function M9e(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return He(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const L9e={name:"headingAtx",resolve:D9e,tokenize:F9e};function D9e(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},hs(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function F9e(t,e,n){let r=0;return i;function i(d){return t.enter("atxHeading"),a(d)}function a(d){return t.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&r++<6?(t.consume(d),s):d===null||Ir(d)?(t.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(t.enter("atxHeadingSequence"),l(d)):d===null||He(d)?(t.exit("atxHeading"),e(d)):yt(d)?$t(t,o,"whitespace")(d):(t.enter("atxHeadingText"),c(d))}function l(d){return d===35?(t.consume(d),l):(t.exit("atxHeadingSequence"),o(d))}function c(d){return d===null||d===35||Ir(d)?(t.exit("atxHeadingText"),o(d)):(t.consume(d),c)}}const B9e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],w4=["pre","script","style","textarea"],z9e={concrete:!0,name:"htmlFlow",resolveTo:W9e,tokenize:V9e},U9e={partial:!0,tokenize:G9e},H9e={partial:!0,tokenize:q9e};function W9e(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function V9e(t,e,n){const r=this;let i,a,s,o,l;return c;function c($){return d($)}function d($){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume($),f}function f($){return $===33?(t.consume($),h):$===47?(t.consume($),a=!0,g):$===63?(t.consume($),i=3,r.interrupt?e:N):qa($)?(t.consume($),s=String.fromCharCode($),v):n($)}function h($){return $===45?(t.consume($),i=2,p):$===91?(t.consume($),i=5,o=0,m):qa($)?(t.consume($),i=4,r.interrupt?e:N):n($)}function p($){return $===45?(t.consume($),r.interrupt?e:N):n($)}function m($){const te="CDATA[";return $===te.charCodeAt(o++)?(t.consume($),o===te.length?r.interrupt?e:P:m):n($)}function g($){return qa($)?(t.consume($),s=String.fromCharCode($),v):n($)}function v($){if($===null||$===47||$===62||Ir($)){const te=$===47,ae=s.toLowerCase();return!te&&!a&&w4.includes(ae)?(i=1,r.interrupt?e($):P($)):B9e.includes(s.toLowerCase())?(i=6,te?(t.consume($),y):r.interrupt?e($):P($)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n($):a?x($):b($))}return $===45||Jr($)?(t.consume($),s+=String.fromCharCode($),v):n($)}function y($){return $===62?(t.consume($),r.interrupt?e:P):n($)}function x($){return yt($)?(t.consume($),x):T($)}function b($){return $===47?(t.consume($),T):$===58||$===95||qa($)?(t.consume($),_):yt($)?(t.consume($),b):T($)}function _($){return $===45||$===46||$===58||$===95||Jr($)?(t.consume($),_):w($)}function w($){return $===61?(t.consume($),E):yt($)?(t.consume($),w):b($)}function E($){return $===null||$===60||$===61||$===62||$===96?n($):$===34||$===39?(t.consume($),l=$,A):yt($)?(t.consume($),E):j($)}function A($){return $===l?(t.consume($),l=null,C):$===null||He($)?n($):(t.consume($),A)}function j($){return $===null||$===34||$===39||$===47||$===60||$===61||$===62||$===96||Ir($)?w($):(t.consume($),j)}function C($){return $===47||$===62||yt($)?b($):n($)}function T($){return $===62?(t.consume($),O):n($)}function O($){return $===null||He($)?P($):yt($)?(t.consume($),O):n($)}function P($){return $===45&&i===2?(t.consume($),U):$===60&&i===1?(t.consume($),W):$===62&&i===4?(t.consume($),V):$===63&&i===3?(t.consume($),N):$===93&&i===5?(t.consume($),D):He($)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(U9e,G,H)($)):$===null||He($)?(t.exit("htmlFlowData"),H($)):(t.consume($),P)}function H($){return t.check(H9e,R,G)($)}function R($){return t.enter("lineEnding"),t.consume($),t.exit("lineEnding"),B}function B($){return $===null||He($)?H($):(t.enter("htmlFlowData"),P($))}function U($){return $===45?(t.consume($),N):P($)}function W($){return $===47?(t.consume($),s="",M):P($)}function M($){if($===62){const te=s.toLowerCase();return w4.includes(te)?(t.consume($),V):P($)}return qa($)&&s.length<8?(t.consume($),s+=String.fromCharCode($),M):P($)}function D($){return $===93?(t.consume($),N):P($)}function N($){return $===62?(t.consume($),V):$===45&&i===2?(t.consume($),N):P($)}function V($){return $===null||He($)?(t.exit("htmlFlowData"),G($)):(t.consume($),V)}function G($){return t.exit("htmlFlow"),e($)}}function q9e(t,e,n){const r=this;return i;function i(s){return He(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function G9e(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Iw,e,n)}}const K9e={name:"htmlText",tokenize:Y9e};function Y9e(t,e,n){const r=this;let i,a,s;return o;function o(N){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(N),l}function l(N){return N===33?(t.consume(N),c):N===47?(t.consume(N),w):N===63?(t.consume(N),b):qa(N)?(t.consume(N),j):n(N)}function c(N){return N===45?(t.consume(N),d):N===91?(t.consume(N),a=0,m):qa(N)?(t.consume(N),x):n(N)}function d(N){return N===45?(t.consume(N),p):n(N)}function f(N){return N===null?n(N):N===45?(t.consume(N),h):He(N)?(s=f,W(N)):(t.consume(N),f)}function h(N){return N===45?(t.consume(N),p):f(N)}function p(N){return N===62?U(N):N===45?h(N):f(N)}function m(N){const V="CDATA[";return N===V.charCodeAt(a++)?(t.consume(N),a===V.length?g:m):n(N)}function g(N){return N===null?n(N):N===93?(t.consume(N),v):He(N)?(s=g,W(N)):(t.consume(N),g)}function v(N){return N===93?(t.consume(N),y):g(N)}function y(N){return N===62?U(N):N===93?(t.consume(N),y):g(N)}function x(N){return N===null||N===62?U(N):He(N)?(s=x,W(N)):(t.consume(N),x)}function b(N){return N===null?n(N):N===63?(t.consume(N),_):He(N)?(s=b,W(N)):(t.consume(N),b)}function _(N){return N===62?U(N):b(N)}function w(N){return qa(N)?(t.consume(N),E):n(N)}function E(N){return N===45||Jr(N)?(t.consume(N),E):A(N)}function A(N){return He(N)?(s=A,W(N)):yt(N)?(t.consume(N),A):U(N)}function j(N){return N===45||Jr(N)?(t.consume(N),j):N===47||N===62||Ir(N)?C(N):n(N)}function C(N){return N===47?(t.consume(N),U):N===58||N===95||qa(N)?(t.consume(N),T):He(N)?(s=C,W(N)):yt(N)?(t.consume(N),C):U(N)}function T(N){return N===45||N===46||N===58||N===95||Jr(N)?(t.consume(N),T):O(N)}function O(N){return N===61?(t.consume(N),P):He(N)?(s=O,W(N)):yt(N)?(t.consume(N),O):C(N)}function P(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(t.consume(N),i=N,H):He(N)?(s=P,W(N)):yt(N)?(t.consume(N),P):(t.consume(N),R)}function H(N){return N===i?(t.consume(N),i=void 0,B):N===null?n(N):He(N)?(s=H,W(N)):(t.consume(N),H)}function R(N){return N===null||N===34||N===39||N===60||N===61||N===96?n(N):N===47||N===62||Ir(N)?C(N):(t.consume(N),R)}function B(N){return N===47||N===62||Ir(N)?C(N):n(N)}function U(N){return N===62?(t.consume(N),t.exit("htmlTextData"),t.exit("htmlText"),e):n(N)}function W(N){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),M}function M(N){return yt(N)?$t(t,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):D(N)}function D(N){return t.enter("htmlTextData"),s(N)}}const SN={name:"labelEnd",resolveAll:Q9e,resolveTo:eHe,tokenize:tHe},X9e={tokenize:nHe},Z9e={tokenize:rHe},J9e={tokenize:iHe};function Q9e(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&hs(t,0,t.length,n),t}function eHe(t,e){let n=t.length,r=0,i,a,s,o;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[a][1].start},end:{...t[s][1].end}},d={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[s-2][1].start}};return o=[["enter",l,e],["enter",c,e]],o=Ei(o,t.slice(a+1,a+r+3)),o=Ei(o,[["enter",d,e]]),o=Ei(o,_N(e.parser.constructs.insideSpan.null,t.slice(a+r+4,s-3),e)),o=Ei(o,[["exit",d,e],t[s-2],t[s-1],["exit",c,e]]),o=Ei(o,t.slice(s+1)),o=Ei(o,[["exit",l,e]]),hs(t,a,t.length,o),t}function tHe(t,e,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(h){return a?a._inactive?f(h):(s=r.parser.defined.includes(hd(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),l):n(h)}function l(h){return h===40?t.attempt(X9e,d,s?d:f)(h):h===91?t.attempt(Z9e,d,s?c:f)(h):s?d(h):f(h)}function c(h){return t.attempt(J9e,d,f)(h)}function d(h){return e(h)}function f(h){return a._balanced=!0,n(h)}}function nHe(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),i}function i(f){return Ir(f)?fp(t,a)(f):a(f)}function a(f){return f===41?d(f):mK(t,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Ir(f)?fp(t,l)(f):d(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?yK(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return Ir(f)?fp(t,d)(f):d(f)}function d(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function rHe(t,e,n){const r=this;return i;function i(o){return gK.call(r,t,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(hd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function s(o){return n(o)}}function iHe(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const aHe={name:"labelStartImage",resolveAll:SN.resolveAll,tokenize:sHe};function sHe(t,e,n){const r=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),a}function a(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const oHe={name:"labelStartLink",resolveAll:SN.resolveAll,tokenize:lHe};function lHe(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const W1={name:"lineEnding",tokenize:cHe};function cHe(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),$t(t,e,"linePrefix")}}const lv={name:"thematicBreak",tokenize:uHe};function uHe(t,e,n){let r=0,i;return a;function a(c){return t.enter("thematicBreak"),s(c)}function s(c){return i=c,o(c)}function o(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||He(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),yt(c)?$t(t,o,"whitespace")(c):o(c))}}const wr={continuation:{tokenize:pHe},exit:gHe,name:"list",tokenize:hHe},dHe={partial:!0,tokenize:yHe},fHe={partial:!0,tokenize:mHe};function hHe(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(p){const m=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:eC(p)){if(r.containerState.type||(r.containerState.type=m,t.enter(m,{_container:!0})),m==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(lv,n,c)(p):c(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return n(p)}function l(p){return eC(p)&&++s<10?(t.consume(p),l):(!r.interrupt||s<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),c(p)):n(p)}function c(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(Iw,r.interrupt?n:d,t.attempt(dHe,h,f))}function d(p){return r.containerState.initialBlankLine=!0,a++,h(p)}function f(p){return yt(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function pHe(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Iw,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,$t(t,e,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!yt(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(fHe,e,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,$t(t,t.attempt(wr,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function mHe(t,e,n){const r=this;return $t(t,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(a):n(a)}}function gHe(t){t.exit(this.containerState.type)}function yHe(t,e,n){const r=this;return $t(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!yt(a)&&s&&s[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const _4={name:"setextUnderline",resolveTo:vHe,tokenize:xHe};function vHe(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",s,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=s,t.push(["exit",s,e]),t}function xHe(t,e,n){const r=this;let i;return a;function a(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),i=c,s(c)):n(c)}function s(c){return t.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(t.consume(c),o):(t.exit("setextHeadingLineSequence"),yt(c)?$t(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||He(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const bHe={tokenize:wHe};function wHe(t){const e=this,n=t.attempt(Iw,r,t.attempt(this.parser.constructs.flowInitial,i,$t(t,t.attempt(this.parser.constructs.flow,i,t.attempt(A9e,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const _He={resolveAll:xK()},SHe=vK("string"),EHe=vK("text");function vK(t){return{resolveAll:xK(t==="text"?jHe:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,s,o);return s;function s(d){return c(d)?a(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),a(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const p=f[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function xK(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function jHe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(c===-2)l=!0,o++;else if(c!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(o=0),o){const c={type:n===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const AHe={42:wr,43:wr,45:wr,48:wr,49:wr,50:wr,51:wr,52:wr,53:wr,54:wr,55:wr,56:wr,57:wr,62:dK},CHe={91:N9e},THe={[-2]:H1,[-1]:H1,32:H1},kHe={35:L9e,42:lv,45:[_4,lv],60:z9e,61:_4,95:lv,96:b4,126:b4},OHe={38:hK,92:fK},NHe={[-5]:W1,[-4]:W1,[-3]:W1,33:aHe,38:hK,42:tC,60:[o9e,K9e],91:oHe,92:[R9e,fK],93:SN,95:tC,96:b9e},PHe={null:[tC,_He]},IHe={null:[42,95]},$He={null:[]},RHe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:IHe,contentInitial:CHe,disable:$He,document:AHe,flow:kHe,flowInitial:THe,insideSpan:PHe,string:OHe,text:NHe},Symbol.toStringTag,{value:"Module"}));function MHe(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:A(w),check:A(E),consume:x,enter:b,exit:_,interrupt:A(E,{interrupt:!0})},c={code:null,containerState:{},defineSkip:g,events:[],now:m,parser:t,previous:null,sliceSerialize:h,sliceStream:p,write:f};let d=e.tokenize.call(c,l);return e.resolveAll&&a.push(e),c;function f(O){return s=Ei(s,O),v(),s[s.length-1]!==null?[]:(j(e,0),c.events=_N(a,c.events,c),c.events)}function h(O,P){return DHe(p(O),P)}function p(O){return LHe(s,O)}function m(){const{_bufferIndex:O,_index:P,line:H,column:R,offset:B}=r;return{_bufferIndex:O,_index:P,line:H,column:R,offset:B}}function g(O){i[O.line]=O.column,T()}function v(){let O;for(;r._index<s.length;){const P=s[r._index];if(typeof P=="string")for(O=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===O&&r._bufferIndex<P.length;)y(P.charCodeAt(r._bufferIndex));else y(P)}}function y(O){d=d(O)}function x(O){He(O)?(r.line++,r.column=1,r.offset+=O===-3?2:1,T()):O!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=O}function b(O,P){const H=P||{};return H.type=O,H.start=m(),c.events.push(["enter",H,c]),o.push(H),H}function _(O){const P=o.pop();return P.end=m(),c.events.push(["exit",P,c]),P}function w(O,P){j(O,P.from)}function E(O,P){P.restore()}function A(O,P){return H;function H(R,B,U){let W,M,D,N;return Array.isArray(R)?G(R):"tokenize"in R?G([R]):V(R);function V(I){return k;function k(K){const F=K!==null&&I[K],Z=K!==null&&I.null,J=[...Array.isArray(F)?F:F?[F]:[],...Array.isArray(Z)?Z:Z?[Z]:[]];return G(J)(K)}}function G(I){return W=I,M=0,I.length===0?U:$(I[M])}function $(I){return k;function k(K){return N=C(),D=I,I.partial||(c.currentConstruct=I),I.name&&c.parser.constructs.disable.null.includes(I.name)?ae():I.tokenize.call(P?Object.assign(Object.create(c),P):c,l,te,ae)(K)}}function te(I){return O(D,N),B}function ae(I){return N.restore(),++M<W.length?$(W[M]):U}}}function j(O,P){O.resolveAll&&!a.includes(O)&&a.push(O),O.resolve&&hs(c.events,P,c.events.length-P,O.resolve(c.events.slice(P),c)),O.resolveTo&&(c.events=O.resolveTo(c.events,c))}function C(){const O=m(),P=c.previous,H=c.currentConstruct,R=c.events.length,B=Array.from(o);return{from:R,restore:U};function U(){r=O,c.previous=P,c.currentConstruct=H,c.events.length=R,o=B,T()}}function T(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function LHe(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,a)];else{if(s=t.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(t[i].slice(0,a))}return s}function DHe(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function FHe(t){const r={constructs:q8e([RHe,...(t||{}).extensions||[]]),content:i(e9e),defined:[],document:i(n9e),flow:i(bHe),lazy:{},string:i(SHe),text:i(EHe)};return r;function i(a){return s;function s(o){return MHe(r,a,o)}}}function BHe(t){for(;!pK(t););return t}const S4=/[\0\t\n\r]/g;function zHe(){let t=1,e="",n=!0,r;return i;function i(a,s,o){const l=[];let c,d,f,h,p;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,e="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(S4.lastIndex=f,c=S4.exec(a),h=c&&c.index!==void 0?c.index:a.length,p=a.charCodeAt(h),!c){e=a.slice(f);break}if(p===10&&f===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<h&&(l.push(a.slice(f,h)),t+=h-f),p){case 0:{l.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,l.push(-2);t++<d;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}f=h+1}return o&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const UHe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function HHe(t){return t.replace(UHe,WHe)}function WHe(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return uK(n.slice(a?2:1),a?16:10)}return wN(n)||t}const bK={}.hasOwnProperty;function VHe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),qHe(n)(BHe(FHe(n).document().write(zHe()(t,e,!0))))}function qHe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Ie),autolinkProtocol:C,autolinkEmail:C,atxHeading:a(ye),blockQuote:a(Z),characterEscape:C,characterReference:C,codeFenced:a(J),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(J,s),codeText:a(Y,s),codeTextData:C,data:C,codeFlowValue:C,definition:a(ge),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(ce),hardBreakEscape:a(se),hardBreakTrailing:a(se),htmlFlow:a(Re,s),htmlFlowData:C,htmlText:a(Re,s),htmlTextData:C,image:a(Me),label:s,link:a(Ie),listItem:a(Ct),listItemValue:h,listOrdered:a(re,f),listUnordered:a(re),paragraph:a(we),reference:$,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(ye),strong:a(ve),thematicBreak:a(me)},exit:{atxHeading:l(),atxHeadingSequence:w,autolink:l(),autolinkEmail:F,autolinkProtocol:K,blockQuote:l(),characterEscapeValue:T,characterReferenceMarkerHexadecimal:ae,characterReferenceMarkerNumeric:ae,characterReferenceValue:I,characterReference:k,codeFenced:l(v),codeFencedFence:g,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:T,codeIndented:l(y),codeText:l(B),codeTextData:T,data:T,definition:l(),definitionDestinationString:_,definitionLabelString:x,definitionTitleString:b,emphasis:l(),hardBreakEscape:l(P),hardBreakTrailing:l(P),htmlFlow:l(H),htmlFlowData:T,htmlText:l(R),htmlTextData:T,image:l(W),label:D,labelText:M,lineEnding:O,link:l(U),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:te,resourceDestinationString:N,resourceTitleString:V,resource:G,setextHeading:l(j),setextHeadingLineSequence:A,setextHeadingText:E,strong:l(),thematicBreak:l()}};wK(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(q){let X={type:"root",children:[]};const ie={stack:[X],tokenStack:[],config:e,enter:o,exit:c,buffer:s,resume:d,data:n},ke=[];let lt=-1;for(;++lt<q.length;)if(q[lt][1].type==="listOrdered"||q[lt][1].type==="listUnordered")if(q[lt][0]==="enter")ke.push(lt);else{const Gt=ke.pop();lt=i(q,Gt,lt)}for(lt=-1;++lt<q.length;){const Gt=e[q[lt][0]];bK.call(Gt,q[lt][1].type)&&Gt[q[lt][1].type].call(Object.assign({sliceSerialize:q[lt][2].sliceSerialize},ie),q[lt][1])}if(ie.tokenStack.length>0){const Gt=ie.tokenStack[ie.tokenStack.length-1];(Gt[1]||E4).call(ie,void 0,Gt[0])}for(X.position={start:wo(q.length>0?q[0][1].start:{line:1,column:1,offset:0}),end:wo(q.length>0?q[q.length-2][1].end:{line:1,column:1,offset:0})},lt=-1;++lt<e.transforms.length;)X=e.transforms[lt](X)||X;return X}function i(q,X,ie){let ke=X-1,lt=-1,Gt=!1,ln,Tn,Oa,xs;for(;++ke<=ie;){const Qt=q[ke];switch(Qt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Qt[0]==="enter"?lt++:lt--,xs=void 0;break}case"lineEndingBlank":{Qt[0]==="enter"&&(ln&&!xs&&!lt&&!Oa&&(Oa=ke),xs=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:xs=void 0}if(!lt&&Qt[0]==="enter"&&Qt[1].type==="listItemPrefix"||lt===-1&&Qt[0]==="exit"&&(Qt[1].type==="listUnordered"||Qt[1].type==="listOrdered")){if(ln){let po=ke;for(Tn=void 0;po--;){const Be=q[po];if(Be[1].type==="lineEnding"||Be[1].type==="lineEndingBlank"){if(Be[0]==="exit")continue;Tn&&(q[Tn][1].type="lineEndingBlank",Gt=!0),Be[1].type="lineEnding",Tn=po}else if(!(Be[1].type==="linePrefix"||Be[1].type==="blockQuotePrefix"||Be[1].type==="blockQuotePrefixWhitespace"||Be[1].type==="blockQuoteMarker"||Be[1].type==="listItemIndent"))break}Oa&&(!Tn||Oa<Tn)&&(ln._spread=!0),ln.end=Object.assign({},Tn?q[Tn][1].start:Qt[1].end),q.splice(Tn||ke,0,["exit",ln,Qt[2]]),ke++,ie++}if(Qt[1].type==="listItemPrefix"){const po={type:"listItem",_spread:!1,start:Object.assign({},Qt[1].start),end:void 0};ln=po,q.splice(ke,0,["enter",po,Qt[2]]),ke++,ie++,Oa=void 0,xs=!0}}}return q[X][1]._spread=Gt,ie}function a(q,X){return ie;function ie(ke){o.call(this,q(ke),ke),X&&X.call(this,ke)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(q,X,ie){this.stack[this.stack.length-1].children.push(q),this.stack.push(q),this.tokenStack.push([X,ie||void 0]),q.position={start:wo(X.start),end:void 0}}function l(q){return X;function X(ie){q&&q.call(this,ie),c.call(this,ie)}}function c(q,X){const ie=this.stack.pop(),ke=this.tokenStack.pop();if(ke)ke[0].type!==q.type&&(X?X.call(this,q,ke[0]):(ke[1]||E4).call(this,q,ke[0]));else throw new Error("Cannot close `"+q.type+"` ("+dp({start:q.start,end:q.end})+"): its not open");ie.position.end=wo(q.end)}function d(){return W8e(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(q){if(this.data.expectingFirstListItemValue){const X=this.stack[this.stack.length-2];X.start=Number.parseInt(this.sliceSerialize(q),10),this.data.expectingFirstListItemValue=void 0}}function p(){const q=this.resume(),X=this.stack[this.stack.length-1];X.lang=q}function m(){const q=this.resume(),X=this.stack[this.stack.length-1];X.meta=q}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const q=this.resume(),X=this.stack[this.stack.length-1];X.value=q.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const q=this.resume(),X=this.stack[this.stack.length-1];X.value=q.replace(/(\r?\n|\r)$/g,"")}function x(q){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.label=X,ie.identifier=hd(this.sliceSerialize(q)).toLowerCase()}function b(){const q=this.resume(),X=this.stack[this.stack.length-1];X.title=q}function _(){const q=this.resume(),X=this.stack[this.stack.length-1];X.url=q}function w(q){const X=this.stack[this.stack.length-1];if(!X.depth){const ie=this.sliceSerialize(q).length;X.depth=ie}}function E(){this.data.setextHeadingSlurpLineEnding=!0}function A(q){const X=this.stack[this.stack.length-1];X.depth=this.sliceSerialize(q).codePointAt(0)===61?1:2}function j(){this.data.setextHeadingSlurpLineEnding=void 0}function C(q){const ie=this.stack[this.stack.length-1].children;let ke=ie[ie.length-1];(!ke||ke.type!=="text")&&(ke=be(),ke.position={start:wo(q.start),end:void 0},ie.push(ke)),this.stack.push(ke)}function T(q){const X=this.stack.pop();X.value+=this.sliceSerialize(q),X.position.end=wo(q.end)}function O(q){const X=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ie=X.children[X.children.length-1];ie.position.end=wo(q.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(X.type)&&(C.call(this,q),T.call(this,q))}function P(){this.data.atHardBreak=!0}function H(){const q=this.resume(),X=this.stack[this.stack.length-1];X.value=q}function R(){const q=this.resume(),X=this.stack[this.stack.length-1];X.value=q}function B(){const q=this.resume(),X=this.stack[this.stack.length-1];X.value=q}function U(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const X=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=X,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function W(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const X=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=X,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function M(q){const X=this.sliceSerialize(q),ie=this.stack[this.stack.length-2];ie.label=HHe(X),ie.identifier=hd(X).toLowerCase()}function D(){const q=this.stack[this.stack.length-1],X=this.resume(),ie=this.stack[this.stack.length-1];if(this.data.inReference=!0,ie.type==="link"){const ke=q.children;ie.children=ke}else ie.alt=X}function N(){const q=this.resume(),X=this.stack[this.stack.length-1];X.url=q}function V(){const q=this.resume(),X=this.stack[this.stack.length-1];X.title=q}function G(){this.data.inReference=void 0}function $(){this.data.referenceType="collapsed"}function te(q){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.label=X,ie.identifier=hd(this.sliceSerialize(q)).toLowerCase(),this.data.referenceType="full"}function ae(q){this.data.characterReferenceType=q.type}function I(q){const X=this.sliceSerialize(q),ie=this.data.characterReferenceType;let ke;ie?(ke=uK(X,ie==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ke=wN(X);const lt=this.stack[this.stack.length-1];lt.value+=ke}function k(q){const X=this.stack.pop();X.position.end=wo(q.end)}function K(q){T.call(this,q);const X=this.stack[this.stack.length-1];X.url=this.sliceSerialize(q)}function F(q){T.call(this,q);const X=this.stack[this.stack.length-1];X.url="mailto:"+this.sliceSerialize(q)}function Z(){return{type:"blockquote",children:[]}}function J(){return{type:"code",lang:null,meta:null,value:""}}function Y(){return{type:"inlineCode",value:""}}function ge(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ce(){return{type:"emphasis",children:[]}}function ye(){return{type:"heading",depth:0,children:[]}}function se(){return{type:"break"}}function Re(){return{type:"html",value:""}}function Me(){return{type:"image",title:null,url:"",alt:null}}function Ie(){return{type:"link",title:null,url:"",children:[]}}function re(q){return{type:"list",ordered:q.type==="listOrdered",start:null,spread:q._spread,children:[]}}function Ct(q){return{type:"listItem",spread:q._spread,checked:null,children:[]}}function we(){return{type:"paragraph",children:[]}}function ve(){return{type:"strong",children:[]}}function be(){return{type:"text",value:""}}function me(){return{type:"thematicBreak"}}}function wo(t){return{line:t.line,column:t.column,offset:t.offset}}function wK(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?wK(t,r):GHe(t,r)}}function GHe(t,e){let n;for(n in e)if(bK.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function E4(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+dp({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+dp({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+dp({start:e.start,end:e.end})+") is still open")}function KHe(t){const e=this;e.parser=n;function n(r){return VHe(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function YHe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function XHe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function ZHe(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function JHe(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function QHe(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function e7e(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Yf(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let s,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=a+1,o+=1,t.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function t7e(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function n7e(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function _K(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function r7e(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return _K(t,e);const i={src:Yf(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function i7e(t,e){const n={src:Yf(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function a7e(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function s7e(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return _K(t,e);const i={href:Yf(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function o7e(t,e){const n={href:Yf(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function l7e(t,e,n){const r=t.all(e),i=n?c7e(n):SK(e),a={},s=[];if(typeof e.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?s.push(...d.children):s.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:s};return t.patch(e,c),t.applyData(e,c)}function c7e(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=SK(n[r])}return e}function SK(t){const e=t.spread;return e??t.children.length>1}function u7e(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function d7e(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function f7e(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function h7e(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function p7e(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=yN(e.children[1]),l=rK(e.children[e.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function m7e(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:e.children.length;let l=-1;const c=[];for(;++l<o;){const f=e.children[l],h={},p=s?s[l]:void 0;p&&(h.align=p);let m={type:"element",tagName:a,properties:h,children:[]};f&&(m.children=t.all(f),t.patch(f,m),m=t.applyData(f,m)),c.push(m)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,d),t.applyData(e,d)}function g7e(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const j4=9,A4=32;function y7e(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(C4(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(C4(e.slice(i),i>0,!1)),a.join("")}function C4(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===j4||a===A4;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===j4||a===A4;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function v7e(t,e){const n={type:"text",value:y7e(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function x7e(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const b7e={blockquote:YHe,break:XHe,code:ZHe,delete:JHe,emphasis:QHe,footnoteReference:e7e,heading:t7e,html:n7e,imageReference:r7e,image:i7e,inlineCode:a7e,linkReference:s7e,link:o7e,listItem:l7e,list:u7e,paragraph:d7e,root:f7e,strong:h7e,table:p7e,tableCell:g7e,tableRow:m7e,text:v7e,thematicBreak:x7e,toml:$y,yaml:$y,definition:$y,footnoteDefinition:$y};function $y(){}const EK=-1,$w=0,hp=1,yx=2,EN=3,jN=4,AN=5,CN=6,jK=7,AK=8,T4=typeof self=="object"?self:globalThis,w7e=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,s]=e[i];switch(a){case $w:case EK:return n(s,i);case hp:{const o=n([],i);for(const l of s)o.push(r(l));return o}case yx:{const o=n({},i);for(const[l,c]of s)o[r(l)]=r(c);return o}case EN:return n(new Date(s),i);case jN:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case AN:{const o=n(new Map,i);for(const[l,c]of s)o.set(r(l),r(c));return o}case CN:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case jK:{const{name:o,message:l}=s;return n(new T4[o](l),i)}case AK:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new T4[a](s),i)};return r},k4=t=>w7e(new Map,t)(0),bu="",{toString:_7e}={},{keys:S7e}=Object,_h=t=>{const e=typeof t;if(e!=="object"||!t)return[$w,e];const n=_7e.call(t).slice(8,-1);switch(n){case"Array":return[hp,bu];case"Object":return[yx,bu];case"Date":return[EN,bu];case"RegExp":return[jN,bu];case"Map":return[AN,bu];case"Set":return[CN,bu];case"DataView":return[hp,n]}return n.includes("Array")?[hp,n]:n.includes("Error")?[jK,n]:[yx,n]},Ry=([t,e])=>t===$w&&(e==="function"||e==="symbol"),E7e=(t,e,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=_h(s);switch(o){case $w:{let d=s;switch(l){case"bigint":o=AK,d=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([EK],s)}return i([o,d],s)}case hp:{if(l){let h=s;return l==="DataView"?h=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(s)),i([l,[...h]],s)}const d=[],f=i([o,d],s);for(const h of s)d.push(a(h));return f}case yx:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(e&&"toJSON"in s)return a(s.toJSON());const d=[],f=i([o,d],s);for(const h of S7e(s))(t||!Ry(_h(s[h])))&&d.push([a(h),a(s[h])]);return f}case EN:return i([o,s.toISOString()],s);case jN:{const{source:d,flags:f}=s;return i([o,{source:d,flags:f}],s)}case AN:{const d=[],f=i([o,d],s);for(const[h,p]of s)(t||!(Ry(_h(h))||Ry(_h(p))))&&d.push([a(h),a(p)]);return f}case CN:{const d=[],f=i([o,d],s);for(const h of s)(t||!Ry(_h(h)))&&d.push(a(h));return f}}const{message:c}=s;return i([o,{name:l,message:c}],s)};return a},O4=(t,{json:e,lossy:n}={})=>{const r=[];return E7e(!(e||n),!!e,new Map,r)(t),r},vx=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?k4(O4(t,e)):structuredClone(t):(t,e)=>k4(O4(t,e));function j7e(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function A7e(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function C7e(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||j7e,r=t.options.footnoteBackLabel||A7e,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const d=t.all(c),f=String(c.identifier).toUpperCase(),h=Yf(f.toLowerCase());let p=0;const m=[],g=t.footnoteCounts.get(f);for(;g!==void 0&&++p<=g;){m.length>0&&m.push({type:"text",value:" "});let x=typeof n=="string"?n:n(l,p);typeof x=="string"&&(x={type:"text",value:x}),m.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const v=d[d.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const x=v.children[v.children.length-1];x&&x.type==="text"?x.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...m)}else d.push(...m);const y={type:"element",tagName:"li",properties:{id:e+"fn-"+h},children:t.wrap(d,!0)};t.patch(c,y),o.push(y)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...vx(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const CK=function(t){if(t==null)return N7e;if(typeof t=="function")return Rw(t);if(typeof t=="object")return Array.isArray(t)?T7e(t):k7e(t);if(typeof t=="string")return O7e(t);throw new Error("Expected function, string, or object as test")};function T7e(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=CK(t[n]);return Rw(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function k7e(t){const e=t;return Rw(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function O7e(t){return Rw(e);function e(n){return n&&n.type===t}}function Rw(t){return e;function e(n,r,i){return!!(P7e(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function N7e(){return!0}function P7e(t){return t!==null&&typeof t=="object"&&"type"in t}const TK=[],I7e=!0,N4=!1,$7e="skip";function R7e(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=CK(i),s=r?-1:1;o(t,void 0,[])();function o(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=TK,m,g,v;if((!e||a(l,c,d[d.length-1]||void 0))&&(p=M7e(n(l,d)),p[0]===N4))return p;if("children"in l&&l.children){const y=l;if(y.children&&p[0]!==$7e)for(g=(r?y.children.length:-1)+s,v=d.concat(y);g>-1&&g<y.children.length;){const x=y.children[g];if(m=o(x,g,v)(),m[0]===N4)return m;g=typeof m[1]=="number"?m[1]:g+s}}return p}}}function M7e(t){return Array.isArray(t)?t:typeof t=="number"?[I7e,t]:t==null?TK:[t]}function kK(t,e,n,r){let i,a,s;typeof e=="function"&&typeof n!="function"?(a=void 0,s=e,i=n):(a=e,s=n,i=r),R7e(t,a,o,i);function o(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return s(l,f,d)}}const nC={}.hasOwnProperty,L7e={};function D7e(t,e){const n=e||L7e,r=new Map,i=new Map,a=new Map,s={...b7e,...n.handlers},o={all:c,applyData:B7e,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:F7e,wrap:U7e};return kK(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),o;function l(d,f){const h=d.type,p=o.handlers[h];if(nC.call(o.handlers,h)&&p)return p(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:g,...v}=d,y=vx(v);return y.children=o.all(d),y}return vx(d)}return(o.options.unknownHandler||z7e)(o,d,f)}function c(d){const f=[];if("children"in d){const h=d.children;let p=-1;for(;++p<h.length;){const m=o.one(h[p],d);if(m){if(p&&h[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=P4(m.value)),!Array.isArray(m)&&m.type==="element")){const g=m.children[0];g&&g.type==="text"&&(g.value=P4(g.value))}Array.isArray(m)?f.push(...m):f.push(m)}}}return f}}function F7e(t,e){t.position&&(e.position=_8e(t))}function B7e(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,vx(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function z7e(t,e){const n=e.data||{},r="value"in e&&!(nC.call(n,"hProperties")||nC.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function U7e(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function P4(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function I4(t,e){const n=D7e(t,e),r=n.one(t,void 0),i=C7e(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function H7e(t,e){return t&&"run"in t?async function(n,r){const i=I4(n,{file:r,...e});await t.run(i,r)}:function(n,r){return I4(n,{file:r,...t||e})}}function $4(t){if(t)throw t}var cv=Object.prototype.hasOwnProperty,OK=Object.prototype.toString,R4=Object.defineProperty,M4=Object.getOwnPropertyDescriptor,L4=function(e){return typeof Array.isArray=="function"?Array.isArray(e):OK.call(e)==="[object Array]"},D4=function(e){if(!e||OK.call(e)!=="[object Object]")return!1;var n=cv.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&cv.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||cv.call(e,i)},F4=function(e,n){R4&&n.name==="__proto__"?R4(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},B4=function(e,n){if(n==="__proto__")if(cv.call(e,n)){if(M4)return M4(e,n).value}else return;return e[n]},W7e=function t(){var e,n,r,i,a,s,o=arguments[0],l=1,c=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=B4(o,n),i=B4(e,n),o!==i&&(d&&i&&(D4(i)||(a=L4(i)))?(a?(a=!1,s=r&&L4(r)?r:[]):s=r&&D4(r)?r:{},F4(o,{name:n,newValue:t(d,s,i)})):typeof i<"u"&&F4(o,{name:n,newValue:i}));return o};const V1=at(W7e);function rC(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function V7e(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...c){const d=t[++a];let f=-1;if(l){s(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,d?q7e(d,o)(...c):s(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function q7e(t,e){let n;return r;function r(...s){const o=t.length>s.length;let l;o&&s.push(i);try{l=t.apply(this,s)}catch(c){const d=c;if(o&&n)throw d;return i(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,e(s,...o))}function a(s){i(null,s)}}const Fa={basename:G7e,dirname:K7e,extname:Y7e,join:X7e,sep:"/"};function G7e(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');jg(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function K7e(t){if(jg(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Y7e(t){jg(t);let e=t.length,n=-1,r=0,i=-1,a=0,s;for(;e--;){const o=t.codePointAt(e);if(o===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),o===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function X7e(...t){let e=-1,n;for(;++e<t.length;)jg(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Z7e(n)}function Z7e(t){jg(t);const e=t.codePointAt(0)===47;let n=J7e(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function J7e(t,e){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=t.length;){if(s<t.length)o=t.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function jg(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Q7e={cwd:eWe};function eWe(){return"/"}function iC(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function tWe(t){if(typeof t=="string")t=new URL(t);else if(!iC(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return nWe(t)}function nWe(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const q1=["history","path","basename","stem","extname","dirname"];class NK{constructor(e){let n;e?iC(e)?n={path:e}:typeof e=="string"||rWe(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Q7e.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<q1.length;){const a=q1[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)q1.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Fa.basename(this.path):void 0}set basename(e){K1(e,"basename"),G1(e,"basename"),this.path=Fa.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Fa.dirname(this.path):void 0}set dirname(e){z4(this.basename,"dirname"),this.path=Fa.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Fa.extname(this.path):void 0}set extname(e){if(G1(e,"extname"),z4(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Fa.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){iC(e)&&(e=tWe(e)),K1(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Fa.basename(this.path,this.extname):void 0}set stem(e){K1(e,"stem"),G1(e,"stem"),this.path=Fa.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new tr(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function G1(t,e){if(t&&t.includes(Fa.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Fa.sep+"`")}function K1(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function z4(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function rWe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const iWe=function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},aWe={}.hasOwnProperty;class TN extends iWe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=V7e()}copy(){const e=new TN;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(V1(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Z1("data",this.frozen),this.namespace[e]=n,this):aWe.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Z1("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=My(e),r=this.parser||this.Parser;return Y1("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Y1("process",this.parser||this.Parser),X1("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=My(e),l=r.parse(o);r.run(l,o,function(d,f,h){if(d||!f||!h)return c(d);const p=f,m=r.stringify(p,h);lWe(m)?h.value=m:h.result=m,c(d,h)});function c(d,f){d||!f?s(d):a?a(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),Y1("processSync",this.parser||this.Parser),X1("processSync",this.compiler||this.Compiler),this.process(e,i),H4("processSync","process",n),r;function i(a,s){n=!0,$4(a),r=s}}run(e,n,r){U4(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=My(n);i.run(e,l,c);function c(d,f,h){const p=f||e;d?o(d):s?s(p):r(void 0,p,h)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),H4("runSync","run",r),i;function a(s,o){$4(s),i=o,r=!0}}stringify(e,n){this.freeze();const r=My(n),i=this.compiler||this.Compiler;return X1("stringify",i),U4(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Z1("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=V1(!0,i.settings,c.settings))}function o(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];a(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===c){h=f;break}if(h===-1)r.push([c,...d]);else if(d.length>0){let[p,...m]=d;const g=r[h][1];rC(g)&&rC(p)&&(p=V1(!0,g,p)),r[h]=[c,p,...m]}}}}const sWe=new TN().freeze();function Y1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function X1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Z1(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function U4(t){if(!rC(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function H4(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function My(t){return oWe(t)?t:new NK(t)}function oWe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function lWe(t){return typeof t=="string"||cWe(t)}function cWe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const uWe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",W4=[],V4={allowDangerousHtml:!0},dWe=/^(https?|ircs?|mailto|xmpp)$/i,fWe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function hWe(t){const e=pWe(t),n=mWe(t);return gWe(e.runSync(e.parse(n),n),t)}function pWe(t){const e=t.rehypePlugins||W4,n=t.remarkPlugins||W4,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...V4}:V4;return sWe().use(KHe).use(n).use(H7e,r).use(e)}function mWe(t){const e=t.children||"",n=new NK;return typeof e=="string"&&(n.value=e),n}function gWe(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,a=e.disallowedElements,s=e.skipHtml,o=e.unwrapDisallowed,l=e.urlTransform||yWe;for(const d of fWe)Object.hasOwn(e,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+uWe+d.id,void 0);return kK(t,c),C8e(t,{Fragment:u.Fragment,components:i,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return s?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let p;for(p in U1)if(Object.hasOwn(U1,p)&&Object.hasOwn(d.properties,p)){const m=d.properties[p],g=U1[p];(g===null||g.includes(d.tagName))&&(d.properties[p]=l(String(m||""),p,d))}}if(d.type==="element"){let p=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!p&&r&&typeof f=="number"&&(p=!r(d,f,h)),p&&h&&typeof f=="number")return o&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function yWe(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||dWe.test(t.slice(0,e))?t:""}const vWe=()=>{const[t,e]=S.useState("counseling"),[n,r]=S.useState(!1),[i,a]=S.useState(null),[s,o]=S.useState({gpa:void 0,sat:void 0,act:void 0,extracurriculars:"",interests:"",targetMajor:"",location:""}),{toast:l}=Mt(),{user:c}=zn(),d=async()=>{var h,p;if(!c){l({title:"Authentication required",description:"Please sign in to use the counseling crew",variant:"destructive"});return}r(!0),a(null);try{const m={...s,extracurriculars:((h=s.extracurriculars)==null?void 0:h.split(",").map(y=>y.trim()))||[],interests:((p=s.interests)==null?void 0:p.split(",").map(y=>y.trim()))||[]},{data:g,error:v}=await ze.functions.invoke("college-counseling-crew",{body:{crewType:"counseling",profile:m}});if(v)throw v;if(g.success)a(g.output),l({title:"Analysis Complete",description:"Your personalized college counseling report is ready"});else throw new Error(g.error||"Failed to generate report")}catch(m){console.error("Error running counseling crew:",m),l({title:"Error",description:m instanceof Error?m.message:"Failed to generate counseling report",variant:"destructive"})}finally{r(!1)}},f=async()=>{if(!c){l({title:"Authentication required",description:"Please sign in to use the operations crew",variant:"destructive"});return}r(!0),a(null);try{const{data:h,error:p}=await ze.functions.invoke("college-counseling-crew",{body:{crewType:"operations",userId:c.id}});if(p)throw p;if(h.success)a(h.output),l({title:"Analysis Complete",description:"Your campaign strategy report is ready"});else throw new Error(h.error||"Failed to generate report")}catch(h){console.error("Error running operations crew:",h),l({title:"Error",description:h instanceof Error?h.message:"Failed to generate operations report",variant:"destructive"})}finally{r(!1)}};return u.jsxs(ee,{className:"w-full",children:[u.jsx(We,{children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-ai-gradient rounded-lg flex items-center justify-center",children:u.jsx(Mi,{className:"w-6 h-6 text-white"})}),u.jsxs("div",{children:[u.jsx(Ve,{className:"text-2xl",children:"Autonomous AI Counseling Crew"}),u.jsx(Xr,{children:"Multi-agent system with RAG and real-time data integration"})]})]})}),u.jsxs(Le,{children:[u.jsxs($l,{value:t,onValueChange:h=>e(h),children:[u.jsxs(co,{className:"grid w-full grid-cols-2",children:[u.jsxs(ct,{value:"counseling",className:"gap-2",children:[u.jsx(Ea,{className:"w-4 h-4"}),"Personalized Counseling"]}),u.jsxs(ct,{value:"operations",className:"gap-2",children:[u.jsx(Xn,{className:"w-4 h-4"}),"Campaign Operations"]})]}),u.jsxs(ut,{value:"counseling",className:"space-y-6 mt-6",children:[u.jsxs("div",{className:"grid gap-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx(De,{htmlFor:"gpa",children:"GPA"}),u.jsx(vt,{id:"gpa",type:"number",step:"0.01",min:"0",max:"4",placeholder:"3.8",value:s.gpa||"",onChange:h=>o({...s,gpa:parseFloat(h.target.value)})})]}),u.jsxs("div",{children:[u.jsx(De,{htmlFor:"sat",children:"SAT Score"}),u.jsx(vt,{id:"sat",type:"number",placeholder:"1450",value:s.sat||"",onChange:h=>o({...s,sat:parseInt(h.target.value)})})]}),u.jsxs("div",{children:[u.jsx(De,{htmlFor:"act",children:"ACT Score"}),u.jsx(vt,{id:"act",type:"number",placeholder:"32",value:s.act||"",onChange:h=>o({...s,act:parseInt(h.target.value)})})]})]}),u.jsxs("div",{children:[u.jsx(De,{htmlFor:"targetMajor",children:"Target Major"}),u.jsx(vt,{id:"targetMajor",placeholder:"Computer Science",value:s.targetMajor,onChange:h=>o({...s,targetMajor:h.target.value})})]}),u.jsxs("div",{children:[u.jsx(De,{htmlFor:"location",children:"Preferred Location"}),u.jsx(vt,{id:"location",placeholder:"Northeast, California, etc.",value:s.location,onChange:h=>o({...s,location:h.target.value})})]}),u.jsxs("div",{children:[u.jsx(De,{htmlFor:"extracurriculars",children:"Extracurriculars (comma-separated)"}),u.jsx(us,{id:"extracurriculars",placeholder:"Debate Club Captain, Varsity Soccer, Student Council",value:s.extracurriculars,onChange:h=>o({...s,extracurriculars:h.target.value}),rows:3})]}),u.jsxs("div",{children:[u.jsx(De,{htmlFor:"interests",children:"Interests (comma-separated)"}),u.jsx(us,{id:"interests",placeholder:"Artificial Intelligence, Environmental Policy, Creative Writing",value:s.interests,onChange:h=>o({...s,interests:h.target.value}),rows:3})]})]}),u.jsxs("div",{className:"flex items-center gap-4 p-4 bg-muted/50 rounded-lg",children:[u.jsx(nd,{className:"w-5 h-5 text-primary"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium",children:"Agents Activated"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"College Profile Analyst  College Matchmaking Specialist"})]}),u.jsx(on,{variant:"secondary",children:"RAG Enabled"})]}),u.jsx(oe,{onClick:d,disabled:n||!s.gpa,className:"w-full",size:"lg",variant:"hero",children:n?u.jsxs(u.Fragment,{children:[u.jsx(Fv,{className:"w-5 h-5 mr-2 animate-spin"}),"Agents Working..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Mi,{className:"w-5 h-5 mr-2"}),"Generate Personalized Counseling Report"]})})]}),u.jsxs(ut,{value:"operations",className:"space-y-6 mt-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx(ee,{className:"border-primary/20",children:u.jsxs(We,{children:[u.jsxs(Ve,{className:"text-lg flex items-center gap-2",children:[u.jsx(ei,{className:"w-5 h-5 text-primary"}),"Strategic Dashboard Analysis"]}),u.jsx(Xr,{children:"Analyzes your campaign data for trends, patterns, and optimization opportunities"})]})}),u.jsx(ee,{className:"border-primary/20",children:u.jsxs(We,{children:[u.jsxs(Ve,{className:"text-lg flex items-center gap-2",children:[u.jsx(ei,{className:"w-5 h-5 text-primary"}),"Campaign Strategy Design"]}),u.jsx(Xr,{children:"Creates targeted multi-channel campaign strategies based on data insights"})]})})]}),u.jsxs("div",{className:"flex items-center gap-4 p-4 bg-muted/50 rounded-lg",children:[u.jsx(nd,{className:"w-5 h-5 text-primary"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium",children:"Agents Activated"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Strategic Dashboard Analyst  Campaign Operations Executive"})]}),u.jsx(on,{variant:"secondary",children:"Real-Time Data"})]}),u.jsx(oe,{onClick:f,disabled:n,className:"w-full",size:"lg",variant:"hero",children:n?u.jsxs(u.Fragment,{children:[u.jsx(Fv,{className:"w-5 h-5 mr-2 animate-spin"}),"Analyzing Data..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Xn,{className:"w-5 h-5 mr-2"}),"Generate Campaign Strategy Report"]})})]})]}),i&&u.jsxs(ee,{className:"mt-6 border-primary/20",children:[u.jsx(We,{children:u.jsxs(Ve,{className:"flex items-center gap-2",children:[u.jsx(nd,{className:"w-5 h-5 text-primary"}),"Crew Report"]})}),u.jsx(Le,{children:u.jsx(Tb,{className:"h-[600px] w-full rounded-md border p-4",children:u.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:u.jsx(hWe,{children:i})})})})]})]})]})},xWe=()=>{var v;const t=pi(),{user:e,signOut:n}=zn(),{toast:r}=Mt(),[i,a]=S.useState(null),[s,o]=S.useState(!1),[l,c]=S.useState(!1),[d,f]=S.useState([]),[h,p]=S.useState({totalCampaigns:0,messagesSent:0,callsMade:0,responseRate:0});S.useEffect(()=>{m()},[e]),S.useEffect(()=>{const y=ze.channel("dashboard-analytics").on("postgres_changes",{event:"INSERT",schema:"public",table:"campaign_analytics"},x=>{console.log("Real-time analytics update:",x),r({title:"New Activity",description:`Agent ${x.new.channel} reported: ${x.new.status}`}),m()}).subscribe();return()=>{ze.removeChannel(y)}},[]);const m=async()=>{if(e)try{const{data:y,error:x}=await ze.from("campaigns").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(x)throw x;f(y||[]);const b=(y==null?void 0:y.length)||0,_=(y==null?void 0:y.reduce((C,T)=>C+(T.messages_sent||0),0))||0,w=(y==null?void 0:y.reduce((C,T)=>C+(T.calls_made||0),0))||0,E=(y==null?void 0:y.reduce((C,T)=>C+(T.responses_received||0),0))||0,A=_+w,j=A>0?Math.round(E/A*100):0;p({totalCampaigns:b,messagesSent:_,callsMade:w,responseRate:j})}catch(y){console.error("Error loading dashboard data:",y),r({title:"Error loading data",description:"Failed to load dashboard data. Please refresh the page.",variant:"destructive"})}},g=async()=>{try{await n(),t("/")}catch(y){console.error("Error signing out:",y),r({title:"Sign out failed",description:"Please try again",variant:"destructive"})}};return u.jsxs("div",{className:"min-h-screen bg-ai-gradient-subtle",children:[u.jsx("div",{className:"bg-card/50 backdrop-blur-sm border-b border-border/50 sticky top-0 z-40",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-ai-gradient rounded-lg flex items-center justify-center",children:u.jsx(ha,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-lg font-semibold",children:"AdmitConnect AI"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Dashboard"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>c(!0),children:[u.jsx(Xn,{className:"w-4 h-4 mr-2"}),"Upgrade"]}),u.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>o(!0),children:u.jsx(Vm,{className:"w-4 h-4"})}),u.jsx(oe,{variant:"ghost",size:"sm",onClick:g,children:u.jsx(hT,{className:"w-4 h-4"})})]})]})})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("h2",{className:"text-2xl font-bold mb-2",children:["Welcome back, ",((v=e==null?void 0:e.user_metadata)==null?void 0:v.full_name)||(e==null?void 0:e.email),"! "]}),u.jsx("p",{className:"text-muted-foreground",children:"Manage your admission campaigns and track performance from your dashboard."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[u.jsx(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:u.jsx(vc,{className:"w-5 h-5 text-blue-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Campaigns"}),u.jsx("p",{className:"text-2xl font-bold",children:h.totalCampaigns})]})]})}),u.jsx(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:u.jsx($r,{className:"w-5 h-5 text-green-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Messages Sent"}),u.jsx("p",{className:"text-2xl font-bold",children:h.messagesSent})]})]})}),u.jsx(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Di,{className:"w-5 h-5 text-purple-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Calls Made"}),u.jsx("p",{className:"text-2xl font-bold",children:h.callsMade})]})]})}),u.jsx(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-orange-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Xn,{className:"w-5 h-5 text-orange-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Response Rate"}),u.jsxs("p",{className:"text-2xl font-bold",children:[h.responseRate,"%"]})]})]})})]}),u.jsxs($l,{defaultValue:"overview",className:"space-y-6",children:[u.jsxs(co,{className:"grid w-full grid-cols-6",children:[u.jsx(ct,{value:"overview",children:"Overview"}),u.jsx(ct,{value:"campaigns",children:"Campaigns"}),u.jsx(ct,{value:"ai-crew",children:"AI Crew"}),u.jsx(ct,{value:"analytics",children:"Analytics"}),u.jsx(ct,{value:"automation",children:"Automation"}),u.jsx(ct,{value:"notifications",children:"Notifications"})]}),u.jsx(ut,{value:"overview",className:"space-y-6",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Recent Campaigns"}),u.jsxs(oe,{onClick:()=>a("create-campaign"),variant:"hero",children:[u.jsx(Gh,{className:"w-4 h-4 mr-2"}),"New Campaign"]})]}),d.length===0?u.jsxs(ee,{className:"p-8 text-center bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx(vc,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No campaigns yet"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first campaign to start reaching prospective students."}),u.jsx(oe,{onClick:()=>a("create-campaign"),variant:"hero",children:"Create Your First Campaign"})]}):u.jsxs("div",{className:"space-y-4",children:[d.slice(0,3).map(y=>u.jsx(xj,{campaign:y,onUpdate:m},y.id)),d.length>3&&u.jsxs(ee,{className:"p-4 text-center bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("p",{className:"text-muted-foreground",children:["+",d.length-3," more campaigns"]}),u.jsx(oe,{variant:"ghost",size:"sm",className:"mt-2",children:"View All Campaigns"})]})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsx(P0e,{}),u.jsxs(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[u.jsx(Rr,{className:"w-5 h-5 text-primary"}),"Quick Actions"]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(oe,{variant:"outline",className:"w-full justify-start",onClick:()=>a("upload-candidates"),children:[u.jsx(gT,{className:"w-4 h-4 mr-2"}),"Upload Candidates"]}),u.jsxs(oe,{variant:"outline",className:"w-full justify-start",onClick:()=>a("create-campaign"),children:[u.jsx(Gh,{className:"w-4 h-4 mr-2"}),"Create Campaign"]}),d.length>0&&u.jsxs(oe,{variant:"outline",className:"w-full justify-start",onClick:()=>a("execute-campaign"),children:[u.jsx(Fs,{className:"w-4 h-4 mr-2"}),"Execute Campaign"]}),u.jsxs(oe,{variant:"outline",className:"w-full justify-start",onClick:()=>c(!0),children:[u.jsx(Xn,{className:"w-4 h-4 mr-2"}),"Upgrade Plan"]})]})]})]})]})}),u.jsxs(ut,{value:"campaigns",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"All Campaigns"}),u.jsxs(oe,{onClick:()=>a("create-campaign"),variant:"hero",children:[u.jsx(Gh,{className:"w-4 h-4 mr-2"}),"New Campaign"]})]}),d.length===0?u.jsxs(ee,{className:"p-8 text-center bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx(vc,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No campaigns yet"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first campaign to start reaching prospective students."}),u.jsx(oe,{onClick:()=>a("create-campaign"),variant:"hero",children:"Create Your First Campaign"})]}):u.jsx("div",{className:"grid grid-cols-1 gap-4",children:d.map(y=>u.jsx(xj,{campaign:y,onUpdate:m},y.id))})]}),u.jsx(ut,{value:"ai-crew",children:u.jsx(vWe,{})}),u.jsx(ut,{value:"analytics",children:u.jsx(BG,{})}),u.jsx(ut,{value:"automation",children:u.jsx(zG,{})}),u.jsx(ut,{value:"notifications",children:u.jsx(UG,{})})]})]}),u.jsx(Ni,{open:i==="create-campaign",onOpenChange:y=>!y&&a(null),children:u.jsxs(ii,{className:"max-w-2xl",children:[u.jsx(ai,{children:u.jsx(si,{children:"Create New Campaign"})}),u.jsx(MH,{onCampaignCreated:()=>{a(null),m()}})]})}),u.jsx(Ni,{open:i==="upload-candidates",onOpenChange:y=>!y&&a(null),children:u.jsxs(ii,{className:"max-w-2xl",children:[u.jsx(ai,{children:u.jsx(si,{children:"Upload Candidates"})}),u.jsx(RH,{onUploadComplete:()=>{a(null),m()}})]})}),u.jsx(Ni,{open:i==="execute-campaign",onOpenChange:y=>!y&&a(null),children:u.jsxs(ii,{className:"max-w-2xl",children:[u.jsx(ai,{children:u.jsx(si,{children:"Execute Campaign"})}),d.length>0&&u.jsx(YG,{campaign:d[0],onExecutionComplete:()=>{a(null),m(),r({title:"Campaign Executed",description:"Your campaign is now running across selected channels"})}})]})}),u.jsx(Kk,{open:s,onOpenChange:o}),u.jsx(rO,{open:l,onOpenChange:c})]})},bWe=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState(!1);return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(Bk,{onContactClick:()=>e(!0),onScheduleClick:()=>r(!0)}),u.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:u.jsxs("div",{className:"text-center space-y-6",children:[u.jsx("h1",{className:"text-4xl md:text-6xl font-bold",children:u.jsx("span",{className:"bg-ai-gradient bg-clip-text text-transparent",children:"About AdmitConnect AI"})}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Revolutionizing college admissions through AI-powered automation, personalized outreach, and intelligent campaign management."})]})}),u.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Our Mission"}),u.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:"We empower educational institutions to connect with prospective students through intelligent automation, personalized messaging, and data-driven insights."}),u.jsx("p",{className:"text-lg text-muted-foreground",children:"Our platform combines cutting-edge AI technology with proven admission strategies to help colleges and universities scale their outreach efforts while maintaining a personal touch."})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx(Mp,{className:"w-8 h-8 text-primary mb-4"}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Targeted Outreach"}),u.jsx("p",{className:"text-muted-foreground",children:"Reach the right students with personalized messaging that resonates with their interests and goals."})]}),u.jsxs(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx(Rr,{className:"w-8 h-8 text-primary mb-4"}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Automated Efficiency"}),u.jsx("p",{className:"text-muted-foreground",children:"Save time and resources while increasing your reach with intelligent automation that works 24/7."})]})]})]})}),u.jsx("section",{className:"py-16 bg-ai-gradient-subtle",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Making an Impact"}),u.jsx("p",{className:"text-xl text-muted-foreground",children:"See how we're transforming college admissions nationwide"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent mb-2",children:"500+"}),u.jsx("p",{className:"text-muted-foreground",children:"Colleges Served"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent mb-2",children:"2M+"}),u.jsx("p",{className:"text-muted-foreground",children:"Students Reached"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent mb-2",children:"85%"}),u.jsx("p",{className:"text-muted-foreground",children:"Response Rate"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent mb-2",children:"98%"}),u.jsx("p",{className:"text-muted-foreground",children:"Client Satisfaction"})]})]})]})}),u.jsxs("section",{className:"py-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Meet the AdmitConnect AI Team"}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto mb-8",children:"Our passionate team of AI experts, educators, and developers is dedicated to revolutionizing the college admission process."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[u.jsx(oe,{size:"lg",variant:"hero",onClick:()=>window.open("/our-services","_blank"),className:"text-lg px-8 py-3",children:"Learn More About Our Services"}),u.jsxs(oe,{size:"lg",variant:"outline",onClick:()=>e(!0),className:"text-lg px-8 py-3",children:[u.jsx(ti,{className:"w-5 h-5 mr-2"}),"Contact Us"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs(ee,{className:"p-6 text-center bg-card/50 backdrop-blur-sm border-border/50 hover:shadow-xl transition-all duration-300",children:[u.jsx("div",{className:"w-20 h-20 bg-ai-gradient rounded-full mx-auto mb-4 flex items-center justify-center",children:u.jsx(Ea,{className:"w-10 h-10 text-white"})}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"AI & Technology"}),u.jsx("p",{className:"text-muted-foreground",children:"Cutting-edge AI researchers and engineers building the future of educational technology."})]}),u.jsxs(ee,{className:"p-6 text-center bg-card/50 backdrop-blur-sm border-border/50 hover:shadow-xl transition-all duration-300",children:[u.jsx("div",{className:"w-20 h-20 bg-ai-gradient rounded-full mx-auto mb-4 flex items-center justify-center",children:u.jsx(Mp,{className:"w-10 h-10 text-white"})}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Education Experts"}),u.jsx("p",{className:"text-muted-foreground",children:"Former admissions counselors and education professionals who understand the industry."})]}),u.jsxs(ee,{className:"p-6 text-center bg-card/50 backdrop-blur-sm border-border/50 hover:shadow-xl transition-all duration-300",children:[u.jsx("div",{className:"w-20 h-20 bg-ai-gradient rounded-full mx-auto mb-4 flex items-center justify-center",children:u.jsx(Rr,{className:"w-10 h-10 text-white"})}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Customer Success"}),u.jsx("p",{className:"text-muted-foreground",children:"Dedicated support team ensuring every client achieves their enrollment goals."})]})]})]}),u.jsx("section",{className:"py-16 bg-card/50",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[u.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Get in Touch"}),u.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Ready to transform your admissions process? Let's discuss how AdmitConnect AI can help your institution thrive."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsxs(oe,{variant:"hero",size:"lg",onClick:()=>r(!0),className:"hover-lift",children:[u.jsx(Rp,{className:"w-5 h-5 mr-2"}),"Schedule Demo"]}),u.jsxs(oe,{variant:"outline",size:"lg",onClick:()=>e(!0),className:"hover-lift",children:[u.jsx(ti,{className:"w-5 h-5 mr-2"}),"Contact Sales"]})]}),u.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-2 gap-8 max-w-2xl mx-auto",children:[u.jsxs("a",{href:"mailto:admitconnectAI@gmail.com",className:"flex flex-col items-center p-6 bg-card rounded-lg border border-border/50 hover:border-primary/50 transition-all hover:shadow-lg group",children:[u.jsx(ti,{className:"w-12 h-12 text-primary mb-4 group-hover:scale-110 transition-transform"}),u.jsx("h3",{className:"font-semibold mb-2",children:"Email"}),u.jsx("p",{className:"text-muted-foreground text-sm text-center break-all",children:"admitconnectAI@gmail.com"})]}),u.jsxs("a",{href:"https://wa.me/918439663198",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center p-6 bg-card rounded-lg border border-border/50 hover:border-primary/50 transition-all hover:shadow-lg group",children:[u.jsx(Bv,{className:"w-12 h-12 text-primary mb-4 group-hover:scale-110 transition-transform"}),u.jsx("h3",{className:"font-semibold mb-2",children:"WhatsApp"}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"+91 8439663198"})]})]})]})}),u.jsx(Hk,{open:t,onOpenChange:e}),u.jsx(Rb,{open:n,onOpenChange:r}),u.jsx(T9,{}),u.jsx(fH,{})]})},wWe=()=>{pi();const[t,e]=S.useState(!1),[n,r]=S.useState(!1),i=[{icon:Mi,title:"AI-Driven Admission Counseling",description:"Intelligent guidance powered by advanced AI algorithms",features:["Personalized course recommendations","University matching based on profile","Real-time admission probability analysis","Document requirement tracking","Application timeline management"],color:"blue"},{icon:$r,title:"WhatsApp Automation",description:"Natural language communication at scale",features:["24/7 automated responses","Natural conversation flow","Multi-language support","Smart follow-up sequences","Rich media sharing"],color:"green"},{icon:Di,title:"Voice Call Automation",description:"Intelligent voice interactions with prospective students",features:["AI-powered voice calls","Natural speech recognition","Appointment scheduling","Call quality analytics","Integration with CRM systems"],color:"purple"},{icon:ul,title:"Analytics Dashboard",description:"Comprehensive insights and performance tracking",features:["Real-time engagement metrics","Conversion rate tracking","Student journey analytics","ROI measurement","Custom reporting"],color:"orange"}],a=[{icon:Mp,title:"Increased Conversion",description:"Up to 40% improvement in lead conversion rates"},{icon:dl,title:"24/7 Availability",description:"Round-the-clock student support and engagement"},{icon:Ea,title:"Scalable Operations",description:"Handle thousands of inquiries simultaneously"},{icon:pB,title:"Data Security",description:"Enterprise-grade security and privacy protection"},{icon:Rr,title:"Quick Implementation",description:"Get started in under 48 hours"},{icon:sE,title:"Global Reach",description:"Multi-language support for international students"}],s=o=>{const l={blue:"bg-blue-500/10 text-blue-500 border-blue-500/20",green:"bg-green-500/10 text-green-500 border-green-500/20",purple:"bg-purple-500/10 text-purple-500 border-purple-500/20",orange:"bg-orange-500/10 text-orange-500 border-orange-500/20"};return l[o]||l.blue};return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(Bk,{onContactClick:()=>e(!0),onScheduleClick:()=>r(!0)}),u.jsx("section",{className:"pt-24 pb-16 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[u.jsxs(on,{variant:"outline",className:"mb-6 px-4 py-2",children:[u.jsx(mT,{className:"w-4 h-4 mr-2"}),"Comprehensive AI Solutions"]}),u.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 bg-ai-gradient bg-clip-text text-transparent",children:"Our Services"}),u.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-3xl mx-auto",children:"Transform your admission process with our suite of AI-powered tools designed to engage, convert, and retain prospective students at scale."})]})}),u.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:i.map((o,l)=>u.jsxs(ee,{className:"relative overflow-hidden group hover:shadow-2xl transition-all duration-300 border-border/50 bg-card/50 backdrop-blur-sm",children:[u.jsxs(We,{className:"pb-4",children:[u.jsx("div",{className:`w-16 h-16 rounded-xl ${s(o.color)} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300`,children:u.jsx(o.icon,{className:"w-8 h-8"})}),u.jsx(Ve,{className:"text-2xl mb-2",children:o.title}),u.jsx(Xr,{className:"text-base",children:o.description})]}),u.jsx(Le,{children:u.jsx("ul",{className:"space-y-3",children:o.features.map((c,d)=>u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(ei,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),u.jsx("span",{className:"text-muted-foreground",children:c})]},d))})})]},l))})})}),u.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 bg-muted/20",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Why Choose AdmitConnect AI?"}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Experience the benefits that leading educational institutions trust"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((o,l)=>u.jsxs(ee,{className:"text-center p-6 hover:shadow-lg transition-all duration-300 border-border/50 bg-card/50 backdrop-blur-sm",children:[u.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(o.icon,{className:"w-6 h-6 text-primary"})}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:o.title}),u.jsx("p",{className:"text-muted-foreground",children:o.description})]},l))})]})}),u.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"How It Works"}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Simple implementation process to get you started"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[{step:"01",title:"Integration",description:"Connect your existing systems"},{step:"02",title:"Configuration",description:"Customize AI responses and workflows"},{step:"03",title:"Training",description:"AI learns your institution's specifics"},{step:"04",title:"Launch",description:"Go live and start engaging students"}].map((o,l)=>u.jsxs("div",{className:"text-center relative",children:[u.jsx("div",{className:"w-16 h-16 bg-ai-gradient rounded-full flex items-center justify-center mx-auto mb-4 text-white font-bold text-lg",children:o.step}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:o.title}),u.jsx("p",{className:"text-muted-foreground",children:o.description}),l<3&&u.jsx(Od,{className:"hidden md:block absolute top-8 -right-4 w-6 h-6 text-muted-foreground"})]},l))})]})}),u.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 bg-ai-gradient-subtle",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Transform Your Admissions?"}),u.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Join hundreds of institutions already using AdmitConnect AI to boost their admission success"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsxs(oe,{size:"lg",variant:"hero",onClick:()=>r(!0),className:"text-lg px-8 py-3",children:["Schedule Demo",u.jsx(Od,{className:"w-5 h-5 ml-2"})]}),u.jsx(oe,{size:"lg",variant:"outline",onClick:()=>e(!0),className:"text-lg px-8 py-3",children:"Contact Sales"})]})]})}),u.jsx(Hk,{open:t,onOpenChange:e}),u.jsx(Rb,{open:n,onOpenChange:r})]})},_We=()=>{const t=Vc();return S.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),u.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},SWe=()=>{const{toast:t}=Mt(),[e,n]=S.useState([]),[r,i]=S.useState([]),[a,s]=S.useState({totalCandidates:0,readyForDistribution:0,inProgress:0,completed:0,failed:0}),[o,l]=S.useState(!1),[c,d]=S.useState(""),[f,h]=S.useState("all"),[p,m]=S.useState(!1);S.useEffect(()=>{g()},[]),S.useEffect(()=>{y()},[e,c,f]);const g=async()=>{l(!0);try{const{data:w,error:E}=await ze.from("candidates").select(`
          *,
          campaigns(name, type, status)
        `).order("created_at",{ascending:!1});if(E)throw E;n(w||[]),v(w||[])}catch(w){console.error("Error loading candidate data:",w),t({title:"Error",description:"Failed to load candidate data",variant:"destructive"})}finally{l(!1)}},v=w=>{const E=w.length,A=w.filter(O=>O.status==="pending").length,j=w.filter(O=>O.status==="email_sent"||O.status==="voice_called"||O.status==="whatsapp_sent").length,C=w.filter(O=>O.response_received).length,T=w.filter(O=>O.status==="failed").length;s({totalCandidates:E,readyForDistribution:A,inProgress:j,completed:C,failed:T})},y=()=>{let w=e;c&&(w=w.filter(E=>E.name.toLowerCase().includes(c.toLowerCase())||E.email.toLowerCase().includes(c.toLowerCase())||E.phone.includes(c)||E.city.toLowerCase().includes(c.toLowerCase()))),f!=="all"&&(w=w.filter(E=>E.status===f)),i(w)},x=async(w,E)=>{m(!0);try{const A=[];for(const j of E){let C="";switch(j){case"email":C="email-agent";break;case"voice":C="voice-agent";break;case"whatsapp":C="whatsapp-agent";break;default:continue}const{data:T,error:O}=await ze.functions.invoke(C,{body:{candidateIds:w,distributedBy:"data-distribution-layer"}});if(O)throw O;A.push({channel:j,success:!0,data:T})}t({title:"Distribution Complete",description:`Successfully distributed data to ${E.length} channels`}),g()}catch(A){console.error("Error distributing data:",A),t({title:"Distribution Failed",description:"Failed to distribute data to agents",variant:"destructive"})}finally{m(!1)}},b=w=>{const E=[];return!w.email&&!w.phone&&E.push("Missing contact information"),w.name||E.push("Missing name"),w.email&&!w.email.includes("@")&&E.push("Invalid email format"),E},_=w=>{switch(w){case"pending":return"bg-yellow-500/10 text-yellow-500";case"email_sent":return"bg-blue-500/10 text-blue-500";case"voice_called":return"bg-purple-500/10 text-purple-500";case"whatsapp_sent":return"bg-green-500/10 text-green-500";case"completed":return"bg-emerald-500/10 text-emerald-500";case"failed":return"bg-red-500/10 text-red-500";default:return"bg-gray-500/10 text-gray-500"}};return u.jsx(QB,{children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[u.jsx(td,{className:"w-6 h-6 text-primary"}),"Data Distribution Layer"]}),u.jsx("p",{className:"text-muted-foreground",children:"Centralized candidate data management and agent distribution"})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs(oe,{onClick:g,variant:"outline",disabled:o,children:[u.jsx(fl,{className:`w-4 h-4 mr-2 ${o?"animate-spin":""}`}),"Refresh"]})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[u.jsx(ee,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Ea,{className:"w-5 h-5 text-blue-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Candidates"}),u.jsx("p",{className:"text-xl font-bold",children:a.totalCandidates})]})]})}),u.jsx(ee,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Ds,{className:"w-5 h-5 text-yellow-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Ready"}),u.jsx("p",{className:"text-xl font-bold",children:a.readyForDistribution})]})]})}),u.jsx(ee,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Od,{className:"w-5 h-5 text-orange-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"In Progress"}),u.jsx("p",{className:"text-xl font-bold",children:a.inProgress})]})]})}),u.jsx(ee,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(ei,{className:"w-5 h-5 text-green-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed"}),u.jsx("p",{className:"text-xl font-bold",children:a.completed})]})]})}),u.jsx(ee,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Dv,{className:"w-5 h-5 text-red-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Failed"}),u.jsx("p",{className:"text-xl font-bold",children:a.failed})]})]})})]}),u.jsxs(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Ds,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"text-lg font-semibold",children:"Distribution Progress"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[u.jsx("span",{children:"Overall Completion"}),u.jsxs("span",{children:[Math.round(a.completed/a.totalCandidates*100)||0,"%"]})]}),u.jsx(Ti,{value:a.completed/a.totalCandidates*100||0,className:"h-2"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[u.jsx("span",{children:"Ready for Distribution"}),u.jsxs("span",{children:[Math.round(a.readyForDistribution/a.totalCandidates*100)||0,"%"]})]}),u.jsx(Ti,{value:a.readyForDistribution/a.totalCandidates*100||0,className:"h-2"})]})]})]}),u.jsx(ee,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx(Tee,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),u.jsx(vt,{placeholder:"Search candidates...",value:c,onChange:w=>d(w.target.value),className:"pl-9"})]})}),u.jsxs(Ps,{value:f,onValueChange:h,children:[u.jsx(Ga,{className:"w-48",children:u.jsx(Is,{placeholder:"Filter by status"})}),u.jsxs(Ka,{children:[u.jsx(rn,{value:"all",children:"All Statuses"}),u.jsx(rn,{value:"pending",children:"Pending"}),u.jsx(rn,{value:"email_sent",children:"Email Sent"}),u.jsx(rn,{value:"voice_called",children:"Voice Called"}),u.jsx(rn,{value:"whatsapp_sent",children:"WhatsApp Sent"}),u.jsx(rn,{value:"completed",children:"Completed"}),u.jsx(rn,{value:"failed",children:"Failed"})]})]}),u.jsxs(oe,{onClick:()=>x(r.filter(w=>w.status==="pending").map(w=>w.id),["email","voice","whatsapp"]),disabled:p||r.filter(w=>w.status==="pending").length===0,variant:"hero",children:[p?u.jsx(fl,{className:"w-4 h-4 mr-2 animate-spin"}):u.jsx(Od,{className:"w-4 h-4 mr-2"}),"Distribute to Agents"]})]})}),u.jsxs(ee,{className:"bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx("div",{className:"p-4 border-b border-border/50",children:u.jsxs("h3",{className:"text-lg font-semibold",children:["Candidate Data (",r.length,")"]})}),u.jsxs("div",{className:"overflow-x-auto",children:[u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-muted/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left p-4",children:"Name"}),u.jsx("th",{className:"text-left p-4",children:"Contact"}),u.jsx("th",{className:"text-left p-4",children:"Location"}),u.jsx("th",{className:"text-left p-4",children:"Course"}),u.jsx("th",{className:"text-left p-4",children:"Status"}),u.jsx("th",{className:"text-left p-4",children:"Distribution"}),u.jsx("th",{className:"text-left p-4",children:"Validation"})]})}),u.jsx("tbody",{children:r.map(w=>{const E=b(w);return u.jsxs("tr",{className:"border-t border-border/50 hover:bg-muted/20",children:[u.jsx("td",{className:"p-4",children:u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:w.name}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",w.id.slice(0,8)]})]})}),u.jsx("td",{className:"p-4",children:u.jsxs("div",{className:"space-y-1",children:[w.email&&u.jsxs("p",{className:"text-sm flex items-center gap-1",children:[u.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),w.email]}),w.phone&&u.jsxs("p",{className:"text-sm flex items-center gap-1",children:[u.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),w.phone]})]})}),u.jsx("td",{className:"p-4",children:u.jsx("p",{className:"text-sm",children:w.city||"N/A"})}),u.jsx("td",{className:"p-4",children:u.jsx("p",{className:"text-sm",children:w.course||"N/A"})}),u.jsx("td",{className:"p-4",children:u.jsx(on,{className:_(w.status),children:w.status.replace("_"," ")})}),u.jsx("td",{className:"p-4",children:u.jsxs("div",{className:"flex gap-1",children:[w.email_sent&&u.jsxs(iu,{children:[u.jsx(au,{children:u.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),u.jsx(Kl,{children:"Email sent"})]}),w.voice_called&&u.jsxs(iu,{children:[u.jsx(au,{children:u.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"})}),u.jsx(Kl,{children:"Voice called"})]}),w.whatsapp_sent&&u.jsxs(iu,{children:[u.jsx(au,{children:u.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"})}),u.jsx(Kl,{children:"WhatsApp sent"})]}),w.response_received&&u.jsxs(iu,{children:[u.jsx(au,{children:u.jsx(ei,{className:"w-4 h-4 text-emerald-500"})}),u.jsx(Kl,{children:"Response received"})]})]})}),u.jsx("td",{className:"p-4",children:E.length>0?u.jsxs(iu,{children:[u.jsx(au,{children:u.jsx(Dv,{className:"w-4 h-4 text-red-500"})}),u.jsx(Kl,{children:E.join(", ")})]}):u.jsxs(iu,{children:[u.jsx(au,{children:u.jsx(ei,{className:"w-4 h-4 text-green-500"})}),u.jsx(Kl,{children:"Valid data"})]})})]},w.id)})})]}),r.length===0&&u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No candidates found matching your criteria"})]})]})]})})},EWe=()=>{const{toast:t}=Mt(),[e,n]=S.useState([]),[r,i]=S.useState([]),[a,s]=S.useState(""),[o,l]=S.useState([]),[c,d]=S.useState(!1),[f,h]=S.useState(null);S.useEffect(()=>{p();const E=setInterval(p,1e4);return h(E),()=>{E&&clearInterval(E)}},[]);const p=async()=>{try{await Promise.all([m(),g(),v()])}catch(E){console.error("Error loading data:",E)}},m=async()=>{const{data:E,error:A}=await ze.from("campaigns").select("*").order("created_at",{ascending:!1});if(A)throw A;i(E||[])},g=async()=>{const E=[{id:"email-agent-001",name:"Email Agent Alpha",type:"email",status:"online",lastActivity:new Date(Date.now()-12e4).toISOString(),metrics:{totalProcessed:1247,successRate:94.2,avgResponseTime:1850,currentLoad:15}},{id:"voice-agent-001",name:"Voice Agent Beta",type:"voice",status:"online",lastActivity:new Date(Date.now()-3e5).toISOString(),metrics:{totalProcessed:892,successRate:87.6,avgResponseTime:12400,currentLoad:8}},{id:"messaging-agent-001",name:"Messaging Agent Gamma",type:"messaging",status:"online",lastActivity:new Date(Date.now()-6e4).toISOString(),metrics:{totalProcessed:2156,successRate:96.8,avgResponseTime:950,currentLoad:22}}];n(E)},v=async()=>{const{data:E,error:A}=await ze.from("campaign_analytics").select("*").eq("event_type","campaign_orchestrated").order("timestamp",{ascending:!1}).limit(10);if(A){console.error("Error loading executions:",A);return}const j=(E||[]).map((C,T)=>({id:C.id,campaignName:`Campaign ${C.campaign_id.slice(0,8)}`,status:T===0?"running":T<3?"completed":"pending",progress:T===0?65:T<3?100:0,agents:["email","voice","messaging"],startTime:C.timestamp,results:T<3?C.metadata:void 0}));l(j)},y=async(E="normal")=>{if(!a){t({title:"No Campaign Selected",description:"Please select a campaign to execute",variant:"destructive"});return}d(!0);try{console.log("Executing multi-channel campaign with enhanced agents");const{data:A,error:j}=await ze.functions.invoke("campaign-orchestrator",{body:{campaignId:a,channels:["email","voice","whatsapp"],priority:E,agentConfig:{email:{priority:E,retryCount:3},voice:{priority:E,voiceSettings:{voice:"alice",speed:1}},messaging:{priority:E,messageType:"whatsapp"}}}});if(j)throw j;t({title:"Campaign Execution Started",description:`Multi-channel campaign launched with ${E} priority`}),p()}catch(A){console.error("Error executing campaign:",A),t({title:"Execution Failed",description:"Failed to start campaign execution",variant:"destructive"})}finally{d(!1)}},x=async E=>{if(!a){t({title:"No Campaign Selected",description:"Please select a campaign first",variant:"destructive"});return}d(!0);try{const A=E==="messaging"?"whatsapp-agent":`${E}-agent`,{data:j,error:C}=await ze.functions.invoke(A,{body:{campaignId:a,priority:"normal",agentId:`${E}-agent-manual-${Date.now()}`}});if(C)throw C;t({title:"Agent Execution Started",description:`${E.charAt(0).toUpperCase()+E.slice(1)} agent is processing the campaign`}),p()}catch(A){console.error(`Error executing ${E} agent:`,A),t({title:"Agent Execution Failed",description:`Failed to start ${E} agent`,variant:"destructive"})}finally{d(!1)}},b=E=>{switch(E){case"online":return"bg-green-500/10 text-green-500";case"busy":return"bg-yellow-500/10 text-yellow-500";case"offline":return"bg-gray-500/10 text-gray-500";case"error":return"bg-red-500/10 text-red-500";default:return"bg-gray-500/10 text-gray-500"}},_=E=>{switch(E){case"running":return"bg-blue-500/10 text-blue-500";case"completed":return"bg-green-500/10 text-green-500";case"failed":return"bg-red-500/10 text-red-500";case"pending":return"bg-yellow-500/10 text-yellow-500";default:return"bg-gray-500/10 text-gray-500"}},w=E=>{switch(E){case"email":return ti;case"voice":return Di;case"messaging":return $r;default:return ha}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[u.jsx(ha,{className:"w-6 h-6 text-primary"}),"Enhanced Agent Control Panel"]}),u.jsx("p",{className:"text-muted-foreground",children:"Advanced multi-agent coordination and intelligent campaign execution"})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs(oe,{onClick:p,variant:"outline",disabled:c,children:[u.jsx(fl,{className:`w-4 h-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]})})]}),u.jsx(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select Campaign"}),u.jsxs(Ps,{value:a,onValueChange:s,children:[u.jsx(Ga,{children:u.jsx(Is,{placeholder:"Choose a campaign to execute"})}),u.jsx(Ka,{children:r.map(E=>u.jsxs(rn,{value:E.id,children:[E.name," (",E.type,")"]},E.id))})]})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs(oe,{onClick:()=>y("high"),disabled:!a||c,variant:"hero",children:[u.jsx(Rr,{className:"w-4 h-4 mr-2"}),"Execute All Agents"]})})]})}),u.jsxs($l,{defaultValue:"agents",className:"space-y-6",children:[u.jsxs(co,{className:"grid w-full grid-cols-4",children:[u.jsx(ct,{value:"agents",children:"Agent Status"}),u.jsx(ct,{value:"execution",children:"Live Execution"}),u.jsx(ct,{value:"performance",children:"Performance"}),u.jsx(ct,{value:"coordination",children:"Coordination"})]}),u.jsx(ut,{value:"agents",className:"space-y-6",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map(E=>{const A=w(E.type);return u.jsxs(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:u.jsx(A,{className:"w-5 h-5 text-primary"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold",children:E.name}),u.jsx("p",{className:"text-sm text-muted-foreground",children:E.type})]})]}),u.jsx(on,{className:b(E.status),children:E.status})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Processed"}),u.jsx("span",{className:"font-semibold",children:E.metrics.totalProcessed})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Success Rate"}),u.jsxs("span",{className:"font-semibold",children:[E.metrics.successRate,"%"]})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Avg Response"}),u.jsxs("span",{className:"font-semibold",children:[E.metrics.avgResponseTime,"ms"]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[u.jsx("span",{children:"Current Load"}),u.jsxs("span",{className:"font-semibold",children:[E.metrics.currentLoad,"%"]})]}),u.jsx(Ti,{value:E.metrics.currentLoad,className:"h-2"})]})]}),u.jsxs(oe,{onClick:()=>x(E.type),disabled:!a||c,className:"w-full mt-4",variant:"outline",children:[u.jsx(Fs,{className:"w-4 h-4 mr-2"}),"Execute Agent"]})]},E.id)})})}),u.jsx(ut,{value:"execution",className:"space-y-6",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Live Campaign Executions"}),o.map(E=>u.jsxs(ee,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Ds,{className:"w-5 h-5 text-primary"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold",children:E.campaignName}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Started ",new Date(E.startTime).toLocaleTimeString()]})]})]}),u.jsx(on,{className:_(E.status),children:E.status})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Progress"}),u.jsxs("span",{children:[E.progress,"%"]})]}),u.jsx(Ti,{value:E.progress,className:"h-2"}),u.jsx("div",{className:"flex gap-2 mt-3",children:E.agents.map(A=>{const j=w(A);return u.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[u.jsx(j,{className:"w-3 h-3"}),A]},A)})})]})]},E.id))]})}),u.jsx(ut,{value:"performance",className:"space-y-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[u.jsx(ul,{className:"w-5 h-5"}),"Agent Performance"]}),u.jsx("div",{className:"space-y-4",children:e.map(E=>u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:E.name}),u.jsxs("span",{children:[E.metrics.successRate,"%"]})]}),u.jsx(Ti,{value:E.metrics.successRate,className:"h-2"})]},E.id))})]}),u.jsxs(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[u.jsx(dl,{className:"w-5 h-5"}),"Response Times"]}),u.jsx("div",{className:"space-y-4",children:e.map(E=>u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:E.name}),u.jsxs("span",{className:"text-sm font-semibold",children:[E.metrics.avgResponseTime,"ms"]})]},E.id))})]})]})}),u.jsx(ut,{value:"coordination",className:"space-y-6",children:u.jsxs(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Coordination Settings"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Priority Mode"}),u.jsxs(Ps,{defaultValue:"normal",children:[u.jsx(Ga,{children:u.jsx(Is,{})}),u.jsxs(Ka,{children:[u.jsx(rn,{value:"low",children:"Low Priority"}),u.jsx(rn,{value:"normal",children:"Normal Priority"}),u.jsx(rn,{value:"high",children:"High Priority"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Retry Strategy"}),u.jsxs(Ps,{defaultValue:"aggressive",children:[u.jsx(Ga,{children:u.jsx(Is,{})}),u.jsxs(Ka,{children:[u.jsx(rn,{value:"conservative",children:"Conservative"}),u.jsx(rn,{value:"balanced",children:"Balanced"}),u.jsx(rn,{value:"aggressive",children:"Aggressive"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Load Balancing"}),u.jsxs(Ps,{defaultValue:"auto",children:[u.jsx(Ga,{children:u.jsx(Is,{})}),u.jsxs(Ka,{children:[u.jsx(rn,{value:"manual",children:"Manual"}),u.jsx(rn,{value:"auto",children:"Automatic"}),u.jsx(rn,{value:"intelligent",children:"Intelligent"})]})]})]})]})]})})]})]})};function jWe(){var g,v,y;const[t,e]=S.useState([]),[n,r]=S.useState(null),[i,a]=S.useState(!1),[s,o]=S.useState(""),[l,c]=S.useState([]);S.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:x,error:b}=await ze.from("campaigns").select("*").order("created_at",{ascending:!1});if(b)throw b;c(x||[]),x&&x.length>0&&o(x[0].id)}catch(x){console.error("Error loading campaigns:",x),Bl.error("Failed to load campaigns")}},f=async x=>{a(!0);try{const{data:b,error:_}=await ze.functions.invoke("decision-engine",{body:{campaignId:x,action:"generate_strategy"}});if(_)throw _;if(b.success){const w=b.result;e(E=>[...E.filter(j=>j.campaignId!==x),w]),Bl.success("Strategy generated successfully")}}catch(b){console.error("Error generating strategy:",b),Bl.error("Failed to generate strategy")}finally{a(!1)}},h=async x=>{a(!0);try{const{data:b,error:_}=await ze.functions.invoke("mcp-server",{body:{method:"tools/call",params:{name:"analyze_campaign_performance",arguments:{campaignId:x,timeframe:"30d"}}}});if(_)throw _;b.success&&(r(b.result),Bl.success("MCP analysis completed"))}catch(b){console.error("Error with MCP analysis:",b),Bl.error("Failed to analyze with MCP")}finally{a(!1)}},p=async x=>{a(!0);try{const{data:b,error:_}=await ze.functions.invoke("mcp-server",{body:{method:"tools/call",params:{name:"optimize_candidate_targeting",arguments:{campaignId:x,criteria:{}}}}});if(_)throw _;b.success&&Bl.success("Targeting optimization completed")}catch(b){console.error("Error optimizing targeting:",b),Bl.error("Failed to optimize targeting")}finally{a(!1)}},m=t.find(x=>x.campaignId===s);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Decision Logic & MCP Server"}),u.jsx("p",{className:"text-muted-foreground",children:"AI-powered campaign optimization and intelligent decision making"})]}),u.jsx("div",{className:"flex gap-2",children:u.jsx("select",{value:s,onChange:x=>o(x.target.value),className:"px-3 py-2 border rounded-md bg-background",children:l.map(x=>u.jsx("option",{value:x.id,children:x.name},x.id))})})]}),u.jsxs($l,{defaultValue:"strategy",className:"w-full",children:[u.jsxs(co,{className:"grid w-full grid-cols-3",children:[u.jsxs(ct,{value:"strategy",className:"flex items-center gap-2",children:[u.jsx(Mp,{className:"h-4 w-4"}),"Strategy Engine"]}),u.jsxs(ct,{value:"mcp",className:"flex items-center gap-2",children:[u.jsx(Mi,{className:"h-4 w-4"}),"MCP Analysis"]}),u.jsxs(ct,{value:"optimization",className:"flex items-center gap-2",children:[u.jsx(Xn,{className:"h-4 w-4"}),"Optimization"]})]}),u.jsx(ut,{value:"strategy",className:"space-y-4",children:u.jsxs(ee,{children:[u.jsxs(We,{children:[u.jsxs(Ve,{className:"flex items-center gap-2",children:[u.jsx(Rr,{className:"h-5 w-5"}),"Campaign Strategy Generator"]}),u.jsx(Xr,{children:"Generate intelligent campaign strategies using decision logic engine"})]}),u.jsxs(Le,{className:"space-y-4",children:[u.jsx("div",{className:"flex gap-2",children:u.jsx(oe,{onClick:()=>s&&f(s),disabled:i||!s,children:i?"Generating...":"Generate Strategy"})}),m&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsx(ee,{children:u.jsxs(Le,{className:"pt-4",children:[u.jsx("div",{className:"text-2xl font-bold",children:m.totalCandidates}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Candidates"})]})}),u.jsx(ee,{children:u.jsxs(Le,{className:"pt-4",children:[u.jsx("div",{className:"text-2xl font-bold",children:((g=m.effectiveness)==null?void 0:g.expectedConversions)||0}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected Conversions"})]})}),u.jsx(ee,{children:u.jsxs(Le,{className:"pt-4",children:[u.jsx("div",{className:"text-2xl font-bold",children:((v=m.effectiveness)==null?void 0:v.efficiency)||"N/A"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Efficiency Rating"})]})})]}),u.jsxs(ee,{children:[u.jsx(We,{children:u.jsx(Ve,{children:"Channel Priority"})}),u.jsx(Le,{children:u.jsx("div",{className:"flex gap-2",children:m.channelPriority.map((x,b)=>u.jsxs(on,{variant:b===0?"default":"secondary",children:["#",b+1," ",x]},x))})})]}),u.jsxs(ee,{children:[u.jsx(We,{children:u.jsx(Ve,{children:"Timeline Phases"})}),u.jsx(Le,{className:"space-y-3",children:Object.entries(((y=m.estimatedTimeline)==null?void 0:y.phases)||{}).map(([x,b])=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"capitalize",children:x}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ti,{value:b/m.totalCandidates*100,className:"w-24"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:b})]})]},x))})]})]})]})]})}),u.jsx(ut,{value:"mcp",className:"space-y-4",children:u.jsxs(ee,{children:[u.jsxs(We,{children:[u.jsxs(Ve,{className:"flex items-center gap-2",children:[u.jsx(Mi,{className:"h-5 w-5"}),"MCP Server Analysis"]}),u.jsx(Xr,{children:"Model Context Protocol powered intelligent analysis"})]}),u.jsxs(Le,{className:"space-y-4",children:[u.jsx(oe,{onClick:()=>s&&h(s),disabled:i||!s,children:i?"Analyzing...":"Run MCP Analysis"}),n&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs(ee,{children:[u.jsx(We,{children:u.jsx(Ve,{children:"Performance Metrics"})}),u.jsx(Le,{className:"space-y-3",children:n.performance&&Object.entries(n.performance).map(([x,b])=>u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"capitalize",children:x.replace(/([A-Z])/g," $1").trim()}),u.jsx(on,{variant:"outline",children:typeof b=="number"?`${(b*100).toFixed(1)}%`:String(b)})]},x))})]}),u.jsxs(ee,{children:[u.jsx(We,{children:u.jsx(Ve,{children:"AI Insights"})}),u.jsx(Le,{children:u.jsx("ul",{className:"space-y-2",children:n.insights.map((x,b)=>u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(ul,{className:"h-4 w-4 mt-1 text-primary"}),u.jsx("span",{className:"text-sm",children:x})]},b))})})]}),u.jsxs(ee,{children:[u.jsx(We,{children:u.jsx(Ve,{children:"Recommendations"})}),u.jsx(Le,{children:u.jsx("ul",{className:"space-y-2",children:n.recommendations.map((x,b)=>u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(gB,{className:"h-4 w-4 mt-1 text-orange-500"}),u.jsx("span",{className:"text-sm",children:x})]},b))})})]})]})]})]})}),u.jsx(ut,{value:"optimization",className:"space-y-4",children:u.jsxs(ee,{children:[u.jsxs(We,{children:[u.jsxs(Ve,{className:"flex items-center gap-2",children:[u.jsx(Vm,{className:"h-5 w-5"}),"Campaign Optimization"]}),u.jsx(Xr,{children:"Optimize targeting and communication strategies"})]}),u.jsxs(Le,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(oe,{onClick:()=>s&&p(s),disabled:i||!s,variant:"outline",children:"Optimize Targeting"}),u.jsx(oe,{onClick:()=>s&&f(s),disabled:i||!s,variant:"outline",children:"Generate Communication Strategy"})]}),u.jsxs(ee,{children:[u.jsx(We,{children:u.jsx(Ve,{className:"text-lg",children:"Decision Rules"})}),u.jsx(Le,{className:"space-y-3",children:u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"Email First Priority"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Send email to candidates with email addresses"})]}),u.jsx(Zr,{defaultChecked:!0})]}),u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"Voice Follow-up"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Call candidates who don't open emails within 2 days"})]}),u.jsx(Zr,{defaultChecked:!0})]}),u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"WhatsApp Engagement"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Send WhatsApp to engaged candidates"})]}),u.jsx(Zr,{defaultChecked:!0})]}),u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"High Priority Blast"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Multi-channel approach for high-priority candidates"})]}),u.jsx(Zr,{defaultChecked:!0})]})]})})]})]})]})})]})]})}const AWe=Wm("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Au=S.forwardRef(({className:t,variant:e,...n},r)=>u.jsx("div",{ref:r,role:"alert",className:je(AWe({variant:e}),t),...n}));Au.displayName="Alert";const CWe=S.forwardRef(({className:t,...e},n)=>u.jsx("h5",{ref:n,className:je("mb-1 font-medium leading-none tracking-tight",t),...e}));CWe.displayName="AlertTitle";const Cu=S.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:je("text-sm [&_p]:leading-relaxed",t),...e}));Cu.displayName="AlertDescription";const TWe=()=>{const[t,e]=S.useState({cpuUsage:45,memoryUsage:62,apiResponseTime:235,databaseConnections:12,cacheHitRate:85,activeUsers:147,throughput:324,errorRate:.8}),[n,r]=S.useState([{id:"query-caching",name:"Database Query Caching",description:"Cache frequently accessed database queries to reduce load",impact:"high",enabled:!0,lastApplied:"2024-01-10T10:30:00Z"},{id:"connection-pooling",name:"Connection Pooling",description:"Optimize database connection management",impact:"high",enabled:!0,lastApplied:"2024-01-10T09:15:00Z"},{id:"batch-processing",name:"Batch Processing",description:"Group similar operations for better efficiency",impact:"medium",enabled:!0,lastApplied:"2024-01-10T08:45:00Z"},{id:"cdn-optimization",name:"CDN Optimization",description:"Optimize content delivery network usage",impact:"medium",enabled:!1,lastApplied:"2024-01-09T16:20:00Z"}]),[i,a]=S.useState(!1);S.useEffect(()=>{const f=setInterval(()=>{e(h=>({cpuUsage:Math.max(0,Math.min(100,h.cpuUsage+(Math.random()-.5)*10)),memoryUsage:Math.max(0,Math.min(100,h.memoryUsage+(Math.random()-.5)*8)),apiResponseTime:Math.max(50,h.apiResponseTime+(Math.random()-.5)*50),databaseConnections:Math.max(0,Math.min(50,h.databaseConnections+Math.floor((Math.random()-.5)*5))),cacheHitRate:Math.max(0,Math.min(100,h.cacheHitRate+(Math.random()-.5)*5)),activeUsers:Math.max(0,h.activeUsers+Math.floor((Math.random()-.5)*10)),throughput:Math.max(0,h.throughput+(Math.random()-.5)*100),errorRate:Math.max(0,Math.min(10,h.errorRate+(Math.random()-.5)*.5))}))},2e3);return()=>clearInterval(f)},[]);const s=S.useCallback(f=>{r(h=>h.map(p=>p.id===f?{...p,enabled:!p.enabled,lastApplied:new Date().toISOString()}:p))},[]),o=S.useCallback(async()=>{a(!0),await new Promise(f=>setTimeout(f,3e3)),e(f=>({...f,cpuUsage:Math.max(20,f.cpuUsage*.8),memoryUsage:Math.max(30,f.memoryUsage*.9),apiResponseTime:Math.max(100,f.apiResponseTime*.7),cacheHitRate:Math.min(100,f.cacheHitRate*1.1),errorRate:f.errorRate*.5})),a(!1)},[]),l=S.useMemo(()=>{const f=[100-t.cpuUsage,100-t.memoryUsage,Math.max(0,100-(t.apiResponseTime-100)/10),t.cacheHitRate,Math.max(0,100-t.errorRate*10)];return Math.round(f.reduce((h,p)=>h+p)/f.length)},[t]),c=f=>f>=80?"text-green-600":f>=60?"text-yellow-600":"text-red-600",d=f=>{switch(f){case"high":return"destructive";case"medium":return"secondary";case"low":return"outline";default:return"outline"}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-bold",children:"Performance Optimization"}),u.jsx("p",{className:"text-muted-foreground",children:"Monitor and optimize system performance"})]}),u.jsxs(oe,{onClick:o,disabled:i,className:"gap-2",children:[i?u.jsx(fl,{className:"h-4 w-4 animate-spin"}):u.jsx(Rr,{className:"h-4 w-4"}),i?"Optimizing...":"Run Optimization"]})]}),u.jsxs(ee,{children:[u.jsx(We,{children:u.jsxs(Ve,{className:"flex items-center gap-2",children:[u.jsx(Xn,{className:"h-5 w-5"}),"Overall Performance Score"]})}),u.jsx(Le,{children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:`text-4xl font-bold ${c(l)}`,children:[l,"%"]}),u.jsx(Ti,{value:l,className:"flex-1"}),u.jsx(on,{variant:l>=80?"default":l>=60?"secondary":"destructive",children:l>=80?"Excellent":l>=60?"Good":"Needs Attention"})]})})]}),u.jsxs($l,{defaultValue:"metrics",className:"space-y-4",children:[u.jsxs(co,{children:[u.jsx(ct,{value:"metrics",children:"Real-time Metrics"}),u.jsx(ct,{value:"optimizations",children:"Optimization Rules"}),u.jsx(ct,{value:"alerts",children:"Performance Alerts"})]}),u.jsx(ut,{value:"metrics",className:"space-y-4",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs(ee,{children:[u.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ve,{className:"text-sm font-medium",children:"CPU Usage"}),u.jsx(vee,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Le,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.cpuUsage.toFixed(1),"%"]}),u.jsx(Ti,{value:t.cpuUsage,className:"mt-2"})]})]}),u.jsxs(ee,{children:[u.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ve,{className:"text-sm font-medium",children:"Memory Usage"}),u.jsx(See,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Le,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.memoryUsage.toFixed(1),"%"]}),u.jsx(Ti,{value:t.memoryUsage,className:"mt-2"})]})]}),u.jsxs(ee,{children:[u.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ve,{className:"text-sm font-medium",children:"API Response"}),u.jsx(dl,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Le,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.apiResponseTime.toFixed(0),"ms"]}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Average response time"})]})]}),u.jsxs(ee,{children:[u.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ve,{className:"text-sm font-medium",children:"Cache Hit Rate"}),u.jsx(td,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Le,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.cacheHitRate.toFixed(1),"%"]}),u.jsx(Ti,{value:t.cacheHitRate,className:"mt-2"})]})]}),u.jsxs(ee,{children:[u.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ve,{className:"text-sm font-medium",children:"Active Users"}),u.jsx(Ds,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Le,{children:[u.jsx("div",{className:"text-2xl font-bold",children:t.activeUsers}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Currently online"})]})]}),u.jsxs(ee,{children:[u.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ve,{className:"text-sm font-medium",children:"Throughput"}),u.jsx(ul,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Le,{children:[u.jsx("div",{className:"text-2xl font-bold",children:t.throughput.toFixed(0)}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Requests per minute"})]})]}),u.jsxs(ee,{children:[u.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ve,{className:"text-sm font-medium",children:"DB Connections"}),u.jsx(td,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Le,{children:[u.jsx("div",{className:"text-2xl font-bold",children:t.databaseConnections}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Active connections"})]})]}),u.jsxs(ee,{children:[u.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ve,{className:"text-sm font-medium",children:"Error Rate"}),u.jsx(sE,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Le,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.errorRate.toFixed(2),"%"]}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Error percentage"})]})]})]})}),u.jsx(ut,{value:"optimizations",className:"space-y-4",children:u.jsx("div",{className:"grid gap-4",children:n.map(f=>u.jsxs(ee,{children:[u.jsx(We,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(Ve,{className:"text-lg",children:f.name}),u.jsx(Xr,{children:f.description})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(on,{variant:d(f.impact),children:[f.impact," impact"]}),u.jsx(oe,{size:"sm",variant:f.enabled?"default":"outline",onClick:()=>s(f.id),children:f.enabled?"Enabled":"Disabled"})]})]})}),u.jsx(Le,{children:u.jsxs("div",{className:"text-sm text-muted-foreground",children:["Last applied: ",new Date(f.lastApplied).toLocaleString()]})})]},f.id))})}),u.jsx(ut,{value:"alerts",className:"space-y-4",children:u.jsxs("div",{className:"space-y-4",children:[t.cpuUsage>80&&u.jsxs(Au,{children:[u.jsx(Ds,{className:"h-4 w-4"}),u.jsxs(Cu,{children:["High CPU usage detected (",t.cpuUsage.toFixed(1),"%). Consider enabling CPU optimization rules."]})]}),t.apiResponseTime>500&&u.jsxs(Au,{children:[u.jsx(dl,{className:"h-4 w-4"}),u.jsxs(Cu,{children:["API response time is above threshold (",t.apiResponseTime.toFixed(0),"ms). Enable caching optimizations."]})]}),t.cacheHitRate<70&&u.jsxs(Au,{children:[u.jsx(td,{className:"h-4 w-4"}),u.jsxs(Cu,{children:["Low cache hit rate (",t.cacheHitRate.toFixed(1),"%). Review caching strategy."]})]}),t.errorRate>2&&u.jsxs(Au,{children:[u.jsx(sE,{className:"h-4 w-4"}),u.jsxs(Cu,{children:["High error rate detected (",t.errorRate.toFixed(2),"%). Check system logs for issues."]})]}),t.cpuUsage<=80&&t.apiResponseTime<=500&&t.cacheHitRate>=70&&t.errorRate<=2&&u.jsxs(Au,{children:[u.jsx(Xn,{className:"h-4 w-4"}),u.jsx(Cu,{children:"All systems operating within normal parameters. No alerts at this time."})]})]})})]})]})},kWe=({agentId:t="agent_0b0a29061f41517a382a32035e"})=>{const{toast:e}=Mt(),n=S.useRef(null),[r,i]=S.useState(""),[a,s]=S.useState(""),[o,l]=S.useState(null),[c,d]=S.useState(""),[f,h]=S.useState(!1),[p,m]=S.useState(!1),g=async y=>{var b;const x=(b=y.target.files)==null?void 0:b[0];if(x){l(x),h(!0);try{const _=new FileReader;_.onload=async w=>{var A;const E=(A=w.target)==null?void 0:A.result;x.type==="text/plain"||x.name.endsWith(".txt")?d(E):d(`Document: ${x.name} (${x.type})`),e({title:"Document uploaded",description:`${x.name} has been processed for the call context.`})},x.type==="text/plain"||x.name.endsWith(".txt")?_.readAsText(x):_.readAsDataURL(x)}catch(_){console.error("Error processing file:",_),e({title:"Upload failed",description:"Failed to process the uploaded document.",variant:"destructive"})}finally{h(!1)}}},v=async()=>{if(!r){e({title:"Phone number required",description:"Please enter a phone number to call.",variant:"destructive"});return}m(!0);try{const{data:y,error:x}=await ze.functions.invoke("retell-agent",{body:{phone_number:r,agent_id:t,context:a,document_content:c}});if(x)throw x;if(y.success)e({title:"Call initiated",description:`Call to ${r} has been started successfully.`}),i(""),s(""),l(null),d(""),n.current&&(n.current.value="");else throw new Error(y.error||"Failed to initiate call")}catch(y){console.error("Error initiating call:",y),e({title:"Call failed",description:y instanceof Error?y.message:"Failed to initiate the call.",variant:"destructive"})}finally{m(!1)}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs(ee,{children:[u.jsx(We,{children:u.jsxs(Ve,{className:"flex items-center gap-2",children:[u.jsx(ha,{className:"h-5 w-5"}),"Retell.ai Agent Panel"]})}),u.jsxs(Le,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(De,{htmlFor:"phone",children:"Phone Number"}),u.jsx(vt,{id:"phone",type:"tel",placeholder:"+1234567890",value:r,onChange:y=>i(y.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(De,{htmlFor:"agent",children:"Agent ID"}),u.jsx(vt,{id:"agent",value:t,disabled:!0,className:"bg-muted"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(De,{htmlFor:"context",children:"Call Context"}),u.jsx(us,{id:"context",placeholder:"Enter context or talking points for the call...",value:a,onChange:y=>s(y.target.value),rows:3})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(De,{htmlFor:"document",children:"Upload Document (Optional)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(oe,{variant:"outline",onClick:()=>{var y;return(y=n.current)==null?void 0:y.click()},disabled:f,children:[f?u.jsx(Fv,{className:"h-4 w-4 animate-spin mr-2"}):u.jsx(gT,{className:"h-4 w-4 mr-2"}),"Upload Document"]}),o&&u.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[u.jsx(vc,{className:"h-4 w-4"}),o.name]})]}),u.jsx("input",{ref:n,type:"file",onChange:g,accept:".txt,.pdf,.doc,.docx",className:"hidden"})]}),c&&u.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[u.jsx(De,{className:"text-sm font-medium",children:"Document Content Preview:"}),u.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[c.substring(0,200),c.length>200&&"..."]})]}),u.jsx(oe,{onClick:v,disabled:p||!r,className:"w-full",children:p?u.jsxs(u.Fragment,{children:[u.jsx(Fv,{className:"h-4 w-4 animate-spin mr-2"}),"Initiating Call..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Di,{className:"h-4 w-4 mr-2"}),"Initiate Call"]})})]})]}),u.jsxs(ee,{children:[u.jsx(We,{children:u.jsx(Ve,{children:"AI Analysis Integration"})}),u.jsxs(Le,{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"The Retell.ai agent integrates with your existing AI analysis system to:"}),u.jsxs("ul",{className:"list-disc list-inside text-sm text-muted-foreground mt-2 space-y-1",children:[u.jsx("li",{children:"Analyze uploaded documents for call context"}),u.jsx("li",{children:"Generate intelligent talking points"}),u.jsx("li",{children:"Track call performance and outcomes"}),u.jsx("li",{children:"Integrate with campaign analytics"})]})]})]})]})},OWe=()=>{var v;const t=pi(),{user:e,signOut:n}=zn(),{toast:r}=Mt(),[i,a]=S.useState(null),[s,o]=S.useState(!1),[l,c]=S.useState(!1),[d,f]=S.useState([]),[h,p]=S.useState({totalCampaigns:0,messagesSent:0,callsMade:0,responseRate:0});S.useEffect(()=>{m()},[e]);const m=async()=>{if(e)try{const{data:y,error:x}=await ze.from("campaigns").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(x)throw x;f(y||[]);const b=(y==null?void 0:y.length)||0,_=(y==null?void 0:y.reduce((C,T)=>C+(T.messages_sent||0),0))||0,w=(y==null?void 0:y.reduce((C,T)=>C+(T.calls_made||0),0))||0,E=(y==null?void 0:y.reduce((C,T)=>C+(T.responses_received||0),0))||0,A=_+w,j=A>0?Math.round(E/A*100):0;p({totalCampaigns:b,messagesSent:_,callsMade:w,responseRate:j})}catch(y){console.error("Error loading dashboard data:",y),r({title:"Error loading data",description:"Failed to load dashboard data. Please refresh the page.",variant:"destructive"})}},g=async()=>{try{await n(),t("/")}catch(y){console.error("Error signing out:",y),r({title:"Sign out failed",description:"Please try again",variant:"destructive"})}};return u.jsxs("div",{className:"min-h-screen bg-ai-gradient-subtle",children:[u.jsx("div",{className:"bg-card/50 backdrop-blur-sm border-b border-border/50 sticky top-0 z-40",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-ai-gradient rounded-lg flex items-center justify-center",children:u.jsx(ha,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-lg font-semibold",children:"AdmitConnect AI"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Admin Dashboard"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(PF,{to:"/analytics",children:u.jsxs(oe,{variant:"outline",size:"sm",children:[u.jsx(ul,{className:"w-4 h-4 mr-2"}),"Analytics"]})}),u.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>c(!0),children:[u.jsx(Xn,{className:"w-4 h-4 mr-2"}),"Upgrade"]}),u.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>o(!0),children:u.jsx(Vm,{className:"w-4 h-4"})}),u.jsx(oe,{variant:"ghost",size:"sm",onClick:g,children:u.jsx(hT,{className:"w-4 h-4"})})]})]})})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Admin Control Center "}),u.jsx("p",{className:"text-muted-foreground",children:"Manage campaigns, candidate data, and system configurations."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[u.jsx(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:u.jsx(vc,{className:"w-5 h-5 text-blue-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Campaigns"}),u.jsx("p",{className:"text-2xl font-bold",children:h.totalCampaigns})]})]})}),u.jsx(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:u.jsx($r,{className:"w-5 h-5 text-green-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Messages Sent"}),u.jsx("p",{className:"text-2xl font-bold",children:h.messagesSent})]})]})}),u.jsx(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Di,{className:"w-5 h-5 text-purple-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Calls Made"}),u.jsx("p",{className:"text-2xl font-bold",children:h.callsMade})]})]})}),u.jsx(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-orange-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Xn,{className:"w-5 h-5 text-orange-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Response Rate"}),u.jsxs("p",{className:"text-2xl font-bold",children:[h.responseRate,"%"]})]})]})})]}),u.jsxs($l,{defaultValue:"campaigns",className:"space-y-6",children:[u.jsxs(co,{className:"grid w-full grid-cols-7",children:[u.jsx(ct,{value:"campaigns",children:"Campaigns"}),u.jsx(ct,{value:"data",children:"Candidate Data"}),u.jsx(ct,{value:"agents",children:"Agent Control"}),u.jsx(ct,{value:"decision",children:"Decision Logic"}),u.jsx(ct,{value:"performance",children:"Performance"}),u.jsx(ct,{value:"retell",children:"Retell AI"}),u.jsx(ct,{value:"automation",children:"Automation"}),u.jsx(ct,{value:"notifications",children:"Notifications"})]}),u.jsxs(ut,{value:"campaigns",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Campaign Management"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(oe,{onClick:()=>a("create-campaign"),variant:"hero",children:[u.jsx(Gh,{className:"w-4 h-4 mr-2"}),"New Campaign"]}),d.length>0&&u.jsxs(oe,{onClick:()=>a("execute-campaign"),variant:"outline",children:[u.jsx(Fs,{className:"w-4 h-4 mr-2"}),"Execute"]})]})]}),d.length===0?u.jsxs(ee,{className:"p-8 text-center bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx(vc,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No campaigns yet"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first campaign to start reaching prospective students."}),u.jsx(oe,{onClick:()=>a("create-campaign"),variant:"hero",children:"Create Your First Campaign"})]}):u.jsx("div",{className:"grid grid-cols-1 gap-4",children:d.map(y=>u.jsx(xj,{campaign:y,onUpdate:m},y.id))})]}),u.jsx(ut,{value:"data",className:"space-y-6",children:u.jsx(SWe,{})}),u.jsx(ut,{value:"agents",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Enhanced Agent Control"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Advanced multi-agent coordination and intelligent execution"})]}),u.jsx(EWe,{})]})}),u.jsx(ut,{value:"decision",children:u.jsx(jWe,{})}),u.jsx(ut,{value:"performance",children:u.jsx(TWe,{})}),u.jsx(ut,{value:"retell",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Retell.ai Agent Integration"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"AI-powered voice calls with document analysis"})]}),u.jsx(kWe,{})]})}),u.jsx(ut,{value:"automation",children:u.jsx(zG,{})}),u.jsx(ut,{value:"notifications",children:u.jsx(UG,{})})]})]}),u.jsx(Ni,{open:i==="create-campaign",onOpenChange:y=>!y&&a(null),children:u.jsxs(ii,{className:"max-w-2xl",children:[u.jsx(ai,{children:u.jsx(si,{children:"Create New Campaign"})}),u.jsx(MH,{onCampaignCreated:()=>{a(null),m()}})]})}),u.jsx(Ni,{open:i==="upload-candidates",onOpenChange:y=>!y&&a(null),children:u.jsxs(ii,{className:"max-w-2xl",children:[u.jsx(ai,{children:u.jsx(si,{children:"Upload Candidates"})}),u.jsx(RH,{campaignId:(v=d[0])==null?void 0:v.id,onUploadComplete:()=>{a(null),m()}})]})}),u.jsx(Ni,{open:i==="execute-campaign",onOpenChange:y=>!y&&a(null),children:u.jsxs(ii,{className:"max-w-2xl",children:[u.jsx(ai,{children:u.jsx(si,{children:"Execute Campaign"})}),d.length>0&&u.jsx(YG,{campaign:d[0],onExecutionComplete:()=>{a(null),m(),r({title:"Campaign Executed",description:"Your campaign is now running across selected channels"})}})]})}),u.jsx(Kk,{open:s,onOpenChange:o}),u.jsx(rO,{open:l,onOpenChange:c})]})},NWe=()=>{const[t,e]=S.useState([]),[n,r]=S.useState([]),[i,a]=S.useState([]),[s,o]=S.useState(!0),[l,c]=S.useState("7d"),{toast:d}=Mt();S.useEffect(()=>{f()},[l]);const f=async()=>{o(!0);try{const E=h(l),{data:A,error:j}=await ze.from("campaign_analytics").select(`
          *,
          campaigns (name)
        `).gte("timestamp",E.toISOString()).order("timestamp",{ascending:!1});if(j)throw j;const C=p(A||[]);e(C);const T=m(A||[]);r(T);const O=g(A||[]);a(O)}catch(E){console.error("Error fetching analytics:",E),d({title:"Error",description:"Failed to load analytics data",variant:"destructive"})}finally{o(!1)}},h=E=>{const A=new Date;switch(E){case"24h":return new Date(A.getTime()-24*60*60*1e3);case"7d":return new Date(A.getTime()-7*24*60*60*1e3);case"30d":return new Date(A.getTime()-30*24*60*60*1e3);default:return new Date(A.getTime()-7*24*60*60*1e3)}},p=E=>{const A=E.reduce((j,C)=>{var O,P;const T=`${((O=C.campaigns)==null?void 0:O.name)||"Unknown"}-${C.event_type}-${C.channel}`;return j[T]||(j[T]={campaign_id:C.campaign_id,campaign_name:((P=C.campaigns)==null?void 0:P.name)||"Unknown",event_type:C.event_type,channel:C.channel,status:C.status,count:0,timestamp:C.timestamp}),j[T].count++,j},{});return Object.values(A)},m=E=>["email","voice","whatsapp"].map(j=>{const C=E.filter(B=>B.channel===j),T=C.filter(B=>B.event_type.includes("sent")||B.event_type.includes("initiated")).length,O=C.filter(B=>B.status==="success"&&B.event_type.includes("delivered")).length,P=C.filter(B=>B.event_type.includes("opened")||B.event_type.includes("answered")).length,H=C.filter(B=>B.event_type.includes("failed")||B.status==="failed").length,R=T>0?P/T*100:0;return{channel:j,sent:T,delivered:O,opened:P,failed:H,engagement_rate:Math.round(R*100)/100}}),g=E=>{const A=[],j=new Date;for(let C=6;C>=0;C--){const T=new Date(j.getTime()-C*24*60*60*1e3),O={date:T.toLocaleDateString(),email:0,voice:0,whatsapp:0};E.forEach(P=>{new Date(P.timestamp).toDateString()===T.toDateString()&&P.status==="success"&&(P.channel==="email"&&O.email++,P.channel==="voice"&&O.voice++,P.channel==="whatsapp"&&O.whatsapp++)}),A.push(O)}return A},v=async()=>{try{const E=y(),A=new Blob([E],{type:"text/csv"}),j=window.URL.createObjectURL(A),C=document.createElement("a");C.href=j,C.download=`agent-analytics-${l}-${new Date().toISOString().split("T")[0]}.csv`,C.click(),window.URL.revokeObjectURL(j),d({title:"Success",description:"Analytics report exported successfully"})}catch{d({title:"Error",description:"Failed to export report",variant:"destructive"})}},y=()=>{const E=["Campaign","Channel","Event Type","Status","Count","Timestamp"],A=t.map(j=>[j.campaign_name,j.channel,j.event_type,j.status,j.count,j.timestamp]);return[E,...A].map(j=>j.join(",")).join(`
`)},x=["#8884d8","#82ca9d","#ffc658","#ff7300"],b=n.reduce((E,A)=>E+A.opened,0),_=n.reduce((E,A)=>E+A.sent,0),w=_>0?b/_*100:0;return s?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx(fl,{className:"h-8 w-8 animate-spin"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Agent Analytics Dashboard"}),u.jsx("p",{className:"text-muted-foreground",children:"Track engagement across all channels"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("select",{className:"rounded-md border border-input bg-background px-3 py-2",value:l,onChange:E=>c(E.target.value),children:[u.jsx("option",{value:"24h",children:"Last 24 Hours"}),u.jsx("option",{value:"7d",children:"Last 7 Days"}),u.jsx("option",{value:"30d",children:"Last 30 Days"})]}),u.jsxs(oe,{onClick:f,variant:"outline",size:"sm",children:[u.jsx(fl,{className:"h-4 w-4 mr-2"}),"Refresh"]}),u.jsxs(oe,{onClick:v,variant:"outline",size:"sm",children:[u.jsx(fT,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsx(ee,{children:u.jsxs(Le,{className:"flex items-center justify-between p-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Sent"}),u.jsx("p",{className:"text-2xl font-bold",children:_})]}),u.jsx($r,{className:"h-8 w-8 text-muted-foreground"})]})}),u.jsx(ee,{children:u.jsxs(Le,{className:"flex items-center justify-between p-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Engagement"}),u.jsx("p",{className:"text-2xl font-bold",children:b})]}),u.jsx(Xn,{className:"h-8 w-8 text-muted-foreground"})]})}),u.jsx(ee,{children:u.jsxs(Le,{className:"flex items-center justify-between p-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Engagement Rate"}),u.jsxs("p",{className:"text-2xl font-bold",children:[w.toFixed(1),"%"]})]}),u.jsx(Ea,{className:"h-8 w-8 text-muted-foreground"})]})}),u.jsx(ee,{children:u.jsxs(Le,{className:"flex items-center justify-between p-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Channels"}),u.jsx("p",{className:"text-2xl font-bold",children:n.filter(E=>E.sent>0).length})]}),u.jsx(ti,{className:"h-8 w-8 text-muted-foreground"})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(ee,{children:[u.jsxs(We,{children:[u.jsx(Ve,{children:"Channel Performance"}),u.jsx(Xr,{children:"Messages sent and engagement by channel"})]}),u.jsx(Le,{children:u.jsx(cd,{width:"100%",height:300,children:u.jsxs(DG,{data:n,children:[u.jsx(Nm,{strokeDasharray:"3 3"}),u.jsx(_l,{dataKey:"channel"}),u.jsx(Sl,{}),u.jsx(lr,{}),u.jsx(rl,{}),u.jsx(Ii,{dataKey:"sent",fill:"#8884d8",name:"Sent"}),u.jsx(Ii,{dataKey:"opened",fill:"#82ca9d",name:"Engaged"}),u.jsx(Ii,{dataKey:"failed",fill:"#ff7300",name:"Failed"})]})})})]}),u.jsxs(ee,{children:[u.jsxs(We,{children:[u.jsx(Ve,{children:"Channel Distribution"}),u.jsx(Xr,{children:"Share of total messages by channel"})]}),u.jsx(Le,{children:u.jsx(cd,{width:"100%",height:300,children:u.jsxs(FG,{children:[u.jsx(vs,{data:n.filter(E=>E.sent>0),cx:"50%",cy:"50%",labelLine:!1,label:({channel:E,sent:A})=>`${E}: ${A}`,outerRadius:80,fill:"#8884d8",dataKey:"sent",children:n.map((E,A)=>u.jsx(yg,{fill:x[A%x.length]},`cell-${A}`))}),u.jsx(lr,{})]})})})]})]}),u.jsxs(ee,{children:[u.jsxs(We,{children:[u.jsx(Ve,{children:"Engagement Trends"}),u.jsx(Xr,{children:"Daily engagement across all channels"})]}),u.jsx(Le,{children:u.jsx(cd,{width:"100%",height:300,children:u.jsxs(LG,{data:i,children:[u.jsx(Nm,{strokeDasharray:"3 3"}),u.jsx(_l,{dataKey:"date"}),u.jsx(Sl,{}),u.jsx(lr,{}),u.jsx(rl,{}),u.jsx(al,{type:"monotone",dataKey:"email",stroke:"#8884d8",strokeWidth:2}),u.jsx(al,{type:"monotone",dataKey:"voice",stroke:"#82ca9d",strokeWidth:2}),u.jsx(al,{type:"monotone",dataKey:"whatsapp",stroke:"#ffc658",strokeWidth:2})]})})})]}),u.jsxs(ee,{children:[u.jsxs(We,{children:[u.jsx(Ve,{children:"Channel Details"}),u.jsx(Xr,{children:"Detailed performance metrics by channel"})]}),u.jsx(Le,{children:u.jsx("div",{className:"space-y-4",children:n.map(E=>{const A=E.channel==="email"?ti:E.channel==="voice"?Di:$r;return u.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(A,{className:"h-5 w-5"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium capitalize",children:E.channel}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[E.sent," sent, ",E.opened," engaged"]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs(on,{variant:E.engagement_rate>10?"default":"secondary",children:[E.engagement_rate,"% engagement"]}),E.failed>0&&u.jsxs("p",{className:"text-sm text-red-600 mt-1",children:[E.failed," failed"]})]})]},E.channel)})})})]})]})},PWe=()=>{const t=pi(),{user:e,signOut:n}=zn(),{toast:r}=Mt(),[i,a]=S.useState(!1),[s,o]=S.useState(!1),l=async()=>{try{await n(),t("/")}catch(c){console.error("Error signing out:",c),r({title:"Sign out failed",description:"Please try again",variant:"destructive"})}};return u.jsxs("div",{className:"min-h-screen bg-ai-gradient-subtle",children:[u.jsx("div",{className:"bg-card/50 backdrop-blur-sm border-b border-border/50 sticky top-0 z-40",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-ai-gradient rounded-lg flex items-center justify-center",children:u.jsx(ha,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-lg font-semibold",children:"AdmitConnect AI"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Analytics Dashboard"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(PF,{to:"/admin",children:u.jsxs(oe,{variant:"outline",size:"sm",children:[u.jsx(Ea,{className:"w-4 h-4 mr-2"}),"Admin"]})}),u.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>o(!0),children:[u.jsx(Xn,{className:"w-4 h-4 mr-2"}),"Upgrade"]}),u.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>a(!0),children:u.jsx(Vm,{className:"w-4 h-4"})}),u.jsx(oe,{variant:"ghost",size:"sm",onClick:l,children:u.jsx(hT,{className:"w-4 h-4"})})]})]})})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Analytics & Intelligence Center "}),u.jsx("p",{className:"text-muted-foreground",children:"Deep insights into campaign performance, agent analytics, and AI-driven intelligence."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[u.jsx(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:u.jsx(ul,{className:"w-5 h-5 text-blue-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Campaign Analytics"}),u.jsx("p",{className:"text-lg font-semibold",children:"Performance Tracking"})]})]})}),u.jsx(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Ds,{className:"w-5 h-5 text-green-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Agent Analytics"}),u.jsx("p",{className:"text-lg font-semibold",children:"Channel Performance"})]})]})}),u.jsx(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Mi,{className:"w-5 h-5 text-purple-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"AI Intelligence"}),u.jsx("p",{className:"text-lg font-semibold",children:"LLM & Agentic RAG"})]})]})}),u.jsx(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-orange-500/10 rounded-lg flex items-center justify-center",children:u.jsx(td,{className:"w-5 h-5 text-orange-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Data Distribution"}),u.jsx("p",{className:"text-lg font-semibold",children:"Layer Analytics"})]})]})})]}),u.jsxs($l,{defaultValue:"campaigns",className:"space-y-6",children:[u.jsxs(co,{className:"grid w-full grid-cols-4",children:[u.jsx(ct,{value:"campaigns",children:"Campaign Analytics"}),u.jsx(ct,{value:"agents",children:"Agent Performance"}),u.jsx(ct,{value:"intelligence",children:"AI Intelligence"}),u.jsx(ct,{value:"realtime",children:"Real-time Monitoring"})]}),u.jsxs(ut,{value:"campaigns",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Campaign Performance Analytics"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Comprehensive campaign metrics and insights"})]}),u.jsx(BG,{})]}),u.jsxs(ut,{value:"agents",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Agent Performance Dashboard"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Multi-channel agent analytics and performance metrics"})]}),u.jsx(NWe,{})]}),u.jsxs(ut,{value:"intelligence",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"AI Intelligence Center"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"LLM performance, Agentic RAG insights, and AI decision logic"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Mi,{className:"w-6 h-6 text-purple-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"LLM Performance"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Response Quality"}),u.jsx("span",{className:"font-semibold",children:"94.2%"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Average Response Time"}),u.jsx("span",{className:"font-semibold",children:"1.8s"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Context Retention"}),u.jsx("span",{className:"font-semibold",children:"98.7%"})]})]})]}),u.jsxs(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Rr,{className:"w-6 h-6 text-orange-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"Agentic RAG"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Knowledge Retrieval"}),u.jsx("span",{className:"font-semibold",children:"96.8%"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Context Relevance"}),u.jsx("span",{className:"font-semibold",children:"92.4%"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Decision Accuracy"}),u.jsx("span",{className:"font-semibold",children:"89.6%"})]})]})]})]}),u.jsxs(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(td,{className:"w-6 h-6 text-blue-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"Decision Logic & MCP Server"})]}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Intelligent routing and decision-making for automated campaigns and agent coordination."}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[u.jsx(Ds,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),u.jsx("p",{className:"font-semibold",children:"Active Decisions"}),u.jsx("p",{className:"text-2xl font-bold text-green-500",children:"1,247"})]}),u.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[u.jsx(Xn,{className:"w-8 h-8 text-blue-500 mx-auto mb-2"}),u.jsx("p",{className:"font-semibold",children:"Success Rate"}),u.jsx("p",{className:"text-2xl font-bold text-blue-500",children:"94.2%"})]}),u.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[u.jsx(Rr,{className:"w-8 h-8 text-purple-500 mx-auto mb-2"}),u.jsx("p",{className:"font-semibold",children:"Avg Process Time"}),u.jsx("p",{className:"text-2xl font-bold text-purple-500",children:"0.3s"})]})]})]})]}),u.jsxs(ut,{value:"realtime",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Real-time System Monitoring"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Live system performance and agent activity"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Ds,{className:"w-6 h-6 text-green-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"System Health"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Email Agent"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"Online"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Voice Agent"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"Online"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Messaging Agent"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"Online"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"AI Chatbot"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"Online"})]})]})]}),u.jsxs(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(ul,{className:"w-6 h-6 text-blue-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"Live Metrics"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Active Campaigns"}),u.jsx("span",{className:"text-blue-500 text-sm font-semibold",children:"7"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Messages Queued"}),u.jsx("span",{className:"text-orange-500 text-sm font-semibold",children:"23"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Processing Time"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"0.8s"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Success Rate"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"96.2%"})]})]})]}),u.jsxs(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Xn,{className:"w-6 h-6 text-purple-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"Recent Activity"})]}),u.jsxs("div",{className:"space-y-3 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Campaign started"}),u.jsx("span",{className:"text-muted-foreground",children:"2m ago"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"23 emails sent"}),u.jsx("span",{className:"text-muted-foreground",children:"5m ago"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Voice calls completed"}),u.jsx("span",{className:"text-muted-foreground",children:"8m ago"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Data sync completed"}),u.jsx("span",{className:"text-muted-foreground",children:"12m ago"})]})]})]})]})]})]})]}),u.jsx(Kk,{open:i,onOpenChange:a}),u.jsx(rO,{open:s,onOpenChange:o})]})},IWe=()=>{const[t,e]=S.useState(""),[n,r]=S.useState(""),[i,a]=S.useState(!1),[s,o]=S.useState(!1),[l,c]=S.useState({}),[d,f]=S.useState({}),h=pi(),{toast:p}=Mt();S.useEffect(()=>{const{data:{subscription:y}}=ze.auth.onAuthStateChange(async(x,b)=>{if(x==="PASSWORD_RECOVERY")console.log("Password recovery session active");else if(x!=="SIGNED_IN"){if(x==="SIGNED_OUT"){const _=window.location.hash;!_||_.includes("type=recovery")}}});return ze.auth.getSession().then(({data:{session:x}})=>{if(!x){const b=window.location.hash;(!b||!b.includes("type=recovery"))&&(p({title:"Invalid or expired reset link",description:"Please request a new password reset link.",variant:"destructive"}),h("/auth"))}}),()=>{y.unsubscribe()}},[h,p]);const m=y=>{const x={...l},b={...d};return y.trim()?y.length<8?(x.password="Password must be at least 8 characters",b.password=!1):(delete x.password,b.password=!0):(x.password="Password is required",b.password=!1),c(x),f(b),!x.password},g=y=>{const x={...l},b={...d};return y.trim()?y!==t?(x.confirmPassword="Passwords do not match",b.confirmPassword=!1):(delete x.confirmPassword,b.confirmPassword=!0):(x.confirmPassword="Please confirm your password",b.confirmPassword=!1),c(x),f(b),!x.confirmPassword},v=async y=>{y.preventDefault();const x=m(t),b=g(n);if(!(!x||!b)){a(!0);try{const{error:_}=await ze.auth.updateUser({password:t});if(_)throw _;o(!0),p({title:"Password reset successful!",description:"You can now sign in with your new password."}),setTimeout(()=>{h("/auth")},2e3)}catch(_){console.error("Password reset error:",_),p({title:"Failed to reset password",description:_.message||"Please try again",variant:"destructive"})}finally{a(!1)}}};return u.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:[u.jsx(hH,{title:"Reset Password - AdmitConnect AI",description:"Reset your AdmitConnect AI account password"}),u.jsx(ee,{className:"max-w-md w-full p-8 bg-card/95 backdrop-blur-sm border-border/50",children:s?u.jsxs("div",{className:"text-center space-y-6 animate-fade-in",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center mx-auto bg-green-500 animate-bounce-in",children:u.jsx(ei,{className:"w-8 h-8 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Password Reset!"}),u.jsx("p",{className:"text-muted-foreground",children:"Redirecting you to sign in..."})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 bg-ai-gradient animate-bounce-in",children:u.jsx(Eee,{className:"w-8 h-8 text-white"})}),u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Reset Your Password"}),u.jsx("p",{className:"text-muted-foreground",children:"Enter your new password below"})]}),u.jsxs("form",{onSubmit:v,className:"space-y-4",children:[u.jsx(oa,{label:"New Password",id:"newPassword",type:"password",value:t,onChange:y=>{e(y),y.trim()&&m(y)},placeholder:"Enter new password",error:l.password,success:d.password,required:!0}),u.jsx(oa,{label:"Confirm Password",id:"confirmPassword",type:"password",value:n,onChange:y=>{r(y),y.trim()&&g(y)},placeholder:"Confirm new password",error:l.confirmPassword,success:d.confirmPassword,required:!0}),u.jsx(nl,{type:"submit",variant:"hero",size:"lg",className:"w-full",disabled:i||!t.trim()||!n.trim(),children:i?u.jsxs(u.Fragment,{children:[u.jsx(Yc,{size:"sm",className:"mr-2"}),"Resetting Password..."]}):"Reset Password"})]})]})})]})},$We=new kZ,RWe=()=>{const[t,e]=S.useState(!0),[n,r]=S.useState(!1);S.useEffect(()=>{const a=!sessionStorage.getItem("app-loaded"),s=window.matchMedia("(display-mode: standalone)").matches;a||s?(sessionStorage.setItem("app-loaded","true"),e(!0)):(e(!1),r(!0))},[]);const i=()=>{r(!0)};return t&&!n?u.jsx(vye,{onComplete:i}):u.jsx(gye,{children:u.jsx(FF,{children:u.jsx(NZ,{client:$We,children:u.jsx(MJ,{attribute:"class",defaultTheme:"dark",enableSystem:!0,children:u.jsxs(QB,{children:[u.jsx(fte,{}),u.jsx(Lte,{}),u.jsx(Cae,{children:u.jsxs(TJ,{basename:"/admit-ai-nexus/",children:[u.jsx(yye,{}),u.jsx(mye,{}),u.jsxs(bJ,{children:[u.jsx(Ma,{path:"/",element:u.jsx(l0e,{})}),u.jsx(Ma,{path:"/auth",element:u.jsx(c0e,{})}),u.jsx(Ma,{path:"/reset-password",element:u.jsx(IWe,{})}),u.jsx(Ma,{path:"/about",element:u.jsx(bWe,{})}),u.jsx(Ma,{path:"/our-services",element:u.jsx(wWe,{})}),u.jsx(Ma,{path:"/dashboard",element:u.jsx(C_,{children:u.jsx(xWe,{})})}),u.jsx(Ma,{path:"/admin",element:u.jsx(C_,{children:u.jsx(OWe,{})})}),u.jsx(Ma,{path:"/analytics",element:u.jsx(C_,{children:u.jsx(PWe,{})})}),u.jsx(Ma,{path:"*",element:u.jsx(_We,{})})]}),u.jsx(hye,{}),u.jsx(pye,{})]})})]})})})})})};mF(document.getElementById("root")).render(u.jsx(RWe,{}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});
