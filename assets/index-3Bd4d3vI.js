var ZK=Object.defineProperty;var HN=t=>{throw TypeError(t)};var JK=(t,e,n)=>e in t?ZK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var H=(t,e,n)=>JK(t,typeof e!="symbol"?e+"":e,n),Ww=(t,e,n)=>e.has(t)||HN("Cannot "+n);var ne=(t,e,n)=>(Ww(t,e,"read from private field"),n?n.call(t):e.get(t)),vt=(t,e,n)=>e.has(t)?HN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),nt=(t,e,n,r)=>(Ww(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Hn=(t,e,n)=>(Ww(t,e,"access private method"),n);var Mg=(t,e,n,r)=>({set _(i){nt(t,e,i,n)},get _(){return ne(t,e,r)}});function QK(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var un=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function at(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function eY(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var y5={exports:{}},Cx={},v5={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym=Symbol.for("react.element"),tY=Symbol.for("react.portal"),nY=Symbol.for("react.fragment"),rY=Symbol.for("react.strict_mode"),iY=Symbol.for("react.profiler"),aY=Symbol.for("react.provider"),sY=Symbol.for("react.context"),oY=Symbol.for("react.forward_ref"),lY=Symbol.for("react.suspense"),cY=Symbol.for("react.memo"),uY=Symbol.for("react.lazy"),VN=Symbol.iterator;function dY(t){return t===null||typeof t!="object"?null:(t=VN&&t[VN]||t["@@iterator"],typeof t=="function"?t:null)}var x5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b5=Object.assign,w5={};function Tf(t,e,n){this.props=t,this.context=e,this.refs=w5,this.updater=n||x5}Tf.prototype.isReactComponent={};Tf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _5(){}_5.prototype=Tf.prototype;function gT(t,e,n){this.props=t,this.context=e,this.refs=w5,this.updater=n||x5}var yT=gT.prototype=new _5;yT.constructor=gT;b5(yT,Tf.prototype);yT.isPureReactComponent=!0;var WN=Array.isArray,S5=Object.prototype.hasOwnProperty,vT={current:null},E5={key:!0,ref:!0,__self:!0,__source:!0};function j5(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)S5.call(e,r)&&!E5.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Ym,type:t,key:a,ref:s,props:i,_owner:vT.current}}function fY(t,e){return{$$typeof:Ym,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xT(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ym}function hY(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var qN=/\/+/g;function qw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hY(""+t.key):e.toString(36)}function qy(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ym:case tY:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+qw(s,0):r,WN(i)?(n="",t!=null&&(n=t.replace(qN,"$&/")+"/"),qy(i,e,n,"",function(c){return c})):i!=null&&(xT(i)&&(i=fY(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(qN,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",WN(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+qw(a,o);s+=qy(a,e,n,l,i)}else if(l=dY(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+qw(a,o++),s+=qy(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Dg(t,e,n){if(t==null)return t;var r=[],i=0;return qy(t,r,"","",function(a){return e.call(n,a,i++)}),r}function pY(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pr={current:null},Gy={transition:null},mY={ReactCurrentDispatcher:pr,ReactCurrentBatchConfig:Gy,ReactCurrentOwner:vT};function A5(){throw Error("act(...) is not supported in production builds of React.")}lt.Children={map:Dg,forEach:function(t,e,n){Dg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Dg(t,function(){e++}),e},toArray:function(t){return Dg(t,function(e){return e})||[]},only:function(t){if(!xT(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};lt.Component=Tf;lt.Fragment=nY;lt.Profiler=iY;lt.PureComponent=gT;lt.StrictMode=rY;lt.Suspense=lY;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mY;lt.act=A5;lt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=b5({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=vT.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)S5.call(e,l)&&!E5.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Ym,type:t.type,key:i,ref:a,props:r,_owner:s}};lt.createContext=function(t){return t={$$typeof:sY,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:aY,_context:t},t.Consumer=t};lt.createElement=j5;lt.createFactory=function(t){var e=j5.bind(null,t);return e.type=t,e};lt.createRef=function(){return{current:null}};lt.forwardRef=function(t){return{$$typeof:oY,render:t}};lt.isValidElement=xT;lt.lazy=function(t){return{$$typeof:uY,_payload:{_status:-1,_result:t},_init:pY}};lt.memo=function(t,e){return{$$typeof:cY,type:t,compare:e===void 0?null:e}};lt.startTransition=function(t){var e=Gy.transition;Gy.transition={};try{t()}finally{Gy.transition=e}};lt.unstable_act=A5;lt.useCallback=function(t,e){return pr.current.useCallback(t,e)};lt.useContext=function(t){return pr.current.useContext(t)};lt.useDebugValue=function(){};lt.useDeferredValue=function(t){return pr.current.useDeferredValue(t)};lt.useEffect=function(t,e){return pr.current.useEffect(t,e)};lt.useId=function(){return pr.current.useId()};lt.useImperativeHandle=function(t,e,n){return pr.current.useImperativeHandle(t,e,n)};lt.useInsertionEffect=function(t,e){return pr.current.useInsertionEffect(t,e)};lt.useLayoutEffect=function(t,e){return pr.current.useLayoutEffect(t,e)};lt.useMemo=function(t,e){return pr.current.useMemo(t,e)};lt.useReducer=function(t,e,n){return pr.current.useReducer(t,e,n)};lt.useRef=function(t){return pr.current.useRef(t)};lt.useState=function(t){return pr.current.useState(t)};lt.useSyncExternalStore=function(t,e,n){return pr.current.useSyncExternalStore(t,e,n)};lt.useTransition=function(){return pr.current.useTransition()};lt.version="18.3.1";v5.exports=lt;var S=v5.exports;const M=at(S),T5=QK({__proto__:null,default:M},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gY=S,yY=Symbol.for("react.element"),vY=Symbol.for("react.fragment"),xY=Object.prototype.hasOwnProperty,bY=gY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wY={key:!0,ref:!0,__self:!0,__source:!0};function k5(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)xY.call(e,r)&&!wY.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:yY,type:t,key:a,ref:s,props:i,_owner:bY.current}}Cx.Fragment=vY;Cx.jsx=k5;Cx.jsxs=k5;y5.exports=Cx;var u=y5.exports,C5={exports:{}},fi={},O5={exports:{}},N5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,B){var P=L.length;L.push(B);e:for(;0<P;){var W=P-1>>>1,G=L[W];if(0<i(G,B))L[W]=B,L[P]=G,P=W;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var B=L[0],P=L.pop();if(P!==B){L[0]=P;e:for(var W=0,G=L.length,$=G>>>1;W<$;){var ee=2*(W+1)-1,ie=L[ee],I=ee+1,N=L[I];if(0>i(ie,P))I<G&&0>i(N,ie)?(L[W]=N,L[I]=P,W=I):(L[W]=ie,L[ee]=P,W=ee);else if(I<G&&0>i(N,P))L[W]=N,L[I]=P,W=I;else break e}}return B}function i(L,B){var P=L.sortIndex-B.sortIndex;return P!==0?P:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(L){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=L)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function _(L){if(g=!1,y(L),!m)if(n(l)!==null)m=!0,U(w);else{var B=n(c);B!==null&&V(_,B.startTime-L)}}function w(L,B){m=!1,g&&(g=!1,b(j),j=-1),p=!0;var P=h;try{for(y(B),f=n(l);f!==null&&(!(f.expirationTime>B)||L&&!C());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var G=W(f.expirationTime<=B);B=t.unstable_now(),typeof G=="function"?f.callback=G:f===n(l)&&r(l),y(B)}else r(l);f=n(l)}if(f!==null)var $=!0;else{var ee=n(c);ee!==null&&V(_,ee.startTime-B),$=!1}return $}finally{f=null,h=P,p=!1}}var E=!1,A=null,j=-1,T=5,k=-1;function C(){return!(t.unstable_now()-k<T)}function O(){if(A!==null){var L=t.unstable_now();k=L;var B=!0;try{B=A(!0,L)}finally{B?F():(E=!1,A=null)}}else E=!1}var F;if(typeof v=="function")F=function(){v(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,D=R.port2;R.port1.onmessage=O,F=function(){D.postMessage(null)}}else F=function(){x(O,0)};function U(L){A=L,E||(E=!0,F())}function V(L,B){j=x(function(){L(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,U(w))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var P=h;h=B;try{return L()}finally{h=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var P=h;h=L;try{return B()}finally{h=P}},t.unstable_scheduleCallback=function(L,B,P){var W=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?W+P:W):P=W,L){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=P+G,L={id:d++,callback:B,priorityLevel:L,startTime:P,expirationTime:G,sortIndex:-1},P>W?(L.sortIndex=P,e(c,L),n(l)===null&&L===n(c)&&(g?(b(j),j=-1):g=!0,V(_,P-W))):(L.sortIndex=G,e(l,L),m||p||(m=!0,U(w))),L},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(L){var B=h;return function(){var P=h;h=B;try{return L.apply(this,arguments)}finally{h=P}}}})(N5);O5.exports=N5;var _Y=O5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SY=S,li=_Y;function ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var P5=new Set,Tp={};function Xc(t,e){Pd(t,e),Pd(t+"Capture",e)}function Pd(t,e){for(Tp[t]=e,t=0;t<e.length;t++)P5.add(e[t])}var qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lS=Object.prototype.hasOwnProperty,EY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,GN={},KN={};function jY(t){return lS.call(KN,t)?!0:lS.call(GN,t)?!1:EY.test(t)?KN[t]=!0:(GN[t]=!0,!1)}function AY(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function TY(t,e,n,r){if(e===null||typeof e>"u"||AY(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mr(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var zn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zn[t]=new mr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zn[e]=new mr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zn[t]=new mr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zn[t]=new mr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zn[t]=new mr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zn[t]=new mr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zn[t]=new mr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zn[t]=new mr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zn[t]=new mr(t,5,!1,t.toLowerCase(),null,!1,!1)});var bT=/[\-:]([a-z])/g;function wT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bT,wT);zn[e]=new mr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bT,wT);zn[e]=new mr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bT,wT);zn[e]=new mr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zn[t]=new mr(t,1,!1,t.toLowerCase(),null,!1,!1)});zn.xlinkHref=new mr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zn[t]=new mr(t,1,!1,t.toLowerCase(),null,!0,!0)});function _T(t,e,n,r){var i=zn.hasOwnProperty(e)?zn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(TY(e,n,i,r)&&(n=null),r||i===null?jY(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var co=SY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lg=Symbol.for("react.element"),Lu=Symbol.for("react.portal"),Fu=Symbol.for("react.fragment"),ST=Symbol.for("react.strict_mode"),cS=Symbol.for("react.profiler"),I5=Symbol.for("react.provider"),$5=Symbol.for("react.context"),ET=Symbol.for("react.forward_ref"),uS=Symbol.for("react.suspense"),dS=Symbol.for("react.suspense_list"),jT=Symbol.for("react.memo"),Co=Symbol.for("react.lazy"),R5=Symbol.for("react.offscreen"),YN=Symbol.iterator;function sh(t){return t===null||typeof t!="object"?null:(t=YN&&t[YN]||t["@@iterator"],typeof t=="function"?t:null)}var Qt=Object.assign,Gw;function Ih(t){if(Gw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gw=e&&e[1]||""}return`
`+Gw+t}var Kw=!1;function Yw(t,e){if(!t||Kw)return"";Kw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{Kw=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ih(t):""}function kY(t){switch(t.tag){case 5:return Ih(t.type);case 16:return Ih("Lazy");case 13:return Ih("Suspense");case 19:return Ih("SuspenseList");case 0:case 2:case 15:return t=Yw(t.type,!1),t;case 11:return t=Yw(t.type.render,!1),t;case 1:return t=Yw(t.type,!0),t;default:return""}}function fS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fu:return"Fragment";case Lu:return"Portal";case cS:return"Profiler";case ST:return"StrictMode";case uS:return"Suspense";case dS:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $5:return(t.displayName||"Context")+".Consumer";case I5:return(t._context.displayName||"Context")+".Provider";case ET:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jT:return e=t.displayName||null,e!==null?e:fS(t.type)||"Memo";case Co:e=t._payload,t=t._init;try{return fS(t(e))}catch{}}return null}function CY(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fS(e);case 8:return e===ST?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function cl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function M5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function OY(t){var e=M5(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fg(t){t._valueTracker||(t._valueTracker=OY(t))}function D5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=M5(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hS(t,e){var n=e.checked;return Qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function XN(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=cl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function L5(t,e){e=e.checked,e!=null&&_T(t,"checked",e,!1)}function pS(t,e){L5(t,e);var n=cl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mS(t,e.type,n):e.hasOwnProperty("defaultValue")&&mS(t,e.type,cl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ZN(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function mS(t,e,n){(e!=="number"||xv(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var $h=Array.isArray;function rd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+cl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function gS(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ce(91));return Qt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function JN(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ce(92));if($h(n)){if(1<n.length)throw Error(ce(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:cl(n)}}function F5(t,e){var n=cl(e.value),r=cl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function QN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function B5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yS(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?B5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bg,z5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bg=Bg||document.createElement("div"),Bg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Yh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},NY=["Webkit","ms","Moz","O"];Object.keys(Yh).forEach(function(t){NY.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Yh[e]=Yh[t]})});function U5(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Yh.hasOwnProperty(t)&&Yh[t]?(""+e).trim():e+"px"}function H5(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=U5(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var PY=Qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vS(t,e){if(e){if(PY[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ce(62))}}function xS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bS=null;function AT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wS=null,id=null,ad=null;function eP(t){if(t=Jm(t)){if(typeof wS!="function")throw Error(ce(280));var e=t.stateNode;e&&(e=$x(e),wS(t.stateNode,t.type,e))}}function V5(t){id?ad?ad.push(t):ad=[t]:id=t}function W5(){if(id){var t=id,e=ad;if(ad=id=null,eP(t),e)for(t=0;t<e.length;t++)eP(e[t])}}function q5(t,e){return t(e)}function G5(){}var Xw=!1;function K5(t,e,n){if(Xw)return t(e,n);Xw=!0;try{return q5(t,e,n)}finally{Xw=!1,(id!==null||ad!==null)&&(G5(),W5())}}function Cp(t,e){var n=t.stateNode;if(n===null)return null;var r=$x(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ce(231,e,typeof n));return n}var _S=!1;if(qs)try{var oh={};Object.defineProperty(oh,"passive",{get:function(){_S=!0}}),window.addEventListener("test",oh,oh),window.removeEventListener("test",oh,oh)}catch{_S=!1}function IY(t,e,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Xh=!1,bv=null,wv=!1,SS=null,$Y={onError:function(t){Xh=!0,bv=t}};function RY(t,e,n,r,i,a,s,o,l){Xh=!1,bv=null,IY.apply($Y,arguments)}function MY(t,e,n,r,i,a,s,o,l){if(RY.apply(this,arguments),Xh){if(Xh){var c=bv;Xh=!1,bv=null}else throw Error(ce(198));wv||(wv=!0,SS=c)}}function Zc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Y5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tP(t){if(Zc(t)!==t)throw Error(ce(188))}function DY(t){var e=t.alternate;if(!e){if(e=Zc(t),e===null)throw Error(ce(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return tP(i),t;if(a===r)return tP(i),e;a=a.sibling}throw Error(ce(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(ce(189))}}if(n.alternate!==r)throw Error(ce(190))}if(n.tag!==3)throw Error(ce(188));return n.stateNode.current===n?t:e}function X5(t){return t=DY(t),t!==null?Z5(t):null}function Z5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Z5(t);if(e!==null)return e;t=t.sibling}return null}var J5=li.unstable_scheduleCallback,nP=li.unstable_cancelCallback,LY=li.unstable_shouldYield,FY=li.unstable_requestPaint,ln=li.unstable_now,BY=li.unstable_getCurrentPriorityLevel,TT=li.unstable_ImmediatePriority,Q5=li.unstable_UserBlockingPriority,_v=li.unstable_NormalPriority,zY=li.unstable_LowPriority,e3=li.unstable_IdlePriority,Ox=null,Qa=null;function UY(t){if(Qa&&typeof Qa.onCommitFiberRoot=="function")try{Qa.onCommitFiberRoot(Ox,t,void 0,(t.current.flags&128)===128)}catch{}}var fa=Math.clz32?Math.clz32:WY,HY=Math.log,VY=Math.LN2;function WY(t){return t>>>=0,t===0?32:31-(HY(t)/VY|0)|0}var zg=64,Ug=4194304;function Rh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sv(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=Rh(o):(a&=s,a!==0&&(r=Rh(a)))}else s=n&~i,s!==0?r=Rh(s):a!==0&&(r=Rh(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fa(e),i=1<<n,r|=t[n],e&=~i;return r}function qY(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GY(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-fa(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=qY(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function ES(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function t3(){var t=zg;return zg<<=1,!(zg&4194240)&&(zg=64),t}function Zw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fa(e),t[e]=n}function KY(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-fa(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function kT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fa(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _t=0;function n3(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var r3,CT,i3,a3,s3,jS=!1,Hg=[],Xo=null,Zo=null,Jo=null,Op=new Map,Np=new Map,Io=[],YY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rP(t,e){switch(t){case"focusin":case"focusout":Xo=null;break;case"dragenter":case"dragleave":Zo=null;break;case"mouseover":case"mouseout":Jo=null;break;case"pointerover":case"pointerout":Op.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Np.delete(e.pointerId)}}function lh(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Jm(e),e!==null&&CT(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function XY(t,e,n,r,i){switch(e){case"focusin":return Xo=lh(Xo,t,e,n,r,i),!0;case"dragenter":return Zo=lh(Zo,t,e,n,r,i),!0;case"mouseover":return Jo=lh(Jo,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Op.set(a,lh(Op.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Np.set(a,lh(Np.get(a)||null,t,e,n,r,i)),!0}return!1}function o3(t){var e=lc(t.target);if(e!==null){var n=Zc(e);if(n!==null){if(e=n.tag,e===13){if(e=Y5(n),e!==null){t.blockedOn=e,s3(t.priority,function(){i3(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ky(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=AS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);bS=r,n.target.dispatchEvent(r),bS=null}else return e=Jm(n),e!==null&&CT(e),t.blockedOn=n,!1;e.shift()}return!0}function iP(t,e,n){Ky(t)&&n.delete(e)}function ZY(){jS=!1,Xo!==null&&Ky(Xo)&&(Xo=null),Zo!==null&&Ky(Zo)&&(Zo=null),Jo!==null&&Ky(Jo)&&(Jo=null),Op.forEach(iP),Np.forEach(iP)}function ch(t,e){t.blockedOn===e&&(t.blockedOn=null,jS||(jS=!0,li.unstable_scheduleCallback(li.unstable_NormalPriority,ZY)))}function Pp(t){function e(i){return ch(i,t)}if(0<Hg.length){ch(Hg[0],t);for(var n=1;n<Hg.length;n++){var r=Hg[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xo!==null&&ch(Xo,t),Zo!==null&&ch(Zo,t),Jo!==null&&ch(Jo,t),Op.forEach(e),Np.forEach(e),n=0;n<Io.length;n++)r=Io[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Io.length&&(n=Io[0],n.blockedOn===null);)o3(n),n.blockedOn===null&&Io.shift()}var sd=co.ReactCurrentBatchConfig,Ev=!0;function JY(t,e,n,r){var i=_t,a=sd.transition;sd.transition=null;try{_t=1,OT(t,e,n,r)}finally{_t=i,sd.transition=a}}function QY(t,e,n,r){var i=_t,a=sd.transition;sd.transition=null;try{_t=4,OT(t,e,n,r)}finally{_t=i,sd.transition=a}}function OT(t,e,n,r){if(Ev){var i=AS(t,e,n,r);if(i===null)o_(t,e,r,jv,n),rP(t,r);else if(XY(i,t,e,n,r))r.stopPropagation();else if(rP(t,r),e&4&&-1<YY.indexOf(t)){for(;i!==null;){var a=Jm(i);if(a!==null&&r3(a),a=AS(t,e,n,r),a===null&&o_(t,e,r,jv,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else o_(t,e,r,null,n)}}var jv=null;function AS(t,e,n,r){if(jv=null,t=AT(r),t=lc(t),t!==null)if(e=Zc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Y5(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jv=t,null}function l3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BY()){case TT:return 1;case Q5:return 4;case _v:case zY:return 16;case e3:return 536870912;default:return 16}default:return 16}}var Uo=null,NT=null,Yy=null;function c3(){if(Yy)return Yy;var t,e=NT,n=e.length,r,i="value"in Uo?Uo.value:Uo.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return Yy=i.slice(t,1<r?1-r:void 0)}function Xy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vg(){return!0}function aP(){return!1}function hi(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Vg:aP,this.isPropagationStopped=aP,this}return Qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vg)},persist:function(){},isPersistent:Vg}),e}var kf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},PT=hi(kf),Zm=Qt({},kf,{view:0,detail:0}),eX=hi(Zm),Jw,Qw,uh,Nx=Qt({},Zm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:IT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==uh&&(uh&&t.type==="mousemove"?(Jw=t.screenX-uh.screenX,Qw=t.screenY-uh.screenY):Qw=Jw=0,uh=t),Jw)},movementY:function(t){return"movementY"in t?t.movementY:Qw}}),sP=hi(Nx),tX=Qt({},Nx,{dataTransfer:0}),nX=hi(tX),rX=Qt({},Zm,{relatedTarget:0}),e_=hi(rX),iX=Qt({},kf,{animationName:0,elapsedTime:0,pseudoElement:0}),aX=hi(iX),sX=Qt({},kf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oX=hi(sX),lX=Qt({},kf,{data:0}),oP=hi(lX),cX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fX(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dX[t])?!!e[t]:!1}function IT(){return fX}var hX=Qt({},Zm,{key:function(t){if(t.key){var e=cX[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uX[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:IT,charCode:function(t){return t.type==="keypress"?Xy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pX=hi(hX),mX=Qt({},Nx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lP=hi(mX),gX=Qt({},Zm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:IT}),yX=hi(gX),vX=Qt({},kf,{propertyName:0,elapsedTime:0,pseudoElement:0}),xX=hi(vX),bX=Qt({},Nx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wX=hi(bX),_X=[9,13,27,32],$T=qs&&"CompositionEvent"in window,Zh=null;qs&&"documentMode"in document&&(Zh=document.documentMode);var SX=qs&&"TextEvent"in window&&!Zh,u3=qs&&(!$T||Zh&&8<Zh&&11>=Zh),cP=" ",uP=!1;function d3(t,e){switch(t){case"keyup":return _X.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bu=!1;function EX(t,e){switch(t){case"compositionend":return f3(e);case"keypress":return e.which!==32?null:(uP=!0,cP);case"textInput":return t=e.data,t===cP&&uP?null:t;default:return null}}function jX(t,e){if(Bu)return t==="compositionend"||!$T&&d3(t,e)?(t=c3(),Yy=NT=Uo=null,Bu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return u3&&e.locale!=="ko"?null:e.data;default:return null}}var AX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!AX[t.type]:e==="textarea"}function h3(t,e,n,r){V5(r),e=Av(e,"onChange"),0<e.length&&(n=new PT("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Jh=null,Ip=null;function TX(t){E3(t,0)}function Px(t){var e=Hu(t);if(D5(e))return t}function kX(t,e){if(t==="change")return e}var p3=!1;if(qs){var t_;if(qs){var n_="oninput"in document;if(!n_){var fP=document.createElement("div");fP.setAttribute("oninput","return;"),n_=typeof fP.oninput=="function"}t_=n_}else t_=!1;p3=t_&&(!document.documentMode||9<document.documentMode)}function hP(){Jh&&(Jh.detachEvent("onpropertychange",m3),Ip=Jh=null)}function m3(t){if(t.propertyName==="value"&&Px(Ip)){var e=[];h3(e,Ip,t,AT(t)),K5(TX,e)}}function CX(t,e,n){t==="focusin"?(hP(),Jh=e,Ip=n,Jh.attachEvent("onpropertychange",m3)):t==="focusout"&&hP()}function OX(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Px(Ip)}function NX(t,e){if(t==="click")return Px(e)}function PX(t,e){if(t==="input"||t==="change")return Px(e)}function IX(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ba=typeof Object.is=="function"?Object.is:IX;function $p(t,e){if(ba(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!lS.call(e,i)||!ba(t[i],e[i]))return!1}return!0}function pP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mP(t,e){var n=pP(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pP(n)}}function g3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?g3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function y3(){for(var t=window,e=xv();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xv(t.document)}return e}function RT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $X(t){var e=y3(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&g3(n.ownerDocument.documentElement,n)){if(r!==null&&RT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=mP(n,a);var s=mP(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var RX=qs&&"documentMode"in document&&11>=document.documentMode,zu=null,TS=null,Qh=null,kS=!1;function gP(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kS||zu==null||zu!==xv(r)||(r=zu,"selectionStart"in r&&RT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qh&&$p(Qh,r)||(Qh=r,r=Av(TS,"onSelect"),0<r.length&&(e=new PT("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=zu)))}function Wg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Uu={animationend:Wg("Animation","AnimationEnd"),animationiteration:Wg("Animation","AnimationIteration"),animationstart:Wg("Animation","AnimationStart"),transitionend:Wg("Transition","TransitionEnd")},r_={},v3={};qs&&(v3=document.createElement("div").style,"AnimationEvent"in window||(delete Uu.animationend.animation,delete Uu.animationiteration.animation,delete Uu.animationstart.animation),"TransitionEvent"in window||delete Uu.transitionend.transition);function Ix(t){if(r_[t])return r_[t];if(!Uu[t])return t;var e=Uu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in v3)return r_[t]=e[n];return t}var x3=Ix("animationend"),b3=Ix("animationiteration"),w3=Ix("animationstart"),_3=Ix("transitionend"),S3=new Map,yP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tl(t,e){S3.set(t,e),Xc(e,[t])}for(var i_=0;i_<yP.length;i_++){var a_=yP[i_],MX=a_.toLowerCase(),DX=a_[0].toUpperCase()+a_.slice(1);Tl(MX,"on"+DX)}Tl(x3,"onAnimationEnd");Tl(b3,"onAnimationIteration");Tl(w3,"onAnimationStart");Tl("dblclick","onDoubleClick");Tl("focusin","onFocus");Tl("focusout","onBlur");Tl(_3,"onTransitionEnd");Pd("onMouseEnter",["mouseout","mouseover"]);Pd("onMouseLeave",["mouseout","mouseover"]);Pd("onPointerEnter",["pointerout","pointerover"]);Pd("onPointerLeave",["pointerout","pointerover"]);Xc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LX=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mh));function vP(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,MY(r,e,void 0,t),t.currentTarget=null}function E3(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;vP(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;vP(i,o,c),a=l}}}if(wv)throw t=SS,wv=!1,SS=null,t}function Lt(t,e){var n=e[IS];n===void 0&&(n=e[IS]=new Set);var r=t+"__bubble";n.has(r)||(j3(e,t,2,!1),n.add(r))}function s_(t,e,n){var r=0;e&&(r|=4),j3(n,t,r,e)}var qg="_reactListening"+Math.random().toString(36).slice(2);function Rp(t){if(!t[qg]){t[qg]=!0,P5.forEach(function(n){n!=="selectionchange"&&(LX.has(n)||s_(n,!1,t),s_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qg]||(e[qg]=!0,s_("selectionchange",!1,e))}}function j3(t,e,n,r){switch(l3(e)){case 1:var i=JY;break;case 4:i=QY;break;default:i=OT}n=i.bind(null,e,n,t),i=void 0,!_S||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function o_(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=lc(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}K5(function(){var c=a,d=AT(n),f=[];e:{var h=S3.get(t);if(h!==void 0){var p=PT,m=t;switch(t){case"keypress":if(Xy(n)===0)break e;case"keydown":case"keyup":p=pX;break;case"focusin":m="focus",p=e_;break;case"focusout":m="blur",p=e_;break;case"beforeblur":case"afterblur":p=e_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=sP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=nX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=yX;break;case x3:case b3:case w3:p=aX;break;case _3:p=xX;break;case"scroll":p=eX;break;case"wheel":p=wX;break;case"copy":case"cut":case"paste":p=oX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=lP}var g=(e&4)!==0,x=!g&&t==="scroll",b=g?h!==null?h+"Capture":null:h;g=[];for(var v=c,y;v!==null;){y=v;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,b!==null&&(_=Cp(v,b),_!=null&&g.push(Mp(v,_,y)))),x)break;v=v.return}0<g.length&&(h=new p(h,m,null,n,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==bS&&(m=n.relatedTarget||n.fromElement)&&(lc(m)||m[Gs]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?lc(m):null,m!==null&&(x=Zc(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=sP,_="onMouseLeave",b="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=lP,_="onPointerLeave",b="onPointerEnter",v="pointer"),x=p==null?h:Hu(p),y=m==null?h:Hu(m),h=new g(_,v+"leave",p,n,d),h.target=x,h.relatedTarget=y,_=null,lc(d)===c&&(g=new g(b,v+"enter",m,n,d),g.target=y,g.relatedTarget=x,_=g),x=_,p&&m)t:{for(g=p,b=m,v=0,y=g;y;y=fu(y))v++;for(y=0,_=b;_;_=fu(_))y++;for(;0<v-y;)g=fu(g),v--;for(;0<y-v;)b=fu(b),y--;for(;v--;){if(g===b||b!==null&&g===b.alternate)break t;g=fu(g),b=fu(b)}g=null}else g=null;p!==null&&xP(f,h,p,g,!1),m!==null&&x!==null&&xP(f,x,m,g,!0)}}e:{if(h=c?Hu(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=kX;else if(dP(h))if(p3)w=PX;else{w=OX;var E=CX}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=NX);if(w&&(w=w(t,c))){h3(f,w,n,d);break e}E&&E(t,h,c),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&mS(h,"number",h.value)}switch(E=c?Hu(c):window,t){case"focusin":(dP(E)||E.contentEditable==="true")&&(zu=E,TS=c,Qh=null);break;case"focusout":Qh=TS=zu=null;break;case"mousedown":kS=!0;break;case"contextmenu":case"mouseup":case"dragend":kS=!1,gP(f,n,d);break;case"selectionchange":if(RX)break;case"keydown":case"keyup":gP(f,n,d)}var A;if($T)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Bu?d3(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(u3&&n.locale!=="ko"&&(Bu||j!=="onCompositionStart"?j==="onCompositionEnd"&&Bu&&(A=c3()):(Uo=d,NT="value"in Uo?Uo.value:Uo.textContent,Bu=!0)),E=Av(c,j),0<E.length&&(j=new oP(j,t,null,n,d),f.push({event:j,listeners:E}),A?j.data=A:(A=f3(n),A!==null&&(j.data=A)))),(A=SX?EX(t,n):jX(t,n))&&(c=Av(c,"onBeforeInput"),0<c.length&&(d=new oP("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=A))}E3(f,e)})}function Mp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Av(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Cp(t,n),a!=null&&r.unshift(Mp(t,a,i)),a=Cp(t,e),a!=null&&r.push(Mp(t,a,i))),t=t.return}return r}function fu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xP(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=Cp(n,a),l!=null&&s.unshift(Mp(n,l,o))):i||(l=Cp(n,a),l!=null&&s.push(Mp(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var FX=/\r\n?/g,BX=/\u0000|\uFFFD/g;function bP(t){return(typeof t=="string"?t:""+t).replace(FX,`
`).replace(BX,"")}function Gg(t,e,n){if(e=bP(e),bP(t)!==e&&n)throw Error(ce(425))}function Tv(){}var CS=null,OS=null;function NS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var PS=typeof setTimeout=="function"?setTimeout:void 0,zX=typeof clearTimeout=="function"?clearTimeout:void 0,wP=typeof Promise=="function"?Promise:void 0,UX=typeof queueMicrotask=="function"?queueMicrotask:typeof wP<"u"?function(t){return wP.resolve(null).then(t).catch(HX)}:PS;function HX(t){setTimeout(function(){throw t})}function l_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Pp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Pp(e)}function Qo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _P(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cf=Math.random().toString(36).slice(2),qa="__reactFiber$"+Cf,Dp="__reactProps$"+Cf,Gs="__reactContainer$"+Cf,IS="__reactEvents$"+Cf,VX="__reactListeners$"+Cf,WX="__reactHandles$"+Cf;function lc(t){var e=t[qa];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gs]||n[qa]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_P(t);t!==null;){if(n=t[qa])return n;t=_P(t)}return e}t=n,n=t.parentNode}return null}function Jm(t){return t=t[qa]||t[Gs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ce(33))}function $x(t){return t[Dp]||null}var $S=[],Vu=-1;function kl(t){return{current:t}}function Ht(t){0>Vu||(t.current=$S[Vu],$S[Vu]=null,Vu--)}function Pt(t,e){Vu++,$S[Vu]=t.current,t.current=e}var ul={},Jn=kl(ul),Or=kl(!1),Nc=ul;function Id(t,e){var n=t.type.contextTypes;if(!n)return ul;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Nr(t){return t=t.childContextTypes,t!=null}function kv(){Ht(Or),Ht(Jn)}function SP(t,e,n){if(Jn.current!==ul)throw Error(ce(168));Pt(Jn,e),Pt(Or,n)}function A3(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ce(108,CY(t)||"Unknown",i));return Qt({},n,r)}function Cv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ul,Nc=Jn.current,Pt(Jn,t),Pt(Or,Or.current),!0}function EP(t,e,n){var r=t.stateNode;if(!r)throw Error(ce(169));n?(t=A3(t,e,Nc),r.__reactInternalMemoizedMergedChildContext=t,Ht(Or),Ht(Jn),Pt(Jn,t)):Ht(Or),Pt(Or,n)}var Ns=null,Rx=!1,c_=!1;function T3(t){Ns===null?Ns=[t]:Ns.push(t)}function qX(t){Rx=!0,T3(t)}function Cl(){if(!c_&&Ns!==null){c_=!0;var t=0,e=_t;try{var n=Ns;for(_t=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ns=null,Rx=!1}catch(i){throw Ns!==null&&(Ns=Ns.slice(t+1)),J5(TT,Cl),i}finally{_t=e,c_=!1}}return null}var Wu=[],qu=0,Ov=null,Nv=0,_i=[],Si=0,Pc=null,Is=1,$s="";function Xl(t,e){Wu[qu++]=Nv,Wu[qu++]=Ov,Ov=t,Nv=e}function k3(t,e,n){_i[Si++]=Is,_i[Si++]=$s,_i[Si++]=Pc,Pc=t;var r=Is;t=$s;var i=32-fa(r)-1;r&=~(1<<i),n+=1;var a=32-fa(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Is=1<<32-fa(e)+i|n<<i|r,$s=a+t}else Is=1<<a|n<<i|r,$s=t}function MT(t){t.return!==null&&(Xl(t,1),k3(t,1,0))}function DT(t){for(;t===Ov;)Ov=Wu[--qu],Wu[qu]=null,Nv=Wu[--qu],Wu[qu]=null;for(;t===Pc;)Pc=_i[--Si],_i[Si]=null,$s=_i[--Si],_i[Si]=null,Is=_i[--Si],_i[Si]=null}var ti=null,Jr=null,Wt=!1,aa=null;function C3(t,e){var n=Ai(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function jP(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ti=t,Jr=Qo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ti=t,Jr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Pc!==null?{id:Is,overflow:$s}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ai(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ti=t,Jr=null,!0):!1;default:return!1}}function RS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function MS(t){if(Wt){var e=Jr;if(e){var n=e;if(!jP(t,e)){if(RS(t))throw Error(ce(418));e=Qo(n.nextSibling);var r=ti;e&&jP(t,e)?C3(r,n):(t.flags=t.flags&-4097|2,Wt=!1,ti=t)}}else{if(RS(t))throw Error(ce(418));t.flags=t.flags&-4097|2,Wt=!1,ti=t}}}function AP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ti=t}function Kg(t){if(t!==ti)return!1;if(!Wt)return AP(t),Wt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!NS(t.type,t.memoizedProps)),e&&(e=Jr)){if(RS(t))throw O3(),Error(ce(418));for(;e;)C3(t,e),e=Qo(e.nextSibling)}if(AP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jr=Qo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jr=null}}else Jr=ti?Qo(t.stateNode.nextSibling):null;return!0}function O3(){for(var t=Jr;t;)t=Qo(t.nextSibling)}function $d(){Jr=ti=null,Wt=!1}function LT(t){aa===null?aa=[t]:aa.push(t)}var GX=co.ReactCurrentBatchConfig;function dh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ce(309));var r=n.stateNode}if(!r)throw Error(ce(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(ce(284));if(!n._owner)throw Error(ce(290,t))}return t}function Yg(t,e){throw t=Object.prototype.toString.call(e),Error(ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function TP(t){var e=t._init;return e(t._payload)}function N3(t){function e(b,v){if(t){var y=b.deletions;y===null?(b.deletions=[v],b.flags|=16):y.push(v)}}function n(b,v){if(!t)return null;for(;v!==null;)e(b,v),v=v.sibling;return null}function r(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function i(b,v){return b=rl(b,v),b.index=0,b.sibling=null,b}function a(b,v,y){return b.index=y,t?(y=b.alternate,y!==null?(y=y.index,y<v?(b.flags|=2,v):y):(b.flags|=2,v)):(b.flags|=1048576,v)}function s(b){return t&&b.alternate===null&&(b.flags|=2),b}function o(b,v,y,_){return v===null||v.tag!==6?(v=g_(y,b.mode,_),v.return=b,v):(v=i(v,y),v.return=b,v)}function l(b,v,y,_){var w=y.type;return w===Fu?d(b,v,y.props.children,_,y.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Co&&TP(w)===v.type)?(_=i(v,y.props),_.ref=dh(b,v,y),_.return=b,_):(_=rv(y.type,y.key,y.props,null,b.mode,_),_.ref=dh(b,v,y),_.return=b,_)}function c(b,v,y,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=y_(y,b.mode,_),v.return=b,v):(v=i(v,y.children||[]),v.return=b,v)}function d(b,v,y,_,w){return v===null||v.tag!==7?(v=_c(y,b.mode,_,w),v.return=b,v):(v=i(v,y),v.return=b,v)}function f(b,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=g_(""+v,b.mode,y),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Lg:return y=rv(v.type,v.key,v.props,null,b.mode,y),y.ref=dh(b,null,v),y.return=b,y;case Lu:return v=y_(v,b.mode,y),v.return=b,v;case Co:var _=v._init;return f(b,_(v._payload),y)}if($h(v)||sh(v))return v=_c(v,b.mode,y,null),v.return=b,v;Yg(b,v)}return null}function h(b,v,y,_){var w=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return w!==null?null:o(b,v,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Lg:return y.key===w?l(b,v,y,_):null;case Lu:return y.key===w?c(b,v,y,_):null;case Co:return w=y._init,h(b,v,w(y._payload),_)}if($h(y)||sh(y))return w!==null?null:d(b,v,y,_,null);Yg(b,y)}return null}function p(b,v,y,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(y)||null,o(v,b,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Lg:return b=b.get(_.key===null?y:_.key)||null,l(v,b,_,w);case Lu:return b=b.get(_.key===null?y:_.key)||null,c(v,b,_,w);case Co:var E=_._init;return p(b,v,y,E(_._payload),w)}if($h(_)||sh(_))return b=b.get(y)||null,d(v,b,_,w,null);Yg(v,_)}return null}function m(b,v,y,_){for(var w=null,E=null,A=v,j=v=0,T=null;A!==null&&j<y.length;j++){A.index>j?(T=A,A=null):T=A.sibling;var k=h(b,A,y[j],_);if(k===null){A===null&&(A=T);break}t&&A&&k.alternate===null&&e(b,A),v=a(k,v,j),E===null?w=k:E.sibling=k,E=k,A=T}if(j===y.length)return n(b,A),Wt&&Xl(b,j),w;if(A===null){for(;j<y.length;j++)A=f(b,y[j],_),A!==null&&(v=a(A,v,j),E===null?w=A:E.sibling=A,E=A);return Wt&&Xl(b,j),w}for(A=r(b,A);j<y.length;j++)T=p(A,b,j,y[j],_),T!==null&&(t&&T.alternate!==null&&A.delete(T.key===null?j:T.key),v=a(T,v,j),E===null?w=T:E.sibling=T,E=T);return t&&A.forEach(function(C){return e(b,C)}),Wt&&Xl(b,j),w}function g(b,v,y,_){var w=sh(y);if(typeof w!="function")throw Error(ce(150));if(y=w.call(y),y==null)throw Error(ce(151));for(var E=w=null,A=v,j=v=0,T=null,k=y.next();A!==null&&!k.done;j++,k=y.next()){A.index>j?(T=A,A=null):T=A.sibling;var C=h(b,A,k.value,_);if(C===null){A===null&&(A=T);break}t&&A&&C.alternate===null&&e(b,A),v=a(C,v,j),E===null?w=C:E.sibling=C,E=C,A=T}if(k.done)return n(b,A),Wt&&Xl(b,j),w;if(A===null){for(;!k.done;j++,k=y.next())k=f(b,k.value,_),k!==null&&(v=a(k,v,j),E===null?w=k:E.sibling=k,E=k);return Wt&&Xl(b,j),w}for(A=r(b,A);!k.done;j++,k=y.next())k=p(A,b,j,k.value,_),k!==null&&(t&&k.alternate!==null&&A.delete(k.key===null?j:k.key),v=a(k,v,j),E===null?w=k:E.sibling=k,E=k);return t&&A.forEach(function(O){return e(b,O)}),Wt&&Xl(b,j),w}function x(b,v,y,_){if(typeof y=="object"&&y!==null&&y.type===Fu&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Lg:e:{for(var w=y.key,E=v;E!==null;){if(E.key===w){if(w=y.type,w===Fu){if(E.tag===7){n(b,E.sibling),v=i(E,y.props.children),v.return=b,b=v;break e}}else if(E.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Co&&TP(w)===E.type){n(b,E.sibling),v=i(E,y.props),v.ref=dh(b,E,y),v.return=b,b=v;break e}n(b,E);break}else e(b,E);E=E.sibling}y.type===Fu?(v=_c(y.props.children,b.mode,_,y.key),v.return=b,b=v):(_=rv(y.type,y.key,y.props,null,b.mode,_),_.ref=dh(b,v,y),_.return=b,b=_)}return s(b);case Lu:e:{for(E=y.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(b,v.sibling),v=i(v,y.children||[]),v.return=b,b=v;break e}else{n(b,v);break}else e(b,v);v=v.sibling}v=y_(y,b.mode,_),v.return=b,b=v}return s(b);case Co:return E=y._init,x(b,v,E(y._payload),_)}if($h(y))return m(b,v,y,_);if(sh(y))return g(b,v,y,_);Yg(b,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(b,v.sibling),v=i(v,y),v.return=b,b=v):(n(b,v),v=g_(y,b.mode,_),v.return=b,b=v),s(b)):n(b,v)}return x}var Rd=N3(!0),P3=N3(!1),Pv=kl(null),Iv=null,Gu=null,FT=null;function BT(){FT=Gu=Iv=null}function zT(t){var e=Pv.current;Ht(Pv),t._currentValue=e}function DS(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function od(t,e){Iv=t,FT=Gu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tr=!0),t.firstContext=null)}function Ri(t){var e=t._currentValue;if(FT!==t)if(t={context:t,memoizedValue:e,next:null},Gu===null){if(Iv===null)throw Error(ce(308));Gu=t,Iv.dependencies={lanes:0,firstContext:t}}else Gu=Gu.next=t;return e}var cc=null;function UT(t){cc===null?cc=[t]:cc.push(t)}function I3(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,UT(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ks(t,r)}function Ks(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Oo=!1;function HT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ls(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function el(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ut&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ks(t,n)}return i=r.interleaved,i===null?(e.next=e,UT(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ks(t,n)}function Zy(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kT(t,n)}}function kP(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $v(t,e,n,r){var i=t.updateQueue;Oo=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=c=l=null,o=a;do{var h=o.lane,p=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,g=o;switch(h=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=Qt({},f,h);break e;case 2:Oo=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);$c|=s,t.lanes=s,t.memoizedState=f}}function CP(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ce(191,i));i.call(r)}}}var Qm={},es=kl(Qm),Lp=kl(Qm),Fp=kl(Qm);function uc(t){if(t===Qm)throw Error(ce(174));return t}function VT(t,e){switch(Pt(Fp,e),Pt(Lp,t),Pt(es,Qm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:yS(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=yS(e,t)}Ht(es),Pt(es,e)}function Md(){Ht(es),Ht(Lp),Ht(Fp)}function R3(t){uc(Fp.current);var e=uc(es.current),n=yS(e,t.type);e!==n&&(Pt(Lp,t),Pt(es,n))}function WT(t){Lp.current===t&&(Ht(es),Ht(Lp))}var Xt=kl(0);function Rv(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var u_=[];function qT(){for(var t=0;t<u_.length;t++)u_[t]._workInProgressVersionPrimary=null;u_.length=0}var Jy=co.ReactCurrentDispatcher,d_=co.ReactCurrentBatchConfig,Ic=0,Jt=null,wn=null,In=null,Mv=!1,ep=!1,Bp=0,KX=0;function Vn(){throw Error(ce(321))}function GT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ba(t[n],e[n]))return!1;return!0}function KT(t,e,n,r,i,a){if(Ic=a,Jt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jy.current=t===null||t.memoizedState===null?JX:QX,t=n(r,i),ep){a=0;do{if(ep=!1,Bp=0,25<=a)throw Error(ce(301));a+=1,In=wn=null,e.updateQueue=null,Jy.current=eZ,t=n(r,i)}while(ep)}if(Jy.current=Dv,e=wn!==null&&wn.next!==null,Ic=0,In=wn=Jt=null,Mv=!1,e)throw Error(ce(300));return t}function YT(){var t=Bp!==0;return Bp=0,t}function za(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?Jt.memoizedState=In=t:In=In.next=t,In}function Mi(){if(wn===null){var t=Jt.alternate;t=t!==null?t.memoizedState:null}else t=wn.next;var e=In===null?Jt.memoizedState:In.next;if(e!==null)In=e,wn=t;else{if(t===null)throw Error(ce(310));wn=t,t={memoizedState:wn.memoizedState,baseState:wn.baseState,baseQueue:wn.baseQueue,queue:wn.queue,next:null},In===null?Jt.memoizedState=In=t:In=In.next=t}return In}function zp(t,e){return typeof e=="function"?e(t):e}function f_(t){var e=Mi(),n=e.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=wn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var d=c.lane;if((Ic&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,Jt.lanes|=d,$c|=d}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,ba(r,e.memoizedState)||(Tr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,Jt.lanes|=a,$c|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function h_(t){var e=Mi(),n=e.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);ba(a,e.memoizedState)||(Tr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function M3(){}function D3(t,e){var n=Jt,r=Mi(),i=e(),a=!ba(r.memoizedState,i);if(a&&(r.memoizedState=i,Tr=!0),r=r.queue,XT(B3.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||In!==null&&In.memoizedState.tag&1){if(n.flags|=2048,Up(9,F3.bind(null,n,r,i,e),void 0,null),Rn===null)throw Error(ce(349));Ic&30||L3(n,e,i)}return i}function L3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Jt.updateQueue,e===null?(e={lastEffect:null,stores:null},Jt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function F3(t,e,n,r){e.value=n,e.getSnapshot=r,z3(e)&&U3(t)}function B3(t,e,n){return n(function(){z3(e)&&U3(t)})}function z3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ba(t,n)}catch{return!0}}function U3(t){var e=Ks(t,1);e!==null&&ha(e,t,1,-1)}function OP(t){var e=za();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zp,lastRenderedState:t},e.queue=t,t=t.dispatch=ZX.bind(null,Jt,t),[e.memoizedState,t]}function Up(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Jt.updateQueue,e===null?(e={lastEffect:null,stores:null},Jt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function H3(){return Mi().memoizedState}function Qy(t,e,n,r){var i=za();Jt.flags|=t,i.memoizedState=Up(1|e,n,void 0,r===void 0?null:r)}function Mx(t,e,n,r){var i=Mi();r=r===void 0?null:r;var a=void 0;if(wn!==null){var s=wn.memoizedState;if(a=s.destroy,r!==null&&GT(r,s.deps)){i.memoizedState=Up(e,n,a,r);return}}Jt.flags|=t,i.memoizedState=Up(1|e,n,a,r)}function NP(t,e){return Qy(8390656,8,t,e)}function XT(t,e){return Mx(2048,8,t,e)}function V3(t,e){return Mx(4,2,t,e)}function W3(t,e){return Mx(4,4,t,e)}function q3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function G3(t,e,n){return n=n!=null?n.concat([t]):null,Mx(4,4,q3.bind(null,e,t),n)}function ZT(){}function K3(t,e){var n=Mi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&GT(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Y3(t,e){var n=Mi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&GT(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function X3(t,e,n){return Ic&21?(ba(n,e)||(n=t3(),Jt.lanes|=n,$c|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tr=!0),t.memoizedState=n)}function YX(t,e){var n=_t;_t=n!==0&&4>n?n:4,t(!0);var r=d_.transition;d_.transition={};try{t(!1),e()}finally{_t=n,d_.transition=r}}function Z3(){return Mi().memoizedState}function XX(t,e,n){var r=nl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},J3(t))Q3(e,n);else if(n=I3(t,e,n,r),n!==null){var i=hr();ha(n,t,r,i),eF(n,e,r)}}function ZX(t,e,n){var r=nl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(J3(t))Q3(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,ba(o,s)){var l=e.interleaved;l===null?(i.next=i,UT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=I3(t,e,i,r),n!==null&&(i=hr(),ha(n,t,r,i),eF(n,e,r))}}function J3(t){var e=t.alternate;return t===Jt||e!==null&&e===Jt}function Q3(t,e){ep=Mv=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function eF(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kT(t,n)}}var Dv={readContext:Ri,useCallback:Vn,useContext:Vn,useEffect:Vn,useImperativeHandle:Vn,useInsertionEffect:Vn,useLayoutEffect:Vn,useMemo:Vn,useReducer:Vn,useRef:Vn,useState:Vn,useDebugValue:Vn,useDeferredValue:Vn,useTransition:Vn,useMutableSource:Vn,useSyncExternalStore:Vn,useId:Vn,unstable_isNewReconciler:!1},JX={readContext:Ri,useCallback:function(t,e){return za().memoizedState=[t,e===void 0?null:e],t},useContext:Ri,useEffect:NP,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Qy(4194308,4,q3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Qy(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qy(4,2,t,e)},useMemo:function(t,e){var n=za();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=za();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=XX.bind(null,Jt,t),[r.memoizedState,t]},useRef:function(t){var e=za();return t={current:t},e.memoizedState=t},useState:OP,useDebugValue:ZT,useDeferredValue:function(t){return za().memoizedState=t},useTransition:function(){var t=OP(!1),e=t[0];return t=YX.bind(null,t[1]),za().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Jt,i=za();if(Wt){if(n===void 0)throw Error(ce(407));n=n()}else{if(n=e(),Rn===null)throw Error(ce(349));Ic&30||L3(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,NP(B3.bind(null,r,a,t),[t]),r.flags|=2048,Up(9,F3.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=za(),e=Rn.identifierPrefix;if(Wt){var n=$s,r=Is;n=(r&~(1<<32-fa(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Bp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=KX++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},QX={readContext:Ri,useCallback:K3,useContext:Ri,useEffect:XT,useImperativeHandle:G3,useInsertionEffect:V3,useLayoutEffect:W3,useMemo:Y3,useReducer:f_,useRef:H3,useState:function(){return f_(zp)},useDebugValue:ZT,useDeferredValue:function(t){var e=Mi();return X3(e,wn.memoizedState,t)},useTransition:function(){var t=f_(zp)[0],e=Mi().memoizedState;return[t,e]},useMutableSource:M3,useSyncExternalStore:D3,useId:Z3,unstable_isNewReconciler:!1},eZ={readContext:Ri,useCallback:K3,useContext:Ri,useEffect:XT,useImperativeHandle:G3,useInsertionEffect:V3,useLayoutEffect:W3,useMemo:Y3,useReducer:h_,useRef:H3,useState:function(){return h_(zp)},useDebugValue:ZT,useDeferredValue:function(t){var e=Mi();return wn===null?e.memoizedState=t:X3(e,wn.memoizedState,t)},useTransition:function(){var t=h_(zp)[0],e=Mi().memoizedState;return[t,e]},useMutableSource:M3,useSyncExternalStore:D3,useId:Z3,unstable_isNewReconciler:!1};function Zi(t,e){if(t&&t.defaultProps){e=Qt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function LS(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Dx={isMounted:function(t){return(t=t._reactInternals)?Zc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=hr(),i=nl(t),a=Ls(r,i);a.payload=e,n!=null&&(a.callback=n),e=el(t,a,i),e!==null&&(ha(e,t,i,r),Zy(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=hr(),i=nl(t),a=Ls(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=el(t,a,i),e!==null&&(ha(e,t,i,r),Zy(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=hr(),r=nl(t),i=Ls(n,r);i.tag=2,e!=null&&(i.callback=e),e=el(t,i,r),e!==null&&(ha(e,t,r,n),Zy(e,t,r))}};function PP(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!$p(n,r)||!$p(i,a):!0}function tF(t,e,n){var r=!1,i=ul,a=e.contextType;return typeof a=="object"&&a!==null?a=Ri(a):(i=Nr(e)?Nc:Jn.current,r=e.contextTypes,a=(r=r!=null)?Id(t,i):ul),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dx,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function IP(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Dx.enqueueReplaceState(e,e.state,null)}function FS(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},HT(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Ri(a):(a=Nr(e)?Nc:Jn.current,i.context=Id(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(LS(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Dx.enqueueReplaceState(i,i.state,null),$v(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Dd(t,e){try{var n="",r=e;do n+=kY(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function p_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function BS(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var tZ=typeof WeakMap=="function"?WeakMap:Map;function nF(t,e,n){n=Ls(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Fv||(Fv=!0,XS=r),BS(t,e)},n}function rF(t,e,n){n=Ls(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){BS(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){BS(t,e),typeof r!="function"&&(tl===null?tl=new Set([this]):tl.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function $P(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new tZ;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=mZ.bind(null,t,e,n),e.then(t,t))}function RP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function MP(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ls(-1,1),e.tag=2,el(n,e,1))),n.lanes|=1),t)}var nZ=co.ReactCurrentOwner,Tr=!1;function or(t,e,n,r){e.child=t===null?P3(e,null,n,r):Rd(e,t.child,n,r)}function DP(t,e,n,r,i){n=n.render;var a=e.ref;return od(e,i),r=KT(t,e,n,r,a,i),n=YT(),t!==null&&!Tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ys(t,e,i)):(Wt&&n&&MT(e),e.flags|=1,or(t,e,r,i),e.child)}function LP(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!ak(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,iF(t,e,a,r,i)):(t=rv(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:$p,n(s,r)&&t.ref===e.ref)return Ys(t,e,i)}return e.flags|=1,t=rl(a,r),t.ref=e.ref,t.return=e,e.child=t}function iF(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if($p(a,r)&&t.ref===e.ref)if(Tr=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Tr=!0);else return e.lanes=t.lanes,Ys(t,e,i)}return zS(t,e,n,r,i)}function aF(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(Yu,Kr),Kr|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pt(Yu,Kr),Kr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Pt(Yu,Kr),Kr|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Pt(Yu,Kr),Kr|=r;return or(t,e,i,n),e.child}function sF(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zS(t,e,n,r,i){var a=Nr(n)?Nc:Jn.current;return a=Id(e,a),od(e,i),n=KT(t,e,n,r,a,i),r=YT(),t!==null&&!Tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ys(t,e,i)):(Wt&&r&&MT(e),e.flags|=1,or(t,e,n,i),e.child)}function FP(t,e,n,r,i){if(Nr(n)){var a=!0;Cv(e)}else a=!1;if(od(e,i),e.stateNode===null)ev(t,e),tF(e,n,r),FS(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ri(c):(c=Nr(n)?Nc:Jn.current,c=Id(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&IP(e,s,r,c),Oo=!1;var h=e.memoizedState;s.state=h,$v(e,r,s,i),l=e.memoizedState,o!==r||h!==l||Or.current||Oo?(typeof d=="function"&&(LS(e,n,d,r),l=e.memoizedState),(o=Oo||PP(e,n,o,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,$3(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Zi(e.type,o),s.props=c,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ri(l):(l=Nr(n)?Nc:Jn.current,l=Id(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&IP(e,s,r,l),Oo=!1,h=e.memoizedState,s.state=h,$v(e,r,s,i);var m=e.memoizedState;o!==f||h!==m||Or.current||Oo?(typeof p=="function"&&(LS(e,n,p,r),m=e.memoizedState),(c=Oo||PP(e,n,c,r,h,m,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return US(t,e,n,r,a,i)}function US(t,e,n,r,i,a){sF(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&EP(e,n,!1),Ys(t,e,a);r=e.stateNode,nZ.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Rd(e,t.child,null,a),e.child=Rd(e,null,o,a)):or(t,e,o,a),e.memoizedState=r.state,i&&EP(e,n,!0),e.child}function oF(t){var e=t.stateNode;e.pendingContext?SP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&SP(t,e.context,!1),VT(t,e.containerInfo)}function BP(t,e,n,r,i){return $d(),LT(i),e.flags|=256,or(t,e,n,r),e.child}var HS={dehydrated:null,treeContext:null,retryLane:0};function VS(t){return{baseLanes:t,cachePool:null,transitions:null}}function lF(t,e,n){var r=e.pendingProps,i=Xt.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pt(Xt,i&1),t===null)return MS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Bx(s,r,0,null),t=_c(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=VS(n),e.memoizedState=HS,t):JT(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return rZ(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=rl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=rl(o,a):(a=_c(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?VS(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=HS,r}return a=t.child,t=a.sibling,r=rl(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function JT(t,e){return e=Bx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xg(t,e,n,r){return r!==null&&LT(r),Rd(e,t.child,null,n),t=JT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rZ(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=p_(Error(ce(422))),Xg(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Bx({mode:"visible",children:r.children},i,0,null),a=_c(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Rd(e,t.child,null,s),e.child.memoizedState=VS(s),e.memoizedState=HS,a);if(!(e.mode&1))return Xg(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(ce(419)),r=p_(a,r,void 0),Xg(t,e,s,r)}if(o=(s&t.childLanes)!==0,Tr||o){if(r=Rn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ks(t,i),ha(r,t,i,-1))}return ik(),r=p_(Error(ce(421))),Xg(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=gZ.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Jr=Qo(i.nextSibling),ti=e,Wt=!0,aa=null,t!==null&&(_i[Si++]=Is,_i[Si++]=$s,_i[Si++]=Pc,Is=t.id,$s=t.overflow,Pc=e),e=JT(e,r.children),e.flags|=4096,e)}function zP(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),DS(t.return,e,n)}function m_(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function cF(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(or(t,e,r.children,n),r=Xt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zP(t,n,e);else if(t.tag===19)zP(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pt(Xt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Rv(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),m_(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Rv(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}m_(e,!0,n,null,a);break;case"together":m_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ev(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ys(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$c|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ce(153));if(e.child!==null){for(t=e.child,n=rl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=rl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function iZ(t,e,n){switch(e.tag){case 3:oF(e),$d();break;case 5:R3(e);break;case 1:Nr(e.type)&&Cv(e);break;case 4:VT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pt(Pv,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pt(Xt,Xt.current&1),e.flags|=128,null):n&e.child.childLanes?lF(t,e,n):(Pt(Xt,Xt.current&1),t=Ys(t,e,n),t!==null?t.sibling:null);Pt(Xt,Xt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cF(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pt(Xt,Xt.current),r)break;return null;case 22:case 23:return e.lanes=0,aF(t,e,n)}return Ys(t,e,n)}var uF,WS,dF,fF;uF=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};WS=function(){};dF=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,uc(es.current);var a=null;switch(n){case"input":i=hS(t,i),r=hS(t,r),a=[];break;case"select":i=Qt({},i,{value:void 0}),r=Qt({},r,{value:void 0}),a=[];break;case"textarea":i=gS(t,i),r=gS(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Tv)}vS(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Tp.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Tp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Lt("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};fF=function(t,e,n,r){n!==r&&(e.flags|=4)};function fh(t,e){if(!Wt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function aZ(t,e,n){var r=e.pendingProps;switch(DT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(e),null;case 1:return Nr(e.type)&&kv(),Wn(e),null;case 3:return r=e.stateNode,Md(),Ht(Or),Ht(Jn),qT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Kg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,aa!==null&&(QS(aa),aa=null))),WS(t,e),Wn(e),null;case 5:WT(e);var i=uc(Fp.current);if(n=e.type,t!==null&&e.stateNode!=null)dF(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ce(166));return Wn(e),null}if(t=uc(es.current),Kg(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[qa]=e,r[Dp]=a,t=(e.mode&1)!==0,n){case"dialog":Lt("cancel",r),Lt("close",r);break;case"iframe":case"object":case"embed":Lt("load",r);break;case"video":case"audio":for(i=0;i<Mh.length;i++)Lt(Mh[i],r);break;case"source":Lt("error",r);break;case"img":case"image":case"link":Lt("error",r),Lt("load",r);break;case"details":Lt("toggle",r);break;case"input":XN(r,a),Lt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Lt("invalid",r);break;case"textarea":JN(r,a),Lt("invalid",r)}vS(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Gg(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Gg(r.textContent,o,t),i=["children",""+o]):Tp.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Lt("scroll",r)}switch(n){case"input":Fg(r),ZN(r,a,!0);break;case"textarea":Fg(r),QN(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Tv)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=B5(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[qa]=e,t[Dp]=r,uF(t,e,!1,!1),e.stateNode=t;e:{switch(s=xS(n,r),n){case"dialog":Lt("cancel",t),Lt("close",t),i=r;break;case"iframe":case"object":case"embed":Lt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Mh.length;i++)Lt(Mh[i],t);i=r;break;case"source":Lt("error",t),i=r;break;case"img":case"image":case"link":Lt("error",t),Lt("load",t),i=r;break;case"details":Lt("toggle",t),i=r;break;case"input":XN(t,r),i=hS(t,r),Lt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Qt({},r,{value:void 0}),Lt("invalid",t);break;case"textarea":JN(t,r),i=gS(t,r),Lt("invalid",t);break;default:i=r}vS(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?H5(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&z5(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&kp(t,l):typeof l=="number"&&kp(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Tp.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Lt("scroll",t):l!=null&&_T(t,a,l,s))}switch(n){case"input":Fg(t),ZN(t,r,!1);break;case"textarea":Fg(t),QN(t);break;case"option":r.value!=null&&t.setAttribute("value",""+cl(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?rd(t,!!r.multiple,a,!1):r.defaultValue!=null&&rd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Tv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wn(e),null;case 6:if(t&&e.stateNode!=null)fF(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ce(166));if(n=uc(Fp.current),uc(es.current),Kg(e)){if(r=e.stateNode,n=e.memoizedProps,r[qa]=e,(a=r.nodeValue!==n)&&(t=ti,t!==null))switch(t.tag){case 3:Gg(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Gg(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qa]=e,e.stateNode=r}return Wn(e),null;case 13:if(Ht(Xt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Wt&&Jr!==null&&e.mode&1&&!(e.flags&128))O3(),$d(),e.flags|=98560,a=!1;else if(a=Kg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(ce(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ce(317));a[qa]=e}else $d(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wn(e),a=!1}else aa!==null&&(QS(aa),aa=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xt.current&1?En===0&&(En=3):ik())),e.updateQueue!==null&&(e.flags|=4),Wn(e),null);case 4:return Md(),WS(t,e),t===null&&Rp(e.stateNode.containerInfo),Wn(e),null;case 10:return zT(e.type._context),Wn(e),null;case 17:return Nr(e.type)&&kv(),Wn(e),null;case 19:if(Ht(Xt),a=e.memoizedState,a===null)return Wn(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)fh(a,!1);else{if(En!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Rv(t),s!==null){for(e.flags|=128,fh(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pt(Xt,Xt.current&1|2),e.child}t=t.sibling}a.tail!==null&&ln()>Ld&&(e.flags|=128,r=!0,fh(a,!1),e.lanes=4194304)}else{if(!r)if(t=Rv(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fh(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Wt)return Wn(e),null}else 2*ln()-a.renderingStartTime>Ld&&n!==1073741824&&(e.flags|=128,r=!0,fh(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ln(),e.sibling=null,n=Xt.current,Pt(Xt,r?n&1|2:n&1),e):(Wn(e),null);case 22:case 23:return rk(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Kr&1073741824&&(Wn(e),e.subtreeFlags&6&&(e.flags|=8192)):Wn(e),null;case 24:return null;case 25:return null}throw Error(ce(156,e.tag))}function sZ(t,e){switch(DT(e),e.tag){case 1:return Nr(e.type)&&kv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Md(),Ht(Or),Ht(Jn),qT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return WT(e),null;case 13:if(Ht(Xt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ce(340));$d()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ht(Xt),null;case 4:return Md(),null;case 10:return zT(e.type._context),null;case 22:case 23:return rk(),null;case 24:return null;default:return null}}var Zg=!1,Yn=!1,oZ=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Ku(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){an(t,e,r)}else n.current=null}function qS(t,e,n){try{n()}catch(r){an(t,e,r)}}var UP=!1;function lZ(t,e){if(CS=Ev,t=y3(),RT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++c===i&&(o=s),h===a&&++d===r&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(OS={focusedElem:t,selectionRange:n},Ev=!1,Se=e;Se!==null;)if(e=Se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Se=t;else for(;Se!==null;){e=Se;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,x=m.memoizedState,b=e.stateNode,v=b.getSnapshotBeforeUpdate(e.elementType===e.type?g:Zi(e.type,g),x);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(_){an(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,Se=t;break}Se=e.return}return m=UP,UP=!1,m}function tp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&qS(e,n,a)}i=i.next}while(i!==r)}}function Lx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function GS(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hF(t){var e=t.alternate;e!==null&&(t.alternate=null,hF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qa],delete e[Dp],delete e[IS],delete e[VX],delete e[WX])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pF(t){return t.tag===5||t.tag===3||t.tag===4}function HP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function KS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Tv));else if(r!==4&&(t=t.child,t!==null))for(KS(t,e,n),t=t.sibling;t!==null;)KS(t,e,n),t=t.sibling}function YS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(YS(t,e,n),t=t.sibling;t!==null;)YS(t,e,n),t=t.sibling}var Fn=null,ta=!1;function yo(t,e,n){for(n=n.child;n!==null;)mF(t,e,n),n=n.sibling}function mF(t,e,n){if(Qa&&typeof Qa.onCommitFiberUnmount=="function")try{Qa.onCommitFiberUnmount(Ox,n)}catch{}switch(n.tag){case 5:Yn||Ku(n,e);case 6:var r=Fn,i=ta;Fn=null,yo(t,e,n),Fn=r,ta=i,Fn!==null&&(ta?(t=Fn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Fn.removeChild(n.stateNode));break;case 18:Fn!==null&&(ta?(t=Fn,n=n.stateNode,t.nodeType===8?l_(t.parentNode,n):t.nodeType===1&&l_(t,n),Pp(t)):l_(Fn,n.stateNode));break;case 4:r=Fn,i=ta,Fn=n.stateNode.containerInfo,ta=!0,yo(t,e,n),Fn=r,ta=i;break;case 0:case 11:case 14:case 15:if(!Yn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&qS(n,e,s),i=i.next}while(i!==r)}yo(t,e,n);break;case 1:if(!Yn&&(Ku(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){an(n,e,o)}yo(t,e,n);break;case 21:yo(t,e,n);break;case 22:n.mode&1?(Yn=(r=Yn)||n.memoizedState!==null,yo(t,e,n),Yn=r):yo(t,e,n);break;default:yo(t,e,n)}}function VP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new oZ),e.forEach(function(r){var i=yZ.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ui(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Fn=o.stateNode,ta=!1;break e;case 3:Fn=o.stateNode.containerInfo,ta=!0;break e;case 4:Fn=o.stateNode.containerInfo,ta=!0;break e}o=o.return}if(Fn===null)throw Error(ce(160));mF(a,s,i),Fn=null,ta=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){an(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gF(e,t),e=e.sibling}function gF(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ui(e,t),Ma(t),r&4){try{tp(3,t,t.return),Lx(3,t)}catch(g){an(t,t.return,g)}try{tp(5,t,t.return)}catch(g){an(t,t.return,g)}}break;case 1:Ui(e,t),Ma(t),r&512&&n!==null&&Ku(n,n.return);break;case 5:if(Ui(e,t),Ma(t),r&512&&n!==null&&Ku(n,n.return),t.flags&32){var i=t.stateNode;try{kp(i,"")}catch(g){an(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&L5(i,a),xS(o,s);var c=xS(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?H5(i,f):d==="dangerouslySetInnerHTML"?z5(i,f):d==="children"?kp(i,f):_T(i,d,f,c)}switch(o){case"input":pS(i,a);break;case"textarea":F5(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?rd(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?rd(i,!!a.multiple,a.defaultValue,!0):rd(i,!!a.multiple,a.multiple?[]:"",!1))}i[Dp]=a}catch(g){an(t,t.return,g)}}break;case 6:if(Ui(e,t),Ma(t),r&4){if(t.stateNode===null)throw Error(ce(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){an(t,t.return,g)}}break;case 3:if(Ui(e,t),Ma(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pp(e.containerInfo)}catch(g){an(t,t.return,g)}break;case 4:Ui(e,t),Ma(t);break;case 13:Ui(e,t),Ma(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(tk=ln())),r&4&&VP(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Yn=(c=Yn)||d,Ui(e,t),Yn=c):Ui(e,t),Ma(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Se=t,d=t.child;d!==null;){for(f=Se=d;Se!==null;){switch(h=Se,p=h.child,h.tag){case 0:case 11:case 14:case 15:tp(4,h,h.return);break;case 1:Ku(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){an(r,n,g)}}break;case 5:Ku(h,h.return);break;case 22:if(h.memoizedState!==null){qP(f);continue}}p!==null?(p.return=h,Se=p):qP(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=U5("display",s))}catch(g){an(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){an(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ui(e,t),Ma(t),r&4&&VP(t);break;case 21:break;default:Ui(e,t),Ma(t)}}function Ma(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pF(n)){var r=n;break e}n=n.return}throw Error(ce(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(kp(i,""),r.flags&=-33);var a=HP(t);YS(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=HP(t);KS(t,o,s);break;default:throw Error(ce(161))}}catch(l){an(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cZ(t,e,n){Se=t,yF(t)}function yF(t,e,n){for(var r=(t.mode&1)!==0;Se!==null;){var i=Se,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Zg;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Yn;o=Zg;var c=Yn;if(Zg=s,(Yn=l)&&!c)for(Se=i;Se!==null;)s=Se,l=s.child,s.tag===22&&s.memoizedState!==null?GP(i):l!==null?(l.return=s,Se=l):GP(i);for(;a!==null;)Se=a,yF(a),a=a.sibling;Se=i,Zg=o,Yn=c}WP(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Se=a):WP(t)}}function WP(t){for(;Se!==null;){var e=Se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yn||Lx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Yn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Zi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&CP(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}CP(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Pp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}Yn||e.flags&512&&GS(e)}catch(h){an(e,e.return,h)}}if(e===t){Se=null;break}if(n=e.sibling,n!==null){n.return=e.return,Se=n;break}Se=e.return}}function qP(t){for(;Se!==null;){var e=Se;if(e===t){Se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Se=n;break}Se=e.return}}function GP(t){for(;Se!==null;){var e=Se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Lx(4,e)}catch(l){an(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){an(e,i,l)}}var a=e.return;try{GS(e)}catch(l){an(e,a,l)}break;case 5:var s=e.return;try{GS(e)}catch(l){an(e,s,l)}}}catch(l){an(e,e.return,l)}if(e===t){Se=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Se=o;break}Se=e.return}}var uZ=Math.ceil,Lv=co.ReactCurrentDispatcher,QT=co.ReactCurrentOwner,Pi=co.ReactCurrentBatchConfig,ut=0,Rn=null,vn=null,Bn=0,Kr=0,Yu=kl(0),En=0,Hp=null,$c=0,Fx=0,ek=0,np=null,Sr=null,tk=0,Ld=1/0,Ts=null,Fv=!1,XS=null,tl=null,Jg=!1,Ho=null,Bv=0,rp=0,ZS=null,tv=-1,nv=0;function hr(){return ut&6?ln():tv!==-1?tv:tv=ln()}function nl(t){return t.mode&1?ut&2&&Bn!==0?Bn&-Bn:GX.transition!==null?(nv===0&&(nv=t3()),nv):(t=_t,t!==0||(t=window.event,t=t===void 0?16:l3(t.type)),t):1}function ha(t,e,n,r){if(50<rp)throw rp=0,ZS=null,Error(ce(185));Xm(t,n,r),(!(ut&2)||t!==Rn)&&(t===Rn&&(!(ut&2)&&(Fx|=n),En===4&&$o(t,Bn)),Pr(t,r),n===1&&ut===0&&!(e.mode&1)&&(Ld=ln()+500,Rx&&Cl()))}function Pr(t,e){var n=t.callbackNode;GY(t,e);var r=Sv(t,t===Rn?Bn:0);if(r===0)n!==null&&nP(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&nP(n),e===1)t.tag===0?qX(KP.bind(null,t)):T3(KP.bind(null,t)),UX(function(){!(ut&6)&&Cl()}),n=null;else{switch(n3(r)){case 1:n=TT;break;case 4:n=Q5;break;case 16:n=_v;break;case 536870912:n=e3;break;default:n=_v}n=jF(n,vF.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vF(t,e){if(tv=-1,nv=0,ut&6)throw Error(ce(327));var n=t.callbackNode;if(ld()&&t.callbackNode!==n)return null;var r=Sv(t,t===Rn?Bn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=zv(t,r);else{e=r;var i=ut;ut|=2;var a=bF();(Rn!==t||Bn!==e)&&(Ts=null,Ld=ln()+500,wc(t,e));do try{hZ();break}catch(o){xF(t,o)}while(!0);BT(),Lv.current=a,ut=i,vn!==null?e=0:(Rn=null,Bn=0,e=En)}if(e!==0){if(e===2&&(i=ES(t),i!==0&&(r=i,e=JS(t,i))),e===1)throw n=Hp,wc(t,0),$o(t,r),Pr(t,ln()),n;if(e===6)$o(t,r);else{if(i=t.current.alternate,!(r&30)&&!dZ(i)&&(e=zv(t,r),e===2&&(a=ES(t),a!==0&&(r=a,e=JS(t,a))),e===1))throw n=Hp,wc(t,0),$o(t,r),Pr(t,ln()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ce(345));case 2:Zl(t,Sr,Ts);break;case 3:if($o(t,r),(r&130023424)===r&&(e=tk+500-ln(),10<e)){if(Sv(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){hr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=PS(Zl.bind(null,t,Sr,Ts),e);break}Zl(t,Sr,Ts);break;case 4:if($o(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-fa(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=ln()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uZ(r/1960))-r,10<r){t.timeoutHandle=PS(Zl.bind(null,t,Sr,Ts),r);break}Zl(t,Sr,Ts);break;case 5:Zl(t,Sr,Ts);break;default:throw Error(ce(329))}}}return Pr(t,ln()),t.callbackNode===n?vF.bind(null,t):null}function JS(t,e){var n=np;return t.current.memoizedState.isDehydrated&&(wc(t,e).flags|=256),t=zv(t,e),t!==2&&(e=Sr,Sr=n,e!==null&&QS(e)),t}function QS(t){Sr===null?Sr=t:Sr.push.apply(Sr,t)}function dZ(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ba(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $o(t,e){for(e&=~ek,e&=~Fx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fa(e),r=1<<n;t[n]=-1,e&=~r}}function KP(t){if(ut&6)throw Error(ce(327));ld();var e=Sv(t,0);if(!(e&1))return Pr(t,ln()),null;var n=zv(t,e);if(t.tag!==0&&n===2){var r=ES(t);r!==0&&(e=r,n=JS(t,r))}if(n===1)throw n=Hp,wc(t,0),$o(t,e),Pr(t,ln()),n;if(n===6)throw Error(ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zl(t,Sr,Ts),Pr(t,ln()),null}function nk(t,e){var n=ut;ut|=1;try{return t(e)}finally{ut=n,ut===0&&(Ld=ln()+500,Rx&&Cl())}}function Rc(t){Ho!==null&&Ho.tag===0&&!(ut&6)&&ld();var e=ut;ut|=1;var n=Pi.transition,r=_t;try{if(Pi.transition=null,_t=1,t)return t()}finally{_t=r,Pi.transition=n,ut=e,!(ut&6)&&Cl()}}function rk(){Kr=Yu.current,Ht(Yu)}function wc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,zX(n)),vn!==null)for(n=vn.return;n!==null;){var r=n;switch(DT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kv();break;case 3:Md(),Ht(Or),Ht(Jn),qT();break;case 5:WT(r);break;case 4:Md();break;case 13:Ht(Xt);break;case 19:Ht(Xt);break;case 10:zT(r.type._context);break;case 22:case 23:rk()}n=n.return}if(Rn=t,vn=t=rl(t.current,null),Bn=Kr=e,En=0,Hp=null,ek=Fx=$c=0,Sr=np=null,cc!==null){for(e=0;e<cc.length;e++)if(n=cc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}cc=null}return t}function xF(t,e){do{var n=vn;try{if(BT(),Jy.current=Dv,Mv){for(var r=Jt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Mv=!1}if(Ic=0,In=wn=Jt=null,ep=!1,Bp=0,QT.current=null,n===null||n.return===null){En=1,Hp=e,vn=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=Bn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=RP(s);if(p!==null){p.flags&=-257,MP(p,s,o,a,e),p.mode&1&&$P(a,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){$P(a,c,e),ik();break e}l=Error(ce(426))}}else if(Wt&&o.mode&1){var x=RP(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),MP(x,s,o,a,e),LT(Dd(l,o));break e}}a=l=Dd(l,o),En!==4&&(En=2),np===null?np=[a]:np.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var b=nF(a,l,e);kP(a,b);break e;case 1:o=l;var v=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(tl===null||!tl.has(y)))){a.flags|=65536,e&=-e,a.lanes|=e;var _=rF(a,o,e);kP(a,_);break e}}a=a.return}while(a!==null)}_F(n)}catch(w){e=w,vn===n&&n!==null&&(vn=n=n.return);continue}break}while(!0)}function bF(){var t=Lv.current;return Lv.current=Dv,t===null?Dv:t}function ik(){(En===0||En===3||En===2)&&(En=4),Rn===null||!($c&268435455)&&!(Fx&268435455)||$o(Rn,Bn)}function zv(t,e){var n=ut;ut|=2;var r=bF();(Rn!==t||Bn!==e)&&(Ts=null,wc(t,e));do try{fZ();break}catch(i){xF(t,i)}while(!0);if(BT(),ut=n,Lv.current=r,vn!==null)throw Error(ce(261));return Rn=null,Bn=0,En}function fZ(){for(;vn!==null;)wF(vn)}function hZ(){for(;vn!==null&&!LY();)wF(vn)}function wF(t){var e=EF(t.alternate,t,Kr);t.memoizedProps=t.pendingProps,e===null?_F(t):vn=e,QT.current=null}function _F(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=sZ(n,e),n!==null){n.flags&=32767,vn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{En=6,vn=null;return}}else if(n=aZ(n,e,Kr),n!==null){vn=n;return}if(e=e.sibling,e!==null){vn=e;return}vn=e=t}while(e!==null);En===0&&(En=5)}function Zl(t,e,n){var r=_t,i=Pi.transition;try{Pi.transition=null,_t=1,pZ(t,e,n,r)}finally{Pi.transition=i,_t=r}return null}function pZ(t,e,n,r){do ld();while(Ho!==null);if(ut&6)throw Error(ce(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ce(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(KY(t,a),t===Rn&&(vn=Rn=null,Bn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Jg||(Jg=!0,jF(_v,function(){return ld(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Pi.transition,Pi.transition=null;var s=_t;_t=1;var o=ut;ut|=4,QT.current=null,lZ(t,n),gF(n,t),$X(OS),Ev=!!CS,OS=CS=null,t.current=n,cZ(n),FY(),ut=o,_t=s,Pi.transition=a}else t.current=n;if(Jg&&(Jg=!1,Ho=t,Bv=i),a=t.pendingLanes,a===0&&(tl=null),UY(n.stateNode),Pr(t,ln()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fv)throw Fv=!1,t=XS,XS=null,t;return Bv&1&&t.tag!==0&&ld(),a=t.pendingLanes,a&1?t===ZS?rp++:(rp=0,ZS=t):rp=0,Cl(),null}function ld(){if(Ho!==null){var t=n3(Bv),e=Pi.transition,n=_t;try{if(Pi.transition=null,_t=16>t?16:t,Ho===null)var r=!1;else{if(t=Ho,Ho=null,Bv=0,ut&6)throw Error(ce(331));var i=ut;for(ut|=4,Se=t.current;Se!==null;){var a=Se,s=a.child;if(Se.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Se=c;Se!==null;){var d=Se;switch(d.tag){case 0:case 11:case 15:tp(8,d,a)}var f=d.child;if(f!==null)f.return=d,Se=f;else for(;Se!==null;){d=Se;var h=d.sibling,p=d.return;if(hF(d),d===c){Se=null;break}if(h!==null){h.return=p,Se=h;break}Se=p}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}Se=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Se=s;else e:for(;Se!==null;){if(a=Se,a.flags&2048)switch(a.tag){case 0:case 11:case 15:tp(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,Se=b;break e}Se=a.return}}var v=t.current;for(Se=v;Se!==null;){s=Se;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,Se=y;else e:for(s=v;Se!==null;){if(o=Se,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Lx(9,o)}}catch(w){an(o,o.return,w)}if(o===s){Se=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,Se=_;break e}Se=o.return}}if(ut=i,Cl(),Qa&&typeof Qa.onPostCommitFiberRoot=="function")try{Qa.onPostCommitFiberRoot(Ox,t)}catch{}r=!0}return r}finally{_t=n,Pi.transition=e}}return!1}function YP(t,e,n){e=Dd(n,e),e=nF(t,e,1),t=el(t,e,1),e=hr(),t!==null&&(Xm(t,1,e),Pr(t,e))}function an(t,e,n){if(t.tag===3)YP(t,t,n);else for(;e!==null;){if(e.tag===3){YP(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tl===null||!tl.has(r))){t=Dd(n,t),t=rF(e,t,1),e=el(e,t,1),t=hr(),e!==null&&(Xm(e,1,t),Pr(e,t));break}}e=e.return}}function mZ(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=hr(),t.pingedLanes|=t.suspendedLanes&n,Rn===t&&(Bn&n)===n&&(En===4||En===3&&(Bn&130023424)===Bn&&500>ln()-tk?wc(t,0):ek|=n),Pr(t,e)}function SF(t,e){e===0&&(t.mode&1?(e=Ug,Ug<<=1,!(Ug&130023424)&&(Ug=4194304)):e=1);var n=hr();t=Ks(t,e),t!==null&&(Xm(t,e,n),Pr(t,n))}function gZ(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),SF(t,n)}function yZ(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ce(314))}r!==null&&r.delete(e),SF(t,n)}var EF;EF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Or.current)Tr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tr=!1,iZ(t,e,n);Tr=!!(t.flags&131072)}else Tr=!1,Wt&&e.flags&1048576&&k3(e,Nv,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ev(t,e),t=e.pendingProps;var i=Id(e,Jn.current);od(e,n),i=KT(null,e,r,t,i,n);var a=YT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nr(r)?(a=!0,Cv(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,HT(e),i.updater=Dx,e.stateNode=i,i._reactInternals=e,FS(e,r,t,n),e=US(null,e,r,!0,a,n)):(e.tag=0,Wt&&a&&MT(e),or(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ev(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=xZ(r),t=Zi(r,t),i){case 0:e=zS(null,e,r,t,n);break e;case 1:e=FP(null,e,r,t,n);break e;case 11:e=DP(null,e,r,t,n);break e;case 14:e=LP(null,e,r,Zi(r.type,t),n);break e}throw Error(ce(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zi(r,i),zS(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zi(r,i),FP(t,e,r,i,n);case 3:e:{if(oF(e),t===null)throw Error(ce(387));r=e.pendingProps,a=e.memoizedState,i=a.element,$3(t,e),$v(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Dd(Error(ce(423)),e),e=BP(t,e,r,n,i);break e}else if(r!==i){i=Dd(Error(ce(424)),e),e=BP(t,e,r,n,i);break e}else for(Jr=Qo(e.stateNode.containerInfo.firstChild),ti=e,Wt=!0,aa=null,n=P3(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($d(),r===i){e=Ys(t,e,n);break e}or(t,e,r,n)}e=e.child}return e;case 5:return R3(e),t===null&&MS(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,NS(r,i)?s=null:a!==null&&NS(r,a)&&(e.flags|=32),sF(t,e),or(t,e,s,n),e.child;case 6:return t===null&&MS(e),null;case 13:return lF(t,e,n);case 4:return VT(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Rd(e,null,r,n):or(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zi(r,i),DP(t,e,r,i,n);case 7:return or(t,e,e.pendingProps,n),e.child;case 8:return or(t,e,e.pendingProps.children,n),e.child;case 12:return or(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Pt(Pv,r._currentValue),r._currentValue=s,a!==null)if(ba(a.value,s)){if(a.children===i.children&&!Or.current){e=Ys(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Ls(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),DS(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(ce(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),DS(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}or(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,od(e,n),i=Ri(i),r=r(i),e.flags|=1,or(t,e,r,n),e.child;case 14:return r=e.type,i=Zi(r,e.pendingProps),i=Zi(r.type,i),LP(t,e,r,i,n);case 15:return iF(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zi(r,i),ev(t,e),e.tag=1,Nr(r)?(t=!0,Cv(e)):t=!1,od(e,n),tF(e,r,i),FS(e,r,i,n),US(null,e,r,!0,t,n);case 19:return cF(t,e,n);case 22:return aF(t,e,n)}throw Error(ce(156,e.tag))};function jF(t,e){return J5(t,e)}function vZ(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ai(t,e,n,r){return new vZ(t,e,n,r)}function ak(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xZ(t){if(typeof t=="function")return ak(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ET)return 11;if(t===jT)return 14}return 2}function rl(t,e){var n=t.alternate;return n===null?(n=Ai(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function rv(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")ak(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Fu:return _c(n.children,i,a,e);case ST:s=8,i|=8;break;case cS:return t=Ai(12,n,e,i|2),t.elementType=cS,t.lanes=a,t;case uS:return t=Ai(13,n,e,i),t.elementType=uS,t.lanes=a,t;case dS:return t=Ai(19,n,e,i),t.elementType=dS,t.lanes=a,t;case R5:return Bx(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case I5:s=10;break e;case $5:s=9;break e;case ET:s=11;break e;case jT:s=14;break e;case Co:s=16,r=null;break e}throw Error(ce(130,t==null?t:typeof t,""))}return e=Ai(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function _c(t,e,n,r){return t=Ai(7,t,r,e),t.lanes=n,t}function Bx(t,e,n,r){return t=Ai(22,t,r,e),t.elementType=R5,t.lanes=n,t.stateNode={isHidden:!1},t}function g_(t,e,n){return t=Ai(6,t,null,e),t.lanes=n,t}function y_(t,e,n){return e=Ai(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bZ(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zw(0),this.expirationTimes=Zw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sk(t,e,n,r,i,a,s,o,l){return t=new bZ(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ai(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},HT(a),t}function wZ(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function AF(t){if(!t)return ul;t=t._reactInternals;e:{if(Zc(t)!==t||t.tag!==1)throw Error(ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ce(171))}if(t.tag===1){var n=t.type;if(Nr(n))return A3(t,n,e)}return e}function TF(t,e,n,r,i,a,s,o,l){return t=sk(n,r,!0,t,i,a,s,o,l),t.context=AF(null),n=t.current,r=hr(),i=nl(n),a=Ls(r,i),a.callback=e??null,el(n,a,i),t.current.lanes=i,Xm(t,i,r),Pr(t,r),t}function zx(t,e,n,r){var i=e.current,a=hr(),s=nl(i);return n=AF(n),e.context===null?e.context=n:e.pendingContext=n,e=Ls(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=el(i,e,s),t!==null&&(ha(t,i,s,a),Zy(t,i,s)),s}function Uv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function XP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ok(t,e){XP(t,e),(t=t.alternate)&&XP(t,e)}function _Z(){return null}var kF=typeof reportError=="function"?reportError:function(t){console.error(t)};function lk(t){this._internalRoot=t}Ux.prototype.render=lk.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ce(409));zx(t,e,null,null)};Ux.prototype.unmount=lk.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Rc(function(){zx(null,t,null,null)}),e[Gs]=null}};function Ux(t){this._internalRoot=t}Ux.prototype.unstable_scheduleHydration=function(t){if(t){var e=a3();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Io.length&&e!==0&&e<Io[n].priority;n++);Io.splice(n,0,t),n===0&&o3(t)}};function ck(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ZP(){}function SZ(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=Uv(s);a.call(c)}}var s=TF(e,r,t,0,null,!1,!1,"",ZP);return t._reactRootContainer=s,t[Gs]=s.current,Rp(t.nodeType===8?t.parentNode:t),Rc(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=Uv(l);o.call(c)}}var l=sk(t,0,!1,null,null,!1,!1,"",ZP);return t._reactRootContainer=l,t[Gs]=l.current,Rp(t.nodeType===8?t.parentNode:t),Rc(function(){zx(e,l,n,r)}),l}function Vx(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Uv(s);o.call(l)}}zx(e,s,t,i)}else s=SZ(n,e,t,i,r);return Uv(s)}r3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Rh(e.pendingLanes);n!==0&&(kT(e,n|1),Pr(e,ln()),!(ut&6)&&(Ld=ln()+500,Cl()))}break;case 13:Rc(function(){var r=Ks(t,1);if(r!==null){var i=hr();ha(r,t,1,i)}}),ok(t,1)}};CT=function(t){if(t.tag===13){var e=Ks(t,134217728);if(e!==null){var n=hr();ha(e,t,134217728,n)}ok(t,134217728)}};i3=function(t){if(t.tag===13){var e=nl(t),n=Ks(t,e);if(n!==null){var r=hr();ha(n,t,e,r)}ok(t,e)}};a3=function(){return _t};s3=function(t,e){var n=_t;try{return _t=t,e()}finally{_t=n}};wS=function(t,e,n){switch(e){case"input":if(pS(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=$x(r);if(!i)throw Error(ce(90));D5(r),pS(r,i)}}}break;case"textarea":F5(t,n);break;case"select":e=n.value,e!=null&&rd(t,!!n.multiple,e,!1)}};q5=nk;G5=Rc;var EZ={usingClientEntryPoint:!1,Events:[Jm,Hu,$x,V5,W5,nk]},hh={findFiberByHostInstance:lc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jZ={bundleType:hh.bundleType,version:hh.version,rendererPackageName:hh.rendererPackageName,rendererConfig:hh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:co.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=X5(t),t===null?null:t.stateNode},findFiberByHostInstance:hh.findFiberByHostInstance||_Z,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qg.isDisabled&&Qg.supportsFiber)try{Ox=Qg.inject(jZ),Qa=Qg}catch{}}fi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EZ;fi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ck(e))throw Error(ce(200));return wZ(t,e,null,n)};fi.createRoot=function(t,e){if(!ck(t))throw Error(ce(299));var n=!1,r="",i=kF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=sk(t,1,!1,null,null,n,!1,r,i),t[Gs]=e.current,Rp(t.nodeType===8?t.parentNode:t),new lk(e)};fi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ce(188)):(t=Object.keys(t).join(","),Error(ce(268,t)));return t=X5(e),t=t===null?null:t.stateNode,t};fi.flushSync=function(t){return Rc(t)};fi.hydrate=function(t,e,n){if(!Hx(e))throw Error(ce(200));return Vx(null,t,e,!0,n)};fi.hydrateRoot=function(t,e,n){if(!ck(t))throw Error(ce(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=kF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=TF(e,null,t,1,n??null,i,!1,a,s),t[Gs]=e.current,Rp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ux(e)};fi.render=function(t,e,n){if(!Hx(e))throw Error(ce(200));return Vx(null,t,e,!1,n)};fi.unmountComponentAtNode=function(t){if(!Hx(t))throw Error(ce(40));return t._reactRootContainer?(Rc(function(){Vx(null,null,t,!1,function(){t._reactRootContainer=null,t[Gs]=null})}),!0):!1};fi.unstable_batchedUpdates=nk;fi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hx(n))throw Error(ce(200));if(t==null||t._reactInternals===void 0)throw Error(ce(38));return Vx(t,e,n,!1,r)};fi.version="18.3.1-next-f1338f8080-20240426";function CF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CF)}catch(t){console.error(t)}}CF(),C5.exports=fi;var Jc=C5.exports;const OF=at(Jc);var NF,JP=Jc;NF=JP.createRoot,JP.hydrateRoot;var Wx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qx=typeof window>"u"||"Deno"in globalThis;function Ji(){}function AZ(t,e){return typeof t=="function"?t(e):t}function TZ(t){return typeof t=="number"&&t>=0&&t!==1/0}function kZ(t,e){return Math.max(t+(e||0)-Date.now(),0)}function QP(t,e){return typeof t=="function"?t(e):t}function CZ(t,e){return typeof t=="function"?t(e):t}function eI(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:s,stale:o}=t;if(s){if(r){if(e.queryHash!==uk(s,e.options))return!1}else if(!Wp(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||a&&!a(e))}function tI(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(Vp(e.options.mutationKey)!==Vp(a))return!1}else if(!Wp(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function uk(t,e){return((e==null?void 0:e.queryKeyHashFn)||Vp)(t)}function Vp(t){return JSON.stringify(t,(e,n)=>eE(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Wp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Wp(t[n],e[n])):!1}function PF(t,e){if(t===e)return t;const n=nI(t)&&nI(e);if(n||eE(t)&&eE(e)){const r=n?t:Object.keys(t),i=r.length,a=n?e:Object.keys(e),s=a.length,o=n?[]:{};let l=0;for(let c=0;c<s;c++){const d=n?c:a[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(o[d]=void 0,l++):(o[d]=PF(t[d],e[d]),o[d]===t[d]&&t[d]!==void 0&&l++)}return i===s&&l===i?t:o}return e}function nI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function eE(t){if(!rI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!rI(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function rI(t){return Object.prototype.toString.call(t)==="[object Object]"}function OZ(t){return new Promise(e=>{setTimeout(e,t)})}function NZ(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?PF(t,e):e}function PZ(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function IZ(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var dk=Symbol();function IF(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===dk?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var gc,Do,Sd,l5,$Z=(l5=class extends Wx{constructor(){super();vt(this,gc);vt(this,Do);vt(this,Sd);nt(this,Sd,e=>{if(!qx&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ne(this,Do)||this.setEventListener(ne(this,Sd))}onUnsubscribe(){var e;this.hasListeners()||((e=ne(this,Do))==null||e.call(this),nt(this,Do,void 0))}setEventListener(e){var n;nt(this,Sd,e),(n=ne(this,Do))==null||n.call(this),nt(this,Do,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ne(this,gc)!==e&&(nt(this,gc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ne(this,gc)=="boolean"?ne(this,gc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},gc=new WeakMap,Do=new WeakMap,Sd=new WeakMap,l5),$F=new $Z,Ed,Lo,jd,c5,RZ=(c5=class extends Wx{constructor(){super();vt(this,Ed,!0);vt(this,Lo);vt(this,jd);nt(this,jd,e=>{if(!qx&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ne(this,Lo)||this.setEventListener(ne(this,jd))}onUnsubscribe(){var e;this.hasListeners()||((e=ne(this,Lo))==null||e.call(this),nt(this,Lo,void 0))}setEventListener(e){var n;nt(this,jd,e),(n=ne(this,Lo))==null||n.call(this),nt(this,Lo,e(this.setOnline.bind(this)))}setOnline(e){ne(this,Ed)!==e&&(nt(this,Ed,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ne(this,Ed)}},Ed=new WeakMap,Lo=new WeakMap,jd=new WeakMap,c5),Hv=new RZ;function MZ(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function DZ(t){return Math.min(1e3*2**t,3e4)}function RF(t){return(t??"online")==="online"?Hv.isOnline():!0}var MF=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function v_(t){return t instanceof MF}function DF(t){let e=!1,n=0,r=!1,i;const a=MZ(),s=g=>{var x;r||(h(new MF(g)),(x=t.abort)==null||x.call(t))},o=()=>{e=!0},l=()=>{e=!1},c=()=>$F.isFocused()&&(t.networkMode==="always"||Hv.isOnline())&&t.canRun(),d=()=>RF(t.networkMode)&&t.canRun(),f=g=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,g),i==null||i(),a.resolve(g))},h=g=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,g),i==null||i(),a.reject(g))},p=()=>new Promise(g=>{var x;i=b=>{(r||c())&&g(b)},(x=t.onPause)==null||x.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),m=()=>{if(r)return;let g;const x=n===0?t.initialPromise:void 0;try{g=x??t.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(f).catch(b=>{var E;if(r)return;const v=t.retry??(qx?0:3),y=t.retryDelay??DZ,_=typeof y=="function"?y(n,b):y,w=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,b);if(e||!w){h(b);return}n++,(E=t.onFail)==null||E.call(t,n,b),OZ(_).then(()=>c()?void 0:p()).then(()=>{e?h(b):m()})})};return{promise:a,cancel:s,continue:()=>(i==null||i(),a),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?m():p().then(m),a)}}function LZ(){let t=[],e=0,n=o=>{o()},r=o=>{o()},i=o=>setTimeout(o,0);const a=o=>{e?t.push(o):i(()=>{n(o)})},s=()=>{const o=t;t=[],o.length&&i(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||s()}return l},batchCalls:o=>(...l)=>{a(()=>{o(...l)})},schedule:a,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var cr=LZ(),yc,u5,LF=(u5=class{constructor(){vt(this,yc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),TZ(this.gcTime)&&nt(this,yc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(qx?1/0:5*60*1e3))}clearGcTimeout(){ne(this,yc)&&(clearTimeout(ne(this,yc)),nt(this,yc,void 0))}},yc=new WeakMap,u5),Ad,Td,wi,Gn,Gm,vc,ea,js,d5,FZ=(d5=class extends LF{constructor(e){super();vt(this,ea);vt(this,Ad);vt(this,Td);vt(this,wi);vt(this,Gn);vt(this,Gm);vt(this,vc);nt(this,vc,!1),nt(this,Gm,e.defaultOptions),this.setOptions(e.options),this.observers=[],nt(this,wi,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,nt(this,Ad,zZ(this.options)),this.state=e.state??ne(this,Ad),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ne(this,Gn))==null?void 0:e.promise}setOptions(e){this.options={...ne(this,Gm),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ne(this,wi).remove(this)}setData(e,n){const r=NZ(this.state.data,e,this.options);return Hn(this,ea,js).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Hn(this,ea,js).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=ne(this,Gn))==null?void 0:r.promise;return(i=ne(this,Gn))==null||i.cancel(e),n?n.then(Ji).catch(Ji):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ne(this,Ad))}isActive(){return this.observers.some(e=>CZ(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===dk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!kZ(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=ne(this,Gn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=ne(this,Gn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ne(this,wi).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(ne(this,Gn)&&(ne(this,vc)?ne(this,Gn).cancel({revert:!0}):ne(this,Gn).cancelRetry()),this.scheduleGc()),ne(this,wi).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Hn(this,ea,js).call(this,{type:"invalidate"})}fetch(e,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ne(this,Gn))return ne(this,Gn).continueRetry(),ne(this,Gn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(nt(this,vc,!0),r.signal)})},a=()=>{const f=IF(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return i(h),nt(this,vc,!1),this.options.persister?this.options.persister(f,h,this):f(h)},s={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(s),(l=this.options.behavior)==null||l.onFetch(s,this),nt(this,Td,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=s.fetchOptions)==null?void 0:c.meta))&&Hn(this,ea,js).call(this,{type:"fetch",meta:(d=s.fetchOptions)==null?void 0:d.meta});const o=f=>{var h,p,m,g;v_(f)&&f.silent||Hn(this,ea,js).call(this,{type:"error",error:f}),v_(f)||((p=(h=ne(this,wi).config).onError)==null||p.call(h,f,this),(g=(m=ne(this,wi).config).onSettled)==null||g.call(m,this.state.data,f,this)),this.scheduleGc()};return nt(this,Gn,DF({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,p,m,g;if(f===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){o(x);return}(p=(h=ne(this,wi).config).onSuccess)==null||p.call(h,f,this),(g=(m=ne(this,wi).config).onSettled)==null||g.call(m,f,this.state.error,this),this.scheduleGc()},onError:o,onFail:(f,h)=>{Hn(this,ea,js).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Hn(this,ea,js).call(this,{type:"pause"})},onContinue:()=>{Hn(this,ea,js).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),ne(this,Gn).start()}},Ad=new WeakMap,Td=new WeakMap,wi=new WeakMap,Gn=new WeakMap,Gm=new WeakMap,vc=new WeakMap,ea=new WeakSet,js=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...BZ(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return v_(i)&&i.revert&&ne(this,Td)?{...ne(this,Td),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),cr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ne(this,wi).notify({query:this,type:"updated",action:e})})},d5);function BZ(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:RF(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function zZ(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ha,f5,UZ=(f5=class extends Wx{constructor(e={}){super();vt(this,Ha);this.config=e,nt(this,Ha,new Map)}build(e,n,r){const i=n.queryKey,a=n.queryHash??uk(i,n);let s=this.get(a);return s||(s=new FZ({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){ne(this,Ha).has(e.queryHash)||(ne(this,Ha).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ne(this,Ha).get(e.queryHash);n&&(e.destroy(),n===e&&ne(this,Ha).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){cr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ne(this,Ha).get(e)}getAll(){return[...ne(this,Ha).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>eI(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>eI(e,r)):n}notify(e){cr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){cr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){cr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ha=new WeakMap,f5),Va,sr,xc,Wa,jo,h5,HZ=(h5=class extends LF{constructor(e){super();vt(this,Wa);vt(this,Va);vt(this,sr);vt(this,xc);this.mutationId=e.mutationId,nt(this,sr,e.mutationCache),nt(this,Va,[]),this.state=e.state||VZ(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ne(this,Va).includes(e)||(ne(this,Va).push(e),this.clearGcTimeout(),ne(this,sr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){nt(this,Va,ne(this,Va).filter(n=>n!==e)),this.scheduleGc(),ne(this,sr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ne(this,Va).length||(this.state.status==="pending"?this.scheduleGc():ne(this,sr).remove(this))}continue(){var e;return((e=ne(this,xc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,s,o,l,c,d,f,h,p,m,g,x,b,v,y,_,w,E,A;nt(this,xc,DF({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(j,T)=>{Hn(this,Wa,jo).call(this,{type:"failed",failureCount:j,error:T})},onPause:()=>{Hn(this,Wa,jo).call(this,{type:"pause"})},onContinue:()=>{Hn(this,Wa,jo).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ne(this,sr).canRun(this)}));const n=this.state.status==="pending",r=!ne(this,xc).canStart();try{if(!n){Hn(this,Wa,jo).call(this,{type:"pending",variables:e,isPaused:r}),await((a=(i=ne(this,sr).config).onMutate)==null?void 0:a.call(i,e,this));const T=await((o=(s=this.options).onMutate)==null?void 0:o.call(s,e));T!==this.state.context&&Hn(this,Wa,jo).call(this,{type:"pending",context:T,variables:e,isPaused:r})}const j=await ne(this,xc).start();return await((c=(l=ne(this,sr).config).onSuccess)==null?void 0:c.call(l,j,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,j,e,this.state.context)),await((p=(h=ne(this,sr).config).onSettled)==null?void 0:p.call(h,j,null,this.state.variables,this.state.context,this)),await((g=(m=this.options).onSettled)==null?void 0:g.call(m,j,null,e,this.state.context)),Hn(this,Wa,jo).call(this,{type:"success",data:j}),j}catch(j){try{throw await((b=(x=ne(this,sr).config).onError)==null?void 0:b.call(x,j,e,this.state.context,this)),await((y=(v=this.options).onError)==null?void 0:y.call(v,j,e,this.state.context)),await((w=(_=ne(this,sr).config).onSettled)==null?void 0:w.call(_,void 0,j,this.state.variables,this.state.context,this)),await((A=(E=this.options).onSettled)==null?void 0:A.call(E,void 0,j,e,this.state.context)),j}finally{Hn(this,Wa,jo).call(this,{type:"error",error:j})}}finally{ne(this,sr).runNext(this)}}},Va=new WeakMap,sr=new WeakMap,xc=new WeakMap,Wa=new WeakSet,jo=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),cr.batch(()=>{ne(this,Va).forEach(r=>{r.onMutationUpdate(e)}),ne(this,sr).notify({mutation:this,type:"updated",action:e})})},h5);function VZ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qr,Km,p5,WZ=(p5=class extends Wx{constructor(e={}){super();vt(this,qr);vt(this,Km);this.config=e,nt(this,qr,new Map),nt(this,Km,Date.now())}build(e,n,r){const i=new HZ({mutationCache:this,mutationId:++Mg(this,Km)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=ey(e),r=ne(this,qr).get(n)??[];r.push(e),ne(this,qr).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=ey(e);if(ne(this,qr).has(n)){const i=(r=ne(this,qr).get(n))==null?void 0:r.filter(a=>a!==e);i&&(i.length===0?ne(this,qr).delete(n):ne(this,qr).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=ne(this,qr).get(ey(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=ne(this,qr).get(ey(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){cr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...ne(this,qr).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>tI(n,r))}findAll(e={}){return this.getAll().filter(n=>tI(e,n))}notify(e){cr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return cr.batch(()=>Promise.all(e.map(n=>n.continue().catch(Ji))))}},qr=new WeakMap,Km=new WeakMap,p5);function ey(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function iI(t){return{onFetch:(e,n)=>{var d,f,h,p,m;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((p=e.state.data)==null?void 0:p.pages)||[],s=((m=e.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const x=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},b=IF(e.options,e.fetchOptions),v=async(y,_,w)=>{if(g)return Promise.reject();if(_==null&&y.pages.length)return Promise.resolve(y);const E={queryKey:e.queryKey,pageParam:_,direction:w?"backward":"forward",meta:e.options.meta};x(E);const A=await b(E),{maxPages:j}=e.options,T=w?IZ:PZ;return{pages:T(y.pages,A,j),pageParams:T(y.pageParams,_,j)}};if(i&&a.length){const y=i==="backward",_=y?qZ:aI,w={pages:a,pageParams:s},E=_(r,w);o=await v(w,E,y)}else{const y=t??a.length;do{const _=l===0?s[0]??r.initialPageParam:aI(r,o);if(l>0&&_==null)break;o=await v(o,_),l++}while(l<y)}return o};e.options.persister?e.fetchFn=()=>{var g,x;return(x=(g=e.options).persister)==null?void 0:x.call(g,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function aI(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function qZ(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var tn,Fo,Bo,kd,Cd,zo,Od,Nd,m5,GZ=(m5=class{constructor(t={}){vt(this,tn);vt(this,Fo);vt(this,Bo);vt(this,kd);vt(this,Cd);vt(this,zo);vt(this,Od);vt(this,Nd);nt(this,tn,t.queryCache||new UZ),nt(this,Fo,t.mutationCache||new WZ),nt(this,Bo,t.defaultOptions||{}),nt(this,kd,new Map),nt(this,Cd,new Map),nt(this,zo,0)}mount(){Mg(this,zo)._++,ne(this,zo)===1&&(nt(this,Od,$F.subscribe(async t=>{t&&(await this.resumePausedMutations(),ne(this,tn).onFocus())})),nt(this,Nd,Hv.subscribe(async t=>{t&&(await this.resumePausedMutations(),ne(this,tn).onOnline())})))}unmount(){var t,e;Mg(this,zo)._--,ne(this,zo)===0&&((t=ne(this,Od))==null||t.call(this),nt(this,Od,void 0),(e=ne(this,Nd))==null||e.call(this),nt(this,Nd,void 0))}isFetching(t){return ne(this,tn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ne(this,Fo).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ne(this,tn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=ne(this,tn).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(QP(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return ne(this,tn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=ne(this,tn).get(r.queryHash),a=i==null?void 0:i.state.data,s=AZ(e,a);if(s!==void 0)return ne(this,tn).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return cr.batch(()=>ne(this,tn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ne(this,tn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ne(this,tn);cr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ne(this,tn),r={type:"active",...t};return cr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=cr.batch(()=>ne(this,tn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Ji).catch(Ji)}invalidateQueries(t={},e={}){return cr.batch(()=>{if(ne(this,tn).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=cr.batch(()=>ne(this,tn).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Ji)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Ji)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ne(this,tn).build(this,e);return n.isStaleByTime(QP(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ji).catch(Ji)}fetchInfiniteQuery(t){return t.behavior=iI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ji).catch(Ji)}ensureInfiniteQueryData(t){return t.behavior=iI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Hv.isOnline()?ne(this,Fo).resumePausedMutations():Promise.resolve()}getQueryCache(){return ne(this,tn)}getMutationCache(){return ne(this,Fo)}getDefaultOptions(){return ne(this,Bo)}setDefaultOptions(t){nt(this,Bo,t)}setQueryDefaults(t,e){ne(this,kd).set(Vp(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ne(this,kd).values()];let n={};return e.forEach(r=>{Wp(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){ne(this,Cd).set(Vp(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ne(this,Cd).values()];let n={};return e.forEach(r=>{Wp(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ne(this,Bo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=uk(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===dk&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ne(this,Bo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ne(this,tn).clear(),ne(this,Fo).clear()}},tn=new WeakMap,Fo=new WeakMap,Bo=new WeakMap,kd=new WeakMap,Cd=new WeakMap,zo=new WeakMap,Od=new WeakMap,Nd=new WeakMap,m5),KZ=S.createContext(void 0),YZ=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(KZ.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qp(){return qp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qp.apply(this,arguments)}var Vo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vo||(Vo={}));const sI="popstate";function XZ(t){t===void 0&&(t={});function e(i,a){let{pathname:s="/",search:o="",hash:l=""}=Qc(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),tE("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let s=i.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");o=c===-1?l:l.slice(0,c)}return o+"#"+(typeof a=="string"?a:Vv(a))}function r(i,a){fk(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return JZ(e,n,r,t)}function fn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZZ(){return Math.random().toString(36).substr(2,8)}function oI(t,e){return{usr:t.state,key:t.key,idx:e}}function tE(t,e,n,r){return n===void 0&&(n=null),qp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qc(e):e,{state:n,key:e&&e.key||r||ZZ()})}function Vv(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Qc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function JZ(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=Vo.Pop,l=null,c=d();c==null&&(c=0,s.replaceState(qp({},s.state,{idx:c}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=Vo.Pop;let x=d(),b=x==null?null:x-c;c=x,l&&l({action:o,location:g.location,delta:b})}function h(x,b){o=Vo.Push;let v=tE(g.location,x,b);n&&n(v,x),c=d()+1;let y=oI(v,c),_=g.createHref(v);try{s.pushState(y,"",_)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(_)}a&&l&&l({action:o,location:g.location,delta:1})}function p(x,b){o=Vo.Replace;let v=tE(g.location,x,b);n&&n(v,x),c=d();let y=oI(v,c),_=g.createHref(v);s.replaceState(y,"",_),a&&l&&l({action:o,location:g.location,delta:0})}function m(x){let b=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof x=="string"?x:Vv(x);return v=v.replace(/ $/,"%20"),fn(b,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,b)}let g={get action(){return o},get location(){return t(i,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(sI,f),l=x,()=>{i.removeEventListener(sI,f),l=null}},createHref(x){return e(i,x)},createURL:m,encodeLocation(x){let b=m(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(x){return s.go(x)}};return g}var lI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(lI||(lI={}));function QZ(t,e,n){return n===void 0&&(n="/"),eJ(t,e,n,!1)}function eJ(t,e,n,r){let i=typeof e=="string"?Qc(e):e,a=hk(i.pathname||"/",n);if(a==null)return null;let s=FF(t);tJ(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=fJ(a);o=uJ(s[l],c,r)}return o}function FF(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(fn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=il([r,l.relativePath]),d=n.concat(l);a.children&&a.children.length>0&&(fn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),FF(a.children,e,d,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:lJ(c,a.index),routesMeta:d})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of BF(a.path))i(a,s,l)}),e}function BF(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=BF(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function tJ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cJ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const nJ=/^:[\w-]+$/,rJ=3,iJ=2,aJ=1,sJ=10,oJ=-2,cI=t=>t==="*";function lJ(t,e){let n=t.split("/"),r=n.length;return n.some(cI)&&(r+=oJ),e&&(r+=iJ),n.filter(i=>!cI(i)).reduce((i,a)=>i+(nJ.test(a)?rJ:a===""?aJ:sJ),r)}function cJ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function uJ(t,e,n){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,d=a==="/"?e:e.slice(a.length)||"/",f=uI({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=uI({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:il([a,f.pathname]),pathnameBase:gJ(il([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=il([a,f.pathnameBase]))}return s}function uI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dJ(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=o[f]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=o[f];return p&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function dJ(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),fk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function fJ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function hk(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function hJ(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Qc(t):t;return{pathname:n?n.startsWith("/")?n:pJ(n,e):e,search:yJ(r),hash:vJ(i)}}function pJ(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function x_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mJ(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pk(t,e){let n=mJ(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function mk(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Qc(t):(i=qp({},t),fn(!i.pathname||!i.pathname.includes("?"),x_("?","pathname","search",i)),fn(!i.pathname||!i.pathname.includes("#"),x_("#","pathname","hash",i)),fn(!i.search||!i.search.includes("#"),x_("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=hJ(i,o),c=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const il=t=>t.join("/").replace(/\/\/+/g,"/"),gJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const zF=["post","put","patch","delete"];new Set(zF);const bJ=["get",...zF];new Set(bJ);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gp(){return Gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gp.apply(this,arguments)}const gk=S.createContext(null),wJ=S.createContext(null),Ol=S.createContext(null),Gx=S.createContext(null),Nl=S.createContext({outlet:null,matches:[],isDataRoute:!1}),UF=S.createContext(null);function _J(t,e){let{relative:n}=e===void 0?{}:e;Of()||fn(!1);let{basename:r,navigator:i}=S.useContext(Ol),{hash:a,pathname:s,search:o}=VF(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:il([r,s])),i.createHref({pathname:l,search:o,hash:a})}function Of(){return S.useContext(Gx)!=null}function Pl(){return Of()||fn(!1),S.useContext(Gx).location}function HF(t){S.useContext(Ol).static||S.useLayoutEffect(t)}function pi(){let{isDataRoute:t}=S.useContext(Nl);return t?RJ():SJ()}function SJ(){Of()||fn(!1);let t=S.useContext(gk),{basename:e,future:n,navigator:r}=S.useContext(Ol),{matches:i}=S.useContext(Nl),{pathname:a}=Pl(),s=JSON.stringify(pk(i,n.v7_relativeSplatPath)),o=S.useRef(!1);return HF(()=>{o.current=!0}),S.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=mk(c,JSON.parse(s),a,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:il([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,s,a,t])}function VF(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=S.useContext(Ol),{matches:i}=S.useContext(Nl),{pathname:a}=Pl(),s=JSON.stringify(pk(i,r.v7_relativeSplatPath));return S.useMemo(()=>mk(t,JSON.parse(s),a,n==="path"),[t,s,a,n])}function EJ(t,e){return jJ(t,e)}function jJ(t,e,n,r){Of()||fn(!1);let{navigator:i}=S.useContext(Ol),{matches:a}=S.useContext(Nl),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Pl(),d;if(e){var f;let x=typeof e=="string"?Qc(e):e;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||fn(!1),d=x}else d=c;let h=d.pathname||"/",p=h;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let m=QZ(t,{pathname:p}),g=OJ(m&&m.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:il([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:il([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,n,r);return e&&g?S.createElement(Gx.Provider,{value:{location:Gp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Vo.Pop}},g):g}function AJ(){let t=$J(),e=xJ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,null)}const TJ=S.createElement(AJ,null);class kJ extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(Nl.Provider,{value:this.props.routeContext},S.createElement(UF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CJ(t){let{routeContext:e,match:n,children:r}=t,i=S.useContext(gk);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Nl.Provider,{value:e},r)}function OJ(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||fn(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:p}=n,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,m=!1,g=null,x=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||TJ,l&&(c<0&&h===0?(m=!0,x=null):c===h&&(m=!0,x=f.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,h+1)),v=()=>{let y;return p?y=g:m?y=x:f.route.Component?y=S.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,S.createElement(CJ,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:n!=null},children:y})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?S.createElement(kJ,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var WF=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(WF||{}),Wv=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Wv||{});function NJ(t){let e=S.useContext(gk);return e||fn(!1),e}function PJ(t){let e=S.useContext(wJ);return e||fn(!1),e}function IJ(t){let e=S.useContext(Nl);return e||fn(!1),e}function qF(t){let e=IJ(),n=e.matches[e.matches.length-1];return n.route.id||fn(!1),n.route.id}function $J(){var t;let e=S.useContext(UF),n=PJ(Wv.UseRouteError),r=qF(Wv.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function RJ(){let{router:t}=NJ(WF.UseNavigateStable),e=qF(Wv.UseNavigateStable),n=S.useRef(!1);return HF(()=>{n.current=!0}),S.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Gp({fromRouteId:e},a)))},[t,e])}function MJ(t){let{to:e,replace:n,state:r,relative:i}=t;Of()||fn(!1);let{future:a,static:s}=S.useContext(Ol),{matches:o}=S.useContext(Nl),{pathname:l}=Pl(),c=pi(),d=mk(e,pk(o,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return S.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function Fa(t){fn(!1)}function DJ(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Vo.Pop,navigator:a,static:s=!1,future:o}=t;Of()&&fn(!1);let l=e.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:l,navigator:a,static:s,future:Gp({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof r=="string"&&(r=Qc(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=r,g=S.useMemo(()=>{let x=hk(d,l);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:m},navigationType:i}},[l,d,f,h,p,m,i]);return g==null?null:S.createElement(Ol.Provider,{value:c},S.createElement(Gx.Provider,{children:n,value:g}))}function LJ(t){let{children:e,location:n}=t;return EJ(nE(e),n)}new Promise(()=>{});function nE(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let a=[...e,i];if(r.type===S.Fragment){n.push.apply(n,nE(r.props.children,a));return}r.type!==Fa&&fn(!1),!r.props.index||!r.props.children||fn(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=nE(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rE(){return rE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rE.apply(this,arguments)}function FJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function BJ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zJ(t,e){return t.button===0&&(!e||e==="_self")&&!BJ(t)}function iE(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function UJ(t,e){let n=iE(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const HJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],VJ="6";try{window.__reactRouterVersion=VJ}catch{}const WJ="startTransition",dI=T5[WJ];function qJ(t){let{basename:e,children:n,future:r,window:i}=t,a=S.useRef();a.current==null&&(a.current=XZ({window:i,v5Compat:!0}));let s=a.current,[o,l]=S.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},d=S.useCallback(f=>{c&&dI?dI(()=>l(f)):l(f)},[l,c]);return S.useLayoutEffect(()=>s.listen(d),[s,d]),S.createElement(DJ,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}const GJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ip=S.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,h=FJ(e,HJ),{basename:p}=S.useContext(Ol),m,g=!1;if(typeof c=="string"&&KJ.test(c)&&(m=c,GJ))try{let y=new URL(window.location.href),_=c.startsWith("//")?new URL(y.protocol+c):new URL(c),w=hk(_.pathname,p);_.origin===y.origin&&w!=null?c=w+_.search+_.hash:g=!0}catch{}let x=_J(c,{relative:i}),b=YJ(c,{replace:s,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:f});function v(y){r&&r(y),y.defaultPrevented||b(y)}return S.createElement("a",rE({},h,{href:m||x,onClick:g||a?r:v,ref:n,target:l}))});var fI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(fI||(fI={}));var hI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(hI||(hI={}));function YJ(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=pi(),c=Pl(),d=VF(t,{relative:s});return S.useCallback(f=>{if(zJ(f,n)){f.preventDefault();let h=r!==void 0?r:Vv(c)===Vv(d);l(t,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,d,r,i,n,t,a,s,o])}function GF(t){let e=S.useRef(iE(t)),n=S.useRef(!1),r=Pl(),i=S.useMemo(()=>UJ(r.search,n.current?null:e.current),[r.search]),a=pi(),s=S.useCallback((o,l)=>{const c=iE(typeof o=="function"?o(i):o);n.current=!0,a("?"+c,l)},[a,i]);return[i,s]}var qv=["light","dark"],yk="(prefers-color-scheme: dark)",XJ=typeof window>"u",vk=S.createContext(void 0),ZJ={setTheme:t=>{},themes:[]},JJ=()=>{var t;return(t=S.useContext(vk))!=null?t:ZJ},QJ=t=>S.useContext(vk)?t.children:S.createElement(tQ,{...t}),eQ=["light","dark"],tQ=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:i="theme",themes:a=eQ,defaultTheme:s=n?"system":"light",attribute:o="data-theme",value:l,children:c,nonce:d})=>{let[f,h]=S.useState(()=>pI(i,s)),[p,m]=S.useState(()=>pI(i)),g=l?Object.values(l):a,x=S.useCallback(_=>{let w=_;if(!w)return;_==="system"&&n&&(w=mI());let E=l?l[w]:w,A=e?rQ():null,j=document.documentElement;if(o==="class"?(j.classList.remove(...g),E&&j.classList.add(E)):E?j.setAttribute(o,E):j.removeAttribute(o),r){let T=qv.includes(s)?s:null,k=qv.includes(w)?w:T;j.style.colorScheme=k}A==null||A()},[]),b=S.useCallback(_=>{let w=typeof _=="function"?_(_):_;h(w);try{localStorage.setItem(i,w)}catch{}},[t]),v=S.useCallback(_=>{let w=mI(_);m(w),f==="system"&&n&&!t&&x("system")},[f,t]);S.useEffect(()=>{let _=window.matchMedia(yk);return _.addListener(v),v(_),()=>_.removeListener(v)},[v]),S.useEffect(()=>{let _=w=>{if(w.key!==i)return;let E=w.newValue||s;b(E)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[b]),S.useEffect(()=>{x(t??f)},[t,f]);let y=S.useMemo(()=>({theme:f,setTheme:b,forcedTheme:t,resolvedTheme:f==="system"?p:f,themes:n?[...a,"system"]:a,systemTheme:n?p:void 0}),[f,b,t,p,n,a]);return S.createElement(vk.Provider,{value:y},S.createElement(nQ,{forcedTheme:t,disableTransitionOnChange:e,enableSystem:n,enableColorScheme:r,storageKey:i,themes:a,defaultTheme:s,attribute:o,value:l,children:c,attrs:g,nonce:d}),c)},nQ=S.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:s,attrs:o,nonce:l})=>{let c=a==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?qv.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(m,g=!1,x=!0)=>{let b=s?s[m]:m,v=g?m+"|| ''":`'${b}'`,y="";return i&&x&&!g&&qv.includes(m)&&(y+=`d.style.colorScheme = '${m}';`),n==="class"?g||b?y+=`c.add(${v})`:y+="null":b&&(y+=`d[s](n,${v})`),y},p=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${yk}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}${c?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return S.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})}),pI=(t,e)=>{if(XJ)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},rQ=()=>{let t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},mI=t=>(t||(t=window.matchMedia(yk)),t.matches?"dark":"light"),iQ=typeof Element<"u",aQ=typeof Map=="function",sQ=typeof Set=="function",oQ=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function iv(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!iv(t[r],e[r]))return!1;return!0}var a;if(aQ&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(a=t.entries();!(r=a.next()).done;)if(!e.has(r.value[0]))return!1;for(a=t.entries();!(r=a.next()).done;)if(!iv(r.value[1],e.get(r.value[0])))return!1;return!0}if(sQ&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(a=t.entries();!(r=a.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(oQ&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(iQ&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!iv(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var lQ=function(e,n){try{return iv(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const cQ=at(lQ);var uQ=function(t,e,n,r,i,a,s,o){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,s,o],d=0;l=new Error(e.replace(/%s/g,function(){return c[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},dQ=uQ;const gI=at(dQ);var fQ=function(e,n,r,i){var a=r?r.call(i,e,n):void 0;if(a!==void 0)return!!a;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),c=0;c<s.length;c++){var d=s[c];if(!l(d))return!1;var f=e[d],h=n[d];if(a=r?r.call(i,f,h,d):void 0,a===!1||a===void 0&&f!==h)return!1}return!0};const hQ=at(fQ);var KF=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(KF||{}),b_={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},yI=Object.values(KF),xk={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},pQ=Object.entries(xk).reduce((t,[e,n])=>(t[n]=e,t),{}),la="data-rh",cd={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},ud=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},mQ=t=>{let e=ud(t,"title");const n=ud(t,cd.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=ud(t,cd.DEFAULT_TITLE);return e||r||void 0},gQ=t=>ud(t,cd.ON_CHANGE_CLIENT_STATE)||(()=>{}),w_=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),yQ=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let a=0;a<i.length;a+=1){const o=i[a].toLowerCase();if(t.indexOf(o)!==-1&&r[o])return n.concat(r)}}return n},[]),vQ=t=>console&&typeof console.warn=="function"&&console.warn(t),ph=(t,e,n)=>{const r={};return n.filter(i=>Array.isArray(i[t])?!0:(typeof i[t]<"u"&&vQ(`Helmet: ${t} should be of type "Array". Instead found type "${typeof i[t]}"`),!1)).map(i=>i[t]).reverse().reduce((i,a)=>{const s={};a.filter(l=>{let c;const d=Object.keys(l);for(let h=0;h<d.length;h+=1){const p=d[h],m=p.toLowerCase();e.indexOf(m)!==-1&&!(c==="rel"&&l[c].toLowerCase()==="canonical")&&!(m==="rel"&&l[m].toLowerCase()==="stylesheet")&&(c=m),e.indexOf(p)!==-1&&(p==="innerHTML"||p==="cssText"||p==="itemprop")&&(c=p)}if(!c||!l[c])return!1;const f=l[c].toLowerCase();return r[c]||(r[c]={}),s[c]||(s[c]={}),r[c][f]?!1:(s[c][f]=!0,!0)}).reverse().forEach(l=>i.push(l));const o=Object.keys(s);for(let l=0;l<o.length;l+=1){const c=o[l],d={...r[c],...s[c]};r[c]=d}return i},[]).reverse()},xQ=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},bQ=t=>({baseTag:yQ(["href"],t),bodyAttributes:w_("bodyAttributes",t),defer:ud(t,cd.DEFER),encode:ud(t,cd.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:w_("htmlAttributes",t),linkTags:ph("link",["rel","href"],t),metaTags:ph("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:ph("noscript",["innerHTML"],t),onChangeClientState:gQ(t),scriptTags:ph("script",["src","innerHTML"],t),styleTags:ph("style",["cssText"],t),title:mQ(t),titleAttributes:w_("titleAttributes",t),prioritizeSeoTags:xQ(t,cd.PRIORITIZE_SEO_TAGS)}),YF=t=>Array.isArray(t)?t.join(""):t,wQ=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},__=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(wQ(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},vI=(t,e)=>({...t,[e]:void 0}),_Q=["noscript","script","style"],aE=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),XF=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),SQ=(t,e,n,r)=>{const i=XF(n),a=YF(e);return i?`<${t} ${la}="true" ${i}>${aE(a,r)}</${t}>`:`<${t} ${la}="true">${aE(a,r)}</${t}>`},EQ=(t,e,n=!0)=>e.reduce((r,i)=>{const a=i,s=Object.keys(a).filter(c=>!(c==="innerHTML"||c==="cssText")).reduce((c,d)=>{const f=typeof a[d]>"u"?d:`${d}="${aE(a[d],n)}"`;return c?`${c} ${f}`:f},""),o=a.innerHTML||a.cssText||"",l=_Q.indexOf(t)===-1;return`${r}<${t} ${la}="true" ${s}${l?"/>":`>${o}</${t}>`}`},""),ZF=(t,e={})=>Object.keys(t).reduce((n,r)=>{const i=xk[r];return n[i||r]=t[r],n},e),jQ=(t,e,n)=>{const r={key:e,[la]:!0},i=ZF(n,r);return[M.createElement("title",i,e)]},av=(t,e)=>e.map((n,r)=>{const i={key:r,[la]:!0};return Object.keys(n).forEach(a=>{const o=xk[a]||a;if(o==="innerHTML"||o==="cssText"){const l=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:l}}else i[o]=n[a]}),M.createElement(t,i)}),xi=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>jQ(t,e.title,e.titleAttributes),toString:()=>SQ(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>ZF(e),toString:()=>XF(e)};default:return{toComponent:()=>av(t,e),toString:()=>EQ(t,e,n)}}},AQ=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const i=__(t,b_.meta),a=__(e,b_.link),s=__(n,b_.script);return{priorityMethods:{toComponent:()=>[...av("meta",i.priority),...av("link",a.priority),...av("script",s.priority)],toString:()=>`${xi("meta",i.priority,r)} ${xi("link",a.priority,r)} ${xi("script",s.priority,r)}`},metaTags:i.default,linkTags:a.default,scriptTags:s.default}},TQ=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:a,styleTags:s,title:o="",titleAttributes:l,prioritizeSeoTags:c}=t;let{linkTags:d,metaTags:f,scriptTags:h}=t,p={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:p,linkTags:d,metaTags:f,scriptTags:h}=AQ(t)),{priority:p,base:xi("base",e,r),bodyAttributes:xi("bodyAttributes",n,r),htmlAttributes:xi("htmlAttributes",i,r),link:xi("link",d,r),meta:xi("meta",f,r),noscript:xi("noscript",a,r),script:xi("script",h,r),style:xi("style",s,r),title:xi("title",{title:o,titleAttributes:l},r)}},sE=TQ,ty=[],JF=!!(typeof window<"u"&&window.document&&window.document.createElement),oE=class{constructor(t,e){H(this,"instances",[]);H(this,"canUseDOM",JF);H(this,"context");H(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?ty:this.instances,add:t=>{(this.canUseDOM?ty:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?ty:this.instances).indexOf(t);(this.canUseDOM?ty:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=sE({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},kQ={},QF=M.createContext(kQ),bc,eB=(bc=class extends S.Component{constructor(n){super(n);H(this,"helmetData");this.helmetData=new oE(this.props.context||{},bc.canUseDOM)}render(){return M.createElement(QF.Provider,{value:this.helmetData.value},this.props.children)}},H(bc,"canUseDOM",JF),bc),hu=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${la}]`),i=[].slice.call(r),a=[];let s;return e&&e.length&&e.forEach(o=>{const l=document.createElement(t);for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c))if(c==="innerHTML")l.innerHTML=o.innerHTML;else if(c==="cssText")l.styleSheet?l.styleSheet.cssText=o.cssText:l.appendChild(document.createTextNode(o.cssText));else{const d=c,f=typeof o[d]>"u"?"":o[d];l.setAttribute(c,f)}l.setAttribute(la,"true"),i.some((c,d)=>(s=d,l.isEqualNode(c)))?i.splice(s,1):a.push(l)}),i.forEach(o=>{var l;return(l=o.parentNode)==null?void 0:l.removeChild(o)}),a.forEach(o=>n.appendChild(o)),{oldTags:i,newTags:a}},lE=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(la),i=r?r.split(","):[],a=[...i],s=Object.keys(e);for(const o of s){const l=e[o]||"";n.getAttribute(o)!==l&&n.setAttribute(o,l),i.indexOf(o)===-1&&i.push(o);const c=a.indexOf(o);c!==-1&&a.splice(c,1)}for(let o=a.length-1;o>=0;o-=1)n.removeAttribute(a[o]);i.length===a.length?n.removeAttribute(la):n.getAttribute(la)!==s.join(",")&&n.setAttribute(la,s.join(","))},CQ=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=YF(t)),lE("title",e)},xI=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:a,metaTags:s,noscriptTags:o,onChangeClientState:l,scriptTags:c,styleTags:d,title:f,titleAttributes:h}=t;lE("body",r),lE("html",i),CQ(f,h);const p={baseTag:hu("base",n),linkTags:hu("link",a),metaTags:hu("meta",s),noscriptTags:hu("noscript",o),scriptTags:hu("script",c),styleTags:hu("style",d)},m={},g={};Object.keys(p).forEach(x=>{const{newTags:b,oldTags:v}=p[x];b.length&&(m[x]=b),v.length&&(g[x]=p[x].oldTags)}),e&&e(),l(t,m,g)},mh=null,OQ=t=>{mh&&cancelAnimationFrame(mh),t.defer?mh=requestAnimationFrame(()=>{xI(t,()=>{mh=null})}):(xI(t),mh=null)},NQ=OQ,bI=class extends S.Component{constructor(){super(...arguments);H(this,"rendered",!1)}shouldComponentUpdate(e){return!hQ(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const i=bQ(e.get().map(a=>{const s={...a.props};return delete s.context,s}));eB.canUseDOM?NQ(i):sE&&(r=sE(i)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},oS,PQ=(oS=class extends S.Component{shouldComponentUpdate(t){return!cQ(vI(this.props,"helmetData"),vI(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return gI(yI.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${yI.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),gI(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return M.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:i,...a}=r.props,s=Object.keys(a).reduce((l,c)=>(l[pQ[c]||c]=a[c],l),{});let{type:o}=r;switch(typeof o=="symbol"?o=o.toString():this.warnOnInvalidChildren(r,i),o){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,s,i);break;default:e=this.mapObjectTypeChildren(r,e,s,i);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof oE)){const i=r;r=new oE(i.context,!0),delete n.helmetData}return r?M.createElement(bI,{...n,context:r.value}):M.createElement(QF.Consumer,null,i=>M.createElement(bI,{...n,context:i}))}},H(oS,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),oS);const IQ=1,$Q=1e6;let S_=0;function RQ(){return S_=(S_+1)%Number.MAX_SAFE_INTEGER,S_.toString()}const E_=new Map,wI=t=>{if(E_.has(t))return;const e=setTimeout(()=>{E_.delete(t),ap({type:"REMOVE_TOAST",toastId:t})},$Q);E_.set(t,e)},MQ=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,IQ)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?wI(n):t.toasts.forEach(r=>{wI(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},sv=[];let ov={toasts:[]};function ap(t){ov=MQ(ov,t),sv.forEach(e=>{e(ov)})}function DQ({...t}){const e=RQ(),n=i=>ap({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>ap({type:"DISMISS_TOAST",toastId:e});return ap({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Vt(){const[t,e]=S.useState(ov);return S.useEffect(()=>(sv.push(e),()=>{const n=sv.indexOf(e);n>-1&&sv.splice(n,1)}),[t]),{...t,toast:DQ,dismiss:n=>ap({type:"DISMISS_TOAST",toastId:n})}}function pe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function LQ(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Kx(...t){return e=>t.forEach(n=>LQ(n,e))}function it(...t){return S.useCallback(Kx(...t),t)}function FQ(t,e=[]){let n=[];function r(a,s){const o=S.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||o,x=S.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:x,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||o,m=S.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,d]}const i=()=>{const a=n.map(s=>S.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,BQ(i,...e)]}function BQ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var dl=S.forwardRef((t,e)=>{const{children:n,...r}=t,i=S.Children.toArray(n),a=i.find(zQ);if(a){const s=a.props.children,o=i.map(l=>l===a?S.Children.count(s)>1?S.Children.only(null):S.isValidElement(s)?s.props.children:null:l);return u.jsx(cE,{...r,ref:e,children:S.isValidElement(s)?S.cloneElement(s,void 0,o):null})}return u.jsx(cE,{...r,ref:e,children:n})});dl.displayName="Slot";var cE=S.forwardRef((t,e)=>{const{children:n,...r}=t;if(S.isValidElement(n)){const i=HQ(n);return S.cloneElement(n,{...UQ(r,n.props),ref:e?Kx(e,i):i})}return S.Children.count(n)>1?S.Children.only(null):null});cE.displayName="SlotClone";var tB=({children:t})=>u.jsx(u.Fragment,{children:t});function zQ(t){return S.isValidElement(t)&&t.type===tB}function UQ(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...o)=>{a(...o),i(...o)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function HQ(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Yx(t){const e=t+"CollectionProvider",[n,r]=FQ(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=p=>{const{scope:m,children:g}=p,x=M.useRef(null),b=M.useRef(new Map).current;return u.jsx(i,{scope:m,itemMap:b,collectionRef:x,children:g})};s.displayName=e;const o=t+"CollectionSlot",l=M.forwardRef((p,m)=>{const{scope:g,children:x}=p,b=a(o,g),v=it(m,b.collectionRef);return u.jsx(dl,{ref:v,children:x})});l.displayName=o;const c=t+"CollectionItemSlot",d="data-radix-collection-item",f=M.forwardRef((p,m)=>{const{scope:g,children:x,...b}=p,v=M.useRef(null),y=it(m,v),_=a(c,g);return M.useEffect(()=>(_.itemMap.set(v,{ref:v,...b}),()=>void _.itemMap.delete(v))),u.jsx(dl,{[d]:"",ref:y,children:x})});f.displayName=c;function h(p){const m=a(t+"CollectionConsumer",p);return M.useCallback(()=>{const x=m.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(m.itemMap.values()).sort((_,w)=>b.indexOf(_.ref.current)-b.indexOf(w.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:s,Slot:l,ItemSlot:f},h,r]}function VQ(t,e){const n=S.createContext(e),r=a=>{const{children:s,...o}=a,l=S.useMemo(()=>o,Object.values(o));return u.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function i(a){const s=S.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function gs(t,e=[]){let n=[];function r(a,s){const o=S.createContext(s),l=n.length;n=[...n,s];const c=f=>{var b;const{scope:h,children:p,...m}=f,g=((b=h==null?void 0:h[t])==null?void 0:b[l])||o,x=S.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:x,children:p})};c.displayName=a+"Provider";function d(f,h){var g;const p=((g=h==null?void 0:h[t])==null?void 0:g[l])||o,m=S.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[c,d]}const i=()=>{const a=n.map(s=>S.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,WQ(i,...e)]}function WQ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var qQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ie=qQ.reduce((t,e)=>{const n=S.forwardRef((r,i)=>{const{asChild:a,...s}=r,o=a?dl:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(o,{...s,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function bk(t,e){t&&Jc.flushSync(()=>t.dispatchEvent(e))}function qt(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function GQ(t,e=globalThis==null?void 0:globalThis.document){const n=qt(t);S.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var KQ="DismissableLayer",uE="dismissableLayer.update",YQ="dismissableLayer.pointerDownOutside",XQ="dismissableLayer.focusOutside",_I,nB=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nf=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:o,...l}=t,c=S.useContext(nB),[d,f]=S.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=S.useState({}),m=it(e,A=>f(A)),g=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(x),v=d?g.indexOf(d):-1,y=c.layersWithOutsidePointerEventsDisabled.size>0,_=v>=b,w=JQ(A=>{const j=A.target,T=[...c.branches].some(k=>k.contains(j));!_||T||(i==null||i(A),s==null||s(A),A.defaultPrevented||o==null||o())},h),E=QQ(A=>{const j=A.target;[...c.branches].some(k=>k.contains(j))||(a==null||a(A),s==null||s(A),A.defaultPrevented||o==null||o())},h);return GQ(A=>{v===c.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&o&&(A.preventDefault(),o()))},h),S.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(_I=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),SI(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=_I)}},[d,h,n,c]),S.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),SI())},[d,c]),S.useEffect(()=>{const A=()=>p({});return document.addEventListener(uE,A),()=>document.removeEventListener(uE,A)},[]),u.jsx(Ie.div,{...l,ref:m,style:{pointerEvents:y?_?"auto":"none":void 0,...t.style},onFocusCapture:pe(t.onFocusCapture,E.onFocusCapture),onBlurCapture:pe(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:pe(t.onPointerDownCapture,w.onPointerDownCapture)})});Nf.displayName=KQ;var ZQ="DismissableLayerBranch",rB=S.forwardRef((t,e)=>{const n=S.useContext(nB),r=S.useRef(null),i=it(e,r);return S.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),u.jsx(Ie.div,{...t,ref:i})});rB.displayName=ZQ;function JQ(t,e=globalThis==null?void 0:globalThis.document){const n=qt(t),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const a=o=>{if(o.target&&!r.current){let l=function(){iB(YQ,n,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function QQ(t,e=globalThis==null?void 0:globalThis.document){const n=qt(t),r=S.useRef(!1);return S.useEffect(()=>{const i=a=>{a.target&&!r.current&&iB(XQ,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function SI(){const t=new CustomEvent(uE);document.dispatchEvent(t)}function iB(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?bk(i,a):i.dispatchEvent(a)}var eee=Nf,tee=rB,An=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},nee="Portal",eg=S.forwardRef((t,e)=>{var o;const{container:n,...r}=t,[i,a]=S.useState(!1);An(()=>a(!0),[]);const s=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return s?OF.createPortal(u.jsx(Ie.div,{...r,ref:e}),s):null});eg.displayName=nee;function ree(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var gr=t=>{const{present:e,children:n}=t,r=iee(e),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),a=it(r.ref,aee(i));return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:a}):null};gr.displayName="Presence";function iee(t){const[e,n]=S.useState(),r=S.useRef({}),i=S.useRef(t),a=S.useRef("none"),s=t?"mounted":"unmounted",[o,l]=ree(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const c=ny(r.current);a.current=o==="mounted"?c:"none"},[o]),An(()=>{const c=r.current,d=i.current;if(d!==t){const h=a.current,p=ny(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),An(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=p=>{const g=ny(r.current).includes(p.animationName);if(p.target===e&&g&&(l("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},h=p=>{p.target===e&&(a.current=ny(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:S.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function ny(t){return(t==null?void 0:t.animationName)||"none"}function aee(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Xs({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=see({defaultProp:e,onChange:n}),a=t!==void 0,s=a?t:r,o=qt(n),l=S.useCallback(c=>{if(a){const f=typeof c=="function"?c(t):c;f!==t&&o(f)}else i(c)},[a,t,i,o]);return[s,l]}function see({defaultProp:t,onChange:e}){const n=S.useState(t),[r]=n,i=S.useRef(r),a=qt(e);return S.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}var oee="VisuallyHidden",tg=S.forwardRef((t,e)=>u.jsx(Ie.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));tg.displayName=oee;var lee=tg,wk="ToastProvider",[_k,cee,uee]=Yx("Toast"),[aB,lWe]=gs("Toast",[uee]),[dee,Xx]=aB(wk),sB=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:s}=t,[o,l]=S.useState(null),[c,d]=S.useState(0),f=S.useRef(!1),h=S.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${wk}\`. Expected non-empty \`string\`.`),u.jsx(_k.Provider,{scope:e,children:u.jsx(dee,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:c,viewport:o,onViewportChange:l,onToastAdd:S.useCallback(()=>d(p=>p+1),[]),onToastRemove:S.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};sB.displayName=wk;var oB="ToastViewport",fee=["F8"],dE="toast.viewportPause",fE="toast.viewportResume",lB=S.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=fee,label:i="Notifications ({hotkey})",...a}=t,s=Xx(oB,n),o=cee(n),l=S.useRef(null),c=S.useRef(null),d=S.useRef(null),f=S.useRef(null),h=it(e,f,s.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=s.toastCount>0;S.useEffect(()=>{const x=b=>{var y;r.length!==0&&r.every(_=>b[_]||b.code===_)&&((y=f.current)==null||y.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),S.useEffect(()=>{const x=l.current,b=f.current;if(m&&x&&b){const v=()=>{if(!s.isClosePausedRef.current){const E=new CustomEvent(dE);b.dispatchEvent(E),s.isClosePausedRef.current=!0}},y=()=>{if(s.isClosePausedRef.current){const E=new CustomEvent(fE);b.dispatchEvent(E),s.isClosePausedRef.current=!1}},_=E=>{!x.contains(E.relatedTarget)&&y()},w=()=>{x.contains(document.activeElement)||y()};return x.addEventListener("focusin",v),x.addEventListener("focusout",_),x.addEventListener("pointermove",v),x.addEventListener("pointerleave",w),window.addEventListener("blur",v),window.addEventListener("focus",y),()=>{x.removeEventListener("focusin",v),x.removeEventListener("focusout",_),x.removeEventListener("pointermove",v),x.removeEventListener("pointerleave",w),window.removeEventListener("blur",v),window.removeEventListener("focus",y)}}},[m,s.isClosePausedRef]);const g=S.useCallback(({tabbingDirection:x})=>{const v=o().map(y=>{const _=y.ref.current,w=[_,...jee(_)];return x==="forwards"?w:w.reverse()});return(x==="forwards"?v.reverse():v).flat()},[o]);return S.useEffect(()=>{const x=f.current;if(x){const b=v=>{var w,E,A;const y=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!y){const j=document.activeElement,T=v.shiftKey;if(v.target===x&&T){(w=c.current)==null||w.focus();return}const O=g({tabbingDirection:T?"backwards":"forwards"}),F=O.findIndex(R=>R===j);j_(O.slice(F+1))?v.preventDefault():T?(E=c.current)==null||E.focus():(A=d.current)==null||A.focus()}};return x.addEventListener("keydown",b),()=>x.removeEventListener("keydown",b)}},[o,g]),u.jsxs(tee,{ref:l,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&u.jsx(hE,{ref:c,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});j_(x)}}),u.jsx(_k.Slot,{scope:n,children:u.jsx(Ie.ol,{tabIndex:-1,...a,ref:h})}),m&&u.jsx(hE,{ref:d,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});j_(x)}})]})});lB.displayName=oB;var cB="ToastFocusProxy",hE=S.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,a=Xx(cB,n);return u.jsx(tg,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var c;const o=s.relatedTarget;!((c=a.viewport)!=null&&c.contains(o))&&r()}})});hE.displayName=cB;var Zx="Toast",hee="toast.swipeStart",pee="toast.swipeMove",mee="toast.swipeCancel",gee="toast.swipeEnd",uB=S.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...s}=t,[o=!0,l]=Xs({prop:r,defaultProp:i,onChange:a});return u.jsx(gr,{present:n||o,children:u.jsx(xee,{open:o,...s,ref:e,onClose:()=>l(!1),onPause:qt(t.onPause),onResume:qt(t.onResume),onSwipeStart:pe(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pe(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:pe(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pe(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});uB.displayName=Zx;var[yee,vee]=aB(Zx,{onClose(){}}),xee=S.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:s,onEscapeKeyDown:o,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...m}=t,g=Xx(Zx,n),[x,b]=S.useState(null),v=it(e,R=>b(R)),y=S.useRef(null),_=S.useRef(null),w=i||g.duration,E=S.useRef(0),A=S.useRef(w),j=S.useRef(0),{onToastAdd:T,onToastRemove:k}=g,C=qt(()=>{var D;(x==null?void 0:x.contains(document.activeElement))&&((D=g.viewport)==null||D.focus()),s()}),O=S.useCallback(R=>{!R||R===1/0||(window.clearTimeout(j.current),E.current=new Date().getTime(),j.current=window.setTimeout(C,R))},[C]);S.useEffect(()=>{const R=g.viewport;if(R){const D=()=>{O(A.current),c==null||c()},U=()=>{const V=new Date().getTime()-E.current;A.current=A.current-V,window.clearTimeout(j.current),l==null||l()};return R.addEventListener(dE,U),R.addEventListener(fE,D),()=>{R.removeEventListener(dE,U),R.removeEventListener(fE,D)}}},[g.viewport,w,l,c,O]),S.useEffect(()=>{a&&!g.isClosePausedRef.current&&O(w)},[a,w,g.isClosePausedRef,O]),S.useEffect(()=>(T(),()=>k()),[T,k]);const F=S.useMemo(()=>x?yB(x):null,[x]);return g.viewport?u.jsxs(u.Fragment,{children:[F&&u.jsx(bee,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),u.jsx(yee,{scope:n,onClose:C,children:Jc.createPortal(u.jsx(_k.ItemSlot,{scope:n,children:u.jsx(eee,{asChild:!0,onEscapeKeyDown:pe(o,()=>{g.isFocusedToastEscapeKeyDownRef.current||C(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Ie.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...m,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:pe(t.onKeyDown,R=>{R.key==="Escape"&&(o==null||o(R.nativeEvent),R.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:pe(t.onPointerDown,R=>{R.button===0&&(y.current={x:R.clientX,y:R.clientY})}),onPointerMove:pe(t.onPointerMove,R=>{if(!y.current)return;const D=R.clientX-y.current.x,U=R.clientY-y.current.y,V=!!_.current,L=["left","right"].includes(g.swipeDirection),B=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,P=L?B(0,D):0,W=L?0:B(0,U),G=R.pointerType==="touch"?10:2,$={x:P,y:W},ee={originalEvent:R,delta:$};V?(_.current=$,ry(pee,f,ee,{discrete:!1})):EI($,g.swipeDirection,G)?(_.current=$,ry(hee,d,ee,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(D)>G||Math.abs(U)>G)&&(y.current=null)}),onPointerUp:pe(t.onPointerUp,R=>{const D=_.current,U=R.target;if(U.hasPointerCapture(R.pointerId)&&U.releasePointerCapture(R.pointerId),_.current=null,y.current=null,D){const V=R.currentTarget,L={originalEvent:R,delta:D};EI(D,g.swipeDirection,g.swipeThreshold)?ry(gee,p,L,{discrete:!0}):ry(mee,h,L,{discrete:!0}),V.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),bee=t=>{const{__scopeToast:e,children:n,...r}=t,i=Xx(Zx,e),[a,s]=S.useState(!1),[o,l]=S.useState(!1);return See(()=>s(!0)),S.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),o?null:u.jsx(eg,{asChild:!0,children:u.jsx(tg,{...r,children:a&&u.jsxs(u.Fragment,{children:[i.label," ",n]})})})},wee="ToastTitle",dB=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Ie.div,{...r,ref:e})});dB.displayName=wee;var _ee="ToastDescription",fB=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Ie.div,{...r,ref:e})});fB.displayName=_ee;var hB="ToastAction",pB=S.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(gB,{altText:n,asChild:!0,children:u.jsx(Sk,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${hB}\`. Expected non-empty \`string\`.`),null)});pB.displayName=hB;var mB="ToastClose",Sk=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=vee(mB,n);return u.jsx(gB,{asChild:!0,children:u.jsx(Ie.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,i.onClose)})})});Sk.displayName=mB;var gB=S.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return u.jsx(Ie.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function yB(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Eee(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const s=r.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...yB(r))}}),e}function ry(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?bk(i,a):i.dispatchEvent(a)}var EI=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),a=r>i;return e==="left"||e==="right"?a&&r>n:!a&&i>n};function See(t=()=>{}){const e=qt(t);An(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Eee(t){return t.nodeType===t.ELEMENT_NODE}function jee(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function j_(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Aee=sB,vB=lB,xB=uB,bB=dB,wB=fB,_B=pB,SB=Sk;function EB(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=EB(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ke(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=EB(t))&&(r&&(r+=" "),r+=e);return r}const jI=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,AI=Ke,ng=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return AI(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=e,s=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],f=a==null?void 0:a[c];if(d===null)return null;const h=jI(d)||jI(f);return i[c][h]}),o=n&&Object.entries(n).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(m=>{let[g,x]=m;return Array.isArray(x)?x.includes({...a,...o}[g]):{...a,...o}[g]===x})?[...c,f,h]:c},[]);return AI(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tee=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jB=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cee=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>S.createElement("svg",{ref:l,...kee,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:jB("lucide",i),...o},[...s.map(([c,d])=>S.createElement(c,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(t,e)=>{const n=S.forwardRef(({className:r,...i},a)=>S.createElement(Cee,{ref:a,iconNode:e,className:jB(`lucide-${Tee(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=Ce("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=Ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oee=Ce("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=Ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=Ce("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=Ce("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nee=Ce("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=Ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=Ce("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=Ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=Ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pee=Ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iee=Ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=Ce("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=Ce("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=Ce("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ee=Ce("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=Ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ree=Ce("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=Ce("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=Ce("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=Ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mee=Ce("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dee=Ce("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lee=Ce("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fee=Ce("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=Ce("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bee=Ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=Ce("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zee=Ce("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=Ce("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=Ce("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=Ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=Ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=Ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uee=Ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=Ce("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=Ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=Ce("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=Ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Ce("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=Ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=Ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hee=Ce("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vee=Ce("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wee=Ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=Ce("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=Ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=Ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qee=Ce("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=Ce("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gee=Ce("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=Ce("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=Ce("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=Ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=Ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=Ce("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=Ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=Ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=Ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=Ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=Ce("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Ok="-",Kee=t=>{const e=Xee(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const o=s.split(Ok);return o[0]===""&&o.length!==1&&o.shift(),NB(o,e)||Yee(s)},getConflictingClassGroupIds:(s,o)=>{const l=n[s]||[];return o&&r[s]?[...l,...r[s]]:l}}},NB=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?NB(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(Ok);return(s=e.validators.find(({validator:o})=>o(a)))==null?void 0:s.classGroupId},NI=/^\[(.+)\]$/,Yee=t=>{if(NI.test(t)){const e=NI.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Xee=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Jee(Object.entries(t.classGroups),n).forEach(([a,s])=>{gE(s,r,a,e)}),r},gE=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:PI(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(Zee(i)){gE(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,s])=>{gE(s,PI(e,a),n,r)})})},PI=(t,e)=>{let n=t;return e.split(Ok).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Zee=t=>t.isThemeGetter,Jee=(t,e)=>e?t.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([s,o])=>[e+s,o])):a);return[n,i]}):t,Qee=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,s)=>{n.set(a,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let s=n.get(a);if(s!==void 0)return s;if((s=r.get(a))!==void 0)return i(a,s),s},set(a,s){n.has(a)?n.set(a,s):i(a,s)}}},PB="!",ete=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],a=e.length,s=o=>{const l=[];let c=0,d=0,f;for(let x=0;x<o.length;x++){let b=o[x];if(c===0){if(b===i&&(r||o.slice(x,x+a)===e)){l.push(o.slice(d,x)),d=x+a;continue}if(b==="/"){f=x;continue}}b==="["?c++:b==="]"&&c--}const h=l.length===0?o:o.substring(d),p=h.startsWith(PB),m=p?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}};return n?o=>n({className:o,parseClassName:s}):s},tte=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},nte=t=>({cache:Qee(t.cacheSize),parseClassName:ete(t),...Kee(t)}),rte=/\s+/,ite=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],s=t.trim().split(rte);let o="";for(let l=s.length-1;l>=0;l-=1){const c=s[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(c);let m=!!p,g=r(m?h.substring(0,p):h);if(!g){if(!m){o=c+(o.length>0?" "+o:o);continue}if(g=r(h),!g){o=c+(o.length>0?" "+o:o);continue}m=!1}const x=tte(d).join(":"),b=f?x+PB:x,v=b+g;if(a.includes(v))continue;a.push(v);const y=i(g,m);for(let _=0;_<y.length;++_){const w=y[_];a.push(b+w)}o=c+(o.length>0?" "+o:o)}return o};function ate(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=IB(e))&&(r&&(r+=" "),r+=n);return r}const IB=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=IB(t[r]))&&(n&&(n+=" "),n+=e);return n};function ste(t,...e){let n,r,i,a=s;function s(l){const c=e.reduce((d,f)=>f(d),t());return n=nte(c),r=n.cache.get,i=n.cache.set,a=o,o(l)}function o(l){const c=r(l);if(c)return c;const d=ite(l,n);return i(l,d),d}return function(){return a(ate.apply(null,arguments))}}const Dt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},$B=/^\[(?:([a-z-]+):)?(.+)\]$/i,ote=/^\d+\/\d+$/,lte=new Set(["px","full","screen"]),cte=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ute=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dte=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,fte=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hte=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ss=t=>fd(t)||lte.has(t)||ote.test(t),vo=t=>Pf(t,"length",wte),fd=t=>!!t&&!Number.isNaN(Number(t)),A_=t=>Pf(t,"number",fd),gh=t=>!!t&&Number.isInteger(Number(t)),pte=t=>t.endsWith("%")&&fd(t.slice(0,-1)),Qe=t=>$B.test(t),xo=t=>cte.test(t),mte=new Set(["length","size","percentage"]),gte=t=>Pf(t,mte,RB),yte=t=>Pf(t,"position",RB),vte=new Set(["image","url"]),xte=t=>Pf(t,vte,Ste),bte=t=>Pf(t,"",_te),yh=()=>!0,Pf=(t,e,n)=>{const r=$B.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},wte=t=>ute.test(t)&&!dte.test(t),RB=()=>!1,_te=t=>fte.test(t),Ste=t=>hte.test(t),Ete=()=>{const t=Dt("colors"),e=Dt("spacing"),n=Dt("blur"),r=Dt("brightness"),i=Dt("borderColor"),a=Dt("borderRadius"),s=Dt("borderSpacing"),o=Dt("borderWidth"),l=Dt("contrast"),c=Dt("grayscale"),d=Dt("hueRotate"),f=Dt("invert"),h=Dt("gap"),p=Dt("gradientColorStops"),m=Dt("gradientColorStopPositions"),g=Dt("inset"),x=Dt("margin"),b=Dt("opacity"),v=Dt("padding"),y=Dt("saturate"),_=Dt("scale"),w=Dt("sepia"),E=Dt("skew"),A=Dt("space"),j=Dt("translate"),T=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto",Qe,e],O=()=>[Qe,e],F=()=>["",Ss,vo],R=()=>["auto",fd,Qe],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Qe],P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[fd,Qe];return{cacheSize:500,separator:":",theme:{colors:[yh],spacing:[Ss,vo],blur:["none","",xo,Qe],brightness:W(),borderColor:[t],borderRadius:["none","","full",xo,Qe],borderSpacing:O(),borderWidth:F(),contrast:W(),grayscale:B(),hueRotate:W(),invert:B(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[pte,vo],inset:C(),margin:C(),opacity:W(),padding:O(),saturate:W(),scale:W(),sepia:B(),skew:W(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Qe]}],container:["container"],columns:[{columns:[xo]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),Qe]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",gh,Qe]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Qe]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",gh,Qe]}],"grid-cols":[{"grid-cols":[yh]}],"col-start-end":[{col:["auto",{span:["full",gh,Qe]},Qe]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[yh]}],"row-start-end":[{row:["auto",{span:[gh,Qe]},Qe]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Qe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Qe,e]}],"min-w":[{"min-w":[Qe,e,"min","max","fit"]}],"max-w":[{"max-w":[Qe,e,"none","full","min","max","fit","prose",{screen:[xo]},xo]}],h:[{h:[Qe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Qe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Qe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Qe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",xo,vo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",A_]}],"font-family":[{font:[yh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Qe]}],"line-clamp":[{"line-clamp":["none",fd,A_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ss,Qe]}],"list-image":[{"list-image":["none",Qe]}],"list-style-type":[{list:["none","disc","decimal",Qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ss,vo]}],"underline-offset":[{"underline-offset":["auto",Ss,Qe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),yte]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",gte]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},xte]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:U()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Ss,Qe]}],"outline-w":[{outline:[Ss,vo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Ss,vo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",xo,bte]}],"shadow-color":[{shadow:[yh]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",xo,Qe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[y]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Qe]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Qe]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[gh,Qe]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ss,vo,A_]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jte=ste(Ete);function ye(...t){return jte(Ke(t))}const Ate=Aee,MB=S.forwardRef(({className:t,...e},n)=>u.jsx(vB,{ref:n,className:ye("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));MB.displayName=vB.displayName;const Tte=ng("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),DB=S.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(xB,{ref:r,className:ye(Tte({variant:e}),t),...n}));DB.displayName=xB.displayName;const kte=S.forwardRef(({className:t,...e},n)=>u.jsx(_B,{ref:n,className:ye("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));kte.displayName=_B.displayName;const LB=S.forwardRef(({className:t,...e},n)=>u.jsx(SB,{ref:n,className:ye("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(ig,{className:"h-4 w-4"})}));LB.displayName=SB.displayName;const FB=S.forwardRef(({className:t,...e},n)=>u.jsx(bB,{ref:n,className:ye("text-sm font-semibold",t),...e}));FB.displayName=bB.displayName;const BB=S.forwardRef(({className:t,...e},n)=>u.jsx(wB,{ref:n,className:ye("text-sm opacity-90",t),...e}));BB.displayName=wB.displayName;function Cte(){const{toasts:t}=Vt();return u.jsxs(Ate,{children:[t.map(function({id:e,title:n,description:r,action:i,...a}){return u.jsxs(DB,{...a,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(FB,{children:n}),r&&u.jsx(BB,{children:r})]}),i,u.jsx(LB,{})]},e)}),u.jsx(MB,{})]})}var Ote=t=>{switch(t){case"success":return Ite;case"info":return Rte;case"warning":return $te;case"error":return Mte;default:return null}},Nte=Array(12).fill(0),Pte=({visible:t})=>M.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},M.createElement("div",{className:"sonner-spinner"},Nte.map((e,n)=>M.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Ite=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),$te=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Rte=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Mte=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Dte=()=>{let[t,e]=M.useState(document.hidden);return M.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},yE=1,Lte=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:yE++,a=this.toasts.find(o=>o.id===i),s=t.dismissible===void 0?!0:t.dismissible;return a?this.toasts=this.toasts.map(o=>o.id===i?(this.publish({...o,...t,id:i,title:n}),{...o,...t,id:i,dismissible:s,title:n}):o):this.addToast({title:n,...r,dismissible:s,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0;return r.then(async a=>{if(Bte(a)&&!a.ok){i=!1;let s=typeof e.error=="function"?await e.error(`HTTP error! status: ${a.status}`):e.error,o=typeof e.description=="function"?await e.description(`HTTP error! status: ${a.status}`):e.description;this.create({id:n,type:"error",message:s,description:o})}else if(e.success!==void 0){i=!1;let s=typeof e.success=="function"?await e.success(a):e.success,o=typeof e.description=="function"?await e.description(a):e.description;this.create({id:n,type:"success",message:s,description:o})}}).catch(async a=>{if(e.error!==void 0){i=!1;let s=typeof e.error=="function"?await e.error(a):e.error,o=typeof e.description=="function"?await e.description(a):e.description;this.create({id:n,type:"error",message:s,description:o})}}).finally(()=>{var a;i&&(this.dismiss(n),n=void 0),(a=e.finally)==null||a.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||yE++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},Gr=new Lte,Fte=(t,e)=>{let n=(e==null?void 0:e.id)||yE++;return Gr.addToast({title:t,...e,id:n}),n},Bte=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",zte=Fte,Ute=()=>Gr.toasts,Vl=Object.assign(zte,{success:Gr.success,info:Gr.info,warning:Gr.warning,error:Gr.error,custom:Gr.custom,message:Gr.message,promise:Gr.promise,dismiss:Gr.dismiss,loading:Gr.loading},{getHistory:Ute});function Hte(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Hte(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function iy(t){return t.label!==void 0}var Vte=3,Wte="32px",qte=4e3,Gte=356,Kte=14,Yte=20,Xte=200;function Zte(...t){return t.filter(Boolean).join(" ")}var Jte=t=>{var e,n,r,i,a,s,o,l,c,d;let{invert:f,toast:h,unstyled:p,interacting:m,setHeights:g,visibleToasts:x,heights:b,index:v,toasts:y,expanded:_,removeToast:w,defaultRichColors:E,closeButton:A,style:j,cancelButtonStyle:T,actionButtonStyle:k,className:C="",descriptionClassName:O="",duration:F,position:R,gap:D,loadingIcon:U,expandByDefault:V,classNames:L,icons:B,closeButtonAriaLabel:P="Close toast",pauseWhenPageIsHidden:W,cn:G}=t,[$,ee]=M.useState(!1),[ie,I]=M.useState(!1),[N,K]=M.useState(!1),[z,Z]=M.useState(!1),[J,Y]=M.useState(0),[me,le]=M.useState(0),xe=M.useRef(null),oe=M.useRef(null),Be=v===0,Te=v+1<=x,De=h.type,ae=h.dismissible!==!1,At=h.className||"",_e=h.descriptionClassName||"",ve=M.useMemo(()=>b.findIndex(Fe=>Fe.toastId===h.id)||0,[b,h.id]),we=M.useMemo(()=>{var Fe;return(Fe=h.closeButton)!=null?Fe:A},[h.closeButton,A]),ge=M.useMemo(()=>h.duration||F||qte,[h.duration,F]),q=M.useRef(0),X=M.useRef(0),re=M.useRef(0),Oe=M.useRef(null),[ct,Kt]=R.split("-"),on=M.useMemo(()=>b.reduce((Fe,Mt,Tt)=>Tt>=ve?Fe:Fe+Mt.height,0),[b,ve]),Cn=Dte(),Ia=h.invert||f,_s=De==="loading";X.current=M.useMemo(()=>ve*D+on,[ve,on]),M.useEffect(()=>{ee(!0)},[]),M.useLayoutEffect(()=>{if(!$)return;let Fe=oe.current,Mt=Fe.style.height;Fe.style.height="auto";let Tt=Fe.getBoundingClientRect().height;Fe.style.height=Mt,le(Tt),g($a=>$a.find(Ra=>Ra.toastId===h.id)?$a.map(Ra=>Ra.toastId===h.id?{...Ra,height:Tt}:Ra):[{toastId:h.id,height:Tt,position:h.position},...$a])},[$,h.title,h.description,g,h.id]);let en=M.useCallback(()=>{I(!0),Y(X.current),g(Fe=>Fe.filter(Mt=>Mt.toastId!==h.id)),setTimeout(()=>{w(h)},Xte)},[h,w,g,X]);M.useEffect(()=>{if(h.promise&&De==="loading"||h.duration===1/0||h.type==="loading")return;let Fe,Mt=ge;return _||m||W&&Cn?(()=>{if(re.current<q.current){let Tt=new Date().getTime()-q.current;Mt=Mt-Tt}re.current=new Date().getTime()})():Mt!==1/0&&(q.current=new Date().getTime(),Fe=setTimeout(()=>{var Tt;(Tt=h.onAutoClose)==null||Tt.call(h,h),en()},Mt)),()=>clearTimeout(Fe)},[_,m,V,h,ge,en,h.promise,De,W,Cn]),M.useEffect(()=>{let Fe=oe.current;if(Fe){let Mt=Fe.getBoundingClientRect().height;return le(Mt),g(Tt=>[{toastId:h.id,height:Mt,position:h.position},...Tt]),()=>g(Tt=>Tt.filter($a=>$a.toastId!==h.id))}},[g,h.id]),M.useEffect(()=>{h.delete&&en()},[en,h.delete]);function go(){return B!=null&&B.loading?M.createElement("div",{className:"sonner-loader","data-visible":De==="loading"},B.loading):U?M.createElement("div",{className:"sonner-loader","data-visible":De==="loading"},U):M.createElement(Pte,{visible:De==="loading"})}return M.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:oe,className:G(C,At,L==null?void 0:L.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[De],(n=h==null?void 0:h.classNames)==null?void 0:n[De]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:E,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":$,"data-promise":!!h.promise,"data-removed":ie,"data-visible":Te,"data-y-position":ct,"data-x-position":Kt,"data-index":v,"data-front":Be,"data-swiping":N,"data-dismissible":ae,"data-type":De,"data-invert":Ia,"data-swipe-out":z,"data-expanded":!!(_||V&&$),style:{"--index":v,"--toasts-before":v,"--z-index":y.length-v,"--offset":`${ie?J:X.current}px`,"--initial-height":V?"auto":`${me}px`,...j,...h.style},onPointerDown:Fe=>{_s||!ae||(xe.current=new Date,Y(X.current),Fe.target.setPointerCapture(Fe.pointerId),Fe.target.tagName!=="BUTTON"&&(K(!0),Oe.current={x:Fe.clientX,y:Fe.clientY}))},onPointerUp:()=>{var Fe,Mt,Tt,$a;if(z||!ae)return;Oe.current=null;let Ra=Number(((Fe=oe.current)==null?void 0:Fe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Rg=new Date().getTime()-((Mt=xe.current)==null?void 0:Mt.getTime()),XK=Math.abs(Ra)/Rg;if(Math.abs(Ra)>=Yte||XK>.11){Y(X.current),(Tt=h.onDismiss)==null||Tt.call(h,h),en(),Z(!0);return}($a=oe.current)==null||$a.style.setProperty("--swipe-amount","0px"),K(!1)},onPointerMove:Fe=>{var Mt;if(!Oe.current||!ae)return;let Tt=Fe.clientY-Oe.current.y,$a=Fe.clientX-Oe.current.x,Ra=(ct==="top"?Math.min:Math.max)(0,Tt),Rg=Fe.pointerType==="touch"?10:2;Math.abs(Ra)>Rg?(Mt=oe.current)==null||Mt.style.setProperty("--swipe-amount",`${Tt}px`):Math.abs($a)>Rg&&(Oe.current=null)}},we&&!h.jsx?M.createElement("button",{"aria-label":P,"data-disabled":_s,"data-close-button":!0,onClick:_s||!ae?()=>{}:()=>{var Fe;en(),(Fe=h.onDismiss)==null||Fe.call(h,h)},className:G(L==null?void 0:L.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},M.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),M.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||M.isValidElement(h.title)?h.jsx||h.title:M.createElement(M.Fragment,null,De||h.icon||h.promise?M.createElement("div",{"data-icon":"",className:G(L==null?void 0:L.icon,(a=h==null?void 0:h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||go():null,h.type!=="loading"?h.icon||(B==null?void 0:B[De])||Ote(De):null):null,M.createElement("div",{"data-content":"",className:G(L==null?void 0:L.content,(s=h==null?void 0:h.classNames)==null?void 0:s.content)},M.createElement("div",{"data-title":"",className:G(L==null?void 0:L.title,(o=h==null?void 0:h.classNames)==null?void 0:o.title)},h.title),h.description?M.createElement("div",{"data-description":"",className:G(O,_e,L==null?void 0:L.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),M.isValidElement(h.cancel)?h.cancel:h.cancel&&iy(h.cancel)?M.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||T,onClick:Fe=>{var Mt,Tt;iy(h.cancel)&&ae&&((Tt=(Mt=h.cancel).onClick)==null||Tt.call(Mt,Fe),en())},className:G(L==null?void 0:L.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,M.isValidElement(h.action)?h.action:h.action&&iy(h.action)?M.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||k,onClick:Fe=>{var Mt,Tt;iy(h.action)&&(Fe.defaultPrevented||((Tt=(Mt=h.action).onClick)==null||Tt.call(Mt,Fe),en()))},className:G(L==null?void 0:L.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function II(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var Qte=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:a,className:s,offset:o,theme:l="light",richColors:c,duration:d,style:f,visibleToasts:h=Vte,toastOptions:p,dir:m=II(),gap:g=Kte,loadingIcon:x,icons:b,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:y,cn:_=Zte}=t,[w,E]=M.useState([]),A=M.useMemo(()=>Array.from(new Set([n].concat(w.filter(W=>W.position).map(W=>W.position)))),[w,n]),[j,T]=M.useState([]),[k,C]=M.useState(!1),[O,F]=M.useState(!1),[R,D]=M.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=M.useRef(null),V=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=M.useRef(null),B=M.useRef(!1),P=M.useCallback(W=>{var G;(G=w.find($=>$.id===W.id))!=null&&G.delete||Gr.dismiss(W.id),E($=>$.filter(({id:ee})=>ee!==W.id))},[w]);return M.useEffect(()=>Gr.subscribe(W=>{if(W.dismiss){E(G=>G.map($=>$.id===W.id?{...$,delete:!0}:$));return}setTimeout(()=>{OF.flushSync(()=>{E(G=>{let $=G.findIndex(ee=>ee.id===W.id);return $!==-1?[...G.slice(0,$),{...G[$],...W},...G.slice($+1)]:[W,...G]})})})}),[]),M.useEffect(()=>{if(l!=="system"){D(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?D("dark"):D("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:W})=>{D(W?"dark":"light")})},[l]),M.useEffect(()=>{w.length<=1&&C(!1)},[w]),M.useEffect(()=>{let W=G=>{var $,ee;r.every(ie=>G[ie]||G.code===ie)&&(C(!0),($=U.current)==null||$.focus()),G.code==="Escape"&&(document.activeElement===U.current||(ee=U.current)!=null&&ee.contains(document.activeElement))&&C(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[r]),M.useEffect(()=>{if(U.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,B.current=!1)}},[U.current]),w.length?M.createElement("section",{"aria-label":`${v} ${V}`,tabIndex:-1},A.map((W,G)=>{var $;let[ee,ie]=W.split("-");return M.createElement("ol",{key:W,dir:m==="auto"?II():m,tabIndex:-1,ref:U,className:s,"data-sonner-toaster":!0,"data-theme":R,"data-y-position":ee,"data-x-position":ie,style:{"--front-toast-height":`${(($=j[0])==null?void 0:$.height)||0}px`,"--offset":typeof o=="number"?`${o}px`:o||Wte,"--width":`${Gte}px`,"--gap":`${g}px`,...f},onBlur:I=>{B.current&&!I.currentTarget.contains(I.relatedTarget)&&(B.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:I=>{I.target instanceof HTMLElement&&I.target.dataset.dismissible==="false"||B.current||(B.current=!0,L.current=I.relatedTarget)},onMouseEnter:()=>C(!0),onMouseMove:()=>C(!0),onMouseLeave:()=>{O||C(!1)},onPointerDown:I=>{I.target instanceof HTMLElement&&I.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},w.filter(I=>!I.position&&G===0||I.position===W).map((I,N)=>{var K,z;return M.createElement(Jte,{key:I.id,icons:b,index:N,toast:I,defaultRichColors:c,duration:(K=p==null?void 0:p.duration)!=null?K:d,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:e,visibleToasts:h,closeButton:(z=p==null?void 0:p.closeButton)!=null?z:a,interacting:O,position:W,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:P,toasts:w.filter(Z=>Z.position==I.position),heights:j.filter(Z=>Z.position==I.position),setHeights:T,expandByDefault:i,gap:g,loadingIcon:x,expanded:k,pauseWhenPageIsHidden:y,cn:_})}))})):null};const ene=({...t})=>{const{theme:e="system"}=JJ();return u.jsx(Qte,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var tne=T5.useId||(()=>{}),nne=0;function ga(t){const[e,n]=S.useState(tne());return An(()=>{n(r=>r??String(nne++))},[t]),e?`radix-${e}`:""}const rne=["top","right","bottom","left"],ml=Math.min,Xr=Math.max,Yv=Math.round,ay=Math.floor,gl=t=>({x:t,y:t}),ine={left:"right",right:"left",bottom:"top",top:"bottom"},ane={start:"end",end:"start"};function vE(t,e,n){return Xr(t,ml(e,n))}function Js(t,e){return typeof t=="function"?t(e):t}function Qs(t){return t.split("-")[0]}function If(t){return t.split("-")[1]}function Nk(t){return t==="x"?"y":"x"}function Pk(t){return t==="y"?"height":"width"}function yl(t){return["top","bottom"].includes(Qs(t))?"y":"x"}function Ik(t){return Nk(yl(t))}function sne(t,e,n){n===void 0&&(n=!1);const r=If(t),i=Ik(t),a=Pk(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=Xv(s)),[s,Xv(s)]}function one(t){const e=Xv(t);return[xE(t),e,xE(e)]}function xE(t){return t.replace(/start|end/g,e=>ane[e])}function lne(t,e,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?a:s;default:return[]}}function cne(t,e,n,r){const i=If(t);let a=lne(Qs(t),n==="start",r);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(xE)))),a}function Xv(t){return t.replace(/left|right|bottom|top/g,e=>ine[e])}function une(t){return{top:0,right:0,bottom:0,left:0,...t}}function zB(t){return typeof t!="number"?une(t):{top:t,right:t,bottom:t,left:t}}function Zv(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function $I(t,e,n){let{reference:r,floating:i}=t;const a=yl(e),s=Ik(e),o=Pk(s),l=Qs(e),c=a==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let p;switch(l){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(If(e)){case"start":p[s]-=h*(n&&c?-1:1);break;case"end":p[s]+=h*(n&&c?-1:1);break}return p}const dne=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=n,o=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=$I(c,r,l),h=r,p={},m=0;for(let g=0;g<o.length;g++){const{name:x,fn:b}=o[g],{x:v,y,data:_,reset:w}=await b({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:t,floating:e}});d=v??d,f=y??f,p={...p,[x]:{...p[x],..._}},w&&m<=50&&(m++,typeof w=="object"&&(w.placement&&(h=w.placement),w.rects&&(c=w.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):w.rects),{x:d,y:f}=$I(c,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function Zp(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:s,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Js(e,t),m=zB(p),x=o[h?f==="floating"?"reference":"floating":f],b=Zv(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(x)))==null||n?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),v=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,y=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),_=await(a.isElement==null?void 0:a.isElement(y))?await(a.getScale==null?void 0:a.getScale(y))||{x:1,y:1}:{x:1,y:1},w=Zv(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:y,strategy:l}):v);return{top:(b.top-w.top+m.top)/_.y,bottom:(w.bottom-b.bottom+m.bottom)/_.y,left:(b.left-w.left+m.left)/_.x,right:(w.right-b.right+m.right)/_.x}}const fne=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:s,elements:o,middlewareData:l}=e,{element:c,padding:d=0}=Js(t,e)||{};if(c==null)return{};const f=zB(d),h={x:n,y:r},p=Ik(i),m=Pk(p),g=await s.getDimensions(c),x=p==="y",b=x?"top":"left",v=x?"bottom":"right",y=x?"clientHeight":"clientWidth",_=a.reference[m]+a.reference[p]-h[p]-a.floating[m],w=h[p]-a.reference[p],E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let A=E?E[y]:0;(!A||!await(s.isElement==null?void 0:s.isElement(E)))&&(A=o.floating[y]||a.floating[m]);const j=_/2-w/2,T=A/2-g[m]/2-1,k=ml(f[b],T),C=ml(f[v],T),O=k,F=A-g[m]-C,R=A/2-g[m]/2+j,D=vE(O,R,F),U=!l.arrow&&If(i)!=null&&R!==D&&a.reference[m]/2-(R<O?k:C)-g[m]/2<0,V=U?R<O?R-O:R-F:0;return{[p]:h[p]+V,data:{[p]:D,centerOffset:R-D-V,...U&&{alignmentOffset:V}},reset:U}}}),hne=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...x}=Js(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const b=Qs(i),v=yl(o),y=Qs(o)===o,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),w=h||(y||!g?[Xv(o)]:one(o)),E=m!=="none";!h&&E&&w.push(...cne(o,g,m,_));const A=[o,...w],j=await Zp(e,x),T=[];let k=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&T.push(j[b]),f){const R=sne(i,s,_);T.push(j[R[0]],j[R[1]])}if(k=[...k,{placement:i,overflows:T}],!T.every(R=>R<=0)){var C,O;const R=(((C=a.flip)==null?void 0:C.index)||0)+1,D=A[R];if(D)return{data:{index:R,overflows:k},reset:{placement:D}};let U=(O=k.filter(V=>V.overflows[0]<=0).sort((V,L)=>V.overflows[1]-L.overflows[1])[0])==null?void 0:O.placement;if(!U)switch(p){case"bestFit":{var F;const V=(F=k.filter(L=>{if(E){const B=yl(L.placement);return B===v||B==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(B=>B>0).reduce((B,P)=>B+P,0)]).sort((L,B)=>L[1]-B[1])[0])==null?void 0:F[0];V&&(U=V);break}case"initialPlacement":U=o;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function RI(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function MI(t){return rne.some(e=>t[e]>=0)}const pne=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Js(t,e);switch(r){case"referenceHidden":{const a=await Zp(e,{...i,elementContext:"reference"}),s=RI(a,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:MI(s)}}}case"escaped":{const a=await Zp(e,{...i,altBoundary:!0}),s=RI(a,n.floating);return{data:{escapedOffsets:s,escaped:MI(s)}}}default:return{}}}}};async function mne(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Qs(n),o=If(n),l=yl(n)==="y",c=["left","top"].includes(s)?-1:1,d=a&&l?-1:1,f=Js(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof m=="number"&&(p=o==="end"?m*-1:m),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}const gne=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:s,middlewareData:o}=e,l=await mne(e,t);return s===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:s}}}}},yne=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:x=>{let{x:b,y:v}=x;return{x:b,y:v}}},...l}=Js(t,e),c={x:n,y:r},d=await Zp(e,l),f=yl(Qs(i)),h=Nk(f);let p=c[h],m=c[f];if(a){const x=h==="y"?"top":"left",b=h==="y"?"bottom":"right",v=p+d[x],y=p-d[b];p=vE(v,p,y)}if(s){const x=f==="y"?"top":"left",b=f==="y"?"bottom":"right",v=m+d[x],y=m-d[b];m=vE(v,m,y)}const g=o.fn({...e,[h]:p,[f]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:a,[f]:s}}}}}},vne=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:s}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=Js(t,e),d={x:n,y:r},f=yl(i),h=Nk(f);let p=d[h],m=d[f];const g=Js(o,e),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const y=h==="y"?"height":"width",_=a.reference[h]-a.floating[y]+x.mainAxis,w=a.reference[h]+a.reference[y]-x.mainAxis;p<_?p=_:p>w&&(p=w)}if(c){var b,v;const y=h==="y"?"width":"height",_=["top","left"].includes(Qs(i)),w=a.reference[f]-a.floating[y]+(_&&((b=s.offset)==null?void 0:b[f])||0)+(_?0:x.crossAxis),E=a.reference[f]+a.reference[y]+(_?0:((v=s.offset)==null?void 0:v[f])||0)-(_?x.crossAxis:0);m<w?m=w:m>E&&(m=E)}return{[h]:p,[f]:m}}}},xne=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:s,elements:o}=e,{apply:l=()=>{},...c}=Js(t,e),d=await Zp(e,c),f=Qs(i),h=If(i),p=yl(i)==="y",{width:m,height:g}=a.floating;let x,b;f==="top"||f==="bottom"?(x=f,b=h===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(b=f,x=h==="end"?"top":"bottom");const v=g-d.top-d.bottom,y=m-d.left-d.right,_=ml(g-d[x],v),w=ml(m-d[b],y),E=!e.middlewareData.shift;let A=_,j=w;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(j=y),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=v),E&&!h){const k=Xr(d.left,0),C=Xr(d.right,0),O=Xr(d.top,0),F=Xr(d.bottom,0);p?j=m-2*(k!==0||C!==0?k+C:Xr(d.left,d.right)):A=g-2*(O!==0||F!==0?O+F:Xr(d.top,d.bottom))}await l({...e,availableWidth:j,availableHeight:A});const T=await s.getDimensions(o.floating);return m!==T.width||g!==T.height?{reset:{rects:!0}}:{}}}};function eb(){return typeof window<"u"}function $f(t){return UB(t)?(t.nodeName||"").toLowerCase():"#document"}function ri(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ys(t){var e;return(e=(UB(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function UB(t){return eb()?t instanceof Node||t instanceof ri(t).Node:!1}function wa(t){return eb()?t instanceof Element||t instanceof ri(t).Element:!1}function us(t){return eb()?t instanceof HTMLElement||t instanceof ri(t).HTMLElement:!1}function DI(t){return!eb()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ri(t).ShadowRoot}function ag(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=_a(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function bne(t){return["table","td","th"].includes($f(t))}function tb(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function $k(t){const e=Rk(),n=wa(t)?_a(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function wne(t){let e=vl(t);for(;us(e)&&!Bd(e);){if($k(e))return e;if(tb(e))return null;e=vl(e)}return null}function Rk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Bd(t){return["html","body","#document"].includes($f(t))}function _a(t){return ri(t).getComputedStyle(t)}function nb(t){return wa(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function vl(t){if($f(t)==="html")return t;const e=t.assignedSlot||t.parentNode||DI(t)&&t.host||ys(t);return DI(e)?e.host:e}function HB(t){const e=vl(t);return Bd(e)?t.ownerDocument?t.ownerDocument.body:t.body:us(e)&&ag(e)?e:HB(e)}function Jp(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=HB(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),s=ri(i);if(a){const o=bE(s);return e.concat(s,s.visualViewport||[],ag(i)?i:[],o&&n?Jp(o):[])}return e.concat(i,Jp(i,[],n))}function bE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function VB(t){const e=_a(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=us(t),a=i?t.offsetWidth:n,s=i?t.offsetHeight:r,o=Yv(n)!==a||Yv(r)!==s;return o&&(n=a,r=s),{width:n,height:r,$:o}}function Mk(t){return wa(t)?t:t.contextElement}function hd(t){const e=Mk(t);if(!us(e))return gl(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=VB(e);let s=(a?Yv(n.width):n.width)/r,o=(a?Yv(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const _ne=gl(0);function WB(t){const e=ri(t);return!Rk()||!e.visualViewport?_ne:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Sne(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ri(t)?!1:e}function Mc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=Mk(t);let s=gl(1);e&&(r?wa(r)&&(s=hd(r)):s=hd(t));const o=Sne(a,n,r)?WB(a):gl(0);let l=(i.left+o.x)/s.x,c=(i.top+o.y)/s.y,d=i.width/s.x,f=i.height/s.y;if(a){const h=ri(a),p=r&&wa(r)?ri(r):r;let m=h,g=bE(m);for(;g&&r&&p!==m;){const x=hd(g),b=g.getBoundingClientRect(),v=_a(g),y=b.left+(g.clientLeft+parseFloat(v.paddingLeft))*x.x,_=b.top+(g.clientTop+parseFloat(v.paddingTop))*x.y;l*=x.x,c*=x.y,d*=x.x,f*=x.y,l+=y,c+=_,m=ri(g),g=bE(m)}}return Zv({width:d,height:f,x:l,y:c})}function Ene(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",s=ys(r),o=e?tb(e.floating):!1;if(r===s||o&&a)return n;let l={scrollLeft:0,scrollTop:0},c=gl(1);const d=gl(0),f=us(r);if((f||!f&&!a)&&(($f(r)!=="body"||ag(s))&&(l=nb(r)),us(r))){const h=Mc(r);c=hd(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function jne(t){return Array.from(t.getClientRects())}function wE(t,e){const n=nb(t).scrollLeft;return e?e.left+n:Mc(ys(t)).left+n}function Ane(t){const e=ys(t),n=nb(t),r=t.ownerDocument.body,i=Xr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Xr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+wE(t);const o=-n.scrollTop;return _a(r).direction==="rtl"&&(s+=Xr(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:o}}function Tne(t,e){const n=ri(t),r=ys(t),i=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const c=Rk();(!c||c&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}function kne(t,e){const n=Mc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=us(t)?hd(t):gl(1),s=t.clientWidth*a.x,o=t.clientHeight*a.y,l=i*a.x,c=r*a.y;return{width:s,height:o,x:l,y:c}}function LI(t,e,n){let r;if(e==="viewport")r=Tne(t,n);else if(e==="document")r=Ane(ys(t));else if(wa(e))r=kne(e,n);else{const i=WB(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Zv(r)}function qB(t,e){const n=vl(t);return n===e||!wa(n)||Bd(n)?!1:_a(n).position==="fixed"||qB(n,e)}function Cne(t,e){const n=e.get(t);if(n)return n;let r=Jp(t,[],!1).filter(o=>wa(o)&&$f(o)!=="body"),i=null;const a=_a(t).position==="fixed";let s=a?vl(t):t;for(;wa(s)&&!Bd(s);){const o=_a(s),l=$k(s);!l&&o.position==="fixed"&&(i=null),(a?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ag(s)&&!l&&qB(t,s))?r=r.filter(d=>d!==s):i=o,s=vl(s)}return e.set(t,r),r}function One(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?tb(e)?[]:Cne(e,this._c):[].concat(n),r],o=s[0],l=s.reduce((c,d)=>{const f=LI(e,d,i);return c.top=Xr(f.top,c.top),c.right=ml(f.right,c.right),c.bottom=ml(f.bottom,c.bottom),c.left=Xr(f.left,c.left),c},LI(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Nne(t){const{width:e,height:n}=VB(t);return{width:e,height:n}}function Pne(t,e,n){const r=us(e),i=ys(e),a=n==="fixed",s=Mc(t,!0,a,e);let o={scrollLeft:0,scrollTop:0};const l=gl(0);if(r||!r&&!a)if(($f(e)!=="body"||ag(i))&&(o=nb(e)),r){const p=Mc(e,!0,a,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&(l.x=wE(i));let c=0,d=0;if(i&&!r&&!a){const p=i.getBoundingClientRect();d=p.top+o.scrollTop,c=p.left+o.scrollLeft-wE(i,p)}const f=s.left+o.scrollLeft-l.x-c,h=s.top+o.scrollTop-l.y-d;return{x:f,y:h,width:s.width,height:s.height}}function T_(t){return _a(t).position==="static"}function FI(t,e){if(!us(t)||_a(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ys(t)===n&&(n=n.ownerDocument.body),n}function GB(t,e){const n=ri(t);if(tb(t))return n;if(!us(t)){let i=vl(t);for(;i&&!Bd(i);){if(wa(i)&&!T_(i))return i;i=vl(i)}return n}let r=FI(t,e);for(;r&&bne(r)&&T_(r);)r=FI(r,e);return r&&Bd(r)&&T_(r)&&!$k(r)?n:r||wne(t)||n}const Ine=async function(t){const e=this.getOffsetParent||GB,n=this.getDimensions,r=await n(t.floating);return{reference:Pne(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function $ne(t){return _a(t).direction==="rtl"}const Rne={convertOffsetParentRelativeRectToViewportRelativeRect:Ene,getDocumentElement:ys,getClippingRect:One,getOffsetParent:GB,getElementRects:Ine,getClientRects:jne,getDimensions:Nne,getScale:hd,isElement:wa,isRTL:$ne};function Mne(t,e){let n=null,r;const i=ys(t);function a(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),a();const{left:c,top:d,width:f,height:h}=t.getBoundingClientRect();if(o||e(),!f||!h)return;const p=ay(d),m=ay(i.clientWidth-(c+f)),g=ay(i.clientHeight-(d+h)),x=ay(c),v={rootMargin:-p+"px "+-m+"px "+-g+"px "+-x+"px",threshold:Xr(0,ml(1,l))||1};let y=!0;function _(w){const E=w[0].intersectionRatio;if(E!==l){if(!y)return s();E?s(!1,E):r=setTimeout(()=>{s(!1,1e-7)},1e3)}y=!1}try{n=new IntersectionObserver(_,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,v)}n.observe(t)}return s(!0),a}function Dne(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Mk(t),d=i||a?[...c?Jp(c):[],...Jp(e)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),a&&b.addEventListener("resize",n)});const f=c&&o?Mne(c,n):null;let h=-1,p=null;s&&(p=new ResizeObserver(b=>{let[v]=b;v&&v.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let m,g=l?Mc(t):null;l&&x();function x(){const b=Mc(t);g&&(b.x!==g.x||b.y!==g.y||b.width!==g.width||b.height!==g.height)&&n(),g=b,m=requestAnimationFrame(x)}return n(),()=>{var b;d.forEach(v=>{i&&v.removeEventListener("scroll",n),a&&v.removeEventListener("resize",n)}),f==null||f(),(b=p)==null||b.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const Lne=gne,Fne=yne,Bne=hne,zne=xne,Une=pne,BI=fne,Hne=vne,Vne=(t,e,n)=>{const r=new Map,i={platform:Rne,...n},a={...i.platform,_c:r};return dne(t,e,{...i,platform:a})};var lv=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Jv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Jv(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!Jv(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function KB(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function zI(t,e){const n=KB(t);return Math.round(e*n)/n}function k_(t){const e=S.useRef(t);return lv(()=>{e.current=t}),e}function Wne(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:l,open:c}=t,[d,f]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=S.useState(r);Jv(h,r)||p(r);const[m,g]=S.useState(null),[x,b]=S.useState(null),v=S.useCallback(L=>{L!==E.current&&(E.current=L,g(L))},[]),y=S.useCallback(L=>{L!==A.current&&(A.current=L,b(L))},[]),_=a||m,w=s||x,E=S.useRef(null),A=S.useRef(null),j=S.useRef(d),T=l!=null,k=k_(l),C=k_(i),O=k_(c),F=S.useCallback(()=>{if(!E.current||!A.current)return;const L={placement:e,strategy:n,middleware:h};C.current&&(L.platform=C.current),Vne(E.current,A.current,L).then(B=>{const P={...B,isPositioned:O.current!==!1};R.current&&!Jv(j.current,P)&&(j.current=P,Jc.flushSync(()=>{f(P)}))})},[h,e,n,C,O]);lv(()=>{c===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[c]);const R=S.useRef(!1);lv(()=>(R.current=!0,()=>{R.current=!1}),[]),lv(()=>{if(_&&(E.current=_),w&&(A.current=w),_&&w){if(k.current)return k.current(_,w,F);F()}},[_,w,F,k,T]);const D=S.useMemo(()=>({reference:E,floating:A,setReference:v,setFloating:y}),[v,y]),U=S.useMemo(()=>({reference:_,floating:w}),[_,w]),V=S.useMemo(()=>{const L={position:n,left:0,top:0};if(!U.floating)return L;const B=zI(U.floating,d.x),P=zI(U.floating,d.y);return o?{...L,transform:"translate("+B+"px, "+P+"px)",...KB(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:P}},[n,o,U.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:F,refs:D,elements:U,floatingStyles:V}),[d,F,D,U,V])}const qne=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?BI({element:r.current,padding:i}).fn(n):{}:r?BI({element:r,padding:i}).fn(n):{}}}},Gne=(t,e)=>({...Lne(t),options:[t,e]}),Kne=(t,e)=>({...Fne(t),options:[t,e]}),Yne=(t,e)=>({...Hne(t),options:[t,e]}),Xne=(t,e)=>({...Bne(t),options:[t,e]}),Zne=(t,e)=>({...zne(t),options:[t,e]}),Jne=(t,e)=>({...Une(t),options:[t,e]}),Qne=(t,e)=>({...qne(t),options:[t,e]});var ere="Arrow",YB=S.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return u.jsx(Ie.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});YB.displayName=ere;var tre=YB;function nre(t,e=[]){let n=[];function r(a,s){const o=S.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||o,x=S.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:x,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||o,m=S.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,d]}const i=()=>{const a=n.map(s=>S.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,rre(i,...e)]}function rre(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function XB(t){const[e,n]=S.useState(void 0);return An(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,o;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,o=c.blockSize}else s=t.offsetWidth,o=t.offsetHeight;n({width:s,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Dk="Popper",[ZB,Rf]=nre(Dk),[ire,JB]=ZB(Dk),QB=t=>{const{__scopePopper:e,children:n}=t,[r,i]=S.useState(null);return u.jsx(ire,{scope:e,anchor:r,onAnchorChange:i,children:n})};QB.displayName=Dk;var ez="PopperAnchor",tz=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=JB(ez,n),s=S.useRef(null),o=it(e,s);return S.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:u.jsx(Ie.div,{...i,ref:o})});tz.displayName=ez;var Lk="PopperContent",[are,sre]=ZB(Lk),nz=S.forwardRef((t,e)=>{var N,K,z,Z,J,Y;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:m,...g}=t,x=JB(Lk,n),[b,v]=S.useState(null),y=it(e,me=>v(me)),[_,w]=S.useState(null),E=XB(_),A=(E==null?void 0:E.width)??0,j=(E==null?void 0:E.height)??0,T=r+(a!=="center"?"-"+a:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},C=Array.isArray(c)?c:[c],O=C.length>0,F={padding:k,boundary:C.filter(lre),altBoundary:O},{refs:R,floatingStyles:D,placement:U,isPositioned:V,middlewareData:L}=Wne({strategy:"fixed",placement:T,whileElementsMounted:(...me)=>Dne(...me,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[Gne({mainAxis:i+j,alignmentAxis:s}),l&&Kne({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Yne():void 0,...F}),l&&Xne({...F}),Zne({...F,apply:({elements:me,rects:le,availableWidth:xe,availableHeight:oe})=>{const{width:Be,height:Te}=le.reference,De=me.floating.style;De.setProperty("--radix-popper-available-width",`${xe}px`),De.setProperty("--radix-popper-available-height",`${oe}px`),De.setProperty("--radix-popper-anchor-width",`${Be}px`),De.setProperty("--radix-popper-anchor-height",`${Te}px`)}}),_&&Qne({element:_,padding:o}),cre({arrowWidth:A,arrowHeight:j}),h&&Jne({strategy:"referenceHidden",...F})]}),[B,P]=az(U),W=qt(m);An(()=>{V&&(W==null||W())},[V,W]);const G=(N=L.arrow)==null?void 0:N.x,$=(K=L.arrow)==null?void 0:K.y,ee=((z=L.arrow)==null?void 0:z.centerOffset)!==0,[ie,I]=S.useState();return An(()=>{b&&I(window.getComputedStyle(b).zIndex)},[b]),u.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:V?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(Z=L.transformOrigin)==null?void 0:Z.x,(J=L.transformOrigin)==null?void 0:J.y].join(" "),...((Y=L.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(are,{scope:n,placedSide:B,onArrowChange:w,arrowX:G,arrowY:$,shouldHideArrow:ee,children:u.jsx(Ie.div,{"data-side":B,"data-align":P,...g,ref:y,style:{...g.style,animation:V?void 0:"none"}})})})});nz.displayName=Lk;var rz="PopperArrow",ore={top:"bottom",right:"left",bottom:"top",left:"right"},iz=S.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=sre(rz,r),s=ore[a.placedSide];return u.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:u.jsx(tre,{...i,ref:n,style:{...i.style,display:"block"}})})});iz.displayName=rz;function lre(t){return t!==null}var cre=t=>({name:"transformOrigin",options:t,fn(e){var x,b,v;const{placement:n,rects:r,middlewareData:i}=e,s=((x=i.arrow)==null?void 0:x.centerOffset)!==0,o=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,d]=az(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=i.arrow)==null?void 0:b.x)??0)+o/2,p=(((v=i.arrow)==null?void 0:v.y)??0)+l/2;let m="",g="";return c==="bottom"?(m=s?f:`${h}px`,g=`${-l}px`):c==="top"?(m=s?f:`${h}px`,g=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,g=s?f:`${p}px`):c==="left"&&(m=`${r.floating.width+l}px`,g=s?f:`${p}px`),{data:{x:m,y:g}}}});function az(t){const[e,n="center"]=t.split("-");return[e,n]}var Fk=QB,Bk=tz,zk=nz,Uk=iz,[rb,cWe]=gs("Tooltip",[Rf]),ib=Rf(),sz="TooltipProvider",ure=700,_E="tooltip.open",[dre,Hk]=rb(sz),oz=t=>{const{__scopeTooltip:e,delayDuration:n=ure,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=t,[s,o]=S.useState(!0),l=S.useRef(!1),c=S.useRef(0);return S.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),u.jsx(dre,{scope:e,isOpenDelayed:s,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(c.current),o(!1)},[]),onClose:S.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:S.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:a})};oz.displayName=sz;var ab="Tooltip",[fre,sb]=rb(ab),lz=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:s,delayDuration:o}=t,l=Hk(ab,t.__scopeTooltip),c=ib(e),[d,f]=S.useState(null),h=ga(),p=S.useRef(0),m=s??l.disableHoverableContent,g=o??l.delayDuration,x=S.useRef(!1),[b=!1,v]=Xs({prop:r,defaultProp:i,onChange:A=>{A?(l.onOpen(),document.dispatchEvent(new CustomEvent(_E))):l.onClose(),a==null||a(A)}}),y=S.useMemo(()=>b?x.current?"delayed-open":"instant-open":"closed",[b]),_=S.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x.current=!1,v(!0)},[v]),w=S.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v(!1)},[v]),E=S.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{x.current=!0,v(!0),p.current=0},g)},[g,v]);return S.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),u.jsx(Fk,{...c,children:u.jsx(fre,{scope:e,contentId:h,open:b,stateAttribute:y,trigger:d,onTriggerChange:f,onTriggerEnter:S.useCallback(()=>{l.isOpenDelayed?E():_()},[l.isOpenDelayed,E,_]),onTriggerLeave:S.useCallback(()=>{m?w():(window.clearTimeout(p.current),p.current=0)},[w,m]),onOpen:_,onClose:w,disableHoverableContent:m,children:n})})};lz.displayName=ab;var SE="TooltipTrigger",cz=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=sb(SE,n),a=Hk(SE,n),s=ib(n),o=S.useRef(null),l=it(e,o,i.onTriggerChange),c=S.useRef(!1),d=S.useRef(!1),f=S.useCallback(()=>c.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(Bk,{asChild:!0,...s,children:u.jsx(Ie.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:pe(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:pe(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:pe(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:pe(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:pe(t.onBlur,i.onClose),onClick:pe(t.onClick,i.onClose)})})});cz.displayName=SE;var hre="TooltipPortal",[uWe,pre]=rb(hre,{forceMount:void 0}),zd="TooltipContent",uz=S.forwardRef((t,e)=>{const n=pre(zd,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=t,s=sb(zd,t.__scopeTooltip);return u.jsx(gr,{present:r||s.open,children:s.disableHoverableContent?u.jsx(dz,{side:i,...a,ref:e}):u.jsx(mre,{side:i,...a,ref:e})})}),mre=S.forwardRef((t,e)=>{const n=sb(zd,t.__scopeTooltip),r=Hk(zd,t.__scopeTooltip),i=S.useRef(null),a=it(e,i),[s,o]=S.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:f}=r,h=S.useCallback(()=>{o(null),f(!1)},[f]),p=S.useCallback((m,g)=>{const x=m.currentTarget,b={x:m.clientX,y:m.clientY},v=xre(b,x.getBoundingClientRect()),y=bre(b,v),_=wre(g.getBoundingClientRect()),w=Sre([...y,..._]);o(w),f(!0)},[f]);return S.useEffect(()=>()=>h(),[h]),S.useEffect(()=>{if(l&&d){const m=x=>p(x,d),g=x=>p(x,l);return l.addEventListener("pointerleave",m),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",m),d.removeEventListener("pointerleave",g)}}},[l,d,p,h]),S.useEffect(()=>{if(s){const m=g=>{const x=g.target,b={x:g.clientX,y:g.clientY},v=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),y=!_re(b,s);v?h():y&&(h(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,d,s,c,h]),u.jsx(dz,{...t,ref:a})}),[gre,yre]=rb(ab,{isInside:!1}),dz=S.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...o}=t,l=sb(zd,n),c=ib(n),{onClose:d}=l;return S.useEffect(()=>(document.addEventListener(_E,d),()=>document.removeEventListener(_E,d)),[d]),S.useEffect(()=>{if(l.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(Nf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(zk,{"data-state":l.stateAttribute,...c,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(tB,{children:r}),u.jsx(gre,{scope:n,isInside:!0,children:u.jsx(lee,{id:l.contentId,role:"tooltip",children:i||r})})]})})});uz.displayName=zd;var fz="TooltipArrow",vre=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=ib(n);return yre(fz,n).isInside?null:u.jsx(Uk,{...i,...r,ref:e})});vre.displayName=fz;function xre(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function bre(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function wre(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function _re(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const o=e[a].x,l=e[a].y,c=e[s].x,d=e[s].y;l>r!=d>r&&n<(c-o)*(r-l)/(d-l)+o&&(i=!i)}return i}function Sre(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Ere(e)}function Ere(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const a=e[e.length-1],s=e[e.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const a=n[n.length-1],s=n[n.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var jre=oz,Are=lz,Tre=cz,hz=uz;const pz=jre,pu=Are,mu=Tre,Jl=S.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(hz,{ref:r,sideOffset:e,className:ye("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Jl.displayName=hz.displayName;const kre="modulepreload",Cre=function(t){return"/admit-ai-nexus/"+t},UI={},Ii=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=Cre(l),l in UI)return;UI[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":kre,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},Ore=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ii(async()=>{const{default:r}=await Promise.resolve().then(()=>Mf);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Vk extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Nre extends Vk{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class HI extends Vk{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class VI extends Vk{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var EE;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(EE||(EE={}));var Pre=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class Ire{constructor(e,{headers:n={},customFetch:r,region:i=EE.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=Ore(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Pre(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=n;let o={},{region:l}=n;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(o["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(o["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(o["Content-Type"]="application/json",d=JSON.stringify(s)));const f=yield this.fetch(c.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:d}).catch(g=>{throw new Nre(g)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new HI(f);if(!f.ok)throw new VI(f);let p=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield f.json():p==="application/octet-stream"?m=yield f.blob():p==="text/event-stream"?m=f:p==="multipart/form-data"?m=yield f.formData():m=yield f.text(),{data:m,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof VI||i instanceof HI?i.context:void 0}}})}}var Er={},Wk={},ob={},sg={},lb={},cb={},$re=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ud=$re();const Rre=Ud.fetch,mz=Ud.fetch.bind(Ud),gz=Ud.Headers,Mre=Ud.Request,Dre=Ud.Response,Mf=Object.freeze(Object.defineProperty({__proto__:null,Headers:gz,Request:Mre,Response:Dre,default:mz,fetch:Rre},Symbol.toStringTag,{value:"Module"})),Lre=eY(Mf);var ub={};Object.defineProperty(ub,"__esModule",{value:!0});let Fre=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ub.default=Fre;var yz=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cb,"__esModule",{value:!0});const Bre=yz(Lre),zre=yz(ub);let Ure=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Bre.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,o,l;let c=null,d=null,f=null,h=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const b=await a.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=b:d=JSON.parse(b))}const g=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),x=(o=a.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");g&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await a.text();try{c=JSON.parse(g),Array.isArray(c)&&a.status===404&&(d=[],c=null,h=200,p="OK")}catch{a.status===404&&g===""?(h=204,p="No Content"):c={message:g}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,p="OK"),c&&this.shouldThrowOnError)throw new zre.default(c)}return{error:c,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,o,l;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};cb.default=Ure;var Hre=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lb,"__esModule",{value:!0});const Vre=Hre(cb);let Wre=class extends Vre.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var o;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};lb.default=Wre;var qre=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sg,"__esModule",{value:!0});const Gre=qre(lb);let Kre=class extends Gre.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${s}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};sg.default=Kre;var Yre=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ob,"__esModule",{value:!0});const vh=Yre(sg);let Xre=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let a=!1;const s=(e??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new vh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const s=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(s.length>0){const o=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new vh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){const s="POST",o=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),a||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new vh.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new vh.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new vh.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ob.default=Xre;var db={},fb={};Object.defineProperty(fb,"__esModule",{value:!0});fb.version=void 0;fb.version="0.0.0-automated";Object.defineProperty(db,"__esModule",{value:!0});db.DEFAULT_HEADERS=void 0;const Zre=fb;db.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Zre.version}`};var vz=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wk,"__esModule",{value:!0});const Jre=vz(ob),Qre=vz(sg),eie=db;let tie=class xz{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},eie.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new Jre.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new xz(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:a}={}){let s;const o=new URL(`${this.url}/rpc/${e}`);let l;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(s="POST",l=n);const c=Object.assign({},this.headers);return a&&(c.Prefer=`count=${a}`),new Qre.default({method:s,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Wk.default=tie;var Df=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Er,"__esModule",{value:!0});Er.PostgrestError=Er.PostgrestBuilder=Er.PostgrestTransformBuilder=Er.PostgrestFilterBuilder=Er.PostgrestQueryBuilder=Er.PostgrestClient=void 0;const bz=Df(Wk);Er.PostgrestClient=bz.default;const wz=Df(ob);Er.PostgrestQueryBuilder=wz.default;const _z=Df(sg);Er.PostgrestFilterBuilder=_z.default;const Sz=Df(lb);Er.PostgrestTransformBuilder=Sz.default;const Ez=Df(cb);Er.PostgrestBuilder=Ez.default;const jz=Df(ub);Er.PostgrestError=jz.default;var nie=Er.default={PostgrestClient:bz.default,PostgrestQueryBuilder:wz.default,PostgrestFilterBuilder:_z.default,PostgrestTransformBuilder:Sz.default,PostgrestBuilder:Ez.default,PostgrestError:jz.default};const{PostgrestClient:rie,PostgrestQueryBuilder:gWe,PostgrestFilterBuilder:yWe,PostgrestTransformBuilder:vWe,PostgrestBuilder:xWe,PostgrestError:bWe}=nie;function iie(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const aie=iie(),sie="2.11.15",oie=`realtime-js/${sie}`,lie="1.0.0",Az=1e4,cie=1e3;var op;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(op||(op={}));var qn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(qn||(qn={}));var na;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(na||(na={}));var jE;(function(t){t.websocket="websocket"})(jE||(jE={}));var ac;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ac||(ac={}));class uie{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2);let s=this.HEADER_LENGTH+2;const o=r.decode(e.slice(s,s+i));s=s+i;const l=r.decode(e.slice(s,s+a));s=s+a;const c=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class Tz{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var kt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(kt||(kt={}));const WI=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,s)=>(a[s]=die(s,t,e,i),a),{})},die=(t,e,n,r)=>{const i=e.find(o=>o.name===t),a=i==null?void 0:i.type,s=n[t];return a&&!r.includes(a)?kz(a,s):AE(s)},kz=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return mie(e,n)}switch(t){case kt.bool:return fie(e);case kt.float4:case kt.float8:case kt.int2:case kt.int4:case kt.int8:case kt.numeric:case kt.oid:return hie(e);case kt.json:case kt.jsonb:return pie(e);case kt.timestamp:return gie(e);case kt.abstime:case kt.date:case kt.daterange:case kt.int4range:case kt.int8range:case kt.money:case kt.reltime:case kt.text:case kt.time:case kt.timestamptz:case kt.timetz:case kt.tsrange:case kt.tstzrange:return AE(e);default:return AE(e)}},AE=t=>t,fie=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},hie=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},pie=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},mie=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const s=t.slice(1,n);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>kz(e,o))}return t},gie=t=>typeof t=="string"?t.replace(" ","T"):t,Cz=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class C_{constructor(e,n,r={},i=Az){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var qI;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(qI||(qI={}));class lp{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lp.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=lp.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=lp.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),s=this.transformState(n),o={},l={};return this.map(a,(c,d)=>{s[c]||(l[c]=d)}),this.map(s,(c,d)=>{const f=a[c];if(f){const h=d.map(x=>x.presence_ref),p=f.map(x=>x.presence_ref),m=d.filter(x=>p.indexOf(x.presence_ref)<0),g=f.filter(x=>h.indexOf(x.presence_ref)<0);m.length>0&&(o[c]=m),g.length>0&&(l[c]=g)}else o[c]=d}),this.syncDiff(a,{joins:o,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var c;const d=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),d.length>0){const f=e[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);e[o].unshift(...h)}r(o,d,l)}),this.map(s,(o,l)=>{let c=e[o];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var GI;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(GI||(GI={}));var KI;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(KI||(KI={}));var ks;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ks||(ks={}));class qk{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=qn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new C_(this,na.join,this.params,this.timeout),this.rejoinTimer=new Tz(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=qn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(na.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new lp(this),this.broadcastEndpointURL=Cz(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==qn.closed){const{config:{broadcast:a,presence:s,private:o}}=this.params;this._onError(d=>e==null?void 0:e(ks.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(ks.CLOSED));const l={},c={broadcast:a,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(ks.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,m=[];for(let g=0;g<p;g++){const x=h[g],{filter:{event:b,schema:v,table:y,filter:_}}=x,w=d&&d[g];if(w&&w.event===b&&w.schema===v&&w.table===y&&w.filter===_)m.push(Object.assign(Object.assign({},x),{id:w.id}));else{this.unsubscribe(),this.state=qn.errored,e==null||e(ks.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(ks.SUBSCRIBED);return}}).receive("error",d=>{this.state=qn.errored,e==null||e(ks.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ks.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=qn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(na.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new C_(this,na.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new C_(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const s=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:d}=na;if(r&&[o,l,c,d].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,g,x;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((x=(g=p.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===s}).map(p=>p.callback(h,r)):(a=this.bindings[s])===null||a===void 0||a.filter(p=>{var m,g,x,b,v,y;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const _=p.id,w=(m=p.filter)===null||m===void 0?void 0:m.event;return _&&((g=n.ids)===null||g===void 0?void 0:g.includes(_))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(v=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return _==="*"||_===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:x,commit_timestamp:b,type:v,errors:y}=m;h=Object.assign(Object.assign({},{schema:g,table:x,commit_timestamp:b,eventType:v,new:{},old:{},errors:y}),this._getPayloadRecords(m))}p.callback(h,r)})}_isClosed(){return this.state===qn.closed}_isJoined(){return this.state===qn.joined}_isJoining(){return this.state===qn.joining}_isLeaving(){return this.state===qn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&qk.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(na.close,{},e)}_onError(e){this._on(na.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=WI(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=WI(e.columns,e.old_record)),n}}const YI=()=>{},yie=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vie{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Az,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=YI,this.ref=0,this.logger=YI,this.conn=null,this.sendBuffer=[],this.serializer=new uie,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...o)=>Ii(async()=>{const{default:l}=await Promise.resolve().then(()=>Mf);return{default:l}},void 0).then(({default:l})=>l(...o)):s=fetch,(...o)=>s(...o)},this.endPoint=`${e}/${jE.websocket}`,this.httpEndpoint=Cz(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,s)=>s(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Tz(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=aie),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:lie}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case op.connecting:return ac.Connecting;case op.open:return ac.Open;case op.closing:return ac.Closing;default:return ac.Closed}}isConnected(){return this.connectionState()===ac.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new qk(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,s=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:oie};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(na.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(cie,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:a,ref:s}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,a),Array.from(this.channels).filter(o=>o._isMember(r)).forEach(o=>o._trigger(i,a,s)),this.stateChangeCallbacks.message.forEach(o=>o(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(na.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([yie],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Gk extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Nn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class xie extends Gk{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class TE extends Gk{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var bie=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const Oz=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ii(async()=>{const{default:r}=await Promise.resolve().then(()=>Mf);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},wie=()=>bie(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ii(()=>Promise.resolve().then(()=>Mf),void 0)).Response:Response}),kE=t=>{if(Array.isArray(t))return t.map(n=>kE(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=kE(r)}),e},_ie=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var eu=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const O_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Sie=(t,e,n)=>eu(void 0,void 0,void 0,function*(){const r=yield wie();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const a=t.status||500,s=(i==null?void 0:i.statusCode)||a+"";e(new xie(O_(i),a,s))}).catch(i=>{e(new TE(O_(i),i))}):e(new TE(O_(t),t))}),Eie=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(_ie(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function og(t,e,n,r,i,a){return eu(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(n,Eie(e,r,i,a)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>Sie(l,o,r))})})}function Qv(t,e,n,r){return eu(this,void 0,void 0,function*(){return og(t,"GET",e,n,r)})}function Cs(t,e,n,r,i){return eu(this,void 0,void 0,function*(){return og(t,"POST",e,r,i,n)})}function CE(t,e,n,r,i){return eu(this,void 0,void 0,function*(){return og(t,"PUT",e,r,i,n)})}function jie(t,e,n,r){return eu(this,void 0,void 0,function*(){return og(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Nz(t,e,n,r,i){return eu(this,void 0,void 0,function*(){return og(t,"DELETE",e,r,i,n)})}var xr=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const Aie={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},XI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Tie{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Oz(i)}uploadOrUpdate(e,n,r,i){return xr(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},XI),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=r,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),f=yield(e=="PUT"?CE:Cs)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(Nn(a))return{data:null,error:a};throw a}})}upload(e,n,r){return xr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return xr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:XI.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield CE(this.fetch,o.toString(),l,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(Nn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return xr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield Cs(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new Gk("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(r){if(Nn(r))return{data:null,error:r};throw r}})}update(e,n,r){return xr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return xr(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Nn(i))return{data:null,error:i};throw i}})}copy(e,n,r){return xr(this,void 0,void 0,function*(){try{return{data:{path:(yield Cs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Nn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return xr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Cs(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(Nn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return xr(this,void 0,void 0,function*(){try{const i=yield Cs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(Nn(i))return{data:null,error:i};throw i}})}download(e,n){return xr(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=a?`?${a}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Qv(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Nn(o))return{data:null,error:o};throw o}})}info(e){return xr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Qv(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:kE(r),error:null}}catch(r){if(Nn(r))return{data:null,error:r};throw r}})}exists(e){return xr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield jie(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Nn(r)&&r instanceof TE){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${c}`)}}}remove(e){return xr(this,void 0,void 0,function*(){try{return{data:yield Nz(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}list(e,n,r){return xr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Aie),n),{prefix:e||""});return{data:yield Cs(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Nn(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const kie="2.10.4",Cie={"X-Client-Info":`storage-js/${kie}`};var gu=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class Oie{constructor(e,n={},r,i){const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},Cie),n),this.fetch=Oz(r)}listBuckets(){return gu(this,void 0,void 0,function*(){try{return{data:yield Qv(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Nn(e))return{data:null,error:e};throw e}})}getBucket(e){return gu(this,void 0,void 0,function*(){try{return{data:yield Qv(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return gu(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Nn(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return gu(this,void 0,void 0,function*(){try{return{data:yield CE(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Nn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return gu(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return gu(this,void 0,void 0,function*(){try{return{data:yield Nz(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}}class Nie extends Oie{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new Tie(this.url,this.headers,e,this.fetch)}}const Pie="2.53.0";let Dh="";typeof Deno<"u"?Dh="deno":typeof document<"u"?Dh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Dh="react-native":Dh="node";const Iie={"X-Client-Info":`supabase-js-${Dh}/${Pie}`},$ie={headers:Iie},Rie={schema:"public"},Mie={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Die={};var Lie=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const Fie=t=>{let e;return t?e=t:typeof fetch>"u"?e=mz:e=fetch,(...n)=>e(...n)},Bie=()=>typeof Headers>"u"?gz:Headers,zie=(t,e,n)=>{const r=Fie(n),i=Bie();return(a,s)=>Lie(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let c=new i(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(a,Object.assign(Object.assign({},s),{headers:c}))})};var Uie=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};function Hie(t){return t.endsWith("/")?t:t+"/"}function Vie(t,e){var n,r;const{db:i,auth:a,realtime:s,global:o}=t,{db:l,auth:c,realtime:d,global:f}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Uie(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const Pz="2.71.1",Nu=30*1e3,OE=3,N_=OE*Nu,Wie="http://localhost:9999",qie="supabase.auth.token",Gie={"X-Client-Info":`gotrue-js/${Pz}`},NE="X-Supabase-Api-Version",Iz={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Kie=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Yie=10*60*1e3;class Kk extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Je(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Xie extends Kk{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Zie(t){return Je(t)&&t.name==="AuthApiError"}class $z extends Kk{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Il extends Kk{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Ao extends Il{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Jie(t){return Je(t)&&t.name==="AuthSessionMissingError"}class sy extends Il{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class oy extends Il{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ly extends Il{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Qie(t){return Je(t)&&t.name==="AuthImplicitGrantRedirectError"}class ZI extends Il{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class PE extends Il{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function P_(t){return Je(t)&&t.name==="AuthRetryableFetchError"}class JI extends Il{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class IE extends Il{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const e0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),QI=` 	
\r=`.split(""),eae=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<QI.length;e+=1)t[QI[e].charCodeAt(0)]=-2;for(let e=0;e<e0.length;e+=1)t[e0[e].charCodeAt(0)]=e;return t})();function e2(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(e0[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(e0[r]),e.queuedBits-=6}}function Rz(t,e,n){const r=eae[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function t2(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{rae(s,r,n)};for(let s=0;s<t.length;s+=1)Rz(t.charCodeAt(s),i,a);return e.join("")}function tae(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function nae(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}tae(r,e)}}function rae(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function iae(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Rz(t.charCodeAt(i),n,r);return new Uint8Array(e)}function aae(t){const e=[];return nae(t,n=>e.push(n)),new Uint8Array(e)}function sae(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>e2(i,n,r)),e2(null,n,r),e.join("")}function oae(t){return Math.round(Date.now()/1e3)+t}function lae(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ki=()=>typeof window<"u"&&typeof document<"u",Wl={tested:!1,writable:!1},Mz=()=>{if(!Ki())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wl.tested)return Wl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Wl.tested=!0,Wl.writable=!0}catch{Wl.tested=!0,Wl.writable=!1}return Wl.writable};function cae(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const Dz=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ii(async()=>{const{default:r}=await Promise.resolve().then(()=>Mf);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},uae=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Pu=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ql=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},bo=async(t,e)=>{await t.removeItem(e)};class hb{constructor(){this.promise=new hb.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}hb.promiseConstructor=Promise;function I_(t){const e=t.split(".");if(e.length!==3)throw new IE("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Kie.test(e[r]))throw new IE("JWT not in base64url format");return{header:JSON.parse(t2(e[0])),payload:JSON.parse(t2(e[1])),signature:iae(e[2]),raw:{header:e[0],payload:e[1]}}}async function dae(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function fae(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){r(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function hae(t){return("0"+t.toString(16)).substr(-2)}function pae(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,hae).join("")}async function mae(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function gae(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await mae(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yu(t,e,n=!1){const r=pae();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Pu(t,`${e}-code-verifier`,i);const a=await gae(r);return[a,r===a?"plain":"s256"]}const yae=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vae(t){const e=t.headers.get(NE);if(!e||!e.match(yae))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function xae(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function bae(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const wae=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vu(t){if(!wae.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $_(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function n2(t){return JSON.parse(JSON.stringify(t))}var _ae=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Ql=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Sae=[502,503,504];async function r2(t){var e;if(!uae(t))throw new PE(Ql(t),0);if(Sae.includes(t.status))throw new PE(Ql(t),t.status);let n;try{n=await t.json()}catch(a){throw new $z(Ql(a),a)}let r;const i=vae(t);if(i&&i.getTime()>=Iz["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new JI(Ql(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ao}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new JI(Ql(n),t.status,n.weak_password.reasons);throw new Xie(Ql(n),t.status||500,r)}const Eae=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function st(t,e,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[NE]||(a[NE]=Iz["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const s=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await jae(t,e,n+o,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function jae(t,e,n,r,i,a){const s=Eae(e,r,i,a);let o;try{o=await t(n,Object.assign({},s))}catch(l){throw console.error(l),new PE(Ql(l),0)}if(o.ok||await r2(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await r2(l)}}function As(t){var e;let n=null;Cae(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=oae(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function i2(t){const e=As(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ro(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Aae(t){return{data:t,error:null}}function Tae(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,s=_ae(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function kae(t){return t}function Cae(t){return t.access_token&&t.refresh_token&&t.expires_in}const R_=["global","local","others"];var Oae=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class Nae{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Dz(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=R_[0]){if(R_.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${R_.join(", ")}`);try{return await st(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await st(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ro})}catch(r){if(Je(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Oae(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await st(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Tae,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Je(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await st(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ro})}catch(n){if(Je(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await st(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:kae});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(m.split(";")[1].split("=")[1]);c[`${x}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Je(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){vu(e);try{return await st(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ro})}catch(n){if(Je(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){vu(e);try{return await st(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ro})}catch(r){if(Je(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){vu(e);try{return await st(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ro})}catch(r){if(Je(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){vu(e.userId);try{const{data:n,error:r}=await st(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Je(n))return{data:null,error:n};throw n}}async _deleteFactor(e){vu(e.userId),vu(e.id);try{return{data:await st(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}}}function a2(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Pae(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const xu={debug:!!(globalThis&&Mz()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Lz extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Iae extends Lz{}async function $ae(t,e,n){xu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),xu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){xu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{xu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw xu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Iae(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(xu.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Pae();const Rae={url:Wie,storageKey:qie,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Gie,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function s2(t,e,n){return await n()}const bu={};class Qp{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qp.nextInstanceID,Qp.nextInstanceID+=1,this.instanceID>0&&Ki()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Rae),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Nae({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Dz(i.fetch),this.lock=i.lock||s2,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ki()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=$ae:this.lock=s2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Mz()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=a2(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=a2(this.memoryStorage)),Ki()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=bu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){bu[this.storageKey]=Object.assign(Object.assign({},bu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=bu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){bu[this.storageKey]=Object.assign(Object.assign({},bu[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Pz}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=cae(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ki()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Qie(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Je(n)?{error:n}:{error:new $z("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:As}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(Je(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:d,password:f,options:h}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await yu(this.storage,this.storageKey)),a=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:As})}else if("phone"in e){const{phone:d,password:f,options:h}=e;a=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:As})}else throw new oy("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(Je(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:s,options:o}=e;n=await st(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:i2})}else if("phone"in e){const{phone:a,password:s,options:o}=e;n=await st(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:i2})}else throw new oy("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new sy}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Je(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,i,a,s,o,l,c,d,f,h,p;let m,g;if("message"in e)m=e.message,g=e.signature;else{const{chain:x,wallet:b,statement:v,options:y}=e;let _;if(Ki())if(typeof b=="object")_=b;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const w=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),v?{statement:v}:null));let A;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")A=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)A=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)m=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),g=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${w.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(i=(r=y==null?void 0:y.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(m),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=E}}try{const{data:x,error:b}=await st(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:sae(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:As});if(b)throw b;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new sy}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:b})}catch(x){if(Je(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(e){const n=await ql(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:s}=await st(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:As});if(await bo(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new sy}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(Je(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:s}=e,o=await st(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:As}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new sy}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(Je(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,a,s;try{if("email"in e){const{email:o,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await yu(this.storage,this.storageKey));const{error:f}=await st(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:d}=await st(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new oy("You must provide either an email or phone number.")}catch(o){if(Je(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:o}=await st(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:As});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Je(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await yu(this.storage,this.storageKey)),await st(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:Aae})}catch(a){if(Je(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Ao;const{error:i}=await st(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Je(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:s}=await st(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:s,error:o}=await st(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new oy("You must provide either an email or phone number and a type")}catch(n){if(Je(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ql(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<N_:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const s=await ql(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=$_()}if(this.storage.isServer&&e.user){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!s&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await st(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ro}):await this._useSession(async n=>{var r,i,a;const{data:s,error:o}=n;if(o)throw o;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ao}:await st(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ro})})}catch(n){if(Je(n))return Jie(n)&&(await this._removeSession(),await bo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Ao;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await yu(this.storage,this.storageKey));const{data:c,error:d}=await st(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:Ro});if(d)throw d;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(Je(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ao;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:s}=I_(e.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Je(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:s,error:o}=n;if(o)throw o;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ao;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Je(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ki())throw new ly("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ly(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ZI("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ly("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ZI("No code detected.");const{data:v,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:c}=e;if(!a||!o||!s||!c)throw new ly("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=Nu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:g,error:x}=await this._getUser(a);if(x)throw x;const b={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:s,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(r){if(Je(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ql(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!(Zie(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await bo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=lae(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await yu(this.storage,this.storageKey,!0));try{return await st(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Je(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var s,o,l,c,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await st(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Ki()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Je(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)throw s;return await st(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Je(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await fae(async i=>(i>0&&await dae(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await st(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:As})),(i,a)=>{const s=200*Math.pow(2,i);return a&&P_(a)&&Date.now()+s-r<Nu})}catch(r){if(this._debug(n,"error",r),Je(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ki()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await ql(this.storage,this.storageKey);if(i&&this.userStorage){let s=await ql(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Pu(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:$_()}else if(i&&!i.user&&!i.user){const s=await ql(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await bo(this.storage,this.storageKey+"-user"),await Pu(this.storage,this.storageKey,i)):i.user=$_()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<N_;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${N_}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),P_(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Ao;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new hb;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new Ao;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),Je(a)){const s={session:null,error:a};return P_(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Pu(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=n2(i);await Pu(this.storage,this.storageKey,a)}else{const i=n2(n);await Pu(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await bo(this.storage,this.storageKey),await bo(this.storage,this.storageKey+"-code-verifier"),await bo(this.storage,this.storageKey+"-user"),this.userStorage&&await bo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ki()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Nu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Nu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Nu}ms, refresh threshold is ${OE} ticks`),i<=OE&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Lz)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ki()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,s]=await yu(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await st(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Je(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await st(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Je(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:s,error:o}=await st(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(n){if(Je(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await st(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Je(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=r.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=I_(i.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+Yie>i)return r;const{data:a,error:s}=await st(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(o=>o.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};r=p.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=I_(r);n!=null&&n.allowExpired||xae(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:a,header:i,signature:s},error:null}}const d=bae(i.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,aae(`${o}.${l}`)))throw new IE("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}}}Qp.nextInstanceID=0;const Mae=Qp;class Dae extends Mae{constructor(e){super(e)}}var Lae=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class Fae{constructor(e,n,r){var i,a,s;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const o=Hie(e),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Rie,realtime:Die,auth:Object.assign(Object.assign({},Mie),{storageKey:c}),global:$ie},f=Vie(r??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=f.auth)!==null&&s!==void 0?s:{},this.headers,f.global.fetch),this.fetch=zie(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new rie(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new Nie(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new Ire(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Lae(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:a,flowType:s,lock:o,debug:l},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Dae({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:s,lock:o,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new vie(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Bae=(t,e,n)=>new Fae(t,e,n);function zae(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}zae()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Uae="https://imlbkhgquajmnqgbvgwj.supabase.co",Hae="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImltbGJraGdxdWFqbW5xZ2J2Z3dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM5MDA5NTAsImV4cCI6MjA2OTQ3Njk1MH0.J-baoXJnvpag7bEVSqbqXoAoGhAI7wnOb1osZcQo-Xk",$e=Bae(Uae,Hae,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Fz=S.createContext(void 0),Un=()=>{const t=S.useContext(Fz);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Vae=({children:t})=>{const[e,n]=S.useState(null),[r,i]=S.useState(null),[a,s]=S.useState(!0),{toast:o}=Vt();S.useEffect(()=>{const x=window.location.hash&&(window.location.hash.includes("access_token")||window.location.hash.includes("refresh_token")||window.location.hash.includes("error"));x&&console.log("Handling auth redirect, keeping loading state active...");const{data:{subscription:b}}=$e.auth.onAuthStateChange(async(v,y)=>{var _;console.log("Auth state changed:",v,(_=y==null?void 0:y.user)==null?void 0:_.email),i(y),n((y==null?void 0:y.user)??null),(y||!x)&&s(!1),v==="SIGNED_IN"?y!=null&&y.user&&setTimeout(()=>{l(y.user)},0):v==="SIGNED_OUT"?(localStorage.removeItem("sb-imlbkhgquajmnqgbvgwj-auth-token"),s(!1)):v==="TOKEN_REFRESHED"&&console.log("Token refreshed successfully")});if($e.auth.getSession().then(({data:{session:v}})=>{i(v),n((v==null?void 0:v.user)??null),(v||!x)&&s(!1)}),x){const v=setTimeout(()=>{console.log("Auth redirect timeout reached, forcing loading completion"),s(!1)},5e3);return()=>{b.unsubscribe(),clearTimeout(v)}}return()=>b.unsubscribe()},[]);const l=async x=>{var b,v,y,_,w;try{const{error:E}=await $e.from("profiles").upsert({user_id:x.id,email:x.email,full_name:((b=x.user_metadata)==null?void 0:b.full_name)||((v=x.user_metadata)==null?void 0:v.name),display_name:((y=x.user_metadata)==null?void 0:y.full_name)||((_=x.user_metadata)==null?void 0:_.name),avatar_url:(w=x.user_metadata)==null?void 0:w.avatar_url,updated_at:new Date().toISOString()},{onConflict:"user_id"});E&&E.code!=="23505"&&console.error("Profile creation/update error:",E)}catch(E){console.error("Profile creation/update error:",E)}},g={user:e,session:r,loading:a,signIn:async(x,b)=>{const{data:v,error:y}=await $e.auth.signInWithPassword({email:x,password:b});if(y)throw y.message.includes("Invalid login credentials")?new Error("Invalid email or password. Please check your credentials and try again."):y.message.includes("Email not confirmed")?new Error("Please check your email and click the confirmation link before signing in."):y;v.user&&o({title:"Welcome back!",description:"Successfully signed in to your account."})},signInWithGoogle:async()=>{const x=`${window.location.origin}/admit-ai-nexus/`;console.log("Google Sign-In Redirect URL:",x);const{error:b}=await $e.auth.signInWithOAuth({provider:"google",options:{redirectTo:x,queryParams:{access_type:"offline",prompt:"consent"}}});if(b)throw b},signUp:async(x,b,v)=>{const y=`${window.location.origin}/admit-ai-nexus/`,{error:_,data:w}=await $e.auth.signUp({email:x,password:b,options:{emailRedirectTo:y,data:{full_name:v}}});if(_)throw _.message.includes("User already registered")?new Error("An account with this email already exists. Please sign in instead."):_.message.includes("Password should be")?new Error("Password must be at least 8 characters long."):_;w.user&&!w.user.email_confirmed_at?o({title:"Check your email",description:"We've sent you a confirmation link to verify your account."}):o({title:"Account created!",description:"Welcome to AdmitConnect AI."})},signOut:async()=>{try{await $e.auth.signOut()}catch(x){console.error("Sign out error:",x)}i(null),n(null),localStorage.removeItem("sb-imlbkhgquajmnqgbvgwj-auth-token"),o({title:"Signed out",description:"You have been successfully signed out."})},resetPassword:async x=>{const{error:b}=await $e.auth.resetPasswordForEmail(x,{redirectTo:`${window.location.origin}/admit-ai-nexus/reset-password`});if(b)throw b},updatePassword:async x=>{const{error:b}=await $e.auth.updateUser({password:x});if(b)throw b;o({title:"Password updated",description:"Your password has been successfully updated."})}};return u.jsx(Fz.Provider,{value:g,children:t})},M_=({children:t})=>{const{user:e,loading:n}=Un();return n?u.jsx("div",{className:"min-h-screen bg-ai-gradient-subtle flex items-center justify-center",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-primary/30 border-t-primary rounded-full animate-spin mx-auto"}),u.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):e?u.jsx(u.Fragment,{children:t}):u.jsx(MJ,{to:"/auth",replace:!0})},Wae={"llama-3.1-8b-instant":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"mistral-saba-24b":{maxInputTokens:32768,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama3-8b-8192":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"qwen-qwq-32b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama3-70b-8192":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"deepseek-r1-distill-llama-70b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama-guard-3-8b":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!1},"gemma2-9b-it":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama-3.3-70b-versatile":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"moonshotai/kimi-k2-instruct-0905":{maxInputTokens:262144,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"moonshotai/kimi-k2-instruct":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"openai/gpt-oss-20b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"openai/gpt-oss-120b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"qwen/qwen3-32b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"meta-llama/llama-4-scout-17b-16e-instruct":{maxInputTokens:131072,imageInputs:!0,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"meta-llama/llama-4-maverick-17b-128e-instruct":{maxInputTokens:131072,imageInputs:!0,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"meta-llama/llama-guard-4-12b":{maxInputTokens:131072,imageInputs:!0,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:128,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!1}};var qae=Wae,Gae=Object.defineProperty,bt=(t,e)=>{for(var n in e)Gae(t,n,{get:e[n],enumerable:!0})};function Lf(t,e,n){function r(o,l){if(o._zod||Object.defineProperty(o,"_zod",{value:{def:l,constr:s,traits:new Set},enumerable:!1}),o._zod.traits.has(t))return;o._zod.traits.add(t),e(o,l);const c=s.prototype,d=Object.keys(c);for(let f=0;f<d.length;f++){const h=d[f];h in o||(o[h]=c[h].bind(o))}}const i=(n==null?void 0:n.Parent)??Object;class a extends i{}Object.defineProperty(a,"name",{value:t});function s(o){var l;const c=n!=null&&n.Parent?new a:this;r(c,o),(l=c._zod).deferred??(l.deferred=[]);for(const d of c._zod.deferred)d();return c}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:o=>{var l,c;return n!=null&&n.Parent&&o instanceof n.Parent?!0:(c=(l=o==null?void 0:o._zod)==null?void 0:l.traits)==null?void 0:c.has(t)}}),Object.defineProperty(s,"name",{value:t}),s}class cp extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const Kae={};function pb(t){return Kae}function Yae(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,i])=>e.indexOf(+r)===-1).map(([r,i])=>i)}function Xae(t,e){return typeof e=="bigint"?e.toString():e}function Zae(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}const o2=Symbol("evaluating");function l2(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==o2)return r===void 0&&(r=o2,r=n()),r},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function Bz(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function zz(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}const Uz="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function c2(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function Jae(t){if(c2(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(c2(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function eo(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n!=null&&n.parent)&&(r._zod.parent=t),r}function Qae(t){return{}}function ese(t,e){if(!Jae(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=zz(t._zod.def,{get shape(){const a={...t._zod.def.shape,...e};return Bz(this,"shape",a),a},checks:[]});return eo(t,i)}function tse(t,e,n){const r=zz(e._zod.def,{get shape(){const i=e._zod.def.shape,a={...i};for(const s in i)a[s]=t?new t({type:"optional",innerType:i[s]}):i[s];return Bz(this,"shape",a),a},checks:[]});return eo(e,r)}function cy(t,e=0){var n;if(t.aborted===!0)return!0;for(let r=e;r<t.issues.length;r++)if(((n=t.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function uy(t){return typeof t=="string"?t:t==null?void 0:t.message}function mb(t,e,n){var i,a,s,o,l,c;const r={...t,path:t.path??[]};if(!t.message){const d=uy((s=(a=(i=t.inst)==null?void 0:i._zod.def)==null?void 0:a.error)==null?void 0:s.call(a,t))??uy((o=e==null?void 0:e.error)==null?void 0:o.call(e,t))??uy((l=n.customError)==null?void 0:l.call(n,t))??uy((c=n.localeError)==null?void 0:c.call(n,t))??"Invalid input";r.message=d}return delete r.inst,delete r.continue,e!=null&&e.reportInput||delete r.input,r}const Hz=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Xae,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},nse=Lf("$ZodError",Hz),gb=Lf("$ZodError",Hz,{Parent:Error}),rse=t=>(e,n,r,i)=>{const a=r?Object.assign(r,{async:!1}):{async:!1},s=e._zod.run({value:n,issues:[]},a);if(s instanceof Promise)throw new cp;if(s.issues.length){const o=new((i==null?void 0:i.Err)??t)(s.issues.map(l=>mb(l,a,pb())));throw Uz(o,i==null?void 0:i.callee),o}return s.value},Yk=rse(gb),ise=t=>async(e,n,r,i)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let s=e._zod.run({value:n,issues:[]},a);if(s instanceof Promise&&(s=await s),s.issues.length){const o=new((i==null?void 0:i.Err)??t)(s.issues.map(l=>mb(l,a,pb())));throw Uz(o,i==null?void 0:i.callee),o}return s.value},Vz=ise(gb),ase=t=>(e,n,r)=>{const i=r?{...r,async:!1}:{async:!1},a=e._zod.run({value:n,issues:[]},i);if(a instanceof Promise)throw new cp;return a.issues.length?{success:!1,error:new(t??nse)(a.issues.map(s=>mb(s,i,pb())))}:{success:!0,data:a.value}},sse=ase(gb),ose=t=>async(e,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let a=e._zod.run({value:n,issues:[]},i);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new t(a.issues.map(s=>mb(s,i,pb())))}:{success:!0,data:a.value}},lse=ose(gb),cse={major:4,minor:1,patch:13},Xk=Lf("$ZodType",(t,e)=>{var i;var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=cse;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const a of r)for(const s of a._zod.onattach)s(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),(i=t._zod.deferred)==null||i.push(()=>{t._zod.run=t._zod.parse});else{const a=(o,l,c)=>{let d=cy(o),f;for(const h of l){if(h._zod.def.when){if(!h._zod.def.when(o))continue}else if(d)continue;const p=o.issues.length,m=h._zod.check(o);if(m instanceof Promise&&(c==null?void 0:c.async)===!1)throw new cp;if(f||m instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await m,o.issues.length!==p&&(d||(d=cy(o,p)))});else{if(o.issues.length===p)continue;d||(d=cy(o,p))}}return f?f.then(()=>o):o},s=(o,l,c)=>{if(cy(o))return o.aborted=!0,o;const d=a(l,r,c);if(d instanceof Promise){if(c.async===!1)throw new cp;return d.then(f=>t._zod.parse(f,c))}return t._zod.parse(d,c)};t._zod.run=(o,l)=>{if(l.skipChecks)return t._zod.parse(o,l);if(l.direction==="backward"){const d=t._zod.parse({value:o.value,issues:[]},{...l,skipChecks:!0});return d instanceof Promise?d.then(f=>s(f,o,l)):s(d,o,l)}const c=t._zod.parse(o,l);if(c instanceof Promise){if(l.async===!1)throw new cp;return c.then(d=>a(d,r,l))}return a(c,r,l)}}t["~standard"]={validate:a=>{var s;try{const o=sse(t,a);return o.success?{value:o.data}:{issues:(s=o.error)==null?void 0:s.issues}}catch{return lse(t,a).then(l=>{var c;return l.success?{value:l.data}:{issues:(c=l.error)==null?void 0:c.issues}})}},vendor:"zod",version:1}}),use=Lf("$ZodUnknown",(t,e)=>{Xk.init(t,e),t._zod.parse=n=>n}),dse=Lf("$ZodNever",(t,e)=>{Xk.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function u2(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const Wz=Lf("$ZodOptional",(t,e)=>{Xk.init(t,e),t._zod.optin="optional",t._zod.optout="optional",l2(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),l2(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Zae(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(a=>u2(a,n.value)):u2(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}});var d2;class qz{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function fse(){return new qz}(d2=globalThis).__zod_globalRegistry??(d2.__zod_globalRegistry=fse());const kr=globalThis.__zod_globalRegistry;function hse(t){return new t({type:"unknown"})}function pse(t,e){return new t({type:"never",...Qae()})}class f2{constructor(e){this.counter=0,this.metadataRegistry=(e==null?void 0:e.metadata)??kr,this.target=(e==null?void 0:e.target)??"draft-2020-12",this.unrepresentable=(e==null?void 0:e.unrepresentable)??"throw",this.override=(e==null?void 0:e.override)??(()=>{}),this.io=(e==null?void 0:e.io)??"output",this.seen=new Map}process(e,n={path:[],schemaPath:[]}){var f,h,p;var r;const i=e._zod.def,a={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},s=this.seen.get(e);if(s)return s.count++,n.schemaPath.includes(e)&&(s.cycle=n.path),s.schema;const o={schema:{},count:1,cycle:void 0,path:n.path};this.seen.set(e,o);const l=(h=(f=e._zod).toJSONSchema)==null?void 0:h.call(f);if(l)o.schema=l;else{const m={...n,schemaPath:[...n.schemaPath,e],path:n.path},g=e._zod.parent;if(g)o.ref=g,this.process(g,m),this.seen.get(g).isParent=!0;else{const x=o.schema;switch(i.type){case"string":{const b=x;b.type="string";const{minimum:v,maximum:y,format:_,patterns:w,contentEncoding:E}=e._zod.bag;if(typeof v=="number"&&(b.minLength=v),typeof y=="number"&&(b.maxLength=y),_&&(b.format=a[_]??_,b.format===""&&delete b.format),E&&(b.contentEncoding=E),w&&w.size>0){const A=[...w];A.length===1?b.pattern=A[0].source:A.length>1&&(o.schema.allOf=[...A.map(j=>({...this.target==="draft-7"||this.target==="draft-4"||this.target==="openapi-3.0"?{type:"string"}:{},pattern:j.source}))])}break}case"number":{const b=x,{minimum:v,maximum:y,format:_,multipleOf:w,exclusiveMaximum:E,exclusiveMinimum:A}=e._zod.bag;typeof _=="string"&&_.includes("int")?b.type="integer":b.type="number",typeof A=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(b.minimum=A,b.exclusiveMinimum=!0):b.exclusiveMinimum=A),typeof v=="number"&&(b.minimum=v,typeof A=="number"&&this.target!=="draft-4"&&(A>=v?delete b.minimum:delete b.exclusiveMinimum)),typeof E=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(b.maximum=E,b.exclusiveMaximum=!0):b.exclusiveMaximum=E),typeof y=="number"&&(b.maximum=y,typeof E=="number"&&this.target!=="draft-4"&&(E<=y?delete b.maximum:delete b.exclusiveMaximum)),typeof w=="number"&&(b.multipleOf=w);break}case"boolean":{const b=x;b.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{this.target==="openapi-3.0"?(x.type="string",x.nullable=!0,x.enum=[null]):x.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{x.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{const b=x,{minimum:v,maximum:y}=e._zod.bag;typeof v=="number"&&(b.minItems=v),typeof y=="number"&&(b.maxItems=y),b.type="array",b.items=this.process(i.element,{...m,path:[...m.path,"items"]});break}case"object":{const b=x;b.type="object",b.properties={};const v=i.shape;for(const w in v)b.properties[w]=this.process(v[w],{...m,path:[...m.path,"properties",w]});const y=new Set(Object.keys(v)),_=new Set([...y].filter(w=>{const E=i.shape[w]._zod;return this.io==="input"?E.optin===void 0:E.optout===void 0}));_.size>0&&(b.required=Array.from(_)),((p=i.catchall)==null?void 0:p._zod.def.type)==="never"?b.additionalProperties=!1:i.catchall?i.catchall&&(b.additionalProperties=this.process(i.catchall,{...m,path:[...m.path,"additionalProperties"]})):this.io==="output"&&(b.additionalProperties=!1);break}case"union":{const b=x,v=i.discriminator!==void 0,y=i.options.map((_,w)=>this.process(_,{...m,path:[...m.path,v?"oneOf":"anyOf",w]}));v?b.oneOf=y:b.anyOf=y;break}case"intersection":{const b=x,v=this.process(i.left,{...m,path:[...m.path,"allOf",0]}),y=this.process(i.right,{...m,path:[...m.path,"allOf",1]}),_=E=>"allOf"in E&&Object.keys(E).length===1,w=[..._(v)?v.allOf:[v],..._(y)?y.allOf:[y]];b.allOf=w;break}case"tuple":{const b=x;b.type="array";const v=this.target==="draft-2020-12"?"prefixItems":"items",y=this.target==="draft-2020-12"||this.target==="openapi-3.0"?"items":"additionalItems",_=i.items.map((j,T)=>this.process(j,{...m,path:[...m.path,v,T]})),w=i.rest?this.process(i.rest,{...m,path:[...m.path,y,...this.target==="openapi-3.0"?[i.items.length]:[]]}):null;this.target==="draft-2020-12"?(b.prefixItems=_,w&&(b.items=w)):this.target==="openapi-3.0"?(b.items={anyOf:_},w&&b.items.anyOf.push(w),b.minItems=_.length,w||(b.maxItems=_.length)):(b.items=_,w&&(b.additionalItems=w));const{minimum:E,maximum:A}=e._zod.bag;typeof E=="number"&&(b.minItems=E),typeof A=="number"&&(b.maxItems=A);break}case"record":{const b=x;b.type="object",(this.target==="draft-7"||this.target==="draft-2020-12")&&(b.propertyNames=this.process(i.keyType,{...m,path:[...m.path,"propertyNames"]})),b.additionalProperties=this.process(i.valueType,{...m,path:[...m.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{const b=x,v=Yae(i.entries);v.every(y=>typeof y=="number")&&(b.type="number"),v.every(y=>typeof y=="string")&&(b.type="string"),b.enum=v;break}case"literal":{const b=x,v=[];for(const y of i.values)if(y===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof y=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");v.push(Number(y))}else v.push(y);if(v.length!==0)if(v.length===1){const y=v[0];b.type=y===null?"null":typeof y,this.target==="draft-4"||this.target==="openapi-3.0"?b.enum=[y]:b.const=y}else v.every(y=>typeof y=="number")&&(b.type="number"),v.every(y=>typeof y=="string")&&(b.type="string"),v.every(y=>typeof y=="boolean")&&(b.type="string"),v.every(y=>y===null)&&(b.type="null"),b.enum=v;break}case"file":{const b=x,v={type:"string",format:"binary",contentEncoding:"binary"},{minimum:y,maximum:_,mime:w}=e._zod.bag;y!==void 0&&(v.minLength=y),_!==void 0&&(v.maxLength=_),w?w.length===1?(v.contentMediaType=w[0],Object.assign(b,v)):b.anyOf=w.map(E=>({...v,contentMediaType:E})):Object.assign(b,v);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{const b=this.process(i.innerType,m);this.target==="openapi-3.0"?(o.ref=i.innerType,x.nullable=!0):x.anyOf=[b,{type:"null"}];break}case"nonoptional":{this.process(i.innerType,m),o.ref=i.innerType;break}case"success":{const b=x;b.type="boolean";break}case"default":{this.process(i.innerType,m),o.ref=i.innerType,x.default=JSON.parse(JSON.stringify(i.defaultValue));break}case"prefault":{this.process(i.innerType,m),o.ref=i.innerType,this.io==="input"&&(x._prefault=JSON.parse(JSON.stringify(i.defaultValue)));break}case"catch":{this.process(i.innerType,m),o.ref=i.innerType;let b;try{b=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}x.default=b;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{const b=x,v=e._zod.pattern;if(!v)throw new Error("Pattern not found in template literal");b.type="string",b.pattern=v.source;break}case"pipe":{const b=this.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;this.process(b,m),o.ref=b;break}case"readonly":{this.process(i.innerType,m),o.ref=i.innerType,x.readOnly=!0;break}case"promise":{this.process(i.innerType,m),o.ref=i.innerType;break}case"optional":{this.process(i.innerType,m),o.ref=i.innerType;break}case"lazy":{const b=e._zod.innerType;this.process(b,m),o.ref=b;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}case"function":{if(this.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema");break}}}}const c=this.metadataRegistry.get(e);return c&&Object.assign(o.schema,c),this.io==="input"&&ar(e)&&(delete o.schema.examples,delete o.schema.default),this.io==="input"&&o.schema._prefault&&((r=o.schema).default??(r.default=o.schema._prefault)),delete o.schema._prefault,this.seen.get(e).schema}emit(e,n){var d,f,h,p,m,g;const r={cycles:(n==null?void 0:n.cycles)??"ref",reused:(n==null?void 0:n.reused)??"inline",external:(n==null?void 0:n.external)??void 0},i=this.seen.get(e);if(!i)throw new Error("Unprocessed schema. This is a bug in Zod.");const a=x=>{var w;const b=this.target==="draft-2020-12"?"$defs":"definitions";if(r.external){const E=(w=r.external.registry.get(x[0]))==null?void 0:w.id,A=r.external.uri??(T=>T);if(E)return{ref:A(E)};const j=x[1].defId??x[1].schema.id??`schema${this.counter++}`;return x[1].defId=j,{defId:j,ref:`${A("__shared")}#/${b}/${j}`}}if(x[1]===i)return{ref:"#"};const y=`#/${b}/`,_=x[1].schema.id??`__schema${this.counter++}`;return{defId:_,ref:y+_}},s=x=>{if(x[1].schema.$ref)return;const b=x[1],{ref:v,defId:y}=a(x);b.def={...b.schema},y&&(b.defId=y);const _=b.schema;for(const w in _)delete _[w];_.$ref=v};if(r.cycles==="throw")for(const x of this.seen.entries()){const b=x[1];if(b.cycle)throw new Error(`Cycle detected: #/${(d=b.cycle)==null?void 0:d.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const x of this.seen.entries()){const b=x[1];if(e===x[0]){s(x);continue}if(r.external){const y=(f=r.external.registry.get(x[0]))==null?void 0:f.id;if(e!==x[0]&&y){s(x);continue}}if((h=this.metadataRegistry.get(x[0]))==null?void 0:h.id){s(x);continue}if(b.cycle){s(x);continue}if(b.count>1&&r.reused==="ref"){s(x);continue}}const o=(x,b)=>{const v=this.seen.get(x),y=v.def??v.schema,_={...y};if(v.ref===null)return;const w=v.ref;if(v.ref=null,w){o(w,b);const E=this.seen.get(w).schema;E.$ref&&(b.target==="draft-7"||b.target==="draft-4"||b.target==="openapi-3.0")?(y.allOf=y.allOf??[],y.allOf.push(E)):(Object.assign(y,E),Object.assign(y,_))}v.isParent||this.override({zodSchema:x,jsonSchema:y,path:v.path??[]})};for(const x of[...this.seen.entries()].reverse())o(x[0],{target:this.target});const l={};if(this.target==="draft-2020-12"?l.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?l.$schema="http://json-schema.org/draft-07/schema#":this.target==="draft-4"?l.$schema="http://json-schema.org/draft-04/schema#":this.target==="openapi-3.0"||console.warn(`Invalid target: ${this.target}`),(p=r.external)!=null&&p.uri){const x=(m=r.external.registry.get(e))==null?void 0:m.id;if(!x)throw new Error("Schema is missing an `id` property");l.$id=r.external.uri(x)}Object.assign(l,i.def);const c=((g=r.external)==null?void 0:g.defs)??{};for(const x of this.seen.entries()){const b=x[1];b.def&&b.defId&&(c[b.defId]=b.def)}r.external||Object.keys(c).length>0&&(this.target==="draft-2020-12"?l.$defs=c:l.definitions=c);try{return JSON.parse(JSON.stringify(l))}catch{throw new Error("Error converting schema to JSON.")}}}function h2(t,e){if(t instanceof qz){const r=new f2(e),i={};for(const o of t._idmap.entries()){const[l,c]=o;r.process(c)}const a={},s={registry:t,uri:e==null?void 0:e.uri,defs:i};for(const o of t._idmap.entries()){const[l,c]=o;a[l]=r.emit(c,{...e,external:s})}if(Object.keys(i).length>0){const o=r.target==="draft-2020-12"?"$defs":"definitions";a.__shared={[o]:i}}return{schemas:a}}const n=new f2(e);return n.process(t),n.emit(t,e)}function ar(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return ar(r.element,n);if(r.type==="set")return ar(r.valueType,n);if(r.type==="lazy")return ar(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return ar(r.innerType,n);if(r.type==="intersection")return ar(r.left,n)||ar(r.right,n);if(r.type==="record"||r.type==="map")return ar(r.keyType,n)||ar(r.valueType,n);if(r.type==="pipe")return ar(r.in,n)||ar(r.out,n);if(r.type==="object"){for(const i in r.shape)if(ar(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(ar(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(ar(i,n))return!0;return!!(r.rest&&ar(r.rest,n))}return!1}function pn(t){if(typeof t!="object"||t===null)return!1;const e=t;if(!("_zod"in e))return!1;const n=e._zod;return typeof n=="object"&&n!==null&&"def"in n}function Tn(t){if(typeof t!="object"||t===null)return!1;const e=t;if(!("_def"in e)||"_zod"in e)return!1;const n=e._def;return typeof n=="object"&&n!=null&&"typeName"in n}function mse(t){return pn(t)&&console.warn("[WARNING] Attempting to use Zod 4 schema in a context where Zod 3 schema is expected. This may cause unexpected behavior."),Tn(t)}function Dc(t){return!t||typeof t!="object"||Array.isArray(t)?!1:!!(pn(t)||Tn(t))}function Gz(t){return typeof t=="object"&&t!==null&&"_def"in t&&typeof t._def=="object"&&t._def!==null&&"typeName"in t._def&&t._def.typeName==="ZodLiteral"}function Kz(t){return pn(t)?typeof t=="object"&&t!==null&&"_zod"in t&&typeof t._zod=="object"&&t._zod!==null&&"def"in t._zod&&typeof t._zod.def=="object"&&t._zod.def!==null&&"type"in t._zod.def&&t._zod.def.type==="literal":!1}function gse(t){return!!(Gz(t)||Kz(t))}async function Yz(t,e){if(pn(t))try{return{success:!0,data:await Vz(t,e)}}catch(n){return{success:!1,error:n}}if(Tn(t))return await t.safeParseAsync(e);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}async function Zk(t,e){if(pn(t))return await Vz(t,e);if(Tn(t))return await t.parseAsync(e);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function yse(t,e){if(pn(t))try{return{success:!0,data:Yk(t,e)}}catch(n){return{success:!1,error:n}}if(Tn(t))return t.safeParse(e);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function vse(t,e){if(pn(t))return Yk(t,e);if(Tn(t))return t.parse(e);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function Jk(t){var e;if(pn(t))return(e=kr.get(t))==null?void 0:e.description;if(Tn(t)||"description"in t&&typeof t.description=="string")return t.description}function xse(t){if(!Dc(t))return!1;if(Tn(t)){const e=t._def;if(e.typeName==="ZodObject"){const n=t;return!n.shape||Object.keys(n.shape).length===0}if(e.typeName==="ZodRecord")return!0}if(pn(t)){const e=t._zod.def;if(e.type==="object"){const n=t;return!n.shape||Object.keys(n.shape).length===0}if(e.type==="record")return!0}return typeof t=="object"&&t!==null&&!("shape"in t)}function Xz(t){return Dc(t)?Tn(t)?t._def.typeName==="ZodString":pn(t)?t._zod.def.type==="string":!1:!1}function Qk(t){return typeof t=="object"&&t!==null&&"_def"in t&&typeof t._def=="object"&&t._def!==null&&"typeName"in t._def&&t._def.typeName==="ZodObject"}function ns(t){return pn(t)?typeof t=="object"&&t!==null&&"_zod"in t&&typeof t._zod=="object"&&t._zod!==null&&"def"in t._zod&&typeof t._zod.def=="object"&&t._zod.def!==null&&"type"in t._zod.def&&t._zod.def.type==="object":!1}function yb(t){return pn(t)?typeof t=="object"&&t!==null&&"_zod"in t&&typeof t._zod=="object"&&t._zod!==null&&"def"in t._zod&&typeof t._zod.def=="object"&&t._zod.def!==null&&"type"in t._zod.def&&t._zod.def.type==="array":!1}function bse(t){return!!(Qk(t)||ns(t))}function $E(t){if(Tn(t))return t.shape;if(pn(t))return t._zod.def.shape;throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function wse(t,e){if(Tn(t))return t.extend(e);if(pn(t))return ese(t,e);throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function _se(t){if(Tn(t))return t.partial();if(pn(t))return tse(Wz,t);throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function t0(t,e=!1){if(Tn(t))return t.strict();if(ns(t)){const n=t._zod.def.shape;if(e)for(const[a,s]of Object.entries(t._zod.def.shape)){if(ns(s)){const l=t0(s,e);n[a]=l}else if(yb(s)){let l=s._zod.def.element;ns(l)&&(l=t0(l,e)),n[a]=eo(s,{...s._zod.def,element:l})}else n[a]=s;const o=kr.get(s);o&&kr.add(n[a],o)}const r=eo(t,{...t._zod.def,shape:n,catchall:pse(dse)}),i=kr.get(t);return i&&kr.add(r,i),r}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function RE(t,e=!1){if(Qk(t))return t.passthrough();if(ns(t)){const n=t._zod.def.shape;if(e)for(const[a,s]of Object.entries(t._zod.def.shape)){if(ns(s)){const l=RE(s,e);n[a]=l}else if(yb(s)){let l=s._zod.def.element;ns(l)&&(l=RE(l,e)),n[a]=eo(s,{...s._zod.def,element:l})}else n[a]=s;const o=kr.get(s);o&&kr.add(n[a],o)}const r=eo(t,{...t._zod.def,shape:n,catchall:hse(use)}),i=kr.get(t);return i&&kr.add(r,i),r}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function Sse(t){if(Tn(t))try{const e=t.parse(void 0);return()=>e}catch{return}if(pn(t))try{const e=Yk(t,void 0);return()=>e}catch{return}}function Ese(t){return Tn(t)&&"typeName"in t._def&&t._def.typeName==="ZodEffects"}function jse(t){return pn(t)&&t._zod.def.type==="pipe"}function Lh(t,e,n){const r=n.get(t);if(r!==void 0)return r;if(Tn(t))return Ese(t)?Lh(t._def.schema,e,n):t;if(pn(t)){let i=t;if(jse(t)&&(i=Lh(t._zod.def.in,e,n)),e){if(ns(i)){const s=i._zod.def.shape;for(const[o,l]of Object.entries(i._zod.def.shape))s[o]=Lh(l,e,n);i=eo(i,{...i._zod.def,shape:s})}else if(yb(i)){const s=Lh(i._zod.def.element,e,n);i=eo(i,{...i._zod.def,element:s})}}const a=kr.get(t);return a&&kr.add(i,a),n.set(t,i),i}throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function Zz(t,e=!1){return Lh(t,e,new WeakMap)}function Ase(t,e){if(Tn(t)){const n=$E(t),r={};for(const[i,a]of Object.entries(n))e(i,a)?r[i]=a.optional():r[i]=a;return t.extend(r)}if(pn(t)){const n=$E(t),r={...t._zod.def.shape};for(const[s,o]of Object.entries(n))e(s,o)&&(r[s]=new Wz({type:"optional",innerType:o}));const i=eo(t,{...t._zod.def,shape:r}),a=kr.get(t);return a&&kr.add(i,a),i}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function Tse(t){return t instanceof Error&&(t.constructor.name==="ZodError"||t.constructor.name==="$ZodError")}const kse=Symbol("Let zodToJsonSchema decide on which parser to use"),Cse={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},Ose=t=>({...Cse,...t}),Nse=t=>{const e=Ose(t),n=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,flags:{hasReferencedOpenAiAnyType:!1},currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([r,i])=>[i._def,{def:i._def,path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))}},Jz=(t,e)=>{let n=0;for(;n<t.length&&n<e.length&&t[n]===e[n];n++);return[(t.length-n).toString(),...e.slice(n)].join("/")};function ui(t){if(t.target!=="openAi")return{};const e=[...t.basePath,t.definitionPath,t.openAiAnyTypeName];return t.flags.hasReferencedOpenAiAnyType=!0,{$ref:t.$refStrategy==="relative"?Jz(e,t.currentPath):e.join("/")}}function Qz(t,e,n,r){r!=null&&r.errorMessages&&n&&(t.errorMessage={...t.errorMessage,[e]:n})}function wt(t,e,n,r,i){t[e]=n,Qz(t,e,r,i)}var ft;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},t.find=(i,a)=>{for(const s of i)if(a(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(ft||(ft={}));var p2;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(p2||(p2={}));const ke=ft.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),No=t=>{switch(typeof t){case"undefined":return ke.undefined;case"string":return ke.string;case"number":return Number.isNaN(t)?ke.nan:ke.number;case"boolean":return ke.boolean;case"function":return ke.function;case"bigint":return ke.bigint;case"symbol":return ke.symbol;case"object":return Array.isArray(t)?ke.array:t===null?ke.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ke.promise:typeof Map<"u"&&t instanceof Map?ke.map:typeof Set<"u"&&t instanceof Set?ke.set:typeof Date<"u"&&t instanceof Date?ke.date:ke.object;default:return ke.unknown}},fe=ft.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class to extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let o=r,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(n(s))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof to))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ft.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n=Object.create(null),r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];n[a]=n[a]||[],n[a].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}to.create=t=>new to(t);const ME=(t,e)=>{let n;switch(t.code){case fe.invalid_type:t.received===ke.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case fe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ft.jsonStringifyReplacer)}`;break;case fe.unrecognized_keys:n=`Unrecognized key(s) in object: ${ft.joinValues(t.keys,", ")}`;break;case fe.invalid_union:n="Invalid input";break;case fe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ft.joinValues(t.options)}`;break;case fe.invalid_enum_value:n=`Invalid enum value. Expected ${ft.joinValues(t.options)}, received '${t.received}'`;break;case fe.invalid_arguments:n="Invalid function arguments";break;case fe.invalid_return_type:n="Invalid function return type";break;case fe.invalid_date:n="Invalid date";break;case fe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ft.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case fe.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case fe.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case fe.custom:n="Invalid input";break;case fe.invalid_intersection_types:n="Intersection results could not be merged";break;case fe.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case fe.not_finite:n="Number must be finite";break;default:n=e.defaultError,ft.assertNever(t)}return{message:n}};let Pse=ME;function Ise(){return Pse}const $se=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)o=c(s,{data:e,defaultError:o}).message;return{...i,path:a,message:o}};function be(t,e){const n=Ise(),r=$se({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===ME?void 0:ME].filter(i=>!!i)});t.common.issues.push(r)}class di{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return qe;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,s=await i.value;r.push({key:a,value:s})}return di.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return qe;a.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[a.value]=s.value)}return{status:e.value,value:r}}}const qe=Object.freeze({status:"aborted"}),Fh=t=>({status:"dirty",value:t}),Li=t=>({status:"valid",value:t}),m2=t=>t.status==="aborted",g2=t=>t.status==="dirty",Hd=t=>t.status==="valid",n0=t=>typeof Promise<"u"&&t instanceof Promise;var Ne;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ne||(Ne={}));class xl{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const y2=(t,e)=>{if(Hd(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new to(t.common.issues);return this._error=n,this._error}}};function rt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,o)=>{const{message:l}=t;return s.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??r??o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:l??n??o.defaultError}},description:i}}class dt{get description(){return this._def.description}_getType(e){return No(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:No(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new di,ctx:{common:e.parent.common,data:e.data,parsedType:No(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(n0(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:No(e)},i=this._parseSync({data:e,path:r.path,parent:r});return y2(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:No(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return Hd(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>Hd(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:No(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(n0(i)?i:Promise.resolve(i));return y2(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const s=e(i),o=()=>a.addIssue({code:fe.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Wd({schema:this,typeName:he.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return al.create(this,this._def)}nullable(){return qd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return rs.create(this)}promise(){return s0.create(this,this._def)}or(e){return i0.create([this,e],this._def)}and(e){return a0.create(this,e,this._def)}transform(e){return new Wd({...rt(this._def),schema:this,typeName:he.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new FE({...rt(this._def),innerType:this,defaultValue:n,typeName:he.ZodDefault})}brand(){return new roe({typeName:he.ZodBranded,type:this,...rt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new BE({...rt(this._def),innerType:this,catchValue:n,typeName:he.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return eC.create(this,e)}readonly(){return zE.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Rse=/^c[^\s-]{8,}$/i,Mse=/^[0-9a-z]+$/,Dse=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Lse=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Fse=/^[a-z0-9_-]{21}$/i,Bse=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,zse=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Use=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Hse="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let D_;const Vse=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Wse=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,qse=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Gse=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Kse=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Yse=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,eU="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Xse=new RegExp(`^${eU}$`);function tU(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function Zse(t){return new RegExp(`^${tU(t)}$`)}function Jse(t){let e=`${eU}T${tU(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Qse(t,e){return!!((e==="v4"||!e)&&Vse.test(t)||(e==="v6"||!e)&&qse.test(t))}function eoe(t,e){if(!Bse.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function toe(t,e){return!!((e==="v4"||!e)&&Wse.test(t)||(e==="v6"||!e)&&Gse.test(t))}class Wo extends dt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ke.string){const a=this._getOrReturnCtx(e);return be(a,{code:fe.invalid_type,expected:ke.string,received:a.parsedType}),qe}const r=new di;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),be(i,{code:fe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),be(i,{code:fe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const s=e.data.length>a.value,o=e.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(e,i),s?be(i,{code:fe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&be(i,{code:fe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")Use.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"email",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")D_||(D_=new RegExp(Hse,"u")),D_.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"emoji",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")Lse.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"uuid",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")Fse.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"nanoid",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")Rse.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"cuid",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")Mse.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"cuid2",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")Dse.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"ulid",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),be(i,{validation:"url",code:fe.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"regex",code:fe.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),be(i,{code:fe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),be(i,{code:fe.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),be(i,{code:fe.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?Jse(a).test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{code:fe.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?Xse.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{code:fe.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?Zse(a).test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{code:fe.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?zse.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"duration",code:fe.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?Qse(e.data,a.version)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"ip",code:fe.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?eoe(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"jwt",code:fe.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?toe(e.data,a.version)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"cidr",code:fe.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?Kse.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"base64",code:fe.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?Yse.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"base64url",code:fe.invalid_string,message:a.message}),r.dirty()):ft.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:fe.invalid_string,...Ne.errToObj(r)})}_addCheck(e){return new Wo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ne.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ne.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ne.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ne.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ne.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ne.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ne.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ne.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ne.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ne.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ne.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ne.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ne.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Ne.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ne.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ne.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ne.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Ne.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ne.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ne.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ne.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ne.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ne.errToObj(n)})}nonempty(e){return this.min(1,Ne.errToObj(e))}trim(){return new Wo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Wo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Wo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Wo.create=t=>new Wo({checks:[],typeName:he.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...rt(t)});function noe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=Number.parseInt(t.toFixed(i).replace(".","")),s=Number.parseInt(e.toFixed(i).replace(".",""));return a%s/10**i}class em extends dt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ke.number){const a=this._getOrReturnCtx(e);return be(a,{code:fe.invalid_type,expected:ke.number,received:a.parsedType}),qe}let r;const i=new di;for(const a of this._def.checks)a.kind==="int"?ft.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),be(r,{code:fe.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),be(r,{code:fe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),be(r,{code:fe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?noe(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),be(r,{code:fe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),be(r,{code:fe.not_finite,message:a.message}),i.dirty()):ft.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ne.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ne.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ne.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ne.toString(n))}setLimit(e,n,r,i){return new em({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ne.toString(i)}]})}_addCheck(e){return new em({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ne.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ne.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ne.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ne.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ne.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ne.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ne.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ne.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ne.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ft.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}em.create=t=>new em({checks:[],typeName:he.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...rt(t)});class tm extends dt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ke.bigint)return this._getInvalidInput(e);let r;const i=new di;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),be(r,{code:fe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),be(r,{code:fe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),be(r,{code:fe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):ft.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return be(n,{code:fe.invalid_type,expected:ke.bigint,received:n.parsedType}),qe}gte(e,n){return this.setLimit("min",e,!0,Ne.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ne.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ne.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ne.toString(n))}setLimit(e,n,r,i){return new tm({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ne.toString(i)}]})}_addCheck(e){return new tm({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ne.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ne.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ne.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ne.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ne.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}tm.create=t=>new tm({checks:[],typeName:he.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...rt(t)});class v2 extends dt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ke.boolean){const r=this._getOrReturnCtx(e);return be(r,{code:fe.invalid_type,expected:ke.boolean,received:r.parsedType}),qe}return Li(e.data)}}v2.create=t=>new v2({typeName:he.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...rt(t)});class r0 extends dt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ke.date){const a=this._getOrReturnCtx(e);return be(a,{code:fe.invalid_type,expected:ke.date,received:a.parsedType}),qe}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return be(a,{code:fe.invalid_date}),qe}const r=new di;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),be(i,{code:fe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),be(i,{code:fe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):ft.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new r0({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ne.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ne.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}r0.create=t=>new r0({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:he.ZodDate,...rt(t)});class x2 extends dt{_parse(e){if(this._getType(e)!==ke.symbol){const r=this._getOrReturnCtx(e);return be(r,{code:fe.invalid_type,expected:ke.symbol,received:r.parsedType}),qe}return Li(e.data)}}x2.create=t=>new x2({typeName:he.ZodSymbol,...rt(t)});class b2 extends dt{_parse(e){if(this._getType(e)!==ke.undefined){const r=this._getOrReturnCtx(e);return be(r,{code:fe.invalid_type,expected:ke.undefined,received:r.parsedType}),qe}return Li(e.data)}}b2.create=t=>new b2({typeName:he.ZodUndefined,...rt(t)});class w2 extends dt{_parse(e){if(this._getType(e)!==ke.null){const r=this._getOrReturnCtx(e);return be(r,{code:fe.invalid_type,expected:ke.null,received:r.parsedType}),qe}return Li(e.data)}}w2.create=t=>new w2({typeName:he.ZodNull,...rt(t)});class DE extends dt{constructor(){super(...arguments),this._any=!0}_parse(e){return Li(e.data)}}DE.create=t=>new DE({typeName:he.ZodAny,...rt(t)});class _2 extends dt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Li(e.data)}}_2.create=t=>new _2({typeName:he.ZodUnknown,...rt(t)});class bl extends dt{_parse(e){const n=this._getOrReturnCtx(e);return be(n,{code:fe.invalid_type,expected:ke.never,received:n.parsedType}),qe}}bl.create=t=>new bl({typeName:he.ZodNever,...rt(t)});class S2 extends dt{_parse(e){if(this._getType(e)!==ke.undefined){const r=this._getOrReturnCtx(e);return be(r,{code:fe.invalid_type,expected:ke.void,received:r.parsedType}),qe}return Li(e.data)}}S2.create=t=>new S2({typeName:he.ZodVoid,...rt(t)});class rs extends dt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==ke.array)return be(n,{code:fe.invalid_type,expected:ke.array,received:n.parsedType}),qe;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(s||o)&&(be(n,{code:s?fe.too_big:fe.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(be(n,{code:fe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(be(n,{code:fe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,o)=>i.type._parseAsync(new xl(n,s,n.path,o)))).then(s=>di.mergeArray(r,s));const a=[...n.data].map((s,o)=>i.type._parseSync(new xl(n,s,n.path,o)));return di.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new rs({...this._def,minLength:{value:e,message:Ne.toString(n)}})}max(e,n){return new rs({...this._def,maxLength:{value:e,message:Ne.toString(n)}})}length(e,n){return new rs({...this._def,exactLength:{value:e,message:Ne.toString(n)}})}nonempty(e){return this.min(1,e)}}rs.create=(t,e)=>new rs({type:t,minLength:null,maxLength:null,exactLength:null,typeName:he.ZodArray,...rt(e)});function Iu(t){if(t instanceof nn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=al.create(Iu(r))}return new nn({...t._def,shape:()=>e})}else return t instanceof rs?new rs({...t._def,type:Iu(t.element)}):t instanceof al?al.create(Iu(t.unwrap())):t instanceof qd?qd.create(Iu(t.unwrap())):t instanceof Lc?Lc.create(t.items.map(e=>Iu(e))):t}class nn extends dt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ft.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ke.object){const c=this._getOrReturnCtx(e);return be(c,{code:fe.invalid_type,expected:ke.object,received:c.parsedType}),qe}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof bl&&this._def.unknownKeys==="strip"))for(const c in i.data)s.includes(c)||o.push(c);const l=[];for(const c of s){const d=a[c],f=i.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new xl(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof bl){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of o)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(c==="strict")o.length>0&&(be(i,{code:fe.unrecognized_keys,keys:o}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of o){const f=i.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new xl(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const f=await d.key,h=await d.value;c.push({key:f,value:h,alwaysSet:d.alwaysSet})}return c}).then(c=>di.mergeObjectSync(r,c)):di.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Ne.errToObj,new nn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var a,s;const i=((s=(a=this._def).errorMap)==null?void 0:s.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Ne.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new nn({...this._def,unknownKeys:"strip"})}passthrough(){return new nn({...this._def,unknownKeys:"passthrough"})}extend(e){return new nn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new nn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:he.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new nn({...this._def,catchall:e})}pick(e){const n={};for(const r of ft.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new nn({...this._def,shape:()=>n})}omit(e){const n={};for(const r of ft.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new nn({...this._def,shape:()=>n})}deepPartial(){return Iu(this)}partial(e){const n={};for(const r of ft.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new nn({...this._def,shape:()=>n})}required(e){const n={};for(const r of ft.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof al;)a=a._def.innerType;n[r]=a}return new nn({...this._def,shape:()=>n})}keyof(){return nU(ft.objectKeys(this.shape))}}nn.create=(t,e)=>new nn({shape:()=>t,unknownKeys:"strip",catchall:bl.create(),typeName:he.ZodObject,...rt(e)});nn.strictCreate=(t,e)=>new nn({shape:()=>t,unknownKeys:"strict",catchall:bl.create(),typeName:he.ZodObject,...rt(e)});nn.lazycreate=(t,e)=>new nn({shape:t,unknownKeys:"strip",catchall:bl.create(),typeName:he.ZodObject,...rt(e)});class i0 extends dt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new to(o.ctx.common.issues));return be(n,{code:fe.invalid_union,unionErrors:s}),qe}if(n.common.async)return Promise.all(r.map(async a=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(l=>new to(l));return be(n,{code:fe.invalid_union,unionErrors:o}),qe}}get options(){return this._def.options}}i0.create=(t,e)=>new i0({options:t,typeName:he.ZodUnion,...rt(e)});function LE(t,e){const n=No(t),r=No(e);if(t===e)return{valid:!0,data:t};if(n===ke.object&&r===ke.object){const i=ft.objectKeys(e),a=ft.objectKeys(t).filter(o=>i.indexOf(o)!==-1),s={...t,...e};for(const o of a){const l=LE(t[o],e[o]);if(!l.valid)return{valid:!1};s[o]=l.data}return{valid:!0,data:s}}else if(n===ke.array&&r===ke.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const s=t[a],o=e[a],l=LE(s,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===ke.date&&r===ke.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class a0 extends dt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,s)=>{if(m2(a)||m2(s))return qe;const o=LE(a.value,s.value);return o.valid?((g2(a)||g2(s))&&n.dirty(),{status:n.value,value:o.data}):(be(r,{code:fe.invalid_intersection_types}),qe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}a0.create=(t,e,n)=>new a0({left:t,right:e,typeName:he.ZodIntersection,...rt(n)});class Lc extends dt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.array)return be(r,{code:fe.invalid_type,expected:ke.array,received:r.parsedType}),qe;if(r.data.length<this._def.items.length)return be(r,{code:fe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),qe;!this._def.rest&&r.data.length>this._def.items.length&&(be(r,{code:fe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((s,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new xl(r,s,r.path,o)):null}).filter(s=>!!s);return r.common.async?Promise.all(a).then(s=>di.mergeArray(n,s)):di.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new Lc({...this._def,rest:e})}}Lc.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Lc({items:t,typeName:he.ZodTuple,rest:null,...rt(e)})};class E2 extends dt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.map)return be(r,{code:fe.invalid_type,expected:ke.map,received:r.parsedType}),qe;const i=this._def.keyType,a=this._def.valueType,s=[...r.data.entries()].map(([o,l],c)=>({key:i._parse(new xl(r,o,r.path,[c,"key"])),value:a._parse(new xl(r,l,r.path,[c,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of s){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return qe;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(c.value,d.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const l of s){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return qe;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(c.value,d.value)}return{status:n.value,value:o}}}}E2.create=(t,e,n)=>new E2({valueType:e,keyType:t,typeName:he.ZodMap,...rt(n)});class nm extends dt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.set)return be(r,{code:fe.invalid_type,expected:ke.set,received:r.parsedType}),qe;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(be(r,{code:fe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(be(r,{code:fe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function s(l){const c=new Set;for(const d of l){if(d.status==="aborted")return qe;d.status==="dirty"&&n.dirty(),c.add(d.value)}return{status:n.value,value:c}}const o=[...r.data.values()].map((l,c)=>a._parse(new xl(r,l,r.path,c)));return r.common.async?Promise.all(o).then(l=>s(l)):s(o)}min(e,n){return new nm({...this._def,minSize:{value:e,message:Ne.toString(n)}})}max(e,n){return new nm({...this._def,maxSize:{value:e,message:Ne.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}nm.create=(t,e)=>new nm({valueType:t,minSize:null,maxSize:null,typeName:he.ZodSet,...rt(e)});class j2 extends dt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}j2.create=(t,e)=>new j2({getter:t,typeName:he.ZodLazy,...rt(e)});class A2 extends dt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return be(n,{received:n.data,code:fe.invalid_literal,expected:this._def.value}),qe}return{status:"valid",value:e.data}}get value(){return this._def.value}}A2.create=(t,e)=>new A2({value:t,typeName:he.ZodLiteral,...rt(e)});function nU(t,e){return new Vd({values:t,typeName:he.ZodEnum,...rt(e)})}class Vd extends dt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return be(n,{expected:ft.joinValues(r),received:n.parsedType,code:fe.invalid_type}),qe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return be(n,{received:n.data,code:fe.invalid_enum_value,options:r}),qe}return Li(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Vd.create(e,{...this._def,...n})}exclude(e,n=this._def){return Vd.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Vd.create=nU;class T2 extends dt{_parse(e){const n=ft.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ke.string&&r.parsedType!==ke.number){const i=ft.objectValues(n);return be(r,{expected:ft.joinValues(i),received:r.parsedType,code:fe.invalid_type}),qe}if(this._cache||(this._cache=new Set(ft.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=ft.objectValues(n);return be(r,{received:r.data,code:fe.invalid_enum_value,options:i}),qe}return Li(e.data)}get enum(){return this._def.values}}T2.create=(t,e)=>new T2({values:t,typeName:he.ZodNativeEnum,...rt(e)});class s0 extends dt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ke.promise&&n.common.async===!1)return be(n,{code:fe.invalid_type,expected:ke.promise,received:n.parsedType}),qe;const r=n.parsedType===ke.promise?n.data:Promise.resolve(n.data);return Li(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}s0.create=(t,e)=>new s0({type:t,typeName:he.ZodPromise,...rt(e)});class Wd extends dt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===he.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:s=>{be(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(r.data,a);if(r.common.async)return Promise.resolve(s).then(async o=>{if(n.value==="aborted")return qe;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?qe:l.status==="dirty"||n.value==="dirty"?Fh(l.value):l});{if(n.value==="aborted")return qe;const o=this._def.schema._parseSync({data:s,path:r.path,parent:r});return o.status==="aborted"?qe:o.status==="dirty"||n.value==="dirty"?Fh(o.value):o}}if(i.type==="refinement"){const s=o=>{const l=i.refinement(o,a);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?qe:(o.status==="dirty"&&n.dirty(),s(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?qe:(o.status==="dirty"&&n.dirty(),s(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Hd(s))return qe;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>Hd(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:n.value,value:o})):qe);ft.assertNever(i)}}Wd.create=(t,e,n)=>new Wd({schema:t,typeName:he.ZodEffects,effect:e,...rt(n)});Wd.createWithPreprocess=(t,e,n)=>new Wd({schema:e,effect:{type:"preprocess",transform:t},typeName:he.ZodEffects,...rt(n)});class al extends dt{_parse(e){return this._getType(e)===ke.undefined?Li(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}al.create=(t,e)=>new al({innerType:t,typeName:he.ZodOptional,...rt(e)});class qd extends dt{_parse(e){return this._getType(e)===ke.null?Li(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qd.create=(t,e)=>new qd({innerType:t,typeName:he.ZodNullable,...rt(e)});class FE extends dt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ke.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}FE.create=(t,e)=>new FE({innerType:t,typeName:he.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...rt(e)});class BE extends dt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return n0(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new to(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new to(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}BE.create=(t,e)=>new BE({innerType:t,typeName:he.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...rt(e)});class k2 extends dt{_parse(e){if(this._getType(e)!==ke.nan){const r=this._getOrReturnCtx(e);return be(r,{code:fe.invalid_type,expected:ke.nan,received:r.parsedType}),qe}return{status:"valid",value:e.data}}}k2.create=t=>new k2({typeName:he.ZodNaN,...rt(t)});class roe extends dt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class eC extends dt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?qe:a.status==="dirty"?(n.dirty(),Fh(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?qe:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new eC({in:e,out:n,typeName:he.ZodPipeline})}}class zE extends dt{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Hd(i)&&(i.value=Object.freeze(i.value)),i);return n0(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}zE.create=(t,e)=>new zE({innerType:t,typeName:he.ZodReadonly,...rt(e)});nn.lazycreate;var he;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(he||(he={}));const tC=Wo.create,C2=DE.create;bl.create;rs.create;const nC=nn.create;nn.strictCreate;i0.create;a0.create;Lc.create;Vd.create;s0.create;al.create;qd.create;function ioe(t,e){var r,i,a;const n={type:"array"};return(r=t.type)!=null&&r._def&&((a=(i=t.type)==null?void 0:i._def)==null?void 0:a.typeName)!==he.ZodAny&&(n.items=xt(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&wt(n,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&wt(n,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(wt(n,"minItems",t.exactLength.value,t.exactLength.message,e),wt(n,"maxItems",t.exactLength.value,t.exactLength.message,e)),n}function aoe(t,e){const n={type:"integer",format:"int64"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?wt(n,"minimum",r.value,r.message,e):wt(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),wt(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?wt(n,"maximum",r.value,r.message,e):wt(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),wt(n,"maximum",r.value,r.message,e));break;case"multipleOf":wt(n,"multipleOf",r.value,r.message,e);break}return n}function soe(){return{type:"boolean"}}function rU(t,e){return xt(t.type._def,e)}const ooe=(t,e)=>xt(t.innerType._def,e);function iU(t,e,n){const r=n??e.dateStrategy;if(Array.isArray(r))return{anyOf:r.map(i=>iU(t,e,i))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return loe(t,e)}}const loe=(t,e)=>{const n={type:"integer",format:"unix-time"};if(e.target==="openApi3")return n;for(const r of t.checks)switch(r.kind){case"min":wt(n,"minimum",r.value,r.message,e);break;case"max":wt(n,"maximum",r.value,r.message,e);break}return n};function coe(t,e){return{...xt(t.innerType._def,e),default:t.defaultValue()}}function uoe(t,e){return e.effectStrategy==="input"?xt(t.schema._def,e):ui(e)}function doe(t){return{type:"string",enum:Array.from(t.values)}}const foe=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function hoe(t,e){const n=[xt(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),xt(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(a=>!!a);let r=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const i=[];return n.forEach(a=>{if(foe(a))i.push(...a.allOf),a.unevaluatedProperties===void 0&&(r=void 0);else{let s=a;if("additionalProperties"in a&&a.additionalProperties===!1){const{additionalProperties:o,...l}=a;s=l}else r=void 0;i.push(s)}}),i.length?{allOf:i,...r}:void 0}function poe(t,e){const n=typeof t.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[t.value]}:{type:n==="bigint"?"integer":n,const:t.value}}let L_;const Hi={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(L_===void 0&&(L_=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),L_),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function aU(t,e){const n={type:"string"};if(t.checks)for(const r of t.checks)switch(r.kind){case"min":wt(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,e);break;case"max":wt(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,e);break;case"email":switch(e.emailStrategy){case"format:email":Vi(n,"email",r.message,e);break;case"format:idn-email":Vi(n,"idn-email",r.message,e);break;case"pattern:zod":nr(n,Hi.email,r.message,e);break}break;case"url":Vi(n,"uri",r.message,e);break;case"uuid":Vi(n,"uuid",r.message,e);break;case"regex":nr(n,r.regex,r.message,e);break;case"cuid":nr(n,Hi.cuid,r.message,e);break;case"cuid2":nr(n,Hi.cuid2,r.message,e);break;case"startsWith":nr(n,RegExp(`^${F_(r.value,e)}`),r.message,e);break;case"endsWith":nr(n,RegExp(`${F_(r.value,e)}$`),r.message,e);break;case"datetime":Vi(n,"date-time",r.message,e);break;case"date":Vi(n,"date",r.message,e);break;case"time":Vi(n,"time",r.message,e);break;case"duration":Vi(n,"duration",r.message,e);break;case"length":wt(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,e),wt(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,e);break;case"includes":nr(n,RegExp(F_(r.value,e)),r.message,e);break;case"ip":r.version!=="v6"&&Vi(n,"ipv4",r.message,e),r.version!=="v4"&&Vi(n,"ipv6",r.message,e);break;case"base64url":nr(n,Hi.base64url,r.message,e);break;case"jwt":nr(n,Hi.jwt,r.message,e);break;case"cidr":r.version!=="v6"&&nr(n,Hi.ipv4Cidr,r.message,e),r.version!=="v4"&&nr(n,Hi.ipv6Cidr,r.message,e);break;case"emoji":nr(n,Hi.emoji(),r.message,e);break;case"ulid":nr(n,Hi.ulid,r.message,e);break;case"base64":switch(e.base64Strategy){case"format:binary":Vi(n,"binary",r.message,e);break;case"contentEncoding:base64":wt(n,"contentEncoding","base64",r.message,e);break;case"pattern:zod":nr(n,Hi.base64,r.message,e);break}break;case"nanoid":nr(n,Hi.nanoid,r.message,e);break}return n}function F_(t,e){return e.patternStrategy==="escape"?goe(t):t}const moe=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function goe(t){let e="";for(let n=0;n<t.length;n++)moe.has(t[n])||(e+="\\"),e+=t[n];return e}function Vi(t,e,n,r){var i;t.format||(i=t.anyOf)!=null&&i.some(a=>a.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&r.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...n&&r.errorMessages&&{errorMessage:{format:n}}})):wt(t,"format",e,n,r)}function nr(t,e,n,r){var i;t.pattern||(i=t.allOf)!=null&&i.some(a=>a.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&r.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:O2(e,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):wt(t,"pattern",O2(e,r),n,r)}function O2(t,e){var l;if(!e.applyRegexFlags||!t.flags)return t.source;const n={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},r=n.i?t.source.toLowerCase():t.source;let i="",a=!1,s=!1,o=!1;for(let c=0;c<r.length;c++){if(a){i+=r[c],a=!1;continue}if(n.i){if(s){if(r[c].match(/[a-z]/)){o?(i+=r[c],i+=`${r[c-2]}-${r[c]}`.toUpperCase(),o=!1):r[c+1]==="-"&&((l=r[c+2])!=null&&l.match(/[a-z]/))?(i+=r[c],o=!0):i+=`${r[c]}${r[c].toUpperCase()}`;continue}}else if(r[c].match(/[a-z]/)){i+=`[${r[c]}${r[c].toUpperCase()}]`;continue}}if(n.m){if(r[c]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(r[c]==="$"){i+=`($|(?=[\r
]))`;continue}}if(n.s&&r[c]==="."){i+=s?`${r[c]}\r
`:`[${r[c]}\r
]`;continue}i+=r[c],r[c]==="\\"?a=!0:s&&r[c]==="]"?s=!1:!s&&r[c]==="["&&(s=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return i}function sU(t,e){var r,i,a,s,o,l;if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&((r=t.keyType)==null?void 0:r._def.typeName)===he.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((c,d)=>({...c,[d]:xt(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",d]})??ui(e)}),{}),additionalProperties:e.rejectedAdditionalProperties};const n={type:"object",additionalProperties:xt(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??e.allowedAdditionalProperties};if(e.target==="openApi3")return n;if(((i=t.keyType)==null?void 0:i._def.typeName)===he.ZodString&&((a=t.keyType._def.checks)!=null&&a.length)){const{type:c,...d}=aU(t.keyType._def,e);return{...n,propertyNames:d}}else{if(((s=t.keyType)==null?void 0:s._def.typeName)===he.ZodEnum)return{...n,propertyNames:{enum:t.keyType._def.values}};if(((o=t.keyType)==null?void 0:o._def.typeName)===he.ZodBranded&&t.keyType._def.type._def.typeName===he.ZodString&&((l=t.keyType._def.type._def.checks)!=null&&l.length)){const{type:c,...d}=rU(t.keyType._def,e);return{...n,propertyNames:d}}}return n}function yoe(t,e){if(e.mapStrategy==="record")return sU(t,e);const n=xt(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||ui(e),r=xt(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||ui(e);return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function voe(t){const e=t.values,r=Object.keys(t.values).filter(a=>typeof e[e[a]]!="number").map(a=>e[a]),i=Array.from(new Set(r.map(a=>typeof a)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:r}}function xoe(t){return t.target==="openAi"?void 0:{not:ui({...t,currentPath:[...t.currentPath,"not"]})}}function boe(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const o0={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function woe(t,e){if(e.target==="openApi3")return N2(t,e);const n=t.options instanceof Map?Array.from(t.options.values()):t.options;if(n.every(r=>r._def.typeName in o0&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((i,a)=>{const s=o0[a._def.typeName];return s&&!i.includes(s)?[...i,s]:i},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((i,a)=>{const s=typeof a._def.value;switch(s){case"string":case"number":case"boolean":return[...i,s];case"bigint":return[...i,"integer"];case"object":return a._def.value===null?[...i,"null"]:i;case"symbol":case"undefined":case"function":default:return i}},[]);if(r.length===n.length){const i=r.filter((a,s,o)=>o.indexOf(a)===s);return{type:i.length>1?i:i[0],enum:n.reduce((a,s)=>a.includes(s._def.value)?a:[...a,s._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,i)=>[...r,...i._def.values.filter(a=>!r.includes(a))],[])};return N2(t,e)}const N2=(t,e)=>{const n=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((r,i)=>xt(r._def,{...e,currentPath:[...e.currentPath,"anyOf",`${i}`]})).filter(r=>!!r&&(!e.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function _oe(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:o0[t.innerType._def.typeName],nullable:!0}:{type:[o0[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const r=xt(t.innerType._def,{...e,currentPath:[...e.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const n=xt(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function Soe(t,e){const n={type:"number"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"int":n.type="integer",Qz(n,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?wt(n,"minimum",r.value,r.message,e):wt(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),wt(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?wt(n,"maximum",r.value,r.message,e):wt(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),wt(n,"maximum",r.value,r.message,e));break;case"multipleOf":wt(n,"multipleOf",r.value,r.message,e);break}return n}function Eoe(t,e){const n=e.target==="openAi",r={type:"object",properties:{}},i=[],a=t.shape();for(const o in a){let l=a[o];if(l===void 0||l._def===void 0)continue;let c=Aoe(l);c&&n&&(l._def.typeName==="ZodOptional"&&(l=l._def.innerType),l.isNullable()||(l=l.nullable()),c=!1);const d=xt(l._def,{...e,currentPath:[...e.currentPath,"properties",o],propertyPath:[...e.currentPath,"properties",o]});d!==void 0&&(r.properties[o]=d,c||i.push(o))}i.length&&(r.required=i);const s=joe(t,e);return s!==void 0&&(r.additionalProperties=s),r}function joe(t,e){if(t.catchall._def.typeName!=="ZodNever")return xt(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]});switch(t.unknownKeys){case"passthrough":return e.allowedAdditionalProperties;case"strict":return e.rejectedAdditionalProperties;case"strip":return e.removeAdditionalStrategy==="strict"?e.allowedAdditionalProperties:e.rejectedAdditionalProperties}}function Aoe(t){try{return t.isOptional()}catch{return!0}}const Toe=(t,e)=>{var r;if(e.currentPath.toString()===((r=e.propertyPath)==null?void 0:r.toString()))return xt(t.innerType._def,e);const n=xt(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return n?{anyOf:[{not:ui(e)},n]}:ui(e)},koe=(t,e)=>{if(e.pipeStrategy==="input")return xt(t.in._def,e);if(e.pipeStrategy==="output")return xt(t.out._def,e);const n=xt(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),r=xt(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(i=>i!==void 0)}};function Coe(t,e){return xt(t.type._def,e)}function Ooe(t,e){const r={type:"array",uniqueItems:!0,items:xt(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&wt(r,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&wt(r,"maxItems",t.maxSize.value,t.maxSize.message,e),r}function Noe(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((n,r)=>xt(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:xt(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((n,r)=>xt(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function Poe(t){return{not:ui(t)}}function Ioe(t){return ui(t)}const $oe=(t,e)=>xt(t.innerType._def,e),Roe=(t,e,n)=>{switch(e){case he.ZodString:return aU(t,n);case he.ZodNumber:return Soe(t,n);case he.ZodObject:return Eoe(t,n);case he.ZodBigInt:return aoe(t,n);case he.ZodBoolean:return soe();case he.ZodDate:return iU(t,n);case he.ZodUndefined:return Poe(n);case he.ZodNull:return boe(n);case he.ZodArray:return ioe(t,n);case he.ZodUnion:case he.ZodDiscriminatedUnion:return woe(t,n);case he.ZodIntersection:return hoe(t,n);case he.ZodTuple:return Noe(t,n);case he.ZodRecord:return sU(t,n);case he.ZodLiteral:return poe(t,n);case he.ZodEnum:return doe(t);case he.ZodNativeEnum:return voe(t);case he.ZodNullable:return _oe(t,n);case he.ZodOptional:return Toe(t,n);case he.ZodMap:return yoe(t,n);case he.ZodSet:return Ooe(t,n);case he.ZodLazy:return()=>t.getter()._def;case he.ZodPromise:return Coe(t,n);case he.ZodNaN:case he.ZodNever:return xoe(n);case he.ZodEffects:return uoe(t,n);case he.ZodAny:return ui(n);case he.ZodUnknown:return Ioe(n);case he.ZodDefault:return coe(t,n);case he.ZodBranded:return rU(t,n);case he.ZodReadonly:return $oe(t,n);case he.ZodCatch:return ooe(t,n);case he.ZodPipeline:return koe(t,n);case he.ZodFunction:case he.ZodVoid:case he.ZodSymbol:return;default:return(r=>{})()}};function xt(t,e,n=!1){var o;const r=e.seen.get(t);if(e.override){const l=(o=e.override)==null?void 0:o.call(e,t,e,r,n);if(l!==kse)return l}if(r&&!n){const l=Moe(r,e);if(l!==void 0)return l}const i={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,i);const a=Roe(t,t.typeName,e),s=typeof a=="function"?xt(a(),e):a;if(s&&Doe(t,e,s),e.postProcess){const l=e.postProcess(s,t,e);return i.jsonSchema=s,l}return i.jsonSchema=s,s}const Moe=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:Jz(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((n,r)=>e.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),ui(e)):e.$refStrategy==="seen"?ui(e):void 0}},Doe=(t,e,n)=>(t.description&&(n.description=t.description,e.markdownDescription&&(n.markdownDescription=t.description)),n),Loe=(t,e)=>{const n=Nse(e);let r;const i=e==null?void 0:e.name,a=xt(t._def,n,!1)??ui(n);n.flags.hasReferencedOpenAiAnyType&&(r||(r={}),r[n.openAiAnyTypeName]||(r[n.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:n.$refStrategy==="relative"?"1":[...n.basePath,n.definitionPath,n.openAiAnyTypeName].join("/")}}));const s=i===void 0?r?{...a,[n.definitionPath]:r}:a:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,i].join("/"),[n.definitionPath]:{...r,[i]:a}};return n.target==="jsonSchema7"?s.$schema="http://json-schema.org/draft-07/schema#":(n.target==="jsonSchema2019-09"||n.target==="openAi")&&(s.$schema="https://json-schema.org/draft/2019-09/schema#"),n.target==="openAi"&&("anyOf"in s||"oneOf"in s||"allOf"in s||"type"in s&&Array.isArray(s.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),s};function Ec(t,e){const n=typeof t;if(n!==typeof e)return!1;if(Array.isArray(t)){if(!Array.isArray(e))return!1;const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(!Ec(t[i],e[i]))return!1;return!0}if(n==="object"){if(!t||!e)return t===e;const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(const s of r)if(!Ec(t[s],e[s]))return!1;return!0}return t===e}function Yi(t){return encodeURI(Foe(t))}function Foe(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}const Boe={prefixItems:!0,items:!0,allOf:!0,anyOf:!0,oneOf:!0},zoe={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependentSchemas:!0},Uoe={id:!0,$id:!0,$ref:!0,$schema:!0,$anchor:!0,$vocabulary:!0,$comment:!0,default:!0,enum:!0,const:!0,required:!0,type:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};let Hoe=typeof self<"u"&&self.location&&self.location.origin!=="null"?new URL(self.location.origin+self.location.pathname+location.search):new URL("https://github.com/cfworker");function qo(t,e=Object.create(null),n=Hoe,r=""){if(t&&typeof t=="object"&&!Array.isArray(t)){const a=t.$id||t.id;if(a){const s=new URL(a,n.href);s.hash.length>1?e[s.href]=t:(s.hash="",r===""?n=s:qo(t,e,n))}}else if(t!==!0&&t!==!1)return e;const i=n.href+(r?"#"+r:"");if(e[i]!==void 0)throw new Error(`Duplicate schema URI "${i}".`);if(e[i]=t,t===!0||t===!1)return e;if(t.__absolute_uri__===void 0&&Object.defineProperty(t,"__absolute_uri__",{enumerable:!1,value:i}),t.$ref&&t.__absolute_ref__===void 0){const a=new URL(t.$ref,n.href);a.hash=a.hash,Object.defineProperty(t,"__absolute_ref__",{enumerable:!1,value:a.href})}if(t.$recursiveRef&&t.__absolute_recursive_ref__===void 0){const a=new URL(t.$recursiveRef,n.href);a.hash=a.hash,Object.defineProperty(t,"__absolute_recursive_ref__",{enumerable:!1,value:a.href})}if(t.$anchor){const a=new URL("#"+t.$anchor,n.href);e[a.href]=t}for(let a in t){if(Uoe[a])continue;const s=`${r}/${Yi(a)}`,o=t[a];if(Array.isArray(o)){if(Boe[a]){const l=o.length;for(let c=0;c<l;c++)qo(o[c],e,n,`${s}/${c}`)}}else if(zoe[a])for(let l in o)qo(o[l],e,n,`${s}/${Yi(l)}`);else qo(o,e,n,s)}return e}const Voe=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Woe=[0,31,28,31,30,31,30,31,31,30,31,30,31],qoe=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,Goe=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,Koe=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Yoe=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,Xoe=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)(?:\.(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,Zoe=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,Joe=/^(?:\/(?:[^~/]|~0|~1)*)*$/,Qoe=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,ele=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,tle=t=>{if(t[0]==='"')return!1;const[e,n,...r]=t.split("@");return!e||!n||r.length!==0||e.length>64||n.length>253||e[0]==="."||e.endsWith(".")||e.includes("..")||!/^[a-z0-9.-]+$/i.test(n)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(e)?!1:n.split(".").every(i=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(i))},nle=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,rle=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,ile=t=>t.length>1&&t.length<80&&(/^P\d+([.,]\d+)?W$/.test(t)||/^P[\dYMDTHS]*(\d[.,]\d+)?[YMDHS]$/.test(t)&&/^P([.,\d]+Y)?([.,\d]+M)?([.,\d]+D)?(T([.,\d]+H)?([.,\d]+M)?([.,\d]+S)?)?$/.test(t));function Da(t){return t.test.bind(t)}const P2={date:oU,time:lU.bind(void 0,!1),"date-time":ole,duration:ile,uri:ule,"uri-reference":Da(Koe),"uri-template":Da(Yoe),url:Da(Xoe),email:tle,hostname:Da(Goe),ipv4:Da(nle),ipv6:Da(rle),regex:fle,uuid:Da(Zoe),"json-pointer":Da(Joe),"json-pointer-uri-fragment":Da(Qoe),"relative-json-pointer":Da(ele)};function ale(t){return t%4===0&&(t%100!==0||t%400===0)}function oU(t){const e=t.match(Voe);if(!e)return!1;const n=+e[1],r=+e[2],i=+e[3];return r>=1&&r<=12&&i>=1&&i<=(r==2&&ale(n)?29:Woe[r])}function lU(t,e){const n=e.match(qoe);if(!n)return!1;const r=+n[1],i=+n[2],a=+n[3],s=!!n[5];return(r<=23&&i<=59&&a<=59||r==23&&i==59&&a==60)&&(!t||s)}const sle=/t|\s/i;function ole(t){const e=t.split(sle);return e.length==2&&oU(e[0])&&lU(!0,e[1])}const lle=/\/|:/,cle=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function ule(t){return lle.test(t)&&cle.test(t)}const dle=/[^\\]\\Z/;function fle(t){if(dle.test(t))return!1;try{return new RegExp(t,"u"),!0}catch{return!1}}function hle(t){let e=0,n=t.length,r=0,i;for(;r<n;)e++,i=t.charCodeAt(r++),i>=55296&&i<=56319&&r<n&&(i=t.charCodeAt(r),(i&64512)==56320&&r++);return e}function Yt(t,e,n="2019-09",r=qo(e),i=!0,a=null,s="#",o="#",l=Object.create(null)){if(e===!0)return{valid:!0,errors:[]};if(e===!1)return{valid:!1,errors:[{instanceLocation:s,keyword:"false",keywordLocation:s,error:"False boolean schema."}]};const c=typeof t;let d;switch(c){case"boolean":case"number":case"string":d=c;break;case"object":t===null?d="null":Array.isArray(t)?d="array":d="object";break;default:throw new Error(`Instances of "${c}" type are not supported.`)}const{$ref:f,$recursiveRef:h,$recursiveAnchor:p,type:m,const:g,enum:x,required:b,not:v,anyOf:y,allOf:_,oneOf:w,if:E,then:A,else:j,format:T,properties:k,patternProperties:C,additionalProperties:O,unevaluatedProperties:F,minProperties:R,maxProperties:D,propertyNames:U,dependentRequired:V,dependentSchemas:L,dependencies:B,prefixItems:P,items:W,additionalItems:G,unevaluatedItems:$,contains:ee,minContains:ie,maxContains:I,minItems:N,maxItems:K,uniqueItems:z,minimum:Z,maximum:J,exclusiveMinimum:Y,exclusiveMaximum:me,multipleOf:le,minLength:xe,maxLength:oe,pattern:Be,__absolute_ref__:Te,__absolute_recursive_ref__:De}=e,ae=[];if(p===!0&&a===null&&(a=e),h==="#"){const _e=a===null?r[De]:a,ve=`${o}/$recursiveRef`,we=Yt(t,a===null?e:a,n,r,i,_e,s,ve,l);we.valid||ae.push({instanceLocation:s,keyword:"$recursiveRef",keywordLocation:ve,error:"A subschema had errors."},...we.errors)}if(f!==void 0){const ve=r[Te||f];if(ve===void 0){let q=`Unresolved $ref "${f}".`;throw Te&&Te!==f&&(q+=`  Absolute URI "${Te}".`),q+=`
Known schemas:
- ${Object.keys(r).join(`
- `)}`,new Error(q)}const we=`${o}/$ref`,ge=Yt(t,ve,n,r,i,a,s,we,l);if(ge.valid||ae.push({instanceLocation:s,keyword:"$ref",keywordLocation:we,error:"A subschema had errors."},...ge.errors),n==="4"||n==="7")return{valid:ae.length===0,errors:ae}}if(Array.isArray(m)){let _e=m.length,ve=!1;for(let we=0;we<_e;we++)if(d===m[we]||m[we]==="integer"&&d==="number"&&t%1===0&&t===t){ve=!0;break}ve||ae.push({instanceLocation:s,keyword:"type",keywordLocation:`${o}/type`,error:`Instance type "${d}" is invalid. Expected "${m.join('", "')}".`})}else m==="integer"?(d!=="number"||t%1||t!==t)&&ae.push({instanceLocation:s,keyword:"type",keywordLocation:`${o}/type`,error:`Instance type "${d}" is invalid. Expected "${m}".`}):m!==void 0&&d!==m&&ae.push({instanceLocation:s,keyword:"type",keywordLocation:`${o}/type`,error:`Instance type "${d}" is invalid. Expected "${m}".`});if(g!==void 0&&(d==="object"||d==="array"?Ec(t,g)||ae.push({instanceLocation:s,keyword:"const",keywordLocation:`${o}/const`,error:`Instance does not match ${JSON.stringify(g)}.`}):t!==g&&ae.push({instanceLocation:s,keyword:"const",keywordLocation:`${o}/const`,error:`Instance does not match ${JSON.stringify(g)}.`})),x!==void 0&&(d==="object"||d==="array"?x.some(_e=>Ec(t,_e))||ae.push({instanceLocation:s,keyword:"enum",keywordLocation:`${o}/enum`,error:`Instance does not match any of ${JSON.stringify(x)}.`}):x.some(_e=>t===_e)||ae.push({instanceLocation:s,keyword:"enum",keywordLocation:`${o}/enum`,error:`Instance does not match any of ${JSON.stringify(x)}.`})),v!==void 0){const _e=`${o}/not`;Yt(t,v,n,r,i,a,s,_e).valid&&ae.push({instanceLocation:s,keyword:"not",keywordLocation:_e,error:'Instance matched "not" schema.'})}let At=[];if(y!==void 0){const _e=`${o}/anyOf`,ve=ae.length;let we=!1;for(let ge=0;ge<y.length;ge++){const q=y[ge],X=Object.create(l),re=Yt(t,q,n,r,i,p===!0?a:null,s,`${_e}/${ge}`,X);ae.push(...re.errors),we=we||re.valid,re.valid&&At.push(X)}we?ae.length=ve:ae.splice(ve,0,{instanceLocation:s,keyword:"anyOf",keywordLocation:_e,error:"Instance does not match any subschemas."})}if(_!==void 0){const _e=`${o}/allOf`,ve=ae.length;let we=!0;for(let ge=0;ge<_.length;ge++){const q=_[ge],X=Object.create(l),re=Yt(t,q,n,r,i,p===!0?a:null,s,`${_e}/${ge}`,X);ae.push(...re.errors),we=we&&re.valid,re.valid&&At.push(X)}we?ae.length=ve:ae.splice(ve,0,{instanceLocation:s,keyword:"allOf",keywordLocation:_e,error:"Instance does not match every subschema."})}if(w!==void 0){const _e=`${o}/oneOf`,ve=ae.length,we=w.filter((ge,q)=>{const X=Object.create(l),re=Yt(t,ge,n,r,i,p===!0?a:null,s,`${_e}/${q}`,X);return ae.push(...re.errors),re.valid&&At.push(X),re.valid}).length;we===1?ae.length=ve:ae.splice(ve,0,{instanceLocation:s,keyword:"oneOf",keywordLocation:_e,error:`Instance does not match exactly one subschema (${we} matches).`})}if((d==="object"||d==="array")&&Object.assign(l,...At),E!==void 0){const _e=`${o}/if`;if(Yt(t,E,n,r,i,a,s,_e,l).valid){if(A!==void 0){const we=Yt(t,A,n,r,i,a,s,`${o}/then`,l);we.valid||ae.push({instanceLocation:s,keyword:"if",keywordLocation:_e,error:'Instance does not match "then" schema.'},...we.errors)}}else if(j!==void 0){const we=Yt(t,j,n,r,i,a,s,`${o}/else`,l);we.valid||ae.push({instanceLocation:s,keyword:"if",keywordLocation:_e,error:'Instance does not match "else" schema.'},...we.errors)}}if(d==="object"){if(b!==void 0)for(const ge of b)ge in t||ae.push({instanceLocation:s,keyword:"required",keywordLocation:`${o}/required`,error:`Instance does not have required property "${ge}".`});const _e=Object.keys(t);if(R!==void 0&&_e.length<R&&ae.push({instanceLocation:s,keyword:"minProperties",keywordLocation:`${o}/minProperties`,error:`Instance does not have at least ${R} properties.`}),D!==void 0&&_e.length>D&&ae.push({instanceLocation:s,keyword:"maxProperties",keywordLocation:`${o}/maxProperties`,error:`Instance does not have at least ${D} properties.`}),U!==void 0){const ge=`${o}/propertyNames`;for(const q in t){const X=`${s}/${Yi(q)}`,re=Yt(q,U,n,r,i,a,X,ge);re.valid||ae.push({instanceLocation:s,keyword:"propertyNames",keywordLocation:ge,error:`Property name "${q}" does not match schema.`},...re.errors)}}if(V!==void 0){const ge=`${o}/dependantRequired`;for(const q in V)if(q in t){const X=V[q];for(const re of X)re in t||ae.push({instanceLocation:s,keyword:"dependentRequired",keywordLocation:ge,error:`Instance has "${q}" but does not have "${re}".`})}}if(L!==void 0)for(const ge in L){const q=`${o}/dependentSchemas`;if(ge in t){const X=Yt(t,L[ge],n,r,i,a,s,`${q}/${Yi(ge)}`,l);X.valid||ae.push({instanceLocation:s,keyword:"dependentSchemas",keywordLocation:q,error:`Instance has "${ge}" but does not match dependant schema.`},...X.errors)}}if(B!==void 0){const ge=`${o}/dependencies`;for(const q in B)if(q in t){const X=B[q];if(Array.isArray(X))for(const re of X)re in t||ae.push({instanceLocation:s,keyword:"dependencies",keywordLocation:ge,error:`Instance has "${q}" but does not have "${re}".`});else{const re=Yt(t,X,n,r,i,a,s,`${ge}/${Yi(q)}`);re.valid||ae.push({instanceLocation:s,keyword:"dependencies",keywordLocation:ge,error:`Instance has "${q}" but does not match dependant schema.`},...re.errors)}}}const ve=Object.create(null);let we=!1;if(k!==void 0){const ge=`${o}/properties`;for(const q in k){if(!(q in t))continue;const X=`${s}/${Yi(q)}`,re=Yt(t[q],k[q],n,r,i,a,X,`${ge}/${Yi(q)}`);if(re.valid)l[q]=ve[q]=!0;else if(we=i,ae.push({instanceLocation:s,keyword:"properties",keywordLocation:ge,error:`Property "${q}" does not match schema.`},...re.errors),we)break}}if(!we&&C!==void 0){const ge=`${o}/patternProperties`;for(const q in C){const X=new RegExp(q,"u"),re=C[q];for(const Oe in t){if(!X.test(Oe))continue;const ct=`${s}/${Yi(Oe)}`,Kt=Yt(t[Oe],re,n,r,i,a,ct,`${ge}/${Yi(q)}`);Kt.valid?l[Oe]=ve[Oe]=!0:(we=i,ae.push({instanceLocation:s,keyword:"patternProperties",keywordLocation:ge,error:`Property "${Oe}" matches pattern "${q}" but does not match associated schema.`},...Kt.errors))}}}if(!we&&O!==void 0){const ge=`${o}/additionalProperties`;for(const q in t){if(ve[q])continue;const X=`${s}/${Yi(q)}`,re=Yt(t[q],O,n,r,i,a,X,ge);re.valid?l[q]=!0:(we=i,ae.push({instanceLocation:s,keyword:"additionalProperties",keywordLocation:ge,error:`Property "${q}" does not match additional properties schema.`},...re.errors))}}else if(!we&&F!==void 0){const ge=`${o}/unevaluatedProperties`;for(const q in t)if(!l[q]){const X=`${s}/${Yi(q)}`,re=Yt(t[q],F,n,r,i,a,X,ge);re.valid?l[q]=!0:ae.push({instanceLocation:s,keyword:"unevaluatedProperties",keywordLocation:ge,error:`Property "${q}" does not match unevaluated properties schema.`},...re.errors)}}}else if(d==="array"){K!==void 0&&t.length>K&&ae.push({instanceLocation:s,keyword:"maxItems",keywordLocation:`${o}/maxItems`,error:`Array has too many items (${t.length} > ${K}).`}),N!==void 0&&t.length<N&&ae.push({instanceLocation:s,keyword:"minItems",keywordLocation:`${o}/minItems`,error:`Array has too few items (${t.length} < ${N}).`});const _e=t.length;let ve=0,we=!1;if(P!==void 0){const ge=`${o}/prefixItems`,q=Math.min(P.length,_e);for(;ve<q;ve++){const X=Yt(t[ve],P[ve],n,r,i,a,`${s}/${ve}`,`${ge}/${ve}`);if(l[ve]=!0,!X.valid&&(we=i,ae.push({instanceLocation:s,keyword:"prefixItems",keywordLocation:ge,error:"Items did not match schema."},...X.errors),we))break}}if(W!==void 0){const ge=`${o}/items`;if(Array.isArray(W)){const q=Math.min(W.length,_e);for(;ve<q;ve++){const X=Yt(t[ve],W[ve],n,r,i,a,`${s}/${ve}`,`${ge}/${ve}`);if(l[ve]=!0,!X.valid&&(we=i,ae.push({instanceLocation:s,keyword:"items",keywordLocation:ge,error:"Items did not match schema."},...X.errors),we))break}}else for(;ve<_e;ve++){const q=Yt(t[ve],W,n,r,i,a,`${s}/${ve}`,ge);if(l[ve]=!0,!q.valid&&(we=i,ae.push({instanceLocation:s,keyword:"items",keywordLocation:ge,error:"Items did not match schema."},...q.errors),we))break}if(!we&&G!==void 0){const q=`${o}/additionalItems`;for(;ve<_e;ve++){const X=Yt(t[ve],G,n,r,i,a,`${s}/${ve}`,q);l[ve]=!0,X.valid||(we=i,ae.push({instanceLocation:s,keyword:"additionalItems",keywordLocation:q,error:"Items did not match additional items schema."},...X.errors))}}}if(ee!==void 0)if(_e===0&&ie===void 0)ae.push({instanceLocation:s,keyword:"contains",keywordLocation:`${o}/contains`,error:"Array is empty. It must contain at least one item matching the schema."});else if(ie!==void 0&&_e<ie)ae.push({instanceLocation:s,keyword:"minContains",keywordLocation:`${o}/minContains`,error:`Array has less items (${_e}) than minContains (${ie}).`});else{const ge=`${o}/contains`,q=ae.length;let X=0;for(let re=0;re<_e;re++){const Oe=Yt(t[re],ee,n,r,i,a,`${s}/${re}`,ge);Oe.valid?(l[re]=!0,X++):ae.push(...Oe.errors)}X>=(ie||0)&&(ae.length=q),ie===void 0&&I===void 0&&X===0?ae.splice(q,0,{instanceLocation:s,keyword:"contains",keywordLocation:ge,error:"Array does not contain item matching schema."}):ie!==void 0&&X<ie?ae.push({instanceLocation:s,keyword:"minContains",keywordLocation:`${o}/minContains`,error:`Array must contain at least ${ie} items matching schema. Only ${X} items were found.`}):I!==void 0&&X>I&&ae.push({instanceLocation:s,keyword:"maxContains",keywordLocation:`${o}/maxContains`,error:`Array may contain at most ${I} items matching schema. ${X} items were found.`})}if(!we&&$!==void 0){const ge=`${o}/unevaluatedItems`;for(ve;ve<_e;ve++){if(l[ve])continue;const q=Yt(t[ve],$,n,r,i,a,`${s}/${ve}`,ge);l[ve]=!0,q.valid||ae.push({instanceLocation:s,keyword:"unevaluatedItems",keywordLocation:ge,error:"Items did not match unevaluated items schema."},...q.errors)}}if(z)for(let ge=0;ge<_e;ge++){const q=t[ge],X=typeof q=="object"&&q!==null;for(let re=0;re<_e;re++){if(ge===re)continue;const Oe=t[re];(q===Oe||X&&(typeof Oe=="object"&&Oe!==null)&&Ec(q,Oe))&&(ae.push({instanceLocation:s,keyword:"uniqueItems",keywordLocation:`${o}/uniqueItems`,error:`Duplicate items at indexes ${ge} and ${re}.`}),ge=Number.MAX_SAFE_INTEGER,re=Number.MAX_SAFE_INTEGER)}}}else if(d==="number"){if(n==="4"?(Z!==void 0&&(Y===!0&&t<=Z||t<Z)&&ae.push({instanceLocation:s,keyword:"minimum",keywordLocation:`${o}/minimum`,error:`${t} is less than ${Y?"or equal to ":""} ${Z}.`}),J!==void 0&&(me===!0&&t>=J||t>J)&&ae.push({instanceLocation:s,keyword:"maximum",keywordLocation:`${o}/maximum`,error:`${t} is greater than ${me?"or equal to ":""} ${J}.`})):(Z!==void 0&&t<Z&&ae.push({instanceLocation:s,keyword:"minimum",keywordLocation:`${o}/minimum`,error:`${t} is less than ${Z}.`}),J!==void 0&&t>J&&ae.push({instanceLocation:s,keyword:"maximum",keywordLocation:`${o}/maximum`,error:`${t} is greater than ${J}.`}),Y!==void 0&&t<=Y&&ae.push({instanceLocation:s,keyword:"exclusiveMinimum",keywordLocation:`${o}/exclusiveMinimum`,error:`${t} is less than ${Y}.`}),me!==void 0&&t>=me&&ae.push({instanceLocation:s,keyword:"exclusiveMaximum",keywordLocation:`${o}/exclusiveMaximum`,error:`${t} is greater than or equal to ${me}.`})),le!==void 0){const _e=t%le;Math.abs(0-_e)>=11920929e-14&&Math.abs(le-_e)>=11920929e-14&&ae.push({instanceLocation:s,keyword:"multipleOf",keywordLocation:`${o}/multipleOf`,error:`${t} is not a multiple of ${le}.`})}}else if(d==="string"){const _e=xe===void 0&&oe===void 0?0:hle(t);xe!==void 0&&_e<xe&&ae.push({instanceLocation:s,keyword:"minLength",keywordLocation:`${o}/minLength`,error:`String is too short (${_e} < ${xe}).`}),oe!==void 0&&_e>oe&&ae.push({instanceLocation:s,keyword:"maxLength",keywordLocation:`${o}/maxLength`,error:`String is too long (${_e} > ${oe}).`}),Be!==void 0&&!new RegExp(Be,"u").test(t)&&ae.push({instanceLocation:s,keyword:"pattern",keywordLocation:`${o}/pattern`,error:"String does not match pattern."}),T!==void 0&&P2[T]&&!P2[T](t)&&ae.push({instanceLocation:s,keyword:"format",keywordLocation:`${o}/format`,error:`String does not match format "${T}".`})}return{valid:ae.length===0,errors:ae}}class ple{constructor(e,n="2019-09",r=!0){H(this,"schema");H(this,"draft");H(this,"shortCircuit");H(this,"lookup");this.schema=e,this.draft=n,this.shortCircuit=r,this.lookup=qo(e)}validate(e){return Yt(e,this.schema,this.draft,this.lookup,this.shortCircuit)}addSchema(e,n){n&&(e={...e,$id:n}),qo(e,this.lookup)}}var mle={};bt(mle,{Validator:()=>ple,deepCompareStrict:()=>Ec,toJsonSchema:()=>wl,validatesOnlyStrings:()=>cv});function wl(t){if(pn(t)){const e=Zz(t,!0);if(ns(e)){const n=t0(e,!0);return h2(n)}else return h2(t)}return Tn(t)?Loe(t):t}function cv(t){if(!t||typeof t!="object"||Object.keys(t).length===0||Array.isArray(t))return!1;if("type"in t)return typeof t.type=="string"?t.type==="string":Array.isArray(t.type)?t.type.every(e=>e==="string"):!1;if("enum"in t)return Array.isArray(t.enum)&&t.enum.length>0&&t.enum.every(e=>typeof e=="string");if("const"in t)return typeof t.const=="string";if("allOf"in t&&Array.isArray(t.allOf))return t.allOf.some(e=>cv(e));if("anyOf"in t&&Array.isArray(t.anyOf)||"oneOf"in t&&Array.isArray(t.oneOf)){const e="anyOf"in t?t.anyOf:t.oneOf;return e.length>0&&e.every(n=>cv(n))}if("not"in t)return!1;if("$ref"in t&&typeof t.$ref=="string"){const e=t.$ref,n=qo(t);return n[e]?cv(n[e]):!1}return!1}function _l(t){return typeof t=="object"&&t!==null&&"type"in t&&typeof t.type=="string"&&"source_type"in t&&(t.source_type==="url"||t.source_type==="base64"||t.source_type==="text"||t.source_type==="id")}function rC(t){return _l(t)&&t.source_type==="url"&&"url"in t&&typeof t.url=="string"}function iC(t){return _l(t)&&t.source_type==="base64"&&"data"in t&&typeof t.data=="string"}function gle(t){return _l(t)&&t.source_type==="text"&&"text"in t&&typeof t.text=="string"}function cU(t){return _l(t)&&t.source_type==="id"&&"id"in t&&typeof t.id=="string"}function uU(t){if(_l(t)){if(t.source_type==="url")return{type:"image_url",image_url:{url:t.url}};if(t.source_type==="base64"){if(!t.mime_type)throw new Error("mime_type key is required for base64 data.");return{type:"image_url",image_url:{url:`data:${t.mime_type};base64,${t.data}`}}}}throw new Error("Unsupported source type. Only 'url' and 'base64' are supported.")}function yle(t){const e=t.split(";")[0].split("/");if(e.length!==2)throw new Error(`Invalid mime type: "${t}" - does not match type/subtype format.`);const n=e[0].trim(),r=e[1].trim();if(n===""||r==="")throw new Error(`Invalid mime type: "${t}" - type or subtype is empty.`);const i={};for(const a of t.split(";").slice(1)){const s=a.split("=");if(s.length!==2)throw new Error(`Invalid parameter syntax in mime type: "${t}".`);const o=s[0].trim(),l=s[1].trim();if(o==="")throw new Error(`Invalid parameter syntax in mime type: "${t}".`);i[o]=l}return{type:n,subtype:r,parameters:i}}function UE({dataUrl:t,asTypedArray:e=!1}){const n=t.match(/^data:(\w+\/\w+);base64,([A-Za-z0-9+/]+=*)$/);let r;if(n){r=n[1].toLowerCase();const i=e?Uint8Array.from(atob(n[2]),a=>a.charCodeAt(0)):n[2];return{mime_type:r,data:i}}}function vle(t,e){if(t.type==="text"){if(!e.fromStandardTextBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardTextBlock\` method.`);return e.fromStandardTextBlock(t)}if(t.type==="image"){if(!e.fromStandardImageBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardImageBlock\` method.`);return e.fromStandardImageBlock(t)}if(t.type==="audio"){if(!e.fromStandardAudioBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardAudioBlock\` method.`);return e.fromStandardAudioBlock(t)}if(t.type==="file"){if(!e.fromStandardFileBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardFileBlock\` method.`);return e.fromStandardFileBlock(t)}throw new Error(`Unable to convert content block type '${t.type}' to provider-specific format: not recognized.`)}var xle=function(t,e){if(typeof t!="string")throw new TypeError("Expected a string");return e=typeof e>"u"?"_":e,t.replace(/([a-z\d])([A-Z])/g,"$1"+e+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+e+"$2").toLowerCase()};const ble=at(xle);var dU={exports:{}};const wle=/[\p{Lu}]/u,_le=/[\p{Ll}]/u,I2=/^[\p{Lu}](?![\p{Lu}])/gu,fU=/([\p{Alpha}\p{N}_]|$)/u,hU=/[_.\- ]+/,Sle=new RegExp("^"+hU.source),$2=new RegExp(hU.source+fU.source,"gu"),R2=new RegExp("\\d+"+fU.source,"gu"),Ele=(t,e,n)=>{let r=!1,i=!1,a=!1;for(let s=0;s<t.length;s++){const o=t[s];r&&wle.test(o)?(t=t.slice(0,s)+"-"+t.slice(s),r=!1,a=i,i=!0,s++):i&&a&&_le.test(o)?(t=t.slice(0,s-1)+"-"+t.slice(s-1),a=i,i=!1,r=!0):(r=e(o)===o&&n(o)!==o,a=i,i=n(o)===o&&e(o)!==o)}return t},jle=(t,e)=>(I2.lastIndex=0,t.replace(I2,n=>e(n))),Ale=(t,e)=>($2.lastIndex=0,R2.lastIndex=0,t.replace($2,(n,r)=>e(r)).replace(R2,n=>e(n))),pU=(t,e)=>{if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(t)?t=t.map(a=>a.trim()).filter(a=>a.length).join("-"):t=t.trim(),t.length===0)return"";const n=e.locale===!1?a=>a.toLowerCase():a=>a.toLocaleLowerCase(e.locale),r=e.locale===!1?a=>a.toUpperCase():a=>a.toLocaleUpperCase(e.locale);return t.length===1?e.pascalCase?r(t):n(t):(t!==n(t)&&(t=Ele(t,n,r)),t=t.replace(Sle,""),e.preserveConsecutiveUppercase?t=jle(t,n):t=n(t),e.pascalCase&&(t=r(t.charAt(0))+t.slice(1)),Ale(t,r))};dU.exports=pU;dU.exports.default=pU;function Tle(t,e){return(e==null?void 0:e[t])||ble(t)}function kle(t,e,n){const r={};for(const i in t)Object.hasOwn(t,i)&&(r[e(i,n)]=t[i]);return r}var Cle={};bt(Cle,{Serializable:()=>Gd,get_lc_unique_name:()=>aC});function M2(t){return Array.isArray(t)?[...t]:{...t}}function Ole(t,e){const n=M2(t);for(const[r,i]of Object.entries(e)){const[a,...s]=r.split(".").reverse();let o=n;for(const l of s.reverse()){if(o[l]===void 0)break;o[l]=M2(o[l]),o=o[l]}o[a]!==void 0&&(o[a]={lc:1,type:"secret",id:[i]})}return n}function aC(t){const e=Object.getPrototypeOf(t);return typeof t.lc_name=="function"&&(typeof e.lc_name!="function"||t.lc_name()!==e.lc_name())?t.lc_name():t.name}var Gd=class mU{constructor(e,...n){H(this,"lc_serializable",!1);H(this,"lc_kwargs");this.lc_serializable_keys!==void 0?this.lc_kwargs=Object.fromEntries(Object.entries(e||{}).filter(([r])=>{var i;return(i=this.lc_serializable_keys)==null?void 0:i.includes(r)})):this.lc_kwargs=e??{}}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,aC(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof mU||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const e={},n={},r=Object.keys(this.lc_kwargs).reduce((i,a)=>(i[a]=a in this?this[a]:this.lc_kwargs[a],i),{});for(let i=Object.getPrototypeOf(this);i;i=Object.getPrototypeOf(i))Object.assign(e,Reflect.get(i,"lc_aliases",this)),Object.assign(n,Reflect.get(i,"lc_secrets",this)),Object.assign(r,Reflect.get(i,"lc_attributes",this));return Object.keys(n).forEach(i=>{let a=this,s=r;const[o,...l]=i.split(".").reverse();for(const c of l.reverse()){if(!(c in a)||a[c]===void 0)return;(!(c in s)||s[c]===void 0)&&(typeof a[c]=="object"&&a[c]!=null?s[c]={}:Array.isArray(a[c])&&(s[c]=[])),a=a[c],s=s[c]}o in a&&a[o]!==void 0&&(s[o]=s[o]||a[o])}),{lc:1,type:"constructor",id:this.lc_id,kwargs:kle(Object.keys(n).length?Ole(r,n):r,Tle,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}};function Me(t,e){return We(t)&&t.type===e}function We(t){return typeof t=="object"&&t!==null}function is(t){return Array.isArray(t)}function Ee(t){return typeof t=="string"}function Qi(t){return typeof t=="number"}function sC(t){return t instanceof Uint8Array}function D2(t){try{return JSON.parse(t)}catch{return}}const rm=t=>t();function Nle(t){if(t.type==="char_location"&&Ee(t.document_title)&&Qi(t.start_char_index)&&Qi(t.end_char_index)&&Ee(t.cited_text)){const{document_title:e,start_char_index:n,end_char_index:r,cited_text:i,...a}=t;return{...a,type:"citation",source:"char",title:e??void 0,startIndex:n,endIndex:r,citedText:i}}if(t.type==="page_location"&&Ee(t.document_title)&&Qi(t.start_page_number)&&Qi(t.end_page_number)&&Ee(t.cited_text)){const{document_title:e,start_page_number:n,end_page_number:r,cited_text:i,...a}=t;return{...a,type:"citation",source:"page",title:e??void 0,startIndex:n,endIndex:r,citedText:i}}if(t.type==="content_block_location"&&Ee(t.document_title)&&Qi(t.start_block_index)&&Qi(t.end_block_index)&&Ee(t.cited_text)){const{document_title:e,start_block_index:n,end_block_index:r,cited_text:i,...a}=t;return{...a,type:"citation",source:"block",title:e??void 0,startIndex:n,endIndex:r,citedText:i}}if(t.type==="web_search_result_location"&&Ee(t.url)&&Ee(t.title)&&Ee(t.encrypted_index)&&Ee(t.cited_text)){const{url:e,title:n,encrypted_index:r,cited_text:i,...a}=t;return{...a,type:"citation",source:"url",url:e,title:n,startIndex:Number(r),endIndex:Number(r),citedText:i}}if(t.type==="search_result_location"&&Ee(t.source)&&Ee(t.title)&&Qi(t.start_block_index)&&Qi(t.end_block_index)&&Ee(t.cited_text)){const{source:e,title:n,start_block_index:r,end_block_index:i,cited_text:a,...s}=t;return{...s,type:"citation",source:"search",url:e,title:n??void 0,startIndex:r,endIndex:i,citedText:a}}}function gU(t){if(Me(t,"document")&&We(t.source)&&"type"in t.source){if(t.source.type==="base64"&&Ee(t.source.media_type)&&Ee(t.source.data))return{type:"file",mimeType:t.source.media_type,data:t.source.data};if(t.source.type==="url"&&Ee(t.source.url))return{type:"file",url:t.source.url};if(t.source.type==="file"&&Ee(t.source.file_id))return{type:"file",fileId:t.source.file_id};if(t.source.type==="text"&&Ee(t.source.data))return{type:"file",mimeType:String(t.source.media_type??"text/plain"),data:t.source.data}}else if(Me(t,"image")&&We(t.source)&&"type"in t.source){if(t.source.type==="base64"&&Ee(t.source.media_type)&&Ee(t.source.data))return{type:"image",mimeType:t.source.media_type,data:t.source.data};if(t.source.type==="url"&&Ee(t.source.url))return{type:"image",url:t.source.url};if(t.source.type==="file"&&Ee(t.source.file_id))return{type:"image",fileId:t.source.file_id}}}function Ple(t){function*e(){for(const n of t){const r=gU(n);r?yield r:yield n}}return Array.from(e())}function L2(t){function*e(){var r;const n=typeof t.content=="string"?[{type:"text",text:t.content}]:t.content;for(const i of n){if(Me(i,"text")&&Ee(i.text)){const{text:a,citations:s,...o}=i;if(is(s)&&s.length){const l=s.reduce((c,d)=>{const f=Nle(d);return f?[...c,f]:c},[]);yield{...o,type:"text",text:a,annotations:l};continue}else{yield{...o,type:"text",text:a};continue}}else if(Me(i,"thinking")&&Ee(i.thinking)){const{thinking:a,signature:s,...o}=i;yield{...o,type:"reasoning",reasoning:a,signature:s};continue}else if(Me(i,"redacted_thinking")){yield{type:"non_standard",value:i};continue}else if(Me(i,"tool_use")&&Ee(i.name)&&Ee(i.id)){yield{type:"tool_call",id:i.id,name:i.name,args:i.input};continue}else if(Me(i,"input_json_delta")){if($le(t)&&((r=t.tool_call_chunks)!=null&&r.length)){const a=t.tool_call_chunks[0];yield{type:"tool_call_chunk",id:a.id,name:a.name,args:a.args,index:a.index};continue}}else if(Me(i,"server_tool_use")&&Ee(i.name)&&Ee(i.id)){const{name:a,id:s}=i;if(a==="web_search"){const o=rm(()=>{if(typeof i.input=="string")return i.input;if(We(i.input)&&Ee(i.input.query))return i.input.query;if(Ee(i.partial_json)){const l=D2(i.partial_json);if(l!=null&&l.query)return l.query}return""});yield{id:s,type:"server_tool_call",name:"web_search",args:{query:o}};continue}else if(i.name==="code_execution"){const o=rm(()=>{if(typeof i.input=="string")return i.input;if(We(i.input)&&Ee(i.input.code))return i.input.code;if(Ee(i.partial_json)){const l=D2(i.partial_json);if(l!=null&&l.code)return l.code}return""});yield{id:s,type:"server_tool_call",name:"code_execution",args:{code:o}};continue}}else if(Me(i,"web_search_tool_result")&&Ee(i.tool_use_id)&&is(i.content)){const{content:a,tool_use_id:s}=i,o=a.reduce((l,c)=>Me(c,"web_search_result")?[...l,c.url]:l,[]);yield{type:"server_tool_call_result",name:"web_search",toolCallId:s,status:"success",output:{urls:o}};continue}else if(Me(i,"code_execution_tool_result")&&Ee(i.tool_use_id)&&We(i.content)){yield{type:"server_tool_call_result",name:"code_execution",toolCallId:i.tool_use_id,status:"success",output:i.content};continue}else if(Me(i,"mcp_tool_use")){yield{id:i.id,type:"server_tool_call",name:"mcp_tool_use",args:i.input};continue}else if(Me(i,"mcp_tool_result")&&Ee(i.tool_use_id)&&We(i.content)){yield{type:"server_tool_call_result",name:"mcp_tool_use",toolCallId:i.tool_use_id,status:"success",output:i.content};continue}else if(Me(i,"container_upload")){yield{type:"server_tool_call",name:"container_upload",args:i.input};continue}else if(Me(i,"search_result")){yield{id:i.id,type:"non_standard",value:i};continue}else if(Me(i,"tool_result")){yield{id:i.id,type:"non_standard",value:i};continue}else{const a=gU(i);if(a){yield a;continue}}yield{type:"non_standard",value:i}}}return Array.from(e())}const Ile={translateContent:L2,translateContentChunk:L2};function $le(t){return typeof(t==null?void 0:t._getType)=="function"&&typeof t.concat=="function"&&t._getType()==="ai"}function Rle(t){return rC(t)?{type:t.type,mimeType:t.mime_type,url:t.url,metadata:t.metadata}:iC(t)?{type:t.type,mimeType:t.mime_type??"application/octet-stream",data:t.data,metadata:t.metadata}:cU(t)?{type:t.type,mimeType:t.mime_type,fileId:t.id,metadata:t.metadata}:t}function Mle(t){return t.map(Rle)}function Dle(t){return!!(Me(t,"image_url")&&We(t.image_url)||Me(t,"input_audio")&&We(t.input_audio)||Me(t,"file")&&We(t.file))}function Lle(t){if(Me(t,"image_url")&&We(t.image_url)&&Ee(t.image_url.url)){const e=UE({dataUrl:t.image_url.url});return e?{type:"image",mimeType:e.mime_type,data:e.data}:{type:"image",url:t.image_url.url}}else{if(Me(t,"input_audio")&&We(t.input_audio)&&Ee(t.input_audio.data)&&Ee(t.input_audio.format))return{type:"audio",data:t.input_audio.data,mimeType:`audio/${t.input_audio.format}`};if(Me(t,"file")&&We(t.file)&&Ee(t.file.data)){const e=UE({dataUrl:t.file.data});if(e)return{type:"file",data:e.data,mimeType:e.mime_type};if(Ee(t.file.file_id))return{type:"file",fileId:t.file.file_id}}}return t}function Fle(t){const e=[];typeof t.content=="string"?e.push({type:"text",text:t.content}):e.push(...oC(t.content));for(const n of t.tool_calls??[])e.push({type:"tool_call",id:n.id,name:n.name,args:n.args});return e}function Ble(t){const e=[];typeof t.content=="string"?e.push({type:"text",text:t.content}):e.push(...oC(t.content));for(const n of t.tool_calls??[])e.push({type:"tool_call",id:n.id,name:n.name,args:n.args});return e}function oC(t){const e=[];for(const n of t)Dle(n)?e.push(Lle(n)):e.push(n);return e}function zle(t){if(t.type==="url_citation"){const{url:e,title:n,start_index:r,end_index:i}=t;return{type:"citation",url:e,title:n,startIndex:r,endIndex:i}}if(t.type==="file_citation"){const{file_id:e,filename:n,index:r}=t;return{type:"citation",title:n,startIndex:r,endIndex:r,fileId:e}}return t}function yU(t){function*e(){var r;We((r=t.additional_kwargs)==null?void 0:r.reasoning)&&is(t.additional_kwargs.reasoning.summary)&&(yield{type:"reasoning",reasoning:t.additional_kwargs.reasoning.summary.reduce((a,s)=>We(s)&&Ee(s.text)?`${a}${s.text}`:a,"")});const n=typeof t.content=="string"?[{type:"text",text:t.content}]:t.content;for(const i of n)if(Me(i,"text")){const{text:a,annotations:s,...o}=i;Array.isArray(s)?yield{...o,type:"text",text:String(a),annotations:s.map(zle)}:yield{...o,type:"text",text:String(a)}}for(const i of t.tool_calls??[])yield{type:"tool_call",id:i.id,name:i.name,args:i.args};if(We(t.additional_kwargs)&&is(t.additional_kwargs.tool_outputs))for(const i of t.additional_kwargs.tool_outputs){if(Me(i,"web_search_call")){yield{id:i.id,type:"server_tool_call",name:"web_search",args:{query:i.query}};continue}else if(Me(i,"file_search_call")){yield{id:i.id,type:"server_tool_call",name:"file_search",args:{query:i.query}};continue}else if(Me(i,"computer_call")){yield{type:"non_standard",value:i};continue}else if(Me(i,"code_interpreter_call")){if(Ee(i.code)&&(yield{id:i.id,type:"server_tool_call",name:"code_interpreter",args:{code:i.code}}),is(i.outputs)){const a=rm(()=>{if(i.status!=="in_progress"){if(i.status==="completed")return 0;if(i.status==="incomplete")return 127;if(i.status!=="interpreting"&&i.status==="failed")return 1}});for(const s of i.outputs)if(Me(s,"logs")){yield{type:"server_tool_call_result",toolCallId:i.id??"",status:"success",output:{type:"code_interpreter_output",returnCode:a??0,stderr:[0,void 0].includes(a)?void 0:String(s.logs),stdout:[0,void 0].includes(a)?String(s.logs):void 0}};continue}}continue}else if(Me(i,"mcp_call")){yield{id:i.id,type:"server_tool_call",name:"mcp_call",args:i.input};continue}else if(Me(i,"mcp_list_tools")){yield{id:i.id,type:"server_tool_call",name:"mcp_list_tools",args:i.input};continue}else if(Me(i,"mcp_approval_request")){yield{type:"non_standard",value:i};continue}else if(Me(i,"image_generation_call")){yield{type:"non_standard",value:i};continue}We(i)&&(yield{type:"non_standard",value:i})}}return Array.from(e())}function Ule(t){function*e(){yield*yU(t);for(const n of t.tool_call_chunks??[])yield{type:"tool_call_chunk",id:n.id,name:n.name,args:n.args}}return Array.from(e())}const Hle={translateContent:t=>typeof t.content=="string"?Fle(t):yU(t),translateContentChunk:t=>typeof t.content=="string"?Ble(t):Ule(t)};function vU(t){return typeof t=="object"&&t!==null&&"type"in t&&"content"in t&&(typeof t.content=="string"||Array.isArray(t.content))}function Vle(t,e="pretty"){return e==="pretty"?Wle(t):JSON.stringify(t)}function Wle(t){const e=[],n=` ${t.type.charAt(0).toUpperCase()+t.type.slice(1)} Message `,r=Math.floor((80-n.length)/2),i="=".repeat(r),a=n.length%2===0?i:`${i}=`;if(e.push(`${i}${n}${a}`),t.type==="ai"){const s=t;if(s.tool_calls&&s.tool_calls.length>0){e.push("Tool Calls:");for(const o of s.tool_calls){e.push(`  ${o.name} (${o.id})`),e.push(` Call ID: ${o.id}`),e.push("  Args:");for(const[l,c]of Object.entries(o.args))e.push(`    ${l}: ${c}`)}}}if(t.type==="tool"){const s=t;s.name&&e.push(`Name: ${s.name}`)}return typeof t.content=="string"&&t.content.trim()&&(e.length>1&&e.push(""),e.push(t.content)),e.join(`
`)}const B_=Symbol.for("langchain.message");function no(t,e){return typeof t=="string"?t===""?e:typeof e=="string"?t+e:Array.isArray(e)&&e.length===0?t:Array.isArray(e)&&e.some(n=>_l(n))?[{type:"text",source_type:"text",text:t},...e]:[{type:"text",text:t},...e]:Array.isArray(e)?lg(t,e)??[...t,...e]:e===""?t:Array.isArray(t)&&t.some(n=>_l(n))?[...t,{type:"file",source_type:"text",text:e}]:[...t,{type:"text",text:e}]}function xU(t,e){return t==="error"||e==="error"?"error":"success"}function qle(t,e){function n(r,i){if(typeof r!="object"||r===null||r===void 0)return r;if(i>=e)return Array.isArray(r)?"[Array]":"[Object]";if(Array.isArray(r))return r.map(s=>n(s,i+1));const a={};for(const s of Object.keys(r))a[s]=n(r[s],i+1);return a}return JSON.stringify(n(t,0),null,2)}var g5,uo=class extends Gd{constructor(e){const n=typeof e=="string"||Array.isArray(e)?{content:e}:e;n.additional_kwargs||(n.additional_kwargs={}),n.response_metadata||(n.response_metadata={});super(n);H(this,"lc_namespace",["langchain_core","messages"]);H(this,"lc_serializable",!0);H(this,g5,!0);H(this,"id");H(this,"name");H(this,"content");H(this,"additional_kwargs");H(this,"response_metadata");this.name=n.name,n.content===void 0&&n.contentBlocks!==void 0?(this.content=n.contentBlocks,this.response_metadata={output_version:"v1",...n.response_metadata}):n.content!==void 0?(this.content=n.content??[],this.response_metadata=n.response_metadata):(this.content=[],this.response_metadata=n.response_metadata),this.additional_kwargs=n.additional_kwargs,this.id=n.id}get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}_getType(){return this.type}getType(){return this._getType()}get text(){return typeof this.content=="string"?this.content:Array.isArray(this.content)?this.content.map(e=>typeof e=="string"?e:e.type==="text"?e.text:"").join(""):""}get contentBlocks(){const e=typeof this.content=="string"?[{type:"text",text:this.content}]:this.content;return[Mle,oC,Ple].reduce((i,a)=>a(i),e)}toDict(){return{type:this.getType(),data:this.toJSON().kwargs}}static lc_name(){return"BaseMessage"}get _printableFields(){return{id:this.id,content:this.content,name:this.name,additional_kwargs:this.additional_kwargs,response_metadata:this.response_metadata}}static isInstance(e){return typeof e=="object"&&e!==null&&B_ in e&&e[B_]===!0&&vU(e)}_updateId(e){this.id=e,this.lc_kwargs.id=e}get[(g5=B_,Symbol.toStringTag)](){return this.constructor.lc_name()}[Symbol.for("nodejs.util.inspect.custom")](e){if(e===null)return this;const n=qle(this._printableFields,Math.max(4,e));return`${this.constructor.lc_name()} ${n}`}toFormattedString(e="pretty"){return Vle(this,e)}};function Gle(t){return Array.isArray(t)&&t.every(e=>typeof e.index=="number")}function Qn(t={},e={}){const n={...t};for(const[r,i]of Object.entries(e))if(n[r]==null)n[r]=i;else{if(i==null)continue;if(typeof n[r]!=typeof i||Array.isArray(n[r])!==Array.isArray(i))throw new Error(`field[${r}] already exists in the message chunk, but with a different type.`);if(typeof n[r]=="string"){if(r==="type")continue;["id","name","output_version","model_provider"].includes(r)?n[r]=i:n[r]+=i}else if(typeof n[r]=="object"&&!Array.isArray(n[r]))n[r]=Qn(n[r],i);else if(Array.isArray(n[r]))n[r]=lg(n[r],i);else{if(n[r]===i)continue;console.warn(`field[${r}] already exists in this message chunk and value has unsupported type.`)}}return n}function lg(t,e){if(!(t===void 0&&e===void 0)){if(t===void 0||e===void 0)return t||e;{const n=[...t];for(const r of e)if(typeof r=="object"&&r!==null&&"index"in r&&typeof r.index=="number"){const i=n.findIndex(a=>{const s=typeof a=="object",o="index"in a&&a.index===r.index,l="id"in a&&"id"in r&&(a==null?void 0:a.id)===(r==null?void 0:r.id),c=!("id"in a)||!(a!=null&&a.id)||!("id"in r)||!(r!=null&&r.id);return s&&o&&(l||c)});i!==-1&&typeof n[i]=="object"&&n[i]!==null?n[i]=Qn(n[i],r):n.push(r)}else{if(typeof r=="object"&&r!==null&&"text"in r&&r.text==="")continue;n.push(r)}return n}}}function bU(t,e){if(!t&&!e)throw new Error("Cannot merge two undefined objects.");if(!t||!e)return t||e;if(typeof t!=typeof e)throw new Error(`Cannot merge objects of different types.
Left ${typeof t}
Right ${typeof e}`);if(typeof t=="string"&&typeof e=="string")return t+e;if(Array.isArray(t)&&Array.isArray(e))return lg(t,e);if(typeof t=="object"&&typeof e=="object")return Qn(t,e);if(t===e)return t;throw new Error(`Can not merge objects of different types.
Left ${t}
Right ${e}`)}var $l=class wU extends uo{static isInstance(e){if(!super.isInstance(e))return!1;let n=Object.getPrototypeOf(e);for(;n!==null;){if(n===wU.prototype)return!0;n=Object.getPrototypeOf(n)}return!1}};function _U(t){return typeof t.role=="string"}function Go(t){return typeof(t==null?void 0:t._getType)=="function"}function lC(t){return $l.isInstance(t)}function HE(t,e=vb){t=t.trim();const n=t.indexOf("```");if(n===-1)return e(t);let r=t.substring(n+3);r.startsWith(`json
`)?r=r.substring(5):r.startsWith("json")?r=r.substring(4):r.startsWith(`
`)&&(r=r.substring(1));const i=r.indexOf("```");let a=r;return i!==-1&&(a=r.substring(0,i)),e(a.trim())}function vb(t){if(typeof t>"u")return null;try{return JSON.parse(t)}catch{}let e="";const n=[];let r=!1,i=!1;for(let a of t){if(r)a==='"'&&!i?r=!1:a===`
`&&!i?a="\\n":a==="\\"?i=!i:i=!1;else if(a==='"')r=!0,i=!1;else if(a==="{")n.push("}");else if(a==="[")n.push("]");else if(a==="}"||a==="]")if(n&&n[n.length-1]===a)n.pop();else return null;e+=a}r&&(e+='"');for(let a=n.length-1;a>=0;a-=1)e+=n[a];try{return JSON.parse(e)}catch{return null}}function cC(t){switch(t){case"csv":return"text/csv";case"doc":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"docx":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"html":return"text/html";case"md":return"text/markdown";case"pdf":return"application/pdf";case"txt":return"text/plain";case"xls":return"application/vnd.ms-excel";case"xlsx":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"gif":return"image/gif";case"jpeg":return"image/jpeg";case"jpg":return"image/jpeg";case"png":return"image/png";case"webp":return"image/webp";case"flv":return"video/flv";case"mkv":return"video/mkv";case"mov":return"video/mov";case"mp4":return"video/mp4";case"mpeg":return"video/mpeg";case"mpg":return"video/mpg";case"three_gp":return"video/three_gp";case"webm":return"video/webm";case"wmv":return"video/wmv";default:return"application/octet-stream"}}function Kle(t){if(We(t.document)&&We(t.document.source)){const e=We(t.document)&&Ee(t.document.format)?t.document.format:"",n=cC(e);if(We(t.document.source)){if(We(t.document.source.s3Location)&&Ee(t.document.source.s3Location.uri))return{type:"file",mimeType:n,fileId:t.document.source.s3Location.uri};if(sC(t.document.source.bytes))return{type:"file",mimeType:n,data:t.document.source.bytes};if(Ee(t.document.source.text))return{type:"file",mimeType:n,data:Buffer.from(t.document.source.text).toString("base64")};if(is(t.document.source.content)){const r=t.document.source.content.reduce((i,a)=>We(a)&&Ee(a.text)?i+a.text:i,"");return{type:"file",mimeType:n,data:r}}}}return{type:"non_standard",value:t}}function Yle(t){if(Me(t,"image")&&We(t.image)){const e=We(t.image)&&Ee(t.image.format)?t.image.format:"",n=cC(e);if(We(t.image.source)){if(We(t.image.source.s3Location)&&Ee(t.image.source.s3Location.uri))return{type:"image",mimeType:n,fileId:t.image.source.s3Location.uri};if(sC(t.image.source.bytes))return{type:"image",mimeType:n,data:t.image.source.bytes}}}return{type:"non_standard",value:t}}function Xle(t){if(Me(t,"video")&&We(t.video)){const e=We(t.video)&&Ee(t.video.format)?t.video.format:"",n=cC(e);if(We(t.video.source)){if(We(t.video.source.s3Location)&&Ee(t.video.source.s3Location.uri))return{type:"video",mimeType:n,fileId:t.video.source.s3Location.uri};if(sC(t.video.source.bytes))return{type:"video",mimeType:n,data:t.video.source.bytes}}}return{type:"non_standard",value:t}}function F2(t){function*e(){const n=typeof t.content=="string"?[{type:"text",text:t.content}]:t.content;for(const r of n){if(Me(r,"cache_point")){yield{type:"non_standard",value:r};continue}else if(Me(r,"citations_content")&&We(r.citationsContent)){const i=is(r.citationsContent.content)?r.citationsContent.content.reduce((s,o)=>We(o)&&Ee(o.text)?s+o.text:s,""):"",a=is(r.citationsContent.citations)?r.citationsContent.citations.reduce((s,o)=>{if(We(o)){const l=is(o.sourceContent)?o.sourceContent.reduce((d,f)=>We(f)&&Ee(f.text)?d+f.text:d,""):"",c=rm(()=>{if(We(o.location)){const d=o.location.documentChar||o.location.documentPage||o.location.documentChunk;if(We(d))return{source:Qi(d.documentIndex)?d.documentIndex.toString():void 0,startIndex:Qi(d.start)?d.start:void 0,endIndex:Qi(d.end)?d.end:void 0}}return{}});s.push({type:"citation",citedText:l,...c})}return s},[]):[];yield{type:"text",text:i,annotations:a};continue}else if(Me(r,"document")&&We(r.document)){yield Kle(r);continue}else if(Me(r,"guard_content")){yield{type:"non_standard",value:r};continue}else if(Me(r,"image")&&We(r.image)){yield Yle(r);continue}else if(Me(r,"reasoning_content")&&Ee(r.reasoningText)){yield{type:"reasoning",reasoning:r.reasoningText};continue}else if(Me(r,"text")&&Ee(r.text)){yield{type:"text",text:r.text};continue}else if(Me(r,"tool_result")){yield{type:"non_standard",value:r};continue}else{if(Me(r,"tool_call"))continue;if(Me(r,"video")&&We(r.video)){yield Xle(r);continue}}yield{type:"non_standard",value:r}}}return Array.from(e())}const Zle={translateContent:F2,translateContentChunk:F2};function B2(t){function*e(){const n=typeof t.content=="string"?[{type:"text",text:t.content}]:t.content;for(const r of n){if(Me(r,"text")&&Ee(r.text)){yield{type:"text",text:r.text};continue}else if(Me(r,"inlineData")&&We(r.inlineData)&&Ee(r.inlineData.mimeType)&&Ee(r.inlineData.data)){yield{type:"file",mimeType:r.inlineData.mimeType,data:r.inlineData.data};continue}else if(Me(r,"functionCall")&&We(r.functionCall)&&Ee(r.functionCall.name)&&We(r.functionCall.args)){yield{type:"tool_call",id:t.id,name:r.functionCall.name,args:r.functionCall.args};continue}else if(Me(r,"functionResponse")){yield{type:"non_standard",value:r};continue}else if(Me(r,"fileData")&&We(r.fileData)&&Ee(r.fileData.mimeType)&&Ee(r.fileData.fileUri)){yield{type:"file",mimeType:r.fileData.mimeType,fileId:r.fileData.fileUri};continue}else if(Me(r,"executableCode")){yield{type:"non_standard",value:r};continue}else if(Me(r,"codeExecutionResult")){yield{type:"non_standard",value:r};continue}yield{type:"non_standard",value:r}}}return Array.from(e())}const Jle={translateContent:B2,translateContentChunk:B2};function z2(t){function*e(){const n=typeof t.content=="string"?[{type:"text",text:t.content}]:t.content;for(const r of n){if(Me(r,"reasoning")&&Ee(r.reasoning)){const i=rm(()=>{var s;const a=n.indexOf(r);if(is((s=t.additional_kwargs)==null?void 0:s.signatures)&&a>=0)return t.additional_kwargs.signatures.at(a)});Ee(i)?yield{type:"reasoning",reasoning:r.reasoning,signature:i}:yield{type:"reasoning",reasoning:r.reasoning};continue}else if(Me(r,"text")&&Ee(r.text)){yield{type:"text",text:r.text};continue}else if(Me(r,"image_url")){if(Ee(r.image_url))if(r.image_url.startsWith("data:")){const i=/^data:([^;]+);base64,(.+)$/,a=r.image_url.match(i);a?yield{type:"image",data:a[2],mimeType:a[1]}:yield{type:"image",url:r.image_url}}else yield{type:"image",url:r.image_url};continue}else if(Me(r,"media")&&Ee(r.mimeType)&&Ee(r.data)){yield{type:"file",mimeType:r.mimeType,data:r.data};continue}yield{type:"non_standard",value:r}}}return Array.from(e())}const Qle={translateContent:z2,translateContentChunk:z2};globalThis.lc_block_translators_registry??(globalThis.lc_block_translators_registry=new Map([["anthropic",Ile],["bedrock-converse",Zle],["google-genai",Jle],["google-vertexai",Qle],["openai",Hle]]));function SU(t){return globalThis.lc_block_translators_registry.get(t)}function EU(t,e){return Qn(t??{},e??{})}function jU(t,e){const n={};return((t==null?void 0:t.audio)!==void 0||(e==null?void 0:e.audio)!==void 0)&&(n.audio=((t==null?void 0:t.audio)??0)+((e==null?void 0:e.audio)??0)),((t==null?void 0:t.image)!==void 0||(e==null?void 0:e.image)!==void 0)&&(n.image=((t==null?void 0:t.image)??0)+((e==null?void 0:e.image)??0)),((t==null?void 0:t.video)!==void 0||(e==null?void 0:e.video)!==void 0)&&(n.video=((t==null?void 0:t.video)??0)+((e==null?void 0:e.video)??0)),((t==null?void 0:t.document)!==void 0||(e==null?void 0:e.document)!==void 0)&&(n.document=((t==null?void 0:t.document)??0)+((e==null?void 0:e.document)??0)),((t==null?void 0:t.text)!==void 0||(e==null?void 0:e.text)!==void 0)&&(n.text=((t==null?void 0:t.text)??0)+((e==null?void 0:e.text)??0)),n}function ece(t,e){const n={...jU(t,e)};return((t==null?void 0:t.cache_read)!==void 0||(e==null?void 0:e.cache_read)!==void 0)&&(n.cache_read=((t==null?void 0:t.cache_read)??0)+((e==null?void 0:e.cache_read)??0)),((t==null?void 0:t.cache_creation)!==void 0||(e==null?void 0:e.cache_creation)!==void 0)&&(n.cache_creation=((t==null?void 0:t.cache_creation)??0)+((e==null?void 0:e.cache_creation)??0)),n}function tce(t,e){const n={...jU(t,e)};return((t==null?void 0:t.reasoning)!==void 0||(e==null?void 0:e.reasoning)!==void 0)&&(n.reasoning=((t==null?void 0:t.reasoning)??0)+((e==null?void 0:e.reasoning)??0)),n}function AU(t,e){return{input_tokens:((t==null?void 0:t.input_tokens)??0)+((e==null?void 0:e.input_tokens)??0),output_tokens:((t==null?void 0:t.output_tokens)??0)+((e==null?void 0:e.output_tokens)??0),total_tokens:((t==null?void 0:t.total_tokens)??0)+((e==null?void 0:e.total_tokens)??0),input_token_details:ece(t==null?void 0:t.input_token_details,e==null?void 0:e.input_token_details),output_token_details:tce(t==null?void 0:t.output_token_details,e==null?void 0:e.output_token_details)}}var nce={};bt(nce,{ToolMessage:()=>Ff,ToolMessageChunk:()=>cg,defaultToolCallParser:()=>uC,isDirectToolOutput:()=>TU,isToolMessage:()=>kU,isToolMessageChunk:()=>CU});function TU(t){return t!=null&&typeof t=="object"&&"lc_direct_tool_output"in t&&t.lc_direct_tool_output===!0}var Ff=class extends uo{constructor(e,n,r){const i=typeof e=="string"||Array.isArray(e)?{content:e,name:r,tool_call_id:n}:e;super(i);H(this,"lc_direct_tool_output",!0);H(this,"type","tool");H(this,"status");H(this,"tool_call_id");H(this,"metadata");H(this,"artifact");this.tool_call_id=i.tool_call_id,this.artifact=i.artifact,this.status=i.status,this.metadata=i.metadata}static lc_name(){return"ToolMessage"}get lc_aliases(){return{tool_call_id:"tool_call_id"}}static isInstance(e){return super.isInstance(e)&&e.type==="tool"}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}},cg=class extends $l{constructor(e){super(e);H(this,"type","tool");H(this,"tool_call_id");H(this,"status");H(this,"artifact");this.tool_call_id=e.tool_call_id,this.artifact=e.artifact,this.status=e.status}static lc_name(){return"ToolMessageChunk"}concat(e){const n=this.constructor;return new n({content:no(this.content,e.content),additional_kwargs:Qn(this.additional_kwargs,e.additional_kwargs),response_metadata:Qn(this.response_metadata,e.response_metadata),artifact:bU(this.artifact,e.artifact),tool_call_id:this.tool_call_id,id:this.id??e.id,status:xU(this.status,e.status)})}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}};function uC(t){const e=[],n=[];for(const r of t)if(r.function){const i=r.function.name;try{const a=JSON.parse(r.function.arguments);e.push({name:i||"",args:a||{},id:r.id})}catch{n.push({name:i,args:r.function.arguments,id:r.id,error:"Malformed args."})}}else continue;return[e,n]}function kU(t){return typeof t=="object"&&t!==null&&"getType"in t&&typeof t.getType=="function"&&t.getType()==="tool"}function CU(t){return t._getType()==="tool"}var ds=class extends uo{constructor(e){var r;let n;if(typeof e=="string"||Array.isArray(e))n={content:e,tool_calls:[],invalid_tool_calls:[],additional_kwargs:{}};else{n=e;const i=(r=n.additional_kwargs)==null?void 0:r.tool_calls,a=n.tool_calls;i!=null&&i.length>0&&(a===void 0||a.length===0)&&console.warn(["New LangChain packages are available that more efficiently handle",`tool calling.

Please upgrade your packages to versions that set`,"message tool calls. e.g., `pnpm install @langchain/anthropic`,","pnpm install @langchain/openai`, etc."].join(" "));try{if(i!=null&&a===void 0){const[s,o]=uC(i);n.tool_calls=s??[],n.invalid_tool_calls=o??[]}else n.tool_calls=n.tool_calls??[],n.invalid_tool_calls=n.invalid_tool_calls??[]}catch{n.tool_calls=[],n.invalid_tool_calls=[]}if(n.response_metadata!==void 0&&"output_version"in n.response_metadata&&n.response_metadata.output_version==="v1"&&(n.contentBlocks=n.content,n.content=void 0),n.contentBlocks!==void 0){n.contentBlocks.push(...n.tool_calls.map(o=>({type:"tool_call",id:o.id,name:o.name,args:o.args})));const s=n.contentBlocks.filter(o=>o.type==="tool_call").filter(o=>{var l;return!((l=n.tool_calls)!=null&&l.some(c=>c.id===o.id&&c.name===o.name))});s.length>0&&(n.tool_calls=s.map(o=>({type:"tool_call",id:o.id,name:o.name,args:o.args})))}}super(n);H(this,"type","ai");H(this,"tool_calls",[]);H(this,"invalid_tool_calls",[]);H(this,"usage_metadata");typeof n!="string"&&(this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls),this.usage_metadata=n.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls"}}static lc_name(){return"AIMessage"}get contentBlocks(){if(this.response_metadata&&"output_version"in this.response_metadata&&this.response_metadata.output_version==="v1")return this.content;if(this.response_metadata&&"model_provider"in this.response_metadata&&typeof this.response_metadata.model_provider=="string"){const n=SU(this.response_metadata.model_provider);if(n)return n.translateContent(this)}const e=super.contentBlocks;if(this.tool_calls){const n=this.tool_calls.filter(r=>!e.some(i=>i.id===r.id&&i.name===r.name));e.push(...n.map(r=>({...r,type:"tool_call",id:r.id,name:r.name,args:r.args})))}return e}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}static isInstance(e){return super.isInstance(e)&&e.type==="ai"}};function xb(t){return t._getType()==="ai"}function VE(t){return t._getType()==="ai"}var fo=class extends $l{constructor(e){var r,i;let n;if(typeof e=="string"||Array.isArray(e))n={content:e,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else if(e.tool_call_chunks===void 0||e.tool_call_chunks.length===0)n={...e,tool_calls:e.tool_calls??[],invalid_tool_calls:[],tool_call_chunks:[],usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0};else{const s=(e.tool_call_chunks??[]).reduce((c,d)=>{const f=c.findIndex(([h])=>"id"in d&&d.id&&"index"in d&&d.index!==void 0?d.id===h.id&&d.index===h.index:"id"in d&&d.id?d.id===h.id:"index"in d&&d.index!==void 0?d.index===h.index:!1);return f!==-1?c[f].push(d):c.push([d]),c},[]),o=[],l=[];for(const c of s){let d=null;const f=((r=c[0])==null?void 0:r.name)??"",h=c.map(g=>g.args||"").join(""),p=h.length?h:"{}",m=(i=c[0])==null?void 0:i.id;try{if(d=vb(p),!m||d===null||typeof d!="object"||Array.isArray(d))throw new Error("Malformed tool call chunk args.");o.push({name:f,args:d,id:m,type:"tool_call"})}catch{l.push({name:f,args:p,id:m,error:"Malformed args.",type:"invalid_tool_call"})}}n={...e,tool_calls:o,invalid_tool_calls:l,usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0}}super(n);H(this,"type","ai");H(this,"tool_calls",[]);H(this,"invalid_tool_calls",[]);H(this,"tool_call_chunks",[]);H(this,"usage_metadata");this.tool_call_chunks=n.tool_call_chunks??this.tool_call_chunks,this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls,this.usage_metadata=n.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}get contentBlocks(){if(this.response_metadata&&"output_version"in this.response_metadata&&this.response_metadata.output_version==="v1")return this.content;if(this.response_metadata&&"model_provider"in this.response_metadata&&typeof this.response_metadata.model_provider=="string"){const n=SU(this.response_metadata.model_provider);if(n)return n.translateContent(this)}const e=super.contentBlocks;if(this.tool_calls&&typeof this.content!="string"){const n=this.content.filter(r=>r.type==="tool_call").map(r=>r.id);for(const r of this.tool_calls)r.id&&!n.includes(r.id)&&e.push({...r,type:"tool_call",id:r.id,name:r.name,args:r.args})}return e}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,tool_call_chunks:this.tool_call_chunks,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}concat(e){const n={content:no(this.content,e.content),additional_kwargs:Qn(this.additional_kwargs,e.additional_kwargs),response_metadata:EU(this.response_metadata,e.response_metadata),tool_call_chunks:[],id:this.id??e.id};if(this.tool_call_chunks!==void 0||e.tool_call_chunks!==void 0){const i=lg(this.tool_call_chunks,e.tool_call_chunks);i!==void 0&&i.length>0&&(n.tool_call_chunks=i)}(this.usage_metadata!==void 0||e.usage_metadata!==void 0)&&(n.usage_metadata=AU(this.usage_metadata,e.usage_metadata));const r=this.constructor;return new r(n)}static isInstance(e){return super.isInstance(e)&&e.type==="ai"}},tu=class OU extends uo{constructor(n,r){(typeof n=="string"||Array.isArray(n))&&(n={content:n,role:r});super(n);H(this,"type","generic");H(this,"role");this.role=n.role}static lc_name(){return"ChatMessage"}static _chatMessageClass(){return OU}static isInstance(n){return super.isInstance(n)&&n.type==="generic"}get _printableFields(){return{...super._printableFields,role:this.role}}},ug=class extends $l{constructor(e,n){(typeof e=="string"||Array.isArray(e))&&(e={content:e,role:n});super(e);H(this,"type","generic");H(this,"role");this.role=e.role}static lc_name(){return"ChatMessageChunk"}concat(e){const n=this.constructor;return new n({content:no(this.content,e.content),additional_kwargs:Qn(this.additional_kwargs,e.additional_kwargs),response_metadata:Qn(this.response_metadata,e.response_metadata),role:this.role,id:this.id??e.id})}static isInstance(e){return super.isInstance(e)&&e.type==="generic"}get _printableFields(){return{...super._printableFields,role:this.role}}};function rce(t){return t._getType()==="generic"}function ice(t){return t._getType()==="generic"}var bb=class extends uo{constructor(e){super(e);H(this,"type","function");H(this,"name");this.name=e.name}static lc_name(){return"FunctionMessage"}},dg=class extends $l{constructor(){super(...arguments);H(this,"type","function")}static lc_name(){return"FunctionMessageChunk"}concat(e){const n=this.constructor;return new n({content:no(this.content,e.content),additional_kwargs:Qn(this.additional_kwargs,e.additional_kwargs),response_metadata:Qn(this.response_metadata,e.response_metadata),name:this.name??"",id:this.id??e.id})}};function ace(t){return t._getType()==="function"}function sce(t){return t._getType()==="function"}var Sa=class extends uo{constructor(e){super(e);H(this,"type","human")}static lc_name(){return"HumanMessage"}static isInstance(e){return super.isInstance(e)&&e.type==="human"}},fg=class extends $l{constructor(e){super(e);H(this,"type","human")}static lc_name(){return"HumanMessageChunk"}concat(e){const n=this.constructor;return new n({content:no(this.content,e.content),additional_kwargs:Qn(this.additional_kwargs,e.additional_kwargs),response_metadata:Qn(this.response_metadata,e.response_metadata),id:this.id??e.id})}static isInstance(e){return super.isInstance(e)&&e.type==="human"}};function oce(t){return t.getType()==="human"}function lce(t){return t.getType()==="human"}var fs=class uv extends uo{constructor(n){super(n);H(this,"type","system")}static lc_name(){return"SystemMessage"}concat(n){if(typeof n=="string")return new uv({...this,content:no(this.content,n)});if(uv.isInstance(n))return new uv({...this,additional_kwargs:{...this.additional_kwargs,...n.additional_kwargs},response_metadata:{...this.response_metadata,...n.response_metadata},content:no(this.content,n.content)});throw new Error("Unexpected chunk type for system message")}static isInstance(n){return super.isInstance(n)&&n.type==="system"}},Sl=class extends $l{constructor(e){super(e);H(this,"type","system")}static lc_name(){return"SystemMessageChunk"}concat(e){const n=this.constructor;return new n({content:no(this.content,e.content),additional_kwargs:Qn(this.additional_kwargs,e.additional_kwargs),response_metadata:Qn(this.response_metadata,e.response_metadata),id:this.id??e.id})}static isInstance(e){return super.isInstance(e)&&e.type==="system"}};function cce(t){return t._getType()==="system"}function uce(t){return t._getType()==="system"}function NU(t,e){return t.lc_error_code=e,t.message=`${t.message}

Troubleshooting URL: https://docs.langchain.com/oss/javascript/langchain/errors/${e}/
`,t}function PU(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="tool_call")}var dce=class extends Error{constructor(e,n){super(e);H(this,"output");this.output=n}},l0=class extends uo{constructor(e){super({...e,content:[]});H(this,"type","remove");H(this,"id");this.id=e.id}get _printableFields(){return{...super._printableFields,id:this.id}}static isInstance(e){return super.isInstance(e)&&e.type==="remove"}};const fce=t=>t();function hce(t){return PU(t)?t:typeof t.id=="string"&&t.type==="function"&&typeof t.function=="object"&&t.function!==null&&"arguments"in t.function&&typeof t.function.arguments=="string"&&"name"in t.function&&typeof t.function.name=="string"?{id:t.id,args:JSON.parse(t.function.arguments),name:t.function.name,type:"tool_call"}:t}function pce(t){return typeof t=="object"&&t!=null&&t.lc===1&&Array.isArray(t.id)&&t.kwargs!=null&&typeof t.kwargs=="object"}function z_(t){let e,n;if(pce(t)){const r=t.id.at(-1);r==="HumanMessage"||r==="HumanMessageChunk"?e="user":r==="AIMessage"||r==="AIMessageChunk"?e="assistant":r==="SystemMessage"||r==="SystemMessageChunk"?e="system":r==="FunctionMessage"||r==="FunctionMessageChunk"?e="function":r==="ToolMessage"||r==="ToolMessageChunk"?e="tool":e="unknown",n=t.kwargs}else{const{type:r,...i}=t;e=r,n=i}if(e==="human"||e==="user")return new Sa(n);if(e==="ai"||e==="assistant"){const{tool_calls:r,...i}=n;if(!Array.isArray(r))return new ds(n);const a=r.map(hce);return new ds({...i,tool_calls:a})}else{if(e==="system")return new fs(n);if(e==="developer")return new fs({...n,additional_kwargs:{...n.additional_kwargs,__openai_role__:"developer"}});if(e==="tool"&&"tool_call_id"in n)return new Ff({...n,content:n.content,tool_call_id:n.tool_call_id,name:n.name});if(e==="remove"&&"id"in n&&typeof n.id=="string")return new l0({...n,id:n.id});throw NU(new Error(`Unable to coerce message from array: only human, AI, system, developer, or tool message coercion is currently supported.

Received: ${JSON.stringify(t,null,2)}`),"MESSAGE_COERCION_FAILURE")}}function up(t){if(typeof t=="string")return new Sa(t);if(Go(t))return t;if(Array.isArray(t)){const[e,n]=t;return z_({type:e,content:n})}else if(_U(t)){const{role:e,...n}=t;return z_({...n,type:e})}else return z_(t)}function dC(t,e="Human",n="AI"){const r=[];for(const i of t){let a;if(i._getType()==="human")a=e;else if(i._getType()==="ai")a=n;else if(i._getType()==="system")a="System";else if(i._getType()==="tool")a="Tool";else if(i._getType()==="generic")a=i.role;else throw new Error(`Got unsupported message type: ${i._getType()}`);const s=i.name?`${i.name}, `:"",o=typeof i.content=="string"?i.content:JSON.stringify(i.content,null,2);r.push(`${a}: ${s}${o}`)}return r.join(`
`)}function mce(t){if(t.data!==void 0)return t;{const e=t;return{type:e.type,data:{content:e.text,role:e.role,name:void 0,tool_call_id:void 0}}}}function fC(t){const e=mce(t);switch(e.type){case"human":return new Sa(e.data);case"ai":return new ds(e.data);case"system":return new fs(e.data);case"function":if(e.data.name===void 0)throw new Error("Name must be defined for function messages");return new bb(e.data);case"tool":if(e.data.tool_call_id===void 0)throw new Error("Tool call ID must be defined for tool messages");return new Ff(e.data);case"generic":if(e.data.role===void 0)throw new Error("Role must be defined for chat messages");return new tu(e.data);default:throw new Error(`Got unexpected type: ${e.type}`)}}function gce(t){return t.map(fC)}function yce(t){return t.map(e=>e.toDict())}function c0(t){var n;const e=t._getType();if(e==="human")return new fg({...t});if(e==="ai"){let r={...t};return"tool_calls"in r&&(r={...r,tool_call_chunks:(n=r.tool_calls)==null?void 0:n.map(i=>({...i,type:"tool_call_chunk",index:void 0,args:JSON.stringify(i.args)}))}),new fo({...r})}else{if(e==="system")return new Sl({...t});if(e==="function")return new dg({...t});if(tu.isInstance(t))return new ug({...t});throw new Error("Unknown message type.")}}var U_={},vce={};bt(vce,{getEnv:()=>DU,getEnvironmentVariable:()=>Bs,getRuntimeEnvironment:()=>LU,isBrowser:()=>IU,isDeno:()=>wb,isJsDom:()=>RU,isNode:()=>MU,isWebWorker:()=>$U});const IU=()=>typeof window<"u"&&typeof window.document<"u",$U=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",RU=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),wb=()=>typeof Deno<"u",MU=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!wb(),DU=()=>{let t;return IU()?t="browser":MU()?t="node":$U()?t="webworker":RU()?t="jsdom":wb()?t="deno":t="other",t};let H_;function LU(){return H_===void 0&&(H_={library:"langchain-js",runtime:DU()}),H_}function Bs(t){try{return typeof process<"u"?U_==null?void 0:U_[t]:wb()?Deno==null?void 0:Deno.env.get(t):void 0}catch{return}}const xce=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function dp(t){return typeof t=="string"&&xce.test(t)}function bce(t){if(!dp(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}var Dn=[];for(var V_=0;V_<256;++V_)Dn.push((V_+256).toString(16).slice(1));function hC(t,e=0){return(Dn[t[e+0]]+Dn[t[e+1]]+Dn[t[e+2]]+Dn[t[e+3]]+"-"+Dn[t[e+4]]+Dn[t[e+5]]+"-"+Dn[t[e+6]]+Dn[t[e+7]]+"-"+Dn[t[e+8]]+Dn[t[e+9]]+"-"+Dn[t[e+10]]+Dn[t[e+11]]+Dn[t[e+12]]+Dn[t[e+13]]+Dn[t[e+14]]+Dn[t[e+15]]).toLowerCase()}var dy,wce=new Uint8Array(16);function FU(){if(!dy&&(dy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!dy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dy(wce)}function _ce(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var Sce="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Ece="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function jce(t,e,n){function r(i,a,s,o){var l;if(typeof i=="string"&&(i=_ce(i)),typeof a=="string"&&(a=bce(a)),((l=a)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(a),c.set(i,a.length),c=n(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,s){o=o||0;for(var d=0;d<16;++d)s[o+d]=c[d];return s}return hC(c)}try{r.name=t}catch{}return r.DNS=Sce,r.URL=Ece,r}var Ace=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const U2={randomUUID:Ace};function jr(t,e,n){if(U2.randomUUID&&!e&&!t)return U2.randomUUID();t=t||{};var r=t.random||(t.rng||FU)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,hC(r)}function Tce(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function W_(t,e){return t<<e|t>>>32-e}function kce(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var a=t.length/4+2,s=Math.ceil(a/16),o=new Array(s),l=0;l<s;++l){for(var c=new Uint32Array(16),d=0;d<16;++d)c[d]=t[l*64+d*4]<<24|t[l*64+d*4+1]<<16|t[l*64+d*4+2]<<8|t[l*64+d*4+3];o[l]=c}o[s-1][14]=(t.length-1)*8/Math.pow(2,32),o[s-1][14]=Math.floor(o[s-1][14]),o[s-1][15]=(t.length-1)*8&4294967295;for(var f=0;f<s;++f){for(var h=new Uint32Array(80),p=0;p<16;++p)h[p]=o[f][p];for(var m=16;m<80;++m)h[m]=W_(h[m-3]^h[m-8]^h[m-14]^h[m-16],1);for(var g=n[0],x=n[1],b=n[2],v=n[3],y=n[4],_=0;_<80;++_){var w=Math.floor(_/20),E=W_(g,5)+Tce(w,x,b,v)+y+e[w]+h[_]>>>0;y=v,v=b,b=W_(x,30)>>>0,x=g,g=E}n[0]=n[0]+g>>>0,n[1]=n[1]+x>>>0,n[2]=n[2]+b>>>0,n[3]=n[3]+v>>>0,n[4]=n[4]+y>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var Bh=jce("v5",80,kce),H2=null,V2=null,Wi=0;function Cce(t,e,n){t=t||{};var r=e&&n||0,i=e||new Uint8Array(16),a=t.random||(t.rng||FU)(),s=t.msecs!==void 0?t.msecs:Date.now(),o=t.seq!==void 0?t.seq:null,l=V2,c=H2;return s>Wi&&t.msecs===void 0&&(Wi=s,o!==null&&(l=null,c=null)),o!==null&&(o>2147483647&&(o=2147483647),l=o>>>19&4095,c=o&524287),(l===null||c===null)&&(l=a[6]&127,l=l<<8|a[7],c=a[8]&63,c=c<<8|a[9],c=c<<5|a[10]>>>3),s+1e4>Wi&&o===null?++c>524287&&(c=0,++l>4095&&(l=0,Wi++)):Wi=s,V2=l,H2=c,i[r++]=Wi/1099511627776&255,i[r++]=Wi/4294967296&255,i[r++]=Wi/16777216&255,i[r++]=Wi/65536&255,i[r++]=Wi/256&255,i[r++]=Wi&255,i[r++]=l>>>4&15|112,i[r++]=l&255,i[r++]=c>>>13&63|128,i[r++]=c>>>5&255,i[r++]=c<<3&255|a[10]&7,i[r++]=a[11],i[r++]=a[12],i[r++]=a[13],i[r++]=a[14],i[r++]=a[15],e||hC(i)}var Oce={};bt(Oce,{BaseCallbackHandler:()=>hg,callbackHandlerPrefersStreaming:()=>BU,isBaseCallbackHandler:()=>zU});var Nce=class{};function BU(t){return"lc_prefer_streaming"in t&&t.lc_prefer_streaming}var hg=class extends Nce{constructor(e){super();H(this,"lc_serializable",!1);H(this,"lc_kwargs");H(this,"ignoreLLM",!1);H(this,"ignoreChain",!1);H(this,"ignoreAgent",!1);H(this,"ignoreRetriever",!1);H(this,"ignoreCustomEvent",!1);H(this,"raiseError",!1);H(this,"awaitHandlers",Bs("LANGCHAIN_CALLBACKS_BACKGROUND")==="false");this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever,this.ignoreCustomEvent=e.ignoreCustomEvent??this.ignoreCustomEvent,this.raiseError=e.raiseError??this.raiseError,this.awaitHandlers=this.raiseError||(e._awaitHandler??this.awaitHandlers))}get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,aC(this.constructor)]}copy(){return new this.constructor(this)}toJSON(){return Gd.prototype.toJSON.call(this)}toJSONNotImplemented(){return Gd.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){class n extends hg{constructor(){super();H(this,"name",jr());Object.assign(this,e)}}return new n}};const zU=t=>{const e=t;return e!==void 0&&typeof e.copy=="function"&&typeof e.name=="string"&&typeof e.awaitHandlers=="boolean"},Pce="gen_ai.operation.name",Ice="gen_ai.system",W2="gen_ai.request.model",$ce="gen_ai.response.model",q2="gen_ai.usage.input_tokens",G2="gen_ai.usage.output_tokens",K2="gen_ai.usage.total_tokens",Rce="gen_ai.request.max_tokens",Mce="gen_ai.request.temperature",Dce="gen_ai.request.top_p",Lce="gen_ai.request.frequency_penalty",Fce="gen_ai.request.presence_penalty",Bce="gen_ai.response.finish_reasons",zce="gen_ai.prompt",Uce="gen_ai.completion",Hce="gen_ai.request.extra_query",Vce="gen_ai.request.extra_body",Wce="gen_ai.serialized.name",qce="gen_ai.serialized.signature",Gce="gen_ai.serialized.doc",Kce="gen_ai.response.id",Yce="gen_ai.response.service_tier",Xce="gen_ai.response.system_fingerprint",Zce="gen_ai.usage.input_token_details",Jce="gen_ai.usage.output_token_details",Qce="langsmith.trace.session_id",eue="langsmith.trace.session_name",tue="langsmith.span.kind",nue="langsmith.trace.name",rue="langsmith.metadata",Y2="langsmith.span.tags",iue="langsmith.request.streaming",aue="langsmith.request.headers",sue=(...t)=>fetch(...t),UU=Symbol.for("ls:fetch_implementation"),oue=()=>{const t=globalThis[UU];return t?typeof t=="function"&&"Headers"in t&&"Request"in t&&"Response"in t:!1},lue=t=>async(...e)=>{if(t||Ar("DEBUG")==="true"){const[r,i]=e;console.log(` ${(i==null?void 0:i.method)||"GET"} ${r}`)}const n=await(globalThis[UU]??sue)(...e);return(t||Ar("DEBUG")==="true")&&console.log(` ${n.status} ${n.statusText} ${n.url}`),n},HU=()=>Ar("PROJECT")??hs("LANGCHAIN_SESSION")??"default",X2={};function WE(t){X2[t]||(console.warn(t),X2[t]=!0)}const cue=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Ye(t,e){if(!cue.test(t)){const n=e!==void 0?`Invalid UUID for ${e}: ${t}`:`Invalid UUID: ${t}`;throw new Error(n)}return t}function uue(t){const e=typeof t=="string"?Date.parse(t):t;return Cce({msecs:e,seq:0})}const VU="0.3.82";var fp={};let La;const due=()=>typeof window<"u"&&typeof window.document<"u",fue=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",hue=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),WU=()=>typeof Deno<"u",pue=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!WU(),qU=()=>La||(typeof Bun<"u"?La="bun":due()?La="browser":pue()?La="node":fue()?La="webworker":hue()?La="jsdom":WU()?La="deno":La="other",La);let q_;function GU(){if(q_===void 0){const t=qU(),e=gue();q_={library:"langsmith",runtime:t,sdk:"langsmith-js",sdk_version:VU,...e}}return q_}function KU(){const t=mue(),e={},n=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION","LANGSMITH_API_KEY","LANGSMITH_ENDPOINT","LANGSMITH_TRACING_V2","LANGSMITH_PROJECT","LANGSMITH_SESSION"];for(const[r,i]of Object.entries(t))typeof i=="string"&&!n.includes(r)&&!r.toLowerCase().includes("key")&&!r.toLowerCase().includes("secret")&&!r.toLowerCase().includes("token")&&(r==="LANGCHAIN_REVISION_ID"?e.revision_id=i:e[r]=i);return e}function mue(){const t={};try{if(typeof process<"u"&&fp)for(const[e,n]of Object.entries(fp))(e.startsWith("LANGCHAIN_")||e.startsWith("LANGSMITH_"))&&n!=null&&((e.toLowerCase().includes("key")||e.toLowerCase().includes("secret")||e.toLowerCase().includes("token"))&&typeof n=="string"?t[e]=n.slice(0,2)+"*".repeat(n.length-4)+n.slice(-2):t[e]=n)}catch{}return t}function hs(t){try{return typeof process<"u"?fp==null?void 0:fp[t]:void 0}catch{return}}function Ar(t){return hs(`LANGSMITH_${t}`)||hs(`LANGCHAIN_${t}`)}let G_;function gue(){if(G_!==void 0)return G_;const t=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],e={};for(const n of t){const r=hs(n);r!==void 0&&(e[n]=r)}return G_=e,e}function YU(){return hs("OTEL_ENABLED")==="true"||Ar("OTEL_ENABLED")==="true"}class yue{constructor(){Object.defineProperty(this,"hasWarned",{enumerable:!0,configurable:!0,writable:!0,value:!1})}startActiveSpan(e,...n){!this.hasWarned&&YU()&&(console.warn('You have enabled OTEL export via the `OTEL_ENABLED` or `LANGSMITH_OTEL_ENABLED` environment variable, but have not initialized the required OTEL instances. Please add:\n```\nimport { initializeOTEL } from "langsmith/experimental/otel/setup";\ninitializeOTEL();\n```\nat the beginning of your code.'),this.hasWarned=!0);let r;if(n.length===1&&typeof n[0]=="function"?r=n[0]:n.length===2&&typeof n[1]=="function"?r=n[1]:n.length===3&&typeof n[2]=="function"&&(r=n[2]),typeof r=="function")return r()}}class vue{constructor(){Object.defineProperty(this,"mockTracer",{enumerable:!0,configurable:!0,writable:!0,value:new yue})}getTracer(e,n){return this.mockTracer}getActiveSpan(){}setSpan(e,n){return e}getSpan(e){}setSpanContext(e,n){return e}getTracerProvider(){}setGlobalTracerProvider(e){return!1}}class xue{active(){return{}}with(e,n){return n()}}const K_=Symbol.for("ls:otel_trace"),Y_=Symbol.for("ls:otel_context"),Z2=Symbol.for("ls:otel_get_default_otlp_tracer_provider"),bue=new vue,wue=new xue;class _ue{getTraceInstance(){return globalThis[K_]??bue}getContextInstance(){return globalThis[Y_]??wue}initializeGlobalInstances(e){globalThis[K_]===void 0&&(globalThis[K_]=e.trace),globalThis[Y_]===void 0&&(globalThis[Y_]=e.context)}setDefaultOTLPTracerComponents(e){globalThis[Z2]=e}getDefaultOTLPTracerComponents(){return globalThis[Z2]??void 0}}const pC=new _ue;function XU(){return pC.getTraceInstance()}function Sue(){return pC.getContextInstance()}function Eue(){return pC.getDefaultOTLPTracerComponents()}const jue={llm:"chat",tool:"execute_tool",retriever:"embeddings",embedding:"embeddings",prompt:"chat"};function Aue(t){return jue[t]||t}class Tue{constructor(){Object.defineProperty(this,"spans",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}exportBatch(e,n){for(const r of e)try{if(!r.run)continue;if(r.operation==="post"){const i=this.createSpanForRun(r,r.run,n.get(r.id));i&&!r.run.end_time&&this.spans.set(r.id,i)}else this.updateSpanForRun(r,r.run)}catch(i){console.error(`Error processing operation ${r.id}:`,i)}}createSpanForRun(e,n,r){const i=r&&XU().getSpan(r);if(i)try{return this.finishSpanSetup(i,n,e)}catch(a){console.error(`Failed to create span for run ${e.id}:`,a);return}}finishSpanSetup(e,n,r){return this.setSpanAttributes(e,n,r),n.error?(e.setStatus({code:2}),e.recordException(new Error(n.error))):e.setStatus({code:1}),n.end_time&&e.end(new Date(n.end_time)),e}updateSpanForRun(e,n){try{const r=this.spans.get(e.id);if(!r){console.debug(`No span found for run ${e.id} during update`);return}this.setSpanAttributes(r,n,e),n.error?(r.setStatus({code:2}),r.recordException(new Error(n.error))):r.setStatus({code:1});const i=n.end_time;i&&(r.end(new Date(i)),this.spans.delete(e.id))}catch(r){console.error(`Failed to update span for run ${e.id}:`,r)}}extractModelName(e){var n;if((n=e.extra)!=null&&n.metadata){const r=e.extra.metadata;if(r.ls_model_name)return r.ls_model_name;if(r.invocation_params){const i=r.invocation_params;if(i.model)return i.model;if(i.model_name)return i.model_name}}}setSpanAttributes(e,n,r){var o;if("run_type"in n&&n.run_type){e.setAttribute(tue,n.run_type);const l=Aue(n.run_type||"chain");e.setAttribute(Pce,l)}"name"in n&&n.name&&e.setAttribute(nue,n.name),"session_id"in n&&n.session_id&&e.setAttribute(Qce,n.session_id),"session_name"in n&&n.session_name&&e.setAttribute(eue,n.session_name),this.setGenAiSystem(e,n);const i=this.extractModelName(n);i&&e.setAttribute(W2,i),"prompt_tokens"in n&&typeof n.prompt_tokens=="number"&&e.setAttribute(q2,n.prompt_tokens),"completion_tokens"in n&&typeof n.completion_tokens=="number"&&e.setAttribute(G2,n.completion_tokens),"total_tokens"in n&&typeof n.total_tokens=="number"&&e.setAttribute(K2,n.total_tokens),this.setInvocationParameters(e,n);const a=((o=n.extra)==null?void 0:o.metadata)||{};for(const[l,c]of Object.entries(a))c!=null&&e.setAttribute(`${rue}.${l}`,String(c));const s=n.tags;if(s&&Array.isArray(s)?e.setAttribute(Y2,s.join(", ")):s&&e.setAttribute(Y2,String(s)),"serialized"in n&&typeof n.serialized=="object"){const l=n.serialized;l.name&&e.setAttribute(Wce,String(l.name)),l.signature&&e.setAttribute(qce,String(l.signature)),l.doc&&e.setAttribute(Gce,String(l.doc))}this.setIOAttributes(e,r)}setGenAiSystem(e,n){let r="langchain";const i=this.extractModelName(n);if(i){const a=i.toLowerCase();a.includes("anthropic")||a.startsWith("claude")?r="anthropic":a.includes("bedrock")?r="aws.bedrock":a.includes("azure")&&a.includes("openai")?r="az.ai.openai":a.includes("azure")&&a.includes("inference")?r="az.ai.inference":a.includes("cohere")?r="cohere":a.includes("deepseek")?r="deepseek":a.includes("gemini")?r="gemini":a.includes("groq")?r="groq":a.includes("watson")||a.includes("ibm")?r="ibm.watsonx.ai":a.includes("mistral")?r="mistral_ai":a.includes("gpt")||a.includes("openai")?r="openai":a.includes("perplexity")||a.includes("sonar")?r="perplexity":a.includes("vertex")?r="vertex_ai":(a.includes("xai")||a.includes("grok"))&&(r="xai")}e.setAttribute(Ice,r)}setInvocationParameters(e,n){var i,a;if(!((a=(i=n.extra)==null?void 0:i.metadata)!=null&&a.invocation_params))return;const r=n.extra.metadata.invocation_params;r.max_tokens!==void 0&&e.setAttribute(Rce,r.max_tokens),r.temperature!==void 0&&e.setAttribute(Mce,r.temperature),r.top_p!==void 0&&e.setAttribute(Dce,r.top_p),r.frequency_penalty!==void 0&&e.setAttribute(Lce,r.frequency_penalty),r.presence_penalty!==void 0&&e.setAttribute(Fce,r.presence_penalty)}setIOAttributes(e,n){if(n.run.inputs)try{const r=n.run.inputs;typeof r=="object"&&r!==null&&(r.model&&Array.isArray(r.messages)&&e.setAttribute(W2,r.model),r.stream!==void 0&&e.setAttribute(iue,r.stream),r.extra_headers&&e.setAttribute(aue,JSON.stringify(r.extra_headers)),r.extra_query&&e.setAttribute(Hce,JSON.stringify(r.extra_query)),r.extra_body&&e.setAttribute(Vce,JSON.stringify(r.extra_body))),e.setAttribute(zce,JSON.stringify(r))}catch(r){console.debug(`Failed to process inputs for run ${n.id}`,r)}if(n.run.outputs)try{const r=n.run.outputs,i=this.getUnifiedRunTokens(r);if(i&&(e.setAttribute(q2,i[0]),e.setAttribute(G2,i[1]),e.setAttribute(K2,i[0]+i[1])),r&&typeof r=="object"){if(r.model&&e.setAttribute($ce,String(r.model)),r.id&&e.setAttribute(Kce,r.id),r.choices&&Array.isArray(r.choices)){const a=r.choices.map(s=>s.finish_reason).filter(s=>s).map(String);a.length>0&&e.setAttribute(Bce,a.join(", "))}if(r.service_tier&&e.setAttribute(Yce,r.service_tier),r.system_fingerprint&&e.setAttribute(Xce,r.system_fingerprint),r.usage_metadata&&typeof r.usage_metadata=="object"){const a=r.usage_metadata;a.input_token_details&&e.setAttribute(Zce,JSON.stringify(a.input_token_details)),a.output_token_details&&e.setAttribute(Jce,JSON.stringify(a.output_token_details))}}e.setAttribute(Uce,JSON.stringify(r))}catch(r){console.debug(`Failed to process outputs for run ${n.id}`,r)}}getUnifiedRunTokens(e){if(!e)return null;let n=this.extractUnifiedRunTokens(e.usage_metadata);if(n)return n;const r=Object.keys(e);for(const s of r){const o=e[s];if(!(!o||typeof o!="object")&&(n=this.extractUnifiedRunTokens(o.usage_metadata),n||o.lc===1&&o.kwargs&&typeof o.kwargs=="object"&&(n=this.extractUnifiedRunTokens(o.kwargs.usage_metadata),n)))return n}const i=e.generations||[];if(!Array.isArray(i))return null;const a=Array.isArray(i[0])?i.flat():i;for(const s of a)if(typeof s=="object"&&s.message&&typeof s.message=="object"&&s.message.kwargs&&typeof s.message.kwargs=="object"&&(n=this.extractUnifiedRunTokens(s.message.kwargs.usage_metadata),n))return n;return null}extractUnifiedRunTokens(e){return!e||typeof e!="object"||typeof e.input_tokens!="number"||typeof e.output_tokens!="number"?null:[e.input_tokens,e.output_tokens]}}const kue=Object.prototype.toString,Cue=t=>kue.call(t)==="[object Error]",Oue=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function Nue(t){if(!(t&&Cue(t)&&t.name==="TypeError"&&typeof t.message=="string"))return!1;const{message:n,stack:r}=t;return n==="Load failed"?r===void 0||"__sentry_captured__"in t:n.startsWith("error sending request for url")?!0:Oue.has(n)}function Pue(t){if(typeof t=="number"){if(t<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(t))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(t!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function fy(t,e,{min:n=0,allowInfinity:r=!1}={}){if(e!==void 0){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected \`${t}\` to be a number${r?" or Infinity":""}.`);if(!r&&!Number.isFinite(e))throw new TypeError(`Expected \`${t}\` to be a finite number.`);if(e<n)throw new TypeError(`Expected \`${t}\` to be  ${n}.`)}}let Iue=class extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}};function $ue(t,e){const n=Math.max(1,t+1),r=e.randomize?Math.random()+1:1;let i=Math.round(r*e.minTimeout*e.factor**(n-1));return i=Math.min(i,e.maxTimeout),i}function J2(t,e){return Number.isFinite(e)?e-(performance.now()-t):e}async function Rue({error:t,attemptNumber:e,retriesConsumed:n,startTime:r,options:i}){var p,m,g;const a=t instanceof Error?t:new TypeError(`Non-error was thrown: "${t}". You should only throw errors.`);if(a instanceof Iue)throw a.originalError;const s=Number.isFinite(i.retries)?Math.max(0,i.retries-n):i.retries,o=i.maxRetryTime??Number.POSITIVE_INFINITY,l=Object.freeze({error:a,attemptNumber:e,retriesLeft:s,retriesConsumed:n});if(await i.onFailedAttempt(l),J2(r,o)<=0)throw a;const c=await i.shouldConsumeRetry(l),d=J2(r,o);if(d<=0||s<=0)throw a;if(a instanceof TypeError&&!Nue(a)){if(c)throw a;return(p=i.signal)==null||p.throwIfAborted(),!1}if(!await i.shouldRetry(l))throw a;if(!c)return(m=i.signal)==null||m.throwIfAborted(),!1;const f=$ue(n,i),h=Math.min(f,d);return h>0&&await new Promise((x,b)=>{var _,w;const v=()=>{var E;clearTimeout(y),(E=i.signal)==null||E.removeEventListener("abort",v),b(i.signal.reason)},y=setTimeout(()=>{var E;(E=i.signal)==null||E.removeEventListener("abort",v),x()},h);i.unref&&((_=y.unref)==null||_.call(y)),(w=i.signal)==null||w.addEventListener("abort",v,{once:!0})}),(g=i.signal)==null||g.throwIfAborted(),!0}async function Mue(t,e={}){var a,s,o;if(e={...e},Pue(e.retries),Object.hasOwn(e,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");e.retries??(e.retries=10),e.factor??(e.factor=2),e.minTimeout??(e.minTimeout=1e3),e.maxTimeout??(e.maxTimeout=Number.POSITIVE_INFINITY),e.maxRetryTime??(e.maxRetryTime=Number.POSITIVE_INFINITY),e.randomize??(e.randomize=!1),e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.shouldConsumeRetry??(e.shouldConsumeRetry=()=>!0),fy("factor",e.factor,{min:0,allowInfinity:!1}),fy("minTimeout",e.minTimeout,{min:0,allowInfinity:!1}),fy("maxTimeout",e.maxTimeout,{min:0,allowInfinity:!0}),fy("maxRetryTime",e.maxRetryTime,{min:0,allowInfinity:!0}),e.factor>0||(e.factor=1),(a=e.signal)==null||a.throwIfAborted();let n=0,r=0;const i=performance.now();for(;!Number.isFinite(e.retries)||r<=e.retries;){n++;try{(s=e.signal)==null||s.throwIfAborted();const l=await t(n);return(o=e.signal)==null||o.throwIfAborted(),l}catch(l){await Rue({error:l,attemptNumber:n,retriesConsumed:r,startTime:i,options:e})&&r++}}throw new Error("Retry attempts exhausted without throwing an error.")}var ZU={},JU={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function a(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||l,h),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},o.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,h,p,m){var g=n?n+c:c;if(!this._events[g])return!1;var x=this._events[g],b=arguments.length,v,y;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,p),!0;case 6:return x.fn.call(x.context,d,f,h,p,m),!0}for(y=1,v=new Array(b-1);y<b;y++)v[y-1]=arguments[y];x.fn.apply(x.context,v)}else{var _=x.length,w;for(y=0;y<_;y++)switch(x[y].once&&this.removeListener(c,x[y].fn,void 0,!0),b){case 1:x[y].fn.call(x[y].context);break;case 2:x[y].fn.call(x[y].context,d);break;case 3:x[y].fn.call(x[y].context,d,f);break;case 4:x[y].fn.call(x[y].context,d,f,h);break;default:if(!v)for(w=1,v=new Array(b-1);w<b;w++)v[w-1]=arguments[w];x[y].fn.apply(x[y].context,v)}}return!0},o.prototype.on=function(c,d,f){return a(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return a(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,h){var p=n?n+c:c;if(!this._events[p])return this;if(!d)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&s(this,p);else{for(var g=0,x=[],b=m.length;g<b;g++)(m[g].fn!==d||h&&!m[g].once||f&&m[g].context!==f)&&x.push(m[g]);x.length?this._events[p]=x.length===1?x[0]:x:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(JU);var QU=JU.exports;const Due=at(QU);var _b={exports:{}},Lue=(t,e)=>(e=e||(()=>{}),t.then(n=>new Promise(r=>{r(e())}).then(()=>n),n=>new Promise(r=>{r(e())}).then(()=>{throw n})));const Fue=Lue;class e6 extends Error{constructor(e){super(e),this.name="TimeoutError"}}const t6=(t,e,n)=>new Promise((r,i)=>{if(typeof e!="number"||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===1/0){r(t);return}const a=setTimeout(()=>{if(typeof n=="function"){try{r(n())}catch(l){i(l)}return}const s=typeof n=="string"?n:`Promise timed out after ${e} milliseconds`,o=n instanceof Error?n:new e6(s);typeof t.cancel=="function"&&t.cancel(),i(o)},e);Fue(t.then(r,i),()=>{clearTimeout(a)})});_b.exports=t6;_b.exports.default=t6;_b.exports.TimeoutError=e6;var Bue=_b.exports,mC={},gC={};Object.defineProperty(gC,"__esModule",{value:!0});function zue(t,e,n){let r=0,i=t.length;for(;i>0;){const a=i/2|0;let s=r+a;n(t[s],e)<=0?(r=++s,i-=a+1):i=a}return r}gC.default=zue;Object.defineProperty(mC,"__esModule",{value:!0});const Uue=gC;class Hue{constructor(){this._queue=[]}enqueue(e,n){n=Object.assign({priority:0},n);const r={priority:n.priority,run:e};if(this.size&&this._queue[this.size-1].priority>=n.priority){this._queue.push(r);return}const i=Uue.default(this._queue,r,(a,s)=>s.priority-a.priority);this._queue.splice(i,0,r)}dequeue(){const e=this._queue.shift();return e==null?void 0:e.run}filter(e){return this._queue.filter(n=>n.priority===e.priority).map(n=>n.run)}get size(){return this._queue.length}}mC.default=Hue;Object.defineProperty(ZU,"__esModule",{value:!0});const Vue=QU,n6=Bue,Wue=mC,hy=()=>{},que=new n6.TimeoutError;class Gue extends Vue{constructor(e){var n,r,i,a;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=hy,this._resolveIdle=hy,e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:Wue.default},e),!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(r=(n=e.intervalCap)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(a=(i=e.interval)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||e.interval===0,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=e.throwOnTimeout===!0,this._isPaused=e.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=hy,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=hy,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(this._intervalId===void 0){const n=this._intervalEnd-e;if(n<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},n)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const n=this._queue.dequeue();return n?(this.emit("active"),n(),e&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,n={}){return new Promise((r,i)=>{const a=async()=>{this._pendingCount++,this._intervalCount++;try{const s=this._timeout===void 0&&n.timeout===void 0?e():n6.default(Promise.resolve(e()),n.timeout===void 0?this._timeout:n.timeout,()=>{(n.throwOnTimeout===void 0?this._throwOnTimeout:n.throwOnTimeout)&&i(que)});r(await s)}catch(s){i(s)}this._next()};this._queue.enqueue(a,n),this._tryToStartAnother(),this.emit("add")})}async addAll(e,n){return Promise.all(e.map(async r=>this.add(r,n)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(e=>{const n=this._resolveEmpty;this._resolveEmpty=()=>{n(),e()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(e=>{const n=this._resolveIdle;this._resolveIdle=()=>{n(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}var zs=ZU.default=Gue;const Kue=[408,425,429,500,502,503,504];let Q2=class{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxQueueSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queueSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.maxQueueSizeBytes=e.maxQueueSizeBytes,"default"in zs?this.queue=new zs.default({concurrency:this.maxConcurrency}):this.queue=new zs({concurrency:this.maxConcurrency}),this.onFailedResponseHook=e==null?void 0:e.onFailedResponseHook}call(e,...n){return this.callWithOptions({},e,...n)}callWithOptions(e,n,...r){const i=e.sizeBytes??0;if(this.maxQueueSizeBytes!==void 0&&i>0&&this.queueSizeBytes+i>this.maxQueueSizeBytes)return Promise.reject(new Error(`Queue size limit (${this.maxQueueSizeBytes} bytes) exceeded. Current queue size: ${this.queueSizeBytes} bytes, attempted addition: ${i} bytes.`));i>0&&(this.queueSizeBytes+=i);const a=this.onFailedResponseHook;let s=this.queue.add(()=>Mue(()=>n(...r).catch(o=>{throw o instanceof Error?o:new Error(o)}),{async onFailedAttempt({error:o}){if(o.message.startsWith("Cancel")||o.message.startsWith("TimeoutError")||o.name==="TimeoutError"||o.message.startsWith("AbortError")||(o==null?void 0:o.code)==="ECONNABORTED")throw o;const l=o==null?void 0:o.response;if(a&&await a(l))return;const c=(l==null?void 0:l.status)??(o==null?void 0:o.status);if(c&&!Kue.includes(+c))throw o},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0});return i>0&&(s=s.finally(()=>{this.queueSizeBytes-=i})),e.signal?Promise.race([s,new Promise((o,l)=>{var c;(c=e.signal)==null||c.addEventListener("abort",()=>{l(new Error("AbortError"))})})]):s}};function e$(t){return typeof(t==null?void 0:t._getType)=="function"}function t$(t){const e={type:t._getType(),data:{content:t.content}};return t!=null&&t.additional_kwargs&&Object.keys(t.additional_kwargs).length>0&&(e.data.additional_kwargs={...t.additional_kwargs}),e}var qE={exports:{}};const Yue="2.0.0",r6=256,Xue=Number.MAX_SAFE_INTEGER||9007199254740991,Zue=16,Jue=r6-6,Que=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Sb={MAX_LENGTH:r6,MAX_SAFE_COMPONENT_LENGTH:Zue,MAX_SAFE_BUILD_LENGTH:Jue,MAX_SAFE_INTEGER:Xue,RELEASE_TYPES:Que,SEMVER_SPEC_VERSION:Yue,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},X_={};const ede=typeof process=="object"&&X_&&X_.NODE_DEBUG&&/\bsemver\b/i.test(X_.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var Eb=ede;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=Sb,a=Eb;e=t.exports={};const s=e.re=[],o=e.safeRe=[],l=e.src=[],c=e.t={};let d=0;const f="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[f,r]],p=g=>{for(const[x,b]of h)g=g.split(`${x}*`).join(`${x}{0,${b}}`).split(`${x}+`).join(`${x}{1,${b}}`);return g},m=(g,x,b)=>{const v=p(x),y=d++;a(g,y,x),c[g]=y,l[y]=x,s[y]=new RegExp(x,b?"g":void 0),o[y]=new RegExp(v,b?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),m("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${l[c.NUMERICIDENTIFIER]}|${l[c.NONNUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NUMERICIDENTIFIERLOOSE]}|${l[c.NONNUMERICIDENTIFIER]})`),m("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${f}+`),m("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),m("FULL",`^${l[c.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),m("LOOSE",`^${l[c.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),m("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),m("COERCE",`${l[c.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",l[c.COERCEPLAIN]+`(?:${l[c.PRERELEASE]})?(?:${l[c.BUILD]})?(?:$|[^\\d])`),m("COERCERTL",l[c.COERCE],!0),m("COERCERTLFULL",l[c.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",m("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",m("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(qE,qE.exports);var pg=qE.exports;const tde=Object.freeze({loose:!0}),nde=Object.freeze({}),rde=t=>t?typeof t!="object"?tde:t:nde;var yC=rde;const n$=/^[0-9]+$/,i6=(t,e)=>{const n=n$.test(t),r=n$.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},ide=(t,e)=>i6(e,t);var a6={compareIdentifiers:i6,rcompareIdentifiers:ide};const py=Eb,{MAX_LENGTH:r$,MAX_SAFE_INTEGER:my}=Sb,{safeRe:i$,t:a$}=pg,ade=yC,{compareIdentifiers:wu}=a6;let sde=class Ba{constructor(e,n){if(n=ade(n),e instanceof Ba){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>r$)throw new TypeError(`version is longer than ${r$} characters`);py("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=e.trim().match(n.loose?i$[a$.LOOSE]:i$[a$.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>my||this.major<0)throw new TypeError("Invalid major version");if(this.minor>my||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>my||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const a=+i;if(a>=0&&a<my)return a}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(py("SemVer.compare",this.version,this.options,e),!(e instanceof Ba)){if(typeof e=="string"&&e===this.version)return 0;e=new Ba(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Ba||(e=new Ba(e,this.options)),wu(this.major,e.major)||wu(this.minor,e.minor)||wu(this.patch,e.patch)}comparePre(e){if(e instanceof Ba||(e=new Ba(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=e.prerelease[n];if(py("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return wu(r,i)}while(++n)}compareBuild(e){e instanceof Ba||(e=new Ba(e,this.options));let n=0;do{const r=this.build[n],i=e.build[n];if(py("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return wu(r,i)}while(++n)}inc(e,n,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let a=[n,i];r===!1&&(a=[n]),wu(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var yr=sde;const s$=yr,ode=(t,e,n=!1)=>{if(t instanceof s$)return t;try{return new s$(t,e)}catch(r){if(!n)return null;throw r}};var Bf=ode;const lde=Bf,cde=(t,e)=>{const n=lde(t,e);return n?n.version:null};var ude=cde;const dde=Bf,fde=(t,e)=>{const n=dde(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};var hde=fde;const o$=yr,pde=(t,e,n,r,i)=>{typeof n=="string"&&(i=r,r=n,n=void 0);try{return new o$(t instanceof o$?t.version:t,n).inc(e,r,i).version}catch{return null}};var mde=pde;const l$=Bf,gde=(t,e)=>{const n=l$(t,null,!0),r=l$(e,null,!0),i=n.compare(r);if(i===0)return null;const a=i>0,s=a?n:r,o=a?r:n,l=!!s.prerelease.length;if(!!o.prerelease.length&&!l)return!o.patch&&!o.minor?"major":s.patch?"patch":s.minor?"minor":"major";const d=l?"pre":"";return n.major!==r.major?d+"major":n.minor!==r.minor?d+"minor":n.patch!==r.patch?d+"patch":"prerelease"};var yde=gde;const vde=yr,xde=(t,e)=>new vde(t,e).major;var bde=xde;const wde=yr,_de=(t,e)=>new wde(t,e).minor;var Sde=_de;const Ede=yr,jde=(t,e)=>new Ede(t,e).patch;var Ade=jde;const Tde=Bf,kde=(t,e)=>{const n=Tde(t,e);return n&&n.prerelease.length?n.prerelease:null};var Cde=kde;const c$=yr,Ode=(t,e,n)=>new c$(t,n).compare(new c$(e,n));var ka=Ode;const Nde=ka,Pde=(t,e,n)=>Nde(e,t,n);var Ide=Pde;const $de=ka,Rde=(t,e)=>$de(t,e,!0);var Mde=Rde;const u$=yr,Dde=(t,e,n)=>{const r=new u$(t,n),i=new u$(e,n);return r.compare(i)||r.compareBuild(i)};var vC=Dde;const Lde=vC,Fde=(t,e)=>t.sort((n,r)=>Lde(n,r,e));var Bde=Fde;const zde=vC,Ude=(t,e)=>t.sort((n,r)=>zde(r,n,e));var Hde=Ude;const Vde=ka,Wde=(t,e,n)=>Vde(t,e,n)>0;var jb=Wde;const qde=ka,Gde=(t,e,n)=>qde(t,e,n)<0;var xC=Gde;const Kde=ka,Yde=(t,e,n)=>Kde(t,e,n)===0;var s6=Yde;const Xde=ka,Zde=(t,e,n)=>Xde(t,e,n)!==0;var o6=Zde;const Jde=ka,Qde=(t,e,n)=>Jde(t,e,n)>=0;var bC=Qde;const efe=ka,tfe=(t,e,n)=>efe(t,e,n)<=0;var wC=tfe;const nfe=s6,rfe=o6,ife=jb,afe=bC,sfe=xC,ofe=wC,lfe=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return nfe(t,n,r);case"!=":return rfe(t,n,r);case">":return ife(t,n,r);case">=":return afe(t,n,r);case"<":return sfe(t,n,r);case"<=":return ofe(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};var l6=lfe;const cfe=yr,ufe=Bf,{safeRe:gy,t:yy}=pg,dfe=(t,e)=>{if(t instanceof cfe)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?gy[yy.COERCEFULL]:gy[yy.COERCE]);else{const l=e.includePrerelease?gy[yy.COERCERTLFULL]:gy[yy.COERCERTL];let c;for(;(c=l.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||c.index+c[0].length!==n.index+n[0].length)&&(n=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(n===null)return null;const r=n[2],i=n[3]||"0",a=n[4]||"0",s=e.includePrerelease&&n[5]?`-${n[5]}`:"",o=e.includePrerelease&&n[6]?`+${n[6]}`:"";return ufe(`${r}.${i}.${a}${s}${o}`,e)};var ffe=dfe;class hfe{constructor(){this.max=1e3,this.map=new Map}get(e){const n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(e,n)}return this}}var pfe=hfe,Z_,d$;function Ca(){if(d$)return Z_;d$=1;const t=/\s+/g;class e{constructor(D,U){if(U=i(U),D instanceof e)return D.loose===!!U.loose&&D.includePrerelease===!!U.includePrerelease?D:new e(D.raw,U);if(D instanceof a)return this.raw=D.value,this.set=[[D]],this.formatted=void 0,this;if(this.options=U,this.loose=!!U.loose,this.includePrerelease=!!U.includePrerelease,this.raw=D.trim().replace(t," "),this.set=this.raw.split("||").map(V=>this.parseRange(V.trim())).filter(V=>V.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const V=this.set[0];if(this.set=this.set.filter(L=>!g(L[0])),this.set.length===0)this.set=[V];else if(this.set.length>1){for(const L of this.set)if(L.length===1&&x(L[0])){this.set=[L];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let D=0;D<this.set.length;D++){D>0&&(this.formatted+="||");const U=this.set[D];for(let V=0;V<U.length;V++)V>0&&(this.formatted+=" "),this.formatted+=U[V].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(D){const V=((this.options.includePrerelease&&p)|(this.options.loose&&m))+":"+D,L=r.get(V);if(L)return L;const B=this.options.loose,P=B?l[c.HYPHENRANGELOOSE]:l[c.HYPHENRANGE];D=D.replace(P,O(this.options.includePrerelease)),s("hyphen replace",D),D=D.replace(l[c.COMPARATORTRIM],d),s("comparator trim",D),D=D.replace(l[c.TILDETRIM],f),s("tilde trim",D),D=D.replace(l[c.CARETTRIM],h),s("caret trim",D);let W=D.split(" ").map(ie=>v(ie,this.options)).join(" ").split(/\s+/).map(ie=>C(ie,this.options));B&&(W=W.filter(ie=>(s("loose invalid filter",ie,this.options),!!ie.match(l[c.COMPARATORLOOSE])))),s("range list",W);const G=new Map,$=W.map(ie=>new a(ie,this.options));for(const ie of $){if(g(ie))return[ie];G.set(ie.value,ie)}G.size>1&&G.has("")&&G.delete("");const ee=[...G.values()];return r.set(V,ee),ee}intersects(D,U){if(!(D instanceof e))throw new TypeError("a Range is required");return this.set.some(V=>b(V,U)&&D.set.some(L=>b(L,U)&&V.every(B=>L.every(P=>B.intersects(P,U)))))}test(D){if(!D)return!1;if(typeof D=="string")try{D=new o(D,this.options)}catch{return!1}for(let U=0;U<this.set.length;U++)if(F(this.set[U],D,this.options))return!0;return!1}}Z_=e;const n=pfe,r=new n,i=yC,a=Ab(),s=Eb,o=yr,{safeRe:l,t:c,comparatorTrimReplace:d,tildeTrimReplace:f,caretTrimReplace:h}=pg,{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:m}=Sb,g=R=>R.value==="<0.0.0-0",x=R=>R.value==="",b=(R,D)=>{let U=!0;const V=R.slice();let L=V.pop();for(;U&&V.length;)U=V.every(B=>L.intersects(B,D)),L=V.pop();return U},v=(R,D)=>(s("comp",R,D),R=E(R,D),s("caret",R),R=_(R,D),s("tildes",R),R=j(R,D),s("xrange",R),R=k(R,D),s("stars",R),R),y=R=>!R||R.toLowerCase()==="x"||R==="*",_=(R,D)=>R.trim().split(/\s+/).map(U=>w(U,D)).join(" "),w=(R,D)=>{const U=D.loose?l[c.TILDELOOSE]:l[c.TILDE];return R.replace(U,(V,L,B,P,W)=>{s("tilde",R,V,L,B,P,W);let G;return y(L)?G="":y(B)?G=`>=${L}.0.0 <${+L+1}.0.0-0`:y(P)?G=`>=${L}.${B}.0 <${L}.${+B+1}.0-0`:W?(s("replaceTilde pr",W),G=`>=${L}.${B}.${P}-${W} <${L}.${+B+1}.0-0`):G=`>=${L}.${B}.${P} <${L}.${+B+1}.0-0`,s("tilde return",G),G})},E=(R,D)=>R.trim().split(/\s+/).map(U=>A(U,D)).join(" "),A=(R,D)=>{s("caret",R,D);const U=D.loose?l[c.CARETLOOSE]:l[c.CARET],V=D.includePrerelease?"-0":"";return R.replace(U,(L,B,P,W,G)=>{s("caret",R,L,B,P,W,G);let $;return y(B)?$="":y(P)?$=`>=${B}.0.0${V} <${+B+1}.0.0-0`:y(W)?B==="0"?$=`>=${B}.${P}.0${V} <${B}.${+P+1}.0-0`:$=`>=${B}.${P}.0${V} <${+B+1}.0.0-0`:G?(s("replaceCaret pr",G),B==="0"?P==="0"?$=`>=${B}.${P}.${W}-${G} <${B}.${P}.${+W+1}-0`:$=`>=${B}.${P}.${W}-${G} <${B}.${+P+1}.0-0`:$=`>=${B}.${P}.${W}-${G} <${+B+1}.0.0-0`):(s("no pr"),B==="0"?P==="0"?$=`>=${B}.${P}.${W}${V} <${B}.${P}.${+W+1}-0`:$=`>=${B}.${P}.${W}${V} <${B}.${+P+1}.0-0`:$=`>=${B}.${P}.${W} <${+B+1}.0.0-0`),s("caret return",$),$})},j=(R,D)=>(s("replaceXRanges",R,D),R.split(/\s+/).map(U=>T(U,D)).join(" ")),T=(R,D)=>{R=R.trim();const U=D.loose?l[c.XRANGELOOSE]:l[c.XRANGE];return R.replace(U,(V,L,B,P,W,G)=>{s("xRange",R,V,L,B,P,W,G);const $=y(B),ee=$||y(P),ie=ee||y(W),I=ie;return L==="="&&I&&(L=""),G=D.includePrerelease?"-0":"",$?L===">"||L==="<"?V="<0.0.0-0":V="*":L&&I?(ee&&(P=0),W=0,L===">"?(L=">=",ee?(B=+B+1,P=0,W=0):(P=+P+1,W=0)):L==="<="&&(L="<",ee?B=+B+1:P=+P+1),L==="<"&&(G="-0"),V=`${L+B}.${P}.${W}${G}`):ee?V=`>=${B}.0.0${G} <${+B+1}.0.0-0`:ie&&(V=`>=${B}.${P}.0${G} <${B}.${+P+1}.0-0`),s("xRange return",V),V})},k=(R,D)=>(s("replaceStars",R,D),R.trim().replace(l[c.STAR],"")),C=(R,D)=>(s("replaceGTE0",R,D),R.trim().replace(l[D.includePrerelease?c.GTE0PRE:c.GTE0],"")),O=R=>(D,U,V,L,B,P,W,G,$,ee,ie,I)=>(y(V)?U="":y(L)?U=`>=${V}.0.0${R?"-0":""}`:y(B)?U=`>=${V}.${L}.0${R?"-0":""}`:P?U=`>=${U}`:U=`>=${U}${R?"-0":""}`,y($)?G="":y(ee)?G=`<${+$+1}.0.0-0`:y(ie)?G=`<${$}.${+ee+1}.0-0`:I?G=`<=${$}.${ee}.${ie}-${I}`:R?G=`<${$}.${ee}.${+ie+1}-0`:G=`<=${G}`,`${U} ${G}`.trim()),F=(R,D,U)=>{for(let V=0;V<R.length;V++)if(!R[V].test(D))return!1;if(D.prerelease.length&&!U.includePrerelease){for(let V=0;V<R.length;V++)if(s(R[V].semver),R[V].semver!==a.ANY&&R[V].semver.prerelease.length>0){const L=R[V].semver;if(L.major===D.major&&L.minor===D.minor&&L.patch===D.patch)return!0}return!1}return!0};return Z_}var J_,f$;function Ab(){if(f$)return J_;f$=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(d,f){if(f=n(f),d instanceof e){if(d.loose===!!f.loose)return d;d=d.value}d=d.trim().split(/\s+/).join(" "),s("comparator",d,f),this.options=f,this.loose=!!f.loose,this.parse(d),this.semver===t?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(d){const f=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],h=d.match(f);if(!h)throw new TypeError(`Invalid comparator: ${d}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new o(h[2],this.options.loose):this.semver=t}toString(){return this.value}test(d){if(s("Comparator.test",d,this.options.loose),this.semver===t||d===t)return!0;if(typeof d=="string")try{d=new o(d,this.options)}catch{return!1}return a(d,this.operator,this.semver,this.options)}intersects(d,f){if(!(d instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(d.value,f).test(this.value):d.operator===""?d.value===""?!0:new l(this.value,f).test(d.semver):(f=n(f),f.includePrerelease&&(this.value==="<0.0.0-0"||d.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||d.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&d.operator.startsWith(">")||this.operator.startsWith("<")&&d.operator.startsWith("<")||this.semver.version===d.semver.version&&this.operator.includes("=")&&d.operator.includes("=")||a(this.semver,"<",d.semver,f)&&this.operator.startsWith(">")&&d.operator.startsWith("<")||a(this.semver,">",d.semver,f)&&this.operator.startsWith("<")&&d.operator.startsWith(">")))}}J_=e;const n=yC,{safeRe:r,t:i}=pg,a=l6,s=Eb,o=yr,l=Ca();return J_}const mfe=Ca(),gfe=(t,e,n)=>{try{e=new mfe(e,n)}catch{return!1}return e.test(t)};var Tb=gfe;const yfe=Ca(),vfe=(t,e)=>new yfe(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));var xfe=vfe;const bfe=yr,wfe=Ca(),_fe=(t,e,n)=>{let r=null,i=null,a=null;try{a=new wfe(e,n)}catch{return null}return t.forEach(s=>{a.test(s)&&(!r||i.compare(s)===-1)&&(r=s,i=new bfe(r,n))}),r};var Sfe=_fe;const Efe=yr,jfe=Ca(),Afe=(t,e,n)=>{let r=null,i=null,a=null;try{a=new jfe(e,n)}catch{return null}return t.forEach(s=>{a.test(s)&&(!r||i.compare(s)===1)&&(r=s,i=new Efe(r,n))}),r};var Tfe=Afe;const Q_=yr,kfe=Ca(),h$=jb,Cfe=(t,e)=>{t=new kfe(t,e);let n=new Q_("0.0.0");if(t.test(n)||(n=new Q_("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){const i=t.set[r];let a=null;i.forEach(s=>{const o=new Q_(s.semver.version);switch(s.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!a||h$(o,a))&&(a=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),a&&(!n||h$(n,a))&&(n=a)}return n&&t.test(n)?n:null};var Ofe=Cfe;const Nfe=Ca(),Pfe=(t,e)=>{try{return new Nfe(t,e).range||"*"}catch{return null}};var Ife=Pfe;const $fe=yr,c6=Ab(),{ANY:Rfe}=c6,Mfe=Ca(),Dfe=Tb,p$=jb,m$=xC,Lfe=wC,Ffe=bC,Bfe=(t,e,n,r)=>{t=new $fe(t,r),e=new Mfe(e,r);let i,a,s,o,l;switch(n){case">":i=p$,a=Lfe,s=m$,o=">",l=">=";break;case"<":i=m$,a=Ffe,s=p$,o="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Dfe(t,e,r))return!1;for(let c=0;c<e.set.length;++c){const d=e.set[c];let f=null,h=null;if(d.forEach(p=>{p.semver===Rfe&&(p=new c6(">=0.0.0")),f=f||p,h=h||p,i(p.semver,f.semver,r)?f=p:s(p.semver,h.semver,r)&&(h=p)}),f.operator===o||f.operator===l||(!h.operator||h.operator===o)&&a(t,h.semver))return!1;if(h.operator===l&&s(t,h.semver))return!1}return!0};var _C=Bfe;const zfe=_C,Ufe=(t,e,n)=>zfe(t,e,">",n);var Hfe=Ufe;const Vfe=_C,Wfe=(t,e,n)=>Vfe(t,e,"<",n);var qfe=Wfe;const g$=Ca(),Gfe=(t,e,n)=>(t=new g$(t,n),e=new g$(e,n),t.intersects(e,n));var Kfe=Gfe;const Yfe=Tb,Xfe=ka;var Zfe=(t,e,n)=>{const r=[];let i=null,a=null;const s=t.sort((d,f)=>Xfe(d,f,n));for(const d of s)Yfe(d,e,n)?(a=d,i||(i=d)):(a&&r.push([i,a]),a=null,i=null);i&&r.push([i,null]);const o=[];for(const[d,f]of r)d===f?o.push(d):!f&&d===s[0]?o.push("*"):f?d===s[0]?o.push(`<=${f}`):o.push(`${d} - ${f}`):o.push(`>=${d}`);const l=o.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return l.length<c.length?l:e};const y$=Ca(),SC=Ab(),{ANY:e1}=SC,xh=Tb,EC=ka,Jfe=(t,e,n={})=>{if(t===e)return!0;t=new y$(t,n),e=new y$(e,n);let r=!1;e:for(const i of t.set){for(const a of e.set){const s=ehe(i,a,n);if(r=r||s!==null,s)continue e}if(r)return!1}return!0},Qfe=[new SC(">=0.0.0-0")],v$=[new SC(">=0.0.0")],ehe=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===e1){if(e.length===1&&e[0].semver===e1)return!0;n.includePrerelease?t=Qfe:t=v$}if(e.length===1&&e[0].semver===e1){if(n.includePrerelease)return!0;e=v$}const r=new Set;let i,a;for(const p of t)p.operator===">"||p.operator===">="?i=x$(i,p,n):p.operator==="<"||p.operator==="<="?a=b$(a,p,n):r.add(p.semver);if(r.size>1)return null;let s;if(i&&a){if(s=EC(i.semver,a.semver,n),s>0)return null;if(s===0&&(i.operator!==">="||a.operator!=="<="))return null}for(const p of r){if(i&&!xh(p,String(i),n)||a&&!xh(p,String(a),n))return null;for(const m of e)if(!xh(p,String(m),n))return!1;return!0}let o,l,c,d,f=a&&!n.includePrerelease&&a.semver.prerelease.length?a.semver:!1,h=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&a.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const p of e){if(d=d||p.operator===">"||p.operator===">=",c=c||p.operator==="<"||p.operator==="<=",i){if(h&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===h.major&&p.semver.minor===h.minor&&p.semver.patch===h.patch&&(h=!1),p.operator===">"||p.operator===">="){if(o=x$(i,p,n),o===p&&o!==i)return!1}else if(i.operator===">="&&!xh(i.semver,String(p),n))return!1}if(a){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator==="<"||p.operator==="<="){if(l=b$(a,p,n),l===p&&l!==a)return!1}else if(a.operator==="<="&&!xh(a.semver,String(p),n))return!1}if(!p.operator&&(a||i)&&s!==0)return!1}return!(i&&c&&!a&&s!==0||a&&d&&!i&&s!==0||h||f)},x$=(t,e,n)=>{if(!t)return e;const r=EC(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},b$=(t,e,n)=>{if(!t)return e;const r=EC(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t};var the=Jfe;const t1=pg,w$=Sb,nhe=yr,_$=a6,rhe=Bf,ihe=ude,ahe=hde,she=mde,ohe=yde,lhe=bde,che=Sde,uhe=Ade,dhe=Cde,fhe=ka,hhe=Ide,phe=Mde,mhe=vC,ghe=Bde,yhe=Hde,vhe=jb,xhe=xC,bhe=s6,whe=o6,_he=bC,She=wC,Ehe=l6,jhe=ffe,Ahe=Ab(),The=Ca(),khe=Tb,Che=xfe,Ohe=Sfe,Nhe=Tfe,Phe=Ofe,Ihe=Ife,$he=_C,Rhe=Hfe,Mhe=qfe,Dhe=Kfe,Lhe=Zfe,Fhe=the;t1.re,t1.src,t1.t,w$.SEMVER_SPEC_VERSION,w$.RELEASE_TYPES,_$.compareIdentifiers,_$.rcompareIdentifiers;function wo(t){if(!t||t.split("/").length>2||t.startsWith("/")||t.endsWith("/")||t.split(":").length>2)throw new Error(`Invalid identifier format: ${t}`);const[e,n]=t.split(":"),r=n||"latest";if(e.includes("/")){const[i,a]=e.split("/",2);if(!i||!a)throw new Error(`Invalid identifier format: ${t}`);return[i,a,r]}else{if(!e)throw new Error(`Invalid identifier format: ${t}`);return["-",e,r]}}class Bhe extends Error{constructor(e){super(e),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="LangSmithConflictError",this.status=409}}async function Re(t,e,n){let r;if(t.ok){n&&(r=await t.text());return}if(t.status===403)try{const s=await t.json();(s==null?void 0:s.error)==="org_scoped_key_requires_workspace"&&(r="This API key is org-scoped and requires workspace specification. Please provide 'workspaceId' parameter, or set LANGSMITH_WORKSPACE_ID environment variable.")}catch{const o=new Error(`${t.status} ${t.statusText}`);throw o.status=t==null?void 0:t.status,o}if(r===void 0)try{r=await t.text()}catch{r=""}const i=`Failed to ${e}. Received status [${t.status}]: ${t.statusText}. Message: ${r}`;if(t.status===409)throw new Bhe(i);const a=new Error(i);throw a.status=t.status,a}const u6="ERR_CONFLICTING_ENDPOINTS";class zhe extends Error{constructor(){super("You cannot provide both LANGSMITH_ENDPOINT / LANGCHAIN_ENDPOINT and LANGSMITH_RUNS_ENDPOINTS."),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:u6}),this.name="ConflictingEndpointsError"}}function Uhe(t){return typeof t=="object"&&t!==null&&t.code===u6}var S$="[...]",Hhe={result:"[Circular]"},u0=[],Xu=[];const Vhe=new TextEncoder;function Whe(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function vy(t){return Vhe.encode(t)}function d6(t){if(t&&typeof t=="object"&&t!==null){if(t instanceof Map)return Object.fromEntries(t);if(t instanceof Set)return Array.from(t);if(t instanceof Date)return t.toISOString();if(t instanceof RegExp)return t.toString();if(t instanceof Error)return{name:t.name,message:t.message}}else if(typeof t=="bigint")return t.toString();return t}function qhe(t){return function(e,n){return d6(n)}}function Ur(t,e,n,r,i){var a;try{const s=JSON.stringify(t,qhe(n),r);return vy(s)}catch(s){if(!((a=s.message)!=null&&a.includes("Converting circular structure to JSON")))return console.warn(`[WARNING]: LangSmith received unserializable value.${e?`
Context: ${e}`:""}`),vy("[Unserializable]");Ar("SUPPRESS_CIRCULAR_JSON_WARNINGS")!=="true"&&console.warn(`[WARNING]: LangSmith received circular JSON. This will decrease tracer performance. ${e?`
Context: ${e}`:""}`),typeof i>"u"&&(i=Whe()),GE(t,"",0,[],void 0,0,i);let o;try{Xu.length===0?o=JSON.stringify(t,n,r):o=JSON.stringify(t,Ghe(n),r)}catch{return vy("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;u0.length!==0;){const l=u0.pop();l.length===4?Object.defineProperty(l[0],l[1],l[3]):l[0][l[1]]=l[2]}}return vy(o)}}function n1(t,e,n,r){var i=Object.getOwnPropertyDescriptor(r,n);i.get!==void 0?i.configurable?(Object.defineProperty(r,n,{value:t}),u0.push([r,n,e,i])):Xu.push([e,n,t]):(r[n]=t,u0.push([r,n,e]))}function GE(t,e,n,r,i,a,s){a+=1;var o;if(typeof t=="object"&&t!==null){for(o=0;o<r.length;o++)if(r[o]===t){n1(Hhe,t,e,i);return}if(typeof s.depthLimit<"u"&&a>s.depthLimit){n1(S$,t,e,i);return}if(typeof s.edgesLimit<"u"&&n+1>s.edgesLimit){n1(S$,t,e,i);return}if(r.push(t),Array.isArray(t))for(o=0;o<t.length;o++)GE(t[o],o,o,r,t,a,s);else{t=d6(t);var l=Object.keys(t);for(o=0;o<l.length;o++){var c=l[o];GE(t[c],c,o,r,t,a,s)}}r.pop()}}function Ghe(t){return t=typeof t<"u"?t:function(e,n){return n},function(e,n){if(Xu.length>0)for(var r=0;r<Xu.length;r++){var i=Xu[r];if(i[1]===e&&i[0]===n){n=i[2],Xu.splice(r,1);break}}return t.call(this,e,n)}}function E$(t,e){const n=GU(),r=e??KU(),i=t.extra??{},a=i.metadata;return t.extra={...i,runtime:{...n,...i==null?void 0:i.runtime},metadata:{...r,...r.revision_id||"revision_id"in t&&t.revision_id?{revision_id:("revision_id"in t?t.revision_id:void 0)??r.revision_id}:{},...a}},t}const Khe=t=>{const e=(t==null?void 0:t.toString())??Ar("TRACING_SAMPLING_RATE");if(e===void 0)return;const n=parseFloat(e);if(n<0||n>1)throw new Error(`LANGSMITH_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${n}`);return n},Yhe=t=>{const n=t.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return n==="localhost"||n==="127.0.0.1"||n==="::1"};async function Xhe(t){const e=[];for await(const n of t)e.push(n);return e}function xy(t){if(t!==void 0)return t.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}const Zhe=async t=>{if((t==null?void 0:t.status)===429){const e=parseInt(t.headers.get("retry-after")??"10",10)*1e3;if(e>0)return await new Promise(n=>setTimeout(n,e)),!0}return!1};function j$(t){return typeof t=="number"?Number(t.toFixed(4)):t}const Jhe=24*1024*1024,f6=1024*1024*1024,Qhe=1e4,epe=100,A$="https://api.smith.langchain.com";class tpe{constructor(e){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"sizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"maxSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSizeBytes=e??f6}peek(){return this.items[0]}push(e){let n;const r=new Promise(a=>{n=a}),i=Ur(e.item,`Serializing run with id: ${e.item.id}`).length;return this.sizeBytes+i>this.maxSizeBytes&&this.items.length>0?(console.warn(`AutoBatchQueue size limit (${this.maxSizeBytes} bytes) exceeded. Dropping run with id: ${e.item.id}. Current queue size: ${this.sizeBytes} bytes, attempted addition: ${i} bytes.`),n(),r):(this.items.push({action:e.action,payload:e.item,otelContext:e.otelContext,apiKey:e.apiKey,apiUrl:e.apiUrl,itemPromiseResolve:n,itemPromise:r,size:i}),this.sizeBytes+=i,r)}pop({upToSizeBytes:e,upToSize:n}){var a;if(e<1)throw new Error("Number of bytes to pop off may not be less than 1.");const r=[];let i=0;for(;i+(((a=this.peek())==null?void 0:a.size)??0)<e&&this.items.length>0&&r.length<n;){const s=this.items.shift();s&&(r.push(s),i+=s.size,this.sizeBytes-=s.size)}if(r.length===0&&this.items.length>0){const s=this.items.shift();r.push(s),i+=s.size,this.sizeBytes-=s.size}return[r.map(s=>({action:s.action,item:s.payload,otelContext:s.otelContext,apiKey:s.apiKey,apiUrl:s.apiUrl,size:s.size})),()=>r.forEach(s=>s.itemPromiseResolve())]}}class Kd{get _fetch(){return this.fetchImplementation||lue(this.debug)}constructor(e={}){var i;Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"workspaceId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filteredPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"batchSizeBytesLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchSizeLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"blockOnRootRunFinalization",{enumerable:!0,configurable:!0,writable:!0,value:hs("LANGSMITH_TRACING_BACKGROUND")==="false"}),Object.defineProperty(this,"traceBatchConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:5}),Object.defineProperty(this,"_serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_getServerInfoPromise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"manualFlushMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"langSmithToOTELTranslator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchImplementation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cachedLSEnvVarsForMetadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"multipartStreamingDisabled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"debug",{enumerable:!0,configurable:!0,writable:!0,value:hs("LANGSMITH_DEBUG")==="true"});const n=Kd.getDefaultClientConfig();if(this.tracingSampleRate=Khe(e.tracingSamplingRate),this.apiUrl=xy(e.apiUrl??n.apiUrl)??"",this.apiUrl.endsWith("/")&&(this.apiUrl=this.apiUrl.slice(0,-1)),this.apiKey=xy(e.apiKey??n.apiKey),this.webUrl=xy(e.webUrl??n.webUrl),(i=this.webUrl)!=null&&i.endsWith("/")&&(this.webUrl=this.webUrl.slice(0,-1)),this.workspaceId=xy(e.workspaceId??Ar("WORKSPACE_ID")),this.timeout_ms=e.timeout_ms??9e4,this.caller=new Q2({...e.callerOptions??{},maxRetries:4,debug:e.debug??this.debug}),this.traceBatchConcurrency=e.traceBatchConcurrency??this.traceBatchConcurrency,this.traceBatchConcurrency<1)throw new Error("Trace batch concurrency must be positive.");this.debug=e.debug??this.debug,this.fetchImplementation=e.fetchImplementation;const r=e.maxIngestMemoryBytes??f6;this.batchIngestCaller=new Q2({maxRetries:4,maxConcurrency:this.traceBatchConcurrency,maxQueueSizeBytes:r,...e.callerOptions??{},onFailedResponseHook:Zhe,debug:e.debug??this.debug}),this.hideInputs=e.hideInputs??e.anonymizer??n.hideInputs,this.hideOutputs=e.hideOutputs??e.anonymizer??n.hideOutputs,this.autoBatchTracing=e.autoBatchTracing??this.autoBatchTracing,this.autoBatchQueue=new tpe(r),this.blockOnRootRunFinalization=e.blockOnRootRunFinalization??this.blockOnRootRunFinalization,this.batchSizeBytesLimit=e.batchSizeBytesLimit,this.batchSizeLimit=e.batchSizeLimit,this.fetchOptions=e.fetchOptions||{},this.manualFlushMode=e.manualFlushMode??this.manualFlushMode,YU()&&(this.langSmithToOTELTranslator=new Tue),this.cachedLSEnvVarsForMetadata=KU()}static getDefaultClientConfig(){const e=Ar("API_KEY"),n=Ar("ENDPOINT")??A$,r=Ar("HIDE_INPUTS")==="true",i=Ar("HIDE_OUTPUTS")==="true";return{apiUrl:n,apiKey:e,webUrl:void 0,hideInputs:r,hideOutputs:i}}getHostUrl(){return this.webUrl?this.webUrl:Yhe(this.apiUrl)?(this.webUrl="http://localhost:3000",this.webUrl):this.apiUrl.endsWith("/api/v1")?(this.webUrl=this.apiUrl.replace("/api/v1",""),this.webUrl):this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api")?(this.webUrl=this.apiUrl.replace("/api",""),this.webUrl):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("eu")?(this.webUrl="https://eu.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("beta")?(this.webUrl="https://beta.smith.langchain.com",this.webUrl):(this.webUrl="https://smith.langchain.com",this.webUrl)}get headers(){const e={"User-Agent":`langsmith-js/${VU}`};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),this.workspaceId&&(e["x-tenant-id"]=this.workspaceId),e}_getPlatformEndpointPath(e){return this.apiUrl.slice(-3)!=="/v1"&&this.apiUrl.slice(-4)!=="/v1/"?`/v1/platform/${e}`:`/platform/${e}`}async processInputs(e){return this.hideInputs===!1?e:this.hideInputs===!0?{}:typeof this.hideInputs=="function"?this.hideInputs(e):e}async processOutputs(e){return this.hideOutputs===!1?e:this.hideOutputs===!0?{}:typeof this.hideOutputs=="function"?this.hideOutputs(e):e}async prepareRunCreateOrUpdateInputs(e){const n={...e};return n.inputs!==void 0&&(n.inputs=await this.processInputs(n.inputs)),n.outputs!==void 0&&(n.outputs=await this.processOutputs(n.outputs)),n}async _getResponse(e,n){const r=(n==null?void 0:n.toString())??"",i=`${this.apiUrl}${e}?${r}`;return await this.caller.call(async()=>{const s=await this._fetch(i,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(s,`fetch ${e}`),s})}async _get(e,n){return(await this._getResponse(e,n)).json()}async*_getPaginated(e,n=new URLSearchParams,r){let i=Number(n.get("offset"))||0;const a=Number(n.get("limit"))||100;for(;;){n.set("offset",String(i)),n.set("limit",String(a));const s=`${this.apiUrl}${e}?${n}`,o=await this.caller.call(async()=>{const c=await this._fetch(s,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(c,`fetch ${e}`),c}),l=r?r(await o.json()):await o.json();if(l.length===0||(yield l,l.length<a))break;i+=l.length}}async*_getCursorPaginatedList(e,n=null,r="POST",i="runs"){const a=n?{...n}:{};for(;;){const s=JSON.stringify(a),l=await(await this.caller.call(async()=>{const d=await this._fetch(`${this.apiUrl}${e}`,{method:r,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Re(d,`fetch ${e}`),d})).json();if(!l||!l[i])break;yield l[i];const c=l.cursors;if(!c||!c.next)break;a.cursor=c.next}}_shouldSample(){return this.tracingSampleRate===void 0?!0:Math.random()<this.tracingSampleRate}_filterForSampling(e,n=!1){if(this.tracingSampleRate===void 0)return e;if(n){const r=[];for(const i of e)this.filteredPostUuids.has(i.trace_id)?i.id===i.trace_id&&this.filteredPostUuids.delete(i.trace_id):r.push(i);return r}else{const r=[];for(const i of e){const a=i.trace_id??i.id;this.filteredPostUuids.has(a)||(i.id===a?this._shouldSample()?r.push(i):this.filteredPostUuids.add(a):r.push(i))}return r}}async _getBatchSizeLimitBytes(){var n;const e=await this._ensureServerInfo();return this.batchSizeBytesLimit??((n=e.batch_ingest_config)==null?void 0:n.size_limit_bytes)??Jhe}async _getBatchSizeLimit(){var n;const e=await this._ensureServerInfo();return this.batchSizeLimit??((n=e.batch_ingest_config)==null?void 0:n.size_limit)??epe}async _getDatasetExamplesMultiPartSupport(){var n;return((n=(await this._ensureServerInfo()).instance_flags)==null?void 0:n.dataset_examples_multipart_enabled)??!1}drainAutoBatchQueue({batchSizeLimitBytes:e,batchSizeLimit:n}){const r=[];for(;this.autoBatchQueue.items.length>0;){const[i,a]=this.autoBatchQueue.pop({upToSizeBytes:e,upToSize:n});if(!i.length){a();break}const s=i.reduce((c,d)=>{const f=d.apiUrl??this.apiUrl,h=d.apiKey??this.apiKey,m=d.apiKey===this.apiKey&&d.apiUrl===this.apiUrl?"default":`${f}|${h}`;return c[m]||(c[m]=[]),c[m].push(d),c},{}),o=[];for(const[c,d]of Object.entries(s)){const f=this._processBatch(d,{apiUrl:c==="default"?void 0:c.split("|")[0],apiKey:c==="default"?void 0:c.split("|")[1]});o.push(f)}const l=Promise.all(o).finally(a);r.push(l)}return Promise.all(r)}async _processBatch(e,n){var i,a;if(!e.length)return;const r=e.reduce((s,o)=>s+(o.size??0),0);try{if(this.langSmithToOTELTranslator!==void 0)this._sendBatchToOTELTranslator(e);else{const s={runCreates:e.filter(l=>l.action==="create").map(l=>l.item),runUpdates:e.filter(l=>l.action==="update").map(l=>l.item)},o=await this._ensureServerInfo();if((i=o==null?void 0:o.batch_ingest_config)!=null&&i.use_multipart_endpoint){const l=(a=o==null?void 0:o.instance_flags)==null?void 0:a.gzip_body_enabled;await this.multipartIngestRuns(s,{...n,useGzip:l,sizeBytes:r})}else await this.batchIngestRuns(s,{...n,sizeBytes:r})}}catch(s){console.error("Error exporting batch:",s)}}_sendBatchToOTELTranslator(e){if(this.langSmithToOTELTranslator!==void 0){const n=new Map,r=[];for(const i of e)i.item.id&&i.otelContext&&(n.set(i.item.id,i.otelContext),i.action==="create"?r.push({operation:"post",id:i.item.id,trace_id:i.item.trace_id??i.item.id,run:i.item}):r.push({operation:"patch",id:i.item.id,trace_id:i.item.trace_id??i.item.id,run:i.item}));this.langSmithToOTELTranslator.exportBatch(r,n)}}async processRunOperation(e){clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0,e.item=E$(e.item,this.cachedLSEnvVarsForMetadata);const n=this.autoBatchQueue.push(e);if(this.manualFlushMode)return n;const r=await this._getBatchSizeLimitBytes(),i=await this._getBatchSizeLimit();return(this.autoBatchQueue.sizeBytes>r||this.autoBatchQueue.items.length>i)&&this.drainAutoBatchQueue({batchSizeLimitBytes:r,batchSizeLimit:i}),this.autoBatchQueue.items.length>0&&(this.autoBatchTimeout=setTimeout(()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue({batchSizeLimitBytes:r,batchSizeLimit:i})},this.autoBatchAggregationDelayMs)),n}async _getServerInfo(){const n=await(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(Qhe),...this.fetchOptions});return await Re(r,"get server info"),r})).json();return this.debug&&console.log(`
=== LangSmith Server Configuration ===
`+JSON.stringify(n,null,2)+`
`),n}async _ensureServerInfo(){return this._getServerInfoPromise===void 0&&(this._getServerInfoPromise=(async()=>{if(this._serverInfo===void 0)try{this._serverInfo=await this._getServerInfo()}catch(e){console.warn(`[LANGSMITH]: Failed to fetch info on supported operations. Falling back to batch operations and default limits. Info: ${e.status??"Unspecified status code"} ${e.message}`)}return this._serverInfo??{}})()),this._getServerInfoPromise.then(e=>(this._serverInfo===void 0&&(this._getServerInfoPromise=void 0),e))}async _getSettings(){return this.settings||(this.settings=this._get("/settings")),await this.settings}async flush(){const e=await this._getBatchSizeLimitBytes(),n=await this._getBatchSizeLimit();await this.drainAutoBatchQueue({batchSizeLimitBytes:e,batchSizeLimit:n})}_cloneCurrentOTELContext(){const e=XU(),n=Sue();if(this.langSmithToOTELTranslator!==void 0){const r=e.getActiveSpan();if(r)return e.setSpan(n.active(),r)}}async createRun(e,n){if(!this._filterForSampling([e]).length)return;const r={...this.headers,"Content-Type":"application/json"},i=e.project_name;delete e.project_name;const a=await this.prepareRunCreateOrUpdateInputs({session_name:i,...e,start_time:e.start_time??Date.now()});if(this.autoBatchTracing&&a.trace_id!==void 0&&a.dotted_order!==void 0){const l=this._cloneCurrentOTELContext();this.processRunOperation({action:"create",item:a,otelContext:l,apiKey:n==null?void 0:n.apiKey,apiUrl:n==null?void 0:n.apiUrl}).catch(console.error);return}const s=E$(a,this.cachedLSEnvVarsForMetadata);(n==null?void 0:n.apiKey)!==void 0&&(r["x-api-key"]=n.apiKey),(n==null?void 0:n.workspaceId)!==void 0&&(r["x-tenant-id"]=n.workspaceId);const o=Ur(s,`Creating run with id: ${s.id}`);await this.caller.call(async()=>{const l=await this._fetch(`${(n==null?void 0:n.apiUrl)??this.apiUrl}/runs`,{method:"POST",headers:r,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Re(l,"create run",!0),l})}async batchIngestRuns({runCreates:e,runUpdates:n},r){if(e===void 0&&n===void 0)return;let i=await Promise.all((e==null?void 0:e.map(l=>this.prepareRunCreateOrUpdateInputs(l)))??[]),a=await Promise.all((n==null?void 0:n.map(l=>this.prepareRunCreateOrUpdateInputs(l)))??[]);if(i.length>0&&a.length>0){const l=i.reduce((d,f)=>(f.id&&(d[f.id]=f),d),{}),c=[];for(const d of a)d.id!==void 0&&l[d.id]?l[d.id]={...l[d.id],...d}:c.push(d);i=Object.values(l),a=c}const s={post:i,patch:a};if(!s.post.length&&!s.patch.length)return;const o={post:[],patch:[]};for(const l of["post","patch"]){const c=l,d=s[c].reverse();let f=d.pop();for(;f!==void 0;)o[c].push(f),f=d.pop()}if(o.post.length>0||o.patch.length>0){const l=o.post.map(c=>c.id).concat(o.patch.map(c=>c.id)).join(",");await this._postBatchIngestRuns(Ur(o,`Ingesting runs with ids: ${l}`),r)}}async _postBatchIngestRuns(e,n){const r={...this.headers,"Content-Type":"application/json",Accept:"application/json"};(n==null?void 0:n.apiKey)!==void 0&&(r["x-api-key"]=n.apiKey),await this.batchIngestCaller.callWithOptions({sizeBytes:n==null?void 0:n.sizeBytes},async()=>{const i=await this._fetch(`${(n==null?void 0:n.apiUrl)??this.apiUrl}/runs/batch`,{method:"POST",headers:r,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:e});return await Re(i,"batch create run",!0),i})}async multipartIngestRuns({runCreates:e,runUpdates:n},r){if(e===void 0&&n===void 0)return;const i={};let a=[];for(const f of e??[]){const h=await this.prepareRunCreateOrUpdateInputs(f);h.id!==void 0&&h.attachments!==void 0&&(i[h.id]=h.attachments),delete h.attachments,a.push(h)}let s=[];for(const f of n??[])s.push(await this.prepareRunCreateOrUpdateInputs(f));if(a.find(f=>f.trace_id===void 0||f.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when creating a run');if(s.find(f=>f.trace_id===void 0||f.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when updating a run');if(a.length>0&&s.length>0){const f=a.reduce((p,m)=>(m.id&&(p[m.id]=m),p),{}),h=[];for(const p of s)p.id!==void 0&&f[p.id]?f[p.id]={...f[p.id],...p}:h.push(p);a=Object.values(f),s=h}if(a.length===0&&s.length===0)return;const c=[],d=[];for(const[f,h]of[["post",a],["patch",s]])for(const p of h){const{inputs:m,outputs:g,events:x,extra:b,error:v,serialized:y,attachments:_,...w}=p,E={inputs:m,outputs:g,events:x,extra:b,error:v,serialized:y},A=Ur(w,`Serializing for multipart ingestion of run with id: ${w.id}`);d.push({name:`${f}.${w.id}`,payload:new Blob([A],{type:`application/json; length=${A.length}`})});for(const[j,T]of Object.entries(E)){if(T===void 0)continue;const k=Ur(T,`Serializing ${j} for multipart ingestion of run with id: ${w.id}`);d.push({name:`${f}.${w.id}.${j}`,payload:new Blob([k],{type:`application/json; length=${k.length}`})})}if(w.id!==void 0){const j=i[w.id];if(j){delete i[w.id];for(const[T,k]of Object.entries(j)){let C,O;if(Array.isArray(k)?[C,O]=k:(C=k.mimeType,O=k.data),T.includes(".")){console.warn(`Skipping attachment '${T}' for run ${w.id}: Invalid attachment name. Attachment names must not contain periods ('.'). Please rename the attachment and try again.`);continue}d.push({name:`attachment.${w.id}.${T}`,payload:new Blob([O],{type:`${C}; length=${O.byteLength}`})})}}}c.push(`trace=${w.trace_id},id=${w.id}`)}await this._sendMultipartRequest(d,c.join("; "),r)}async _createNodeFetchBody(e,n){const r=[];for(const s of e)r.push(new Blob([`--${n}\r
`])),r.push(new Blob([`Content-Disposition: form-data; name="${s.name}"\r
`,`Content-Type: ${s.payload.type}\r
\r
`])),r.push(s.payload),r.push(new Blob([`\r
`]));return r.push(new Blob([`--${n}--\r
`])),await new Blob(r).arrayBuffer()}async _createMultipartStream(e,n){const r=new TextEncoder;return new ReadableStream({async start(a){const s=async o=>{typeof o=="string"?a.enqueue(r.encode(o)):a.enqueue(o)};for(const o of e){await s(`--${n}\r
`),await s(`Content-Disposition: form-data; name="${o.name}"\r
`),await s(`Content-Type: ${o.payload.type}\r
\r
`);const c=o.payload.stream().getReader();try{let d;for(;!(d=await c.read()).done;)a.enqueue(d.value)}finally{c.releaseLock()}await s(`\r
`)}await s(`--${n}--\r
`),a.close()}})}async _sendMultipartRequest(e,n,r){const i="----LangSmithFormBoundary"+Math.random().toString(36).slice(2),a=oue(),s=()=>this._createNodeFetchBody(e,i),o=()=>this._createMultipartStream(e,i),l=async c=>this.batchIngestCaller.callWithOptions({sizeBytes:r==null?void 0:r.sizeBytes},async()=>{const d=await c(),f={...this.headers,"Content-Type":`multipart/form-data; boundary=${i}`};(r==null?void 0:r.apiKey)!==void 0&&(f["x-api-key"]=r.apiKey);let h=d;r!=null&&r.useGzip&&typeof d=="object"&&"pipeThrough"in d&&(h=d.pipeThrough(new CompressionStream("gzip")),f["Content-Encoding"]="gzip");const p=await this._fetch(`${(r==null?void 0:r.apiUrl)??this.apiUrl}/runs/multipart`,{method:"POST",headers:f,body:h,duplex:"half",signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(p,"Failed to send multipart request",!0),p});try{let c,d=!1;!a&&!this.multipartStreamingDisabled&&qU()!=="bun"?(d=!0,c=await l(o)):c=await l(s),(!this.multipartStreamingDisabled||d)&&c.status===422&&((r==null?void 0:r.apiUrl)??this.apiUrl)!==A$&&(console.warn(`Streaming multipart upload to ${(r==null?void 0:r.apiUrl)??this.apiUrl}/runs/multipart failed. This usually means the host does not support chunked uploads. Retrying with a buffered upload for operation "${n}".`),this.multipartStreamingDisabled=!0,c=await l(s))}catch(c){console.warn(`${c.message.trim()}

Context: ${n}`)}}async updateRun(e,n,r){Ye(e),n.inputs&&(n.inputs=await this.processInputs(n.inputs)),n.outputs&&(n.outputs=await this.processOutputs(n.outputs));const i={...n,id:e};if(!this._filterForSampling([i],!0).length)return;if(this.autoBatchTracing&&i.trace_id!==void 0&&i.dotted_order!==void 0){const o=this._cloneCurrentOTELContext();if(n.end_time!==void 0&&i.parent_run_id===void 0&&this.blockOnRootRunFinalization&&!this.manualFlushMode){await this.processRunOperation({action:"update",item:i,otelContext:o,apiKey:r==null?void 0:r.apiKey,apiUrl:r==null?void 0:r.apiUrl}).catch(console.error);return}else this.processRunOperation({action:"update",item:i,otelContext:o,apiKey:r==null?void 0:r.apiKey,apiUrl:r==null?void 0:r.apiUrl}).catch(console.error);return}const a={...this.headers,"Content-Type":"application/json"};(r==null?void 0:r.apiKey)!==void 0&&(a["x-api-key"]=r.apiKey),(r==null?void 0:r.workspaceId)!==void 0&&(a["x-tenant-id"]=r.workspaceId);const s=Ur(n,`Serializing payload to update run with id: ${e}`);await this.caller.call(async()=>{const o=await this._fetch(`${(r==null?void 0:r.apiUrl)??this.apiUrl}/runs/${e}`,{method:"PATCH",headers:a,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Re(o,"update run",!0),o})}async readRun(e,{loadChildRuns:n}={loadChildRuns:!1}){Ye(e);let r=await this._get(`/runs/${e}`);return n&&(r=await this._loadChildRuns(r)),r}async getRunUrl({runId:e,run:n,projectOpts:r}){if(n!==void 0){let i;n.session_id?i=n.session_id:r!=null&&r.projectName?i=(await this.readProject({projectName:r==null?void 0:r.projectName})).id:r!=null&&r.projectId?i=r==null?void 0:r.projectId:i=(await this.readProject({projectName:Ar("PROJECT")||"default"})).id;const a=await this._getTenantId();return`${this.getHostUrl()}/o/${a}/projects/p/${i}/r/${n.id}?poll=true`}else if(e!==void 0){const i=await this.readRun(e);if(!i.app_path)throw new Error(`Run ${e} has no app_path`);return`${this.getHostUrl()}${i.app_path}`}else throw new Error("Must provide either runId or run")}async _loadChildRuns(e){var a;const n=await Xhe(this.listRuns({isRoot:!1,projectId:e.session_id,traceId:e.trace_id})),r={},i={};n.sort((s,o)=>((s==null?void 0:s.dotted_order)??"").localeCompare((o==null?void 0:o.dotted_order)??""));for(const s of n){if(s.parent_run_id===null||s.parent_run_id===void 0)throw new Error(`Child run ${s.id} has no parent`);(a=s.dotted_order)!=null&&a.startsWith(e.dotted_order??"")&&s.id!==e.id&&(s.parent_run_id in r||(r[s.parent_run_id]=[]),r[s.parent_run_id].push(s),i[s.id]=s)}e.child_runs=r[e.id]||[];for(const s in r)s!==e.id&&(i[s].child_runs=r[s]);return e}async*listRuns(e){const{projectId:n,projectName:r,parentRunId:i,traceId:a,referenceExampleId:s,startTime:o,executionOrder:l,isRoot:c,runType:d,error:f,id:h,query:p,filter:m,traceFilter:g,treeFilter:x,limit:b,select:v,order:y}=e;let _=[];if(n&&(_=Array.isArray(n)?n:[n]),r){const j=Array.isArray(r)?r:[r],T=await Promise.all(j.map(k=>this.readProject({projectName:k}).then(C=>C.id)));_.push(...T)}const w=["app_path","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],E={session:_.length?_:null,run_type:d,reference_example:s,query:p,filter:m,trace_filter:g,tree_filter:x,execution_order:l,parent_run:i,start_time:o?o.toISOString():null,error:f,id:h,limit:b,trace:a,select:v||w,is_root:c,order:y};E.select.includes("child_run_ids")&&WE("Deprecated: 'child_run_ids' in the listRuns select parameter is deprecated and will be removed in a future version.");let A=0;for await(const j of this._getCursorPaginatedList("/runs/query",E))if(b){if(A>=b)break;if(j.length+A>b){yield*j.slice(0,b-A);break}A+=j.length,yield*j}else yield*j}async*listGroupRuns(e){const{projectId:n,projectName:r,groupBy:i,filter:a,startTime:s,endTime:o,limit:l,offset:c}=e,f={session_id:n||(await this.readProject({projectName:r})).id,group_by:i,filter:a,start_time:s?s.toISOString():null,end_time:o?o.toISOString():null,limit:Number(l)||100};let h=Number(c)||0;const p="/runs/group",m=`${this.apiUrl}${p}`;for(;;){const g={...f,offset:h},x=Object.fromEntries(Object.entries(g).filter(([E,A])=>A!==void 0)),b=JSON.stringify(x),y=await(await this.caller.call(async()=>{const E=await this._fetch(m,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:b});return await Re(E,`Failed to fetch ${p}`),E})).json(),{groups:_,total:w}=y;if(_.length===0)break;for(const E of _)yield E;if(h+=_.length,h>=w)break}}async getRunStats({id:e,trace:n,parentRun:r,runType:i,projectNames:a,projectIds:s,referenceExampleIds:o,startTime:l,endTime:c,error:d,query:f,filter:h,traceFilter:p,treeFilter:m,isRoot:g,dataSourceType:x}){let b=s||[];a&&(b=[...s||[],...await Promise.all(a.map(A=>this.readProject({projectName:A}).then(j=>j.id)))]);const y=Object.fromEntries(Object.entries({id:e,trace:n,parent_run:r,run_type:i,session:b,reference_example:o,start_time:l,end_time:c,error:d,query:f,filter:h,trace_filter:p,tree_filter:m,is_root:g,data_source_type:x}).filter(([A,j])=>j!==void 0)),_=JSON.stringify(y);return await(await this.caller.call(async()=>{const A=await this._fetch(`${this.apiUrl}/runs/stats`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:_});return await Re(A,"get run stats"),A})).json()}async shareRun(e,{shareId:n}={}){const r={run_id:e,share_token:n||jr()};Ye(e);const i=JSON.stringify(r),s=await(await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/runs/${e}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await Re(o,"share run"),o})).json();if(s===null||!("share_token"in s))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${s.share_token}/r`}async unshareRun(e){Ye(e),await this.caller.call(async()=>{const n=await this._fetch(`${this.apiUrl}/runs/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(n,"unshare run",!0),n})}async readRunSharedLink(e){Ye(e);const r=await(await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/runs/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(i,"read run shared link"),i})).json();if(!(r===null||!("share_token"in r)))return`${this.getHostUrl()}/public/${r.share_token}/r`}async listSharedRuns(e,{runIds:n}={}){const r=new URLSearchParams({share_token:e});if(n!==void 0)for(const s of n)r.append("id",s);return Ye(e),await(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/public/${e}/runs${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(s,"list shared runs"),s})).json()}async readDatasetSharedSchema(e,n){if(!e&&!n)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:n})).id),Ye(e);const i=await(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}/datasets/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(a,"read dataset shared schema"),a})).json();return i.url=`${this.getHostUrl()}/public/${i.share_token}/d`,i}async shareDataset(e,n){if(!e&&!n)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:n})).id);const r={dataset_id:e};Ye(e);const i=JSON.stringify(r),s=await(await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/datasets/${e}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await Re(o,"share dataset"),o})).json();return s.url=`${this.getHostUrl()}/public/${s.share_token}/d`,s}async unshareDataset(e){Ye(e),await this.caller.call(async()=>{const n=await this._fetch(`${this.apiUrl}/datasets/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(n,"unshare dataset",!0),n})}async readSharedDataset(e){return Ye(e),await(await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/public/${e}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(i,"read shared dataset"),i})).json()}async listSharedExamples(e,n){const r={};n!=null&&n.exampleIds&&(r.id=n.exampleIds);const i=new URLSearchParams;Object.entries(r).forEach(([o,l])=>{Array.isArray(l)?l.forEach(c=>i.append(o,c)):i.append(o,l)});const a=await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/public/${e}/examples?${i.toString()}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(o,"list shared examples"),o}),s=await a.json();if(!a.ok)throw"detail"in s?new Error(`Failed to list shared examples.
Status: ${a.status}
Message: ${Array.isArray(s.detail)?s.detail.join(`
`):"Unspecified error"}`):new Error(`Failed to list shared examples: ${a.status} ${a.statusText}`);return s.map(o=>({...o,_hostUrl:this.getHostUrl()}))}async createProject({projectName:e,description:n=null,metadata:r=null,upsert:i=!1,projectExtra:a=null,referenceDatasetId:s=null}){const o=i?"?upsert=true":"",l=`${this.apiUrl}/sessions${o}`,c=a||{};r&&(c.metadata=r);const d={name:e,extra:c,description:n};s!==null&&(d.reference_dataset_id=s);const f=JSON.stringify(d);return await(await this.caller.call(async()=>{const m=await this._fetch(l,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:f});return await Re(m,"create project"),m})).json()}async updateProject(e,{name:n=null,description:r=null,metadata:i=null,projectExtra:a=null,endTime:s=null}){const o=`${this.apiUrl}/sessions/${e}`;let l=a;i&&(l={...l||{},metadata:i});const c=JSON.stringify({name:n,extra:l,description:r,end_time:s?new Date(s).toISOString():null});return await(await this.caller.call(async()=>{const h=await this._fetch(o,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await Re(h,"update project"),h})).json()}async hasProject({projectId:e,projectName:n}){let r="/sessions";const i=new URLSearchParams;if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)Ye(e),r+=`/${e}`;else if(n!==void 0)i.append("name",n);else throw new Error("Must provide projectName or projectId");const a=await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}${r}?${i}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(s,"has project"),s});try{const s=await a.json();return a.ok?Array.isArray(s)?s.length>0:!0:!1}catch{return!1}}async readProject({projectId:e,projectName:n,includeStats:r}){let i="/sessions";const a=new URLSearchParams;if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)Ye(e),i+=`/${e}`;else if(n!==void 0)a.append("name",n);else throw new Error("Must provide projectName or projectId");r!==void 0&&a.append("include_stats",r.toString());const s=await this._get(i,a);let o;if(Array.isArray(s)){if(s.length===0)throw new Error(`Project[id=${e}, name=${n}] not found`);o=s[0]}else o=s;return o}async getProjectUrl({projectId:e,projectName:n}){if(e===void 0&&n===void 0)throw new Error("Must provide either projectName or projectId");const r=await this.readProject({projectId:e,projectName:n}),i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/projects/p/${r.id}`}async getDatasetUrl({datasetId:e,datasetName:n}){if(e===void 0&&n===void 0)throw new Error("Must provide either datasetName or datasetId");const r=await this.readDataset({datasetId:e,datasetName:n}),i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/datasets/${r.id}`}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;const e=new URLSearchParams({limit:"1"});for await(const n of this._getPaginated("/sessions",e))return this._tenantId=n[0].tenant_id,n[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:e,name:n,nameContains:r,referenceDatasetId:i,referenceDatasetName:a,includeStats:s,datasetVersion:o,referenceFree:l,metadata:c}={}){const d=new URLSearchParams;if(e!==void 0)for(const f of e)d.append("id",f);if(n!==void 0&&d.append("name",n),r!==void 0&&d.append("name_contains",r),i!==void 0)d.append("reference_dataset",i);else if(a!==void 0){const f=await this.readDataset({datasetName:a});d.append("reference_dataset",f.id)}s!==void 0&&d.append("include_stats",s.toString()),o!==void 0&&d.append("dataset_version",o),l!==void 0&&d.append("reference_free",l.toString()),c!==void 0&&d.append("metadata",JSON.stringify(c));for await(const f of this._getPaginated("/sessions",d))yield*f}async deleteProject({projectId:e,projectName:n}){let r;if(e===void 0&&n===void 0)throw new Error("Must provide projectName or projectId");if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");e===void 0?r=(await this.readProject({projectName:n})).id:r=e,Ye(r),await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/sessions/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(i,`delete session ${r} (${n})`,!0),i})}async uploadCsv({csvFile:e,fileName:n,inputKeys:r,outputKeys:i,description:a,dataType:s,name:o}){const l=`${this.apiUrl}/datasets/upload`,c=new FormData;return c.append("file",e,n),r.forEach(h=>{c.append("input_keys",h)}),i.forEach(h=>{c.append("output_keys",h)}),a&&c.append("description",a),s&&c.append("data_type",s),o&&c.append("name",o),await(await this.caller.call(async()=>{const h=await this._fetch(l,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await Re(h,"upload CSV"),h})).json()}async createDataset(e,{description:n,dataType:r,inputsSchema:i,outputsSchema:a,metadata:s}={}){const o={name:e,description:n,extra:s?{metadata:s}:void 0};r&&(o.data_type=r),i&&(o.inputs_schema_definition=i),a&&(o.outputs_schema_definition=a);const l=JSON.stringify(o);return await(await this.caller.call(async()=>{const f=await this._fetch(`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Re(f,"create dataset"),f})).json()}async readDataset({datasetId:e,datasetName:n}){let r="/datasets";const i=new URLSearchParams({limit:"1"});if(e&&n)throw new Error("Must provide either datasetName or datasetId, not both");if(e)Ye(e),r+=`/${e}`;else if(n)i.append("name",n);else throw new Error("Must provide datasetName or datasetId");const a=await this._get(r,i);let s;if(Array.isArray(a)){if(a.length===0)throw new Error(`Dataset[id=${e}, name=${n}] not found`);s=a[0]}else s=a;return s}async hasDataset({datasetId:e,datasetName:n}){try{return await this.readDataset({datasetId:e,datasetName:n}),!0}catch(r){if(r instanceof Error&&r.message.toLocaleLowerCase().includes("not found"))return!1;throw r}}async diffDatasetVersions({datasetId:e,datasetName:n,fromVersion:r,toVersion:i}){let a=e;if(a===void 0&&n===void 0)throw new Error("Must provide either datasetName or datasetId");if(a!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");a===void 0&&(a=(await this.readDataset({datasetName:n})).id);const s=new URLSearchParams({from_version:typeof r=="string"?r:r.toISOString(),to_version:typeof i=="string"?i:i.toISOString()});return await this._get(`/datasets/${a}/versions/diff`,s)}async readDatasetOpenaiFinetuning({datasetId:e,datasetName:n}){const r="/datasets";if(e===void 0)if(n!==void 0)e=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide either datasetName or datasetId");return(await(await this._getResponse(`${r}/${e}/openai_ft`)).text()).trim().split(`
`).map(o=>JSON.parse(o))}async*listDatasets({limit:e=100,offset:n=0,datasetIds:r,datasetName:i,datasetNameContains:a,metadata:s}={}){const o="/datasets",l=new URLSearchParams({limit:e.toString(),offset:n.toString()});if(r!==void 0)for(const c of r)l.append("id",c);i!==void 0&&l.append("name",i),a!==void 0&&l.append("name_contains",a),s!==void 0&&l.append("metadata",JSON.stringify(s));for await(const c of this._getPaginated(o,l))yield*c}async updateDataset(e){const{datasetId:n,datasetName:r,...i}=e;if(!n&&!r)throw new Error("Must provide either datasetName or datasetId");const a=n??(await this.readDataset({datasetName:r})).id;Ye(a);const s=JSON.stringify(i);return await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/datasets/${a}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Re(l,"update dataset"),l})).json()}async updateDatasetTag(e){const{datasetId:n,datasetName:r,asOf:i,tag:a}=e;if(!n&&!r)throw new Error("Must provide either datasetName or datasetId");const s=n??(await this.readDataset({datasetName:r})).id;Ye(s);const o=JSON.stringify({as_of:typeof i=="string"?i:i.toISOString(),tag:a});await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/datasets/${s}/tags`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Re(l,"update dataset tags",!0),l})}async deleteDataset({datasetId:e,datasetName:n}){let r="/datasets",i=e;if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(n!==void 0&&(i=(await this.readDataset({datasetName:n})).id),i!==void 0)Ye(i),r+=`/${i}`;else throw new Error("Must provide datasetName or datasetId");await this.caller.call(async()=>{const a=await this._fetch(this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(a,`delete ${r}`,!0),a})}async indexDataset({datasetId:e,datasetName:n,tag:r}){let i=e;if(!i&&!n)throw new Error("Must provide either datasetName or datasetId");if(i&&n)throw new Error("Must provide either datasetName or datasetId, not both");i||(i=(await this.readDataset({datasetName:n})).id),Ye(i);const s=JSON.stringify({tag:r});await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/datasets/${i}/index`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Re(l,"index dataset"),l})).json()}async similarExamples(e,n,r,{filter:i}={}){const a={limit:r,inputs:e};i!==void 0&&(a.filter=i),Ye(n);const s=JSON.stringify(a);return(await(await this.caller.call(async()=>{const c=await this._fetch(`${this.apiUrl}/datasets/${n}/search`,{headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,method:"POST",body:s});return await Re(c,"fetch similar examples"),c})).json()).examples}async createExample(e,n,r){var d;if(T$(e)&&(n!==void 0||r!==void 0))throw new Error("Cannot provide outputs or options when using ExampleCreate object");let i=n?r==null?void 0:r.datasetId:e.dataset_id;const a=n?r==null?void 0:r.datasetName:e.dataset_name;if(i===void 0&&a===void 0)throw new Error("Must provide either datasetName or datasetId");if(i!==void 0&&a!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");i===void 0&&(i=(await this.readDataset({datasetName:a})).id);const s=(n?r==null?void 0:r.createdAt:e.created_at)||new Date;let o;T$(e)?o=e:o={inputs:e,outputs:n,created_at:s==null?void 0:s.toISOString(),id:r==null?void 0:r.exampleId,metadata:r==null?void 0:r.metadata,split:r==null?void 0:r.split,source_run_id:r==null?void 0:r.sourceRunId,use_source_run_io:r==null?void 0:r.useSourceRunIO,use_source_run_attachments:r==null?void 0:r.useSourceRunAttachments,attachments:r==null?void 0:r.attachments};const l=await this._uploadExamplesMultipart(i,[o]);return await this.readExample(((d=l.example_ids)==null?void 0:d[0])??jr())}async createExamples(e){if(Array.isArray(e)){if(e.length===0)return[];const v=e;let y=v[0].dataset_id;const _=v[0].dataset_name;if(y===void 0&&_===void 0)throw new Error("Must provide either datasetName or datasetId");if(y!==void 0&&_!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");y===void 0&&(y=(await this.readDataset({datasetName:_})).id);const w=await this._uploadExamplesMultipart(y,v);return await Promise.all(w.example_ids.map(A=>this.readExample(A)))}const{inputs:n,outputs:r,metadata:i,splits:a,sourceRunIds:s,useSourceRunIOs:o,useSourceRunAttachments:l,attachments:c,exampleIds:d,datasetId:f,datasetName:h}=e;if(n===void 0)throw new Error("Must provide inputs when using legacy parameters");let p=f;const m=h;if(p===void 0&&m===void 0)throw new Error("Must provide either datasetName or datasetId");if(p!==void 0&&m!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");p===void 0&&(p=(await this.readDataset({datasetName:m})).id);const g=n.map((v,y)=>({dataset_id:p,inputs:v,outputs:r==null?void 0:r[y],metadata:i==null?void 0:i[y],split:a==null?void 0:a[y],id:d==null?void 0:d[y],attachments:c==null?void 0:c[y],source_run_id:s==null?void 0:s[y],use_source_run_io:o==null?void 0:o[y],use_source_run_attachments:l==null?void 0:l[y]})),x=await this._uploadExamplesMultipart(p,g);return await Promise.all(x.example_ids.map(v=>this.readExample(v)))}async createLLMExample(e,n,r){return this.createExample({input:e},{output:n},r)}async createChatExample(e,n,r){const i=e.map(s=>e$(s)?t$(s):s),a=e$(n)?t$(n):n;return this.createExample({input:i},{output:a},r)}async readExample(e){Ye(e);const n=`/examples/${e}`,r=await this._get(n),{attachment_urls:i,...a}=r,s=a;return i&&(s.attachments=Object.entries(i).reduce((o,[l,c])=>(o[l.slice(11)]={presigned_url:c.presigned_url,mime_type:c.mime_type},o),{})),s}async*listExamples({datasetId:e,datasetName:n,exampleIds:r,asOf:i,splits:a,inlineS3Urls:s,metadata:o,limit:l,offset:c,filter:d,includeAttachments:f}={}){let h;if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)h=e;else if(n!==void 0)h=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide a datasetName or datasetId");const p=new URLSearchParams({dataset:h}),m=i?typeof i=="string"?i:i==null?void 0:i.toISOString():void 0;m&&p.append("as_of",m);const g=s??!0;if(p.append("inline_s3_urls",g.toString()),r!==void 0)for(const b of r)p.append("id",b);if(a!==void 0)for(const b of a)p.append("splits",b);if(o!==void 0){const b=JSON.stringify(o);p.append("metadata",b)}l!==void 0&&p.append("limit",l.toString()),c!==void 0&&p.append("offset",c.toString()),d!==void 0&&p.append("filter",d),f===!0&&["attachment_urls","outputs","metadata"].forEach(b=>p.append("select",b));let x=0;for await(const b of this._getPaginated("/examples",p)){for(const v of b){const{attachment_urls:y,..._}=v,w=_;y&&(w.attachments=Object.entries(y).reduce((E,[A,j])=>(E[A.slice(11)]={presigned_url:j.presigned_url,mime_type:j.mime_type||void 0},E),{})),yield w,x++}if(l!==void 0&&x>=l)break}}async deleteExample(e){Ye(e);const n=`/examples/${e}`;await this.caller.call(async()=>{const r=await this._fetch(this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(r,`delete ${n}`,!0),r})}async updateExample(e,n){let r;n?r=e:r=e.id,Ye(r);let i;n?i={id:r,...n}:i=e;let a;return i.dataset_id!==void 0?a=i.dataset_id:a=(await this.readExample(r)).dataset_id,this._updateExamplesMultipart(a,[i])}async updateExamples(e){let n;return e[0].dataset_id===void 0?n=(await this.readExample(e[0].id)).dataset_id:n=e[0].dataset_id,this._updateExamplesMultipart(n,e)}async readDatasetVersion({datasetId:e,datasetName:n,asOf:r,tag:i}){let a;if(e?a=e:a=(await this.readDataset({datasetName:n})).id,Ye(a),r&&i||!r&&!i)throw new Error("Exactly one of asOf and tag must be specified.");const s=new URLSearchParams;return r!==void 0&&s.append("as_of",typeof r=="string"?r:r.toISOString()),i!==void 0&&s.append("tag",i),await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/datasets/${a}/version?${s.toString()}`,{method:"GET",headers:{...this.headers},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(l,"read dataset version"),l})).json()}async listDatasetSplits({datasetId:e,datasetName:n,asOf:r}){let i;if(e===void 0&&n===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?i=(await this.readDataset({datasetName:n})).id:i=e,Ye(i);const a=new URLSearchParams,s=r?typeof r=="string"?r:r==null?void 0:r.toISOString():void 0;return s&&a.append("as_of",s),await this._get(`/datasets/${i}/splits`,a)}async updateDatasetSplits({datasetId:e,datasetName:n,splitName:r,exampleIds:i,remove:a=!1}){let s;if(e===void 0&&n===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?s=(await this.readDataset({datasetName:n})).id:s=e,Ye(s);const o={split_name:r,examples:i.map(c=>(Ye(c),c)),remove:a},l=JSON.stringify(o);await this.caller.call(async()=>{const c=await this._fetch(`${this.apiUrl}/datasets/${s}/splits`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Re(c,"update dataset splits",!0),c})}async evaluateRun(e,n,{sourceInfo:r,loadChildRuns:i,referenceExample:a}={loadChildRuns:!1}){WE("This method is deprecated and will be removed in future LangSmith versions, use `evaluate` from `langsmith/evaluation` instead.");let s;if(typeof e=="string")s=await this.readRun(e,{loadChildRuns:i});else if(typeof e=="object"&&"id"in e)s=e;else throw new Error(`Invalid run type: ${typeof e}`);s.reference_example_id!==null&&s.reference_example_id!==void 0&&(a=await this.readExample(s.reference_example_id));const o=await n.evaluateRun(s,a),[l,c]=await this._logEvaluationFeedback(o,s,r);return c[0]}async createFeedback(e,n,{score:r,value:i,correction:a,comment:s,sourceInfo:o,feedbackSourceType:l="api",sourceRunId:c,feedbackId:d,feedbackConfig:f,projectId:h,comparativeExperimentId:p}){var v;if(!e&&!h)throw new Error("One of runId or projectId must be provided");if(e&&h)throw new Error("Only one of runId or projectId can be provided");const m={type:l??"api",metadata:o??{}};c!==void 0&&(m==null?void 0:m.metadata)!==void 0&&!m.metadata.__run&&(m.metadata.__run={run_id:c}),(m==null?void 0:m.metadata)!==void 0&&((v=m.metadata.__run)==null?void 0:v.run_id)!==void 0&&Ye(m.metadata.__run.run_id);const g={id:d??jr(),run_id:e,key:n,score:j$(r),value:i,correction:a,comment:s,feedback_source:m,comparative_experiment_id:p,feedbackConfig:f,session_id:h},x=JSON.stringify(g),b=`${this.apiUrl}/feedback`;return await this.caller.call(async()=>{const y=await this._fetch(b,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:x});return await Re(y,"create feedback",!0),y}),g}async updateFeedback(e,{score:n,value:r,correction:i,comment:a}){const s={};n!=null&&(s.score=j$(n)),r!=null&&(s.value=r),i!=null&&(s.correction=i),a!=null&&(s.comment=a),Ye(e);const o=JSON.stringify(s);await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/feedback/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Re(l,"update feedback",!0),l})}async readFeedback(e){Ye(e);const n=`/feedback/${e}`;return await this._get(n)}async deleteFeedback(e){Ye(e);const n=`/feedback/${e}`;await this.caller.call(async()=>{const r=await this._fetch(this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(r,`delete ${n}`,!0),r})}async*listFeedback({runIds:e,feedbackKeys:n,feedbackSourceTypes:r}={}){const i=new URLSearchParams;if(e)for(const a of e)Ye(a),i.append("run",a);if(n)for(const a of n)i.append("key",a);if(r)for(const a of r)i.append("source",a);for await(const a of this._getPaginated("/feedback",i))yield*a}async createPresignedFeedbackToken(e,n,{expiration:r,feedbackConfig:i}={}){const a={run_id:e,feedback_key:n,feedback_config:i};r?typeof r=="string"?a.expires_at=r:(r!=null&&r.hours||r!=null&&r.minutes||r!=null&&r.days)&&(a.expires_in=r):a.expires_in={hours:3};const s=JSON.stringify(a);return await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Re(l,"create presigned feedback token"),l})).json()}async createComparativeExperiment({name:e,experimentIds:n,referenceDatasetId:r,createdAt:i,description:a,metadata:s,id:o}){var f;if(n.length===0)throw new Error("At least one experiment is required");if(r||(r=(await this.readProject({projectId:n[0]})).reference_dataset_id),!r==null)throw new Error("A reference dataset is required");const l={id:o,name:e,experiment_ids:n,reference_dataset_id:r,description:a,created_at:(f=i??new Date)==null?void 0:f.toISOString(),extra:{}};s&&(l.extra.metadata=s);const c=JSON.stringify(l);return(await this.caller.call(async()=>{const h=await this._fetch(`${this.apiUrl}/datasets/comparative`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await Re(h,"create comparative experiment"),h})).json()}async*listPresignedFeedbackTokens(e){Ye(e);const n=new URLSearchParams({run_id:e});for await(const r of this._getPaginated("/feedback/tokens",n))yield*r}_selectEvalResults(e){let n;return"results"in e?n=e.results:Array.isArray(e)?n=e:n=[e],n}async _logEvaluationFeedback(e,n,r){const i=this._selectEvalResults(e),a=[];for(const s of i){let o=r||{};s.evaluatorInfo&&(o={...s.evaluatorInfo,...o});let l=null;s.targetRunId?l=s.targetRunId:n&&(l=n.id),a.push(await this.createFeedback(l,s.key,{score:s.score,value:s.value,comment:s.comment,correction:s.correction,sourceInfo:o,sourceRunId:s.sourceRunId,feedbackConfig:s.feedbackConfig,feedbackSourceType:"model"}))}return[i,a]}async logEvaluationFeedback(e,n,r){const[i]=await this._logEvaluationFeedback(e,n,r);return i}async*listAnnotationQueues(e={}){const{queueIds:n,name:r,nameContains:i,limit:a}=e,s=new URLSearchParams;n&&n.forEach((l,c)=>{Ye(l,`queueIds[${c}]`),s.append("ids",l)}),r&&s.append("name",r),i&&s.append("name_contains",i),s.append("limit",(a!==void 0?Math.min(a,100):100).toString());let o=0;for await(const l of this._getPaginated("/annotation-queues",s))if(yield*l,o++,a!==void 0&&o>=a)break}async createAnnotationQueue(e){const{name:n,description:r,queueId:i,rubricInstructions:a}=e,s={name:n,description:r,id:i||jr(),rubric_instructions:a},o=JSON.stringify(Object.fromEntries(Object.entries(s).filter(([c,d])=>d!==void 0)));return(await this.caller.call(async()=>{const c=await this._fetch(`${this.apiUrl}/annotation-queues`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Re(c,"create annotation queue"),c})).json()}async readAnnotationQueue(e){return(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(r,"read annotation queue"),r})).json()}async updateAnnotationQueue(e,n){const{name:r,description:i,rubricInstructions:a}=n,s=JSON.stringify({name:r,description:i,rubric_instructions:a});await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Re(o,"update annotation queue",!0),o})}async deleteAnnotationQueue(e){await this.caller.call(async()=>{const n=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(n,"delete annotation queue",!0),n})}async addRunsToAnnotationQueue(e,n){const r=JSON.stringify(n.map((i,a)=>Ye(i,`runIds[${a}]`).toString()));await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}/runs`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Re(i,"add runs to annotation queue",!0),i})}async getRunFromAnnotationQueue(e,n){const r=`/annotation-queues/${Ye(e,"queueId")}/run`;return(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}${r}/${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(a,"get run from annotation queue"),a})).json()}async deleteRunFromAnnotationQueue(e,n){await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}/runs/${Ye(n,"queueRunId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(r,"delete run from annotation queue",!0),r})}async getSizeFromAnnotationQueue(e){return(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}/size`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(r,"get size from annotation queue"),r})).json()}async _currentTenantIsOwner(e){const n=await this._getSettings();return e=="-"||n.tenant_handle===e}async _ownerConflictError(e,n){const r=await this._getSettings();return new Error(`Cannot ${e} for another tenant.

      Current tenant: ${r.tenant_handle}

      Requested tenant: ${n}`)}async _getLatestCommitHash(e){const r=await(await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/commits/${e}/?limit=1&offset=0`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(i,"get latest commit hash"),i})).json();if(r.commits.length!==0)return r.commits[0].commit_hash}async _likeOrUnlikePrompt(e,n){const[r,i,a]=wo(e),s=JSON.stringify({like:n});return(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/likes/${r}/${i}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Re(l,`${n?"like":"unlike"} prompt`),l})).json()}async _getPromptUrl(e){const[n,r,i]=wo(e);if(await this._currentTenantIsOwner(n)){const a=await this._getSettings();return i!=="latest"?`${this.getHostUrl()}/prompts/${r}/${i.substring(0,8)}?organizationId=${a.id}`:`${this.getHostUrl()}/prompts/${r}?organizationId=${a.id}`}else return i!=="latest"?`${this.getHostUrl()}/hub/${n}/${r}/${i.substring(0,8)}`:`${this.getHostUrl()}/hub/${n}/${r}`}async promptExists(e){return!!await this.getPrompt(e)}async likePrompt(e){return this._likeOrUnlikePrompt(e,!0)}async unlikePrompt(e){return this._likeOrUnlikePrompt(e,!1)}async*listCommits(e){for await(const n of this._getPaginated(`/commits/${e}/`,new URLSearchParams,r=>r.commits))yield*n}async*listPrompts(e){const n=new URLSearchParams;n.append("sort_field",(e==null?void 0:e.sortField)??"updated_at"),n.append("sort_direction","desc"),n.append("is_archived",(!!(e!=null&&e.isArchived)).toString()),(e==null?void 0:e.isPublic)!==void 0&&n.append("is_public",e.isPublic.toString()),e!=null&&e.query&&n.append("query",e.query);for await(const r of this._getPaginated("/repos",n,i=>i.repos))yield*r}async getPrompt(e){const[n,r,i]=wo(e),a=await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/repos/${n}/${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return(o==null?void 0:o.status)===404?null:(await Re(o,"get prompt"),o)}),s=await(a==null?void 0:a.json());return s!=null&&s.repo?s.repo:null}async createPrompt(e,n){const r=await this._getSettings();if(n!=null&&n.isPublic&&!r.tenant_handle)throw new Error(`Cannot create a public prompt without first

        creating a LangChain Hub handle.
        You can add a handle by creating a public prompt at:

        https://smith.langchain.com/prompts`);const[i,a,s]=wo(e);if(!await this._currentTenantIsOwner(i))throw await this._ownerConflictError("create a prompt",i);const o={repo_handle:a,...(n==null?void 0:n.description)&&{description:n.description},...(n==null?void 0:n.readme)&&{readme:n.readme},...(n==null?void 0:n.tags)&&{tags:n.tags},is_public:!!(n!=null&&n.isPublic)},l=JSON.stringify(o),c=await this.caller.call(async()=>{const f=await this._fetch(`${this.apiUrl}/repos/`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Re(f,"create prompt"),f}),{repo:d}=await c.json();return d}async createCommit(e,n,r){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[i,a,s]=wo(e),o=(r==null?void 0:r.parentCommitHash)==="latest"||!(r!=null&&r.parentCommitHash)?await this._getLatestCommitHash(`${i}/${a}`):r==null?void 0:r.parentCommitHash,l={manifest:JSON.parse(JSON.stringify(n)),parent_commit:o},c=JSON.stringify(l),f=await(await this.caller.call(async()=>{const h=await this._fetch(`${this.apiUrl}/commits/${i}/${a}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await Re(h,"create commit"),h})).json();return this._getPromptUrl(`${i}/${a}${f.commit_hash?`:${f.commit_hash}`:""}`)}async updateExamplesMultipart(e,n=[]){return this._updateExamplesMultipart(e,n)}async _updateExamplesMultipart(e,n=[]){var s;if(!await this._getDatasetExamplesMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const r=new FormData;for(const o of n){const l=o.id,c={...o.metadata&&{metadata:o.metadata},...o.split&&{split:o.split}},d=Ur(c,`Serializing body for example with id: ${l}`),f=new Blob([d],{type:"application/json"});if(r.append(l,f),o.inputs){const h=Ur(o.inputs,`Serializing inputs for example with id: ${l}`),p=new Blob([h],{type:"application/json"});r.append(`${l}.inputs`,p)}if(o.outputs){const h=Ur(o.outputs,`Serializing outputs whle updating example with id: ${l}`),p=new Blob([h],{type:"application/json"});r.append(`${l}.outputs`,p)}if(o.attachments)for(const[h,p]of Object.entries(o.attachments)){let m,g;Array.isArray(p)?[m,g]=p:(m=p.mimeType,g=p.data);const x=new Blob([g],{type:`${m}; length=${g.byteLength}`});r.append(`${l}.attachment.${h}`,x)}if(o.attachments_operations){const h=Ur(o.attachments_operations,`Serializing attachments while updating example with id: ${l}`),p=new Blob([h],{type:"application/json"});r.append(`${l}.attachments_operations`,p)}}const i=e??((s=n[0])==null?void 0:s.dataset_id);return(await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${i}/examples`)}`,{method:"PATCH",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Re(o,"update examples"),o})).json()}async uploadExamplesMultipart(e,n=[]){return this._uploadExamplesMultipart(e,n)}async _uploadExamplesMultipart(e,n=[]){if(!await this._getDatasetExamplesMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const r=new FormData;for(const a of n){const s=(a.id??jr()).toString(),o={created_at:a.created_at,...a.metadata&&{metadata:a.metadata},...a.split&&{split:a.split},...a.source_run_id&&{source_run_id:a.source_run_id},...a.use_source_run_io&&{use_source_run_io:a.use_source_run_io},...a.use_source_run_attachments&&{use_source_run_attachments:a.use_source_run_attachments}},l=Ur(o,`Serializing body for uploaded example with id: ${s}`),c=new Blob([l],{type:"application/json"});if(r.append(s,c),a.inputs){const d=Ur(a.inputs,`Serializing inputs for uploaded example with id: ${s}`),f=new Blob([d],{type:"application/json"});r.append(`${s}.inputs`,f)}if(a.outputs){const d=Ur(a.outputs,`Serializing outputs for uploaded example with id: ${s}`),f=new Blob([d],{type:"application/json"});r.append(`${s}.outputs`,f)}if(a.attachments)for(const[d,f]of Object.entries(a.attachments)){let h,p;Array.isArray(f)?[h,p]=f:(h=f.mimeType,p=f.data);const m=new Blob([p],{type:`${h}; length=${p.byteLength}`});r.append(`${s}.attachment.${d}`,m)}}return(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${e}/examples`)}`,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Re(a,"upload examples"),a})).json()}async updatePrompt(e,n){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[r,i]=wo(e);if(!await this._currentTenantIsOwner(r))throw await this._ownerConflictError("update a prompt",r);const a={};if((n==null?void 0:n.description)!==void 0&&(a.description=n.description),(n==null?void 0:n.readme)!==void 0&&(a.readme=n.readme),(n==null?void 0:n.tags)!==void 0&&(a.tags=n.tags),(n==null?void 0:n.isPublic)!==void 0&&(a.is_public=n.isPublic),(n==null?void 0:n.isArchived)!==void 0&&(a.is_archived=n.isArchived),Object.keys(a).length===0)throw new Error("No valid update options provided");const s=JSON.stringify(a);return(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/repos/${r}/${i}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Re(l,"update prompt"),l})).json()}async deletePrompt(e){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[n,r,i]=wo(e);if(!await this._currentTenantIsOwner(n))throw await this._ownerConflictError("delete a prompt",n);return(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/repos/${n}/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(s,"delete prompt"),s})).json()}async pullPromptCommit(e,n){const[r,i,a]=wo(e),o=await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/commits/${r}/${i}/${a}${n!=null&&n.includeModel?"?include_model=true":""}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Re(l,"pull prompt commit"),l})).json();return{owner:r,repo:i,commit_hash:o.commit_hash,manifest:o.manifest,examples:o.examples}}async _pullPrompt(e,n){const r=await this.pullPromptCommit(e,{includeModel:n==null?void 0:n.includeModel});return JSON.stringify(r.manifest)}async pushPrompt(e,n){return await this.promptExists(e)?n&&Object.keys(n).some(i=>i!=="object")&&await this.updatePrompt(e,{description:n==null?void 0:n.description,readme:n==null?void 0:n.readme,tags:n==null?void 0:n.tags,isPublic:n==null?void 0:n.isPublic}):await this.createPrompt(e,{description:n==null?void 0:n.description,readme:n==null?void 0:n.readme,tags:n==null?void 0:n.tags,isPublic:n==null?void 0:n.isPublic}),n!=null&&n.object?await this.createCommit(e,n==null?void 0:n.object,{parentCommitHash:n==null?void 0:n.parentCommitHash}):await this._getPromptUrl(e)}async clonePublicDataset(e,n={}){const{sourceApiUrl:r=this.apiUrl,datasetName:i}=n,[a,s]=this.parseTokenOrUrl(e,r),o=new Kd({apiUrl:a,apiKey:"placeholder"}),l=await o.readSharedDataset(s),c=i||l.name;try{if(await this.hasDataset({datasetId:c})){console.log(`Dataset ${c} already exists in your tenant. Skipping.`);return}}catch{}const d=await o.listSharedExamples(s),f=await this.createDataset(c,{description:l.description,dataType:l.data_type||"kv",inputsSchema:l.inputs_schema_definition??void 0,outputsSchema:l.outputs_schema_definition??void 0});try{await this.createExamples({inputs:d.map(h=>h.inputs),outputs:d.flatMap(h=>h.outputs?[h.outputs]:[]),datasetId:f.id})}catch(h){throw console.error(`An error occurred while creating dataset ${c}. You should delete it manually.`),h}}parseTokenOrUrl(e,n,r=2,i="dataset"){try{return Ye(e),[n,e]}catch{}try{const s=new URL(e).pathname.split("/").filter(o=>o!=="");if(s.length>=r){const o=s[s.length-r];return[n,o]}else throw new Error(`Invalid public ${i} URL: ${e}`)}catch{throw new Error(`Invalid public ${i} URL or token: ${e}`)}}async awaitPendingTraceBatches(){var e,n;if(this.manualFlushMode)return console.warn("[WARNING]: When tracing in manual flush mode, you must call `await client.flush()` manually to submit trace batches."),Promise.resolve();await Promise.all([...this.autoBatchQueue.items.map(({itemPromise:r})=>r),this.batchIngestCaller.queue.onIdle()]),this.langSmithToOTELTranslator!==void 0&&await((n=(e=Eue())==null?void 0:e.DEFAULT_LANGSMITH_SPAN_PROCESSOR)==null?void 0:n.forceFlush())}}function T$(t){return"dataset_id"in t||"dataset_name"in t}const npe=t=>!!["TRACING_V2","TRACING"].find(n=>Ar(n)==="true"),sl=Symbol.for("lc:context_variables"),r1=Symbol.for("langsmith:replica_trace_roots");function k$(t,e){if(sl in t)return t[sl][e]}function rpe(t,e,n){const r=sl in t?t[sl]:{};r[e]=n,t[sl]=r}const bh=36,zh="6ba7b810-9dad-11d1-80b4-00c04fd430c8";function C$(t){const n=Object.keys(t).sort().map(r=>`${r}:${t[r]??""}`).join("|");return Bh(n,zh)}function ipe(t){return t.replace(/[-:.]/g,"")}function h6(t,e=1){const n=e.toFixed(0).slice(0,3).padStart(3,"0");return`${new Date(t).toISOString().slice(0,-1)}${n}Z`}function p6(t,e,n=1){const r=h6(t,n);return{dottedOrder:ipe(r)+e,microsecondPrecisionDatestring:r}}class d0{constructor(e,n,r,i){Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.metadata=e,this.tags=n,this.project_name=r,this.replicas=i}static fromHeader(e){const n=e.split(",");let r={},i=[],a,s;for(const o of n){const[l,c]=o.split("="),d=decodeURIComponent(c);l==="langsmith-metadata"?r=JSON.parse(d):l==="langsmith-tags"?i=d.split(","):l==="langsmith-project"?a=d:l==="langsmith-replicas"&&(s=JSON.parse(d))}return new d0(r,i,a,s)}toHeader(){const e=[];return this.metadata&&Object.keys(this.metadata).length>0&&e.push(`langsmith-metadata=${encodeURIComponent(JSON.stringify(this.metadata))}`),this.tags&&this.tags.length>0&&e.push(`langsmith-tags=${encodeURIComponent(this.tags.join(","))}`),this.project_name&&e.push(`langsmith-project=${encodeURIComponent(this.project_name)}`),e.join(",")}}class _r{constructor(e){var o;if(Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"run_type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_runs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"end_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extra",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reference_example_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dotted_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"attachments",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"distributedParentId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_serialized_start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),ape(e)){Object.assign(this,{...e});return}const n=_r.getDefaultConfig(),{metadata:r,...i}=e,a=i.client??_r.getSharedClient(),s={...r,...(o=i==null?void 0:i.extra)==null?void 0:o.metadata};if(i.extra={...i.extra,metadata:s},"id"in i&&i.id==null&&delete i.id,Object.assign(this,{...n,...i,client:a}),this.execution_order??(this.execution_order=1),this.child_execution_order??(this.child_execution_order=1),this.dotted_order||(this._serialized_start_time=h6(this.start_time,this.execution_order)),this.id||(this.id=uue(this._serialized_start_time??this.start_time)),this.trace_id||(this.parent_run?this.trace_id=this.parent_run.trace_id??this.id:this.trace_id=this.id),this.replicas=cpe(this.replicas),!this.dotted_order){const{dottedOrder:l}=p6(this.start_time,this.id,this.execution_order);this.parent_run?this.dotted_order=this.parent_run.dotted_order+"."+l:this.dotted_order=l}}set metadata(e){var n;this.extra={...this.extra,metadata:{...(n=this.extra)==null?void 0:n.metadata,...e}}}get metadata(){var e;return(e=this.extra)==null?void 0:e.metadata}static getDefaultConfig(){const e=Date.now();return{run_type:"chain",project_name:HU(),child_runs:[],api_url:hs("LANGCHAIN_ENDPOINT")??"http://localhost:1984",api_key:hs("LANGCHAIN_API_KEY"),caller_options:{},start_time:e,serialized:{},inputs:{},extra:{}}}static getSharedClient(){return _r.sharedClient||(_r.sharedClient=new Kd),_r.sharedClient}createChild(e){var d,f,h,p,m,g,x;const n=this.child_execution_order+1,r=(d=this.replicas)==null?void 0:d.map(b=>{const{reroot:v,...y}=b;return y}),i=e.replicas??r,a=new _r({...e,parent_run:this,project_name:this.project_name,replicas:i,client:this.client,tracingEnabled:this.tracingEnabled,execution_order:n,child_execution_order:n});sl in this&&(a[sl]=this[sl]);const s=Symbol.for("lc:child_config"),o=((f=e.extra)==null?void 0:f[s])??this.extra[s];if(ope(o)){const b={...o},v=spe(b.callbacks)?(p=(h=b.callbacks).copy)==null?void 0:p.call(h):void 0;v&&(Object.assign(v,{_parentRunId:a.id}),(x=(g=(m=v.handlers)==null?void 0:m.find(m6))==null?void 0:g.updateFromRunTree)==null||x.call(g,a),b.callbacks=v),a.extra[s]=b}const l=new Set;let c=this;for(;c!=null&&!l.has(c.id);)l.add(c.id),c.child_execution_order=Math.max(c.child_execution_order,n),c=c.parent_run;return this.child_runs.push(a),a}async end(e,n,r=Date.now(),i){this.outputs=this.outputs??e,this.error=this.error??n,this.end_time=this.end_time??r,i&&Object.keys(i).length>0&&(this.extra=this.extra?{...this.extra,metadata:{...this.extra.metadata,...i}}:{metadata:i})}_convertToCreate(e,n,r=!0){var o,l;const i=e.extra??{};if(((o=i==null?void 0:i.runtime)==null?void 0:o.library)===void 0&&(i.runtime||(i.runtime={}),n))for(const[c,d]of Object.entries(n))i.runtime[c]||(i.runtime[c]=d);let a,s;return r?(s=((l=e.parent_run)==null?void 0:l.id)??e.parent_run_id,a=[]):(a=e.child_runs.map(c=>this._convertToCreate(c,n,r)),s=void 0),{id:e.id,name:e.name,start_time:e._serialized_start_time??e.start_time,end_time:e.end_time,run_type:e.run_type,reference_example_id:e.reference_example_id,extra:i,serialized:e.serialized,error:e.error,inputs:e.inputs,outputs:e.outputs,session_name:e.project_name,child_runs:a,parent_run_id:s,trace_id:e.trace_id,dotted_order:e.dotted_order,tags:e.tags,attachments:e.attachments,events:e.events}}_sliceParentId(e,n){if(n.dotted_order){const r=n.dotted_order.split(".");let i=null;for(let a=0;a<r.length;a++)if(r[a].slice(-bh)===e){i=a;break}if(i!==null){const a=r.slice(i+1);n.dotted_order=a.join("."),a.length>0?n.trace_id=a[0].slice(-bh):n.trace_id=n.id}}n.parent_run_id===e&&(n.parent_run_id=void 0)}_setReplicaTraceRoot(e,n){const r=k$(this,r1)??{};r[e]=n,rpe(this,r1,r);for(const i of this.child_runs)i._setReplicaTraceRoot(e,n)}_remapForProject(e){const{projectName:n,runtimeEnv:r,excludeChildRuns:i=!0,reroot:a=!1,distributedParentId:s,apiUrl:o,apiKey:l,workspaceId:c}=e,d=this._convertToCreate(this,r,i);if(n===this.project_name)return{...d,session_name:n};if(a){if(s)this._sliceParentId(s,d);else if(d.parent_run_id=void 0,d.dotted_order){const v=d.dotted_order.split(".");v.length>0&&(d.dotted_order=v[v.length-1],d.trace_id=d.id)}const b=C$({projectName:n,apiUrl:o,apiKey:l,workspaceId:c});this._setReplicaTraceRoot(b,d.id)}let f;if(!a){const b=k$(this,r1)??{},v=C$({projectName:n,apiUrl:o,apiKey:l,workspaceId:c});if(f=b[v],f&&(d.trace_id=f,d.dotted_order)){const y=d.dotted_order.split(".");let _=null;for(let w=0;w<y.length;w++)if(y[w].slice(-bh)===f){_=w;break}if(_!==null){const w=y.slice(_);d.dotted_order=w.join(".")}}}const h=d.id,p=Bh(`${h}:${n}`,zh);let m;d.trace_id?m=Bh(`${d.trace_id}:${n}`,zh):m=p;let g;d.parent_run_id&&(g=Bh(`${d.parent_run_id}:${n}`,zh));let x;return d.dotted_order&&(x=d.dotted_order.split(".").map(y=>{const _=y.slice(-bh),w=Bh(`${_}:${n}`,zh);return y.slice(0,-bh)+w}).join(".")),{...d,id:p,trace_id:m,parent_run_id:g,dotted_order:x,session_name:n}}async postRun(e=!0){try{const n=GU();if(this.replicas&&this.replicas.length>0)for(const{projectName:r,apiKey:i,apiUrl:a,workspaceId:s,reroot:o}of this.replicas){const l=this._remapForProject({projectName:r??this.project_name,runtimeEnv:n,excludeChildRuns:!0,reroot:o,distributedParentId:this.distributedParentId,apiUrl:a,apiKey:i,workspaceId:s});await this.client.createRun(l,{apiKey:i,apiUrl:a,workspaceId:s})}else{const r=this._convertToCreate(this,n,e);await this.client.createRun(r)}if(!e){WE("Posting with excludeChildRuns=false is deprecated and will be removed in a future version.");for(const r of this.child_runs)await r.postRun(!1)}}catch(n){console.error(`Error in postRun for run ${this.id}:`,n)}}async patchRun(e){var n;if(this.replicas&&this.replicas.length>0)for(const{projectName:r,apiKey:i,apiUrl:a,workspaceId:s,updates:o,reroot:l}of this.replicas){const c=this._remapForProject({projectName:r??this.project_name,runtimeEnv:void 0,excludeChildRuns:!0,reroot:l,distributedParentId:this.distributedParentId,apiUrl:a,apiKey:i,workspaceId:s}),d={id:c.id,name:c.name,run_type:c.run_type,start_time:c.start_time,outputs:c.outputs,error:c.error,parent_run_id:c.parent_run_id,session_name:c.session_name,reference_example_id:c.reference_example_id,end_time:c.end_time,dotted_order:c.dotted_order,trace_id:c.trace_id,events:c.events,tags:c.tags,extra:c.extra,attachments:this.attachments,...o};e!=null&&e.excludeInputs||(d.inputs=c.inputs),await this.client.updateRun(c.id,d,{apiKey:i,apiUrl:a,workspaceId:s})}else try{const r={name:this.name,run_type:this.run_type,start_time:this._serialized_start_time??this.start_time,end_time:this.end_time,error:this.error,outputs:this.outputs,parent_run_id:((n=this.parent_run)==null?void 0:n.id)??this.parent_run_id,reference_example_id:this.reference_example_id,extra:this.extra,events:this.events,dotted_order:this.dotted_order,trace_id:this.trace_id,tags:this.tags,attachments:this.attachments,session_name:this.project_name};e!=null&&e.excludeInputs||(r.inputs=this.inputs),await this.client.updateRun(this.id,r)}catch(r){console.error(`Error in patchRun for run ${this.id}`,r)}}toJSON(){return this._convertToCreate(this,void 0,!1)}addEvent(e){this.events||(this.events=[]),typeof e=="string"?this.events.push({name:"event",time:new Date().toISOString(),message:e}):this.events.push({...e,time:e.time??new Date().toISOString()})}static fromRunnableConfig(e,n){var c,d,f,h;const r=e==null?void 0:e.callbacks;let i,a,s,o=npe();if(r){const p=((c=r==null?void 0:r.getParentRunId)==null?void 0:c.call(r))??"",m=(d=r==null?void 0:r.handlers)==null?void 0:d.find(g=>(g==null?void 0:g.name)=="langchain_tracer");i=(f=m==null?void 0:m.getRun)==null?void 0:f.call(m,p),a=m==null?void 0:m.projectName,s=m==null?void 0:m.client,o=o||!!m}return i?new _r({name:i.name,id:i.id,trace_id:i.trace_id,dotted_order:i.dotted_order,client:s,tracingEnabled:o,project_name:a,tags:[...new Set(((i==null?void 0:i.tags)??[]).concat((e==null?void 0:e.tags)??[]))],extra:{metadata:{...(h=i==null?void 0:i.extra)==null?void 0:h.metadata,...e==null?void 0:e.metadata}}}).createChild(n):new _r({...n,client:s,tracingEnabled:o,project_name:a})}static fromDottedOrder(e){return this.fromHeaders({"langsmith-trace":e})}static fromHeaders(e,n){var d;const r="get"in e&&typeof e.get=="function"?{"langsmith-trace":e.get("langsmith-trace"),baggage:e.get("baggage")}:e,i=r["langsmith-trace"];if(!i||typeof i!="string")return;const a=i.trim(),s=a.split(".").map(f=>{const[h,p]=f.split("Z");return{strTime:h,time:Date.parse(h+"Z"),uuid:p}}),o=s[0].uuid,l={...n,name:(n==null?void 0:n.name)??"parent",run_type:(n==null?void 0:n.run_type)??"chain",start_time:(n==null?void 0:n.start_time)??Date.now(),id:(d=s.at(-1))==null?void 0:d.uuid,trace_id:o,dotted_order:a};if(r.baggage&&typeof r.baggage=="string"){const f=d0.fromHeader(r.baggage);l.metadata=f.metadata,l.tags=f.tags,l.project_name=f.project_name,l.replicas=f.replicas}const c=new _r(l);return c.distributedParentId=c.id,c}toHeaders(e){var r;const n={"langsmith-trace":this.dotted_order,baggage:new d0((r=this.extra)==null?void 0:r.metadata,this.tags,this.project_name,this.replicas).toHeader()};if(e)for(const[i,a]of Object.entries(n))e.set(i,a);return n}}Object.defineProperty(_r,"sharedClient",{enumerable:!0,configurable:!0,writable:!0,value:null});function ape(t){return t!=null&&typeof t.createChild=="function"&&typeof t.postRun=="function"}function m6(t){return typeof t=="object"&&t!=null&&typeof t.name=="string"&&t.name==="langchain_tracer"}function O$(t){return Array.isArray(t)&&t.some(e=>m6(e))}function spe(t){return typeof t=="object"&&t!=null&&Array.isArray(t.handlers)}function ope(t){var e;return t!=null&&typeof t.callbacks=="object"&&(O$((e=t.callbacks)==null?void 0:e.handlers)||O$(t.callbacks))}function lpe(){const t=hs("LANGSMITH_RUNS_ENDPOINTS");if(!t)return[];try{const e=JSON.parse(t);if(Array.isArray(e)){const n=[];for(const r of e){if(typeof r!="object"||r===null){console.warn(`Invalid item type in LANGSMITH_RUNS_ENDPOINTS: expected object, got ${typeof r}`);continue}if(typeof r.api_url!="string"){console.warn(`Invalid api_url type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof r.api_url}`);continue}if(typeof r.api_key!="string"){console.warn(`Invalid api_key type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof r.api_key}`);continue}n.push({apiUrl:r.api_url.replace(/\/$/,""),apiKey:r.api_key})}return n}else if(typeof e=="object"&&e!==null){upe(e);const n=[];for(const[r,i]of Object.entries(e)){const a=r.replace(/\/$/,"");if(typeof i=="string")n.push({apiUrl:a,apiKey:i});else{console.warn(`Invalid value type in LANGSMITH_RUNS_ENDPOINTS for URL ${r}: expected string, got ${typeof i}`);continue}}return n}else return console.warn(`Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of objects with api_url and api_key properties, or object mapping url->apiKey, got ${typeof e}`),[]}catch(e){if(Uhe(e))throw e;return console.warn("Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of objects with api_url and api_key properties, or object mapping url->apiKey"),[]}}function cpe(t){return t?t.map(e=>Array.isArray(e)?{projectName:e[0],updates:e[1]}:e):lpe()}function upe(t){if(Object.keys(t).length>0&&Ar("ENDPOINT"))throw new zhe}var dpe={};bt(dpe,{BaseTracer:()=>zf,isBaseTracer:()=>$u});const fpe=t=>{if(t)return t.events=t.events??[],t.child_runs=t.child_runs??[],t};function KE(t,e){if(t)return new _r({...t,start_time:t._serialized_start_time??t.start_time,parent_run:KE(e),child_runs:t.child_runs.map(n=>KE(n)).filter(n=>n!==void 0),extra:{...t.extra,runtime:LU()},tracingEnabled:!1})}function i1(t,e){return t&&!Array.isArray(t)&&typeof t=="object"?t:{[e]:t}}function $u(t){return typeof t._addRunToRunMap=="function"}var zf=class extends hg{constructor(e){super(...arguments);H(this,"runMap",new Map);H(this,"runTreeMap",new Map);H(this,"usesRunTreeMap",!1)}copy(){return this}getRunById(e){if(e!==void 0)return this.usesRunTreeMap?fpe(this.runTreeMap.get(e)):this.runMap.get(e)}stringifyError(e){return e instanceof Error?e.message+(e!=null&&e.stack?`

${e.stack}`:""):typeof e=="string"?e:`${e}`}_addChildRun(e,n){e.child_runs.push(n)}_addRunToRunMap(e){const{dottedOrder:n,microsecondPrecisionDatestring:r}=p6(new Date(e.start_time).getTime(),e.id,e.execution_order),i={...e},a=this.getRunById(i.parent_run_id);if(i.parent_run_id!==void 0?a&&(this._addChildRun(a,i),a.child_execution_order=Math.max(a.child_execution_order,i.child_execution_order),i.trace_id=a.trace_id,a.dotted_order!==void 0&&(i.dotted_order=[a.dotted_order,n].join("."),i._serialized_start_time=r)):(i.trace_id=i.id,i.dotted_order=n,i._serialized_start_time=r),this.usesRunTreeMap){const s=KE(i,a);s!==void 0&&this.runTreeMap.set(i.id,s)}else this.runMap.set(i.id,i);return i}async _endTrace(e){var r;const n=e.parent_run_id!==void 0&&this.getRunById(e.parent_run_id);n?n.child_execution_order=Math.max(n.child_execution_order,e.child_execution_order):await this.persistRun(e),await((r=this.onRunUpdate)==null?void 0:r.call(this,e)),this.usesRunTreeMap?this.runTreeMap.delete(e.id):this.runMap.delete(e.id)}_getExecutionOrder(e){const n=e!==void 0&&this.getRunById(e);return n?n.child_execution_order+1:1}_createRunForLLMStart(e,n,r,i,a,s,o,l){const c=this._getExecutionOrder(i),d=Date.now(),f=o?{...a,metadata:o}:a,h={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:{prompts:n},execution_order:c,child_runs:[],child_execution_order:c,run_type:"llm",extra:f??{},tags:s||[]};return this._addRunToRunMap(h)}async handleLLMStart(e,n,r,i,a,s,o,l){var d,f;const c=this.getRunById(r)??this._createRunForLLMStart(e,n,r,i,a,s,o,l);return await((d=this.onRunCreate)==null?void 0:d.call(this,c)),await((f=this.onLLMStart)==null?void 0:f.call(this,c)),c}_createRunForChatModelStart(e,n,r,i,a,s,o,l){const c=this._getExecutionOrder(i),d=Date.now(),f=o?{...a,metadata:o}:a,h={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:{messages:n},execution_order:c,child_runs:[],child_execution_order:c,run_type:"llm",extra:f??{},tags:s||[]};return this._addRunToRunMap(h)}async handleChatModelStart(e,n,r,i,a,s,o,l){var d,f;const c=this.getRunById(r)??this._createRunForChatModelStart(e,n,r,i,a,s,o,l);return await((d=this.onRunCreate)==null?void 0:d.call(this,c)),await((f=this.onLLMStart)==null?void 0:f.call(this,c)),c}async handleLLMEnd(e,n,r,i,a){var o;const s=this.getRunById(n);if(!s||(s==null?void 0:s.run_type)!=="llm")throw new Error("No LLM run to end.");return s.end_time=Date.now(),s.outputs=e,s.events.push({name:"end",time:new Date(s.end_time).toISOString()}),s.extra={...s.extra,...a},await((o=this.onLLMEnd)==null?void 0:o.call(this,s)),await this._endTrace(s),s}async handleLLMError(e,n,r,i,a){var o;const s=this.getRunById(n);if(!s||(s==null?void 0:s.run_type)!=="llm")throw new Error("No LLM run to end.");return s.end_time=Date.now(),s.error=this.stringifyError(e),s.events.push({name:"error",time:new Date(s.end_time).toISOString()}),s.extra={...s.extra,...a},await((o=this.onLLMError)==null?void 0:o.call(this,s)),await this._endTrace(s),s}_createRunForChainStart(e,n,r,i,a,s,o,l){const c=this._getExecutionOrder(i),d=Date.now(),f={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:n,execution_order:c,child_execution_order:c,run_type:o??"chain",child_runs:[],extra:s?{metadata:s}:{},tags:a||[]};return this._addRunToRunMap(f)}async handleChainStart(e,n,r,i,a,s,o,l){var d,f;const c=this.getRunById(r)??this._createRunForChainStart(e,n,r,i,a,s,o,l);return await((d=this.onRunCreate)==null?void 0:d.call(this,c)),await((f=this.onChainStart)==null?void 0:f.call(this,c)),c}async handleChainEnd(e,n,r,i,a){var o;const s=this.getRunById(n);if(!s)throw new Error("No chain run to end.");return s.end_time=Date.now(),s.outputs=i1(e,"output"),s.events.push({name:"end",time:new Date(s.end_time).toISOString()}),(a==null?void 0:a.inputs)!==void 0&&(s.inputs=i1(a.inputs,"input")),await((o=this.onChainEnd)==null?void 0:o.call(this,s)),await this._endTrace(s),s}async handleChainError(e,n,r,i,a){var o;const s=this.getRunById(n);if(!s)throw new Error("No chain run to end.");return s.end_time=Date.now(),s.error=this.stringifyError(e),s.events.push({name:"error",time:new Date(s.end_time).toISOString()}),(a==null?void 0:a.inputs)!==void 0&&(s.inputs=i1(a.inputs,"input")),await((o=this.onChainError)==null?void 0:o.call(this,s)),await this._endTrace(s),s}_createRunForToolStart(e,n,r,i,a,s,o){const l=this._getExecutionOrder(i),c=Date.now(),d={id:r,name:o??e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{input:n},execution_order:l,child_execution_order:l,run_type:"tool",child_runs:[],extra:s?{metadata:s}:{},tags:a||[]};return this._addRunToRunMap(d)}async handleToolStart(e,n,r,i,a,s,o){var c,d;const l=this.getRunById(r)??this._createRunForToolStart(e,n,r,i,a,s,o);return await((c=this.onRunCreate)==null?void 0:c.call(this,l)),await((d=this.onToolStart)==null?void 0:d.call(this,l)),l}async handleToolEnd(e,n){var i;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.outputs={output:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((i=this.onToolEnd)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleToolError(e,n){var i;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((i=this.onToolError)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleAgentAction(e,n){var a;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="chain")return;const i=r;i.actions=i.actions||[],i.actions.push(e),i.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:e}}),await((a=this.onAgentAction)==null?void 0:a.call(this,r))}async handleAgentEnd(e,n){var i;const r=this.getRunById(n);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:e}}),await((i=this.onAgentEnd)==null?void 0:i.call(this,r)))}_createRunForRetrieverStart(e,n,r,i,a,s,o){const l=this._getExecutionOrder(i),c=Date.now(),d={id:r,name:o??e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{query:n},execution_order:l,child_execution_order:l,run_type:"retriever",child_runs:[],extra:s?{metadata:s}:{},tags:a||[]};return this._addRunToRunMap(d)}async handleRetrieverStart(e,n,r,i,a,s,o){var c,d;const l=this.getRunById(r)??this._createRunForRetrieverStart(e,n,r,i,a,s,o);return await((c=this.onRunCreate)==null?void 0:c.call(this,l)),await((d=this.onRetrieverStart)==null?void 0:d.call(this,l)),l}async handleRetrieverEnd(e,n){var i;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.outputs={documents:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((i=this.onRetrieverEnd)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleRetrieverError(e,n){var i;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((i=this.onRetrieverError)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleText(e,n){var i;const r=this.getRunById(n);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:e}}),await((i=this.onText)==null?void 0:i.call(this,r)))}async handleLLMNewToken(e,n,r,i,a,s){var l;const o=this.getRunById(r);if(!o||(o==null?void 0:o.run_type)!=="llm")throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return o.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:e,idx:n,chunk:s==null?void 0:s.chunk}}),await((l=this.onLLMNewToken)==null?void 0:l.call(this,o,e,{chunk:s==null?void 0:s.chunk})),o}},jC={exports:{}};jC.exports;(function(t){const n=(a=0)=>s=>`\x1B[${38+a};5;${s}m`,r=(a=0)=>(s,o,l)=>`\x1B[${38+a};2;${s};${o};${l}m`;function i(){const a=new Map,s={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};s.color.gray=s.color.blackBright,s.bgColor.bgGray=s.bgColor.bgBlackBright,s.color.grey=s.color.blackBright,s.bgColor.bgGrey=s.bgColor.bgBlackBright;for(const[o,l]of Object.entries(s)){for(const[c,d]of Object.entries(l))s[c]={open:`\x1B[${d[0]}m`,close:`\x1B[${d[1]}m`},l[c]=s[c],a.set(d[0],d[1]);Object.defineProperty(s,o,{value:l,enumerable:!1})}return Object.defineProperty(s,"codes",{value:a,enumerable:!1}),s.color.close="\x1B[39m",s.bgColor.close="\x1B[49m",s.color.ansi256=n(),s.color.ansi16m=r(),s.bgColor.ansi256=n(10),s.bgColor.ansi16m=r(10),Object.defineProperties(s,{rgbToAnsi256:{value:(o,l,c)=>o===l&&l===c?o<8?16:o>248?231:Math.round((o-8)/247*24)+232:16+36*Math.round(o/255*5)+6*Math.round(l/255*5)+Math.round(c/255*5),enumerable:!1},hexToRgb:{value:o=>{const l=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(o.toString(16));if(!l)return[0,0,0];let{colorString:c}=l.groups;c.length===3&&(c=c.split("").map(f=>f+f).join(""));const d=Number.parseInt(c,16);return[d>>16&255,d>>8&255,d&255]},enumerable:!1},hexToAnsi256:{value:o=>s.rgbToAnsi256(...s.hexToRgb(o)),enumerable:!1}}),s}Object.defineProperty(t,"exports",{enumerable:!0,get:i})})(jC);var hpe=jC.exports;const g6=at(hpe);var ppe={};bt(ppe,{ConsoleCallbackHandler:()=>YE});function rr(t,e){return`${t.open}${e}${t.close}`}function vi(t,e){try{return JSON.stringify(t,null,2)}catch{return e}}function N$(t){return typeof t=="string"?t.trim():t==null?t:vi(t,t.toString())}function _o(t){if(!t.end_time)return"";const e=t.end_time-t.start_time;return e<1e3?`${e}ms`:`${(e/1e3).toFixed(2)}s`}const{color:br}=g6;var YE=class extends zf{constructor(){super(...arguments);H(this,"name","console_callback_handler")}persistRun(e){return Promise.resolve()}getParents(e){const n=[];let r=e;for(;r.parent_run_id;){const i=this.runMap.get(r.parent_run_id);if(i)n.push(i),r=i;else break}return n}getBreadcrumbs(e){const r=[...this.getParents(e).reverse(),e].map((i,a,s)=>{const o=`${i.execution_order}:${i.run_type}:${i.name}`;return a===s.length-1?rr(g6.bold,o):o}).join(" > ");return rr(br.grey,r)}onChainStart(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.green,"[chain/start]")} [${n}] Entering Chain run with input: ${vi(e.inputs,"[inputs]")}`)}onChainEnd(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.cyan,"[chain/end]")} [${n}] [${_o(e)}] Exiting Chain run with output: ${vi(e.outputs,"[outputs]")}`)}onChainError(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.red,"[chain/error]")} [${n}] [${_o(e)}] Chain run errored with error: ${vi(e.error,"[error]")}`)}onLLMStart(e){const n=this.getBreadcrumbs(e),r="prompts"in e.inputs?{prompts:e.inputs.prompts.map(i=>i.trim())}:e.inputs;console.log(`${rr(br.green,"[llm/start]")} [${n}] Entering LLM run with input: ${vi(r,"[inputs]")}`)}onLLMEnd(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.cyan,"[llm/end]")} [${n}] [${_o(e)}] Exiting LLM run with output: ${vi(e.outputs,"[response]")}`)}onLLMError(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.red,"[llm/error]")} [${n}] [${_o(e)}] LLM run errored with error: ${vi(e.error,"[error]")}`)}onToolStart(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.green,"[tool/start]")} [${n}] Entering Tool run with input: "${N$(e.inputs.input)}"`)}onToolEnd(e){var r;const n=this.getBreadcrumbs(e);console.log(`${rr(br.cyan,"[tool/end]")} [${n}] [${_o(e)}] Exiting Tool run with output: "${N$((r=e.outputs)==null?void 0:r.output)}"`)}onToolError(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.red,"[tool/error]")} [${n}] [${_o(e)}] Tool run errored with error: ${vi(e.error,"[error]")}`)}onRetrieverStart(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.green,"[retriever/start]")} [${n}] Entering Retriever run with input: ${vi(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.cyan,"[retriever/end]")} [${n}] [${_o(e)}] Exiting Retriever run with output: ${vi(e.outputs,"[outputs]")}`)}onRetrieverError(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.red,"[retriever/error]")} [${n}] [${_o(e)}] Retriever run errored with error: ${vi(e.error,"[error]")}`)}onAgentAction(e){const n=e,r=this.getBreadcrumbs(e);console.log(`${rr(br.blue,"[agent/action]")} [${r}] Agent selected action: ${vi(n.actions[n.actions.length-1],"[action]")}`)}};let a1;const y6=()=>{if(a1===void 0){const t=Bs("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"?{blockOnRootRunFinalization:!0}:{};a1=new Kd(t)}return a1};let mpe=class{getStore(){}run(e,n){return n()}};const s1=Symbol.for("ls:tracing_async_local_storage"),gpe=new mpe;let ype=class{getInstance(){return globalThis[s1]??gpe}initializeGlobalInstance(e){globalThis[s1]===void 0&&(globalThis[s1]=e)}};const vpe=new ype;function xpe(t=!1){const e=vpe.getInstance().getStore();if(!t&&e===void 0)throw new Error(`Could not get the current run tree.

Please make sure you are calling this method within a traceable function and that tracing is enabled.`);return e}function AC(t){return typeof t=="function"&&"langsmith:traceable"in t}var bpe={};bt(bpe,{LangChainTracer:()=>hp});var hp=class v6 extends zf{constructor(n={}){super(n);H(this,"name","langchain_tracer");H(this,"projectName");H(this,"exampleId");H(this,"client");H(this,"replicas");H(this,"usesRunTreeMap",!0);const{exampleId:r,projectName:i,client:a,replicas:s}=n;this.projectName=i??HU(),this.replicas=s,this.exampleId=r,this.client=a??y6();const o=v6.getTraceableRunTree();o&&this.updateFromRunTree(o)}async persistRun(n){}async onRunCreate(n){const r=this.getRunTreeWithTracingConfig(n.id);await(r==null?void 0:r.postRun())}async onRunUpdate(n){const r=this.getRunTreeWithTracingConfig(n.id);await(r==null?void 0:r.patchRun())}getRun(n){return this.runTreeMap.get(n)}updateFromRunTree(n){this.runTreeMap.set(n.id,n);let r=n;const i=new Set;for(;r.parent_run&&!(i.has(r.id)||(i.add(r.id),!r.parent_run));)r=r.parent_run;i.clear();const a=[r];for(;a.length>0;){const s=a.shift();!s||i.has(s.id)||(i.add(s.id),this.runTreeMap.set(s.id,s),s.child_runs&&a.push(...s.child_runs))}this.client=n.client??this.client,this.replicas=n.replicas??this.replicas,this.projectName=n.project_name??this.projectName,this.exampleId=n.reference_example_id??this.exampleId}getRunTreeWithTracingConfig(n){const r=this.runTreeMap.get(n);if(r)return new _r({...r,client:this.client,project_name:this.projectName,replicas:this.replicas,reference_example_id:this.exampleId,tracingEnabled:!0})}static getTraceableRunTree(){try{return xpe(!0)}catch{return}}};const x6=Symbol.for("ls:tracing_async_local_storage"),pp=Symbol.for("lc:context_variables"),wpe=t=>{globalThis[x6]=t},im=()=>globalThis[x6];let jc;function _pe(){const t="default"in zs?zs.default:zs;return new t({autoStart:!0,concurrency:1})}function Spe(){return typeof jc>"u"&&(jc=_pe()),jc}async function yn(t,e){if(e===!0){const n=im();n!==void 0?await n.run(void 0,async()=>t()):await t()}else jc=Spe(),jc.add(async()=>{const n=im();n!==void 0?await n.run(void 0,async()=>t()):await t()})}async function Epe(){const t=y6();await Promise.allSettled([typeof jc<"u"?jc.onIdle():Promise.resolve(),t.awaitPendingTraceBatches()])}var jpe={};bt(jpe,{awaitAllCallbacks:()=>Epe,consumeCallback:()=>yn});const Ape=t=>!!["LANGSMITH_TRACING_V2","LANGCHAIN_TRACING_V2","LANGSMITH_TRACING","LANGCHAIN_TRACING"].find(n=>Bs(n)==="true");function b6(t){var r;const e=im();if(e===void 0)return;const n=e.getStore();return(r=n==null?void 0:n[pp])==null?void 0:r[t]}const Tpe=Symbol("lc:configure_hooks"),kpe=()=>b6(Tpe)||[];var Cpe={};bt(Cpe,{BaseCallbackManager:()=>w6,BaseRunManager:()=>mg,CallbackManager:()=>as,CallbackManagerForChainRun:()=>S6,CallbackManagerForLLMRun:()=>XE,CallbackManagerForRetrieverRun:()=>_6,CallbackManagerForToolRun:()=>E6,ensureHandler:()=>am,parseCallbackConfigArg:()=>Ope});function Ope(t){return t?Array.isArray(t)||"name"in t?{callbacks:t}:t:{}}var w6=class{setHandler(t){return this.setHandlers([t])}},mg=class{constructor(t,e,n,r,i,a,s,o){this.runId=t,this.handlers=e,this.inheritableHandlers=n,this.tags=r,this.inheritableTags=i,this.metadata=a,this.inheritableMetadata=s,this._parentRunId=o}get parentRunId(){return this._parentRunId}async handleText(t){await Promise.all(this.handlers.map(e=>yn(async()=>{var n;try{await((n=e.handleText)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleText: ${r}`),e.raiseError)throw r}},e.awaitHandlers)))}async handleCustomEvent(t,e,n,r,i){await Promise.all(this.handlers.map(a=>yn(async()=>{var s;try{await((s=a.handleCustomEvent)==null?void 0:s.call(a,t,e,this.runId,this.tags,this.metadata))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleCustomEvent: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}},_6=class extends mg{getChild(t){const e=new as(this.runId);return e.setHandlers(this.inheritableHandlers),e.addTags(this.inheritableTags),e.addMetadata(this.inheritableMetadata),t&&e.addTags([t],!1),e}async handleRetrieverEnd(t){await Promise.all(this.handlers.map(e=>yn(async()=>{var n;if(!e.ignoreRetriever)try{await((n=e.handleRetrieverEnd)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleRetriever`),e.raiseError)throw r}},e.awaitHandlers)))}async handleRetrieverError(t){await Promise.all(this.handlers.map(e=>yn(async()=>{var n;if(!e.ignoreRetriever)try{await((n=e.handleRetrieverError)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleRetrieverError: ${r}`),e.raiseError)throw t}},e.awaitHandlers)))}},XE=class extends mg{async handleLLMNewToken(t,e,n,r,i,a){await Promise.all(this.handlers.map(s=>yn(async()=>{var o;if(!s.ignoreLLM)try{await((o=s.handleLLMNewToken)==null?void 0:o.call(s,t,e??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,a))}catch(l){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleLLMNewToken: ${l}`),s.raiseError)throw l}},s.awaitHandlers)))}async handleLLMError(t,e,n,r,i){await Promise.all(this.handlers.map(a=>yn(async()=>{var s;if(!a.ignoreLLM)try{await((s=a.handleLLMError)==null?void 0:s.call(a,t,this.runId,this._parentRunId,this.tags,i))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleLLMError: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}async handleLLMEnd(t,e,n,r,i){await Promise.all(this.handlers.map(a=>yn(async()=>{var s;if(!a.ignoreLLM)try{await((s=a.handleLLMEnd)==null?void 0:s.call(a,t,this.runId,this._parentRunId,this.tags,i))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleLLMEnd: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}},S6=class extends mg{getChild(t){const e=new as(this.runId);return e.setHandlers(this.inheritableHandlers),e.addTags(this.inheritableTags),e.addMetadata(this.inheritableMetadata),t&&e.addTags([t],!1),e}async handleChainError(t,e,n,r,i){await Promise.all(this.handlers.map(a=>yn(async()=>{var s;if(!a.ignoreChain)try{await((s=a.handleChainError)==null?void 0:s.call(a,t,this.runId,this._parentRunId,this.tags,i))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleChainError: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}async handleChainEnd(t,e,n,r,i){await Promise.all(this.handlers.map(a=>yn(async()=>{var s;if(!a.ignoreChain)try{await((s=a.handleChainEnd)==null?void 0:s.call(a,t,this.runId,this._parentRunId,this.tags,i))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleChainEnd: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}async handleAgentAction(t){await Promise.all(this.handlers.map(e=>yn(async()=>{var n;if(!e.ignoreAgent)try{await((n=e.handleAgentAction)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleAgentAction: ${r}`),e.raiseError)throw r}},e.awaitHandlers)))}async handleAgentEnd(t){await Promise.all(this.handlers.map(e=>yn(async()=>{var n;if(!e.ignoreAgent)try{await((n=e.handleAgentEnd)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleAgentEnd: ${r}`),e.raiseError)throw r}},e.awaitHandlers)))}},E6=class extends mg{getChild(t){const e=new as(this.runId);return e.setHandlers(this.inheritableHandlers),e.addTags(this.inheritableTags),e.addMetadata(this.inheritableMetadata),t&&e.addTags([t],!1),e}async handleToolError(t){await Promise.all(this.handlers.map(e=>yn(async()=>{var n;if(!e.ignoreAgent)try{await((n=e.handleToolError)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleToolError: ${r}`),e.raiseError)throw r}},e.awaitHandlers)))}async handleToolEnd(t){await Promise.all(this.handlers.map(e=>yn(async()=>{var n;if(!e.ignoreAgent)try{await((n=e.handleToolEnd)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleToolEnd: ${r}`),e.raiseError)throw r}},e.awaitHandlers)))}},as=class Uh extends w6{constructor(n,r){super();H(this,"handlers",[]);H(this,"inheritableHandlers",[]);H(this,"tags",[]);H(this,"inheritableTags",[]);H(this,"metadata",{});H(this,"inheritableMetadata",{});H(this,"name","callback_manager");H(this,"_parentRunId");this.handlers=(r==null?void 0:r.handlers)??this.handlers,this.inheritableHandlers=(r==null?void 0:r.inheritableHandlers)??this.inheritableHandlers,this.tags=(r==null?void 0:r.tags)??this.tags,this.inheritableTags=(r==null?void 0:r.inheritableTags)??this.inheritableTags,this.metadata=(r==null?void 0:r.metadata)??this.metadata,this.inheritableMetadata=(r==null?void 0:r.inheritableMetadata)??this.inheritableMetadata,this._parentRunId=n}getParentRunId(){return this._parentRunId}async handleLLMStart(n,r,i=void 0,a=void 0,s=void 0,o=void 0,l=void 0,c=void 0){return Promise.all(r.map(async(d,f)=>{const h=f===0&&i?i:jr();return await Promise.all(this.handlers.map(p=>{if(!p.ignoreLLM)return $u(p)&&p._createRunForLLMStart(n,[d],h,this._parentRunId,s,this.tags,this.metadata,c),yn(async()=>{var m;try{await((m=p.handleLLMStart)==null?void 0:m.call(p,n,[d],h,this._parentRunId,s,this.tags,this.metadata,c))}catch(g){if((p.raiseError?console.error:console.warn)(`Error in handler ${p.constructor.name}, handleLLMStart: ${g}`),p.raiseError)throw g}},p.awaitHandlers)})),new XE(h,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(n,r,i=void 0,a=void 0,s=void 0,o=void 0,l=void 0,c=void 0){return Promise.all(r.map(async(d,f)=>{const h=f===0&&i?i:jr();return await Promise.all(this.handlers.map(p=>{if(!p.ignoreLLM)return $u(p)&&p._createRunForChatModelStart(n,[d],h,this._parentRunId,s,this.tags,this.metadata,c),yn(async()=>{var m,g;try{if(p.handleChatModelStart)await((m=p.handleChatModelStart)==null?void 0:m.call(p,n,[d],h,this._parentRunId,s,this.tags,this.metadata,c));else if(p.handleLLMStart){const x=dC(d);await((g=p.handleLLMStart)==null?void 0:g.call(p,n,[x],h,this._parentRunId,s,this.tags,this.metadata,c))}}catch(x){if((p.raiseError?console.error:console.warn)(`Error in handler ${p.constructor.name}, handleLLMStart: ${x}`),p.raiseError)throw x}},p.awaitHandlers)})),new XE(h,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(n,r,i=jr(),a=void 0,s=void 0,o=void 0,l=void 0){return await Promise.all(this.handlers.map(c=>{if(!c.ignoreChain)return $u(c)&&c._createRunForChainStart(n,r,i,this._parentRunId,this.tags,this.metadata,a,l),yn(async()=>{var d;try{await((d=c.handleChainStart)==null?void 0:d.call(c,n,r,i,this._parentRunId,this.tags,this.metadata,a,l))}catch(f){if((c.raiseError?console.error:console.warn)(`Error in handler ${c.constructor.name}, handleChainStart: ${f}`),c.raiseError)throw f}},c.awaitHandlers)})),new S6(i,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(n,r,i=jr(),a=void 0,s=void 0,o=void 0,l=void 0){return await Promise.all(this.handlers.map(c=>{if(!c.ignoreAgent)return $u(c)&&c._createRunForToolStart(n,r,i,this._parentRunId,this.tags,this.metadata,l),yn(async()=>{var d;try{await((d=c.handleToolStart)==null?void 0:d.call(c,n,r,i,this._parentRunId,this.tags,this.metadata,l))}catch(f){if((c.raiseError?console.error:console.warn)(`Error in handler ${c.constructor.name}, handleToolStart: ${f}`),c.raiseError)throw f}},c.awaitHandlers)})),new E6(i,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(n,r,i=jr(),a=void 0,s=void 0,o=void 0,l=void 0){return await Promise.all(this.handlers.map(c=>{if(!c.ignoreRetriever)return $u(c)&&c._createRunForRetrieverStart(n,r,i,this._parentRunId,this.tags,this.metadata,l),yn(async()=>{var d;try{await((d=c.handleRetrieverStart)==null?void 0:d.call(c,n,r,i,this._parentRunId,this.tags,this.metadata,l))}catch(f){if((c.raiseError?console.error:console.warn)(`Error in handler ${c.constructor.name}, handleRetrieverStart: ${f}`),c.raiseError)throw f}},c.awaitHandlers)})),new _6(i,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleCustomEvent(n,r,i,a,s){await Promise.all(this.handlers.map(o=>yn(async()=>{var l;if(!o.ignoreCustomEvent)try{await((l=o.handleCustomEvent)==null?void 0:l.call(o,n,r,i,this.tags,this.metadata))}catch(c){if((o.raiseError?console.error:console.warn)(`Error in handler ${o.constructor.name}, handleCustomEvent: ${c}`),o.raiseError)throw c}},o.awaitHandlers)))}addHandler(n,r=!0){this.handlers.push(n),r&&this.inheritableHandlers.push(n)}removeHandler(n){this.handlers=this.handlers.filter(r=>r!==n),this.inheritableHandlers=this.inheritableHandlers.filter(r=>r!==n)}setHandlers(n,r=!0){this.handlers=[],this.inheritableHandlers=[];for(const i of n)this.addHandler(i,r)}addTags(n,r=!0){this.removeTags(n),this.tags.push(...n),r&&this.inheritableTags.push(...n)}removeTags(n){this.tags=this.tags.filter(r=>!n.includes(r)),this.inheritableTags=this.inheritableTags.filter(r=>!n.includes(r))}addMetadata(n,r=!0){this.metadata={...this.metadata,...n},r&&(this.inheritableMetadata={...this.inheritableMetadata,...n})}removeMetadata(n){for(const r of Object.keys(n))delete this.metadata[r],delete this.inheritableMetadata[r]}copy(n=[],r=!0){const i=new Uh(this._parentRunId);for(const a of this.handlers){const s=this.inheritableHandlers.includes(a);i.addHandler(a,s)}for(const a of this.tags){const s=this.inheritableTags.includes(a);i.addTags([a],s)}for(const a of Object.keys(this.metadata)){const s=Object.keys(this.inheritableMetadata).includes(a);i.addMetadata({[a]:this.metadata[a]},s)}for(const a of n)i.handlers.filter(s=>s.name==="console_callback_handler").some(s=>s.name===a.name)||i.addHandler(a,r);return i}static fromHandlers(n){class r extends hg{constructor(){super();H(this,"name",jr());Object.assign(this,n)}}const i=new this;return i.addHandler(new r),i}static configure(n,r,i,a,s,o,l){return this._configureSync(n,r,i,a,s,o,l)}static _configureSync(n,r,i,a,s,o,l){var p;let c;(n||r)&&(Array.isArray(n)||!n?(c=new Uh,c.setHandlers((n==null?void 0:n.map(am))??[],!0)):c=n,c=c.copy(Array.isArray(r)?r.map(am):r==null?void 0:r.handlers,!1));const d=Bs("LANGCHAIN_VERBOSE")==="true"||(l==null?void 0:l.verbose),f=((p=hp.getTraceableRunTree())==null?void 0:p.tracingEnabled)||Ape(),h=f||(Bs("LANGCHAIN_TRACING")??!1);if(d||h){if(c||(c=new Uh),d&&!c.handlers.some(m=>m.name===YE.prototype.name)){const m=new YE;c.addHandler(m,!0)}if(h&&!c.handlers.some(m=>m.name==="langchain_tracer")&&f){const m=new hp;c.addHandler(m,!0)}if(f){const m=hp.getTraceableRunTree();if(m&&c._parentRunId===void 0){c._parentRunId=m.id;const g=c.handlers.find(x=>x.name==="langchain_tracer");g==null||g.updateFromRunTree(m)}}}for(const{contextVar:m,inheritable:g=!0,handlerClass:x,envVar:b}of kpe()){const v=b&&Bs(b)==="true"&&x;let y;const _=m!==void 0?b6(m):void 0;_&&zU(_)?y=_:v&&(y=new x({})),y!==void 0&&(c||(c=new Uh),c.handlers.some(w=>w.name===y.name)||c.addHandler(y,g))}return(i||a)&&c&&(c.addTags(i??[]),c.addTags(a??[],!1)),(s||o)&&c&&(c.addMetadata(s??{}),c.addMetadata(o??{},!1)),c}};function am(t){return"name"in t?t:hg.fromMethods(t)}var j6=class{getStore(){}run(t,e){return e()}enterWith(t){}};const Npe=new j6,P$=Symbol.for("lc:child_config");var Ppe=class{getInstance(){return im()??Npe}getRunnableConfig(){var e,n;return(n=(e=this.getInstance().getStore())==null?void 0:e.extra)==null?void 0:n[P$]}runWithConfig(t,e,n){var c;const r=as._configureSync(t==null?void 0:t.callbacks,void 0,t==null?void 0:t.tags,void 0,t==null?void 0:t.metadata),i=this.getInstance(),a=i.getStore(),s=r==null?void 0:r.getParentRunId(),o=(c=r==null?void 0:r.handlers)==null?void 0:c.find(d=>(d==null?void 0:d.name)==="langchain_tracer");let l;return o&&s?l=o.getRunTreeWithTracingConfig(s):n||(l=new _r({name:"<runnable_lambda>",tracingEnabled:!1})),l&&(l.extra={...l.extra,[P$]:t}),a!==void 0&&a[pp]!==void 0&&(l===void 0&&(l={}),l[pp]=a[pp]),i.run(l,e)}initializeGlobalInstance(t){im()===void 0&&wpe(t)}};const ro=new Ppe;var Ipe={};bt(Ipe,{AsyncLocalStorageProviderSingleton:()=>ro,MockAsyncLocalStorage:()=>j6,_CONTEXT_VARIABLES_KEY:()=>pp});const o1=25;async function ii(t){return as._configureSync(t==null?void 0:t.callbacks,void 0,t==null?void 0:t.tags,void 0,t==null?void 0:t.metadata)}function ZE(...t){const e={};for(const n of t.filter(r=>!!r))for(const r of Object.keys(n))if(r==="metadata")e[r]={...e[r],...n[r]};else if(r==="tags"){const i=e[r]??[];e[r]=[...new Set(i.concat(n[r]??[]))]}else if(r==="configurable")e[r]={...e[r],...n[r]};else if(r==="timeout")e.timeout===void 0?e.timeout=n.timeout:n.timeout!==void 0&&(e.timeout=Math.min(e.timeout,n.timeout));else if(r==="signal")e.signal===void 0?e.signal=n.signal:n.signal!==void 0&&("any"in AbortSignal?e.signal=AbortSignal.any([e.signal,n.signal]):e.signal=n.signal);else if(r==="callbacks"){const i=e.callbacks,a=n.callbacks;if(Array.isArray(a))if(!i)e.callbacks=a;else if(Array.isArray(i))e.callbacks=i.concat(a);else{const s=i.copy();for(const o of a)s.addHandler(am(o),!0);e.callbacks=s}else if(a)if(!i)e.callbacks=a;else if(Array.isArray(i)){const s=a.copy();for(const o of i)s.addHandler(am(o),!0);e.callbacks=s}else e.callbacks=new as(a._parentRunId,{handlers:i.handlers.concat(a.handlers),inheritableHandlers:i.inheritableHandlers.concat(a.inheritableHandlers),tags:Array.from(new Set(i.tags.concat(a.tags))),inheritableTags:Array.from(new Set(i.inheritableTags.concat(a.inheritableTags))),metadata:{...i.metadata,...a.metadata}})}else{const i=r;e[i]=n[i]??e[i]}return e}const $pe=new Set(["string","number","boolean"]);function pt(t){var r;const e=ro.getRunnableConfig();let n={tags:[],metadata:{},recursionLimit:25,runId:void 0};if(e){const{runId:i,runName:a,...s}=e;n=Object.entries(s).reduce((o,[l,c])=>(c!==void 0&&(o[l]=c),o),n)}if(t&&(n=Object.entries(t).reduce((i,[a,s])=>(s!==void 0&&(i[a]=s),i),n)),n!=null&&n.configurable)for(const i of Object.keys(n.configurable))$pe.has(typeof n.configurable[i])&&!((r=n.metadata)!=null&&r[i])&&(n.metadata||(n.metadata={}),n.metadata[i]=n.configurable[i]);if(n.timeout!==void 0){if(n.timeout<=0)throw new Error("Timeout must be a positive number");const i=AbortSignal.timeout(n.timeout);n.signal!==void 0?"any"in AbortSignal&&(n.signal=AbortSignal.any([n.signal,i])):n.signal=i,delete n.timeout}return n}function Zt(t={},{callbacks:e,maxConcurrency:n,recursionLimit:r,runName:i,configurable:a,runId:s}={}){const o=pt(t);return e!==void 0&&(delete o.runName,o.callbacks=e),r!==void 0&&(o.recursionLimit=r),n!==void 0&&(o.maxConcurrency=n),i!==void 0&&(o.runName=i),a!==void 0&&(o.configurable={...o.configurable,...a}),s!==void 0&&delete o.runId,o}function Fc(t){if(t)return{configurable:t.configurable,recursionLimit:t.recursionLimit,callbacks:t.callbacks,tags:t.tags,metadata:t.metadata,maxConcurrency:t.maxConcurrency,timeout:t.timeout,signal:t.signal,store:t.store}}async function io(t,e){if(e===void 0)return t;let n;return Promise.race([t.catch(r=>{if(!(e!=null&&e.aborted))throw r}),new Promise((r,i)=>{n=()=>{i(f0(e))},e.addEventListener("abort",n),e.aborted&&i(f0(e))})]).finally(()=>e.removeEventListener("abort",n))}function f0(t){return(t==null?void 0:t.reason)instanceof Error?t.reason:typeof(t==null?void 0:t.reason)=="string"?new Error(t.reason):new Error("Aborted")}var Rpe={};bt(Rpe,{AsyncGeneratorWithSetup:()=>nu,IterableReadableStream:()=>Ea,atee:()=>TC,concat:()=>Bc,pipeGeneratorWithSetup:()=>A6});var Ea=class JE extends ReadableStream{constructor(){super(...arguments);H(this,"reader")}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const n=await this.reader.read();return n.done?(this.reader.releaseLock(),{done:!0,value:void 0}):{done:!1,value:n.value}}catch(n){throw this.reader.releaseLock(),n}}async return(){if(this.ensureReader(),this.locked){const n=this.reader.cancel();this.reader.releaseLock(),await n}return{done:!0,value:void 0}}async throw(n){if(this.ensureReader(),this.locked){const r=this.reader.cancel();this.reader.releaseLock(),await r}throw n}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}static fromReadableStream(n){const r=n.getReader();return new JE({start(i){return a();function a(){return r.read().then(({done:s,value:o})=>{if(s){i.close();return}return i.enqueue(o),a()})}},cancel(){r.releaseLock()}})}static fromAsyncGenerator(n){return new JE({async pull(r){const{value:i,done:a}=await n.next();a&&r.close(),r.enqueue(i)},async cancel(r){await n.return(r)}})}};function TC(t,e=2){const n=Array.from({length:e},()=>[]);return n.map(async function*(i){for(;;)if(i.length===0){const a=await t.next();for(const s of n)s.push(a)}else{if(i[0].done)return;yield i.shift().value}})}function Bc(t,e){if(Array.isArray(t)&&Array.isArray(e))return t.concat(e);if(typeof t=="string"&&typeof e=="string")return t+e;if(typeof t=="number"&&typeof e=="number")return t+e;if("concat"in t&&typeof t.concat=="function")return t.concat(e);if(typeof t=="object"&&typeof e=="object"){const n={...t};for(const[r,i]of Object.entries(e))r in n&&!Array.isArray(n[r])?n[r]=Bc(n[r],i):n[r]=i;return n}else throw new Error(`Cannot concat ${typeof t} and ${typeof e}`)}var nu=class{constructor(t){H(this,"generator");H(this,"setup");H(this,"config");H(this,"signal");H(this,"firstResult");H(this,"firstResultUsed",!1);var e;this.generator=t.generator,this.config=t.config,this.signal=t.signal??((e=this.config)==null?void 0:e.signal),this.setup=new Promise((n,r)=>{ro.runWithConfig(Fc(t.config),async()=>{this.firstResult=t.generator.next(),t.startSetup?this.firstResult.then(t.startSetup).then(n,r):this.firstResult.then(i=>n(void 0),r)},!0)})}async next(...t){var e;return(e=this.signal)==null||e.throwIfAborted(),this.firstResultUsed?ro.runWithConfig(Fc(this.config),this.signal?async()=>io(this.generator.next(...t),this.signal):async()=>this.generator.next(...t),!0):(this.firstResultUsed=!0,this.firstResult)}async return(t){return this.generator.return(t)}async throw(t){return this.generator.throw(t)}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}};async function A6(t,e,n,r,...i){const a=new nu({generator:e,startSetup:n,signal:r}),s=await a.setup;return{output:t(a,s,...i),setup:s}}var Mpe={};bt(Mpe,{ChatGenerationChunk:()=>om,GenerationChunk:()=>sm,RUN_KEY:()=>QE});const QE="__run";var sm=class T6{constructor(e){H(this,"text");H(this,"generationInfo");this.text=e.text,this.generationInfo=e.generationInfo}concat(e){return new T6({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo}})}},om=class k6 extends sm{constructor(n){super(n);H(this,"message");this.message=n.message}concat(n){return new k6({text:this.text+n.text,generationInfo:{...this.generationInfo,...n.generationInfo},message:this.message.concat(n.message)})}};/*!
* https://github.com/Starcounter-Jack/JSON-Patch
* (c) 2017-2022 Joachim Wester
* MIT licensed
*/const Dpe=Object.prototype.hasOwnProperty;function ej(t,e){return Dpe.call(t,e)}function tj(t){if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<n.length;r++)n[r]=""+r;return n}if(Object.keys)return Object.keys(t);let e=[];for(let n in t)ej(t,n)&&e.push(n);return e}function Ti(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}function nj(t){let e=0;const n=t.length;let r;for(;e<n;){if(r=t.charCodeAt(e),r>=48&&r<=57){e++;continue}return!1}return!0}function ec(t){return t.indexOf("/")===-1&&t.indexOf("~")===-1?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function C6(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function rj(t){if(t===void 0)return!0;if(t){if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(rj(t[n]))return!0}else if(typeof t=="object"){const n=tj(t),r=n.length;for(var e=0;e<r;e++)if(rj(t[n[e]]))return!0}}return!1}function I$(t,e){const n=[t];for(const r in e){const i=typeof e[r]=="object"?JSON.stringify(e[r],null,2):e[r];typeof i<"u"&&n.push(`${r}: ${i}`)}return n.join(`
`)}var O6=class extends Error{constructor(t,e,n,r,i){super(I$(t,{name:e,index:n,operation:r,tree:i})),this.name=e,this.index=n,this.operation=r,this.tree=i,Object.setPrototypeOf(this,new.target.prototype),this.message=I$(t,{name:e,index:n,operation:r,tree:i})}},N6={};bt(N6,{JsonPatchError:()=>rn,_areEquals:()=>lm,applyOperation:()=>Ac,applyPatch:()=>Yd,applyReducer:()=>Bpe,deepClone:()=>Lpe,getValueByPointer:()=>h0,validate:()=>P6,validator:()=>p0});const rn=O6,Lpe=Ti,Zu={add:function(t,e,n){return t[e]=this.value,{newDocument:n}},remove:function(t,e,n){var r=t[e];return delete t[e],{newDocument:n,removed:r}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:function(t,e,n){let r=h0(n,this.path);r&&(r=Ti(r));const i=Ac(n,{op:"remove",path:this.from}).removed;return Ac(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(t,e,n){const r=h0(n,this.from);return Ac(n,{op:"add",path:this.path,value:Ti(r)}),{newDocument:n}},test:function(t,e,n){return{newDocument:n,test:lm(t[e],this.value)}},_get:function(t,e,n){return this.value=t[e],{newDocument:n}}};var Fpe={add:function(t,e,n){return nj(e)?t.splice(e,0,this.value):t[e]=this.value,{newDocument:n,index:e}},remove:function(t,e,n){var r=t.splice(e,1);return{newDocument:n,removed:r[0]}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:Zu.move,copy:Zu.copy,test:Zu.test,_get:Zu._get};function h0(t,e){if(e=="")return t;var n={op:"_get",path:e};return Ac(t,n),n.value}function Ac(t,e,n=!1,r=!0,i=!0,a=0){if(n&&(typeof n=="function"?n(e,0,t,e.path):p0(e,0)),e.path===""){let s={newDocument:t};if(e.op==="add")return s.newDocument=e.value,s;if(e.op==="replace")return s.newDocument=e.value,s.removed=t,s;if(e.op==="move"||e.op==="copy")return s.newDocument=h0(t,e.from),e.op==="move"&&(s.removed=t),s;if(e.op==="test"){if(s.test=lm(t,e.value),s.test===!1)throw new rn("Test operation failed","TEST_OPERATION_FAILED",a,e,t);return s.newDocument=t,s}else{if(e.op==="remove")return s.removed=t,s.newDocument=null,s;if(e.op==="_get")return e.value=t,s;if(n)throw new rn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,e,t);return s}}else{r||(t=Ti(t));const o=(e.path||"").split("/");let l=t,c=1,d=o.length,f,h,p;for(typeof n=="function"?p=n:p=p0;;){if(h=o[c],h&&h.indexOf("~")!=-1&&(h=C6(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&o[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&f===void 0&&(l[h]===void 0?f=o.slice(0,c).join("/"):c==d-1&&(f=e.path),f!==void 0&&p(e,0,t,f)),c++,Array.isArray(l)){if(h==="-")h=l.length;else{if(n&&!nj(h))throw new rn("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,e,t);nj(h)&&(h=~~h)}if(c>=d){if(n&&e.op==="add"&&h>l.length)throw new rn("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",a,e,t);const m=Fpe[e.op].call(e,l,h,t);if(m.test===!1)throw new rn("Test operation failed","TEST_OPERATION_FAILED",a,e,t);return m}}else if(c>=d){const m=Zu[e.op].call(e,l,h,t);if(m.test===!1)throw new rn("Test operation failed","TEST_OPERATION_FAILED",a,e,t);return m}if(l=l[h],n&&c<d&&(!l||typeof l!="object"))throw new rn("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",a,e,t)}}}function Yd(t,e,n,r=!0,i=!0){if(n&&!Array.isArray(e))throw new rn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(t=Ti(t));const a=new Array(e.length);for(let s=0,o=e.length;s<o;s++)a[s]=Ac(t,e[s],n,!0,i,s),t=a[s].newDocument;return a.newDocument=t,a}function Bpe(t,e,n){const r=Ac(t,e);if(r.test===!1)throw new rn("Test operation failed","TEST_OPERATION_FAILED",n,e,t);return r.newDocument}function p0(t,e,n,r){if(typeof t!="object"||t===null||Array.isArray(t))throw new rn("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,n);if(Zu[t.op]){if(typeof t.path!="string")throw new rn("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,n);if(t.path.indexOf("/")!==0&&t.path.length>0)throw new rn('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,n);if((t.op==="move"||t.op==="copy")&&typeof t.from!="string")throw new rn("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&t.value===void 0)throw new rn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&rj(t.value))throw new rn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,n);if(n){if(t.op=="add"){var i=t.path.split("/").length,a=r.split("/").length;if(i!==a+1&&i!==a)throw new rn("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,n)}else if(t.op==="replace"||t.op==="remove"||t.op==="_get"){if(t.path!==r)throw new rn("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,n)}else if(t.op==="move"||t.op==="copy"){var s={op:"_get",path:t.from,value:void 0},o=P6([s],n);if(o&&o.name==="OPERATION_PATH_UNRESOLVABLE")throw new rn("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,n)}}}else throw new rn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,n)}function P6(t,e,n){try{if(!Array.isArray(t))throw new rn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)Yd(Ti(e),Ti(t),n||!0);else{n=n||p0;for(var r=0;r<t.length;r++)n(t[r],r,e,void 0)}}catch(i){if(i instanceof rn)return i;throw i}}function lm(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=Array.isArray(t),r=Array.isArray(e),i,a,s;if(n&&r){if(a=t.length,a!=e.length)return!1;for(i=a;i--!==0;)if(!lm(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var o=Object.keys(t);if(a=o.length,a!==Object.keys(e).length)return!1;for(i=a;i--!==0;)if(!e.hasOwnProperty(o[i]))return!1;for(i=a;i--!==0;)if(s=o[i],!lm(t[s],e[s]))return!1;return!0}return t!==t&&e!==e}function I6(t,e,n,r,i){if(e!==t){typeof e.toJSON=="function"&&(e=e.toJSON());for(var a=tj(e),s=tj(t),o=!1,l=s.length-1;l>=0;l--){var c=s[l],d=t[c];if(ej(e,c)&&!(e[c]===void 0&&d!==void 0&&Array.isArray(e)===!1)){var f=e[c];typeof d=="object"&&d!=null&&typeof f=="object"&&f!=null&&Array.isArray(d)===Array.isArray(f)?I6(d,f,n,r+"/"+ec(c),i):d!==f&&(i&&n.push({op:"test",path:r+"/"+ec(c),value:Ti(d)}),n.push({op:"replace",path:r+"/"+ec(c),value:Ti(f)}))}else Array.isArray(t)===Array.isArray(e)?(i&&n.push({op:"test",path:r+"/"+ec(c),value:Ti(d)}),n.push({op:"remove",path:r+"/"+ec(c)}),o=!0):(i&&n.push({op:"test",path:r,value:t}),n.push({op:"replace",path:r,value:e}))}if(!(!o&&a.length==s.length))for(var l=0;l<a.length;l++){var c=a[l];!ej(t,c)&&e[c]!==void 0&&n.push({op:"add",path:r+"/"+ec(c),value:Ti(e[c])})}}}function kC(t,e,n=!1){var r=[];return I6(t,e,r,"",n),r}({...N6});var zpe={};bt(zpe,{LogStreamCallbackHandler:()=>aj,RunLog:()=>CC,RunLogPatch:()=>Ps,isLogStreamHandler:()=>$6});var Ps=class{constructor(t){H(this,"ops");this.ops=t.ops??[]}concat(t){const e=this.ops.concat(t.ops),n=Yd({},e);return new CC({ops:e,state:n[n.length-1].newDocument})}},CC=class ij extends Ps{constructor(n){super(n);H(this,"state");this.state=n.state}concat(n){const r=this.ops.concat(n.ops),i=Yd(this.state,n.ops);return new ij({ops:r,state:i[i.length-1].newDocument})}static fromRunLogPatch(n){const r=Yd({},n.ops);return new ij({ops:n.ops,state:r[r.length-1].newDocument})}};const $6=t=>t.name==="log_stream_tracer";async function $$(t,e){if(e==="original")throw new Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");const{inputs:n}=t;if(["retriever","llm","prompt"].includes(t.run_type))return n;if(!(Object.keys(n).length===1&&(n==null?void 0:n.input)===""))return n.input}async function R$(t,e){const{outputs:n}=t;return e==="original"||["retriever","llm","prompt"].includes(t.run_type)?n:n!==void 0&&Object.keys(n).length===1&&(n==null?void 0:n.output)!==void 0?n.output:n}function Upe(t){return t!==void 0&&t.message!==void 0}var aj=class extends zf{constructor(e){super({_awaitHandler:!0,...e});H(this,"autoClose",!0);H(this,"includeNames");H(this,"includeTypes");H(this,"includeTags");H(this,"excludeNames");H(this,"excludeTypes");H(this,"excludeTags");H(this,"_schemaFormat","original");H(this,"rootId");H(this,"keyMapByRunId",{});H(this,"counterMapByRunName",{});H(this,"transformStream");H(this,"writer");H(this,"receiveStream");H(this,"name","log_stream_tracer");H(this,"lc_prefer_streaming",!0);this.autoClose=(e==null?void 0:e.autoClose)??!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this._schemaFormat=(e==null?void 0:e._schemaFormat)??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=Ea.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.id===this.rootId)return!1;const n=e.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.run_type)),this.includeTags!==void 0&&(r=r||n.find(i=>{var a;return(a=this.includeTags)==null?void 0:a.includes(i)})!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.run_type)),this.excludeTags!==void 0&&(r=r&&n.every(i=>{var a;return!((a=this.excludeTags)!=null&&a.includes(i))})),r}async*tapOutputIterable(e,n){for await(const r of n){if(e!==this.rootId){const i=this.keyMapByRunId[e];i&&await this.writer.write(new Ps({ops:[{op:"add",path:`/logs/${i}/streamed_output/-`,value:r}]}))}yield r}}async onRunCreate(e){var i;if(this.rootId===void 0&&(this.rootId=e.id,await this.writer.write(new Ps({ops:[{op:"replace",path:"",value:{id:e.id,name:e.name,type:e.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(e))return;this.counterMapByRunName[e.name]===void 0&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;const n=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=n===1?e.name:`${e.name}:${n}`;const r={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:((i=e.extra)==null?void 0:i.metadata)??{},start_time:new Date(e.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};this._schemaFormat==="streaming_events"&&(r.inputs=await $$(e,this._schemaFormat)),await this.writer.write(new Ps({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:r}]}))}async onRunUpdate(e){try{const n=this.keyMapByRunId[e.id];if(n===void 0)return;const r=[];this._schemaFormat==="streaming_events"&&r.push({op:"replace",path:`/logs/${n}/inputs`,value:await $$(e,this._schemaFormat)}),r.push({op:"add",path:`/logs/${n}/final_output`,value:await R$(e,this._schemaFormat)}),e.end_time!==void 0&&r.push({op:"add",path:`/logs/${n}/end_time`,value:new Date(e.end_time).toISOString()});const i=new Ps({ops:r});await this.writer.write(i)}finally{if(e.id===this.rootId){const n=new Ps({ops:[{op:"replace",path:"/final_output",value:await R$(e,this._schemaFormat)}]});await this.writer.write(n),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,n,r){const i=this.keyMapByRunId[e.id];if(i===void 0)return;const a=e.inputs.messages!==void 0;let s;a?Upe(r==null?void 0:r.chunk)?s=r==null?void 0:r.chunk:s=new fo({id:`run-${e.id}`,content:n}):s=n;const o=new Ps({ops:[{op:"add",path:`/logs/${i}/streamed_output_str/-`,value:n},{op:"add",path:`/logs/${i}/streamed_output/-`,value:s}]});await this.writer.write(o)}};function by({name:t,serialized:e}){return t!==void 0?t:(e==null?void 0:e.name)!==void 0?e.name:(e==null?void 0:e.id)!==void 0&&Array.isArray(e==null?void 0:e.id)?e.id[e.id.length-1]:"Unnamed"}const Hpe=t=>t.name==="event_stream_tracer";var Vpe=class extends zf{constructor(e){super({_awaitHandler:!0,...e});H(this,"autoClose",!0);H(this,"includeNames");H(this,"includeTypes");H(this,"includeTags");H(this,"excludeNames");H(this,"excludeTypes");H(this,"excludeTags");H(this,"runInfoMap",new Map);H(this,"tappedPromises",new Map);H(this,"transformStream");H(this,"writer");H(this,"receiveStream");H(this,"name","event_stream_tracer");H(this,"lc_prefer_streaming",!0);this.autoClose=(e==null?void 0:e.autoClose)??!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=Ea.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){const n=e.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.runType)),this.includeTags!==void 0&&(r=r||n.find(i=>{var a;return(a=this.includeTags)==null?void 0:a.includes(i)})!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.runType)),this.excludeTags!==void 0&&(r=r&&n.every(i=>{var a;return!((a=this.excludeTags)!=null&&a.includes(i))})),r}async*tapOutputIterable(e,n){const r=await n.next();if(r.done)return;const i=this.runInfoMap.get(e);if(i===void 0){yield r.value;return}function a(o,l){return o==="llm"&&typeof l=="string"?new sm({text:l}):l}let s=this.tappedPromises.get(e);if(s===void 0){let o;s=new Promise(l=>{o=l}),this.tappedPromises.set(e,s);try{const l={event:`on_${i.runType}_stream`,run_id:e,name:i.name,tags:i.tags,metadata:i.metadata,data:{}};await this.send({...l,data:{chunk:a(i.runType,r.value)}},i),yield r.value;for await(const c of n)i.runType!=="tool"&&i.runType!=="retriever"&&await this.send({...l,data:{chunk:a(i.runType,c)}},i),yield c}finally{o==null||o()}}else{yield r.value;for await(const o of n)yield o}}async send(e,n){this._includeRun(n)&&await this.writer.write(e)}async sendEndEvent(e,n){const r=this.tappedPromises.get(e.run_id);r!==void 0?r.then(()=>{this.send(e,n)}):await this.send(e,n)}async onLLMStart(e){var s,o;const n=by(e),r=e.inputs.messages!==void 0?"chat_model":"llm",i={tags:e.tags??[],metadata:((s=e.extra)==null?void 0:s.metadata)??{},name:n,runType:r,inputs:e.inputs};this.runInfoMap.set(e.id,i);const a=`on_${r}_start`;await this.send({event:a,data:{input:e.inputs},name:n,tags:e.tags??[],run_id:e.id,metadata:((o=e.extra)==null?void 0:o.metadata)??{}},i)}async onLLMNewToken(e,n,r){const i=this.runInfoMap.get(e.id);let a,s;if(i===void 0)throw new Error(`onLLMNewToken: Run ID ${e.id} not found in run map.`);if(this.runInfoMap.size!==1){if(i.runType==="chat_model")s="on_chat_model_stream",(r==null?void 0:r.chunk)===void 0?a=new fo({content:n,id:`run-${e.id}`}):a=r.chunk.message;else if(i.runType==="llm")s="on_llm_stream",(r==null?void 0:r.chunk)===void 0?a=new sm({text:n}):a=r.chunk;else throw new Error(`Unexpected run type ${i.runType}`);await this.send({event:s,data:{chunk:a},run_id:e.id,name:i.name,tags:i.tags,metadata:i.metadata},i)}}async onLLMEnd(e){var s,o,l;const n=this.runInfoMap.get(e.id);this.runInfoMap.delete(e.id);let r;if(n===void 0)throw new Error(`onLLMEnd: Run ID ${e.id} not found in run map.`);const i=(s=e.outputs)==null?void 0:s.generations;let a;if(n.runType==="chat_model"){for(const c of i??[]){if(a!==void 0)break;a=(o=c[0])==null?void 0:o.message}r="on_chat_model_end"}else if(n.runType==="llm")a={generations:i==null?void 0:i.map(c=>c.map(d=>({text:d.text,generationInfo:d.generationInfo}))),llmOutput:((l=e.outputs)==null?void 0:l.llmOutput)??{}},r="on_llm_end";else throw new Error(`onLLMEnd: Unexpected run type: ${n.runType}`);await this.sendEndEvent({event:r,data:{output:a,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onChainStart(e){var s,o;const n=by(e),r=e.run_type??"chain",i={tags:e.tags??[],metadata:((s=e.extra)==null?void 0:s.metadata)??{},name:n,runType:e.run_type};let a={};e.inputs.input===""&&Object.keys(e.inputs).length===1?(a={},i.inputs={}):e.inputs.input!==void 0?(a.input=e.inputs.input,i.inputs=e.inputs.input):(a.input=e.inputs,i.inputs=e.inputs),this.runInfoMap.set(e.id,i),await this.send({event:`on_${r}_start`,data:a,name:n,tags:e.tags??[],run_id:e.id,metadata:((o=e.extra)==null?void 0:o.metadata)??{}},i)}async onChainEnd(e){var o;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onChainEnd: Run ID ${e.id} not found in run map.`);const r=`on_${e.run_type}_end`,i=e.inputs??n.inputs??{},s={output:((o=e.outputs)==null?void 0:o.output)??e.outputs,input:i};i.input&&Object.keys(i).length===1&&(s.input=i.input,n.inputs=i.input),await this.sendEndEvent({event:r,data:s,run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata??{}},n)}async onToolStart(e){var i,a;const n=by(e),r={tags:e.tags??[],metadata:((i=e.extra)==null?void 0:i.metadata)??{},name:n,runType:"tool",inputs:e.inputs??{}};this.runInfoMap.set(e.id,r),await this.send({event:"on_tool_start",data:{input:e.inputs??{}},name:n,run_id:e.id,tags:e.tags??[],metadata:((a=e.extra)==null?void 0:a.metadata)??{}},r)}async onToolEnd(e){var i;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onToolEnd: Run ID ${e.id} not found in run map.`);if(n.inputs===void 0)throw new Error(`onToolEnd: Run ID ${e.id} is a tool call, and is expected to have traced inputs.`);const r=((i=e.outputs)==null?void 0:i.output)===void 0?e.outputs:e.outputs.output;await this.sendEndEvent({event:"on_tool_end",data:{output:r,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onRetrieverStart(e){var a,s;const n=by(e),i={tags:e.tags??[],metadata:((a=e.extra)==null?void 0:a.metadata)??{},name:n,runType:"retriever",inputs:{query:e.inputs.query}};this.runInfoMap.set(e.id,i),await this.send({event:"on_retriever_start",data:{input:{query:e.inputs.query}},name:n,tags:e.tags??[],run_id:e.id,metadata:((s=e.extra)==null?void 0:s.metadata)??{}},i)}async onRetrieverEnd(e){var r;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onRetrieverEnd: Run ID ${e.id} not found in run map.`);await this.sendEndEvent({event:"on_retriever_end",data:{output:((r=e.outputs)==null?void 0:r.documents)??e.outputs,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async handleCustomEvent(e,n,r){const i=this.runInfoMap.get(r);if(i===void 0)throw new Error(`handleCustomEvent: Run ID ${r} not found in run map.`);await this.send({event:"on_custom_event",run_id:r,name:e,tags:i.tags,metadata:i.metadata,data:n},i)}async finish(){const e=[...this.tappedPromises.values()];Promise.all(e).finally(()=>{this.writer.close()})}};const Wpe=Object.prototype.toString,qpe=t=>Wpe.call(t)==="[object Error]",Gpe=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function Kpe(t){if(!(t&&qpe(t)&&t.name==="TypeError"&&typeof t.message=="string"))return!1;const{message:n,stack:r}=t;return n==="Load failed"?r===void 0||"__sentry_captured__"in t:n.startsWith("error sending request for url")?!0:Gpe.has(n)}function Ype(t){if(typeof t=="number"){if(t<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(t))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(t!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function wy(t,e,{min:n=0,allowInfinity:r=!1}={}){if(e!==void 0){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected \`${t}\` to be a number${r?" or Infinity":""}.`);if(!r&&!Number.isFinite(e))throw new TypeError(`Expected \`${t}\` to be a finite number.`);if(e<n)throw new TypeError(`Expected \`${t}\` to be  ${n}.`)}}class Xpe extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}function Zpe(t,e){const n=Math.max(1,t+1),r=e.randomize?Math.random()+1:1;let i=Math.round(r*e.minTimeout*e.factor**(n-1));return i=Math.min(i,e.maxTimeout),i}function M$(t,e){return Number.isFinite(e)?e-(performance.now()-t):e}async function Jpe({error:t,attemptNumber:e,retriesConsumed:n,startTime:r,options:i}){var p,m,g;const a=t instanceof Error?t:new TypeError(`Non-error was thrown: "${t}". You should only throw errors.`);if(a instanceof Xpe)throw a.originalError;const s=Number.isFinite(i.retries)?Math.max(0,i.retries-n):i.retries,o=i.maxRetryTime??Number.POSITIVE_INFINITY,l=Object.freeze({error:a,attemptNumber:e,retriesLeft:s,retriesConsumed:n});if(await i.onFailedAttempt(l),M$(r,o)<=0)throw a;const c=await i.shouldConsumeRetry(l),d=M$(r,o);if(d<=0||s<=0)throw a;if(a instanceof TypeError&&!Kpe(a)){if(c)throw a;return(p=i.signal)==null||p.throwIfAborted(),!1}if(!await i.shouldRetry(l))throw a;if(!c)return(m=i.signal)==null||m.throwIfAborted(),!1;const f=Zpe(n,i),h=Math.min(f,d);return h>0&&await new Promise((x,b)=>{var _,w;const v=()=>{var E;clearTimeout(y),(E=i.signal)==null||E.removeEventListener("abort",v),b(i.signal.reason)},y=setTimeout(()=>{var E;(E=i.signal)==null||E.removeEventListener("abort",v),x()},h);i.unref&&((_=y.unref)==null||_.call(y)),(w=i.signal)==null||w.addEventListener("abort",v,{once:!0})}),(g=i.signal)==null||g.throwIfAborted(),!0}async function sj(t,e={}){var a,s,o;if(e={...e},Ype(e.retries),Object.hasOwn(e,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");e.retries??(e.retries=10),e.factor??(e.factor=2),e.minTimeout??(e.minTimeout=1e3),e.maxTimeout??(e.maxTimeout=Number.POSITIVE_INFINITY),e.maxRetryTime??(e.maxRetryTime=Number.POSITIVE_INFINITY),e.randomize??(e.randomize=!1),e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.shouldConsumeRetry??(e.shouldConsumeRetry=()=>!0),wy("factor",e.factor,{min:0,allowInfinity:!1}),wy("minTimeout",e.minTimeout,{min:0,allowInfinity:!1}),wy("maxTimeout",e.maxTimeout,{min:0,allowInfinity:!0}),wy("maxRetryTime",e.maxRetryTime,{min:0,allowInfinity:!0}),e.factor>0||(e.factor=1),(a=e.signal)==null||a.throwIfAborted();let n=0,r=0;const i=performance.now();for(;!Number.isFinite(e.retries)||r<=e.retries;){n++;try{(s=e.signal)==null||s.throwIfAborted();const l=await t(n);return(o=e.signal)==null||o.throwIfAborted(),l}catch(l){await Jpe({error:l,attemptNumber:n,retriesConsumed:r,startTime:i,options:e})&&r++}}throw new Error("Retry attempts exhausted without throwing an error.")}var Qpe={};bt(Qpe,{AsyncCaller:()=>kb});const eme=[400,401,402,403,404,405,406,407,409],tme=t=>{var n,r;if(t.message.startsWith("Cancel")||t.message.startsWith("AbortError")||t.name==="AbortError"||(t==null?void 0:t.code)==="ECONNABORTED")throw t;const e=((n=t==null?void 0:t.response)==null?void 0:n.status)??(t==null?void 0:t.status);if(e&&eme.includes(+e))throw t;if(((r=t==null?void 0:t.error)==null?void 0:r.code)==="insufficient_quota"){const i=new Error(t==null?void 0:t.message);throw i.name="InsufficientQuotaError",i}};var kb=class{constructor(t){H(this,"maxConcurrency");H(this,"maxRetries");H(this,"onFailedAttempt");H(this,"queue");this.maxConcurrency=t.maxConcurrency??1/0,this.maxRetries=t.maxRetries??6,this.onFailedAttempt=t.onFailedAttempt??tme;const e="default"in zs?zs.default:zs;this.queue=new e({concurrency:this.maxConcurrency})}call(t,...e){return this.queue.add(()=>sj(()=>t(...e).catch(n=>{throw n instanceof Error?n:new Error(n)}),{onFailedAttempt:({error:n})=>{var r;return(r=this.onFailedAttempt)==null?void 0:r.call(this,n)},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(t,e,...n){if(t.signal){let r;return Promise.race([this.call(e,...n),new Promise((i,a)=>{var s;r=()=>{a(f0(t.signal))},(s=t.signal)==null||s.addEventListener("abort",r)})]).finally(()=>{t.signal&&r&&t.signal.removeEventListener("abort",r)})}return this.call(e,...n)}fetch(...t){return this.call(()=>fetch(...t).then(e=>e.ok?e:Promise.reject(e)))}},R6=class extends zf{constructor({config:e,onStart:n,onEnd:r,onError:i}){super({_awaitHandler:!0});H(this,"name","RootListenersTracer");H(this,"rootId");H(this,"config");H(this,"argOnStart");H(this,"argOnEnd");H(this,"argOnError");this.config=e,this.argOnStart=n,this.argOnEnd=r,this.argOnError=i}persistRun(e){return Promise.resolve()}async onRunCreate(e){this.rootId||(this.rootId=e.id,this.argOnStart&&await this.argOnStart(e,this.config))}async onRunUpdate(e){e.id===this.rootId&&(e.error?this.argOnError&&await this.argOnError(e,this.config):this.argOnEnd&&await this.argOnEnd(e,this.config))}};function OC(t){return t?t.lc_runnable:!1}var nme=class{constructor(t){H(this,"includeNames");H(this,"includeTypes");H(this,"includeTags");H(this,"excludeNames");H(this,"excludeTypes");H(this,"excludeTags");this.includeNames=t.includeNames,this.includeTypes=t.includeTypes,this.includeTags=t.includeTags,this.excludeNames=t.excludeNames,this.excludeTypes=t.excludeTypes,this.excludeTags=t.excludeTags}includeEvent(t,e){let n=this.includeNames===void 0&&this.includeTypes===void 0&&this.includeTags===void 0;const r=t.tags??[];return this.includeNames!==void 0&&(n=n||this.includeNames.includes(t.name)),this.includeTypes!==void 0&&(n=n||this.includeTypes.includes(e)),this.includeTags!==void 0&&(n=n||r.some(i=>{var a;return(a=this.includeTags)==null?void 0:a.includes(i)})),this.excludeNames!==void 0&&(n=n&&!this.excludeNames.includes(t.name)),this.excludeTypes!==void 0&&(n=n&&!this.excludeTypes.includes(e)),this.excludeTags!==void 0&&(n=n&&r.every(i=>{var a;return!((a=this.excludeTags)!=null&&a.includes(i))})),n}};function l1(t){return t.replace(/[^a-zA-Z-_0-9]/g,"_")}const rme=["*","_","`"];function ime(t){let e="";for(const[n,r]of Object.entries(t))e+=`	classDef ${n} ${r};
`;return e}function ame(t,e,n){const{firstNode:r,lastNode:i,nodeColors:a,withStyles:s=!0,curveStyle:o="linear",wrapLabelNWords:l=9}=n??{};let c=s?`%%{init: {'flowchart': {'curve': '${o}'}}}%%
graph TD;
`:`graph TD;
`;if(s){const p="default",m={[p]:"{0}({1})"};r!==void 0&&(m[r]="{0}([{1}]):::first"),i!==void 0&&(m[i]="{0}([{1}]):::last");for(const[g,x]of Object.entries(t)){const b=x.name.split(":").pop()??"";let y=rme.some(w=>b.startsWith(w)&&b.endsWith(w))?`<p>${b}</p>`:b;Object.keys(x.metadata??{}).length&&(y+=`<hr/><small><em>${Object.entries(x.metadata??{}).map(([w,E])=>`${w} = ${E}`).join(`
`)}</em></small>`);const _=(m[g]??m[p]).replace("{0}",l1(g)).replace("{1}",y);c+=`	${_}
`}}const d={};for(const p of e){const m=p.source.split(":"),g=p.target.split(":"),x=m.filter((b,v)=>b===g[v]).join(":");d[x]||(d[x]=[]),d[x].push(p)}const f=new Set;function h(p,m){const g=p.length===1&&p[0].source===p[0].target;if(m&&!g){const x=m.split(":").pop();if(f.has(x))throw new Error(`Found duplicate subgraph '${x}' -- this likely means that you're reusing a subgraph node with the same name. Please adjust your graph to have subgraph nodes with unique names.`);f.add(x),c+=`	subgraph ${x}
`}for(const x of p){const{source:b,target:v,data:y,conditional:_}=x;let w="";if(y!==void 0){let E=y;const A=E.split(" ");A.length>l&&(E=Array.from({length:Math.ceil(A.length/l)},(j,T)=>A.slice(T*l,(T+1)*l).join(" ")).join("&nbsp;<br>&nbsp;")),w=_?` -. &nbsp;${E}&nbsp; .-> `:` -- &nbsp;${E}&nbsp; --> `}else w=_?" -.-> ":" --> ";c+=`	${l1(b)}${w}${l1(v)};
`}for(const x in d)x.startsWith(`${m}:`)&&x!==m&&h(d[x],x);m&&!g&&(c+=`	end
`)}h(d[""]??[],"");for(const p in d)!p.includes(":")&&p!==""&&h(d[p],p);return s&&(c+=ime(a??{})),c}async function sme(t,e){let n=(e==null?void 0:e.backgroundColor)??"white";const r=(e==null?void 0:e.imageType)??"png",i=btoa(t);n!==void 0&&(/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(n)||(n=`!${n}`));const a=`https://mermaid.ink/img/${i}?bgColor=${n}&type=${r}`,s=await fetch(a);if(!s.ok)throw new Error(["Failed to render the graph using the Mermaid.INK API.",`Status code: ${s.status}`,`Status text: ${s.statusText}`].join(`
`));return await s.blob()}var ome={};bt(ome,{Graph:()=>NC});function lme(t,e){if(t!==void 0&&!dp(t))return t;if(OC(e))try{let n=e.getName();return n=n.startsWith("Runnable")?n.slice(8):n,n}catch{return e.getName()}else return e.name??"UnknownSchema"}function cme(t){return OC(t.data)?{type:"runnable",data:{id:t.data.lc_id,name:t.data.getName()}}:{type:"schema",data:{...wl(t.data.schema),title:t.data.name}}}var NC=class M6{constructor(e){H(this,"nodes",{});H(this,"edges",[]);this.nodes=(e==null?void 0:e.nodes)??this.nodes,this.edges=(e==null?void 0:e.edges)??this.edges}toJSON(){const e={};return Object.values(this.nodes).forEach((n,r)=>{e[n.id]=dp(n.id)?r:n.id}),{nodes:Object.values(this.nodes).map(n=>({id:e[n.id],...cme(n)})),edges:this.edges.map(n=>{const r={source:e[n.source],target:e[n.target]};return typeof n.data<"u"&&(r.data=n.data),typeof n.conditional<"u"&&(r.conditional=n.conditional),r})}}addNode(e,n,r){if(n!==void 0&&this.nodes[n]!==void 0)throw new Error(`Node with id ${n} already exists`);const i=n??jr(),a={id:i,data:e,name:lme(n,e),metadata:r};return this.nodes[i]=a,a}removeNode(e){delete this.nodes[e.id],this.edges=this.edges.filter(n=>n.source!==e.id&&n.target!==e.id)}addEdge(e,n,r,i){if(this.nodes[e.id]===void 0)throw new Error(`Source node ${e.id} not in graph`);if(this.nodes[n.id]===void 0)throw new Error(`Target node ${n.id} not in graph`);const a={source:e.id,target:n.id,data:r,conditional:i};return this.edges.push(a),a}firstNode(){return D$(this)}lastNode(){return L$(this)}extend(e,n=""){let r=n;Object.values(e.nodes).map(c=>c.id).every(dp)&&(r="");const a=c=>r?`${r}:${c}`:c;Object.entries(e.nodes).forEach(([c,d])=>{this.nodes[a(c)]={...d,id:a(c)}});const s=e.edges.map(c=>({...c,source:a(c.source),target:a(c.target)}));this.edges=[...this.edges,...s];const o=e.firstNode(),l=e.lastNode();return[o?{id:a(o.id),data:o.data}:void 0,l?{id:a(l.id),data:l.data}:void 0]}trimFirstNode(){const e=this.firstNode();e&&D$(this,[e.id])&&this.removeNode(e)}trimLastNode(){const e=this.lastNode();e&&L$(this,[e.id])&&this.removeNode(e)}reid(){const e=Object.fromEntries(Object.values(this.nodes).map(i=>[i.id,i.name])),n=new Map;Object.values(e).forEach(i=>{n.set(i,(n.get(i)||0)+1)});const r=i=>{const a=e[i];return dp(i)&&n.get(a)===1?a:i};return new M6({nodes:Object.fromEntries(Object.entries(this.nodes).map(([i,a])=>[r(i),{...a,id:r(i)}])),edges:this.edges.map(i=>({...i,source:r(i.source),target:r(i.target)}))})}drawMermaid(e){const{withStyles:n,curveStyle:r,nodeColors:i={default:"fill:#f2f0ff,line-height:1.2",first:"fill-opacity:0",last:"fill:#bfb6fc"},wrapLabelNWords:a}=e??{},s=this.reid(),o=s.firstNode(),l=s.lastNode();return ame(s.nodes,s.edges,{firstNode:o==null?void 0:o.id,lastNode:l==null?void 0:l.id,withStyles:n,curveStyle:r,nodeColors:i,wrapLabelNWords:a})}async drawMermaidPng(e){const n=this.drawMermaid(e);return sme(n,{backgroundColor:e==null?void 0:e.backgroundColor})}};function D$(t,e=[]){const n=new Set(t.edges.filter(i=>!e.includes(i.source)).map(i=>i.target)),r=[];for(const i of Object.values(t.nodes))!e.includes(i.id)&&!n.has(i.id)&&r.push(i);return r.length===1?r[0]:void 0}function L$(t,e=[]){const n=new Set(t.edges.filter(i=>!e.includes(i.target)).map(i=>i.source)),r=[];for(const i of Object.values(t.nodes))!e.includes(i.id)&&!n.has(i.id)&&r.push(i);return r.length===1?r[0]:void 0}function ume(t){const e=new TextEncoder,n=new ReadableStream({async start(r){for await(const i of t)r.enqueue(e.encode(`event: data
data: ${JSON.stringify(i)}

`));r.enqueue(e.encode(`event: end

`)),r.close()}});return Ea.fromReadableStream(n)}function F$(t){return typeof t=="object"&&t!==null&&typeof t[Symbol.iterator]=="function"&&typeof t.next=="function"}const dme=t=>t!=null&&typeof t=="object"&&"next"in t&&typeof t.next=="function";function oj(t){return typeof t=="object"&&t!==null&&typeof t[Symbol.asyncIterator]=="function"}function*B$(t,e){for(;;){const{value:n,done:r}=ro.runWithConfig(Fc(t),e.next.bind(e),!0);if(r)break;yield n}}async function*lj(t,e){const n=e[Symbol.asyncIterator]();for(;;){const{value:r,done:i}=await ro.runWithConfig(Fc(t),n.next.bind(e),!0);if(i)break;yield r}}function _n(t,e){return t&&!Array.isArray(t)&&!(t instanceof Date)&&typeof t=="object"?t:{[e]:t}}var hn=class extends Gd{constructor(){super(...arguments);H(this,"lc_runnable",!0);H(this,"name")}getName(e){const n=this.name??this.constructor.lc_name()??this.constructor.name;return e?`${n}${e}`:n}withRetry(e){return new PC({bound:this,kwargs:{},config:{},maxAttemptNumber:e==null?void 0:e.stopAfterAttempt,...e})}withConfig(e){return new Xd({bound:this,config:e,kwargs:{}})}withFallbacks(e){const n=Array.isArray(e)?e:e.fallbacks;return new U6({runnable:this,fallbacks:n})}_getOptionsList(e,n=0){if(Array.isArray(e)&&e.length!==n)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${n} inputs`);if(Array.isArray(e))return e.map(pt);if(n>1&&!Array.isArray(e)&&e.runId){console.warn("Provided runId will be used only for the first element of the batch.");const r=Object.fromEntries(Object.entries(e).filter(([i])=>i!=="runId"));return Array.from({length:n},(i,a)=>pt(a===0?e:r))}return Array.from({length:n},()=>pt(e))}async batch(e,n,r){var l;const i=this._getOptionsList(n??{},e.length),a=((l=i[0])==null?void 0:l.maxConcurrency)??(r==null?void 0:r.maxConcurrency),s=new kb({maxConcurrency:a,onFailedAttempt:c=>{throw c}}),o=e.map((c,d)=>s.call(async()=>{try{return await this.invoke(c,i[d])}catch(f){if(r!=null&&r.returnExceptions)return f;throw f}}));return Promise.all(o)}async*_streamIterator(e,n){yield this.invoke(e,n)}async stream(e,n){const r=pt(n),i=new nu({generator:this._streamIterator(e,r),config:r});return await i.setup,Ea.fromAsyncGenerator(i)}_separateRunnableConfigFromCallOptions(e){let n;e===void 0?n=pt(e):n=pt({callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName,configurable:e.configurable,recursionLimit:e.recursionLimit,maxConcurrency:e.maxConcurrency,runId:e.runId,timeout:e.timeout,signal:e.signal});const r={...e};return delete r.callbacks,delete r.tags,delete r.metadata,delete r.runName,delete r.configurable,delete r.recursionLimit,delete r.maxConcurrency,delete r.runId,delete r.timeout,delete r.signal,[n,r]}async _callWithConfig(e,n,r){const i=pt(r),a=await ii(i),s=await(a==null?void 0:a.handleChainStart(this.toJSON(),_n(n,"input"),i.runId,i==null?void 0:i.runType,void 0,void 0,(i==null?void 0:i.runName)??this.getName()));delete i.runId;let o;try{const l=e.call(this,n,i,s);o=await io(l,r==null?void 0:r.signal)}catch(l){throw await(s==null?void 0:s.handleChainError(l)),l}return await(s==null?void 0:s.handleChainEnd(_n(o,"output"))),o}async _batchWithConfig(e,n,r,i){var c;const a=this._getOptionsList(r??{},n.length),s=await Promise.all(a.map(ii)),o=await Promise.all(s.map(async(d,f)=>{const h=await(d==null?void 0:d.handleChainStart(this.toJSON(),_n(n[f],"input"),a[f].runId,a[f].runType,void 0,void 0,a[f].runName??this.getName()));return delete a[f].runId,h}));let l;try{const d=e.call(this,n,a,o,i);l=await io(d,(c=a==null?void 0:a[0])==null?void 0:c.signal)}catch(d){throw await Promise.all(o.map(f=>f==null?void 0:f.handleChainError(d))),d}return await Promise.all(o.map(d=>d==null?void 0:d.handleChainEnd(_n(l,"output")))),l}_concatOutputChunks(e,n){return Bc(e,n)}async*_transformStreamWithConfig(e,n,r){let i,a=!0,s,o=!0;const l=pt(r),c=await ii(l),d=this;async function*f(){for await(const p of e){if(a)if(i===void 0)i=p;else try{i=d._concatOutputChunks(i,p)}catch{i=void 0,a=!1}yield p}}let h;try{const p=await A6(n.bind(this),f(),async()=>c==null?void 0:c.handleChainStart(this.toJSON(),{input:""},l.runId,l.runType,void 0,void 0,l.runName??this.getName()),r==null?void 0:r.signal,l);delete l.runId,h=p.setup;const m=h==null?void 0:h.handlers.find(Hpe);let g=p.output;m!==void 0&&h!==void 0&&(g=m.tapOutputIterable(h.runId,g));const x=h==null?void 0:h.handlers.find($6);x!==void 0&&h!==void 0&&(g=x.tapOutputIterable(h.runId,g));for await(const b of g)if(yield b,o)if(s===void 0)s=b;else try{s=this._concatOutputChunks(s,b)}catch{s=void 0,o=!1}}catch(p){throw await(h==null?void 0:h.handleChainError(p,void 0,void 0,void 0,{inputs:_n(i,"input")})),p}await(h==null?void 0:h.handleChainEnd(s??{},void 0,void 0,void 0,{inputs:_n(i,"input")}))}getGraph(e){const n=new NC,r=n.addNode({name:`${this.getName()}Input`,schema:C2()}),i=n.addNode(this),a=n.addNode({name:`${this.getName()}Output`,schema:C2()});return n.addEdge(r,i),n.addEdge(i,a),n}pipe(e){return new gg({first:this,last:ca(e)})}pick(e){return this.pipe(new H6(e))}assign(e){return this.pipe(new IC(new Uf({steps:e})))}async*transform(e,n){let r;for await(const i of e)r===void 0?r=i:r=this._concatOutputChunks(r,i);yield*this._streamIterator(r,pt(n))}async*streamLog(e,n,r){const i=new aj({...r,autoClose:!1,_schemaFormat:"original"}),a=pt(n);yield*this._streamLog(e,i,a)}async*_streamLog(e,n,r){const{callbacks:i}=r;if(i===void 0)r.callbacks=[n];else if(Array.isArray(i))r.callbacks=i.concat([n]);else{const l=i.copy();l.addHandler(n,!0),r.callbacks=l}const a=this.stream(e,r);async function s(){try{const l=await a;for await(const c of l){const d=new Ps({ops:[{op:"add",path:"/streamed_output/-",value:c}]});await n.writer.write(d)}}finally{await n.writer.close()}}const o=s();try{for await(const l of n)yield l}finally{await o}}streamEvents(e,n,r){let i;if(n.version==="v1")i=this._streamEventsV1(e,n,r);else if(n.version==="v2")i=this._streamEventsV2(e,n,r);else throw new Error('Only versions "v1" and "v2" of the schema are currently supported.');return n.encoding==="text/event-stream"?ume(i):Ea.fromAsyncGenerator(i)}async*_streamEventsV2(e,n,r){var m;const i=new Vpe({...r,autoClose:!1}),a=pt(n),s=a.runId??jr();a.runId=s;const o=a.callbacks;if(o===void 0)a.callbacks=[i];else if(Array.isArray(o))a.callbacks=o.concat(i);else{const g=o.copy();g.addHandler(i,!0),a.callbacks=g}const l=new AbortController,c=this;async function d(){let g,x=null;try{n!=null&&n.signal?"any"in AbortSignal?g=AbortSignal.any([l.signal,n.signal]):(g=n.signal,x=()=>{l.abort()},n.signal.addEventListener("abort",x,{once:!0})):g=l.signal;const b=await c.stream(e,{...a,signal:g}),v=i.tapOutputIterable(s,b);for await(const y of v)if(l.signal.aborted)break}finally{await i.finish(),g&&x&&g.removeEventListener("abort",x)}}const f=d();let h=!1,p;try{for await(const g of i){if(!h){g.data.input=e,h=!0,p=g.run_id,yield g;continue}g.run_id===p&&g.event.endsWith("_end")&&(m=g.data)!=null&&m.input&&delete g.data.input,yield g}}finally{l.abort(),await f}}async*_streamEventsV1(e,n,r){let i,a=!1;const s=pt(n),o=s.tags??[],l=s.metadata??{},c=s.runName??this.getName(),d=new aj({...r,autoClose:!1,_schemaFormat:"streaming_events"}),f=new nme({...r}),h=this._streamLog(e,d,s);for await(const m of h){if(i?i=i.concat(m):i=CC.fromRunLogPatch(m),i.state===void 0)throw new Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!a){a=!0;const v={...i.state},y={run_id:v.id,event:`on_${v.type}_start`,name:c,tags:o,metadata:l,data:{input:e}};f.includeEvent(y,v.type)&&(yield y)}const g=m.ops.filter(v=>v.path.startsWith("/logs/")).map(v=>v.path.split("/")[2]),x=[...new Set(g)];for(const v of x){let y,_={};const w=i.state.logs[v];if(w.end_time===void 0?w.streamed_output.length>0?y="stream":y="start":y="end",y==="start")w.inputs!==void 0&&(_.input=w.inputs);else if(y==="end")w.inputs!==void 0&&(_.input=w.inputs),_.output=w.final_output;else if(y==="stream"){const E=w.streamed_output.length;if(E!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${E} instead. Encountered in: "${w.name}"`);_={chunk:w.streamed_output[0]},w.streamed_output=[]}yield{event:`on_${w.type}_${y}`,name:w.name,run_id:w.id,tags:w.tags,metadata:w.metadata,data:_}}const{state:b}=i;if(b.streamed_output.length>0){const v=b.streamed_output.length;if(v!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${v} instead. Encountered in: "${b.name}"`);const y={chunk:b.streamed_output[0]};b.streamed_output=[];const _={event:`on_${b.type}_stream`,run_id:b.id,tags:o,metadata:l,name:c,data:y};f.includeEvent(_,b.type)&&(yield _)}}const p=i==null?void 0:i.state;if(p!==void 0){const m={event:`on_${p.type}_end`,name:c,run_id:p.id,tags:o,metadata:l,data:{output:p.final_output}};f.includeEvent(m,p.type)&&(yield m)}}static isRunnable(e){return OC(e)}withListeners({onStart:e,onEnd:n,onError:r}){return new Xd({bound:this,config:{},configFactories:[i=>({callbacks:[new R6({config:i,onStart:e,onEnd:n,onError:r})]})]})}asTool(e){return gme(this,e)}},Xd=class D6 extends hn{constructor(n){super(n);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"lc_serializable",!0);H(this,"bound");H(this,"config");H(this,"kwargs");H(this,"configFactories");this.bound=n.bound,this.kwargs=n.kwargs,this.config=n.config,this.configFactories=n.configFactories}static lc_name(){return"RunnableBinding"}getName(n){return this.bound.getName(n)}async _mergeConfig(...n){const r=ZE(this.config,...n);return ZE(r,...this.configFactories?await Promise.all(this.configFactories.map(async i=>await i(r))):[])}withConfig(n){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...n}})}withRetry(n){return new PC({bound:this.bound,kwargs:this.kwargs,config:this.config,maxAttemptNumber:n==null?void 0:n.stopAfterAttempt,...n})}async invoke(n,r){return this.bound.invoke(n,await this._mergeConfig(r,this.kwargs))}async batch(n,r,i){const a=Array.isArray(r)?await Promise.all(r.map(async s=>this._mergeConfig(pt(s),this.kwargs))):await this._mergeConfig(pt(r),this.kwargs);return this.bound.batch(n,a,i)}_concatOutputChunks(n,r){return this.bound._concatOutputChunks(n,r)}async*_streamIterator(n,r){yield*this.bound._streamIterator(n,await this._mergeConfig(pt(r),this.kwargs))}async stream(n,r){return this.bound.stream(n,await this._mergeConfig(pt(r),this.kwargs))}async*transform(n,r){yield*this.bound.transform(n,await this._mergeConfig(pt(r),this.kwargs))}streamEvents(n,r,i){const a=this,s=async function*(){yield*a.bound.streamEvents(n,{...await a._mergeConfig(pt(r),a.kwargs),version:r.version},i)};return Ea.fromAsyncGenerator(s())}static isRunnableBinding(n){return n.bound&&hn.isRunnable(n.bound)}withListeners({onStart:n,onEnd:r,onError:i}){return new D6({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[a=>({callbacks:[new R6({config:a,onStart:n,onEnd:r,onError:i})]})]})}},fme=class L6 extends hn{constructor(n){super(n);H(this,"lc_serializable",!0);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"bound");this.bound=n.bound}static lc_name(){return"RunnableEach"}async invoke(n,r){return this._callWithConfig(this._invoke.bind(this),n,r)}async _invoke(n,r,i){return this.bound.batch(n,Zt(r,{callbacks:i==null?void 0:i.getChild()}))}withListeners({onStart:n,onEnd:r,onError:i}){return new L6({bound:this.bound.withListeners({onStart:n,onEnd:r,onError:i})})}},PC=class extends Xd{constructor(e){super(e);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"maxAttemptNumber",3);H(this,"onFailedAttempt",()=>{});this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}static lc_name(){return"RunnableRetry"}_patchConfigForRetry(e,n,r){const i=e>1?`retry:attempt:${e}`:void 0;return Zt(n,{callbacks:r==null?void 0:r.getChild(i)})}async _invoke(e,n,r){return sj(i=>super.invoke(e,this._patchConfigForRetry(i,n,r)),{onFailedAttempt:({error:i})=>this.onFailedAttempt(i,e),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,n){return this._callWithConfig(this._invoke.bind(this),e,n)}async _batch(e,n,r,i){const a={};try{await sj(async s=>{const o=e.map((h,p)=>p).filter(h=>a[h.toString()]===void 0||a[h.toString()]instanceof Error),l=o.map(h=>e[h]),c=o.map(h=>this._patchConfigForRetry(s,n==null?void 0:n[h],r==null?void 0:r[h])),d=await super.batch(l,c,{...i,returnExceptions:!0});let f;for(let h=0;h<d.length;h+=1){const p=d[h],m=o[h];p instanceof Error&&f===void 0&&(f=p,f.input=l[h]),a[m.toString()]=p}if(f)throw f;return d},{onFailedAttempt:({error:s})=>this.onFailedAttempt(s,s.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(s){if((i==null?void 0:i.returnExceptions)!==!0)throw s}return Object.keys(a).sort((s,o)=>parseInt(s,10)-parseInt(o,10)).map(s=>a[parseInt(s,10)])}async batch(e,n,r){return this._batchWithConfig(this._batch.bind(this),e,n,r)}},gg=class Hh extends hn{constructor(n){super(n);H(this,"first");H(this,"middle",[]);H(this,"last");H(this,"omitSequenceTags",!1);H(this,"lc_serializable",!0);H(this,"lc_namespace",["langchain_core","runnables"]);this.first=n.first,this.middle=n.middle??this.middle,this.last=n.last,this.name=n.name,this.omitSequenceTags=n.omitSequenceTags??this.omitSequenceTags}static lc_name(){return"RunnableSequence"}get steps(){return[this.first,...this.middle,this.last]}async invoke(n,r){var c;const i=pt(r),a=await ii(i),s=await(a==null?void 0:a.handleChainStart(this.toJSON(),_n(n,"input"),i.runId,void 0,void 0,void 0,i==null?void 0:i.runName));delete i.runId;let o=n,l;try{const d=[this.first,...this.middle];for(let f=0;f<d.length;f+=1){const p=d[f].invoke(o,Zt(i,{callbacks:s==null?void 0:s.getChild(this.omitSequenceTags?void 0:`seq:step:${f+1}`)}));o=await io(p,r==null?void 0:r.signal)}if((c=r==null?void 0:r.signal)!=null&&c.aborted)throw f0(r.signal);l=await this.last.invoke(o,Zt(i,{callbacks:s==null?void 0:s.getChild(this.omitSequenceTags?void 0:`seq:step:${this.steps.length}`)}))}catch(d){throw await(s==null?void 0:s.handleChainError(d)),d}return await(s==null?void 0:s.handleChainEnd(_n(l,"output"))),l}async batch(n,r,i){var c;const a=this._getOptionsList(r??{},n.length),s=await Promise.all(a.map(ii)),o=await Promise.all(s.map(async(d,f)=>{const h=await(d==null?void 0:d.handleChainStart(this.toJSON(),_n(n[f],"input"),a[f].runId,void 0,void 0,void 0,a[f].runName));return delete a[f].runId,h}));let l=n;try{for(let d=0;d<this.steps.length;d+=1){const h=this.steps[d].batch(l,o.map((p,m)=>{const g=p==null?void 0:p.getChild(this.omitSequenceTags?void 0:`seq:step:${d+1}`);return Zt(a[m],{callbacks:g})}),i);l=await io(h,(c=a[0])==null?void 0:c.signal)}}catch(d){throw await Promise.all(o.map(f=>f==null?void 0:f.handleChainError(d))),d}return await Promise.all(o.map(d=>d==null?void 0:d.handleChainEnd(_n(l,"output")))),l}_concatOutputChunks(n,r){return this.last._concatOutputChunks(n,r)}async*_streamIterator(n,r){var h;const i=await ii(r),{runId:a,...s}=r??{},o=await(i==null?void 0:i.handleChainStart(this.toJSON(),_n(n,"input"),a,void 0,void 0,void 0,s==null?void 0:s.runName)),l=[this.first,...this.middle,this.last];let c=!0,d;async function*f(){yield n}try{let p=l[0].transform(f(),Zt(s,{callbacks:o==null?void 0:o.getChild(this.omitSequenceTags?void 0:"seq:step:1")}));for(let m=1;m<l.length;m+=1)p=await l[m].transform(p,Zt(s,{callbacks:o==null?void 0:o.getChild(this.omitSequenceTags?void 0:`seq:step:${m+1}`)}));for await(const m of p)if((h=r==null?void 0:r.signal)==null||h.throwIfAborted(),yield m,c)if(d===void 0)d=m;else try{d=this._concatOutputChunks(d,m)}catch{d=void 0,c=!1}}catch(p){throw await(o==null?void 0:o.handleChainError(p)),p}await(o==null?void 0:o.handleChainEnd(_n(d,"output")))}getGraph(n){const r=new NC;let i=null;return this.steps.forEach((a,s)=>{const o=a.getGraph(n);s!==0&&o.trimFirstNode(),s!==this.steps.length-1&&o.trimLastNode(),r.extend(o);const l=o.firstNode();if(!l)throw new Error(`Runnable ${a} has no first node`);i&&r.addEdge(i,l),i=o.lastNode()}),r}pipe(n){return Hh.isRunnableSequence(n)?new Hh({first:this.first,middle:this.middle.concat([this.last,n.first,...n.middle]),last:n.last,name:this.name??n.name}):new Hh({first:this.first,middle:[...this.middle,this.last],last:ca(n),name:this.name})}static isRunnableSequence(n){return Array.isArray(n.middle)&&hn.isRunnable(n)}static from([n,...r],i){let a={};return typeof i=="string"?a.name=i:i!==void 0&&(a=i),new Hh({...a,first:ca(n),middle:r.slice(0,-1).map(ca),last:ca(r[r.length-1])})}},Uf=class F6 extends hn{constructor(n){super(n);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"lc_serializable",!0);H(this,"steps");this.steps={};for(const[r,i]of Object.entries(n.steps))this.steps[r]=ca(i)}static lc_name(){return"RunnableMap"}getStepsKeys(){return Object.keys(this.steps)}static from(n){return new F6({steps:n})}async invoke(n,r){const i=pt(r),a=await ii(i),s=await(a==null?void 0:a.handleChainStart(this.toJSON(),{input:n},i.runId,void 0,void 0,void 0,i==null?void 0:i.runName));delete i.runId;const o={};try{const l=Object.entries(this.steps).map(async([c,d])=>{o[c]=await d.invoke(n,Zt(i,{callbacks:s==null?void 0:s.getChild(`map:key:${c}`)}))});await io(Promise.all(l),r==null?void 0:r.signal)}catch(l){throw await(s==null?void 0:s.handleChainError(l)),l}return await(s==null?void 0:s.handleChainEnd(o)),o}async*_transform(n,r,i){const a={...this.steps},s=TC(n,Object.keys(a).length),o=new Map(Object.entries(a).map(([l,c],d)=>{const f=c.transform(s[d],Zt(i,{callbacks:r==null?void 0:r.getChild(`map:key:${l}`)}));return[l,f.next().then(h=>({key:l,gen:f,result:h}))]}));for(;o.size;){const l=Promise.race(o.values()),{key:c,result:d,gen:f}=await io(l,i==null?void 0:i.signal);o.delete(c),d.done||(yield{[c]:d.value},o.set(c,f.next().then(h=>({key:c,gen:f,result:h}))))}}transform(n,r){return this._transformStreamWithConfig(n,this._transform.bind(this),r)}async stream(n,r){async function*i(){yield n}const a=pt(r),s=new nu({generator:this.transform(i(),a),config:a});return await s.setup,Ea.fromAsyncGenerator(s)}},hme=class B6 extends hn{constructor(n){super(n);H(this,"lc_serializable",!1);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"func");if(!AC(n.func))throw new Error("RunnableTraceable requires a function that is wrapped in traceable higher-order function");this.func=n.func}async invoke(n,r){const[i]=this._getOptionsList(r??{},1),a=await ii(i),s=this.func(Zt(i,{callbacks:a}),n);return io(s,i==null?void 0:i.signal)}async*_streamIterator(n,r){var s,o;const[i]=this._getOptionsList(r??{},1),a=await this.invoke(n,r);if(oj(a)){for await(const l of a)(s=i==null?void 0:i.signal)==null||s.throwIfAborted(),yield l;return}if(dme(a)){for(;;){(o=i==null?void 0:i.signal)==null||o.throwIfAborted();const l=a.next();if(l.done)break;yield l.value}return}yield a}static from(n){return new B6({func:n})}};function pme(t){if(AC(t))throw new Error("RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.")}var Rl=class z6 extends hn{constructor(n){if(AC(n.func))return hme.from(n.func);super(n);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"func");pme(n.func),this.func=n.func}static lc_name(){return"RunnableLambda"}static from(n){return new z6({func:n})}async _invoke(n,r,i){return new Promise((a,s)=>{const o=Zt(r,{callbacks:i==null?void 0:i.getChild(),recursionLimit:((r==null?void 0:r.recursionLimit)??o1)-1});ro.runWithConfig(Fc(o),async()=>{var l,c;try{let d=await this.func(n,{...o});if(d&&hn.isRunnable(d)){if((r==null?void 0:r.recursionLimit)===0)throw new Error("Recursion limit reached.");d=await d.invoke(n,{...o,recursionLimit:(o.recursionLimit??o1)-1})}else if(oj(d)){let f;for await(const h of lj(o,d))if((l=r==null?void 0:r.signal)==null||l.throwIfAborted(),f===void 0)f=h;else try{f=this._concatOutputChunks(f,h)}catch{f=h}d=f}else if(F$(d)){let f;for(const h of B$(o,d))if((c=r==null?void 0:r.signal)==null||c.throwIfAborted(),f===void 0)f=h;else try{f=this._concatOutputChunks(f,h)}catch{f=h}d=f}a(d)}catch(d){s(d)}})})}async invoke(n,r){return this._callWithConfig(this._invoke.bind(this),n,r)}async*_transform(n,r,i){var l,c;let a;for await(const d of n)if(a===void 0)a=d;else try{a=this._concatOutputChunks(a,d)}catch{a=d}const s=Zt(i,{callbacks:r==null?void 0:r.getChild(),recursionLimit:((i==null?void 0:i.recursionLimit)??o1)-1}),o=await new Promise((d,f)=>{ro.runWithConfig(Fc(s),async()=>{try{const h=await this.func(a,{...s,config:s});d(h)}catch(h){f(h)}})});if(o&&hn.isRunnable(o)){if((i==null?void 0:i.recursionLimit)===0)throw new Error("Recursion limit reached.");const d=await o.stream(a,s);for await(const f of d)yield f}else if(oj(o))for await(const d of lj(s,o))(l=i==null?void 0:i.signal)==null||l.throwIfAborted(),yield d;else if(F$(o))for(const d of B$(s,o))(c=i==null?void 0:i.signal)==null||c.throwIfAborted(),yield d;else yield o}transform(n,r){return this._transformStreamWithConfig(n,this._transform.bind(this),r)}async stream(n,r){async function*i(){yield n}const a=pt(r),s=new nu({generator:this.transform(i(),a),config:a});return await s.setup,Ea.fromAsyncGenerator(s)}},mme=class extends Uf{},U6=class extends hn{constructor(e){super(e);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"lc_serializable",!0);H(this,"runnable");H(this,"fallbacks");this.runnable=e.runnable,this.fallbacks=e.fallbacks}static lc_name(){return"RunnableWithFallbacks"}*runnables(){yield this.runnable;for(const e of this.fallbacks)yield e}async invoke(e,n){const r=pt(n),i=await ii(r),{runId:a,...s}=r,o=await(i==null?void 0:i.handleChainStart(this.toJSON(),_n(e,"input"),a,void 0,void 0,void 0,s==null?void 0:s.runName)),l=Zt(s,{callbacks:o==null?void 0:o.getChild()});return await ro.runWithConfig(l,async()=>{var f;let d;for(const h of this.runnables()){(f=r==null?void 0:r.signal)==null||f.throwIfAborted();try{const p=await h.invoke(e,l);return await(o==null?void 0:o.handleChainEnd(_n(p,"output"))),p}catch(p){d===void 0&&(d=p)}}throw d===void 0?new Error("No error stored at end of fallback."):(await(o==null?void 0:o.handleChainError(d)),d)})}async*_streamIterator(e,n){var f;const r=pt(n),i=await ii(r),{runId:a,...s}=r,o=await(i==null?void 0:i.handleChainStart(this.toJSON(),_n(e,"input"),a,void 0,void 0,void 0,s==null?void 0:s.runName));let l,c;for(const h of this.runnables()){(f=r==null?void 0:r.signal)==null||f.throwIfAborted();const p=Zt(s,{callbacks:o==null?void 0:o.getChild()});try{const m=await h.stream(e,p);c=lj(p,m);break}catch(m){l===void 0&&(l=m)}}if(c===void 0){const h=l??new Error("No error stored at end of fallback.");throw await(o==null?void 0:o.handleChainError(h)),h}let d;try{for await(const h of c){yield h;try{d=d===void 0?d:this._concatOutputChunks(d,h)}catch{d=void 0}}}catch(h){throw await(o==null?void 0:o.handleChainError(h)),h}await(o==null?void 0:o.handleChainEnd(_n(d,"output")))}async batch(e,n,r){var l;if(r!=null&&r.returnExceptions)throw new Error("Not implemented.");const i=this._getOptionsList(n??{},e.length),a=await Promise.all(i.map(c=>ii(c))),s=await Promise.all(a.map(async(c,d)=>{const f=await(c==null?void 0:c.handleChainStart(this.toJSON(),_n(e[d],"input"),i[d].runId,void 0,void 0,void 0,i[d].runName));return delete i[d].runId,f}));let o;for(const c of this.runnables()){(l=i[0].signal)==null||l.throwIfAborted();try{const d=await c.batch(e,s.map((f,h)=>Zt(i[h],{callbacks:f==null?void 0:f.getChild()})),r);return await Promise.all(s.map((f,h)=>f==null?void 0:f.handleChainEnd(_n(d[h],"output")))),d}catch(d){o===void 0&&(o=d)}}throw o?(await Promise.all(s.map(c=>c==null?void 0:c.handleChainError(o))),o):new Error("No error stored at end of fallbacks.")}};function ca(t){if(typeof t=="function")return new Rl({func:t});if(hn.isRunnable(t))return t;if(!Array.isArray(t)&&typeof t=="object"){const e={};for(const[n,r]of Object.entries(t))e[n]=ca(r);return new Uf({steps:e})}else throw new Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}var IC=class extends hn{constructor(e){e instanceof Uf&&(e={mapper:e});super(e);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"lc_serializable",!0);H(this,"mapper");this.mapper=e.mapper}static lc_name(){return"RunnableAssign"}async invoke(e,n){const r=await this.mapper.invoke(e,n);return{...e,...r}}async*_transform(e,n,r){const i=this.mapper.getStepsKeys(),[a,s]=TC(e),o=this.mapper.transform(s,Zt(r,{callbacks:n==null?void 0:n.getChild()})),l=o.next();for await(const c of a){if(typeof c!="object"||Array.isArray(c))throw new Error(`RunnableAssign can only be used with objects as input, got ${typeof c}`);const d=Object.fromEntries(Object.entries(c).filter(([f])=>!i.includes(f)));Object.keys(d).length>0&&(yield d)}yield(await l).value;for await(const c of o)yield c}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=pt(n),a=new nu({generator:this.transform(r(),i),config:i});return await a.setup,Ea.fromAsyncGenerator(a)}},H6=class extends hn{constructor(e){(typeof e=="string"||Array.isArray(e))&&(e={keys:e});super(e);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"lc_serializable",!0);H(this,"keys");this.keys=e.keys}static lc_name(){return"RunnablePick"}async _pick(e){if(typeof this.keys=="string")return e[this.keys];{const n=this.keys.map(r=>[r,e[r]]).filter(r=>r[1]!==void 0);return n.length===0?void 0:Object.fromEntries(n)}}async invoke(e,n){return this._callWithConfig(this._pick.bind(this),e,n)}async*_transform(e){for await(const n of e){const r=await this._pick(n);r!==void 0&&(yield r)}}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=pt(n),a=new nu({generator:this.transform(r(),i),config:i});return await a.setup,Ea.fromAsyncGenerator(a)}},cj=class extends Xd{constructor(e){const n=gg.from([Rl.from(async r=>{let i;if(PU(r))try{i=await Zk(this.schema,r.args)}catch{throw new dce("Received tool input did not match expected schema",JSON.stringify(r.args))}else i=r;return i}).withConfig({runName:`${e.name}:parse_input`}),e.bound]).withConfig({runName:e.name});super({bound:n,config:e.config??{}});H(this,"name");H(this,"description");H(this,"schema");this.name=e.name,this.description=e.description,this.schema=e.schema}static lc_name(){return"RunnableToolLike"}};function gme(t,e){const n=e.name??t.getName(),r=e.description??Jk(e.schema);return Xz(e.schema)?new cj({name:n,description:r,schema:nC({input:tC()}).transform(i=>i.input),bound:t}):new cj({name:n,description:r,schema:e.schema,bound:t})}const m0=(t,e)=>{const n=[...new Set(e==null?void 0:e.map(i=>{if(typeof i=="string")return i;const a=new i({});if(!("getType"in a)||typeof a.getType!="function")throw new Error("Invalid type provided.");return a.getType()}))],r=t.getType();return n.some(i=>i===r)};function yme(t,e){return Array.isArray(t)?z$(t,e):Rl.from(n=>z$(n,t))}function z$(t,e={}){const{includeNames:n,excludeNames:r,includeTypes:i,excludeTypes:a,includeIds:s,excludeIds:o}=e,l=[];for(const c of t)if(!(r&&c.name&&r.includes(c.name))){{if(a&&m0(c,a))continue;if(o&&c.id&&o.includes(c.id))continue}i||s||n?(n&&c.name&&n.some(d=>d===c.name)||i&&m0(c,i)||s&&c.id&&s.some(d=>d===c.id))&&l.push(c):l.push(c)}return l}function vme(t){return Array.isArray(t)?U$(t):Rl.from(U$)}function U$(t){if(!t.length)return[];const e=[];for(const n of t){const r=n,i=e.pop();if(!i)e.push(r);else if(r.getType()==="tool"||r.getType()!==i.getType())e.push(i,r);else{const a=c0(i),s=c0(r),o=a.concat(s);typeof a.content=="string"&&typeof s.content=="string"&&(o.content=`${a.content}
${s.content}`),e.push(wme(o))}}return e}function xme(t,e){if(Array.isArray(t)){const n=t;if(!e)throw new Error("Options parameter is required when providing messages.");return H$(n,e)}else{const n=t;return Rl.from(r=>H$(r,n)).withConfig({runName:"trim_messages"})}}async function H$(t,e){const{maxTokens:n,tokenCounter:r,strategy:i="last",allowPartial:a=!1,endOn:s,startOn:o,includeSystem:l=!1,textSplitter:c}=e;if(o&&i==="first")throw new Error("`startOn` should only be specified if `strategy` is 'last'.");if(l&&i==="first")throw new Error("`includeSystem` should only be specified if `strategy` is 'last'.");let d;"getNumTokens"in r?d=async h=>(await Promise.all(h.map(m=>r.getNumTokens(m.content)))).reduce((m,g)=>m+g,0):d=async h=>r(h);let f=W6;if(c&&("splitText"in c?f=c.splitText:f=async h=>c(h)),i==="first")return V6(t,{maxTokens:n,tokenCounter:d,textSplitter:f,partialStrategy:a?"first":void 0,endOn:s});if(i==="last")return bme(t,{maxTokens:n,tokenCounter:d,textSplitter:f,allowPartial:a,includeSystem:l,startOn:o,endOn:s});throw new Error(`Unrecognized strategy: '${i}'. Must be one of 'first' or 'last'.`)}async function V6(t,e){const{maxTokens:n,tokenCounter:r,textSplitter:i,partialStrategy:a,endOn:s}=e;let o=[...t],l=0;for(let c=0;c<o.length;c+=1){const d=c>0?o.slice(0,-c):o;if(await r(d)<=n){l=o.length-c;break}}if(l<o.length&&a){let c=!1;if(Array.isArray(o[l].content)){const d=o[l];if(typeof d.content=="string")throw new Error("Expected content to be an array.");const f=d.content.length,h=a==="last"?[...d.content].reverse():d.content;for(let p=1;p<=f;p+=1){const m=a==="first"?h.slice(0,p):h.slice(-p),g=Object.fromEntries(Object.entries(d).filter(([v])=>v!=="type"&&!v.startsWith("lc_"))),x=$C(d.getType(),{...g,content:m}),b=[...o.slice(0,l),x];if(await r(b)<=n)o=b,l+=1,c=!0;else break}c&&a==="last"&&(d.content=[...h].reverse())}if(!c){const d=o[l];let f;if(Array.isArray(d.content)&&d.content.some(h=>typeof h=="string"||h.type==="text")){const h=d.content.find(p=>p.type==="text"&&p.text);f=h==null?void 0:h.text}else typeof d.content=="string"&&(f=d.content);if(f){const h=await i(f),p=h.length;a==="last"&&h.reverse();for(let m=0;m<p-1;m+=1)if(h.pop(),d.content=h.join(""),await r([...o.slice(0,l),d])<=n){a==="last"&&(d.content=[...h].reverse().join("")),o=[...o.slice(0,l),d],l+=1;break}}}}if(s){const c=Array.isArray(s)?s:[s];for(;l>0&&!m0(o[l-1],c);)l-=1}return o.slice(0,l)}async function bme(t,e){var d;const{allowPartial:n=!1,includeSystem:r=!1,endOn:i,startOn:a,...s}=e;let o=t.map(f=>{const h=Object.fromEntries(Object.entries(f).filter(([p])=>p!=="type"&&!p.startsWith("lc_")));return $C(f.getType(),h,lC(f))});if(i){const f=Array.isArray(i)?i:[i];for(;o.length>0&&!m0(o[o.length-1],f);)o=o.slice(0,-1)}const l=r&&((d=o[0])==null?void 0:d.getType())==="system";let c=l?o.slice(0,1).concat(o.slice(1).reverse()):o.reverse();return c=await V6(c,{...s,partialStrategy:n?"last":void 0,endOn:a}),l?[c[0],...c.slice(1).reverse()]:c.reverse()}const V$={human:{message:Sa,messageChunk:fg},ai:{message:ds,messageChunk:fo},system:{message:fs,messageChunk:Sl},developer:{message:fs,messageChunk:Sl},tool:{message:Ff,messageChunk:cg},function:{message:bb,messageChunk:dg},generic:{message:tu,messageChunk:ug},remove:{message:l0,messageChunk:l0}};function $C(t,e,n){var a;let r,i;switch(t){case"human":n?r=new fg(e):i=new Sa(e);break;case"ai":if(n){let s={...e};"tool_calls"in s&&(s={...s,tool_call_chunks:(a=s.tool_calls)==null?void 0:a.map(o=>({...o,type:"tool_call_chunk",index:void 0,args:JSON.stringify(o.args)}))}),r=new fo(s)}else i=new ds(e);break;case"system":n?r=new Sl(e):i=new fs(e);break;case"developer":n?r=new Sl({...e,additional_kwargs:{...e.additional_kwargs,__openai_role__:"developer"}}):i=new fs({...e,additional_kwargs:{...e.additional_kwargs,__openai_role__:"developer"}});break;case"tool":if("tool_call_id"in e)n?r=new cg(e):i=new Ff(e);else throw new Error("Can not convert ToolMessage to ToolMessageChunk if 'tool_call_id' field is not defined.");break;case"function":if(n)r=new dg(e);else{if(!e.name)throw new Error("FunctionMessage must have a 'name' field");i=new bb(e)}break;case"generic":if("role"in e)n?r=new ug(e):i=new tu(e);else throw new Error("Can not convert ChatMessage to ChatMessageChunk if 'role' field is not defined.");break;default:throw new Error(`Unrecognized message type ${t}`)}if(n&&r)return r;if(i)return i;throw new Error(`Unrecognized message type ${t}`)}function wme(t){const e=t.getType();let n;const r=Object.fromEntries(Object.entries(t).filter(([i])=>!["type","tool_call_chunks"].includes(i)&&!i.startsWith("lc_")));if(e in V$&&(n=$C(e,r)),!n)throw new Error(`Unrecognized message chunk class ${e}. Supported classes are ${Object.keys(V$)}`);return n}function W6(t){const e=t.split(`
`);return Promise.resolve([...e.slice(0,-1).map(n=>`${n}
`),e[e.length-1]])}const _me=["tool_call","tool_call_chunk","invalid_tool_call","server_tool_call","server_tool_call_chunk","server_tool_call_result"],Sme=["image","video","audio","text-plain","file"],Eme=["text","reasoning",..._me,...Sme];var jme={};bt(jme,{AIMessage:()=>ds,AIMessageChunk:()=>fo,BaseMessage:()=>uo,BaseMessageChunk:()=>$l,ChatMessage:()=>tu,ChatMessageChunk:()=>ug,FunctionMessage:()=>bb,FunctionMessageChunk:()=>dg,HumanMessage:()=>Sa,HumanMessageChunk:()=>fg,KNOWN_BLOCK_TYPES:()=>Eme,RemoveMessage:()=>l0,SystemMessage:()=>fs,SystemMessageChunk:()=>Sl,ToolMessage:()=>Ff,ToolMessageChunk:()=>cg,_isMessageFieldWithRole:()=>_U,_mergeDicts:()=>Qn,_mergeLists:()=>lg,_mergeObj:()=>bU,_mergeStatus:()=>xU,coerceMessageLikeToMessage:()=>up,convertToChunk:()=>c0,convertToOpenAIImageBlock:()=>uU,convertToProviderContentBlock:()=>vle,defaultTextSplitter:()=>W6,defaultToolCallParser:()=>uC,filterMessages:()=>yme,getBufferString:()=>dC,iife:()=>fce,isAIMessage:()=>xb,isAIMessageChunk:()=>VE,isBase64ContentBlock:()=>iC,isBaseMessage:()=>Go,isBaseMessageChunk:()=>lC,isChatMessage:()=>rce,isChatMessageChunk:()=>ice,isDataContentBlock:()=>_l,isDirectToolOutput:()=>TU,isFunctionMessage:()=>ace,isFunctionMessageChunk:()=>sce,isHumanMessage:()=>oce,isHumanMessageChunk:()=>lce,isIDContentBlock:()=>cU,isMessage:()=>vU,isOpenAIToolCallArray:()=>Gle,isPlainTextContentBlock:()=>gle,isSystemMessage:()=>cce,isSystemMessageChunk:()=>uce,isToolMessage:()=>kU,isToolMessageChunk:()=>CU,isURLContentBlock:()=>rC,mapChatMessagesToStoredMessages:()=>yce,mapStoredMessageToChatMessage:()=>fC,mapStoredMessagesToChatMessages:()=>gce,mergeContent:()=>no,mergeMessageRuns:()=>vme,mergeResponseMetadata:()=>EU,mergeUsageMetadata:()=>AU,parseBase64DataUrl:()=>UE,parseMimeType:()=>yle,trimMessages:()=>xme});var Ame={};bt(Ame,{BasePromptValue:()=>Cb,ChatPromptValue:()=>G6,ImagePromptValue:()=>Tme,StringPromptValue:()=>q6});var Cb=class extends Gd{},q6=class extends Cb{constructor(e){super({value:e});H(this,"lc_namespace",["langchain_core","prompt_values"]);H(this,"lc_serializable",!0);H(this,"value");this.value=e}static lc_name(){return"StringPromptValue"}toString(){return this.value}toChatMessages(){return[new Sa(this.value)]}},G6=class extends Cb{constructor(e){Array.isArray(e)&&(e={messages:e});super(e);H(this,"lc_namespace",["langchain_core","prompt_values"]);H(this,"lc_serializable",!0);H(this,"messages");this.messages=e.messages}static lc_name(){return"ChatPromptValue"}toString(){return dC(this.messages)}toChatMessages(){return this.messages}},Tme=class extends Cb{constructor(e){"imageUrl"in e||(e={imageUrl:e});super(e);H(this,"lc_namespace",["langchain_core","prompt_values"]);H(this,"lc_serializable",!0);H(this,"imageUrl");H(this,"value");this.imageUrl=e.imageUrl}static lc_name(){return"ImagePromptValue"}toString(){return this.imageUrl.url}toChatMessages(){return[new Sa({content:[{type:"image_url",image_url:{detail:this.imageUrl.detail,url:this.imageUrl.url}}]})]}},Ae="0123456789abcdef".split(""),kme=[-2147483648,8388608,32768,128],qi=[24,16,8,0],_y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],On=[];function ja(t,e){e?(On[0]=On[16]=On[1]=On[2]=On[3]=On[4]=On[5]=On[6]=On[7]=On[8]=On[9]=On[10]=On[11]=On[12]=On[13]=On[14]=On[15]=0,this.blocks=On):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}ja.prototype.update=function(t){if(!this.finalized){var e,n=typeof t;if(n!=="string"){if(n==="object"){if(t===null)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}else throw new Error(ERROR);e=!0}for(var r,i=0,a,s=t.length,o=this.blocks;i<s;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,this.block=o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),e)for(a=this.start;i<s&&a<64;++i)o[a>>>2]|=t[i]<<qi[a++&3];else for(a=this.start;i<s&&a<64;++i)r=t.charCodeAt(i),r<128?o[a>>>2]|=r<<qi[a++&3]:r<2048?(o[a>>>2]|=(192|r>>>6)<<qi[a++&3],o[a>>>2]|=(128|r&63)<<qi[a++&3]):r<55296||r>=57344?(o[a>>>2]|=(224|r>>>12)<<qi[a++&3],o[a>>>2]|=(128|r>>>6&63)<<qi[a++&3],o[a>>>2]|=(128|r&63)<<qi[a++&3]):(r=65536+((r&1023)<<10|t.charCodeAt(++i)&1023),o[a>>>2]|=(240|r>>>18)<<qi[a++&3],o[a>>>2]|=(128|r>>>12&63)<<qi[a++&3],o[a>>>2]|=(128|r>>>6&63)<<qi[a++&3],o[a>>>2]|=(128|r&63)<<qi[a++&3]);this.lastByteIndex=a,this.bytes+=a-this.start,a>=64?(this.block=o[16],this.start=a-64,this.hash(),this.hashed=!0):this.start=a}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}};ja.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>>2]|=kme[e&3],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}};ja.prototype.hash=function(){var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,a=this.h5,s=this.h6,o=this.h7,l=this.blocks,c,d,f,h,p,m,g,x,b,v,y;for(c=16;c<64;++c)p=l[c-15],d=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3,p=l[c-2],f=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,l[c]=l[c-16]+d+l[c-7]+f<<0;for(y=e&n,c=0;c<64;c+=4)this.first?(this.is224?(x=300032,p=l[0]-1413257819,o=p-150054599<<0,r=p+24177077<<0):(x=704751109,p=l[0]-210244248,o=p-1521486534<<0,r=p+143694565<<0),this.first=!1):(d=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),f=(i>>>6|i<<26)^(i>>>11|i<<21)^(i>>>25|i<<7),x=t&e,h=x^t&n^y,g=i&a^~i&s,p=o+f+g+_y[c]+l[c],m=d+h,o=r+p<<0,r=p+m<<0),d=(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10),f=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7),b=r&t,h=b^r&e^x,g=s&o^~s&i,p=a+f+g+_y[c+1]+l[c+1],m=d+h,s=n+p<<0,n=p+m<<0,d=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),f=(s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7),v=n&r,h=v^n&t^b,g=a&s^~a&o,p=i+f+g+_y[c+2]+l[c+2],m=d+h,a=e+p<<0,e=p+m<<0,d=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),f=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7),y=e&n,h=y^e&r^v,g=a&s^~a&o,p=i+f+g+_y[c+3]+l[c+3],m=d+h,i=t+p<<0,t=p+m<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0,this.h4=this.h4+i<<0,this.h5=this.h5+a<<0,this.h6=this.h6+s<<0,this.h7=this.h7+o<<0};ja.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,a=this.h5,s=this.h6,o=this.h7,l=Ae[t>>>28&15]+Ae[t>>>24&15]+Ae[t>>>20&15]+Ae[t>>>16&15]+Ae[t>>>12&15]+Ae[t>>>8&15]+Ae[t>>>4&15]+Ae[t&15]+Ae[e>>>28&15]+Ae[e>>>24&15]+Ae[e>>>20&15]+Ae[e>>>16&15]+Ae[e>>>12&15]+Ae[e>>>8&15]+Ae[e>>>4&15]+Ae[e&15]+Ae[n>>>28&15]+Ae[n>>>24&15]+Ae[n>>>20&15]+Ae[n>>>16&15]+Ae[n>>>12&15]+Ae[n>>>8&15]+Ae[n>>>4&15]+Ae[n&15]+Ae[r>>>28&15]+Ae[r>>>24&15]+Ae[r>>>20&15]+Ae[r>>>16&15]+Ae[r>>>12&15]+Ae[r>>>8&15]+Ae[r>>>4&15]+Ae[r&15]+Ae[i>>>28&15]+Ae[i>>>24&15]+Ae[i>>>20&15]+Ae[i>>>16&15]+Ae[i>>>12&15]+Ae[i>>>8&15]+Ae[i>>>4&15]+Ae[i&15]+Ae[a>>>28&15]+Ae[a>>>24&15]+Ae[a>>>20&15]+Ae[a>>>16&15]+Ae[a>>>12&15]+Ae[a>>>8&15]+Ae[a>>>4&15]+Ae[a&15]+Ae[s>>>28&15]+Ae[s>>>24&15]+Ae[s>>>20&15]+Ae[s>>>16&15]+Ae[s>>>12&15]+Ae[s>>>8&15]+Ae[s>>>4&15]+Ae[s&15];return this.is224||(l+=Ae[o>>>28&15]+Ae[o>>>24&15]+Ae[o>>>20&15]+Ae[o>>>16&15]+Ae[o>>>12&15]+Ae[o>>>8&15]+Ae[o>>>4&15]+Ae[o&15]),l};ja.prototype.toString=ja.prototype.hex;ja.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,a=this.h5,s=this.h6,o=this.h7,l=[t>>>24&255,t>>>16&255,t>>>8&255,t&255,e>>>24&255,e>>>16&255,e>>>8&255,e&255,n>>>24&255,n>>>16&255,n>>>8&255,n&255,r>>>24&255,r>>>16&255,r>>>8&255,r&255,i>>>24&255,i>>>16&255,i>>>8&255,i&255,a>>>24&255,a>>>16&255,a>>>8&255,a&255,s>>>24&255,s>>>16&255,s>>>8&255,s&255];return this.is224||l.push(o>>>24&255,o>>>16&255,o>>>8&255,o&255),l};ja.prototype.array=ja.prototype.digest;ja.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t};const K6=(...t)=>new ja(!1,!0).update(t.join("")).hex();var Cme={};bt(Cme,{sha256:()=>K6});var Ome={};bt(Ome,{BaseCache:()=>X6,InMemoryCache:()=>Z6,defaultHashKeyEncoder:()=>Y6,deserializeStoredGeneration:()=>Nme,serializeGeneration:()=>Pme});const Y6=(...t)=>K6(t.join("_"));function Nme(t){return t.message!==void 0?{text:t.text,message:fC(t.message)}:{text:t.text}}function Pme(t){const e={text:t.text};return t.message!==void 0&&(e.message=t.message.toDict()),e}var X6=class{constructor(){H(this,"keyEncoder",Y6)}makeDefaultKeyEncoder(t){this.keyEncoder=t}};const Ime=new Map;var Z6=class J6 extends X6{constructor(n){super();H(this,"cache");this.cache=n??new Map}lookup(n,r){return Promise.resolve(this.cache.get(this.keyEncoder(n,r))??null)}async update(n,r,i){this.cache.set(this.keyEncoder(n,r),i)}static global(){return new J6(Ime)}},Ob={};Ob.byteLength=Mme;Ob.toByteArray=Lme;Ob.fromByteArray=zme;var Ga=[],bi=[],$me=typeof Uint8Array<"u"?Uint8Array:Array,c1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var _u=0,Rme=c1.length;_u<Rme;++_u)Ga[_u]=c1[_u],bi[c1.charCodeAt(_u)]=_u;bi[45]=62;bi[95]=63;function Q6(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function Mme(t){var e=Q6(t),n=e[0],r=e[1];return(n+r)*3/4-r}function Dme(t,e,n){return(e+n)*3/4-n}function Lme(t){var e,n=Q6(t),r=n[0],i=n[1],a=new $me(Dme(t,r,i)),s=0,o=i>0?r-4:r,l;for(l=0;l<o;l+=4)e=bi[t.charCodeAt(l)]<<18|bi[t.charCodeAt(l+1)]<<12|bi[t.charCodeAt(l+2)]<<6|bi[t.charCodeAt(l+3)],a[s++]=e>>16&255,a[s++]=e>>8&255,a[s++]=e&255;return i===2&&(e=bi[t.charCodeAt(l)]<<2|bi[t.charCodeAt(l+1)]>>4,a[s++]=e&255),i===1&&(e=bi[t.charCodeAt(l)]<<10|bi[t.charCodeAt(l+1)]<<4|bi[t.charCodeAt(l+2)]>>2,a[s++]=e>>8&255,a[s++]=e&255),a}function Fme(t){return Ga[t>>18&63]+Ga[t>>12&63]+Ga[t>>6&63]+Ga[t&63]}function Bme(t,e,n){for(var r,i=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(t[a+2]&255),i.push(Fme(r));return i.join("")}function zme(t){for(var e,n=t.length,r=n%3,i=[],a=16383,s=0,o=n-r;s<o;s+=a)i.push(Bme(t,s,s+a>o?o:s+a));return r===1?(e=t[n-1],i.push(Ga[e>>2]+Ga[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Ga[e>>10]+Ga[e>>4&63]+Ga[e<<2&63]+"=")),i.join("")}var Ume=Object.defineProperty,Hme=(t,e,n)=>e in t?Ume(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vme=(t,e,n)=>(Hme(t,e+"",n),n);function Wme(t,e){let n=Array.from({length:t.length},(r,i)=>({start:i,end:i+1}));for(;n.length>1;){let r=null;for(let i=0;i<n.length-1;i++){const a=t.slice(n[i].start,n[i+1].end),s=e.get(a.join(","));s!=null&&(r==null||s<r[0])&&(r=[s,i])}if(r!=null){const i=r[1];n[i]={start:n[i].start,end:n[i+1].end},n.splice(i+1,1)}else break}return n}function qme(t,e){return t.length===1?[e.get(t.join(","))]:Wme(t,e).map(n=>e.get(t.slice(n.start,n.end).join(","))).filter(n=>n!=null)}function Gme(t){return t.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}var uj=class{constructor(t,e){H(this,"specialTokens");H(this,"inverseSpecialTokens");H(this,"patStr");H(this,"textEncoder",new TextEncoder);H(this,"textDecoder",new TextDecoder("utf-8"));H(this,"rankMap",new Map);H(this,"textMap",new Map);this.patStr=t.pat_str;const n=t.bpe_ranks.split(`
`).filter(Boolean).reduce((r,i)=>{const[a,s,...o]=i.split(" "),l=Number.parseInt(s,10);return o.forEach((c,d)=>r[c]=l+d),r},{});for(const[r,i]of Object.entries(n)){const a=Ob.toByteArray(r);this.rankMap.set(a.join(","),i),this.textMap.set(i,a)}this.specialTokens={...t.special_tokens,...e},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((r,[i,a])=>(r[a]=this.textEncoder.encode(i),r),{})}encode(t,e=[],n="all"){const r=new RegExp(this.patStr,"ug"),i=uj.specialTokenRegex(Object.keys(this.specialTokens)),a=[],s=new Set(e==="all"?Object.keys(this.specialTokens):e),o=new Set(n==="all"?Object.keys(this.specialTokens).filter(c=>!s.has(c)):n);if(o.size>0){const c=uj.specialTokenRegex([...o]),d=t.match(c);if(d!=null)throw new Error(`The text contains a special token that is not allowed: ${d[0]}`)}let l=0;for(;;){let c=null,d=l;for(;i.lastIndex=d,c=i.exec(t),!(c==null||s.has(c[0]));)d=c.index+1;const f=(c==null?void 0:c.index)??t.length;for(const p of t.substring(l,f).matchAll(r)){const m=this.textEncoder.encode(p[0]),g=this.rankMap.get(m.join(","));if(g!=null){a.push(g);continue}a.push(...qme(m,this.rankMap))}if(c==null)break;let h=this.specialTokens[c[0]];a.push(h),l=c.index+c[0].length}return a}decode(t){const e=[];let n=0;for(let a=0;a<t.length;++a){const s=t[a],o=this.textMap.get(s)??this.inverseSpecialTokens[s];o!=null&&(e.push(o),n+=o.length)}const r=new Uint8Array(n);let i=0;for(const a of e)r.set(a,i),i+=a.length;return this.textDecoder.decode(r)}},e8=uj;Vme(e8,"specialTokenRegex",t=>new RegExp(t.map(e=>Gme(e)).join("|"),"g"));function Kme(t){switch(t){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":case"text-embedding-3-small":case"text-embedding-3-large":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":case"gpt-4o-2024-11-20":case"gpt-4o-mini-2024-07-18":case"gpt-4o-mini":case"gpt-4o-search-preview":case"gpt-4o-search-preview-2025-03-11":case"gpt-4o-mini-search-preview":case"gpt-4o-mini-search-preview-2025-03-11":case"gpt-4o-audio-preview":case"gpt-4o-audio-preview-2024-12-17":case"gpt-4o-audio-preview-2024-10-01":case"gpt-4o-mini-audio-preview":case"gpt-4o-mini-audio-preview-2024-12-17":case"o1":case"o1-2024-12-17":case"o1-mini":case"o1-mini-2024-09-12":case"o1-preview":case"o1-preview-2024-09-12":case"o1-pro":case"o1-pro-2025-03-19":case"o3":case"o3-2025-04-16":case"o3-mini":case"o3-mini-2025-01-31":case"o4-mini":case"o4-mini-2025-04-16":case"chatgpt-4o-latest":case"gpt-4o-realtime":case"gpt-4o-realtime-preview-2024-10-01":case"gpt-4o-realtime-preview-2024-12-17":case"gpt-4o-mini-realtime-preview":case"gpt-4o-mini-realtime-preview-2024-12-17":case"gpt-4.1":case"gpt-4.1-2025-04-14":case"gpt-4.1-mini":case"gpt-4.1-mini-2025-04-14":case"gpt-4.1-nano":case"gpt-4.1-nano-2025-04-14":case"gpt-4.5-preview":case"gpt-4.5-preview-2025-02-27":case"gpt-5":case"gpt-5-2025-08-07":case"gpt-5-nano":case"gpt-5-nano-2025-08-07":case"gpt-5-mini":case"gpt-5-mini-2025-08-07":case"gpt-5-chat-latest":return"o200k_base";default:throw new Error("Unknown model")}}var Yme={};bt(Yme,{encodingForModel:()=>RC,getEncoding:()=>t8});const Sy={},Xme=new kb({});async function t8(t){return t in Sy||(Sy[t]=Xme.fetch(`https://tiktoken.pages.dev/js/${t}.json`).then(e=>e.json()).then(e=>new e8(e)).catch(e=>{throw delete Sy[t],e})),await Sy[t]}async function RC(t){return t8(Kme(t))}var Zme={};bt(Zme,{BaseLangChain:()=>r8,BaseLanguageModel:()=>i8,calculateMaxTokens:()=>ege,getEmbeddingContextSize:()=>Jme,getModelContextSize:()=>n8,getModelNameForTiktoken:()=>Nb,isOpenAITool:()=>Qme});const Nb=t=>t.startsWith("gpt-5")?"gpt-5":t.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":t.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":t.startsWith("gpt-4-32k")?"gpt-4-32k":t.startsWith("gpt-4-")?"gpt-4":t.startsWith("gpt-4o")?"gpt-4o":t,Jme=t=>{switch(t){case"text-embedding-ada-002":return 8191;default:return 2046}},n8=t=>{switch(Nb(t)){case"gpt-5":case"gpt-5-turbo":case"gpt-5-turbo-preview":return 4e5;case"gpt-4o":case"gpt-4o-mini":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":return 128e3;case"gpt-4-turbo":case"gpt-4-turbo-preview":case"gpt-4-turbo-2024-04-09":case"gpt-4-0125-preview":case"gpt-4-1106-preview":return 128e3;case"gpt-4-32k":case"gpt-4-32k-0314":case"gpt-4-32k-0613":return 32768;case"gpt-4":case"gpt-4-0314":case"gpt-4-0613":return 8192;case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-16k-0613":return 16384;case"gpt-3.5-turbo":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-1106":case"gpt-3.5-turbo-0125":return 4096;case"text-davinci-003":case"text-davinci-002":return 4097;case"text-davinci-001":return 2049;case"text-curie-001":case"text-babbage-001":case"text-ada-001":return 2048;case"code-davinci-002":case"code-davinci-001":return 8e3;case"code-cushman-001":return 2048;case"claude-3-5-sonnet-20241022":case"claude-3-5-sonnet-20240620":case"claude-3-opus-20240229":case"claude-3-sonnet-20240229":case"claude-3-haiku-20240307":case"claude-2.1":return 2e5;case"claude-2.0":case"claude-instant-1.2":return 1e5;case"gemini-1.5-pro":case"gemini-1.5-pro-latest":case"gemini-1.5-flash":case"gemini-1.5-flash-latest":return 1e6;case"gemini-pro":case"gemini-pro-vision":return 32768;default:return 4097}};function Qme(t){return typeof t!="object"||!t?!1:!!("type"in t&&t.type==="function"&&"function"in t&&typeof t.function=="object"&&t.function&&"name"in t.function&&"parameters"in t.function)}const ege=async({prompt:t,modelName:e})=>{let n;try{n=(await RC(Nb(e))).encode(t).length}catch{console.warn("Failed to calculate number of tokens, falling back to approximate count"),n=Math.ceil(t.length/4)}return n8(e)-n},tge=()=>!1;var r8=class extends hn{constructor(e){super(e);H(this,"verbose");H(this,"callbacks");H(this,"tags");H(this,"metadata");this.verbose=e.verbose??tge(),this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}get lc_attributes(){return{callbacks:void 0,verbose:void 0}}},i8=class extends r8{constructor({callbacks:e,callbackManager:n,...r}){const{cache:i,...a}=r;super({callbacks:e??n,...a});H(this,"caller");H(this,"cache");H(this,"_encoding");typeof i=="object"?this.cache=i:i?this.cache=Z6.global():this.cache=void 0,this.caller=new kb(r??{})}get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}async getNumTokens(e){let n;typeof e=="string"?n=e:n=e.map(i=>typeof i=="string"?i:i.type==="text"&&"text"in i?i.text:"").join("");let r=Math.ceil(n.length/4);if(!this._encoding)try{this._encoding=await RC("modelName"in this?Nb(this.modelName):"gpt2")}catch(i){console.warn("Failed to calculate number of tokens, falling back to approximate count",i)}if(this._encoding)try{r=this._encoding.encode(n).length}catch(i){console.warn("Failed to calculate number of tokens, falling back to approximate count",i)}return r}static _convertInputToPromptValue(e){return typeof e=="string"?new q6(e):Array.isArray(e)?new G6(e.map(up)):e}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall({config:e,...n}){const r={...this._identifyingParams(),...n,_type:this._llmType(),_model:this._modelType()};return Object.entries(r).filter(([s,o])=>o!==void 0).map(([s,o])=>`${s}:${JSON.stringify(o)}`).sort().join(",")}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){throw new Error("Use .toJSON() instead")}get profile(){return{}}},Zd=class extends hn{constructor(e){super(e);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"lc_serializable",!0);H(this,"func");e&&(this.func=e.func)}static lc_name(){return"RunnablePassthrough"}async invoke(e,n){const r=pt(n);return this.func&&await this.func(e,r),this._callWithConfig(i=>Promise.resolve(i),e,r)}async*transform(e,n){const r=pt(n);let i,a=!0;for await(const s of this._transformStreamWithConfig(e,o=>o,r))if(yield s,a)if(i===void 0)i=s;else try{i=Bc(i,s)}catch{i=void 0,a=!1}this.func&&i!==void 0&&await this.func(i,r)}static assign(e){return new IC(new Uf({steps:e}))}};const nge=t=>t();function u1(t){const e=t.constructor;return new e({...t,content:t.contentBlocks,response_metadata:{...t.response_metadata,output_version:"v1"}})}var rge={};bt(rge,{BaseChatModel:()=>MC,SimpleChatModel:()=>ige});function d1(t){const e=[];for(const n of t){let r=n;if(Array.isArray(n.content))for(let i=0;i<n.content.length;i++){const a=n.content[i];(rC(a)||iC(a))&&r===n&&(r=new n.constructor({...r,content:[...n.content.slice(0,i),uU(a),...n.content.slice(i+1)]}))}e.push(r)}return e}var MC=class tc extends i8{constructor(n){super(n);H(this,"lc_namespace",["langchain","chat_models",this._llmType()]);H(this,"disableStreaming",!1);H(this,"outputVersion");this.outputVersion=nge(()=>{const r=n.outputVersion??Bs("LC_OUTPUT_VERSION");return r&&["v0","v1"].includes(r)?r:"v0"})}get callKeys(){return[...super.callKeys,"outputVersion"]}_separateRunnableConfigFromCallOptionsCompat(n){const[r,i]=super._separateRunnableConfigFromCallOptions(n);return i.signal=r.signal,[r,i]}async invoke(n,r){const i=tc._convertInputToPromptValue(n);return(await this.generatePrompt([i],r,r==null?void 0:r.callbacks)).generations[0][0].message}async*_streamResponseChunks(n,r,i){throw new Error("Not implemented.")}async*_streamIterator(n,r){var i;if(this._streamResponseChunks===tc.prototype._streamResponseChunks||this.disableStreaming)yield this.invoke(n,r);else{const s=tc._convertInputToPromptValue(n).toChatMessages(),[o,l]=this._separateRunnableConfigFromCallOptionsCompat(r),c={...o.metadata,...this.getLsParams(l)},d=await as.configure(o.callbacks,this.callbacks,o.tags,this.tags,c,this.metadata,{verbose:this.verbose}),f={options:l,invocation_params:this==null?void 0:this.invocationParams(l),batch_size:1},h=l.outputVersion??this.outputVersion,p=await(d==null?void 0:d.handleChatModelStart(this.toJSON(),[d1(s)],o.runId,void 0,f,void 0,void 0,o.runName));let m,g;try{for await(const x of this._streamResponseChunks(s,l,p==null?void 0:p[0])){if(x.message.id==null){const b=(i=p==null?void 0:p.at(0))==null?void 0:i.runId;b!=null&&x.message._updateId(`run-${b}`)}x.message.response_metadata={...x.generationInfo,...x.message.response_metadata},h==="v1"?yield u1(x.message):yield x.message,m?m=m.concat(x):m=x,VE(x.message)&&x.message.usage_metadata!==void 0&&(g={tokenUsage:{promptTokens:x.message.usage_metadata.input_tokens,completionTokens:x.message.usage_metadata.output_tokens,totalTokens:x.message.usage_metadata.total_tokens}})}}catch(x){throw await Promise.all((p??[]).map(b=>b==null?void 0:b.handleLLMError(x))),x}await Promise.all((p??[]).map(x=>x==null?void 0:x.handleLLMEnd({generations:[[m]],llmOutput:g})))}}getLsParams(n){const r=this.getName().startsWith("Chat")?this.getName().replace("Chat",""):this.getName();return{ls_model_type:"chat",ls_stop:n.stop,ls_provider:r}}async _generateUncached(n,r,i,a){var p,m;const s=n.map(g=>g.map(up));let o;if(a!==void 0&&a.length===s.length)o=a;else{const g={...i.metadata,...this.getLsParams(r)},x=await as.configure(i.callbacks,this.callbacks,i.tags,this.tags,g,this.metadata,{verbose:this.verbose}),b={options:r,invocation_params:this==null?void 0:this.invocationParams(r),batch_size:1};o=await(x==null?void 0:x.handleChatModelStart(this.toJSON(),s.map(d1),i.runId,void 0,b,void 0,void 0,i.runName))}const l=r.outputVersion??this.outputVersion,c=[],d=[];if(!!(o!=null&&o[0].handlers.find(BU))&&!this.disableStreaming&&s.length===1&&this._streamResponseChunks!==tc.prototype._streamResponseChunks)try{const g=await this._streamResponseChunks(s[0],r,o==null?void 0:o[0]);let x,b;for await(const v of g){if(v.message.id==null){const y=(p=o==null?void 0:o.at(0))==null?void 0:p.runId;y!=null&&v.message._updateId(`run-${y}`)}x===void 0?x=v:x=Bc(x,v),VE(v.message)&&v.message.usage_metadata!==void 0&&(b={tokenUsage:{promptTokens:v.message.usage_metadata.input_tokens,completionTokens:v.message.usage_metadata.output_tokens,totalTokens:v.message.usage_metadata.total_tokens}})}if(x===void 0)throw new Error("Received empty response from chat model call.");c.push([x]),await(o==null?void 0:o[0].handleLLMEnd({generations:c,llmOutput:b}))}catch(g){throw await(o==null?void 0:o[0].handleLLMError(g)),g}else{const g=await Promise.allSettled(s.map(async(x,b)=>{const v=await this._generate(x,{...r,promptIndex:b},o==null?void 0:o[b]);if(l==="v1")for(const y of v.generations)y.message=u1(y.message);return v}));await Promise.all(g.map(async(x,b)=>{var v,y,_;if(x.status==="fulfilled"){const w=x.value;for(const E of w.generations){if(E.message.id==null){const A=(v=o==null?void 0:o.at(0))==null?void 0:v.runId;A!=null&&E.message._updateId(`run-${A}`)}E.message.response_metadata={...E.generationInfo,...E.message.response_metadata}}return w.generations.length===1&&(w.generations[0].message.response_metadata={...w.llmOutput,...w.generations[0].message.response_metadata}),c[b]=w.generations,d[b]=w.llmOutput,(y=o==null?void 0:o[b])==null?void 0:y.handleLLMEnd({generations:[w.generations],llmOutput:w.llmOutput})}else return await((_=o==null?void 0:o[b])==null?void 0:_.handleLLMError(x.reason)),Promise.reject(x.reason)}))}const h={generations:c,llmOutput:d.length?(m=this._combineLLMOutput)==null?void 0:m.call(this,...d):void 0};return Object.defineProperty(h,QE,{value:o?{runIds:o==null?void 0:o.map(g=>g.runId)}:void 0,configurable:!0}),h}async _generateCached({messages:n,cache:r,llmStringKey:i,parsedOptions:a,handledOptions:s}){const o=n.map(v=>v.map(up)),l={...s.metadata,...this.getLsParams(a)},c=await as.configure(s.callbacks,this.callbacks,s.tags,this.tags,l,this.metadata,{verbose:this.verbose}),d={options:a,invocation_params:this==null?void 0:this.invocationParams(a),batch_size:1},f=await(c==null?void 0:c.handleChatModelStart(this.toJSON(),o.map(d1),s.runId,void 0,d,void 0,void 0,s.runName)),h=[],m=(await Promise.allSettled(o.map(async(v,y)=>{const _=tc._convertInputToPromptValue(v).toString(),w=await r.lookup(_,i);return w==null&&h.push(y),w}))).map((v,y)=>({result:v,runManager:f==null?void 0:f[y]})).filter(({result:v})=>v.status==="fulfilled"&&v.value!=null||v.status==="rejected"),g=a.outputVersion??this.outputVersion,x=[];await Promise.all(m.map(async({result:v,runManager:y},_)=>{if(v.status==="fulfilled"){const w=v.value;return x[_]=w.map(E=>("message"in E&&Go(E.message)&&xb(E.message)&&(E.message.usage_metadata={input_tokens:0,output_tokens:0,total_tokens:0},g==="v1"&&(E.message=u1(E.message))),E.generationInfo={...E.generationInfo,tokenUsage:{}},E)),w.length&&await(y==null?void 0:y.handleLLMNewToken(w[0].text)),y==null?void 0:y.handleLLMEnd({generations:[w]},void 0,void 0,void 0,{cached:!0})}else return await(y==null?void 0:y.handleLLMError(v.reason,void 0,void 0,void 0,{cached:!0})),Promise.reject(v.reason)}));const b={generations:x,missingPromptIndices:h,startedRunManagers:f};return Object.defineProperty(b,QE,{value:f?{runIds:f==null?void 0:f.map(v=>v.runId)}:void 0,configurable:!0}),b}async generate(n,r,i){let a;Array.isArray(r)?a={stop:r}:a=r;const s=n.map(g=>g.map(up)),[o,l]=this._separateRunnableConfigFromCallOptionsCompat(a);if(o.callbacks=o.callbacks??i,!this.cache)return this._generateUncached(s,l,o);const{cache:c}=this,d=this._getSerializedCacheKeyParametersForCall(l),{generations:f,missingPromptIndices:h,startedRunManagers:p}=await this._generateCached({messages:s,cache:c,llmStringKey:d,parsedOptions:l,handledOptions:o});let m={};if(h.length>0){const g=await this._generateUncached(h.map(x=>s[x]),l,o,p!==void 0?h.map(x=>p==null?void 0:p[x]):void 0);await Promise.all(g.generations.map(async(x,b)=>{const v=h[b];f[v]=x;const y=tc._convertInputToPromptValue(s[v]).toString();return c.update(y,d,x)})),m=g.llmOutput??{}}return{generations:f,llmOutput:m}}invocationParams(n){return{}}_modelType(){return"base_chat_model"}async generatePrompt(n,r,i){const a=n.map(s=>s.toChatMessages());return this.generate(a,r,i)}withStructuredOutput(n,r){if(typeof this.bindTools!="function")throw new Error('Chat model must implement ".bindTools()" to use withStructuredOutput.');if(r!=null&&r.strict)throw new Error('"strict" mode is not supported for this model by default.');const i=n,a=r==null?void 0:r.name,s=Jk(i)??"A function available to call.",o=r==null?void 0:r.method,l=r==null?void 0:r.includeRaw;if(o==="jsonMode")throw new Error('Base withStructuredOutput implementation only supports "functionCalling" as a method.');let c=a??"extract",d;Dc(i)?d=[{type:"function",function:{name:c,description:s,parameters:wl(i)}}]:("name"in i&&(c=i.name),d=[{type:"function",function:{name:c,description:s,parameters:i}}]);const f=this.bindTools(d),h=Rl.from(x=>{if(!fo.isInstance(x))throw new Error("Input is not an AIMessageChunk.");if(!x.tool_calls||x.tool_calls.length===0)throw new Error("No tool calls found in the response.");const b=x.tool_calls.find(v=>v.name===c);if(!b)throw new Error(`No tool call found with name ${c}.`);return b.args});if(!l)return f.pipe(h).withConfig({runName:"StructuredOutput"});const p=Zd.assign({parsed:(x,b)=>h.invoke(x.raw,b)}),m=Zd.assign({parsed:()=>null}),g=p.withFallbacks({fallbacks:[m]});return gg.from([{raw:f},g]).withConfig({runName:"StructuredOutputRunnable"})}},ige=class extends MC{async _generate(t,e,n){const r=await this._call(t,e,n),i=new ds(r);if(typeof i.content!="string")throw new Error("Cannot generate with a simple chat model when output is not a string.");return{generations:[{text:i.content,message:i}]}}},age={};bt(age,{extendInteropZodObject:()=>wse,getInteropZodDefaultGetter:()=>Sse,getInteropZodObjectShape:()=>$E,getSchemaDescription:()=>Jk,interopParse:()=>vse,interopParseAsync:()=>Zk,interopSafeParse:()=>yse,interopSafeParseAsync:()=>Yz,interopZodObjectMakeFieldsOptional:()=>Ase,interopZodObjectPartial:()=>_se,interopZodObjectPassthrough:()=>RE,interopZodObjectStrict:()=>t0,interopZodTransformInputSchema:()=>Zz,isInteropZodError:()=>Tse,isInteropZodLiteral:()=>gse,isInteropZodObject:()=>bse,isInteropZodSchema:()=>Dc,isShapelessZodSchema:()=>xse,isSimpleStringZodSchema:()=>Xz,isZodArrayV4:()=>yb,isZodLiteralV3:()=>Gz,isZodLiteralV4:()=>Kz,isZodObjectV3:()=>Qk,isZodObjectV4:()=>ns,isZodSchema:()=>mse,isZodSchemaV3:()=>Tn,isZodSchemaV4:()=>pn});const Ru="0.19.0";let W$=!1,mp,a8,s8,dj,o8,l8,c8,u8,d8;function sge(t,e={auto:!1}){if(W$)throw new Error(`you must \`import 'groq-sdk/shims/${t.kind}'\` before importing anything else from groq-sdk`);if(mp)throw new Error(`can't \`import 'groq-sdk/shims/${t.kind}'\` after \`import 'groq-sdk/shims/${mp}'\``);W$=e.auto,mp=t.kind,a8=t.fetch,s8=t.FormData,dj=t.File,o8=t.ReadableStream,l8=t.getMultipartRequestOptions,c8=t.getDefaultAgent,u8=t.fileFromPath,d8=t.isFsReadStream}class oge{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function lge({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from 'groq-sdk'`:\n- `import 'groq-sdk/shims/node'` (if you're running on Node)\n- `import 'groq-sdk/shims/web'` (otherwise)\n";let n,r,i,a;try{n=fetch,r=Request,i=Response,a=Headers}catch(s){throw new Error(`this environment is missing the following Web Fetch API type: ${s.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:i,Headers:a,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(s,o)=>({...o,body:new oge(s)}),getDefaultAgent:s=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/groq/groq-typescript#file-uploads")},isFsReadStream:s=>!1}}const f8=()=>{mp||sge(lge(),{auto:!0})};f8();class ya extends Error{}class er extends ya{constructor(e,n,r,i){super(`${er.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Pb({message:r,cause:pj(n)});const a=n;return e===400?new p8(e,a,r,i):e===401?new m8(e,a,r,i):e===403?new g8(e,a,r,i):e===404?new y8(e,a,r,i):e===409?new v8(e,a,r,i):e===422?new x8(e,a,r,i):e===429?new b8(e,a,r,i):e>=500?new w8(e,a,r,i):new er(e,a,r,i)}}class fj extends er{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Pb extends er{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class h8 extends Pb{constructor({message:e}={}){super({message:e??"Request timed out."})}}class p8 extends er{}class m8 extends er{}class g8 extends er{}class y8 extends er{}class v8 extends er{}class x8 extends er{}class b8 extends er{}class w8 extends er{}class Ju{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;const i=new cge;async function*a(){if(!e.body)throw n.abort(),new ya("Attempted to iterate over a response with no body");const o=new zc,l=q$(e.body);for await(const c of l)for(const d of o.decode(c)){const f=i.decode(d);f&&(yield f)}for(const c of o.flush()){const d=i.decode(c);d&&(yield d)}}async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const l of a())if(!o){if(l.data.startsWith("[DONE]")){o=!0;continue}if(l.event===null||l.event==="error"){let c;try{c=JSON.parse(l.data)}catch(d){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),d}if(c&&c.error)throw new er(c.error.status_code,c.error,c.error.message,void 0);yield c}}o=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{o||n.abort()}}return new Ju(s,n)}static fromReadableStream(e,n){let r=!1;async function*i(){const s=new zc,o=q$(e);for await(const l of o)for(const c of s.decode(l))yield c;for(const l of s.flush())yield l}async function*a(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{for await(const o of i())s||o&&(yield JSON.parse(o));s=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{s||n.abort()}}return new Ju(a,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const s=r.next();e.push(s),n.push(s)}return a.shift()}});return[new Ju(()=>i(e),this.controller),new Ju(()=>i(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new o8({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:a,done:s}=await n.next();if(s)return i.close();const o=r.encode(JSON.stringify(a)+`
`);i.enqueue(o)}catch(a){i.error(a)}},async cancel(){var i;await((i=n.return)==null?void 0:i.call(n))}})}}class cge{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=uge(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}class zc{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let n=this.decodeText(e);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=zc.NEWLINE_CHARS.has(n[n.length-1]||"");let i=n.split(zc.NEWLINE_REGEXP);return i.length===1&&!r?(this.buffer.push(i[0]),[]):(this.buffer.length>0&&(i=[this.buffer.join("")+i[0],...i.slice(1)],this.buffer=[]),r||(this.buffer=[i.pop()||""]),i)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new ya(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new ya(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new ya("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}zc.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]);zc.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function uge(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}function q$(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const _8=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",S8=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Ib(t),Ib=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",dge=t=>S8(t)||_8(t)||d8(t);async function E8(t,e,n){var i;if(t=await t,S8(t))return t;if(_8(t)){const a=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const s=Ib(a)?[await a.arrayBuffer()]:[a];return new dj(s,e,n)}const r=await fge(t);if(e||(e=pge(t)??"unknown_file"),!(n!=null&&n.type)){const a=(i=r[0])==null?void 0:i.type;typeof a=="string"&&(n={...n,type:a})}return new dj(r,e,n)}async function fge(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(Ib(t))e.push(await t.arrayBuffer());else if(mge(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${hge(t)}`);return e}function hge(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function pge(t){var e;return f1(t.name)||f1(t.filename)||((e=f1(t.path))==null?void 0:e.split(/[\\/]/).pop())}const f1=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},mge=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",G$=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",DC=async t=>{const e=await gge(t.body);return l8(e,t)},gge=async t=>{const e=new s8;return await Promise.all(Object.entries(t||{}).map(([n,r])=>hj(e,n,r))),e},hj=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(dge(n)){const r=await E8(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>hj(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>hj(t,`${e}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var pd={};f8();async function j8(t){var s;const{response:e}=t;if(t.options.stream)return md("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):Ju.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type"),r=(s=n==null?void 0:n.split(";")[0])==null?void 0:s.trim();if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.endsWith("+json"))){const o=await e.json();return md("response",e.status,e.url,e.headers,o),o}const a=await e.text();return md("response",e.status,e.url,e.headers,a),a}class $b extends Promise{constructor(e,n=j8){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new $b(this.responsePromise,async n=>e(await this.parseResponse(n),n))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class yge{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e4,httpAgent:i,fetch:a}){this.baseURL=e,this.maxRetries=h1("maxRetries",n),this.timeout=h1("timeout",r),this.httpAgent=i,this.fetch=a??a8}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),..._ge(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${Cge()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async i=>{const a=i&&Ib(i==null?void 0:i.body)?new DataView(await i.body.arrayBuffer()):(i==null?void 0:i.body)instanceof DataView?i.body:(i==null?void 0:i.body)instanceof ArrayBuffer?new DataView(i.body):i&&ArrayBuffer.isView(i==null?void 0:i.body)?new DataView(i.body.buffer):i==null?void 0:i.body;return{method:e,path:n,...i,body:a}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){var m;e={...e};const{method:r,path:i,query:a,headers:s={}}=e,o=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:G$(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,l=this.calculateContentLength(o),c=this.buildURL(i,a);"timeout"in e&&h1("timeout",e.timeout),e.timeout=e.timeout??this.timeout;const d=e.httpAgent??this.httpAgent??c8(c),f=e.timeout+1e3;typeof((m=d==null?void 0:d.options)==null?void 0:m.timeout)=="number"&&f>(d.options.timeout??0)&&(d.options.timeout=f),this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const h=this.buildHeaders({options:e,headers:s,contentLength:l,retryCount:n});return{req:{method:r,...o&&{body:o},headers:h,...d&&{agent:d},signal:e.signal??null},url:c,timeout:e.timeout}}buildHeaders({options:e,headers:n,contentLength:r,retryCount:i}){const a={};r&&(a["content-length"]=r);const s=this.defaultHeaders(e);return J$(a,s),J$(a,n),G$(e.body)&&mp!=="node"&&delete a["content-type"],Ey(s,"x-stainless-retry-count")===void 0&&Ey(n,"x-stainless-retry-count")===void 0&&(a["x-stainless-retry-count"]=String(i)),Ey(s,"x-stainless-timeout")===void 0&&Ey(n,"x-stainless-timeout")===void 0&&e.timeout&&(a["x-stainless-timeout"]=String(e.timeout)),this.validateHeaders(a,n),a}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,i){return er.generate(e,n,r,i)}request(e,n=null){return new $b(this.makeRequest(e,n))}async makeRequest(e,n){var f,h;const r=await e,i=r.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(r);const{req:a,url:s,timeout:o}=this.buildRequest(r,{retryCount:i-n});if(await this.prepareRequest(a,{url:s,options:r}),md("request",s,r,a.headers),(f=r.signal)!=null&&f.aborted)throw new fj;const l=new AbortController,c=await this.fetchWithTimeout(s,a,o,l).catch(pj);if(c instanceof Error){if((h=r.signal)!=null&&h.aborted)throw new fj;if(n)return this.retryRequest(r,n);throw c.name==="AbortError"?new h8:new Pb({cause:c})}const d=xge(c.headers);if(!c.ok){if(n&&this.shouldRetry(c)){const v=`retrying, ${n} attempts remaining`;return md(`response (error; ${v})`,c.status,s,d),this.retryRequest(r,n,d)}const p=await c.text().catch(v=>pj(v).message),m=Sge(p),g=m?void 0:p;throw md(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,c.status,s,d,g),this.makeStatusError(c.status,m,g,d)}return{response:c,options:r,controller:l}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new vge(this,r,e)}buildURL(e,n){const r=jge(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return Tge(i)||(n={...i,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new ya(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,i){const{signal:a,...s}=n||{};a&&a.addEventListener("abort",()=>i.abort());const o=setTimeout(()=>i.abort(),r),l={signal:i.signal,...s};return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,e,l).finally(()=>{clearTimeout(o)})}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let i;const a=r==null?void 0:r["retry-after-ms"];if(a){const o=parseFloat(a);Number.isNaN(o)||(i=o)}const s=r==null?void 0:r["retry-after"];if(s&&!i){const o=parseFloat(s);Number.isNaN(o)?i=Date.parse(s)-Date.now():i=o*1e3}if(!(i&&0<=i&&i<60*1e3)){const o=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,o)}return await Age(i),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,s=Math.min(.5*Math.pow(2,a),8),o=1-Math.random()*.25;return s*o*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Ru}`}}class vge extends $b{constructor(e,n,r){super(n,async i=>new r(e,i.response,await j8(i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const xge=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),bge=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ru,"X-Stainless-OS":Y$(Deno.build.os),"X-Stainless-Arch":K$(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ru,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ru,"X-Stainless-OS":Y$(process.platform),"X-Stainless-Arch":K$(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=wge();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ru,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ru,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function wge(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${a}.${s}`}}}return null}const K$=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Y$=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let X$;const _ge=()=>X$??(X$=bge()),Sge=t=>{try{return JSON.parse(t)}catch{return}},Ege=/^[a-z][a-z0-9+.-]*:/i,jge=t=>Ege.test(t),Age=t=>new Promise(e=>setTimeout(e,t)),h1=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ya(`${t} must be an integer`);if(e<0)throw new ya(`${t} must be a positive integer`);return e},pj=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},Z$=t=>{var e,n,r,i;if(typeof process<"u")return((e=pd==null?void 0:pd[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(i=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:i.trim()};function Tge(t){if(!t)return!0;for(const e in t)return!1;return!0}function kge(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function J$(t,e){for(const n in e){if(!kge(e,n))continue;const r=n.toLowerCase();if(!r)continue;const i=e[n];i===null?delete t[r]:i!==void 0&&(t[r]=i)}}function md(t,...e){typeof process<"u"&&(pd==null?void 0:pd.DEBUG)==="true"&&console.log(`Groq:DEBUG:${t}`,...e)}const Cge=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),Oge=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",Nge=t=>typeof(t==null?void 0:t.get)=="function",Ey=(t,e)=>{var r;const n=e.toLowerCase();if(Nge(t)){const i=((r=e[0])==null?void 0:r.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(a,s,o)=>s+o.toUpperCase());for(const a of[e,n,e.toUpperCase(),i]){const s=t.get(a);if(s)return s}}for(const[i,a]of Object.entries(t))if(i.toLowerCase()===n)return Array.isArray(a)?(a.length<=1||console.warn(`Received ${a.length} entries for the ${e} header, using the first entry.`),a[0]):a};class Oa{constructor(e){this._client=e}}class A8 extends Oa{create(e,n){return this._client.post("/openai/v1/audio/speech",{body:e,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class T8 extends Oa{create(e,n){return this._client.post("/openai/v1/audio/transcriptions",DC({body:e,...n}))}}class k8 extends Oa{create(e,n){return this._client.post("/openai/v1/audio/translations",DC({body:e,...n}))}}class yg extends Oa{constructor(){super(...arguments),this.speech=new A8(this._client),this.transcriptions=new T8(this._client),this.translations=new k8(this._client)}}yg.Speech=A8;yg.Transcriptions=T8;yg.Translations=k8;class C8 extends Oa{create(e,n){return this._client.post("/openai/v1/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/openai/v1/batches/${e}`,n)}list(e){return this._client.get("/openai/v1/batches",e)}cancel(e,n){return this._client.post(`/openai/v1/batches/${e}/cancel`,n)}}let O8=class extends Oa{create(e,n){return this._client.post("/openai/v1/chat/completions",{body:e,...n,stream:e.stream??!1})}};class LC extends Oa{constructor(){super(...arguments),this.completions=new O8(this._client)}}LC.Completions=O8;class N8 extends Oa{}class P8 extends Oa{create(e,n){return this._client.post("/openai/v1/embeddings",{body:e,...n})}}class I8 extends Oa{create(e,n){return this._client.post("/openai/v1/files",DC({body:e,...n}))}list(e){return this._client.get("/openai/v1/files",e)}delete(e,n){return this._client.delete(`/openai/v1/files/${e}`,n)}content(e,n){return this._client.get(`/openai/v1/files/${e}/content`,n)}info(e,n){return this._client.get(`/openai/v1/files/${e}`,n)}}class $8 extends Oa{retrieve(e,n){return this._client.get(`/openai/v1/models/${e}`,n)}list(e){return this._client.get("/openai/v1/models",e)}delete(e,n){return this._client.delete(`/openai/v1/models/${e}`,n)}}var R8;class Rt extends yge{constructor({baseURL:e=Z$("GROQ_BASE_URL"),apiKey:n=Z$("GROQ_API_KEY"),...r}={}){if(n===void 0)throw new ya("The GROQ_API_KEY environment variable is missing or empty; either provide it, or instantiate the Groq client with an apiKey option, like new Groq({ apiKey: 'My API Key' }).");const i={apiKey:n,...r,baseURL:e||"https://api.groq.com"};if(!i.dangerouslyAllowBrowser&&Oge())throw new ya(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Groq({ apiKey, dangerouslyAllowBrowser: true })`);super({baseURL:i.baseURL,timeout:i.timeout??6e4,httpAgent:i.httpAgent,maxRetries:i.maxRetries,fetch:i.fetch}),this.completions=new N8(this),this.chat=new LC(this),this.embeddings=new P8(this),this.audio=new yg(this),this.models=new $8(this),this.batches=new C8(this),this.files=new I8(this),this._options=i,this.apiKey=n}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}}R8=Rt;Rt.Groq=R8;Rt.DEFAULT_TIMEOUT=6e4;Rt.GroqError=ya;Rt.APIError=er;Rt.APIConnectionError=Pb;Rt.APIConnectionTimeoutError=h8;Rt.APIUserAbortError=fj;Rt.NotFoundError=y8;Rt.ConflictError=v8;Rt.RateLimitError=b8;Rt.BadRequestError=p8;Rt.AuthenticationError=m8;Rt.InternalServerError=w8;Rt.PermissionDeniedError=g8;Rt.UnprocessableEntityError=x8;Rt.toFile=E8;Rt.fileFromPath=u8;Rt.Completions=N8;Rt.Chat=LC;Rt.Embeddings=P8;Rt.Audio=yg;Rt.Models=$8;Rt.Batches=C8;Rt.Files=I8;var Pge=class extends hn{constructor(e){super(e);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"lc_serializable",!0);H(this,"runnables");this.runnables=e.runnables}static lc_name(){return"RouterRunnable"}async invoke(e,n){const{key:r,input:i}=e,a=this.runnables[r];if(a===void 0)throw new Error(`No runnable associated with key "${r}".`);return a.invoke(i,pt(n))}async batch(e,n,r){var h;const i=e.map(p=>p.key),a=e.map(p=>p.input);if(i.find(p=>this.runnables[p]===void 0)!==void 0)throw new Error("One or more keys do not have a corresponding runnable.");const o=i.map(p=>this.runnables[p]),l=this._getOptionsList(n??{},e.length),c=((h=l[0])==null?void 0:h.maxConcurrency)??(r==null?void 0:r.maxConcurrency),d=c&&c>0?c:e.length,f=[];for(let p=0;p<a.length;p+=d){const m=a.slice(p,p+d).map((x,b)=>o[b].invoke(x,l[b])),g=await Promise.all(m);f.push(g)}return f.flat()}async stream(e,n){const{key:r,input:i}=e,a=this.runnables[r];if(a===void 0)throw new Error(`No runnable associated with key "${r}".`);return a.stream(i,n)}},Ige=class extends hn{constructor(e){super(e);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"lc_serializable",!0);H(this,"default");H(this,"branches");this.branches=e.branches,this.default=e.default}static lc_name(){return"RunnableBranch"}static from(e){if(e.length<1)throw new Error("RunnableBranch requires at least one branch");const r=e.slice(0,-1).map(([a,s])=>[ca(a),ca(s)]),i=ca(e[e.length-1]);return new this({branches:r,default:i})}async _invoke(e,n,r){let i;for(let a=0;a<this.branches.length;a+=1){const[s,o]=this.branches[a];if(await s.invoke(e,Zt(n,{callbacks:r==null?void 0:r.getChild(`condition:${a+1}`)}))){i=await o.invoke(e,Zt(n,{callbacks:r==null?void 0:r.getChild(`branch:${a+1}`)}));break}}return i||(i=await this.default.invoke(e,Zt(n,{callbacks:r==null?void 0:r.getChild("branch:default")}))),i}async invoke(e,n={}){return this._callWithConfig(this._invoke,e,n)}async*_streamIterator(e,n){const r=await ii(n),i=await(r==null?void 0:r.handleChainStart(this.toJSON(),_n(e,"input"),n==null?void 0:n.runId,void 0,void 0,void 0,n==null?void 0:n.runName));let a,s=!0,o;try{for(let l=0;l<this.branches.length;l+=1){const[c,d]=this.branches[l];if(await c.invoke(e,Zt(n,{callbacks:i==null?void 0:i.getChild(`condition:${l+1}`)}))){o=await d.stream(e,Zt(n,{callbacks:i==null?void 0:i.getChild(`branch:${l+1}`)}));for await(const h of o)if(yield h,s)if(a===void 0)a=h;else try{a=Bc(a,h)}catch{a=void 0,s=!1}break}}if(o===void 0){o=await this.default.stream(e,Zt(n,{callbacks:i==null?void 0:i.getChild("branch:default")}));for await(const l of o)if(yield l,s)if(a===void 0)a=l;else try{a=Bc(a,l)}catch{a=void 0,s=!1}}}catch(l){throw await(i==null?void 0:i.handleChainError(l)),l}await(i==null?void 0:i.handleChainEnd(a??{}))}},$ge=class extends Xd{constructor(e){let n=Rl.from((s,o)=>this._enterHistory(s,o??{})).withConfig({runName:"loadHistory"});const r=e.historyMessagesKey??e.inputMessagesKey;r&&(n=Zd.assign({[r]:n}).withConfig({runName:"insertHistory"}));const i=n.pipe(e.runnable.withListeners({onEnd:(s,o)=>this._exitHistory(s,o??{})})).withConfig({runName:"RunnableWithMessageHistory"}),a=e.config??{};super({...e,config:a,bound:i});H(this,"runnable");H(this,"inputMessagesKey");H(this,"outputMessagesKey");H(this,"historyMessagesKey");H(this,"getMessageHistory");this.runnable=e.runnable,this.getMessageHistory=e.getMessageHistory,this.inputMessagesKey=e.inputMessagesKey,this.outputMessagesKey=e.outputMessagesKey,this.historyMessagesKey=e.historyMessagesKey}_getInputMessages(e){let n;if(typeof e=="object"&&!Array.isArray(e)&&!Go(e)){let r;this.inputMessagesKey?r=this.inputMessagesKey:Object.keys(e).length===1?r=Object.keys(e)[0]:r="input",Array.isArray(e[r])&&Array.isArray(e[r][0])?n=e[r][0]:n=e[r]}else n=e;if(typeof n=="string")return[new Sa(n)];if(Array.isArray(n))return n;if(Go(n))return[n];throw new Error(`Expected a string, BaseMessage, or array of BaseMessages.
Got ${JSON.stringify(n,null,2)}`)}_getOutputMessages(e){let n;if(!Array.isArray(e)&&!Go(e)&&typeof e!="string"){let r;this.outputMessagesKey!==void 0?r=this.outputMessagesKey:Object.keys(e).length===1?r=Object.keys(e)[0]:r="output",e.generations!==void 0?n=e.generations[0][0].message:n=e[r]}else n=e;if(typeof n=="string")return[new ds(n)];if(Array.isArray(n))return n;if(Go(n))return[n];throw new Error(`Expected a string, BaseMessage, or array of BaseMessages. Received: ${JSON.stringify(n,null,2)}`)}async _enterHistory(e,n){var a;const i=await((a=n==null?void 0:n.configurable)==null?void 0:a.messageHistory).getMessages();return this.historyMessagesKey===void 0?i.concat(this._getInputMessages(e)):i}async _exitHistory(e,n){var l;const r=(l=n.configurable)==null?void 0:l.messageHistory;let i;Array.isArray(e.inputs)&&Array.isArray(e.inputs[0])?i=e.inputs[0]:i=e.inputs;let a=this._getInputMessages(i);if(this.historyMessagesKey===void 0){const c=await r.getMessages();a=a.slice(c.length)}const s=e.outputs;if(!s)throw new Error(`Output values from 'Run' undefined. Run: ${JSON.stringify(e,null,2)}`);const o=this._getOutputMessages(s);await r.addMessages([...a,...o])}async _mergeConfig(...e){const n=await super._mergeConfig(...e);if(!n.configurable||!n.configurable.sessionId){const i={[this.inputMessagesKey??"input"]:"foo"},a={configurable:{sessionId:"123"}};throw new Error(`sessionId is required. Pass it in as part of the config argument to .invoke() or .stream()
eg. chain.invoke(${JSON.stringify(i)}, ${JSON.stringify(a)})`)}const{sessionId:r}=n.configurable;return n.configurable.messageHistory=await this.getMessageHistory(r),n}},Rge={};bt(Rge,{RouterRunnable:()=>Pge,Runnable:()=>hn,RunnableAssign:()=>IC,RunnableBinding:()=>Xd,RunnableBranch:()=>Ige,RunnableEach:()=>fme,RunnableLambda:()=>Rl,RunnableMap:()=>Uf,RunnableParallel:()=>mme,RunnablePassthrough:()=>Zd,RunnablePick:()=>H6,RunnableRetry:()=>PC,RunnableSequence:()=>gg,RunnableToolLike:()=>cj,RunnableWithFallbacks:()=>U6,RunnableWithMessageHistory:()=>$ge,_coerceToRunnable:()=>ca,ensureConfig:()=>pt,getCallbackManagerForConfig:()=>ii,mergeConfigs:()=>ZE,patchConfig:()=>Zt,pickRunnableConfigKeys:()=>Fc,raceWithSignal:()=>io});var M8=class extends hn{parseResultWithPrompt(t,e,n){return this.parseResult(t,n)}_baseMessageToString(t){return typeof t.content=="string"?t.content:this._baseMessageContentToString(t.content)}_baseMessageContentToString(t){return JSON.stringify(t)}async invoke(t,e){return typeof t=="string"?this._callWithConfig(async(n,r)=>this.parseResult([{text:n}],r==null?void 0:r.callbacks),t,{...e,runType:"parser"}):this._callWithConfig(async(n,r)=>this.parseResult([{message:n,text:this._baseMessageToString(n)}],r==null?void 0:r.callbacks),t,{...e,runType:"parser"})}},Rb=class extends M8{parseResult(t,e){return this.parse(t[0].text,e)}async parseWithPrompt(t,e,n){return this.parse(t,n)}_type(){throw new Error("_type not implemented")}},Us=class extends Error{constructor(e,n,r,i=!1){super(e);H(this,"llmOutput");H(this,"observation");H(this,"sendToLLM");if(this.llmOutput=n,this.observation=r,this.sendToLLM=i,i&&(r===void 0||n===void 0))throw new Error("Arguments 'observation' & 'llmOutput' are required if 'sendToLlm' is true");NU(this,"OUTPUT_PARSING_FAILURE")}},vg=class extends Rb{async*_transform(t){for await(const e of t)typeof e=="string"?yield this.parseResult([{text:e}]):yield this.parseResult([{message:e,text:this._baseMessageToString(e)}])}async*transform(t,e){yield*this._transformStreamWithConfig(t,this._transform.bind(this),{...e,runType:"parser"})}},Mb=class extends vg{constructor(e){super(e);H(this,"diff",!1);this.diff=(e==null?void 0:e.diff)??this.diff}async*_transform(e){let n,r;for await(const i of e){if(typeof i!="string"&&typeof i.content!="string")throw new Error("Cannot handle non-string output.");let a;if(lC(i)){if(typeof i.content!="string")throw new Error("Cannot handle non-string message output.");a=new om({message:i,text:i.content})}else if(Go(i)){if(typeof i.content!="string")throw new Error("Cannot handle non-string message output.");a=new om({message:c0(i),text:i.content})}else a=new sm({text:i});r===void 0?r=a:r=r.concat(a);const s=await this.parsePartialResult([r]);s!=null&&!Ec(s,n)&&(this.diff?yield this._diff(n,s):yield s,n=s)}}getFormatInstructions(){return""}},Mge={};bt(Mge,{applyPatch:()=>Yd,compare:()=>kC});var D8=class extends Mb{constructor(){super(...arguments);H(this,"lc_namespace",["langchain_core","output_parsers"]);H(this,"lc_serializable",!0)}static lc_name(){return"JsonOutputParser"}_concatOutputChunks(e,n){return this.diff?super._concatOutputChunks(e,n):n}_diff(e,n){if(n)return e?kC(e,n):[{op:"replace",path:"",value:n}]}async parsePartialResult(e){return HE(e[0].text)}async parse(e){return HE(e,JSON.parse)}getFormatInstructions(){return""}},Dge=class extends vg{constructor(){super(...arguments);H(this,"lc_namespace",["langchain_core","output_parsers","bytes"]);H(this,"lc_serializable",!0);H(this,"textEncoder",new TextEncoder)}static lc_name(){return"BytesOutputParser"}parse(e){return Promise.resolve(this.textEncoder.encode(e))}getFormatInstructions(){return""}},xg=class extends vg{constructor(){super(...arguments);H(this,"re")}async*_transform(e){let n="";for await(const r of e)if(typeof r=="string"?n+=r:n+=r.content,this.re){const i=[...n.matchAll(this.re)];if(i.length>1){let a=0;for(const s of i.slice(0,-1))yield[s[1]],a+=(s.index??0)+s[0].length;n=n.slice(a)}}else{const i=await this.parse(n);if(i.length>1){for(const a of i.slice(0,-1))yield[a];n=i[i.length-1]}}for(const r of await this.parse(n))yield[r]}},Lge=class extends xg{constructor(){super(...arguments);H(this,"lc_namespace",["langchain_core","output_parsers","list"]);H(this,"lc_serializable",!0)}static lc_name(){return"CommaSeparatedListOutputParser"}async parse(e){try{return e.trim().split(",").map(n=>n.trim())}catch{throw new Us(`Could not parse output: ${e}`,e)}}getFormatInstructions(){return"Your response should be a list of comma separated values, eg: `foo, bar, baz`"}},Fge=class extends xg{constructor({length:e,separator:n}){super(...arguments);H(this,"lc_namespace",["langchain_core","output_parsers","list"]);H(this,"length");H(this,"separator");this.length=e,this.separator=n||","}async parse(e){try{const n=e.trim().split(this.separator).map(r=>r.trim());if(this.length!==void 0&&n.length!==this.length)throw new Us(`Incorrect number of items. Expected ${this.length}, got ${n.length}.`);return n}catch(n){throw Object.getPrototypeOf(n)===Us.prototype?n:new Us(`Could not parse output: ${e}`)}}getFormatInstructions(){return`Your response should be a list of ${this.length===void 0?"":`${this.length} `}items separated by "${this.separator}" (eg: \`foo${this.separator} bar${this.separator} baz\`)`}},Bge=class extends xg{constructor(){super(...arguments);H(this,"lc_namespace",["langchain_core","output_parsers","list"]);H(this,"lc_serializable",!0);H(this,"re",/\d+\.\s([^\n]+)/g)}static lc_name(){return"NumberedListOutputParser"}getFormatInstructions(){return`Your response should be a numbered list with each item on a new line. For example: 

1. foo

2. bar

3. baz`}async parse(e){return[...e.matchAll(this.re)??[]].map(n=>n[1])}},zge=class extends xg{constructor(){super(...arguments);H(this,"lc_namespace",["langchain_core","output_parsers","list"]);H(this,"lc_serializable",!0);H(this,"re",/^\s*[-*]\s([^\n]+)$/gm)}static lc_name(){return"NumberedListOutputParser"}getFormatInstructions(){return`Your response should be a numbered list with each item on a new line. For example: 

1. foo

2. bar

3. baz`}async parse(e){return[...e.matchAll(this.re)??[]].map(n=>n[1])}},Uge=class extends vg{constructor(){super(...arguments);H(this,"lc_namespace",["langchain_core","output_parsers","string"]);H(this,"lc_serializable",!0)}static lc_name(){return"StrOutputParser"}parse(e){return Promise.resolve(e)}getFormatInstructions(){return""}_textContentToString(e){return e.text}_imageUrlContentToString(e){throw new Error('Cannot coerce a multimodal "image_url" message part into a string.')}_messageContentToString(e){switch(e.type){case"text":case"text_delta":if("text"in e)return this._textContentToString(e);break;case"image_url":if("image_url"in e)return this._imageUrlContentToString(e);break;default:throw new Error(`Cannot coerce "${e.type}" message part into a string.`)}throw new Error(`Invalid content type: ${e.type}`)}_baseMessageContentToString(e){return e.reduce((n,r)=>n+this._messageContentToString(r),"")}},FC=class extends Rb{constructor(e){super(e);H(this,"lc_namespace",["langchain","output_parsers","structured"]);this.schema=e}static lc_name(){return"StructuredOutputParser"}toJSON(){return this.toJSONNotImplemented()}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){const n=nC(Object.fromEntries(Object.entries(e).map(([r,i])=>[r,tC().describe(i)])));return new this(n)}getFormatInstructions(){return`You must format your output as a JSON value that adheres to a given "JSON Schema" instance.

"JSON Schema" is a declarative language that allows you to annotate and validate JSON documents.

For example, the example "JSON Schema" instance {{"properties": {{"foo": {{"description": "a list of test words", "type": "array", "items": {{"type": "string"}}}}}}, "required": ["foo"]}}
would match an object with one required property, "foo". The "type" property specifies "foo" must be an "array", and the "description" property semantically describes it as "a list of test words". The items within "foo" must be strings.
Thus, the object {{"foo": ["bar", "baz"]}} is a well-formatted instance of this example "JSON Schema". The object {{"properties": {{"foo": ["bar", "baz"]}}}} is not well-formatted.

Your output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!

Here is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:
\`\`\`json
${JSON.stringify(wl(this.schema))}
\`\`\`
`}async parse(e){var n,r;try{const i=e.trim(),s=(((n=i.match(/^```(?:json)?\s*([\s\S]*?)```/))==null?void 0:n[1])||((r=i.match(/```json\s*([\s\S]*?)```/))==null?void 0:r[1])||i).replace(/"([^"\\]*(\\.[^"\\]*)*)"/g,(o,l)=>`"${l.replace(/\n/g,"\\n")}"`).replace(/\n/g,"");return await Zk(this.schema,JSON.parse(s))}catch(i){throw new Us(`Failed to parse. Text: "${e}". Error: ${i}`,e)}}},L8=class extends FC{static lc_name(){return"JsonMarkdownStructuredOutputParser"}getFormatInstructions(t){const e=(t==null?void 0:t.interpolationDepth)??1;if(e<1)throw new Error("f string interpolation depth must be at least 1");return`Return a markdown code snippet with a JSON object formatted to look like:
\`\`\`json
${this._schemaToInstruction(wl(this.schema)).replaceAll("{","{".repeat(e)).replaceAll("}","}".repeat(e))}
\`\`\``}_schemaToInstruction(t,e=2){const n=t;if("type"in n){let r=!1,i;if(Array.isArray(n.type)){const o=n.type.findIndex(l=>l==="null");o!==-1&&(r=!0,n.type.splice(o,1)),i=n.type.join(" | ")}else i=n.type;if(n.type==="object"&&n.properties){const o=n.description?` // ${n.description}`:"";return`{
${Object.entries(n.properties).map(([c,d])=>{var h;const f=(h=n.required)!=null&&h.includes(c)?"":" (optional)";return`${" ".repeat(e)}"${c}": ${this._schemaToInstruction(d,e+2)}${f}`}).join(`
`)}
${" ".repeat(e-2)}}${o}`}if(n.type==="array"&&n.items){const o=n.description?` // ${n.description}`:"";return`array[
${" ".repeat(e)}${this._schemaToInstruction(n.items,e+2)}
${" ".repeat(e-2)}] ${o}`}const a=r?" (nullable)":"",s=n.description?` // ${n.description}`:"";return`${i}${s}${a}`}if("anyOf"in n)return n.anyOf.map(r=>this._schemaToInstruction(r,e)).join(`
${" ".repeat(e-2)}`);throw new Error("unsupported schema type")}static fromZodSchema(t){return new this(t)}static fromNamesAndDescriptions(t){const e=nC(Object.fromEntries(Object.entries(t).map(([n,r])=>[n,tC().describe(r)])));return new this(e)}},Hge=class extends Rb{constructor({inputSchema:e}){super(...arguments);H(this,"structuredInputParser");this.structuredInputParser=new L8(e)}async parse(e){let n;try{n=await this.structuredInputParser.parse(e)}catch(r){throw new Us(`Failed to parse. Text: "${e}". Error: ${r}`,e)}return this.outputProcessor(n)}getFormatInstructions(){return this.structuredInputParser.getFormatInstructions()}};const Vge=function(){const t={};t.parser=function(I,N){return new n(I,N)},t.SAXParser=n,t.SAXStream=c,t.createStream=l,t.MAX_BUFFER_LENGTH=64*1024;const e=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(I,N){if(!(this instanceof n))return new n(I,N);var K=this;i(K),K.q=K.c="",K.bufferCheckPosition=t.MAX_BUFFER_LENGTH,K.opt=N||{},K.opt.lowercase=K.opt.lowercase||K.opt.lowercasetags,K.looseCase=K.opt.lowercase?"toLowerCase":"toUpperCase",K.tags=[],K.closed=K.closedRoot=K.sawRoot=!1,K.tag=K.error=null,K.strict=!!I,K.noscript=!!(I||K.opt.noscript),K.state=j.BEGIN,K.strictEntities=K.opt.strictEntities,K.ENTITIES=K.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),K.attribList=[],K.opt.xmlns&&(K.ns=Object.create(m)),K.trackPosition=K.opt.position!==!1,K.trackPosition&&(K.position=K.line=K.column=0),k(K,"onready")}Object.create||(Object.create=function(I){function N(){}N.prototype=I;var K=new N;return K}),Object.keys||(Object.keys=function(I){var N=[];for(var K in I)I.hasOwnProperty(K)&&N.push(K);return N});function r(I){for(var N=Math.max(t.MAX_BUFFER_LENGTH,10),K=0,z=0,Z=e.length;z<Z;z++){var J=I[e[z]].length;if(J>N)switch(e[z]){case"textNode":O(I);break;case"cdata":C(I,"oncdata",I.cdata),I.cdata="";break;case"script":C(I,"onscript",I.script),I.script="";break;default:R(I,"Max buffer length exceeded: "+e[z])}K=Math.max(K,J)}var Y=t.MAX_BUFFER_LENGTH-K;I.bufferCheckPosition=Y+I.position}function i(I){for(var N=0,K=e.length;N<K;N++)I[e[N]]=""}function a(I){O(I),I.cdata!==""&&(C(I,"oncdata",I.cdata),I.cdata=""),I.script!==""&&(C(I,"onscript",I.script),I.script="")}n.prototype={end:function(){D(this)},write:ie,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};var s=ReadableStream;s||(s=function(){});var o=t.EVENTS.filter(function(I){return I!=="error"&&I!=="end"});function l(I,N){return new c(I,N)}function c(I,N){if(!(this instanceof c))return new c(I,N);s.apply(this),this._parser=new n(I,N),this.writable=!0,this.readable=!0;var K=this;this._parser.onend=function(){K.emit("end")},this._parser.onerror=function(z){K.emit("error",z),K._parser.error=null},this._decoder=null,o.forEach(function(z){Object.defineProperty(K,"on"+z,{get:function(){return K._parser["on"+z]},set:function(Z){if(!Z)return K.removeAllListeners(z),K._parser["on"+z]=Z,Z;K.on(z,Z)},enumerable:!0,configurable:!1})})}c.prototype=Object.create(s.prototype,{constructor:{value:c}}),c.prototype.write=function(I){return this._parser.write(I.toString()),this.emit("data",I),!0},c.prototype.end=function(I){return I&&I.length&&this.write(I),this._parser.end(),!0},c.prototype.on=function(I,N){var K=this;return!K._parser["on"+I]&&o.indexOf(I)!==-1&&(K._parser["on"+I]=function(){var z=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);z.splice(0,0,I),K.emit.apply(K,z)}),s.prototype.on.call(K,I,N)};var d="[CDATA[",f="DOCTYPE",h="http://www.w3.org/XML/1998/namespace",p="http://www.w3.org/2000/xmlns/",m={xml:h,xmlns:p},g=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,x=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,b=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function y(I){return I===" "||I===`
`||I==="\r"||I==="	"}function _(I){return I==='"'||I==="'"}function w(I){return I===">"||y(I)}function E(I,N){return I.test(N)}function A(I,N){return!E(I,N)}var j=0;t.STATE={BEGIN:j++,BEGIN_WHITESPACE:j++,TEXT:j++,TEXT_ENTITY:j++,OPEN_WAKA:j++,SGML_DECL:j++,SGML_DECL_QUOTED:j++,DOCTYPE:j++,DOCTYPE_QUOTED:j++,DOCTYPE_DTD:j++,DOCTYPE_DTD_QUOTED:j++,COMMENT_STARTING:j++,COMMENT:j++,COMMENT_ENDING:j++,COMMENT_ENDED:j++,CDATA:j++,CDATA_ENDING:j++,CDATA_ENDING_2:j++,PROC_INST:j++,PROC_INST_BODY:j++,PROC_INST_ENDING:j++,OPEN_TAG:j++,OPEN_TAG_SLASH:j++,ATTRIB:j++,ATTRIB_NAME:j++,ATTRIB_NAME_SAW_WHITE:j++,ATTRIB_VALUE:j++,ATTRIB_VALUE_QUOTED:j++,ATTRIB_VALUE_CLOSED:j++,ATTRIB_VALUE_UNQUOTED:j++,ATTRIB_VALUE_ENTITY_Q:j++,ATTRIB_VALUE_ENTITY_U:j++,CLOSE_TAG:j++,CLOSE_TAG_SAW_WHITE:j++,SCRIPT:j++,SCRIPT_ENDING:j++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(I){var N=t.ENTITIES[I],K=typeof N=="number"?String.fromCharCode(N):N;t.ENTITIES[I]=K});for(var T in t.STATE)t.STATE[t.STATE[T]]=T;j=t.STATE;function k(I,N,K){I[N]&&I[N](K)}function C(I,N,K){I.textNode&&O(I),k(I,N,K)}function O(I){I.textNode=F(I.opt,I.textNode),I.textNode&&k(I,"ontext",I.textNode),I.textNode=""}function F(I,N){return I.trim&&(N=N.trim()),I.normalize&&(N=N.replace(/\s+/g," ")),N}function R(I,N){return O(I),I.trackPosition&&(N+=`
Line: `+I.line+`
Column: `+I.column+`
Char: `+I.c),N=new Error(N),I.error=N,k(I,"onerror",N),I}function D(I){return I.sawRoot&&!I.closedRoot&&U(I,"Unclosed root tag"),I.state!==j.BEGIN&&I.state!==j.BEGIN_WHITESPACE&&I.state!==j.TEXT&&R(I,"Unexpected end"),O(I),I.c="",I.closed=!0,k(I,"onend"),n.call(I,I.strict,I.opt),I}function U(I,N){if(typeof I!="object"||!(I instanceof n))throw new Error("bad call to strictFail");I.strict&&R(I,N)}function V(I){I.strict||(I.tagName=I.tagName[I.looseCase]());var N=I.tags[I.tags.length-1]||I,K=I.tag={name:I.tagName,attributes:{}};I.opt.xmlns&&(K.ns=N.ns),I.attribList.length=0,C(I,"onopentagstart",K)}function L(I,N){var K=I.indexOf(":"),z=K<0?["",I]:I.split(":"),Z=z[0],J=z[1];return N&&I==="xmlns"&&(Z="xmlns",J=""),{prefix:Z,local:J}}function B(I){if(I.strict||(I.attribName=I.attribName[I.looseCase]()),I.attribList.indexOf(I.attribName)!==-1||I.tag.attributes.hasOwnProperty(I.attribName)){I.attribName=I.attribValue="";return}if(I.opt.xmlns){var N=L(I.attribName,!0),K=N.prefix,z=N.local;if(K==="xmlns")if(z==="xml"&&I.attribValue!==h)U(I,"xml: prefix must be bound to "+h+`
Actual: `+I.attribValue);else if(z==="xmlns"&&I.attribValue!==p)U(I,"xmlns: prefix must be bound to "+p+`
Actual: `+I.attribValue);else{var Z=I.tag,J=I.tags[I.tags.length-1]||I;Z.ns===J.ns&&(Z.ns=Object.create(J.ns)),Z.ns[z]=I.attribValue}I.attribList.push([I.attribName,I.attribValue])}else I.tag.attributes[I.attribName]=I.attribValue,C(I,"onattribute",{name:I.attribName,value:I.attribValue});I.attribName=I.attribValue=""}function P(I,N){if(I.opt.xmlns){var K=I.tag,z=L(I.tagName);K.prefix=z.prefix,K.local=z.local,K.uri=K.ns[z.prefix]||"",K.prefix&&!K.uri&&(U(I,"Unbound namespace prefix: "+JSON.stringify(I.tagName)),K.uri=z.prefix);var Z=I.tags[I.tags.length-1]||I;K.ns&&Z.ns!==K.ns&&Object.keys(K.ns).forEach(function(At){C(I,"onopennamespace",{prefix:At,uri:K.ns[At]})});for(var J=0,Y=I.attribList.length;J<Y;J++){var me=I.attribList[J],le=me[0],xe=me[1],oe=L(le,!0),Be=oe.prefix,Te=oe.local,De=Be===""?"":K.ns[Be]||"",ae={name:le,value:xe,prefix:Be,local:Te,uri:De};Be&&Be!=="xmlns"&&!De&&(U(I,"Unbound namespace prefix: "+JSON.stringify(Be)),ae.uri=Be),I.tag.attributes[le]=ae,C(I,"onattribute",ae)}I.attribList.length=0}I.tag.isSelfClosing=!!N,I.sawRoot=!0,I.tags.push(I.tag),C(I,"onopentag",I.tag),N||(!I.noscript&&I.tagName.toLowerCase()==="script"?I.state=j.SCRIPT:I.state=j.TEXT,I.tag=null,I.tagName=""),I.attribName=I.attribValue="",I.attribList.length=0}function W(I){if(!I.tagName){U(I,"Weird empty close tag."),I.textNode+="</>",I.state=j.TEXT;return}if(I.script){if(I.tagName!=="script"){I.script+="</"+I.tagName+">",I.tagName="",I.state=j.SCRIPT;return}C(I,"onscript",I.script),I.script=""}var N=I.tags.length,K=I.tagName;I.strict||(K=K[I.looseCase]());for(var z=K;N--;){var Z=I.tags[N];if(Z.name!==z)U(I,"Unexpected close tag");else break}if(N<0){U(I,"Unmatched closing tag: "+I.tagName),I.textNode+="</"+I.tagName+">",I.state=j.TEXT;return}I.tagName=K;for(var J=I.tags.length;J-- >N;){var Y=I.tag=I.tags.pop();I.tagName=I.tag.name,C(I,"onclosetag",I.tagName);var me={};for(var le in Y.ns)me[le]=Y.ns[le];var xe=I.tags[I.tags.length-1]||I;I.opt.xmlns&&Y.ns!==xe.ns&&Object.keys(Y.ns).forEach(function(oe){var Be=Y.ns[oe];C(I,"onclosenamespace",{prefix:oe,uri:Be})})}N===0&&(I.closedRoot=!0),I.tagName=I.attribValue=I.attribName="",I.attribList.length=0,I.state=j.TEXT}function G(I){var N=I.entity,K=N.toLowerCase(),z,Z="";return I.ENTITIES[N]?I.ENTITIES[N]:I.ENTITIES[K]?I.ENTITIES[K]:(N=K,N.charAt(0)==="#"&&(N.charAt(1)==="x"?(N=N.slice(2),z=parseInt(N,16),Z=z.toString(16)):(N=N.slice(1),z=parseInt(N,10),Z=z.toString(10))),N=N.replace(/^0+/,""),isNaN(z)||Z.toLowerCase()!==N?(U(I,"Invalid character entity"),"&"+I.entity+";"):String.fromCodePoint(z))}function $(I,N){N==="<"?(I.state=j.OPEN_WAKA,I.startTagPosition=I.position):y(N)||(U(I,"Non-whitespace before first tag."),I.textNode=N,I.state=j.TEXT)}function ee(I,N){var K="";return N<I.length&&(K=I.charAt(N)),K}function ie(I){var N=this;if(this.error)throw this.error;if(N.closed)return R(N,"Cannot write after close. Assign an onready handler.");if(I===null)return D(N);typeof I=="object"&&(I=I.toString());for(var K=0,z="";z=ee(I,K++),N.c=z,!!z;)switch(N.trackPosition&&(N.position++,z===`
`?(N.line++,N.column=0):N.column++),N.state){case j.BEGIN:if(N.state=j.BEGIN_WHITESPACE,z==="\uFEFF")continue;$(N,z);continue;case j.BEGIN_WHITESPACE:$(N,z);continue;case j.TEXT:if(N.sawRoot&&!N.closedRoot){for(var Z=K-1;z&&z!=="<"&&z!=="&";)z=ee(I,K++),z&&N.trackPosition&&(N.position++,z===`
`?(N.line++,N.column=0):N.column++);N.textNode+=I.substring(Z,K-1)}z==="<"&&!(N.sawRoot&&N.closedRoot&&!N.strict)?(N.state=j.OPEN_WAKA,N.startTagPosition=N.position):(!y(z)&&(!N.sawRoot||N.closedRoot)&&U(N,"Text data outside of root node."),z==="&"?N.state=j.TEXT_ENTITY:N.textNode+=z);continue;case j.SCRIPT:z==="<"?N.state=j.SCRIPT_ENDING:N.script+=z;continue;case j.SCRIPT_ENDING:z==="/"?N.state=j.CLOSE_TAG:(N.script+="<"+z,N.state=j.SCRIPT);continue;case j.OPEN_WAKA:if(z==="!")N.state=j.SGML_DECL,N.sgmlDecl="";else if(!y(z))if(E(g,z))N.state=j.OPEN_TAG,N.tagName=z;else if(z==="/")N.state=j.CLOSE_TAG,N.tagName="";else if(z==="?")N.state=j.PROC_INST,N.procInstName=N.procInstBody="";else{if(U(N,"Unencoded <"),N.startTagPosition+1<N.position){var J=N.position-N.startTagPosition;z=new Array(J).join(" ")+z}N.textNode+="<"+z,N.state=j.TEXT}continue;case j.SGML_DECL:(N.sgmlDecl+z).toUpperCase()===d?(C(N,"onopencdata"),N.state=j.CDATA,N.sgmlDecl="",N.cdata=""):N.sgmlDecl+z==="--"?(N.state=j.COMMENT,N.comment="",N.sgmlDecl=""):(N.sgmlDecl+z).toUpperCase()===f?(N.state=j.DOCTYPE,(N.doctype||N.sawRoot)&&U(N,"Inappropriately located doctype declaration"),N.doctype="",N.sgmlDecl=""):z===">"?(C(N,"onsgmldeclaration",N.sgmlDecl),N.sgmlDecl="",N.state=j.TEXT):(_(z)&&(N.state=j.SGML_DECL_QUOTED),N.sgmlDecl+=z);continue;case j.SGML_DECL_QUOTED:z===N.q&&(N.state=j.SGML_DECL,N.q=""),N.sgmlDecl+=z;continue;case j.DOCTYPE:z===">"?(N.state=j.TEXT,C(N,"ondoctype",N.doctype),N.doctype=!0):(N.doctype+=z,z==="["?N.state=j.DOCTYPE_DTD:_(z)&&(N.state=j.DOCTYPE_QUOTED,N.q=z));continue;case j.DOCTYPE_QUOTED:N.doctype+=z,z===N.q&&(N.q="",N.state=j.DOCTYPE);continue;case j.DOCTYPE_DTD:N.doctype+=z,z==="]"?N.state=j.DOCTYPE:_(z)&&(N.state=j.DOCTYPE_DTD_QUOTED,N.q=z);continue;case j.DOCTYPE_DTD_QUOTED:N.doctype+=z,z===N.q&&(N.state=j.DOCTYPE_DTD,N.q="");continue;case j.COMMENT:z==="-"?N.state=j.COMMENT_ENDING:N.comment+=z;continue;case j.COMMENT_ENDING:z==="-"?(N.state=j.COMMENT_ENDED,N.comment=F(N.opt,N.comment),N.comment&&C(N,"oncomment",N.comment),N.comment=""):(N.comment+="-"+z,N.state=j.COMMENT);continue;case j.COMMENT_ENDED:z!==">"?(U(N,"Malformed comment"),N.comment+="--"+z,N.state=j.COMMENT):N.state=j.TEXT;continue;case j.CDATA:z==="]"?N.state=j.CDATA_ENDING:N.cdata+=z;continue;case j.CDATA_ENDING:z==="]"?N.state=j.CDATA_ENDING_2:(N.cdata+="]"+z,N.state=j.CDATA);continue;case j.CDATA_ENDING_2:z===">"?(N.cdata&&C(N,"oncdata",N.cdata),C(N,"onclosecdata"),N.cdata="",N.state=j.TEXT):z==="]"?N.cdata+="]":(N.cdata+="]]"+z,N.state=j.CDATA);continue;case j.PROC_INST:z==="?"?N.state=j.PROC_INST_ENDING:y(z)?N.state=j.PROC_INST_BODY:N.procInstName+=z;continue;case j.PROC_INST_BODY:if(!N.procInstBody&&y(z))continue;z==="?"?N.state=j.PROC_INST_ENDING:N.procInstBody+=z;continue;case j.PROC_INST_ENDING:z===">"?(C(N,"onprocessinginstruction",{name:N.procInstName,body:N.procInstBody}),N.procInstName=N.procInstBody="",N.state=j.TEXT):(N.procInstBody+="?"+z,N.state=j.PROC_INST_BODY);continue;case j.OPEN_TAG:E(x,z)?N.tagName+=z:(V(N),z===">"?P(N):z==="/"?N.state=j.OPEN_TAG_SLASH:(y(z)||U(N,"Invalid character in tag name"),N.state=j.ATTRIB));continue;case j.OPEN_TAG_SLASH:z===">"?(P(N,!0),W(N)):(U(N,"Forward-slash in opening tag not followed by >"),N.state=j.ATTRIB);continue;case j.ATTRIB:if(y(z))continue;z===">"?P(N):z==="/"?N.state=j.OPEN_TAG_SLASH:E(g,z)?(N.attribName=z,N.attribValue="",N.state=j.ATTRIB_NAME):U(N,"Invalid attribute name");continue;case j.ATTRIB_NAME:z==="="?N.state=j.ATTRIB_VALUE:z===">"?(U(N,"Attribute without value"),N.attribValue=N.attribName,B(N),P(N)):y(z)?N.state=j.ATTRIB_NAME_SAW_WHITE:E(x,z)?N.attribName+=z:U(N,"Invalid attribute name");continue;case j.ATTRIB_NAME_SAW_WHITE:if(z==="=")N.state=j.ATTRIB_VALUE;else{if(y(z))continue;U(N,"Attribute without value"),N.tag.attributes[N.attribName]="",N.attribValue="",C(N,"onattribute",{name:N.attribName,value:""}),N.attribName="",z===">"?P(N):E(g,z)?(N.attribName=z,N.state=j.ATTRIB_NAME):(U(N,"Invalid attribute name"),N.state=j.ATTRIB)}continue;case j.ATTRIB_VALUE:if(y(z))continue;_(z)?(N.q=z,N.state=j.ATTRIB_VALUE_QUOTED):(U(N,"Unquoted attribute value"),N.state=j.ATTRIB_VALUE_UNQUOTED,N.attribValue=z);continue;case j.ATTRIB_VALUE_QUOTED:if(z!==N.q){z==="&"?N.state=j.ATTRIB_VALUE_ENTITY_Q:N.attribValue+=z;continue}B(N),N.q="",N.state=j.ATTRIB_VALUE_CLOSED;continue;case j.ATTRIB_VALUE_CLOSED:y(z)?N.state=j.ATTRIB:z===">"?P(N):z==="/"?N.state=j.OPEN_TAG_SLASH:E(g,z)?(U(N,"No whitespace between attributes"),N.attribName=z,N.attribValue="",N.state=j.ATTRIB_NAME):U(N,"Invalid attribute name");continue;case j.ATTRIB_VALUE_UNQUOTED:if(!w(z)){z==="&"?N.state=j.ATTRIB_VALUE_ENTITY_U:N.attribValue+=z;continue}B(N),z===">"?P(N):N.state=j.ATTRIB;continue;case j.CLOSE_TAG:if(N.tagName)z===">"?W(N):E(x,z)?N.tagName+=z:N.script?(N.script+="</"+N.tagName,N.tagName="",N.state=j.SCRIPT):(y(z)||U(N,"Invalid tagname in closing tag"),N.state=j.CLOSE_TAG_SAW_WHITE);else{if(y(z))continue;A(g,z)?N.script?(N.script+="</"+z,N.state=j.SCRIPT):U(N,"Invalid tagname in closing tag."):N.tagName=z}continue;case j.CLOSE_TAG_SAW_WHITE:if(y(z))continue;z===">"?W(N):U(N,"Invalid characters in closing tag");continue;case j.TEXT_ENTITY:case j.ATTRIB_VALUE_ENTITY_Q:case j.ATTRIB_VALUE_ENTITY_U:var Y,me;switch(N.state){case j.TEXT_ENTITY:Y=j.TEXT,me="textNode";break;case j.ATTRIB_VALUE_ENTITY_Q:Y=j.ATTRIB_VALUE_QUOTED,me="attribValue";break;case j.ATTRIB_VALUE_ENTITY_U:Y=j.ATTRIB_VALUE_UNQUOTED,me="attribValue";break}if(z===";")if(N.opt.unparsedEntities){var le=G(N);N.entity="",N.state=Y,N.write(le)}else N[me]+=G(N),N.entity="",N.state=Y;else E(N.entity.length?v:b,z)?N.entity+=z:(U(N,"Invalid character in entity name"),N[me]+="&"+N.entity+z,N.entity="",N.state=Y);continue;default:throw new Error(N,"Unknown state: "+N.state)}return N.position>=N.bufferCheckPosition&&r(N),N}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */return String.fromCodePoint||function(){var I=String.fromCharCode,N=Math.floor,K=function(){var z=16384,Z=[],J,Y,me=-1,le=arguments.length;if(!le)return"";for(var xe="";++me<le;){var oe=Number(arguments[me]);if(!isFinite(oe)||oe<0||oe>1114111||N(oe)!==oe)throw RangeError("Invalid code point: "+oe);oe<=65535?Z.push(oe):(oe-=65536,J=(oe>>10)+55296,Y=oe%1024+56320,Z.push(J,Y)),(me+1===le||Z.length>z)&&(xe+=I.apply(null,Z),Z.length=0)}return xe};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:K,configurable:!0,writable:!0}):String.fromCodePoint=K}(),t},Wge=Vge(),mj=`The output should be formatted as a XML file.
1. Output should conform to the tags below. 
2. If tags are not given, make them on your own.
3. Remember to always open and close all the tags.

As an example, for the tags ["foo", "bar", "baz"]:
1. String "<foo>
   <bar>
      <baz></baz>
   </bar>
</foo>" is a well-formatted instance of the schema. 
2. String "<foo>
   <bar>
   </foo>" is a badly-formatted instance.
3. String "<foo>
   <tag>
   </tag>
</foo>" is a badly-formatted instance.

Here are the output tags:
\`\`\`
{tags}
\`\`\``;var qge=class extends Mb{constructor(e){super(e);H(this,"tags");H(this,"lc_namespace",["langchain_core","output_parsers"]);H(this,"lc_serializable",!0);this.tags=e==null?void 0:e.tags}static lc_name(){return"XMLOutputParser"}_diff(e,n){if(n)return e?kC(e,n):[{op:"replace",path:"",value:n}]}async parsePartialResult(e){return gj(e[0].text)}async parse(e){return gj(e)}getFormatInstructions(){var n;return!!(this.tags&&this.tags.length>0)?mj.replace("{tags}",((n=this.tags)==null?void 0:n.join(", "))??""):mj}};const Gge=t=>t.split(`
`).map(e=>e.replace(/^\s+/,"")).join(`
`).trim(),F8=t=>{if(Object.keys(t).length===0)return{};const e={};return t.children.length>0?(e[t.name]=t.children.map(F8),e):(e[t.name]=t.text??void 0,e)};function gj(t){const e=Gge(t),n=Wge.parser(!0);let r={};const i=[];n.onopentag=o=>{const l={name:o.name,attributes:o.attributes,children:[],text:"",isSelfClosing:o.isSelfClosing};i.length>0?i[i.length-1].children.push(l):r=l,o.isSelfClosing||i.push(l)},n.onclosetag=()=>{if(i.length>0){const o=i.pop();i.length===0&&o&&(r=o)}},n.ontext=o=>{if(i.length>0){const l=i[i.length-1];l.text+=o}},n.onattribute=o=>{if(i.length>0){const l=i[i.length-1];l.attributes[o.name]=o.value}};const a=/```(xml)?(.*)```/s.exec(e),s=a?a[2]:e;return n.write(s).close(),r&&r.name==="?xml"&&(r=r.children[0]),F8(r)}var Kge={};bt(Kge,{AsymmetricStructuredOutputParser:()=>Hge,BaseCumulativeTransformOutputParser:()=>Mb,BaseLLMOutputParser:()=>M8,BaseOutputParser:()=>Rb,BaseTransformOutputParser:()=>vg,BytesOutputParser:()=>Dge,CommaSeparatedListOutputParser:()=>Lge,CustomListOutputParser:()=>Fge,JsonMarkdownStructuredOutputParser:()=>L8,JsonOutputParser:()=>D8,ListOutputParser:()=>xg,MarkdownListOutputParser:()=>zge,NumberedListOutputParser:()=>Bge,OutputParserException:()=>Us,StringOutputParser:()=>Uge,StructuredOutputParser:()=>FC,XMLOutputParser:()=>qge,XML_FORMAT_INSTRUCTIONS:()=>mj,parseJsonMarkdown:()=>HE,parsePartialJson:()=>vb,parseXMLMarkdown:()=>gj});function BC(t,e){if(t.function===void 0)return;let n;if(e!=null&&e.partial)try{n=vb(t.function.arguments??"{}")}catch{return}else try{n=JSON.parse(t.function.arguments)}catch(i){throw new Us([`Function "${t.function.name}" arguments:`,"",t.function.arguments,"","are not valid JSON.",`Error: ${i.message}`].join(`
`))}const r={name:t.function.name,args:n,type:"tool_call"};return e!=null&&e.returnId&&(r.id=t.id),r}function B8(t){if(t.id===void 0)throw new Error('All OpenAI tool calls must have an "id" field.');return{id:t.id,type:"function",function:{name:t.name,arguments:JSON.stringify(t.args)}}}function z8(t,e){var n,r;return{name:(n=t.function)==null?void 0:n.name,args:(r=t.function)==null?void 0:r.arguments,id:t.id,error:e,type:"invalid_tool_call"}}var U8=class extends Mb{constructor(e){super(e);H(this,"returnId",!1);H(this,"lc_namespace",["langchain","output_parsers","openai_tools"]);H(this,"lc_serializable",!0);this.returnId=(e==null?void 0:e.returnId)??this.returnId}static lc_name(){return"JsonOutputToolsParser"}_diff(){throw new Error("Not supported.")}async parse(){throw new Error("Not implemented.")}async parseResult(e){return await this.parsePartialResult(e,!1)}async parsePartialResult(e,n=!0){var s;const r=e[0].message;let i;if(xb(r)&&((s=r.tool_calls)!=null&&s.length)?i=r.tool_calls.map(o=>{const{id:l,...c}=o;return this.returnId?{id:l,...c}:c}):r.additional_kwargs.tool_calls!==void 0&&(i=JSON.parse(JSON.stringify(r.additional_kwargs.tool_calls)).map(l=>BC(l,{returnId:this.returnId,partial:n}))),!i)return[];const a=[];for(const o of i)if(o!==void 0){const l={type:o.name,args:o.args,id:o.id};a.push(l)}return a}},yj=class extends U8{constructor(e){super(e);H(this,"lc_namespace",["langchain","output_parsers","openai_tools"]);H(this,"lc_serializable",!0);H(this,"returnId",!1);H(this,"keyName");H(this,"returnSingle",!1);H(this,"zodSchema");this.keyName=e.keyName,this.returnSingle=e.returnSingle??this.returnSingle,this.zodSchema=e.zodSchema}static lc_name(){return"JsonOutputKeyToolsParser"}async _validateResult(e){var r;if(this.zodSchema===void 0)return e;const n=await Yz(this.zodSchema,e);if(n.success)return n.data;throw new Us(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify((r=n.error)==null?void 0:r.issues)}`,JSON.stringify(e,null,2))}async parsePartialResult(e){const r=(await super.parsePartialResult(e)).filter(a=>a.type===this.keyName);let i=r;if(r.length)return this.returnId||(i=r.map(a=>a.args)),this.returnSingle?i[0]:i}async parseResult(e){const r=(await super.parsePartialResult(e,!1)).filter(s=>s.type===this.keyName);let i=r;return r.length?(this.returnId||(i=r.map(s=>s.args)),this.returnSingle?this._validateResult(i[0]):await Promise.all(i.map(s=>this._validateResult(s)))):void 0}},Yge={};bt(Yge,{JsonOutputKeyToolsParser:()=>yj,JsonOutputToolsParser:()=>U8,convertLangChainToolCallToOpenAI:()=>B8,makeInvalidToolCall:()=>z8,parseToolCall:()=>BC});function H8(t){return t!==void 0&&Array.isArray(t.lc_namespace)}function V8(t){return t!==void 0&&hn.isRunnable(t)&&"lc_name"in t.constructor&&typeof t.constructor.lc_name=="function"&&t.constructor.lc_name()==="RunnableToolLike"}function W8(t){return!!t&&typeof t=="object"&&"name"in t&&"schema"in t&&(Dc(t.schema)||t.schema!=null&&typeof t.schema=="object"&&"type"in t.schema&&typeof t.schema.type=="string"&&["null","boolean","object","array","number","string"].includes(t.schema.type))}function q8(t){return W8(t)||V8(t)||H8(t)}var Xge={};bt(Xge,{convertToOpenAIFunction:()=>G8,convertToOpenAITool:()=>vj,isLangChainTool:()=>q8,isRunnableToolLike:()=>V8,isStructuredTool:()=>H8,isStructuredToolParams:()=>W8});function G8(t,e){const n=typeof e=="number"?void 0:e;return{name:t.name,description:t.description,parameters:wl(t.schema),...(n==null?void 0:n.strict)!==void 0?{strict:n.strict}:{}}}function vj(t,e){const n=typeof e=="number"?void 0:e;let r;return q8(t)?r={type:"function",function:G8(t)}:r=t,(n==null?void 0:n.strict)!==void 0&&(r.function.strict=n.strict),r}const Zge=["frequency_penalty","function_call","functions","logit_bias","logprobs","max_completion_tokens","max_tokens","n","parallel_tool_calls","presence_penalty","reasoning_format","response_format","seed","service_tier","stop","temperature","tool_choice","top_logprobs","top_p"],Jge=["headers","promptIndex","stream_options","tools"],Qge=[...Zge,...Jge];function eye(t){if(t.role!=="system"&&t.role!=="assistant"&&t.role!=="user"&&t.role!=="function")throw new Error(`Unsupported message role: ${t.role}. Expected "system", "assistant", "user", or "function"`);return t.role}function tye(t){switch(t.type){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"tool":return"tool";case"generic":if(!tu.isInstance(t))throw new Error("Invalid generic chat message");return eye(t);default:throw new Error(`Unknown message type: ${t.type}`)}}function Q$(t){return t.map(e=>{var r;const n={role:tye(e),content:e.content,name:e.name,function_call:e.additional_kwargs.function_call,tool_calls:e.additional_kwargs.tool_calls,tool_call_id:e.tool_call_id};return xb(e)&&((r=e.tool_calls)!=null&&r.length)?n.tool_calls=e.tool_calls.map(B8):(e.additional_kwargs.tool_calls!=null&&(n.tool_calls=e.additional_kwargs.tool_calls),e.tool_call_id!=null&&(n.tool_call_id=e.tool_call_id)),n})}function nye(t,e,n){const r=t.tool_calls;switch(t.role){case"assistant":{const i=[],a=[];for(const s of r??[])try{i.push(BC(s,{returnId:!0}))}catch(o){a.push(z8(s,o.message))}return new ds({content:t.content||"",additional_kwargs:{tool_calls:r},tool_calls:i,invalid_tool_calls:a,usage_metadata:e,response_metadata:n})}default:return new tu(t.content||"",t.role??"unknown")}}function rye(t,e,n,r){var h,p;const i=t.role??e,a=t.content??"";let s;t.function_call?s={function_call:t.function_call}:t.tool_calls?s={tool_calls:t.tool_calls}:s={},t.audio&&(s.audio={...t.audio,index:n.choices[0].index});let o,l=r,c;const d=n.x_groq;d!=null&&d.usage&&(o={input_tokens:d.usage.prompt_tokens,output_tokens:d.usage.completion_tokens,total_tokens:d.usage.total_tokens},c={completion_time:d.usage.completion_time,prompt_time:d.usage.prompt_time,queue_time:d.usage.queue_time,total_time:d.usage.total_time}),d!=null&&d.id&&(l=d.id);const f={usage:o,timing:c};if(i==="user")return new fg({content:a,response_metadata:f});if(i==="assistant"){const m=[];if(Array.isArray(t.tool_calls))for(const g of t.tool_calls)m.push({name:(h=g.function)==null?void 0:h.name,args:(p=g.function)==null?void 0:p.arguments,id:g.id,index:g.index,type:"tool_call_chunk"});return new fo({content:a,tool_call_chunks:m,additional_kwargs:s,id:l,response_metadata:f})}else return i==="system"?new Sl({content:a,response_metadata:f}):i==="developer"?new Sl({content:a,response_metadata:f,additional_kwargs:{__openai_role__:"developer"}}):i==="function"?new dg({content:a,additional_kwargs:s,name:t.name,response_metadata:f}):i==="tool"?new cg({content:a,additional_kwargs:s,tool_call_id:t.tool_call_id,response_metadata:f}):new ug({content:a,role:i,response_metadata:f})}var iye=class extends MC{constructor(e){super(e);H(this,"lc_namespace",["langchain","chat_models","groq"]);H(this,"client");H(this,"model");H(this,"temperature",.7);H(this,"stop");H(this,"stopSequences");H(this,"maxTokens");H(this,"streaming",!1);H(this,"apiKey");H(this,"streamUsage",!0);H(this,"topP");H(this,"frequencyPenalty");H(this,"presencePenalty");H(this,"logprobs");H(this,"n");H(this,"logitBias");H(this,"user");H(this,"reasoningFormat");H(this,"serviceTier");H(this,"topLogprobs");H(this,"lc_serializable",!0);const n=e.apiKey||Bs("GROQ_API_KEY");if(!n)throw new Error('Groq API key not found. Please set the GROQ_API_KEY environment variable or provide the key into "apiKey"');const r={"User-Agent":"langchainjs",...e.defaultHeaders??{}};this.client=new Rt({apiKey:n,dangerouslyAllowBrowser:!0,baseURL:e.baseUrl,timeout:e.timeout,httpAgent:e.httpAgent,fetch:e.fetch,maxRetries:0,defaultHeaders:r,defaultQuery:e.defaultQuery}),this.apiKey=n,this.temperature=e.temperature??this.temperature,this.model=e.model,this.streaming=e.streaming??this.streaming,this.stop=e.stopSequences??(typeof e.stop=="string"?[e.stop]:e.stop)??[],this.stopSequences=this.stop,this.maxTokens=e.maxTokens,this.topP=e.topP,this.frequencyPenalty=e.frequencyPenalty,this.presencePenalty=e.presencePenalty,this.logprobs=e.logprobs,this.n=e.n,this.logitBias=e.logitBias,this.user=e.user}get lc_serialized_keys(){return["client","model","temperature","stop","stopSequences","maxTokens","streaming","apiKey","streamUsage","topP","frequencyPenalty","presencePenalty","logprobs","n","logitBias","user","reasoningFormat","serviceTier","topLogprobs"]}static lc_name(){return"ChatGroq"}_llmType(){return"groq"}get lc_secrets(){return{apiKey:"GROQ_API_KEY"}}get callKeys(){return[...super.callKeys,...Qge]}getLsParams(e){const n=this.invocationParams(e);return{ls_provider:"groq",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:n.temperature??this.temperature,ls_max_tokens:n.max_tokens??this.maxTokens,ls_stop:e.stop}}async completionWithRetry(e,n){return this.caller.call(async()=>this.client.chat.completions.create(e,n))}invocationParams(e,n){var s;const r=super.invocationParams(e);let i={};(e==null?void 0:e.stream_options)!==void 0?i={stream_options:e.stream_options}:(this.streamUsage&&this.streaming||n!=null&&n.streaming)&&(i={stream_options:{include_usage:!0}});const a={model:this.model,frequency_penalty:this.frequencyPenalty,function_call:e==null?void 0:e.function_call,functions:e==null?void 0:e.functions,logit_bias:this.logitBias,logprobs:this.logprobs,n:this.n,parallel_tool_calls:e==null?void 0:e.parallel_tool_calls,presence_penalty:this.presencePenalty,reasoning_format:this.reasoningFormat,response_format:e==null?void 0:e.response_format,seed:e==null?void 0:e.seed,service_tier:this.serviceTier,stop:(e==null?void 0:e.stop)??this.stopSequences,temperature:(e==null?void 0:e.temperature)??this.temperature,tool_choice:aye(e==null?void 0:e.tool_choice),tools:(s=e==null?void 0:e.tools)!=null&&s.length?e.tools.map(o=>vj(o)):void 0,top_logprobs:this.topLogprobs,top_p:this.topP,user:this.user,stream:this.streaming,...r,...i};return a.max_completion_tokens=(e==null?void 0:e.max_completion_tokens)??(e==null?void 0:e.max_tokens)??this.maxTokens,a.max_completion_tokens===-1&&delete a.max_completion_tokens,a}bindTools(e,n){return this.withConfig({tools:e.map(r=>vj(r)),...n})}async*_streamResponseChunks(e,n,r){var d,f;const i=this.invocationParams(n,{streaming:!0}),a=Q$(e),s=await this.completionWithRetry({...i,messages:a,stream:!0},{signal:n==null?void 0:n.signal,headers:n==null?void 0:n.headers});let o,l,c;for await(const h of s){c=h;const p=h==null?void 0:h.choices[0];if(!p)continue;(d=p.delta)!=null&&d.role&&(o=p.delta.role);const m=rye(p.delta,o,h,l),g={prompt:n.promptIndex??0,completion:p.index??0};if(typeof m.content!="string"){console.log("[WARNING]: Received non-string content from OpenAI. This is currently not supported.");continue}const x={...g};p.finish_reason!=null&&(x.finish_reason=p.finish_reason,x.system_fingerprint=h.system_fingerprint,x.model_name=h.model);const b=new om({message:m,text:m.content,generationInfo:x});yield b,await(r==null?void 0:r.handleLLMNewToken(b.text??"",g,void 0,void 0,void 0,{chunk:b}))}if(c&&("choices"in c&&delete c.choices,yield new om({message:new fo({content:"",response_metadata:c}),text:""})),(f=n.signal)!=null&&f.aborted)throw new Error("AbortError")}async _generate(e,n,r){var i;if(this.streaming){const a={},s=this._streamResponseChunks(e,n,r),o={};for await(const c of s){const d=((i=c.generationInfo)==null?void 0:i.completion)??0;o[d]===void 0?o[d]=c:o[d]=o[d].concat(c)}return{generations:Object.entries(o).sort(([c],[d])=>parseInt(c,10)-parseInt(d,10)).map(([c,d])=>d),llmOutput:{estimatedTokenUsage:a}}}else return this._generateNonStreaming(e,n,r)}async _generateNonStreaming(e,n,r){var c;const i={},a=this.invocationParams(n),s=Q$(e),o=await this.completionWithRetry({...a,stream:!1,messages:s},{signal:n==null?void 0:n.signal,headers:n==null?void 0:n.headers});if("usage"in o&&o.usage){const{completion_tokens:d,prompt_tokens:f,total_tokens:h}=o.usage;d&&(i.completionTokens=(i.completionTokens??0)+d),f&&(i.promptTokens=(i.promptTokens??0)+f),h&&(i.totalTokens=(i.totalTokens??0)+h)}const l=[];if("choices"in o&&o.choices)for(const d of o.choices){const f=((c=d.message)==null?void 0:c.content)??"";let h;i.totalTokens!==void 0&&(h={input_tokens:i.promptTokens??0,output_tokens:i.completionTokens??0,total_tokens:i.totalTokens});const{choices:p,...m}=o,g={text:f,message:nye(d.message??{role:"assistant"},h,m)};g.generationInfo={...d.finish_reason?{finish_reason:d.finish_reason}:{},...d.logprobs?{logprobs:d.logprobs}:{}},l.push(g)}return{generations:l,llmOutput:{tokenUsage:i}}}get profile(){return qae[this.model]??{}}withStructuredOutput(e,n){const r=e,i=n==null?void 0:n.name,a=n==null?void 0:n.method,s=n==null?void 0:n.includeRaw;let o=i??"extract",l,c;if(a==="jsonMode"){let p;Dc(r)?(l=FC.fromZodSchema(r),p=wl(r)):l=new D8,c=this.withConfig({response_format:{type:"json_object"},ls_structured_output_format:{kwargs:{method:"jsonMode"},schema:p}})}else if(Dc(r)){const p=wl(r);c=this.bindTools([{type:"function",function:{name:o,description:p.description,parameters:p}}]).withConfig({tool_choice:{type:"function",function:{name:o}},ls_structured_output_format:{kwargs:{method:"functionCalling"},schema:p}}),l=new yj({returnSingle:!0,keyName:o,zodSchema:r})}else{let p;typeof r.name=="string"&&typeof r.parameters=="object"&&r.parameters!=null?(p=r,o=r.name):(o=r.title??o,p={name:o,description:r.description??"",parameters:r}),c=this.bindTools([{type:"function",function:p}]).withConfig({tool_choice:{type:"function",function:{name:o}},ls_structured_output_format:{kwargs:{method:"functionCalling"},schema:r}}),l=new yj({returnSingle:!0,keyName:o})}if(!s)return c.pipe(l).withConfig({runName:"ChatGroqStructuredOutput"});const d=Zd.assign({parsed:(p,m)=>l.invoke(p.raw,m)}),f=Zd.assign({parsed:()=>null}),h=d.withFallbacks({fallbacks:[f]});return gg.from([{raw:c},h]).withConfig({runName:"ChatGroqStructuredOutput"})}};function aye(t){if(t)return t==="any"||t==="required"?"required":t==="auto"?"auto":t==="none"?"none":typeof t=="string"?{type:"function",function:{name:t}}:t}const sye="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",oye="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",lye="https://api.tavily.com/search",cye=!0,eR="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",uye="AdmitConnectAI",dye=`You are the AdmitConnect AI Assistant, designed to help users understand and navigate the AdmitConnect platform.

About AdmitConnect AI:
AdmitConnect AI is a college admission campaign management platform that helps educational institutions execute multi-channel outreach campaigns through WhatsApp, Voice Calls, and Email using AI-powered automation.

Core capabilities include AI-powered campaign automation, real-time analytics for tracking engagement and response rates, multi-channel communication across Email, Voice, and WhatsApp, candidate management tools, 24/7 AI counseling agents, and predictive intelligence for campaign optimization.

The platform was developed by Yash Sharma, a Generative AI Engineer specializing in scalable AI solutions for educational technology.

Your role:
Provide clear, accurate information about the platform's features and capabilities. Offer professional guidance on college admission trends and best practices. Use real-time web search when needed for current information. Help users navigate the platform and understand how to use its features effectively.

Communication style:
Use clear, professional Markdown formatting for EVERY response.
- **Bold Headers**: Use bold text for key topics or section titles.
- **Lists**: ALWAYS use bullet points or numbered lists for steps, items, or features.
- **Paragraphs**: Keep paragraphs short (2-3 sentences) with clear line breaks between them.
- **No Blocks**: Avoid long walls of text. Break information down visually.
- **Tone**: Natural, conversational (like ChatGPT) but structured professionally.`,fye=`You are the AdmitConnect Campaign Expert, a specialized assistant for users working in the AdmitConnect Dashboard.

About the platform:
AdmitConnect AI, developed by Yash Sharma (Generative AI Engineer), is a comprehensive campaign management platform for college admissions. It enables educational institutions to streamline student outreach and enrollment through AI-driven automation.

Platform features:
The Campaign Creation Suite allows users to set up WhatsApp campaigns with automated personalized messaging, Voice Call campaigns with AI-powered interactions, and Email campaigns with professional sequences and tracking.

The Candidate Management System supports bulk uploads via CSV/Excel, intelligent segmentation and filtering, comprehensive candidate profiles, and engagement history tracking.

Analytics and Reporting provides real-time campaign performance metrics, response rate analysis, channel effectiveness comparisons, and ROI tracking with optimization insights.

The AI Agent Ecosystem includes a Counseling Crew for 24/7 automated student support, a Campaign Orchestrator for intelligent multi-channel coordination, a Decision Engine for smart campaign strategy recommendations, and a Content Generator for AI-powered message and script creation.

Automation and Intelligence features cover smart scheduling and timing optimization, predictive analytics for student engagement, automated follow-up sequences, and performance-based campaign adjustments.

Your expertise:
You understand campaign strategy development, multi-channel marketing for educational institutions, data-driven decision making for student recruitment, AI-powered automation workflows, and candidate engagement best practices.

How to help users:
For campaign creation, guide users through defining their target audience, recommend the optimal channel mix based on their goals, suggest effective messaging strategies, and help configure timing and frequency.

For analytics, explain what the metrics mean, identify areas for improvement, provide context by benchmarking against industry standards, and recommend specific optimization strategies.

For feature navigation, give clear step-by-step instructions on how to find and use dashboard features, configure settings, set up integrations, and apply best practices.

For strategy consultation, offer professional recommendations on campaign planning and execution, channel selection based on demographics, content personalization techniques, and engagement optimization.

Communication style:
Use clear, professional Markdown formatting for EVERY response.
- **Bold Headers**: Use bold text for key topics or section titles.
- **Lists**: ALWAYS use bullet points or numbered lists for steps, items, or features.
- **Paragraphs**: Keep paragraphs short (2-3 sentences) with clear line breaks between them.
- **No Blocks**: Avoid long walls of text. Break information down visually.
- **Tone**: Consultative and actionable.`,hye=`You are the AdmitConnect AI College Counselor, a strict and focused assistant dedicated ONLY to college admissions, student counseling, and educational guidance.

Instructions:
1. STRICT DOMAIN RESTRICTION: You must ONLY answer questions related to college admissions, university information, applications, scholarships, exams, student life, and academic guidance.
2. GUARDRAILS: If a user asks a question unrelated to education or admissions (e.g., sports, politics, entertainment, general chit-chat unrelated to college), you must POLITELY REFUSE to answer.
   - Example valid refusal: "I apologize, but I am specialized only in college admissions and educational counseling. I cannot assist with that topic."
3. SOURCE-BASED ANSWERS: You will be provided with information from web searches. You must use this information to answer user questions accurately. Cite your sources using [1], [2] notation.
4. TONE: Professional, encouraging, empathetic, and formal yet accessible. You are guiding students through a stressful process.
5. FORMATTING: STRICTLY use professional Markdown.
   - Use **Bold** for major points.
   - Use bullet points for lists.
   - Separate thoughts with new lines.
   - Make it easy to read on mobile devices.

You are NOT a general purpose AI. You are a specialized College Counselor. Do not break character. Do not answer questions outside your scope.`;class K8{constructor(e="general"){H(this,"context");H(this,"model",null);H(this,"tracer");H(this,"isAvailable",!1);this.context=e;try{if(this.model=new iye({apiKey:sye,model:"llama-3.3-70b-versatile",temperature:.7,maxTokens:1024}),this.isAvailable=!0,cye&&eR)try{const n=new Kd({apiUrl:"https://api.smith.langchain.com",apiKey:eR});this.tracer=new hp({projectName:uye||"default",client:n})}catch(n){console.warn("Failed to initialize LangSmith tracer",n)}}catch(n){console.error("Failed to initialize ChatService:",n),this.isAvailable=!1}}checkAvailability(){return this.isAvailable}async searchTavily(e){try{const n=await fetch(lye,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({api_key:oye,query:e,search_depth:"basic",include_answer:!0,max_results:3})});if(!n.ok)throw new Error("Tavily search failed");return(await n.json()).results.map(i=>({title:i.title,url:i.url,content:i.content}))}catch(n){return console.error("Error searching Tavily:",n),[]}}async generateResponse(e,n=[],r){if(!this.model||!this.isAvailable)return{content:"I'm sorry, the AI chat service is currently unavailable. Please check the API configuration.",sources:[]};try{let i=[],a="";(this.context==="counselor"||e.length>10&&(this.context==="general"||e.toLowerCase().includes("search")||e.toLowerCase().includes("news")))&&(i=await this.searchTavily(e));let s=dye;if(this.context==="dashboard"&&(s=fye),this.context==="counselor"&&(s=hye),r&&this.context==="dashboard"){const f=r.stats?`
Current Dashboard Stats:
- Total Campaigns: ${r.stats.totalCampaigns}
- Messages Sent: ${r.stats.messagesSent}
- Response Rate: ${r.stats.responseRate}%`:"",h=r.campaigns&&r.campaigns.length>0?`
Recent Campaigns:
${r.campaigns.slice(0,5).map(p=>`- ${p.name} (${p.status}): ${p.candidates_count||0} candidates`).join(`
`)}`:"";s+=`

REAL-TIME CONTEXT:
${f}
${h}

Use this real-time data to answer user questions about their specific campaigns.`}i.length>0&&(a=`

Here is some relevant information found from the web:
${i.map((f,h)=>`[${h+1}] ${f.title}: ${f.content}`).join(`
`)}

Use this information to answer the user's question if relevant. Cite sources using [1], [2] notation.`);const o=[new fs(s+a),...n.map(f=>f.role==="user"?new Sa(f.content):f.role==="assistant"?new ds(f.content):new fs(f.content)),new Sa(e)],l=this.tracer?[this.tracer]:[];return{content:(await this.model.invoke(o,{callbacks:l,metadata:{context:this.context},tags:["admit-connect-ai",this.context]})).content,sources:i}}catch(i){return console.error("ChatService error:",i),{content:"I'm sorry, I encountered an error while processing your request. Please try again later.",sources:[]}}}}function pye(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const mye=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,gye=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,yye={};function tR(t,e){return(yye.jsx?gye:mye).test(t)}const vye=/[ \t\n\f\r]/g;function xye(t){return typeof t=="object"?t.type==="text"?nR(t.value):!1:nR(t)}function nR(t){return t.replace(vye,"")===""}class bg{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}bg.prototype.normal={};bg.prototype.property={};bg.prototype.space=void 0;function Y8(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new bg(n,r,e)}function xj(t){return t.toLowerCase()}class Br{constructor(e,n){this.attribute=n,this.property=e}}Br.prototype.attribute="";Br.prototype.booleanish=!1;Br.prototype.boolean=!1;Br.prototype.commaOrSpaceSeparated=!1;Br.prototype.commaSeparated=!1;Br.prototype.defined=!1;Br.prototype.mustUseProperty=!1;Br.prototype.number=!1;Br.prototype.overloadedBoolean=!1;Br.prototype.property="";Br.prototype.spaceSeparated=!1;Br.prototype.space=void 0;let bye=0;const et=ru(),mn=ru(),bj=ru(),ue=ru(),Ct=ru(),gd=ru(),Hr=ru();function ru(){return 2**++bye}const wj=Object.freeze(Object.defineProperty({__proto__:null,boolean:et,booleanish:mn,commaOrSpaceSeparated:Hr,commaSeparated:gd,number:ue,overloadedBoolean:bj,spaceSeparated:Ct},Symbol.toStringTag,{value:"Module"})),p1=Object.keys(wj);class zC extends Br{constructor(e,n,r,i){let a=-1;if(super(e,n),rR(this,"space",i),typeof r=="number")for(;++a<p1.length;){const s=p1[a];rR(this,p1[a],(r&wj[s])===wj[s])}}}zC.prototype.defined=!0;function rR(t,e,n){n&&(t[e]=n)}function Hf(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const a=new zC(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[xj(r)]=r,n[xj(a.attribute)]=r}return new bg(e,n,t.space)}const X8=Hf({properties:{ariaActiveDescendant:null,ariaAtomic:mn,ariaAutoComplete:null,ariaBusy:mn,ariaChecked:mn,ariaColCount:ue,ariaColIndex:ue,ariaColSpan:ue,ariaControls:Ct,ariaCurrent:null,ariaDescribedBy:Ct,ariaDetails:null,ariaDisabled:mn,ariaDropEffect:Ct,ariaErrorMessage:null,ariaExpanded:mn,ariaFlowTo:Ct,ariaGrabbed:mn,ariaHasPopup:null,ariaHidden:mn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ct,ariaLevel:ue,ariaLive:null,ariaModal:mn,ariaMultiLine:mn,ariaMultiSelectable:mn,ariaOrientation:null,ariaOwns:Ct,ariaPlaceholder:null,ariaPosInSet:ue,ariaPressed:mn,ariaReadOnly:mn,ariaRelevant:null,ariaRequired:mn,ariaRoleDescription:Ct,ariaRowCount:ue,ariaRowIndex:ue,ariaRowSpan:ue,ariaSelected:mn,ariaSetSize:ue,ariaSort:null,ariaValueMax:ue,ariaValueMin:ue,ariaValueNow:ue,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Z8(t,e){return e in t?t[e]:e}function J8(t,e){return Z8(t,e.toLowerCase())}const wye=Hf({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:gd,acceptCharset:Ct,accessKey:Ct,action:null,allow:null,allowFullScreen:et,allowPaymentRequest:et,allowUserMedia:et,alt:null,as:null,async:et,autoCapitalize:null,autoComplete:Ct,autoFocus:et,autoPlay:et,blocking:Ct,capture:null,charSet:null,checked:et,cite:null,className:Ct,cols:ue,colSpan:null,content:null,contentEditable:mn,controls:et,controlsList:Ct,coords:ue|gd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:et,defer:et,dir:null,dirName:null,disabled:et,download:bj,draggable:mn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:et,formTarget:null,headers:Ct,height:ue,hidden:bj,high:ue,href:null,hrefLang:null,htmlFor:Ct,httpEquiv:Ct,id:null,imageSizes:null,imageSrcSet:null,inert:et,inputMode:null,integrity:null,is:null,isMap:et,itemId:null,itemProp:Ct,itemRef:Ct,itemScope:et,itemType:Ct,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:et,low:ue,manifest:null,max:null,maxLength:ue,media:null,method:null,min:null,minLength:ue,multiple:et,muted:et,name:null,nonce:null,noModule:et,noValidate:et,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:et,optimum:ue,pattern:null,ping:Ct,placeholder:null,playsInline:et,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:et,referrerPolicy:null,rel:Ct,required:et,reversed:et,rows:ue,rowSpan:ue,sandbox:Ct,scope:null,scoped:et,seamless:et,selected:et,shadowRootClonable:et,shadowRootDelegatesFocus:et,shadowRootMode:null,shape:null,size:ue,sizes:null,slot:null,span:ue,spellCheck:mn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ue,step:null,style:null,tabIndex:ue,target:null,title:null,translate:null,type:null,typeMustMatch:et,useMap:null,value:mn,width:ue,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ct,axis:null,background:null,bgColor:null,border:ue,borderColor:null,bottomMargin:ue,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:et,declare:et,event:null,face:null,frame:null,frameBorder:null,hSpace:ue,leftMargin:ue,link:null,longDesc:null,lowSrc:null,marginHeight:ue,marginWidth:ue,noResize:et,noHref:et,noShade:et,noWrap:et,object:null,profile:null,prompt:null,rev:null,rightMargin:ue,rules:null,scheme:null,scrolling:mn,standby:null,summary:null,text:null,topMargin:ue,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ue,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:et,disableRemotePlayback:et,prefix:null,property:null,results:ue,security:null,unselectable:null},space:"html",transform:J8}),_ye=Hf({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Hr,accentHeight:ue,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ue,amplitude:ue,arabicForm:null,ascent:ue,attributeName:null,attributeType:null,azimuth:ue,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ue,by:null,calcMode:null,capHeight:ue,className:Ct,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ue,diffuseConstant:ue,direction:null,display:null,dur:null,divisor:ue,dominantBaseline:null,download:et,dx:null,dy:null,edgeMode:null,editable:null,elevation:ue,enableBackground:null,end:null,event:null,exponent:ue,externalResourcesRequired:null,fill:null,fillOpacity:ue,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:gd,g2:gd,glyphName:gd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ue,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ue,horizOriginX:ue,horizOriginY:ue,id:null,ideographic:ue,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ue,k:ue,k1:ue,k2:ue,k3:ue,k4:ue,kernelMatrix:Hr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ue,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ue,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ue,overlineThickness:ue,paintOrder:null,panose1:null,path:null,pathLength:ue,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ct,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ue,pointsAtY:ue,pointsAtZ:ue,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Hr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Hr,rev:Hr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Hr,requiredFeatures:Hr,requiredFonts:Hr,requiredFormats:Hr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ue,specularExponent:ue,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ue,strikethroughThickness:ue,string:null,stroke:null,strokeDashArray:Hr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ue,strokeOpacity:ue,strokeWidth:null,style:null,surfaceScale:ue,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Hr,tabIndex:ue,tableValues:null,target:null,targetX:ue,targetY:ue,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Hr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ue,underlineThickness:ue,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ue,values:null,vAlphabetic:ue,vMathematical:ue,vectorEffect:null,vHanging:ue,vIdeographic:ue,version:null,vertAdvY:ue,vertOriginX:ue,vertOriginY:ue,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ue,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Z8}),Q8=Hf({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),e9=Hf({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:J8}),t9=Hf({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Sye={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Eye=/[A-Z]/g,iR=/-[a-z]/g,jye=/^data[-\w.:]+$/i;function Aye(t,e){const n=xj(e);let r=e,i=Br;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&jye.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(iR,kye);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!iR.test(a)){let s=a.replace(Eye,Tye);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=zC}return new i(r,e)}function Tye(t){return"-"+t.toLowerCase()}function kye(t){return t.charAt(1).toUpperCase()}const Cye=Y8([X8,wye,Q8,e9,t9],"html"),UC=Y8([X8,_ye,Q8,e9,t9],"svg");function Oye(t){return t.join(" ").trim()}var HC={},aR=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Nye=/\n/g,Pye=/^\s*/,Iye=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,$ye=/^:\s*/,Rye=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Mye=/^[;\s]*/,Dye=/^\s+|\s+$/g,Lye=`
`,sR="/",oR="*",sc="",Fye="comment",Bye="declaration";function zye(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(m){var g=m.match(Nye);g&&(n+=g.length);var x=m.lastIndexOf(Lye);r=~x?m.length-x:r+m.length}function a(){var m={line:n,column:r};return function(g){return g.position=new s(m),c(),g}}function s(m){this.start=m,this.end={line:n,column:r},this.source=e.source}s.prototype.content=t;function o(m){var g=new Error(e.source+":"+n+":"+r+": "+m);if(g.reason=m,g.filename=e.source,g.line=n,g.column=r,g.source=t,!e.silent)throw g}function l(m){var g=m.exec(t);if(g){var x=g[0];return i(x),t=t.slice(x.length),g}}function c(){l(Pye)}function d(m){var g;for(m=m||[];g=f();)g!==!1&&m.push(g);return m}function f(){var m=a();if(!(sR!=t.charAt(0)||oR!=t.charAt(1))){for(var g=2;sc!=t.charAt(g)&&(oR!=t.charAt(g)||sR!=t.charAt(g+1));)++g;if(g+=2,sc===t.charAt(g-1))return o("End of comment missing");var x=t.slice(2,g-2);return r+=2,i(x),t=t.slice(g),r+=2,m({type:Fye,comment:x})}}function h(){var m=a(),g=l(Iye);if(g){if(f(),!l($ye))return o("property missing ':'");var x=l(Rye),b=m({type:Bye,property:lR(g[0].replace(aR,sc)),value:x?lR(x[0].replace(aR,sc)):sc});return l(Mye),b}}function p(){var m=[];d(m);for(var g;g=h();)g!==!1&&(m.push(g),d(m));return m}return c(),p()}function lR(t){return t?t.replace(Dye,sc):sc}var Uye=zye,Hye=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(HC,"__esModule",{value:!0});HC.default=Wye;const Vye=Hye(Uye);function Wye(t,e){let n=null;if(!t||typeof t!="string")return n;const r=(0,Vye.default)(t),i=typeof e=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?e(s,o,a):o&&(n=n||{},n[s]=o)}),n}var Db={};Object.defineProperty(Db,"__esModule",{value:!0});Db.camelCase=void 0;var qye=/^--[a-zA-Z0-9_-]+$/,Gye=/-([a-z])/g,Kye=/^[^-]+$/,Yye=/^-(webkit|moz|ms|o|khtml)-/,Xye=/^-(ms)-/,Zye=function(t){return!t||Kye.test(t)||qye.test(t)},Jye=function(t,e){return e.toUpperCase()},cR=function(t,e){return"".concat(e,"-")},Qye=function(t,e){return e===void 0&&(e={}),Zye(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(Xye,cR):t=t.replace(Yye,cR),t.replace(Gye,Jye))};Db.camelCase=Qye;var eve=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},tve=eve(HC),nve=Db;function _j(t,e){var n={};return!t||typeof t!="string"||(0,tve.default)(t,function(r,i){r&&i&&(n[(0,nve.camelCase)(r,e)]=i)}),n}_j.default=_j;var rve=_j;const ive=at(rve),n9=r9("end"),VC=r9("start");function r9(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function ave(t){const e=VC(t),n=n9(t);if(e&&n)return{start:e,end:n}}function gp(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?uR(t.position):"start"in t||"end"in t?uR(t):"line"in t||"column"in t?Sj(t):""}function Sj(t){return dR(t&&t.line)+":"+dR(t&&t.column)}function uR(t){return Sj(t&&t.start)+"-"+Sj(t&&t.end)}function dR(t){return t&&typeof t=="number"?t:1}class tr extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(s=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=gp(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}tr.prototype.file="";tr.prototype.name="";tr.prototype.reason="";tr.prototype.message="";tr.prototype.stack="";tr.prototype.column=void 0;tr.prototype.line=void 0;tr.prototype.ancestors=void 0;tr.prototype.cause=void 0;tr.prototype.fatal=void 0;tr.prototype.place=void 0;tr.prototype.ruleId=void 0;tr.prototype.source=void 0;const WC={}.hasOwnProperty,sve=new Map,ove=/[A-Z]/g,lve=new Set(["table","tbody","thead","tfoot","tr"]),cve=new Set(["td","th"]),i9="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function uve(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=vve(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=yve(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?UC:Cye,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=a9(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function a9(t,e,n){if(e.type==="element")return dve(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return fve(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return pve(t,e,n);if(e.type==="mdxjsEsm")return hve(t,e);if(e.type==="root")return mve(t,e,n);if(e.type==="text")return gve(t,e)}function dve(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=UC,t.schema=i),t.ancestors.push(e);const a=o9(t,e.tagName,!1),s=xve(t,e);let o=GC(t,e);return lve.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!xye(l):!0})),s9(t,s,a,e),qC(s,o),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function fve(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}cm(t,e.position)}function hve(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);cm(t,e.position)}function pve(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=UC,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:o9(t,e.name,!0),s=bve(t,e),o=GC(t,e);return s9(t,s,a,e),qC(s,o),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function mve(t,e,n){const r={};return qC(r,GC(t,e)),t.create(e,t.Fragment,r,n)}function gve(t,e){return e.value}function s9(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function qC(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function yve(t,e,n){return r;function r(i,a,s,o){const c=Array.isArray(s.children)?n:e;return o?c(a,s,o):c(a,s)}}function vve(t,e){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=VC(r);return e(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function xve(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&WC.call(e.properties,i)){const a=wve(t,i,e.properties[i]);if(a){const[s,o]=a;t.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&cve.has(e.tagName)?r=o:n[s]=o}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function bve(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,t.evaluater.evaluateExpression(o.argument))}else cm(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const o=r.value.data.estree.body[0];o.type,a=t.evaluater.evaluateExpression(o.expression)}else cm(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function GC(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:sve;for(;++r<e.children.length;){const a=e.children[r];let s;if(t.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;s=l+"-"+c,i.set(l,c+1)}}const o=a9(t,a,s);o!==void 0&&n.push(o)}return n}function wve(t,e,n){const r=Aye(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?pye(n):Oye(n)),r.property==="style"){let i=typeof n=="object"?n:_ve(t,String(n));return t.stylePropertyNameCase==="css"&&(i=Sve(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?Sye[r.property]||r.property:r.attribute,n]}}function _ve(t,e){try{return ive(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new tr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=i9+"#cannot-parse-style-attribute",i}}function o9(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,s;for(;++a<i.length;){const o=tR(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}r=s}else r=tR(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return WC.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);cm(t)}function cm(t,e){const n=new tr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=i9+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Sve(t){const e={};let n;for(n in t)WC.call(t,n)&&(e[Eve(n)]=t[n]);return e}function Eve(t){let e=t.replace(ove,jve);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function jve(t){return"-"+t.toLowerCase()}const m1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Ave={};function Tve(t,e){const n=Ave,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return l9(t,r,i)}function l9(t,e,n){if(kve(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return fR(t.children,e,n)}return Array.isArray(t)?fR(t,e,n):""}function fR(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=l9(t[i],e,n);return r.join("")}function kve(t){return!!(t&&typeof t=="object")}const hR=document.createElement("i");function KC(t){const e="&"+t+";";hR.innerHTML=e;const n=hR.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function ps(t,e,n,r){const i=t.length;let a=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(e,0),t.splice(...s),a+=1e4,e+=1e4}function Ei(t,e){return t.length>0?(ps(t,t.length,0,e),t):e}const pR={}.hasOwnProperty;function Cve(t){const e={};let n=-1;for(;++n<t.length;)Ove(e,t[n]);return e}function Ove(t,e){let n;for(n in e){const i=(pR.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let s;if(a)for(s in a){pR.call(i,s)||(i[s]=[]);const o=a[s];Nve(i[s],Array.isArray(o)?o:o?[o]:[])}}}function Nve(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);ps(t,0,0,r)}function c9(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function yd(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ka=Ml(/[A-Za-z]/),Qr=Ml(/[\dA-Za-z]/),Pve=Ml(/[#-'*+\--9=?A-Z^-~]/);function Ej(t){return t!==null&&(t<32||t===127)}const jj=Ml(/\d/),Ive=Ml(/[\dA-Fa-f]/),$ve=Ml(/[!-/:-@[-`{-~]/);function He(t){return t!==null&&t<-2}function Rr(t){return t!==null&&(t<0||t===32)}function yt(t){return t===-2||t===-1||t===32}const Rve=Ml(new RegExp("\\p{P}|\\p{S}","u")),Mve=Ml(/\s/);function Ml(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Vf(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let s="";if(a===37&&Qr(t.charCodeAt(n+1))&&Qr(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=t.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function It(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return yt(l)?(t.enter(n),o(l)):e(l)}function o(l){return yt(l)&&a++<i?(t.consume(l),o):(t.exit(n),e(l))}}const Dve={tokenize:Lve};function Lve(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),It(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),a(o)}function a(o){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return He(o)?(t.consume(o),t.exit("chunkText"),a):(t.consume(o),s)}}const Fve={tokenize:Bve},mR={tokenize:zve};function Bve(t){const e=this,n=[];let r=0,i,a,s;return o;function o(y){if(r<n.length){const _=n[r];return e.containerState=_[1],t.attempt(_[0].continuation,l,c)(y)}return c(y)}function l(y){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&v();const _=e.events.length;let w=_,E;for(;w--;)if(e.events[w][0]==="exit"&&e.events[w][1].type==="chunkFlow"){E=e.events[w][1].end;break}b(r);let A=_;for(;A<e.events.length;)e.events[A][1].end={...E},A++;return ps(e.events,w+1,0,e.events.slice(_)),e.events.length=A,c(y)}return o(y)}function c(y){if(r===n.length){if(!i)return h(y);if(i.currentConstruct&&i.currentConstruct.concrete)return m(y);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(mR,d,f)(y)}function d(y){return i&&v(),b(r),h(y)}function f(y){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,m(y)}function h(y){return e.containerState={},t.attempt(mR,p,m)(y)}function p(y){return r++,n.push([e.currentConstruct,e.containerState]),h(y)}function m(y){if(y===null){i&&v(),b(0),t.consume(y);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(y)}function g(y){if(y===null){x(t.exit("chunkFlow"),!0),b(0),t.consume(y);return}return He(y)?(t.consume(y),x(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(y),g)}function x(y,_){const w=e.sliceStream(y);if(_&&w.push(null),y.previous=a,a&&(a.next=y),a=y,i.defineSkip(y.start),i.write(w),e.parser.lazy[y.start.line]){let E=i.events.length;for(;E--;)if(i.events[E][1].start.offset<s&&(!i.events[E][1].end||i.events[E][1].end.offset>s))return;const A=e.events.length;let j=A,T,k;for(;j--;)if(e.events[j][0]==="exit"&&e.events[j][1].type==="chunkFlow"){if(T){k=e.events[j][1].end;break}T=!0}for(b(r),E=A;E<e.events.length;)e.events[E][1].end={...k},E++;ps(e.events,j+1,0,e.events.slice(A)),e.events.length=E}}function b(y){let _=n.length;for(;_-- >y;){const w=n[_];e.containerState=w[1],w[0].exit.call(e,t)}n.length=y}function v(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function zve(t,e,n){return It(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function gR(t){if(t===null||Rr(t)||Mve(t))return 1;if(Rve(t))return 2}function YC(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const Aj={name:"attention",resolveAll:Uve,tokenize:Hve};function Uve(t,e){let n=-1,r,i,a,s,o,l,c,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[r][1].end},h={...t[n][1].start};yR(f,-l),yR(h,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...t[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},t[r][1].end={...s.start},t[n][1].start={...o.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=Ei(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=Ei(c,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",a,e]]),c=Ei(c,YC(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=Ei(c,[["exit",a,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,c=Ei(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):d=0,ps(t,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Hve(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=gR(r);let a;return s;function s(l){return a=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===a)return t.consume(l),o;const c=t.exit("attentionSequence"),d=gR(l),f=!d||d===2&&i||n.includes(l),h=!i||i===2&&d||n.includes(r);return c._open=!!(a===42?f:f&&(i||!h)),c._close=!!(a===42?h:h&&(d||!f)),e(l)}}function yR(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Vve={name:"autolink",tokenize:Wve};function Wve(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(p){return Ka(p)?(t.consume(p),s):p===64?n(p):c(p)}function s(p){return p===43||p===45||p===46||Qr(p)?(r=1,o(p)):c(p)}function o(p){return p===58?(t.consume(p),r=0,l):(p===43||p===45||p===46||Qr(p))&&r++<32?(t.consume(p),o):(r=0,c(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||Ej(p)?n(p):(t.consume(p),l)}function c(p){return p===64?(t.consume(p),d):Pve(p)?(t.consume(p),c):n(p)}function d(p){return Qr(p)?f(p):n(p)}function f(p){return p===46?(t.consume(p),r=0,d):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):h(p)}function h(p){if((p===45||Qr(p))&&r++<63){const m=p===45?h:f;return t.consume(p),m}return n(p)}}const Lb={partial:!0,tokenize:qve};function qve(t,e,n){return r;function r(a){return yt(a)?It(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||He(a)?e(a):n(a)}}const u9={continuation:{tokenize:Kve},exit:Yve,name:"blockQuote",tokenize:Gve};function Gve(t,e,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),a}return n(s)}function a(s){return yt(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function Kve(t,e,n){const r=this;return i;function i(s){return yt(s)?It(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return t.attempt(u9,e,n)(s)}}function Yve(t){t.exit("blockQuote")}const d9={name:"characterEscape",tokenize:Xve};function Xve(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return $ve(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const f9={name:"characterReference",tokenize:Zve};function Zve(t,e,n){const r=this;let i=0,a,s;return o;function o(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),l}function l(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),a=31,s=Qr,d(f))}function c(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,s=Ive,d):(t.enter("characterReferenceValue"),a=7,s=jj,d(f))}function d(f){if(f===59&&i){const h=t.exit("characterReferenceValue");return s===Qr&&!KC(r.sliceSerialize(h))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(f)&&i++<a?(t.consume(f),d):n(f)}}const vR={partial:!0,tokenize:Qve},xR={concrete:!0,name:"codeFenced",tokenize:Jve};function Jve(t,e,n){const r=this,i={partial:!0,tokenize:w};let a=0,s=0,o;return l;function l(E){return c(E)}function c(E){const A=r.events[r.events.length-1];return a=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,o=E,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(E)}function d(E){return E===o?(s++,t.consume(E),d):s<3?n(E):(t.exit("codeFencedFenceSequence"),yt(E)?It(t,f,"whitespace")(E):f(E))}function f(E){return E===null||He(E)?(t.exit("codeFencedFence"),r.interrupt?e(E):t.check(vR,g,_)(E)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(E))}function h(E){return E===null||He(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(E)):yt(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),It(t,p,"whitespace")(E)):E===96&&E===o?n(E):(t.consume(E),h)}function p(E){return E===null||He(E)?f(E):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),m(E))}function m(E){return E===null||He(E)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(E)):E===96&&E===o?n(E):(t.consume(E),m)}function g(E){return t.attempt(i,_,x)(E)}function x(E){return t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),b}function b(E){return a>0&&yt(E)?It(t,v,"linePrefix",a+1)(E):v(E)}function v(E){return E===null||He(E)?t.check(vR,g,_)(E):(t.enter("codeFlowValue"),y(E))}function y(E){return E===null||He(E)?(t.exit("codeFlowValue"),v(E)):(t.consume(E),y)}function _(E){return t.exit("codeFenced"),e(E)}function w(E,A,j){let T=0;return k;function k(D){return E.enter("lineEnding"),E.consume(D),E.exit("lineEnding"),C}function C(D){return E.enter("codeFencedFence"),yt(D)?It(E,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):O(D)}function O(D){return D===o?(E.enter("codeFencedFenceSequence"),F(D)):j(D)}function F(D){return D===o?(T++,E.consume(D),F):T>=s?(E.exit("codeFencedFenceSequence"),yt(D)?It(E,R,"whitespace")(D):R(D)):j(D)}function R(D){return D===null||He(D)?(E.exit("codeFencedFence"),A(D)):j(D)}}}function Qve(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const g1={name:"codeIndented",tokenize:t0e},e0e={partial:!0,tokenize:n0e};function t0e(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),It(t,a,"linePrefix",5)(c)}function a(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?l(c):He(c)?t.attempt(e0e,s,l)(c):(t.enter("codeFlowValue"),o(c))}function o(c){return c===null||He(c)?(t.exit("codeFlowValue"),s(c)):(t.consume(c),o)}function l(c){return t.exit("codeIndented"),e(c)}}function n0e(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):He(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):It(t,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):He(s)?i(s):n(s)}}const r0e={name:"codeText",previous:a0e,resolve:i0e,tokenize:s0e};function i0e(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function a0e(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function s0e(t,e,n){let r=0,i,a;return s;function s(f){return t.enter("codeText"),t.enter("codeTextSequence"),o(f)}function o(f){return f===96?(t.consume(f),r++,o):(t.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),l):f===96?(a=t.enter("codeTextSequence"),i=0,d(f)):He(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||He(f)?(t.exit("codeTextData"),l(f)):(t.consume(f),c)}function d(f){return f===96?(t.consume(f),i++,d):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(a.type="codeTextData",c(f))}}class o0e{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&wh(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),wh(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),wh(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);wh(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);wh(this.left,n.reverse())}}}function wh(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function h9(t){const e={};let n=-1,r,i,a,s,o,l,c;const d=new o0e(t);for(;++n<d.length;){for(;n in e;)n=e[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,l0e(d,n)),n=e[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=d.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return ps(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function l0e(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],c={};let d,f,h=-1,p=n,m=0,g=0;const x=[g];for(;p;){for(;t.get(++i)[1]!==p;);a.push(i),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),f&&s.defineSkip(p.start),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(g=h+1,x.push(g),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(s.events=[],p?(p._tokenizer=void 0,p.previous=void 0):x.pop(),h=x.length;h--;){const b=o.slice(x[h],x[h+1]),v=a.pop();l.push([v,v+b.length-1]),t.splice(v,2,b)}for(l.reverse(),h=-1;++h<l.length;)c[m+l[h][0]]=m+l[h][1],m+=l[h][1]-l[h][0]-1;return c}const c0e={resolve:d0e,tokenize:f0e},u0e={partial:!0,tokenize:h0e};function d0e(t){return h9(t),t}function f0e(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):He(o)?t.check(u0e,s,a)(o):(t.consume(o),i)}function a(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function s(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function h0e(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),It(t,a,"linePrefix")}function a(s){if(s===null||He(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function p9(t,e,n,r,i,a,s,o,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(b){return b===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(b),t.exit(a),h):b===null||b===32||b===41||Ej(b)?n(b):(t.enter(r),t.enter(s),t.enter(o),t.enter("chunkString",{contentType:"string"}),g(b))}function h(b){return b===62?(t.enter(a),t.consume(b),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===62?(t.exit("chunkString"),t.exit(o),h(b)):b===null||b===60||He(b)?n(b):(t.consume(b),b===92?m:p)}function m(b){return b===60||b===62||b===92?(t.consume(b),p):p(b)}function g(b){return!d&&(b===null||b===41||Rr(b))?(t.exit("chunkString"),t.exit(o),t.exit(s),t.exit(r),e(b)):d<c&&b===40?(t.consume(b),d++,g):b===41?(t.consume(b),d--,g):b===null||b===32||b===40||Ej(b)?n(b):(t.consume(b),b===92?x:g)}function x(b){return b===40||b===41||b===92?(t.consume(b),g):g(b)}}function m9(t,e,n,r,i,a){const s=this;let o=0,l;return c;function c(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(a),d}function d(p){return o>999||p===null||p===91||p===93&&!l||p===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(p):p===93?(t.exit(a),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):He(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||He(p)||o++>999?(t.exit("chunkString"),d(p)):(t.consume(p),l||(l=!yt(p)),p===92?h:f)}function h(p){return p===91||p===92||p===93?(t.consume(p),o++,f):f(p)}}function g9(t,e,n,r,i,a){let s;return o;function o(h){return h===34||h===39||h===40?(t.enter(r),t.enter(i),t.consume(h),t.exit(i),s=h===40?41:h,l):n(h)}function l(h){return h===s?(t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):(t.enter(a),c(h))}function c(h){return h===s?(t.exit(a),l(s)):h===null?n(h):He(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),It(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===s||h===null||He(h)?(t.exit("chunkString"),c(h)):(t.consume(h),h===92?f:d)}function f(h){return h===s||h===92?(t.consume(h),d):d(h)}}function yp(t,e){let n;return r;function r(i){return He(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):yt(i)?It(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const p0e={name:"definition",tokenize:g0e},m0e={partial:!0,tokenize:y0e};function g0e(t,e,n){const r=this;let i;return a;function a(p){return t.enter("definition"),s(p)}function s(p){return m9.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return i=yd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):n(p)}function l(p){return Rr(p)?yp(t,c)(p):c(p)}function c(p){return p9(t,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return t.attempt(m0e,f,f)(p)}function f(p){return yt(p)?It(t,h,"whitespace")(p):h(p)}function h(p){return p===null||He(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function y0e(t,e,n){return r;function r(o){return Rr(o)?yp(t,i)(o):n(o)}function i(o){return g9(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return yt(o)?It(t,s,"whitespace")(o):s(o)}function s(o){return o===null||He(o)?e(o):n(o)}}const v0e={name:"hardBreakEscape",tokenize:x0e};function x0e(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return He(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const b0e={name:"headingAtx",resolve:w0e,tokenize:_0e};function w0e(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},ps(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function _0e(t,e,n){let r=0;return i;function i(d){return t.enter("atxHeading"),a(d)}function a(d){return t.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&r++<6?(t.consume(d),s):d===null||Rr(d)?(t.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(t.enter("atxHeadingSequence"),l(d)):d===null||He(d)?(t.exit("atxHeading"),e(d)):yt(d)?It(t,o,"whitespace")(d):(t.enter("atxHeadingText"),c(d))}function l(d){return d===35?(t.consume(d),l):(t.exit("atxHeadingSequence"),o(d))}function c(d){return d===null||d===35||Rr(d)?(t.exit("atxHeadingText"),o(d)):(t.consume(d),c)}}const S0e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],bR=["pre","script","style","textarea"],E0e={concrete:!0,name:"htmlFlow",resolveTo:T0e,tokenize:k0e},j0e={partial:!0,tokenize:O0e},A0e={partial:!0,tokenize:C0e};function T0e(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function k0e(t,e,n){const r=this;let i,a,s,o,l;return c;function c($){return d($)}function d($){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume($),f}function f($){return $===33?(t.consume($),h):$===47?(t.consume($),a=!0,g):$===63?(t.consume($),i=3,r.interrupt?e:P):Ka($)?(t.consume($),s=String.fromCharCode($),x):n($)}function h($){return $===45?(t.consume($),i=2,p):$===91?(t.consume($),i=5,o=0,m):Ka($)?(t.consume($),i=4,r.interrupt?e:P):n($)}function p($){return $===45?(t.consume($),r.interrupt?e:P):n($)}function m($){const ee="CDATA[";return $===ee.charCodeAt(o++)?(t.consume($),o===ee.length?r.interrupt?e:O:m):n($)}function g($){return Ka($)?(t.consume($),s=String.fromCharCode($),x):n($)}function x($){if($===null||$===47||$===62||Rr($)){const ee=$===47,ie=s.toLowerCase();return!ee&&!a&&bR.includes(ie)?(i=1,r.interrupt?e($):O($)):S0e.includes(s.toLowerCase())?(i=6,ee?(t.consume($),b):r.interrupt?e($):O($)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n($):a?v($):y($))}return $===45||Qr($)?(t.consume($),s+=String.fromCharCode($),x):n($)}function b($){return $===62?(t.consume($),r.interrupt?e:O):n($)}function v($){return yt($)?(t.consume($),v):k($)}function y($){return $===47?(t.consume($),k):$===58||$===95||Ka($)?(t.consume($),_):yt($)?(t.consume($),y):k($)}function _($){return $===45||$===46||$===58||$===95||Qr($)?(t.consume($),_):w($)}function w($){return $===61?(t.consume($),E):yt($)?(t.consume($),w):y($)}function E($){return $===null||$===60||$===61||$===62||$===96?n($):$===34||$===39?(t.consume($),l=$,A):yt($)?(t.consume($),E):j($)}function A($){return $===l?(t.consume($),l=null,T):$===null||He($)?n($):(t.consume($),A)}function j($){return $===null||$===34||$===39||$===47||$===60||$===61||$===62||$===96||Rr($)?w($):(t.consume($),j)}function T($){return $===47||$===62||yt($)?y($):n($)}function k($){return $===62?(t.consume($),C):n($)}function C($){return $===null||He($)?O($):yt($)?(t.consume($),C):n($)}function O($){return $===45&&i===2?(t.consume($),U):$===60&&i===1?(t.consume($),V):$===62&&i===4?(t.consume($),W):$===63&&i===3?(t.consume($),P):$===93&&i===5?(t.consume($),B):He($)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(j0e,G,F)($)):$===null||He($)?(t.exit("htmlFlowData"),F($)):(t.consume($),O)}function F($){return t.check(A0e,R,G)($)}function R($){return t.enter("lineEnding"),t.consume($),t.exit("lineEnding"),D}function D($){return $===null||He($)?F($):(t.enter("htmlFlowData"),O($))}function U($){return $===45?(t.consume($),P):O($)}function V($){return $===47?(t.consume($),s="",L):O($)}function L($){if($===62){const ee=s.toLowerCase();return bR.includes(ee)?(t.consume($),W):O($)}return Ka($)&&s.length<8?(t.consume($),s+=String.fromCharCode($),L):O($)}function B($){return $===93?(t.consume($),P):O($)}function P($){return $===62?(t.consume($),W):$===45&&i===2?(t.consume($),P):O($)}function W($){return $===null||He($)?(t.exit("htmlFlowData"),G($)):(t.consume($),W)}function G($){return t.exit("htmlFlow"),e($)}}function C0e(t,e,n){const r=this;return i;function i(s){return He(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function O0e(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Lb,e,n)}}const N0e={name:"htmlText",tokenize:P0e};function P0e(t,e,n){const r=this;let i,a,s;return o;function o(P){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(P),l}function l(P){return P===33?(t.consume(P),c):P===47?(t.consume(P),w):P===63?(t.consume(P),y):Ka(P)?(t.consume(P),j):n(P)}function c(P){return P===45?(t.consume(P),d):P===91?(t.consume(P),a=0,m):Ka(P)?(t.consume(P),v):n(P)}function d(P){return P===45?(t.consume(P),p):n(P)}function f(P){return P===null?n(P):P===45?(t.consume(P),h):He(P)?(s=f,V(P)):(t.consume(P),f)}function h(P){return P===45?(t.consume(P),p):f(P)}function p(P){return P===62?U(P):P===45?h(P):f(P)}function m(P){const W="CDATA[";return P===W.charCodeAt(a++)?(t.consume(P),a===W.length?g:m):n(P)}function g(P){return P===null?n(P):P===93?(t.consume(P),x):He(P)?(s=g,V(P)):(t.consume(P),g)}function x(P){return P===93?(t.consume(P),b):g(P)}function b(P){return P===62?U(P):P===93?(t.consume(P),b):g(P)}function v(P){return P===null||P===62?U(P):He(P)?(s=v,V(P)):(t.consume(P),v)}function y(P){return P===null?n(P):P===63?(t.consume(P),_):He(P)?(s=y,V(P)):(t.consume(P),y)}function _(P){return P===62?U(P):y(P)}function w(P){return Ka(P)?(t.consume(P),E):n(P)}function E(P){return P===45||Qr(P)?(t.consume(P),E):A(P)}function A(P){return He(P)?(s=A,V(P)):yt(P)?(t.consume(P),A):U(P)}function j(P){return P===45||Qr(P)?(t.consume(P),j):P===47||P===62||Rr(P)?T(P):n(P)}function T(P){return P===47?(t.consume(P),U):P===58||P===95||Ka(P)?(t.consume(P),k):He(P)?(s=T,V(P)):yt(P)?(t.consume(P),T):U(P)}function k(P){return P===45||P===46||P===58||P===95||Qr(P)?(t.consume(P),k):C(P)}function C(P){return P===61?(t.consume(P),O):He(P)?(s=C,V(P)):yt(P)?(t.consume(P),C):T(P)}function O(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(t.consume(P),i=P,F):He(P)?(s=O,V(P)):yt(P)?(t.consume(P),O):(t.consume(P),R)}function F(P){return P===i?(t.consume(P),i=void 0,D):P===null?n(P):He(P)?(s=F,V(P)):(t.consume(P),F)}function R(P){return P===null||P===34||P===39||P===60||P===61||P===96?n(P):P===47||P===62||Rr(P)?T(P):(t.consume(P),R)}function D(P){return P===47||P===62||Rr(P)?T(P):n(P)}function U(P){return P===62?(t.consume(P),t.exit("htmlTextData"),t.exit("htmlText"),e):n(P)}function V(P){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(P),t.exit("lineEnding"),L}function L(P){return yt(P)?It(t,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):B(P)}function B(P){return t.enter("htmlTextData"),s(P)}}const XC={name:"labelEnd",resolveAll:M0e,resolveTo:D0e,tokenize:L0e},I0e={tokenize:F0e},$0e={tokenize:B0e},R0e={tokenize:z0e};function M0e(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&ps(t,0,t.length,n),t}function D0e(t,e){let n=t.length,r=0,i,a,s,o;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[a][1].start},end:{...t[s][1].end}},d={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[s-2][1].start}};return o=[["enter",l,e],["enter",c,e]],o=Ei(o,t.slice(a+1,a+r+3)),o=Ei(o,[["enter",d,e]]),o=Ei(o,YC(e.parser.constructs.insideSpan.null,t.slice(a+r+4,s-3),e)),o=Ei(o,[["exit",d,e],t[s-2],t[s-1],["exit",c,e]]),o=Ei(o,t.slice(s+1)),o=Ei(o,[["exit",l,e]]),ps(t,a,t.length,o),t}function L0e(t,e,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(h){return a?a._inactive?f(h):(s=r.parser.defined.includes(yd(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),l):n(h)}function l(h){return h===40?t.attempt(I0e,d,s?d:f)(h):h===91?t.attempt($0e,d,s?c:f)(h):s?d(h):f(h)}function c(h){return t.attempt(R0e,d,f)(h)}function d(h){return e(h)}function f(h){return a._balanced=!0,n(h)}}function F0e(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),i}function i(f){return Rr(f)?yp(t,a)(f):a(f)}function a(f){return f===41?d(f):p9(t,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Rr(f)?yp(t,l)(f):d(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?g9(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return Rr(f)?yp(t,d)(f):d(f)}function d(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function B0e(t,e,n){const r=this;return i;function i(o){return m9.call(r,t,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(yd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function s(o){return n(o)}}function z0e(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const U0e={name:"labelStartImage",resolveAll:XC.resolveAll,tokenize:H0e};function H0e(t,e,n){const r=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),a}function a(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const V0e={name:"labelStartLink",resolveAll:XC.resolveAll,tokenize:W0e};function W0e(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const y1={name:"lineEnding",tokenize:q0e};function q0e(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),It(t,e,"linePrefix")}}const dv={name:"thematicBreak",tokenize:G0e};function G0e(t,e,n){let r=0,i;return a;function a(c){return t.enter("thematicBreak"),s(c)}function s(c){return i=c,o(c)}function o(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||He(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),yt(c)?It(t,o,"whitespace")(c):o(c))}}const wr={continuation:{tokenize:Z0e},exit:Q0e,name:"list",tokenize:X0e},K0e={partial:!0,tokenize:exe},Y0e={partial:!0,tokenize:J0e};function X0e(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(p){const m=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:jj(p)){if(r.containerState.type||(r.containerState.type=m,t.enter(m,{_container:!0})),m==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(dv,n,c)(p):c(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return n(p)}function l(p){return jj(p)&&++s<10?(t.consume(p),l):(!r.interrupt||s<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),c(p)):n(p)}function c(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(Lb,r.interrupt?n:d,t.attempt(K0e,h,f))}function d(p){return r.containerState.initialBlankLine=!0,a++,h(p)}function f(p){return yt(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function Z0e(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Lb,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,It(t,e,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!yt(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Y0e,e,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,It(t,t.attempt(wr,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function J0e(t,e,n){const r=this;return It(t,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(a):n(a)}}function Q0e(t){t.exit(this.containerState.type)}function exe(t,e,n){const r=this;return It(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!yt(a)&&s&&s[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const wR={name:"setextUnderline",resolveTo:txe,tokenize:nxe};function txe(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",s,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=s,t.push(["exit",s,e]),t}function nxe(t,e,n){const r=this;let i;return a;function a(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),i=c,s(c)):n(c)}function s(c){return t.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(t.consume(c),o):(t.exit("setextHeadingLineSequence"),yt(c)?It(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||He(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const rxe={tokenize:ixe};function ixe(t){const e=this,n=t.attempt(Lb,r,t.attempt(this.parser.constructs.flowInitial,i,It(t,t.attempt(this.parser.constructs.flow,i,t.attempt(c0e,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const axe={resolveAll:v9()},sxe=y9("string"),oxe=y9("text");function y9(t){return{resolveAll:v9(t==="text"?lxe:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,s,o);return s;function s(d){return c(d)?a(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),a(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const p=f[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function v9(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function lxe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(c===-2)l=!0,o++;else if(c!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(o=0),o){const c={type:n===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const cxe={42:wr,43:wr,45:wr,48:wr,49:wr,50:wr,51:wr,52:wr,53:wr,54:wr,55:wr,56:wr,57:wr,62:u9},uxe={91:p0e},dxe={[-2]:g1,[-1]:g1,32:g1},fxe={35:b0e,42:dv,45:[wR,dv],60:E0e,61:wR,95:dv,96:xR,126:xR},hxe={38:f9,92:d9},pxe={[-5]:y1,[-4]:y1,[-3]:y1,33:U0e,38:f9,42:Aj,60:[Vve,N0e],91:V0e,92:[v0e,d9],93:XC,95:Aj,96:r0e},mxe={null:[Aj,axe]},gxe={null:[42,95]},yxe={null:[]},vxe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:gxe,contentInitial:uxe,disable:yxe,document:cxe,flow:fxe,flowInitial:dxe,insideSpan:mxe,string:hxe,text:pxe},Symbol.toStringTag,{value:"Module"}));function xxe(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:A(w),check:A(E),consume:v,enter:y,exit:_,interrupt:A(E,{interrupt:!0})},c={code:null,containerState:{},defineSkip:g,events:[],now:m,parser:t,previous:null,sliceSerialize:h,sliceStream:p,write:f};let d=e.tokenize.call(c,l);return e.resolveAll&&a.push(e),c;function f(C){return s=Ei(s,C),x(),s[s.length-1]!==null?[]:(j(e,0),c.events=YC(a,c.events,c),c.events)}function h(C,O){return wxe(p(C),O)}function p(C){return bxe(s,C)}function m(){const{_bufferIndex:C,_index:O,line:F,column:R,offset:D}=r;return{_bufferIndex:C,_index:O,line:F,column:R,offset:D}}function g(C){i[C.line]=C.column,k()}function x(){let C;for(;r._index<s.length;){const O=s[r._index];if(typeof O=="string")for(C=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===C&&r._bufferIndex<O.length;)b(O.charCodeAt(r._bufferIndex));else b(O)}}function b(C){d=d(C)}function v(C){He(C)?(r.line++,r.column=1,r.offset+=C===-3?2:1,k()):C!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=C}function y(C,O){const F=O||{};return F.type=C,F.start=m(),c.events.push(["enter",F,c]),o.push(F),F}function _(C){const O=o.pop();return O.end=m(),c.events.push(["exit",O,c]),O}function w(C,O){j(C,O.from)}function E(C,O){O.restore()}function A(C,O){return F;function F(R,D,U){let V,L,B,P;return Array.isArray(R)?G(R):"tokenize"in R?G([R]):W(R);function W(I){return N;function N(K){const z=K!==null&&I[K],Z=K!==null&&I.null,J=[...Array.isArray(z)?z:z?[z]:[],...Array.isArray(Z)?Z:Z?[Z]:[]];return G(J)(K)}}function G(I){return V=I,L=0,I.length===0?U:$(I[L])}function $(I){return N;function N(K){return P=T(),B=I,I.partial||(c.currentConstruct=I),I.name&&c.parser.constructs.disable.null.includes(I.name)?ie():I.tokenize.call(O?Object.assign(Object.create(c),O):c,l,ee,ie)(K)}}function ee(I){return C(B,P),D}function ie(I){return P.restore(),++L<V.length?$(V[L]):U}}}function j(C,O){C.resolveAll&&!a.includes(C)&&a.push(C),C.resolve&&ps(c.events,O,c.events.length-O,C.resolve(c.events.slice(O),c)),C.resolveTo&&(c.events=C.resolveTo(c.events,c))}function T(){const C=m(),O=c.previous,F=c.currentConstruct,R=c.events.length,D=Array.from(o);return{from:R,restore:U};function U(){r=C,c.previous=O,c.currentConstruct=F,c.events.length=R,o=D,k()}}function k(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function bxe(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,a)];else{if(s=t.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(t[i].slice(0,a))}return s}function wxe(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function _xe(t){const r={constructs:Cve([vxe,...(t||{}).extensions||[]]),content:i(Dve),defined:[],document:i(Fve),flow:i(rxe),lazy:{},string:i(sxe),text:i(oxe)};return r;function i(a){return s;function s(o){return xxe(r,a,o)}}}function Sxe(t){for(;!h9(t););return t}const _R=/[\0\t\n\r]/g;function Exe(){let t=1,e="",n=!0,r;return i;function i(a,s,o){const l=[];let c,d,f,h,p;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,e="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(_R.lastIndex=f,c=_R.exec(a),h=c&&c.index!==void 0?c.index:a.length,p=a.charCodeAt(h),!c){e=a.slice(f);break}if(p===10&&f===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<h&&(l.push(a.slice(f,h)),t+=h-f),p){case 0:{l.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,l.push(-2);t++<d;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}f=h+1}return o&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const jxe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Axe(t){return t.replace(jxe,Txe)}function Txe(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return c9(n.slice(a?2:1),a?16:10)}return KC(n)||t}const x9={}.hasOwnProperty;function kxe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Cxe(n)(Sxe(_xe(n).document().write(Exe()(t,e,!0))))}function Cxe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(De),autolinkProtocol:T,autolinkEmail:T,atxHeading:a(xe),blockQuote:a(Z),characterEscape:T,characterReference:T,codeFenced:a(J),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(J,s),codeText:a(Y,s),codeTextData:T,data:T,codeFlowValue:T,definition:a(me),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(le),hardBreakEscape:a(oe),hardBreakTrailing:a(oe),htmlFlow:a(Be,s),htmlFlowData:T,htmlText:a(Be,s),htmlTextData:T,image:a(Te),label:s,link:a(De),listItem:a(At),listItemValue:h,listOrdered:a(ae,f),listUnordered:a(ae),paragraph:a(_e),reference:$,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(xe),strong:a(ve),thematicBreak:a(ge)},exit:{atxHeading:l(),atxHeadingSequence:w,autolink:l(),autolinkEmail:z,autolinkProtocol:K,blockQuote:l(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:ie,characterReferenceMarkerNumeric:ie,characterReferenceValue:I,characterReference:N,codeFenced:l(x),codeFencedFence:g,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:k,codeIndented:l(b),codeText:l(D),codeTextData:k,data:k,definition:l(),definitionDestinationString:_,definitionLabelString:v,definitionTitleString:y,emphasis:l(),hardBreakEscape:l(O),hardBreakTrailing:l(O),htmlFlow:l(F),htmlFlowData:k,htmlText:l(R),htmlTextData:k,image:l(V),label:B,labelText:L,lineEnding:C,link:l(U),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ee,resourceDestinationString:P,resourceTitleString:W,resource:G,setextHeading:l(j),setextHeadingLineSequence:A,setextHeadingText:E,strong:l(),thematicBreak:l()}};b9(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(q){let X={type:"root",children:[]};const re={stack:[X],tokenStack:[],config:e,enter:o,exit:c,buffer:s,resume:d,data:n},Oe=[];let ct=-1;for(;++ct<q.length;)if(q[ct][1].type==="listOrdered"||q[ct][1].type==="listUnordered")if(q[ct][0]==="enter")Oe.push(ct);else{const Kt=Oe.pop();ct=i(q,Kt,ct)}for(ct=-1;++ct<q.length;){const Kt=e[q[ct][0]];x9.call(Kt,q[ct][1].type)&&Kt[q[ct][1].type].call(Object.assign({sliceSerialize:q[ct][2].sliceSerialize},re),q[ct][1])}if(re.tokenStack.length>0){const Kt=re.tokenStack[re.tokenStack.length-1];(Kt[1]||SR).call(re,void 0,Kt[0])}for(X.position={start:So(q.length>0?q[0][1].start:{line:1,column:1,offset:0}),end:So(q.length>0?q[q.length-2][1].end:{line:1,column:1,offset:0})},ct=-1;++ct<e.transforms.length;)X=e.transforms[ct](X)||X;return X}function i(q,X,re){let Oe=X-1,ct=-1,Kt=!1,on,Cn,Ia,_s;for(;++Oe<=re;){const en=q[Oe];switch(en[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{en[0]==="enter"?ct++:ct--,_s=void 0;break}case"lineEndingBlank":{en[0]==="enter"&&(on&&!_s&&!ct&&!Ia&&(Ia=Oe),_s=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:_s=void 0}if(!ct&&en[0]==="enter"&&en[1].type==="listItemPrefix"||ct===-1&&en[0]==="exit"&&(en[1].type==="listUnordered"||en[1].type==="listOrdered")){if(on){let go=Oe;for(Cn=void 0;go--;){const Fe=q[go];if(Fe[1].type==="lineEnding"||Fe[1].type==="lineEndingBlank"){if(Fe[0]==="exit")continue;Cn&&(q[Cn][1].type="lineEndingBlank",Kt=!0),Fe[1].type="lineEnding",Cn=go}else if(!(Fe[1].type==="linePrefix"||Fe[1].type==="blockQuotePrefix"||Fe[1].type==="blockQuotePrefixWhitespace"||Fe[1].type==="blockQuoteMarker"||Fe[1].type==="listItemIndent"))break}Ia&&(!Cn||Ia<Cn)&&(on._spread=!0),on.end=Object.assign({},Cn?q[Cn][1].start:en[1].end),q.splice(Cn||Oe,0,["exit",on,en[2]]),Oe++,re++}if(en[1].type==="listItemPrefix"){const go={type:"listItem",_spread:!1,start:Object.assign({},en[1].start),end:void 0};on=go,q.splice(Oe,0,["enter",go,en[2]]),Oe++,re++,Ia=void 0,_s=!0}}}return q[X][1]._spread=Kt,re}function a(q,X){return re;function re(Oe){o.call(this,q(Oe),Oe),X&&X.call(this,Oe)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(q,X,re){this.stack[this.stack.length-1].children.push(q),this.stack.push(q),this.tokenStack.push([X,re||void 0]),q.position={start:So(X.start),end:void 0}}function l(q){return X;function X(re){q&&q.call(this,re),c.call(this,re)}}function c(q,X){const re=this.stack.pop(),Oe=this.tokenStack.pop();if(Oe)Oe[0].type!==q.type&&(X?X.call(this,q,Oe[0]):(Oe[1]||SR).call(this,q,Oe[0]));else throw new Error("Cannot close `"+q.type+"` ("+gp({start:q.start,end:q.end})+"): its not open");re.position.end=So(q.end)}function d(){return Tve(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(q){if(this.data.expectingFirstListItemValue){const X=this.stack[this.stack.length-2];X.start=Number.parseInt(this.sliceSerialize(q),10),this.data.expectingFirstListItemValue=void 0}}function p(){const q=this.resume(),X=this.stack[this.stack.length-1];X.lang=q}function m(){const q=this.resume(),X=this.stack[this.stack.length-1];X.meta=q}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const q=this.resume(),X=this.stack[this.stack.length-1];X.value=q.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const q=this.resume(),X=this.stack[this.stack.length-1];X.value=q.replace(/(\r?\n|\r)$/g,"")}function v(q){const X=this.resume(),re=this.stack[this.stack.length-1];re.label=X,re.identifier=yd(this.sliceSerialize(q)).toLowerCase()}function y(){const q=this.resume(),X=this.stack[this.stack.length-1];X.title=q}function _(){const q=this.resume(),X=this.stack[this.stack.length-1];X.url=q}function w(q){const X=this.stack[this.stack.length-1];if(!X.depth){const re=this.sliceSerialize(q).length;X.depth=re}}function E(){this.data.setextHeadingSlurpLineEnding=!0}function A(q){const X=this.stack[this.stack.length-1];X.depth=this.sliceSerialize(q).codePointAt(0)===61?1:2}function j(){this.data.setextHeadingSlurpLineEnding=void 0}function T(q){const re=this.stack[this.stack.length-1].children;let Oe=re[re.length-1];(!Oe||Oe.type!=="text")&&(Oe=we(),Oe.position={start:So(q.start),end:void 0},re.push(Oe)),this.stack.push(Oe)}function k(q){const X=this.stack.pop();X.value+=this.sliceSerialize(q),X.position.end=So(q.end)}function C(q){const X=this.stack[this.stack.length-1];if(this.data.atHardBreak){const re=X.children[X.children.length-1];re.position.end=So(q.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(X.type)&&(T.call(this,q),k.call(this,q))}function O(){this.data.atHardBreak=!0}function F(){const q=this.resume(),X=this.stack[this.stack.length-1];X.value=q}function R(){const q=this.resume(),X=this.stack[this.stack.length-1];X.value=q}function D(){const q=this.resume(),X=this.stack[this.stack.length-1];X.value=q}function U(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const X=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=X,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function V(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const X=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=X,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function L(q){const X=this.sliceSerialize(q),re=this.stack[this.stack.length-2];re.label=Axe(X),re.identifier=yd(X).toLowerCase()}function B(){const q=this.stack[this.stack.length-1],X=this.resume(),re=this.stack[this.stack.length-1];if(this.data.inReference=!0,re.type==="link"){const Oe=q.children;re.children=Oe}else re.alt=X}function P(){const q=this.resume(),X=this.stack[this.stack.length-1];X.url=q}function W(){const q=this.resume(),X=this.stack[this.stack.length-1];X.title=q}function G(){this.data.inReference=void 0}function $(){this.data.referenceType="collapsed"}function ee(q){const X=this.resume(),re=this.stack[this.stack.length-1];re.label=X,re.identifier=yd(this.sliceSerialize(q)).toLowerCase(),this.data.referenceType="full"}function ie(q){this.data.characterReferenceType=q.type}function I(q){const X=this.sliceSerialize(q),re=this.data.characterReferenceType;let Oe;re?(Oe=c9(X,re==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Oe=KC(X);const ct=this.stack[this.stack.length-1];ct.value+=Oe}function N(q){const X=this.stack.pop();X.position.end=So(q.end)}function K(q){k.call(this,q);const X=this.stack[this.stack.length-1];X.url=this.sliceSerialize(q)}function z(q){k.call(this,q);const X=this.stack[this.stack.length-1];X.url="mailto:"+this.sliceSerialize(q)}function Z(){return{type:"blockquote",children:[]}}function J(){return{type:"code",lang:null,meta:null,value:""}}function Y(){return{type:"inlineCode",value:""}}function me(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function le(){return{type:"emphasis",children:[]}}function xe(){return{type:"heading",depth:0,children:[]}}function oe(){return{type:"break"}}function Be(){return{type:"html",value:""}}function Te(){return{type:"image",title:null,url:"",alt:null}}function De(){return{type:"link",title:null,url:"",children:[]}}function ae(q){return{type:"list",ordered:q.type==="listOrdered",start:null,spread:q._spread,children:[]}}function At(q){return{type:"listItem",spread:q._spread,checked:null,children:[]}}function _e(){return{type:"paragraph",children:[]}}function ve(){return{type:"strong",children:[]}}function we(){return{type:"text",value:""}}function ge(){return{type:"thematicBreak"}}}function So(t){return{line:t.line,column:t.column,offset:t.offset}}function b9(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?b9(t,r):Oxe(t,r)}}function Oxe(t,e){let n;for(n in e)if(x9.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function SR(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+gp({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+gp({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+gp({start:e.start,end:e.end})+") is still open")}function Nxe(t){const e=this;e.parser=n;function n(r){return kxe(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Pxe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Ixe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function $xe(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function Rxe(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Mxe(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Dxe(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Vf(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let s,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=a+1,o+=1,t.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function Lxe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Fxe(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function w9(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function Bxe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return w9(t,e);const i={src:Vf(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function zxe(t,e){const n={src:Vf(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function Uxe(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function Hxe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return w9(t,e);const i={href:Vf(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function Vxe(t,e){const n={href:Vf(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Wxe(t,e,n){const r=t.all(e),i=n?qxe(n):_9(e),a={},s=[];if(typeof e.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?s.push(...d.children):s.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:s};return t.patch(e,c),t.applyData(e,c)}function qxe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=_9(n[r])}return e}function _9(t){const e=t.spread;return e??t.children.length>1}function Gxe(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function Kxe(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Yxe(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Xxe(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Zxe(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=VC(e.children[1]),l=n9(e.children[e.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function Jxe(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:e.children.length;let l=-1;const c=[];for(;++l<o;){const f=e.children[l],h={},p=s?s[l]:void 0;p&&(h.align=p);let m={type:"element",tagName:a,properties:h,children:[]};f&&(m.children=t.all(f),t.patch(f,m),m=t.applyData(f,m)),c.push(m)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,d),t.applyData(e,d)}function Qxe(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const ER=9,jR=32;function ebe(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(AR(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(AR(e.slice(i),i>0,!1)),a.join("")}function AR(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===ER||a===jR;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===ER||a===jR;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function tbe(t,e){const n={type:"text",value:ebe(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function nbe(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const rbe={blockquote:Pxe,break:Ixe,code:$xe,delete:Rxe,emphasis:Mxe,footnoteReference:Dxe,heading:Lxe,html:Fxe,imageReference:Bxe,image:zxe,inlineCode:Uxe,linkReference:Hxe,link:Vxe,listItem:Wxe,list:Gxe,paragraph:Kxe,root:Yxe,strong:Xxe,table:Zxe,tableCell:Qxe,tableRow:Jxe,text:tbe,thematicBreak:nbe,toml:jy,yaml:jy,definition:jy,footnoteDefinition:jy};function jy(){}const S9=-1,Fb=0,vp=1,g0=2,ZC=3,JC=4,QC=5,eO=6,E9=7,j9=8,TR=typeof self=="object"?self:globalThis,ibe=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,s]=e[i];switch(a){case Fb:case S9:return n(s,i);case vp:{const o=n([],i);for(const l of s)o.push(r(l));return o}case g0:{const o=n({},i);for(const[l,c]of s)o[r(l)]=r(c);return o}case ZC:return n(new Date(s),i);case JC:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case QC:{const o=n(new Map,i);for(const[l,c]of s)o.set(r(l),r(c));return o}case eO:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case E9:{const{name:o,message:l}=s;return n(new TR[o](l),i)}case j9:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new TR[a](s),i)};return r},kR=t=>ibe(new Map,t)(0),Su="",{toString:abe}={},{keys:sbe}=Object,_h=t=>{const e=typeof t;if(e!=="object"||!t)return[Fb,e];const n=abe.call(t).slice(8,-1);switch(n){case"Array":return[vp,Su];case"Object":return[g0,Su];case"Date":return[ZC,Su];case"RegExp":return[JC,Su];case"Map":return[QC,Su];case"Set":return[eO,Su];case"DataView":return[vp,n]}return n.includes("Array")?[vp,n]:n.includes("Error")?[E9,n]:[g0,n]},Ay=([t,e])=>t===Fb&&(e==="function"||e==="symbol"),obe=(t,e,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=_h(s);switch(o){case Fb:{let d=s;switch(l){case"bigint":o=j9,d=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([S9],s)}return i([o,d],s)}case vp:{if(l){let h=s;return l==="DataView"?h=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(s)),i([l,[...h]],s)}const d=[],f=i([o,d],s);for(const h of s)d.push(a(h));return f}case g0:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(e&&"toJSON"in s)return a(s.toJSON());const d=[],f=i([o,d],s);for(const h of sbe(s))(t||!Ay(_h(s[h])))&&d.push([a(h),a(s[h])]);return f}case ZC:return i([o,s.toISOString()],s);case JC:{const{source:d,flags:f}=s;return i([o,{source:d,flags:f}],s)}case QC:{const d=[],f=i([o,d],s);for(const[h,p]of s)(t||!(Ay(_h(h))||Ay(_h(p))))&&d.push([a(h),a(p)]);return f}case eO:{const d=[],f=i([o,d],s);for(const h of s)(t||!Ay(_h(h)))&&d.push(a(h));return f}}const{message:c}=s;return i([o,{name:l,message:c}],s)};return a},CR=(t,{json:e,lossy:n}={})=>{const r=[];return obe(!(e||n),!!e,new Map,r)(t),r},y0=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?kR(CR(t,e)):structuredClone(t):(t,e)=>kR(CR(t,e));function lbe(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function cbe(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function ube(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||lbe,r=t.options.footnoteBackLabel||cbe,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const d=t.all(c),f=String(c.identifier).toUpperCase(),h=Vf(f.toLowerCase());let p=0;const m=[],g=t.footnoteCounts.get(f);for(;g!==void 0&&++p<=g;){m.length>0&&m.push({type:"text",value:" "});let v=typeof n=="string"?n:n(l,p);typeof v=="string"&&(v={type:"text",value:v}),m.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const x=d[d.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const v=x.children[x.children.length-1];v&&v.type==="text"?v.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...m)}else d.push(...m);const b={type:"element",tagName:"li",properties:{id:e+"fn-"+h},children:t.wrap(d,!0)};t.patch(c,b),o.push(b)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...y0(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const A9=function(t){if(t==null)return pbe;if(typeof t=="function")return Bb(t);if(typeof t=="object")return Array.isArray(t)?dbe(t):fbe(t);if(typeof t=="string")return hbe(t);throw new Error("Expected function, string, or object as test")};function dbe(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=A9(t[n]);return Bb(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function fbe(t){const e=t;return Bb(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function hbe(t){return Bb(e);function e(n){return n&&n.type===t}}function Bb(t){return e;function e(n,r,i){return!!(mbe(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function pbe(){return!0}function mbe(t){return t!==null&&typeof t=="object"&&"type"in t}const T9=[],gbe=!0,OR=!1,ybe="skip";function vbe(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=A9(i),s=r?-1:1;o(t,void 0,[])();function o(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=T9,m,g,x;if((!e||a(l,c,d[d.length-1]||void 0))&&(p=xbe(n(l,d)),p[0]===OR))return p;if("children"in l&&l.children){const b=l;if(b.children&&p[0]!==ybe)for(g=(r?b.children.length:-1)+s,x=d.concat(b);g>-1&&g<b.children.length;){const v=b.children[g];if(m=o(v,g,x)(),m[0]===OR)return m;g=typeof m[1]=="number"?m[1]:g+s}}return p}}}function xbe(t){return Array.isArray(t)?t:typeof t=="number"?[gbe,t]:t==null?T9:[t]}function k9(t,e,n,r){let i,a,s;typeof e=="function"&&typeof n!="function"?(a=void 0,s=e,i=n):(a=e,s=n,i=r),vbe(t,a,o,i);function o(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return s(l,f,d)}}const Tj={}.hasOwnProperty,bbe={};function wbe(t,e){const n=e||bbe,r=new Map,i=new Map,a=new Map,s={...rbe,...n.handlers},o={all:c,applyData:Sbe,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:_be,wrap:jbe};return k9(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),o;function l(d,f){const h=d.type,p=o.handlers[h];if(Tj.call(o.handlers,h)&&p)return p(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:g,...x}=d,b=y0(x);return b.children=o.all(d),b}return y0(d)}return(o.options.unknownHandler||Ebe)(o,d,f)}function c(d){const f=[];if("children"in d){const h=d.children;let p=-1;for(;++p<h.length;){const m=o.one(h[p],d);if(m){if(p&&h[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=NR(m.value)),!Array.isArray(m)&&m.type==="element")){const g=m.children[0];g&&g.type==="text"&&(g.value=NR(g.value))}Array.isArray(m)?f.push(...m):f.push(m)}}}return f}}function _be(t,e){t.position&&(e.position=ave(t))}function Sbe(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,y0(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Ebe(t,e){const n=e.data||{},r="value"in e&&!(Tj.call(n,"hProperties")||Tj.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function jbe(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function NR(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function PR(t,e){const n=wbe(t,e),r=n.one(t,void 0),i=ube(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function Abe(t,e){return t&&"run"in t?async function(n,r){const i=PR(n,{file:r,...e});await t.run(i,r)}:function(n,r){return PR(n,{file:r,...t||e})}}function IR(t){if(t)throw t}var fv=Object.prototype.hasOwnProperty,C9=Object.prototype.toString,$R=Object.defineProperty,RR=Object.getOwnPropertyDescriptor,MR=function(e){return typeof Array.isArray=="function"?Array.isArray(e):C9.call(e)==="[object Array]"},DR=function(e){if(!e||C9.call(e)!=="[object Object]")return!1;var n=fv.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&fv.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||fv.call(e,i)},LR=function(e,n){$R&&n.name==="__proto__"?$R(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},FR=function(e,n){if(n==="__proto__")if(fv.call(e,n)){if(RR)return RR(e,n).value}else return;return e[n]},Tbe=function t(){var e,n,r,i,a,s,o=arguments[0],l=1,c=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=FR(o,n),i=FR(e,n),o!==i&&(d&&i&&(DR(i)||(a=MR(i)))?(a?(a=!1,s=r&&MR(r)?r:[]):s=r&&DR(r)?r:{},LR(o,{name:n,newValue:t(d,s,i)})):typeof i<"u"&&LR(o,{name:n,newValue:i}));return o};const v1=at(Tbe);function kj(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function kbe(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...c){const d=t[++a];let f=-1;if(l){s(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,d?Cbe(d,o)(...c):s(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function Cbe(t,e){let n;return r;function r(...s){const o=t.length>s.length;let l;o&&s.push(i);try{l=t.apply(this,s)}catch(c){const d=c;if(o&&n)throw d;return i(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,e(s,...o))}function a(s){i(null,s)}}const Ua={basename:Obe,dirname:Nbe,extname:Pbe,join:Ibe,sep:"/"};function Obe(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');wg(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function Nbe(t){if(wg(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Pbe(t){wg(t);let e=t.length,n=-1,r=0,i=-1,a=0,s;for(;e--;){const o=t.codePointAt(e);if(o===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),o===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function Ibe(...t){let e=-1,n;for(;++e<t.length;)wg(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":$be(n)}function $be(t){wg(t);const e=t.codePointAt(0)===47;let n=Rbe(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Rbe(t,e){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=t.length;){if(s<t.length)o=t.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function wg(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Mbe={cwd:Dbe};function Dbe(){return"/"}function Cj(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Lbe(t){if(typeof t=="string")t=new URL(t);else if(!Cj(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Fbe(t)}function Fbe(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const x1=["history","path","basename","stem","extname","dirname"];class O9{constructor(e){let n;e?Cj(e)?n={path:e}:typeof e=="string"||Bbe(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Mbe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<x1.length;){const a=x1[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)x1.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ua.basename(this.path):void 0}set basename(e){w1(e,"basename"),b1(e,"basename"),this.path=Ua.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Ua.dirname(this.path):void 0}set dirname(e){BR(this.basename,"dirname"),this.path=Ua.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Ua.extname(this.path):void 0}set extname(e){if(b1(e,"extname"),BR(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ua.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Cj(e)&&(e=Lbe(e)),w1(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Ua.basename(this.path,this.extname):void 0}set stem(e){w1(e,"stem"),b1(e,"stem"),this.path=Ua.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new tr(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function b1(t,e){if(t&&t.includes(Ua.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Ua.sep+"`")}function w1(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function BR(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Bbe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const zbe=function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},Ube={}.hasOwnProperty;class tO extends zbe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=kbe()}copy(){const e=new tO;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(v1(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(E1("data",this.frozen),this.namespace[e]=n,this):Ube.call(this.namespace,e)&&this.namespace[e]||void 0:e?(E1("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Ty(e),r=this.parser||this.Parser;return _1("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),_1("process",this.parser||this.Parser),S1("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=Ty(e),l=r.parse(o);r.run(l,o,function(d,f,h){if(d||!f||!h)return c(d);const p=f,m=r.stringify(p,h);Wbe(m)?h.value=m:h.result=m,c(d,h)});function c(d,f){d||!f?s(d):a?a(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),_1("processSync",this.parser||this.Parser),S1("processSync",this.compiler||this.Compiler),this.process(e,i),UR("processSync","process",n),r;function i(a,s){n=!0,IR(a),r=s}}run(e,n,r){zR(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=Ty(n);i.run(e,l,c);function c(d,f,h){const p=f||e;d?o(d):s?s(p):r(void 0,p,h)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),UR("runSync","run",r),i;function a(s,o){IR(s),i=o,r=!0}}stringify(e,n){this.freeze();const r=Ty(n),i=this.compiler||this.Compiler;return S1("stringify",i),zR(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(E1("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=v1(!0,i.settings,c.settings))}function o(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];a(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===c){h=f;break}if(h===-1)r.push([c,...d]);else if(d.length>0){let[p,...m]=d;const g=r[h][1];kj(g)&&kj(p)&&(p=v1(!0,g,p)),r[h]=[c,p,...m]}}}}const Hbe=new tO().freeze();function _1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function S1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function E1(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function zR(t){if(!kj(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function UR(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Ty(t){return Vbe(t)?t:new O9(t)}function Vbe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Wbe(t){return typeof t=="string"||qbe(t)}function qbe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Gbe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",HR=[],VR={allowDangerousHtml:!0},Kbe=/^(https?|ircs?|mailto|xmpp)$/i,Ybe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function N9(t){const e=Xbe(t),n=Zbe(t);return Jbe(e.runSync(e.parse(n),n),t)}function Xbe(t){const e=t.rehypePlugins||HR,n=t.remarkPlugins||HR,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...VR}:VR;return Hbe().use(Nxe).use(n).use(Abe,r).use(e)}function Zbe(t){const e=t.children||"",n=new O9;return typeof e=="string"&&(n.value=e),n}function Jbe(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,a=e.disallowedElements,s=e.skipHtml,o=e.unwrapDisallowed,l=e.urlTransform||Qbe;for(const d of Ybe)Object.hasOwn(e,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Gbe+d.id,void 0);return k9(t,c),uve(t,{Fragment:u.Fragment,components:i,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return s?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let p;for(p in m1)if(Object.hasOwn(m1,p)&&Object.hasOwn(d.properties,p)){const m=d.properties[p],g=m1[p];(g===null||g.includes(d.tagName))&&(d.properties[p]=l(String(m||""),p,d))}}if(d.type==="element"){let p=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!p&&r&&typeof f=="number"&&(p=!r(d,f,h)),p&&h&&typeof f=="number")return o&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function Qbe(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||Kbe.test(t.slice(0,e))?t:""}const ewe=ng("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 button-magnetic micro-bounce",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-elegant",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-primary/20 bg-background/10 backdrop-blur-sm text-foreground hover:bg-primary/10 hover:border-primary/40",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-ai-gradient text-white hover:scale-105 transform transition-all duration-300 shadow-glow hover:shadow-[0_0_30px_hsl(217_91%_60%_/_0.5)] button-glow hover-glow",premium:"bg-gradient-to-r from-ai-purple to-ai-teal text-white hover:scale-105 transform transition-all duration-300 shadow-elegant button-glow animate-gradient-shift"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),se=S.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const s=r?dl:"button";return u.jsx(s,{className:ye(ewe({variant:e,size:n,className:t})),ref:a,...i})});se.displayName="Button";const te=S.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:ye("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));te.displayName="Card";const Xe=S.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:ye("flex flex-col space-y-1.5 p-6",t),...e}));Xe.displayName="CardHeader";const Ze=S.forwardRef(({className:t,...e},n)=>u.jsx("h3",{ref:n,className:ye("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ze.displayName="CardTitle";const Xa=S.forwardRef(({className:t,...e},n)=>u.jsx("p",{ref:n,className:ye("text-sm text-muted-foreground",t),...e}));Xa.displayName="CardDescription";const Le=S.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:ye("p-6 pt-0",t),...e}));Le.displayName="CardContent";const twe=S.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:ye("flex items-center p-6 pt-0",t),...e}));twe.displayName="CardFooter";const Ut=S.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:ye("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ut.displayName="Input";var nwe=S.createContext(void 0);function _g(t){const e=S.useContext(nwe);return t||e||"ltr"}function Oj(t,[e,n]){return Math.min(n,Math.max(e,t))}function rwe(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var nO="ScrollArea",[P9,OWe]=gs(nO),[iwe,Fi]=P9(nO),I9=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:a=600,...s}=t,[o,l]=S.useState(null),[c,d]=S.useState(null),[f,h]=S.useState(null),[p,m]=S.useState(null),[g,x]=S.useState(null),[b,v]=S.useState(0),[y,_]=S.useState(0),[w,E]=S.useState(!1),[A,j]=S.useState(!1),T=it(e,C=>l(C)),k=_g(i);return u.jsx(iwe,{scope:n,type:r,dir:k,scrollHideDelay:a,scrollArea:o,viewport:c,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:m,scrollbarXEnabled:w,onScrollbarXEnabledChange:E,scrollbarY:g,onScrollbarYChange:x,scrollbarYEnabled:A,onScrollbarYEnabledChange:j,onCornerWidthChange:v,onCornerHeightChange:_,children:u.jsx(Ie.div,{dir:k,...s,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":y+"px",...t.style}})})});I9.displayName=nO;var $9="ScrollAreaViewport",R9=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,asChild:i,nonce:a,...s}=t,o=Fi($9,n),l=S.useRef(null),c=it(e,l,o.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),u.jsx(Ie.div,{"data-radix-scroll-area-viewport":"",...s,asChild:i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:pwe({asChild:i,children:r},d=>u.jsx("div",{"data-radix-scroll-area-content":"",ref:o.onContentChange,style:{minWidth:o.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});R9.displayName=$9;var vs="ScrollAreaScrollbar",rO=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Fi(vs,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:s}=i,o=t.orientation==="horizontal";return S.useEffect(()=>(o?a(!0):s(!0),()=>{o?a(!1):s(!1)}),[o,a,s]),i.type==="hover"?u.jsx(awe,{...r,ref:e,forceMount:n}):i.type==="scroll"?u.jsx(swe,{...r,ref:e,forceMount:n}):i.type==="auto"?u.jsx(M9,{...r,ref:e,forceMount:n}):i.type==="always"?u.jsx(iO,{...r,ref:e}):null});rO.displayName=vs;var awe=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Fi(vs,t.__scopeScrollArea),[a,s]=S.useState(!1);return S.useEffect(()=>{const o=i.scrollArea;let l=0;if(o){const c=()=>{window.clearTimeout(l),s(!0)},d=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",c),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",c),o.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),u.jsx(gr,{present:n||a,children:u.jsx(M9,{"data-state":a?"visible":"hidden",...r,ref:e})})}),swe=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Fi(vs,t.__scopeScrollArea),a=t.orientation==="horizontal",s=Ub(()=>l("SCROLL_END"),100),[o,l]=rwe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(o==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[o,i.scrollHideDelay,l]),S.useEffect(()=>{const c=i.viewport,d=a?"scrollLeft":"scrollTop";if(c){let f=c[d];const h=()=>{const p=c[d];f!==p&&(l("SCROLL"),s()),f=p};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,a,l,s]),u.jsx(gr,{present:n||o!=="hidden",children:u.jsx(iO,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:pe(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:pe(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),M9=S.forwardRef((t,e)=>{const n=Fi(vs,t.__scopeScrollArea),{forceMount:r,...i}=t,[a,s]=S.useState(!1),o=t.orientation==="horizontal",l=Ub(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;s(o?c:d)}},10);return Jd(n.viewport,l),Jd(n.content,l),u.jsx(gr,{present:r||a,children:u.jsx(iO,{"data-state":a?"visible":"hidden",...i,ref:e})})}),iO=S.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Fi(vs,t.__scopeScrollArea),a=S.useRef(null),s=S.useRef(0),[o,l]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=z9(o.viewport,o.content),d={...r,sizes:o,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,p){return fwe(h,s.current,o,p)}return n==="horizontal"?u.jsx(owe,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollLeft,p=WR(h,o,i.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?u.jsx(lwe,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollTop,p=WR(h,o);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),owe=S.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,a=Fi(vs,t.__scopeScrollArea),[s,o]=S.useState(),l=S.useRef(null),c=it(e,l,a.onScrollbarXChange);return S.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),u.jsx(L9,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":zb(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),H9(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&s&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:x0(s.paddingLeft),paddingEnd:x0(s.paddingRight)}})}})}),lwe=S.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,a=Fi(vs,t.__scopeScrollArea),[s,o]=S.useState(),l=S.useRef(null),c=it(e,l,a.onScrollbarYChange);return S.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),u.jsx(L9,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":zb(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),H9(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&s&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:x0(s.paddingTop),paddingEnd:x0(s.paddingBottom)}})}})}),[cwe,D9]=P9(vs),L9=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:s,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:f,...h}=t,p=Fi(vs,n),[m,g]=S.useState(null),x=it(e,T=>g(T)),b=S.useRef(null),v=S.useRef(""),y=p.viewport,_=r.content-r.viewport,w=qt(d),E=qt(l),A=Ub(f,10);function j(T){if(b.current){const k=T.clientX-b.current.left,C=T.clientY-b.current.top;c({x:k,y:C})}}return S.useEffect(()=>{const T=k=>{const C=k.target;(m==null?void 0:m.contains(C))&&w(k,_)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[y,m,_,w]),S.useEffect(E,[r,E]),Jd(m,A),Jd(p.content,A),u.jsx(cwe,{scope:n,scrollbar:m,hasThumb:i,onThumbChange:qt(a),onThumbPointerUp:qt(s),onThumbPositionChange:E,onThumbPointerDown:qt(o),children:u.jsx(Ie.div,{...h,ref:x,style:{position:"absolute",...h.style},onPointerDown:pe(t.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),b.current=m.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),j(T))}),onPointerMove:pe(t.onPointerMove,j),onPointerUp:pe(t.onPointerUp,T=>{const k=T.target;k.hasPointerCapture(T.pointerId)&&k.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),b.current=null})})})}),v0="ScrollAreaThumb",F9=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=D9(v0,t.__scopeScrollArea);return u.jsx(gr,{present:n||i.hasThumb,children:u.jsx(uwe,{ref:e,...r})})}),uwe=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,a=Fi(v0,n),s=D9(v0,n),{onThumbPositionChange:o}=s,l=it(e,f=>s.onThumbChange(f)),c=S.useRef(),d=Ub(()=>{c.current&&(c.current(),c.current=void 0)},100);return S.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!c.current){const p=hwe(f,o);c.current=p,o()}};return o(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,o]),u.jsx(Ie.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:pe(t.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),m=f.clientX-p.left,g=f.clientY-p.top;s.onThumbPointerDown({x:m,y:g})}),onPointerUp:pe(t.onPointerUp,s.onThumbPointerUp)})});F9.displayName=v0;var aO="ScrollAreaCorner",B9=S.forwardRef((t,e)=>{const n=Fi(aO,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(dwe,{...t,ref:e}):null});B9.displayName=aO;var dwe=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Fi(aO,n),[a,s]=S.useState(0),[o,l]=S.useState(0),c=!!(a&&o);return Jd(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),Jd(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),s(d)}),c?u.jsx(Ie.div,{...r,ref:e,style:{width:a,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function x0(t){return t?parseInt(t,10):0}function z9(t,e){const n=t/e;return isNaN(n)?0:n}function zb(t){const e=z9(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function fwe(t,e,n,r="ltr"){const i=zb(n),a=i/2,s=e||a,o=i-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-o,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return U9([l,c],f)(t)}function WR(t,e,n="ltr"){const r=zb(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,s=e.content-e.viewport,o=a-r,l=n==="ltr"?[0,s]:[s*-1,0],c=Oj(t,l);return U9([0,s],[0,o])(c)}function U9(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function H9(t,e){return t>0&&t<e}var hwe=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const a={left:t.scrollLeft,top:t.scrollTop},s=n.left!==a.left,o=n.top!==a.top;(s||o)&&e(),n=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Ub(t,e){const n=qt(t),r=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),S.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Jd(t,e){const n=qt(e);An(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}function pwe(t,e){const{asChild:n,children:r}=t;if(!n)return typeof e=="function"?e(r):e;const i=S.Children.only(r);return S.cloneElement(i,{children:typeof e=="function"?e(i.props.children):e})}var V9=I9,mwe=R9,gwe=B9;const sO=S.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(V9,{ref:r,className:ye("relative overflow-hidden",t),...n,children:[u.jsx(mwe,{className:"h-full w-full rounded-[inherit]",children:e}),u.jsx(W9,{}),u.jsx(gwe,{})]}));sO.displayName=V9.displayName;const W9=S.forwardRef(({className:t,orientation:e="vertical",...n},r)=>u.jsx(rO,{ref:r,orientation:e,className:ye("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:u.jsx(F9,{className:"relative flex-1 rounded-full bg-border"})}));W9.displayName=rO.displayName;const El=({size:t="md",className:e})=>{const n={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return u.jsx("div",{className:ye("flex items-center justify-center",e),children:u.jsx("div",{className:ye("animate-spin rounded-full border-2 border-primary/20 border-t-primary",n[t]),role:"status","aria-label":"Loading",children:u.jsx("span",{className:"sr-only",children:"Loading..."})})})},ywe=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState([{id:"welcome",content:"Hi! I'm your AI college counselor. I can help you with admissions, applications, and campus information. How can I assist you today?",role:"assistant",timestamp:new Date}]),[i,a]=S.useState(""),[s,o]=S.useState(!1),l=S.useRef(null),{toast:c}=Vt(),d=S.useRef(new K8("counselor")),f=()=>{var p;(p=l.current)==null||p.scrollIntoView({behavior:"smooth"})};S.useEffect(()=>{f()},[n]);const h=async p=>{if(p.preventDefault(),!i.trim()||s)return;const m={id:Date.now().toString(),content:i.trim(),role:"user",timestamp:new Date};r(g=>[...g,m]),a(""),o(!0);try{const g=n.map(v=>({role:v.role,content:v.content})),x=await d.current.generateResponse(m.content,g),b={id:(Date.now()+1).toString(),content:x.content,role:"assistant",timestamp:new Date};r(v=>[...v,b])}catch(g){console.error("AI Chat error:",g),c({title:"Error",description:"Failed to get AI response. Please try again.",variant:"destructive"});const x={id:(Date.now()+1).toString(),content:"I apologize, but I'm having trouble processing your request right now. Please try again in a moment.",role:"assistant",timestamp:new Date};r(b=>[...b,x])}finally{o(!1)}};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:u.jsx(se,{onClick:()=>e(!t),size:"lg",className:ye("rounded-full w-14 h-14 shadow-elegant hover-lift transition-all duration-300",t?"rotate-180":"animate-pulse"),variant:"hero",children:t?u.jsx(ig,{className:"w-6 h-6"}):u.jsx(Kv,{className:"w-6 h-6"})})}),t&&u.jsx(te,{className:"fixed bottom-24 right-6 w-96 h-[500px] z-40 shadow-2xl border-2 border-primary/20 animate-scale-in",children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx("div",{className:"p-4 border-b bg-gradient-subtle rounded-t-lg",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-8 h-8 bg-ai-gradient rounded-full flex items-center justify-center",children:u.jsx(pa,{className:"w-4 h-4 text-white"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-sm",children:"AI College Counselor"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Always here to help"})]})]})}),u.jsxs(sO,{className:"flex-1 p-4",children:[u.jsxs("div",{className:"space-y-4",children:[n.map(p=>u.jsxs("div",{className:ye("flex items-start space-x-2",p.role==="user"?"justify-end":"justify-start"),children:[p.role==="assistant"&&u.jsx("div",{className:"w-6 h-6 bg-ai-gradient rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:u.jsx(pa,{className:"w-3 h-3 text-white"})}),u.jsx("div",{className:ye("max-w-[280px] p-3 rounded-lg text-sm transition-all duration-200",p.role==="user"?"bg-primary text-primary-foreground ml-auto hover-lift":"bg-secondary text-secondary-foreground hover-scale"),children:u.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none break-words",children:u.jsx(N9,{children:p.content})})}),p.role==="user"&&u.jsx("div",{className:"w-6 h-6 bg-muted rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:u.jsx(Xp,{className:"w-3 h-3"})})]},p.id)),s&&u.jsxs("div",{className:"flex items-start space-x-2",children:[u.jsx("div",{className:"w-6 h-6 bg-ai-gradient rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:u.jsx(pa,{className:"w-3 h-3 text-white"})}),u.jsx("div",{className:"bg-secondary p-3 rounded-lg",children:u.jsx(El,{size:"sm"})})]})]}),u.jsx("div",{ref:l})]}),u.jsx("form",{onSubmit:h,className:"p-4 border-t",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(Ut,{value:i,onChange:p=>a(p.target.value),placeholder:"Ask about admissions, applications...",disabled:s,className:"flex-1"}),u.jsx(se,{type:"submit",size:"icon",disabled:s||!i.trim(),className:"flex-shrink-0 hover-lift",variant:"hero",children:u.jsx(Ak,{className:"w-4 h-4"})})]})})]})})]})},vwe=()=>{const[t,e]=S.useState(null),[n,r]=S.useState(!1),[i,a]=S.useState(!1);S.useEffect(()=>{(()=>{window.matchMedia("(display-mode: standalone)").matches&&a(!0)})();const d=h=>{h.preventDefault(),e(h),setTimeout(()=>{r(!0)},3e3)},f=()=>{a(!0),r(!1),e(null)};return window.addEventListener("beforeinstallprompt",d),window.addEventListener("appinstalled",f),()=>{window.removeEventListener("beforeinstallprompt",d),window.removeEventListener("appinstalled",f)}},[]);const s=async()=>{if(t){try{await t.prompt(),(await t.userChoice).outcome==="accepted"?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt")}catch(c){console.error("Error during install prompt:",c)}e(null),r(!1)}},o=()=>{r(!1),localStorage.setItem("pwa-install-dismissed",Date.now().toString())};if(i||!n||!t)return null;const l=localStorage.getItem("pwa-install-dismissed");return l&&Date.now()-parseInt(l)<24*60*60*1e3?null:u.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 md:left-auto md:right-4 md:w-80",children:u.jsx(te,{className:"p-4 bg-card/95 backdrop-blur-sm border shadow-lg",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:u.jsx(qee,{className:"w-5 h-5 text-primary"})}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsx("h3",{className:"font-semibold text-sm text-card-foreground",children:"Install AdmitConnect AI"}),u.jsx(se,{variant:"ghost",size:"icon",onClick:o,className:"w-6 h-6 -mt-1 -mr-1",children:u.jsx(ig,{className:"w-4 h-4"})})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Get faster access and offline features by installing our app on your device."}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs(se,{onClick:s,size:"sm",className:"flex-1",children:[u.jsx(Ek,{className:"w-4 h-4 mr-1"}),"Install"]}),u.jsx(se,{variant:"outline",size:"sm",onClick:o,className:"flex-1",children:"Later"})]})]})]})})})},xwe=()=>u.jsxs("div",{className:"sr-only focus:not-sr-only",children:[u.jsx("a",{href:"#main-content",className:"fixed top-0 left-0 z-[9999] bg-primary text-primary-foreground px-4 py-2 rounded-br-md focus:outline-none focus:ring-2 focus:ring-ring",onFocus:t=>{t.currentTarget.classList.remove("sr-only")},onBlur:t=>{t.currentTarget.classList.add("sr-only")},children:"Skip to main content"}),u.jsx("a",{href:"#navigation",className:"fixed top-0 left-0 z-[9999] bg-primary text-primary-foreground px-4 py-2 rounded-br-md focus:outline-none focus:ring-2 focus:ring-ring ml-32",onFocus:t=>{t.currentTarget.classList.remove("sr-only")},onBlur:t=>{t.currentTarget.classList.add("sr-only")},children:"Skip to navigation"})]});class bwe extends S.Component{constructor(){super(...arguments);H(this,"state",{hasError:!1})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("ErrorBoundary caught an error:",n,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:u.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:u.jsxs(te,{className:"max-w-md w-full p-6 text-center space-y-4",children:[u.jsx("div",{className:"w-16 h-16 bg-destructive/10 rounded-full flex items-center justify-center mx-auto",children:u.jsx(OB,{className:"w-8 h-8 text-destructive"})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Something went wrong"}),u.jsx("p",{className:"text-muted-foreground",children:"We encountered an unexpected error. Please try refreshing the page."}),!1]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[u.jsxs(se,{onClick:()=>window.location.reload(),className:"flex-1",children:[u.jsx(pl,{className:"w-4 h-4 mr-2"}),"Refresh Page"]}),u.jsx(se,{variant:"outline",onClick:()=>window.location.href="/",className:"flex-1",children:"Go Home"})]})]})}):this.props.children}}const wwe=()=>{const t=pi(),e=Pl(),{user:n,loading:r}=Un(),i=S.useRef(!1);return S.useEffect(()=>{if(r||i.current)return;const a=e.pathname==="/auth",s=e.pathname==="/"&&(e.hash.includes("access_token")||window.location.hash.includes("access_token"));n&&(a||s)&&(console.log("User authenticated, redirecting to dashboard..."),i.current=!0,window.location.hash&&window.history.replaceState(null,"",window.location.pathname),t("/dashboard",{replace:!0}))},[n,r,t,e]),S.useEffect(()=>{n||(i.current=!1)},[n]),null},_we=({onComplete:t})=>{const[e,n]=S.useState(!0);return S.useEffect(()=>{const r=setTimeout(()=>{n(!1),setTimeout(t,300)},800);return()=>clearTimeout(r)},[t]),u.jsxs("div",{className:ye("fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-background via-primary/20 to-background transition-opacity duration-500",!e&&"opacity-0 pointer-events-none"),children:[u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[u.jsx("div",{className:"absolute w-32 h-32 border-4 border-primary/30 rounded-full animate-[ping_2s_ease-in-out_infinite]"}),u.jsx("div",{className:"absolute w-40 h-40 border-4 border-primary/20 rounded-full animate-[ping_2s_ease-in-out_0.5s_infinite]"}),u.jsx("div",{className:"absolute w-48 h-48 border-4 border-primary/10 rounded-full animate-[ping_2s_ease-in-out_1s_infinite]"})]}),u.jsx("div",{className:"relative z-10 animate-[scale-in_0.5s_ease-out]",children:u.jsx("img",{src:"/admit-ai-nexus/app-logo.png",alt:"AdmitConnect AI",className:"w-24 h-24 rounded-2xl shadow-2xl shadow-primary/50 animate-[float_3s_ease-in-out_infinite]"})}),u.jsx("div",{className:"absolute inset-0 -z-10 rounded-2xl bg-gradient-to-r from-transparent via-primary/20 to-transparent animate-[shimmer_2s_ease-in-out_infinite]"})]}),u.jsx("div",{className:"absolute bottom-1/3 animate-[fade-in_1s_ease-out_0.5s_both]",children:u.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-primary via-primary-glow to-primary bg-clip-text text-transparent",children:"AdmitConnect AI"})}),u.jsxs("div",{className:"absolute bottom-1/4 flex gap-2 animate-[fade-in_1s_ease-out_1s_both]",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-[bounce_1s_ease-in-out_infinite]"}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-[bounce_1s_ease-in-out_0.2s_infinite]"}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-[bounce_1s_ease-in-out_0.4s_infinite]"})]})]})};var j1="focusScope.autoFocusOnMount",A1="focusScope.autoFocusOnUnmount",qR={bubbles:!1,cancelable:!0},Swe="FocusScope",Hb=S.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=t,[o,l]=S.useState(null),c=qt(i),d=qt(a),f=S.useRef(null),h=it(e,g=>l(g)),p=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let g=function(y){if(p.paused||!o)return;const _=y.target;o.contains(_)?f.current=_:To(f.current,{select:!0})},x=function(y){if(p.paused||!o)return;const _=y.relatedTarget;_!==null&&(o.contains(_)||To(f.current,{select:!0}))},b=function(y){if(document.activeElement===document.body)for(const w of y)w.removedNodes.length>0&&To(o)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const v=new MutationObserver(b);return o&&v.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),v.disconnect()}}},[r,o,p.paused]),S.useEffect(()=>{if(o){KR.add(p);const g=document.activeElement;if(!o.contains(g)){const b=new CustomEvent(j1,qR);o.addEventListener(j1,c),o.dispatchEvent(b),b.defaultPrevented||(Ewe(Cwe(q9(o)),{select:!0}),document.activeElement===g&&To(o))}return()=>{o.removeEventListener(j1,c),setTimeout(()=>{const b=new CustomEvent(A1,qR);o.addEventListener(A1,d),o.dispatchEvent(b),b.defaultPrevented||To(g??document.body,{select:!0}),o.removeEventListener(A1,d),KR.remove(p)},0)}}},[o,c,d,p]);const m=S.useCallback(g=>{if(!n&&!r||p.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(x&&b){const v=g.currentTarget,[y,_]=jwe(v);y&&_?!g.shiftKey&&b===_?(g.preventDefault(),n&&To(y,{select:!0})):g.shiftKey&&b===y&&(g.preventDefault(),n&&To(_,{select:!0})):b===v&&g.preventDefault()}},[n,r,p.paused]);return u.jsx(Ie.div,{tabIndex:-1,...s,ref:h,onKeyDown:m})});Hb.displayName=Swe;function Ewe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(To(r,{select:e}),document.activeElement!==n)return}function jwe(t){const e=q9(t),n=GR(e,t),r=GR(e.reverse(),t);return[n,r]}function q9(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function GR(t,e){for(const n of t)if(!Awe(n,{upTo:e}))return n}function Awe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Twe(t){return t instanceof HTMLInputElement&&"select"in t}function To(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Twe(t)&&e&&t.select()}}var KR=kwe();function kwe(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=YR(t,e),t.unshift(e)},remove(e){var n;t=YR(t,e),(n=t[0])==null||n.resume()}}}function YR(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Cwe(t){return t.filter(e=>e.tagName!=="A")}var T1=0;function oO(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??XR()),document.body.insertAdjacentElement("beforeend",t[1]??XR()),T1++,()=>{T1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),T1--}},[])}function XR(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ya=function(){return Ya=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ya.apply(this,arguments)};function G9(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Owe(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var hv="right-scroll-bar-position",pv="width-before-scroll-bar",Nwe="with-scroll-bars-hidden",Pwe="--removed-body-scroll-bar-size";function k1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Iwe(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var $we=typeof window<"u"?S.useLayoutEffect:S.useEffect,ZR=new WeakMap;function Rwe(t,e){var n=Iwe(null,function(r){return t.forEach(function(i){return k1(i,r)})});return $we(function(){var r=ZR.get(n);if(r){var i=new Set(r),a=new Set(t),s=n.current;i.forEach(function(o){a.has(o)||k1(o,null)}),a.forEach(function(o){i.has(o)||k1(o,s)})}ZR.set(n,t)},[t]),n}function Mwe(t){return t}function Dwe(t,e){e===void 0&&(e=Mwe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var s=e(a,r);return n.push(s),function(){n=n.filter(function(o){return o!==s})}},assignSyncMedium:function(a){for(r=!0;n.length;){var s=n;n=[],s.forEach(a)}n={push:function(o){return a(o)},filter:function(){return n}}},assignMedium:function(a){r=!0;var s=[];if(n.length){var o=n;n=[],o.forEach(a),s=n}var l=function(){var d=s;s=[],d.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){s.push(d),c()},filter:function(d){return s=s.filter(d),n}}}};return i}function Lwe(t){t===void 0&&(t={});var e=Dwe(null);return e.options=Ya({async:!0,ssr:!1},t),e}var K9=function(t){var e=t.sideCar,n=G9(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,Ya({},n))};K9.isSideCarExport=!0;function Fwe(t,e){return t.useMedium(e),K9}var Y9=Lwe(),C1=function(){},Vb=S.forwardRef(function(t,e){var n=S.useRef(null),r=S.useState({onScrollCapture:C1,onWheelCapture:C1,onTouchMoveCapture:C1}),i=r[0],a=r[1],s=t.forwardProps,o=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,p=t.noIsolation,m=t.inert,g=t.allowPinchZoom,x=t.as,b=x===void 0?"div":x,v=t.gapMode,y=G9(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,w=Rwe([n,e]),E=Ya(Ya({},y),i);return S.createElement(S.Fragment,null,d&&S.createElement(_,{sideCar:Y9,removeScrollBar:c,shards:f,noIsolation:p,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:n,gapMode:v}),s?S.cloneElement(S.Children.only(o),Ya(Ya({},E),{ref:w})):S.createElement(b,Ya({},E,{className:l,ref:w}),o))});Vb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vb.classNames={fullWidth:pv,zeroRight:hv};var Bwe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zwe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Bwe();return e&&t.setAttribute("nonce",e),t}function Uwe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Hwe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Vwe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=zwe())&&(Uwe(e,n),Hwe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Wwe=function(){var t=Vwe();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},X9=function(){var t=Wwe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},qwe={left:0,top:0,right:0,gap:0},O1=function(t){return parseInt(t||"",10)||0},Gwe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[O1(n),O1(r),O1(i)]},Kwe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return qwe;var e=Gwe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Ywe=X9(),vd="data-scroll-locked",Xwe=function(t,e,n,r){var i=t.left,a=t.top,s=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Nwe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(vd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hv,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(pv,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(hv," .").concat(hv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(pv," .").concat(pv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(vd,`] {
    `).concat(Pwe,": ").concat(o,`px;
  }
`)},JR=function(){var t=parseInt(document.body.getAttribute(vd)||"0",10);return isFinite(t)?t:0},Zwe=function(){S.useEffect(function(){return document.body.setAttribute(vd,(JR()+1).toString()),function(){var t=JR()-1;t<=0?document.body.removeAttribute(vd):document.body.setAttribute(vd,t.toString())}},[])},Jwe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Zwe();var a=S.useMemo(function(){return Kwe(i)},[i]);return S.createElement(Ywe,{styles:Xwe(a,!e,i,n?"":"!important")})},Nj=!1;if(typeof window<"u")try{var ky=Object.defineProperty({},"passive",{get:function(){return Nj=!0,!0}});window.addEventListener("test",ky,ky),window.removeEventListener("test",ky,ky)}catch{Nj=!1}var Eu=Nj?{passive:!1}:!1,Qwe=function(t){return t.tagName==="TEXTAREA"},Z9=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Qwe(t)&&n[e]==="visible")},e_e=function(t){return Z9(t,"overflowY")},t_e=function(t){return Z9(t,"overflowX")},QR=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=J9(t,r);if(i){var a=Q9(t,r),s=a[1],o=a[2];if(s>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},n_e=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},r_e=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},J9=function(t,e){return t==="v"?e_e(e):t_e(e)},Q9=function(t,e){return t==="v"?n_e(e):r_e(e)},i_e=function(t,e){return t==="h"&&e==="rtl"?-1:1},a_e=function(t,e,n,r,i){var a=i_e(t,window.getComputedStyle(e).direction),s=a*r,o=n.target,l=e.contains(o),c=!1,d=s>0,f=0,h=0;do{var p=Q9(t,o),m=p[0],g=p[1],x=p[2],b=g-x-a*m;(m||b)&&J9(t,o)&&(f+=b,h+=m),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(c=!0),c},Cy=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},eM=function(t){return[t.deltaX,t.deltaY]},tM=function(t){return t&&"current"in t?t.current:t},s_e=function(t,e){return t[0]===e[0]&&t[1]===e[1]},o_e=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},l_e=0,ju=[];function c_e(t){var e=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),i=S.useState(l_e++)[0],a=S.useState(X9)[0],s=S.useRef(t);S.useEffect(function(){s.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=Owe([t.lockRef.current],(t.shards||[]).map(tM),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=S.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var b=Cy(g),v=n.current,y="deltaX"in g?g.deltaX:v[0]-b[0],_="deltaY"in g?g.deltaY:v[1]-b[1],w,E=g.target,A=Math.abs(y)>Math.abs(_)?"h":"v";if("touches"in g&&A==="h"&&E.type==="range")return!1;var j=QR(A,E);if(!j)return!0;if(j?w=A:(w=A==="v"?"h":"v",j=QR(A,E)),!j)return!1;if(!r.current&&"changedTouches"in g&&(y||_)&&(r.current=w),!w)return!0;var T=r.current||w;return a_e(T,x,g,T==="h"?y:_,!0)},[]),l=S.useCallback(function(g){var x=g;if(!(!ju.length||ju[ju.length-1]!==a)){var b="deltaY"in x?eM(x):Cy(x),v=e.current.filter(function(w){return w.name===x.type&&(w.target===x.target||x.target===w.shadowParent)&&s_e(w.delta,b)})[0];if(v&&v.should){x.cancelable&&x.preventDefault();return}if(!v){var y=(s.current.shards||[]).map(tM).filter(Boolean).filter(function(w){return w.contains(x.target)}),_=y.length>0?o(x,y[0]):!s.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),c=S.useCallback(function(g,x,b,v){var y={name:g,delta:x,target:b,should:v,shadowParent:u_e(b)};e.current.push(y),setTimeout(function(){e.current=e.current.filter(function(_){return _!==y})},1)},[]),d=S.useCallback(function(g){n.current=Cy(g),r.current=void 0},[]),f=S.useCallback(function(g){c(g.type,eM(g),g.target,o(g,t.lockRef.current))},[]),h=S.useCallback(function(g){c(g.type,Cy(g),g.target,o(g,t.lockRef.current))},[]);S.useEffect(function(){return ju.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Eu),document.addEventListener("touchmove",l,Eu),document.addEventListener("touchstart",d,Eu),function(){ju=ju.filter(function(g){return g!==a}),document.removeEventListener("wheel",l,Eu),document.removeEventListener("touchmove",l,Eu),document.removeEventListener("touchstart",d,Eu)}},[]);var p=t.removeScrollBar,m=t.inert;return S.createElement(S.Fragment,null,m?S.createElement(a,{styles:o_e(i)}):null,p?S.createElement(Jwe,{gapMode:t.gapMode}):null)}function u_e(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const d_e=Fwe(Y9,c_e);var Wb=S.forwardRef(function(t,e){return S.createElement(Vb,Ya({},t,{ref:e,sideCar:d_e}))});Wb.classNames=Vb.classNames;var f_e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Au=new WeakMap,Oy=new WeakMap,Ny={},N1=0,eH=function(t){return t&&(t.host||eH(t.parentNode))},h_e=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=eH(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},p_e=function(t,e,n,r){var i=h_e(e,Array.isArray(t)?t:[t]);Ny[n]||(Ny[n]=new WeakMap);var a=Ny[n],s=[],o=new Set,l=new Set(i),c=function(f){!f||o.has(f)||(o.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var p=h.getAttribute(r),m=p!==null&&p!=="false",g=(Au.get(h)||0)+1,x=(a.get(h)||0)+1;Au.set(h,g),a.set(h,x),s.push(h),g===1&&m&&Oy.set(h,!0),x===1&&h.setAttribute(n,"true"),m||h.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(e),o.clear(),N1++,function(){s.forEach(function(f){var h=Au.get(f)-1,p=a.get(f)-1;Au.set(f,h),a.set(f,p),h||(Oy.has(f)||f.removeAttribute(r),Oy.delete(f)),p||f.removeAttribute(n)}),N1--,N1||(Au=new WeakMap,Au=new WeakMap,Oy=new WeakMap,Ny={})}},lO=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=f_e(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),p_e(r,i,n,"aria-hidden")):function(){return null}},cO="Dialog",[tH,NWe]=gs(cO),[m_e,Na]=tH(cO),nH=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:s=!0}=t,o=S.useRef(null),l=S.useRef(null),[c=!1,d]=Xs({prop:r,defaultProp:i,onChange:a});return u.jsx(m_e,{scope:e,triggerRef:o,contentRef:l,contentId:ga(),titleId:ga(),descriptionId:ga(),open:c,onOpenChange:d,onOpenToggle:S.useCallback(()=>d(f=>!f),[d]),modal:s,children:n})};nH.displayName=cO;var rH="DialogTrigger",iH=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Na(rH,n),a=it(e,i.triggerRef);return u.jsx(Ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":fO(i.open),...r,ref:a,onClick:pe(t.onClick,i.onOpenToggle)})});iH.displayName=rH;var uO="DialogPortal",[g_e,aH]=tH(uO,{forceMount:void 0}),sH=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=Na(uO,e);return u.jsx(g_e,{scope:e,forceMount:n,children:S.Children.map(r,s=>u.jsx(gr,{present:n||a.open,children:u.jsx(eg,{asChild:!0,container:i,children:s})}))})};sH.displayName=uO;var b0="DialogOverlay",oH=S.forwardRef((t,e)=>{const n=aH(b0,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=Na(b0,t.__scopeDialog);return a.modal?u.jsx(gr,{present:r||a.open,children:u.jsx(y_e,{...i,ref:e})}):null});oH.displayName=b0;var y_e=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Na(b0,n);return u.jsx(Wb,{as:dl,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(Ie.div,{"data-state":fO(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Uc="DialogContent",lH=S.forwardRef((t,e)=>{const n=aH(Uc,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=Na(Uc,t.__scopeDialog);return u.jsx(gr,{present:r||a.open,children:a.modal?u.jsx(v_e,{...i,ref:e}):u.jsx(x_e,{...i,ref:e})})});lH.displayName=Uc;var v_e=S.forwardRef((t,e)=>{const n=Na(Uc,t.__scopeDialog),r=S.useRef(null),i=it(e,n.contentRef,r);return S.useEffect(()=>{const a=r.current;if(a)return lO(a)},[]),u.jsx(cH,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(t.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:pe(t.onPointerDownOutside,a=>{const s=a.detail.originalEvent,o=s.button===0&&s.ctrlKey===!0;(s.button===2||o)&&a.preventDefault()}),onFocusOutside:pe(t.onFocusOutside,a=>a.preventDefault())})}),x_e=S.forwardRef((t,e)=>{const n=Na(Uc,t.__scopeDialog),r=S.useRef(!1),i=S.useRef(!1);return u.jsx(cH,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,o;(s=t.onCloseAutoFocus)==null||s.call(t,a),a.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),cH=S.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=t,o=Na(Uc,n),l=S.useRef(null),c=it(e,l);return oO(),u.jsxs(u.Fragment,{children:[u.jsx(Hb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:u.jsx(Nf,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":fO(o.open),...s,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(b_e,{titleId:o.titleId}),u.jsx(__e,{contentRef:l,descriptionId:o.descriptionId})]})]})}),dO="DialogTitle",uH=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Na(dO,n);return u.jsx(Ie.h2,{id:i.titleId,...r,ref:e})});uH.displayName=dO;var dH="DialogDescription",fH=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Na(dH,n);return u.jsx(Ie.p,{id:i.descriptionId,...r,ref:e})});fH.displayName=dH;var hH="DialogClose",pH=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Na(hH,n);return u.jsx(Ie.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,()=>i.onOpenChange(!1))})});pH.displayName=hH;function fO(t){return t?"open":"closed"}var mH="DialogTitleWarning",[PWe,gH]=VQ(mH,{contentName:Uc,titleName:dO,docsSlug:"dialog"}),b_e=({titleId:t})=>{const e=gH(mH),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},w_e="DialogDescriptionWarning",__e=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${gH(w_e).contentName}}.`;return S.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},S_e=nH,E_e=iH,j_e=sH,yH=oH,vH=lH,xH=uH,bH=fH,A_e=pH;const ai=S_e,T_e=E_e,k_e=j_e,wH=S.forwardRef(({className:t,...e},n)=>u.jsx(yH,{ref:n,className:ye("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));wH.displayName=yH.displayName;const Mr=S.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(k_e,{children:[u.jsx(wH,{}),u.jsxs(vH,{ref:r,className:ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(A_e,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(ig,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Mr.displayName=vH.displayName;const Dr=({className:t,...e})=>u.jsx("div",{className:ye("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Dr.displayName="DialogHeader";const _H=({className:t,...e})=>u.jsx("div",{className:ye("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});_H.displayName="DialogFooter";const Lr=S.forwardRef(({className:t,...e},n)=>u.jsx(xH,{ref:n,className:ye("text-lg font-semibold leading-none tracking-tight",t),...e}));Lr.displayName=xH.displayName;const hO=S.forwardRef(({className:t,...e},n)=>u.jsx(bH,{ref:n,className:ye("text-sm text-muted-foreground",t),...e}));hO.displayName=bH.displayName;const iu=S.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:ye("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));iu.displayName="Textarea";var C_e="Label",SH=S.forwardRef((t,e)=>u.jsx(Ie.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));SH.displayName=C_e;var EH=SH;const O_e=ng("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ge=S.forwardRef(({className:t,...e},n)=>u.jsx(EH,{ref:n,className:ye(O_e(),t),...e}));Ge.displayName=EH.displayName;const sa=S.forwardRef(({label:t,id:e,type:n="text",placeholder:r,value:i,onChange:a,error:s,success:o,required:l,className:c},d)=>{const[f,h]=S.useState(!1),[p,m]=S.useState(!1);S.useEffect(()=>{m(i.length>0)},[i]);const g=y=>{a(y.target.value)},x=()=>s?u.jsx(TI,{className:"w-4 h-4 text-destructive"}):o&&p?u.jsx(ma,{className:"w-4 h-4 text-green-500"}):l&&!p?u.jsx(Gv,{className:"w-4 h-4 text-muted-foreground/50"}):null,b=ye("peer w-full px-4 py-3 border rounded-lg transition-all duration-300","focus:ring-2 focus:ring-primary/20 focus:border-primary","placeholder-transparent",s?"border-destructive focus:border-destructive focus:ring-destructive/20":o&&p?"border-green-500 focus:border-green-500 focus:ring-green-500/20":"border-border hover:border-primary/50",c),v=ye("absolute left-4 transition-all duration-300 pointer-events-none","text-muted-foreground",f||p?"-top-2 text-xs bg-background px-1 text-primary":"top-3 text-sm");return u.jsxs("div",{className:"relative space-y-1",children:[u.jsxs("div",{className:"relative",children:[n==="textarea"?u.jsx(iu,{ref:d,id:e,placeholder:r,value:i,onChange:g,onFocus:()=>h(!0),onBlur:()=>h(!1),className:b,required:l,rows:4}):u.jsx(Ut,{ref:d,id:e,type:n,placeholder:r,value:i,onChange:g,onFocus:()=>h(!0),onBlur:()=>h(!1),className:b,required:l}),u.jsxs(Ge,{htmlFor:e,className:v,children:[t," ",l&&u.jsx("span",{className:"text-destructive",children:"*"})]}),(s||o||l)&&u.jsx("div",{className:"absolute right-3 top-3 transition-all duration-300",children:x()})]}),s&&u.jsxs("p",{className:"text-sm text-destructive flex items-center gap-2 animate-fade-in",children:[u.jsx(TI,{className:"w-3 h-3"}),s]}),o&&p&&!s&&u.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-2 animate-fade-in",children:[u.jsx(ma,{className:"w-3 h-3"}),"Looks good!"]})]})});sa.displayName="FormField";const Hs=S.forwardRef(({className:t,children:e,rippleColor:n="rgba(255, 255, 255, 0.6)",onClick:r,...i},a)=>{const[s,o]=S.useState([]),l=d=>{const h=d.currentTarget.getBoundingClientRect(),p=Math.max(h.width,h.height),m=d.clientX-h.left-p/2,g=d.clientY-h.top-p/2,x={id:Date.now(),x:m,y:g};o(b=>[...b,x]),setTimeout(()=>{o(b=>b.filter(v=>v.id!==x.id))},600)},c=d=>{l(d),r==null||r(d)};return u.jsxs(se,{ref:a,className:ye("relative overflow-hidden",t),onClick:c,...i,children:[e,s.map(d=>u.jsx("span",{className:"absolute rounded-full animate-ripple pointer-events-none",style:{left:d.x,top:d.y,width:"100px",height:"100px",backgroundColor:n,transform:"scale(0)",animation:"ripple 0.6s linear"}},d.id))]})});Hs.displayName="RippleButton";const w0=({children:t,className:e,direction:n="up",delay:r=0,threshold:i=.1})=>{const[a,s]=S.useState(!1),o=S.useRef(null);S.useEffect(()=>{const c=new IntersectionObserver(([d])=>{d.isIntersecting&&setTimeout(()=>s(!0),r)},{threshold:i});return o.current&&c.observe(o.current),()=>c.disconnect()},[r,i]);const l={up:"translate-y-8",down:"-translate-y-8",left:"translate-x-8",right:"-translate-x-8"};return u.jsx("div",{ref:o,className:ye("transition-all duration-700 ease-out",a?"opacity-100 translate-x-0 translate-y-0":`opacity-0 ${l[n]}`,e),children:t})},Xn=({children:t,className:e,delay:n=0})=>u.jsx(w0,{direction:"up",delay:n,className:e,children:t});var N_e="Separator",nM="horizontal",P_e=["horizontal","vertical"],jH=S.forwardRef((t,e)=>{const{decorative:n,orientation:r=nM,...i}=t,a=I_e(r)?r:nM,o=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return u.jsx(Ie.div,{"data-orientation":a,...o,...i,ref:e})});jH.displayName=N_e;function I_e(t){return P_e.includes(t)}var AH=jH;const pO=S.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>u.jsx(AH,{ref:i,decorative:n,orientation:e,className:ye("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));pO.displayName=AH.displayName;const $_e=({open:t,onOpenChange:e,defaultMode:n="signin"})=>{const[r,i]=S.useState(n);S.useState(!1);const[a,s]=S.useState(!1),[o,l]=S.useState({}),[c,d]=S.useState({}),{toast:f}=Vt(),{signIn:h,signUp:p,signInWithGoogle:m,resetPassword:g}=Un(),[x,b]=S.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),v=(C,O)=>{const F={...o},R={...c};switch(C){case"firstName":case"lastName":{r==="signup"&&(O.trim()?O.trim().length<2?(F[C]=`${C==="firstName"?"First":"Last"} name must be at least 2 characters`,R[C]=!1):(delete F[C],R[C]=!0):(F[C]=`${C==="firstName"?"First":"Last"} name is required`,R[C]=!1));break}case"email":{const D=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;O.trim()?D.test(O)?(delete F.email,R.email=!0):(F.email="Please enter a valid email address",R.email=!1):(F.email="Email is required",R.email=!1);break}case"password":{r!=="forgot"&&(O?O.length<8?(F.password="Password must be at least 8 characters",R.password=!1):/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(O)?(delete F.password,R.password=!0):(F.password="Password must contain uppercase, lowercase, and number",R.password=!1):(F.password="Password is required",R.password=!1));break}case"confirmPassword":{r==="signup"&&(O?O!==x.password?(F.confirmPassword="Passwords do not match",R.confirmPassword=!1):(delete F.confirmPassword,R.confirmPassword=!0):(F.confirmPassword="Please confirm your password",R.confirmPassword=!1));break}}return l(F),d(R),!F[C]},y=(C,O)=>{b(F=>({...F,[C]:O})),(O.trim()||C==="confirmPassword")&&v(C,O)},_=()=>{let C=!0;return r==="signup"&&(C=v("firstName",x.firstName)&&C,C=v("lastName",x.lastName)&&C,C=v("confirmPassword",x.confirmPassword)&&C),r!=="forgot"&&(C=v("password",x.password)&&C),C=v("email",x.email)&&C,C},w=async C=>{if(C.preventDefault(),!_()){f({title:"Please fix the errors above",variant:"destructive"});return}s(!0);try{if(r==="signup"){const O=`${x.firstName} ${x.lastName}`.trim();await p(x.email,x.password,O),e(!1)}else if(r==="signin")await h(x.email,x.password),e(!1);else if(r==="forgot")try{const{error:O}=await $e.functions.invoke("send-reset-email",{body:{email:x.email,redirectTo:`${window.location.origin}/admit-ai-nexus/reset-password`}});if(O)throw O;f({title:"Password reset sent!",description:"Check your email for reset instructions."}),i("signin")}catch(O){console.error("Reset failed details:",O);let F=O.message;!F&&typeof O=="object"&&(F=JSON.stringify(O)),O&&O.context&&O.context.json&&O.context.json().then(R=>{console.log("Error body:",R)}).catch(()=>{}),f({title:"Request Failed",description:F||"Check console for details",variant:"destructive"})}}catch(O){console.error("Auth error:",O),f({title:"Authentication failed",description:O.message||"Please try again",variant:"destructive"})}finally{s(!1)}},E=async()=>{try{s(!0),await m(),e(!1)}catch(C){console.error("Google sign in error:",C),f({title:"Google sign in failed",description:C.message||"Please try again",variant:"destructive"})}finally{s(!1)}},A=()=>{b({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),l({}),d({})},j=C=>{i(C),A()},T=()=>{switch(r){case"signup":return"Create Account";case"forgot":return"Reset Password";default:return"Welcome Back"}},k=()=>{switch(r){case"signup":return"Join AdmitConnect AI and transform your admissions process";case"forgot":return"Enter your email to receive a password reset link";default:return"Sign in to access your AdmitConnect AI dashboard"}};return u.jsx(ai,{open:t,onOpenChange:e,children:u.jsxs(Mr,{className:"max-w-md bg-card/95 backdrop-blur-sm border-border/50",children:[u.jsxs(Dr,{children:[u.jsx("div",{className:"w-16 h-16 bg-ai-gradient rounded-2xl flex items-center justify-center mx-auto mb-4 animate-bounce-in",children:u.jsx(Zs,{className:"w-8 h-8 text-white"})}),u.jsx(Lr,{className:"text-2xl font-bold text-center",children:T()}),u.jsx(hO,{className:"text-center text-muted-foreground",children:k()})]}),u.jsxs(w0,{direction:"up",className:"space-y-6",children:[u.jsxs("form",{onSubmit:w,className:"space-y-4",children:[r==="signup"&&u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(sa,{label:"First Name",id:"firstName",type:"text",value:x.firstName,onChange:C=>y("firstName",C),placeholder:"John",error:o.firstName,success:c.firstName,required:!0}),u.jsx(sa,{label:"Last Name",id:"lastName",type:"text",value:x.lastName,onChange:C=>y("lastName",C),placeholder:"Doe",error:o.lastName,success:c.lastName,required:!0})]}),u.jsx(sa,{label:"Email Address",id:"email",type:"email",value:x.email,onChange:C=>y("email",C),placeholder:"john@college.edu",error:o.email,success:c.email,required:!0}),r!=="forgot"&&u.jsx(sa,{label:"Password",id:"password",type:"password",value:x.password,onChange:C=>y("password",C),placeholder:"",error:o.password,success:c.password,required:!0}),r==="signup"&&u.jsx(sa,{label:"Confirm Password",id:"confirmPassword",type:"password",value:x.confirmPassword,onChange:C=>y("confirmPassword",C),placeholder:"",error:o.confirmPassword,success:c.confirmPassword,required:!0}),u.jsx(Hs,{type:"submit",variant:"hero",size:"lg",className:"w-full mt-6",disabled:a,children:a?u.jsxs(u.Fragment,{children:[u.jsx(El,{size:"sm",className:"mr-2"}),r==="signup"?"Creating Account...":r==="forgot"?"Sending Reset...":"Signing In..."]}):r==="signup"?"Create Account":r==="forgot"?"Send Reset Link":"Sign In"})]}),r!=="forgot"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx(pO,{className:"w-full"})}),u.jsx("div",{className:"relative flex justify-center text-xs",children:u.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),u.jsxs(Hs,{variant:"outline",size:"lg",className:"w-full",onClick:E,disabled:a,rippleColor:"rgba(59, 130, 246, 0.3)",children:[u.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})]}),u.jsxs("div",{className:"space-y-2 text-center text-sm",children:[r==="signin"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>j("forgot"),className:"text-primary hover:underline block w-full",children:"Forgot your password?"}),u.jsx("button",{type:"button",onClick:()=>j("signup"),className:"text-muted-foreground hover:text-foreground hover:underline block w-full",children:"Don't have an account? Sign up"})]}),r==="signup"&&u.jsx("button",{type:"button",onClick:()=>j("signin"),className:"text-muted-foreground hover:text-foreground hover:underline block w-full",children:"Already have an account? Sign in"}),r==="forgot"&&u.jsx("button",{type:"button",onClick:()=>j("signin"),className:"text-muted-foreground hover:text-foreground hover:underline block w-full",children:"Back to sign in"})]}),r==="signup"&&u.jsxs("div",{className:"text-xs text-muted-foreground text-center space-y-1",children:[u.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[u.jsx(Gv,{className:"w-3 h-3"}),u.jsx("span",{children:"Password requirements:"})]}),u.jsxs("ul",{className:"space-y-1",children:[u.jsx("li",{children:" At least 8 characters long"}),u.jsx("li",{children:" Contains uppercase and lowercase letters"}),u.jsx("li",{children:" Contains at least one number"})]})]})]})]})})},mO=({onContactClick:t,onScheduleClick:e})=>{const[n,r]=S.useState(!1),[i,a]=S.useState(!1),[s,o]=S.useState("signin"),l=pi(),{user:c,signOut:d}=Un(),f=()=>{o("signin"),a(!0)},h=()=>{o("signup"),a(!0)},p=async()=>{try{await d(),l("/")}catch(m){console.error("Sign out error:",m)}};return u.jsxs("nav",{id:"navigation",className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border/50",role:"navigation","aria-label":"Main navigation",children:[u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer logo-hover",onClick:()=>l("/"),children:[u.jsx("img",{src:"/admit-ai-nexus/app-logo.png",alt:"AdmitConnect AI Logo",className:"w-16 h-16 object-contain rounded-lg"}),u.jsx("span",{className:"text-xl font-bold bg-ai-gradient bg-clip-text text-transparent logo-colorful",children:"AdmitConnect AI"})]}),u.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[u.jsx("button",{onClick:()=>{var m;window.location.pathname!=="/"?(l("/"),setTimeout(()=>{var g;(g=document.getElementById("features"))==null||g.scrollIntoView({behavior:"smooth"})},100)):(m=document.getElementById("features"))==null||m.scrollIntoView({behavior:"smooth"})},className:"text-muted-foreground hover:text-foreground transition-colors",children:"Features"}),u.jsx("button",{onClick:()=>{var m;window.location.pathname!=="/"?(l("/"),setTimeout(()=>{var g;(g=document.getElementById("pricing"))==null||g.scrollIntoView({behavior:"smooth"})},100)):(m=document.getElementById("pricing"))==null||m.scrollIntoView({behavior:"smooth"})},className:"text-muted-foreground hover:text-foreground transition-colors",children:"Pricing"}),u.jsx("button",{onClick:()=>l("/about"),className:"text-muted-foreground hover:text-foreground transition-colors",children:"About"}),u.jsx("button",{onClick:()=>l("/our-services"),className:"text-muted-foreground hover:text-foreground transition-colors",children:"Services"}),c?u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(se,{variant:"outline",onClick:()=>l("/dashboard"),className:"hover-lift",children:"Dashboard"}),u.jsx(se,{variant:"ghost",onClick:p,className:"hover-lift",children:"Sign Out"})]}):u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(se,{variant:"outline",onClick:f,className:"hover-lift",children:"Sign In"}),u.jsx(se,{variant:"hero",onClick:h,className:"hover-lift",children:"Get Started"})]})]}),u.jsx("div",{className:"md:hidden",children:u.jsx(se,{variant:"ghost",size:"icon",onClick:()=>r(!n),children:n?u.jsx(ig,{className:"w-5 h-5"}):u.jsx(Uee,{className:"w-5 h-5"})})})]}),n&&u.jsx("div",{className:"md:hidden pb-4 border-t border-border/50 mt-2",children:u.jsxs("div",{className:"flex flex-col space-y-3 pt-4",children:[u.jsx("button",{onClick:()=>{var m;(m=document.getElementById("features"))==null||m.scrollIntoView({behavior:"smooth"}),r(!1)},className:"text-muted-foreground hover:text-foreground transition-colors text-left",children:"Features"}),u.jsx("button",{onClick:()=>{var m;(m=document.getElementById("pricing"))==null||m.scrollIntoView({behavior:"smooth"}),r(!1)},className:"text-muted-foreground hover:text-foreground transition-colors text-left",children:"Pricing"}),u.jsx("button",{onClick:()=>{l("/about"),r(!1)},className:"text-muted-foreground hover:text-foreground transition-colors text-left",children:"About"}),u.jsx("button",{onClick:()=>{l("/our-services"),r(!1)},className:"text-muted-foreground hover:text-foreground transition-colors text-left",children:"Services"}),u.jsx("div",{className:"flex flex-col space-y-2 pt-2",children:c?u.jsxs(u.Fragment,{children:[u.jsx(se,{variant:"outline",onClick:()=>{l("/dashboard"),r(!1)},className:"w-full justify-center",children:"Dashboard"}),u.jsx(se,{variant:"ghost",onClick:()=>{p(),r(!1)},className:"w-full justify-center",children:"Sign Out"})]}):u.jsxs(u.Fragment,{children:[u.jsx(se,{variant:"outline",onClick:()=>{f(),r(!1)},className:"w-full justify-center",children:"Sign In"}),u.jsx(se,{variant:"hero",onClick:()=>{h(),r(!1)},className:"w-full justify-center",children:"Get Started"})]})})]})})]}),u.jsx($_e,{open:i,onOpenChange:a,defaultMode:s})]})},TH=()=>u.jsx("footer",{className:"bg-card/50 border-t border-border/50 py-12",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-10 h-10 bg-ai-gradient rounded-lg flex items-center justify-center",children:u.jsx(Zs,{className:"w-6 h-6 text-white"})}),u.jsx("span",{className:"text-xl font-bold bg-ai-gradient bg-clip-text text-transparent",children:"AdmitConnect AI"})]}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"Revolutionizing college admissions through AI-powered automation and intelligent campaign management."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"font-semibold text-lg",children:"Quick Links"}),u.jsxs("div",{className:"flex flex-col space-y-2",children:[u.jsx(ip,{to:"/",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Home"}),u.jsx(ip,{to:"/about",className:"text-muted-foreground hover:text-foreground transition-colors",children:"About"}),u.jsx(ip,{to:"/our-services",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Services"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"font-semibold text-lg",children:"Get in Touch"}),u.jsxs("div",{className:"flex flex-col space-y-3",children:[u.jsxs("a",{href:"https://mail.google.com/mail/?view=cm&fs=1&to=admitconnectAI@gmail.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-muted-foreground hover:text-foreground transition-colors group",children:[u.jsx(ni,{className:"w-5 h-5 group-hover:text-primary transition-colors"}),u.jsx("span",{className:"text-sm",children:"admitconnectAI@gmail.com"})]}),u.jsxs("a",{href:"https://wa.me/918439663198",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-muted-foreground hover:text-foreground transition-colors group",children:[u.jsx(Kv,{className:"w-5 h-5 group-hover:text-primary transition-colors"}),u.jsx("span",{className:"text-sm",children:"+91 8439663198"})]})]}),u.jsxs("div",{className:"flex space-x-3 pt-2",children:[u.jsx(se,{size:"sm",variant:"outline",asChild:!0,className:"hover-lift",children:u.jsxs("a",{href:"https://mail.google.com/mail/?view=cm&fs=1&to=admitconnectAI@gmail.com",target:"_blank",rel:"noopener noreferrer",children:[u.jsx(ni,{className:"w-4 h-4 mr-2"}),"Email Us"]})}),u.jsx(se,{size:"sm",variant:"hero",asChild:!0,className:"hover-lift",children:u.jsxs("a",{href:"https://wa.me/918439663198",target:"_blank",rel:"noopener noreferrer",children:[u.jsx(Kv,{className:"w-4 h-4 mr-2"}),"WhatsApp"]})})]})]})]}),u.jsx("div",{className:"mt-12 pt-8 border-t border-border/50 text-center",children:u.jsxs("p",{className:"text-muted-foreground text-sm",children:[" ",new Date().getFullYear()," AdmitConnect AI. All rights reserved."]})})]})}),R_e=({onWatchDemoClick:t,onScheduleDemoClick:e})=>{const n=pi(),{user:r}=Un(),i=()=>{n(r?"/dashboard":"/auth")},a=[{icon:Ta,title:"AI Voice Calls",description:"Natural, human-like voice conversations with candidates"},{icon:ci,title:"WhatsApp Automation",description:"Personalized messages with delivery tracking"},{icon:fl,title:"Analytics Dashboard",description:"Real-time campaign performance and insights"},{icon:CB,title:"Enterprise Security",description:"Bank-level security with IP monitoring"},{icon:Fr,title:"Lightning Fast",description:"Process thousands of candidates in minutes"},{icon:Zs,title:"AI-Powered",description:"Advanced AI handles conversations automatically"}];return u.jsxs("div",{className:"min-h-screen pt-16 hero-black hero-rainbow-hover",children:[u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:u.jsxs("div",{className:"text-center space-y-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-primary/10 border border-primary/20 mb-4",children:[u.jsx(Qx,{className:"w-4 h-4 mr-2 text-primary"}),u.jsx("span",{className:"text-sm text-primary font-medium",children:"AI-Powered Admission Automation"})]}),u.jsxs("h1",{className:"text-4xl sm:text-6xl lg:text-7xl font-bold leading-tight",children:[u.jsx("span",{className:"block text-foreground",children:"Revolutionize"}),u.jsx("span",{className:"block bg-ai-gradient bg-clip-text text-transparent logo-colorful",children:"College Admissions"}),u.jsx("span",{className:"block text-foreground",children:"with AI"})]}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"Automate voice calls, WhatsApp messaging, and candidate outreach with our intelligent AI system. Increase enrollment rates by 300% while reducing manual work by 90%."})]}),u.jsx(Xn,{delay:300,children:u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[u.jsxs(Hs,{variant:"hero",size:"lg",onClick:i,className:"px-8 py-4 text-lg hover-lift animate-bounce-in",children:["Start Free Trial",u.jsx(Fd,{className:"w-5 h-5 ml-2"})]}),u.jsx(Hs,{variant:"outline",size:"lg",onClick:t,className:"px-8 py-4 text-lg hover-lift",rippleColor:"rgba(59, 130, 246, 0.5)",children:"Watch Demo"})]})}),u.jsx(w0,{direction:"up",delay:500,children:u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-8 mt-16 pt-16 border-t border-border/50",children:[u.jsx(Xn,{delay:100,children:u.jsxs("div",{className:"text-center hover:scale-105 transition-transform duration-300",children:[u.jsx("div",{className:"text-3xl sm:text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent logo-colorful animate-text-focus",children:"10,000+"}),u.jsx("p",{className:"text-muted-foreground mt-2",children:"Students Contacted Daily"})]})}),u.jsx(Xn,{delay:200,children:u.jsxs("div",{className:"text-center hover:scale-105 transition-transform duration-300",children:[u.jsx("div",{className:"text-3xl sm:text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent logo-colorful animate-text-focus",children:"300%"}),u.jsx("p",{className:"text-muted-foreground mt-2",children:"Increase in Enrollment"})]})}),u.jsx(Xn,{delay:300,children:u.jsxs("div",{className:"text-center hover:scale-105 transition-transform duration-300",children:[u.jsx("div",{className:"text-3xl sm:text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent logo-colorful animate-text-focus",children:"90%"}),u.jsx("p",{className:"text-muted-foreground mt-2",children:"Reduction in Manual Work"})]})})]})})]})}),u.jsx("div",{className:"py-20 bg-ai-gradient-subtle",id:"features",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center space-y-4 mb-16",children:[u.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-foreground",children:"Powerful Features for Modern Admissions"}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Everything you need to transform your admission process and connect with students effectively"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map((s,o)=>{const l=s.icon;return u.jsx(w0,{direction:"up",delay:o*100,className:"group h-full",children:u.jsx(te,{className:"relative p-6 bg-card/50 backdrop-blur-sm border-border/50 hover-lift glow-border shine-effect h-full flex flex-col overflow-hidden transition-all duration-500 before:absolute before:inset-0 before:bg-ai-gradient-glow before:opacity-0 before:transition-opacity before:duration-500 hover:before:opacity-100 hover:shadow-glow",children:u.jsxs("div",{className:"space-y-4 flex-1 flex flex-col relative z-10",children:[u.jsxs("div",{className:"relative w-14 h-14 bg-ai-gradient-shine rounded-xl flex items-center justify-center group-hover:rotate-12 group-hover:scale-110 transition-all duration-500 shadow-glow",children:[u.jsx("div",{className:"absolute inset-0 bg-ai-gradient-shine rounded-xl opacity-0 group-hover:opacity-100 blur-xl transition-opacity duration-500"}),u.jsx(l,{className:"w-7 h-7 text-white relative z-10 group-hover:drop-shadow-[0_0_8px_rgba(255,255,255,0.8)] transition-all duration-500"})]}),u.jsx("h3",{className:"text-xl font-semibold text-card-foreground group-hover:text-primary-glow transition-colors duration-300 group-hover:drop-shadow-[0_0_12px_rgba(59,130,246,0.6)]",children:s.title}),u.jsx("p",{className:"text-muted-foreground flex-1 group-hover:text-foreground/90 transition-colors duration-300",children:s.description})]})})},o)})}),u.jsx(Xn,{delay:400,children:u.jsx("div",{className:"text-center mt-16",children:u.jsxs(Hs,{variant:"hero",size:"lg",onClick:e,className:"hover-lift pulse",children:["Schedule Demo",u.jsx(Fd,{className:"w-5 h-5 ml-2"})]})})})]})})]})},M_e=({onContactClick:t,onScheduleClick:e})=>{pi();const n=[{name:"Starter",price:"$29",period:"/month",description:"Perfect for small colleges and testing",icon:Tk,features:["500 voice calls/month","1,000 WhatsApp messages","Basic analytics dashboard","Email support","2 campaign templates","CSV upload"],buttonVariant:"outline",popular:!1},{name:"Professional",price:"$99",period:"/month",description:"For growing institutions",icon:Hee,features:["2,500 voice calls/month","5,000 WhatsApp messages","Advanced analytics & reports","Priority support","Unlimited campaign templates","CSV & Excel upload","Custom voice training","A/B testing"],buttonVariant:"hero",popular:!0},{name:"Enterprise",price:"$299",period:"/month",description:"For large institutions and universities",icon:TB,features:["10,000+ voice calls/month","20,000+ WhatsApp messages","Custom analytics dashboard","24/7 phone support","White-label solution","API access","Dedicated account manager","Custom integrations","Multi-language support"],buttonVariant:"premium",popular:!1}];return u.jsx("div",{className:"py-20 bg-background",id:"pricing",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center space-y-4 mb-16",children:[u.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-foreground",children:"Choose Your Perfect Plan"}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Scale your admission automation with transparent pricing that grows with your institution"})]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:n.map((r,i)=>{const a=r.icon;return u.jsxs(te,{className:`relative p-8 bg-card/50 backdrop-blur-sm border-border/50 hover-lift ${r.popular?"popular-glow glow-border":""}`,children:[r.popular&&u.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:u.jsx("div",{className:"bg-ai-gradient text-white px-4 py-1 rounded-full text-sm font-medium",children:"Most Popular"})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("div",{className:"w-12 h-12 bg-ai-gradient rounded-lg flex items-center justify-center mx-auto",children:u.jsx(a,{className:"w-6 h-6 text-white"})}),u.jsx("h3",{className:"text-2xl font-bold text-card-foreground",children:r.name}),u.jsx("p",{className:"text-muted-foreground",children:r.description})]}),u.jsx("div",{className:"text-center",children:u.jsxs("div",{className:"flex items-baseline justify-center",children:[u.jsx("span",{className:"text-5xl font-bold bg-ai-gradient bg-clip-text text-transparent logo-colorful",children:r.price}),u.jsx("span",{className:"text-muted-foreground ml-1",children:r.period})]})}),u.jsx("div",{className:"space-y-3",children:r.features.map((s,o)=>u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(Jx,{className:"w-5 h-5 text-primary flex-shrink-0"}),u.jsx("span",{className:"text-card-foreground",children:s})]},o))}),u.jsxs(se,{variant:r.buttonVariant,size:"lg",onClick:()=>window.open("https://rzp.io/rzp/DOVfKeU","_blank"),className:"w-full hover-lift",children:["Get Started with ",r.name]})]})]},i)})}),u.jsxs("div",{className:"text-center mt-16 p-8 bg-card/30 rounded-2xl border border-border/50",children:[u.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:"Need a Custom Solution?"}),u.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:"For enterprises with specific requirements, we offer custom solutions with dedicated support, advanced integrations, and tailored features."}),u.jsx(se,{variant:"outline",size:"lg",onClick:t,className:"hover-lift",children:"Contact Sales Team"})]})]})})};function kH(t){const e=S.useRef({value:t,previous:t});return S.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var D_e=[" ","Enter","ArrowUp","ArrowDown"],L_e=[" ","Enter"],Sg="Select",[qb,Gb,F_e]=Yx(Sg),[Wf,IWe]=gs(Sg,[F_e,Rf]),Kb=Rf(),[B_e,Dl]=Wf(Sg),[z_e,U_e]=Wf(Sg),CH=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:s,defaultValue:o,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:p,form:m}=t,g=Kb(e),[x,b]=S.useState(null),[v,y]=S.useState(null),[_,w]=S.useState(!1),E=_g(c),[A=!1,j]=Xs({prop:r,defaultProp:i,onChange:a}),[T,k]=Xs({prop:s,defaultProp:o,onChange:l}),C=S.useRef(null),O=x?m||!!x.closest("form"):!0,[F,R]=S.useState(new Set),D=Array.from(F).map(U=>U.props.value).join(";");return u.jsx(Fk,{...g,children:u.jsxs(B_e,{required:p,scope:e,trigger:x,onTriggerChange:b,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:_,onValueNodeHasChildrenChange:w,contentId:ga(),value:T,onValueChange:k,open:A,onOpenChange:j,dir:E,triggerPointerDownPosRef:C,disabled:h,children:[u.jsx(qb.Provider,{scope:e,children:u.jsx(z_e,{scope:t.__scopeSelect,onNativeOptionAdd:S.useCallback(U=>{R(V=>new Set(V).add(U))},[]),onNativeOptionRemove:S.useCallback(U=>{R(V=>{const L=new Set(V);return L.delete(U),L})},[]),children:n})}),O?u.jsxs(eV,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:T,onChange:U=>k(U.target.value),disabled:h,form:m,children:[T===void 0?u.jsx("option",{value:""}):null,Array.from(F)]},D):null]})})};CH.displayName=Sg;var OH="SelectTrigger",NH=S.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=Kb(n),s=Dl(OH,n),o=s.disabled||r,l=it(e,s.onTriggerChange),c=Gb(n),d=S.useRef("touch"),[f,h,p]=tV(g=>{const x=c().filter(y=>!y.disabled),b=x.find(y=>y.value===s.value),v=nV(x,g,b);v!==void 0&&s.onValueChange(v.value)}),m=g=>{o||(s.onOpenChange(!0),p()),g&&(s.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return u.jsx(Bk,{asChild:!0,...a,children:u.jsx(Ie.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":QH(s.value)?"":void 0,...i,ref:l,onClick:pe(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&m(g)}),onPointerDown:pe(i.onPointerDown,g=>{d.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(m(g),g.preventDefault())}),onKeyDown:pe(i.onKeyDown,g=>{const x=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(x&&g.key===" ")&&D_e.includes(g.key)&&(m(),g.preventDefault())})})})});NH.displayName=OH;var PH="SelectValue",IH=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:s="",...o}=t,l=Dl(PH,n),{onValueNodeHasChildrenChange:c}=l,d=a!==void 0,f=it(e,l.onValueNodeChange);return An(()=>{c(d)},[c,d]),u.jsx(Ie.span,{...o,ref:f,style:{pointerEvents:"none"},children:QH(l.value)?u.jsx(u.Fragment,{children:s}):a})});IH.displayName=PH;var H_e="SelectIcon",$H=S.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return u.jsx(Ie.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});$H.displayName=H_e;var V_e="SelectPortal",RH=t=>u.jsx(eg,{asChild:!0,...t});RH.displayName=V_e;var Hc="SelectContent",MH=S.forwardRef((t,e)=>{const n=Dl(Hc,t.__scopeSelect),[r,i]=S.useState();if(An(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Jc.createPortal(u.jsx(DH,{scope:t.__scopeSelect,children:u.jsx(qb.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),a):null}return u.jsx(LH,{...t,ref:e})});MH.displayName=Hc;var Xi=10,[DH,Ll]=Wf(Hc),W_e="SelectContentImpl",LH=S.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:x,...b}=t,v=Dl(Hc,n),[y,_]=S.useState(null),[w,E]=S.useState(null),A=it(e,N=>_(N)),[j,T]=S.useState(null),[k,C]=S.useState(null),O=Gb(n),[F,R]=S.useState(!1),D=S.useRef(!1);S.useEffect(()=>{if(y)return lO(y)},[y]),oO();const U=S.useCallback(N=>{const[K,...z]=O().map(Y=>Y.ref.current),[Z]=z.slice(-1),J=document.activeElement;for(const Y of N)if(Y===J||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===K&&w&&(w.scrollTop=0),Y===Z&&w&&(w.scrollTop=w.scrollHeight),Y==null||Y.focus(),document.activeElement!==J))return},[O,w]),V=S.useCallback(()=>U([j,y]),[U,j,y]);S.useEffect(()=>{F&&V()},[F,V]);const{onOpenChange:L,triggerPointerDownPosRef:B}=v;S.useEffect(()=>{if(y){let N={x:0,y:0};const K=Z=>{var J,Y;N={x:Math.abs(Math.round(Z.pageX)-(((J=B.current)==null?void 0:J.x)??0)),y:Math.abs(Math.round(Z.pageY)-(((Y=B.current)==null?void 0:Y.y)??0))}},z=Z=>{N.x<=10&&N.y<=10?Z.preventDefault():y.contains(Z.target)||L(!1),document.removeEventListener("pointermove",K),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",K),document.addEventListener("pointerup",z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",z,{capture:!0})}}},[y,L,B]),S.useEffect(()=>{const N=()=>L(!1);return window.addEventListener("blur",N),window.addEventListener("resize",N),()=>{window.removeEventListener("blur",N),window.removeEventListener("resize",N)}},[L]);const[P,W]=tV(N=>{const K=O().filter(J=>!J.disabled),z=K.find(J=>J.ref.current===document.activeElement),Z=nV(K,N,z);Z&&setTimeout(()=>Z.ref.current.focus())}),G=S.useCallback((N,K,z)=>{const Z=!D.current&&!z;(v.value!==void 0&&v.value===K||Z)&&(T(N),Z&&(D.current=!0))},[v.value]),$=S.useCallback(()=>y==null?void 0:y.focus(),[y]),ee=S.useCallback((N,K,z)=>{const Z=!D.current&&!z;(v.value!==void 0&&v.value===K||Z)&&C(N)},[v.value]),ie=r==="popper"?Pj:FH,I=ie===Pj?{side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:x}:{};return u.jsx(DH,{scope:n,content:y,viewport:w,onViewportChange:E,itemRefCallback:G,selectedItem:j,onItemLeave:$,itemTextRefCallback:ee,focusSelectedItem:V,selectedItemText:k,position:r,isPositioned:F,searchRef:P,children:u.jsx(Wb,{as:dl,allowPinchZoom:!0,children:u.jsx(Hb,{asChild:!0,trapped:v.open,onMountAutoFocus:N=>{N.preventDefault()},onUnmountAutoFocus:pe(i,N=>{var K;(K=v.trigger)==null||K.focus({preventScroll:!0}),N.preventDefault()}),children:u.jsx(Nf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:N=>N.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:u.jsx(ie,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:N=>N.preventDefault(),...b,...I,onPlaced:()=>R(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:pe(b.onKeyDown,N=>{const K=N.ctrlKey||N.altKey||N.metaKey;if(N.key==="Tab"&&N.preventDefault(),!K&&N.key.length===1&&W(N.key),["ArrowUp","ArrowDown","Home","End"].includes(N.key)){let Z=O().filter(J=>!J.disabled).map(J=>J.ref.current);if(["ArrowUp","End"].includes(N.key)&&(Z=Z.slice().reverse()),["ArrowUp","ArrowDown"].includes(N.key)){const J=N.target,Y=Z.indexOf(J);Z=Z.slice(Y+1)}setTimeout(()=>U(Z)),N.preventDefault()}})})})})})})});LH.displayName=W_e;var q_e="SelectItemAlignedPosition",FH=S.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=Dl(Hc,n),s=Ll(Hc,n),[o,l]=S.useState(null),[c,d]=S.useState(null),f=it(e,A=>d(A)),h=Gb(n),p=S.useRef(!1),m=S.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:b,focusSelectedItem:v}=s,y=S.useCallback(()=>{if(a.trigger&&a.valueNode&&o&&c&&g&&x&&b){const A=a.trigger.getBoundingClientRect(),j=c.getBoundingClientRect(),T=a.valueNode.getBoundingClientRect(),k=b.getBoundingClientRect();if(a.dir!=="rtl"){const J=k.left-j.left,Y=T.left-J,me=A.left-Y,le=A.width+me,xe=Math.max(le,j.width),oe=window.innerWidth-Xi,Be=Oj(Y,[Xi,Math.max(Xi,oe-xe)]);o.style.minWidth=le+"px",o.style.left=Be+"px"}else{const J=j.right-k.right,Y=window.innerWidth-T.right-J,me=window.innerWidth-A.right-Y,le=A.width+me,xe=Math.max(le,j.width),oe=window.innerWidth-Xi,Be=Oj(Y,[Xi,Math.max(Xi,oe-xe)]);o.style.minWidth=le+"px",o.style.right=Be+"px"}const C=h(),O=window.innerHeight-Xi*2,F=g.scrollHeight,R=window.getComputedStyle(c),D=parseInt(R.borderTopWidth,10),U=parseInt(R.paddingTop,10),V=parseInt(R.borderBottomWidth,10),L=parseInt(R.paddingBottom,10),B=D+U+F+L+V,P=Math.min(x.offsetHeight*5,B),W=window.getComputedStyle(g),G=parseInt(W.paddingTop,10),$=parseInt(W.paddingBottom,10),ee=A.top+A.height/2-Xi,ie=O-ee,I=x.offsetHeight/2,N=x.offsetTop+I,K=D+U+N,z=B-K;if(K<=ee){const J=C.length>0&&x===C[C.length-1].ref.current;o.style.bottom="0px";const Y=c.clientHeight-g.offsetTop-g.offsetHeight,me=Math.max(ie,I+(J?$:0)+Y+V),le=K+me;o.style.height=le+"px"}else{const J=C.length>0&&x===C[0].ref.current;o.style.top="0px";const me=Math.max(ee,D+g.offsetTop+(J?G:0)+I)+z;o.style.height=me+"px",g.scrollTop=K-ee+g.offsetTop}o.style.margin=`${Xi}px 0`,o.style.minHeight=P+"px",o.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,o,c,g,x,b,a.dir,r]);An(()=>y(),[y]);const[_,w]=S.useState();An(()=>{c&&w(window.getComputedStyle(c).zIndex)},[c]);const E=S.useCallback(A=>{A&&m.current===!0&&(y(),v==null||v(),m.current=!1)},[y,v]);return u.jsx(K_e,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:E,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:u.jsx(Ie.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});FH.displayName=q_e;var G_e="SelectPopperPosition",Pj=S.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Xi,...a}=t,s=Kb(n);return u.jsx(zk,{...s,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Pj.displayName=G_e;var[K_e,gO]=Wf(Hc,{}),Ij="SelectViewport",BH=S.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=Ll(Ij,n),s=gO(Ij,n),o=it(e,a.onViewportChange),l=S.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(qb.Slot,{scope:n,children:u.jsx(Ie.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:pe(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=s;if(h!=null&&h.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const m=window.innerHeight-Xi*2,g=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),b=Math.max(g,x);if(b<m){const v=b+p,y=Math.min(m,v),_=v-y;f.style.height=y+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});BH.displayName=Ij;var zH="SelectGroup",[Y_e,X_e]=Wf(zH),Z_e=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ga();return u.jsx(Y_e,{scope:n,id:i,children:u.jsx(Ie.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Z_e.displayName=zH;var UH="SelectLabel",HH=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=X_e(UH,n);return u.jsx(Ie.div,{id:i.id,...r,ref:e})});HH.displayName=UH;var _0="SelectItem",[J_e,VH]=Wf(_0),WH=S.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...s}=t,o=Dl(_0,n),l=Ll(_0,n),c=o.value===r,[d,f]=S.useState(a??""),[h,p]=S.useState(!1),m=it(e,v=>{var y;return(y=l.itemRefCallback)==null?void 0:y.call(l,v,r,i)}),g=ga(),x=S.useRef("touch"),b=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(J_e,{scope:n,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:S.useCallback(v=>{f(y=>y||((v==null?void 0:v.textContent)??"").trim())},[]),children:u.jsx(qb.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:u.jsx(Ie.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:m,onFocus:pe(s.onFocus,()=>p(!0)),onBlur:pe(s.onBlur,()=>p(!1)),onClick:pe(s.onClick,()=>{x.current!=="mouse"&&b()}),onPointerUp:pe(s.onPointerUp,()=>{x.current==="mouse"&&b()}),onPointerDown:pe(s.onPointerDown,v=>{x.current=v.pointerType}),onPointerMove:pe(s.onPointerMove,v=>{var y;x.current=v.pointerType,i?(y=l.onItemLeave)==null||y.call(l):x.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(s.onPointerLeave,v=>{var y;v.currentTarget===document.activeElement&&((y=l.onItemLeave)==null||y.call(l))}),onKeyDown:pe(s.onKeyDown,v=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&v.key===" "||(L_e.includes(v.key)&&b(),v.key===" "&&v.preventDefault())})})})})});WH.displayName=_0;var Vh="SelectItemText",qH=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,s=Dl(Vh,n),o=Ll(Vh,n),l=VH(Vh,n),c=U_e(Vh,n),[d,f]=S.useState(null),h=it(e,b=>f(b),l.onItemTextChange,b=>{var v;return(v=o.itemTextRefCallback)==null?void 0:v.call(o,b,l.value,l.disabled)}),p=d==null?void 0:d.textContent,m=S.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=c;return An(()=>(g(m),()=>x(m)),[g,x,m]),u.jsxs(u.Fragment,{children:[u.jsx(Ie.span,{id:l.textId,...a,ref:h}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Jc.createPortal(a.children,s.valueNode):null]})});qH.displayName=Vh;var GH="SelectItemIndicator",KH=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return VH(GH,n).isSelected?u.jsx(Ie.span,{"aria-hidden":!0,...r,ref:e}):null});KH.displayName=GH;var $j="SelectScrollUpButton",YH=S.forwardRef((t,e)=>{const n=Ll($j,t.__scopeSelect),r=gO($j,t.__scopeSelect),[i,a]=S.useState(!1),s=it(e,r.onScrollButtonChange);return An(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=l.scrollTop>0;a(c)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?u.jsx(ZH,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});YH.displayName=$j;var Rj="SelectScrollDownButton",XH=S.forwardRef((t,e)=>{const n=Ll(Rj,t.__scopeSelect),r=gO(Rj,t.__scopeSelect),[i,a]=S.useState(!1),s=it(e,r.onScrollButtonChange);return An(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;a(d)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?u.jsx(ZH,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});XH.displayName=Rj;var ZH=S.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=Ll("SelectScrollButton",n),s=S.useRef(null),o=Gb(n),l=S.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return S.useEffect(()=>()=>l(),[l]),An(()=>{var d;const c=o().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),u.jsx(Ie.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:pe(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:pe(i.onPointerMove,()=>{var c;(c=a.onItemLeave)==null||c.call(a),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:pe(i.onPointerLeave,()=>{l()})})}),Q_e="SelectSeparator",JH=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(Ie.div,{"aria-hidden":!0,...r,ref:e})});JH.displayName=Q_e;var Mj="SelectArrow",e1e=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Kb(n),a=Dl(Mj,n),s=Ll(Mj,n);return a.open&&s.position==="popper"?u.jsx(Uk,{...i,...r,ref:e}):null});e1e.displayName=Mj;function QH(t){return t===""||t===void 0}var eV=S.forwardRef((t,e)=>{const{value:n,...r}=t,i=S.useRef(null),a=it(e,i),s=kH(n);return S.useEffect(()=>{const o=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&d){const f=new Event("change",{bubbles:!0});d.call(o,n),o.dispatchEvent(f)}},[s,n]),u.jsx(tg,{asChild:!0,children:u.jsx("select",{...r,ref:a,defaultValue:n})})});eV.displayName="BubbleSelect";function tV(t){const e=qt(t),n=S.useRef(""),r=S.useRef(0),i=S.useCallback(s=>{const o=n.current+s;e(o),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),a=S.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function nV(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let s=t1e(t,Math.max(a,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function t1e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var n1e=CH,rV=NH,r1e=IH,i1e=$H,a1e=RH,iV=MH,s1e=BH,aV=HH,sV=WH,o1e=qH,l1e=KH,oV=YH,lV=XH,cV=JH;const ua=n1e,da=r1e,ki=S.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(rV,{ref:r,className:ye("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(i1e,{asChild:!0,children:u.jsx(AB,{className:"h-4 w-4 opacity-50"})})]}));ki.displayName=rV.displayName;const uV=S.forwardRef(({className:t,...e},n)=>u.jsx(oV,{ref:n,className:ye("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(Iee,{className:"h-4 w-4"})}));uV.displayName=oV.displayName;const dV=S.forwardRef(({className:t,...e},n)=>u.jsx(lV,{ref:n,className:ye("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(AB,{className:"h-4 w-4"})}));dV.displayName=lV.displayName;const Ci=S.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>u.jsx(a1e,{children:u.jsxs(iV,{ref:i,className:ye("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(uV,{}),u.jsx(s1e,{className:ye("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(dV,{})]})}));Ci.displayName=iV.displayName;const c1e=S.forwardRef(({className:t,...e},n)=>u.jsx(aV,{ref:n,className:ye("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));c1e.displayName=aV.displayName;const Bt=S.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(sV,{ref:r,className:ye("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(l1e,{children:u.jsx(Jx,{className:"h-4 w-4"})})}),u.jsx(o1e,{children:e})]}));Bt.displayName=sV.displayName;const u1e=S.forwardRef(({className:t,...e},n)=>u.jsx(cV,{ref:n,className:ye("-mx-1 my-1 h-px bg-muted",t),...e}));u1e.displayName=cV.displayName;const Yb=({open:t,onOpenChange:e})=>{const[n,r]=S.useState(""),[i,a]=S.useState(""),[s,o]=S.useState(""),[l,c]=S.useState(""),[d,f]=S.useState(""),[h,p]=S.useState(""),[m,g]=S.useState(!1),{toast:x}=Vt(),b=["9:00 AM - 10:00 AM","10:00 AM - 11:00 AM","11:00 AM - 12:00 PM","2:00 PM - 3:00 PM","3:00 PM - 4:00 PM","4:00 PM - 5:00 PM"],v=async y=>{if(y.preventDefault(),!n||!i||!s||!d){x({title:"Please fill in all required fields",variant:"destructive"});return}g(!0);try{const{error:_}=await $e.from("demo_requests").insert([{name:n,email:i,company:s,role:l,preferred_time:d,message:h}]);if(_)throw _;if(!(await fetch("https://formsubmit.co/ajax/admitconnectAI@gmail.com",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:n,email:i,company:s,role:l,preferred_time:d,message:h,_subject:`New Demo Request from ${n}`,_template:"table",_captcha:"false"})})).ok)throw new Error("Failed to send email");x({title:"Demo scheduled successfully!",description:"We'll send you a calendar invite shortly."}),r(""),a(""),o(""),c(""),f(""),p(""),e(!1)}catch(_){console.error("Error scheduling demo:",_),x({title:"Failed to schedule demo",description:"Please check your internet connection and try again.",variant:"destructive"})}finally{g(!1)}};return u.jsx(ai,{open:t,onOpenChange:e,children:u.jsxs(Mr,{className:"max-w-md",children:[u.jsx(Dr,{children:u.jsxs(Lr,{className:"flex items-center space-x-2",children:[u.jsx(Kp,{className:"w-5 h-5"}),u.jsx("span",{children:"Schedule Your Demo"})]})}),u.jsxs("form",{onSubmit:v,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"name",children:"Full Name *"}),u.jsx(Ut,{id:"name",value:n,onChange:y=>r(y.target.value),placeholder:"John Doe",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"email",children:"Email *"}),u.jsx(Ut,{id:"email",type:"email",value:i,onChange:y=>a(y.target.value),placeholder:"john@university.edu",required:!0})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"company",children:"Institution/Company *"}),u.jsx(Ut,{id:"company",value:s,onChange:y=>o(y.target.value),placeholder:"Harvard University",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"role",children:"Your Role"}),u.jsx(Ut,{id:"role",value:l,onChange:y=>c(y.target.value),placeholder:"Admissions Director"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"timeSlot",children:"Preferred Time *"}),u.jsxs(ua,{value:d,onValueChange:f,required:!0,children:[u.jsx(ki,{children:u.jsx(da,{placeholder:"Select a time slot"})}),u.jsx(Ci,{children:b.map(y=>u.jsx(Bt,{value:y,children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(hl,{className:"w-4 h-4"}),u.jsx("span",{children:y})]})},y))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"message",children:"Additional Notes"}),u.jsx(iu,{id:"message",value:h,onChange:y=>p(y.target.value),placeholder:"Tell us about your specific needs or questions...",rows:3})]}),u.jsx(se,{type:"submit",variant:"hero",disabled:m,className:"w-full hover-lift",children:m?"Scheduling...":"Schedule Demo"})]}),u.jsx("div",{className:"text-xs text-muted-foreground text-center",children:"Our team will send you a calendar invite within 1 hour. All times are in EST."})]})})},d1e=({open:t,onOpenChange:e})=>{const[n,r]=S.useState(!1),i=[{title:"Getting Started with AdmitConnect AI",description:"Learn how to set up your first campaign in under 5 minutes",thumbnail:"https://img.youtube.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",duration:"4:32",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{title:"AI Voice Call Demo",description:"See our AI making real admission calls to prospective students",thumbnail:"https://img.youtube.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",duration:"3:15",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{title:"WhatsApp Automation Walkthrough",description:"Complete guide to WhatsApp campaign setup and management",thumbnail:"https://img.youtube.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",duration:"6:45",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"}],a=s=>{window.open(s,"_blank")};return u.jsxs(ai,{open:t,onOpenChange:e,children:[u.jsxs(Mr,{className:"max-w-4xl",children:[u.jsx(Dr,{children:u.jsxs(Lr,{className:"flex items-center space-x-2",children:[u.jsx(Fs,{className:"w-5 h-5"}),u.jsx("span",{children:"Product Demos"})]})}),u.jsxs("div",{className:"space-y-6",children:[u.jsx(te,{className:"p-6 bg-ai-gradient-subtle border-primary/20",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-6 items-center",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Tk,{className:"w-5 h-5 text-primary"}),u.jsx("span",{className:"text-sm font-medium text-primary",children:"Featured Demo"})]}),u.jsx("h3",{className:"text-2xl font-bold",children:"Complete Platform Overview"}),u.jsx("p",{className:"text-muted-foreground",children:"See how AdmitConnect AI transforms admission workflows with real-world examples and live demonstrations."}),u.jsx(se,{variant:"hero",onClick:()=>r(!0),className:"hover-lift",children:"Schedule Live Demo"})]}),u.jsx("div",{className:"relative",children:u.jsx("div",{className:"aspect-video bg-card rounded-lg flex items-center justify-center border",children:u.jsx(Fs,{className:"w-16 h-16 text-primary"})})})]})}),u.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:i.map((s,o)=>u.jsx(te,{className:"p-4 hover-lift cursor-pointer h-full flex flex-col",onClick:()=>a(s.url),children:u.jsxs("div",{className:"space-y-3 flex flex-col h-full",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"aspect-video bg-muted rounded-lg flex items-center justify-center",children:u.jsx(Fs,{className:"w-8 h-8 text-primary"})}),u.jsx("div",{className:"absolute bottom-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded",children:s.duration})]}),u.jsxs("div",{className:"space-y-1 flex-1",children:[u.jsx("h4",{className:"font-semibold text-sm line-clamp-2",children:s.title}),u.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:s.description})]}),u.jsxs(se,{variant:"outline",size:"sm",className:"w-full",children:[u.jsx(Dee,{className:"w-3 h-3 mr-2"}),"Watch Video"]})]})},o))}),u.jsxs("div",{className:"text-center p-6 bg-card/50 rounded-lg border border-border/50",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Ready to Transform Your Admissions?"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Start your free trial today and see the results within the first week."}),u.jsx(se,{variant:"hero",className:"hover-lift",onClick:()=>window.location.href="/auth",children:"Start Free Trial"})]})]})]}),u.jsx(Yb,{open:n,onOpenChange:r})]})},yO=({open:t,onOpenChange:e})=>{const[n,r]=S.useState(""),[i,a]=S.useState(""),[s,o]=S.useState(""),[l,c]=S.useState(!1),[d,f]=S.useState({}),[h,p]=S.useState({}),{toast:m}=Vt(),g=(v,y)=>{const _={...d},w={...h};switch(v){case"name":y.trim()?y.trim().length<2?(_.name="Name must be at least 2 characters",w.message=!1):(delete _.message,w.message=!0):(_.name="Name is required",w.name=!1);break}return f(_),p(w),!_[v]},x=(v,y)=>{switch(v){case"name":r(y);break;case"email":a(y);break;case"message":o(y);break}y.trim()&&g(v,y)},b=async v=>{v.preventDefault();const y=g("name",n),_=g("email",i),w=g("message",s);if(!y||!_||!w){m({title:"Please fix the errors above",variant:"destructive"});return}c(!0);try{const{error:E}=await $e.from("contact_submissions").insert([{name:n,email:i,message:s}]);if(E)throw E;if(!(await fetch("https://formsubmit.co/ajax/admitconnectAI@gmail.com",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:n,email:i,message:s,_subject:`New Contact Request from ${n}`,_template:"table",_captcha:"false"})})).ok)throw new Error("Failed to send email");m({title:"Message sent successfully!",description:"We'll get back to you within 24 hours."}),r(""),a(""),o(""),e(!1)}catch(E){console.error("Error sending message:",E),m({title:"Failed to send message",description:"Please check your internet connection and try again.",variant:"destructive"})}finally{c(!1)}};return u.jsx(ai,{open:t,onOpenChange:e,children:u.jsxs(Mr,{className:"max-w-md",children:[u.jsx(Dr,{children:u.jsxs(Lr,{className:"flex items-center space-x-2",children:[u.jsx(ni,{className:"w-5 h-5"}),u.jsx("span",{children:"Contact Us"})]})}),u.jsxs("form",{onSubmit:b,className:"space-y-6",children:[u.jsx(sa,{label:"Full Name",id:"name",type:"text",value:n,onChange:v=>x("name",v),placeholder:"Enter your full name",error:d.name,success:h.name,required:!0}),u.jsx(sa,{label:"Email Address",id:"email",type:"email",value:i,onChange:v=>x("email",v),placeholder:"your.email@example.com",error:d.email,success:h.email,required:!0}),u.jsx(sa,{label:"Message",id:"message",type:"textarea",value:s,onChange:v=>x("message",v),placeholder:"Tell us how we can help you transform your admission process...",error:d.message,success:h.message,required:!0}),u.jsx(Hs,{type:"submit",variant:"hero",disabled:l,className:"w-full hover-lift",children:l?u.jsxs(u.Fragment,{children:[u.jsx(El,{size:"sm",className:"mr-2"}),"Sending Message..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Ak,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]}),u.jsx("div",{className:"text-xs text-muted-foreground text-center",children:"We typically respond within 24 hours. All messages are sent to admitconnectAI@gmail.com"})]})})},fV=()=>{const[t,e]=S.useState(!1);S.useEffect(()=>{const r=()=>{window.pageYOffset>300?e(!0):e(!1)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return t?u.jsx(se,{className:"fixed bottom-6 right-6 z-50 rounded-full shadow-glow hover-lift",variant:"hero",size:"icon",onClick:n,children:u.jsx(Oee,{className:"w-4 h-4"})}):null},hV=({title:t="AdmitConnect AI - Intelligent College Admission Campaign Management",description:e="Revolutionize your college admission outreach with AI-powered campaign management, automated follow-ups, and real-time analytics. Boost enrollment with smart WhatsApp, voice, and email campaigns.",keywords:n="college admission software, AI campaign management, student recruitment, WhatsApp marketing, voice campaigns, admission analytics, enrollment automation, higher education CRM",image:r="/og-image.jpg",url:i="https://admitconnect.ai",type:a="website",schema:s})=>{const o=t.includes("AdmitConnect AI")?t:`${t} | AdmitConnect AI`,l={"@context":"https://schema.org","@type":"SoftwareApplication",name:"AdmitConnect AI",description:e,url:i,applicationCategory:"Educational Software",operatingSystem:"Web Browser",offers:{"@type":"Offer",category:"SaaS",price:"0",priceCurrency:"USD"},creator:{"@type":"Organization",name:"AdmitConnect AI",url:i}};return u.jsxs(PQ,{children:[u.jsx("title",{children:o}),u.jsx("meta",{name:"description",content:e}),u.jsx("meta",{name:"keywords",content:n}),u.jsx("meta",{name:"robots",content:"index, follow"}),u.jsx("meta",{name:"author",content:"AdmitConnect AI"}),u.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),u.jsx("link",{rel:"canonical",href:i}),u.jsx("meta",{property:"og:title",content:o}),u.jsx("meta",{property:"og:description",content:e}),u.jsx("meta",{property:"og:image",content:r}),u.jsx("meta",{property:"og:url",content:i}),u.jsx("meta",{property:"og:type",content:a}),u.jsx("meta",{property:"og:site_name",content:"AdmitConnect AI"}),u.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),u.jsx("meta",{name:"twitter:title",content:o}),u.jsx("meta",{name:"twitter:description",content:e}),u.jsx("meta",{name:"twitter:image",content:r}),u.jsx("meta",{name:"theme-color",content:"#000000"}),u.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),u.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"black-translucent"}),u.jsx("script",{type:"application/ld+json",children:JSON.stringify(s||l)})]})},f1e={home:{title:"AdmitConnect AI - Intelligent College Admission Campaign Management",description:"Transform your college admissions process with AI-powered campaign management. Automate WhatsApp, voice, and email outreach with intelligent analytics and real-time tracking.",keywords:"college admission AI, student recruitment automation, admission campaign management, WhatsApp marketing education, voice call automation, enrollment analytics"},dashboard:{title:"Dashboard - AdmitConnect AI",description:"Manage your admission campaigns, track performance metrics, and analyze student engagement data from your comprehensive dashboard.",keywords:"admission dashboard, campaign analytics, student metrics, enrollment tracking"},about:{title:"About Us - AdmitConnect AI",description:"Learn about AdmitConnect AI's mission to revolutionize college admissions through intelligent automation and data-driven insights.",keywords:"about admitconnect, college admission technology, AI education solutions"},services:{title:"Our Services - AdmitConnect AI",description:"Discover our comprehensive suite of AI-powered services for college admission campaigns, including automated outreach, analytics, and student engagement tools.",keywords:"admission services, AI campaign tools, student outreach automation, enrollment services"},pricing:{title:"Pricing Plans - AdmitConnect AI",description:"Choose the perfect plan for your institution. Flexible pricing options for colleges and universities of all sizes.",keywords:"admission software pricing, AI campaign costs, college enrollment plans"}},h1e=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState(!1),[i,a]=S.useState(!1);return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(hV,{...f1e.home}),u.jsx(mO,{onContactClick:()=>a(!0),onScheduleClick:()=>r(!0)}),u.jsxs("main",{id:"main-content",tabIndex:-1,className:"focus:outline-none",children:[u.jsx(R_e,{onWatchDemoClick:()=>e(!0),onScheduleDemoClick:()=>r(!0)}),u.jsx(M_e,{onContactClick:()=>a(!0),onScheduleClick:()=>r(!0)})]}),u.jsx(d1e,{open:t,onOpenChange:e}),u.jsx(Yb,{open:n,onOpenChange:r}),u.jsx(yO,{open:i,onOpenChange:a}),u.jsx(TH,{}),u.jsx(fV,{})]})},p1e=()=>{const[t]=GF(),e=pi(),{toast:n}=Vt(),{signIn:r,signUp:i,signInWithGoogle:a,user:s}=Un(),[o,l]=S.useState(t.get("mode")==="signup"),[c,d]=S.useState(!1),[f,h]=S.useState(!1),[p,m]=S.useState(""),[g,x]=S.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""});S.useEffect(()=>{l(t.get("mode")==="signup")},[t]),S.useEffect(()=>{s&&e("/dashboard")},[s,e]);const b=_=>{x({...g,[_.target.name]:_.target.value})},v=async _=>{_.preventDefault(),h(!0),m("");try{if(o){if(g.password!==g.confirmPassword)throw new Error("Passwords don't match");if(g.password.length<8)throw new Error("Password must be at least 8 characters");const w=`${g.firstName} ${g.lastName}`.trim();await i(g.email,g.password,w)}else await r(g.email,g.password)}catch(w){console.error("Auth error:",w),m(w.message||"An error occurred"),n({title:"Authentication failed",description:w.message||"Please try again",variant:"destructive"})}finally{h(!1)}},y=async()=>{try{h(!0),await a()}catch(_){console.error("Google sign in error:",_),n({title:"Google sign in failed",description:_.message||"Please try again",variant:"destructive"})}finally{h(!1)}};return u.jsx("div",{className:"min-h-screen bg-ai-gradient-subtle flex items-center justify-center p-4",children:u.jsxs(te,{className:"w-full max-w-md p-8 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"w-16 h-16 bg-ai-gradient rounded-2xl flex items-center justify-center mx-auto mb-4",children:u.jsx(Zs,{className:"w-8 h-8 text-white"})}),u.jsx("h1",{className:"text-2xl font-bold text-card-foreground",children:o?"Create Account":"Welcome Back"}),u.jsx("p",{className:"text-muted-foreground mt-2",children:o?"Join AdmitConnect AI and transform your admissions":"Sign in to your AdmitConnect AI account"})]}),u.jsxs("form",{onSubmit:v,className:"space-y-4",children:[o&&u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"firstName",children:"First Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(Xp,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(Ut,{id:"firstName",name:"firstName",type:"text",placeholder:"John",value:g.firstName,onChange:b,className:"pl-10",required:o})]})]}),u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"lastName",children:"Last Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(Xp,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(Ut,{id:"lastName",name:"lastName",type:"text",placeholder:"Doe",value:g.lastName,onChange:b,className:"pl-10",required:o})]})]})]}),u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"email",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(ni,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(Ut,{id:"email",name:"email",type:"email",placeholder:"john@college.edu",value:g.email,onChange:b,className:"pl-10",required:!0})]})]}),u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"password",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(OI,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(Ut,{id:"password",name:"password",type:c?"text":"password",placeholder:"",value:g.password,onChange:b,className:"pl-10 pr-10",required:!0}),u.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:c?u.jsx(Lee,{className:"h-4 w-4"}):u.jsx(Fee,{className:"h-4 w-4"})})]})]}),o&&u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"confirmPassword",children:"Confirm Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(OI,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(Ut,{id:"confirmPassword",name:"confirmPassword",type:c?"text":"password",placeholder:"",value:g.confirmPassword,onChange:b,className:"pl-10",required:o})]})]}),p&&u.jsx("div",{className:"text-destructive text-sm text-center",children:p}),u.jsx(se,{type:"submit",variant:"hero",size:"lg",className:"w-full",disabled:f,children:f?"Please wait...":o?"Create Account":"Sign In"})]}),u.jsxs("div",{className:"mt-6",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-border/50"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),u.jsxs(se,{variant:"outline",size:"lg",className:"w-full mt-4",onClick:y,disabled:f,children:[u.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx("button",{type:"button",onClick:()=>l(!o),className:"text-primary hover:underline text-sm",children:o?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})};function m1e(t,e=[]){let n=[];function r(a,s){const o=S.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||o,x=S.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:x,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||o,m=S.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,d]}const i=()=>{const a=n.map(s=>S.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,g1e(i,...e)]}function g1e(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var P1="rovingFocusGroup.onEntryFocus",y1e={bubbles:!1,cancelable:!0},Xb="RovingFocusGroup",[Dj,pV,v1e]=Yx(Xb),[x1e,Zb]=m1e(Xb,[v1e]),[b1e,w1e]=x1e(Xb),mV=S.forwardRef((t,e)=>u.jsx(Dj.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(Dj.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(_1e,{...t,ref:e})})}));mV.displayName=Xb;var _1e=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,h=S.useRef(null),p=it(e,h),m=_g(a),[g=null,x]=Xs({prop:s,defaultProp:o,onChange:l}),[b,v]=S.useState(!1),y=qt(c),_=pV(n),w=S.useRef(!1),[E,A]=S.useState(0);return S.useEffect(()=>{const j=h.current;if(j)return j.addEventListener(P1,y),()=>j.removeEventListener(P1,y)},[y]),u.jsx(b1e,{scope:n,orientation:r,dir:m,loop:i,currentTabStopId:g,onItemFocus:S.useCallback(j=>x(j),[x]),onItemShiftTab:S.useCallback(()=>v(!0),[]),onFocusableItemAdd:S.useCallback(()=>A(j=>j+1),[]),onFocusableItemRemove:S.useCallback(()=>A(j=>j-1),[]),children:u.jsx(Ie.div,{tabIndex:b||E===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:pe(t.onMouseDown,()=>{w.current=!0}),onFocus:pe(t.onFocus,j=>{const T=!w.current;if(j.target===j.currentTarget&&T&&!b){const k=new CustomEvent(P1,y1e);if(j.currentTarget.dispatchEvent(k),!k.defaultPrevented){const C=_().filter(U=>U.focusable),O=C.find(U=>U.active),F=C.find(U=>U.id===g),D=[O,F,...C].filter(Boolean).map(U=>U.ref.current);vV(D,d)}}w.current=!1}),onBlur:pe(t.onBlur,()=>v(!1))})})}),gV="RovingFocusGroupItem",yV=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,...s}=t,o=ga(),l=a||o,c=w1e(gV,n),d=c.currentTabStopId===l,f=pV(n),{onFocusableItemAdd:h,onFocusableItemRemove:p}=c;return S.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),u.jsx(Dj.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:u.jsx(Ie.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...s,ref:e,onMouseDown:pe(t.onMouseDown,m=>{r?c.onItemFocus(l):m.preventDefault()}),onFocus:pe(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:pe(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){c.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const g=j1e(m,c.orientation,c.dir);if(g!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let b=f().filter(v=>v.focusable).map(v=>v.ref.current);if(g==="last")b.reverse();else if(g==="prev"||g==="next"){g==="prev"&&b.reverse();const v=b.indexOf(m.currentTarget);b=c.loop?A1e(b,v+1):b.slice(v+1)}setTimeout(()=>vV(b))}})})})});yV.displayName=gV;var S1e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function E1e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function j1e(t,e,n){const r=E1e(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return S1e[r]}function vV(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function A1e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var xV=mV,bV=yV,vO="Tabs",[T1e,$We]=gs(vO,[Zb]),wV=Zb(),[k1e,xO]=T1e(vO),_V=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:s="horizontal",dir:o,activationMode:l="automatic",...c}=t,d=_g(o),[f,h]=Xs({prop:r,onChange:i,defaultProp:a});return u.jsx(k1e,{scope:n,baseId:ga(),value:f,onValueChange:h,orientation:s,dir:d,activationMode:l,children:u.jsx(Ie.div,{dir:d,"data-orientation":s,...c,ref:e})})});_V.displayName=vO;var SV="TabsList",EV=S.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,a=xO(SV,n),s=wV(n);return u.jsx(xV,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:r,children:u.jsx(Ie.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});EV.displayName=SV;var jV="TabsTrigger",AV=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=t,s=xO(jV,n),o=wV(n),l=CV(s.baseId,r),c=OV(s.baseId,r),d=r===s.value;return u.jsx(bV,{asChild:!0,...o,focusable:!i,active:d,children:u.jsx(Ie.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:e,onMouseDown:pe(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?s.onValueChange(r):f.preventDefault()}),onKeyDown:pe(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(r)}),onFocus:pe(t.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!i&&f&&s.onValueChange(r)})})})});AV.displayName=jV;var TV="TabsContent",kV=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...s}=t,o=xO(TV,n),l=CV(o.baseId,r),c=OV(o.baseId,r),d=r===o.value,f=S.useRef(d);return S.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),u.jsx(gr,{present:i||d,children:({present:h})=>u.jsx(Ie.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});kV.displayName=TV;function CV(t,e){return`${t}-trigger-${e}`}function OV(t,e){return`${t}-content-${e}`}var C1e=_V,NV=EV,PV=AV,IV=kV;const au=C1e,Fl=S.forwardRef(({className:t,...e},n)=>u.jsx(NV,{ref:n,className:ye("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Fl.displayName=NV.displayName;const mt=S.forwardRef(({className:t,...e},n)=>u.jsx(PV,{ref:n,className:ye("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));mt.displayName=PV.displayName;const gt=S.forwardRef(({className:t,...e},n)=>u.jsx(IV,{ref:n,className:ye("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));gt.displayName=IV.displayName;var $V={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(un,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,a=!r.document&&!!r.postMessage,s=r.IS_PAPA_WORKER||!1,o={},l=0,c={};function d(j){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(T){var k=w(T);k.chunkSize=parseInt(k.chunkSize),T.step||T.chunk||(k.chunkSize=null),this._handle=new g(k),(this._handle.streamer=this)._config=k}).call(this,j),this.parseChunk=function(T,k){var C=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<C){let F=this._config.newline;F||(O=this._config.quoteChar||'"',F=this._handle.guessLineEndings(T,O)),T=[...T.split(F).slice(C)].join(F)}this.isFirstChunk&&A(this._config.beforeFirstChunk)&&(O=this._config.beforeFirstChunk(T))!==void 0&&(T=O),this.isFirstChunk=!1,this._halted=!1;var C=this._partialLine+T,O=(this._partialLine="",this._handle.parse(C,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(T=O.meta.cursor,C=(this._finished||(this._partialLine=C.substring(T-this._baseIndex),this._baseIndex=T),O&&O.data&&(this._rowCount+=O.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)r.postMessage({results:O,workerId:c.WORKER_ID,finished:C});else if(A(this._config.chunk)&&!k){if(this._config.chunk(O,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=O=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(O.data),this._completeResults.errors=this._completeResults.errors.concat(O.errors),this._completeResults.meta=O.meta),this._completed||!C||!A(this._config.complete)||O&&O.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),C||O&&O.meta.paused||this._nextChunk(),O}this._halted=!0},this._sendError=function(T){A(this._config.error)?this._config.error(T):s&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:T,finished:!1})}}function f(j){var T;(j=j||{}).chunkSize||(j.chunkSize=c.RemoteChunkSize),d.call(this,j),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(k){this._input=k,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(T=new XMLHttpRequest,this._config.withCredentials&&(T.withCredentials=this._config.withCredentials),a||(T.onload=E(this._chunkLoaded,this),T.onerror=E(this._chunkError,this)),T.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var k,C=this._config.downloadRequestHeaders;for(k in C)T.setRequestHeader(k,C[k])}var O;this._config.chunkSize&&(O=this._start+this._config.chunkSize-1,T.setRequestHeader("Range","bytes="+this._start+"-"+O));try{T.send(this._config.downloadRequestBody)}catch(F){this._chunkError(F.message)}a&&T.status===0&&this._chunkError()}},this._chunkLoaded=function(){T.readyState===4&&(T.status<200||400<=T.status?this._chunkError():(this._start+=this._config.chunkSize||T.responseText.length,this._finished=!this._config.chunkSize||this._start>=(k=>(k=k.getResponseHeader("Content-Range"))!==null?parseInt(k.substring(k.lastIndexOf("/")+1)):-1)(T),this.parseChunk(T.responseText)))},this._chunkError=function(k){k=T.statusText||k,this._sendError(new Error(k))}}function h(j){(j=j||{}).chunkSize||(j.chunkSize=c.LocalChunkSize),d.call(this,j);var T,k,C=typeof FileReader<"u";this.stream=function(O){this._input=O,k=O.slice||O.webkitSlice||O.mozSlice,C?((T=new FileReader).onload=E(this._chunkLoaded,this),T.onerror=E(this._chunkError,this)):T=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var O=this._input,F=(this._config.chunkSize&&(F=Math.min(this._start+this._config.chunkSize,this._input.size),O=k.call(O,this._start,F)),T.readAsText(O,this._config.encoding));C||this._chunkLoaded({target:{result:F}})},this._chunkLoaded=function(O){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(O.target.result)},this._chunkError=function(){this._sendError(T.error)}}function p(j){var T;d.call(this,j=j||{}),this.stream=function(k){return T=k,this._nextChunk()},this._nextChunk=function(){var k,C;if(!this._finished)return k=this._config.chunkSize,T=k?(C=T.substring(0,k),T.substring(k)):(C=T,""),this._finished=!T,this.parseChunk(C)}}function m(j){d.call(this,j=j||{});var T=[],k=!0,C=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(O){this._input=O,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){C&&T.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),T.length?this.parseChunk(T.shift()):k=!0},this._streamData=E(function(O){try{T.push(typeof O=="string"?O:O.toString(this._config.encoding)),k&&(k=!1,this._checkIsFinished(),this.parseChunk(T.shift()))}catch(F){this._streamError(F)}},this),this._streamError=E(function(O){this._streamCleanUp(),this._sendError(O)},this),this._streamEnd=E(function(){this._streamCleanUp(),C=!0,this._streamData("")},this),this._streamCleanUp=E(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(j){var T,k,C,O,F=Math.pow(2,53),R=-F,D=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,U=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,V=this,L=0,B=0,P=!1,W=!1,G=[],$={data:[],errors:[],meta:{}};function ee(K){return j.skipEmptyLines==="greedy"?K.join("").trim()==="":K.length===1&&K[0].length===0}function ie(){if($&&C&&(N("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),C=!1),j.skipEmptyLines&&($.data=$.data.filter(function(J){return!ee(J)})),I()){let J=function(Y,me){A(j.transformHeader)&&(Y=j.transformHeader(Y,me)),G.push(Y)};if($)if(Array.isArray($.data[0])){for(var K=0;I()&&K<$.data.length;K++)$.data[K].forEach(J);$.data.splice(0,1)}else $.data.forEach(J)}function z(J,Y){for(var me=j.header?{}:[],le=0;le<J.length;le++){var xe=le,oe=J[le],oe=((Be,Te)=>(De=>(j.dynamicTypingFunction&&j.dynamicTyping[De]===void 0&&(j.dynamicTyping[De]=j.dynamicTypingFunction(De)),(j.dynamicTyping[De]||j.dynamicTyping)===!0))(Be)?Te==="true"||Te==="TRUE"||Te!=="false"&&Te!=="FALSE"&&((De=>{if(D.test(De)&&(De=parseFloat(De),R<De&&De<F))return 1})(Te)?parseFloat(Te):U.test(Te)?new Date(Te):Te===""?null:Te):Te)(xe=j.header?le>=G.length?"__parsed_extra":G[le]:xe,oe=j.transform?j.transform(oe,xe):oe);xe==="__parsed_extra"?(me[xe]=me[xe]||[],me[xe].push(oe)):me[xe]=oe}return j.header&&(le>G.length?N("FieldMismatch","TooManyFields","Too many fields: expected "+G.length+" fields but parsed "+le,B+Y):le<G.length&&N("FieldMismatch","TooFewFields","Too few fields: expected "+G.length+" fields but parsed "+le,B+Y)),me}var Z;$&&(j.header||j.dynamicTyping||j.transform)&&(Z=1,!$.data.length||Array.isArray($.data[0])?($.data=$.data.map(z),Z=$.data.length):$.data=z($.data,0),j.header&&$.meta&&($.meta.fields=G),B+=Z)}function I(){return j.header&&G.length===0}function N(K,z,Z,J){K={type:K,code:z,message:Z},J!==void 0&&(K.row=J),$.errors.push(K)}A(j.step)&&(O=j.step,j.step=function(K){$=K,I()?ie():(ie(),$.data.length!==0&&(L+=K.data.length,j.preview&&L>j.preview?k.abort():($.data=$.data[0],O($,V))))}),this.parse=function(K,z,Z){var J=j.quoteChar||'"',J=(j.newline||(j.newline=this.guessLineEndings(K,J)),C=!1,j.delimiter?A(j.delimiter)&&(j.delimiter=j.delimiter(K),$.meta.delimiter=j.delimiter):((J=((Y,me,le,xe,oe)=>{var Be,Te,De,ae;oe=oe||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var At=0;At<oe.length;At++){for(var _e,ve=oe[At],we=0,ge=0,q=0,X=(De=void 0,new b({comments:xe,delimiter:ve,newline:me,preview:10}).parse(Y)),re=0;re<X.data.length;re++)le&&ee(X.data[re])?q++:(_e=X.data[re].length,ge+=_e,De===void 0?De=_e:0<_e&&(we+=Math.abs(_e-De),De=_e));0<X.data.length&&(ge/=X.data.length-q),(Te===void 0||we<=Te)&&(ae===void 0||ae<ge)&&1.99<ge&&(Te=we,Be=ve,ae=ge)}return{successful:!!(j.delimiter=Be),bestDelimiter:Be}})(K,j.newline,j.skipEmptyLines,j.comments,j.delimitersToGuess)).successful?j.delimiter=J.bestDelimiter:(C=!0,j.delimiter=c.DefaultDelimiter),$.meta.delimiter=j.delimiter),w(j));return j.preview&&j.header&&J.preview++,T=K,k=new b(J),$=k.parse(T,z,Z),ie(),P?{meta:{paused:!0}}:$||{meta:{paused:!1}}},this.paused=function(){return P},this.pause=function(){P=!0,k.abort(),T=A(j.chunk)?"":T.substring(k.getCharIndex())},this.resume=function(){V.streamer._halted?(P=!1,V.streamer.parseChunk(T,!0)):setTimeout(V.resume,3)},this.aborted=function(){return W},this.abort=function(){W=!0,k.abort(),$.meta.aborted=!0,A(j.complete)&&j.complete($),T=""},this.guessLineEndings=function(Y,J){Y=Y.substring(0,1048576);var J=new RegExp(x(J)+"([^]*?)"+x(J),"gm"),Z=(Y=Y.replace(J,"")).split("\r"),J=Y.split(`
`),Y=1<J.length&&J[0].length<Z[0].length;if(Z.length===1||Y)return`
`;for(var me=0,le=0;le<Z.length;le++)Z[le][0]===`
`&&me++;return me>=Z.length/2?`\r
`:"\r"}}function x(j){return j.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function b(j){var T=(j=j||{}).delimiter,k=j.newline,C=j.comments,O=j.step,F=j.preview,R=j.fastMode,D=null,U=!1,V=j.quoteChar==null?'"':j.quoteChar,L=V;if(j.escapeChar!==void 0&&(L=j.escapeChar),(typeof T!="string"||-1<c.BAD_DELIMITERS.indexOf(T))&&(T=","),C===T)throw new Error("Comment character same as delimiter");C===!0?C="#":(typeof C!="string"||-1<c.BAD_DELIMITERS.indexOf(C))&&(C=!1),k!==`
`&&k!=="\r"&&k!==`\r
`&&(k=`
`);var B=0,P=!1;this.parse=function(W,G,$){if(typeof W!="string")throw new Error("Input must be a string");var ee=W.length,ie=T.length,I=k.length,N=C.length,K=A(O),z=[],Z=[],J=[],Y=B=0;if(!W)return we();if(R||R!==!1&&W.indexOf(V)===-1){for(var me=W.split(k),le=0;le<me.length;le++){if(J=me[le],B+=J.length,le!==me.length-1)B+=k.length;else if($)return we();if(!C||J.substring(0,N)!==C){if(K){if(z=[],ae(J.split(T)),ge(),P)return we()}else ae(J.split(T));if(F&&F<=le)return z=z.slice(0,F),we(!0)}}return we()}for(var xe=W.indexOf(T,B),oe=W.indexOf(k,B),Be=new RegExp(x(L)+x(V),"g"),Te=W.indexOf(V,B);;)if(W[B]===V)for(Te=B,B++;;){if((Te=W.indexOf(V,Te+1))===-1)return $||Z.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:z.length,index:B}),_e();if(Te===ee-1)return _e(W.substring(B,Te).replace(Be,V));if(V===L&&W[Te+1]===L)Te++;else if(V===L||Te===0||W[Te-1]!==L){xe!==-1&&xe<Te+1&&(xe=W.indexOf(T,Te+1));var De=At((oe=oe!==-1&&oe<Te+1?W.indexOf(k,Te+1):oe)===-1?xe:Math.min(xe,oe));if(W.substr(Te+1+De,ie)===T){J.push(W.substring(B,Te).replace(Be,V)),W[B=Te+1+De+ie]!==V&&(Te=W.indexOf(V,B)),xe=W.indexOf(T,B),oe=W.indexOf(k,B);break}if(De=At(oe),W.substring(Te+1+De,Te+1+De+I)===k){if(J.push(W.substring(B,Te).replace(Be,V)),ve(Te+1+De+I),xe=W.indexOf(T,B),Te=W.indexOf(V,B),K&&(ge(),P))return we();if(F&&z.length>=F)return we(!0);break}Z.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:z.length,index:B}),Te++}}else if(C&&J.length===0&&W.substring(B,B+N)===C){if(oe===-1)return we();B=oe+I,oe=W.indexOf(k,B),xe=W.indexOf(T,B)}else if(xe!==-1&&(xe<oe||oe===-1))J.push(W.substring(B,xe)),B=xe+ie,xe=W.indexOf(T,B);else{if(oe===-1)break;if(J.push(W.substring(B,oe)),ve(oe+I),K&&(ge(),P))return we();if(F&&z.length>=F)return we(!0)}return _e();function ae(q){z.push(q),Y=B}function At(q){var X=0;return X=q!==-1&&(q=W.substring(Te+1,q))&&q.trim()===""?q.length:X}function _e(q){return $||(q===void 0&&(q=W.substring(B)),J.push(q),B=ee,ae(J),K&&ge()),we()}function ve(q){B=q,ae(J),J=[],oe=W.indexOf(k,B)}function we(q){if(j.header&&!G&&z.length&&!U){var X=z[0],re=Object.create(null),Oe=new Set(X);let ct=!1;for(let Kt=0;Kt<X.length;Kt++){let on=X[Kt];if(re[on=A(j.transformHeader)?j.transformHeader(on,Kt):on]){let Cn,Ia=re[on];for(;Cn=on+"_"+Ia,Ia++,Oe.has(Cn););Oe.add(Cn),X[Kt]=Cn,re[on]++,ct=!0,(D=D===null?{}:D)[Cn]=on}else re[on]=1,X[Kt]=on;Oe.add(on)}ct&&console.warn("Duplicate headers found and renamed."),U=!0}return{data:z,errors:Z,meta:{delimiter:T,linebreak:k,aborted:P,truncated:!!q,cursor:Y+(G||0),renamedHeaders:D}}}function ge(){O(we()),z=[],Z=[]}},this.abort=function(){P=!0},this.getCharIndex=function(){return B}}function v(j){var T=j.data,k=o[T.workerId],C=!1;if(T.error)k.userError(T.error,T.file);else if(T.results&&T.results.data){var O={abort:function(){C=!0,y(T.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(A(k.userStep)){for(var F=0;F<T.results.data.length&&(k.userStep({data:T.results.data[F],errors:T.results.errors,meta:T.results.meta},O),!C);F++);delete T.results}else A(k.userChunk)&&(k.userChunk(T.results,O,T.file),delete T.results)}T.finished&&!C&&y(T.workerId,T.results)}function y(j,T){var k=o[j];A(k.userComplete)&&k.userComplete(T),k.terminate(),delete o[j]}function _(){throw new Error("Not implemented.")}function w(j){if(typeof j!="object"||j===null)return j;var T,k=Array.isArray(j)?[]:{};for(T in j)k[T]=w(j[T]);return k}function E(j,T){return function(){j.apply(T,arguments)}}function A(j){return typeof j=="function"}return c.parse=function(j,T){var k=(T=T||{}).dynamicTyping||!1;if(A(k)&&(T.dynamicTypingFunction=k,k={}),T.dynamicTyping=k,T.transform=!!A(T.transform)&&T.transform,!T.worker||!c.WORKERS_SUPPORTED)return k=null,c.NODE_STREAM_INPUT,typeof j=="string"?(j=(C=>C.charCodeAt(0)!==65279?C:C.slice(1))(j),k=new(T.download?f:p)(T)):j.readable===!0&&A(j.read)&&A(j.on)?k=new m(T):(r.File&&j instanceof File||j instanceof Object)&&(k=new h(T)),k.stream(j);(k=(()=>{var C;return!!c.WORKERS_SUPPORTED&&(C=(()=>{var O=r.URL||r.webkitURL||null,F=n.toString();return c.BLOB_URL||(c.BLOB_URL=O.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",F,")();"],{type:"text/javascript"})))})(),(C=new r.Worker(C)).onmessage=v,C.id=l++,o[C.id]=C)})()).userStep=T.step,k.userChunk=T.chunk,k.userComplete=T.complete,k.userError=T.error,T.step=A(T.step),T.chunk=A(T.chunk),T.complete=A(T.complete),T.error=A(T.error),delete T.worker,k.postMessage({input:j,config:T,workerId:k.id})},c.unparse=function(j,T){var k=!1,C=!0,O=",",F=`\r
`,R='"',D=R+R,U=!1,V=null,L=!1,B=((()=>{if(typeof T=="object"){if(typeof T.delimiter!="string"||c.BAD_DELIMITERS.filter(function(G){return T.delimiter.indexOf(G)!==-1}).length||(O=T.delimiter),typeof T.quotes!="boolean"&&typeof T.quotes!="function"&&!Array.isArray(T.quotes)||(k=T.quotes),typeof T.skipEmptyLines!="boolean"&&typeof T.skipEmptyLines!="string"||(U=T.skipEmptyLines),typeof T.newline=="string"&&(F=T.newline),typeof T.quoteChar=="string"&&(R=T.quoteChar),typeof T.header=="boolean"&&(C=T.header),Array.isArray(T.columns)){if(T.columns.length===0)throw new Error("Option columns is empty");V=T.columns}T.escapeChar!==void 0&&(D=T.escapeChar+R),T.escapeFormulae instanceof RegExp?L=T.escapeFormulae:typeof T.escapeFormulae=="boolean"&&T.escapeFormulae&&(L=/^[=+\-@\t\r].*$/)}})(),new RegExp(x(R),"g"));if(typeof j=="string"&&(j=JSON.parse(j)),Array.isArray(j)){if(!j.length||Array.isArray(j[0]))return P(null,j,U);if(typeof j[0]=="object")return P(V||Object.keys(j[0]),j,U)}else if(typeof j=="object")return typeof j.data=="string"&&(j.data=JSON.parse(j.data)),Array.isArray(j.data)&&(j.fields||(j.fields=j.meta&&j.meta.fields||V),j.fields||(j.fields=Array.isArray(j.data[0])?j.fields:typeof j.data[0]=="object"?Object.keys(j.data[0]):[]),Array.isArray(j.data[0])||typeof j.data[0]=="object"||(j.data=[j.data])),P(j.fields||[],j.data||[],U);throw new Error("Unable to serialize unrecognized input");function P(G,$,ee){var ie="",I=(typeof G=="string"&&(G=JSON.parse(G)),typeof $=="string"&&($=JSON.parse($)),Array.isArray(G)&&0<G.length),N=!Array.isArray($[0]);if(I&&C){for(var K=0;K<G.length;K++)0<K&&(ie+=O),ie+=W(G[K],K);0<$.length&&(ie+=F)}for(var z=0;z<$.length;z++){var Z=(I?G:$[z]).length,J=!1,Y=I?Object.keys($[z]).length===0:$[z].length===0;if(ee&&!I&&(J=ee==="greedy"?$[z].join("").trim()==="":$[z].length===1&&$[z][0].length===0),ee==="greedy"&&I){for(var me=[],le=0;le<Z;le++){var xe=N?G[le]:le;me.push($[z][xe])}J=me.join("").trim()===""}if(!J){for(var oe=0;oe<Z;oe++){0<oe&&!Y&&(ie+=O);var Be=I&&N?G[oe]:oe;ie+=W($[z][Be],oe)}z<$.length-1&&(!ee||0<Z&&!Y)&&(ie+=F)}}return ie}function W(G,$){var ee,ie;return G==null?"":G.constructor===Date?JSON.stringify(G).slice(1,25):(ie=!1,L&&typeof G=="string"&&L.test(G)&&(G="'"+G,ie=!0),ee=G.toString().replace(B,D),(ie=ie||k===!0||typeof k=="function"&&k(G,$)||Array.isArray(k)&&k[$]||((I,N)=>{for(var K=0;K<N.length;K++)if(-1<I.indexOf(N[K]))return!0;return!1})(ee,c.BAD_DELIMITERS)||-1<ee.indexOf(O)||ee.charAt(0)===" "||ee.charAt(ee.length-1)===" ")?R+ee+R:ee)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!a&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=b,c.ParserHandle=g,c.NetworkStreamer=f,c.FileStreamer=h,c.StringStreamer=p,c.ReadableStreamStreamer=m,r.jQuery&&((i=r.jQuery).fn.parse=function(j){var T=j.config||{},k=[];return this.each(function(F){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var R=0;R<this.files.length;R++)k.push({file:this.files[R],inputElem:this,instanceConfig:i.extend({},T)})}),C(),this;function C(){if(k.length===0)A(j.complete)&&j.complete();else{var F,R,D,U,V=k[0];if(A(j.before)){var L=j.before(V.file,V.inputElem);if(typeof L=="object"){if(L.action==="abort")return F="AbortError",R=V.file,D=V.inputElem,U=L.reason,void(A(j.error)&&j.error({name:F},R,D,U));if(L.action==="skip")return void O();typeof L.config=="object"&&(V.instanceConfig=i.extend(V.instanceConfig,L.config))}else if(L==="skip")return void O()}var B=V.instanceConfig.complete;V.instanceConfig.complete=function(P){A(B)&&B(P,V.file,V.inputElem),O()},c.parse(V.file,V.instanceConfig)}}function O(){k.splice(0,1),C()}}),s&&(r.onmessage=function(j){j=j.data,c.WORKER_ID===void 0&&j&&(c.WORKER_ID=j.workerId),typeof j.input=="string"?r.postMessage({workerId:c.WORKER_ID,results:c.parse(j.input,j.config),finished:!0}):(r.File&&j.input instanceof File||j.input instanceof Object)&&(j=c.parse(j.input,j.config))&&r.postMessage({workerId:c.WORKER_ID,results:j,finished:!0})}),(f.prototype=Object.create(d.prototype)).constructor=f,(h.prototype=Object.create(d.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(m.prototype=Object.create(d.prototype)).constructor=m,c})})($V);var O1e=$V.exports;const N1e=at(O1e),RV=({campaignId:t,onUploadComplete:e})=>{const[n,r]=S.useState(null),[i,a]=S.useState(!1),[s,o]=S.useState([]),[l,c]=S.useState(!1),[d,f]=S.useState(t||""),[h,p]=S.useState([]),{toast:m}=Vt(),{user:g}=Un();S.useEffect(()=>{t||x()},[t]);const x=async()=>{if(g)try{const{data:k,error:C}=await $e.from("campaigns").select("id, name, status").eq("user_id",g.id).order("created_at",{ascending:!1});if(C)throw C;p(k||[]),k&&k.length>0&&!d&&f(k[0].id)}catch(k){console.error("Error loading campaigns:",k)}},b=k=>{var O;const C=(O=k.target.files)==null?void 0:O[0];C&&(r(C),E(C))},[v,y]=S.useState(!1),[_,w]=S.useState(""),E=async k=>{try{if(k.name.endsWith(".csv")){A(k);return}if(k.name.endsWith(".json")){j(k);return}y(!0),w("Extracting text from file...");const{extractTextFromFile:C}=await Ii(async()=>{const{extractTextFromFile:D}=await import("./fileParser-Df9nVgRN.js");return{extractTextFromFile:D}},[]),{extractCandidatesFromText:O}=await Ii(async()=>{const{extractCandidatesFromText:D}=await import("./candidateExtractor-8xOgef3j.js");return{extractCandidatesFromText:D}},[]),F=await C(k);if(!F||F.trim().length===0)throw new Error("Could not extract any text from the file.");w("AI analyzing candidate data...");const R=await O(F);if(R.length===0){m({title:"No candidates found",description:"AI could not identify any candidate information in this file.",variant:"destructive"}),y(!1);return}o(R),c(!0),m({title:"File analyzed successfully",description:`AI found ${R.length} potential candidates`})}catch(C){console.error("Error parsing file:",C),m({title:"Error parsing file",description:C.message||"Failed to process file with AI.",variant:"destructive"})}finally{y(!1),w("")}},A=k=>{N1e.parse(k,{header:!0,skipEmptyLines:!0,transformHeader:C=>C.toLowerCase().trim(),complete:C=>{const O=[];if(C.data.forEach(F=>{const R={name:F.name||F["student name"]||F["full name"]||F["candidate name"]||"",phone:F.phone||F.mobile||F.contact||F["phone number"]||F["mobile number"]||F.whatsapp||"",email:F.email||F["e-mail"]||F["email address"]||F["e-mail address"]||F.mail||void 0,city:F.city||F.location||F.address||void 0,course:F.course||F.program||F.interest||void 0};if(R.name&&R.phone){const D=R.phone.replace(/[^0-9]/g,"");D.length>=10&&(R.phone=D,O.push(R))}}),O.length===0){m({title:"No valid candidates found",description:"Check CSV headers (name, phone)",variant:"destructive"});return}o(O),c(!0),m({title:"CSV parsed successfully",description:`Found ${O.length} valid candidates`})},error:C=>{m({title:"Error parsing CSV",description:C.message,variant:"destructive"})}})},j=async k=>{try{const C=await k.text(),O=JSON.parse(C);if(Array.isArray(O)){const F=O.filter(R=>R.name&&R.phone).map(R=>({name:R.name,phone:R.phone,email:R.email,city:R.city,course:R.course}));o(F),c(!0),m({title:"JSON parsed successfully",description:`Found ${F.length} valid candidates`})}}catch{m({title:"invalid JSON",variant:"destructive"})}},T=async()=>{if(!(!g||!n)){a(!0),a(!0);try{const{api:k}=await Ii(async()=>{const{api:F}=await Promise.resolve().then(()=>PO);return{api:F}},void 0),C=t||d||void 0,O=await k.candidates.uploadBatch(g.id,s,C);if(O.success)m({title:"Candidates uploaded successfully",description:O.message}),e==null||e(s);else throw new Error(O.message||"Upload failed");o([]),r(null),c(!1)}catch(k){console.error("Error uploading candidates:",k),m({title:"Upload failed",description:k.message||"Failed to upload candidates. Please try again.",variant:"destructive"})}finally{a(!1)}}};return u.jsx(te,{className:"p-6",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Upload Candidates"}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"Upload a CSV or JSON file with candidate information. Required fields: name, phone"})]}),!t&&h.length===0&&u.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:u.jsx("p",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:"Please create a campaign first before uploading candidates."})}),!t&&h.length>0&&u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"campaign-select",children:"Select Campaign"}),u.jsxs(ua,{value:d,onValueChange:f,children:[u.jsx(ki,{id:"campaign-select",className:"mt-2",children:u.jsx(da,{placeholder:"Choose a campaign"})}),u.jsx(Ci,{children:h.map(k=>u.jsx(Bt,{value:k.id,children:k.name},k.id))})]})]}),l?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center text-green-600",children:[u.jsx(ma,{className:"w-5 h-5 mr-2"}),u.jsxs("span",{className:"font-medium",children:[s.length," candidates found"]})]}),u.jsx(se,{variant:"outline",size:"sm",onClick:()=>{c(!1),r(null),o([])},children:"Choose Different File"})]}),u.jsxs("div",{className:"max-h-40 overflow-y-auto border rounded-lg p-3",children:[u.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Preview:"}),s.slice(0,5).map((k,C)=>u.jsxs("div",{className:"text-sm py-1 border-b border-border/50 last:border-0",children:[u.jsx("span",{className:"font-medium",children:k.name})," - ",k.phone,k.email&&u.jsxs("span",{className:"text-muted-foreground",children:["  ",k.email]})]},C)),s.length>5&&u.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["And ",s.length-5," more..."]})]}),u.jsx(se,{onClick:T,disabled:i||!t&&!d||h.length===0,className:"w-full",variant:"hero",children:i?"Uploading...":`Upload ${s.length} Candidates`})]}):u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"file-upload",children:"Choose File"}),u.jsx("div",{className:"mt-2 flex items-center justify-center w-full",children:u.jsxs("label",{htmlFor:"file-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-border border-dashed rounded-lg cursor-pointer bg-card/50 hover:bg-card/80",children:[u.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[u.jsx(Ck,{className:"w-8 h-8 mb-4 text-muted-foreground"}),u.jsxs("p",{className:"mb-2 text-sm text-muted-foreground",children:[u.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"CSV, JSON, PDF, DOCX, Images"}),v&&u.jsxs("div",{className:"mt-4 flex flex-col items-center",children:[u.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}),u.jsx("p",{className:"mt-2 text-xs text-primary font-medium animate-pulse",children:_})]})]}),u.jsx(Ut,{id:"file-upload",type:"file",className:"hidden",accept:".csv,.json,.pdf,.docx,.png,.jpg,.jpeg,.webp,.txt",disabled:v,onChange:b})]})}),n&&u.jsxs("div",{className:"mt-2 flex items-center text-sm text-muted-foreground",children:[u.jsx(Sc,{className:"w-4 h-4 mr-2"}),n.name]})]})]})})},MV=({onCampaignCreated:t})=>{const[e,n]=S.useState({name:"",type:"",scheduledAt:""}),[r,i]=S.useState(""),[a,s]=S.useState(!1),[o,l]=S.useState(!1),{toast:c}=Vt(),{user:d}=Un(),f=[{value:"email",label:"Email Only",icon:ni,color:"bg-orange-500"},{value:"whatsapp",label:"WhatsApp Only",icon:ci,color:"bg-green-500"},{value:"voice",label:"Voice Only",icon:Ta,color:"bg-blue-500"},{value:"email_whatsapp",label:"Email + WhatsApp",icon:$r,color:"bg-purple-500"},{value:"voice_whatsapp",label:"Voice + WhatsApp",icon:$r,color:"bg-indigo-500"},{value:"email_voice",label:"Email + Voice",icon:$r,color:"bg-pink-500"}],h=(g,x)=>{n(b=>({...b,[g]:x}))},p=async()=>{if(!d||!e.name||!e.type){c({title:"Missing information",description:"Please fill in campaign name and type.",variant:"destructive"});return}if(!r.trim()){c({title:"Missing AI Instructions",description:"Please provide instructions for the AI content generator.",variant:"destructive"});return}l(!0);try{const{api:g}=await Ii(async()=>{const{api:y}=await Promise.resolve().then(()=>PO);return{api:y}},void 0);let x=[];const b=e.type;b==="email"?x=["email"]:b==="whatsapp"?x=["whatsapp"]:b==="voice"?x=["voice"]:b==="email_whatsapp"?x=["email","whatsapp"]:b==="voice_whatsapp"?x=["voice","whatsapp"]:b==="email_voice"&&(x=["email","voice"]),(await g.campaigns.create(d.id,e.name,r,x)).success&&(c({title:"Campaign Initiated!",description:"AI is ready to generate unique content for your candidates."}),n({name:"",type:"",scheduledAt:""}),i(""),t==null||t())}catch(g){console.error("Error creating campaign:",g),c({title:"Creation failed",description:"Failed to create campaign. Ensure backend is running.",variant:"destructive"})}finally{l(!1)}},m=f.find(g=>g.value===e.type);return u.jsx(te,{className:"p-6",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Create Interactive Campaign"}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"Configure AI to generate unique, personalized content for every candidate at runtime."})]}),u.jsxs("div",{className:"grid gap-4",children:[u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"campaign-name",children:"Campaign Name"}),u.jsx(Ut,{id:"campaign-name",placeholder:"e.g., Engineering Fall 2024 Outreach",value:e.name,onChange:g=>h("name",g.target.value),className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"campaign-type",children:"Campaign Type"}),u.jsxs(ua,{value:e.type,onValueChange:g=>h("type",g),children:[u.jsx(ki,{className:"mt-1",children:u.jsx(da,{placeholder:"Select campaign type"})}),u.jsx(Ci,{children:f.map(g=>{const x=g.icon;return u.jsx(Bt,{value:g.value,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`w-3 h-3 rounded-full ${g.color}`}),u.jsx(x,{className:"w-4 h-4"}),g.label]})},g.value)})})]})]})]}),m&&u.jsxs("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Qx,{className:"w-4 h-4 text-purple-500"}),u.jsx("h4",{className:"font-medium",children:"AI Personalization Engine"})]}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Instead of a single template, provide instructions. The AI will generate a",u.jsx("strong",{children:" unique message for every candidate"})," based on their city, course, and name."]}),u.jsxs("div",{className:"pt-2",children:[r?u.jsxs("div",{className:"bg-muted p-3 rounded-md text-sm italic mb-2 relative group",children:['"',r,'"',u.jsx(se,{variant:"ghost",size:"sm",className:"absolute top-1 right-1 h-6 text-xs opacity-0 group-hover:opacity-100",onClick:()=>s(!0),children:"Edit"})]}):u.jsx("div",{className:"p-3 border border-dashed rounded-md text-sm text-center text-muted-foreground mb-2",children:"No instructions set."}),u.jsxs(ai,{open:a,onOpenChange:s,children:[u.jsx(T_e,{asChild:!0,children:u.jsx(se,{variant:"outline",className:"w-full",children:r?"Edit Instructions":"Set AI Instructions"})}),u.jsxs(Mr,{className:"sm:max-w-[500px]",children:[u.jsxs(Dr,{children:[u.jsx(Lr,{children:"AI Instructions"}),u.jsx(hO,{children:"Tell the AI how to behave. It will use this prompt to write unique messages for each candidate."})]}),u.jsxs("div",{className:"py-4",children:[u.jsx(Ge,{htmlFor:"prompt",className:"mb-2 block",children:"Prompt"}),u.jsx(iu,{id:"prompt",placeholder:"Example: Be friendly and professional. Ask them about their interest in [Course]. Mention something nice about [City]. Keep it under 150 characters.",className:"min-h-[150px]",value:r,onChange:g=>i(g.target.value)})]}),u.jsx(_H,{children:u.jsx(se,{onClick:()=>s(!1),children:"Save Instructions"})})]})]})]})]}),u.jsx(se,{onClick:p,disabled:o||!e.name||!e.type||!r,className:"w-full",variant:"hero",children:o?"Initializing AI...":"Create Campaign"})]})})};var bO="Avatar",[P1e,RWe]=gs(bO),[I1e,DV]=P1e(bO),LV=S.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,a]=S.useState("idle");return u.jsx(I1e,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:u.jsx(Ie.span,{...r,ref:e})})});LV.displayName=bO;var FV="AvatarImage",BV=S.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=t,s=DV(FV,n),o=$1e(r,a.referrerPolicy),l=qt(c=>{i(c),s.onImageLoadingStatusChange(c)});return An(()=>{o!=="idle"&&l(o)},[o,l]),o==="loaded"?u.jsx(Ie.img,{...a,ref:e,src:r}):null});BV.displayName=FV;var zV="AvatarFallback",UV=S.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,a=DV(zV,n),[s,o]=S.useState(r===void 0);return S.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(l)}},[r]),s&&a.imageLoadingStatus!=="loaded"?u.jsx(Ie.span,{...i,ref:e}):null});UV.displayName=zV;function $1e(t,e){const[n,r]=S.useState("idle");return An(()=>{if(!t){r("error");return}let i=!0;const a=new window.Image,s=o=>()=>{i&&r(o)};return r("loading"),a.onload=s("loaded"),a.onerror=s("error"),a.src=t,e&&(a.referrerPolicy=e),()=>{i=!1}},[t,e]),n}var HV=LV,VV=BV,WV=UV;const mv=S.forwardRef(({className:t,...e},n)=>u.jsx(HV,{ref:n,className:ye("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));mv.displayName=HV.displayName;const R1e=S.forwardRef(({className:t,...e},n)=>u.jsx(VV,{ref:n,className:ye("aspect-square h-full w-full",t),...e}));R1e.displayName=VV.displayName;const gv=S.forwardRef(({className:t,...e},n)=>u.jsx(WV,{ref:n,className:ye("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));gv.displayName=WV.displayName;const M1e=({sessionId:t,onNewSession:e,campaigns:n,stats:r})=>{const[i,a]=S.useState([{id:"1",role:"assistant",content:"Hello! I'm your AI assistant for AdmitConnect. I can help you create campaign scripts, generate personalized messages, analyze candidate data, and provide strategic advice for your outreach campaigns. How can I assist you today?",timestamp:new Date}]),[s,o]=S.useState(""),[l,c]=S.useState(!1),[d,f]=S.useState(t),h=S.useRef(null),{toast:p}=Vt(),{user:m}=Un(),g=S.useRef(new K8("dashboard"));S.useEffect(()=>{d&&b()},[d]),S.useEffect(()=>{x()},[i]);const x=()=>{if(h.current){const A=h.current.querySelector("[data-radix-scroll-area-viewport]");A&&(A.scrollTop=A.scrollHeight)}},b=async()=>{if(!(!d||!m))try{const{data:A,error:j}=await $e.from("ai_chat_messages").select("*").eq("session_id",d).order("created_at");if(j)throw j;if(A&&A.length>0){const T=A.map(k=>({id:k.id,role:k.role,content:k.content,timestamp:new Date(k.created_at)}));a(T)}}catch(A){console.error("Error loading messages:",A)}},v=async()=>{if(!m)return null;try{const{data:A,error:j}=await $e.from("ai_chat_sessions").insert([{user_id:m.id,title:"New Chat"}]).select().single();if(j)throw j;return A.id}catch(A){return console.error("Error creating session:",A),null}},y=async(A,j,T)=>{try{await $e.from("ai_chat_messages").insert([{session_id:A,role:j,content:T}])}catch(k){console.error("Error saving message:",k)}},_=async A=>{try{const j=i.map(C=>({role:C.role,content:C.content})),T={campaigns:n,stats:r};return(await g.current.generateResponse(A,j,T)).content}catch(j){throw console.error("Error calling AI chat:",j),new Error("Failed to get AI response")}},w=async()=>{if(!s.trim()||l||!m)return;const A=s.trim();o(""),c(!0);let j=d;if(!j){if(j=await v(),!j){p({title:"Error",description:"Failed to create chat session",variant:"destructive"}),c(!1);return}f(j),e==null||e(j)}const k={id:`user-${Date.now()}`,role:"user",content:A,timestamp:new Date};a(C=>[...C,k]),await y(j,"user",A);try{const C=await _(A),F={id:`ai-${Date.now()}`,role:"assistant",content:C,timestamp:new Date};a(R=>[...R,F]),await y(j,"assistant",C)}catch(C){console.error("Error generating AI response:",C),p({title:"Error",description:"Failed to generate response. Please try again.",variant:"destructive"})}finally{c(!1)}},E=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),w())};return u.jsxs(te,{className:"flex flex-col h-[500px]",children:[u.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-border",children:[u.jsx("div",{className:"w-8 h-8 bg-ai-gradient rounded-full flex items-center justify-center",children:u.jsx(Qx,{className:"w-4 h-4 text-white"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold",children:"AI Assistant"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Campaign Strategy & Script Generation"})]})]}),u.jsx(sO,{className:"flex-1 p-4",ref:h,children:u.jsxs("div",{className:"space-y-4",children:[i.map(A=>u.jsxs("div",{className:`flex gap-3 ${A.role==="user"?"justify-end":"justify-start"}`,children:[A.role==="assistant"&&u.jsx(mv,{className:"w-8 h-8",children:u.jsx(gv,{className:"bg-ai-gradient text-white",children:u.jsx(pa,{className:"w-4 h-4"})})}),u.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${A.role==="user"?"bg-primary text-primary-foreground ml-auto":"bg-muted"}`,children:[u.jsx("div",{className:"text-sm prose prose-sm dark:prose-invert max-w-none break-words",children:u.jsx(N9,{children:A.content})}),u.jsx("p",{className:"text-xs opacity-70 mt-1",children:A.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),A.role==="user"&&u.jsx(mv,{className:"w-8 h-8",children:u.jsx(gv,{children:u.jsx(Xp,{className:"w-4 h-4"})})})]},A.id)),l&&u.jsxs("div",{className:"flex gap-3 justify-start",children:[u.jsx(mv,{className:"w-8 h-8",children:u.jsx(gv,{className:"bg-ai-gradient text-white",children:u.jsx(pa,{className:"w-4 h-4"})})}),u.jsx("div",{className:"bg-muted rounded-lg p-3",children:u.jsxs("div",{className:"flex space-x-1",children:[u.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce"}),u.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),u.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})]})}),u.jsx("div",{className:"p-4 border-t border-border",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ut,{value:s,onChange:A=>o(A.target.value),placeholder:"Ask me anything about your campaigns...",onKeyPress:E,disabled:l}),u.jsx(se,{onClick:w,disabled:!s.trim()||l,size:"icon",variant:"hero",children:u.jsx(Ak,{className:"w-4 h-4"})})]})})]})};var wO="Switch",[D1e,MWe]=gs(wO),[L1e,F1e]=D1e(wO),qV=S.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:s,disabled:o,value:l="on",onCheckedChange:c,form:d,...f}=t,[h,p]=S.useState(null),m=it(e,y=>p(y)),g=S.useRef(!1),x=h?d||!!h.closest("form"):!0,[b=!1,v]=Xs({prop:i,defaultProp:a,onChange:c});return u.jsxs(L1e,{scope:n,checked:b,disabled:o,children:[u.jsx(Ie.button,{type:"button",role:"switch","aria-checked":b,"aria-required":s,"data-state":YV(b),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:m,onClick:pe(t.onClick,y=>{v(_=>!_),x&&(g.current=y.isPropagationStopped(),g.current||y.stopPropagation())})}),x&&u.jsx(B1e,{control:h,bubbles:!g.current,name:r,value:l,checked:b,required:s,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});qV.displayName=wO;var GV="SwitchThumb",KV=S.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=F1e(GV,n);return u.jsx(Ie.span,{"data-state":YV(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});KV.displayName=GV;var B1e=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,a=S.useRef(null),s=kH(n),o=XB(e);return S.useEffect(()=>{const l=a.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(s!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[s,n,r]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function YV(t){return t?"checked":"unchecked"}var XV=qV,z1e=KV;const ei=S.forwardRef(({className:t,...e},n)=>u.jsx(XV,{className:ye("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:u.jsx(z1e,{className:ye("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ei.displayName=XV.displayName;const _O=({open:t,onOpenChange:e})=>{const{user:n}=Un(),{toast:r}=Vt(),[i,a]=S.useState(!1),[s,o]=S.useState({full_name:"",email:"",college_name:"",college_address:"",college_website:"",notifications_enabled:!0,email_alerts:!0,sms_alerts:!1});S.useEffect(()=>{n&&t&&l()},[n,t]);const l=async()=>{try{const{data:f,error:h}=await $e.from("profiles").select("*").eq("user_id",n==null?void 0:n.id).single();if(h&&h.code!=="PGRST116")throw h;o(f?{full_name:f.full_name||"",email:f.email||(n==null?void 0:n.email)||"",college_name:f.college_name||"",college_address:f.college_address||"",college_website:f.college_website||"",notifications_enabled:f.notifications_enabled!==!1,email_alerts:f.email_alerts!==!1,sms_alerts:f.sms_alerts===!0}:p=>{var m;return{...p,email:(n==null?void 0:n.email)||"",full_name:((m=n==null?void 0:n.user_metadata)==null?void 0:m.full_name)||""}})}catch(f){console.error("Error loading profile:",f),r({title:"Error loading profile",description:"Please try again",variant:"destructive"})}},c=(f,h)=>{o(p=>({...p,[f]:h}))},d=async()=>{if(n){a(!0);try{const{error:f}=await $e.from("profiles").upsert([{user_id:n.id,full_name:s.full_name,email:s.email,college_name:s.college_name,college_address:s.college_address,college_website:s.college_website,notifications_enabled:s.notifications_enabled,email_alerts:s.email_alerts,sms_alerts:s.sms_alerts}],{onConflict:"user_id"});if(f)throw f;const{error:h}=await $e.auth.updateUser({data:{full_name:s.full_name}});h&&console.error("Error updating auth metadata:",h),await $e.auth.refreshSession(),r({title:"Profile updated",description:"Your settings have been saved successfully"})}catch(f){console.error("Error saving profile:",f),r({title:"Save failed",description:"Failed to save settings. Please try again.",variant:"destructive"})}finally{a(!1)}}};return u.jsx(ai,{open:t,onOpenChange:e,children:u.jsxs(Mr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[u.jsx(Dr,{children:u.jsx(Lr,{children:"Settings"})}),u.jsxs(au,{defaultValue:"profile",className:"w-full",children:[u.jsxs(Fl,{className:"grid w-full grid-cols-3",children:[u.jsx(mt,{value:"profile",children:"Profile"}),u.jsx(mt,{value:"college",children:"College"}),u.jsx(mt,{value:"notifications",children:"Notifications"})]}),u.jsx(gt,{value:"profile",className:"space-y-4",children:u.jsxs(te,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Xp,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"font-semibold",children:"Personal Information"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"full_name",children:"Full Name"}),u.jsx(Ut,{id:"full_name",value:s.full_name,onChange:f=>c("full_name",f.target.value),placeholder:"Enter your full name"})]}),u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"email",children:"Email Address"}),u.jsx(Ut,{id:"email",type:"email",value:s.email,onChange:f=>c("email",f.target.value),placeholder:"Enter your email"})]})]})]})}),u.jsx(gt,{value:"college",className:"space-y-4",children:u.jsxs(te,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Nee,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"font-semibold",children:"College Information"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"college_name",children:"College/University Name"}),u.jsx(Ut,{id:"college_name",value:s.college_name,onChange:f=>c("college_name",f.target.value),placeholder:"Enter your institution name"})]}),u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"college_address",children:"Address"}),u.jsx(iu,{id:"college_address",value:s.college_address,onChange:f=>c("college_address",f.target.value),placeholder:"Enter your institution address",rows:3})]}),u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"college_website",children:"Website"}),u.jsx(Ut,{id:"college_website",type:"url",value:s.college_website,onChange:f=>c("college_website",f.target.value),placeholder:"https://your-college.edu"})]})]})]})}),u.jsx(gt,{value:"notifications",className:"space-y-4",children:u.jsxs(te,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(pE,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"font-semibold",children:"Notification Preferences"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"notifications_enabled",className:"text-base font-normal",children:"Enable Notifications"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications about your campaigns"})]}),u.jsx(ei,{id:"notifications_enabled",checked:s.notifications_enabled,onCheckedChange:f=>c("notifications_enabled",f)})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"email_alerts",className:"text-base font-normal",children:"Email Alerts"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Get campaign updates via email"})]}),u.jsx(ei,{id:"email_alerts",checked:s.email_alerts,onCheckedChange:f=>c("email_alerts",f),disabled:!s.notifications_enabled})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"sms_alerts",className:"text-base font-normal",children:"SMS Alerts"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Get important updates via SMS"})]}),u.jsx(ei,{id:"sms_alerts",checked:s.sms_alerts,onCheckedChange:f=>c("sms_alerts",f),disabled:!s.notifications_enabled})]})]})]})})]}),u.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[u.jsx(se,{variant:"outline",onClick:()=>e(!1),children:"Cancel"}),u.jsxs(se,{onClick:d,disabled:i,variant:"hero",children:[u.jsx(Vee,{className:"w-4 h-4 mr-2"}),i?"Saving...":"Save Changes"]})]})]})})},U1e=ng("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function dn({className:t,variant:e,...n}){return u.jsx("div",{className:ye(U1e({variant:e}),t),...n})}var Lj=["Enter"," "],H1e=["ArrowDown","PageUp","Home"],ZV=["ArrowUp","PageDown","End"],V1e=[...H1e,...ZV],W1e={ltr:[...Lj,"ArrowRight"],rtl:[...Lj,"ArrowLeft"]},q1e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Eg="Menu",[um,G1e,K1e]=Yx(Eg),[su,JV]=gs(Eg,[K1e,Rf,Zb]),Jb=Rf(),QV=Zb(),[Y1e,ou]=su(Eg),[X1e,jg]=su(Eg),e7=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:a,modal:s=!0}=t,o=Jb(e),[l,c]=S.useState(null),d=S.useRef(!1),f=qt(a),h=_g(i);return S.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),u.jsx(Fk,{...o,children:u.jsx(Y1e,{scope:e,open:n,onOpenChange:f,content:l,onContentChange:c,children:u.jsx(X1e,{scope:e,onClose:S.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:s,children:r})})})};e7.displayName=Eg;var Z1e="MenuAnchor",SO=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Jb(n);return u.jsx(Bk,{...i,...r,ref:e})});SO.displayName=Z1e;var EO="MenuPortal",[J1e,t7]=su(EO,{forceMount:void 0}),n7=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,a=ou(EO,e);return u.jsx(J1e,{scope:e,forceMount:n,children:u.jsx(gr,{present:n||a.open,children:u.jsx(eg,{asChild:!0,container:i,children:r})})})};n7.displayName=EO;var $i="MenuContent",[Q1e,jO]=su($i),r7=S.forwardRef((t,e)=>{const n=t7($i,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=ou($i,t.__scopeMenu),s=jg($i,t.__scopeMenu);return u.jsx(um.Provider,{scope:t.__scopeMenu,children:u.jsx(gr,{present:r||a.open,children:u.jsx(um.Slot,{scope:t.__scopeMenu,children:s.modal?u.jsx(eSe,{...i,ref:e}):u.jsx(tSe,{...i,ref:e})})})})}),eSe=S.forwardRef((t,e)=>{const n=ou($i,t.__scopeMenu),r=S.useRef(null),i=it(e,r);return S.useEffect(()=>{const a=r.current;if(a)return lO(a)},[]),u.jsx(AO,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:pe(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),tSe=S.forwardRef((t,e)=>{const n=ou($i,t.__scopeMenu);return u.jsx(AO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),AO=S.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:m,...g}=t,x=ou($i,n),b=jg($i,n),v=Jb(n),y=QV(n),_=G1e(n),[w,E]=S.useState(null),A=S.useRef(null),j=it(e,A,x.onContentChange),T=S.useRef(0),k=S.useRef(""),C=S.useRef(0),O=S.useRef(null),F=S.useRef("right"),R=S.useRef(0),D=m?Wb:S.Fragment,U=m?{as:dl,allowPinchZoom:!0}:void 0,V=B=>{var N,K;const P=k.current+B,W=_().filter(z=>!z.disabled),G=document.activeElement,$=(N=W.find(z=>z.ref.current===G))==null?void 0:N.textValue,ee=W.map(z=>z.textValue),ie=hSe(ee,P,$),I=(K=W.find(z=>z.textValue===ie))==null?void 0:K.ref.current;(function z(Z){k.current=Z,window.clearTimeout(T.current),Z!==""&&(T.current=window.setTimeout(()=>z(""),1e3))})(P),I&&setTimeout(()=>I.focus())};S.useEffect(()=>()=>window.clearTimeout(T.current),[]),oO();const L=S.useCallback(B=>{var W,G;return F.current===((W=O.current)==null?void 0:W.side)&&mSe(B,(G=O.current)==null?void 0:G.area)},[]);return u.jsx(Q1e,{scope:n,searchRef:k,onItemEnter:S.useCallback(B=>{L(B)&&B.preventDefault()},[L]),onItemLeave:S.useCallback(B=>{var P;L(B)||((P=A.current)==null||P.focus(),E(null))},[L]),onTriggerLeave:S.useCallback(B=>{L(B)&&B.preventDefault()},[L]),pointerGraceTimerRef:C,onPointerGraceIntentChange:S.useCallback(B=>{O.current=B},[]),children:u.jsx(D,{...U,children:u.jsx(Hb,{asChild:!0,trapped:i,onMountAutoFocus:pe(a,B=>{var P;B.preventDefault(),(P=A.current)==null||P.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:u.jsx(Nf,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:u.jsx(xV,{asChild:!0,...y,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:w,onCurrentTabStopIdChange:E,onEntryFocus:pe(l,B=>{b.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(zk,{role:"menu","aria-orientation":"vertical","data-state":x7(x.open),"data-radix-menu-content":"",dir:b.dir,...v,...g,ref:j,style:{outline:"none",...g.style},onKeyDown:pe(g.onKeyDown,B=>{const W=B.target.closest("[data-radix-menu-content]")===B.currentTarget,G=B.ctrlKey||B.altKey||B.metaKey,$=B.key.length===1;W&&(B.key==="Tab"&&B.preventDefault(),!G&&$&&V(B.key));const ee=A.current;if(B.target!==ee||!V1e.includes(B.key))return;B.preventDefault();const I=_().filter(N=>!N.disabled).map(N=>N.ref.current);ZV.includes(B.key)&&I.reverse(),dSe(I)}),onBlur:pe(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(T.current),k.current="")}),onPointerMove:pe(t.onPointerMove,dm(B=>{const P=B.target,W=R.current!==B.clientX;if(B.currentTarget.contains(P)&&W){const G=B.clientX>R.current?"right":"left";F.current=G,R.current=B.clientX}}))})})})})})})});r7.displayName=$i;var nSe="MenuGroup",TO=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Ie.div,{role:"group",...r,ref:e})});TO.displayName=nSe;var rSe="MenuLabel",i7=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Ie.div,{...r,ref:e})});i7.displayName=rSe;var S0="MenuItem",rM="menu.itemSelect",Qb=S.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,a=S.useRef(null),s=jg(S0,t.__scopeMenu),o=jO(S0,t.__scopeMenu),l=it(e,a),c=S.useRef(!1),d=()=>{const f=a.current;if(!n&&f){const h=new CustomEvent(rM,{bubbles:!0,cancelable:!0});f.addEventListener(rM,p=>r==null?void 0:r(p),{once:!0}),bk(f,h),h.defaultPrevented?c.current=!1:s.onClose()}};return u.jsx(a7,{...i,ref:l,disabled:n,onClick:pe(t.onClick,d),onPointerDown:f=>{var h;(h=t.onPointerDown)==null||h.call(t,f),c.current=!0},onPointerUp:pe(t.onPointerUp,f=>{var h;c.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:pe(t.onKeyDown,f=>{const h=o.searchRef.current!=="";n||h&&f.key===" "||Lj.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Qb.displayName=S0;var a7=S.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=t,s=jO(S0,n),o=QV(n),l=S.useRef(null),c=it(e,l),[d,f]=S.useState(!1),[h,p]=S.useState("");return S.useEffect(()=>{const m=l.current;m&&p((m.textContent??"").trim())},[a.children]),u.jsx(um.ItemSlot,{scope:n,disabled:r,textValue:i??h,children:u.jsx(bV,{asChild:!0,...o,focusable:!r,children:u.jsx(Ie.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:c,onPointerMove:pe(t.onPointerMove,dm(m=>{r?s.onItemLeave(m):(s.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:pe(t.onPointerLeave,dm(m=>s.onItemLeave(m))),onFocus:pe(t.onFocus,()=>f(!0)),onBlur:pe(t.onBlur,()=>f(!1))})})})}),iSe="MenuCheckboxItem",s7=S.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return u.jsx(d7,{scope:t.__scopeMenu,checked:n,children:u.jsx(Qb,{role:"menuitemcheckbox","aria-checked":E0(n)?"mixed":n,...i,ref:e,"data-state":CO(n),onSelect:pe(i.onSelect,()=>r==null?void 0:r(E0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});s7.displayName=iSe;var o7="MenuRadioGroup",[aSe,sSe]=su(o7,{value:void 0,onValueChange:()=>{}}),l7=S.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,a=qt(r);return u.jsx(aSe,{scope:t.__scopeMenu,value:n,onValueChange:a,children:u.jsx(TO,{...i,ref:e})})});l7.displayName=o7;var c7="MenuRadioItem",u7=S.forwardRef((t,e)=>{const{value:n,...r}=t,i=sSe(c7,t.__scopeMenu),a=n===i.value;return u.jsx(d7,{scope:t.__scopeMenu,checked:a,children:u.jsx(Qb,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":CO(a),onSelect:pe(r.onSelect,()=>{var s;return(s=i.onValueChange)==null?void 0:s.call(i,n)},{checkForDefaultPrevented:!1})})})});u7.displayName=c7;var kO="MenuItemIndicator",[d7,oSe]=su(kO,{checked:!1}),f7=S.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,a=oSe(kO,n);return u.jsx(gr,{present:r||E0(a.checked)||a.checked===!0,children:u.jsx(Ie.span,{...i,ref:e,"data-state":CO(a.checked)})})});f7.displayName=kO;var lSe="MenuSeparator",h7=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Ie.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});h7.displayName=lSe;var cSe="MenuArrow",p7=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Jb(n);return u.jsx(Uk,{...i,...r,ref:e})});p7.displayName=cSe;var uSe="MenuSub",[DWe,m7]=su(uSe),Wh="MenuSubTrigger",g7=S.forwardRef((t,e)=>{const n=ou(Wh,t.__scopeMenu),r=jg(Wh,t.__scopeMenu),i=m7(Wh,t.__scopeMenu),a=jO(Wh,t.__scopeMenu),s=S.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=a,c={__scopeMenu:t.__scopeMenu},d=S.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return S.useEffect(()=>d,[d]),S.useEffect(()=>{const f=o.current;return()=>{window.clearTimeout(f),l(null)}},[o,l]),u.jsx(SO,{asChild:!0,...c,children:u.jsx(a7,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":x7(n.open),...t,ref:Kx(e,i.onTriggerChange),onClick:f=>{var h;(h=t.onClick)==null||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:pe(t.onPointerMove,dm(f=>{a.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!s.current&&(a.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:pe(t.onPointerLeave,dm(f=>{var p,m;d();const h=(p=n.content)==null?void 0:p.getBoundingClientRect();if(h){const g=(m=n.content)==null?void 0:m.dataset.side,x=g==="right",b=x?-5:5,v=h[x?"left":"right"],y=h[x?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:v,y:h.top},{x:y,y:h.top},{x:y,y:h.bottom},{x:v,y:h.bottom}],side:g}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:pe(t.onKeyDown,f=>{var p;const h=a.searchRef.current!=="";t.disabled||h&&f.key===" "||W1e[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});g7.displayName=Wh;var y7="MenuSubContent",v7=S.forwardRef((t,e)=>{const n=t7($i,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=ou($i,t.__scopeMenu),s=jg($i,t.__scopeMenu),o=m7(y7,t.__scopeMenu),l=S.useRef(null),c=it(e,l);return u.jsx(um.Provider,{scope:t.__scopeMenu,children:u.jsx(gr,{present:r||a.open,children:u.jsx(um.Slot,{scope:t.__scopeMenu,children:u.jsx(AO,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:c,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;s.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:pe(t.onFocusOutside,d=>{d.target!==o.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:pe(t.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:pe(t.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=q1e[s.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(p=o.trigger)==null||p.focus(),d.preventDefault())})})})})})});v7.displayName=y7;function x7(t){return t?"open":"closed"}function E0(t){return t==="indeterminate"}function CO(t){return E0(t)?"indeterminate":t?"checked":"unchecked"}function dSe(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function fSe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function hSe(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let s=fSe(t,Math.max(a,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function pSe(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const o=e[a].x,l=e[a].y,c=e[s].x,d=e[s].y;l>r!=d>r&&n<(c-o)*(r-l)/(d-l)+o&&(i=!i)}return i}function mSe(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return pSe(n,e)}function dm(t){return e=>e.pointerType==="mouse"?t(e):void 0}var gSe=e7,ySe=SO,vSe=n7,xSe=r7,bSe=TO,wSe=i7,_Se=Qb,SSe=s7,ESe=l7,jSe=u7,ASe=f7,TSe=h7,kSe=p7,CSe=g7,OSe=v7,OO="DropdownMenu",[NSe,LWe]=gs(OO,[JV]),vr=JV(),[PSe,b7]=NSe(OO),w7=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:s,modal:o=!0}=t,l=vr(e),c=S.useRef(null),[d=!1,f]=Xs({prop:i,defaultProp:a,onChange:s});return u.jsx(PSe,{scope:e,triggerId:ga(),triggerRef:c,contentId:ga(),open:d,onOpenChange:f,onOpenToggle:S.useCallback(()=>f(h=>!h),[f]),modal:o,children:u.jsx(gSe,{...l,open:d,onOpenChange:f,dir:r,modal:o,children:n})})};w7.displayName=OO;var _7="DropdownMenuTrigger",S7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,a=b7(_7,n),s=vr(n);return u.jsx(ySe,{asChild:!0,...s,children:u.jsx(Ie.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Kx(e,a.triggerRef),onPointerDown:pe(t.onPointerDown,o=>{!r&&o.button===0&&o.ctrlKey===!1&&(a.onOpenToggle(),a.open||o.preventDefault())}),onKeyDown:pe(t.onKeyDown,o=>{r||(["Enter"," "].includes(o.key)&&a.onOpenToggle(),o.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});S7.displayName=_7;var ISe="DropdownMenuPortal",E7=t=>{const{__scopeDropdownMenu:e,...n}=t,r=vr(e);return u.jsx(vSe,{...r,...n})};E7.displayName=ISe;var j7="DropdownMenuContent",A7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=b7(j7,n),a=vr(n),s=S.useRef(!1);return u.jsx(xSe,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:pe(t.onCloseAutoFocus,o=>{var l;s.current||(l=i.triggerRef.current)==null||l.focus(),s.current=!1,o.preventDefault()}),onInteractOutside:pe(t.onInteractOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!i.modal||d)&&(s.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});A7.displayName=j7;var $Se="DropdownMenuGroup",RSe=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(bSe,{...i,...r,ref:e})});RSe.displayName=$Se;var MSe="DropdownMenuLabel",T7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(wSe,{...i,...r,ref:e})});T7.displayName=MSe;var DSe="DropdownMenuItem",k7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(_Se,{...i,...r,ref:e})});k7.displayName=DSe;var LSe="DropdownMenuCheckboxItem",C7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(SSe,{...i,...r,ref:e})});C7.displayName=LSe;var FSe="DropdownMenuRadioGroup",BSe=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(ESe,{...i,...r,ref:e})});BSe.displayName=FSe;var zSe="DropdownMenuRadioItem",O7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(jSe,{...i,...r,ref:e})});O7.displayName=zSe;var USe="DropdownMenuItemIndicator",N7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(ASe,{...i,...r,ref:e})});N7.displayName=USe;var HSe="DropdownMenuSeparator",P7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(TSe,{...i,...r,ref:e})});P7.displayName=HSe;var VSe="DropdownMenuArrow",WSe=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(kSe,{...i,...r,ref:e})});WSe.displayName=VSe;var qSe="DropdownMenuSubTrigger",I7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(CSe,{...i,...r,ref:e})});I7.displayName=qSe;var GSe="DropdownMenuSubContent",$7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(OSe,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$7.displayName=GSe;var KSe=w7,YSe=S7,XSe=E7,R7=A7,M7=T7,D7=k7,L7=C7,F7=O7,B7=N7,z7=P7,U7=I7,H7=$7;const ZSe=KSe,JSe=YSe,QSe=S.forwardRef(({className:t,inset:e,children:n,...r},i)=>u.jsxs(U7,{ref:i,className:ye("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,u.jsx(Pee,{className:"ml-auto h-4 w-4"})]}));QSe.displayName=U7.displayName;const eEe=S.forwardRef(({className:t,...e},n)=>u.jsx(H7,{ref:n,className:ye("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));eEe.displayName=H7.displayName;const V7=S.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(XSe,{children:u.jsx(R7,{ref:r,sideOffset:e,className:ye("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));V7.displayName=R7.displayName;const yv=S.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(D7,{ref:r,className:ye("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));yv.displayName=D7.displayName;const tEe=S.forwardRef(({className:t,children:e,checked:n,...r},i)=>u.jsxs(L7,{ref:i,className:ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(B7,{children:u.jsx(Jx,{className:"h-4 w-4"})})}),e]}));tEe.displayName=L7.displayName;const nEe=S.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(F7,{ref:r,className:ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(B7,{children:u.jsx($ee,{className:"h-2 w-2 fill-current"})})}),e]}));nEe.displayName=F7.displayName;const rEe=S.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(M7,{ref:r,className:ye("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));rEe.displayName=M7.displayName;const iEe=S.forwardRef(({className:t,...e},n)=>u.jsx(z7,{ref:n,className:ye("-mx-1 my-1 h-px bg-muted",t),...e}));iEe.displayName=z7.displayName;const Eo="https://admit-ai-backend.onrender.com/api",NO={campaigns:{create:async(t,e,n,r=["email","whatsapp"])=>{const i=await fetch(`${Eo}/campaigns/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t,name:e,goal:n,channels:r})});if(!i.ok)throw new Error("Failed to create campaign via AI Agent");return i.json()},execute:async t=>{const e=await fetch(`${Eo}/campaigns/execute`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({campaign_id:t})});if(!e.ok)throw new Error("Failed to execute campaign");return e.json()},delete:async t=>{const e=await fetch(`${Eo}/campaigns/${t}`,{method:"DELETE"});if(!e.ok)throw new Error("Failed to delete campaign context");return e.json()}},candidates:{upload:async t=>{const e=await fetch(`${Eo}/candidates/upload`,{method:"POST",body:t});if(!e.ok){const n=await e.json();throw new Error(n.message||"Failed to upload candidates")}return e.json()},uploadBatch:async(t,e,n)=>{const r={user_id:t,candidates:e,campaign_id:n},i=await fetch(`${Eo}/candidates/batch`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!i.ok){const a=await i.json();throw new Error(a.detail||"Failed to batch upload candidates")}return i.json()}},analytics:{get:async t=>{const e=t?`${Eo}/analytics?campaign_id=${t}`:`${Eo}/analytics`,n=await fetch(e);if(!n.ok)throw new Error("Failed to fetch analytics");return n.json()}},contact:{submit:async(t,e,n)=>{const r=await fetch(`${Eo}/contact`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:e,message:n})});if(!r.ok){const i=await r.json();throw new Error(i.error||"Failed to send message")}return r.json()}}},PO=Object.freeze(Object.defineProperty({__proto__:null,api:NO},Symbol.toStringTag,{value:"Module"})),Fj=({campaign:t,onUpdate:e})=>{const[n,r]=S.useState(!1),{toast:i}=Vt(),a=f=>{switch(f){case"active":return"bg-green-500/10 text-green-500 border-green-500/20";case"paused":return"bg-yellow-500/10 text-yellow-500 border-yellow-500/20";case"completed":return"bg-blue-500/10 text-blue-500 border-blue-500/20";default:return"bg-gray-500/10 text-gray-500 border-gray-500/20"}},s=f=>{switch(f){case"whatsapp":return u.jsx(ci,{className:"w-4 h-4"});case"voice":return u.jsx(Ta,{className:"w-4 h-4"});default:return u.jsx($r,{className:"w-4 h-4"})}},o=async()=>{r(!0);try{const f=t.status==="active"?"paused":"active",{error:h}=await $e.from("campaigns").update({status:f}).eq("id",t.id);if(h)throw h;i({title:`Campaign ${f}`,description:`Campaign has been ${f}.`}),e()}catch(f){console.error("Error updating campaign status:",f),i({title:"Update failed",description:"Failed to update campaign status.",variant:"destructive"})}finally{r(!1)}},l=async()=>{r(!0);try{console.log("Deleting campaign:",t.id),await NO.campaigns.delete(t.id),i({title:"Campaign deleted",description:"Campaign has been permanently deleted."}),e()}catch(f){console.error("Error deleting campaign:",f),i({title:"Delete failed",description:"Failed to delete campaign. Check console for details.",variant:"destructive"})}finally{r(!1)}},c=f=>new Date(f).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),d=t.candidates_count>0?Math.round(t.responses_received/t.candidates_count*100):0;return u.jsx(te,{className:"p-6 hover-lift",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[s(t.type),u.jsx("h3",{className:"font-semibold text-lg",children:t.name})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(dn,{className:`border ${a(t.status)}`,children:t.status}),u.jsx(dn,{variant:"outline",children:t.type.charAt(0).toUpperCase()+t.type.slice(1)})]})]}),u.jsxs(ZSe,{children:[u.jsx(JSe,{asChild:!0,children:u.jsx(se,{variant:"ghost",size:"sm",children:u.jsx(Mee,{className:"w-4 h-4"})})}),u.jsxs(V7,{align:"end",children:[u.jsx(yv,{onClick:o,disabled:n,children:t.status==="active"?u.jsxs(u.Fragment,{children:[u.jsx(kB,{className:"w-4 h-4 mr-2"}),"Pause Campaign"]}):u.jsxs(u.Fragment,{children:[u.jsx(Fs,{className:"w-4 h-4 mr-2"}),"Start Campaign"]})}),u.jsxs(yv,{disabled:!0,children:[u.jsx(Gee,{className:"w-4 h-4 mr-2"}),"Edit Campaign"]}),u.jsxs(yv,{onClick:l,className:"text-destructive",disabled:n,children:[u.jsx(kk,{className:"w-4 h-4 mr-2"}),"Delete Campaign"]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-primary",children:t.candidates_count}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Candidates"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-green-500",children:t.messages_sent}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Messages"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-500",children:t.calls_made}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Calls"})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"text-2xl font-bold text-orange-500",children:[d,"%"]}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Response Rate"})]})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground pt-2 border-t border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Kp,{className:"w-3 h-3"}),"Created ",c(t.created_at)]}),t.scheduled_at&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Kp,{className:"w-3 h-3"}),"Scheduled ",c(t.scheduled_at)]})]})]})})},IO=({open:t,onOpenChange:e})=>{Vt(),Un();const n=()=>{window.open("https://rzp.io/rzp/DOVfKeU","_blank"),e(!1)},r=[{name:"Starter",price:"999",originalPrice:"1,999",period:"/month",description:"Perfect for small colleges",icon:Qx,features:["500 voice calls/month","1,000 WhatsApp messages","Basic analytics dashboard","Email support","2 campaign templates"],popular:!1,discount:"50% OFF"},{name:"Professional",price:"2,999",originalPrice:"5,999",period:"/month",description:"Most popular for growing institutions",icon:Fr,features:["2,500 voice calls/month","5,000 WhatsApp messages","Advanced analytics & reports","Priority support","Unlimited campaign templates","Custom voice training","A/B testing"],popular:!0,discount:"50% OFF"},{name:"Enterprise",price:"9,999",originalPrice:"19,999",period:"/month",description:"For large universities",icon:TB,features:["10,000+ voice calls/month","20,000+ WhatsApp messages","Custom analytics dashboard","24/7 phone support","White-label solution","API access","Dedicated account manager","Custom integrations"],popular:!1,discount:"50% OFF"}];return u.jsx(ai,{open:t,onOpenChange:e,children:u.jsxs(Mr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[u.jsxs(Dr,{children:[u.jsx(Lr,{className:"text-center text-2xl",children:"Upgrade to Pro - Limited Time Offer!"}),u.jsx("p",{className:"text-center text-muted-foreground",children:"Transform your admission process with AI-powered automation"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:r.map((i,a)=>{const s=i.icon;return u.jsxs(te,{className:`relative p-6 ${i.popular?"ring-2 ring-primary border-primary":""}`,children:[i.popular&&u.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:u.jsx(dn,{className:"bg-primary text-primary-foreground",children:"Most Popular"})}),u.jsxs("div",{className:"text-center space-y-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"w-12 h-12 bg-ai-gradient rounded-lg flex items-center justify-center mx-auto mb-4",children:u.jsx(s,{className:"w-6 h-6 text-white"})}),u.jsx("h3",{className:"text-xl font-bold",children:i.name}),u.jsx("p",{className:"text-sm text-muted-foreground",children:i.description})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("span",{className:"text-3xl font-bold text-primary",children:i.price}),u.jsx("span",{className:"text-muted-foreground",children:i.period})]}),u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("span",{className:"text-sm line-through text-muted-foreground",children:i.originalPrice}),u.jsx(dn,{variant:"destructive",className:"text-xs",children:i.discount})]})]}),u.jsx("div",{className:"space-y-2 text-left",children:i.features.map((o,l)=>u.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[u.jsx(ma,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),u.jsx("span",{children:o})]},l))}),u.jsx(se,{variant:i.popular?"hero":"outline",size:"lg",onClick:n,className:"w-full mt-6",children:i.popular?"Choose Pro":`Get ${i.name}`})]})]},a)})}),u.jsx("div",{className:"mt-8 p-6 bg-ai-gradient-subtle rounded-lg",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("h3",{className:"text-xl font-bold",children:" Special Launch Offer"}),u.jsx("p",{className:"text-muted-foreground",children:"Get 50% off for the first 3 months. No setup fees. Cancel anytime."}),u.jsxs("div",{className:"flex justify-center items-center gap-4 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ma,{className:"w-4 h-4 text-green-500"}),u.jsx("span",{children:"30-day money-back guarantee"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ma,{className:"w-4 h-4 text-green-500"}),u.jsx("span",{children:"24/7 customer support"})]})]})]})}),u.jsx("div",{className:"text-center text-xs text-muted-foreground mt-4",children:u.jsx("p",{children:"Payments are secured by Razorpay. Your card details are never stored on our servers."})})]})})};function aEe(t,e=[]){let n=[];function r(a,s){const o=S.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||o,x=S.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:x,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||o,m=S.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,d]}const i=()=>{const a=n.map(s=>S.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,sEe(i,...e)]}function sEe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var $O="Progress",RO=100,[oEe,FWe]=aEe($O),[lEe,cEe]=oEe($O),W7=S.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=uEe,...s}=t;(i||i===0)&&!iM(i)&&console.error(dEe(`${i}`,"Progress"));const o=iM(i)?i:RO;r!==null&&!aM(r,o)&&console.error(fEe(`${r}`,"Progress"));const l=aM(r,o)?r:null,c=j0(l)?a(l,o):void 0;return u.jsx(lEe,{scope:n,value:l,max:o,children:u.jsx(Ie.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":j0(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":K7(l,o),"data-value":l??void 0,"data-max":o,...s,ref:e})})});W7.displayName=$O;var q7="ProgressIndicator",G7=S.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=cEe(q7,n);return u.jsx(Ie.div,{"data-state":K7(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});G7.displayName=q7;function uEe(t,e){return`${Math.round(t/e*100)}%`}function K7(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function j0(t){return typeof t=="number"}function iM(t){return j0(t)&&!isNaN(t)&&t>0}function aM(t,e){return j0(t)&&!isNaN(t)&&t<=e&&t>=0}function dEe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${RO}\`.`}function fEe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${RO} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Y7=W7,hEe=G7;const Oi=S.forwardRef(({className:t,value:e,...n},r)=>u.jsx(Y7,{ref:r,className:ye("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:u.jsx(hEe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Oi.displayName=Y7.displayName;var pEe=Array.isArray,zr=pEe,mEe=typeof un=="object"&&un&&un.Object===Object&&un,X7=mEe,gEe=X7,yEe=typeof self=="object"&&self&&self.Object===Object&&self,vEe=gEe||yEe||Function("return this")(),xs=vEe,xEe=xs,bEe=xEe.Symbol,Ag=bEe,sM=Ag,Z7=Object.prototype,wEe=Z7.hasOwnProperty,_Ee=Z7.toString,Sh=sM?sM.toStringTag:void 0;function SEe(t){var e=wEe.call(t,Sh),n=t[Sh];try{t[Sh]=void 0;var r=!0}catch{}var i=_Ee.call(t);return r&&(e?t[Sh]=n:delete t[Sh]),i}var EEe=SEe,jEe=Object.prototype,AEe=jEe.toString;function TEe(t){return AEe.call(t)}var kEe=TEe,oM=Ag,CEe=EEe,OEe=kEe,NEe="[object Null]",PEe="[object Undefined]",lM=oM?oM.toStringTag:void 0;function IEe(t){return t==null?t===void 0?PEe:NEe:lM&&lM in Object(t)?CEe(t):OEe(t)}var ho=IEe;function $Ee(t){return t!=null&&typeof t=="object"}var po=$Ee,REe=ho,MEe=po,DEe="[object Symbol]";function LEe(t){return typeof t=="symbol"||MEe(t)&&REe(t)==DEe}var qf=LEe,FEe=zr,BEe=qf,zEe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,UEe=/^\w*$/;function HEe(t,e){if(FEe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||BEe(t)?!0:UEe.test(t)||!zEe.test(t)||e!=null&&t in Object(e)}var MO=HEe;function VEe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Bl=VEe;const Gf=at(Bl);var WEe=ho,qEe=Bl,GEe="[object AsyncFunction]",KEe="[object Function]",YEe="[object GeneratorFunction]",XEe="[object Proxy]";function ZEe(t){if(!qEe(t))return!1;var e=WEe(t);return e==KEe||e==YEe||e==GEe||e==XEe}var DO=ZEe;const Ue=at(DO);var JEe=xs,QEe=JEe["__core-js_shared__"],eje=QEe,I1=eje,cM=function(){var t=/[^.]+$/.exec(I1&&I1.keys&&I1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function tje(t){return!!cM&&cM in t}var nje=tje,rje=Function.prototype,ije=rje.toString;function aje(t){if(t!=null){try{return ije.call(t)}catch{}try{return t+""}catch{}}return""}var J7=aje,sje=DO,oje=nje,lje=Bl,cje=J7,uje=/[\\^$.*+?()[\]{}|]/g,dje=/^\[object .+?Constructor\]$/,fje=Function.prototype,hje=Object.prototype,pje=fje.toString,mje=hje.hasOwnProperty,gje=RegExp("^"+pje.call(mje).replace(uje,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function yje(t){if(!lje(t)||oje(t))return!1;var e=sje(t)?gje:dje;return e.test(cje(t))}var vje=yje;function xje(t,e){return t==null?void 0:t[e]}var bje=xje,wje=vje,_je=bje;function Sje(t,e){var n=_je(t,e);return wje(n)?n:void 0}var lu=Sje,Eje=lu,jje=Eje(Object,"create"),ew=jje,uM=ew;function Aje(){this.__data__=uM?uM(null):{},this.size=0}var Tje=Aje;function kje(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Cje=kje,Oje=ew,Nje="__lodash_hash_undefined__",Pje=Object.prototype,Ije=Pje.hasOwnProperty;function $je(t){var e=this.__data__;if(Oje){var n=e[t];return n===Nje?void 0:n}return Ije.call(e,t)?e[t]:void 0}var Rje=$je,Mje=ew,Dje=Object.prototype,Lje=Dje.hasOwnProperty;function Fje(t){var e=this.__data__;return Mje?e[t]!==void 0:Lje.call(e,t)}var Bje=Fje,zje=ew,Uje="__lodash_hash_undefined__";function Hje(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=zje&&e===void 0?Uje:e,this}var Vje=Hje,Wje=Tje,qje=Cje,Gje=Rje,Kje=Bje,Yje=Vje;function Kf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Kf.prototype.clear=Wje;Kf.prototype.delete=qje;Kf.prototype.get=Gje;Kf.prototype.has=Kje;Kf.prototype.set=Yje;var Xje=Kf;function Zje(){this.__data__=[],this.size=0}var Jje=Zje;function Qje(t,e){return t===e||t!==t&&e!==e}var LO=Qje,eAe=LO;function tAe(t,e){for(var n=t.length;n--;)if(eAe(t[n][0],e))return n;return-1}var tw=tAe,nAe=tw,rAe=Array.prototype,iAe=rAe.splice;function aAe(t){var e=this.__data__,n=nAe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():iAe.call(e,n,1),--this.size,!0}var sAe=aAe,oAe=tw;function lAe(t){var e=this.__data__,n=oAe(e,t);return n<0?void 0:e[n][1]}var cAe=lAe,uAe=tw;function dAe(t){return uAe(this.__data__,t)>-1}var fAe=dAe,hAe=tw;function pAe(t,e){var n=this.__data__,r=hAe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var mAe=pAe,gAe=Jje,yAe=sAe,vAe=cAe,xAe=fAe,bAe=mAe;function Yf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yf.prototype.clear=gAe;Yf.prototype.delete=yAe;Yf.prototype.get=vAe;Yf.prototype.has=xAe;Yf.prototype.set=bAe;var nw=Yf,wAe=lu,_Ae=xs,SAe=wAe(_Ae,"Map"),FO=SAe,dM=Xje,EAe=nw,jAe=FO;function AAe(){this.size=0,this.__data__={hash:new dM,map:new(jAe||EAe),string:new dM}}var TAe=AAe;function kAe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var CAe=kAe,OAe=CAe;function NAe(t,e){var n=t.__data__;return OAe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var rw=NAe,PAe=rw;function IAe(t){var e=PAe(this,t).delete(t);return this.size-=e?1:0,e}var $Ae=IAe,RAe=rw;function MAe(t){return RAe(this,t).get(t)}var DAe=MAe,LAe=rw;function FAe(t){return LAe(this,t).has(t)}var BAe=FAe,zAe=rw;function UAe(t,e){var n=zAe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var HAe=UAe,VAe=TAe,WAe=$Ae,qAe=DAe,GAe=BAe,KAe=HAe;function Xf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xf.prototype.clear=VAe;Xf.prototype.delete=WAe;Xf.prototype.get=qAe;Xf.prototype.has=GAe;Xf.prototype.set=KAe;var BO=Xf,Q7=BO,YAe="Expected a function";function zO(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(YAe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(zO.Cache||Q7),n}zO.Cache=Q7;var eW=zO;const XAe=at(eW);var ZAe=eW,JAe=500;function QAe(t){var e=ZAe(t,function(r){return n.size===JAe&&n.clear(),r}),n=e.cache;return e}var eTe=QAe,tTe=eTe,nTe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rTe=/\\(\\)?/g,iTe=tTe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(nTe,function(n,r,i,a){e.push(i?a.replace(rTe,"$1"):r||n)}),e}),aTe=iTe;function sTe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var UO=sTe,fM=Ag,oTe=UO,lTe=zr,cTe=qf,uTe=1/0,hM=fM?fM.prototype:void 0,pM=hM?hM.toString:void 0;function tW(t){if(typeof t=="string")return t;if(lTe(t))return oTe(t,tW)+"";if(cTe(t))return pM?pM.call(t):"";var e=t+"";return e=="0"&&1/t==-uTe?"-0":e}var dTe=tW,fTe=dTe;function hTe(t){return t==null?"":fTe(t)}var nW=hTe,pTe=zr,mTe=MO,gTe=aTe,yTe=nW;function vTe(t,e){return pTe(t)?t:mTe(t,e)?[t]:gTe(yTe(t))}var rW=vTe,xTe=qf,bTe=1/0;function wTe(t){if(typeof t=="string"||xTe(t))return t;var e=t+"";return e=="0"&&1/t==-bTe?"-0":e}var iw=wTe,_Te=rW,STe=iw;function ETe(t,e){e=_Te(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[STe(e[n++])];return n&&n==r?t:void 0}var HO=ETe,jTe=HO;function ATe(t,e,n){var r=t==null?void 0:jTe(t,e);return r===void 0?n:r}var iW=ATe;const si=at(iW);function TTe(t){return t==null}var kTe=TTe;const Ve=at(kTe);var CTe=ho,OTe=zr,NTe=po,PTe="[object String]";function ITe(t){return typeof t=="string"||!OTe(t)&&NTe(t)&&CTe(t)==PTe}var $Te=ITe;const Tg=at($Te);var aW={exports:{}},St={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VO=Symbol.for("react.element"),WO=Symbol.for("react.portal"),aw=Symbol.for("react.fragment"),sw=Symbol.for("react.strict_mode"),ow=Symbol.for("react.profiler"),lw=Symbol.for("react.provider"),cw=Symbol.for("react.context"),RTe=Symbol.for("react.server_context"),uw=Symbol.for("react.forward_ref"),dw=Symbol.for("react.suspense"),fw=Symbol.for("react.suspense_list"),hw=Symbol.for("react.memo"),pw=Symbol.for("react.lazy"),MTe=Symbol.for("react.offscreen"),sW;sW=Symbol.for("react.module.reference");function Bi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case VO:switch(t=t.type,t){case aw:case ow:case sw:case dw:case fw:return t;default:switch(t=t&&t.$$typeof,t){case RTe:case cw:case uw:case pw:case hw:case lw:return t;default:return e}}case WO:return e}}}St.ContextConsumer=cw;St.ContextProvider=lw;St.Element=VO;St.ForwardRef=uw;St.Fragment=aw;St.Lazy=pw;St.Memo=hw;St.Portal=WO;St.Profiler=ow;St.StrictMode=sw;St.Suspense=dw;St.SuspenseList=fw;St.isAsyncMode=function(){return!1};St.isConcurrentMode=function(){return!1};St.isContextConsumer=function(t){return Bi(t)===cw};St.isContextProvider=function(t){return Bi(t)===lw};St.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===VO};St.isForwardRef=function(t){return Bi(t)===uw};St.isFragment=function(t){return Bi(t)===aw};St.isLazy=function(t){return Bi(t)===pw};St.isMemo=function(t){return Bi(t)===hw};St.isPortal=function(t){return Bi(t)===WO};St.isProfiler=function(t){return Bi(t)===ow};St.isStrictMode=function(t){return Bi(t)===sw};St.isSuspense=function(t){return Bi(t)===dw};St.isSuspenseList=function(t){return Bi(t)===fw};St.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===aw||t===ow||t===sw||t===dw||t===fw||t===MTe||typeof t=="object"&&t!==null&&(t.$$typeof===pw||t.$$typeof===hw||t.$$typeof===lw||t.$$typeof===cw||t.$$typeof===uw||t.$$typeof===sW||t.getModuleId!==void 0)};St.typeOf=Bi;aW.exports=St;var oW=aW.exports,DTe=ho,LTe=po,FTe="[object Number]";function BTe(t){return typeof t=="number"||LTe(t)&&DTe(t)==FTe}var lW=BTe;const zTe=at(lW);var UTe=lW;function HTe(t){return UTe(t)&&t!=+t}var VTe=HTe;const Zf=at(VTe);var ur=function(e){return e===0?0:e>0?1:-1},dc=function(e){return Tg(e)&&e.indexOf("%")===e.length-1},de=function(e){return zTe(e)&&!Zf(e)},jn=function(e){return de(e)||Tg(e)},WTe=0,cu=function(e){var n=++WTe;return"".concat(e||"").concat(n)},dr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(e)&&!Tg(e))return r;var a;if(dc(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return Zf(a)&&(a=r),i&&a>n&&(a=n),a},Mo=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},qTe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Sn=function(e,n){return de(e)&&de(n)?function(r){return e+r*(n-e)}:function(){return n}};function A0(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):si(r,e))===n})}function xd(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Bj(t){"@babel/helpers - typeof";return Bj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bj(t)}var GTe=["viewBox","children"],KTe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],mM=["points","pathLength"],$1={svg:GTe,polygon:mM,polyline:mM},qO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],T0=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(S.isValidElement(e)&&(r=e.props),!Gf(r))return null;var i={};return Object.keys(r).forEach(function(a){qO.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},YTe=function(e,n,r){return function(i){return e(n,r,i),null}},Vc=function(e,n,r){if(!Gf(e)||Bj(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];qO.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=YTe(s,n,r))}),i},XTe=["children"],ZTe=["children"];function gM(t,e){if(t==null)return{};var n=JTe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zj(t){"@babel/helpers - typeof";return zj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zj(t)}var yM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Vs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},vM=null,R1=null,GO=function t(e){if(e===vM&&Array.isArray(R1))return R1;var n=[];return S.Children.forEach(e,function(r){Ve(r)||(oW.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),R1=n,vM=e,n};function oi(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Vs(i)}):r=[Vs(e)],GO(t).forEach(function(i){var a=si(i,"type.displayName")||si(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Yr(t,e){var n=oi(t,e);return n&&n[0]}var xM=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!de(r)||r<=0||!de(i)||i<=0)},QTe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],eke=function(e){return e&&e.type&&Tg(e.type)&&QTe.indexOf(e.type)>=0},cW=function(e){return e&&zj(e)==="object"&&"clipDot"in e},tke=function(e,n,r,i){var a,s=(a=$1==null?void 0:$1[i])!==null&&a!==void 0?a:[];return!Ue(e)&&(i&&s.includes(n)||KTe.includes(n))||r&&qO.includes(n)},Pe=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(S.isValidElement(e)&&(i=e.props),!Gf(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;tke((o=i)===null||o===void 0?void 0:o[s],s,n,r)&&(a[s]=i[s])}),a},Uj=function t(e,n){if(e===n)return!0;var r=S.Children.count(e);if(r!==S.Children.count(n))return!1;if(r===0)return!0;if(r===1)return bM(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!bM(a,s))return!1}return!0},bM=function(e,n){if(Ve(e)&&Ve(n))return!0;if(!Ve(e)&&!Ve(n)){var r=e.props||{},i=r.children,a=gM(r,XTe),s=n.props||{},o=s.children,l=gM(s,ZTe);return i&&o?xd(a,l)&&Uj(i,o):!i&&!o?xd(a,l):!1}return!1},wM=function(e,n){var r=[],i={};return GO(e).forEach(function(a,s){if(eke(a))r.push(a);else if(a){var o=Vs(a.type),l=n[o]||{},c=l.handler,d=l.once;if(c&&(!d||!i[o])){var f=c(a,o,s);r.push(f),i[o]=!0}}}),r},nke=function(e){var n=e&&e.type;return n&&yM[n]?yM[n]:null},rke=function(e,n){return GO(n).indexOf(e)},ike=["children","width","height","viewBox","className","style","title","desc"];function Hj(){return Hj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hj.apply(this,arguments)}function ake(t,e){if(t==null)return{};var n=ske(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ske(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vj(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,c=ake(t,ike),d=i||{width:n,height:r,x:0,y:0},f=Ke("recharts-surface",a);return M.createElement("svg",Hj({},Pe(c,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),M.createElement("title",null,o),M.createElement("desc",null,l),e)}var oke=["children","className"];function Wj(){return Wj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wj.apply(this,arguments)}function lke(t,e){if(t==null)return{};var n=cke(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ot=M.forwardRef(function(t,e){var n=t.children,r=t.className,i=lke(t,oke),a=Ke("recharts-layer",r);return M.createElement("g",Wj({className:a},Pe(i,!0),{ref:e}),n)}),va=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function uke(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var dke=uke,fke=dke;function hke(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:fke(t,e,n)}var pke=hke,mke="\\ud800-\\udfff",gke="\\u0300-\\u036f",yke="\\ufe20-\\ufe2f",vke="\\u20d0-\\u20ff",xke=gke+yke+vke,bke="\\ufe0e\\ufe0f",wke="\\u200d",_ke=RegExp("["+wke+mke+xke+bke+"]");function Ske(t){return _ke.test(t)}var uW=Ske;function Eke(t){return t.split("")}var jke=Eke,dW="\\ud800-\\udfff",Ake="\\u0300-\\u036f",Tke="\\ufe20-\\ufe2f",kke="\\u20d0-\\u20ff",Cke=Ake+Tke+kke,Oke="\\ufe0e\\ufe0f",Nke="["+dW+"]",qj="["+Cke+"]",Gj="\\ud83c[\\udffb-\\udfff]",Pke="(?:"+qj+"|"+Gj+")",fW="[^"+dW+"]",hW="(?:\\ud83c[\\udde6-\\uddff]){2}",pW="[\\ud800-\\udbff][\\udc00-\\udfff]",Ike="\\u200d",mW=Pke+"?",gW="["+Oke+"]?",$ke="(?:"+Ike+"(?:"+[fW,hW,pW].join("|")+")"+gW+mW+")*",Rke=gW+mW+$ke,Mke="(?:"+[fW+qj+"?",qj,hW,pW,Nke].join("|")+")",Dke=RegExp(Gj+"(?="+Gj+")|"+Mke+Rke,"g");function Lke(t){return t.match(Dke)||[]}var Fke=Lke,Bke=jke,zke=uW,Uke=Fke;function Hke(t){return zke(t)?Uke(t):Bke(t)}var Vke=Hke,Wke=pke,qke=uW,Gke=Vke,Kke=nW;function Yke(t){return function(e){e=Kke(e);var n=qke(e)?Gke(e):void 0,r=n?n[0]:e.charAt(0),i=n?Wke(n,1).join(""):e.slice(1);return r[t]()+i}}var Xke=Yke,Zke=Xke,Jke=Zke("toUpperCase"),Qke=Jke;const mw=at(Qke);function Nt(t){return function(){return t}}const yW=Math.cos,k0=Math.sin,Pa=Math.sqrt,C0=Math.PI,gw=2*C0,Kj=Math.PI,Yj=2*Kj,nc=1e-6,eCe=Yj-nc;function vW(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function tCe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return vW;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class nCe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?vW:tCe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,c=i-n,d=s-e,f=o-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>nc)if(!(Math.abs(f*l-c*d)>nc)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,m=i-o,g=l*l+c*c,x=p*p+m*m,b=Math.sqrt(g),v=Math.sqrt(h),y=a*Math.tan((Kj-Math.acos((g+h-x)/(2*b*v)))/2),_=y/v,w=y/b;Math.abs(_-1)>nc&&this._append`L${e+_*d},${n+_*f}`,this._append`A${a},${a},0,0,${+(f*p>d*m)},${this._x1=e+w*l},${this._y1=n+w*c}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,d=n+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>nc||Math.abs(this._y1-d)>nc)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%Yj+Yj),h>eCe?this._append`A${r},${r},0,1,${f},${e-o},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>nc&&this._append`A${r},${r},0,${+(h>=Kj)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function KO(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new nCe(e)}function YO(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function xW(t){this._context=t}xW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function yw(t){return new xW(t)}function bW(t){return t[0]}function wW(t){return t[1]}function _W(t,e){var n=Nt(!0),r=null,i=yw,a=null,s=KO(o);t=typeof t=="function"?t:t===void 0?bW:Nt(t),e=typeof e=="function"?e:e===void 0?wW:Nt(e);function o(l){var c,d=(l=YO(l)).length,f,h=!1,p;for(r==null&&(a=i(p=s())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,c,l),+e(f,c,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Nt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Nt(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Nt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function Py(t,e,n){var r=null,i=Nt(!0),a=null,s=yw,o=null,l=KO(c);t=typeof t=="function"?t:t===void 0?bW:Nt(+t),e=typeof e=="function"?e:Nt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?wW:Nt(+n);function c(f){var h,p,m,g=(f=YO(f)).length,x,b=!1,v,y=new Array(g),_=new Array(g);for(a==null&&(o=s(v=l())),h=0;h<=g;++h){if(!(h<g&&i(x=f[h],h,f))===b)if(b=!b)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=h-1;m>=p;--m)o.point(y[m],_[m]);o.lineEnd(),o.areaEnd()}b&&(y[h]=+t(x,h,f),_[h]=+e(x,h,f),o.point(r?+r(x,h,f):y[h],n?+n(x,h,f):_[h]))}if(v)return o=null,v+""||null}function d(){return _W().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Nt(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Nt(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Nt(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Nt(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Nt(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Nt(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(n)},c.lineX1=function(){return d().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Nt(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class SW{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function rCe(t){return new SW(t,!0)}function iCe(t){return new SW(t,!1)}const XO={draw(t,e){const n=Pa(e/C0);t.moveTo(n,0),t.arc(0,0,n,0,gw)}},aCe={draw(t,e){const n=Pa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},EW=Pa(1/3),sCe=EW*2,oCe={draw(t,e){const n=Pa(e/sCe),r=n*EW;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},lCe={draw(t,e){const n=Pa(e),r=-n/2;t.rect(r,r,n,n)}},cCe=.8908130915292852,jW=k0(C0/10)/k0(7*C0/10),uCe=k0(gw/10)*jW,dCe=-yW(gw/10)*jW,fCe={draw(t,e){const n=Pa(e*cCe),r=uCe*n,i=dCe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=gw*a/5,o=yW(s),l=k0(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},M1=Pa(3),hCe={draw(t,e){const n=-Pa(e/(M1*3));t.moveTo(0,n*2),t.lineTo(-M1*n,-n),t.lineTo(M1*n,-n),t.closePath()}},mi=-.5,gi=Pa(3)/2,Xj=1/Pa(12),pCe=(Xj/2+1)*3,mCe={draw(t,e){const n=Pa(e/pCe),r=n/2,i=n*Xj,a=r,s=n*Xj+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(mi*r-gi*i,gi*r+mi*i),t.lineTo(mi*a-gi*s,gi*a+mi*s),t.lineTo(mi*o-gi*l,gi*o+mi*l),t.lineTo(mi*r+gi*i,mi*i-gi*r),t.lineTo(mi*a+gi*s,mi*s-gi*a),t.lineTo(mi*o+gi*l,mi*l-gi*o),t.closePath()}};function gCe(t,e){let n=null,r=KO(i);t=typeof t=="function"?t:Nt(t||XO),e=typeof e=="function"?e:Nt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Nt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Nt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function O0(){}function N0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function AW(t){this._context=t}AW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:N0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:N0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yCe(t){return new AW(t)}function TW(t){this._context=t}TW.prototype={areaStart:O0,areaEnd:O0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:N0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vCe(t){return new TW(t)}function kW(t){this._context=t}kW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:N0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xCe(t){return new kW(t)}function CW(t){this._context=t}CW.prototype={areaStart:O0,areaEnd:O0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function bCe(t){return new CW(t)}function _M(t){return t<0?-1:1}function SM(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(_M(a)+_M(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function EM(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function D1(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function P0(t){this._context=t}P0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:D1(this,this._t0,EM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,D1(this,EM(this,n=SM(this,t,e)),n);break;default:D1(this,this._t0,n=SM(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function OW(t){this._context=new NW(t)}(OW.prototype=Object.create(P0.prototype)).point=function(t,e){P0.prototype.point.call(this,e,t)};function NW(t){this._context=t}NW.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function wCe(t){return new P0(t)}function _Ce(t){return new OW(t)}function PW(t){this._context=t}PW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=jM(t),i=jM(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function jM(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function SCe(t){return new PW(t)}function vw(t,e){this._context=t,this._t=e}vw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function ECe(t){return new vw(t,.5)}function jCe(t){return new vw(t,0)}function ACe(t){return new vw(t,1)}function Qd(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Zj(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function TCe(t,e){return t[e]}function kCe(t){const e=[];return e.key=t,e}function CCe(){var t=Nt([]),e=Zj,n=Qd,r=TCe;function i(a){var s=Array.from(t.apply(this,arguments),kCe),o,l=s.length,c=-1,d;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(f,s[o].key,c,a)]).data=f;for(o=0,d=YO(e(s));o<l;++o)s[d[o]].index=o;return n(s,d),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Nt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Nt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?Zj:typeof a=="function"?a:Nt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Qd,i):n},i}function OCe(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Qd(t,e)}}function NCe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}Qd(t,e)}}function PCe(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var d=t[e[o]],f=d[r][1]||0,h=d[r-1][1]||0,p=(f-h)/2,m=0;m<o;++m){var g=t[e[m]],x=g[r][1]||0,b=g[r-1][1]||0;p+=x-b}l+=f,c+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Qd(t,e)}}function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}var ICe=["type","size","sizeType"];function Jj(){return Jj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jj.apply(this,arguments)}function AM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AM(Object(n),!0).forEach(function(r){$Ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Ce(t,e,n){return e=RCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RCe(t){var e=MCe(t,"string");return fm(e)=="symbol"?e:e+""}function MCe(t,e){if(fm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DCe(t,e){if(t==null)return{};var n=LCe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var IW={symbolCircle:XO,symbolCross:aCe,symbolDiamond:oCe,symbolSquare:lCe,symbolStar:fCe,symbolTriangle:hCe,symbolWye:mCe},FCe=Math.PI/180,BCe=function(e){var n="symbol".concat(mw(e));return IW[n]||XO},zCe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*FCe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},UCe=function(e,n){IW["symbol".concat(mw(e))]=n},ZO=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=DCe(e,ICe),c=TM(TM({},l),{},{type:r,size:a,sizeType:o}),d=function(){var x=BCe(r),b=gCe().type(x).size(zCe(a,o,r));return b()},f=c.className,h=c.cx,p=c.cy,m=Pe(c,!0);return h===+h&&p===+p&&a===+a?M.createElement("path",Jj({},m,{className:Ke("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};ZO.registerSymbol=UCe;function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function Qj(){return Qj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qj.apply(this,arguments)}function kM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HCe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(n),!0).forEach(function(r){hm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RW(r.key),r)}}function qCe(t,e,n){return e&&WCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GCe(t,e,n){return e=I0(e),KCe(t,$W()?Reflect.construct(e,n||[],I0(t).constructor):e.apply(t,n))}function KCe(t,e){if(e&&(ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YCe(t)}function YCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $W(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($W=function(){return!!t})()}function I0(t){return I0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},I0(t)}function XCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eA(t,e)}function eA(t,e){return eA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eA(t,e)}function hm(t,e,n){return e=RW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RW(t){var e=ZCe(t,"string");return ef(e)=="symbol"?e:e+""}function ZCe(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yi=32,JO=function(t){function e(){return VCe(this,e),GCe(this,e,arguments)}return XCe(e,t),qCe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=yi/2,s=yi/6,o=yi/3,l=r.inactive?i:r.color;if(r.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:yi,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(yi,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(yi/8,"h").concat(yi,"v").concat(yi*3/4,"h").concat(-yi,"z"),className:"recharts-legend-icon"});if(M.isValidElement(r.legendIcon)){var c=HCe({},r);return delete c.legendIcon,M.cloneElement(r.legendIcon,c)}return M.createElement(ZO,{fill:l,cx:a,cy:a,size:yi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:yi,height:yi},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,m){var g=p.formatter||l,x=Ke(hm(hm({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=Ue(p.value)?null:p.value;va(!Ue(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=p.inactive?c:p.color;return M.createElement("li",Qj({className:x,style:f,key:"legend-item-".concat(m)},Vc(r.props,p,m)),M.createElement(Vj,{width:s,height:s,viewBox:d,style:h},r.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},g?g(b,p,m):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(S.PureComponent);hm(JO,"displayName","Legend");hm(JO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var JCe=nw;function QCe(){this.__data__=new JCe,this.size=0}var eOe=QCe;function tOe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var nOe=tOe;function rOe(t){return this.__data__.get(t)}var iOe=rOe;function aOe(t){return this.__data__.has(t)}var sOe=aOe,oOe=nw,lOe=FO,cOe=BO,uOe=200;function dOe(t,e){var n=this.__data__;if(n instanceof oOe){var r=n.__data__;if(!lOe||r.length<uOe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new cOe(r)}return n.set(t,e),this.size=n.size,this}var fOe=dOe,hOe=nw,pOe=eOe,mOe=nOe,gOe=iOe,yOe=sOe,vOe=fOe;function Jf(t){var e=this.__data__=new hOe(t);this.size=e.size}Jf.prototype.clear=pOe;Jf.prototype.delete=mOe;Jf.prototype.get=gOe;Jf.prototype.has=yOe;Jf.prototype.set=vOe;var MW=Jf,xOe="__lodash_hash_undefined__";function bOe(t){return this.__data__.set(t,xOe),this}var wOe=bOe;function _Oe(t){return this.__data__.has(t)}var SOe=_Oe,EOe=BO,jOe=wOe,AOe=SOe;function $0(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new EOe;++e<n;)this.add(t[e])}$0.prototype.add=$0.prototype.push=jOe;$0.prototype.has=AOe;var DW=$0;function TOe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var LW=TOe;function kOe(t,e){return t.has(e)}var FW=kOe,COe=DW,OOe=LW,NOe=FW,POe=1,IOe=2;function $Oe(t,e,n,r,i,a){var s=n&POe,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(t),d=a.get(e);if(c&&d)return c==e&&d==t;var f=-1,h=!0,p=n&IOe?new COe:void 0;for(a.set(t,e),a.set(e,t);++f<o;){var m=t[f],g=e[f];if(r)var x=s?r(g,m,f,e,t,a):r(m,g,f,t,e,a);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!OOe(e,function(b,v){if(!NOe(p,v)&&(m===b||i(m,b,n,r,a)))return p.push(v)})){h=!1;break}}else if(!(m===g||i(m,g,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var BW=$Oe,ROe=xs,MOe=ROe.Uint8Array,DOe=MOe;function LOe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var FOe=LOe;function BOe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var QO=BOe,CM=Ag,OM=DOe,zOe=LO,UOe=BW,HOe=FOe,VOe=QO,WOe=1,qOe=2,GOe="[object Boolean]",KOe="[object Date]",YOe="[object Error]",XOe="[object Map]",ZOe="[object Number]",JOe="[object RegExp]",QOe="[object Set]",eNe="[object String]",tNe="[object Symbol]",nNe="[object ArrayBuffer]",rNe="[object DataView]",NM=CM?CM.prototype:void 0,L1=NM?NM.valueOf:void 0;function iNe(t,e,n,r,i,a,s){switch(n){case rNe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case nNe:return!(t.byteLength!=e.byteLength||!a(new OM(t),new OM(e)));case GOe:case KOe:case ZOe:return zOe(+t,+e);case YOe:return t.name==e.name&&t.message==e.message;case JOe:case eNe:return t==e+"";case XOe:var o=HOe;case QOe:var l=r&WOe;if(o||(o=VOe),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=qOe,s.set(t,e);var d=UOe(o(t),o(e),r,i,a,s);return s.delete(t),d;case tNe:if(L1)return L1.call(t)==L1.call(e)}return!1}var aNe=iNe;function sNe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var zW=sNe,oNe=zW,lNe=zr;function cNe(t,e,n){var r=e(t);return lNe(t)?r:oNe(r,n(t))}var uNe=cNe;function dNe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var fNe=dNe;function hNe(){return[]}var pNe=hNe,mNe=fNe,gNe=pNe,yNe=Object.prototype,vNe=yNe.propertyIsEnumerable,PM=Object.getOwnPropertySymbols,xNe=PM?function(t){return t==null?[]:(t=Object(t),mNe(PM(t),function(e){return vNe.call(t,e)}))}:gNe,bNe=xNe;function wNe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var _Ne=wNe,SNe=ho,ENe=po,jNe="[object Arguments]";function ANe(t){return ENe(t)&&SNe(t)==jNe}var TNe=ANe,IM=TNe,kNe=po,UW=Object.prototype,CNe=UW.hasOwnProperty,ONe=UW.propertyIsEnumerable,NNe=IM(function(){return arguments}())?IM:function(t){return kNe(t)&&CNe.call(t,"callee")&&!ONe.call(t,"callee")},eN=NNe,R0={exports:{}};function PNe(){return!1}var INe=PNe;R0.exports;(function(t,e){var n=xs,r=INe,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(R0,R0.exports);var HW=R0.exports,$Ne=9007199254740991,RNe=/^(?:0|[1-9]\d*)$/;function MNe(t,e){var n=typeof t;return e=e??$Ne,!!e&&(n=="number"||n!="symbol"&&RNe.test(t))&&t>-1&&t%1==0&&t<e}var tN=MNe,DNe=9007199254740991;function LNe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=DNe}var nN=LNe,FNe=ho,BNe=nN,zNe=po,UNe="[object Arguments]",HNe="[object Array]",VNe="[object Boolean]",WNe="[object Date]",qNe="[object Error]",GNe="[object Function]",KNe="[object Map]",YNe="[object Number]",XNe="[object Object]",ZNe="[object RegExp]",JNe="[object Set]",QNe="[object String]",ePe="[object WeakMap]",tPe="[object ArrayBuffer]",nPe="[object DataView]",rPe="[object Float32Array]",iPe="[object Float64Array]",aPe="[object Int8Array]",sPe="[object Int16Array]",oPe="[object Int32Array]",lPe="[object Uint8Array]",cPe="[object Uint8ClampedArray]",uPe="[object Uint16Array]",dPe="[object Uint32Array]",Ft={};Ft[rPe]=Ft[iPe]=Ft[aPe]=Ft[sPe]=Ft[oPe]=Ft[lPe]=Ft[cPe]=Ft[uPe]=Ft[dPe]=!0;Ft[UNe]=Ft[HNe]=Ft[tPe]=Ft[VNe]=Ft[nPe]=Ft[WNe]=Ft[qNe]=Ft[GNe]=Ft[KNe]=Ft[YNe]=Ft[XNe]=Ft[ZNe]=Ft[JNe]=Ft[QNe]=Ft[ePe]=!1;function fPe(t){return zNe(t)&&BNe(t.length)&&!!Ft[FNe(t)]}var hPe=fPe;function pPe(t){return function(e){return t(e)}}var VW=pPe,M0={exports:{}};M0.exports;(function(t,e){var n=X7,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(M0,M0.exports);var mPe=M0.exports,gPe=hPe,yPe=VW,$M=mPe,RM=$M&&$M.isTypedArray,vPe=RM?yPe(RM):gPe,WW=vPe,xPe=_Ne,bPe=eN,wPe=zr,_Pe=HW,SPe=tN,EPe=WW,jPe=Object.prototype,APe=jPe.hasOwnProperty;function TPe(t,e){var n=wPe(t),r=!n&&bPe(t),i=!n&&!r&&_Pe(t),a=!n&&!r&&!i&&EPe(t),s=n||r||i||a,o=s?xPe(t.length,String):[],l=o.length;for(var c in t)(e||APe.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||SPe(c,l)))&&o.push(c);return o}var kPe=TPe,CPe=Object.prototype;function OPe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||CPe;return t===n}var NPe=OPe;function PPe(t,e){return function(n){return t(e(n))}}var qW=PPe,IPe=qW,$Pe=IPe(Object.keys,Object),RPe=$Pe,MPe=NPe,DPe=RPe,LPe=Object.prototype,FPe=LPe.hasOwnProperty;function BPe(t){if(!MPe(t))return DPe(t);var e=[];for(var n in Object(t))FPe.call(t,n)&&n!="constructor"&&e.push(n);return e}var zPe=BPe,UPe=DO,HPe=nN;function VPe(t){return t!=null&&HPe(t.length)&&!UPe(t)}var kg=VPe,WPe=kPe,qPe=zPe,GPe=kg;function KPe(t){return GPe(t)?WPe(t):qPe(t)}var xw=KPe,YPe=uNe,XPe=bNe,ZPe=xw;function JPe(t){return YPe(t,ZPe,XPe)}var QPe=JPe,MM=QPe,eIe=1,tIe=Object.prototype,nIe=tIe.hasOwnProperty;function rIe(t,e,n,r,i,a){var s=n&eIe,o=MM(t),l=o.length,c=MM(e),d=c.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in e:nIe.call(e,h)))return!1}var p=a.get(t),m=a.get(e);if(p&&m)return p==e&&m==t;var g=!0;a.set(t,e),a.set(e,t);for(var x=s;++f<l;){h=o[f];var b=t[h],v=e[h];if(r)var y=s?r(v,b,h,e,t,a):r(b,v,h,t,e,a);if(!(y===void 0?b===v||i(b,v,n,r,a):y)){g=!1;break}x||(x=h=="constructor")}if(g&&!x){var _=t.constructor,w=e.constructor;_!=w&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof w=="function"&&w instanceof w)&&(g=!1)}return a.delete(t),a.delete(e),g}var iIe=rIe,aIe=lu,sIe=xs,oIe=aIe(sIe,"DataView"),lIe=oIe,cIe=lu,uIe=xs,dIe=cIe(uIe,"Promise"),fIe=dIe,hIe=lu,pIe=xs,mIe=hIe(pIe,"Set"),GW=mIe,gIe=lu,yIe=xs,vIe=gIe(yIe,"WeakMap"),xIe=vIe,tA=lIe,nA=FO,rA=fIe,iA=GW,aA=xIe,KW=ho,Qf=J7,DM="[object Map]",bIe="[object Object]",LM="[object Promise]",FM="[object Set]",BM="[object WeakMap]",zM="[object DataView]",wIe=Qf(tA),_Ie=Qf(nA),SIe=Qf(rA),EIe=Qf(iA),jIe=Qf(aA),rc=KW;(tA&&rc(new tA(new ArrayBuffer(1)))!=zM||nA&&rc(new nA)!=DM||rA&&rc(rA.resolve())!=LM||iA&&rc(new iA)!=FM||aA&&rc(new aA)!=BM)&&(rc=function(t){var e=KW(t),n=e==bIe?t.constructor:void 0,r=n?Qf(n):"";if(r)switch(r){case wIe:return zM;case _Ie:return DM;case SIe:return LM;case EIe:return FM;case jIe:return BM}return e});var AIe=rc,F1=MW,TIe=BW,kIe=aNe,CIe=iIe,UM=AIe,HM=zr,VM=HW,OIe=WW,NIe=1,WM="[object Arguments]",qM="[object Array]",Iy="[object Object]",PIe=Object.prototype,GM=PIe.hasOwnProperty;function IIe(t,e,n,r,i,a){var s=HM(t),o=HM(e),l=s?qM:UM(t),c=o?qM:UM(e);l=l==WM?Iy:l,c=c==WM?Iy:c;var d=l==Iy,f=c==Iy,h=l==c;if(h&&VM(t)){if(!VM(e))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new F1),s||OIe(t)?TIe(t,e,n,r,i,a):kIe(t,e,l,n,r,i,a);if(!(n&NIe)){var p=d&&GM.call(t,"__wrapped__"),m=f&&GM.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,x=m?e.value():e;return a||(a=new F1),i(g,x,n,r,a)}}return h?(a||(a=new F1),CIe(t,e,n,r,i,a)):!1}var $Ie=IIe,RIe=$Ie,KM=po;function YW(t,e,n,r,i){return t===e?!0:t==null||e==null||!KM(t)&&!KM(e)?t!==t&&e!==e:RIe(t,e,n,r,YW,i)}var rN=YW,MIe=MW,DIe=rN,LIe=1,FIe=2;function BIe(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var o=n[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=n[i];var l=o[0],c=t[l],d=o[1];if(s&&o[2]){if(c===void 0&&!(l in t))return!1}else{var f=new MIe;if(r)var h=r(c,d,l,t,e,f);if(!(h===void 0?DIe(d,c,LIe|FIe,r,f):h))return!1}}return!0}var zIe=BIe,UIe=Bl;function HIe(t){return t===t&&!UIe(t)}var XW=HIe,VIe=XW,WIe=xw;function qIe(t){for(var e=WIe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,VIe(i)]}return e}var GIe=qIe;function KIe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var ZW=KIe,YIe=zIe,XIe=GIe,ZIe=ZW;function JIe(t){var e=XIe(t);return e.length==1&&e[0][2]?ZIe(e[0][0],e[0][1]):function(n){return n===t||YIe(n,t,e)}}var QIe=JIe;function e2e(t,e){return t!=null&&e in Object(t)}var t2e=e2e,n2e=rW,r2e=eN,i2e=zr,a2e=tN,s2e=nN,o2e=iw;function l2e(t,e,n){e=n2e(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=o2e(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&s2e(i)&&a2e(s,i)&&(i2e(t)||r2e(t)))}var c2e=l2e,u2e=t2e,d2e=c2e;function f2e(t,e){return t!=null&&d2e(t,e,u2e)}var h2e=f2e,p2e=rN,m2e=iW,g2e=h2e,y2e=MO,v2e=XW,x2e=ZW,b2e=iw,w2e=1,_2e=2;function S2e(t,e){return y2e(t)&&v2e(e)?x2e(b2e(t),e):function(n){var r=m2e(n,t);return r===void 0&&r===e?g2e(n,t):p2e(e,r,w2e|_2e)}}var E2e=S2e;function j2e(t){return t}var eh=j2e;function A2e(t){return function(e){return e==null?void 0:e[t]}}var T2e=A2e,k2e=HO;function C2e(t){return function(e){return k2e(e,t)}}var O2e=C2e,N2e=T2e,P2e=O2e,I2e=MO,$2e=iw;function R2e(t){return I2e(t)?N2e($2e(t)):P2e(t)}var M2e=R2e,D2e=QIe,L2e=E2e,F2e=eh,B2e=zr,z2e=M2e;function U2e(t){return typeof t=="function"?t:t==null?F2e:typeof t=="object"?B2e(t)?L2e(t[0],t[1]):D2e(t):z2e(t)}var bs=U2e;function H2e(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var JW=H2e;function V2e(t){return t!==t}var W2e=V2e;function q2e(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var G2e=q2e,K2e=JW,Y2e=W2e,X2e=G2e;function Z2e(t,e,n){return e===e?X2e(t,e,n):K2e(t,Y2e,n)}var J2e=Z2e,Q2e=J2e;function e$e(t,e){var n=t==null?0:t.length;return!!n&&Q2e(t,e,0)>-1}var t$e=e$e;function n$e(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var r$e=n$e;function i$e(){}var a$e=i$e,B1=GW,s$e=a$e,o$e=QO,l$e=1/0,c$e=B1&&1/o$e(new B1([,-0]))[1]==l$e?function(t){return new B1(t)}:s$e,u$e=c$e,d$e=DW,f$e=t$e,h$e=r$e,p$e=FW,m$e=u$e,g$e=QO,y$e=200;function v$e(t,e,n){var r=-1,i=f$e,a=t.length,s=!0,o=[],l=o;if(n)s=!1,i=h$e;else if(a>=y$e){var c=e?null:m$e(t);if(c)return g$e(c);s=!1,i=p$e,l=new d$e}else l=e?[]:o;e:for(;++r<a;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),o.push(d)}else i(l,f,n)||(l!==o&&l.push(f),o.push(d))}return o}var x$e=v$e,b$e=bs,w$e=x$e;function _$e(t,e){return t&&t.length?w$e(t,b$e(e)):[]}var S$e=_$e;const YM=at(S$e);function QW(t,e,n){return e===!0?YM(t,n):Ue(e)?YM(t,e):t}function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}var E$e=["ref"];function XM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Es(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XM(Object(n),!0).forEach(function(r){bw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tq(r.key),r)}}function A$e(t,e,n){return e&&ZM(t.prototype,e),n&&ZM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function T$e(t,e,n){return e=D0(e),k$e(t,eq()?Reflect.construct(e,n||[],D0(t).constructor):e.apply(t,n))}function k$e(t,e){if(e&&(tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C$e(t)}function C$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eq=function(){return!!t})()}function D0(t){return D0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},D0(t)}function O$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sA(t,e)}function sA(t,e){return sA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sA(t,e)}function bw(t,e,n){return e=tq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tq(t){var e=N$e(t,"string");return tf(e)=="symbol"?e:e+""}function N$e(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P$e(t,e){if(t==null)return{};var n=I$e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function I$e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $$e(t){return t.value}function R$e(t,e){if(M.isValidElement(t))return M.cloneElement(t,e);if(typeof t=="function")return M.createElement(t,e);e.ref;var n=P$e(e,E$e);return M.createElement(JO,n)}var JM=1,ol=function(t){function e(){var n;j$e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=T$e(this,e,[].concat(i)),bw(n,"lastBoundingBox",{width:-1,height:-1}),n}return O$e(e,t),A$e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>JM||Math.abs(i.height-this.lastBoundingBox.height)>JM)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Es({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Es(Es({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,f=Es(Es({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},R$e(a,Es(Es({},this.props),{},{payload:QW(d,c,$$e)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Es(Es({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&de(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(S.PureComponent);bw(ol,"displayName","Legend");bw(ol,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var QM=Ag,M$e=eN,D$e=zr,eD=QM?QM.isConcatSpreadable:void 0;function L$e(t){return D$e(t)||M$e(t)||!!(eD&&t&&t[eD])}var F$e=L$e,B$e=zW,z$e=F$e;function nq(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=z$e),i||(i=[]);++a<s;){var o=t[a];e>0&&n(o)?e>1?nq(o,e-1,n,r,i):B$e(i,o):r||(i[i.length]=o)}return i}var rq=nq;function U$e(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var l=s[t?o:++i];if(n(a[l],l,a)===!1)break}return e}}var H$e=U$e,V$e=H$e,W$e=V$e(),q$e=W$e,G$e=q$e,K$e=xw;function Y$e(t,e){return t&&G$e(t,e,K$e)}var iq=Y$e,X$e=kg;function Z$e(t,e){return function(n,r){if(n==null)return n;if(!X$e(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var J$e=Z$e,Q$e=iq,eRe=J$e,tRe=eRe(Q$e),iN=tRe,nRe=iN,rRe=kg;function iRe(t,e){var n=-1,r=rRe(t)?Array(t.length):[];return nRe(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var aq=iRe;function aRe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var sRe=aRe,tD=qf;function oRe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=tD(t),s=e!==void 0,o=e===null,l=e===e,c=tD(e);if(!o&&!c&&!a&&t>e||a&&s&&l&&!o&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!l)return-1}return 0}var lRe=oRe,cRe=lRe;function uRe(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,o=n.length;++r<s;){var l=cRe(i[r],a[r]);if(l){if(r>=o)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var dRe=uRe,z1=UO,fRe=HO,hRe=bs,pRe=aq,mRe=sRe,gRe=VW,yRe=dRe,vRe=eh,xRe=zr;function bRe(t,e,n){e.length?e=z1(e,function(a){return xRe(a)?function(s){return fRe(s,a.length===1?a[0]:a)}:a}):e=[vRe];var r=-1;e=z1(e,gRe(hRe));var i=pRe(t,function(a,s,o){var l=z1(e,function(c){return c(a)});return{criteria:l,index:++r,value:a}});return mRe(i,function(a,s){return yRe(a,s,n)})}var wRe=bRe;function _Re(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var SRe=_Re,ERe=SRe,nD=Math.max;function jRe(t,e,n){return e=nD(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=nD(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(s),ERe(t,this,o)}}var ARe=jRe;function TRe(t){return function(){return t}}var kRe=TRe,CRe=lu,ORe=function(){try{var t=CRe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),sq=ORe,NRe=kRe,rD=sq,PRe=eh,IRe=rD?function(t,e){return rD(t,"toString",{configurable:!0,enumerable:!1,value:NRe(e),writable:!0})}:PRe,$Re=IRe,RRe=800,MRe=16,DRe=Date.now;function LRe(t){var e=0,n=0;return function(){var r=DRe(),i=MRe-(r-n);if(n=r,i>0){if(++e>=RRe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var FRe=LRe,BRe=$Re,zRe=FRe,URe=zRe(BRe),HRe=URe,VRe=eh,WRe=ARe,qRe=HRe;function GRe(t,e){return qRe(WRe(t,e,VRe),t+"")}var KRe=GRe,YRe=LO,XRe=kg,ZRe=tN,JRe=Bl;function QRe(t,e,n){if(!JRe(n))return!1;var r=typeof e;return(r=="number"?XRe(n)&&ZRe(e,n.length):r=="string"&&e in n)?YRe(n[e],t):!1}var ww=QRe,eMe=rq,tMe=wRe,nMe=KRe,iD=ww,rMe=nMe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&iD(t,e[0],e[1])?e=[]:n>2&&iD(e[0],e[1],e[2])&&(e=[e[0]]),tMe(t,eMe(e,1),[])}),iMe=rMe;const aN=at(iMe);function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}function oA(){return oA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oA.apply(this,arguments)}function aMe(t,e){return cMe(t)||lMe(t,e)||oMe(t,e)||sMe()}function sMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oMe(t,e){if(t){if(typeof t=="string")return aD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aD(t,e)}}function aD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lMe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function cMe(t){if(Array.isArray(t))return t}function sD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sD(Object(n),!0).forEach(function(r){uMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uMe(t,e,n){return e=dMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dMe(t){var e=fMe(t,"string");return pm(e)=="symbol"?e:e+""}function fMe(t,e){if(pm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hMe(t){return Array.isArray(t)&&jn(t[0])&&jn(t[1])?t.join(" ~ "):t}var pMe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,x=e.labelFormatter,b=e.accessibilityLayer,v=b===void 0?!1:b,y=function(){if(d&&d.length){var O={padding:0,margin:0},F=(h?aN(d,h):d).map(function(R,D){if(R.type==="none")return null;var U=U1({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},o),V=R.formatter||f||hMe,L=R.value,B=R.name,P=L,W=B;if(V&&P!=null&&W!=null){var G=V(L,B,R,D,d);if(Array.isArray(G)){var $=aMe(G,2);P=$[0],W=$[1]}else P=G}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:U},jn(W)?M.createElement("span",{className:"recharts-tooltip-item-name"},W):null,jn(W)?M.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,M.createElement("span",{className:"recharts-tooltip-item-value"},P),M.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:O},F)}return null},_=U1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=U1({margin:0},c),E=!Ve(g),A=E?g:"",j=Ke("recharts-default-tooltip",p),T=Ke("recharts-tooltip-label",m);E&&x&&d!==void 0&&d!==null&&(A=x(g,d));var k=v?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",oA({className:j,style:_},k),M.createElement("p",{className:T,style:w},M.isValidElement(A)?A:"".concat(A)),y())};function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function $y(t,e,n){return e=mMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mMe(t){var e=gMe(t,"string");return mm(e)=="symbol"?e:e+""}function gMe(t,e){if(mm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eh="recharts-tooltip-wrapper",yMe={visibility:"hidden"};function vMe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ke(Eh,$y($y($y($y({},"".concat(Eh,"-right"),de(n)&&e&&de(e.x)&&n>=e.x),"".concat(Eh,"-left"),de(n)&&e&&de(e.x)&&n<e.x),"".concat(Eh,"-bottom"),de(r)&&e&&de(e.y)&&r>=e.y),"".concat(Eh,"-top"),de(r)&&e&&de(e.y)&&r<e.y))}function oD(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&de(a[r]))return a[r];var d=n[r]-o-i,f=n[r]+i;if(e[r])return s[r]?d:f;if(s[r]){var h=d,p=l[r];return h<p?Math.max(f,l[r]):Math.max(d,l[r])}var m=f+o,g=l[r]+c;return m>g?Math.max(d,l[r]):Math.max(f,l[r])}function xMe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function bMe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,d,f;return s.height>0&&s.width>0&&n?(d=oD({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=oD({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=xMe({translateX:d,translateY:f,useTranslate3d:o})):c=yMe,{cssProperties:c,cssClasses:vMe({translateX:d,translateY:f,coordinate:n})}}function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function lD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lD(Object(n),!0).forEach(function(r){cA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lq(r.key),r)}}function SMe(t,e,n){return e&&_Me(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function EMe(t,e,n){return e=L0(e),jMe(t,oq()?Reflect.construct(e,n||[],L0(t).constructor):e.apply(t,n))}function jMe(t,e){if(e&&(nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AMe(t)}function AMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oq=function(){return!!t})()}function L0(t){return L0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},L0(t)}function TMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lA(t,e)}function lA(t,e){return lA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lA(t,e)}function cA(t,e,n){return e=lq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lq(t){var e=kMe(t,"string");return nf(e)=="symbol"?e:e+""}function kMe(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uD=1,CMe=function(t){function e(){var n;wMe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=EMe(this,e,[].concat(i)),cA(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),cA(n,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),n}return TMe(e,t),SMe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>uD||Math.abs(r.height-this.state.lastBoundingBox.height)>uD)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,x=i.useTranslate3d,b=i.viewBox,v=i.wrapperStyle,y=bMe({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),_=y.cssClasses,w=y.cssProperties,E=cD(cD({transition:h&&a?"transform ".concat(o,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return M.createElement("div",{tabIndex:-1,className:_,style:E,ref:function(j){r.wrapperNode=j}},c)}}])}(S.PureComponent),OMe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},xa={isSsr:OMe(),get:function(e){return xa[e]},set:function(e,n){if(typeof e=="string")xa[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){xa[i]=e[i]})}}};function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function dD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dD(Object(n),!0).forEach(function(r){sN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PMe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uq(r.key),r)}}function IMe(t,e,n){return e&&PMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Me(t,e,n){return e=F0(e),RMe(t,cq()?Reflect.construct(e,n||[],F0(t).constructor):e.apply(t,n))}function RMe(t,e){if(e&&(rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MMe(t)}function MMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cq=function(){return!!t})()}function F0(t){return F0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},F0(t)}function DMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uA(t,e)}function uA(t,e){return uA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uA(t,e)}function sN(t,e,n){return e=uq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uq(t){var e=LMe(t,"string");return rf(e)=="symbol"?e:e+""}function LMe(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FMe(t){return t.dataKey}function BMe(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(pMe,e)}var lr=function(t){function e(){return NMe(this,e),$Me(this,e,arguments)}return DMe(e,t),IMe(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,x=i.position,b=i.reverseDirection,v=i.useTranslate3d,y=i.viewBox,_=i.wrapperStyle,w=m??[];f&&w.length&&(w=QW(m.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),g,FMe));var E=w.length>0;return M.createElement(CMe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:a,coordinate:d,hasPayload:E,offset:p,position:x,reverseDirection:b,useTranslate3d:v,viewBox:y,wrapperStyle:_},BMe(c,fD(fD({},this.props),{},{payload:w})))}}])}(S.PureComponent);sN(lr,"displayName","Tooltip");sN(lr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!xa.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var zMe=xs,UMe=function(){return zMe.Date.now()},HMe=UMe,VMe=/\s/;function WMe(t){for(var e=t.length;e--&&VMe.test(t.charAt(e)););return e}var qMe=WMe,GMe=qMe,KMe=/^\s+/;function YMe(t){return t&&t.slice(0,GMe(t)+1).replace(KMe,"")}var XMe=YMe,ZMe=XMe,hD=Bl,JMe=qf,pD=NaN,QMe=/^[-+]0x[0-9a-f]+$/i,eDe=/^0b[01]+$/i,tDe=/^0o[0-7]+$/i,nDe=parseInt;function rDe(t){if(typeof t=="number")return t;if(JMe(t))return pD;if(hD(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=hD(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ZMe(t);var n=eDe.test(t);return n||tDe.test(t)?nDe(t.slice(2),n?2:8):QMe.test(t)?pD:+t}var dq=rDe,iDe=Bl,H1=HMe,mD=dq,aDe="Expected a function",sDe=Math.max,oDe=Math.min;function lDe(t,e,n){var r,i,a,s,o,l,c=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(aDe);e=mD(e)||0,iDe(n)&&(d=!!n.leading,f="maxWait"in n,a=f?sDe(mD(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function p(E){var A=r,j=i;return r=i=void 0,c=E,s=t.apply(j,A),s}function m(E){return c=E,o=setTimeout(b,e),d?p(E):s}function g(E){var A=E-l,j=E-c,T=e-A;return f?oDe(T,a-j):T}function x(E){var A=E-l,j=E-c;return l===void 0||A>=e||A<0||f&&j>=a}function b(){var E=H1();if(x(E))return v(E);o=setTimeout(b,g(E))}function v(E){return o=void 0,h&&r?p(E):(r=i=void 0,s)}function y(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function _(){return o===void 0?s:v(H1())}function w(){var E=H1(),A=x(E);if(r=arguments,i=this,l=E,A){if(o===void 0)return m(l);if(f)return clearTimeout(o),o=setTimeout(b,e),p(l)}return o===void 0&&(o=setTimeout(b,e)),s}return w.cancel=y,w.flush=_,w}var cDe=lDe,uDe=cDe,dDe=Bl,fDe="Expected a function";function hDe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(fDe);return dDe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),uDe(t,e,{leading:r,maxWait:e,trailing:i})}var pDe=hDe;const fq=at(pDe);function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function gD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ry(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(n),!0).forEach(function(r){mDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mDe(t,e,n){return e=gDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gDe(t){var e=yDe(t,"string");return gm(e)=="symbol"?e:e+""}function yDe(t,e){if(gm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vDe(t,e){return _De(t)||wDe(t,e)||bDe(t,e)||xDe()}function xDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bDe(t,e){if(t){if(typeof t=="string")return yD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yD(t,e)}}function yD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wDe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function _De(t){if(Array.isArray(t))return t}var bd=S.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,d=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,x=t.id,b=t.className,v=t.onResize,y=t.style,_=y===void 0?{}:y,w=S.useRef(null),E=S.useRef();E.current=v,S.useImperativeHandle(e,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var A=S.useState({containerWidth:i.width,containerHeight:i.height}),j=vDe(A,2),T=j[0],k=j[1],C=S.useCallback(function(F,R){k(function(D){var U=Math.round(F),V=Math.round(R);return D.containerWidth===U&&D.containerHeight===V?D:{containerWidth:U,containerHeight:V}})},[]);S.useEffect(function(){var F=function(B){var P,W=B[0].contentRect,G=W.width,$=W.height;C(G,$),(P=E.current)===null||P===void 0||P.call(E,G,$)};g>0&&(F=fq(F,g,{trailing:!0,leading:!1}));var R=new ResizeObserver(F),D=w.current.getBoundingClientRect(),U=D.width,V=D.height;return C(U,V),R.observe(w.current),function(){R.disconnect()}},[C,g]);var O=S.useMemo(function(){var F=T.containerWidth,R=T.containerHeight;if(F<0||R<0)return null;va(dc(s)||dc(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),va(!n||n>0,"The aspect(%s) must be greater than zero.",n);var D=dc(s)?F:s,U=dc(l)?R:l;n&&n>0&&(D?U=D/n:U&&(D=U*n),h&&U>h&&(U=h)),va(D>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,U,s,l,d,f,n);var V=!Array.isArray(p)&&Vs(p.type).endsWith("Chart");return M.Children.map(p,function(L){return oW.isElement(L)?S.cloneElement(L,Ry({width:D,height:U},V?{style:Ry({height:"100%",width:"100%",maxHeight:U,maxWidth:D},L.props.style)}:{})):L})},[n,p,l,h,f,d,T,s]);return M.createElement("div",{id:x?"".concat(x):void 0,className:Ke("recharts-responsive-container",b),style:Ry(Ry({},_),{},{width:s,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:w},O)}),af=function(e){return null};af.displayName="Cell";function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function vD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(n),!0).forEach(function(r){SDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SDe(t,e,n){return e=EDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EDe(t){var e=jDe(t,"string");return ym(e)=="symbol"?e:e+""}function jDe(t,e){if(ym(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tu={widthCache:{},cacheCount:0},ADe=2e3,TDe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},xD="recharts_measurement_span";function kDe(t){var e=dA({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var xp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||xa.isSsr)return{width:0,height:0};var r=kDe(n),i=JSON.stringify({text:e,copyStyle:r});if(Tu.widthCache[i])return Tu.widthCache[i];try{var a=document.getElementById(xD);a||(a=document.createElement("span"),a.setAttribute("id",xD),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=dA(dA({},TDe),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return Tu.widthCache[i]=l,++Tu.cacheCount>ADe&&(Tu.cacheCount=0,Tu.widthCache={}),l}catch{return{width:0,height:0}}},CDe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}function B0(t,e){return IDe(t)||PDe(t,e)||NDe(t,e)||ODe()}function ODe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NDe(t,e){if(t){if(typeof t=="string")return bD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bD(t,e)}}function bD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PDe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function IDe(t){if(Array.isArray(t))return t}function $De(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MDe(r.key),r)}}function RDe(t,e,n){return e&&wD(t.prototype,e),n&&wD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function MDe(t){var e=DDe(t,"string");return vm(e)=="symbol"?e:e+""}function DDe(t,e){if(vm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _D=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LDe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,FDe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},BDe=Object.keys(hq),Qu="NaN";function zDe(t,e){return t*hq[e]}var My=function(){function t(e,n){$De(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!LDe.test(n)&&(this.num=NaN,this.unit=""),BDe.includes(n)&&(this.num=zDe(e,n),this.unit="px")}return RDe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=FDe.exec(n))!==null&&r!==void 0?r:[],a=B0(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function pq(t){if(t.includes(Qu))return Qu;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=_D.exec(e))!==null&&n!==void 0?n:[],i=B0(r,4),a=i[1],s=i[2],o=i[3],l=My.parse(a??""),c=My.parse(o??""),d=s==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Qu;e=e.replace(_D,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=SD.exec(e))!==null&&f!==void 0?f:[],p=B0(h,4),m=p[1],g=p[2],x=p[3],b=My.parse(m??""),v=My.parse(x??""),y=g==="+"?b.add(v):b.subtract(v);if(y.isNaN())return Qu;e=e.replace(SD,y.toString())}return e}var ED=/\(([^()]*)\)/;function UDe(t){for(var e=t;e.includes("(");){var n=ED.exec(e),r=B0(n,2),i=r[1];e=e.replace(ED,pq(i))}return e}function HDe(t){var e=t.replace(/\s+/g,"");return e=UDe(e),e=pq(e),e}function VDe(t){try{return HDe(t)}catch{return Qu}}function V1(t){var e=VDe(t.slice(5,-1));return e===Qu?"":e}var WDe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],qDe=["dx","dy","angle","className","breakAll"];function fA(){return fA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fA.apply(this,arguments)}function jD(t,e){if(t==null)return{};var n=GDe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GDe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function AD(t,e){return ZDe(t)||XDe(t,e)||YDe(t,e)||KDe()}function KDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YDe(t,e){if(t){if(typeof t=="string")return TD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TD(t,e)}}function TD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XDe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function ZDe(t){if(Array.isArray(t))return t}var mq=/[ \f\n\r\t\v\u2028\u2029]+/,gq=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Ve(n)||(r?a=n.toString().split(""):a=n.toString().split(mq));var s=a.map(function(l){return{word:l,width:xp(l,i).width}}),o=r?0:xp("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},JDe=function(e,n,r,i,a){var s=e.maxLines,o=e.children,l=e.style,c=e.breakAll,d=de(s),f=o,h=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(U,V){var L=V.word,B=V.width,P=U[U.length-1];if(P&&(i==null||a||P.width+B+r<Number(i)))P.words.push(L),P.width+=B+r;else{var W={words:[L],width:B};U.push(W)}return U},[])},p=h(n),m=function(D){return D.reduce(function(U,V){return U.width>V.width?U:V})};if(!d)return p;for(var g="",x=function(D){var U=f.slice(0,D),V=gq({breakAll:c,style:l,children:U+g}).wordsWithComputedWidth,L=h(V),B=L.length>s||m(L).width>Number(i);return[B,L]},b=0,v=f.length-1,y=0,_;b<=v&&y<=f.length-1;){var w=Math.floor((b+v)/2),E=w-1,A=x(E),j=AD(A,2),T=j[0],k=j[1],C=x(w),O=AD(C,1),F=O[0];if(!T&&!F&&(b=w+1),T&&F&&(v=w-1),!T&&F){_=k;break}y++}return _||p},kD=function(e){var n=Ve(e)?[]:e.toString().split(mq);return[{words:n}]},QDe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((n||r)&&!xa.isSsr){var l,c,d=gq({breakAll:s,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,c=h}else return kD(i);return JDe({breakAll:s,children:i,maxLines:o,style:a},l,c,n,r)}return kD(i)},CD="#808080",Wc=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,p=h===void 0?"start":h,m=e.verticalAnchor,g=m===void 0?"end":m,x=e.fill,b=x===void 0?CD:x,v=jD(e,WDe),y=S.useMemo(function(){return QDe({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),_=v.dx,w=v.dy,E=v.angle,A=v.className,j=v.breakAll,T=jD(v,qDe);if(!jn(r)||!jn(a))return null;var k=r+(de(_)?_:0),C=a+(de(w)?w:0),O;switch(g){case"start":O=V1("calc(".concat(c,")"));break;case"middle":O=V1("calc(".concat((y.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:O=V1("calc(".concat(y.length-1," * -").concat(o,")"));break}var F=[];if(f){var R=y[0].width,D=v.width;F.push("scale(".concat((de(D)?D/R:1)/R,")"))}return E&&F.push("rotate(".concat(E,", ").concat(k,", ").concat(C,")")),F.length&&(T.transform=F.join(" ")),M.createElement("text",fA({},Pe(T,!0),{x:k,y:C,className:Ke("recharts-text",A),textAnchor:p,fill:b.includes("url")?CD:b}),y.map(function(U,V){var L=U.words.join(j?"":" ");return M.createElement("tspan",{x:k,dy:V===0?O:o,key:"".concat(L,"-").concat(V)},L)}))};function ll(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function eLe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oN(t){let e,n,r;t.length!==2?(e=ll,n=(o,l)=>ll(t(o),l),r=(o,l)=>t(o)-l):(e=t===ll||t===eLe?t:tLe,n=t,r=t);function i(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<0?c=f+1:d=f}while(c<d)}return c}function a(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function s(o,l,c=0,d=o.length){const f=i(o,l,c,d-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function tLe(){return 0}function yq(t){return t===null?NaN:+t}function*nLe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const rLe=oN(ll),Cg=rLe.right;oN(yq).center;class OD extends Map{constructor(e,n=sLe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(ND(this,e))}has(e){return super.has(ND(this,e))}set(e,n){return super.set(iLe(this,e),n)}delete(e){return super.delete(aLe(this,e))}}function ND({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function iLe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function aLe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function sLe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function oLe(t=ll){if(t===ll)return vq;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function vq(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const lLe=Math.sqrt(50),cLe=Math.sqrt(10),uLe=Math.sqrt(2);function z0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=lLe?10:a>=cLe?5:a>=uLe?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?z0(t,e,n*2):[o,l,c]}function hA(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?z0(e,t,n):z0(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function pA(t,e,n){return e=+e,t=+t,n=+n,z0(t,e,n)[2]}function mA(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?pA(e,t,n):pA(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function PD(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function ID(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function xq(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?vq:oLe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*f/l+h)),m=Math.min(r,Math.floor(e+(l-c)*f/l+h));xq(t,e,p,m,i)}const a=t[e];let s=n,o=r;for(jh(t,n,e),i(t[r],a)>0&&jh(t,n,r);s<o;){for(jh(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?jh(t,n,o):(++o,jh(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function jh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function dLe(t,e,n){if(t=Float64Array.from(nLe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return ID(t);if(e>=1)return PD(t);var r,i=(r-1)*e,a=Math.floor(i),s=PD(xq(t,a).subarray(0,a+1)),o=ID(t.subarray(a+1));return s+(o-s)*(i-a)}}function fLe(t,e,n=yq){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function hLe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function zi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function mo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const gA=Symbol("implicit");function lN(){var t=new OD,e=[],n=[],r=gA;function i(a){let s=t.get(a);if(s===void 0){if(r!==gA)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new OD;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return lN(e,n).unknown(r)},zi.apply(i,arguments),i}function xm(){var t=lN().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,c=0,d=.5;delete t.unknown;function f(){var h=e().length,p=i<r,m=p?i:r,g=p?r:i;a=(g-m)/Math.max(1,h-l+c*2),o&&(a=Math.floor(a)),m+=(g-m-a*(h-l))*d,s=a*(1-l),o&&(m=Math.round(m),s=Math.round(s));var x=hLe(h).map(function(b){return m+a*b});return n(p?x.reverse():x)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(o=!!h,f()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return xm(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},zi.apply(f(),arguments)}function bq(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return bq(e())},t}function bp(){return bq(xm.apply(null,arguments).paddingInner(1))}function cN(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function wq(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Og(){}var bm=.7,U0=1/bm,wd="\\s*([+-]?\\d+)\\s*",wm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ss="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pLe=/^#([0-9a-f]{3,8})$/,mLe=new RegExp(`^rgb\\(${wd},${wd},${wd}\\)$`),gLe=new RegExp(`^rgb\\(${ss},${ss},${ss}\\)$`),yLe=new RegExp(`^rgba\\(${wd},${wd},${wd},${wm}\\)$`),vLe=new RegExp(`^rgba\\(${ss},${ss},${ss},${wm}\\)$`),xLe=new RegExp(`^hsl\\(${wm},${ss},${ss}\\)$`),bLe=new RegExp(`^hsla\\(${wm},${ss},${ss},${wm}\\)$`),$D={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cN(Og,_m,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:RD,formatHex:RD,formatHex8:wLe,formatHsl:_Le,formatRgb:MD,toString:MD});function RD(){return this.rgb().formatHex()}function wLe(){return this.rgb().formatHex8()}function _Le(){return _q(this).formatHsl()}function MD(){return this.rgb().formatRgb()}function _m(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=pLe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?DD(e):n===3?new Cr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Dy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Dy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=mLe.exec(t))?new Cr(e[1],e[2],e[3],1):(e=gLe.exec(t))?new Cr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=yLe.exec(t))?Dy(e[1],e[2],e[3],e[4]):(e=vLe.exec(t))?Dy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=xLe.exec(t))?BD(e[1],e[2]/100,e[3]/100,1):(e=bLe.exec(t))?BD(e[1],e[2]/100,e[3]/100,e[4]):$D.hasOwnProperty(t)?DD($D[t]):t==="transparent"?new Cr(NaN,NaN,NaN,0):null}function DD(t){return new Cr(t>>16&255,t>>8&255,t&255,1)}function Dy(t,e,n,r){return r<=0&&(t=e=n=NaN),new Cr(t,e,n,r)}function SLe(t){return t instanceof Og||(t=_m(t)),t?(t=t.rgb(),new Cr(t.r,t.g,t.b,t.opacity)):new Cr}function yA(t,e,n,r){return arguments.length===1?SLe(t):new Cr(t,e,n,r??1)}function Cr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}cN(Cr,yA,wq(Og,{brighter(t){return t=t==null?U0:Math.pow(U0,t),new Cr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?bm:Math.pow(bm,t),new Cr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Cr(Tc(this.r),Tc(this.g),Tc(this.b),H0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:LD,formatHex:LD,formatHex8:ELe,formatRgb:FD,toString:FD}));function LD(){return`#${fc(this.r)}${fc(this.g)}${fc(this.b)}`}function ELe(){return`#${fc(this.r)}${fc(this.g)}${fc(this.b)}${fc((isNaN(this.opacity)?1:this.opacity)*255)}`}function FD(){const t=H0(this.opacity);return`${t===1?"rgb(":"rgba("}${Tc(this.r)}, ${Tc(this.g)}, ${Tc(this.b)}${t===1?")":`, ${t})`}`}function H0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Tc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function fc(t){return t=Tc(t),(t<16?"0":"")+t.toString(16)}function BD(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new oa(t,e,n,r)}function _q(t){if(t instanceof oa)return new oa(t.h,t.s,t.l,t.opacity);if(t instanceof Og||(t=_m(t)),!t)return new oa;if(t instanceof oa)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new oa(s,o,l,t.opacity)}function jLe(t,e,n,r){return arguments.length===1?_q(t):new oa(t,e,n,r??1)}function oa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}cN(oa,jLe,wq(Og,{brighter(t){return t=t==null?U0:Math.pow(U0,t),new oa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?bm:Math.pow(bm,t),new oa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Cr(W1(t>=240?t-240:t+120,i,r),W1(t,i,r),W1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new oa(zD(this.h),Ly(this.s),Ly(this.l),H0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=H0(this.opacity);return`${t===1?"hsl(":"hsla("}${zD(this.h)}, ${Ly(this.s)*100}%, ${Ly(this.l)*100}%${t===1?")":`, ${t})`}`}}));function zD(t){return t=(t||0)%360,t<0?t+360:t}function Ly(t){return Math.max(0,Math.min(1,t||0))}function W1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const uN=t=>()=>t;function ALe(t,e){return function(n){return t+n*e}}function TLe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function kLe(t){return(t=+t)==1?Sq:function(e,n){return n-e?TLe(e,n,t):uN(isNaN(e)?n:e)}}function Sq(t,e){var n=e-t;return n?ALe(t,n):uN(isNaN(t)?e:t)}const UD=function t(e){var n=kLe(e);function r(i,a){var s=n((i=yA(i)).r,(a=yA(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=Sq(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=t,r}(1);function CLe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function OLe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function NLe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=th(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function PLe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function V0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ILe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=th(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var vA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,q1=new RegExp(vA.source,"g");function $Le(t){return function(){return t}}function RLe(t){return function(e){return t(e)+""}}function MLe(t,e){var n=vA.lastIndex=q1.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=vA.exec(t))&&(i=q1.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:V0(r,i)})),n=q1.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?RLe(l[0].x):$Le(e):(e=l.length,function(c){for(var d=0,f;d<e;++d)o[(f=l[d]).i]=f.x(c);return o.join("")})}function th(t,e){var n=typeof e,r;return e==null||n==="boolean"?uN(e):(n==="number"?V0:n==="string"?(r=_m(e))?(e=r,UD):MLe:e instanceof _m?UD:e instanceof Date?PLe:OLe(e)?CLe:Array.isArray(e)?NLe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ILe:V0)(t,e)}function dN(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function DLe(t,e){e===void 0&&(e=t,t=th);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function LLe(t){return function(){return t}}function W0(t){return+t}var HD=[0,1];function fr(t){return t}function xA(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:LLe(isNaN(e)?NaN:.5)}function FLe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function BLe(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=xA(i,r),a=n(s,a)):(r=xA(r,i),a=n(a,s)),function(o){return a(r(o))}}function zLe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=xA(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=Cg(t,o,1,r)-1;return a[l](i[l](o))}}function Ng(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _w(){var t=HD,e=HD,n=th,r,i,a,s=fr,o,l,c;function d(){var h=Math.min(t.length,e.length);return s!==fr&&(s=FLe(t[0],t[h-1])),o=h>2?zLe:BLe,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((c||(c=o(e,t.map(r),V0)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,W0),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=dN,d()},f.clamp=function(h){return arguments.length?(s=h?!0:fr,d()):s!==fr},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return r=h,i=p,d()}}function fN(){return _w()(fr,fr)}function ULe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function q0(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function sf(t){return t=q0(Math.abs(t)),t?t[1]:NaN}function HLe(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function VLe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var WLe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sm(t){if(!(e=WLe.exec(t)))throw new Error("invalid format: "+t);var e;return new hN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Sm.prototype=hN.prototype;function hN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}hN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qLe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Eq;function GLe(t,e){var n=q0(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Eq=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+q0(t,Math.max(0,e+a-1))[0]}function VD(t,e){var n=q0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const WD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ULe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>VD(t*100,e),r:VD,s:GLe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function qD(t){return t}var GD=Array.prototype.map,KD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function KLe(t){var e=t.grouping===void 0||t.thousands===void 0?qD:HLe(GD.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?qD:VLe(GD.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=Sm(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,x=f.zero,b=f.width,v=f.comma,y=f.precision,_=f.trim,w=f.type;w==="n"?(v=!0,w="g"):WD[w]||(y===void 0&&(y=12),_=!0,w="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var E=g==="$"?n:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",A=g==="$"?r:/[%p]/.test(w)?s:"",j=WD[w],T=/[defgprs%]/.test(w);y=y===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function k(C){var O=E,F=A,R,D,U;if(w==="c")F=j(C)+F,C="";else{C=+C;var V=C<0||1/C<0;if(C=isNaN(C)?l:j(Math.abs(C),y),_&&(C=qLe(C)),V&&+C==0&&m!=="+"&&(V=!1),O=(V?m==="("?m:o:m==="-"||m==="("?"":m)+O,F=(w==="s"?KD[8+Eq/3]:"")+F+(V&&m==="("?")":""),T){for(R=-1,D=C.length;++R<D;)if(U=C.charCodeAt(R),48>U||U>57){F=(U===46?i+C.slice(R+1):C.slice(R))+F,C=C.slice(0,R);break}}}v&&!x&&(C=e(C,1/0));var L=O.length+C.length+F.length,B=L<b?new Array(b-L+1).join(h):"";switch(v&&x&&(C=e(B+C,B.length?b-F.length:1/0),B=""),p){case"<":C=O+C+F+B;break;case"=":C=O+B+C+F;break;case"^":C=B.slice(0,L=B.length>>1)+O+C+F+B.slice(L);break;default:C=B+O+C+F;break}return a(C)}return k.toString=function(){return f+""},k}function d(f,h){var p=c((f=Sm(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(sf(h)/3)))*3,g=Math.pow(10,-m),x=KD[8+m/3];return function(b){return p(g*b)+x}}return{format:c,formatPrefix:d}}var Fy,pN,jq;YLe({thousands:",",grouping:[3],currency:["$",""]});function YLe(t){return Fy=KLe(t),pN=Fy.format,jq=Fy.formatPrefix,Fy}function XLe(t){return Math.max(0,-sf(Math.abs(t)))}function ZLe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sf(e)/3)))*3-sf(Math.abs(t)))}function JLe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,sf(e)-sf(t))+1}function Aq(t,e,n,r){var i=mA(t,e,n),a;switch(r=Sm(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=ZLe(i,s))&&(r.precision=a),jq(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=JLe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=XLe(i))&&(r.precision=a-(r.type==="%")*2);break}}return pN(r)}function zl(t){var e=t.domain;return t.ticks=function(n){var r=e();return hA(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Aq(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,d=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);d-- >0;){if(c=pA(s,o,n),c===l)return r[i]=s,r[a]=o,e(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function G0(){var t=fN();return t.copy=function(){return Ng(t,G0())},zi.apply(t,arguments),zl(t)}function Tq(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,W0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Tq(t).unknown(e)},t=arguments.length?Array.from(t,W0):[0,1],zl(n)}function kq(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function YD(t){return Math.log(t)}function XD(t){return Math.exp(t)}function QLe(t){return-Math.log(-t)}function e4e(t){return-Math.exp(-t)}function t4e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function n4e(t){return t===10?t4e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function r4e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function ZD(t){return(e,n)=>-t(-e,n)}function mN(t){const e=t(YD,XD),n=e.domain;let r=10,i,a;function s(){return i=r4e(r),a=n4e(r),n()[0]<0?(i=ZD(i),a=ZD(a),t(QLe,e4e)):t(YD,XD),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),p=i(d),m,g;const x=o==null?10:+o;let b=[];if(!(r%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<r;++m)if(g=h<0?m/a(-h):m*a(h),!(g<c)){if(g>d)break;b.push(g)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<c)){if(g>d)break;b.push(g)}b.length*2<x&&(b=hA(c,d,x))}else b=hA(h,p,Math.min(p-h,x)).map(a);return f?b.reverse():b},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Sm(l)).precision==null&&(l.trim=!0),l=pN(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},e.nice=()=>n(kq(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function Cq(){const t=mN(_w()).domain([1,10]);return t.copy=()=>Ng(t,Cq()).base(t.base()),zi.apply(t,arguments),t}function JD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function QD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function gN(t){var e=1,n=t(JD(e),QD(e));return n.constant=function(r){return arguments.length?t(JD(e=+r),QD(e)):e},zl(n)}function Oq(){var t=gN(_w());return t.copy=function(){return Ng(t,Oq()).constant(t.constant())},zi.apply(t,arguments)}function eL(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function i4e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function a4e(t){return t<0?-t*t:t*t}function yN(t){var e=t(fr,fr),n=1;function r(){return n===1?t(fr,fr):n===.5?t(i4e,a4e):t(eL(n),eL(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},zl(e)}function vN(){var t=yN(_w());return t.copy=function(){return Ng(t,vN()).exponent(t.exponent())},zi.apply(t,arguments),t}function s4e(){return vN.apply(null,arguments).exponent(.5)}function tL(t){return Math.sign(t)*t*t}function o4e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Nq(){var t=fN(),e=[0,1],n=!1,r;function i(a){var s=o4e(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(tL(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,W0)).map(tL)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Nq(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},zi.apply(i,arguments),zl(i)}function Pq(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=fLe(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[Cg(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(ll),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Pq().domain(t).range(e).unknown(r)},zi.apply(a,arguments)}function Iq(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Cg(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return Iq().domain([t,e]).range(i).unknown(a)},zi.apply(zl(s),arguments)}function $q(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Cg(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return $q().domain(t).range(e).unknown(n)},zi.apply(i,arguments)}const G1=new Date,K1=new Date;function kn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>kn(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(G1.setTime(+a),K1.setTime(+s),t(G1),t(K1),Math.floor(n(G1,K1))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const K0=kn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);K0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?kn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):K0);K0.range;const Rs=1e3,Ni=Rs*60,Ms=Ni*60,ao=Ms*24,xN=ao*7,nL=ao*30,Y1=ao*365,hc=kn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Rs)},(t,e)=>(e-t)/Rs,t=>t.getUTCSeconds());hc.range;const bN=kn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Rs)},(t,e)=>{t.setTime(+t+e*Ni)},(t,e)=>(e-t)/Ni,t=>t.getMinutes());bN.range;const wN=kn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ni)},(t,e)=>(e-t)/Ni,t=>t.getUTCMinutes());wN.range;const _N=kn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Rs-t.getMinutes()*Ni)},(t,e)=>{t.setTime(+t+e*Ms)},(t,e)=>(e-t)/Ms,t=>t.getHours());_N.range;const SN=kn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ms)},(t,e)=>(e-t)/Ms,t=>t.getUTCHours());SN.range;const Pg=kn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ni)/ao,t=>t.getDate()-1);Pg.range;const Sw=kn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ao,t=>t.getUTCDate()-1);Sw.range;const Rq=kn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ao,t=>Math.floor(t/ao));Rq.range;function uu(t){return kn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ni)/xN)}const Ew=uu(0),Y0=uu(1),l4e=uu(2),c4e=uu(3),of=uu(4),u4e=uu(5),d4e=uu(6);Ew.range;Y0.range;l4e.range;c4e.range;of.range;u4e.range;d4e.range;function du(t){return kn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/xN)}const jw=du(0),X0=du(1),f4e=du(2),h4e=du(3),lf=du(4),p4e=du(5),m4e=du(6);jw.range;X0.range;f4e.range;h4e.range;lf.range;p4e.range;m4e.range;const EN=kn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());EN.range;const jN=kn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());jN.range;const so=kn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());so.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});so.range;const oo=kn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());oo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});oo.range;function Mq(t,e,n,r,i,a){const s=[[hc,1,Rs],[hc,5,5*Rs],[hc,15,15*Rs],[hc,30,30*Rs],[a,1,Ni],[a,5,5*Ni],[a,15,15*Ni],[a,30,30*Ni],[i,1,Ms],[i,3,3*Ms],[i,6,6*Ms],[i,12,12*Ms],[r,1,ao],[r,2,2*ao],[n,1,xN],[e,1,nL],[e,3,3*nL],[t,1,Y1]];function o(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const p=f&&typeof f.range=="function"?f:l(c,d,f),m=p?p.range(c,+d+1):[];return h?m.reverse():m}function l(c,d,f){const h=Math.abs(d-c)/f,p=oN(([,,x])=>x).right(s,h);if(p===s.length)return t.every(mA(c/Y1,d/Y1,f));if(p===0)return K0.every(Math.max(mA(c,d,f),1));const[m,g]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return m.every(g)}return[o,l]}const[g4e,y4e]=Mq(oo,jN,jw,Rq,SN,wN),[v4e,x4e]=Mq(so,EN,Ew,Pg,_N,bN);function X1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Z1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ah(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function b4e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=Th(i),d=kh(i),f=Th(a),h=kh(a),p=Th(s),m=kh(s),g=Th(o),x=kh(o),b=Th(l),v=kh(l),y={a:V,A:L,b:B,B:P,c:null,d:lL,e:lL,f:H4e,g:Q4e,G:t5e,H:B4e,I:z4e,j:U4e,L:Dq,m:V4e,M:W4e,p:W,q:G,Q:dL,s:fL,S:q4e,u:G4e,U:K4e,V:Y4e,w:X4e,W:Z4e,x:null,X:null,y:J4e,Y:e5e,Z:n5e,"%":uL},_={a:$,A:ee,b:ie,B:I,c:null,d:cL,e:cL,f:s5e,g:g5e,G:v5e,H:r5e,I:i5e,j:a5e,L:Fq,m:o5e,M:l5e,p:N,q:K,Q:dL,s:fL,S:c5e,u:u5e,U:d5e,V:f5e,w:h5e,W:p5e,x:null,X:null,y:m5e,Y:y5e,Z:x5e,"%":uL},w={a:k,A:C,b:O,B:F,c:R,d:sL,e:sL,f:M4e,g:aL,G:iL,H:oL,I:oL,j:P4e,L:R4e,m:N4e,M:I4e,p:T,q:O4e,Q:L4e,s:F4e,S:$4e,u:j4e,U:A4e,V:T4e,w:E4e,W:k4e,x:D,X:U,y:aL,Y:iL,Z:C4e,"%":D4e};y.x=E(n,y),y.X=E(r,y),y.c=E(e,y),_.x=E(n,_),_.X=E(r,_),_.c=E(e,_);function E(z,Z){return function(J){var Y=[],me=-1,le=0,xe=z.length,oe,Be,Te;for(J instanceof Date||(J=new Date(+J));++me<xe;)z.charCodeAt(me)===37&&(Y.push(z.slice(le,me)),(Be=rL[oe=z.charAt(++me)])!=null?oe=z.charAt(++me):Be=oe==="e"?" ":"0",(Te=Z[oe])&&(oe=Te(J,Be)),Y.push(oe),le=me+1);return Y.push(z.slice(le,me)),Y.join("")}}function A(z,Z){return function(J){var Y=Ah(1900,void 0,1),me=j(Y,z,J+="",0),le,xe;if(me!=J.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(Z&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(le=Z1(Ah(Y.y,0,1)),xe=le.getUTCDay(),le=xe>4||xe===0?X0.ceil(le):X0(le),le=Sw.offset(le,(Y.V-1)*7),Y.y=le.getUTCFullYear(),Y.m=le.getUTCMonth(),Y.d=le.getUTCDate()+(Y.w+6)%7):(le=X1(Ah(Y.y,0,1)),xe=le.getDay(),le=xe>4||xe===0?Y0.ceil(le):Y0(le),le=Pg.offset(le,(Y.V-1)*7),Y.y=le.getFullYear(),Y.m=le.getMonth(),Y.d=le.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),xe="Z"in Y?Z1(Ah(Y.y,0,1)).getUTCDay():X1(Ah(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(xe+5)%7:Y.w+Y.U*7-(xe+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,Z1(Y)):X1(Y)}}function j(z,Z,J,Y){for(var me=0,le=Z.length,xe=J.length,oe,Be;me<le;){if(Y>=xe)return-1;if(oe=Z.charCodeAt(me++),oe===37){if(oe=Z.charAt(me++),Be=w[oe in rL?Z.charAt(me++):oe],!Be||(Y=Be(z,J,Y))<0)return-1}else if(oe!=J.charCodeAt(Y++))return-1}return Y}function T(z,Z,J){var Y=c.exec(Z.slice(J));return Y?(z.p=d.get(Y[0].toLowerCase()),J+Y[0].length):-1}function k(z,Z,J){var Y=p.exec(Z.slice(J));return Y?(z.w=m.get(Y[0].toLowerCase()),J+Y[0].length):-1}function C(z,Z,J){var Y=f.exec(Z.slice(J));return Y?(z.w=h.get(Y[0].toLowerCase()),J+Y[0].length):-1}function O(z,Z,J){var Y=b.exec(Z.slice(J));return Y?(z.m=v.get(Y[0].toLowerCase()),J+Y[0].length):-1}function F(z,Z,J){var Y=g.exec(Z.slice(J));return Y?(z.m=x.get(Y[0].toLowerCase()),J+Y[0].length):-1}function R(z,Z,J){return j(z,e,Z,J)}function D(z,Z,J){return j(z,n,Z,J)}function U(z,Z,J){return j(z,r,Z,J)}function V(z){return s[z.getDay()]}function L(z){return a[z.getDay()]}function B(z){return l[z.getMonth()]}function P(z){return o[z.getMonth()]}function W(z){return i[+(z.getHours()>=12)]}function G(z){return 1+~~(z.getMonth()/3)}function $(z){return s[z.getUTCDay()]}function ee(z){return a[z.getUTCDay()]}function ie(z){return l[z.getUTCMonth()]}function I(z){return o[z.getUTCMonth()]}function N(z){return i[+(z.getUTCHours()>=12)]}function K(z){return 1+~~(z.getUTCMonth()/3)}return{format:function(z){var Z=E(z+="",y);return Z.toString=function(){return z},Z},parse:function(z){var Z=A(z+="",!1);return Z.toString=function(){return z},Z},utcFormat:function(z){var Z=E(z+="",_);return Z.toString=function(){return z},Z},utcParse:function(z){var Z=A(z+="",!0);return Z.toString=function(){return z},Z}}}var rL={"-":"",_:" ",0:"0"},Mn=/^\s*\d+/,w4e=/^%/,_4e=/[\\^$*+?|[\]().{}]/g;function ht(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function S4e(t){return t.replace(_4e,"\\$&")}function Th(t){return new RegExp("^(?:"+t.map(S4e).join("|")+")","i")}function kh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function E4e(t,e,n){var r=Mn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function j4e(t,e,n){var r=Mn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function A4e(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function T4e(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function k4e(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function iL(t,e,n){var r=Mn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function aL(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function C4e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function O4e(t,e,n){var r=Mn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function N4e(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function sL(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function P4e(t,e,n){var r=Mn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function oL(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function I4e(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function $4e(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function R4e(t,e,n){var r=Mn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function M4e(t,e,n){var r=Mn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function D4e(t,e,n){var r=w4e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function L4e(t,e,n){var r=Mn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function F4e(t,e,n){var r=Mn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function lL(t,e){return ht(t.getDate(),e,2)}function B4e(t,e){return ht(t.getHours(),e,2)}function z4e(t,e){return ht(t.getHours()%12||12,e,2)}function U4e(t,e){return ht(1+Pg.count(so(t),t),e,3)}function Dq(t,e){return ht(t.getMilliseconds(),e,3)}function H4e(t,e){return Dq(t,e)+"000"}function V4e(t,e){return ht(t.getMonth()+1,e,2)}function W4e(t,e){return ht(t.getMinutes(),e,2)}function q4e(t,e){return ht(t.getSeconds(),e,2)}function G4e(t){var e=t.getDay();return e===0?7:e}function K4e(t,e){return ht(Ew.count(so(t)-1,t),e,2)}function Lq(t){var e=t.getDay();return e>=4||e===0?of(t):of.ceil(t)}function Y4e(t,e){return t=Lq(t),ht(of.count(so(t),t)+(so(t).getDay()===4),e,2)}function X4e(t){return t.getDay()}function Z4e(t,e){return ht(Y0.count(so(t)-1,t),e,2)}function J4e(t,e){return ht(t.getFullYear()%100,e,2)}function Q4e(t,e){return t=Lq(t),ht(t.getFullYear()%100,e,2)}function e5e(t,e){return ht(t.getFullYear()%1e4,e,4)}function t5e(t,e){var n=t.getDay();return t=n>=4||n===0?of(t):of.ceil(t),ht(t.getFullYear()%1e4,e,4)}function n5e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ht(e/60|0,"0",2)+ht(e%60,"0",2)}function cL(t,e){return ht(t.getUTCDate(),e,2)}function r5e(t,e){return ht(t.getUTCHours(),e,2)}function i5e(t,e){return ht(t.getUTCHours()%12||12,e,2)}function a5e(t,e){return ht(1+Sw.count(oo(t),t),e,3)}function Fq(t,e){return ht(t.getUTCMilliseconds(),e,3)}function s5e(t,e){return Fq(t,e)+"000"}function o5e(t,e){return ht(t.getUTCMonth()+1,e,2)}function l5e(t,e){return ht(t.getUTCMinutes(),e,2)}function c5e(t,e){return ht(t.getUTCSeconds(),e,2)}function u5e(t){var e=t.getUTCDay();return e===0?7:e}function d5e(t,e){return ht(jw.count(oo(t)-1,t),e,2)}function Bq(t){var e=t.getUTCDay();return e>=4||e===0?lf(t):lf.ceil(t)}function f5e(t,e){return t=Bq(t),ht(lf.count(oo(t),t)+(oo(t).getUTCDay()===4),e,2)}function h5e(t){return t.getUTCDay()}function p5e(t,e){return ht(X0.count(oo(t)-1,t),e,2)}function m5e(t,e){return ht(t.getUTCFullYear()%100,e,2)}function g5e(t,e){return t=Bq(t),ht(t.getUTCFullYear()%100,e,2)}function y5e(t,e){return ht(t.getUTCFullYear()%1e4,e,4)}function v5e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?lf(t):lf.ceil(t),ht(t.getUTCFullYear()%1e4,e,4)}function x5e(){return"+0000"}function uL(){return"%"}function dL(t){return+t}function fL(t){return Math.floor(+t/1e3)}var ku,zq,Uq;b5e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function b5e(t){return ku=b4e(t),zq=ku.format,ku.parse,Uq=ku.utcFormat,ku.utcParse,ku}function w5e(t){return new Date(t)}function _5e(t){return t instanceof Date?+t:+new Date(+t)}function AN(t,e,n,r,i,a,s,o,l,c){var d=fN(),f=d.invert,h=d.domain,p=c(".%L"),m=c(":%S"),g=c("%I:%M"),x=c("%I %p"),b=c("%a %d"),v=c("%b %d"),y=c("%B"),_=c("%Y");function w(E){return(l(E)<E?p:o(E)<E?m:s(E)<E?g:a(E)<E?x:r(E)<E?i(E)<E?b:v:n(E)<E?y:_)(E)}return d.invert=function(E){return new Date(f(E))},d.domain=function(E){return arguments.length?h(Array.from(E,_5e)):h().map(w5e)},d.ticks=function(E){var A=h();return t(A[0],A[A.length-1],E??10)},d.tickFormat=function(E,A){return A==null?w:c(A)},d.nice=function(E){var A=h();return(!E||typeof E.range!="function")&&(E=e(A[0],A[A.length-1],E??10)),E?h(kq(A,E)):d},d.copy=function(){return Ng(d,AN(t,e,n,r,i,a,s,o,l,c))},d}function S5e(){return zi.apply(AN(v4e,x4e,so,EN,Ew,Pg,_N,bN,hc,zq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function E5e(){return zi.apply(AN(g4e,y4e,oo,jN,jw,Sw,SN,wN,hc,Uq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Aw(){var t=0,e=1,n,r,i,a,s=fr,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,s=f(p,m),c):[s(0),s(1)]}}return c.range=d(th),c.rangeRound=d(dN),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function Ul(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Hq(){var t=zl(Aw()(fr));return t.copy=function(){return Ul(t,Hq())},mo.apply(t,arguments)}function Vq(){var t=mN(Aw()).domain([1,10]);return t.copy=function(){return Ul(t,Vq()).base(t.base())},mo.apply(t,arguments)}function Wq(){var t=gN(Aw());return t.copy=function(){return Ul(t,Wq()).constant(t.constant())},mo.apply(t,arguments)}function TN(){var t=yN(Aw());return t.copy=function(){return Ul(t,TN()).exponent(t.exponent())},mo.apply(t,arguments)}function j5e(){return TN.apply(null,arguments).exponent(.5)}function qq(){var t=[],e=fr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Cg(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ll),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>dLe(t,a/r))},n.copy=function(){return qq(e).domain(t)},mo.apply(n,arguments)}function Tw(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,c=fr,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(r*g<r*a?o:l),c(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=d(t=+t),a=d(e=+e),s=d(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(c=g,p):c};function m(g){return function(x){var b,v,y;return arguments.length?([b,v,y]=x,c=DLe(g,[b,v,y]),p):[c(0),c(.5),c(1)]}}return p.range=m(th),p.rangeRound=m(dN),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,i=g(t),a=g(e),s=g(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function Gq(){var t=zl(Tw()(fr));return t.copy=function(){return Ul(t,Gq())},mo.apply(t,arguments)}function Kq(){var t=mN(Tw()).domain([.1,1,10]);return t.copy=function(){return Ul(t,Kq()).base(t.base())},mo.apply(t,arguments)}function Yq(){var t=gN(Tw());return t.copy=function(){return Ul(t,Yq()).constant(t.constant())},mo.apply(t,arguments)}function kN(){var t=yN(Tw());return t.copy=function(){return Ul(t,kN()).exponent(t.exponent())},mo.apply(t,arguments)}function A5e(){return kN.apply(null,arguments).exponent(.5)}const hL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:xm,scaleDiverging:Gq,scaleDivergingLog:Kq,scaleDivergingPow:kN,scaleDivergingSqrt:A5e,scaleDivergingSymlog:Yq,scaleIdentity:Tq,scaleImplicit:gA,scaleLinear:G0,scaleLog:Cq,scaleOrdinal:lN,scalePoint:bp,scalePow:vN,scaleQuantile:Pq,scaleQuantize:Iq,scaleRadial:Nq,scaleSequential:Hq,scaleSequentialLog:Vq,scaleSequentialPow:TN,scaleSequentialQuantile:qq,scaleSequentialSqrt:j5e,scaleSequentialSymlog:Wq,scaleSqrt:s4e,scaleSymlog:Oq,scaleThreshold:$q,scaleTime:S5e,scaleUtc:E5e,tickFormat:Aq},Symbol.toStringTag,{value:"Module"}));var T5e=qf;function k5e(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(s!=null&&(o===void 0?s===s&&!T5e(s):n(s,o)))var o=s,l=a}return l}var kw=k5e;function C5e(t,e){return t>e}var Xq=C5e,O5e=kw,N5e=Xq,P5e=eh;function I5e(t){return t&&t.length?O5e(t,P5e,N5e):void 0}var $5e=I5e;const Ko=at($5e);function R5e(t,e){return t<e}var Zq=R5e,M5e=kw,D5e=Zq,L5e=eh;function F5e(t){return t&&t.length?M5e(t,L5e,D5e):void 0}var B5e=F5e;const Cw=at(B5e);var z5e=UO,U5e=bs,H5e=aq,V5e=zr;function W5e(t,e){var n=V5e(t)?z5e:H5e;return n(t,U5e(e))}var q5e=W5e,G5e=rq,K5e=q5e;function Y5e(t,e){return G5e(K5e(t,e),1)}var X5e=Y5e;const Z5e=at(X5e);var J5e=rN;function Q5e(t,e){return J5e(t,e)}var e3e=Q5e;const qc=at(e3e);var nh=1e9,t3e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ON,Gt=!0,Di="[DecimalError] ",kc=Di+"Invalid argument: ",CN=Di+"Exponent out of range: ",rh=Math.floor,ic=Math.pow,n3e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Zr,Pn=1e7,zt=7,Jq=9007199254740991,Z0=rh(Jq/zt),je={};je.absoluteValue=je.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};je.comparedTo=je.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};je.decimalPlaces=je.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*zt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};je.dividedBy=je.div=function(t){return Ws(this,new this.constructor(t))};je.dividedToIntegerBy=je.idiv=function(t){var e=this,n=e.constructor;return jt(Ws(e,new n(t),0,1),n.precision)};je.equals=je.eq=function(t){return!this.cmp(t)};je.exponent=function(){return xn(this)};je.greaterThan=je.gt=function(t){return this.cmp(t)>0};je.greaterThanOrEqualTo=je.gte=function(t){return this.cmp(t)>=0};je.isInteger=je.isint=function(){return this.e>this.d.length-2};je.isNegative=je.isneg=function(){return this.s<0};je.isPositive=je.ispos=function(){return this.s>0};je.isZero=function(){return this.s===0};je.lessThan=je.lt=function(t){return this.cmp(t)<0};je.lessThanOrEqualTo=je.lte=function(t){return this.cmp(t)<1};je.logarithm=je.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Zr))throw Error(Di+"NaN");if(n.s<1)throw Error(Di+(n.s?"NaN":"-Infinity"));return n.eq(Zr)?new r(0):(Gt=!1,e=Ws(Em(n,a),Em(t,a),a),Gt=!0,jt(e,i))};je.minus=je.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?tG(e,t):Qq(e,(t.s=-t.s,t))};je.modulo=je.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Di+"NaN");return n.s?(Gt=!1,e=Ws(n,t,0,1).times(t),Gt=!0,n.minus(e)):jt(new r(n),i)};je.naturalExponential=je.exp=function(){return eG(this)};je.naturalLogarithm=je.ln=function(){return Em(this)};je.negated=je.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};je.plus=je.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Qq(e,t):tG(e,(t.s=-t.s,t))};je.precision=je.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(kc+t);if(e=xn(i)+1,r=i.d.length-1,n=r*zt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};je.squareRoot=je.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Di+"NaN")}for(t=xn(o),Gt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Za(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=rh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(Ws(o,a,s+2)).times(.5),Za(a.d).slice(0,s)===(e=Za(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(jt(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return Gt=!0,jt(r,n)};je.times=je.mul=function(t){var e,n,r,i,a,s,o,l,c,d=this,f=d.constructor,h=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+p[r]*h[i-r-1]+e,a[i--]=o%Pn|0,e=o/Pn|0;a[i]=(a[i]+e)%Pn|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Gt?jt(t,f.precision):t};je.toDecimalPlaces=je.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ms(t,0,nh),e===void 0?e=r.rounding:ms(e,0,8),jt(n,t+xn(n)+1,e))};je.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Gc(r,!0):(ms(t,0,nh),e===void 0?e=i.rounding:ms(e,0,8),r=jt(new i(r),t+1,e),n=Gc(r,!0,t+1)),n};je.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Gc(i):(ms(t,0,nh),e===void 0?e=a.rounding:ms(e,0,8),r=jt(new a(i),t+xn(i)+1,e),n=Gc(r.abs(),!1,t+xn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};je.toInteger=je.toint=function(){var t=this,e=t.constructor;return jt(new e(t),xn(t)+1,e.rounding)};je.toNumber=function(){return+this};je.toPower=je.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(Zr);if(o=new l(o),!o.s){if(t.s<1)throw Error(Di+"Infinity");return o}if(o.eq(Zr))return o;if(r=l.precision,t.eq(Zr))return jt(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=d<0?-d:d)<=Jq){for(i=new l(Zr),e=Math.ceil(r/zt+4),Gt=!1;n%2&&(i=i.times(o),mL(i.d,e)),n=rh(n/2),n!==0;)o=o.times(o),mL(o.d,e);return Gt=!0,t.s<0?new l(Zr).div(i):jt(i,r)}}else if(a<0)throw Error(Di+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Gt=!1,i=t.times(Em(o,r+c)),Gt=!0,i=eG(i),i.s=a,i};je.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=xn(i),r=Gc(i,n<=a.toExpNeg||n>=a.toExpPos)):(ms(t,1,nh),e===void 0?e=a.rounding:ms(e,0,8),i=jt(new a(i),t,e),n=xn(i),r=Gc(i,t<=n||n<=a.toExpNeg,t)),r};je.toSignificantDigits=je.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ms(t,1,nh),e===void 0?e=r.rounding:ms(e,0,8)),jt(new r(n),t,e)};je.toString=je.valueOf=je.val=je.toJSON=je[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=xn(t),n=t.constructor;return Gc(t,e<=n.toExpNeg||e>=n.toExpPos)};function Qq(t,e){var n,r,i,a,s,o,l,c,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Gt?jt(e,f):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(f/zt),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/Pn|0,l[a]%=Pn;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Gt?jt(e,f):e}function ms(t,e,n){if(t!==~~t||t<e||t>n)throw Error(kc+t)}function Za(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=zt-r.length,n&&(a+=Po(n)),a+=r;s=t[e],r=s+"",n=zt-r.length,n&&(a+=Po(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Ws=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%Pn|0,s=a/Pn|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Pn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,d,f,h,p,m,g,x,b,v,y,_,w,E,A,j,T=r.constructor,k=r.s==i.s?1:-1,C=r.d,O=i.d;if(!r.s)return new T(r);if(!i.s)throw Error(Di+"Division by zero");for(l=r.e-i.e,A=O.length,w=C.length,p=new T(k),m=p.d=[],c=0;O[c]==(C[c]||0);)++c;if(O[c]>(C[c]||0)&&--l,a==null?v=a=T.precision:s?v=a+(xn(r)-xn(i))+1:v=a,v<0)return new T(0);if(v=v/zt+2|0,c=0,A==1)for(d=0,O=O[0],v++;(c<w||d)&&v--;c++)y=d*Pn+(C[c]||0),m[c]=y/O|0,d=y%O|0;else{for(d=Pn/(O[0]+1)|0,d>1&&(O=t(O,d),C=t(C,d),A=O.length,w=C.length),_=A,g=C.slice(0,A),x=g.length;x<A;)g[x++]=0;j=O.slice(),j.unshift(0),E=O[0],O[1]>=Pn/2&&++E;do d=0,o=e(O,g,A,x),o<0?(b=g[0],A!=x&&(b=b*Pn+(g[1]||0)),d=b/E|0,d>1?(d>=Pn&&(d=Pn-1),f=t(O,d),h=f.length,x=g.length,o=e(f,g,h,x),o==1&&(d--,n(f,A<h?j:O,h))):(d==0&&(o=d=1),f=O.slice()),h=f.length,h<x&&f.unshift(0),n(g,f,x),o==-1&&(x=g.length,o=e(O,g,A,x),o<1&&(d++,n(g,A<x?j:O,x))),x=g.length):o===0&&(d++,g=[0]),m[c++]=d,o&&g[0]?g[x++]=C[_]||0:(g=[C[_]],x=1);while((_++<w||g[0]!==void 0)&&v--)}return m[0]||m.shift(),p.e=l,jt(p,s?a+xn(p)+1:a)}}();function eG(t,e){var n,r,i,a,s,o,l=0,c=0,d=t.constructor,f=d.precision;if(xn(t)>16)throw Error(CN+xn(t));if(!t.s)return new d(Zr);for(e==null?(Gt=!1,o=f):o=e,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(ic(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new d(Zr),d.precision=o;;){if(i=jt(i.times(t),o),n=n.times(++l),s=a.plus(Ws(i,n,o)),Za(s.d).slice(0,o)===Za(a.d).slice(0,o)){for(;c--;)a=jt(a.times(a),o);return d.precision=f,e==null?(Gt=!0,jt(a,f)):a}a=s}}function xn(t){for(var e=t.e*zt,n=t.d[0];n>=10;n/=10)e++;return e}function J1(t,e,n){if(e>t.LN10.sd())throw Gt=!0,n&&(t.precision=n),Error(Di+"LN10 precision limit exceeded");return jt(new t(t.LN10),e)}function Po(t){for(var e="";t--;)e+="0";return e}function Em(t,e){var n,r,i,a,s,o,l,c,d,f=1,h=10,p=t,m=p.d,g=p.constructor,x=g.precision;if(p.s<1)throw Error(Di+(p.s?"NaN":"-Infinity"));if(p.eq(Zr))return new g(0);if(e==null?(Gt=!1,c=x):c=e,p.eq(10))return e==null&&(Gt=!0),J1(g,c);if(c+=h,g.precision=c,n=Za(m),r=n.charAt(0),a=xn(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Za(p.d),r=n.charAt(0),f++;a=xn(p),r>1?(p=new g("0."+n),a++):p=new g(r+"."+n.slice(1))}else return l=J1(g,c+2,x).times(a+""),p=Em(new g(r+"."+n.slice(1)),c-h).plus(l),g.precision=x,e==null?(Gt=!0,jt(p,x)):p;for(o=s=p=Ws(p.minus(Zr),p.plus(Zr),c),d=jt(p.times(p),c),i=3;;){if(s=jt(s.times(d),c),l=o.plus(Ws(s,new g(i),c)),Za(l.d).slice(0,c)===Za(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(J1(g,c+2,x).times(a+""))),o=Ws(o,new g(f),c),g.precision=x,e==null?(Gt=!0,jt(o,x)):o;o=l,i+=2}}function pL(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=rh(n/zt),t.d=[],r=(n+1)%zt,n<0&&(r+=zt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=zt;r<i;)t.d.push(+e.slice(r,r+=zt));e=e.slice(r),r=zt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Gt&&(t.e>Z0||t.e<-Z0))throw Error(CN+n)}else t.s=0,t.e=0,t.d=[0];return t}function jt(t,e,n){var r,i,a,s,o,l,c,d,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=zt,i=e,c=f[d=0];else{if(d=Math.ceil((r+1)/zt),a=f.length,d>=a)return t;for(c=a=f[d],s=1;a>=10;a/=10)s++;r%=zt,i=r-zt+s}if(n!==void 0&&(a=ic(10,s-i-1),o=c/a%10|0,l=e<0||f[d+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/ic(10,s-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=xn(t),f.length=1,e=e-a-1,f[0]=ic(10,(zt-e%zt)%zt),t.e=rh(-e/zt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=ic(10,zt-r),f[d]=i>0?(c/ic(10,s-i)%ic(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==Pn&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=Pn)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Gt&&(t.e>Z0||t.e<-Z0))throw Error(CN+xn(t));return t}function tG(t,e){var n,r,i,a,s,o,l,c,d,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Gt?jt(e,p):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),s=c-r,s){for(d=s<0,d?(n=l,s=-s,o=f.length):(n=f,r=c,o=l.length),i=Math.max(Math.ceil(p/zt),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Pn-1;--l[a],l[i]+=Pn}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Gt?jt(e,p):e):new h(0)}function Gc(t,e,n){var r,i=xn(t),a=Za(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Po(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Po(-i-1)+a,n&&(r=n-s)>0&&(a+=Po(r))):i>=s?(a+=Po(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Po(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Po(r))),t.s<0?"-"+a:a}function mL(t,e){if(t.length>e)return t.length=e,!0}function nG(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(kc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return pL(s,a.toString())}else if(typeof a!="string")throw Error(kc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,n3e.test(a))pL(s,a);else throw Error(kc+a)}if(i.prototype=je,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=nG,i.config=i.set=r3e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function r3e(t){if(!t||typeof t!="object")throw Error(Di+"Object expected");var e,n,r,i=["precision",1,nh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(rh(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(kc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(kc+n+": "+r);return this}var ON=nG(t3e);Zr=new ON(1);const Et=ON;function i3e(t){return l3e(t)||o3e(t)||s3e(t)||a3e()}function a3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s3e(t,e){if(t){if(typeof t=="string")return bA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bA(t,e)}}function o3e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function l3e(t){if(Array.isArray(t))return bA(t)}function bA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var c3e=function(e){return e},rG={"@@functional/placeholder":!0},iG=function(e){return e===rG},gL=function(e){return function n(){return arguments.length===0||arguments.length===1&&iG(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},u3e=function t(e,n){return e===1?n:gL(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==rG}).length;return s>=e?n.apply(void 0,i):t(e-s,gL(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var d=i.map(function(f){return iG(f)?l.shift():f});return n.apply(void 0,i3e(d).concat(l))}))})},Ow=function(e){return u3e(e.length,e)},wA=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},d3e=Ow(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),f3e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return c3e;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},_A=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},aG=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(o,l){return o===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function h3e(t){var e;return t===0?e=1:e=Math.floor(new Et(t).abs().log(10).toNumber())+1,e}function p3e(t,e,n){for(var r=new Et(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var m3e=Ow(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),g3e=Ow(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),y3e=Ow(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Nw={rangeStep:p3e,getDigitCount:h3e,interpolateNumber:m3e,uninterpolateNumber:g3e,uninterpolateTruncation:y3e};function SA(t){return b3e(t)||x3e(t)||sG(t)||v3e()}function v3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x3e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function b3e(t){if(Array.isArray(t))return EA(t)}function jm(t,e){return S3e(t)||_3e(t,e)||sG(t,e)||w3e()}function w3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sG(t,e){if(t){if(typeof t=="string")return EA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EA(t,e)}}function EA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _3e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function S3e(t){if(Array.isArray(t))return t}function oG(t){var e=jm(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function lG(t,e,n){if(t.lte(0))return new Et(0);var r=Nw.getDigitCount(t.toNumber()),i=new Et(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new Et(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?l:new Et(Math.ceil(l))}function E3e(t,e,n){var r=1,i=new Et(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Et(10).pow(Nw.getDigitCount(t)-1),i=new Et(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Et(Math.floor(t)))}else t===0?i=new Et(Math.floor((e-1)/2)):n||(i=new Et(Math.floor(t)));var s=Math.floor((e-1)/2),o=f3e(d3e(function(l){return i.add(new Et(l-s).mul(r)).toNumber()}),wA);return o(0,e)}function cG(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Et(0),tickMin:new Et(0),tickMax:new Et(0)};var a=lG(new Et(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Et(0):(s=new Et(t).add(e).div(2),s=s.sub(new Et(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new Et(e).sub(s).div(a).toNumber()),c=o+l+1;return c>n?cG(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,o=e>0?o:o+(n-c)),{step:a,tickMin:s.sub(new Et(o).mul(a)),tickMax:s.add(new Et(l).mul(a))})}function j3e(t){var e=jm(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=oG([n,r]),l=jm(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(SA(wA(0,i-1).map(function(){return 1/0}))):[].concat(SA(wA(0,i-1).map(function(){return-1/0})),[d]);return n>r?_A(f):f}if(c===d)return E3e(c,i,a);var h=cG(c,d,s,a),p=h.step,m=h.tickMin,g=h.tickMax,x=Nw.rangeStep(m,g.add(new Et(.1).mul(p)),p);return n>r?_A(x):x}function A3e(t,e){var n=jm(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=oG([r,i]),o=jm(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(e,2),f=lG(new Et(c).sub(l).div(d-1),a,0),h=[].concat(SA(Nw.rangeStep(new Et(l),new Et(c).sub(new Et(.99).mul(f)),f)),[c]);return r>i?_A(h):h}var T3e=aG(j3e),k3e=aG(A3e),C3e="Invariant failed";function Kc(t,e){throw new Error(C3e)}var O3e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function J0(){return J0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J0.apply(this,arguments)}function N3e(t,e){return R3e(t)||$3e(t,e)||I3e(t,e)||P3e()}function P3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I3e(t,e){if(t){if(typeof t=="string")return yL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yL(t,e)}}function yL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function R3e(t){if(Array.isArray(t))return t}function M3e(t,e){if(t==null)return{};var n=D3e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function D3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function L3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F3e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fG(r.key),r)}}function B3e(t,e,n){return e&&F3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function z3e(t,e,n){return e=Q0(e),U3e(t,uG()?Reflect.construct(e,n||[],Q0(t).constructor):e.apply(t,n))}function U3e(t,e){if(e&&(cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H3e(t)}function H3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uG=function(){return!!t})()}function Q0(t){return Q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q0(t)}function V3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jA(t,e)}function jA(t,e){return jA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jA(t,e)}function dG(t,e,n){return e=fG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fG(t){var e=W3e(t,"string");return cf(e)=="symbol"?e:e+""}function W3e(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ig=function(t){function e(){return L3e(this,e),z3e(this,e,arguments)}return V3e(e,t),B3e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=M3e(r,O3e),p=Pe(h,!1);this.props.direction==="x"&&d.type!=="number"&&Kc();var m=l.map(function(g){var x=c(g,o),b=x.x,v=x.y,y=x.value,_=x.errorVal;if(!_)return null;var w=[],E,A;if(Array.isArray(_)){var j=N3e(_,2);E=j[0],A=j[1]}else E=A=_;if(a==="vertical"){var T=d.scale,k=v+i,C=k+s,O=k-s,F=T(y-E),R=T(y+A);w.push({x1:R,y1:C,x2:R,y2:O}),w.push({x1:F,y1:k,x2:R,y2:k}),w.push({x1:F,y1:C,x2:F,y2:O})}else if(a==="horizontal"){var D=f.scale,U=b+i,V=U-s,L=U+s,B=D(y-E),P=D(y+A);w.push({x1:V,y1:P,x2:L,y2:P}),w.push({x1:U,y1:B,x2:U,y2:P}),w.push({x1:V,y1:B,x2:L,y2:B})}return M.createElement(ot,J0({className:"recharts-errorBar",key:"bar-".concat(w.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},p),w.map(function(W){return M.createElement("line",J0({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return M.createElement(ot,{className:"recharts-errorBars"},m)}}])}(M.Component);dG(Ig,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});dG(Ig,"displayName","ErrorBar");function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function vL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vL(Object(n),!0).forEach(function(r){q3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q3e(t,e,n){return e=G3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G3e(t){var e=K3e(t,"string");return Am(e)=="symbol"?e:e+""}function K3e(t,e){if(Am(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hG=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Yr(n,ol);if(!s)return null;var o=ol.defaultProps,l=o!==void 0?Gl(Gl({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:a==="children"?c=(r||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(g){return{type:s.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Gl(Gl({},h),f.props):{},m=p.dataKey,g=p.name,x=p.legendType,b=p.hide;return{inactive:b,dataKey:m,type:l.iconType||x||"square",color:NN(f),value:g||m,payload:p}}),Gl(Gl(Gl({},l),ol.getWithHeight(s,i)),{},{payload:c,item:s})};function Tm(t){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}function xL(t){return J3e(t)||Z3e(t)||X3e(t)||Y3e()}function Y3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X3e(t,e){if(t){if(typeof t=="string")return AA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AA(t,e)}}function Z3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function J3e(t){if(Array.isArray(t))return AA(t)}function AA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bL(Object(n),!0).forEach(function(r){_d(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _d(t,e,n){return e=Q3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q3e(t){var e=eFe(t,"string");return Tm(e)=="symbol"?e:e+""}function eFe(t,e){if(Tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cn(t,e,n){return Ve(t)||Ve(e)?n:jn(e)?si(t,e,n):Ue(e)?e(t):n}function wp(t,e,n,r){var i=Z5e(t,function(o){return cn(o,e)});if(n==="number"){var a=i.filter(function(o){return de(o)||parseFloat(o)});return a.length?[Cw(a),Ko(a)]:[1/0,-1/0]}var s=r?i.filter(function(o){return!Ve(o)}):i;return s.map(function(o){return jn(o)||o instanceof Date?o:""})}var tFe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<o;c++){var d=c>0?i[c-1].coordinate:i[o-1].coordinate,f=i[c].coordinate,h=c>=o-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(ur(f-d)!==ur(h-f)){var m=[];if(ur(h-f)===ur(l[1]-l[0])){p=h;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+d)/2),m[1]=Math.max(g,(g+d)/2)}else{p=d;var x=h+l[1]-l[0];m[0]=Math.min(f,(x+f)/2),m[1]=Math.max(f,(x+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>b[0]&&e<=b[1]||e>=m[0]&&e<=m[1]){s=i[c].index;break}}else{var v=Math.min(d,h),y=Math.max(d,h);if(e>(v+f)/2&&e<=(y+f)/2){s=i[c].index;break}}}else for(var _=0;_<o;_++)if(_===0&&e<=(r[_].coordinate+r[_+1].coordinate)/2||_>0&&_<o-1&&e>(r[_].coordinate+r[_-1].coordinate)/2&&e<=(r[_].coordinate+r[_+1].coordinate)/2||_===o-1&&e>(r[_].coordinate+r[_-1].coordinate)/2){s=r[_].index;break}return s},NN=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?sn(sn({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},nFe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,c=o.length;l<c;l++)for(var d=a[o[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],g=m.items,x=m.cateAxisId,b=g.filter(function(A){return Vs(A.type).indexOf("Bar")>=0});if(b&&b.length){var v=b[0].type.defaultProps,y=v!==void 0?sn(sn({},v),b[0].props):b[0].props,_=y.barSize,w=y[x];s[w]||(s[w]=[]);var E=Ve(_)?n:_;s[w].push({item:b[0],stackList:b.slice(1),barSize:Ve(E)?void 0:dr(E,r,0)})}}return s},rFe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var c=dr(n,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/l,m=s.reduce(function(_,w){return _+w.barSize||0},0);m+=(l-1)*c,m>=i&&(m-=(l-1)*c,c=0),m>=i&&p>0&&(h=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,x={offset:g-c,size:0};d=s.reduce(function(_,w){var E={item:w.item,position:{offset:x.offset+x.size+c,size:h?p:w.barSize}},A=[].concat(xL(_),[E]);return x=A[A.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(j){A.push({item:j,position:x})}),A},f)}else{var b=dr(r,i,0,!0);i-2*b-(l-1)*c<=0&&(c=0);var v=(i-2*b-(l-1)*c)/l;v>1&&(v>>=0);var y=o===+o?Math.min(v,o):v;d=s.reduce(function(_,w,E){var A=[].concat(xL(_),[{item:w.item,position:{offset:b+(v+c)*E+(v-y)/2,size:y}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(j){A.push({item:j,position:A[A.length-1].position})}),A},f)}return d},iFe=function(e,n,r,i){var a=r.children,s=r.width,o=r.margin,l=s-(o.left||0)-(o.right||0),c=hG({children:a,legendWidth:l});if(c){var d=i||{},f=d.width,h=d.height,p=c.align,m=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&de(e[p]))return sn(sn({},e),{},_d({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&de(e[m]))return sn(sn({},e),{},_d({},m,e[m]+(h||0)))}return e},aFe=function(e,n,r){return Ve(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},pG=function(e,n,r,i,a){var s=n.props.children,o=oi(s,Ig).filter(function(c){return aFe(i,a,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var f=cn(d,r);if(Ve(f))return c;var h=Array.isArray(f)?[Cw(f),Ko(f)]:[f,f],p=l.reduce(function(m,g){var x=cn(d,g,0),b=h[0]-Math.abs(Array.isArray(x)?x[0]:x),v=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,m[0]),Math.max(v,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},sFe=function(e,n,r,i,a){var s=n.map(function(o){return pG(e,o,r,a,i)}).filter(function(o){return!Ve(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},mG=function(e,n,r,i,a){var s=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&pG(e,l,c,i)||wp(e,c,r,a)});if(r==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)o[c[d]]||(o[c[d]]=!0,l.push(c[d]));return l},[])},gG=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},yG=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate});return a||o.push(n),s||o.push(r),o},Ds=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?ur(o[0]-o[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return d.filter(function(f){return!Zf(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:a?a[f]:f,index:h,offset:c}})},Q1=new WeakMap,By=function(e,n){if(typeof n!="function")return e;Q1.has(e)||Q1.set(e,new WeakMap);var r=Q1.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},vG=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:xm(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:G0(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:bp(),realScaleType:"point"}:a==="category"?{scale:xm(),realScaleType:"band"}:{scale:G0(),realScaleType:"linear"};if(Tg(i)){var l="scale".concat(mw(i));return{scale:(hL[l]||bp)(),realScaleType:hL[l]?l:"point"}}return Ue(i)?{scale:i}:{scale:bp(),realScaleType:"point"}},wL=1e-4,xG=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-wL,s=Math.max(i[0],i[1])+wL,o=e(n[0]),l=e(n[r-1]);(o<a||o>s||l<a||l>s)&&e.domain([n[0],n[r-1]])}},oFe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},lFe=function(e,n){if(!n||n.length!==2||!de(n[0])||!de(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!de(e[0])||e[0]<r)&&(a[0]=r),(!de(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},cFe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,o=0;o<n;++o){var l=Zf(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1])}},uFe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var o=Zf(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},dFe={sign:cFe,expand:OCe,none:Qd,silhouette:NCe,wiggle:PCe,positive:uFe},fFe=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),a=dFe[r],s=CCe().keys(i).value(function(o,l){return+cn(o,l,0)}).order(Zj).offset(a);return s(e)},hFe=function(e,n,r,i,a,s){if(!e)return null;var o=s?n.reverse():n,l={},c=o.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?sn(sn({},h.type.defaultProps),h.props):h.props,g=m.stackId,x=m.hide;if(x)return f;var b=m[r],v=f[b]||{hasStack:!1,stackGroups:{}};if(jn(g)){var y=v.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};y.items.push(h),v.hasStack=!0,v.stackGroups[g]=y}else v.stackGroups[cu("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return sn(sn({},f),{},_d({},b,v))},l),d={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,x){var b=p.stackGroups[x];return sn(sn({},g),{},_d({},x,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:fFe(e,b.items,a)}))},m)}return sn(sn({},f),{},_d({},h,p))},d)},bG=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=T3e(c,a,o);return e.domain([Cw(d),Ko(d)]),{niceTicks:d}}if(a&&i==="number"){var f=e.domain(),h=k3e(f,a,o);return{niceTicks:h}}return null};function ex(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ve(i[e.dataKey])){var o=A0(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=cn(i,Ve(s)?e.dataKey:s);return Ve(l)?null:e.scale(l)}var _L=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=cn(s,n.dataKey,n.domain[o]);return Ve(l)?null:n.scale(l)-a/2+i},pFe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},mFe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?sn(sn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(jn(a)){var s=n[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},gFe=function(e){return e.reduce(function(n,r){return[Cw(r.concat([n[0]]).filter(de)),Ko(r.concat([n[1]]).filter(de))]},[1/0,-1/0])},wG=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(c,d){var f=gFe(d.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},SL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,EL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TA=function(e,n,r){if(Ue(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(de(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(SL.test(e[0])){var a=+SL.exec(e[0])[1];i[0]=n[0]-a}else Ue(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(de(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(EL.test(e[1])){var s=+EL.exec(e[1])[1];i[1]=n[1]+s}else Ue(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},tx=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=aN(n,function(f){return f.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],d=a[o-1];s=Math.min((c.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},jL=function(e,n,r){return!e||!e.length||qc(e,si(r,"type.defaultProps.domain"))?n:e},_G=function(e,n){var r=e.type.defaultProps?sn(sn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,d=r.hide;return sn(sn({},Pe(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:NN(e),value:cn(n,i),type:l,payload:n,chartType:c,hide:d})};function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}function AL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Os(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AL(Object(n),!0).forEach(function(r){SG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SG(t,e,n){return e=yFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yFe(t){var e=vFe(t,"string");return km(e)=="symbol"?e:e+""}function vFe(t,e){if(km(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xFe(t,e){return SFe(t)||_Fe(t,e)||wFe(t,e)||bFe()}function bFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wFe(t,e){if(t){if(typeof t=="string")return TL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TL(t,e)}}function TL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _Fe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function SFe(t){if(Array.isArray(t))return t}var nx=Math.PI/180,EFe=function(e){return e*180/Math.PI},$t=function(e,n,r,i){return{x:e+Math.cos(-nx*i)*r,y:n+Math.sin(-nx*i)*r}},EG=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},jFe=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.startAngle,c=e.endAngle,d=dr(e.cx,s,s/2),f=dr(e.cy,o,o/2),h=EG(s,o,r),p=dr(e.innerRadius,h,0),m=dr(e.outerRadius,h,h*.8),g=Object.keys(n);return g.reduce(function(x,b){var v=n[b],y=v.domain,_=v.reversed,w;if(Ve(v.range))i==="angleAxis"?w=[l,c]:i==="radiusAxis"&&(w=[p,m]),_&&(w=[w[1],w[0]]);else{w=v.range;var E=w,A=xFe(E,2);l=A[0],c=A[1]}var j=vG(v,a),T=j.realScaleType,k=j.scale;k.domain(y).range(w),xG(k);var C=bG(k,Os(Os({},v),{},{realScaleType:T})),O=Os(Os(Os({},v),C),{},{range:w,radius:m,realScaleType:T,scale:k,cx:d,cy:f,innerRadius:p,outerRadius:m,startAngle:l,endAngle:c});return Os(Os({},x),{},SG({},b,O))},{})},AFe=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},TFe=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,o=AFe({x:r,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(r-a)/o,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:o,angle:EFe(c),angleInRadian:c}},kFe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},CFe=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},kL=function(e,n){var r=e.x,i=e.y,a=TFe({x:r,y:i},n),s=a.radius,o=a.angle,l=n.innerRadius,c=n.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var d=kFe(n),f=d.startAngle,h=d.endAngle,p=o,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?Os(Os({},n),{},{radius:s,angle:CFe(p,n)}):null},jG=function(e){return!S.isValidElement(e)&&!Ue(e)&&typeof e!="boolean"?e.className:""};function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}var OFe=["offset"];function NFe(t){return RFe(t)||$Fe(t)||IFe(t)||PFe()}function PFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IFe(t,e){if(t){if(typeof t=="string")return kA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kA(t,e)}}function $Fe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RFe(t){if(Array.isArray(t))return kA(t)}function kA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MFe(t,e){if(t==null)return{};var n=DFe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DFe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function CL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CL(Object(n),!0).forEach(function(r){LFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LFe(t,e,n){return e=FFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FFe(t){var e=BFe(t,"string");return Cm(e)=="symbol"?e:e+""}function BFe(t,e){if(Cm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Om(){return Om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Om.apply(this,arguments)}var zFe=function(e){var n=e.value,r=e.formatter,i=Ve(e.children)?n:e.children;return Ue(r)?r(i):i},UFe=function(e,n){var r=ur(n-e),i=Math.min(Math.abs(n-e),360);return r*i},HFe=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,c=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,x=(f+h)/2,b=UFe(p,m),v=b>=0?1:-1,y,_;i==="insideStart"?(y=p+v*s,_=g):i==="insideEnd"?(y=m-v*s,_=!g):i==="end"&&(y=m+v*s,_=g),_=b<=0?_:!_;var w=$t(c,d,x,y),E=$t(c,d,x,y+(_?1:-1)*359),A="M".concat(w.x,",").concat(w.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(_?0:1,`,
    `).concat(E.x,",").concat(E.y),j=Ve(e.id)?cu("recharts-radial-line-"):e.id;return M.createElement("text",Om({},r,{dominantBaseline:"central",className:Ke("recharts-radial-bar-label",o)}),M.createElement("defs",null,M.createElement("path",{id:j,d:A})),M.createElement("textPath",{xlinkHref:"#".concat(j)},n))},VFe=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,o=a.cy,l=a.innerRadius,c=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var p=$t(s,o,c+r,h),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,b=$t(s,o,x,h),v=b.x,y=b.y;return{x:v,y,textAnchor:"middle",verticalAnchor:"middle"}},WFe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,o=s.x,l=s.y,c=s.width,d=s.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=c>=0?1:-1,x=g*i,b=g>0?"end":"start",v=g>0?"start":"end";if(a==="top"){var y={x:o+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return bn(bn({},y),r?{height:Math.max(l-r.y,0),width:c}:{})}if(a==="bottom"){var _={x:o+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:m};return bn(bn({},_),r?{height:Math.max(r.y+r.height-(l+d),0),width:c}:{})}if(a==="left"){var w={x:o-x,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return bn(bn({},w),r?{width:Math.max(w.x-r.x,0),height:d}:{})}if(a==="right"){var E={x:o+c+x,y:l+d/2,textAnchor:v,verticalAnchor:"middle"};return bn(bn({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:d}:{})}var A=r?{width:c,height:d}:{};return a==="insideLeft"?bn({x:o+x,y:l+d/2,textAnchor:v,verticalAnchor:"middle"},A):a==="insideRight"?bn({x:o+c-x,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},A):a==="insideTop"?bn({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},A):a==="insideBottom"?bn({x:o+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},A):a==="insideTopLeft"?bn({x:o+x,y:l+h,textAnchor:v,verticalAnchor:m},A):a==="insideTopRight"?bn({x:o+c-x,y:l+h,textAnchor:b,verticalAnchor:m},A):a==="insideBottomLeft"?bn({x:o+x,y:l+d-h,textAnchor:v,verticalAnchor:p},A):a==="insideBottomRight"?bn({x:o+c-x,y:l+d-h,textAnchor:b,verticalAnchor:p},A):Gf(a)&&(de(a.x)||dc(a.x))&&(de(a.y)||dc(a.y))?bn({x:o+dr(a.x,c),y:l+dr(a.y,d),textAnchor:"end",verticalAnchor:"end"},A):bn({x:o+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},qFe=function(e){return"cx"in e&&de(e.cx)};function $n(t){var e=t.offset,n=e===void 0?5:e,r=MFe(t,OFe),i=bn({offset:n},r),a=i.viewBox,s=i.position,o=i.value,l=i.children,c=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||Ve(o)&&Ve(l)&&!S.isValidElement(c)&&!Ue(c))return null;if(S.isValidElement(c))return S.cloneElement(c,i);var p;if(Ue(c)){if(p=S.createElement(c,i),S.isValidElement(p))return p}else p=zFe(i);var m=qFe(a),g=Pe(i,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return HFe(i,p,g);var x=m?VFe(i):WFe(i);return M.createElement(Wc,Om({className:Ke("recharts-label",f)},g,x,{breakAll:h}),p)}$n.displayName="Label";var AG=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,p=e.top,m=e.left,g=e.width,x=e.height,b=e.clockWise,v=e.labelViewBox;if(v)return v;if(de(g)&&de(x)){if(de(f)&&de(h))return{x:f,y:h,width:g,height:x};if(de(p)&&de(m))return{x:p,y:m,width:g,height:x}}return de(f)&&de(h)?{x:f,y:h,width:0,height:0}:de(n)&&de(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:d||l||o||0,clockWise:b}:e.viewBox?e.viewBox:{}},GFe=function(e,n){return e?e===!0?M.createElement($n,{key:"label-implicit",viewBox:n}):jn(e)?M.createElement($n,{key:"label-implicit",viewBox:n,value:e}):S.isValidElement(e)?e.type===$n?S.cloneElement(e,{key:"label-implicit",viewBox:n}):M.createElement($n,{key:"label-implicit",content:e,viewBox:n}):Ue(e)?M.createElement($n,{key:"label-implicit",content:e,viewBox:n}):Gf(e)?M.createElement($n,Om({viewBox:n},e,{key:"label-implicit"})):null:null},KFe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=AG(e),s=oi(i,$n).map(function(l,c){return S.cloneElement(l,{viewBox:n||a,key:"label-".concat(c)})});if(!r)return s;var o=GFe(e.label,n||a);return[o].concat(NFe(s))};$n.parseViewBox=AG;$n.renderCallByParent=KFe;function YFe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var XFe=YFe;const ZFe=at(XFe);function Nm(t){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(t)}var JFe=["valueAccessor"],QFe=["data","dataKey","clockWise","id","textBreakAll"];function eBe(t){return iBe(t)||rBe(t)||nBe(t)||tBe()}function tBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nBe(t,e){if(t){if(typeof t=="string")return CA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CA(t,e)}}function rBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iBe(t){if(Array.isArray(t))return CA(t)}function CA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rx(){return rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rx.apply(this,arguments)}function OL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OL(Object(n),!0).forEach(function(r){aBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aBe(t,e,n){return e=sBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sBe(t){var e=oBe(t,"string");return Nm(e)=="symbol"?e:e+""}function oBe(t,e){if(Nm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PL(t,e){if(t==null)return{};var n=lBe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lBe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var cBe=function(e){return Array.isArray(e.value)?ZFe(e.value):e.value};function os(t){var e=t.valueAccessor,n=e===void 0?cBe:e,r=PL(t,JFe),i=r.data,a=r.dataKey,s=r.clockWise,o=r.id,l=r.textBreakAll,c=PL(r,QFe);return!i||!i.length?null:M.createElement(ot,{className:"recharts-label-list"},i.map(function(d,f){var h=Ve(a)?n(d,f):cn(d&&d.payload,a),p=Ve(o)?{}:{id:"".concat(o,"-").concat(f)};return M.createElement($n,rx({},Pe(d,!0),c,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:$n.parseViewBox(Ve(s)?d:NL(NL({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}os.displayName="LabelList";function uBe(t,e){return t?t===!0?M.createElement(os,{key:"labelList-implicit",data:e}):M.isValidElement(t)||Ue(t)?M.createElement(os,{key:"labelList-implicit",data:e,content:t}):Gf(t)?M.createElement(os,rx({data:e},t,{key:"labelList-implicit"})):null:null}function dBe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=oi(r,os).map(function(s,o){return S.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var a=uBe(t.label,e);return[a].concat(eBe(i))}os.renderCallByParent=dBe;function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function OA(){return OA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OA.apply(this,arguments)}function IL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $L(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IL(Object(n),!0).forEach(function(r){fBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fBe(t,e,n){return e=hBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hBe(t){var e=pBe(t,"string");return Pm(e)=="symbol"?e:e+""}function pBe(t,e){if(Pm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mBe=function(e,n){var r=ur(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},zy=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(o?1:-1)+i,f=Math.asin(l/d)/nx,h=c?a:a+s*f,p=$t(n,r,d,h),m=$t(n,r,i,h),g=c?a-s*f:a,x=$t(n,r,d*Math.cos(f*nx),g);return{center:p,circleTangency:m,lineTangency:x,theta:f}},TG=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=mBe(s,o),c=s+l,d=$t(n,r,a,s),f=$t(n,r,a,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=$t(n,r,i,s),m=$t(n,r,i,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},gBe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,f=ur(d-c),h=zy({cx:n,cy:r,radius:a,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,g=h.theta,x=zy({cx:n,cy:r,radius:a,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),b=x.circleTangency,v=x.lineTangency,y=x.theta,_=l?Math.abs(c-d):Math.abs(c-d)-g-y;if(_<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):TG({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d});var w="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(i>0){var E=zy({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),A=E.circleTangency,j=E.lineTangency,T=E.theta,k=zy({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),C=k.circleTangency,O=k.lineTangency,F=k.theta,R=l?Math.abs(c-d):Math.abs(c-d)-T-F;if(R<0&&s===0)return"".concat(w,"L").concat(n,",").concat(r,"Z");w+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,"Z")}else w+="L".concat(n,",").concat(r,"Z");return w},yBe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},kG=function(e){var n=$L($L({},yBe),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(s<a||d===f)return null;var p=Ke("recharts-sector",h),m=s-a,g=dr(o,m,0,!0),x;return g>0&&Math.abs(d-f)<360?x=gBe({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):x=TG({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:d,endAngle:f}),M.createElement("path",OA({},Pe(n,!0),{className:p,d:x,role:"img"}))};function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}function NA(){return NA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NA.apply(this,arguments)}function RL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ML(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RL(Object(n),!0).forEach(function(r){vBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vBe(t,e,n){return e=xBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xBe(t){var e=bBe(t,"string");return Im(e)=="symbol"?e:e+""}function bBe(t,e){if(Im(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DL={curveBasisClosed:vCe,curveBasisOpen:xCe,curveBasis:yCe,curveBumpX:rCe,curveBumpY:iCe,curveLinearClosed:bCe,curveLinear:yw,curveMonotoneX:wCe,curveMonotoneY:_Ce,curveNatural:SCe,curveStep:ECe,curveStepAfter:ACe,curveStepBefore:jCe},Uy=function(e){return e.x===+e.x&&e.y===+e.y},Ch=function(e){return e.x},Oh=function(e){return e.y},wBe=function(e,n){if(Ue(e))return e;var r="curve".concat(mw(e));return(r==="curveMonotone"||r==="curveBump")&&n?DL["".concat(r).concat(n==="vertical"?"Y":"X")]:DL[r]||yw},_Be=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=wBe(r,o),f=c?a.filter(function(g){return Uy(g)}):a,h;if(Array.isArray(s)){var p=c?s.filter(function(g){return Uy(g)}):s,m=f.map(function(g,x){return ML(ML({},g),{},{base:p[x]})});return o==="vertical"?h=Py().y(Oh).x1(Ch).x0(function(g){return g.base.x}):h=Py().x(Ch).y1(Oh).y0(function(g){return g.base.y}),h.defined(Uy).curve(d),h(m)}return o==="vertical"&&de(s)?h=Py().y(Oh).x1(Ch).x0(s):de(s)?h=Py().x(Ch).y1(Oh).y0(s):h=_W().x(Ch).y(Oh),h.defined(Uy).curve(d),h(f)},Cc=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?_Be(e):i;return M.createElement("path",NA({},Pe(e,!1),T0(e),{className:Ke("recharts-curve",n),d:s,ref:a}))},CG={exports:{}},SBe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",EBe=SBe,jBe=EBe;function OG(){}function NG(){}NG.resetWarningCache=OG;var ABe=function(){function t(r,i,a,s,o,l){if(l!==jBe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:NG,resetWarningCache:OG};return n.PropTypes=n,n};CG.exports=ABe();var TBe=CG.exports;const tt=at(TBe);var kBe=Object.getOwnPropertyNames,CBe=Object.getOwnPropertySymbols,OBe=Object.prototype.hasOwnProperty;function LL(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Hy(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,s=a.get(n),o=a.get(r);if(s&&o)return s===r&&o===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function FL(t){return kBe(t).concat(CBe(t))}var PG=Object.hasOwn||function(t,e){return OBe.call(t,e)};function ih(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var IG="_owner",BL=Object.getOwnPropertyDescriptor,zL=Object.keys;function NBe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function PBe(t,e){return ih(t.getTime(),e.getTime())}function UL(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),a=0,s,o;(s=i.next())&&!s.done;){for(var l=e.entries(),c=!1,d=0;(o=l.next())&&!o.done;){var f=s.value,h=f[0],p=f[1],m=o.value,g=m[0],x=m[1];!c&&!r[d]&&(c=n.equals(h,g,a,d,t,e,n)&&n.equals(p,x,h,g,t,e,n))&&(r[d]=!0),d++}if(!c)return!1;a++}return!0}function IBe(t,e,n){var r=zL(t),i=r.length;if(zL(e).length!==i)return!1;for(var a;i-- >0;)if(a=r[i],a===IG&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!PG(e,a)||!n.equals(t[a],e[a],a,a,t,e,n))return!1;return!0}function Nh(t,e,n){var r=FL(t),i=r.length;if(FL(e).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=r[i],a===IG&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!PG(e,a)||!n.equals(t[a],e[a],a,a,t,e,n)||(s=BL(t,a),o=BL(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function $Be(t,e){return ih(t.valueOf(),e.valueOf())}function RBe(t,e){return t.source===e.source&&t.flags===e.flags}function HL(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),a,s;(a=i.next())&&!a.done;){for(var o=e.values(),l=!1,c=0;(s=o.next())&&!s.done;)!l&&!r[c]&&(l=n.equals(a.value,s.value,a.value,s.value,t,e,n))&&(r[c]=!0),c++;if(!l)return!1}return!0}function MBe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var DBe="[object Arguments]",LBe="[object Boolean]",FBe="[object Date]",BBe="[object Map]",zBe="[object Number]",UBe="[object Object]",HBe="[object RegExp]",VBe="[object Set]",WBe="[object String]",qBe=Array.isArray,VL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,WL=Object.assign,GBe=Object.prototype.toString.call.bind(Object.prototype.toString);function KBe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,a=t.arePrimitiveWrappersEqual,s=t.areRegExpsEqual,o=t.areSetsEqual,l=t.areTypedArraysEqual;return function(d,f,h){if(d===f)return!0;if(d==null||f==null||typeof d!="object"||typeof f!="object")return d!==d&&f!==f;var p=d.constructor;if(p!==f.constructor)return!1;if(p===Object)return i(d,f,h);if(qBe(d))return e(d,f,h);if(VL!=null&&VL(d))return l(d,f,h);if(p===Date)return n(d,f,h);if(p===RegExp)return s(d,f,h);if(p===Map)return r(d,f,h);if(p===Set)return o(d,f,h);var m=GBe(d);return m===FBe?n(d,f,h):m===HBe?s(d,f,h):m===BBe?r(d,f,h):m===VBe?o(d,f,h):m===UBe?typeof d.then!="function"&&typeof f.then!="function"&&i(d,f,h):m===DBe?i(d,f,h):m===LBe||m===zBe||m===WBe?a(d,f,h):!1}}function YBe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Nh:NBe,areDatesEqual:PBe,areMapsEqual:r?LL(UL,Nh):UL,areObjectsEqual:r?Nh:IBe,arePrimitiveWrappersEqual:$Be,areRegExpsEqual:RBe,areSetsEqual:r?LL(HL,Nh):HL,areTypedArraysEqual:r?Nh:MBe};if(n&&(i=WL({},i,n(i))),e){var a=Hy(i.areArraysEqual),s=Hy(i.areMapsEqual),o=Hy(i.areObjectsEqual),l=Hy(i.areSetsEqual);i=WL({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}function XBe(t){return function(e,n,r,i,a,s,o){return t(e,n,o)}}function ZBe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,c){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return n(l,c,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return n(l,c,s)}}var JBe=Hl();Hl({strict:!0});Hl({circular:!0});Hl({circular:!0,strict:!0});Hl({createInternalComparator:function(){return ih}});Hl({strict:!0,createInternalComparator:function(){return ih}});Hl({circular:!0,createInternalComparator:function(){return ih}});Hl({circular:!0,createInternalComparator:function(){return ih},strict:!0});function Hl(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,o=YBe(t),l=KBe(o),c=r?r(l):XBe(l);return ZBe({circular:n,comparator:l,createState:i,equals:c,strict:s})}function QBe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function qL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):QBe(i)};requestAnimationFrame(r)}function PA(t){"@babel/helpers - typeof";return PA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PA(t)}function eze(t){return ize(t)||rze(t)||nze(t)||tze()}function tze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nze(t,e){if(t){if(typeof t=="string")return GL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GL(t,e)}}function GL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ize(t){if(Array.isArray(t))return t}function aze(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,o=eze(s),l=o[0],c=o.slice(1);if(typeof l=="number"){qL(i.bind(null,c),l);return}i(l),qL(i.bind(null,c));return}PA(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function $m(t){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$m(t)}function KL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(n),!0).forEach(function(r){$G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $G(t,e,n){return e=sze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sze(t){var e=oze(t,"string");return $m(e)==="symbol"?e:String(e)}function oze(t,e){if($m(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($m(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lze=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},cze=function(e){return e},uze=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},_p=function(e,n){return Object.keys(n).reduce(function(r,i){return YL(YL({},r),{},$G({},i,e(i,n[i])))},{})},XL=function(e,n,r){return e.map(function(i){return"".concat(uze(i)," ").concat(n,"ms ").concat(r)}).join(",")};function dze(t,e){return pze(t)||hze(t,e)||RG(t,e)||fze()}function fze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hze(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function pze(t){if(Array.isArray(t))return t}function mze(t){return vze(t)||yze(t)||RG(t)||gze()}function gze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RG(t,e){if(t){if(typeof t=="string")return IA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IA(t,e)}}function yze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vze(t){if(Array.isArray(t))return IA(t)}function IA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ix=1e-4,MG=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},DG=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},ZL=function(e,n){return function(r){var i=MG(e,n);return DG(i,r)}},xze=function(e,n){return function(r){var i=MG(e,n),a=[].concat(mze(i.map(function(s,o){return s*o}).slice(1)),[0]);return DG(a,r)}},JL=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=dze(c,4);i=d[0],a=d[1],s=d[2],o=d[3]}}}var f=ZL(i,s),h=ZL(a,o),p=xze(i,s),m=function(b){return b>1?1:b<0?0:b},g=function(b){for(var v=b>1?1:b,y=v,_=0;_<8;++_){var w=f(y)-v,E=p(y);if(Math.abs(w-v)<ix||E<ix)return h(y);y=m(y-w/E)}return h(y)};return g.isStepper=!1,g},bze=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(d,f,h){var p=-(d-f)*r,m=h*a,g=h+(p-m)*o/1e3,x=h*o/1e3+d;return Math.abs(x-f)<ix&&Math.abs(g)<ix?[f,0]:[x,g]};return l.isStepper=!0,l.dt=o,l},wze=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return JL(i);case"spring":return bze();default:if(i.split("(")[0]==="cubic-bezier")return JL(i)}return typeof i=="function"?i:null};function Rm(t){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rm(t)}function QL(t){return Eze(t)||Sze(t)||LG(t)||_ze()}function _ze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Eze(t){if(Array.isArray(t))return RA(t)}function e4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e4(Object(n),!0).forEach(function(r){$A(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $A(t,e,n){return e=jze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jze(t){var e=Aze(t,"string");return Rm(e)==="symbol"?e:String(e)}function Aze(t,e){if(Rm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tze(t,e){return Oze(t)||Cze(t,e)||LG(t,e)||kze()}function kze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LG(t,e){if(t){if(typeof t=="string")return RA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RA(t,e)}}function RA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cze(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Oze(t){if(Array.isArray(t))return t}var ax=function(e,n,r){return e+(n-e)*r},MA=function(e){var n=e.from,r=e.to;return n!==r},Nze=function t(e,n,r){var i=_p(function(a,s){if(MA(s)){var o=e(s.from,s.to,s.velocity),l=Tze(o,2),c=l[0],d=l[1];return Ln(Ln({},s),{},{from:c,velocity:d})}return s},n);return r<1?_p(function(a,s){return MA(s)?Ln(Ln({},s),{},{velocity:ax(s.velocity,i[a].velocity,r),from:ax(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const Pze=function(t,e,n,r,i){var a=lze(t,e),s=a.reduce(function(x,b){return Ln(Ln({},x),{},$A({},b,[t[b],e[b]]))},{}),o=a.reduce(function(x,b){return Ln(Ln({},x),{},$A({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,c,d,f=function(){return null},h=function(){return _p(function(b,v){return v.from},o)},p=function(){return!Object.values(o).filter(MA).length},m=function(b){c||(c=b);var v=b-c,y=v/n.dt;o=Nze(n,o,y),i(Ln(Ln(Ln({},t),e),h())),c=b,p()||(l=requestAnimationFrame(f))},g=function(b){d||(d=b);var v=(b-d)/r,y=_p(function(w,E){return ax.apply(void 0,QL(E).concat([n(v)]))},s);if(i(Ln(Ln(Ln({},t),e),y)),v<1)l=requestAnimationFrame(f);else{var _=_p(function(w,E){return ax.apply(void 0,QL(E).concat([n(1)]))},s);i(Ln(Ln(Ln({},t),e),_))}};return f=n.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}var Ize=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function $ze(t,e){if(t==null)return{};var n=Rze(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rze(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function eS(t){return Fze(t)||Lze(t)||Dze(t)||Mze()}function Mze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dze(t,e){if(t){if(typeof t=="string")return DA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DA(t,e)}}function Lze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fze(t){if(Array.isArray(t))return DA(t)}function DA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function t4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t4(Object(n),!0).forEach(function(r){qh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qh(t,e,n){return e=FG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FG(r.key),r)}}function Uze(t,e,n){return e&&zze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FG(t){var e=Hze(t,"string");return uf(e)==="symbol"?e:String(e)}function Hze(t,e){if(uf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LA(t,e)}function LA(t,e){return LA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LA(t,e)}function Wze(t){var e=qze();return function(){var r=sx(t),i;if(e){var a=sx(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return FA(this,i)}}function FA(t,e){if(e&&(uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BA(t)}function BA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qze(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sx(t){return sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sx(t)}var Aa=function(t){Vze(n,t);var e=Wze(n);function n(r,i){var a;Bze(this,n),a=e.call(this,r,i);var s=a.props,o=s.isActive,l=s.attributeName,c=s.from,d=s.to,f=s.steps,h=s.children,p=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(BA(a)),a.changeStyle=a.changeStyle.bind(BA(a)),!o||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),FA(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof h=="function")return a.state={style:c},FA(a);a.state={style:l?qh({},l,c):c}}else a.state={style:{}};return a}return Uze(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(o){if(!s){var p={style:l?qh({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(JBe(i.to,d)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||c?f:i.to;if(this.state&&h){var x={style:l?qh({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(x)}this.runAnimation(Gi(Gi({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,c=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=Pze(s,o,wze(c),l,this.changeStyle),m=function(){a.stopJSAnimation=p()};this.manager.start([h,d,m,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,c=s[0],d=c.style,f=c.duration,h=f===void 0?0:f,p=function(g,x,b){if(b===0)return g;var v=x.duration,y=x.easing,_=y===void 0?"ease":y,w=x.style,E=x.properties,A=x.onAnimationEnd,j=b>0?s[b-1]:x,T=E||Object.keys(w);if(typeof _=="function"||_==="spring")return[].concat(eS(g),[a.runJSAnimation.bind(a,{from:j.style,to:w,duration:v,easing:_}),v]);var k=XL(T,v,_),C=Gi(Gi(Gi({},j.style),w),{},{transition:k});return[].concat(eS(g),[C,v,A]).filter(cze)};return this.manager.start([l].concat(eS(s.reduce(p,[d,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=aze());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=o?qh({},o,l):l,x=XL(Object.keys(g),s,c);m.start([d,a,Gi(Gi({},g),{},{transition:x}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=$ze(i,Ize),c=S.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!o||c===0||s<=0)return a;var f=function(p){var m=p.props,g=m.style,x=g===void 0?{}:g,b=m.className,v=S.cloneElement(p,Gi(Gi({},l),{},{style:Gi(Gi({},x),d),className:b}));return v};return c===1?f(S.Children.only(a)):M.createElement("div",null,S.Children.map(a,function(h){return f(h)}))}}]),n}(S.PureComponent);Aa.displayName="Animate";Aa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Aa.propTypes={from:tt.oneOfType([tt.object,tt.string]),to:tt.oneOfType([tt.object,tt.string]),attributeName:tt.string,duration:tt.number,begin:tt.number,easing:tt.oneOfType([tt.string,tt.func]),steps:tt.arrayOf(tt.shape({duration:tt.number.isRequired,style:tt.object.isRequired,easing:tt.oneOfType([tt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),tt.func]),properties:tt.arrayOf("string"),onAnimationEnd:tt.func})),children:tt.oneOfType([tt.node,tt.func]),isActive:tt.bool,canBegin:tt.bool,onAnimationEnd:tt.func,shouldReAnimate:tt.bool,onAnimationStart:tt.func,onAnimationReStart:tt.func};tt.object,tt.object,tt.object,tt.element;tt.object,tt.object,tt.object,tt.oneOfType([tt.array,tt.element]),tt.any;function Mm(t){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mm(t)}function ox(){return ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ox.apply(this,arguments)}function Gze(t,e){return Zze(t)||Xze(t,e)||Yze(t,e)||Kze()}function Kze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yze(t,e){if(t){if(typeof t=="string")return n4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n4(t,e)}}function n4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xze(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Zze(t){if(Array.isArray(t))return t}function r4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r4(Object(n),!0).forEach(function(r){Jze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jze(t,e,n){return e=Qze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qze(t){var e=eUe(t,"string");return Mm(e)=="symbol"?e:e+""}function eUe(t,e){if(Mm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a4=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,d;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>s?s:a[h];d="M".concat(e,",").concat(n+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+o*f[1])),d+="L ".concat(e+r,",").concat(n+i-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),d+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-o*f[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var m=Math.min(s,a);d="M ".concat(e,",").concat(n+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(n+o*m,`
            L `).concat(e+r,",").concat(n+i-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(n+i-o*m," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},tUe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(a,a+o),d=Math.max(a,a+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return r>=c&&r<=d&&i>=f&&i<=h}return!1},nUe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PN=function(e){var n=i4(i4({},nUe),e),r=S.useRef(),i=S.useState(-1),a=Gze(i,2),s=a[0],o=a[1];S.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&o(_)}catch{}},[]);var l=n.x,c=n.y,d=n.width,f=n.height,h=n.radius,p=n.className,m=n.animationEasing,g=n.animationDuration,x=n.animationBegin,b=n.isAnimationActive,v=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var y=Ke("recharts-rectangle",p);return v?M.createElement(Aa,{canBegin:s>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:g,animationEasing:m,isActive:v},function(_){var w=_.width,E=_.height,A=_.x,j=_.y;return M.createElement(Aa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,isActive:b,easing:m},M.createElement("path",ox({},Pe(n,!0),{className:y,d:a4(A,j,w,E,h),ref:r})))}):M.createElement("path",ox({},Pe(n,!0),{className:y,d:a4(l,c,d,f,h)}))},rUe=["points","className","baseLinePoints","connectNulls"];function ed(){return ed=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ed.apply(this,arguments)}function iUe(t,e){if(t==null)return{};var n=aUe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function s4(t){return cUe(t)||lUe(t)||oUe(t)||sUe()}function sUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oUe(t,e){if(t){if(typeof t=="string")return zA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zA(t,e)}}function lUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cUe(t){if(Array.isArray(t))return zA(t)}function zA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var o4=function(e){return e&&e.x===+e.x&&e.y===+e.y},uUe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){o4(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),o4(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Sp=function(e,n){var r=uUe(e);n&&(r=[r.reduce(function(a,s){return[].concat(s4(a),s4(s))},[])]);var i=r.map(function(a){return a.reduce(function(s,o,l){return"".concat(s).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},dUe=function(e,n,r){var i=Sp(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Sp(n.reverse(),r).slice(1))},fUe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,s=iUe(e,rUe);if(!n||!n.length)return null;var o=Ke("recharts-polygon",r);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",c=dUe(n,i,a);return M.createElement("g",{className:o},M.createElement("path",ed({},Pe(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),l?M.createElement("path",ed({},Pe(s,!0),{fill:"none",d:Sp(n,a)})):null,l?M.createElement("path",ed({},Pe(s,!0),{fill:"none",d:Sp(i,a)})):null)}var d=Sp(n,a);return M.createElement("path",ed({},Pe(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:o,d}))};function UA(){return UA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UA.apply(this,arguments)}var $g=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=Ke("recharts-dot",a);return n===+n&&r===+r&&i===+i?M.createElement("circle",UA({},Pe(e,!1),T0(e),{className:s,cx:n,cy:r,r:i})):null};function Dm(t){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(t)}var hUe=["x","y","top","left","width","height","className"];function HA(){return HA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HA.apply(this,arguments)}function l4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pUe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l4(Object(n),!0).forEach(function(r){mUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mUe(t,e,n){return e=gUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gUe(t){var e=yUe(t,"string");return Dm(e)=="symbol"?e:e+""}function yUe(t,e){if(Dm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vUe(t,e){if(t==null)return{};var n=xUe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var bUe=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},wUe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,c=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,p=h===void 0?0:h,m=e.className,g=vUe(e,hUe),x=pUe({x:r,y:a,top:o,left:c,width:f,height:p},g);return!de(r)||!de(a)||!de(f)||!de(p)||!de(o)||!de(c)?null:M.createElement("path",HA({},Pe(x,!0),{className:Ke("recharts-cross",m),d:bUe(r,a,f,p,o,c)}))},_Ue=kw,SUe=Xq,EUe=bs;function jUe(t,e){return t&&t.length?_Ue(t,EUe(e),SUe):void 0}var AUe=jUe;const TUe=at(AUe);var kUe=kw,CUe=bs,OUe=Zq;function NUe(t,e){return t&&t.length?kUe(t,CUe(e),OUe):void 0}var PUe=NUe;const IUe=at(PUe);var $Ue=["cx","cy","angle","ticks","axisLine"],RUe=["ticks","tick","angle","tickFormatter","stroke"];function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function Ep(){return Ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ep.apply(this,arguments)}function c4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c4(Object(n),!0).forEach(function(r){Pw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u4(t,e){if(t==null)return{};var n=MUe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function DUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zG(r.key),r)}}function LUe(t,e,n){return e&&d4(t.prototype,e),n&&d4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function FUe(t,e,n){return e=lx(e),BUe(t,BG()?Reflect.construct(e,n||[],lx(t).constructor):e.apply(t,n))}function BUe(t,e){if(e&&(df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zUe(t)}function zUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BG=function(){return!!t})()}function lx(t){return lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lx(t)}function UUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VA(t,e)}function VA(t,e){return VA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VA(t,e)}function Pw(t,e,n){return e=zG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zG(t){var e=HUe(t,"string");return df(e)=="symbol"?e:e+""}function HUe(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Iw=function(t){function e(){return DUe(this,e),FUe(this,e,arguments)}return UUe(e,t),LUe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,s=a.angle,o=a.cx,l=a.cy;return $t(o,l,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,o=r.ticks,l=TUe(o,function(d){return d.coordinate||0}),c=IUe(o,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,o=r.ticks,l=r.axisLine,c=u4(r,$Ue),d=o.reduce(function(m,g){return[Math.min(m[0],g.coordinate),Math.max(m[1],g.coordinate)]},[1/0,-1/0]),f=$t(i,a,d[0],s),h=$t(i,a,d[1],s),p=Kl(Kl(Kl({},Pe(c,!1)),{},{fill:"none"},Pe(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return M.createElement("line",Ep({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,o=i.angle,l=i.tickFormatter,c=i.stroke,d=u4(i,RUe),f=this.getTickTextAnchor(),h=Pe(d,!1),p=Pe(s,!1),m=a.map(function(g,x){var b=r.getTickValueCoord(g),v=Kl(Kl(Kl(Kl({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:c},p),{},{index:x},b),{},{payload:g});return M.createElement(ot,Ep({className:Ke("recharts-polar-radius-axis-tick",jG(s)),key:"tick-".concat(g.coordinate)},Vc(r.props,g,x)),e.renderTickItem(s,v,l?l(g.value,x):g.value))});return M.createElement(ot,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,s=r.tick;return!i||!i.length?null:M.createElement(ot,{className:Ke("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),$n.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return M.isValidElement(r)?s=M.cloneElement(r,i):Ue(r)?s=r(i):s=M.createElement(Wc,Ep({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(S.PureComponent);Pw(Iw,"displayName","PolarRadiusAxis");Pw(Iw,"axisType","radiusAxis");Pw(Iw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function oc(){return oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oc.apply(this,arguments)}function f4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f4(Object(n),!0).forEach(function(r){$w(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HG(r.key),r)}}function WUe(t,e,n){return e&&h4(t.prototype,e),n&&h4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qUe(t,e,n){return e=cx(e),GUe(t,UG()?Reflect.construct(e,n||[],cx(t).constructor):e.apply(t,n))}function GUe(t,e){if(e&&(ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KUe(t)}function KUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UG=function(){return!!t})()}function cx(t){return cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cx(t)}function YUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WA(t,e)}function WA(t,e){return WA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WA(t,e)}function $w(t,e,n){return e=HG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HG(t){var e=XUe(t,"string");return ff(e)=="symbol"?e:e+""}function XUe(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZUe=Math.PI/180,p4=1e-5,Rw=function(t){function e(){return VUe(this,e),qUe(this,e,arguments)}return YUe(e,t),WUe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,s=i.cy,o=i.radius,l=i.orientation,c=i.tickSize,d=c||8,f=$t(a,s,o,r.coordinate),h=$t(a,s,o+(l==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*ZUe),s;return a>p4?s=i==="outer"?"start":"end":a<-p4?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.radius,o=r.axisLine,l=r.axisLineType,c=Yl(Yl({},Pe(this.props,!1)),{},{fill:"none"},Pe(o,!1));if(l==="circle")return M.createElement($g,oc({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:a,r:s}));var d=this.props.ticks,f=d.map(function(h){return $t(i,a,s,h.coordinate)});return M.createElement(fUe,oc({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,o=i.tickLine,l=i.tickFormatter,c=i.stroke,d=Pe(this.props,!1),f=Pe(s,!1),h=Yl(Yl({},d),{},{fill:"none"},Pe(o,!1)),p=a.map(function(m,g){var x=r.getTickLineCoord(m),b=r.getTickTextAnchor(m),v=Yl(Yl(Yl({textAnchor:b},d),{},{stroke:"none",fill:c},f),{},{index:g,payload:m,x:x.x2,y:x.y2});return M.createElement(ot,oc({className:Ke("recharts-polar-angle-axis-tick",jG(s)),key:"tick-".concat(m.coordinate)},Vc(r.props,m,g)),o&&M.createElement("line",oc({className:"recharts-polar-angle-axis-tick-line"},h,x)),s&&e.renderTickItem(s,v,l?l(m.value,g):m.value))});return M.createElement(ot,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,s=r.axisLine;return a<=0||!i||!i.length?null:M.createElement(ot,{className:Ke("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var s;return M.isValidElement(r)?s=M.cloneElement(r,i):Ue(r)?s=r(i):s=M.createElement(Wc,oc({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(S.PureComponent);$w(Rw,"displayName","PolarAngleAxis");$w(Rw,"axisType","angleAxis");$w(Rw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var JUe=qW,QUe=JUe(Object.getPrototypeOf,Object),e6e=QUe,t6e=ho,n6e=e6e,r6e=po,i6e="[object Object]",a6e=Function.prototype,s6e=Object.prototype,VG=a6e.toString,o6e=s6e.hasOwnProperty,l6e=VG.call(Object);function c6e(t){if(!r6e(t)||t6e(t)!=i6e)return!1;var e=n6e(t);if(e===null)return!0;var n=o6e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&VG.call(n)==l6e}var u6e=c6e;const d6e=at(u6e);var f6e=ho,h6e=po,p6e="[object Boolean]";function m6e(t){return t===!0||t===!1||h6e(t)&&f6e(t)==p6e}var g6e=m6e;const y6e=at(g6e);function Lm(t){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lm(t)}function ux(){return ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ux.apply(this,arguments)}function v6e(t,e){return _6e(t)||w6e(t,e)||b6e(t,e)||x6e()}function x6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b6e(t,e){if(t){if(typeof t=="string")return m4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m4(t,e)}}function m4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w6e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function _6e(t){if(Array.isArray(t))return t}function g4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function y4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g4(Object(n),!0).forEach(function(r){S6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S6e(t,e,n){return e=E6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E6e(t){var e=j6e(t,"string");return Lm(e)=="symbol"?e:e+""}function j6e(t,e){if(Lm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v4=function(e,n,r,i,a){var s=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-s/2,",").concat(n+a),o+="L ".concat(e+r-s/2-i,",").concat(n+a),o+="L ".concat(e,",").concat(n," Z"),o},A6e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},T6e=function(e){var n=y4(y4({},A6e),e),r=S.useRef(),i=S.useState(-1),a=v6e(i,2),s=a[0],o=a[1];S.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&o(y)}catch{}},[]);var l=n.x,c=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,m=n.animationEasing,g=n.animationDuration,x=n.animationBegin,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var v=Ke("recharts-trapezoid",p);return b?M.createElement(Aa,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:c},duration:g,animationEasing:m,isActive:b},function(y){var _=y.upperWidth,w=y.lowerWidth,E=y.height,A=y.x,j=y.y;return M.createElement(Aa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,easing:m},M.createElement("path",ux({},Pe(n,!0),{className:v,d:v4(A,j,_,w,E),ref:r})))}):M.createElement("g",null,M.createElement("path",ux({},Pe(n,!0),{className:v,d:v4(l,c,d,f,h)})))},k6e=["option","shapeType","propTransformer","activeClassName","isActive"];function Fm(t){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fm(t)}function C6e(t,e){if(t==null)return{};var n=O6e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function O6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function x4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x4(Object(n),!0).forEach(function(r){N6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N6e(t,e,n){return e=P6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P6e(t){var e=I6e(t,"string");return Fm(e)=="symbol"?e:e+""}function I6e(t,e){if(Fm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $6e(t,e){return dx(dx({},e),t)}function R6e(t,e){return t==="symbols"}function b4(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return M.createElement(PN,n);case"trapezoid":return M.createElement(T6e,n);case"sector":return M.createElement(kG,n);case"symbols":if(R6e(e))return M.createElement(ZO,n);break;default:return null}}function M6e(t){return S.isValidElement(t)?t.props:t}function WG(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?$6e:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=C6e(t,k6e),c;if(S.isValidElement(e))c=S.cloneElement(e,dx(dx({},l),M6e(e)));else if(Ue(e))c=e(l);else if(d6e(e)&&!y6e(e)){var d=i(e,l);c=M.createElement(b4,{shapeType:n,elementProps:d})}else{var f=l;c=M.createElement(b4,{shapeType:n,elementProps:f})}return o?M.createElement(ot,{className:s},c):c}function Mw(t,e){return e!=null&&"trapezoids"in t.props}function Dw(t,e){return e!=null&&"sectors"in t.props}function Bm(t,e){return e!=null&&"points"in t.props}function D6e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function L6e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function F6e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function B6e(t,e){var n;return Mw(t,e)?n=D6e:Dw(t,e)?n=L6e:Bm(t,e)&&(n=F6e),n}function z6e(t,e){var n;return Mw(t,e)?n="trapezoids":Dw(t,e)?n="sectors":Bm(t,e)&&(n="points"),n}function U6e(t,e){if(Mw(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Dw(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Bm(t,e)?e.payload:{}}function H6e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=z6e(n,e),a=U6e(n,e),s=r.filter(function(l,c){var d=qc(a,l),f=n.props[i].filter(function(m){var g=B6e(n,e);return g(m,e)}),h=n.props[i].indexOf(f[f.length-1]),p=c===h;return d&&p}),o=r.indexOf(s[s.length-1]);return o}var vv;function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function td(){return td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},td.apply(this,arguments)}function w4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w4(Object(n),!0).forEach(function(r){ji(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GG(r.key),r)}}function W6e(t,e,n){return e&&_4(t.prototype,e),n&&_4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function q6e(t,e,n){return e=fx(e),G6e(t,qG()?Reflect.construct(e,n||[],fx(t).constructor):e.apply(t,n))}function G6e(t,e){if(e&&(hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K6e(t)}function K6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qG=function(){return!!t})()}function fx(t){return fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fx(t)}function Y6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qA(t,e)}function qA(t,e){return qA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qA(t,e)}function ji(t,e,n){return e=GG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GG(t){var e=X6e(t,"string");return hf(e)=="symbol"?e:e+""}function X6e(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ws=function(t){function e(n){var r;return V6e(this,e),r=q6e(this,e,[n]),ji(r,"pieRef",null),ji(r,"sectorRefs",[]),ji(r,"id",cu("recharts-pie-")),ji(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ue(i)&&i()}),ji(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ue(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Y6e(e,t),W6e(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,o=a.labelLine,l=a.dataKey,c=a.valueKey,d=Pe(this.props,!1),f=Pe(s,!1),h=Pe(o,!1),p=s&&s.offsetRadius||20,m=r.map(function(g,x){var b=(g.startAngle+g.endAngle)/2,v=$t(g.cx,g.cy,g.outerRadius+p,b),y=Ot(Ot(Ot(Ot({},d),g),{},{stroke:"none"},f),{},{index:x,textAnchor:e.getTextAnchor(v.x,g.cx)},v),_=Ot(Ot(Ot(Ot({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:x,points:[$t(g.cx,g.cy,g.outerRadius,b),v]}),w=l;return Ve(l)&&Ve(c)?w="value":Ve(l)&&(w=c),M.createElement(ot,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},o&&e.renderLabelLineItem(o,_,"line"),e.renderLabelItem(s,y,cn(g,w)))});return M.createElement(ot,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,s=a.activeShape,o=a.blendStroke,l=a.inactiveShape;return r.map(function(c,d){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(d),h=l&&i.hasActiveIndex()?l:null,p=f?s:h,m=Ot(Ot({},c),{},{stroke:o?c.fill:c.stroke,tabIndex:-1});return M.createElement(ot,td({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Vc(i.props,c,d),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(d)}),M.createElement(WG,td({option:p,isActive:f,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,s=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,c=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return M.createElement(Aa,{begin:o,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var g=m.t,x=[],b=a&&a[0],v=b.startAngle;return a.forEach(function(y,_){var w=h&&h[_],E=_>0?si(y,"paddingAngle",0):0;if(w){var A=Sn(w.endAngle-w.startAngle,y.endAngle-y.startAngle),j=Ot(Ot({},y),{},{startAngle:v+E,endAngle:v+A(g)+E});x.push(j),v=j.endAngle}else{var T=y.endAngle,k=y.startAngle,C=Sn(0,T-k),O=C(g),F=Ot(Ot({},y),{},{startAngle:v+E,endAngle:v+O+E});x.push(F),v=F.endAngle}}),M.createElement(ot,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!qc(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,s=i.sectors,o=i.className,l=i.label,c=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,m=this.state.isAnimationFinished;if(a||!s||!s.length||!de(c)||!de(d)||!de(f)||!de(h))return null;var g=Ke("recharts-pie",o);return M.createElement(ot,{tabIndex:this.props.rootTabIndex,className:g,ref:function(b){r.pieRef=b}},this.renderSectors(),l&&this.renderLabels(s),$n.renderCallByParent(this.props,null,!1),(!p||m)&&os.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(M.isValidElement(r))return M.cloneElement(r,i);if(Ue(r))return r(i);var s=Ke("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return M.createElement(Cc,td({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,a){if(M.isValidElement(r))return M.cloneElement(r,i);var s=a;if(Ue(r)&&(s=r(i),M.isValidElement(s)))return s;var o=Ke("recharts-pie-label-text",typeof r!="boolean"&&!Ue(r)?r.className:"");return M.createElement(Wc,td({},i,{alignmentBaseline:"middle",className:o}),s)}}])}(S.PureComponent);vv=ws;ji(ws,"displayName","Pie");ji(ws,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!xa.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ji(ws,"parseDeltaAngle",function(t,e){var n=ur(e-t),r=Math.min(Math.abs(e-t),360);return n*r});ji(ws,"getRealPieData",function(t){var e=t.data,n=t.children,r=Pe(t,!1),i=oi(n,af);return e&&e.length?e.map(function(a,s){return Ot(Ot(Ot({payload:a},r),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return Ot(Ot({},r),a.props)}):[]});ji(ws,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,s=EG(i,a),o=r+dr(t.cx,i,i/2),l=n+dr(t.cy,a,a/2),c=dr(t.innerRadius,s,0),d=dr(t.outerRadius,s,s*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:o,cy:l,innerRadius:c,outerRadius:d,maxRadius:f}});ji(ws,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Ot(Ot({},e.type.defaultProps),e.props):e.props,i=vv.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,s=r.startAngle,o=r.endAngle,l=r.paddingAngle,c=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,p=Math.abs(r.minAngle),m=vv.parseCoordinateOfPie(r,n),g=vv.parseDeltaAngle(s,o),x=Math.abs(g),b=c;Ve(c)&&Ve(f)?(va(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Ve(c)&&(va(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var v=i.filter(function(j){return cn(j,b,0)!==0}).length,y=(x>=360?v:v-1)*l,_=x-v*p-y,w=i.reduce(function(j,T){var k=cn(T,b,0);return j+(de(k)?k:0)},0),E;if(w>0){var A;E=i.map(function(j,T){var k=cn(j,b,0),C=cn(j,d,T),O=(de(k)?k:0)/w,F;T?F=A.endAngle+ur(g)*l*(k!==0?1:0):F=s;var R=F+ur(g)*((k!==0?p:0)+O*_),D=(F+R)/2,U=(m.innerRadius+m.outerRadius)/2,V=[{name:C,value:k,payload:j,dataKey:b,type:h}],L=$t(m.cx,m.cy,U,D);return A=Ot(Ot(Ot({percent:O,cornerRadius:a,name:C,tooltipPayload:V,midAngle:D,middleRadius:U,tooltipPosition:L},j),m),{},{value:cn(j,b),startAngle:F,endAngle:R,payload:j,paddingAngle:ur(g)*l}),A})}return Ot(Ot({},m),{},{sectors:E,data:i})});var Z6e=Math.ceil,J6e=Math.max;function Q6e(t,e,n,r){for(var i=-1,a=J6e(Z6e((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var e8e=Q6e,t8e=dq,S4=1/0,n8e=17976931348623157e292;function r8e(t){if(!t)return t===0?t:0;if(t=t8e(t),t===S4||t===-S4){var e=t<0?-1:1;return e*n8e}return t===t?t:0}var KG=r8e,i8e=e8e,a8e=ww,tS=KG;function s8e(t){return function(e,n,r){return r&&typeof r!="number"&&a8e(e,n,r)&&(n=r=void 0),e=tS(e),n===void 0?(n=e,e=0):n=tS(n),r=r===void 0?e<n?1:-1:tS(r),i8e(e,n,r,t)}}var o8e=s8e,l8e=o8e,c8e=l8e(),u8e=c8e;const hx=at(u8e);function zm(t){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zm(t)}function E4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E4(Object(n),!0).forEach(function(r){YG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YG(t,e,n){return e=d8e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d8e(t){var e=f8e(t,"string");return zm(e)=="symbol"?e:e+""}function f8e(t,e){if(zm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var h8e=["Webkit","Moz","O","ms"],p8e=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=h8e.reduce(function(a,s){return j4(j4({},a),{},YG({},s+r,n))},{});return i[e]=n,i};function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function px(){return px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},px.apply(this,arguments)}function A4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A4(Object(n),!0).forEach(function(r){Wr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZG(r.key),r)}}function g8e(t,e,n){return e&&T4(t.prototype,e),n&&T4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function y8e(t,e,n){return e=mx(e),v8e(t,XG()?Reflect.construct(e,n||[],mx(t).constructor):e.apply(t,n))}function v8e(t,e){if(e&&(pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x8e(t)}function x8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XG=function(){return!!t})()}function mx(t){return mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mx(t)}function b8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GA(t,e)}function GA(t,e){return GA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GA(t,e)}function Wr(t,e,n){return e=ZG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZG(t){var e=w8e(t,"string");return pf(e)=="symbol"?e:e+""}function w8e(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _8e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=bp().domain(hx(0,l)).range([a,a+s-o]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:d}},k4=function(e){return e.changedTouches&&!!e.changedTouches.length},mf=function(t){function e(n){var r;return m8e(this,e),r=y8e(this,e,[n]),Wr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Wr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Wr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),r.detachDragEndListener()}),Wr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Wr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Wr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Wr(r,"handleSlideDragStart",function(i){var a=k4(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return b8e(e,t),g8e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,d=c.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(s,f),m=e.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:m===d?d:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=cn(a[r],o,r);return Ue(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,g=r.pageX-a;g>0?g=Math.min(g,c+d-f-o,c+d-f-s):g<0&&(g=Math.max(g,c-s,c-o));var x=this.getIndex({startX:s+g,endX:o+g});(x.startIndex!==h||x.endIndex!==p)&&m&&m(x),this.setState({startX:s+g,endX:o+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=k4(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[s],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,g=d.gap,x=d.data,b={startX:this.state.startX,endX:this.state.endX},v=r.pageX-a;v>0?v=Math.min(v,f+h-p-c):v<0&&(v=Math.max(v,f-c)),b[s]=c+v;var y=this.getIndex(b),_=y.startIndex,w=y.endIndex,E=function(){var j=x.length-1;return s==="startX"&&(o>l?_%g===0:w%g===0)||o<l&&w===j||s==="endX"&&(o>l?w%g===0:_%g===0)||o>l&&w===j};this.setState(Wr(Wr({},s,c+v),"brushMoveStartX",r.pageX),function(){m&&E()&&m(y)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,d=this.state[i],f=o.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(Wr({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.fill,c=r.stroke;return M.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.data,c=r.children,d=r.padding,f=S.Children.only(c);return f?M.cloneElement(f,{x:i,y:a,width:s,height:o,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,o=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,x=l.endIndex,b=Math.max(r,this.props.x),v=nS(nS({},Pe(this.props,!1)),{},{x:b,y:c,width:d,height:f}),y=p||"Min value: ".concat((a=m[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=m[x])===null||s===void 0?void 0:s.name);return M.createElement(ot,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),o.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,v))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,c=a.travellerWidth,d=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:s,width:f,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:c};return M.createElement(ot,{className:"recharts-brush-texts"},M.createElement(Wc,px({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+o/2},m),this.getTextOfTick(i)),M.createElement(Wc,px({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:s+o/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,o=r.x,l=r.y,c=r.width,d=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,m=h.endX,g=h.isTextActive,x=h.isSlideMoving,b=h.isTravellerMoving,v=h.isTravellerFocused;if(!i||!i.length||!de(o)||!de(l)||!de(c)||!de(d)||c<=0||d<=0)return null;var y=Ke("recharts-brush",a),_=M.Children.count(s)===1,w=p8e("userSelect","none");return M.createElement(ot,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||x||b||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,o=r.height,l=r.stroke,c=Math.floor(a+o/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),M.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return M.isValidElement(r)?a=M.cloneElement(r,i):Ue(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,d=r.startIndex,f=r.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return nS({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},a&&a.length?_8e({data:a,width:s,x:o,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);r[l]>i?o=l:s=l}return i>=r[o]?o:s}}])}(S.PureComponent);Wr(mf,"displayName","Brush");Wr(mf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var S8e=iN;function E8e(t,e){var n;return S8e(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var j8e=E8e,A8e=LW,T8e=bs,k8e=j8e,C8e=zr,O8e=ww;function N8e(t,e,n){var r=C8e(t)?A8e:k8e;return n&&O8e(t,e,n)&&(e=void 0),r(t,T8e(e))}var P8e=N8e;const I8e=at(P8e);var ls=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},C4=sq;function $8e(t,e,n){e=="__proto__"&&C4?C4(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var R8e=$8e,M8e=R8e,D8e=iq,L8e=bs;function F8e(t,e){var n={};return e=L8e(e),D8e(t,function(r,i,a){M8e(n,i,e(r,i,a))}),n}var B8e=F8e;const z8e=at(B8e);function U8e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var H8e=U8e,V8e=iN;function W8e(t,e){var n=!0;return V8e(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var q8e=W8e,G8e=H8e,K8e=q8e,Y8e=bs,X8e=zr,Z8e=ww;function J8e(t,e,n){var r=X8e(t)?G8e:K8e;return n&&Z8e(t,e,n)&&(e=void 0),r(t,Y8e(e))}var Q8e=J8e;const JG=at(Q8e);var e9e=["x","y"];function Um(t){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(t)}function KA(){return KA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KA.apply(this,arguments)}function O4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ph(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O4(Object(n),!0).forEach(function(r){t9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t9e(t,e,n){return e=n9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n9e(t){var e=r9e(t,"string");return Um(e)=="symbol"?e:e+""}function r9e(t,e){if(Um(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i9e(t,e){if(t==null)return{};var n=a9e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function a9e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function s9e(t,e){var n=t.x,r=t.y,i=i9e(t,e9e),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),d=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Ph(Ph(Ph(Ph(Ph({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function N4(t){return M.createElement(WG,KA({shapeType:"rectangle",propTransformer:s9e,activeClassName:"recharts-active-bar"},t))}var o9e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,i):(a||Kc(),n)}},l9e=["value","background"],QG;function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function c9e(t,e){if(t==null)return{};var n=u9e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function u9e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gx(){return gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gx.apply(this,arguments)}function P4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P4(Object(n),!0).forEach(function(r){Yo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tK(r.key),r)}}function f9e(t,e,n){return e&&I4(t.prototype,e),n&&I4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function h9e(t,e,n){return e=yx(e),p9e(t,eK()?Reflect.construct(e,n||[],yx(t).constructor):e.apply(t,n))}function p9e(t,e){if(e&&(gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m9e(t)}function m9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eK=function(){return!!t})()}function yx(t){return yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yx(t)}function g9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YA(t,e)}function YA(t,e){return YA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YA(t,e)}function Yo(t,e,n){return e=tK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tK(t){var e=y9e(t,"string");return gf(e)=="symbol"?e:e+""}function y9e(t,e){if(gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cs=function(t){function e(){var n;d9e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=h9e(this,e,[].concat(i)),Yo(n,"state",{isAnimationFinished:!1}),Yo(n,"id",cu("recharts-bar-")),Yo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Yo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return g9e(e,t),f9e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,c=a.activeBar,d=Pe(this.props,!1);return r&&r.map(function(f,h){var p=h===l,m=p?c:s,g=gn(gn(gn({},d),f),{},{isActive:p,option:m,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return M.createElement(ot,gx({className:"recharts-bar-rectangle"},Vc(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),M.createElement(N4,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return M.createElement(Aa,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=a.map(function(x,b){var v=h&&h[b];if(v){var y=Sn(v.x,x.x),_=Sn(v.y,x.y),w=Sn(v.width,x.width),E=Sn(v.height,x.height);return gn(gn({},x),{},{x:y(m),y:_(m),width:w(m),height:E(m)})}if(s==="horizontal"){var A=Sn(0,x.height),j=A(m);return gn(gn({},x),{},{y:x.y+x.height-j,height:j})}var T=Sn(0,x.width),k=T(m);return gn(gn({},x),{},{width:k})});return M.createElement(ot,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!qc(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=Pe(this.props.background,!1);return a.map(function(c,d){c.value;var f=c.background,h=c9e(c,l9e);if(!f)return null;var p=gn(gn(gn(gn(gn({},h),{},{fill:"#eee"},f),l),Vc(r.props,c,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return M.createElement(N4,gx({key:"background-bar-".concat(d),option:r.props.background,isActive:d===o},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,c=a.layout,d=a.children,f=oi(d,Ig);if(!f)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(x,b){var v=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:v,errorVal:cn(x,b)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(ot,m,f.map(function(g){return M.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,o=r.xAxis,l=r.yAxis,c=r.left,d=r.top,f=r.width,h=r.height,p=r.isAnimationActive,m=r.background,g=r.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,b=Ke("recharts-bar",s),v=o&&o.allowDataOverflow,y=l&&l.allowDataOverflow,_=v||y,w=Ve(g)?this.id:g;return M.createElement(ot,{className:b},v||y?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(w)},M.createElement("rect",{x:v?c:c-f/2,y:y?d:d-h/2,width:v?f:f*2,height:y?h:h*2}))):null,M.createElement(ot,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(w,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,w),(!p||x)&&os.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(S.PureComponent);QG=cs;Yo(cs,"displayName","Bar");Yo(cs,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!xa.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Yo(cs,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=oFe(r,n);if(!p)return null;var m=e.layout,g=n.type.defaultProps,x=g!==void 0?gn(gn({},g),n.props):n.props,b=x.dataKey,v=x.children,y=x.minPointSize,_=m==="horizontal"?s:a,w=c?_.scale.domain():null,E=pFe({numericAxis:_}),A=oi(v,af),j=f.map(function(T,k){var C,O,F,R,D,U;c?C=lFe(c[d+k],w):(C=cn(T,b),Array.isArray(C)||(C=[E,C]));var V=o9e(y,QG.defaultProps.minPointSize)(C[1],k);if(m==="horizontal"){var L,B=[s.scale(C[0]),s.scale(C[1])],P=B[0],W=B[1];O=_L({axis:a,ticks:o,bandSize:i,offset:p.offset,entry:T,index:k}),F=(L=W??P)!==null&&L!==void 0?L:void 0,R=p.size;var G=P-W;if(D=Number.isNaN(G)?0:G,U={x:O,y:s.y,width:R,height:s.height},Math.abs(V)>0&&Math.abs(D)<Math.abs(V)){var $=ur(D||V)*(Math.abs(V)-Math.abs(D));F-=$,D+=$}}else{var ee=[a.scale(C[0]),a.scale(C[1])],ie=ee[0],I=ee[1];if(O=ie,F=_L({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:T,index:k}),R=I-ie,D=p.size,U={x:a.x,y:F,width:a.width,height:D},Math.abs(V)>0&&Math.abs(R)<Math.abs(V)){var N=ur(R||V)*(Math.abs(V)-Math.abs(R));R+=N}}return gn(gn(gn({},T),{},{x:O,y:F,width:R,height:D,value:c?C:C[1],payload:T,background:U},A&&A[k]&&A[k].props),{},{tooltipPayload:[_G(n,T)],tooltipPosition:{x:O+R/2,y:F+D/2}})});return gn({data:j,layout:m},h)});function Hm(t){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(t)}function v9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nK(r.key),r)}}function x9e(t,e,n){return e&&$4(t.prototype,e),n&&$4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function R4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ra(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R4(Object(n),!0).forEach(function(r){Lw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lw(t,e,n){return e=nK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nK(t){var e=b9e(t,"string");return Hm(e)=="symbol"?e:e+""}function b9e(t,e){if(Hm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IN=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.layout,c=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},h=!!Yr(c,cs);return d.reduce(function(p,m){var g=n[m],x=g.orientation,b=g.domain,v=g.padding,y=v===void 0?{}:v,_=g.mirror,w=g.reversed,E="".concat(x).concat(_?"Mirror":""),A,j,T,k,C;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var O=b[1]-b[0],F=1/0,R=g.categoricalDomain.sort();if(R.forEach(function(ee,ie){ie>0&&(F=Math.min((ee||0)-(R[ie-1]||0),F))}),Number.isFinite(F)){var D=F/O,U=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(A=D*U/2),g.padding==="no-gap"){var V=dr(e.barCategoryGap,D*U),L=D*U/2;A=L-V-(L-V)/U*V}}}i==="xAxis"?j=[r.left+(y.left||0)+(A||0),r.left+r.width-(y.right||0)-(A||0)]:i==="yAxis"?j=l==="horizontal"?[r.top+r.height-(y.bottom||0),r.top+(y.top||0)]:[r.top+(y.top||0)+(A||0),r.top+r.height-(y.bottom||0)-(A||0)]:j=g.range,w&&(j=[j[1],j[0]]);var B=vG(g,a,h),P=B.scale,W=B.realScaleType;P.domain(b).range(j),xG(P);var G=bG(P,ra(ra({},g),{},{realScaleType:W}));i==="xAxis"?(C=x==="top"&&!_||x==="bottom"&&_,T=r.left,k=f[E]-C*g.height):i==="yAxis"&&(C=x==="left"&&!_||x==="right"&&_,T=f[E]-C*g.width,k=r.top);var $=ra(ra(ra({},g),G),{},{realScaleType:W,x:T,y:k,scale:P,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return $.bandSize=tx($,G),!g.hide&&i==="xAxis"?f[E]+=(C?-1:1)*$.height:g.hide||(f[E]+=(C?-1:1)*$.width),ra(ra({},p),{},Lw({},m,$))},{})},rK=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},w9e=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return rK({x:n,y:r},{x:i,y:a})},iK=function(){function t(e){v9e(this,t),this.scale=e}return x9e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Lw(iK,"EPS",1e-4);var $N=function(e){var n=Object.keys(e).reduce(function(r,i){return ra(ra({},r),{},Lw({},i,iK.create(e[i])))},{});return ra(ra({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return z8e(i,function(l,c){return n[c].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return JG(i,function(a,s){return n[s].isInRange(a)})}})};function _9e(t){return(t%180+180)%180}var S9e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=_9e(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},E9e=bs,j9e=kg,A9e=xw;function T9e(t){return function(e,n,r){var i=Object(e);if(!j9e(e)){var a=E9e(n);e=A9e(e),n=function(o){return a(i[o],o,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:void 0}}var k9e=T9e,C9e=KG;function O9e(t){var e=C9e(t),n=e%1;return e===e?n?e-n:e:0}var N9e=O9e,P9e=JW,I9e=bs,$9e=N9e,R9e=Math.max;function M9e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:$9e(n);return i<0&&(i=R9e(r+i,0)),P9e(t,I9e(e),i)}var D9e=M9e,L9e=k9e,F9e=D9e,B9e=L9e(F9e),z9e=B9e;const U9e=at(z9e);var H9e=XAe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),RN=S.createContext(void 0),MN=S.createContext(void 0),aK=S.createContext(void 0),sK=S.createContext({}),oK=S.createContext(void 0),lK=S.createContext(0),cK=S.createContext(0),M4=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,d=H9e(a);return M.createElement(RN.Provider,{value:r},M.createElement(MN.Provider,{value:i},M.createElement(sK.Provider,{value:a},M.createElement(aK.Provider,{value:d},M.createElement(oK.Provider,{value:s},M.createElement(lK.Provider,{value:c},M.createElement(cK.Provider,{value:l},o)))))))},V9e=function(){return S.useContext(oK)},uK=function(e){var n=S.useContext(RN);n==null&&Kc();var r=n[e];return r==null&&Kc(),r},W9e=function(){var e=S.useContext(RN);return Mo(e)},q9e=function(){var e=S.useContext(MN),n=U9e(e,function(r){return JG(r.domain,Number.isFinite)});return n||Mo(e)},dK=function(e){var n=S.useContext(MN);n==null&&Kc();var r=n[e];return r==null&&Kc(),r},G9e=function(){var e=S.useContext(aK);return e},K9e=function(){return S.useContext(sK)},DN=function(){return S.useContext(cK)},LN=function(){return S.useContext(lK)};function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function Y9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X9e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hK(r.key),r)}}function Z9e(t,e,n){return e&&X9e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function J9e(t,e,n){return e=vx(e),Q9e(t,fK()?Reflect.construct(e,n||[],vx(t).constructor):e.apply(t,n))}function Q9e(t,e){if(e&&(yf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eHe(t)}function eHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fK=function(){return!!t})()}function vx(t){return vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vx(t)}function tHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XA(t,e)}function XA(t,e){return XA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XA(t,e)}function D4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D4(Object(n),!0).forEach(function(r){FN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FN(t,e,n){return e=hK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hK(t){var e=nHe(t,"string");return yf(e)=="symbol"?e:e+""}function nHe(t,e){if(yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rHe(t,e){return oHe(t)||sHe(t,e)||aHe(t,e)||iHe()}function iHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aHe(t,e){if(t){if(typeof t=="string")return F4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F4(t,e)}}function F4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sHe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function oHe(t){if(Array.isArray(t))return t}function ZA(){return ZA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZA.apply(this,arguments)}var lHe=function(e,n){var r;return M.isValidElement(e)?r=M.cloneElement(e,n):Ue(e)?r=e(n):r=M.createElement("line",ZA({},n,{className:"recharts-reference-line-line"})),r},cHe=function(e,n,r,i,a,s,o,l,c){var d=a.x,f=a.y,h=a.width,p=a.height;if(r){var m=c.y,g=e.y.apply(m,{position:s});if(ls(c,"discard")&&!e.y.isInRange(g))return null;var x=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?x.reverse():x}if(n){var b=c.x,v=e.x.apply(b,{position:s});if(ls(c,"discard")&&!e.x.isInRange(v))return null;var y=[{x:v,y:f+p},{x:v,y:f}];return o==="top"?y.reverse():y}if(i){var _=c.segment,w=_.map(function(E){return e.apply(E,{position:s})});return ls(c,"discard")&&I8e(w,function(E){return!e.isInRange(E)})?null:w}return null};function uHe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,c=V9e(),d=uK(i),f=dK(a),h=G9e();if(!c||!h)return null;va(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=$N({x:d.scale,y:f.scale}),m=jn(e),g=jn(n),x=r&&r.length===2,b=cHe(p,m,g,x,h,t.position,d.orientation,f.orientation,t);if(!b)return null;var v=rHe(b,2),y=v[0],_=y.x,w=y.y,E=v[1],A=E.x,j=E.y,T=ls(t,"hidden")?"url(#".concat(c,")"):void 0,k=L4(L4({clipPath:T},Pe(t,!0)),{},{x1:_,y1:w,x2:A,y2:j});return M.createElement(ot,{className:Ke("recharts-reference-line",o)},lHe(s,k),$n.renderCallByParent(t,w9e({x1:_,y1:w,x2:A,y2:j})))}var BN=function(t){function e(){return Y9e(this,e),J9e(this,e,arguments)}return tHe(e,t),Z9e(e,[{key:"render",value:function(){return M.createElement(uHe,this.props)}}])}(M.Component);FN(BN,"displayName","ReferenceLine");FN(BN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function JA(){return JA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JA.apply(this,arguments)}function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function B4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B4(Object(n),!0).forEach(function(r){Fw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fHe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mK(r.key),r)}}function hHe(t,e,n){return e&&fHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pHe(t,e,n){return e=xx(e),mHe(t,pK()?Reflect.construct(e,n||[],xx(t).constructor):e.apply(t,n))}function mHe(t,e){if(e&&(vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gHe(t)}function gHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pK=function(){return!!t})()}function xx(t){return xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xx(t)}function yHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QA(t,e)}function QA(t,e){return QA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QA(t,e)}function Fw(t,e,n){return e=mK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mK(t){var e=vHe(t,"string");return vf(e)=="symbol"?e:e+""}function vHe(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xHe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=$N({x:i.scale,y:a.scale}),o=s.apply({x:n,y:r},{bandAware:!0});return ls(e,"discard")&&!s.isInRange(o)?null:o},Bw=function(t){function e(){return dHe(this,e),pHe(this,e,arguments)}return yHe(e,t),hHe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,o=r.alwaysShow,l=r.clipPathId,c=jn(i),d=jn(a);if(va(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=xHe(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,g=m.shape,x=m.className,b=ls(this.props,"hidden")?"url(#".concat(l,")"):void 0,v=z4(z4({clipPath:b},Pe(this.props,!0)),{},{cx:h,cy:p});return M.createElement(ot,{className:Ke("recharts-reference-dot",x)},e.renderDot(g,v),$n.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(M.Component);Fw(Bw,"displayName","ReferenceDot");Fw(Bw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Fw(Bw,"renderDot",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):Ue(t)?n=t(e):n=M.createElement($g,JA({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function eT(){return eT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eT.apply(this,arguments)}function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function U4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U4(Object(n),!0).forEach(function(r){zw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wHe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yK(r.key),r)}}function _He(t,e,n){return e&&wHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SHe(t,e,n){return e=bx(e),EHe(t,gK()?Reflect.construct(e,n||[],bx(t).constructor):e.apply(t,n))}function EHe(t,e){if(e&&(xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jHe(t)}function jHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gK=function(){return!!t})()}function bx(t){return bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bx(t)}function AHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tT(t,e)}function tT(t,e){return tT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tT(t,e)}function zw(t,e,n){return e=yK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yK(t){var e=THe(t,"string");return xf(e)=="symbol"?e:e+""}function THe(t,e){if(xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kHe=function(e,n,r,i,a){var s=a.x1,o=a.x2,l=a.y1,c=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=$N({x:d.scale,y:f.scale}),p={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:n?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return ls(a,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:rK(p,m)},Uw=function(t){function e(){return bHe(this,e),SHe(this,e,arguments)}return AHe(e,t),_He(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,d=r.clipPathId;va(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=jn(i),h=jn(a),p=jn(s),m=jn(o),g=this.props.shape;if(!f&&!h&&!p&&!m&&!g)return null;var x=kHe(f,h,p,m,this.props);if(!x&&!g)return null;var b=ls(this.props,"hidden")?"url(#".concat(d,")"):void 0;return M.createElement(ot,{className:Ke("recharts-reference-area",l)},e.renderRect(g,H4(H4({clipPath:b},Pe(this.props,!0)),x)),$n.renderCallByParent(this.props,x))}}])}(M.Component);zw(Uw,"displayName","ReferenceArea");zw(Uw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});zw(Uw,"renderRect",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):Ue(t)?n=t(e):n=M.createElement(PN,eT({},e,{className:"recharts-reference-area-rect"})),n});function vK(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function CHe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return S9e(r,n)}function OHe(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function wx(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function NHe(t,e){return vK(t,e+1)}function PHe(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,o=e.end,l=0,c=1,d=s,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:vK(r,c)};var g=l,x,b=function(){return x===void 0&&(x=n(m,g)),x},v=m.coordinate,y=l===0||wx(t,v,b,d,o);y||(l=0,d=s,c+=1),y&&(d=v+t*(b()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function Vm(t){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(t)}function V4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V4(Object(n),!0).forEach(function(r){IHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IHe(t,e,n){return e=$He(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $He(t){var e=RHe(t,"string");return Vm(e)=="symbol"?e:e+""}function RHe(t,e){if(Vm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MHe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,o=e.start,l=e.end,c=function(h){var p=a[h],m,g=function(){return m===void 0&&(m=n(p,h)),m};if(h===s-1){var x=t*(p.coordinate+t*g()/2-l);a[h]=p=Kn(Kn({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate})}else a[h]=p=Kn(Kn({},p),{},{tickCoord:p.coordinate});var b=wx(t,p.tickCoord,g,o,l);b&&(l=p.tickCoord-t*(g()/2+i),a[h]=Kn(Kn({},p),{},{isShow:!0}))},d=s-1;d>=0;d--)c(d);return a}function DHe(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,l=e.start,c=e.end;if(a){var d=r[o-1],f=n(d,o-1),h=t*(d.coordinate+t*f/2-c);s[o-1]=d=Kn(Kn({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var p=wx(t,d.tickCoord,function(){return f},l,c);p&&(c=d.tickCoord-t*(f/2+i),s[o-1]=Kn(Kn({},d),{},{isShow:!0}))}for(var m=a?o-1:o,g=function(v){var y=s[v],_,w=function(){return _===void 0&&(_=n(y,v)),_};if(v===0){var E=t*(y.coordinate-t*w()/2-l);s[v]=y=Kn(Kn({},y),{},{tickCoord:E<0?y.coordinate-E*t:y.coordinate})}else s[v]=y=Kn(Kn({},y),{},{tickCoord:y.coordinate});var A=wx(t,y.tickCoord,w,l,c);A&&(l=y.tickCoord+t*(w()/2+i),s[v]=Kn(Kn({},y),{},{isShow:!0}))},x=0;x<m;x++)g(x);return s}function zN(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(de(l)||xa.isSsr)return NHe(i,typeof l=="number"&&de(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",m=d&&p==="width"?xp(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(y,_){var w=Ue(c)?c(y.value,_):y.value;return p==="width"?CHe(xp(w,{fontSize:e,letterSpacing:n}),m,f):xp(w,{fontSize:e,letterSpacing:n})[p]},x=i.length>=2?ur(i[1].coordinate-i[0].coordinate):1,b=OHe(a,x,p);return l==="equidistantPreserveStart"?PHe(x,b,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=DHe(x,b,g,i,s,l==="preserveStartEnd"):h=MHe(x,b,g,i,s),h.filter(function(v){return v.isShow}))}var LHe=["viewBox"],FHe=["viewBox"],BHe=["ticks"];function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function nd(){return nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nd.apply(this,arguments)}function W4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W4(Object(n),!0).forEach(function(r){UN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rS(t,e){if(t==null)return{};var n=zHe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zHe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function UHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bK(r.key),r)}}function HHe(t,e,n){return e&&q4(t.prototype,e),n&&q4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function VHe(t,e,n){return e=_x(e),WHe(t,xK()?Reflect.construct(e,n||[],_x(t).constructor):e.apply(t,n))}function WHe(t,e){if(e&&(bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qHe(t)}function qHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xK=function(){return!!t})()}function _x(t){return _x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_x(t)}function GHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nT(t,e)}function nT(t,e){return nT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nT(t,e)}function UN(t,e,n){return e=bK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bK(t){var e=KHe(t,"string");return bf(e)=="symbol"?e:e+""}function KHe(t,e){if(bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ah=function(t){function e(n){var r;return UHe(this,e),r=VHe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return GHe(e,t),HHe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=rS(r,LHe),o=this.props,l=o.viewBox,c=rS(o,FHe);return!xd(a,l)||!xd(s,c)||!xd(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,c=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,m,g,x,b,v,y=f?-1:1,_=r.tickSize||d,w=de(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=m=r.coordinate,x=s+ +!f*l,g=x-y*_,v=g-y*h,b=w;break;case"left":g=x=r.coordinate,m=a+ +!f*o,p=m-y*_,b=p-y*h,v=w;break;case"right":g=x=r.coordinate,m=a+ +f*o,p=m+y*_,b=p+y*h,v=w;break;default:p=m=r.coordinate,x=s+ +f*l,g=x+y*_,v=g+y*h,b=w;break}return{line:{x1:p,y1:g,x2:m,y2:x},tick:{x:b,y:v}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.orientation,c=r.mirror,d=r.axisLine,f=ir(ir(ir({},Pe(this.props,!1)),Pe(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=ir(ir({},f),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=ir(ir({},f),{},{x1:i+p*s,y1:a,x2:i+p*s,y2:a+o})}return M.createElement("line",nd({},f,{className:Ke("recharts-cartesian-axis-line",si(d,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,o=this.props,l=o.tickLine,c=o.stroke,d=o.tick,f=o.tickFormatter,h=o.unit,p=zN(ir(ir({},this.props),{},{ticks:r}),i,a),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),x=Pe(this.props,!1),b=Pe(d,!1),v=ir(ir({},x),{},{fill:"none"},Pe(l,!1)),y=p.map(function(_,w){var E=s.getTickLineCoord(_),A=E.line,j=E.tick,T=ir(ir(ir(ir({textAnchor:m,verticalAnchor:g},x),{},{stroke:"none",fill:c},b),j),{},{index:w,payload:_,visibleTicksCount:p.length,tickFormatter:f});return M.createElement(ot,nd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Vc(s.props,_,w)),l&&M.createElement("line",nd({},v,A,{className:Ke("recharts-cartesian-axis-tick-line",si(l,"className"))})),d&&e.renderTickItem(d,T,"".concat(Ue(f)?f(_.value,w):_.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=rS(f,BHe),m=h;return Ue(l)&&(m=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!m||!m.length?null:M.createElement(ot,{className:Ke("recharts-cartesian-axis",c),ref:function(x){r.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),$n.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return M.isValidElement(r)?s=M.cloneElement(r,i):Ue(r)?s=r(i):s=M.createElement(Wc,nd({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(S.Component);UN(ah,"displayName","CartesianAxis");UN(ah,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var YHe=["x1","y1","x2","y2","key"],XHe=["offset"];function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function G4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G4(Object(n),!0).forEach(function(r){ZHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZHe(t,e,n){return e=JHe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JHe(t){var e=QHe(t,"string");return Yc(e)=="symbol"?e:e+""}function QHe(t,e){if(Yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pc(){return pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pc.apply(this,arguments)}function K4(t,e){if(t==null)return{};var n=eVe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eVe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var tVe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return M.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function wK(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(Ue(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=K4(e,YHe),c=Pe(l,!1);c.offset;var d=K4(c,XHe);n=M.createElement("line",pc({},d,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function nVe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=Zn(Zn({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return wK(i,c)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function rVe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=Zn(Zn({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return wK(i,c)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function iVe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var d=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?i+s-h:d[p+1]-h;if(g<=0)return null;var x=p%e.length;return M.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:g,width:a,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function aVe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var d=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?a+o-h:d[p+1]-h;if(g<=0)return null;var x=p%r.length;return M.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:g,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var sVe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return yG(zN(Zn(Zn(Zn({},ah.defaultProps),r),{},{ticks:Ds(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},oVe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return yG(zN(Zn(Zn(Zn({},ah.defaultProps),r),{},{ticks:Ds(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},Cu={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Sx(t){var e,n,r,i,a,s,o=DN(),l=LN(),c=K9e(),d=Zn(Zn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Cu.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Cu.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Cu.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Cu.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Cu.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Cu.verticalFill,x:de(t.x)?t.x:c.left,y:de(t.y)?t.y:c.top,width:de(t.width)?t.width:c.width,height:de(t.height)?t.height:c.height}),f=d.x,h=d.y,p=d.width,m=d.height,g=d.syncWithTicks,x=d.horizontalValues,b=d.verticalValues,v=W9e(),y=q9e();if(!de(p)||p<=0||!de(m)||m<=0||!de(f)||f!==+f||!de(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||sVe,w=d.horizontalCoordinatesGenerator||oVe,E=d.horizontalPoints,A=d.verticalPoints;if((!E||!E.length)&&Ue(w)){var j=x&&x.length,T=w({yAxis:y?Zn(Zn({},y),{},{ticks:j?x:y.ticks}):void 0,width:o,height:l,offset:c},j?!0:g);va(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Yc(T),"]")),Array.isArray(T)&&(E=T)}if((!A||!A.length)&&Ue(_)){var k=b&&b.length,C=_({xAxis:v?Zn(Zn({},v),{},{ticks:k?b:v.ticks}):void 0,width:o,height:l,offset:c},k?!0:g);va(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Yc(C),"]")),Array.isArray(C)&&(A=C)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(tVe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),M.createElement(nVe,pc({},d,{offset:c,horizontalPoints:E,xAxis:v,yAxis:y})),M.createElement(rVe,pc({},d,{offset:c,verticalPoints:A,xAxis:v,yAxis:y})),M.createElement(iVe,pc({},d,{horizontalPoints:E})),M.createElement(aVe,pc({},d,{verticalPoints:A})))}Sx.displayName="CartesianGrid";var lVe=["type","layout","connectNulls","ref"],cVe=["key"];function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function Y4(t,e){if(t==null)return{};var n=uVe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uVe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jp(){return jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jp.apply(this,arguments)}function X4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X4(Object(n),!0).forEach(function(r){ia(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ou(t){return pVe(t)||hVe(t)||fVe(t)||dVe()}function dVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fVe(t,e){if(t){if(typeof t=="string")return rT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rT(t,e)}}function hVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pVe(t){if(Array.isArray(t))return rT(t)}function rT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SK(r.key),r)}}function gVe(t,e,n){return e&&Z4(t.prototype,e),n&&Z4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yVe(t,e,n){return e=Ex(e),vVe(t,_K()?Reflect.construct(e,n||[],Ex(t).constructor):e.apply(t,n))}function vVe(t,e){if(e&&(wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xVe(t)}function xVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _K(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_K=function(){return!!t})()}function Ex(t){return Ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ex(t)}function bVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iT(t,e)}function iT(t,e){return iT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iT(t,e)}function ia(t,e,n){return e=SK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SK(t){var e=wVe(t,"string");return wf(e)=="symbol"?e:e+""}function wVe(t,e){if(wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oc=function(t){function e(){var n;mVe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=yVe(this,e,[].concat(i)),ia(n,"state",{isAnimationFinished:!0,totalLength:0}),ia(n,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),ia(n,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(b,v){return b+v});if(!c)return n.generateSimpleStrokeDasharray(o,s);for(var d=Math.floor(s/c),f=s%c,h=o-s,p=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>f){p=[].concat(Ou(l.slice(0,m)),[f-g]);break}var x=p.length%2===0?[0,h]:[h];return[].concat(Ou(e.repeat(l,d)),Ou(p),x).map(function(b){return"".concat(b,"px")}).join(", ")}),ia(n,"id",cu("recharts-line-")),ia(n,"pathRef",function(s){n.mainCurve=s}),ia(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),ia(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return bVe(e,t),gVe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,c=a.layout,d=a.children,f=oi(d,Ig);if(!f)return null;var h=function(g,x){return{x:g.x,y:g.y,value:g.value,errorVal:cn(g.payload,x)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(ot,p,f.map(function(m){return M.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,d=o.dataKey,f=Pe(this.props,!1),h=Pe(l,!0),p=c.map(function(g,x){var b=Vr(Vr(Vr({key:"dot-".concat(x),r:3},f),h),{},{value:g.value,dataKey:d,cx:g.x,cy:g.y,index:x,payload:g.payload});return e.renderDotItem(l,b)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return M.createElement(ot,jp({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(r,i,a,s){var o=this.props,l=o.type,c=o.layout,d=o.connectNulls;o.ref;var f=Y4(o,lVe),h=Vr(Vr(Vr({},Pe(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},s),{},{type:l,layout:c,connectNulls:d});return M.createElement(Cc,jp({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,m=s.animateNewValues,g=s.width,x=s.height,b=this.state,v=b.prevPoints,y=b.totalLength;return M.createElement(Aa,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var w=_.t;if(v){var E=v.length/o.length,A=o.map(function(O,F){var R=Math.floor(F*E);if(v[R]){var D=v[R],U=Sn(D.x,O.x),V=Sn(D.y,O.y);return Vr(Vr({},O),{},{x:U(w),y:V(w)})}if(m){var L=Sn(g*2,O.x),B=Sn(x/2,O.y);return Vr(Vr({},O),{},{x:L(w),y:B(w)})}return Vr(Vr({},O),{},{x:O.x,y:O.y})});return a.renderCurveStatically(A,r,i)}var j=Sn(0,y),T=j(w),k;if(l){var C="".concat(l).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});k=a.getStrokeDasharray(T,y,C)}else k=a.generateSimpleStrokeDasharray(y,T);return a.renderCurveStatically(o,r,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(r,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return o&&s&&s.length&&(!c&&d>0||!qc(c,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,m=i.height,g=i.isAnimationActive,x=i.id;if(a||!o||!o.length)return null;var b=this.state.isAnimationFinished,v=o.length===1,y=Ke("recharts-line",l),_=c&&c.allowDataOverflow,w=d&&d.allowDataOverflow,E=_||w,A=Ve(x)?this.id:x,j=(r=Pe(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},T=j.r,k=T===void 0?3:T,C=j.strokeWidth,O=C===void 0?2:C,F=cW(s)?s:{},R=F.clipDot,D=R===void 0?!0:R,U=k*2+O;return M.createElement(ot,{className:y},_||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(A)},M.createElement("rect",{x:_?h:h-p/2,y:w?f:f-m/2,width:_?p:p*2,height:w?m:m*2})),!D&&M.createElement("clipPath",{id:"clipPath-dots-".concat(A)},M.createElement("rect",{x:h-U/2,y:f-U/2,width:p+U,height:m+U}))):null,!v&&this.renderCurve(E,A),this.renderErrorBar(E,A),(v||s)&&this.renderDots(E,D,A),(!g||b)&&os.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(Ou(r),[0]):r,s=[],o=0;o<i;++o)s=[].concat(Ou(s),Ou(a));return s}},{key:"renderDotItem",value:function(r,i){var a;if(M.isValidElement(r))a=M.cloneElement(r,i);else if(Ue(r))a=r(i);else{var s=i.key,o=Y4(i,cVe),l=Ke("recharts-line-dot",typeof r!="boolean"?r.className:"");a=M.createElement($g,jp({key:s},o,{className:l}))}return a}}])}(S.PureComponent);ia(Oc,"displayName","Line");ia(Oc,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!xa.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ia(Oc,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,c=t.offset,d=e.layout,f=l.map(function(h,p){var m=cn(h,s);return d==="horizontal"?{x:ex({axis:n,ticks:i,bandSize:o,entry:h,index:p}),y:Ve(m)?null:r.scale(m),value:m,payload:h}:{x:Ve(m)?null:n.scale(m),y:ex({axis:r,ticks:a,bandSize:o,entry:h,index:p}),value:m,payload:h}});return Vr({points:f,layout:d},c)});var _Ve=["layout","type","stroke","connectNulls","isRange","ref"],SVe=["key"],EK;function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function jK(t,e){if(t==null)return{};var n=EVe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function EVe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mc.apply(this,arguments)}function J4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ko(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J4(Object(n),!0).forEach(function(r){Ja(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TK(r.key),r)}}function AVe(t,e,n){return e&&Q4(t.prototype,e),n&&Q4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function TVe(t,e,n){return e=jx(e),kVe(t,AK()?Reflect.construct(e,n||[],jx(t).constructor):e.apply(t,n))}function kVe(t,e){if(e&&(_f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CVe(t)}function CVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AK=function(){return!!t})()}function jx(t){return jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jx(t)}function OVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aT(t,e)}function aT(t,e){return aT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aT(t,e)}function Ja(t,e,n){return e=TK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TK(t){var e=NVe(t,"string");return _f(e)=="symbol"?e:e+""}function NVe(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lo=function(t){function e(){var n;jVe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=TVe(this,e,[].concat(i)),Ja(n,"state",{isAnimationFinished:!0}),Ja(n,"id",cu("recharts-area-")),Ja(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ue(s)&&s()}),Ja(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ue(s)&&s()}),n}return OVe(e,t),AVe(e,[{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var l=this.props,c=l.dot,d=l.points,f=l.dataKey,h=Pe(this.props,!1),p=Pe(c,!0),m=d.map(function(x,b){var v=ko(ko(ko({key:"dot-".concat(b),r:3},h),p),{},{index:b,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:d});return e.renderDotItem(c,v)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return M.createElement(ot,mc({className:"recharts-area-dots"},g),m)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].x,c=s[s.length-1].x,d=r*Math.abs(l-c),f=Ko(s.map(function(h){return h.y||0}));return de(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Ko(a.map(function(h){return h.y||0})),f)),de(f)?M.createElement("rect",{x:l<c?l:l-d,y:0,width:d,height:Math.floor(f+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].y,c=s[s.length-1].y,d=r*Math.abs(l-c),f=Ko(s.map(function(h){return h.x||0}));return de(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Ko(a.map(function(h){return h.x||0})),f)),de(f)?M.createElement("rect",{x:0,y:l<c?l:l-d,width:f+(o?parseInt("".concat(o),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,s){var o=this.props,l=o.layout,c=o.type,d=o.stroke,f=o.connectNulls,h=o.isRange;o.ref;var p=jK(o,_Ve);return M.createElement(ot,{clipPath:a?"url(#clipPath-".concat(s,")"):null},M.createElement(Cc,mc({},Pe(p,!0),{points:r,connectNulls:f,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&M.createElement(Cc,mc({},Pe(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:r})),d!=="none"&&h&&M.createElement(Cc,mc({},Pe(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,m=this.state,g=m.prevPoints,x=m.prevBaseLine;return M.createElement(Aa,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var v=b.t;if(g){var y=g.length/o.length,_=o.map(function(j,T){var k=Math.floor(T*y);if(g[k]){var C=g[k],O=Sn(C.x,j.x),F=Sn(C.y,j.y);return ko(ko({},j),{},{x:O(v),y:F(v)})}return j}),w;if(de(l)&&typeof l=="number"){var E=Sn(x,l);w=E(v)}else if(Ve(l)||Zf(l)){var A=Sn(x,0);w=A(v)}else w=l.map(function(j,T){var k=Math.floor(T*y);if(x[k]){var C=x[k],O=Sn(C.x,j.x),F=Sn(C.y,j.y);return ko(ko({},j),{},{x:O(v),y:F(v)})}return j});return a.renderAreaStatically(_,w,r,i)}return M.createElement(ot,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(v))),M.createElement(ot,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(o,l,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,s=a.points,o=a.baseLine,l=a.isAnimationActive,c=this.state,d=c.prevPoints,f=c.prevBaseLine,h=c.totalLength;return l&&s&&s.length&&(!d&&h>0||!qc(d,s)||!qc(f,o))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.top,d=i.left,f=i.xAxis,h=i.yAxis,p=i.width,m=i.height,g=i.isAnimationActive,x=i.id;if(a||!o||!o.length)return null;var b=this.state.isAnimationFinished,v=o.length===1,y=Ke("recharts-area",l),_=f&&f.allowDataOverflow,w=h&&h.allowDataOverflow,E=_||w,A=Ve(x)?this.id:x,j=(r=Pe(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},T=j.r,k=T===void 0?3:T,C=j.strokeWidth,O=C===void 0?2:C,F=cW(s)?s:{},R=F.clipDot,D=R===void 0?!0:R,U=k*2+O;return M.createElement(ot,{className:y},_||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(A)},M.createElement("rect",{x:_?d:d-p/2,y:w?c:c-m/2,width:_?p:p*2,height:w?m:m*2})),!D&&M.createElement("clipPath",{id:"clipPath-dots-".concat(A)},M.createElement("rect",{x:d-U/2,y:c-U/2,width:p+U,height:m+U}))):null,v?null:this.renderArea(E,A),(s||v)&&this.renderDots(E,D,A),(!g||b)&&os.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(S.PureComponent);EK=lo;Ja(lo,"displayName","Area");Ja(lo,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!xa.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ja(lo,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,s=e.props.baseValue,o=s??a;if(de(o)&&typeof o=="number")return o;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var d=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return o==="dataMin"?f:o==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]});Ja(lo,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.bandSize,l=t.dataKey,c=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=e.layout,m=c&&c.length,g=EK.getBaseValue(e,n,r,i),x=p==="horizontal",b=!1,v=f.map(function(_,w){var E;m?E=c[d+w]:(E=cn(_,l),Array.isArray(E)?b=!0:E=[g,E]);var A=E[1]==null||m&&cn(_,l)==null;return x?{x:ex({axis:r,ticks:a,bandSize:o,entry:_,index:w}),y:A?null:i.scale(E[1]),value:E,payload:_}:{x:A?null:r.scale(E[1]),y:ex({axis:i,ticks:s,bandSize:o,entry:_,index:w}),value:E,payload:_}}),y;return m||b?y=v.map(function(_){var w=Array.isArray(_.value)?_.value[0]:null;return x?{x:_.x,y:w!=null&&_.y!=null?i.scale(w):null}:{x:w!=null?r.scale(w):null,y:_.y}}):y=x?i.scale(g):r.scale(g),ko({points:v,baseLine:y,layout:p,isRange:b},h)});Ja(lo,"renderDotItem",function(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(Ue(t))n=t(e);else{var r=Ke("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=jK(e,SVe);n=M.createElement($g,mc({},a,{key:i,className:r}))}return n});function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function PVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IVe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OK(r.key),r)}}function $Ve(t,e,n){return e&&IVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RVe(t,e,n){return e=Ax(e),MVe(t,kK()?Reflect.construct(e,n||[],Ax(t).constructor):e.apply(t,n))}function MVe(t,e){if(e&&(Sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DVe(t)}function DVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kK=function(){return!!t})()}function Ax(t){return Ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ax(t)}function LVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sT(t,e)}function sT(t,e){return sT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sT(t,e)}function CK(t,e,n){return e=OK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OK(t){var e=FVe(t,"string");return Sf(e)=="symbol"?e:e+""}function FVe(t,e){if(Sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oT(){return oT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oT.apply(this,arguments)}function BVe(t){var e=t.xAxisId,n=DN(),r=LN(),i=uK(e);return i==null?null:M.createElement(ah,oT({},i,{className:Ke("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Ds(s,!0)}}))}var jl=function(t){function e(){return PVe(this,e),RVe(this,e,arguments)}return LVe(e,t),$Ve(e,[{key:"render",value:function(){return M.createElement(BVe,this.props)}}])}(M.Component);CK(jl,"displayName","XAxis");CK(jl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function zVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UVe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IK(r.key),r)}}function HVe(t,e,n){return e&&UVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VVe(t,e,n){return e=Tx(e),WVe(t,NK()?Reflect.construct(e,n||[],Tx(t).constructor):e.apply(t,n))}function WVe(t,e){if(e&&(Ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qVe(t)}function qVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NK=function(){return!!t})()}function Tx(t){return Tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tx(t)}function GVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lT(t,e)}function lT(t,e){return lT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lT(t,e)}function PK(t,e,n){return e=IK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IK(t){var e=KVe(t,"string");return Ef(e)=="symbol"?e:e+""}function KVe(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cT(){return cT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cT.apply(this,arguments)}var YVe=function(e){var n=e.yAxisId,r=DN(),i=LN(),a=dK(n);return a==null?null:M.createElement(ah,cT({},a,{className:Ke("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return Ds(o,!0)}}))},Al=function(t){function e(){return zVe(this,e),VVe(this,e,arguments)}return GVe(e,t),HVe(e,[{key:"render",value:function(){return M.createElement(YVe,this.props)}}])}(M.Component);PK(Al,"displayName","YAxis");PK(Al,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function e5(t){return QVe(t)||JVe(t)||ZVe(t)||XVe()}function XVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZVe(t,e){if(t){if(typeof t=="string")return uT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uT(t,e)}}function JVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QVe(t){if(Array.isArray(t))return uT(t)}function uT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var dT=function(e,n,r,i,a){var s=oi(e,BN),o=oi(e,Bw),l=[].concat(e5(s),e5(o)),c=oi(e,Uw),d="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(g,x){if(x.props[d]===r&&ls(x.props,"extendDomain")&&de(x.props[f])){var b=x.props[f];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},h)),c.length){var p="".concat(f,"1"),m="".concat(f,"2");h=c.reduce(function(g,x){if(x.props[d]===r&&ls(x.props,"extendDomain")&&de(x.props[p])&&de(x.props[m])){var b=x.props[p],v=x.props[m];return[Math.min(g[0],b,v),Math.max(g[1],b,v)]}return g},h)}return a&&a.length&&(h=a.reduce(function(g,x){return de(x)?[Math.min(g[0],x),Math.max(g[1],x)]:g},h)),h},iS=new Due,aS="recharts.syncMouseEvents";function Wm(t){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wm(t)}function e7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t7e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$K(r.key),r)}}function n7e(t,e,n){return e&&t7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sS(t,e,n){return e=$K(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $K(t){var e=r7e(t,"string");return Wm(e)=="symbol"?e:e+""}function r7e(t,e){if(Wm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var i7e=function(){function t(){e7e(this,t),sS(this,"activeIndex",0),sS(this,"coordinateList",[]),sS(this,"layout","horizontal")}return n7e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,o=s===void 0?null:s,l=n.layout,c=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+c,h=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function a7e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&de(r)&&de(i))return!0}return!1}function s7e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function RK(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=$t(e,n,r,i),o=$t(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function o7e(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,d=e.outerRadius,f=e.angle,h=$t(o,l,c,f),p=$t(o,l,d,f);r=h.x,i=h.y,a=p.x,s=p.y}else return RK(e);return[{x:r,y:i},{x:a,y:s}]}function qm(t){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(t)}function t5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t5(Object(n),!0).forEach(function(r){l7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l7e(t,e,n){return e=c7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c7e(t){var e=u7e(t,"string");return qm(e)=="symbol"?e:e+""}function u7e(t,e){if(qm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d7e(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var m,g=Cc;if(h==="ScatterChart")m=s,g=wUe;else if(h==="BarChart")m=s7e(f,s,l,d),g=PN;else if(f==="radial"){var x=RK(s),b=x.cx,v=x.cy,y=x.radius,_=x.startAngle,w=x.endAngle;m={cx:b,cy:v,startAngle:_,endAngle:w,innerRadius:y,outerRadius:y},g=kG}else m={points:o7e(f,s,l)},g=Cc;var E=Vy(Vy(Vy(Vy({stroke:"#ccc",pointerEvents:"none"},l),m),Pe(p,!1)),{},{payload:o,payloadIndex:c,className:Ke("recharts-tooltip-cursor",p.className)});return S.isValidElement(p)?S.cloneElement(p,E):S.createElement(g,E)}var f7e=["item"],h7e=["children","className","width","height","style","compact","title","desc"];function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function Ap(){return Ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ap.apply(this,arguments)}function n5(t,e){return g7e(t)||m7e(t,e)||DK(t,e)||p7e()}function p7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m7e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function g7e(t){if(Array.isArray(t))return t}function r5(t,e){if(t==null)return{};var n=y7e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function y7e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function v7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x7e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LK(r.key),r)}}function b7e(t,e,n){return e&&x7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function w7e(t,e,n){return e=kx(e),_7e(t,MK()?Reflect.construct(e,n||[],kx(t).constructor):e.apply(t,n))}function _7e(t,e){if(e&&(jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S7e(t)}function S7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MK=function(){return!!t})()}function kx(t){return kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kx(t)}function E7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fT(t,e)}function fT(t,e){return fT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fT(t,e)}function Af(t){return T7e(t)||A7e(t)||DK(t)||j7e()}function j7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DK(t,e){if(t){if(typeof t=="string")return hT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hT(t,e)}}function A7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function T7e(t){if(Array.isArray(t))return hT(t)}function hT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i5(Object(n),!0).forEach(function(r){ze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ze(t,e,n){return e=LK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LK(t){var e=k7e(t,"string");return jf(e)=="symbol"?e:e+""}function k7e(t,e){if(jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C7e={xAxis:["bottom","top"],yAxis:["left","right"]},O7e={width:"100%",height:"100%"},FK={x:0,y:0};function Wy(t){return t}var N7e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},P7e=function(e,n,r,i){var a=n.find(function(d){return d&&d.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return Q(Q(Q({},i),$t(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,c=i.angle;return Q(Q(Q({},i),$t(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return FK},Hw=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Af(o),Af(c)):o},[]);return s.length>0?s:e&&e.length&&de(i)&&de(a)?e.slice(i,a+1):[]};function BK(t){return t==="number"?[0,"auto"]:void 0}var pT=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,o=Hw(n,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;h=A0(p,s.dataKey,i)}else h=f&&f[r]||o[r];return h?[].concat(Af(l),[_G(c,h)]):l},[])},a5=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=N7e(a,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=tFe(s,o,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,h=pT(e,n,d,f),p=P7e(r,o,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},I7e=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,p=gG(d,a);return r.reduce(function(m,g){var x,b=g.type.defaultProps!==void 0?Q(Q({},g.type.defaultProps),g.props):g.props,v=b.type,y=b.dataKey,_=b.allowDataOverflow,w=b.allowDuplicatedCategory,E=b.scale,A=b.ticks,j=b.includeHidden,T=b[s];if(m[T])return m;var k=Hw(e.data,{graphicalItems:i.filter(function(G){var $,ee=s in G.props?G.props[s]:($=G.type.defaultProps)===null||$===void 0?void 0:$[s];return ee===T}),dataStartIndex:l,dataEndIndex:c}),C=k.length,O,F,R;a7e(b.domain,_,v)&&(O=TA(b.domain,null,_),p&&(v==="number"||E!=="auto")&&(R=wp(k,y,"category")));var D=BK(v);if(!O||O.length===0){var U,V=(U=b.domain)!==null&&U!==void 0?U:D;if(y){if(O=wp(k,y,v),v==="category"&&p){var L=qTe(O);w&&L?(F=O,O=hx(0,C)):w||(O=jL(V,O,g).reduce(function(G,$){return G.indexOf($)>=0?G:[].concat(Af(G),[$])},[]))}else if(v==="category")w?O=O.filter(function(G){return G!==""&&!Ve(G)}):O=jL(V,O,g).reduce(function(G,$){return G.indexOf($)>=0||$===""||Ve($)?G:[].concat(Af(G),[$])},[]);else if(v==="number"){var B=sFe(k,i.filter(function(G){var $,ee,ie=s in G.props?G.props[s]:($=G.type.defaultProps)===null||$===void 0?void 0:$[s],I="hide"in G.props?G.props.hide:(ee=G.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return ie===T&&(j||!I)}),y,a,d);B&&(O=B)}p&&(v==="number"||E!=="auto")&&(R=wp(k,y,"category"))}else p?O=hx(0,C):o&&o[T]&&o[T].hasStack&&v==="number"?O=h==="expand"?[0,1]:wG(o[T].stackGroups,l,c):O=mG(k,i.filter(function(G){var $=s in G.props?G.props[s]:G.type.defaultProps[s],ee="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return $===T&&(j||!ee)}),v,d,!0);if(v==="number")O=dT(f,O,T,a,A),V&&(O=TA(V,O,_));else if(v==="category"&&V){var P=V,W=O.every(function(G){return P.indexOf(G)>=0});W&&(O=P)}}return Q(Q({},m),{},ze({},T,Q(Q({},b),{},{axisType:a,domain:O,categoricalDomain:R,duplicateDomain:F,originalDomain:(x=b.domain)!==null&&x!==void 0?x:D,isCategorical:p,layout:d})))},{})},$7e=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=Hw(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=gG(d,a),g=-1;return r.reduce(function(x,b){var v=b.type.defaultProps!==void 0?Q(Q({},b.type.defaultProps),b.props):b.props,y=v[s],_=BK("number");if(!x[y]){g++;var w;return m?w=hx(0,p):o&&o[y]&&o[y].hasStack?(w=wG(o[y].stackGroups,l,c),w=dT(f,w,y,a)):(w=TA(_,mG(h,r.filter(function(E){var A,j,T=s in E.props?E.props[s]:(A=E.type.defaultProps)===null||A===void 0?void 0:A[s],k="hide"in E.props?E.props.hide:(j=E.type.defaultProps)===null||j===void 0?void 0:j.hide;return T===y&&!k}),"number",d),i.defaultProps.allowDataOverflow),w=dT(f,w,y,a)),Q(Q({},x),{},ze({},y,Q(Q({axisType:a},i.defaultProps),{},{hide:!0,orientation:si(C7e,"".concat(a,".").concat(g%2),null),domain:w,originalDomain:_,isCategorical:m,layout:d})))}return x},{})},R7e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=oi(d,a),p={};return h&&h.length?p=I7e(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=$7e(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},M7e=function(e){var n=Mo(e),r=Ds(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:aN(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:tx(n,r)}},s5=function(e){var n=e.children,r=e.defaultShowTooltip,i=Yr(n,mf),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},D7e=function(e){return!e||!e.length?!1:e.some(function(n){var r=Vs(n&&n.type);return r&&r.indexOf("Bar")>=0})},o5=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},L7e=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,d=r.height,f=r.children,h=r.margin||{},p=Yr(f,mf),m=Yr(f,ol),g=Object.keys(l).reduce(function(w,E){var A=l[E],j=A.orientation;return!A.mirror&&!A.hide?Q(Q({},w),{},ze({},j,w[j]+A.width)):w},{left:h.left||0,right:h.right||0}),x=Object.keys(s).reduce(function(w,E){var A=s[E],j=A.orientation;return!A.mirror&&!A.hide?Q(Q({},w),{},ze({},j,si(w,"".concat(j))+A.height)):w},{top:h.top||0,bottom:h.bottom||0}),b=Q(Q({},x),g),v=b.bottom;p&&(b.bottom+=p.props.height||mf.defaultProps.height),m&&n&&(b=iFe(b,i,r,n));var y=c-b.left-b.right,_=d-b.top-b.bottom;return Q(Q({brushBottom:v},b),{},{width:Math.max(y,0),height:Math.max(_,0)})},F7e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Vw=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(x,b){var v=b.graphicalItems,y=b.stackGroups,_=b.offset,w=b.updateId,E=b.dataStartIndex,A=b.dataEndIndex,j=x.barSize,T=x.layout,k=x.barGap,C=x.barCategoryGap,O=x.maxBarSize,F=o5(T),R=F.numericAxisName,D=F.cateAxisName,U=D7e(v),V=[];return v.forEach(function(L,B){var P=Hw(x.data,{graphicalItems:[L],dataStartIndex:E,dataEndIndex:A}),W=L.type.defaultProps!==void 0?Q(Q({},L.type.defaultProps),L.props):L.props,G=W.dataKey,$=W.maxBarSize,ee=W["".concat(R,"Id")],ie=W["".concat(D,"Id")],I={},N=l.reduce(function(ae,At){var _e=b["".concat(At.axisType,"Map")],ve=W["".concat(At.axisType,"Id")];_e&&_e[ve]||At.axisType==="zAxis"||Kc();var we=_e[ve];return Q(Q({},ae),{},ze(ze({},At.axisType,we),"".concat(At.axisType,"Ticks"),Ds(we)))},I),K=N[D],z=N["".concat(D,"Ticks")],Z=y&&y[ee]&&y[ee].hasStack&&mFe(L,y[ee].stackGroups),J=Vs(L.type).indexOf("Bar")>=0,Y=tx(K,z),me=[],le=U&&nFe({barSize:j,stackGroups:y,totalSize:F7e(N,D)});if(J){var xe,oe,Be=Ve($)?O:$,Te=(xe=(oe=tx(K,z,!0))!==null&&oe!==void 0?oe:Be)!==null&&xe!==void 0?xe:0;me=rFe({barGap:k,barCategoryGap:C,bandSize:Te!==Y?Te:Y,sizeList:le[ie],maxBarSize:Be}),Te!==Y&&(me=me.map(function(ae){return Q(Q({},ae),{},{position:Q(Q({},ae.position),{},{offset:ae.position.offset-Te/2})})}))}var De=L&&L.type&&L.type.getComposedData;De&&V.push({props:Q(Q({},De(Q(Q({},N),{},{displayedData:P,props:x,dataKey:G,item:L,bandSize:Y,barPosition:me,offset:_,stackedData:Z,layout:T,dataStartIndex:E,dataEndIndex:A}))),{},ze(ze(ze({key:L.key||"item-".concat(B)},R,N[R]),D,N[D]),"animationId",w)),childIndex:rke(L,x.children),item:L})}),V},p=function(x,b){var v=x.props,y=x.dataStartIndex,_=x.dataEndIndex,w=x.updateId;if(!xM({props:v}))return null;var E=v.children,A=v.layout,j=v.stackOffset,T=v.data,k=v.reverseStackOrder,C=o5(A),O=C.numericAxisName,F=C.cateAxisName,R=oi(E,r),D=hFe(T,R,"".concat(O,"Id"),"".concat(F,"Id"),j,k),U=l.reduce(function(W,G){var $="".concat(G.axisType,"Map");return Q(Q({},W),{},ze({},$,R7e(v,Q(Q({},G),{},{graphicalItems:R,stackGroups:G.axisType===O&&D,dataStartIndex:y,dataEndIndex:_}))))},{}),V=L7e(Q(Q({},U),{},{props:v,graphicalItems:R}),b==null?void 0:b.legendBBox);Object.keys(U).forEach(function(W){U[W]=d(v,U[W],V,W.replace("Map",""),n)});var L=U["".concat(F,"Map")],B=M7e(L),P=h(v,Q(Q({},U),{},{dataStartIndex:y,dataEndIndex:_,updateId:w,graphicalItems:R,stackGroups:D,offset:V}));return Q(Q({formattedGraphicalItems:P,graphicalItems:R,offset:V,stackGroups:D},B),U)},m=function(g){function x(b){var v,y,_;return v7e(this,x),_=w7e(this,x,[b]),ze(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ze(_,"accessibilityManager",new i7e),ze(_,"handleLegendBBoxUpdate",function(w){if(w){var E=_.state,A=E.dataStartIndex,j=E.dataEndIndex,T=E.updateId;_.setState(Q({legendBBox:w},p({props:_.props,dataStartIndex:A,dataEndIndex:j,updateId:T},Q(Q({},_.state),{},{legendBBox:w}))))}}),ze(_,"handleReceiveSyncEvent",function(w,E,A){if(_.props.syncId===w){if(A===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(E)}}),ze(_,"handleBrushChange",function(w){var E=w.startIndex,A=w.endIndex;if(E!==_.state.dataStartIndex||A!==_.state.dataEndIndex){var j=_.state.updateId;_.setState(function(){return Q({dataStartIndex:E,dataEndIndex:A},p({props:_.props,dataStartIndex:E,dataEndIndex:A,updateId:j},_.state))}),_.triggerSyncEvent({dataStartIndex:E,dataEndIndex:A})}}),ze(_,"handleMouseEnter",function(w){var E=_.getMouseInfo(w);if(E){var A=Q(Q({},E),{},{isTooltipActive:!0});_.setState(A),_.triggerSyncEvent(A);var j=_.props.onMouseEnter;Ue(j)&&j(A,w)}}),ze(_,"triggeredAfterMouseMove",function(w){var E=_.getMouseInfo(w),A=E?Q(Q({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(A),_.triggerSyncEvent(A);var j=_.props.onMouseMove;Ue(j)&&j(A,w)}),ze(_,"handleItemMouseEnter",function(w){_.setState(function(){return{isTooltipActive:!0,activeItem:w,activePayload:w.tooltipPayload,activeCoordinate:w.tooltipPosition||{x:w.cx,y:w.cy}}})}),ze(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),ze(_,"handleMouseMove",function(w){w.persist(),_.throttleTriggeredAfterMouseMove(w)}),ze(_,"handleMouseLeave",function(w){_.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};_.setState(E),_.triggerSyncEvent(E);var A=_.props.onMouseLeave;Ue(A)&&A(E,w)}),ze(_,"handleOuterEvent",function(w){var E=nke(w),A=si(_.props,"".concat(E));if(E&&Ue(A)){var j,T;/.*touch.*/i.test(E)?T=_.getMouseInfo(w.changedTouches[0]):T=_.getMouseInfo(w),A((j=T)!==null&&j!==void 0?j:{},w)}}),ze(_,"handleClick",function(w){var E=_.getMouseInfo(w);if(E){var A=Q(Q({},E),{},{isTooltipActive:!0});_.setState(A),_.triggerSyncEvent(A);var j=_.props.onClick;Ue(j)&&j(A,w)}}),ze(_,"handleMouseDown",function(w){var E=_.props.onMouseDown;if(Ue(E)){var A=_.getMouseInfo(w);E(A,w)}}),ze(_,"handleMouseUp",function(w){var E=_.props.onMouseUp;if(Ue(E)){var A=_.getMouseInfo(w);E(A,w)}}),ze(_,"handleTouchMove",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(w.changedTouches[0])}),ze(_,"handleTouchStart",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&_.handleMouseDown(w.changedTouches[0])}),ze(_,"handleTouchEnd",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&_.handleMouseUp(w.changedTouches[0])}),ze(_,"triggerSyncEvent",function(w){_.props.syncId!==void 0&&iS.emit(aS,_.props.syncId,w,_.eventEmitterSymbol)}),ze(_,"applySyncEvent",function(w){var E=_.props,A=E.layout,j=E.syncMethod,T=_.state.updateId,k=w.dataStartIndex,C=w.dataEndIndex;if(w.dataStartIndex!==void 0||w.dataEndIndex!==void 0)_.setState(Q({dataStartIndex:k,dataEndIndex:C},p({props:_.props,dataStartIndex:k,dataEndIndex:C,updateId:T},_.state)));else if(w.activeTooltipIndex!==void 0){var O=w.chartX,F=w.chartY,R=w.activeTooltipIndex,D=_.state,U=D.offset,V=D.tooltipTicks;if(!U)return;if(typeof j=="function")R=j(V,w);else if(j==="value"){R=-1;for(var L=0;L<V.length;L++)if(V[L].value===w.activeLabel){R=L;break}}var B=Q(Q({},U),{},{x:U.left,y:U.top}),P=Math.min(O,B.x+B.width),W=Math.min(F,B.y+B.height),G=V[R]&&V[R].value,$=pT(_.state,_.props.data,R),ee=V[R]?{x:A==="horizontal"?V[R].coordinate:P,y:A==="horizontal"?W:V[R].coordinate}:FK;_.setState(Q(Q({},w),{},{activeLabel:G,activeCoordinate:ee,activePayload:$,activeTooltipIndex:R}))}else _.setState(w)}),ze(_,"renderCursor",function(w){var E,A=_.state,j=A.isTooltipActive,T=A.activeCoordinate,k=A.activePayload,C=A.offset,O=A.activeTooltipIndex,F=A.tooltipAxisBandSize,R=_.getTooltipEventType(),D=(E=w.props.active)!==null&&E!==void 0?E:j,U=_.props.layout,V=w.key||"_recharts-cursor";return M.createElement(d7e,{key:V,activeCoordinate:T,activePayload:k,activeTooltipIndex:O,chartName:n,element:w,isActive:D,layout:U,offset:C,tooltipAxisBandSize:F,tooltipEventType:R})}),ze(_,"renderPolarAxis",function(w,E,A){var j=si(w,"type.axisType"),T=si(_.state,"".concat(j,"Map")),k=w.type.defaultProps,C=k!==void 0?Q(Q({},k),w.props):w.props,O=T&&T[C["".concat(j,"Id")]];return S.cloneElement(w,Q(Q({},O),{},{className:Ke(j,O.className),key:w.key||"".concat(E,"-").concat(A),ticks:Ds(O,!0)}))}),ze(_,"renderPolarGrid",function(w){var E=w.props,A=E.radialLines,j=E.polarAngles,T=E.polarRadius,k=_.state,C=k.radiusAxisMap,O=k.angleAxisMap,F=Mo(C),R=Mo(O),D=R.cx,U=R.cy,V=R.innerRadius,L=R.outerRadius;return S.cloneElement(w,{polarAngles:Array.isArray(j)?j:Ds(R,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(T)?T:Ds(F,!0).map(function(B){return B.coordinate}),cx:D,cy:U,innerRadius:V,outerRadius:L,key:w.key||"polar-grid",radialLines:A})}),ze(_,"renderLegend",function(){var w=_.state.formattedGraphicalItems,E=_.props,A=E.children,j=E.width,T=E.height,k=_.props.margin||{},C=j-(k.left||0)-(k.right||0),O=hG({children:A,formattedGraphicalItems:w,legendWidth:C,legendContent:c});if(!O)return null;var F=O.item,R=r5(O,f7e);return S.cloneElement(F,Q(Q({},R),{},{chartWidth:j,chartHeight:T,margin:k,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),ze(_,"renderTooltip",function(){var w,E=_.props,A=E.children,j=E.accessibilityLayer,T=Yr(A,lr);if(!T)return null;var k=_.state,C=k.isTooltipActive,O=k.activeCoordinate,F=k.activePayload,R=k.activeLabel,D=k.offset,U=(w=T.props.active)!==null&&w!==void 0?w:C;return S.cloneElement(T,{viewBox:Q(Q({},D),{},{x:D.left,y:D.top}),active:U,label:R,payload:U?F:[],coordinate:O,accessibilityLayer:j})}),ze(_,"renderBrush",function(w){var E=_.props,A=E.margin,j=E.data,T=_.state,k=T.offset,C=T.dataStartIndex,O=T.dataEndIndex,F=T.updateId;return S.cloneElement(w,{key:w.key||"_recharts-brush",onChange:By(_.handleBrushChange,w.props.onChange),data:j,x:de(w.props.x)?w.props.x:k.left,y:de(w.props.y)?w.props.y:k.top+k.height+k.brushBottom-(A.bottom||0),width:de(w.props.width)?w.props.width:k.width,startIndex:C,endIndex:O,updateId:"brush-".concat(F)})}),ze(_,"renderReferenceElement",function(w,E,A){if(!w)return null;var j=_,T=j.clipPathId,k=_.state,C=k.xAxisMap,O=k.yAxisMap,F=k.offset,R=w.type.defaultProps||{},D=w.props,U=D.xAxisId,V=U===void 0?R.xAxisId:U,L=D.yAxisId,B=L===void 0?R.yAxisId:L;return S.cloneElement(w,{key:w.key||"".concat(E,"-").concat(A),xAxis:C[V],yAxis:O[B],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:T})}),ze(_,"renderActivePoints",function(w){var E=w.item,A=w.activePoint,j=w.basePoint,T=w.childIndex,k=w.isRange,C=[],O=E.props.key,F=E.item.type.defaultProps!==void 0?Q(Q({},E.item.type.defaultProps),E.item.props):E.item.props,R=F.activeDot,D=F.dataKey,U=Q(Q({index:T,dataKey:D,cx:A.x,cy:A.y,r:4,fill:NN(E.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Pe(R,!1)),T0(R));return C.push(x.renderActiveDot(R,U,"".concat(O,"-activePoint-").concat(T))),j?C.push(x.renderActiveDot(R,Q(Q({},U),{},{cx:j.x,cy:j.y}),"".concat(O,"-basePoint-").concat(T))):k&&C.push(null),C}),ze(_,"renderGraphicChild",function(w,E,A){var j=_.filterFormatItem(w,E,A);if(!j)return null;var T=_.getTooltipEventType(),k=_.state,C=k.isTooltipActive,O=k.tooltipAxis,F=k.activeTooltipIndex,R=k.activeLabel,D=_.props.children,U=Yr(D,lr),V=j.props,L=V.points,B=V.isRange,P=V.baseLine,W=j.item.type.defaultProps!==void 0?Q(Q({},j.item.type.defaultProps),j.item.props):j.item.props,G=W.activeDot,$=W.hide,ee=W.activeBar,ie=W.activeShape,I=!!(!$&&C&&U&&(G||ee||ie)),N={};T!=="axis"&&U&&U.props.trigger==="click"?N={onClick:By(_.handleItemMouseEnter,w.props.onClick)}:T!=="axis"&&(N={onMouseLeave:By(_.handleItemMouseLeave,w.props.onMouseLeave),onMouseEnter:By(_.handleItemMouseEnter,w.props.onMouseEnter)});var K=S.cloneElement(w,Q(Q({},j.props),N));function z(At){return typeof O.dataKey=="function"?O.dataKey(At.payload):null}if(I)if(F>=0){var Z,J;if(O.dataKey&&!O.allowDuplicatedCategory){var Y=typeof O.dataKey=="function"?z:"payload.".concat(O.dataKey.toString());Z=A0(L,Y,R),J=B&&P&&A0(P,Y,R)}else Z=L==null?void 0:L[F],J=B&&P&&P[F];if(ie||ee){var me=w.props.activeIndex!==void 0?w.props.activeIndex:F;return[S.cloneElement(w,Q(Q(Q({},j.props),N),{},{activeIndex:me})),null,null]}if(!Ve(Z))return[K].concat(Af(_.renderActivePoints({item:j,activePoint:Z,basePoint:J,childIndex:F,isRange:B})))}else{var le,xe=(le=_.getItemByXY(_.state.activeCoordinate))!==null&&le!==void 0?le:{graphicalItem:K},oe=xe.graphicalItem,Be=oe.item,Te=Be===void 0?w:Be,De=oe.childIndex,ae=Q(Q(Q({},j.props),N),{},{activeIndex:De});return[S.cloneElement(Te,ae),null,null]}return B?[K,null,null]:[K,null]}),ze(_,"renderCustomized",function(w,E,A){return S.cloneElement(w,Q(Q({key:"recharts-customized-".concat(A)},_.props),_.state))}),ze(_,"renderMap",{CartesianGrid:{handler:Wy,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:Wy},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:Wy},YAxis:{handler:Wy},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((v=b.id)!==null&&v!==void 0?v:cu("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=fq(_.triggeredAfterMouseMove,(y=b.throttleDelay)!==null&&y!==void 0?y:1e3/60),_.state={},_}return E7e(x,g),b7e(x,[{key:"componentDidMount",value:function(){var v,y;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(y=this.props.margin.top)!==null&&y!==void 0?y:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var v=this.props,y=v.children,_=v.data,w=v.height,E=v.layout,A=Yr(y,lr);if(A){var j=A.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,k=pT(this.state,_,j,T),C=this.state.tooltipTicks[j].coordinate,O=(this.state.offset.top+w)/2,F=E==="horizontal",R=F?{x:C,y:O}:{y:C,x:O},D=this.state.formattedGraphicalItems.find(function(V){var L=V.item;return L.type.name==="Scatter"});D&&(R=Q(Q({},R),D.props.points[j].tooltipPosition),k=D.props.points[j].tooltipPayload);var U={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:T,activePayload:k,activeCoordinate:R};this.setState(U),this.renderCursor(A),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(v,y){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==y.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==v.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==v.margin){var _,w;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0}})}return null}},{key:"componentDidUpdate",value:function(v){Uj([Yr(v.children,lr)],[Yr(this.props.children,lr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var v=Yr(this.props.children,lr);if(v&&typeof v.props.shared=="boolean"){var y=v.props.shared?"axis":"item";return o.indexOf(y)>=0?y:a}return a}},{key:"getMouseInfo",value:function(v){if(!this.container)return null;var y=this.container,_=y.getBoundingClientRect(),w=CDe(_),E={chartX:Math.round(v.pageX-w.left),chartY:Math.round(v.pageY-w.top)},A=_.width/y.offsetWidth||1,j=this.inRange(E.chartX,E.chartY,A);if(!j)return null;var T=this.state,k=T.xAxisMap,C=T.yAxisMap,O=this.getTooltipEventType();if(O!=="axis"&&k&&C){var F=Mo(k).scale,R=Mo(C).scale,D=F&&F.invert?F.invert(E.chartX):null,U=R&&R.invert?R.invert(E.chartY):null;return Q(Q({},E),{},{xValue:D,yValue:U})}var V=a5(this.state,this.props.data,this.props.layout,j);return V?Q(Q({},E),V):null}},{key:"inRange",value:function(v,y){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=this.props.layout,E=v/_,A=y/_;if(w==="horizontal"||w==="vertical"){var j=this.state.offset,T=E>=j.left&&E<=j.left+j.width&&A>=j.top&&A<=j.top+j.height;return T?{x:E,y:A}:null}var k=this.state,C=k.angleAxisMap,O=k.radiusAxisMap;if(C&&O){var F=Mo(C);return kL({x:E,y:A},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var v=this.props.children,y=this.getTooltipEventType(),_=Yr(v,lr),w={};_&&y==="axis"&&(_.props.trigger==="click"?w={onClick:this.handleClick}:w={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var E=T0(this.props,this.handleOuterEvent);return Q(Q({},E),w)}},{key:"addListener",value:function(){iS.on(aS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){iS.removeListener(aS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(v,y,_){for(var w=this.state.formattedGraphicalItems,E=0,A=w.length;E<A;E++){var j=w[E];if(j.item===v||j.props.key===v.key||y===Vs(j.item.type)&&_===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var v=this.clipPathId,y=this.state.offset,_=y.left,w=y.top,E=y.height,A=y.width;return M.createElement("defs",null,M.createElement("clipPath",{id:v},M.createElement("rect",{x:_,y:w,height:E,width:A})))}},{key:"getXScales",value:function(){var v=this.state.xAxisMap;return v?Object.entries(v).reduce(function(y,_){var w=n5(_,2),E=w[0],A=w[1];return Q(Q({},y),{},ze({},E,A.scale))},{}):null}},{key:"getYScales",value:function(){var v=this.state.yAxisMap;return v?Object.entries(v).reduce(function(y,_){var w=n5(_,2),E=w[0],A=w[1];return Q(Q({},y),{},ze({},E,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(v){var y;return(y=this.state.xAxisMap)===null||y===void 0||(y=y[v])===null||y===void 0?void 0:y.scale}},{key:"getYScaleByAxisId",value:function(v){var y;return(y=this.state.yAxisMap)===null||y===void 0||(y=y[v])===null||y===void 0?void 0:y.scale}},{key:"getItemByXY",value:function(v){var y=this.state,_=y.formattedGraphicalItems,w=y.activeItem;if(_&&_.length)for(var E=0,A=_.length;E<A;E++){var j=_[E],T=j.props,k=j.item,C=k.type.defaultProps!==void 0?Q(Q({},k.type.defaultProps),k.props):k.props,O=Vs(k.type);if(O==="Bar"){var F=(T.data||[]).find(function(V){return tUe(v,V)});if(F)return{graphicalItem:j,payload:F}}else if(O==="RadialBar"){var R=(T.data||[]).find(function(V){return kL(v,V)});if(R)return{graphicalItem:j,payload:R}}else if(Mw(j,w)||Dw(j,w)||Bm(j,w)){var D=H6e({graphicalItem:j,activeTooltipItem:w,itemData:C.data}),U=C.activeIndex===void 0?D:C.activeIndex;return{graphicalItem:Q(Q({},j),{},{childIndex:U}),payload:Bm(j,w)?C.data[D]:j.props.data[D]}}}return null}},{key:"render",value:function(){var v=this;if(!xM(this))return null;var y=this.props,_=y.children,w=y.className,E=y.width,A=y.height,j=y.style,T=y.compact,k=y.title,C=y.desc,O=r5(y,h7e),F=Pe(O,!1);if(T)return M.createElement(M4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(Vj,Ap({},F,{width:E,height:A,title:k,desc:C}),this.renderClipPath(),wM(_,this.renderMap)));if(this.props.accessibilityLayer){var R,D;F.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,F.role=(D=this.props.role)!==null&&D!==void 0?D:"application",F.onKeyDown=function(V){v.accessibilityManager.keyboardEvent(V)},F.onFocus=function(){v.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return M.createElement(M4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",Ap({className:Ke("recharts-wrapper",w),style:Q({position:"relative",cursor:"default",width:E,height:A},j)},U,{ref:function(L){v.container=L}}),M.createElement(Vj,Ap({},F,{width:E,height:A,title:k,desc:C,style:O7e}),this.renderClipPath(),wM(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(S.Component);return ze(m,"displayName",n),ze(m,"defaultProps",Q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ze(m,"getDerivedStateFromProps",function(g,x){var b=g.dataKey,v=g.data,y=g.children,_=g.width,w=g.height,E=g.layout,A=g.stackOffset,j=g.margin,T=x.dataStartIndex,k=x.dataEndIndex;if(x.updateId===void 0){var C=s5(g);return Q(Q(Q({},C),{},{updateId:0},p(Q(Q({props:g},C),{},{updateId:0}),x)),{},{prevDataKey:b,prevData:v,prevWidth:_,prevHeight:w,prevLayout:E,prevStackOffset:A,prevMargin:j,prevChildren:y})}if(b!==x.prevDataKey||v!==x.prevData||_!==x.prevWidth||w!==x.prevHeight||E!==x.prevLayout||A!==x.prevStackOffset||!xd(j,x.prevMargin)){var O=s5(g),F={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},R=Q(Q({},a5(x,v,E)),{},{updateId:x.updateId+1}),D=Q(Q(Q({},O),F),R);return Q(Q(Q({},D),p(Q({props:g},D),x)),{},{prevDataKey:b,prevData:v,prevWidth:_,prevHeight:w,prevLayout:E,prevStackOffset:A,prevMargin:j,prevChildren:y})}if(!Uj(y,x.prevChildren)){var U,V,L,B,P=Yr(y,mf),W=P&&(U=(V=P.props)===null||V===void 0?void 0:V.startIndex)!==null&&U!==void 0?U:T,G=P&&(L=(B=P.props)===null||B===void 0?void 0:B.endIndex)!==null&&L!==void 0?L:k,$=W!==T||G!==k,ee=!Ve(v),ie=ee&&!$?x.updateId:x.updateId+1;return Q(Q({updateId:ie},p(Q(Q({props:g},x),{},{updateId:ie,dataStartIndex:W,dataEndIndex:G}),x)),{},{prevChildren:y,dataStartIndex:W,dataEndIndex:G})}return null}),ze(m,"renderActiveDot",function(g,x,b){var v;return S.isValidElement(g)?v=S.cloneElement(g,x):Ue(g)?v=g(x):v=M.createElement($g,x),M.createElement(ot,{className:"recharts-active-dot",key:b},v)}),function(x){return M.createElement(m,x)}},B7e=Vw({chartName:"LineChart",GraphicalChild:Oc,axisComponents:[{axisType:"xAxis",AxisComp:jl},{axisType:"yAxis",AxisComp:Al}],formatAxisMap:IN}),zK=Vw({chartName:"BarChart",GraphicalChild:cs,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:jl},{axisType:"yAxis",AxisComp:Al}],formatAxisMap:IN}),UK=Vw({chartName:"PieChart",GraphicalChild:ws,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Rw},{axisType:"radiusAxis",AxisComp:Iw}],formatAxisMap:jFe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),z7e=Vw({chartName:"AreaChart",GraphicalChild:lo,axisComponents:[{axisType:"xAxis",AxisComp:jl},{axisType:"yAxis",AxisComp:Al}],formatAxisMap:IN});const HK=S.forwardRef(({className:t,...e},n)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:n,className:ye("w-full caption-bottom text-sm",t),...e})}));HK.displayName="Table";const VK=S.forwardRef(({className:t,...e},n)=>u.jsx("thead",{ref:n,className:ye("[&_tr]:border-b",t),...e}));VK.displayName="TableHeader";const WK=S.forwardRef(({className:t,...e},n)=>u.jsx("tbody",{ref:n,className:ye("[&_tr:last-child]:border-0",t),...e}));WK.displayName="TableBody";const U7e=S.forwardRef(({className:t,...e},n)=>u.jsx("tfoot",{ref:n,className:ye("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));U7e.displayName="TableFooter";const mT=S.forwardRef(({className:t,...e},n)=>u.jsx("tr",{ref:n,className:ye("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));mT.displayName="TableRow";const Gh=S.forwardRef(({className:t,...e},n)=>u.jsx("th",{ref:n,className:ye("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Gh.displayName="TableHead";const Kh=S.forwardRef(({className:t,...e},n)=>u.jsx("td",{ref:n,className:ye("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Kh.displayName="TableCell";const H7e=S.forwardRef(({className:t,...e},n)=>u.jsx("caption",{ref:n,className:ye("mt-4 text-sm text-muted-foreground",t),...e}));H7e.displayName="TableCaption";const qK=()=>{var _;const[t,e]=S.useState(null),[n,r]=S.useState([]),[i,a]=S.useState([]),[s,o]=S.useState(null),[l,c]=S.useState([]),[d,f]=S.useState(!0),[h,p]=S.useState("all"),{toast:m}=Vt(),g=["hsl(var(--primary))","hsl(var(--secondary))","hsl(var(--accent))","hsl(var(--muted))"],x=async()=>{var w,E,A;try{f(!0);const{data:j,error:T}=await $e.from("campaigns").select("*").order("created_at",{ascending:!1});if(T)throw T;r(j||[]);const k=await NO.analytics.get(h==="all"?void 0:h),C=(j==null?void 0:j.length)||0,O=h==="all"?j:j==null?void 0:j.filter(D=>D.id===h),F=((w=k.overview)==null?void 0:w.total_sent)||0;e({totalCampaigns:h==="all"?C:1,activeCampaigns:((E=k.overview)==null?void 0:E.active_campaigns)||0,totalCandidates:(O==null?void 0:O.reduce((D,U)=>D+(U.candidates_count||0),0))||0,messagesSent:F,callsMade:0,responsesReceived:0,conversionRate:((A=k.overview)==null?void 0:A.delivery_rate)||0}),k.channel_stats&&o(k.channel_stats),k.recent_failures&&c(k.recent_failures);const R=(O==null?void 0:O.slice(0,7).map(D=>({name:D.name.substring(0,15)+(D.name.length>15?"...":""),messages:D.messages_sent||0,calls:D.calls_made||0,responses:D.responses_received||0,conversion:(D.responses_received||0)/(D.messages_sent||1)*100})))||[];a(R)}catch(j){console.error("Error fetching analytics:",j),m({title:"Error",description:"Failed to fetch analytics data",variant:"destructive"})}finally{f(!1)}};S.useEffect(()=>{x()},[h]),S.useEffect(()=>{const w=$e.channel("analytics-realtime").on("postgres_changes",{event:"*",schema:"public",table:"campaign_executions"},E=>{console.log("Realtime Update:",E),x(),m({title:"New Activity",description:"Campaign data updated"})}).subscribe();return()=>{$e.removeChannel(w)}},[]);const b=async()=>{try{m({title:"Generating PDF",description:"Please wait..."});const w=(await Ii(async()=>{const{default:F}=await import("./html2canvas.esm-CBrSDip1.js");return{default:F}},[])).default,E=(await Ii(async()=>{const{default:F}=await import("./jspdf.es.min-YtcfTkcj.js").then(R=>R.j);return{default:F}},[])).default,A=document.getElementById("analytics-dashboard");if(!A)throw new Error("Dashboard element not found");const j=await w(A,{scale:2}),T=j.toDataURL("image/png"),k=new E("p","mm","a4"),C=k.internal.pageSize.getWidth(),O=j.height*C/j.width;k.setFontSize(16),k.text("Admit AI - Campaign Analytics Report",10,10),k.addImage(T,"PNG",0,20,C,O),k.save(`analytics_report_${new Date().toISOString().split("T")[0]}.pdf`),m({title:"Success",description:"Report downloaded!"})}catch(w){console.error("Export failed",w),m({title:"Export Failed",description:"Could not generate PDF",variant:"destructive"})}},v=()=>u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"colorMessages",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:g[0],stopOpacity:.8}),u.jsx("stop",{offset:"95%",stopColor:g[0],stopOpacity:0})]}),u.jsxs("linearGradient",{id:"colorCalls",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:g[1],stopOpacity:.8}),u.jsx("stop",{offset:"95%",stopColor:g[1],stopOpacity:0})]})]}),y=[{name:"Messages Sent",value:(t==null?void 0:t.messagesSent)||0,color:g[0]},{name:"Calls Made",value:(t==null?void 0:t.callsMade)||0,color:g[1]},{name:"Responses",value:(t==null?void 0:t.responsesReceived)||0,color:g[2]}];return d&&!t?u.jsx("div",{className:"p-8",children:u.jsx(El,{})}):u.jsxs("div",{id:"analytics-dashboard",className:"space-y-6",children:[u.jsx(Xn,{children:u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold bg-ai-gradient bg-clip-text text-transparent",children:"Campaign Analytics"}),u.jsxs("p",{className:"text-muted-foreground",children:["Deep insights into your ",h==="all"?"global":"campaign"," performance"]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[u.jsx("div",{className:"w-[200px]",children:u.jsxs(ua,{value:h,onValueChange:p,children:[u.jsxs(ki,{children:[u.jsx(Bee,{className:"w-4 h-4 mr-2 text-muted-foreground"}),u.jsx(da,{placeholder:"All Campaigns"})]}),u.jsxs(Ci,{children:[u.jsx(Bt,{value:"all",children:"All Campaigns"}),n.map(w=>u.jsx(Bt,{value:w.id,children:w.name},w.id))]})]})}),u.jsxs(se,{variant:"outline",onClick:x,disabled:d,className:"hover-lift",children:[u.jsx(pl,{className:`w-4 h-4 mr-2 ${d?"animate-spin":""}`}),"Refresh"]}),u.jsxs(se,{variant:"hero",onClick:b,className:"hover-lift",children:[u.jsx(Ek,{className:"w-4 h-4 mr-2"}),"Export"]})]})]})}),u.jsx(Xn,{delay:100,children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs(te,{className:"hover-lift transition-all duration-200 border-t-4 border-t-primary",children:[u.jsxs(Xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ze,{className:"text-sm font-medium",children:h==="all"?"Total Campaigns":"Campaign Status"}),u.jsx(Yp,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Le,{children:[u.jsx("div",{className:"text-2xl font-bold",children:h==="all"?t==null?void 0:t.totalCampaigns:u.jsx("span",{className:"capitalize",children:((_=n.find(w=>w.id===h))==null?void 0:_.status)||"Active"})}),u.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:h==="all"?`${t==null?void 0:t.activeCampaigns} Active currently`:"Current Status"})]})]}),u.jsxs(te,{className:"hover-lift transition-all duration-200 border-t-4 border-t-secondary",children:[u.jsxs(Xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ze,{className:"text-sm font-medium",children:"Candidates Reached"}),u.jsx($r,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Le,{children:[u.jsx("div",{className:"text-2xl font-bold",children:(t==null?void 0:t.totalCandidates)||0}),u.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Target audience size"})]})]}),u.jsxs(te,{className:"hover-lift transition-all duration-200 border-t-4 border-t-accent",children:[u.jsxs(Xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ze,{className:"text-sm font-medium",children:"Engagement"}),u.jsx(ts,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Le,{children:[u.jsx("div",{className:"text-2xl font-bold",children:((t==null?void 0:t.messagesSent)||0)+((t==null?void 0:t.callsMade)||0)}),u.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[u.jsxs(dn,{variant:"outline",className:"text-xs font-normal",children:[(t==null?void 0:t.messagesSent)||0," Msgs"]}),u.jsxs(dn,{variant:"outline",className:"text-xs font-normal",children:[(t==null?void 0:t.callsMade)||0," Calls"]})]})]})]}),u.jsxs(te,{className:"hover-lift transition-all duration-200 border-t-4 border-t-green-500",children:[u.jsxs(Xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ze,{className:"text-sm font-medium",children:"Delivery Rate"}),u.jsx(Ir,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Le,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[(t==null?void 0:t.conversionRate.toFixed(1))||0,"%"]}),u.jsx(Oi,{value:(t==null?void 0:t.conversionRate)||0,className:"mt-2 h-1"})]})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsx(Xn,{delay:200,children:u.jsxs(te,{className:"hover-scale transition-all duration-300",children:[u.jsx(Xe,{children:u.jsx(Ze,{children:"Performance Trends"})}),u.jsx(Le,{children:u.jsx(bd,{width:"100%",height:300,children:u.jsxs(z7e,{data:i,children:[u.jsx(v,{}),u.jsx(Sx,{strokeDasharray:"3 3",vertical:!1,opacity:.3}),u.jsx(jl,{dataKey:"name",tick:{fontSize:12},interval:0}),u.jsx(Al,{}),u.jsx(lr,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),u.jsx(lo,{type:"monotone",dataKey:"messages",stroke:g[0],fillOpacity:1,fill:"url(#colorMessages)",name:"Messages"}),u.jsx(lo,{type:"monotone",dataKey:"calls",stroke:g[1],fillOpacity:1,fill:"url(#colorCalls)",name:"Calls"})]})})})]})}),u.jsx(Xn,{delay:300,children:u.jsxs(te,{className:"hover-scale transition-all duration-300",children:[u.jsx(Xe,{children:u.jsx(Ze,{children:"Channel Distribution"})}),u.jsxs(Le,{children:[u.jsx(bd,{width:"100%",height:300,children:u.jsxs(UK,{children:[u.jsx(ws,{data:y,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:y.map((w,E)=>u.jsx(af,{fill:w.color,stroke:"none"},`cell-${E}`))}),u.jsx(lr,{})]})}),u.jsx("div",{className:"flex justify-center gap-4 mt-4",children:y.map((w,E)=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:w.color}}),u.jsxs("span",{className:"text-sm text-muted-foreground",children:[w.name," (",w.value,")"]})]},E))})]})]})})]}),s&&u.jsxs(Xn,{delay:400,children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Channel Performance"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(s).map(([w,E],A)=>u.jsxs(te,{className:"hover-lift border-t-4",style:{borderColor:g[A]},children:[u.jsx(Xe,{className:"pb-2",children:u.jsxs(Ze,{className:"text-sm font-medium capitalize flex justify-between",children:[w,u.jsx(dn,{variant:E.failed>0?"destructive":"outline",children:E.failed>0?`${E.failed} Failed`:"Healthy"})]})}),u.jsxs(Le,{children:[u.jsx("div",{className:"h-[100px] w-full",children:u.jsx(bd,{width:"100%",height:"100%",children:u.jsxs(zK,{data:[{name:"Sent",value:E.sent},{name:"Failed",value:E.failed}],children:[u.jsx(lr,{cursor:{fill:"transparent"}}),u.jsx(cs,{dataKey:"value",radius:[4,4,0,0],children:[{name:"Sent",value:E.sent},{name:"Failed",value:E.failed}].map((j,T)=>u.jsx(af,{fill:T===0?"#22c55e":"#ef4444"},`cell-${T}`))})]})})}),u.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-2",children:[u.jsxs("span",{children:["Sent: ",E.sent]}),u.jsxs("span",{children:["Failed: ",E.failed]})]})]})]},w))})]}),l.length>0&&u.jsx(Xn,{delay:500,children:u.jsxs(te,{className:"mt-8 border-destructive/20",children:[u.jsx(Xe,{children:u.jsxs(Ze,{className:"text-destructive flex items-center gap-2",children:[u.jsx(ts,{className:"w-4 h-4"}),"Recent Delivery Failures"]})}),u.jsx(Le,{children:u.jsxs(HK,{children:[u.jsx(VK,{children:u.jsxs(mT,{children:[u.jsx(Gh,{children:"Time"}),u.jsx(Gh,{children:"Channel"}),u.jsx(Gh,{children:"Recipient"}),u.jsx(Gh,{children:"Status"})]})}),u.jsx(WK,{children:l.map(w=>u.jsxs(mT,{children:[u.jsx(Kh,{className:"text-xs text-muted-foreground",children:new Date(w.executed_at).toLocaleString()}),u.jsx(Kh,{className:"capitalize",children:w.channel}),u.jsx(Kh,{className:"font-mono text-xs",children:w.recipient}),u.jsx(Kh,{children:u.jsx(dn,{variant:"destructive",className:"text-[10px]",children:"Failed"})})]},w.id))})]})})]})})]})},GK=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!1),[i,a]=S.useState(!1),{toast:s}=Vt(),{user:o}=Un(),[l,c]=S.useState({name:"",trigger:"no_response",channels:[],delay:24,template:"",active:!0}),d=[{value:"no_response",label:"No Response After Message"},{value:"email_open",label:"Email Opened"},{value:"link_click",label:"Link Clicked"},{value:"form_submit",label:"Form Submitted"},{value:"time_based",label:"Time-Based Follow-up"}],f=[{value:"whatsapp",label:"WhatsApp",icon:ci},{value:"voice",label:"Voice Call",icon:Ta},{value:"email",label:"Email",icon:ni}],h={whatsapp:"Hi {name}, I wanted to follow up on our previous message about {college}. Do you have any questions about our programs?",voice:"Hello {name}, this is a follow-up call regarding your interest in {college}. Please call us back at your convenience.",email:`Dear {name},

We noticed you showed interest in {college}. We'd love to answer any questions you might have about our programs.

Best regards,
Admissions Team`},p=async()=>{if(o){r(!0);try{const{data:v,error:y}=await $e.from("automations").select("*").eq("user_id",o.id).order("created_at",{ascending:!1});if(y)throw y;const _=(v||[]).map(w=>{var E,A,j;return{id:w.id,name:w.name,trigger:w.trigger_type,channels:((E=w.action_config)==null?void 0:E.channels)||[],delay:((A=w.trigger_config)==null?void 0:A.delay)||24,template:((j=w.action_config)==null?void 0:j.template)||"",active:w.is_active,user_id:w.user_id}});e(_)}catch(v){console.error("Error loading automations",v),s({title:"Error",description:"Failed to load automation rules",variant:"destructive"})}finally{r(!1)}}},m=async()=>{if(o){if(!l.name||!l.template||l.channels.length===0){s({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}try{const v={user_id:o.id,name:l.name,trigger_type:l.trigger,trigger_config:{delay:l.delay},action_type:"send_campaign_message",action_config:{channels:l.channels,template:l.template},is_active:l.active},{data:y,error:_}=await $e.from("automations").insert([v]).select().single();if(_)throw _;const w={id:y.id,name:y.name,trigger:y.trigger_type,channels:y.action_config.channels,delay:y.trigger_config.delay,template:y.action_config.template,active:y.is_active,user_id:y.user_id};e([w,...t]),c({name:"",trigger:"no_response",channels:[],delay:24,template:"",active:!0}),a(!1),s({title:"Success",description:"Automation rule created successfully"})}catch(v){console.error("Error creating automation",v),s({title:"Error",description:"Failed to save automation rule",variant:"destructive"})}}},g=async(v,y)=>{try{const{error:_}=await $e.from("automations").update({is_active:!y}).eq("id",v);if(_)throw _;const w=t.map(E=>E.id===v?{...E,active:!E.active}:E);e(w),s({title:"Success",description:"Automation rule updated"})}catch(_){console.error("Error toggling rule:",_),s({title:"Error",description:"Failed to update rule status",variant:"destructive"})}},x=async v=>{try{const{error:y}=await $e.from("automations").delete().eq("id",v);if(y)throw y;const _=t.filter(w=>w.id!==v);e(_),s({title:"Success",description:"Automation rule deleted"})}catch(y){console.error("Error deleting rule:",y),s({title:"Error",description:"Failed to delete rule",variant:"destructive"})}},b=v=>{c(y=>({...y,channels:y.channels.includes(v)?y.channels.filter(_=>_!==v):[...y.channels,v],template:y.channels.includes(v)?y.template:h[v]||y.template}))};return S.useEffect(()=>{p()},[o]),n?u.jsx("div",{className:"flex items-center justify-center p-8",children:u.jsx(El,{})}):u.jsxs("div",{className:"space-y-6",children:[u.jsx(Xn,{children:u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold bg-ai-gradient bg-clip-text text-transparent",children:"Campaign Automation"}),u.jsx("p",{className:"text-muted-foreground",children:"Set up automated follow-ups and drip campaigns"})]}),u.jsxs(se,{onClick:()=>a(!0),variant:"hero",className:"hover-lift",children:[u.jsx(sp,{className:"w-4 h-4 mr-2"}),"New Automation Rule"]}),u.jsx(se,{variant:"ghost",size:"icon",className:"rounded-full",onClick:()=>{s({title:"How Automation Works",description:`1. Create a Rule (e.g. 'No Response').
2. Set a Delay (e.g. 24h).
3. If condition met, System sends your Template.`,duration:6e3})},children:u.jsx("div",{className:"flex h-6 w-6 items-center justify-center rounded-full border border-muted-foreground/30",children:u.jsx("span",{className:"text-xs font-bold text-muted-foreground",children:"?"})})})]})}),u.jsx(Xn,{delay:100,children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs(te,{className:"hover-lift",children:[u.jsxs(Xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ze,{className:"text-sm font-medium",children:"Active Rules"}),u.jsx(Fr,{className:"h-4 w-4 text-primary"})]}),u.jsxs(Le,{children:[u.jsx("div",{className:"text-2xl font-bold",children:t.filter(v=>v.active).length}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Out of ",t.length," total rules"]})]})]}),u.jsxs(te,{className:"hover-lift",children:[u.jsxs(Xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ze,{className:"text-sm font-medium",children:"Avg Delay"}),u.jsx(hl,{className:"h-4 w-4 text-secondary"})]}),u.jsxs(Le,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.length>0?Math.round(t.reduce((v,y)=>v+y.delay,0)/t.length):0,"h"]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Average follow-up delay"})]})]}),u.jsxs(te,{className:"hover-lift",children:[u.jsxs(Xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ze,{className:"text-sm font-medium",children:"Multi-Channel"}),u.jsx($r,{className:"h-4 w-4 text-accent"})]}),u.jsxs(Le,{children:[u.jsx("div",{className:"text-2xl font-bold",children:t.filter(v=>v.channels.length>1).length}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Rules using multiple channels"})]})]})]})}),i&&u.jsx(Xn,{children:u.jsxs(te,{className:"border-primary/20",children:[u.jsx(Xe,{children:u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(rg,{className:"w-5 h-5"}),"Create Automation Rule"]})}),u.jsxs(Le,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"rule-name",children:"Rule Name"}),u.jsx(Ut,{id:"rule-name",placeholder:"e.g., WhatsApp Follow-up",value:l.name,onChange:v=>c(y=>({...y,name:v.target.value}))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"trigger",children:"Trigger Event"}),u.jsxs(ua,{value:l.trigger,onValueChange:v=>c(y=>({...y,trigger:v})),children:[u.jsx(ki,{children:u.jsx(da,{})}),u.jsx(Ci,{children:d.map(v=>u.jsx(Bt,{value:v.value,children:v.label},v.value))})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{children:"Communication Channels"}),u.jsx("div",{className:"flex flex-wrap gap-3",children:f.map(v=>{const y=v.icon,_=l.channels.includes(v.value);return u.jsxs("div",{className:`flex items-center space-x-2 p-3 border rounded-lg cursor-pointer transition-all hover-lift ${_?"border-primary bg-primary/10":"border-border"}`,onClick:()=>b(v.value),children:[u.jsx(y,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:v.label})]},v.value)})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"delay",children:"Delay (hours)"}),u.jsx(Ut,{id:"delay",type:"number",min:"1",max:"168",value:l.delay,onChange:v=>c(y=>({...y,delay:parseInt(v.target.value)||24}))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"template",children:"Message Template"}),u.jsx(iu,{id:"template",placeholder:"Use {name}, {college}, etc. for personalization",value:l.template,onChange:v=>c(y=>({...y,template:v.target.value})),rows:4})]}),u.jsx(pO,{}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(ei,{id:"active",checked:l.active,onCheckedChange:v=>c(y=>({...y,active:v}))}),u.jsx(Ge,{htmlFor:"active",children:"Activate immediately"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(se,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),u.jsx(se,{onClick:m,variant:"hero",className:"hover-lift",children:"Create Rule"})]})]})]})]})}),u.jsx(Xn,{delay:200,children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Automation Rules"}),t.length===0?u.jsx(te,{children:u.jsxs(Le,{className:"text-center py-8",children:[u.jsx(Fr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),u.jsx("p",{className:"text-muted-foreground",children:"No automation rules created yet"}),u.jsx(se,{variant:"outline",className:"mt-4",onClick:()=>a(!0),children:"Create Your First Rule"})]})}):t.map((v,y)=>{var _;return u.jsx(Xn,{delay:300+y*50,children:u.jsx(te,{className:"hover-scale transition-all duration-200",children:u.jsxs(Le,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-3 h-3 rounded-full ${v.active?"bg-green-500":"bg-gray-400"}`}),u.jsx("h4",{className:"font-semibold",children:v.name}),u.jsx(dn,{variant:"secondary",children:(_=d.find(w=>w.value===v.trigger))==null?void 0:_.label})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(se,{variant:"ghost",size:"sm",onClick:()=>g(v.id,v.active),className:"hover-lift",children:v.active?u.jsx(kB,{className:"w-4 h-4"}):u.jsx(Fs,{className:"w-4 h-4"})}),u.jsx(se,{variant:"ghost",size:"sm",onClick:()=>x(v.id),className:"hover-lift text-destructive",children:u.jsx(kk,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Channels:"}),u.jsx("div",{className:"flex gap-1 mt-1",children:v.channels.map(w=>{const E=f.find(j=>j.value===w),A=(E==null?void 0:E.icon)||ci;return u.jsxs(dn,{variant:"outline",className:"text-xs",children:[u.jsx(A,{className:"w-3 h-3 mr-1"}),E==null?void 0:E.label]},w)})})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Delay:"}),u.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[u.jsx(hl,{className:"w-3 h-3"}),v.delay," hours"]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Status:"}),u.jsx("div",{className:"mt-1",children:u.jsx(dn,{variant:v.active?"default":"secondary",children:v.active?"Active":"Paused"})})]})]}),u.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50",children:[u.jsx("span",{className:"text-muted-foreground text-sm",children:"Template Preview:"}),u.jsx("p",{className:"text-sm mt-1 line-clamp-2",children:v.template})]})]})})},v.id)})]})})]})},KK=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState("default"),[i,a]=S.useState({campaignUpdates:!0,newResponses:!0,scheduleReminders:!0,weeklyReports:!1}),[s,o]=S.useState([]),{toast:l}=Vt(),{user:c}=Un(),d=S.useCallback(async()=>{if(c)try{const{data:y,error:_}=await $e.from("profiles").select("notifications_enabled, email_alerts, sms_alerts").eq("user_id",c.id).single();if(_&&_.code!=="PGRST116"){console.error("Error loading notification settings:",_);return}y&&a(w=>({...w,campaignUpdates:y.notifications_enabled??!0,newResponses:y.email_alerts??!0,scheduleReminders:y.sms_alerts??!1}))}catch(y){console.error("Error loading notification settings:",y)}},[c]),f=S.useCallback(async()=>{if(c)try{const{data:y,error:_}=await $e.from("notifications").select("*").eq("user_id",c.id).order("created_at",{ascending:!1}).limit(20);if(_)throw _;o(y||[])}catch(y){console.error("Error loading notifications:",y)}},[c]),h=S.useCallback(()=>{if(!c)return;const y=$e.channel("public:notifications").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${c.id}`},_=>{if(console.log("Real-time notification update:",_),_.eventType==="INSERT"){const w=_.new;o(E=>[w,...E]),Notification.permission==="granted"&&new Notification(w.title,{body:w.message,icon:"/favicon.ico"})}else if(_.eventType==="UPDATE"){const w=_.new;o(E=>E.map(A=>A.id===w.id?w:A))}else if(_.eventType==="DELETE"){const w=_.old.id;o(E=>E.filter(A=>A.id!==w))}}).subscribe();return()=>{$e.removeChannel(y)}},[c]);S.useEffect(()=>{p();let y;return c&&(d(),f(),y=h()),()=>{y==null||y()}},[c,d,f,h]);const p=async()=>{if(!("Notification"in window)){l({title:"Not Supported",description:"Your browser does not support notifications",variant:"destructive"});return}try{const y=await Notification.requestPermission();r(y),y==="granted"?(e(!0),new Notification("AdmitConnect AI",{body:"Notifications enabled! You'll now receive updates about your campaigns.",icon:"/favicon.ico",badge:"/favicon.ico"}),l({title:"Success",description:"Browser notifications enabled successfully!"}),await m({...i,campaignUpdates:!0})):l({title:"Permission Denied",description:"Please enable notifications in your browser settings",variant:"destructive"})}catch(y){console.error("Error requesting notification permission:",y),l({title:"Error",description:"Failed to enable notifications",variant:"destructive"})}},m=async y=>{if(c)try{const{error:_}=await $e.from("profiles").update({notifications_enabled:y.campaignUpdates,email_alerts:y.newResponses,sms_alerts:y.scheduleReminders}).eq("user_id",c.id);if(_)throw _;a(y),l({title:"Settings Updated",description:"Notification preferences saved successfully"})}catch(_){console.error("Error updating notification settings:",_),l({title:"Error",description:"Failed to update notification settings",variant:"destructive"})}},g=async()=>{if(c)try{const{error:y}=await $e.from("notifications").insert({user_id:c.id,title:"Test Notification",message:"This is a test notification from AdmitConnect AI",type:"info"});if(y)throw y;l({title:"Sent",description:"Test notification sent to database"})}catch(y){console.error("Error sending test notification:",y),l({title:"Error",description:"Failed to send test notification",variant:"destructive"})}},x=(y,_)=>{const w={...i,[y]:_};m(w)},b=async y=>{try{const{error:_}=await $e.from("notifications").update({read:!0}).eq("id",y);if(_)throw _}catch(_){console.error("Error marking as read:",_)}},v=async y=>{try{const{error:_}=await $e.from("notifications").delete().eq("id",y);if(_)throw _}catch(_){console.error("Error deleting notification:",_)}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold bg-ai-gradient bg-clip-text text-transparent mb-2",children:"Notification Center"}),u.jsx("p",{className:"text-muted-foreground",children:"Stay updated with real-time alerts about your campaigns and responses"})]}),u.jsxs(te,{className:"hover-scale transition-all duration-200",children:[u.jsx(Xe,{children:u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(pE,{className:"w-5 h-5"}),"Browser Notifications"]})}),u.jsxs(Le,{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"font-medium",children:"Push Notifications"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Get instant updates directly in your browser"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(dn,{variant:n==="granted"?"default":"secondary",children:n==="granted"?"Enabled":"Disabled"}),n!=="granted"&&u.jsx(se,{onClick:p,variant:"hero",size:"sm",className:"hover-lift",children:"Enable"})]})]}),u.jsx("div",{className:"pt-4 border-t",children:u.jsx(se,{variant:"outline",size:"sm",onClick:g,className:"hover-lift",children:"Send Test Notification"})})]})]}),u.jsxs(te,{className:"hover-scale transition-all duration-200",children:[u.jsx(Xe,{children:u.jsx(Ze,{children:"Notification Preferences"})}),u.jsxs(Le,{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Ge,{className:"flex items-center gap-2",children:[u.jsx(Ir,{className:"w-4 h-4"}),"Campaign Updates"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications when campaigns start, complete, or need attention"})]}),u.jsx(ei,{checked:i.campaignUpdates,onCheckedChange:y=>x("campaignUpdates",y),disabled:n!=="granted"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Ge,{className:"flex items-center gap-2",children:[u.jsx(ci,{className:"w-4 h-4"}),"New Responses"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Immediate alerts when candidates respond to your outreach"})]}),u.jsx(ei,{checked:i.newResponses,onCheckedChange:y=>x("newResponses",y),disabled:n!=="granted"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Ge,{className:"flex items-center gap-2",children:[u.jsx(Kp,{className:"w-4 h-4"}),"Schedule Reminders"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Reminders for upcoming deadlines and follow-ups"})]}),u.jsx(ei,{checked:i.scheduleReminders,onCheckedChange:y=>x("scheduleReminders",y),disabled:n!=="granted"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Ge,{className:"flex items-center gap-2",children:[u.jsx(pE,{className:"w-4 h-4"}),"Weekly Reports"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Weekly summary of campaign performance and metrics"})]}),u.jsx(ei,{checked:i.weeklyReports,onCheckedChange:y=>x("weeklyReports",y),disabled:n!=="granted"})]})]})]}),u.jsxs(te,{className:"hover-scale transition-all duration-200",children:[u.jsx(Xe,{children:u.jsx(Ze,{children:"Recent Notifications"})}),u.jsx(Le,{children:u.jsx("div",{className:"space-y-3",children:s.length===0?u.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No notifications yet"}):s.map(y=>u.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg transition-colors ${y.read?"bg-muted/30":"bg-muted/80"}`,children:[u.jsx("div",{className:`w-2 h-2 mt-2 rounded-full flex-shrink-0 ${y.type==="success"?"bg-green-500":y.type==="error"?"bg-red-500":y.type==="warning"?"bg-orange-500":"bg-blue-500"}`}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:`text-sm font-medium ${y.read?"text-muted-foreground":"text-foreground"}`,children:y.title}),u.jsx("p",{className:"text-sm text-muted-foreground",children:y.message}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[new Date(y.created_at).toLocaleTimeString(),"  ",new Date(y.created_at).toLocaleDateString()]})]}),u.jsxs("div",{className:"flex gap-1",children:[!y.read&&u.jsx(se,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>b(y.id),title:"Mark as read",children:u.jsx(Jx,{className:"w-3 h-3"})}),u.jsx(se,{variant:"ghost",size:"icon",className:"h-6 w-6 text-destructive",onClick:()=>v(y.id),title:"Delete",children:u.jsx(kk,{className:"w-3 h-3"})})]})]},y.id))})})]})]})},YK=({campaign:t,onExecutionComplete:e})=>{var b;const[n,r]=S.useState((t==null?void 0:t.id)||""),[i,a]=S.useState(""),[s,o]=S.useState(0),[l,c]=S.useState(!1),[d,f]=S.useState(t?[t]:[]),{toast:h}=Vt(),{user:p}=Un(),m=async()=>{if(!p)return;const{data:v}=await $e.from("campaigns").select("id, name, candidates_count, status").eq("user_id",p.id).order("created_at",{ascending:!1});v&&f(v)};S.useEffect(()=>{m()},[p]);const g=[{value:"email",label:"Email Only",icon:ni,color:"text-orange-500"},{value:"whatsapp",label:"WhatsApp Only",icon:ci,color:"text-green-500"},{value:"voice",label:"Voice Only",icon:Ta,color:"text-blue-500"},{value:"email_whatsapp",label:"Email + WhatsApp",icon:$r,color:"text-purple-500"},{value:"voice_whatsapp",label:"Voice + WhatsApp",icon:$r,color:"text-indigo-500"},{value:"email_voice",label:"Email + Voice",icon:$r,color:"text-pink-500"}],x=async()=>{if(!n){h({title:"Select a Campaign",variant:"destructive"});return}if(!i){h({title:"Select Execution Strategy",variant:"destructive"});return}c(!0);try{let v=[];i==="email"?v=["email"]:i==="whatsapp"?v=["whatsapp"]:i==="voice"?v=["voice"]:i==="email_whatsapp"?v=["email","whatsapp"]:i==="voice_whatsapp"?v=["voice","whatsapp"]:i==="email_voice"&&(v=["email","voice"]);const{api:y}=await Ii(async()=>{const{api:_}=await Promise.resolve().then(()=>PO);return{api:_}},void 0);await $e.from("campaigns").update({channels:v}).eq("id",n),await y.campaigns.execute(n),h({title:"Campaign Started",description:`Executing ${i} strategy.`}),e==null||e()}catch(v){console.error("Campaign execution error:",v),h({title:"Execution Failed",description:v.message,variant:"destructive"})}finally{c(!1)}};return u.jsxs(te,{className:"border-primary/20",children:[u.jsx(Xe,{children:u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(Fr,{className:"w-5 h-5 text-primary"}),"Campaign Execution Center"]})}),u.jsxs(Le,{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{children:"Select Target Campaign"}),u.jsxs(ua,{value:n,onValueChange:r,children:[u.jsx(ki,{children:u.jsx(da,{placeholder:"Choose a campaign..."})}),u.jsx(Ci,{children:d.map(v=>u.jsxs(Bt,{value:v.id,children:[v.name," (",v.candidates_count," candidates)"]},v.id))})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(Ge,{className:"text-base font-medium",children:"Select Execution Strategy"}),u.jsx("div",{className:"grid grid-cols-2 gap-3",children:g.map(v=>{const y=v.icon,_=i===v.value;return u.jsxs("div",{className:`flex items-center space-x-2 p-3 border rounded-lg cursor-pointer transition-all hover:bg-accent ${_?"border-primary bg-primary/10 ring-1 ring-primary":"border-border"}`,onClick:()=>a(v.value),children:[u.jsx(y,{className:`w-4 h-4 ${v.color}`}),u.jsx("span",{className:"text-sm font-medium",children:v.label})]},v.value)})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"delay",className:"text-base font-medium",children:"Delay (minutes)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(hl,{className:"w-4 h-4 text-muted-foreground"}),u.jsx(Ut,{id:"delay",type:"number",min:"0",max:"1440",value:s,onChange:v=>o(parseInt(v.target.value)||0),className:"w-24"})]})]}),u.jsx(se,{onClick:x,disabled:l||!i,className:"w-full",variant:"hero",children:l?u.jsxs(u.Fragment,{children:[u.jsx(El,{size:"sm",className:"mr-2"}),"Executing Campaign..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Fs,{className:"w-4 h-4 mr-2"}),"Execute Campaign"]})}),i&&u.jsxs("div",{className:"text-sm text-muted-foreground text-center",children:["Will execute: ",(b=g.find(v=>v.value===i))==null?void 0:b.label,s>0&&` with ${s}min delay`]})]})]})},V7e=()=>{var v;const t=pi(),{user:e,signOut:n}=Un(),{toast:r}=Vt(),[i,a]=S.useState(null),[s,o]=S.useState("overview"),[l,c]=S.useState(!1),[d,f]=S.useState(!1),[h,p]=S.useState([]),[m,g]=S.useState({totalCampaigns:0,messagesSent:0,callsMade:0,responseRate:0}),x=async()=>{if(e)try{const{data:y,error:_}=await $e.from("campaigns").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(_)throw _;p(y||[]);const w=(y==null?void 0:y.length)||0,E=(y==null?void 0:y.reduce((C,O)=>C+(O.messages_sent||0),0))||0,A=(y==null?void 0:y.reduce((C,O)=>C+(O.calls_made||0),0))||0,j=(y==null?void 0:y.reduce((C,O)=>C+(O.responses_received||0),0))||0,T=E+A,k=T>0?Math.round(j/T*100):0;g({totalCampaigns:w,messagesSent:E,callsMade:A,responseRate:k})}catch(y){console.error("Error loading dashboard data:",y),r({title:"Error loading data",description:"Failed to load dashboard data. Please refresh the page.",variant:"destructive"})}};S.useEffect(()=>{x()},[e]);const b=async()=>{try{await n(),t("/")}catch(y){console.error("Error signing out:",y),r({title:"Sign out failed",description:"Please try again",variant:"destructive"})}};return u.jsxs("div",{className:"min-h-screen bg-ai-gradient-subtle",children:[u.jsx("div",{className:"bg-card/50 backdrop-blur-sm border-b border-border/50 sticky top-0 z-40",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-ai-gradient rounded-lg flex items-center justify-center",children:u.jsx(pa,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-lg font-semibold",children:"AdmitConnect AI"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Dashboard"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(se,{variant:"outline",size:"sm",onClick:()=>f(!0),children:[u.jsx(Ir,{className:"w-4 h-4 mr-2"}),"Upgrade"]}),u.jsx(se,{variant:"ghost",size:"sm",onClick:()=>c(!0),children:u.jsx(rg,{className:"w-4 h-4"})}),u.jsx(se,{variant:"ghost",size:"sm",onClick:b,children:u.jsx(jk,{className:"w-4 h-4"})})]})]})})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("h2",{className:"text-2xl font-bold mb-2",children:["Welcome back, ",((v=e==null?void 0:e.user_metadata)==null?void 0:v.full_name)||(e==null?void 0:e.email),"! "]}),u.jsx("p",{className:"text-muted-foreground",children:"Manage your admission campaigns and track performance from your dashboard."})]}),u.jsxs(au,{value:s,onValueChange:o,className:"space-y-6",children:[u.jsxs(Fl,{className:"grid w-full grid-cols-5",children:[u.jsx(mt,{value:"overview",children:"Overview"}),u.jsx(mt,{value:"campaigns",children:"Campaigns"}),u.jsx(mt,{value:"analytics",children:"Analytics"}),u.jsx(mt,{value:"automation",children:"Automation"}),u.jsx(mt,{value:"notifications",children:"Notifications"})]}),u.jsxs(gt,{value:"overview",className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[u.jsx(te,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Sc,{className:"w-5 h-5 text-blue-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Campaigns"}),u.jsx("p",{className:"text-2xl font-bold",children:m.totalCampaigns})]})]})}),u.jsx(te,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:u.jsx(ci,{className:"w-5 h-5 text-green-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Messages Sent"}),u.jsx("p",{className:"text-2xl font-bold",children:m.messagesSent})]})]})}),u.jsx(te,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Ta,{className:"w-5 h-5 text-purple-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Calls Made"}),u.jsx("p",{className:"text-2xl font-bold",children:m.callsMade})]})]})}),u.jsx(te,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-orange-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Ir,{className:"w-5 h-5 text-orange-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Response Rate"}),u.jsxs("p",{className:"text-2xl font-bold",children:[m.responseRate,"%"]})]})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Recent Campaigns"}),u.jsxs(se,{onClick:()=>a("create-campaign"),variant:"hero",children:[u.jsx(sp,{className:"w-4 h-4 mr-2"}),"New Campaign"]})]}),h.length===0?u.jsxs(te,{className:"p-8 text-center bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx(Sc,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No campaigns yet"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first campaign to start reaching prospective students."}),u.jsx(se,{onClick:()=>a("create-campaign"),variant:"hero",children:"Create Your First Campaign"})]}):u.jsxs("div",{className:"space-y-4",children:[h.slice(0,3).map(y=>u.jsx(Fj,{campaign:y,onUpdate:x},y.id)),h.length>3&&u.jsxs(te,{className:"p-4 text-center bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("p",{className:"text-muted-foreground",children:["+",h.length-3," more campaigns"]}),u.jsx(se,{variant:"ghost",size:"sm",className:"mt-2",onClick:()=>o("campaigns"),children:"View All Campaigns"})]})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsx(M1e,{campaigns:h,stats:m}),u.jsxs(te,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[u.jsx(Fr,{className:"w-5 h-5 text-primary"}),"Quick Actions"]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(se,{variant:"outline",className:"w-full justify-start",onClick:()=>a("upload-candidates"),children:[u.jsx(Ck,{className:"w-4 h-4 mr-2"}),"Upload Candidates"]}),u.jsxs(se,{variant:"outline",className:"w-full justify-start",onClick:()=>a("create-campaign"),children:[u.jsx(sp,{className:"w-4 h-4 mr-2"}),"Create Campaign"]}),h.length>0&&u.jsxs(se,{variant:"outline",className:"w-full justify-start",onClick:()=>a("execute-campaign"),children:[u.jsx(Fs,{className:"w-4 h-4 mr-2"}),"Execute Campaign"]}),u.jsxs(se,{variant:"outline",className:"w-full justify-start",onClick:()=>f(!0),children:[u.jsx(Ir,{className:"w-4 h-4 mr-2"}),"Upgrade Plan"]})]})]})]})]})]}),u.jsxs(gt,{value:"campaigns",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"All Campaigns"}),u.jsxs(se,{onClick:()=>a("create-campaign"),variant:"hero",children:[u.jsx(sp,{className:"w-4 h-4 mr-2"}),"New Campaign"]})]}),h.length===0?u.jsxs(te,{className:"p-8 text-center bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx(Sc,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No campaigns yet"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first campaign to start reaching prospective students."}),u.jsx(se,{onClick:()=>a("create-campaign"),variant:"hero",children:"Create Your First Campaign"})]}):u.jsx("div",{className:"grid grid-cols-1 gap-4",children:h.map(y=>u.jsx(Fj,{campaign:y,onUpdate:x},y.id))})]}),u.jsx(gt,{value:"analytics",children:u.jsx(qK,{})}),u.jsx(gt,{value:"automation",children:u.jsx(GK,{})}),u.jsx(gt,{value:"notifications",children:u.jsx(KK,{})})]})]}),u.jsx(ai,{open:i==="create-campaign",onOpenChange:y=>!y&&a(null),children:u.jsxs(Mr,{className:"max-w-2xl",children:[u.jsx(Dr,{children:u.jsx(Lr,{children:"Create New Campaign"})}),u.jsx(MV,{onCampaignCreated:()=>{a(null),x()}})]})}),u.jsx(ai,{open:i==="upload-candidates",onOpenChange:y=>!y&&a(null),children:u.jsxs(Mr,{className:"max-w-2xl",children:[u.jsx(Dr,{children:u.jsx(Lr,{children:"Upload Candidates"})}),u.jsx(RV,{onUploadComplete:()=>{a(null),x()}})]})}),u.jsx(ai,{open:i==="execute-campaign",onOpenChange:y=>!y&&a(null),children:u.jsxs(Mr,{className:"max-w-2xl",children:[u.jsx(Dr,{children:u.jsx(Lr,{children:"Execute Campaign"})}),h.length>0&&u.jsx(YK,{campaign:h[0],onExecutionComplete:()=>{a(null),x(),r({title:"Campaign Executed",description:"Your campaign is now running across selected channels"})}})]})}),u.jsx(_O,{open:l,onOpenChange:c}),u.jsx(IO,{open:d,onOpenChange:f})]})},W7e=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState(!1);return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(mO,{onContactClick:()=>e(!0),onScheduleClick:()=>r(!0)}),u.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:u.jsxs("div",{className:"text-center space-y-6",children:[u.jsx("h1",{className:"text-4xl md:text-6xl font-bold",children:u.jsx("span",{className:"bg-ai-gradient bg-clip-text text-transparent",children:"About AdmitConnect AI"})}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Revolutionizing college admissions through AI-powered automation, personalized outreach, and intelligent campaign management."})]})}),u.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Our Mission"}),u.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:"We empower educational institutions to connect with prospective students through intelligent automation, personalized messaging, and data-driven insights."}),u.jsx("p",{className:"text-lg text-muted-foreground",children:"Our platform combines cutting-edge AI technology with proven admission strategies to help colleges and universities scale their outreach efforts while maintaining a personal touch."})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs(te,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx(Yp,{className:"w-8 h-8 text-primary mb-4"}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Targeted Outreach"}),u.jsx("p",{className:"text-muted-foreground",children:"Reach the right students with personalized messaging that resonates with their interests and goals."})]}),u.jsxs(te,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx(Fr,{className:"w-8 h-8 text-primary mb-4"}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Automated Efficiency"}),u.jsx("p",{className:"text-muted-foreground",children:"Save time and resources while increasing your reach with intelligent automation that works 24/7."})]})]})]})}),u.jsx("section",{className:"py-16 bg-ai-gradient-subtle",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Making an Impact"}),u.jsx("p",{className:"text-xl text-muted-foreground",children:"See how we're transforming college admissions nationwide"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent mb-2",children:"500+"}),u.jsx("p",{className:"text-muted-foreground",children:"Colleges Served"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent mb-2",children:"2M+"}),u.jsx("p",{className:"text-muted-foreground",children:"Students Reached"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent mb-2",children:"85%"}),u.jsx("p",{className:"text-muted-foreground",children:"Response Rate"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent mb-2",children:"98%"}),u.jsx("p",{className:"text-muted-foreground",children:"Client Satisfaction"})]})]})]})}),u.jsxs("section",{className:"py-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Meet the AdmitConnect AI Team"}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto mb-8",children:"Our passionate team of AI experts, educators, and developers is dedicated to revolutionizing the college admission process."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[u.jsx(se,{size:"lg",variant:"hero",onClick:()=>window.open("/admit-ai-nexus/our-services","_blank"),className:"text-lg px-8 py-3",children:"Learn More About Our Services"}),u.jsxs(se,{size:"lg",variant:"outline",onClick:()=>e(!0),className:"text-lg px-8 py-3",children:[u.jsx(ni,{className:"w-5 h-5 mr-2"}),"Contact Us"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs(te,{className:"p-6 text-center bg-card/50 backdrop-blur-sm border-border/50 hover:shadow-xl transition-all duration-300",children:[u.jsx("div",{className:"w-20 h-20 bg-ai-gradient rounded-full mx-auto mb-4 flex items-center justify-center",children:u.jsx($r,{className:"w-10 h-10 text-white"})}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"AI & Technology"}),u.jsx("p",{className:"text-muted-foreground",children:"Cutting-edge AI researchers and engineers building the future of educational technology."})]}),u.jsxs(te,{className:"p-6 text-center bg-card/50 backdrop-blur-sm border-border/50 hover:shadow-xl transition-all duration-300",children:[u.jsx("div",{className:"w-20 h-20 bg-ai-gradient rounded-full mx-auto mb-4 flex items-center justify-center",children:u.jsx(Yp,{className:"w-10 h-10 text-white"})}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Education Experts"}),u.jsx("p",{className:"text-muted-foreground",children:"Former admissions counselors and education professionals who understand the industry."})]}),u.jsxs(te,{className:"p-6 text-center bg-card/50 backdrop-blur-sm border-border/50 hover:shadow-xl transition-all duration-300",children:[u.jsx("div",{className:"w-20 h-20 bg-ai-gradient rounded-full mx-auto mb-4 flex items-center justify-center",children:u.jsx(Fr,{className:"w-10 h-10 text-white"})}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Customer Success"}),u.jsx("p",{className:"text-muted-foreground",children:"Dedicated support team ensuring every client achieves their enrollment goals."})]})]})]}),u.jsx("section",{className:"py-16 bg-card/50",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[u.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Get in Touch"}),u.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Ready to transform your admissions process? Let's discuss how AdmitConnect AI can help your institution thrive."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsxs(se,{variant:"hero",size:"lg",onClick:()=>r(!0),className:"hover-lift",children:[u.jsx(Kp,{className:"w-5 h-5 mr-2"}),"Schedule Demo"]}),u.jsxs(se,{variant:"outline",size:"lg",onClick:()=>e(!0),className:"hover-lift",children:[u.jsx(ni,{className:"w-5 h-5 mr-2"}),"Contact Sales"]})]}),u.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-2 gap-8 max-w-2xl mx-auto",children:[u.jsxs("a",{href:"mailto:admitconnectAI@gmail.com",className:"flex flex-col items-center p-6 bg-card rounded-lg border border-border/50 hover:border-primary/50 transition-all hover:shadow-lg group",children:[u.jsx(ni,{className:"w-12 h-12 text-primary mb-4 group-hover:scale-110 transition-transform"}),u.jsx("h3",{className:"font-semibold mb-2",children:"Email"}),u.jsx("p",{className:"text-muted-foreground text-sm text-center break-all",children:"admitconnectAI@gmail.com"})]}),u.jsxs("a",{href:"https://wa.me/918439663198",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center p-6 bg-card rounded-lg border border-border/50 hover:border-primary/50 transition-all hover:shadow-lg group",children:[u.jsx(Kv,{className:"w-12 h-12 text-primary mb-4 group-hover:scale-110 transition-transform"}),u.jsx("h3",{className:"font-semibold mb-2",children:"WhatsApp"}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"+91 8439663198"})]})]})]})}),u.jsx(yO,{open:t,onOpenChange:e}),u.jsx(Yb,{open:n,onOpenChange:r}),u.jsx(TH,{}),u.jsx(fV,{})]})},q7e=()=>{pi();const[t,e]=S.useState(!1),[n,r]=S.useState(!1),i=[{icon:Zs,title:"AI-Driven Admission Counseling",description:"Intelligent guidance powered by advanced AI algorithms",features:["Personalized course recommendations","University matching based on profile","Real-time admission probability analysis","Document requirement tracking","Application timeline management"],color:"blue"},{icon:ci,title:"WhatsApp Automation",description:"Natural language communication at scale",features:["24/7 automated responses","Natural conversation flow","Multi-language support","Smart follow-up sequences","Rich media sharing"],color:"green"},{icon:Ta,title:"Voice Call Automation",description:"Intelligent voice interactions with prospective students",features:["AI-powered voice calls","Natural speech recognition","Appointment scheduling","Call quality analytics","Integration with CRM systems"],color:"purple"},{icon:fl,title:"Analytics Dashboard",description:"Comprehensive insights and performance tracking",features:["Real-time engagement metrics","Conversion rate tracking","Student journey analytics","ROI measurement","Custom reporting"],color:"orange"}],a=[{icon:Yp,title:"Increased Conversion",description:"Up to 40% improvement in lead conversion rates"},{icon:hl,title:"24/7 Availability",description:"Round-the-clock student support and engagement"},{icon:$r,title:"Scalable Operations",description:"Handle thousands of inquiries simultaneously"},{icon:CB,title:"Data Security",description:"Enterprise-grade security and privacy protection"},{icon:Fr,title:"Quick Implementation",description:"Get started in under 48 hours"},{icon:mE,title:"Global Reach",description:"Multi-language support for international students"}],s=o=>{const l={blue:"bg-blue-500/10 text-blue-500 border-blue-500/20",green:"bg-green-500/10 text-green-500 border-green-500/20",purple:"bg-purple-500/10 text-purple-500 border-purple-500/20",orange:"bg-orange-500/10 text-orange-500 border-orange-500/20"};return l[o]||l.blue};return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(mO,{onContactClick:()=>e(!0),onScheduleClick:()=>r(!0)}),u.jsx("section",{className:"pt-24 pb-16 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[u.jsxs(dn,{variant:"outline",className:"mb-6 px-4 py-2",children:[u.jsx(Tk,{className:"w-4 h-4 mr-2"}),"Comprehensive AI Solutions"]}),u.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 bg-ai-gradient bg-clip-text text-transparent",children:"Our Services"}),u.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-3xl mx-auto",children:"Transform your admission process with our suite of AI-powered tools designed to engage, convert, and retain prospective students at scale."})]})}),u.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:i.map((o,l)=>u.jsxs(te,{className:"relative overflow-hidden group hover:shadow-2xl transition-all duration-300 border-border/50 bg-card/50 backdrop-blur-sm",children:[u.jsxs(Xe,{className:"pb-4",children:[u.jsx("div",{className:`w-16 h-16 rounded-xl ${s(o.color)} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300`,children:u.jsx(o.icon,{className:"w-8 h-8"})}),u.jsx(Ze,{className:"text-2xl mb-2",children:o.title}),u.jsx(Xa,{className:"text-base",children:o.description})]}),u.jsx(Le,{children:u.jsx("ul",{className:"space-y-3",children:o.features.map((c,d)=>u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(ma,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),u.jsx("span",{className:"text-muted-foreground",children:c})]},d))})})]},l))})})}),u.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 bg-muted/20",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Why Choose AdmitConnect AI?"}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Experience the benefits that leading educational institutions trust"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((o,l)=>u.jsxs(te,{className:"text-center p-6 hover:shadow-lg transition-all duration-300 border-border/50 bg-card/50 backdrop-blur-sm",children:[u.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(o.icon,{className:"w-6 h-6 text-primary"})}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:o.title}),u.jsx("p",{className:"text-muted-foreground",children:o.description})]},l))})]})}),u.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"How It Works"}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Simple implementation process to get you started"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[{step:"01",title:"Integration",description:"Connect your existing systems"},{step:"02",title:"Configuration",description:"Customize AI responses and workflows"},{step:"03",title:"Training",description:"AI learns your institution's specifics"},{step:"04",title:"Launch",description:"Go live and start engaging students"}].map((o,l)=>u.jsxs("div",{className:"text-center relative",children:[u.jsx("div",{className:"w-16 h-16 bg-ai-gradient rounded-full flex items-center justify-center mx-auto mb-4 text-white font-bold text-lg",children:o.step}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:o.title}),u.jsx("p",{className:"text-muted-foreground",children:o.description}),l<3&&u.jsx(Fd,{className:"hidden md:block absolute top-8 -right-4 w-6 h-6 text-muted-foreground"})]},l))})]})}),u.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 bg-ai-gradient-subtle",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Transform Your Admissions?"}),u.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Join hundreds of institutions already using AdmitConnect AI to boost their admission success"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsxs(se,{size:"lg",variant:"hero",onClick:()=>r(!0),className:"text-lg px-8 py-3",children:["Schedule Demo",u.jsx(Fd,{className:"w-5 h-5 ml-2"})]}),u.jsx(se,{size:"lg",variant:"outline",onClick:()=>e(!0),className:"text-lg px-8 py-3",children:"Contact Sales"})]})]})}),u.jsx(yO,{open:t,onOpenChange:e}),u.jsx(Yb,{open:n,onOpenChange:r})]})},G7e=()=>{const t=Pl();return S.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),u.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},K7e=()=>{const{toast:t}=Vt(),[e,n]=S.useState([]),[r,i]=S.useState([]),[a,s]=S.useState({totalCandidates:0,readyForDistribution:0,inProgress:0,completed:0,failed:0}),[o,l]=S.useState(!1),[c,d]=S.useState(""),[f,h]=S.useState("all"),[p,m]=S.useState(!1);S.useEffect(()=>{g()},[]),S.useEffect(()=>{b()},[e,c,f]);const g=async()=>{l(!0);try{const{data:w,error:E}=await $e.from("candidates").select(`
          *,
          campaigns(name, type, status)
        `).order("created_at",{ascending:!1});if(E)throw E;n(w||[]),x(w||[])}catch(w){console.error("Error loading candidate data:",w),t({title:"Error",description:"Failed to load candidate data",variant:"destructive"})}finally{l(!1)}},x=w=>{const E=w.length,A=w.filter(C=>C.status==="pending").length,j=w.filter(C=>C.status==="email_sent"||C.status==="voice_called"||C.status==="whatsapp_sent").length,T=w.filter(C=>C.response_received).length,k=w.filter(C=>C.status==="failed").length;s({totalCandidates:E,readyForDistribution:A,inProgress:j,completed:T,failed:k})},b=()=>{let w=e;c&&(w=w.filter(E=>E.name.toLowerCase().includes(c.toLowerCase())||E.email.toLowerCase().includes(c.toLowerCase())||E.phone.includes(c)||E.city.toLowerCase().includes(c.toLowerCase()))),f!=="all"&&(w=w.filter(E=>E.status===f)),i(w)},v=async(w,E)=>{m(!0);try{const A=[];for(const j of E){let T="";switch(j){case"email":T="email-agent";break;case"voice":T="voice-agent";break;case"whatsapp":T="whatsapp-agent";break;default:continue}const{data:k,error:C}=await $e.functions.invoke(T,{body:{candidateIds:w,distributedBy:"data-distribution-layer"}});if(C)throw C;A.push({channel:j,success:!0,data:k})}t({title:"Distribution Complete",description:`Successfully distributed data to ${E.length} channels`}),g()}catch(A){console.error("Error distributing data:",A),t({title:"Distribution Failed",description:"Failed to distribute data to agents",variant:"destructive"})}finally{m(!1)}},y=w=>{const E=[];return!w.email&&!w.phone&&E.push("Missing contact information"),w.name||E.push("Missing name"),w.email&&!w.email.includes("@")&&E.push("Invalid email format"),E},_=w=>{switch(w){case"pending":return"bg-yellow-500/10 text-yellow-500";case"email_sent":return"bg-blue-500/10 text-blue-500";case"voice_called":return"bg-purple-500/10 text-purple-500";case"whatsapp_sent":return"bg-green-500/10 text-green-500";case"completed":return"bg-emerald-500/10 text-emerald-500";case"failed":return"bg-red-500/10 text-red-500";default:return"bg-gray-500/10 text-gray-500"}};return u.jsx(pz,{children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[u.jsx(dd,{className:"w-6 h-6 text-primary"}),"Data Distribution Layer"]}),u.jsx("p",{className:"text-muted-foreground",children:"Centralized candidate data management and agent distribution"})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs(se,{onClick:g,variant:"outline",disabled:o,children:[u.jsx(pl,{className:`w-4 h-4 mr-2 ${o?"animate-spin":""}`}),"Refresh"]})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[u.jsx(te,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx($r,{className:"w-5 h-5 text-blue-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Candidates"}),u.jsx("p",{className:"text-xl font-bold",children:a.totalCandidates})]})]})}),u.jsx(te,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(ts,{className:"w-5 h-5 text-yellow-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Ready"}),u.jsx("p",{className:"text-xl font-bold",children:a.readyForDistribution})]})]})}),u.jsx(te,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Fd,{className:"w-5 h-5 text-orange-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"In Progress"}),u.jsx("p",{className:"text-xl font-bold",children:a.inProgress})]})]})}),u.jsx(te,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(ma,{className:"w-5 h-5 text-green-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed"}),u.jsx("p",{className:"text-xl font-bold",children:a.completed})]})]})}),u.jsx(te,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Gv,{className:"w-5 h-5 text-red-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Failed"}),u.jsx("p",{className:"text-xl font-bold",children:a.failed})]})]})})]}),u.jsxs(te,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(ts,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"text-lg font-semibold",children:"Distribution Progress"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[u.jsx("span",{children:"Overall Completion"}),u.jsxs("span",{children:[Math.round(a.completed/a.totalCandidates*100)||0,"%"]})]}),u.jsx(Oi,{value:a.completed/a.totalCandidates*100||0,className:"h-2"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[u.jsx("span",{children:"Ready for Distribution"}),u.jsxs("span",{children:[Math.round(a.readyForDistribution/a.totalCandidates*100)||0,"%"]})]}),u.jsx(Oi,{value:a.readyForDistribution/a.totalCandidates*100||0,className:"h-2"})]})]})]}),u.jsx(te,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx(Wee,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),u.jsx(Ut,{placeholder:"Search candidates...",value:c,onChange:w=>d(w.target.value),className:"pl-9"})]})}),u.jsxs(ua,{value:f,onValueChange:h,children:[u.jsx(ki,{className:"w-48",children:u.jsx(da,{placeholder:"Filter by status"})}),u.jsxs(Ci,{children:[u.jsx(Bt,{value:"all",children:"All Statuses"}),u.jsx(Bt,{value:"pending",children:"Pending"}),u.jsx(Bt,{value:"email_sent",children:"Email Sent"}),u.jsx(Bt,{value:"voice_called",children:"Voice Called"}),u.jsx(Bt,{value:"whatsapp_sent",children:"WhatsApp Sent"}),u.jsx(Bt,{value:"completed",children:"Completed"}),u.jsx(Bt,{value:"failed",children:"Failed"})]})]}),u.jsxs(se,{onClick:()=>v(r.filter(w=>w.status==="pending").map(w=>w.id),["email","voice","whatsapp"]),disabled:p||r.filter(w=>w.status==="pending").length===0,variant:"hero",children:[p?u.jsx(pl,{className:"w-4 h-4 mr-2 animate-spin"}):u.jsx(Fd,{className:"w-4 h-4 mr-2"}),"Distribute to Agents"]})]})}),u.jsxs(te,{className:"bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx("div",{className:"p-4 border-b border-border/50",children:u.jsxs("h3",{className:"text-lg font-semibold",children:["Candidate Data (",r.length,")"]})}),u.jsxs("div",{className:"overflow-x-auto",children:[u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-muted/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left p-4",children:"Name"}),u.jsx("th",{className:"text-left p-4",children:"Contact"}),u.jsx("th",{className:"text-left p-4",children:"Location"}),u.jsx("th",{className:"text-left p-4",children:"Course"}),u.jsx("th",{className:"text-left p-4",children:"Status"}),u.jsx("th",{className:"text-left p-4",children:"Distribution"}),u.jsx("th",{className:"text-left p-4",children:"Validation"})]})}),u.jsx("tbody",{children:r.map(w=>{const E=y(w);return u.jsxs("tr",{className:"border-t border-border/50 hover:bg-muted/20",children:[u.jsx("td",{className:"p-4",children:u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:w.name}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",w.id.slice(0,8)]})]})}),u.jsx("td",{className:"p-4",children:u.jsxs("div",{className:"space-y-1",children:[w.email&&u.jsxs("p",{className:"text-sm flex items-center gap-1",children:[u.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),w.email]}),w.phone&&u.jsxs("p",{className:"text-sm flex items-center gap-1",children:[u.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),w.phone]})]})}),u.jsx("td",{className:"p-4",children:u.jsx("p",{className:"text-sm",children:w.city||"N/A"})}),u.jsx("td",{className:"p-4",children:u.jsx("p",{className:"text-sm",children:w.course||"N/A"})}),u.jsx("td",{className:"p-4",children:u.jsx(dn,{className:_(w.status),children:w.status.replace("_"," ")})}),u.jsx("td",{className:"p-4",children:u.jsxs("div",{className:"flex gap-1",children:[w.email_sent&&u.jsxs(pu,{children:[u.jsx(mu,{children:u.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),u.jsx(Jl,{children:"Email sent"})]}),w.voice_called&&u.jsxs(pu,{children:[u.jsx(mu,{children:u.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"})}),u.jsx(Jl,{children:"Voice called"})]}),w.whatsapp_sent&&u.jsxs(pu,{children:[u.jsx(mu,{children:u.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"})}),u.jsx(Jl,{children:"WhatsApp sent"})]}),w.response_received&&u.jsxs(pu,{children:[u.jsx(mu,{children:u.jsx(ma,{className:"w-4 h-4 text-emerald-500"})}),u.jsx(Jl,{children:"Response received"})]})]})}),u.jsx("td",{className:"p-4",children:E.length>0?u.jsxs(pu,{children:[u.jsx(mu,{children:u.jsx(Gv,{className:"w-4 h-4 text-red-500"})}),u.jsx(Jl,{children:E.join(", ")})]}):u.jsxs(pu,{children:[u.jsx(mu,{children:u.jsx(ma,{className:"w-4 h-4 text-green-500"})}),u.jsx(Jl,{children:"Valid data"})]})})]},w.id)})})]}),r.length===0&&u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No candidates found matching your criteria"})]})]})]})})},Y7e=()=>{const{toast:t}=Vt(),[e,n]=S.useState([]),[r,i]=S.useState([]),[a,s]=S.useState(""),[o,l]=S.useState([]),[c,d]=S.useState(!1),[f,h]=S.useState(null);S.useEffect(()=>{p();const E=setInterval(p,1e4);return h(E),()=>{E&&clearInterval(E)}},[]);const p=async()=>{try{await Promise.all([m(),g(),x()])}catch(E){console.error("Error loading data:",E)}},m=async()=>{const{data:E,error:A}=await $e.from("campaigns").select("*").order("created_at",{ascending:!1});if(A)throw A;i(E||[])},g=async()=>{const E=[{id:"email-agent-001",name:"Email Agent Alpha",type:"email",status:"online",lastActivity:new Date(Date.now()-12e4).toISOString(),metrics:{totalProcessed:1247,successRate:94.2,avgResponseTime:1850,currentLoad:15}},{id:"voice-agent-001",name:"Voice Agent Beta",type:"voice",status:"online",lastActivity:new Date(Date.now()-3e5).toISOString(),metrics:{totalProcessed:892,successRate:87.6,avgResponseTime:12400,currentLoad:8}},{id:"messaging-agent-001",name:"Messaging Agent Gamma",type:"messaging",status:"online",lastActivity:new Date(Date.now()-6e4).toISOString(),metrics:{totalProcessed:2156,successRate:96.8,avgResponseTime:950,currentLoad:22}}];n(E)},x=async()=>{const{data:E,error:A}=await $e.from("campaign_analytics").select("*").eq("event_type","campaign_orchestrated").order("timestamp",{ascending:!1}).limit(10);if(A){console.error("Error loading executions:",A);return}const j=(E||[]).map((T,k)=>({id:T.id,campaignName:`Campaign ${T.campaign_id.slice(0,8)}`,status:k===0?"running":k<3?"completed":"pending",progress:k===0?65:k<3?100:0,agents:["email","voice","messaging"],startTime:T.timestamp,results:k<3?T.metadata:void 0}));l(j)},b=async(E="normal")=>{if(!a){t({title:"No Campaign Selected",description:"Please select a campaign to execute",variant:"destructive"});return}d(!0);try{console.log("Executing multi-channel campaign with enhanced agents");const{data:A,error:j}=await $e.functions.invoke("campaign-orchestrator",{body:{campaignId:a,channels:["email","voice","whatsapp"],priority:E,agentConfig:{email:{priority:E,retryCount:3},voice:{priority:E,voiceSettings:{voice:"alice",speed:1}},messaging:{priority:E,messageType:"whatsapp"}}}});if(j)throw j;t({title:"Campaign Execution Started",description:`Multi-channel campaign launched with ${E} priority`}),p()}catch(A){console.error("Error executing campaign:",A),t({title:"Execution Failed",description:"Failed to start campaign execution",variant:"destructive"})}finally{d(!1)}},v=async E=>{if(!a){t({title:"No Campaign Selected",description:"Please select a campaign first",variant:"destructive"});return}d(!0);try{const A=E==="messaging"?"whatsapp-agent":`${E}-agent`,{data:j,error:T}=await $e.functions.invoke(A,{body:{campaignId:a,priority:"normal",agentId:`${E}-agent-manual-${Date.now()}`}});if(T)throw T;t({title:"Agent Execution Started",description:`${E.charAt(0).toUpperCase()+E.slice(1)} agent is processing the campaign`}),p()}catch(A){console.error(`Error executing ${E} agent:`,A),t({title:"Agent Execution Failed",description:`Failed to start ${E} agent`,variant:"destructive"})}finally{d(!1)}},y=E=>{switch(E){case"online":return"bg-green-500/10 text-green-500";case"busy":return"bg-yellow-500/10 text-yellow-500";case"offline":return"bg-gray-500/10 text-gray-500";case"error":return"bg-red-500/10 text-red-500";default:return"bg-gray-500/10 text-gray-500"}},_=E=>{switch(E){case"running":return"bg-blue-500/10 text-blue-500";case"completed":return"bg-green-500/10 text-green-500";case"failed":return"bg-red-500/10 text-red-500";case"pending":return"bg-yellow-500/10 text-yellow-500";default:return"bg-gray-500/10 text-gray-500"}},w=E=>{switch(E){case"email":return ni;case"voice":return Ta;case"messaging":return ci;default:return pa}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[u.jsx(pa,{className:"w-6 h-6 text-primary"}),"Enhanced Agent Control Panel"]}),u.jsx("p",{className:"text-muted-foreground",children:"Advanced multi-agent coordination and intelligent campaign execution"})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs(se,{onClick:p,variant:"outline",disabled:c,children:[u.jsx(pl,{className:`w-4 h-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]})})]}),u.jsx(te,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select Campaign"}),u.jsxs(ua,{value:a,onValueChange:s,children:[u.jsx(ki,{children:u.jsx(da,{placeholder:"Choose a campaign to execute"})}),u.jsx(Ci,{children:r.map(E=>u.jsxs(Bt,{value:E.id,children:[E.name," (",E.type,")"]},E.id))})]})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs(se,{onClick:()=>b("high"),disabled:!a||c,variant:"hero",children:[u.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Execute All Agents"]})})]})}),u.jsxs(au,{defaultValue:"agents",className:"space-y-6",children:[u.jsxs(Fl,{className:"grid w-full grid-cols-4",children:[u.jsx(mt,{value:"agents",children:"Agent Status"}),u.jsx(mt,{value:"execution",children:"Live Execution"}),u.jsx(mt,{value:"performance",children:"Performance"}),u.jsx(mt,{value:"coordination",children:"Coordination"})]}),u.jsx(gt,{value:"agents",className:"space-y-6",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map(E=>{const A=w(E.type);return u.jsxs(te,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:u.jsx(A,{className:"w-5 h-5 text-primary"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold",children:E.name}),u.jsx("p",{className:"text-sm text-muted-foreground",children:E.type})]})]}),u.jsx(dn,{className:y(E.status),children:E.status})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Processed"}),u.jsx("span",{className:"font-semibold",children:E.metrics.totalProcessed})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Success Rate"}),u.jsxs("span",{className:"font-semibold",children:[E.metrics.successRate,"%"]})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Avg Response"}),u.jsxs("span",{className:"font-semibold",children:[E.metrics.avgResponseTime,"ms"]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[u.jsx("span",{children:"Current Load"}),u.jsxs("span",{className:"font-semibold",children:[E.metrics.currentLoad,"%"]})]}),u.jsx(Oi,{value:E.metrics.currentLoad,className:"h-2"})]})]}),u.jsxs(se,{onClick:()=>v(E.type),disabled:!a||c,className:"w-full mt-4",variant:"outline",children:[u.jsx(Fs,{className:"w-4 h-4 mr-2"}),"Execute Agent"]})]},E.id)})})}),u.jsx(gt,{value:"execution",className:"space-y-6",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Live Campaign Executions"}),o.map(E=>u.jsxs(te,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(ts,{className:"w-5 h-5 text-primary"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold",children:E.campaignName}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Started ",new Date(E.startTime).toLocaleTimeString()]})]})]}),u.jsx(dn,{className:_(E.status),children:E.status})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Progress"}),u.jsxs("span",{children:[E.progress,"%"]})]}),u.jsx(Oi,{value:E.progress,className:"h-2"}),u.jsx("div",{className:"flex gap-2 mt-3",children:E.agents.map(A=>{const j=w(A);return u.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[u.jsx(j,{className:"w-3 h-3"}),A]},A)})})]})]},E.id))]})}),u.jsx(gt,{value:"performance",className:"space-y-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs(te,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[u.jsx(fl,{className:"w-5 h-5"}),"Agent Performance"]}),u.jsx("div",{className:"space-y-4",children:e.map(E=>u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:E.name}),u.jsxs("span",{children:[E.metrics.successRate,"%"]})]}),u.jsx(Oi,{value:E.metrics.successRate,className:"h-2"})]},E.id))})]}),u.jsxs(te,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[u.jsx(hl,{className:"w-5 h-5"}),"Response Times"]}),u.jsx("div",{className:"space-y-4",children:e.map(E=>u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:E.name}),u.jsxs("span",{className:"text-sm font-semibold",children:[E.metrics.avgResponseTime,"ms"]})]},E.id))})]})]})}),u.jsx(gt,{value:"coordination",className:"space-y-6",children:u.jsxs(te,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Coordination Settings"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Priority Mode"}),u.jsxs(ua,{defaultValue:"normal",children:[u.jsx(ki,{children:u.jsx(da,{})}),u.jsxs(Ci,{children:[u.jsx(Bt,{value:"low",children:"Low Priority"}),u.jsx(Bt,{value:"normal",children:"Normal Priority"}),u.jsx(Bt,{value:"high",children:"High Priority"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Retry Strategy"}),u.jsxs(ua,{defaultValue:"aggressive",children:[u.jsx(ki,{children:u.jsx(da,{})}),u.jsxs(Ci,{children:[u.jsx(Bt,{value:"conservative",children:"Conservative"}),u.jsx(Bt,{value:"balanced",children:"Balanced"}),u.jsx(Bt,{value:"aggressive",children:"Aggressive"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Load Balancing"}),u.jsxs(ua,{defaultValue:"auto",children:[u.jsx(ki,{children:u.jsx(da,{})}),u.jsxs(Ci,{children:[u.jsx(Bt,{value:"manual",children:"Manual"}),u.jsx(Bt,{value:"auto",children:"Automatic"}),u.jsx(Bt,{value:"intelligent",children:"Intelligent"})]})]})]})]})]})})]})]})};function X7e(){var g,x,b;const[t,e]=S.useState([]),[n,r]=S.useState(null),[i,a]=S.useState(!1),[s,o]=S.useState(""),[l,c]=S.useState([]);S.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:v,error:y}=await $e.from("campaigns").select("*").order("created_at",{ascending:!1});if(y)throw y;c(v||[]),v&&v.length>0&&o(v[0].id)}catch(v){console.error("Error loading campaigns:",v),Vl.error("Failed to load campaigns")}},f=async v=>{a(!0);try{const{data:y,error:_}=await $e.functions.invoke("decision-engine",{body:{campaignId:v,action:"generate_strategy"}});if(_)throw _;if(y.success){const w=y.result;e(E=>[...E.filter(j=>j.campaignId!==v),w]),Vl.success("Strategy generated successfully")}}catch(y){console.error("Error generating strategy:",y),Vl.error("Failed to generate strategy")}finally{a(!1)}},h=async v=>{a(!0);try{const{data:y,error:_}=await $e.functions.invoke("mcp-server",{body:{method:"tools/call",params:{name:"analyze_campaign_performance",arguments:{campaignId:v,timeframe:"30d"}}}});if(_)throw _;y.success&&(r(y.result),Vl.success("MCP analysis completed"))}catch(y){console.error("Error with MCP analysis:",y),Vl.error("Failed to analyze with MCP")}finally{a(!1)}},p=async v=>{a(!0);try{const{data:y,error:_}=await $e.functions.invoke("mcp-server",{body:{method:"tools/call",params:{name:"optimize_candidate_targeting",arguments:{campaignId:v,criteria:{}}}}});if(_)throw _;y.success&&Vl.success("Targeting optimization completed")}catch(y){console.error("Error optimizing targeting:",y),Vl.error("Failed to optimize targeting")}finally{a(!1)}},m=t.find(v=>v.campaignId===s);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Decision Logic & MCP Server"}),u.jsx("p",{className:"text-muted-foreground",children:"AI-powered campaign optimization and intelligent decision making"})]}),u.jsx("div",{className:"flex gap-2",children:u.jsx("select",{value:s,onChange:v=>o(v.target.value),className:"px-3 py-2 border rounded-md bg-background",children:l.map(v=>u.jsx("option",{value:v.id,children:v.name},v.id))})})]}),u.jsxs(au,{defaultValue:"strategy",className:"w-full",children:[u.jsxs(Fl,{className:"grid w-full grid-cols-3",children:[u.jsxs(mt,{value:"strategy",className:"flex items-center gap-2",children:[u.jsx(Yp,{className:"h-4 w-4"}),"Strategy Engine"]}),u.jsxs(mt,{value:"mcp",className:"flex items-center gap-2",children:[u.jsx(Zs,{className:"h-4 w-4"}),"MCP Analysis"]}),u.jsxs(mt,{value:"optimization",className:"flex items-center gap-2",children:[u.jsx(Ir,{className:"h-4 w-4"}),"Optimization"]})]}),u.jsx(gt,{value:"strategy",className:"space-y-4",children:u.jsxs(te,{children:[u.jsxs(Xe,{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(Fr,{className:"h-5 w-5"}),"Campaign Strategy Generator"]}),u.jsx(Xa,{children:"Generate intelligent campaign strategies using decision logic engine"})]}),u.jsxs(Le,{className:"space-y-4",children:[u.jsx("div",{className:"flex gap-2",children:u.jsx(se,{onClick:()=>s&&f(s),disabled:i||!s,children:i?"Generating...":"Generate Strategy"})}),m&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsx(te,{children:u.jsxs(Le,{className:"pt-4",children:[u.jsx("div",{className:"text-2xl font-bold",children:m.totalCandidates}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Candidates"})]})}),u.jsx(te,{children:u.jsxs(Le,{className:"pt-4",children:[u.jsx("div",{className:"text-2xl font-bold",children:((g=m.effectiveness)==null?void 0:g.expectedConversions)||0}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected Conversions"})]})}),u.jsx(te,{children:u.jsxs(Le,{className:"pt-4",children:[u.jsx("div",{className:"text-2xl font-bold",children:((x=m.effectiveness)==null?void 0:x.efficiency)||"N/A"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Efficiency Rating"})]})})]}),u.jsxs(te,{children:[u.jsx(Xe,{children:u.jsx(Ze,{children:"Channel Priority"})}),u.jsx(Le,{children:u.jsx("div",{className:"flex gap-2",children:m.channelPriority.map((v,y)=>u.jsxs(dn,{variant:y===0?"default":"secondary",children:["#",y+1," ",v]},v))})})]}),u.jsxs(te,{children:[u.jsx(Xe,{children:u.jsx(Ze,{children:"Timeline Phases"})}),u.jsx(Le,{className:"space-y-3",children:Object.entries(((b=m.estimatedTimeline)==null?void 0:b.phases)||{}).map(([v,y])=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"capitalize",children:v}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Oi,{value:y/m.totalCandidates*100,className:"w-24"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:y})]})]},v))})]})]})]})]})}),u.jsx(gt,{value:"mcp",className:"space-y-4",children:u.jsxs(te,{children:[u.jsxs(Xe,{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(Zs,{className:"h-5 w-5"}),"MCP Server Analysis"]}),u.jsx(Xa,{children:"Model Context Protocol powered intelligent analysis"})]}),u.jsxs(Le,{className:"space-y-4",children:[u.jsx(se,{onClick:()=>s&&h(s),disabled:i||!s,children:i?"Analyzing...":"Run MCP Analysis"}),n&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs(te,{children:[u.jsx(Xe,{children:u.jsx(Ze,{children:"Performance Metrics"})}),u.jsx(Le,{className:"space-y-3",children:n.performance&&Object.entries(n.performance).map(([v,y])=>u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"capitalize",children:v.replace(/([A-Z])/g," $1").trim()}),u.jsx(dn,{variant:"outline",children:typeof y=="number"?`${(y*100).toFixed(1)}%`:String(y)})]},v))})]}),u.jsxs(te,{children:[u.jsx(Xe,{children:u.jsx(Ze,{children:"AI Insights"})}),u.jsx(Le,{children:u.jsx("ul",{className:"space-y-2",children:n.insights.map((v,y)=>u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(fl,{className:"h-4 w-4 mt-1 text-primary"}),u.jsx("span",{className:"text-sm",children:v})]},y))})})]}),u.jsxs(te,{children:[u.jsx(Xe,{children:u.jsx(Ze,{children:"Recommendations"})}),u.jsx(Le,{children:u.jsx("ul",{className:"space-y-2",children:n.recommendations.map((v,y)=>u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(OB,{className:"h-4 w-4 mt-1 text-orange-500"}),u.jsx("span",{className:"text-sm",children:v})]},y))})})]})]})]})]})}),u.jsx(gt,{value:"optimization",className:"space-y-4",children:u.jsxs(te,{children:[u.jsxs(Xe,{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(rg,{className:"h-5 w-5"}),"Campaign Optimization"]}),u.jsx(Xa,{children:"Optimize targeting and communication strategies"})]}),u.jsxs(Le,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(se,{onClick:()=>s&&p(s),disabled:i||!s,variant:"outline",children:"Optimize Targeting"}),u.jsx(se,{onClick:()=>s&&f(s),disabled:i||!s,variant:"outline",children:"Generate Communication Strategy"})]}),u.jsxs(te,{children:[u.jsx(Xe,{children:u.jsx(Ze,{className:"text-lg",children:"Decision Rules"})}),u.jsx(Le,{className:"space-y-3",children:u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"Email First Priority"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Send email to candidates with email addresses"})]}),u.jsx(ei,{defaultChecked:!0})]}),u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"Voice Follow-up"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Call candidates who don't open emails within 2 days"})]}),u.jsx(ei,{defaultChecked:!0})]}),u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"WhatsApp Engagement"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Send WhatsApp to engaged candidates"})]}),u.jsx(ei,{defaultChecked:!0})]}),u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"High Priority Blast"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Multi-channel approach for high-priority candidates"})]}),u.jsx(ei,{defaultChecked:!0})]})]})})]})]})]})})]})]})}const Z7e=ng("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Mu=S.forwardRef(({className:t,variant:e,...n},r)=>u.jsx("div",{ref:r,role:"alert",className:ye(Z7e({variant:e}),t),...n}));Mu.displayName="Alert";const J7e=S.forwardRef(({className:t,...e},n)=>u.jsx("h5",{ref:n,className:ye("mb-1 font-medium leading-none tracking-tight",t),...e}));J7e.displayName="AlertTitle";const Du=S.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:ye("text-sm [&_p]:leading-relaxed",t),...e}));Du.displayName="AlertDescription";const Q7e=()=>{const[t,e]=S.useState({cpuUsage:45,memoryUsage:62,apiResponseTime:235,databaseConnections:12,cacheHitRate:85,activeUsers:147,throughput:324,errorRate:.8}),[n,r]=S.useState([{id:"query-caching",name:"Database Query Caching",description:"Cache frequently accessed database queries to reduce load",impact:"high",enabled:!0,lastApplied:"2024-01-10T10:30:00Z"},{id:"connection-pooling",name:"Connection Pooling",description:"Optimize database connection management",impact:"high",enabled:!0,lastApplied:"2024-01-10T09:15:00Z"},{id:"batch-processing",name:"Batch Processing",description:"Group similar operations for better efficiency",impact:"medium",enabled:!0,lastApplied:"2024-01-10T08:45:00Z"},{id:"cdn-optimization",name:"CDN Optimization",description:"Optimize content delivery network usage",impact:"medium",enabled:!1,lastApplied:"2024-01-09T16:20:00Z"}]),[i,a]=S.useState(!1);S.useEffect(()=>{const f=setInterval(()=>{e(h=>({cpuUsage:Math.max(0,Math.min(100,h.cpuUsage+(Math.random()-.5)*10)),memoryUsage:Math.max(0,Math.min(100,h.memoryUsage+(Math.random()-.5)*8)),apiResponseTime:Math.max(50,h.apiResponseTime+(Math.random()-.5)*50),databaseConnections:Math.max(0,Math.min(50,h.databaseConnections+Math.floor((Math.random()-.5)*5))),cacheHitRate:Math.max(0,Math.min(100,h.cacheHitRate+(Math.random()-.5)*5)),activeUsers:Math.max(0,h.activeUsers+Math.floor((Math.random()-.5)*10)),throughput:Math.max(0,h.throughput+(Math.random()-.5)*100),errorRate:Math.max(0,Math.min(10,h.errorRate+(Math.random()-.5)*.5))}))},2e3);return()=>clearInterval(f)},[]);const s=S.useCallback(f=>{r(h=>h.map(p=>p.id===f?{...p,enabled:!p.enabled,lastApplied:new Date().toISOString()}:p))},[]),o=S.useCallback(async()=>{a(!0),await new Promise(f=>setTimeout(f,3e3)),e(f=>({...f,cpuUsage:Math.max(20,f.cpuUsage*.8),memoryUsage:Math.max(30,f.memoryUsage*.9),apiResponseTime:Math.max(100,f.apiResponseTime*.7),cacheHitRate:Math.min(100,f.cacheHitRate*1.1),errorRate:f.errorRate*.5})),a(!1)},[]),l=S.useMemo(()=>{const f=[100-t.cpuUsage,100-t.memoryUsage,Math.max(0,100-(t.apiResponseTime-100)/10),t.cacheHitRate,Math.max(0,100-t.errorRate*10)];return Math.round(f.reduce((h,p)=>h+p)/f.length)},[t]),c=f=>f>=80?"text-green-600":f>=60?"text-yellow-600":"text-red-600",d=f=>{switch(f){case"high":return"destructive";case"medium":return"secondary";case"low":return"outline";default:return"outline"}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-bold",children:"Performance Optimization"}),u.jsx("p",{className:"text-muted-foreground",children:"Monitor and optimize system performance"})]}),u.jsxs(se,{onClick:o,disabled:i,className:"gap-2",children:[i?u.jsx(pl,{className:"h-4 w-4 animate-spin"}):u.jsx(Fr,{className:"h-4 w-4"}),i?"Optimizing...":"Run Optimization"]})]}),u.jsxs(te,{children:[u.jsx(Xe,{children:u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(Ir,{className:"h-5 w-5"}),"Overall Performance Score"]})}),u.jsx(Le,{children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:`text-4xl font-bold ${c(l)}`,children:[l,"%"]}),u.jsx(Oi,{value:l,className:"flex-1"}),u.jsx(dn,{variant:l>=80?"default":l>=60?"secondary":"destructive",children:l>=80?"Excellent":l>=60?"Good":"Needs Attention"})]})})]}),u.jsxs(au,{defaultValue:"metrics",className:"space-y-4",children:[u.jsxs(Fl,{children:[u.jsx(mt,{value:"metrics",children:"Real-time Metrics"}),u.jsx(mt,{value:"optimizations",children:"Optimization Rules"}),u.jsx(mt,{value:"alerts",children:"Performance Alerts"})]}),u.jsx(gt,{value:"metrics",className:"space-y-4",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs(te,{children:[u.jsxs(Xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ze,{className:"text-sm font-medium",children:"CPU Usage"}),u.jsx(Ree,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Le,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.cpuUsage.toFixed(1),"%"]}),u.jsx(Oi,{value:t.cpuUsage,className:"mt-2"})]})]}),u.jsxs(te,{children:[u.jsxs(Xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ze,{className:"text-sm font-medium",children:"Memory Usage"}),u.jsx(zee,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Le,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.memoryUsage.toFixed(1),"%"]}),u.jsx(Oi,{value:t.memoryUsage,className:"mt-2"})]})]}),u.jsxs(te,{children:[u.jsxs(Xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ze,{className:"text-sm font-medium",children:"API Response"}),u.jsx(hl,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Le,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.apiResponseTime.toFixed(0),"ms"]}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Average response time"})]})]}),u.jsxs(te,{children:[u.jsxs(Xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ze,{className:"text-sm font-medium",children:"Cache Hit Rate"}),u.jsx(dd,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Le,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.cacheHitRate.toFixed(1),"%"]}),u.jsx(Oi,{value:t.cacheHitRate,className:"mt-2"})]})]}),u.jsxs(te,{children:[u.jsxs(Xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ze,{className:"text-sm font-medium",children:"Active Users"}),u.jsx(ts,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Le,{children:[u.jsx("div",{className:"text-2xl font-bold",children:t.activeUsers}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Currently online"})]})]}),u.jsxs(te,{children:[u.jsxs(Xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ze,{className:"text-sm font-medium",children:"Throughput"}),u.jsx(fl,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Le,{children:[u.jsx("div",{className:"text-2xl font-bold",children:t.throughput.toFixed(0)}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Requests per minute"})]})]}),u.jsxs(te,{children:[u.jsxs(Xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ze,{className:"text-sm font-medium",children:"DB Connections"}),u.jsx(dd,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Le,{children:[u.jsx("div",{className:"text-2xl font-bold",children:t.databaseConnections}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Active connections"})]})]}),u.jsxs(te,{children:[u.jsxs(Xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Ze,{className:"text-sm font-medium",children:"Error Rate"}),u.jsx(mE,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Le,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.errorRate.toFixed(2),"%"]}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Error percentage"})]})]})]})}),u.jsx(gt,{value:"optimizations",className:"space-y-4",children:u.jsx("div",{className:"grid gap-4",children:n.map(f=>u.jsxs(te,{children:[u.jsx(Xe,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(Ze,{className:"text-lg",children:f.name}),u.jsx(Xa,{children:f.description})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(dn,{variant:d(f.impact),children:[f.impact," impact"]}),u.jsx(se,{size:"sm",variant:f.enabled?"default":"outline",onClick:()=>s(f.id),children:f.enabled?"Enabled":"Disabled"})]})]})}),u.jsx(Le,{children:u.jsxs("div",{className:"text-sm text-muted-foreground",children:["Last applied: ",new Date(f.lastApplied).toLocaleString()]})})]},f.id))})}),u.jsx(gt,{value:"alerts",className:"space-y-4",children:u.jsxs("div",{className:"space-y-4",children:[t.cpuUsage>80&&u.jsxs(Mu,{children:[u.jsx(ts,{className:"h-4 w-4"}),u.jsxs(Du,{children:["High CPU usage detected (",t.cpuUsage.toFixed(1),"%). Consider enabling CPU optimization rules."]})]}),t.apiResponseTime>500&&u.jsxs(Mu,{children:[u.jsx(hl,{className:"h-4 w-4"}),u.jsxs(Du,{children:["API response time is above threshold (",t.apiResponseTime.toFixed(0),"ms). Enable caching optimizations."]})]}),t.cacheHitRate<70&&u.jsxs(Mu,{children:[u.jsx(dd,{className:"h-4 w-4"}),u.jsxs(Du,{children:["Low cache hit rate (",t.cacheHitRate.toFixed(1),"%). Review caching strategy."]})]}),t.errorRate>2&&u.jsxs(Mu,{children:[u.jsx(mE,{className:"h-4 w-4"}),u.jsxs(Du,{children:["High error rate detected (",t.errorRate.toFixed(2),"%). Check system logs for issues."]})]}),t.cpuUsage<=80&&t.apiResponseTime<=500&&t.cacheHitRate>=70&&t.errorRate<=2&&u.jsxs(Mu,{children:[u.jsx(Ir,{className:"h-4 w-4"}),u.jsx(Du,{children:"All systems operating within normal parameters. No alerts at this time."})]})]})})]})]})},eWe=({agentId:t="agent_0b0a29061f41517a382a32035e"})=>{const{toast:e}=Vt(),n=S.useRef(null),[r,i]=S.useState(""),[a,s]=S.useState(""),[o,l]=S.useState(null),[c,d]=S.useState(""),[f,h]=S.useState(!1),[p,m]=S.useState(!1),g=async b=>{var y;const v=(y=b.target.files)==null?void 0:y[0];if(v){l(v),h(!0);try{const _=new FileReader;_.onload=async w=>{var A;const E=(A=w.target)==null?void 0:A.result;v.type==="text/plain"||v.name.endsWith(".txt")?d(E):d(`Document: ${v.name} (${v.type})`),e({title:"Document uploaded",description:`${v.name} has been processed for the call context.`})},v.type==="text/plain"||v.name.endsWith(".txt")?_.readAsText(v):_.readAsDataURL(v)}catch(_){console.error("Error processing file:",_),e({title:"Upload failed",description:"Failed to process the uploaded document.",variant:"destructive"})}finally{h(!1)}}},x=async()=>{if(!r){e({title:"Phone number required",description:"Please enter a phone number to call.",variant:"destructive"});return}m(!0);try{const{data:b,error:v}=await $e.functions.invoke("retell-agent",{body:{phone_number:r,agent_id:t,context:a,document_content:c}});if(v)throw v;if(b.success)e({title:"Call initiated",description:`Call to ${r} has been started successfully.`}),i(""),s(""),l(null),d(""),n.current&&(n.current.value="");else throw new Error(b.error||"Failed to initiate call")}catch(b){console.error("Error initiating call:",b),e({title:"Call failed",description:b instanceof Error?b.message:"Failed to initiate the call.",variant:"destructive"})}finally{m(!1)}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs(te,{children:[u.jsx(Xe,{children:u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(pa,{className:"h-5 w-5"}),"Retell.ai Agent Panel"]})}),u.jsxs(Le,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"phone",children:"Phone Number"}),u.jsx(Ut,{id:"phone",type:"tel",placeholder:"+1234567890",value:r,onChange:b=>i(b.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"agent",children:"Agent ID"}),u.jsx(Ut,{id:"agent",value:t,disabled:!0,className:"bg-muted"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"context",children:"Call Context"}),u.jsx(iu,{id:"context",placeholder:"Enter context or talking points for the call...",value:a,onChange:b=>s(b.target.value),rows:3})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"document",children:"Upload Document (Optional)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(se,{variant:"outline",onClick:()=>{var b;return(b=n.current)==null?void 0:b.click()},disabled:f,children:[f?u.jsx(CI,{className:"h-4 w-4 animate-spin mr-2"}):u.jsx(Ck,{className:"h-4 w-4 mr-2"}),"Upload Document"]}),o&&u.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[u.jsx(Sc,{className:"h-4 w-4"}),o.name]})]}),u.jsx("input",{ref:n,type:"file",onChange:g,accept:".txt,.pdf,.doc,.docx",className:"hidden"})]}),c&&u.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[u.jsx(Ge,{className:"text-sm font-medium",children:"Document Content Preview:"}),u.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[c.substring(0,200),c.length>200&&"..."]})]}),u.jsx(se,{onClick:x,disabled:p||!r,className:"w-full",children:p?u.jsxs(u.Fragment,{children:[u.jsx(CI,{className:"h-4 w-4 animate-spin mr-2"}),"Initiating Call..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Ta,{className:"h-4 w-4 mr-2"}),"Initiate Call"]})})]})]}),u.jsxs(te,{children:[u.jsx(Xe,{children:u.jsx(Ze,{children:"AI Analysis Integration"})}),u.jsxs(Le,{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"The Retell.ai agent integrates with your existing AI analysis system to:"}),u.jsxs("ul",{className:"list-disc list-inside text-sm text-muted-foreground mt-2 space-y-1",children:[u.jsx("li",{children:"Analyze uploaded documents for call context"}),u.jsx("li",{children:"Generate intelligent talking points"}),u.jsx("li",{children:"Track call performance and outcomes"}),u.jsx("li",{children:"Integrate with campaign analytics"})]})]})]})]})},tWe=()=>{var x;const t=pi(),{user:e,signOut:n}=Un(),{toast:r}=Vt(),[i,a]=S.useState(null),[s,o]=S.useState(!1),[l,c]=S.useState(!1),[d,f]=S.useState([]),[h,p]=S.useState({totalCampaigns:0,messagesSent:0,callsMade:0,responseRate:0});S.useEffect(()=>{m()},[e]);const m=async()=>{if(e)try{const{data:b,error:v}=await $e.from("campaigns").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(v)throw v;f(b||[]);const y=(b==null?void 0:b.length)||0,_=(b==null?void 0:b.reduce((T,k)=>T+(k.messages_sent||0),0))||0,w=(b==null?void 0:b.reduce((T,k)=>T+(k.calls_made||0),0))||0,E=(b==null?void 0:b.reduce((T,k)=>T+(k.responses_received||0),0))||0,A=_+w,j=A>0?Math.round(E/A*100):0;p({totalCampaigns:y,messagesSent:_,callsMade:w,responseRate:j})}catch(b){console.error("Error loading dashboard data:",b),r({title:"Error loading data",description:"Failed to load dashboard data. Please refresh the page.",variant:"destructive"})}},g=async()=>{try{await n(),t("/")}catch(b){console.error("Error signing out:",b),r({title:"Sign out failed",description:"Please try again",variant:"destructive"})}};return u.jsxs("div",{className:"min-h-screen bg-ai-gradient-subtle",children:[u.jsx("div",{className:"bg-card/50 backdrop-blur-sm border-b border-border/50 sticky top-0 z-40",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-ai-gradient rounded-lg flex items-center justify-center",children:u.jsx(pa,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-lg font-semibold",children:"AdmitConnect AI"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Admin Dashboard"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ip,{to:"/analytics",children:u.jsxs(se,{variant:"outline",size:"sm",children:[u.jsx(fl,{className:"w-4 h-4 mr-2"}),"Analytics"]})}),u.jsxs(se,{variant:"outline",size:"sm",onClick:()=>c(!0),children:[u.jsx(Ir,{className:"w-4 h-4 mr-2"}),"Upgrade"]}),u.jsx(se,{variant:"ghost",size:"sm",onClick:()=>o(!0),children:u.jsx(rg,{className:"w-4 h-4"})}),u.jsx(se,{variant:"ghost",size:"sm",onClick:g,children:u.jsx(jk,{className:"w-4 h-4"})})]})]})})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Admin Control Center "}),u.jsx("p",{className:"text-muted-foreground",children:"Manage campaigns, candidate data, and system configurations."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[u.jsx(te,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Sc,{className:"w-5 h-5 text-blue-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Campaigns"}),u.jsx("p",{className:"text-2xl font-bold",children:h.totalCampaigns})]})]})}),u.jsx(te,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:u.jsx(ci,{className:"w-5 h-5 text-green-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Messages Sent"}),u.jsx("p",{className:"text-2xl font-bold",children:h.messagesSent})]})]})}),u.jsx(te,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Ta,{className:"w-5 h-5 text-purple-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Calls Made"}),u.jsx("p",{className:"text-2xl font-bold",children:h.callsMade})]})]})}),u.jsx(te,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-orange-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Ir,{className:"w-5 h-5 text-orange-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Response Rate"}),u.jsxs("p",{className:"text-2xl font-bold",children:[h.responseRate,"%"]})]})]})})]}),u.jsxs(au,{defaultValue:"campaigns",className:"space-y-6",children:[u.jsxs(Fl,{className:"grid w-full grid-cols-7",children:[u.jsx(mt,{value:"campaigns",children:"Campaigns"}),u.jsx(mt,{value:"data",children:"Candidate Data"}),u.jsx(mt,{value:"agents",children:"Agent Control"}),u.jsx(mt,{value:"decision",children:"Decision Logic"}),u.jsx(mt,{value:"performance",children:"Performance"}),u.jsx(mt,{value:"retell",children:"Retell AI"}),u.jsx(mt,{value:"automation",children:"Automation"}),u.jsx(mt,{value:"notifications",children:"Notifications"})]}),u.jsxs(gt,{value:"campaigns",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Campaign Management"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(se,{onClick:()=>a("create-campaign"),variant:"hero",children:[u.jsx(sp,{className:"w-4 h-4 mr-2"}),"New Campaign"]}),d.length>0&&u.jsxs(se,{onClick:()=>a("execute-campaign"),variant:"outline",children:[u.jsx(Fs,{className:"w-4 h-4 mr-2"}),"Execute"]})]})]}),d.length===0?u.jsxs(te,{className:"p-8 text-center bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx(Sc,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No campaigns yet"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first campaign to start reaching prospective students."}),u.jsx(se,{onClick:()=>a("create-campaign"),variant:"hero",children:"Create Your First Campaign"})]}):u.jsx("div",{className:"grid grid-cols-1 gap-4",children:d.map(b=>u.jsx(Fj,{campaign:b,onUpdate:m},b.id))})]}),u.jsx(gt,{value:"data",className:"space-y-6",children:u.jsx(K7e,{})}),u.jsx(gt,{value:"agents",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Enhanced Agent Control"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Advanced multi-agent coordination and intelligent execution"})]}),u.jsx(Y7e,{})]})}),u.jsx(gt,{value:"decision",children:u.jsx(X7e,{})}),u.jsx(gt,{value:"performance",children:u.jsx(Q7e,{})}),u.jsx(gt,{value:"retell",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Retell.ai Agent Integration"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"AI-powered voice calls with document analysis"})]}),u.jsx(eWe,{})]})}),u.jsx(gt,{value:"automation",children:u.jsx(GK,{})}),u.jsx(gt,{value:"notifications",children:u.jsx(KK,{})})]})]}),u.jsx(ai,{open:i==="create-campaign",onOpenChange:b=>!b&&a(null),children:u.jsxs(Mr,{className:"max-w-2xl",children:[u.jsx(Dr,{children:u.jsx(Lr,{children:"Create New Campaign"})}),u.jsx(MV,{onCampaignCreated:()=>{a(null),m()}})]})}),u.jsx(ai,{open:i==="upload-candidates",onOpenChange:b=>!b&&a(null),children:u.jsxs(Mr,{className:"max-w-2xl",children:[u.jsx(Dr,{children:u.jsx(Lr,{children:"Upload Candidates"})}),u.jsx(RV,{campaignId:(x=d[0])==null?void 0:x.id,onUploadComplete:()=>{a(null),m()}})]})}),u.jsx(ai,{open:i==="execute-campaign",onOpenChange:b=>!b&&a(null),children:u.jsxs(Mr,{className:"max-w-2xl",children:[u.jsx(Dr,{children:u.jsx(Lr,{children:"Execute Campaign"})}),d.length>0&&u.jsx(YK,{campaign:d[0],onExecutionComplete:()=>{a(null),m(),r({title:"Campaign Executed",description:"Your campaign is now running across selected channels"})}})]})}),u.jsx(_O,{open:s,onOpenChange:o}),u.jsx(IO,{open:l,onOpenChange:c})]})},nWe=()=>{const[t,e]=S.useState([]),[n,r]=S.useState([]),[i,a]=S.useState([]),[s,o]=S.useState(!0),[l,c]=S.useState("7d"),{toast:d}=Vt();S.useEffect(()=>{f()},[l]);const f=async()=>{o(!0);try{const E=h(l),{data:A,error:j}=await $e.from("campaign_analytics").select(`
          *,
          campaigns (name)
        `).gte("timestamp",E.toISOString()).order("timestamp",{ascending:!1});if(j)throw j;const T=p(A||[]);e(T);const k=m(A||[]);r(k);const C=g(A||[]);a(C)}catch(E){console.error("Error fetching analytics:",E),d({title:"Error",description:"Failed to load analytics data",variant:"destructive"})}finally{o(!1)}},h=E=>{const A=new Date;switch(E){case"24h":return new Date(A.getTime()-24*60*60*1e3);case"7d":return new Date(A.getTime()-7*24*60*60*1e3);case"30d":return new Date(A.getTime()-30*24*60*60*1e3);default:return new Date(A.getTime()-7*24*60*60*1e3)}},p=E=>{const A=E.reduce((j,T)=>{var C,O;const k=`${((C=T.campaigns)==null?void 0:C.name)||"Unknown"}-${T.event_type}-${T.channel}`;return j[k]||(j[k]={campaign_id:T.campaign_id,campaign_name:((O=T.campaigns)==null?void 0:O.name)||"Unknown",event_type:T.event_type,channel:T.channel,status:T.status,count:0,timestamp:T.timestamp}),j[k].count++,j},{});return Object.values(A)},m=E=>["email","voice","whatsapp"].map(j=>{const T=E.filter(D=>D.channel===j),k=T.filter(D=>D.event_type.includes("sent")||D.event_type.includes("initiated")).length,C=T.filter(D=>D.status==="success"&&D.event_type.includes("delivered")).length,O=T.filter(D=>D.event_type.includes("opened")||D.event_type.includes("answered")).length,F=T.filter(D=>D.event_type.includes("failed")||D.status==="failed").length,R=k>0?O/k*100:0;return{channel:j,sent:k,delivered:C,opened:O,failed:F,engagement_rate:Math.round(R*100)/100}}),g=E=>{const A=[],j=new Date;for(let T=6;T>=0;T--){const k=new Date(j.getTime()-T*24*60*60*1e3),C={date:k.toLocaleDateString(),email:0,voice:0,whatsapp:0};E.forEach(O=>{new Date(O.timestamp).toDateString()===k.toDateString()&&O.status==="success"&&(O.channel==="email"&&C.email++,O.channel==="voice"&&C.voice++,O.channel==="whatsapp"&&C.whatsapp++)}),A.push(C)}return A},x=async()=>{try{const E=b(),A=new Blob([E],{type:"text/csv"}),j=window.URL.createObjectURL(A),T=document.createElement("a");T.href=j,T.download=`agent-analytics-${l}-${new Date().toISOString().split("T")[0]}.csv`,T.click(),window.URL.revokeObjectURL(j),d({title:"Success",description:"Analytics report exported successfully"})}catch{d({title:"Error",description:"Failed to export report",variant:"destructive"})}},b=()=>{const E=["Campaign","Channel","Event Type","Status","Count","Timestamp"],A=t.map(j=>[j.campaign_name,j.channel,j.event_type,j.status,j.count,j.timestamp]);return[E,...A].map(j=>j.join(",")).join(`
`)},v=["#8884d8","#82ca9d","#ffc658","#ff7300"],y=n.reduce((E,A)=>E+A.opened,0),_=n.reduce((E,A)=>E+A.sent,0),w=_>0?y/_*100:0;return s?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx(pl,{className:"h-8 w-8 animate-spin"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Agent Analytics Dashboard"}),u.jsx("p",{className:"text-muted-foreground",children:"Track engagement across all channels"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("select",{className:"rounded-md border border-input bg-background px-3 py-2",value:l,onChange:E=>c(E.target.value),children:[u.jsx("option",{value:"24h",children:"Last 24 Hours"}),u.jsx("option",{value:"7d",children:"Last 7 Days"}),u.jsx("option",{value:"30d",children:"Last 30 Days"})]}),u.jsxs(se,{onClick:f,variant:"outline",size:"sm",children:[u.jsx(pl,{className:"h-4 w-4 mr-2"}),"Refresh"]}),u.jsxs(se,{onClick:x,variant:"outline",size:"sm",children:[u.jsx(Ek,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsx(te,{children:u.jsxs(Le,{className:"flex items-center justify-between p-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Sent"}),u.jsx("p",{className:"text-2xl font-bold",children:_})]}),u.jsx(ci,{className:"h-8 w-8 text-muted-foreground"})]})}),u.jsx(te,{children:u.jsxs(Le,{className:"flex items-center justify-between p-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Engagement"}),u.jsx("p",{className:"text-2xl font-bold",children:y})]}),u.jsx(Ir,{className:"h-8 w-8 text-muted-foreground"})]})}),u.jsx(te,{children:u.jsxs(Le,{className:"flex items-center justify-between p-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Engagement Rate"}),u.jsxs("p",{className:"text-2xl font-bold",children:[w.toFixed(1),"%"]})]}),u.jsx($r,{className:"h-8 w-8 text-muted-foreground"})]})}),u.jsx(te,{children:u.jsxs(Le,{className:"flex items-center justify-between p-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Channels"}),u.jsx("p",{className:"text-2xl font-bold",children:n.filter(E=>E.sent>0).length})]}),u.jsx(ni,{className:"h-8 w-8 text-muted-foreground"})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(te,{children:[u.jsxs(Xe,{children:[u.jsx(Ze,{children:"Channel Performance"}),u.jsx(Xa,{children:"Messages sent and engagement by channel"})]}),u.jsx(Le,{children:u.jsx(bd,{width:"100%",height:300,children:u.jsxs(zK,{data:n,children:[u.jsx(Sx,{strokeDasharray:"3 3"}),u.jsx(jl,{dataKey:"channel"}),u.jsx(Al,{}),u.jsx(lr,{}),u.jsx(ol,{}),u.jsx(cs,{dataKey:"sent",fill:"#8884d8",name:"Sent"}),u.jsx(cs,{dataKey:"opened",fill:"#82ca9d",name:"Engaged"}),u.jsx(cs,{dataKey:"failed",fill:"#ff7300",name:"Failed"})]})})})]}),u.jsxs(te,{children:[u.jsxs(Xe,{children:[u.jsx(Ze,{children:"Channel Distribution"}),u.jsx(Xa,{children:"Share of total messages by channel"})]}),u.jsx(Le,{children:u.jsx(bd,{width:"100%",height:300,children:u.jsxs(UK,{children:[u.jsx(ws,{data:n.filter(E=>E.sent>0),cx:"50%",cy:"50%",labelLine:!1,label:({channel:E,sent:A})=>`${E}: ${A}`,outerRadius:80,fill:"#8884d8",dataKey:"sent",children:n.map((E,A)=>u.jsx(af,{fill:v[A%v.length]},`cell-${A}`))}),u.jsx(lr,{})]})})})]})]}),u.jsxs(te,{children:[u.jsxs(Xe,{children:[u.jsx(Ze,{children:"Engagement Trends"}),u.jsx(Xa,{children:"Daily engagement across all channels"})]}),u.jsx(Le,{children:u.jsx(bd,{width:"100%",height:300,children:u.jsxs(B7e,{data:i,children:[u.jsx(Sx,{strokeDasharray:"3 3"}),u.jsx(jl,{dataKey:"date"}),u.jsx(Al,{}),u.jsx(lr,{}),u.jsx(ol,{}),u.jsx(Oc,{type:"monotone",dataKey:"email",stroke:"#8884d8",strokeWidth:2}),u.jsx(Oc,{type:"monotone",dataKey:"voice",stroke:"#82ca9d",strokeWidth:2}),u.jsx(Oc,{type:"monotone",dataKey:"whatsapp",stroke:"#ffc658",strokeWidth:2})]})})})]}),u.jsxs(te,{children:[u.jsxs(Xe,{children:[u.jsx(Ze,{children:"Channel Details"}),u.jsx(Xa,{children:"Detailed performance metrics by channel"})]}),u.jsx(Le,{children:u.jsx("div",{className:"space-y-4",children:n.map(E=>{const A=E.channel==="email"?ni:E.channel==="voice"?Ta:ci;return u.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(A,{className:"h-5 w-5"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium capitalize",children:E.channel}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[E.sent," sent, ",E.opened," engaged"]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs(dn,{variant:E.engagement_rate>10?"default":"secondary",children:[E.engagement_rate,"% engagement"]}),E.failed>0&&u.jsxs("p",{className:"text-sm text-red-600 mt-1",children:[E.failed," failed"]})]})]},E.channel)})})})]})]})},rWe=()=>{const t=pi(),{user:e,signOut:n}=Un(),{toast:r}=Vt(),[i,a]=S.useState(!1),[s,o]=S.useState(!1),l=async()=>{try{await n(),t("/")}catch(c){console.error("Error signing out:",c),r({title:"Sign out failed",description:"Please try again",variant:"destructive"})}};return u.jsxs("div",{className:"min-h-screen bg-ai-gradient-subtle",children:[u.jsx("div",{className:"bg-card/50 backdrop-blur-sm border-b border-border/50 sticky top-0 z-40",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-ai-gradient rounded-lg flex items-center justify-center",children:u.jsx(pa,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-lg font-semibold",children:"AdmitConnect AI"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Analytics Dashboard"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ip,{to:"/admin",children:u.jsxs(se,{variant:"outline",size:"sm",children:[u.jsx($r,{className:"w-4 h-4 mr-2"}),"Admin"]})}),u.jsxs(se,{variant:"outline",size:"sm",onClick:()=>o(!0),children:[u.jsx(Ir,{className:"w-4 h-4 mr-2"}),"Upgrade"]}),u.jsx(se,{variant:"ghost",size:"sm",onClick:()=>a(!0),children:u.jsx(rg,{className:"w-4 h-4"})}),u.jsx(se,{variant:"ghost",size:"sm",onClick:l,children:u.jsx(jk,{className:"w-4 h-4"})})]})]})})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Analytics & Intelligence Center "}),u.jsx("p",{className:"text-muted-foreground",children:"Deep insights into campaign performance, agent analytics, and AI-driven intelligence."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[u.jsx(te,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:u.jsx(fl,{className:"w-5 h-5 text-blue-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Campaign Analytics"}),u.jsx("p",{className:"text-lg font-semibold",children:"Performance Tracking"})]})]})}),u.jsx(te,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:u.jsx(ts,{className:"w-5 h-5 text-green-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Agent Analytics"}),u.jsx("p",{className:"text-lg font-semibold",children:"Channel Performance"})]})]})}),u.jsx(te,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Zs,{className:"w-5 h-5 text-purple-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"AI Intelligence"}),u.jsx("p",{className:"text-lg font-semibold",children:"LLM & Agentic RAG"})]})]})}),u.jsx(te,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-orange-500/10 rounded-lg flex items-center justify-center",children:u.jsx(dd,{className:"w-5 h-5 text-orange-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Data Distribution"}),u.jsx("p",{className:"text-lg font-semibold",children:"Layer Analytics"})]})]})})]}),u.jsxs(au,{defaultValue:"campaigns",className:"space-y-6",children:[u.jsxs(Fl,{className:"grid w-full grid-cols-4",children:[u.jsx(mt,{value:"campaigns",children:"Campaign Analytics"}),u.jsx(mt,{value:"agents",children:"Agent Performance"}),u.jsx(mt,{value:"intelligence",children:"AI Intelligence"}),u.jsx(mt,{value:"realtime",children:"Real-time Monitoring"})]}),u.jsxs(gt,{value:"campaigns",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Campaign Performance Analytics"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Comprehensive campaign metrics and insights"})]}),u.jsx(qK,{})]}),u.jsxs(gt,{value:"agents",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Agent Performance Dashboard"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Multi-channel agent analytics and performance metrics"})]}),u.jsx(nWe,{})]}),u.jsxs(gt,{value:"intelligence",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"AI Intelligence Center"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"LLM performance, Agentic RAG insights, and AI decision logic"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(te,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Zs,{className:"w-6 h-6 text-purple-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"LLM Performance"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Response Quality"}),u.jsx("span",{className:"font-semibold",children:"94.2%"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Average Response Time"}),u.jsx("span",{className:"font-semibold",children:"1.8s"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Context Retention"}),u.jsx("span",{className:"font-semibold",children:"98.7%"})]})]})]}),u.jsxs(te,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Fr,{className:"w-6 h-6 text-orange-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"Agentic RAG"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Knowledge Retrieval"}),u.jsx("span",{className:"font-semibold",children:"96.8%"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Context Relevance"}),u.jsx("span",{className:"font-semibold",children:"92.4%"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Decision Accuracy"}),u.jsx("span",{className:"font-semibold",children:"89.6%"})]})]})]})]}),u.jsxs(te,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(dd,{className:"w-6 h-6 text-blue-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"Decision Logic & MCP Server"})]}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Intelligent routing and decision-making for automated campaigns and agent coordination."}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[u.jsx(ts,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),u.jsx("p",{className:"font-semibold",children:"Active Decisions"}),u.jsx("p",{className:"text-2xl font-bold text-green-500",children:"1,247"})]}),u.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[u.jsx(Ir,{className:"w-8 h-8 text-blue-500 mx-auto mb-2"}),u.jsx("p",{className:"font-semibold",children:"Success Rate"}),u.jsx("p",{className:"text-2xl font-bold text-blue-500",children:"94.2%"})]}),u.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[u.jsx(Fr,{className:"w-8 h-8 text-purple-500 mx-auto mb-2"}),u.jsx("p",{className:"font-semibold",children:"Avg Process Time"}),u.jsx("p",{className:"text-2xl font-bold text-purple-500",children:"0.3s"})]})]})]})]}),u.jsxs(gt,{value:"realtime",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Real-time System Monitoring"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Live system performance and agent activity"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs(te,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(ts,{className:"w-6 h-6 text-green-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"System Health"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Email Agent"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"Online"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Voice Agent"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"Online"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Messaging Agent"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"Online"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"AI Chatbot"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"Online"})]})]})]}),u.jsxs(te,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(fl,{className:"w-6 h-6 text-blue-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"Live Metrics"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Active Campaigns"}),u.jsx("span",{className:"text-blue-500 text-sm font-semibold",children:"7"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Messages Queued"}),u.jsx("span",{className:"text-orange-500 text-sm font-semibold",children:"23"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Processing Time"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"0.8s"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Success Rate"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"96.2%"})]})]})]}),u.jsxs(te,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Ir,{className:"w-6 h-6 text-purple-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"Recent Activity"})]}),u.jsxs("div",{className:"space-y-3 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Campaign started"}),u.jsx("span",{className:"text-muted-foreground",children:"2m ago"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"23 emails sent"}),u.jsx("span",{className:"text-muted-foreground",children:"5m ago"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Voice calls completed"}),u.jsx("span",{className:"text-muted-foreground",children:"8m ago"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Data sync completed"}),u.jsx("span",{className:"text-muted-foreground",children:"12m ago"})]})]})]})]})]})]})]}),u.jsx(_O,{open:i,onOpenChange:a}),u.jsx(IO,{open:s,onOpenChange:o})]})},iWe=()=>{const[t,e]=S.useState(""),[n,r]=S.useState(""),[i,a]=S.useState(!1),[s,o]=S.useState(!1),[l,c]=S.useState({}),[d,f]=S.useState({}),h=pi(),{toast:p}=Vt(),[m]=GF(),g=m.get("token"),x=m.get("token_hash");m.get("type");const b=m.get("email"),[v,y]=S.useState(!!g||!!x),[_,w]=S.useState(!1);S.useEffect(()=>{g||x||$e.auth.getSession().then(({data:{session:k}})=>{k||(p({title:"Invalid or expired reset link",description:"Please request a new password reset link.",variant:"destructive"}),h("/auth"))})},[h,p,g,x]);const E=async()=>{if(!(!g&&!x||!b)){w(!0),console.log("Verifying Identity with:",{token:g,tokenHash:x,email:b,type:"recovery"});try{let k;const C=x||(g&&g.length>20?g:null);if(C?(console.log("Using token_hash flow (detected hash)"),k=(await $e.auth.verifyOtp({token_hash:C,type:"recovery"})).error,k&&!x&&g&&(console.log("token_hash failed, retrying with standard token..."),(await $e.auth.verifyOtp({token:g,type:"recovery",email:b})).error||(k=null))):(console.log("Using standard token flow"),k=(await $e.auth.verifyOtp({token:g,type:"recovery",email:b})).error),k)throw console.error("verifyOtp error:",k),k;console.log("Identity verified successfully"),y(!1),p({title:"Identity Verified",description:"Please set your new password."})}catch(k){console.error("Verification Catch Block:",k),p({title:"Verification Failed",description:k.message||"Link expired or invalid",variant:"destructive"})}finally{w(!1)}}},A=k=>{const C={...l},O={...d};return k.trim()?k.length<8?(C.password="Password must be at least 8 characters",O.password=!1):(delete C.password,O.password=!0):(C.password="Password is required",O.password=!1),c(C),f(O),!C.password},j=k=>{const C={...l},O={...d};return k.trim()?k!==t?(C.confirmPassword="Passwords do not match",O.confirmPassword=!1):(delete C.confirmPassword,O.confirmPassword=!0):(C.confirmPassword="Please confirm your password",O.confirmPassword=!1),c(C),f(O),!C.confirmPassword},T=async k=>{k.preventDefault();const C=A(t),O=j(n);if(!(!C||!O)){a(!0);try{const{error:F}=await $e.auth.updateUser({password:t});if(F)throw F;o(!0),p({title:"Password reset successful!",description:"You can now sign in with your new password."}),setTimeout(()=>{h("/auth")},2e3)}catch(F){console.error("Password reset error:",F),p({title:"Failed to reset password",description:F.message||"Please try again",variant:"destructive"})}finally{a(!1)}}};return u.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:[u.jsx(hV,{title:"Reset Password - AdmitConnect AI",description:"Reset your AdmitConnect AI account password"}),u.jsx(te,{className:"max-w-md w-full p-8 bg-card/95 backdrop-blur-sm border-border/50",children:s?u.jsxs("div",{className:"text-center space-y-6 animate-fade-in",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center mx-auto bg-green-500 animate-bounce-in",children:u.jsx(ma,{className:"w-8 h-8 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Password Reset!"}),u.jsx("p",{className:"text-muted-foreground",children:"Redirecting you to sign in..."})]})]}):v?u.jsxs("div",{className:"text-center space-y-6 animate-fade-in",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 bg-ai-gradient animate-bounce-in",children:u.jsx(kI,{className:"w-8 h-8 text-white"})}),u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Verify Your Identity"}),u.jsx("p",{className:"text-muted-foreground",children:"Click the button below to verify your email and reset your password."}),u.jsx(Hs,{onClick:E,variant:"hero",size:"lg",className:"w-full",disabled:_,children:_?u.jsxs(u.Fragment,{children:[u.jsx(El,{size:"sm",className:"mr-2"}),"Verifying..."]}):"Verify Identity"})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 bg-ai-gradient animate-bounce-in",children:u.jsx(kI,{className:"w-8 h-8 text-white"})}),u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Reset Your Password"}),u.jsx("p",{className:"text-muted-foreground",children:"Enter your new password below"})]}),u.jsxs("form",{onSubmit:T,className:"space-y-4",children:[u.jsx(sa,{label:"New Password",id:"newPassword",type:"password",value:t,onChange:k=>{e(k),k.trim()&&A(k)},placeholder:"Enter new password",error:l.password,success:d.password,required:!0}),u.jsx(sa,{label:"Confirm Password",id:"confirmPassword",type:"password",value:n,onChange:k=>{r(k),k.trim()&&j(k)},placeholder:"Confirm new password",error:l.confirmPassword,success:d.confirmPassword,required:!0}),u.jsx(Hs,{type:"submit",variant:"hero",size:"lg",className:"w-full",disabled:i||!t.trim()||!n.trim(),children:i?u.jsxs(u.Fragment,{children:[u.jsx(El,{size:"sm",className:"mr-2"}),"Resetting Password..."]}):"Reset Password"})]})]})})]})},aWe=new GZ,sWe=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState(!0);S.useEffect(()=>{window.location.pathname.includes("/reset-password")?(e(!1),r(!0)):(e(!0),r(!1))},[]);const i=()=>{r(!0)};return t&&!n?u.jsx(_we,{onComplete:i}):u.jsx(bwe,{children:u.jsx(eB,{children:u.jsx(YZ,{client:aWe,children:u.jsx(QJ,{attribute:"class",defaultTheme:"dark",enableSystem:!0,children:u.jsxs(pz,{children:[u.jsx(Cte,{}),u.jsx(ene,{}),u.jsx(Vae,{children:u.jsxs(qJ,{children:[u.jsx(wwe,{}),u.jsx(xwe,{}),u.jsxs(LJ,{children:[u.jsx(Fa,{path:"/",element:u.jsx(h1e,{})}),u.jsx(Fa,{path:"/auth",element:u.jsx(p1e,{})}),u.jsx(Fa,{path:"/reset-password",element:u.jsx(iWe,{})}),u.jsx(Fa,{path:"/about",element:u.jsx(W7e,{})}),u.jsx(Fa,{path:"/our-services",element:u.jsx(q7e,{})}),u.jsx(Fa,{path:"/dashboard",element:u.jsx(M_,{children:u.jsx(V7e,{})})}),u.jsx(Fa,{path:"/admin",element:u.jsx(M_,{children:u.jsx(tWe,{})})}),u.jsx(Fa,{path:"/analytics",element:u.jsx(M_,{children:u.jsx(rWe,{})})}),u.jsx(Fa,{path:"*",element:u.jsx(G7e,{})})]}),u.jsx(ywe,{}),u.jsx(vwe,{})]})})]})})})})})};NF(document.getElementById("root")).render(u.jsx(sWe,{}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});export{iye as C,Sa as H,fs as S,Ii as _,eY as a,Ob as b,un as c,at as g};
