var JK=Object.defineProperty;var VN=t=>{throw TypeError(t)};var QK=(t,e,n)=>e in t?JK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var H=(t,e,n)=>QK(t,typeof e!="symbol"?e+"":e,n),Vw=(t,e,n)=>e.has(t)||VN("Cannot "+n);var te=(t,e,n)=>(Vw(t,e,"read from private field"),n?n.call(t):e.get(t)),vt=(t,e,n)=>e.has(t)?VN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),nt=(t,e,n,r)=>(Vw(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Un=(t,e,n)=>(Vw(t,e,"access private method"),n);var Mg=(t,e,n,r)=>({set _(i){nt(t,e,i,n)},get _(){return te(t,e,r)}});function eY(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var un=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function at(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function tY(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var v5={exports:{}},Cx={},x5={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gm=Symbol.for("react.element"),nY=Symbol.for("react.portal"),rY=Symbol.for("react.fragment"),iY=Symbol.for("react.strict_mode"),aY=Symbol.for("react.profiler"),sY=Symbol.for("react.provider"),oY=Symbol.for("react.context"),lY=Symbol.for("react.forward_ref"),cY=Symbol.for("react.suspense"),uY=Symbol.for("react.memo"),dY=Symbol.for("react.lazy"),WN=Symbol.iterator;function fY(t){return t===null||typeof t!="object"?null:(t=WN&&t[WN]||t["@@iterator"],typeof t=="function"?t:null)}var b5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w5=Object.assign,_5={};function Af(t,e,n){this.props=t,this.context=e,this.refs=_5,this.updater=n||b5}Af.prototype.isReactComponent={};Af.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Af.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function S5(){}S5.prototype=Af.prototype;function pk(t,e,n){this.props=t,this.context=e,this.refs=_5,this.updater=n||b5}var mk=pk.prototype=new S5;mk.constructor=pk;w5(mk,Af.prototype);mk.isPureReactComponent=!0;var qN=Array.isArray,E5=Object.prototype.hasOwnProperty,gk={current:null},j5={key:!0,ref:!0,__self:!0,__source:!0};function A5(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)E5.call(e,r)&&!j5.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Gm,type:t,key:a,ref:s,props:i,_owner:gk.current}}function hY(t,e){return{$$typeof:Gm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yk(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gm}function pY(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var GN=/\/+/g;function Ww(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pY(""+t.key):e.toString(36)}function qy(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Gm:case nY:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Ww(s,0):r,qN(i)?(n="",t!=null&&(n=t.replace(GN,"$&/")+"/"),qy(i,e,n,"",function(c){return c})):i!=null&&(yk(i)&&(i=hY(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(GN,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",qN(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+Ww(a,o);s+=qy(a,e,n,l,i)}else if(l=fY(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+Ww(a,o++),s+=qy(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Dg(t,e,n){if(t==null)return t;var r=[],i=0;return qy(t,r,"","",function(a){return e.call(n,a,i++)}),r}function mY(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hr={current:null},Gy={transition:null},gY={ReactCurrentDispatcher:hr,ReactCurrentBatchConfig:Gy,ReactCurrentOwner:gk};function k5(){throw Error("act(...) is not supported in production builds of React.")}lt.Children={map:Dg,forEach:function(t,e,n){Dg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Dg(t,function(){e++}),e},toArray:function(t){return Dg(t,function(e){return e})||[]},only:function(t){if(!yk(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};lt.Component=Af;lt.Fragment=rY;lt.Profiler=aY;lt.PureComponent=pk;lt.StrictMode=iY;lt.Suspense=cY;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gY;lt.act=k5;lt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=w5({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=gk.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)E5.call(e,l)&&!j5.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Gm,type:t.type,key:i,ref:a,props:r,_owner:s}};lt.createContext=function(t){return t={$$typeof:oY,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sY,_context:t},t.Consumer=t};lt.createElement=A5;lt.createFactory=function(t){var e=A5.bind(null,t);return e.type=t,e};lt.createRef=function(){return{current:null}};lt.forwardRef=function(t){return{$$typeof:lY,render:t}};lt.isValidElement=yk;lt.lazy=function(t){return{$$typeof:dY,_payload:{_status:-1,_result:t},_init:mY}};lt.memo=function(t,e){return{$$typeof:uY,type:t,compare:e===void 0?null:e}};lt.startTransition=function(t){var e=Gy.transition;Gy.transition={};try{t()}finally{Gy.transition=e}};lt.unstable_act=k5;lt.useCallback=function(t,e){return hr.current.useCallback(t,e)};lt.useContext=function(t){return hr.current.useContext(t)};lt.useDebugValue=function(){};lt.useDeferredValue=function(t){return hr.current.useDeferredValue(t)};lt.useEffect=function(t,e){return hr.current.useEffect(t,e)};lt.useId=function(){return hr.current.useId()};lt.useImperativeHandle=function(t,e,n){return hr.current.useImperativeHandle(t,e,n)};lt.useInsertionEffect=function(t,e){return hr.current.useInsertionEffect(t,e)};lt.useLayoutEffect=function(t,e){return hr.current.useLayoutEffect(t,e)};lt.useMemo=function(t,e){return hr.current.useMemo(t,e)};lt.useReducer=function(t,e,n){return hr.current.useReducer(t,e,n)};lt.useRef=function(t){return hr.current.useRef(t)};lt.useState=function(t){return hr.current.useState(t)};lt.useSyncExternalStore=function(t,e,n){return hr.current.useSyncExternalStore(t,e,n)};lt.useTransition=function(){return hr.current.useTransition()};lt.version="18.3.1";x5.exports=lt;var S=x5.exports;const M=at(S),T5=eY({__proto__:null,default:M},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yY=S,vY=Symbol.for("react.element"),xY=Symbol.for("react.fragment"),bY=Object.prototype.hasOwnProperty,wY=yY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_Y={key:!0,ref:!0,__self:!0,__source:!0};function C5(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)bY.call(e,r)&&!_Y.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:vY,type:t,key:a,ref:s,props:i,_owner:wY.current}}Cx.Fragment=xY;Cx.jsx=C5;Cx.jsxs=C5;v5.exports=Cx;var u=v5.exports,O5={exports:{}},di={},N5={exports:{}},P5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,B){var P=D.length;D.push(B);e:for(;0<P;){var W=P-1>>>1,G=D[W];if(0<i(G,B))D[W]=B,D[P]=G,P=W;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var B=D[0],P=D.pop();if(P!==B){D[0]=P;e:for(var W=0,G=D.length,$=G>>>1;W<$;){var ee=2*(W+1)-1,ie=D[ee],I=ee+1,N=D[I];if(0>i(ie,P))I<G&&0>i(N,ie)?(D[W]=N,D[I]=P,W=I):(D[W]=ie,D[ee]=P,W=ee);else if(I<G&&0>i(N,P))D[W]=N,D[I]=P,W=I;else break e}}return B}function i(D,B){var P=D.sortIndex-B.sortIndex;return P!==0?P:D.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(D){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=D)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function w(D){if(g=!1,y(D),!m)if(n(l)!==null)m=!0,U(_);else{var B=n(c);B!==null&&V(w,B.startTime-D)}}function _(D,B){m=!1,g&&(g=!1,v(j),j=-1),p=!0;var P=h;try{for(y(B),f=n(l);f!==null&&(!(f.expirationTime>B)||D&&!T());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var G=W(f.expirationTime<=B);B=t.unstable_now(),typeof G=="function"?f.callback=G:f===n(l)&&r(l),y(B)}else r(l);f=n(l)}if(f!==null)var $=!0;else{var ee=n(c);ee!==null&&V(w,ee.startTime-B),$=!1}return $}finally{f=null,h=P,p=!1}}var E=!1,A=null,j=-1,k=5,C=-1;function T(){return!(t.unstable_now()-C<k)}function O(){if(A!==null){var D=t.unstable_now();C=D;var B=!0;try{B=A(!0,D)}finally{B?L():(E=!1,A=null)}}else E=!1}var L;if(typeof b=="function")L=function(){b(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,F=R.port2;R.port1.onmessage=O,L=function(){F.postMessage(null)}}else L=function(){x(O,0)};function U(D){A=D,E||(E=!0,L())}function V(D,B){j=x(function(){D(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,U(_))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var P=h;h=B;try{return D()}finally{h=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var P=h;h=D;try{return B()}finally{h=P}},t.unstable_scheduleCallback=function(D,B,P){var W=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?W+P:W):P=W,D){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=P+G,D={id:d++,callback:B,priorityLevel:D,startTime:P,expirationTime:G,sortIndex:-1},P>W?(D.sortIndex=P,e(c,D),n(l)===null&&D===n(c)&&(g?(v(j),j=-1):g=!0,V(w,P-W))):(D.sortIndex=G,e(l,D),m||p||(m=!0,U(_))),D},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(D){var B=h;return function(){var P=h;h=B;try{return D.apply(this,arguments)}finally{h=P}}}})(P5);N5.exports=P5;var SY=N5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EY=S,oi=SY;function ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var I5=new Set,jp={};function Zc(t,e){Pd(t,e),Pd(t+"Capture",e)}function Pd(t,e){for(jp[t]=e,t=0;t<e.length;t++)I5.add(e[t])}var Gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oS=Object.prototype.hasOwnProperty,jY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,KN={},YN={};function AY(t){return oS.call(YN,t)?!0:oS.call(KN,t)?!1:jY.test(t)?YN[t]=!0:(KN[t]=!0,!1)}function kY(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function TY(t,e,n,r){if(e===null||typeof e>"u"||kY(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pr(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var zn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zn[t]=new pr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zn[e]=new pr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zn[t]=new pr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zn[t]=new pr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zn[t]=new pr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zn[t]=new pr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zn[t]=new pr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zn[t]=new pr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zn[t]=new pr(t,5,!1,t.toLowerCase(),null,!1,!1)});var vk=/[\-:]([a-z])/g;function xk(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vk,xk);zn[e]=new pr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vk,xk);zn[e]=new pr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vk,xk);zn[e]=new pr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zn[t]=new pr(t,1,!1,t.toLowerCase(),null,!1,!1)});zn.xlinkHref=new pr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zn[t]=new pr(t,1,!1,t.toLowerCase(),null,!0,!0)});function bk(t,e,n,r){var i=zn.hasOwnProperty(e)?zn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(TY(e,n,i,r)&&(n=null),r||i===null?AY(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var co=EY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lg=Symbol.for("react.element"),Fu=Symbol.for("react.portal"),Bu=Symbol.for("react.fragment"),wk=Symbol.for("react.strict_mode"),lS=Symbol.for("react.profiler"),$5=Symbol.for("react.provider"),R5=Symbol.for("react.context"),_k=Symbol.for("react.forward_ref"),cS=Symbol.for("react.suspense"),uS=Symbol.for("react.suspense_list"),Sk=Symbol.for("react.memo"),Co=Symbol.for("react.lazy"),M5=Symbol.for("react.offscreen"),XN=Symbol.iterator;function ah(t){return t===null||typeof t!="object"?null:(t=XN&&t[XN]||t["@@iterator"],typeof t=="function"?t:null)}var Qt=Object.assign,qw;function Ph(t){if(qw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qw=e&&e[1]||""}return`
`+qw+t}var Gw=!1;function Kw(t,e){if(!t||Gw)return"";Gw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{Gw=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ph(t):""}function CY(t){switch(t.tag){case 5:return Ph(t.type);case 16:return Ph("Lazy");case 13:return Ph("Suspense");case 19:return Ph("SuspenseList");case 0:case 2:case 15:return t=Kw(t.type,!1),t;case 11:return t=Kw(t.type.render,!1),t;case 1:return t=Kw(t.type,!0),t;default:return""}}function dS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bu:return"Fragment";case Fu:return"Portal";case lS:return"Profiler";case wk:return"StrictMode";case cS:return"Suspense";case uS:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case R5:return(t.displayName||"Context")+".Consumer";case $5:return(t._context.displayName||"Context")+".Provider";case _k:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sk:return e=t.displayName||null,e!==null?e:dS(t.type)||"Memo";case Co:e=t._payload,t=t._init;try{return dS(t(e))}catch{}}return null}function OY(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dS(e);case 8:return e===wk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ul(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function D5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NY(t){var e=D5(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fg(t){t._valueTracker||(t._valueTracker=NY(t))}function L5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=D5(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fS(t,e){var n=e.checked;return Qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ZN(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ul(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function F5(t,e){e=e.checked,e!=null&&bk(t,"checked",e,!1)}function hS(t,e){F5(t,e);var n=ul(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?pS(t,e.type,n):e.hasOwnProperty("defaultValue")&&pS(t,e.type,ul(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function JN(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function pS(t,e,n){(e!=="number"||xv(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ih=Array.isArray;function id(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ul(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function mS(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ce(91));return Qt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function QN(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ce(92));if(Ih(n)){if(1<n.length)throw Error(ce(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ul(n)}}function B5(t,e){var n=ul(e.value),r=ul(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function eP(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function z5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gS(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?z5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bg,U5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bg=Bg||document.createElement("div"),Bg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ap(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PY=["Webkit","ms","Moz","O"];Object.keys(qh).forEach(function(t){PY.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qh[e]=qh[t]})});function H5(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qh.hasOwnProperty(t)&&qh[t]?(""+e).trim():e+"px"}function V5(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=H5(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var IY=Qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yS(t,e){if(e){if(IY[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ce(62))}}function vS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xS=null;function Ek(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bS=null,ad=null,sd=null;function tP(t){if(t=Xm(t)){if(typeof bS!="function")throw Error(ce(280));var e=t.stateNode;e&&(e=$x(e),bS(t.stateNode,t.type,e))}}function W5(t){ad?sd?sd.push(t):sd=[t]:ad=t}function q5(){if(ad){var t=ad,e=sd;if(sd=ad=null,tP(t),e)for(t=0;t<e.length;t++)tP(e[t])}}function G5(t,e){return t(e)}function K5(){}var Yw=!1;function Y5(t,e,n){if(Yw)return t(e,n);Yw=!0;try{return G5(t,e,n)}finally{Yw=!1,(ad!==null||sd!==null)&&(K5(),q5())}}function kp(t,e){var n=t.stateNode;if(n===null)return null;var r=$x(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ce(231,e,typeof n));return n}var wS=!1;if(Gs)try{var sh={};Object.defineProperty(sh,"passive",{get:function(){wS=!0}}),window.addEventListener("test",sh,sh),window.removeEventListener("test",sh,sh)}catch{wS=!1}function $Y(t,e,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Gh=!1,bv=null,wv=!1,_S=null,RY={onError:function(t){Gh=!0,bv=t}};function MY(t,e,n,r,i,a,s,o,l){Gh=!1,bv=null,$Y.apply(RY,arguments)}function DY(t,e,n,r,i,a,s,o,l){if(MY.apply(this,arguments),Gh){if(Gh){var c=bv;Gh=!1,bv=null}else throw Error(ce(198));wv||(wv=!0,_S=c)}}function Jc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function X5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nP(t){if(Jc(t)!==t)throw Error(ce(188))}function LY(t){var e=t.alternate;if(!e){if(e=Jc(t),e===null)throw Error(ce(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return nP(i),t;if(a===r)return nP(i),e;a=a.sibling}throw Error(ce(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(ce(189))}}if(n.alternate!==r)throw Error(ce(190))}if(n.tag!==3)throw Error(ce(188));return n.stateNode.current===n?t:e}function Z5(t){return t=LY(t),t!==null?J5(t):null}function J5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=J5(t);if(e!==null)return e;t=t.sibling}return null}var Q5=oi.unstable_scheduleCallback,rP=oi.unstable_cancelCallback,FY=oi.unstable_shouldYield,BY=oi.unstable_requestPaint,ln=oi.unstable_now,zY=oi.unstable_getCurrentPriorityLevel,jk=oi.unstable_ImmediatePriority,e3=oi.unstable_UserBlockingPriority,_v=oi.unstable_NormalPriority,UY=oi.unstable_LowPriority,t3=oi.unstable_IdlePriority,Ox=null,Ja=null;function HY(t){if(Ja&&typeof Ja.onCommitFiberRoot=="function")try{Ja.onCommitFiberRoot(Ox,t,void 0,(t.current.flags&128)===128)}catch{}}var la=Math.clz32?Math.clz32:qY,VY=Math.log,WY=Math.LN2;function qY(t){return t>>>=0,t===0?32:31-(VY(t)/WY|0)|0}var zg=64,Ug=4194304;function $h(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sv(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=$h(o):(a&=s,a!==0&&(r=$h(a)))}else s=n&~i,s!==0?r=$h(s):a!==0&&(r=$h(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-la(e),i=1<<n,r|=t[n],e&=~i;return r}function GY(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function KY(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-la(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=GY(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function SS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function n3(){var t=zg;return zg<<=1,!(zg&4194240)&&(zg=64),t}function Xw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Km(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-la(e),t[e]=n}function YY(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-la(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function Ak(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-la(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _t=0;function r3(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var i3,kk,a3,s3,o3,ES=!1,Hg=[],Xo=null,Zo=null,Jo=null,Tp=new Map,Cp=new Map,Io=[],XY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iP(t,e){switch(t){case"focusin":case"focusout":Xo=null;break;case"dragenter":case"dragleave":Zo=null;break;case"mouseover":case"mouseout":Jo=null;break;case"pointerover":case"pointerout":Tp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cp.delete(e.pointerId)}}function oh(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Xm(e),e!==null&&kk(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ZY(t,e,n,r,i){switch(e){case"focusin":return Xo=oh(Xo,t,e,n,r,i),!0;case"dragenter":return Zo=oh(Zo,t,e,n,r,i),!0;case"mouseover":return Jo=oh(Jo,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Tp.set(a,oh(Tp.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Cp.set(a,oh(Cp.get(a)||null,t,e,n,r,i)),!0}return!1}function l3(t){var e=cc(t.target);if(e!==null){var n=Jc(e);if(n!==null){if(e=n.tag,e===13){if(e=X5(n),e!==null){t.blockedOn=e,o3(t.priority,function(){a3(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ky(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xS=r,n.target.dispatchEvent(r),xS=null}else return e=Xm(n),e!==null&&kk(e),t.blockedOn=n,!1;e.shift()}return!0}function aP(t,e,n){Ky(t)&&n.delete(e)}function JY(){ES=!1,Xo!==null&&Ky(Xo)&&(Xo=null),Zo!==null&&Ky(Zo)&&(Zo=null),Jo!==null&&Ky(Jo)&&(Jo=null),Tp.forEach(aP),Cp.forEach(aP)}function lh(t,e){t.blockedOn===e&&(t.blockedOn=null,ES||(ES=!0,oi.unstable_scheduleCallback(oi.unstable_NormalPriority,JY)))}function Op(t){function e(i){return lh(i,t)}if(0<Hg.length){lh(Hg[0],t);for(var n=1;n<Hg.length;n++){var r=Hg[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xo!==null&&lh(Xo,t),Zo!==null&&lh(Zo,t),Jo!==null&&lh(Jo,t),Tp.forEach(e),Cp.forEach(e),n=0;n<Io.length;n++)r=Io[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Io.length&&(n=Io[0],n.blockedOn===null);)l3(n),n.blockedOn===null&&Io.shift()}var od=co.ReactCurrentBatchConfig,Ev=!0;function QY(t,e,n,r){var i=_t,a=od.transition;od.transition=null;try{_t=1,Tk(t,e,n,r)}finally{_t=i,od.transition=a}}function eX(t,e,n,r){var i=_t,a=od.transition;od.transition=null;try{_t=4,Tk(t,e,n,r)}finally{_t=i,od.transition=a}}function Tk(t,e,n,r){if(Ev){var i=jS(t,e,n,r);if(i===null)s_(t,e,r,jv,n),iP(t,r);else if(ZY(i,t,e,n,r))r.stopPropagation();else if(iP(t,r),e&4&&-1<XY.indexOf(t)){for(;i!==null;){var a=Xm(i);if(a!==null&&i3(a),a=jS(t,e,n,r),a===null&&s_(t,e,r,jv,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else s_(t,e,r,null,n)}}var jv=null;function jS(t,e,n,r){if(jv=null,t=Ek(r),t=cc(t),t!==null)if(e=Jc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=X5(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jv=t,null}function c3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zY()){case jk:return 1;case e3:return 4;case _v:case UY:return 16;case t3:return 536870912;default:return 16}default:return 16}}var Uo=null,Ck=null,Yy=null;function u3(){if(Yy)return Yy;var t,e=Ck,n=e.length,r,i="value"in Uo?Uo.value:Uo.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return Yy=i.slice(t,1<r?1-r:void 0)}function Xy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vg(){return!0}function sP(){return!1}function fi(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Vg:sP,this.isPropagationStopped=sP,this}return Qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vg)},persist:function(){},isPersistent:Vg}),e}var kf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ok=fi(kf),Ym=Qt({},kf,{view:0,detail:0}),tX=fi(Ym),Zw,Jw,ch,Nx=Qt({},Ym,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nk,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ch&&(ch&&t.type==="mousemove"?(Zw=t.screenX-ch.screenX,Jw=t.screenY-ch.screenY):Jw=Zw=0,ch=t),Zw)},movementY:function(t){return"movementY"in t?t.movementY:Jw}}),oP=fi(Nx),nX=Qt({},Nx,{dataTransfer:0}),rX=fi(nX),iX=Qt({},Ym,{relatedTarget:0}),Qw=fi(iX),aX=Qt({},kf,{animationName:0,elapsedTime:0,pseudoElement:0}),sX=fi(aX),oX=Qt({},kf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lX=fi(oX),cX=Qt({},kf,{data:0}),lP=fi(cX),uX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hX(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fX[t])?!!e[t]:!1}function Nk(){return hX}var pX=Qt({},Ym,{key:function(t){if(t.key){var e=uX[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dX[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nk,charCode:function(t){return t.type==="keypress"?Xy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mX=fi(pX),gX=Qt({},Nx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cP=fi(gX),yX=Qt({},Ym,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nk}),vX=fi(yX),xX=Qt({},kf,{propertyName:0,elapsedTime:0,pseudoElement:0}),bX=fi(xX),wX=Qt({},Nx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_X=fi(wX),SX=[9,13,27,32],Pk=Gs&&"CompositionEvent"in window,Kh=null;Gs&&"documentMode"in document&&(Kh=document.documentMode);var EX=Gs&&"TextEvent"in window&&!Kh,d3=Gs&&(!Pk||Kh&&8<Kh&&11>=Kh),uP=" ",dP=!1;function f3(t,e){switch(t){case"keyup":return SX.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zu=!1;function jX(t,e){switch(t){case"compositionend":return h3(e);case"keypress":return e.which!==32?null:(dP=!0,uP);case"textInput":return t=e.data,t===uP&&dP?null:t;default:return null}}function AX(t,e){if(zu)return t==="compositionend"||!Pk&&f3(t,e)?(t=u3(),Yy=Ck=Uo=null,zu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return d3&&e.locale!=="ko"?null:e.data;default:return null}}var kX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kX[t.type]:e==="textarea"}function p3(t,e,n,r){W5(r),e=Av(e,"onChange"),0<e.length&&(n=new Ok("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yh=null,Np=null;function TX(t){j3(t,0)}function Px(t){var e=Vu(t);if(L5(e))return t}function CX(t,e){if(t==="change")return e}var m3=!1;if(Gs){var e_;if(Gs){var t_="oninput"in document;if(!t_){var hP=document.createElement("div");hP.setAttribute("oninput","return;"),t_=typeof hP.oninput=="function"}e_=t_}else e_=!1;m3=e_&&(!document.documentMode||9<document.documentMode)}function pP(){Yh&&(Yh.detachEvent("onpropertychange",g3),Np=Yh=null)}function g3(t){if(t.propertyName==="value"&&Px(Np)){var e=[];p3(e,Np,t,Ek(t)),Y5(TX,e)}}function OX(t,e,n){t==="focusin"?(pP(),Yh=e,Np=n,Yh.attachEvent("onpropertychange",g3)):t==="focusout"&&pP()}function NX(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Px(Np)}function PX(t,e){if(t==="click")return Px(e)}function IX(t,e){if(t==="input"||t==="change")return Px(e)}function $X(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ga=typeof Object.is=="function"?Object.is:$X;function Pp(t,e){if(ga(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!oS.call(e,i)||!ga(t[i],e[i]))return!1}return!0}function mP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gP(t,e){var n=mP(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mP(n)}}function y3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?y3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function v3(){for(var t=window,e=xv();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xv(t.document)}return e}function Ik(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function RX(t){var e=v3(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&y3(n.ownerDocument.documentElement,n)){if(r!==null&&Ik(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=gP(n,a);var s=gP(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var MX=Gs&&"documentMode"in document&&11>=document.documentMode,Uu=null,AS=null,Xh=null,kS=!1;function yP(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kS||Uu==null||Uu!==xv(r)||(r=Uu,"selectionStart"in r&&Ik(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xh&&Pp(Xh,r)||(Xh=r,r=Av(AS,"onSelect"),0<r.length&&(e=new Ok("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Uu)))}function Wg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Hu={animationend:Wg("Animation","AnimationEnd"),animationiteration:Wg("Animation","AnimationIteration"),animationstart:Wg("Animation","AnimationStart"),transitionend:Wg("Transition","TransitionEnd")},n_={},x3={};Gs&&(x3=document.createElement("div").style,"AnimationEvent"in window||(delete Hu.animationend.animation,delete Hu.animationiteration.animation,delete Hu.animationstart.animation),"TransitionEvent"in window||delete Hu.transitionend.transition);function Ix(t){if(n_[t])return n_[t];if(!Hu[t])return t;var e=Hu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in x3)return n_[t]=e[n];return t}var b3=Ix("animationend"),w3=Ix("animationiteration"),_3=Ix("animationstart"),S3=Ix("transitionend"),E3=new Map,vP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tl(t,e){E3.set(t,e),Zc(e,[t])}for(var r_=0;r_<vP.length;r_++){var i_=vP[r_],DX=i_.toLowerCase(),LX=i_[0].toUpperCase()+i_.slice(1);Tl(DX,"on"+LX)}Tl(b3,"onAnimationEnd");Tl(w3,"onAnimationIteration");Tl(_3,"onAnimationStart");Tl("dblclick","onDoubleClick");Tl("focusin","onFocus");Tl("focusout","onBlur");Tl(S3,"onTransitionEnd");Pd("onMouseEnter",["mouseout","mouseover"]);Pd("onMouseLeave",["mouseout","mouseover"]);Pd("onPointerEnter",["pointerout","pointerover"]);Pd("onPointerLeave",["pointerout","pointerover"]);Zc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FX=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rh));function xP(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,DY(r,e,void 0,t),t.currentTarget=null}function j3(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;xP(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;xP(i,o,c),a=l}}}if(wv)throw t=_S,wv=!1,_S=null,t}function Lt(t,e){var n=e[PS];n===void 0&&(n=e[PS]=new Set);var r=t+"__bubble";n.has(r)||(A3(e,t,2,!1),n.add(r))}function a_(t,e,n){var r=0;e&&(r|=4),A3(n,t,r,e)}var qg="_reactListening"+Math.random().toString(36).slice(2);function Ip(t){if(!t[qg]){t[qg]=!0,I5.forEach(function(n){n!=="selectionchange"&&(FX.has(n)||a_(n,!1,t),a_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qg]||(e[qg]=!0,a_("selectionchange",!1,e))}}function A3(t,e,n,r){switch(c3(e)){case 1:var i=QY;break;case 4:i=eX;break;default:i=Tk}n=i.bind(null,e,n,t),i=void 0,!wS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function s_(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=cc(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}Y5(function(){var c=a,d=Ek(n),f=[];e:{var h=E3.get(t);if(h!==void 0){var p=Ok,m=t;switch(t){case"keypress":if(Xy(n)===0)break e;case"keydown":case"keyup":p=mX;break;case"focusin":m="focus",p=Qw;break;case"focusout":m="blur",p=Qw;break;case"beforeblur":case"afterblur":p=Qw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=oP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=rX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=vX;break;case b3:case w3:case _3:p=sX;break;case S3:p=bX;break;case"scroll":p=tX;break;case"wheel":p=_X;break;case"copy":case"cut":case"paste":p=lX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=cP}var g=(e&4)!==0,x=!g&&t==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var b=c,y;b!==null;){y=b;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,v!==null&&(w=kp(b,v),w!=null&&g.push($p(b,w,y)))),x)break;b=b.return}0<g.length&&(h=new p(h,m,null,n,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==xS&&(m=n.relatedTarget||n.fromElement)&&(cc(m)||m[Ks]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?cc(m):null,m!==null&&(x=Jc(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=oP,w="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(g=cP,w="onPointerLeave",v="onPointerEnter",b="pointer"),x=p==null?h:Vu(p),y=m==null?h:Vu(m),h=new g(w,b+"leave",p,n,d),h.target=x,h.relatedTarget=y,w=null,cc(d)===c&&(g=new g(v,b+"enter",m,n,d),g.target=y,g.relatedTarget=x,w=g),x=w,p&&m)t:{for(g=p,v=m,b=0,y=g;y;y=hu(y))b++;for(y=0,w=v;w;w=hu(w))y++;for(;0<b-y;)g=hu(g),b--;for(;0<y-b;)v=hu(v),y--;for(;b--;){if(g===v||v!==null&&g===v.alternate)break t;g=hu(g),v=hu(v)}g=null}else g=null;p!==null&&bP(f,h,p,g,!1),m!==null&&x!==null&&bP(f,x,m,g,!0)}}e:{if(h=c?Vu(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=CX;else if(fP(h))if(m3)_=IX;else{_=NX;var E=OX}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=PX);if(_&&(_=_(t,c))){p3(f,_,n,d);break e}E&&E(t,h,c),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&pS(h,"number",h.value)}switch(E=c?Vu(c):window,t){case"focusin":(fP(E)||E.contentEditable==="true")&&(Uu=E,AS=c,Xh=null);break;case"focusout":Xh=AS=Uu=null;break;case"mousedown":kS=!0;break;case"contextmenu":case"mouseup":case"dragend":kS=!1,yP(f,n,d);break;case"selectionchange":if(MX)break;case"keydown":case"keyup":yP(f,n,d)}var A;if(Pk)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else zu?f3(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(d3&&n.locale!=="ko"&&(zu||j!=="onCompositionStart"?j==="onCompositionEnd"&&zu&&(A=u3()):(Uo=d,Ck="value"in Uo?Uo.value:Uo.textContent,zu=!0)),E=Av(c,j),0<E.length&&(j=new lP(j,t,null,n,d),f.push({event:j,listeners:E}),A?j.data=A:(A=h3(n),A!==null&&(j.data=A)))),(A=EX?jX(t,n):AX(t,n))&&(c=Av(c,"onBeforeInput"),0<c.length&&(d=new lP("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=A))}j3(f,e)})}function $p(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Av(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=kp(t,n),a!=null&&r.unshift($p(t,a,i)),a=kp(t,e),a!=null&&r.push($p(t,a,i))),t=t.return}return r}function hu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function bP(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=kp(n,a),l!=null&&s.unshift($p(n,l,o))):i||(l=kp(n,a),l!=null&&s.push($p(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var BX=/\r\n?/g,zX=/\u0000|\uFFFD/g;function wP(t){return(typeof t=="string"?t:""+t).replace(BX,`
`).replace(zX,"")}function Gg(t,e,n){if(e=wP(e),wP(t)!==e&&n)throw Error(ce(425))}function kv(){}var TS=null,CS=null;function OS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var NS=typeof setTimeout=="function"?setTimeout:void 0,UX=typeof clearTimeout=="function"?clearTimeout:void 0,_P=typeof Promise=="function"?Promise:void 0,HX=typeof queueMicrotask=="function"?queueMicrotask:typeof _P<"u"?function(t){return _P.resolve(null).then(t).catch(VX)}:NS;function VX(t){setTimeout(function(){throw t})}function o_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Op(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Op(e)}function Qo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function SP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Tf=Math.random().toString(36).slice(2),Ha="__reactFiber$"+Tf,Rp="__reactProps$"+Tf,Ks="__reactContainer$"+Tf,PS="__reactEvents$"+Tf,WX="__reactListeners$"+Tf,qX="__reactHandles$"+Tf;function cc(t){var e=t[Ha];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ks]||n[Ha]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=SP(t);t!==null;){if(n=t[Ha])return n;t=SP(t)}return e}t=n,n=t.parentNode}return null}function Xm(t){return t=t[Ha]||t[Ks],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ce(33))}function $x(t){return t[Rp]||null}var IS=[],Wu=-1;function Cl(t){return{current:t}}function Ut(t){0>Wu||(t.current=IS[Wu],IS[Wu]=null,Wu--)}function Pt(t,e){Wu++,IS[Wu]=t.current,t.current=e}var dl={},Xn=Cl(dl),Or=Cl(!1),Pc=dl;function Id(t,e){var n=t.type.contextTypes;if(!n)return dl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Nr(t){return t=t.childContextTypes,t!=null}function Tv(){Ut(Or),Ut(Xn)}function EP(t,e,n){if(Xn.current!==dl)throw Error(ce(168));Pt(Xn,e),Pt(Or,n)}function k3(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ce(108,OY(t)||"Unknown",i));return Qt({},n,r)}function Cv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||dl,Pc=Xn.current,Pt(Xn,t),Pt(Or,Or.current),!0}function jP(t,e,n){var r=t.stateNode;if(!r)throw Error(ce(169));n?(t=k3(t,e,Pc),r.__reactInternalMemoizedMergedChildContext=t,Ut(Or),Ut(Xn),Pt(Xn,t)):Ut(Or),Pt(Or,n)}var Os=null,Rx=!1,l_=!1;function T3(t){Os===null?Os=[t]:Os.push(t)}function GX(t){Rx=!0,T3(t)}function Ol(){if(!l_&&Os!==null){l_=!0;var t=0,e=_t;try{var n=Os;for(_t=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Os=null,Rx=!1}catch(i){throw Os!==null&&(Os=Os.slice(t+1)),Q5(jk,Ol),i}finally{_t=e,l_=!1}}return null}var qu=[],Gu=0,Ov=null,Nv=0,wi=[],_i=0,Ic=null,Ps=1,Is="";function Zl(t,e){qu[Gu++]=Nv,qu[Gu++]=Ov,Ov=t,Nv=e}function C3(t,e,n){wi[_i++]=Ps,wi[_i++]=Is,wi[_i++]=Ic,Ic=t;var r=Ps;t=Is;var i=32-la(r)-1;r&=~(1<<i),n+=1;var a=32-la(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ps=1<<32-la(e)+i|n<<i|r,Is=a+t}else Ps=1<<a|n<<i|r,Is=t}function $k(t){t.return!==null&&(Zl(t,1),C3(t,1,0))}function Rk(t){for(;t===Ov;)Ov=qu[--Gu],qu[Gu]=null,Nv=qu[--Gu],qu[Gu]=null;for(;t===Ic;)Ic=wi[--_i],wi[_i]=null,Is=wi[--_i],wi[_i]=null,Ps=wi[--_i],wi[_i]=null}var ei=null,Zr=null,Wt=!1,ta=null;function O3(t,e){var n=ji(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function AP(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ei=t,Zr=Qo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ei=t,Zr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ic!==null?{id:Ps,overflow:Is}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ji(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ei=t,Zr=null,!0):!1;default:return!1}}function $S(t){return(t.mode&1)!==0&&(t.flags&128)===0}function RS(t){if(Wt){var e=Zr;if(e){var n=e;if(!AP(t,e)){if($S(t))throw Error(ce(418));e=Qo(n.nextSibling);var r=ei;e&&AP(t,e)?O3(r,n):(t.flags=t.flags&-4097|2,Wt=!1,ei=t)}}else{if($S(t))throw Error(ce(418));t.flags=t.flags&-4097|2,Wt=!1,ei=t}}}function kP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ei=t}function Kg(t){if(t!==ei)return!1;if(!Wt)return kP(t),Wt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!OS(t.type,t.memoizedProps)),e&&(e=Zr)){if($S(t))throw N3(),Error(ce(418));for(;e;)O3(t,e),e=Qo(e.nextSibling)}if(kP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zr=Qo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zr=null}}else Zr=ei?Qo(t.stateNode.nextSibling):null;return!0}function N3(){for(var t=Zr;t;)t=Qo(t.nextSibling)}function $d(){Zr=ei=null,Wt=!1}function Mk(t){ta===null?ta=[t]:ta.push(t)}var KX=co.ReactCurrentBatchConfig;function uh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ce(309));var r=n.stateNode}if(!r)throw Error(ce(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(ce(284));if(!n._owner)throw Error(ce(290,t))}return t}function Yg(t,e){throw t=Object.prototype.toString.call(e),Error(ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function TP(t){var e=t._init;return e(t._payload)}function P3(t){function e(v,b){if(t){var y=v.deletions;y===null?(v.deletions=[b],v.flags|=16):y.push(b)}}function n(v,b){if(!t)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=rl(v,b),v.index=0,v.sibling=null,v}function a(v,b,y){return v.index=y,t?(y=v.alternate,y!==null?(y=y.index,y<b?(v.flags|=2,b):y):(v.flags|=2,b)):(v.flags|=1048576,b)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,b,y,w){return b===null||b.tag!==6?(b=m_(y,v.mode,w),b.return=v,b):(b=i(b,y),b.return=v,b)}function l(v,b,y,w){var _=y.type;return _===Bu?d(v,b,y.props.children,w,y.key):b!==null&&(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Co&&TP(_)===b.type)?(w=i(b,y.props),w.ref=uh(v,b,y),w.return=v,w):(w=rv(y.type,y.key,y.props,null,v.mode,w),w.ref=uh(v,b,y),w.return=v,w)}function c(v,b,y,w){return b===null||b.tag!==4||b.stateNode.containerInfo!==y.containerInfo||b.stateNode.implementation!==y.implementation?(b=g_(y,v.mode,w),b.return=v,b):(b=i(b,y.children||[]),b.return=v,b)}function d(v,b,y,w,_){return b===null||b.tag!==7?(b=Sc(y,v.mode,w,_),b.return=v,b):(b=i(b,y),b.return=v,b)}function f(v,b,y){if(typeof b=="string"&&b!==""||typeof b=="number")return b=m_(""+b,v.mode,y),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Lg:return y=rv(b.type,b.key,b.props,null,v.mode,y),y.ref=uh(v,null,b),y.return=v,y;case Fu:return b=g_(b,v.mode,y),b.return=v,b;case Co:var w=b._init;return f(v,w(b._payload),y)}if(Ih(b)||ah(b))return b=Sc(b,v.mode,y,null),b.return=v,b;Yg(v,b)}return null}function h(v,b,y,w){var _=b!==null?b.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return _!==null?null:o(v,b,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Lg:return y.key===_?l(v,b,y,w):null;case Fu:return y.key===_?c(v,b,y,w):null;case Co:return _=y._init,h(v,b,_(y._payload),w)}if(Ih(y)||ah(y))return _!==null?null:d(v,b,y,w,null);Yg(v,y)}return null}function p(v,b,y,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(y)||null,o(b,v,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Lg:return v=v.get(w.key===null?y:w.key)||null,l(b,v,w,_);case Fu:return v=v.get(w.key===null?y:w.key)||null,c(b,v,w,_);case Co:var E=w._init;return p(v,b,y,E(w._payload),_)}if(Ih(w)||ah(w))return v=v.get(y)||null,d(b,v,w,_,null);Yg(b,w)}return null}function m(v,b,y,w){for(var _=null,E=null,A=b,j=b=0,k=null;A!==null&&j<y.length;j++){A.index>j?(k=A,A=null):k=A.sibling;var C=h(v,A,y[j],w);if(C===null){A===null&&(A=k);break}t&&A&&C.alternate===null&&e(v,A),b=a(C,b,j),E===null?_=C:E.sibling=C,E=C,A=k}if(j===y.length)return n(v,A),Wt&&Zl(v,j),_;if(A===null){for(;j<y.length;j++)A=f(v,y[j],w),A!==null&&(b=a(A,b,j),E===null?_=A:E.sibling=A,E=A);return Wt&&Zl(v,j),_}for(A=r(v,A);j<y.length;j++)k=p(A,v,j,y[j],w),k!==null&&(t&&k.alternate!==null&&A.delete(k.key===null?j:k.key),b=a(k,b,j),E===null?_=k:E.sibling=k,E=k);return t&&A.forEach(function(T){return e(v,T)}),Wt&&Zl(v,j),_}function g(v,b,y,w){var _=ah(y);if(typeof _!="function")throw Error(ce(150));if(y=_.call(y),y==null)throw Error(ce(151));for(var E=_=null,A=b,j=b=0,k=null,C=y.next();A!==null&&!C.done;j++,C=y.next()){A.index>j?(k=A,A=null):k=A.sibling;var T=h(v,A,C.value,w);if(T===null){A===null&&(A=k);break}t&&A&&T.alternate===null&&e(v,A),b=a(T,b,j),E===null?_=T:E.sibling=T,E=T,A=k}if(C.done)return n(v,A),Wt&&Zl(v,j),_;if(A===null){for(;!C.done;j++,C=y.next())C=f(v,C.value,w),C!==null&&(b=a(C,b,j),E===null?_=C:E.sibling=C,E=C);return Wt&&Zl(v,j),_}for(A=r(v,A);!C.done;j++,C=y.next())C=p(A,v,j,C.value,w),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?j:C.key),b=a(C,b,j),E===null?_=C:E.sibling=C,E=C);return t&&A.forEach(function(O){return e(v,O)}),Wt&&Zl(v,j),_}function x(v,b,y,w){if(typeof y=="object"&&y!==null&&y.type===Bu&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Lg:e:{for(var _=y.key,E=b;E!==null;){if(E.key===_){if(_=y.type,_===Bu){if(E.tag===7){n(v,E.sibling),b=i(E,y.props.children),b.return=v,v=b;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Co&&TP(_)===E.type){n(v,E.sibling),b=i(E,y.props),b.ref=uh(v,E,y),b.return=v,v=b;break e}n(v,E);break}else e(v,E);E=E.sibling}y.type===Bu?(b=Sc(y.props.children,v.mode,w,y.key),b.return=v,v=b):(w=rv(y.type,y.key,y.props,null,v.mode,w),w.ref=uh(v,b,y),w.return=v,v=w)}return s(v);case Fu:e:{for(E=y.key;b!==null;){if(b.key===E)if(b.tag===4&&b.stateNode.containerInfo===y.containerInfo&&b.stateNode.implementation===y.implementation){n(v,b.sibling),b=i(b,y.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else e(v,b);b=b.sibling}b=g_(y,v.mode,w),b.return=v,v=b}return s(v);case Co:return E=y._init,x(v,b,E(y._payload),w)}if(Ih(y))return m(v,b,y,w);if(ah(y))return g(v,b,y,w);Yg(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,b!==null&&b.tag===6?(n(v,b.sibling),b=i(b,y),b.return=v,v=b):(n(v,b),b=m_(y,v.mode,w),b.return=v,v=b),s(v)):n(v,b)}return x}var Rd=P3(!0),I3=P3(!1),Pv=Cl(null),Iv=null,Ku=null,Dk=null;function Lk(){Dk=Ku=Iv=null}function Fk(t){var e=Pv.current;Ut(Pv),t._currentValue=e}function MS(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ld(t,e){Iv=t,Dk=Ku=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(kr=!0),t.firstContext=null)}function Ni(t){var e=t._currentValue;if(Dk!==t)if(t={context:t,memoizedValue:e,next:null},Ku===null){if(Iv===null)throw Error(ce(308));Ku=t,Iv.dependencies={lanes:0,firstContext:t}}else Ku=Ku.next=t;return e}var uc=null;function Bk(t){uc===null?uc=[t]:uc.push(t)}function $3(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Bk(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ys(t,r)}function Ys(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Oo=!1;function zk(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ds(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function el(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ut&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ys(t,n)}return i=r.interleaved,i===null?(e.next=e,Bk(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ys(t,n)}function Zy(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ak(t,n)}}function CP(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $v(t,e,n,r){var i=t.updateQueue;Oo=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=c=l=null,o=a;do{var h=o.lane,p=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,g=o;switch(h=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=Qt({},f,h);break e;case 2:Oo=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Rc|=s,t.lanes=s,t.memoizedState=f}}function OP(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ce(191,i));i.call(r)}}}var Zm={},Qa=Cl(Zm),Mp=Cl(Zm),Dp=Cl(Zm);function dc(t){if(t===Zm)throw Error(ce(174));return t}function Uk(t,e){switch(Pt(Dp,e),Pt(Mp,t),Pt(Qa,Zm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gS(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gS(e,t)}Ut(Qa),Pt(Qa,e)}function Md(){Ut(Qa),Ut(Mp),Ut(Dp)}function M3(t){dc(Dp.current);var e=dc(Qa.current),n=gS(e,t.type);e!==n&&(Pt(Mp,t),Pt(Qa,n))}function Hk(t){Mp.current===t&&(Ut(Qa),Ut(Mp))}var Xt=Cl(0);function Rv(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var c_=[];function Vk(){for(var t=0;t<c_.length;t++)c_[t]._workInProgressVersionPrimary=null;c_.length=0}var Jy=co.ReactCurrentDispatcher,u_=co.ReactCurrentBatchConfig,$c=0,Jt=null,wn=null,In=null,Mv=!1,Zh=!1,Lp=0,YX=0;function Hn(){throw Error(ce(321))}function Wk(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ga(t[n],e[n]))return!1;return!0}function qk(t,e,n,r,i,a){if($c=a,Jt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jy.current=t===null||t.memoizedState===null?QX:eZ,t=n(r,i),Zh){a=0;do{if(Zh=!1,Lp=0,25<=a)throw Error(ce(301));a+=1,In=wn=null,e.updateQueue=null,Jy.current=tZ,t=n(r,i)}while(Zh)}if(Jy.current=Dv,e=wn!==null&&wn.next!==null,$c=0,In=wn=Jt=null,Mv=!1,e)throw Error(ce(300));return t}function Gk(){var t=Lp!==0;return Lp=0,t}function La(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?Jt.memoizedState=In=t:In=In.next=t,In}function Pi(){if(wn===null){var t=Jt.alternate;t=t!==null?t.memoizedState:null}else t=wn.next;var e=In===null?Jt.memoizedState:In.next;if(e!==null)In=e,wn=t;else{if(t===null)throw Error(ce(310));wn=t,t={memoizedState:wn.memoizedState,baseState:wn.baseState,baseQueue:wn.baseQueue,queue:wn.queue,next:null},In===null?Jt.memoizedState=In=t:In=In.next=t}return In}function Fp(t,e){return typeof e=="function"?e(t):e}function d_(t){var e=Pi(),n=e.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=wn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var d=c.lane;if(($c&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,Jt.lanes|=d,Rc|=d}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,ga(r,e.memoizedState)||(kr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,Jt.lanes|=a,Rc|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function f_(t){var e=Pi(),n=e.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);ga(a,e.memoizedState)||(kr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function D3(){}function L3(t,e){var n=Jt,r=Pi(),i=e(),a=!ga(r.memoizedState,i);if(a&&(r.memoizedState=i,kr=!0),r=r.queue,Kk(z3.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||In!==null&&In.memoizedState.tag&1){if(n.flags|=2048,Bp(9,B3.bind(null,n,r,i,e),void 0,null),Rn===null)throw Error(ce(349));$c&30||F3(n,e,i)}return i}function F3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Jt.updateQueue,e===null?(e={lastEffect:null,stores:null},Jt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function B3(t,e,n,r){e.value=n,e.getSnapshot=r,U3(e)&&H3(t)}function z3(t,e,n){return n(function(){U3(e)&&H3(t)})}function U3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ga(t,n)}catch{return!0}}function H3(t){var e=Ys(t,1);e!==null&&ca(e,t,1,-1)}function NP(t){var e=La();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fp,lastRenderedState:t},e.queue=t,t=t.dispatch=JX.bind(null,Jt,t),[e.memoizedState,t]}function Bp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Jt.updateQueue,e===null?(e={lastEffect:null,stores:null},Jt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function V3(){return Pi().memoizedState}function Qy(t,e,n,r){var i=La();Jt.flags|=t,i.memoizedState=Bp(1|e,n,void 0,r===void 0?null:r)}function Mx(t,e,n,r){var i=Pi();r=r===void 0?null:r;var a=void 0;if(wn!==null){var s=wn.memoizedState;if(a=s.destroy,r!==null&&Wk(r,s.deps)){i.memoizedState=Bp(e,n,a,r);return}}Jt.flags|=t,i.memoizedState=Bp(1|e,n,a,r)}function PP(t,e){return Qy(8390656,8,t,e)}function Kk(t,e){return Mx(2048,8,t,e)}function W3(t,e){return Mx(4,2,t,e)}function q3(t,e){return Mx(4,4,t,e)}function G3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function K3(t,e,n){return n=n!=null?n.concat([t]):null,Mx(4,4,G3.bind(null,e,t),n)}function Yk(){}function Y3(t,e){var n=Pi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wk(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function X3(t,e){var n=Pi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wk(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Z3(t,e,n){return $c&21?(ga(n,e)||(n=n3(),Jt.lanes|=n,Rc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,kr=!0),t.memoizedState=n)}function XX(t,e){var n=_t;_t=n!==0&&4>n?n:4,t(!0);var r=u_.transition;u_.transition={};try{t(!1),e()}finally{_t=n,u_.transition=r}}function J3(){return Pi().memoizedState}function ZX(t,e,n){var r=nl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Q3(t))eF(e,n);else if(n=$3(t,e,n,r),n!==null){var i=fr();ca(n,t,r,i),tF(n,e,r)}}function JX(t,e,n){var r=nl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Q3(t))eF(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,ga(o,s)){var l=e.interleaved;l===null?(i.next=i,Bk(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=$3(t,e,i,r),n!==null&&(i=fr(),ca(n,t,r,i),tF(n,e,r))}}function Q3(t){var e=t.alternate;return t===Jt||e!==null&&e===Jt}function eF(t,e){Zh=Mv=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tF(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ak(t,n)}}var Dv={readContext:Ni,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useInsertionEffect:Hn,useLayoutEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useMutableSource:Hn,useSyncExternalStore:Hn,useId:Hn,unstable_isNewReconciler:!1},QX={readContext:Ni,useCallback:function(t,e){return La().memoizedState=[t,e===void 0?null:e],t},useContext:Ni,useEffect:PP,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Qy(4194308,4,G3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Qy(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qy(4,2,t,e)},useMemo:function(t,e){var n=La();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=La();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ZX.bind(null,Jt,t),[r.memoizedState,t]},useRef:function(t){var e=La();return t={current:t},e.memoizedState=t},useState:NP,useDebugValue:Yk,useDeferredValue:function(t){return La().memoizedState=t},useTransition:function(){var t=NP(!1),e=t[0];return t=XX.bind(null,t[1]),La().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Jt,i=La();if(Wt){if(n===void 0)throw Error(ce(407));n=n()}else{if(n=e(),Rn===null)throw Error(ce(349));$c&30||F3(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,PP(z3.bind(null,r,a,t),[t]),r.flags|=2048,Bp(9,B3.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=La(),e=Rn.identifierPrefix;if(Wt){var n=Is,r=Ps;n=(r&~(1<<32-la(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Lp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=YX++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},eZ={readContext:Ni,useCallback:Y3,useContext:Ni,useEffect:Kk,useImperativeHandle:K3,useInsertionEffect:W3,useLayoutEffect:q3,useMemo:X3,useReducer:d_,useRef:V3,useState:function(){return d_(Fp)},useDebugValue:Yk,useDeferredValue:function(t){var e=Pi();return Z3(e,wn.memoizedState,t)},useTransition:function(){var t=d_(Fp)[0],e=Pi().memoizedState;return[t,e]},useMutableSource:D3,useSyncExternalStore:L3,useId:J3,unstable_isNewReconciler:!1},tZ={readContext:Ni,useCallback:Y3,useContext:Ni,useEffect:Kk,useImperativeHandle:K3,useInsertionEffect:W3,useLayoutEffect:q3,useMemo:X3,useReducer:f_,useRef:V3,useState:function(){return f_(Fp)},useDebugValue:Yk,useDeferredValue:function(t){var e=Pi();return wn===null?e.memoizedState=t:Z3(e,wn.memoizedState,t)},useTransition:function(){var t=f_(Fp)[0],e=Pi().memoizedState;return[t,e]},useMutableSource:D3,useSyncExternalStore:L3,useId:J3,unstable_isNewReconciler:!1};function Gi(t,e){if(t&&t.defaultProps){e=Qt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function DS(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Dx={isMounted:function(t){return(t=t._reactInternals)?Jc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=fr(),i=nl(t),a=Ds(r,i);a.payload=e,n!=null&&(a.callback=n),e=el(t,a,i),e!==null&&(ca(e,t,i,r),Zy(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=fr(),i=nl(t),a=Ds(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=el(t,a,i),e!==null&&(ca(e,t,i,r),Zy(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=fr(),r=nl(t),i=Ds(n,r);i.tag=2,e!=null&&(i.callback=e),e=el(t,i,r),e!==null&&(ca(e,t,r,n),Zy(e,t,r))}};function IP(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!Pp(n,r)||!Pp(i,a):!0}function nF(t,e,n){var r=!1,i=dl,a=e.contextType;return typeof a=="object"&&a!==null?a=Ni(a):(i=Nr(e)?Pc:Xn.current,r=e.contextTypes,a=(r=r!=null)?Id(t,i):dl),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dx,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function $P(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Dx.enqueueReplaceState(e,e.state,null)}function LS(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},zk(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Ni(a):(a=Nr(e)?Pc:Xn.current,i.context=Id(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(DS(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Dx.enqueueReplaceState(i,i.state,null),$v(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Dd(t,e){try{var n="",r=e;do n+=CY(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function h_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function FS(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var nZ=typeof WeakMap=="function"?WeakMap:Map;function rF(t,e,n){n=Ds(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Fv||(Fv=!0,YS=r),FS(t,e)},n}function iF(t,e,n){n=Ds(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){FS(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){FS(t,e),typeof r!="function"&&(tl===null?tl=new Set([this]):tl.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function RP(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new nZ;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=gZ.bind(null,t,e,n),e.then(t,t))}function MP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function DP(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ds(-1,1),e.tag=2,el(n,e,1))),n.lanes|=1),t)}var rZ=co.ReactCurrentOwner,kr=!1;function or(t,e,n,r){e.child=t===null?I3(e,null,n,r):Rd(e,t.child,n,r)}function LP(t,e,n,r,i){n=n.render;var a=e.ref;return ld(e,i),r=qk(t,e,n,r,a,i),n=Gk(),t!==null&&!kr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xs(t,e,i)):(Wt&&n&&$k(e),e.flags|=1,or(t,e,r,i),e.child)}function FP(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!rT(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,aF(t,e,a,r,i)):(t=rv(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Pp,n(s,r)&&t.ref===e.ref)return Xs(t,e,i)}return e.flags|=1,t=rl(a,r),t.ref=e.ref,t.return=e,e.child=t}function aF(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Pp(a,r)&&t.ref===e.ref)if(kr=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(kr=!0);else return e.lanes=t.lanes,Xs(t,e,i)}return BS(t,e,n,r,i)}function sF(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(Xu,Gr),Gr|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pt(Xu,Gr),Gr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Pt(Xu,Gr),Gr|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Pt(Xu,Gr),Gr|=r;return or(t,e,i,n),e.child}function oF(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function BS(t,e,n,r,i){var a=Nr(n)?Pc:Xn.current;return a=Id(e,a),ld(e,i),n=qk(t,e,n,r,a,i),r=Gk(),t!==null&&!kr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xs(t,e,i)):(Wt&&r&&$k(e),e.flags|=1,or(t,e,n,i),e.child)}function BP(t,e,n,r,i){if(Nr(n)){var a=!0;Cv(e)}else a=!1;if(ld(e,i),e.stateNode===null)ev(t,e),nF(e,n,r),LS(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ni(c):(c=Nr(n)?Pc:Xn.current,c=Id(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&$P(e,s,r,c),Oo=!1;var h=e.memoizedState;s.state=h,$v(e,r,s,i),l=e.memoizedState,o!==r||h!==l||Or.current||Oo?(typeof d=="function"&&(DS(e,n,d,r),l=e.memoizedState),(o=Oo||IP(e,n,o,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,R3(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Gi(e.type,o),s.props=c,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ni(l):(l=Nr(n)?Pc:Xn.current,l=Id(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&$P(e,s,r,l),Oo=!1,h=e.memoizedState,s.state=h,$v(e,r,s,i);var m=e.memoizedState;o!==f||h!==m||Or.current||Oo?(typeof p=="function"&&(DS(e,n,p,r),m=e.memoizedState),(c=Oo||IP(e,n,c,r,h,m,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return zS(t,e,n,r,a,i)}function zS(t,e,n,r,i,a){oF(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&jP(e,n,!1),Xs(t,e,a);r=e.stateNode,rZ.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Rd(e,t.child,null,a),e.child=Rd(e,null,o,a)):or(t,e,o,a),e.memoizedState=r.state,i&&jP(e,n,!0),e.child}function lF(t){var e=t.stateNode;e.pendingContext?EP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&EP(t,e.context,!1),Uk(t,e.containerInfo)}function zP(t,e,n,r,i){return $d(),Mk(i),e.flags|=256,or(t,e,n,r),e.child}var US={dehydrated:null,treeContext:null,retryLane:0};function HS(t){return{baseLanes:t,cachePool:null,transitions:null}}function cF(t,e,n){var r=e.pendingProps,i=Xt.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pt(Xt,i&1),t===null)return RS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Bx(s,r,0,null),t=Sc(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=HS(n),e.memoizedState=US,t):Xk(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return iZ(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=rl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=rl(o,a):(a=Sc(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?HS(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=US,r}return a=t.child,t=a.sibling,r=rl(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Xk(t,e){return e=Bx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xg(t,e,n,r){return r!==null&&Mk(r),Rd(e,t.child,null,n),t=Xk(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function iZ(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=h_(Error(ce(422))),Xg(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Bx({mode:"visible",children:r.children},i,0,null),a=Sc(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Rd(e,t.child,null,s),e.child.memoizedState=HS(s),e.memoizedState=US,a);if(!(e.mode&1))return Xg(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(ce(419)),r=h_(a,r,void 0),Xg(t,e,s,r)}if(o=(s&t.childLanes)!==0,kr||o){if(r=Rn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ys(t,i),ca(r,t,i,-1))}return nT(),r=h_(Error(ce(421))),Xg(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=yZ.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Zr=Qo(i.nextSibling),ei=e,Wt=!0,ta=null,t!==null&&(wi[_i++]=Ps,wi[_i++]=Is,wi[_i++]=Ic,Ps=t.id,Is=t.overflow,Ic=e),e=Xk(e,r.children),e.flags|=4096,e)}function UP(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),MS(t.return,e,n)}function p_(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function uF(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(or(t,e,r.children,n),r=Xt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&UP(t,n,e);else if(t.tag===19)UP(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pt(Xt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Rv(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),p_(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Rv(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}p_(e,!0,n,null,a);break;case"together":p_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ev(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Rc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ce(153));if(e.child!==null){for(t=e.child,n=rl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=rl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function aZ(t,e,n){switch(e.tag){case 3:lF(e),$d();break;case 5:M3(e);break;case 1:Nr(e.type)&&Cv(e);break;case 4:Uk(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pt(Pv,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pt(Xt,Xt.current&1),e.flags|=128,null):n&e.child.childLanes?cF(t,e,n):(Pt(Xt,Xt.current&1),t=Xs(t,e,n),t!==null?t.sibling:null);Pt(Xt,Xt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uF(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pt(Xt,Xt.current),r)break;return null;case 22:case 23:return e.lanes=0,sF(t,e,n)}return Xs(t,e,n)}var dF,VS,fF,hF;dF=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};VS=function(){};fF=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,dc(Qa.current);var a=null;switch(n){case"input":i=fS(t,i),r=fS(t,r),a=[];break;case"select":i=Qt({},i,{value:void 0}),r=Qt({},r,{value:void 0}),a=[];break;case"textarea":i=mS(t,i),r=mS(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=kv)}yS(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(jp.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(jp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Lt("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};hF=function(t,e,n,r){n!==r&&(e.flags|=4)};function dh(t,e){if(!Wt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function sZ(t,e,n){var r=e.pendingProps;switch(Rk(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(e),null;case 1:return Nr(e.type)&&Tv(),Vn(e),null;case 3:return r=e.stateNode,Md(),Ut(Or),Ut(Xn),Vk(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Kg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ta!==null&&(JS(ta),ta=null))),VS(t,e),Vn(e),null;case 5:Hk(e);var i=dc(Dp.current);if(n=e.type,t!==null&&e.stateNode!=null)fF(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ce(166));return Vn(e),null}if(t=dc(Qa.current),Kg(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Ha]=e,r[Rp]=a,t=(e.mode&1)!==0,n){case"dialog":Lt("cancel",r),Lt("close",r);break;case"iframe":case"object":case"embed":Lt("load",r);break;case"video":case"audio":for(i=0;i<Rh.length;i++)Lt(Rh[i],r);break;case"source":Lt("error",r);break;case"img":case"image":case"link":Lt("error",r),Lt("load",r);break;case"details":Lt("toggle",r);break;case"input":ZN(r,a),Lt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Lt("invalid",r);break;case"textarea":QN(r,a),Lt("invalid",r)}yS(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Gg(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Gg(r.textContent,o,t),i=["children",""+o]):jp.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Lt("scroll",r)}switch(n){case"input":Fg(r),JN(r,a,!0);break;case"textarea":Fg(r),eP(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=kv)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=z5(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Ha]=e,t[Rp]=r,dF(t,e,!1,!1),e.stateNode=t;e:{switch(s=vS(n,r),n){case"dialog":Lt("cancel",t),Lt("close",t),i=r;break;case"iframe":case"object":case"embed":Lt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Rh.length;i++)Lt(Rh[i],t);i=r;break;case"source":Lt("error",t),i=r;break;case"img":case"image":case"link":Lt("error",t),Lt("load",t),i=r;break;case"details":Lt("toggle",t),i=r;break;case"input":ZN(t,r),i=fS(t,r),Lt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Qt({},r,{value:void 0}),Lt("invalid",t);break;case"textarea":QN(t,r),i=mS(t,r),Lt("invalid",t);break;default:i=r}yS(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?V5(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&U5(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ap(t,l):typeof l=="number"&&Ap(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(jp.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Lt("scroll",t):l!=null&&bk(t,a,l,s))}switch(n){case"input":Fg(t),JN(t,r,!1);break;case"textarea":Fg(t),eP(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ul(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?id(t,!!r.multiple,a,!1):r.defaultValue!=null&&id(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=kv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vn(e),null;case 6:if(t&&e.stateNode!=null)hF(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ce(166));if(n=dc(Dp.current),dc(Qa.current),Kg(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ha]=e,(a=r.nodeValue!==n)&&(t=ei,t!==null))switch(t.tag){case 3:Gg(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Gg(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ha]=e,e.stateNode=r}return Vn(e),null;case 13:if(Ut(Xt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Wt&&Zr!==null&&e.mode&1&&!(e.flags&128))N3(),$d(),e.flags|=98560,a=!1;else if(a=Kg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(ce(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ce(317));a[Ha]=e}else $d(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vn(e),a=!1}else ta!==null&&(JS(ta),ta=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xt.current&1?En===0&&(En=3):nT())),e.updateQueue!==null&&(e.flags|=4),Vn(e),null);case 4:return Md(),VS(t,e),t===null&&Ip(e.stateNode.containerInfo),Vn(e),null;case 10:return Fk(e.type._context),Vn(e),null;case 17:return Nr(e.type)&&Tv(),Vn(e),null;case 19:if(Ut(Xt),a=e.memoizedState,a===null)return Vn(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)dh(a,!1);else{if(En!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Rv(t),s!==null){for(e.flags|=128,dh(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pt(Xt,Xt.current&1|2),e.child}t=t.sibling}a.tail!==null&&ln()>Ld&&(e.flags|=128,r=!0,dh(a,!1),e.lanes=4194304)}else{if(!r)if(t=Rv(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),dh(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Wt)return Vn(e),null}else 2*ln()-a.renderingStartTime>Ld&&n!==1073741824&&(e.flags|=128,r=!0,dh(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ln(),e.sibling=null,n=Xt.current,Pt(Xt,r?n&1|2:n&1),e):(Vn(e),null);case 22:case 23:return tT(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gr&1073741824&&(Vn(e),e.subtreeFlags&6&&(e.flags|=8192)):Vn(e),null;case 24:return null;case 25:return null}throw Error(ce(156,e.tag))}function oZ(t,e){switch(Rk(e),e.tag){case 1:return Nr(e.type)&&Tv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Md(),Ut(Or),Ut(Xn),Vk(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Hk(e),null;case 13:if(Ut(Xt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ce(340));$d()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ut(Xt),null;case 4:return Md(),null;case 10:return Fk(e.type._context),null;case 22:case 23:return tT(),null;case 24:return null;default:return null}}var Zg=!1,Kn=!1,lZ=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Yu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){an(t,e,r)}else n.current=null}function WS(t,e,n){try{n()}catch(r){an(t,e,r)}}var HP=!1;function cZ(t,e){if(TS=Ev,t=v3(),Ik(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++c===i&&(o=s),h===a&&++d===r&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(CS={focusedElem:t,selectionRange:n},Ev=!1,Se=e;Se!==null;)if(e=Se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Se=t;else for(;Se!==null;){e=Se;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,x=m.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Gi(e.type,g),x);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(w){an(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,Se=t;break}Se=e.return}return m=HP,HP=!1,m}function Jh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&WS(e,n,a)}i=i.next}while(i!==r)}}function Lx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function qS(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pF(t){var e=t.alternate;e!==null&&(t.alternate=null,pF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ha],delete e[Rp],delete e[PS],delete e[WX],delete e[qX])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mF(t){return t.tag===5||t.tag===3||t.tag===4}function VP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function GS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kv));else if(r!==4&&(t=t.child,t!==null))for(GS(t,e,n),t=t.sibling;t!==null;)GS(t,e,n),t=t.sibling}function KS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(KS(t,e,n),t=t.sibling;t!==null;)KS(t,e,n),t=t.sibling}var Fn=null,Zi=!1;function yo(t,e,n){for(n=n.child;n!==null;)gF(t,e,n),n=n.sibling}function gF(t,e,n){if(Ja&&typeof Ja.onCommitFiberUnmount=="function")try{Ja.onCommitFiberUnmount(Ox,n)}catch{}switch(n.tag){case 5:Kn||Yu(n,e);case 6:var r=Fn,i=Zi;Fn=null,yo(t,e,n),Fn=r,Zi=i,Fn!==null&&(Zi?(t=Fn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Fn.removeChild(n.stateNode));break;case 18:Fn!==null&&(Zi?(t=Fn,n=n.stateNode,t.nodeType===8?o_(t.parentNode,n):t.nodeType===1&&o_(t,n),Op(t)):o_(Fn,n.stateNode));break;case 4:r=Fn,i=Zi,Fn=n.stateNode.containerInfo,Zi=!0,yo(t,e,n),Fn=r,Zi=i;break;case 0:case 11:case 14:case 15:if(!Kn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&WS(n,e,s),i=i.next}while(i!==r)}yo(t,e,n);break;case 1:if(!Kn&&(Yu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){an(n,e,o)}yo(t,e,n);break;case 21:yo(t,e,n);break;case 22:n.mode&1?(Kn=(r=Kn)||n.memoizedState!==null,yo(t,e,n),Kn=r):yo(t,e,n);break;default:yo(t,e,n)}}function WP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new lZ),e.forEach(function(r){var i=vZ.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Li(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Fn=o.stateNode,Zi=!1;break e;case 3:Fn=o.stateNode.containerInfo,Zi=!0;break e;case 4:Fn=o.stateNode.containerInfo,Zi=!0;break e}o=o.return}if(Fn===null)throw Error(ce(160));gF(a,s,i),Fn=null,Zi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){an(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yF(e,t),e=e.sibling}function yF(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Li(e,t),Ia(t),r&4){try{Jh(3,t,t.return),Lx(3,t)}catch(g){an(t,t.return,g)}try{Jh(5,t,t.return)}catch(g){an(t,t.return,g)}}break;case 1:Li(e,t),Ia(t),r&512&&n!==null&&Yu(n,n.return);break;case 5:if(Li(e,t),Ia(t),r&512&&n!==null&&Yu(n,n.return),t.flags&32){var i=t.stateNode;try{Ap(i,"")}catch(g){an(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&F5(i,a),vS(o,s);var c=vS(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?V5(i,f):d==="dangerouslySetInnerHTML"?U5(i,f):d==="children"?Ap(i,f):bk(i,d,f,c)}switch(o){case"input":hS(i,a);break;case"textarea":B5(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?id(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?id(i,!!a.multiple,a.defaultValue,!0):id(i,!!a.multiple,a.multiple?[]:"",!1))}i[Rp]=a}catch(g){an(t,t.return,g)}}break;case 6:if(Li(e,t),Ia(t),r&4){if(t.stateNode===null)throw Error(ce(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){an(t,t.return,g)}}break;case 3:if(Li(e,t),Ia(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Op(e.containerInfo)}catch(g){an(t,t.return,g)}break;case 4:Li(e,t),Ia(t);break;case 13:Li(e,t),Ia(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Qk=ln())),r&4&&WP(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Kn=(c=Kn)||d,Li(e,t),Kn=c):Li(e,t),Ia(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Se=t,d=t.child;d!==null;){for(f=Se=d;Se!==null;){switch(h=Se,p=h.child,h.tag){case 0:case 11:case 14:case 15:Jh(4,h,h.return);break;case 1:Yu(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){an(r,n,g)}}break;case 5:Yu(h,h.return);break;case 22:if(h.memoizedState!==null){GP(f);continue}}p!==null?(p.return=h,Se=p):GP(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=H5("display",s))}catch(g){an(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){an(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Li(e,t),Ia(t),r&4&&WP(t);break;case 21:break;default:Li(e,t),Ia(t)}}function Ia(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(mF(n)){var r=n;break e}n=n.return}throw Error(ce(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ap(i,""),r.flags&=-33);var a=VP(t);KS(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=VP(t);GS(t,o,s);break;default:throw Error(ce(161))}}catch(l){an(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uZ(t,e,n){Se=t,vF(t)}function vF(t,e,n){for(var r=(t.mode&1)!==0;Se!==null;){var i=Se,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Zg;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Kn;o=Zg;var c=Kn;if(Zg=s,(Kn=l)&&!c)for(Se=i;Se!==null;)s=Se,l=s.child,s.tag===22&&s.memoizedState!==null?KP(i):l!==null?(l.return=s,Se=l):KP(i);for(;a!==null;)Se=a,vF(a),a=a.sibling;Se=i,Zg=o,Kn=c}qP(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Se=a):qP(t)}}function qP(t){for(;Se!==null;){var e=Se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kn||Lx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Kn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Gi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&OP(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}OP(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Op(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}Kn||e.flags&512&&qS(e)}catch(h){an(e,e.return,h)}}if(e===t){Se=null;break}if(n=e.sibling,n!==null){n.return=e.return,Se=n;break}Se=e.return}}function GP(t){for(;Se!==null;){var e=Se;if(e===t){Se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Se=n;break}Se=e.return}}function KP(t){for(;Se!==null;){var e=Se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Lx(4,e)}catch(l){an(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){an(e,i,l)}}var a=e.return;try{qS(e)}catch(l){an(e,a,l)}break;case 5:var s=e.return;try{qS(e)}catch(l){an(e,s,l)}}}catch(l){an(e,e.return,l)}if(e===t){Se=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Se=o;break}Se=e.return}}var dZ=Math.ceil,Lv=co.ReactCurrentDispatcher,Zk=co.ReactCurrentOwner,Ci=co.ReactCurrentBatchConfig,ut=0,Rn=null,yn=null,Bn=0,Gr=0,Xu=Cl(0),En=0,zp=null,Rc=0,Fx=0,Jk=0,Qh=null,_r=null,Qk=0,Ld=1/0,As=null,Fv=!1,YS=null,tl=null,Jg=!1,Ho=null,Bv=0,ep=0,XS=null,tv=-1,nv=0;function fr(){return ut&6?ln():tv!==-1?tv:tv=ln()}function nl(t){return t.mode&1?ut&2&&Bn!==0?Bn&-Bn:KX.transition!==null?(nv===0&&(nv=n3()),nv):(t=_t,t!==0||(t=window.event,t=t===void 0?16:c3(t.type)),t):1}function ca(t,e,n,r){if(50<ep)throw ep=0,XS=null,Error(ce(185));Km(t,n,r),(!(ut&2)||t!==Rn)&&(t===Rn&&(!(ut&2)&&(Fx|=n),En===4&&$o(t,Bn)),Pr(t,r),n===1&&ut===0&&!(e.mode&1)&&(Ld=ln()+500,Rx&&Ol()))}function Pr(t,e){var n=t.callbackNode;KY(t,e);var r=Sv(t,t===Rn?Bn:0);if(r===0)n!==null&&rP(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&rP(n),e===1)t.tag===0?GX(YP.bind(null,t)):T3(YP.bind(null,t)),HX(function(){!(ut&6)&&Ol()}),n=null;else{switch(r3(r)){case 1:n=jk;break;case 4:n=e3;break;case 16:n=_v;break;case 536870912:n=t3;break;default:n=_v}n=AF(n,xF.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xF(t,e){if(tv=-1,nv=0,ut&6)throw Error(ce(327));var n=t.callbackNode;if(cd()&&t.callbackNode!==n)return null;var r=Sv(t,t===Rn?Bn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=zv(t,r);else{e=r;var i=ut;ut|=2;var a=wF();(Rn!==t||Bn!==e)&&(As=null,Ld=ln()+500,_c(t,e));do try{pZ();break}catch(o){bF(t,o)}while(!0);Lk(),Lv.current=a,ut=i,yn!==null?e=0:(Rn=null,Bn=0,e=En)}if(e!==0){if(e===2&&(i=SS(t),i!==0&&(r=i,e=ZS(t,i))),e===1)throw n=zp,_c(t,0),$o(t,r),Pr(t,ln()),n;if(e===6)$o(t,r);else{if(i=t.current.alternate,!(r&30)&&!fZ(i)&&(e=zv(t,r),e===2&&(a=SS(t),a!==0&&(r=a,e=ZS(t,a))),e===1))throw n=zp,_c(t,0),$o(t,r),Pr(t,ln()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ce(345));case 2:Jl(t,_r,As);break;case 3:if($o(t,r),(r&130023424)===r&&(e=Qk+500-ln(),10<e)){if(Sv(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){fr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=NS(Jl.bind(null,t,_r,As),e);break}Jl(t,_r,As);break;case 4:if($o(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-la(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=ln()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dZ(r/1960))-r,10<r){t.timeoutHandle=NS(Jl.bind(null,t,_r,As),r);break}Jl(t,_r,As);break;case 5:Jl(t,_r,As);break;default:throw Error(ce(329))}}}return Pr(t,ln()),t.callbackNode===n?xF.bind(null,t):null}function ZS(t,e){var n=Qh;return t.current.memoizedState.isDehydrated&&(_c(t,e).flags|=256),t=zv(t,e),t!==2&&(e=_r,_r=n,e!==null&&JS(e)),t}function JS(t){_r===null?_r=t:_r.push.apply(_r,t)}function fZ(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ga(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $o(t,e){for(e&=~Jk,e&=~Fx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-la(e),r=1<<n;t[n]=-1,e&=~r}}function YP(t){if(ut&6)throw Error(ce(327));cd();var e=Sv(t,0);if(!(e&1))return Pr(t,ln()),null;var n=zv(t,e);if(t.tag!==0&&n===2){var r=SS(t);r!==0&&(e=r,n=ZS(t,r))}if(n===1)throw n=zp,_c(t,0),$o(t,e),Pr(t,ln()),n;if(n===6)throw Error(ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jl(t,_r,As),Pr(t,ln()),null}function eT(t,e){var n=ut;ut|=1;try{return t(e)}finally{ut=n,ut===0&&(Ld=ln()+500,Rx&&Ol())}}function Mc(t){Ho!==null&&Ho.tag===0&&!(ut&6)&&cd();var e=ut;ut|=1;var n=Ci.transition,r=_t;try{if(Ci.transition=null,_t=1,t)return t()}finally{_t=r,Ci.transition=n,ut=e,!(ut&6)&&Ol()}}function tT(){Gr=Xu.current,Ut(Xu)}function _c(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,UX(n)),yn!==null)for(n=yn.return;n!==null;){var r=n;switch(Rk(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Tv();break;case 3:Md(),Ut(Or),Ut(Xn),Vk();break;case 5:Hk(r);break;case 4:Md();break;case 13:Ut(Xt);break;case 19:Ut(Xt);break;case 10:Fk(r.type._context);break;case 22:case 23:tT()}n=n.return}if(Rn=t,yn=t=rl(t.current,null),Bn=Gr=e,En=0,zp=null,Jk=Fx=Rc=0,_r=Qh=null,uc!==null){for(e=0;e<uc.length;e++)if(n=uc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}uc=null}return t}function bF(t,e){do{var n=yn;try{if(Lk(),Jy.current=Dv,Mv){for(var r=Jt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Mv=!1}if($c=0,In=wn=Jt=null,Zh=!1,Lp=0,Zk.current=null,n===null||n.return===null){En=1,zp=e,yn=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=Bn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=MP(s);if(p!==null){p.flags&=-257,DP(p,s,o,a,e),p.mode&1&&RP(a,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){RP(a,c,e),nT();break e}l=Error(ce(426))}}else if(Wt&&o.mode&1){var x=MP(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),DP(x,s,o,a,e),Mk(Dd(l,o));break e}}a=l=Dd(l,o),En!==4&&(En=2),Qh===null?Qh=[a]:Qh.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var v=rF(a,l,e);CP(a,v);break e;case 1:o=l;var b=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(tl===null||!tl.has(y)))){a.flags|=65536,e&=-e,a.lanes|=e;var w=iF(a,o,e);CP(a,w);break e}}a=a.return}while(a!==null)}SF(n)}catch(_){e=_,yn===n&&n!==null&&(yn=n=n.return);continue}break}while(!0)}function wF(){var t=Lv.current;return Lv.current=Dv,t===null?Dv:t}function nT(){(En===0||En===3||En===2)&&(En=4),Rn===null||!(Rc&268435455)&&!(Fx&268435455)||$o(Rn,Bn)}function zv(t,e){var n=ut;ut|=2;var r=wF();(Rn!==t||Bn!==e)&&(As=null,_c(t,e));do try{hZ();break}catch(i){bF(t,i)}while(!0);if(Lk(),ut=n,Lv.current=r,yn!==null)throw Error(ce(261));return Rn=null,Bn=0,En}function hZ(){for(;yn!==null;)_F(yn)}function pZ(){for(;yn!==null&&!FY();)_F(yn)}function _F(t){var e=jF(t.alternate,t,Gr);t.memoizedProps=t.pendingProps,e===null?SF(t):yn=e,Zk.current=null}function SF(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=oZ(n,e),n!==null){n.flags&=32767,yn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{En=6,yn=null;return}}else if(n=sZ(n,e,Gr),n!==null){yn=n;return}if(e=e.sibling,e!==null){yn=e;return}yn=e=t}while(e!==null);En===0&&(En=5)}function Jl(t,e,n){var r=_t,i=Ci.transition;try{Ci.transition=null,_t=1,mZ(t,e,n,r)}finally{Ci.transition=i,_t=r}return null}function mZ(t,e,n,r){do cd();while(Ho!==null);if(ut&6)throw Error(ce(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ce(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(YY(t,a),t===Rn&&(yn=Rn=null,Bn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Jg||(Jg=!0,AF(_v,function(){return cd(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ci.transition,Ci.transition=null;var s=_t;_t=1;var o=ut;ut|=4,Zk.current=null,cZ(t,n),yF(n,t),RX(CS),Ev=!!TS,CS=TS=null,t.current=n,uZ(n),BY(),ut=o,_t=s,Ci.transition=a}else t.current=n;if(Jg&&(Jg=!1,Ho=t,Bv=i),a=t.pendingLanes,a===0&&(tl=null),HY(n.stateNode),Pr(t,ln()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fv)throw Fv=!1,t=YS,YS=null,t;return Bv&1&&t.tag!==0&&cd(),a=t.pendingLanes,a&1?t===XS?ep++:(ep=0,XS=t):ep=0,Ol(),null}function cd(){if(Ho!==null){var t=r3(Bv),e=Ci.transition,n=_t;try{if(Ci.transition=null,_t=16>t?16:t,Ho===null)var r=!1;else{if(t=Ho,Ho=null,Bv=0,ut&6)throw Error(ce(331));var i=ut;for(ut|=4,Se=t.current;Se!==null;){var a=Se,s=a.child;if(Se.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Se=c;Se!==null;){var d=Se;switch(d.tag){case 0:case 11:case 15:Jh(8,d,a)}var f=d.child;if(f!==null)f.return=d,Se=f;else for(;Se!==null;){d=Se;var h=d.sibling,p=d.return;if(pF(d),d===c){Se=null;break}if(h!==null){h.return=p,Se=h;break}Se=p}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}Se=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Se=s;else e:for(;Se!==null;){if(a=Se,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Jh(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,Se=v;break e}Se=a.return}}var b=t.current;for(Se=b;Se!==null;){s=Se;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,Se=y;else e:for(s=b;Se!==null;){if(o=Se,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Lx(9,o)}}catch(_){an(o,o.return,_)}if(o===s){Se=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,Se=w;break e}Se=o.return}}if(ut=i,Ol(),Ja&&typeof Ja.onPostCommitFiberRoot=="function")try{Ja.onPostCommitFiberRoot(Ox,t)}catch{}r=!0}return r}finally{_t=n,Ci.transition=e}}return!1}function XP(t,e,n){e=Dd(n,e),e=rF(t,e,1),t=el(t,e,1),e=fr(),t!==null&&(Km(t,1,e),Pr(t,e))}function an(t,e,n){if(t.tag===3)XP(t,t,n);else for(;e!==null;){if(e.tag===3){XP(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tl===null||!tl.has(r))){t=Dd(n,t),t=iF(e,t,1),e=el(e,t,1),t=fr(),e!==null&&(Km(e,1,t),Pr(e,t));break}}e=e.return}}function gZ(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=fr(),t.pingedLanes|=t.suspendedLanes&n,Rn===t&&(Bn&n)===n&&(En===4||En===3&&(Bn&130023424)===Bn&&500>ln()-Qk?_c(t,0):Jk|=n),Pr(t,e)}function EF(t,e){e===0&&(t.mode&1?(e=Ug,Ug<<=1,!(Ug&130023424)&&(Ug=4194304)):e=1);var n=fr();t=Ys(t,e),t!==null&&(Km(t,e,n),Pr(t,n))}function yZ(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),EF(t,n)}function vZ(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ce(314))}r!==null&&r.delete(e),EF(t,n)}var jF;jF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Or.current)kr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return kr=!1,aZ(t,e,n);kr=!!(t.flags&131072)}else kr=!1,Wt&&e.flags&1048576&&C3(e,Nv,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ev(t,e),t=e.pendingProps;var i=Id(e,Xn.current);ld(e,n),i=qk(null,e,r,t,i,n);var a=Gk();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nr(r)?(a=!0,Cv(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zk(e),i.updater=Dx,e.stateNode=i,i._reactInternals=e,LS(e,r,t,n),e=zS(null,e,r,!0,a,n)):(e.tag=0,Wt&&a&&$k(e),or(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ev(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=bZ(r),t=Gi(r,t),i){case 0:e=BS(null,e,r,t,n);break e;case 1:e=BP(null,e,r,t,n);break e;case 11:e=LP(null,e,r,t,n);break e;case 14:e=FP(null,e,r,Gi(r.type,t),n);break e}throw Error(ce(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gi(r,i),BS(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gi(r,i),BP(t,e,r,i,n);case 3:e:{if(lF(e),t===null)throw Error(ce(387));r=e.pendingProps,a=e.memoizedState,i=a.element,R3(t,e),$v(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Dd(Error(ce(423)),e),e=zP(t,e,r,n,i);break e}else if(r!==i){i=Dd(Error(ce(424)),e),e=zP(t,e,r,n,i);break e}else for(Zr=Qo(e.stateNode.containerInfo.firstChild),ei=e,Wt=!0,ta=null,n=I3(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($d(),r===i){e=Xs(t,e,n);break e}or(t,e,r,n)}e=e.child}return e;case 5:return M3(e),t===null&&RS(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,OS(r,i)?s=null:a!==null&&OS(r,a)&&(e.flags|=32),oF(t,e),or(t,e,s,n),e.child;case 6:return t===null&&RS(e),null;case 13:return cF(t,e,n);case 4:return Uk(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Rd(e,null,r,n):or(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gi(r,i),LP(t,e,r,i,n);case 7:return or(t,e,e.pendingProps,n),e.child;case 8:return or(t,e,e.pendingProps.children,n),e.child;case 12:return or(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Pt(Pv,r._currentValue),r._currentValue=s,a!==null)if(ga(a.value,s)){if(a.children===i.children&&!Or.current){e=Xs(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Ds(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),MS(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(ce(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),MS(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}or(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ld(e,n),i=Ni(i),r=r(i),e.flags|=1,or(t,e,r,n),e.child;case 14:return r=e.type,i=Gi(r,e.pendingProps),i=Gi(r.type,i),FP(t,e,r,i,n);case 15:return aF(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gi(r,i),ev(t,e),e.tag=1,Nr(r)?(t=!0,Cv(e)):t=!1,ld(e,n),nF(e,r,i),LS(e,r,i,n),zS(null,e,r,!0,t,n);case 19:return uF(t,e,n);case 22:return sF(t,e,n)}throw Error(ce(156,e.tag))};function AF(t,e){return Q5(t,e)}function xZ(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ji(t,e,n,r){return new xZ(t,e,n,r)}function rT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bZ(t){if(typeof t=="function")return rT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_k)return 11;if(t===Sk)return 14}return 2}function rl(t,e){var n=t.alternate;return n===null?(n=ji(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function rv(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")rT(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Bu:return Sc(n.children,i,a,e);case wk:s=8,i|=8;break;case lS:return t=ji(12,n,e,i|2),t.elementType=lS,t.lanes=a,t;case cS:return t=ji(13,n,e,i),t.elementType=cS,t.lanes=a,t;case uS:return t=ji(19,n,e,i),t.elementType=uS,t.lanes=a,t;case M5:return Bx(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $5:s=10;break e;case R5:s=9;break e;case _k:s=11;break e;case Sk:s=14;break e;case Co:s=16,r=null;break e}throw Error(ce(130,t==null?t:typeof t,""))}return e=ji(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Sc(t,e,n,r){return t=ji(7,t,r,e),t.lanes=n,t}function Bx(t,e,n,r){return t=ji(22,t,r,e),t.elementType=M5,t.lanes=n,t.stateNode={isHidden:!1},t}function m_(t,e,n){return t=ji(6,t,null,e),t.lanes=n,t}function g_(t,e,n){return e=ji(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wZ(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xw(0),this.expirationTimes=Xw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function iT(t,e,n,r,i,a,s,o,l){return t=new wZ(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=ji(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zk(a),t}function _Z(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function kF(t){if(!t)return dl;t=t._reactInternals;e:{if(Jc(t)!==t||t.tag!==1)throw Error(ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ce(171))}if(t.tag===1){var n=t.type;if(Nr(n))return k3(t,n,e)}return e}function TF(t,e,n,r,i,a,s,o,l){return t=iT(n,r,!0,t,i,a,s,o,l),t.context=kF(null),n=t.current,r=fr(),i=nl(n),a=Ds(r,i),a.callback=e??null,el(n,a,i),t.current.lanes=i,Km(t,i,r),Pr(t,r),t}function zx(t,e,n,r){var i=e.current,a=fr(),s=nl(i);return n=kF(n),e.context===null?e.context=n:e.pendingContext=n,e=Ds(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=el(i,e,s),t!==null&&(ca(t,i,s,a),Zy(t,i,s)),s}function Uv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ZP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function aT(t,e){ZP(t,e),(t=t.alternate)&&ZP(t,e)}function SZ(){return null}var CF=typeof reportError=="function"?reportError:function(t){console.error(t)};function sT(t){this._internalRoot=t}Ux.prototype.render=sT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ce(409));zx(t,e,null,null)};Ux.prototype.unmount=sT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mc(function(){zx(null,t,null,null)}),e[Ks]=null}};function Ux(t){this._internalRoot=t}Ux.prototype.unstable_scheduleHydration=function(t){if(t){var e=s3();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Io.length&&e!==0&&e<Io[n].priority;n++);Io.splice(n,0,t),n===0&&l3(t)}};function oT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function JP(){}function EZ(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=Uv(s);a.call(c)}}var s=TF(e,r,t,0,null,!1,!1,"",JP);return t._reactRootContainer=s,t[Ks]=s.current,Ip(t.nodeType===8?t.parentNode:t),Mc(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=Uv(l);o.call(c)}}var l=iT(t,0,!1,null,null,!1,!1,"",JP);return t._reactRootContainer=l,t[Ks]=l.current,Ip(t.nodeType===8?t.parentNode:t),Mc(function(){zx(e,l,n,r)}),l}function Vx(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Uv(s);o.call(l)}}zx(e,s,t,i)}else s=EZ(n,e,t,i,r);return Uv(s)}i3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$h(e.pendingLanes);n!==0&&(Ak(e,n|1),Pr(e,ln()),!(ut&6)&&(Ld=ln()+500,Ol()))}break;case 13:Mc(function(){var r=Ys(t,1);if(r!==null){var i=fr();ca(r,t,1,i)}}),aT(t,1)}};kk=function(t){if(t.tag===13){var e=Ys(t,134217728);if(e!==null){var n=fr();ca(e,t,134217728,n)}aT(t,134217728)}};a3=function(t){if(t.tag===13){var e=nl(t),n=Ys(t,e);if(n!==null){var r=fr();ca(n,t,e,r)}aT(t,e)}};s3=function(){return _t};o3=function(t,e){var n=_t;try{return _t=t,e()}finally{_t=n}};bS=function(t,e,n){switch(e){case"input":if(hS(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=$x(r);if(!i)throw Error(ce(90));L5(r),hS(r,i)}}}break;case"textarea":B5(t,n);break;case"select":e=n.value,e!=null&&id(t,!!n.multiple,e,!1)}};G5=eT;K5=Mc;var jZ={usingClientEntryPoint:!1,Events:[Xm,Vu,$x,W5,q5,eT]},fh={findFiberByHostInstance:cc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AZ={bundleType:fh.bundleType,version:fh.version,rendererPackageName:fh.rendererPackageName,rendererConfig:fh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:co.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Z5(t),t===null?null:t.stateNode},findFiberByHostInstance:fh.findFiberByHostInstance||SZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qg.isDisabled&&Qg.supportsFiber)try{Ox=Qg.inject(AZ),Ja=Qg}catch{}}di.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jZ;di.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oT(e))throw Error(ce(200));return _Z(t,e,null,n)};di.createRoot=function(t,e){if(!oT(t))throw Error(ce(299));var n=!1,r="",i=CF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=iT(t,1,!1,null,null,n,!1,r,i),t[Ks]=e.current,Ip(t.nodeType===8?t.parentNode:t),new sT(e)};di.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ce(188)):(t=Object.keys(t).join(","),Error(ce(268,t)));return t=Z5(e),t=t===null?null:t.stateNode,t};di.flushSync=function(t){return Mc(t)};di.hydrate=function(t,e,n){if(!Hx(e))throw Error(ce(200));return Vx(null,t,e,!0,n)};di.hydrateRoot=function(t,e,n){if(!oT(t))throw Error(ce(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=CF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=TF(e,null,t,1,n??null,i,!1,a,s),t[Ks]=e.current,Ip(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ux(e)};di.render=function(t,e,n){if(!Hx(e))throw Error(ce(200));return Vx(null,t,e,!1,n)};di.unmountComponentAtNode=function(t){if(!Hx(t))throw Error(ce(40));return t._reactRootContainer?(Mc(function(){Vx(null,null,t,!1,function(){t._reactRootContainer=null,t[Ks]=null})}),!0):!1};di.unstable_batchedUpdates=eT;di.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hx(n))throw Error(ce(200));if(t==null||t._reactInternals===void 0)throw Error(ce(38));return Vx(t,e,n,!1,r)};di.version="18.3.1-next-f1338f8080-20240426";function OF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(OF)}catch(t){console.error(t)}}OF(),O5.exports=di;var Qc=O5.exports;const NF=at(Qc);var PF,QP=Qc;PF=QP.createRoot,QP.hydrateRoot;var Wx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qx=typeof window>"u"||"Deno"in globalThis;function Ki(){}function kZ(t,e){return typeof t=="function"?t(e):t}function TZ(t){return typeof t=="number"&&t>=0&&t!==1/0}function CZ(t,e){return Math.max(t+(e||0)-Date.now(),0)}function eI(t,e){return typeof t=="function"?t(e):t}function OZ(t,e){return typeof t=="function"?t(e):t}function tI(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:s,stale:o}=t;if(s){if(r){if(e.queryHash!==lT(s,e.options))return!1}else if(!Hp(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||a&&!a(e))}function nI(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(Up(e.options.mutationKey)!==Up(a))return!1}else if(!Hp(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function lT(t,e){return((e==null?void 0:e.queryKeyHashFn)||Up)(t)}function Up(t){return JSON.stringify(t,(e,n)=>QS(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Hp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Hp(t[n],e[n])):!1}function IF(t,e){if(t===e)return t;const n=rI(t)&&rI(e);if(n||QS(t)&&QS(e)){const r=n?t:Object.keys(t),i=r.length,a=n?e:Object.keys(e),s=a.length,o=n?[]:{};let l=0;for(let c=0;c<s;c++){const d=n?c:a[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(o[d]=void 0,l++):(o[d]=IF(t[d],e[d]),o[d]===t[d]&&t[d]!==void 0&&l++)}return i===s&&l===i?t:o}return e}function rI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function QS(t){if(!iI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!iI(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function iI(t){return Object.prototype.toString.call(t)==="[object Object]"}function NZ(t){return new Promise(e=>{setTimeout(e,t)})}function PZ(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?IF(t,e):e}function IZ(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function $Z(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var cT=Symbol();function $F(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===cT?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var yc,Do,Sd,c5,RZ=(c5=class extends Wx{constructor(){super();vt(this,yc);vt(this,Do);vt(this,Sd);nt(this,Sd,e=>{if(!qx&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){te(this,Do)||this.setEventListener(te(this,Sd))}onUnsubscribe(){var e;this.hasListeners()||((e=te(this,Do))==null||e.call(this),nt(this,Do,void 0))}setEventListener(e){var n;nt(this,Sd,e),(n=te(this,Do))==null||n.call(this),nt(this,Do,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){te(this,yc)!==e&&(nt(this,yc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof te(this,yc)=="boolean"?te(this,yc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},yc=new WeakMap,Do=new WeakMap,Sd=new WeakMap,c5),RF=new RZ,Ed,Lo,jd,u5,MZ=(u5=class extends Wx{constructor(){super();vt(this,Ed,!0);vt(this,Lo);vt(this,jd);nt(this,jd,e=>{if(!qx&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){te(this,Lo)||this.setEventListener(te(this,jd))}onUnsubscribe(){var e;this.hasListeners()||((e=te(this,Lo))==null||e.call(this),nt(this,Lo,void 0))}setEventListener(e){var n;nt(this,jd,e),(n=te(this,Lo))==null||n.call(this),nt(this,Lo,e(this.setOnline.bind(this)))}setOnline(e){te(this,Ed)!==e&&(nt(this,Ed,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return te(this,Ed)}},Ed=new WeakMap,Lo=new WeakMap,jd=new WeakMap,u5),Hv=new MZ;function DZ(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function LZ(t){return Math.min(1e3*2**t,3e4)}function MF(t){return(t??"online")==="online"?Hv.isOnline():!0}var DF=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function y_(t){return t instanceof DF}function LF(t){let e=!1,n=0,r=!1,i;const a=DZ(),s=g=>{var x;r||(h(new DF(g)),(x=t.abort)==null||x.call(t))},o=()=>{e=!0},l=()=>{e=!1},c=()=>RF.isFocused()&&(t.networkMode==="always"||Hv.isOnline())&&t.canRun(),d=()=>MF(t.networkMode)&&t.canRun(),f=g=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,g),i==null||i(),a.resolve(g))},h=g=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,g),i==null||i(),a.reject(g))},p=()=>new Promise(g=>{var x;i=v=>{(r||c())&&g(v)},(x=t.onPause)==null||x.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),m=()=>{if(r)return;let g;const x=n===0?t.initialPromise:void 0;try{g=x??t.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(f).catch(v=>{var E;if(r)return;const b=t.retry??(qx?0:3),y=t.retryDelay??LZ,w=typeof y=="function"?y(n,v):y,_=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,v);if(e||!_){h(v);return}n++,(E=t.onFail)==null||E.call(t,n,v),NZ(w).then(()=>c()?void 0:p()).then(()=>{e?h(v):m()})})};return{promise:a,cancel:s,continue:()=>(i==null||i(),a),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?m():p().then(m),a)}}function FZ(){let t=[],e=0,n=o=>{o()},r=o=>{o()},i=o=>setTimeout(o,0);const a=o=>{e?t.push(o):i(()=>{n(o)})},s=()=>{const o=t;t=[],o.length&&i(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||s()}return l},batchCalls:o=>(...l)=>{a(()=>{o(...l)})},schedule:a,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var lr=FZ(),vc,d5,FF=(d5=class{constructor(){vt(this,vc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),TZ(this.gcTime)&&nt(this,vc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(qx?1/0:5*60*1e3))}clearGcTimeout(){te(this,vc)&&(clearTimeout(te(this,vc)),nt(this,vc,void 0))}},vc=new WeakMap,d5),Ad,kd,bi,qn,Wm,xc,Xi,Es,f5,BZ=(f5=class extends FF{constructor(e){super();vt(this,Xi);vt(this,Ad);vt(this,kd);vt(this,bi);vt(this,qn);vt(this,Wm);vt(this,xc);nt(this,xc,!1),nt(this,Wm,e.defaultOptions),this.setOptions(e.options),this.observers=[],nt(this,bi,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,nt(this,Ad,UZ(this.options)),this.state=e.state??te(this,Ad),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=te(this,qn))==null?void 0:e.promise}setOptions(e){this.options={...te(this,Wm),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&te(this,bi).remove(this)}setData(e,n){const r=PZ(this.state.data,e,this.options);return Un(this,Xi,Es).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Un(this,Xi,Es).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=te(this,qn))==null?void 0:r.promise;return(i=te(this,qn))==null||i.cancel(e),n?n.then(Ki).catch(Ki):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(te(this,Ad))}isActive(){return this.observers.some(e=>OZ(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!CZ(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=te(this,qn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=te(this,qn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),te(this,bi).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(te(this,qn)&&(te(this,xc)?te(this,qn).cancel({revert:!0}):te(this,qn).cancelRetry()),this.scheduleGc()),te(this,bi).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Un(this,Xi,Es).call(this,{type:"invalidate"})}fetch(e,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(te(this,qn))return te(this,qn).continueRetry(),te(this,qn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(nt(this,xc,!0),r.signal)})},a=()=>{const f=$F(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return i(h),nt(this,xc,!1),this.options.persister?this.options.persister(f,h,this):f(h)},s={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(s),(l=this.options.behavior)==null||l.onFetch(s,this),nt(this,kd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=s.fetchOptions)==null?void 0:c.meta))&&Un(this,Xi,Es).call(this,{type:"fetch",meta:(d=s.fetchOptions)==null?void 0:d.meta});const o=f=>{var h,p,m,g;y_(f)&&f.silent||Un(this,Xi,Es).call(this,{type:"error",error:f}),y_(f)||((p=(h=te(this,bi).config).onError)==null||p.call(h,f,this),(g=(m=te(this,bi).config).onSettled)==null||g.call(m,this.state.data,f,this)),this.scheduleGc()};return nt(this,qn,LF({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,p,m,g;if(f===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){o(x);return}(p=(h=te(this,bi).config).onSuccess)==null||p.call(h,f,this),(g=(m=te(this,bi).config).onSettled)==null||g.call(m,f,this.state.error,this),this.scheduleGc()},onError:o,onFail:(f,h)=>{Un(this,Xi,Es).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Un(this,Xi,Es).call(this,{type:"pause"})},onContinue:()=>{Un(this,Xi,Es).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),te(this,qn).start()}},Ad=new WeakMap,kd=new WeakMap,bi=new WeakMap,qn=new WeakMap,Wm=new WeakMap,xc=new WeakMap,Xi=new WeakSet,Es=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...zZ(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return y_(i)&&i.revert&&te(this,kd)?{...te(this,kd),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),lr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),te(this,bi).notify({query:this,type:"updated",action:e})})},f5);function zZ(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:MF(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function UZ(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ba,h5,HZ=(h5=class extends Wx{constructor(e={}){super();vt(this,Ba);this.config=e,nt(this,Ba,new Map)}build(e,n,r){const i=n.queryKey,a=n.queryHash??lT(i,n);let s=this.get(a);return s||(s=new BZ({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){te(this,Ba).has(e.queryHash)||(te(this,Ba).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=te(this,Ba).get(e.queryHash);n&&(e.destroy(),n===e&&te(this,Ba).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){lr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return te(this,Ba).get(e)}getAll(){return[...te(this,Ba).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>tI(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>tI(e,r)):n}notify(e){lr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){lr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){lr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ba=new WeakMap,h5),za,sr,bc,Ua,jo,p5,VZ=(p5=class extends FF{constructor(e){super();vt(this,Ua);vt(this,za);vt(this,sr);vt(this,bc);this.mutationId=e.mutationId,nt(this,sr,e.mutationCache),nt(this,za,[]),this.state=e.state||WZ(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){te(this,za).includes(e)||(te(this,za).push(e),this.clearGcTimeout(),te(this,sr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){nt(this,za,te(this,za).filter(n=>n!==e)),this.scheduleGc(),te(this,sr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){te(this,za).length||(this.state.status==="pending"?this.scheduleGc():te(this,sr).remove(this))}continue(){var e;return((e=te(this,bc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,s,o,l,c,d,f,h,p,m,g,x,v,b,y,w,_,E,A;nt(this,bc,LF({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(j,k)=>{Un(this,Ua,jo).call(this,{type:"failed",failureCount:j,error:k})},onPause:()=>{Un(this,Ua,jo).call(this,{type:"pause"})},onContinue:()=>{Un(this,Ua,jo).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>te(this,sr).canRun(this)}));const n=this.state.status==="pending",r=!te(this,bc).canStart();try{if(!n){Un(this,Ua,jo).call(this,{type:"pending",variables:e,isPaused:r}),await((a=(i=te(this,sr).config).onMutate)==null?void 0:a.call(i,e,this));const k=await((o=(s=this.options).onMutate)==null?void 0:o.call(s,e));k!==this.state.context&&Un(this,Ua,jo).call(this,{type:"pending",context:k,variables:e,isPaused:r})}const j=await te(this,bc).start();return await((c=(l=te(this,sr).config).onSuccess)==null?void 0:c.call(l,j,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,j,e,this.state.context)),await((p=(h=te(this,sr).config).onSettled)==null?void 0:p.call(h,j,null,this.state.variables,this.state.context,this)),await((g=(m=this.options).onSettled)==null?void 0:g.call(m,j,null,e,this.state.context)),Un(this,Ua,jo).call(this,{type:"success",data:j}),j}catch(j){try{throw await((v=(x=te(this,sr).config).onError)==null?void 0:v.call(x,j,e,this.state.context,this)),await((y=(b=this.options).onError)==null?void 0:y.call(b,j,e,this.state.context)),await((_=(w=te(this,sr).config).onSettled)==null?void 0:_.call(w,void 0,j,this.state.variables,this.state.context,this)),await((A=(E=this.options).onSettled)==null?void 0:A.call(E,void 0,j,e,this.state.context)),j}finally{Un(this,Ua,jo).call(this,{type:"error",error:j})}}finally{te(this,sr).runNext(this)}}},za=new WeakMap,sr=new WeakMap,bc=new WeakMap,Ua=new WeakSet,jo=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),lr.batch(()=>{te(this,za).forEach(r=>{r.onMutationUpdate(e)}),te(this,sr).notify({mutation:this,type:"updated",action:e})})},p5);function WZ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Wr,qm,m5,qZ=(m5=class extends Wx{constructor(e={}){super();vt(this,Wr);vt(this,qm);this.config=e,nt(this,Wr,new Map),nt(this,qm,Date.now())}build(e,n,r){const i=new VZ({mutationCache:this,mutationId:++Mg(this,qm)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=ey(e),r=te(this,Wr).get(n)??[];r.push(e),te(this,Wr).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=ey(e);if(te(this,Wr).has(n)){const i=(r=te(this,Wr).get(n))==null?void 0:r.filter(a=>a!==e);i&&(i.length===0?te(this,Wr).delete(n):te(this,Wr).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=te(this,Wr).get(ey(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=te(this,Wr).get(ey(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){lr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...te(this,Wr).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>nI(n,r))}findAll(e={}){return this.getAll().filter(n=>nI(e,n))}notify(e){lr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return lr.batch(()=>Promise.all(e.map(n=>n.continue().catch(Ki))))}},Wr=new WeakMap,qm=new WeakMap,m5);function ey(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function aI(t){return{onFetch:(e,n)=>{var d,f,h,p,m;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((p=e.state.data)==null?void 0:p.pages)||[],s=((m=e.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const x=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},v=$F(e.options,e.fetchOptions),b=async(y,w,_)=>{if(g)return Promise.reject();if(w==null&&y.pages.length)return Promise.resolve(y);const E={queryKey:e.queryKey,pageParam:w,direction:_?"backward":"forward",meta:e.options.meta};x(E);const A=await v(E),{maxPages:j}=e.options,k=_?$Z:IZ;return{pages:k(y.pages,A,j),pageParams:k(y.pageParams,w,j)}};if(i&&a.length){const y=i==="backward",w=y?GZ:sI,_={pages:a,pageParams:s},E=w(r,_);o=await b(_,E,y)}else{const y=t??a.length;do{const w=l===0?s[0]??r.initialPageParam:sI(r,o);if(l>0&&w==null)break;o=await b(o,w),l++}while(l<y)}return o};e.options.persister?e.fetchFn=()=>{var g,x;return(x=(g=e.options).persister)==null?void 0:x.call(g,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function sI(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function GZ(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var tn,Fo,Bo,Td,Cd,zo,Od,Nd,g5,KZ=(g5=class{constructor(t={}){vt(this,tn);vt(this,Fo);vt(this,Bo);vt(this,Td);vt(this,Cd);vt(this,zo);vt(this,Od);vt(this,Nd);nt(this,tn,t.queryCache||new HZ),nt(this,Fo,t.mutationCache||new qZ),nt(this,Bo,t.defaultOptions||{}),nt(this,Td,new Map),nt(this,Cd,new Map),nt(this,zo,0)}mount(){Mg(this,zo)._++,te(this,zo)===1&&(nt(this,Od,RF.subscribe(async t=>{t&&(await this.resumePausedMutations(),te(this,tn).onFocus())})),nt(this,Nd,Hv.subscribe(async t=>{t&&(await this.resumePausedMutations(),te(this,tn).onOnline())})))}unmount(){var t,e;Mg(this,zo)._--,te(this,zo)===0&&((t=te(this,Od))==null||t.call(this),nt(this,Od,void 0),(e=te(this,Nd))==null||e.call(this),nt(this,Nd,void 0))}isFetching(t){return te(this,tn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return te(this,Fo).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=te(this,tn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=te(this,tn).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(eI(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return te(this,tn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=te(this,tn).get(r.queryHash),a=i==null?void 0:i.state.data,s=kZ(e,a);if(s!==void 0)return te(this,tn).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return lr.batch(()=>te(this,tn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=te(this,tn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=te(this,tn);lr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=te(this,tn),r={type:"active",...t};return lr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=lr.batch(()=>te(this,tn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Ki).catch(Ki)}invalidateQueries(t={},e={}){return lr.batch(()=>{if(te(this,tn).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=lr.batch(()=>te(this,tn).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Ki)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Ki)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=te(this,tn).build(this,e);return n.isStaleByTime(eI(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ki).catch(Ki)}fetchInfiniteQuery(t){return t.behavior=aI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ki).catch(Ki)}ensureInfiniteQueryData(t){return t.behavior=aI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Hv.isOnline()?te(this,Fo).resumePausedMutations():Promise.resolve()}getQueryCache(){return te(this,tn)}getMutationCache(){return te(this,Fo)}getDefaultOptions(){return te(this,Bo)}setDefaultOptions(t){nt(this,Bo,t)}setQueryDefaults(t,e){te(this,Td).set(Up(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...te(this,Td).values()];let n={};return e.forEach(r=>{Hp(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){te(this,Cd).set(Up(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...te(this,Cd).values()];let n={};return e.forEach(r=>{Hp(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...te(this,Bo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=lT(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===cT&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...te(this,Bo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){te(this,tn).clear(),te(this,Fo).clear()}},tn=new WeakMap,Fo=new WeakMap,Bo=new WeakMap,Td=new WeakMap,Cd=new WeakMap,zo=new WeakMap,Od=new WeakMap,Nd=new WeakMap,g5),YZ=S.createContext(void 0),XZ=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(YZ.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vp(){return Vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vp.apply(this,arguments)}var Vo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vo||(Vo={}));const oI="popstate";function ZZ(t){t===void 0&&(t={});function e(i,a){let{pathname:s="/",search:o="",hash:l=""}=eu(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),eE("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let s=i.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");o=c===-1?l:l.slice(0,c)}return o+"#"+(typeof a=="string"?a:Vv(a))}function r(i,a){uT(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return QZ(e,n,r,t)}function dn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function uT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JZ(){return Math.random().toString(36).substr(2,8)}function lI(t,e){return{usr:t.state,key:t.key,idx:e}}function eE(t,e,n,r){return n===void 0&&(n=null),Vp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?eu(e):e,{state:n,key:e&&e.key||r||JZ()})}function Vv(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function eu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function QZ(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=Vo.Pop,l=null,c=d();c==null&&(c=0,s.replaceState(Vp({},s.state,{idx:c}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=Vo.Pop;let x=d(),v=x==null?null:x-c;c=x,l&&l({action:o,location:g.location,delta:v})}function h(x,v){o=Vo.Push;let b=eE(g.location,x,v);n&&n(b,x),c=d()+1;let y=lI(b,c),w=g.createHref(b);try{s.pushState(y,"",w)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(w)}a&&l&&l({action:o,location:g.location,delta:1})}function p(x,v){o=Vo.Replace;let b=eE(g.location,x,v);n&&n(b,x),c=d();let y=lI(b,c),w=g.createHref(b);s.replaceState(y,"",w),a&&l&&l({action:o,location:g.location,delta:0})}function m(x){let v=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof x=="string"?x:Vv(x);return b=b.replace(/ $/,"%20"),dn(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let g={get action(){return o},get location(){return t(i,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(oI,f),l=x,()=>{i.removeEventListener(oI,f),l=null}},createHref(x){return e(i,x)},createURL:m,encodeLocation(x){let v=m(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(x){return s.go(x)}};return g}var cI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(cI||(cI={}));function eJ(t,e,n){return n===void 0&&(n="/"),tJ(t,e,n,!1)}function tJ(t,e,n,r){let i=typeof e=="string"?eu(e):e,a=dT(i.pathname||"/",n);if(a==null)return null;let s=BF(t);nJ(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=hJ(a);o=dJ(s[l],c,r)}return o}function BF(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(dn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=il([r,l.relativePath]),d=n.concat(l);a.children&&a.children.length>0&&(dn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),BF(a.children,e,d,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:cJ(c,a.index),routesMeta:d})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of zF(a.path))i(a,s,l)}),e}function zF(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=zF(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function nJ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uJ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const rJ=/^:[\w-]+$/,iJ=3,aJ=2,sJ=1,oJ=10,lJ=-2,uI=t=>t==="*";function cJ(t,e){let n=t.split("/"),r=n.length;return n.some(uI)&&(r+=lJ),e&&(r+=aJ),n.filter(i=>!uI(i)).reduce((i,a)=>i+(rJ.test(a)?iJ:a===""?sJ:oJ),r)}function uJ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function dJ(t,e,n){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,d=a==="/"?e:e.slice(a.length)||"/",f=dI({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=dI({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:il([a,f.pathname]),pathnameBase:yJ(il([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=il([a,f.pathnameBase]))}return s}function dI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fJ(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=o[f]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=o[f];return p&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function fJ(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),uT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function hJ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return uT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function dT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function pJ(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?eu(t):t;return{pathname:n?n.startsWith("/")?n:mJ(n,e):e,search:vJ(r),hash:xJ(i)}}function mJ(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function v_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gJ(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function fT(t,e){let n=gJ(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function hT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=eu(t):(i=Vp({},t),dn(!i.pathname||!i.pathname.includes("?"),v_("?","pathname","search",i)),dn(!i.pathname||!i.pathname.includes("#"),v_("#","pathname","hash",i)),dn(!i.search||!i.search.includes("#"),v_("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=pJ(i,o),c=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const il=t=>t.join("/").replace(/\/\/+/g,"/"),yJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),vJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function bJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const UF=["post","put","patch","delete"];new Set(UF);const wJ=["get",...UF];new Set(wJ);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wp(){return Wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wp.apply(this,arguments)}const pT=S.createContext(null),_J=S.createContext(null),Nl=S.createContext(null),Gx=S.createContext(null),Pl=S.createContext({outlet:null,matches:[],isDataRoute:!1}),HF=S.createContext(null);function SJ(t,e){let{relative:n}=e===void 0?{}:e;Cf()||dn(!1);let{basename:r,navigator:i}=S.useContext(Nl),{hash:a,pathname:s,search:o}=WF(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:il([r,s])),i.createHref({pathname:l,search:o,hash:a})}function Cf(){return S.useContext(Gx)!=null}function Il(){return Cf()||dn(!1),S.useContext(Gx).location}function VF(t){S.useContext(Nl).static||S.useLayoutEffect(t)}function hi(){let{isDataRoute:t}=S.useContext(Pl);return t?MJ():EJ()}function EJ(){Cf()||dn(!1);let t=S.useContext(pT),{basename:e,future:n,navigator:r}=S.useContext(Nl),{matches:i}=S.useContext(Pl),{pathname:a}=Il(),s=JSON.stringify(fT(i,n.v7_relativeSplatPath)),o=S.useRef(!1);return VF(()=>{o.current=!0}),S.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=hT(c,JSON.parse(s),a,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:il([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,s,a,t])}function WF(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=S.useContext(Nl),{matches:i}=S.useContext(Pl),{pathname:a}=Il(),s=JSON.stringify(fT(i,r.v7_relativeSplatPath));return S.useMemo(()=>hT(t,JSON.parse(s),a,n==="path"),[t,s,a,n])}function jJ(t,e){return AJ(t,e)}function AJ(t,e,n,r){Cf()||dn(!1);let{navigator:i}=S.useContext(Nl),{matches:a}=S.useContext(Pl),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Il(),d;if(e){var f;let x=typeof e=="string"?eu(e):e;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||dn(!1),d=x}else d=c;let h=d.pathname||"/",p=h;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let m=eJ(t,{pathname:p}),g=NJ(m&&m.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:il([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:il([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,n,r);return e&&g?S.createElement(Gx.Provider,{value:{location:Wp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Vo.Pop}},g):g}function kJ(){let t=RJ(),e=bJ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,null)}const TJ=S.createElement(kJ,null);class CJ extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(Pl.Provider,{value:this.props.routeContext},S.createElement(HF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OJ(t){let{routeContext:e,match:n,children:r}=t,i=S.useContext(pT);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Pl.Provider,{value:e},r)}function NJ(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||dn(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:p}=n,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,m=!1,g=null,x=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||TJ,l&&(c<0&&h===0?(m=!0,x=null):c===h&&(m=!0,x=f.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,h+1)),b=()=>{let y;return p?y=g:m?y=x:f.route.Component?y=S.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,S.createElement(OJ,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:y})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?S.createElement(CJ,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var qF=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(qF||{}),Wv=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Wv||{});function PJ(t){let e=S.useContext(pT);return e||dn(!1),e}function IJ(t){let e=S.useContext(_J);return e||dn(!1),e}function $J(t){let e=S.useContext(Pl);return e||dn(!1),e}function GF(t){let e=$J(),n=e.matches[e.matches.length-1];return n.route.id||dn(!1),n.route.id}function RJ(){var t;let e=S.useContext(HF),n=IJ(Wv.UseRouteError),r=GF(Wv.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function MJ(){let{router:t}=PJ(qF.UseNavigateStable),e=GF(Wv.UseNavigateStable),n=S.useRef(!1);return VF(()=>{n.current=!0}),S.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Wp({fromRouteId:e},a)))},[t,e])}function DJ(t){let{to:e,replace:n,state:r,relative:i}=t;Cf()||dn(!1);let{future:a,static:s}=S.useContext(Nl),{matches:o}=S.useContext(Pl),{pathname:l}=Il(),c=hi(),d=hT(e,fT(o,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return S.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function Ma(t){dn(!1)}function LJ(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Vo.Pop,navigator:a,static:s=!1,future:o}=t;Cf()&&dn(!1);let l=e.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:l,navigator:a,static:s,future:Wp({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof r=="string"&&(r=eu(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=r,g=S.useMemo(()=>{let x=dT(d,l);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:m},navigationType:i}},[l,d,f,h,p,m,i]);return g==null?null:S.createElement(Nl.Provider,{value:c},S.createElement(Gx.Provider,{children:n,value:g}))}function FJ(t){let{children:e,location:n}=t;return jJ(tE(e),n)}new Promise(()=>{});function tE(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let a=[...e,i];if(r.type===S.Fragment){n.push.apply(n,tE(r.props.children,a));return}r.type!==Ma&&dn(!1),!r.props.index||!r.props.children||dn(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=tE(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nE(){return nE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nE.apply(this,arguments)}function BJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function zJ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function UJ(t,e){return t.button===0&&(!e||e==="_self")&&!zJ(t)}function rE(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function HJ(t,e){let n=rE(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const VJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],WJ="6";try{window.__reactRouterVersion=WJ}catch{}const qJ="startTransition",fI=T5[qJ];function GJ(t){let{basename:e,children:n,future:r,window:i}=t,a=S.useRef();a.current==null&&(a.current=ZZ({window:i,v5Compat:!0}));let s=a.current,[o,l]=S.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},d=S.useCallback(f=>{c&&fI?fI(()=>l(f)):l(f)},[l,c]);return S.useLayoutEffect(()=>s.listen(d),[s,d]),S.createElement(LJ,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}const KJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tp=S.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,h=BJ(e,VJ),{basename:p}=S.useContext(Nl),m,g=!1;if(typeof c=="string"&&YJ.test(c)&&(m=c,KJ))try{let y=new URL(window.location.href),w=c.startsWith("//")?new URL(y.protocol+c):new URL(c),_=dT(w.pathname,p);w.origin===y.origin&&_!=null?c=_+w.search+w.hash:g=!0}catch{}let x=SJ(c,{relative:i}),v=XJ(c,{replace:s,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:f});function b(y){r&&r(y),y.defaultPrevented||v(y)}return S.createElement("a",nE({},h,{href:m||x,onClick:g||a?r:b,ref:n,target:l}))});var hI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(hI||(hI={}));var pI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(pI||(pI={}));function XJ(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=hi(),c=Il(),d=WF(t,{relative:s});return S.useCallback(f=>{if(UJ(f,n)){f.preventDefault();let h=r!==void 0?r:Vv(c)===Vv(d);l(t,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,d,r,i,n,t,a,s,o])}function KF(t){let e=S.useRef(rE(t)),n=S.useRef(!1),r=Il(),i=S.useMemo(()=>HJ(r.search,n.current?null:e.current),[r.search]),a=hi(),s=S.useCallback((o,l)=>{const c=rE(typeof o=="function"?o(i):o);n.current=!0,a("?"+c,l)},[a,i]);return[i,s]}var qv=["light","dark"],mT="(prefers-color-scheme: dark)",ZJ=typeof window>"u",gT=S.createContext(void 0),JJ={setTheme:t=>{},themes:[]},QJ=()=>{var t;return(t=S.useContext(gT))!=null?t:JJ},eQ=t=>S.useContext(gT)?t.children:S.createElement(nQ,{...t}),tQ=["light","dark"],nQ=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:i="theme",themes:a=tQ,defaultTheme:s=n?"system":"light",attribute:o="data-theme",value:l,children:c,nonce:d})=>{let[f,h]=S.useState(()=>mI(i,s)),[p,m]=S.useState(()=>mI(i)),g=l?Object.values(l):a,x=S.useCallback(w=>{let _=w;if(!_)return;w==="system"&&n&&(_=gI());let E=l?l[_]:_,A=e?iQ():null,j=document.documentElement;if(o==="class"?(j.classList.remove(...g),E&&j.classList.add(E)):E?j.setAttribute(o,E):j.removeAttribute(o),r){let k=qv.includes(s)?s:null,C=qv.includes(_)?_:k;j.style.colorScheme=C}A==null||A()},[]),v=S.useCallback(w=>{let _=typeof w=="function"?w(w):w;h(_);try{localStorage.setItem(i,_)}catch{}},[t]),b=S.useCallback(w=>{let _=gI(w);m(_),f==="system"&&n&&!t&&x("system")},[f,t]);S.useEffect(()=>{let w=window.matchMedia(mT);return w.addListener(b),b(w),()=>w.removeListener(b)},[b]),S.useEffect(()=>{let w=_=>{if(_.key!==i)return;let E=_.newValue||s;v(E)};return window.addEventListener("storage",w),()=>window.removeEventListener("storage",w)},[v]),S.useEffect(()=>{x(t??f)},[t,f]);let y=S.useMemo(()=>({theme:f,setTheme:v,forcedTheme:t,resolvedTheme:f==="system"?p:f,themes:n?[...a,"system"]:a,systemTheme:n?p:void 0}),[f,v,t,p,n,a]);return S.createElement(gT.Provider,{value:y},S.createElement(rQ,{forcedTheme:t,disableTransitionOnChange:e,enableSystem:n,enableColorScheme:r,storageKey:i,themes:a,defaultTheme:s,attribute:o,value:l,children:c,attrs:g,nonce:d}),c)},rQ=S.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:s,attrs:o,nonce:l})=>{let c=a==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?qv.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(m,g=!1,x=!0)=>{let v=s?s[m]:m,b=g?m+"|| ''":`'${v}'`,y="";return i&&x&&!g&&qv.includes(m)&&(y+=`d.style.colorScheme = '${m}';`),n==="class"?g||v?y+=`c.add(${b})`:y+="null":v&&(y+=`d[s](n,${b})`),y},p=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${mT}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}${c?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return S.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})}),mI=(t,e)=>{if(ZJ)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},iQ=()=>{let t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},gI=t=>(t||(t=window.matchMedia(mT)),t.matches?"dark":"light"),aQ=typeof Element<"u",sQ=typeof Map=="function",oQ=typeof Set=="function",lQ=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function iv(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!iv(t[r],e[r]))return!1;return!0}var a;if(sQ&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(a=t.entries();!(r=a.next()).done;)if(!e.has(r.value[0]))return!1;for(a=t.entries();!(r=a.next()).done;)if(!iv(r.value[1],e.get(r.value[0])))return!1;return!0}if(oQ&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(a=t.entries();!(r=a.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(lQ&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(aQ&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!iv(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var cQ=function(e,n){try{return iv(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const uQ=at(cQ);var dQ=function(t,e,n,r,i,a,s,o){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,s,o],d=0;l=new Error(e.replace(/%s/g,function(){return c[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},fQ=dQ;const yI=at(fQ);var hQ=function(e,n,r,i){var a=r?r.call(i,e,n):void 0;if(a!==void 0)return!!a;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),c=0;c<s.length;c++){var d=s[c];if(!l(d))return!1;var f=e[d],h=n[d];if(a=r?r.call(i,f,h,d):void 0,a===!1||a===void 0&&f!==h)return!1}return!0};const pQ=at(hQ);var YF=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(YF||{}),x_={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},vI=Object.values(YF),yT={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},mQ=Object.entries(yT).reduce((t,[e,n])=>(t[n]=e,t),{}),ia="data-rh",ud={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},dd=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},gQ=t=>{let e=dd(t,"title");const n=dd(t,ud.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=dd(t,ud.DEFAULT_TITLE);return e||r||void 0},yQ=t=>dd(t,ud.ON_CHANGE_CLIENT_STATE)||(()=>{}),b_=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),vQ=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let a=0;a<i.length;a+=1){const o=i[a].toLowerCase();if(t.indexOf(o)!==-1&&r[o])return n.concat(r)}}return n},[]),xQ=t=>console&&typeof console.warn=="function"&&console.warn(t),hh=(t,e,n)=>{const r={};return n.filter(i=>Array.isArray(i[t])?!0:(typeof i[t]<"u"&&xQ(`Helmet: ${t} should be of type "Array". Instead found type "${typeof i[t]}"`),!1)).map(i=>i[t]).reverse().reduce((i,a)=>{const s={};a.filter(l=>{let c;const d=Object.keys(l);for(let h=0;h<d.length;h+=1){const p=d[h],m=p.toLowerCase();e.indexOf(m)!==-1&&!(c==="rel"&&l[c].toLowerCase()==="canonical")&&!(m==="rel"&&l[m].toLowerCase()==="stylesheet")&&(c=m),e.indexOf(p)!==-1&&(p==="innerHTML"||p==="cssText"||p==="itemprop")&&(c=p)}if(!c||!l[c])return!1;const f=l[c].toLowerCase();return r[c]||(r[c]={}),s[c]||(s[c]={}),r[c][f]?!1:(s[c][f]=!0,!0)}).reverse().forEach(l=>i.push(l));const o=Object.keys(s);for(let l=0;l<o.length;l+=1){const c=o[l],d={...r[c],...s[c]};r[c]=d}return i},[]).reverse()},bQ=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},wQ=t=>({baseTag:vQ(["href"],t),bodyAttributes:b_("bodyAttributes",t),defer:dd(t,ud.DEFER),encode:dd(t,ud.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:b_("htmlAttributes",t),linkTags:hh("link",["rel","href"],t),metaTags:hh("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:hh("noscript",["innerHTML"],t),onChangeClientState:yQ(t),scriptTags:hh("script",["src","innerHTML"],t),styleTags:hh("style",["cssText"],t),title:gQ(t),titleAttributes:b_("titleAttributes",t),prioritizeSeoTags:bQ(t,ud.PRIORITIZE_SEO_TAGS)}),XF=t=>Array.isArray(t)?t.join(""):t,_Q=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},w_=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(_Q(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},xI=(t,e)=>({...t,[e]:void 0}),SQ=["noscript","script","style"],iE=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),ZF=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),EQ=(t,e,n,r)=>{const i=ZF(n),a=XF(e);return i?`<${t} ${ia}="true" ${i}>${iE(a,r)}</${t}>`:`<${t} ${ia}="true">${iE(a,r)}</${t}>`},jQ=(t,e,n=!0)=>e.reduce((r,i)=>{const a=i,s=Object.keys(a).filter(c=>!(c==="innerHTML"||c==="cssText")).reduce((c,d)=>{const f=typeof a[d]>"u"?d:`${d}="${iE(a[d],n)}"`;return c?`${c} ${f}`:f},""),o=a.innerHTML||a.cssText||"",l=SQ.indexOf(t)===-1;return`${r}<${t} ${ia}="true" ${s}${l?"/>":`>${o}</${t}>`}`},""),JF=(t,e={})=>Object.keys(t).reduce((n,r)=>{const i=yT[r];return n[i||r]=t[r],n},e),AQ=(t,e,n)=>{const r={key:e,[ia]:!0},i=JF(n,r);return[M.createElement("title",i,e)]},av=(t,e)=>e.map((n,r)=>{const i={key:r,[ia]:!0};return Object.keys(n).forEach(a=>{const o=yT[a]||a;if(o==="innerHTML"||o==="cssText"){const l=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:l}}else i[o]=n[a]}),M.createElement(t,i)}),vi=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>AQ(t,e.title,e.titleAttributes),toString:()=>EQ(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>JF(e),toString:()=>ZF(e)};default:return{toComponent:()=>av(t,e),toString:()=>jQ(t,e,n)}}},kQ=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const i=w_(t,x_.meta),a=w_(e,x_.link),s=w_(n,x_.script);return{priorityMethods:{toComponent:()=>[...av("meta",i.priority),...av("link",a.priority),...av("script",s.priority)],toString:()=>`${vi("meta",i.priority,r)} ${vi("link",a.priority,r)} ${vi("script",s.priority,r)}`},metaTags:i.default,linkTags:a.default,scriptTags:s.default}},TQ=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:a,styleTags:s,title:o="",titleAttributes:l,prioritizeSeoTags:c}=t;let{linkTags:d,metaTags:f,scriptTags:h}=t,p={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:p,linkTags:d,metaTags:f,scriptTags:h}=kQ(t)),{priority:p,base:vi("base",e,r),bodyAttributes:vi("bodyAttributes",n,r),htmlAttributes:vi("htmlAttributes",i,r),link:vi("link",d,r),meta:vi("meta",f,r),noscript:vi("noscript",a,r),script:vi("script",h,r),style:vi("style",s,r),title:vi("title",{title:o,titleAttributes:l},r)}},aE=TQ,ty=[],QF=!!(typeof window<"u"&&window.document&&window.document.createElement),sE=class{constructor(t,e){H(this,"instances",[]);H(this,"canUseDOM",QF);H(this,"context");H(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?ty:this.instances,add:t=>{(this.canUseDOM?ty:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?ty:this.instances).indexOf(t);(this.canUseDOM?ty:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=aE({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},CQ={},eB=M.createContext(CQ),wc,tB=(wc=class extends S.Component{constructor(n){super(n);H(this,"helmetData");this.helmetData=new sE(this.props.context||{},wc.canUseDOM)}render(){return M.createElement(eB.Provider,{value:this.helmetData.value},this.props.children)}},H(wc,"canUseDOM",QF),wc),pu=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${ia}]`),i=[].slice.call(r),a=[];let s;return e&&e.length&&e.forEach(o=>{const l=document.createElement(t);for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c))if(c==="innerHTML")l.innerHTML=o.innerHTML;else if(c==="cssText")l.styleSheet?l.styleSheet.cssText=o.cssText:l.appendChild(document.createTextNode(o.cssText));else{const d=c,f=typeof o[d]>"u"?"":o[d];l.setAttribute(c,f)}l.setAttribute(ia,"true"),i.some((c,d)=>(s=d,l.isEqualNode(c)))?i.splice(s,1):a.push(l)}),i.forEach(o=>{var l;return(l=o.parentNode)==null?void 0:l.removeChild(o)}),a.forEach(o=>n.appendChild(o)),{oldTags:i,newTags:a}},oE=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(ia),i=r?r.split(","):[],a=[...i],s=Object.keys(e);for(const o of s){const l=e[o]||"";n.getAttribute(o)!==l&&n.setAttribute(o,l),i.indexOf(o)===-1&&i.push(o);const c=a.indexOf(o);c!==-1&&a.splice(c,1)}for(let o=a.length-1;o>=0;o-=1)n.removeAttribute(a[o]);i.length===a.length?n.removeAttribute(ia):n.getAttribute(ia)!==s.join(",")&&n.setAttribute(ia,s.join(","))},OQ=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=XF(t)),oE("title",e)},bI=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:a,metaTags:s,noscriptTags:o,onChangeClientState:l,scriptTags:c,styleTags:d,title:f,titleAttributes:h}=t;oE("body",r),oE("html",i),OQ(f,h);const p={baseTag:pu("base",n),linkTags:pu("link",a),metaTags:pu("meta",s),noscriptTags:pu("noscript",o),scriptTags:pu("script",c),styleTags:pu("style",d)},m={},g={};Object.keys(p).forEach(x=>{const{newTags:v,oldTags:b}=p[x];v.length&&(m[x]=v),b.length&&(g[x]=p[x].oldTags)}),e&&e(),l(t,m,g)},ph=null,NQ=t=>{ph&&cancelAnimationFrame(ph),t.defer?ph=requestAnimationFrame(()=>{bI(t,()=>{ph=null})}):(bI(t),ph=null)},PQ=NQ,wI=class extends S.Component{constructor(){super(...arguments);H(this,"rendered",!1)}shouldComponentUpdate(e){return!pQ(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const i=wQ(e.get().map(a=>{const s={...a.props};return delete s.context,s}));tB.canUseDOM?PQ(i):aE&&(r=aE(i)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},sS,IQ=(sS=class extends S.Component{shouldComponentUpdate(t){return!uQ(xI(this.props,"helmetData"),xI(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return yI(vI.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${vI.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),yI(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return M.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:i,...a}=r.props,s=Object.keys(a).reduce((l,c)=>(l[mQ[c]||c]=a[c],l),{});let{type:o}=r;switch(typeof o=="symbol"?o=o.toString():this.warnOnInvalidChildren(r,i),o){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,s,i);break;default:e=this.mapObjectTypeChildren(r,e,s,i);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof sE)){const i=r;r=new sE(i.context,!0),delete n.helmetData}return r?M.createElement(wI,{...n,context:r.value}):M.createElement(eB.Consumer,null,i=>M.createElement(wI,{...n,context:i}))}},H(sS,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),sS);const $Q=1,RQ=1e6;let __=0;function MQ(){return __=(__+1)%Number.MAX_SAFE_INTEGER,__.toString()}const S_=new Map,_I=t=>{if(S_.has(t))return;const e=setTimeout(()=>{S_.delete(t),np({type:"REMOVE_TOAST",toastId:t})},RQ);S_.set(t,e)},DQ=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,$Q)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?_I(n):t.toasts.forEach(r=>{_I(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},sv=[];let ov={toasts:[]};function np(t){ov=DQ(ov,t),sv.forEach(e=>{e(ov)})}function LQ({...t}){const e=MQ(),n=i=>np({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>np({type:"DISMISS_TOAST",toastId:e});return np({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Ht(){const[t,e]=S.useState(ov);return S.useEffect(()=>(sv.push(e),()=>{const n=sv.indexOf(e);n>-1&&sv.splice(n,1)}),[t]),{...t,toast:LQ,dismiss:n=>np({type:"DISMISS_TOAST",toastId:n})}}function pe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function FQ(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Kx(...t){return e=>t.forEach(n=>FQ(n,e))}function rt(...t){return S.useCallback(Kx(...t),t)}function BQ(t,e=[]){let n=[];function r(a,s){const o=S.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||o,x=S.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:x,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||o,m=S.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,d]}const i=()=>{const a=n.map(s=>S.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,zQ(i,...e)]}function zQ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var fl=S.forwardRef((t,e)=>{const{children:n,...r}=t,i=S.Children.toArray(n),a=i.find(UQ);if(a){const s=a.props.children,o=i.map(l=>l===a?S.Children.count(s)>1?S.Children.only(null):S.isValidElement(s)?s.props.children:null:l);return u.jsx(lE,{...r,ref:e,children:S.isValidElement(s)?S.cloneElement(s,void 0,o):null})}return u.jsx(lE,{...r,ref:e,children:n})});fl.displayName="Slot";var lE=S.forwardRef((t,e)=>{const{children:n,...r}=t;if(S.isValidElement(n)){const i=VQ(n);return S.cloneElement(n,{...HQ(r,n.props),ref:e?Kx(e,i):i})}return S.Children.count(n)>1?S.Children.only(null):null});lE.displayName="SlotClone";var nB=({children:t})=>u.jsx(u.Fragment,{children:t});function UQ(t){return S.isValidElement(t)&&t.type===nB}function HQ(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...o)=>{a(...o),i(...o)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function VQ(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Yx(t){const e=t+"CollectionProvider",[n,r]=BQ(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=p=>{const{scope:m,children:g}=p,x=M.useRef(null),v=M.useRef(new Map).current;return u.jsx(i,{scope:m,itemMap:v,collectionRef:x,children:g})};s.displayName=e;const o=t+"CollectionSlot",l=M.forwardRef((p,m)=>{const{scope:g,children:x}=p,v=a(o,g),b=rt(m,v.collectionRef);return u.jsx(fl,{ref:b,children:x})});l.displayName=o;const c=t+"CollectionItemSlot",d="data-radix-collection-item",f=M.forwardRef((p,m)=>{const{scope:g,children:x,...v}=p,b=M.useRef(null),y=rt(m,b),w=a(c,g);return M.useEffect(()=>(w.itemMap.set(b,{ref:b,...v}),()=>void w.itemMap.delete(b))),u.jsx(fl,{[d]:"",ref:y,children:x})});f.displayName=c;function h(p){const m=a(t+"CollectionConsumer",p);return M.useCallback(()=>{const x=m.collectionRef.current;if(!x)return[];const v=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(m.itemMap.values()).sort((w,_)=>v.indexOf(w.ref.current)-v.indexOf(_.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:s,Slot:l,ItemSlot:f},h,r]}function WQ(t,e){const n=S.createContext(e),r=a=>{const{children:s,...o}=a,l=S.useMemo(()=>o,Object.values(o));return u.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function i(a){const s=S.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function Sa(t,e=[]){let n=[];function r(a,s){const o=S.createContext(s),l=n.length;n=[...n,s];const c=f=>{var v;const{scope:h,children:p,...m}=f,g=((v=h==null?void 0:h[t])==null?void 0:v[l])||o,x=S.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:x,children:p})};c.displayName=a+"Provider";function d(f,h){var g;const p=((g=h==null?void 0:h[t])==null?void 0:g[l])||o,m=S.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[c,d]}const i=()=>{const a=n.map(s=>S.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,qQ(i,...e)]}function qQ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var GQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Pe=GQ.reduce((t,e)=>{const n=S.forwardRef((r,i)=>{const{asChild:a,...s}=r,o=a?fl:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(o,{...s,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function vT(t,e){t&&Qc.flushSync(()=>t.dispatchEvent(e))}function qt(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function KQ(t,e=globalThis==null?void 0:globalThis.document){const n=qt(t);S.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var YQ="DismissableLayer",cE="dismissableLayer.update",XQ="dismissableLayer.pointerDownOutside",ZQ="dismissableLayer.focusOutside",SI,rB=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Of=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:o,...l}=t,c=S.useContext(rB),[d,f]=S.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=S.useState({}),m=rt(e,A=>f(A)),g=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(x),b=d?g.indexOf(d):-1,y=c.layersWithOutsidePointerEventsDisabled.size>0,w=b>=v,_=QQ(A=>{const j=A.target,k=[...c.branches].some(C=>C.contains(j));!w||k||(i==null||i(A),s==null||s(A),A.defaultPrevented||o==null||o())},h),E=eee(A=>{const j=A.target;[...c.branches].some(C=>C.contains(j))||(a==null||a(A),s==null||s(A),A.defaultPrevented||o==null||o())},h);return KQ(A=>{b===c.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&o&&(A.preventDefault(),o()))},h),S.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(SI=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),EI(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=SI)}},[d,h,n,c]),S.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),EI())},[d,c]),S.useEffect(()=>{const A=()=>p({});return document.addEventListener(cE,A),()=>document.removeEventListener(cE,A)},[]),u.jsx(Pe.div,{...l,ref:m,style:{pointerEvents:y?w?"auto":"none":void 0,...t.style},onFocusCapture:pe(t.onFocusCapture,E.onFocusCapture),onBlurCapture:pe(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:pe(t.onPointerDownCapture,_.onPointerDownCapture)})});Of.displayName=YQ;var JQ="DismissableLayerBranch",iB=S.forwardRef((t,e)=>{const n=S.useContext(rB),r=S.useRef(null),i=rt(e,r);return S.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),u.jsx(Pe.div,{...t,ref:i})});iB.displayName=JQ;function QQ(t,e=globalThis==null?void 0:globalThis.document){const n=qt(t),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const a=o=>{if(o.target&&!r.current){let l=function(){aB(XQ,n,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function eee(t,e=globalThis==null?void 0:globalThis.document){const n=qt(t),r=S.useRef(!1);return S.useEffect(()=>{const i=a=>{a.target&&!r.current&&aB(ZQ,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function EI(){const t=new CustomEvent(cE);document.dispatchEvent(t)}function aB(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?vT(i,a):i.dispatchEvent(a)}var tee=Of,nee=iB,An=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},ree="Portal",Jm=S.forwardRef((t,e)=>{var o;const{container:n,...r}=t,[i,a]=S.useState(!1);An(()=>a(!0),[]);const s=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return s?NF.createPortal(u.jsx(Pe.div,{...r,ref:e}),s):null});Jm.displayName=ree;function iee(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var Qn=t=>{const{present:e,children:n}=t,r=aee(e),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),a=rt(r.ref,see(i));return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:a}):null};Qn.displayName="Presence";function aee(t){const[e,n]=S.useState(),r=S.useRef({}),i=S.useRef(t),a=S.useRef("none"),s=t?"mounted":"unmounted",[o,l]=iee(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const c=ny(r.current);a.current=o==="mounted"?c:"none"},[o]),An(()=>{const c=r.current,d=i.current;if(d!==t){const h=a.current,p=ny(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),An(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=p=>{const g=ny(r.current).includes(p.animationName);if(p.target===e&&g&&(l("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},h=p=>{p.target===e&&(a.current=ny(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:S.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function ny(t){return(t==null?void 0:t.animationName)||"none"}function see(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ls({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=oee({defaultProp:e,onChange:n}),a=t!==void 0,s=a?t:r,o=qt(n),l=S.useCallback(c=>{if(a){const f=typeof c=="function"?c(t):c;f!==t&&o(f)}else i(c)},[a,t,i,o]);return[s,l]}function oee({defaultProp:t,onChange:e}){const n=S.useState(t),[r]=n,i=S.useRef(r),a=qt(e);return S.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}var lee="VisuallyHidden",Qm=S.forwardRef((t,e)=>u.jsx(Pe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Qm.displayName=lee;var cee=Qm,xT="ToastProvider",[bT,uee,dee]=Yx("Toast"),[sB,hWe]=Sa("Toast",[dee]),[fee,Xx]=sB(xT),oB=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:s}=t,[o,l]=S.useState(null),[c,d]=S.useState(0),f=S.useRef(!1),h=S.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${xT}\`. Expected non-empty \`string\`.`),u.jsx(bT.Provider,{scope:e,children:u.jsx(fee,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:c,viewport:o,onViewportChange:l,onToastAdd:S.useCallback(()=>d(p=>p+1),[]),onToastRemove:S.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};oB.displayName=xT;var lB="ToastViewport",hee=["F8"],uE="toast.viewportPause",dE="toast.viewportResume",cB=S.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=hee,label:i="Notifications ({hotkey})",...a}=t,s=Xx(lB,n),o=uee(n),l=S.useRef(null),c=S.useRef(null),d=S.useRef(null),f=S.useRef(null),h=rt(e,f,s.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=s.toastCount>0;S.useEffect(()=>{const x=v=>{var y;r.length!==0&&r.every(w=>v[w]||v.code===w)&&((y=f.current)==null||y.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),S.useEffect(()=>{const x=l.current,v=f.current;if(m&&x&&v){const b=()=>{if(!s.isClosePausedRef.current){const E=new CustomEvent(uE);v.dispatchEvent(E),s.isClosePausedRef.current=!0}},y=()=>{if(s.isClosePausedRef.current){const E=new CustomEvent(dE);v.dispatchEvent(E),s.isClosePausedRef.current=!1}},w=E=>{!x.contains(E.relatedTarget)&&y()},_=()=>{x.contains(document.activeElement)||y()};return x.addEventListener("focusin",b),x.addEventListener("focusout",w),x.addEventListener("pointermove",b),x.addEventListener("pointerleave",_),window.addEventListener("blur",b),window.addEventListener("focus",y),()=>{x.removeEventListener("focusin",b),x.removeEventListener("focusout",w),x.removeEventListener("pointermove",b),x.removeEventListener("pointerleave",_),window.removeEventListener("blur",b),window.removeEventListener("focus",y)}}},[m,s.isClosePausedRef]);const g=S.useCallback(({tabbingDirection:x})=>{const b=o().map(y=>{const w=y.ref.current,_=[w,...Aee(w)];return x==="forwards"?_:_.reverse()});return(x==="forwards"?b.reverse():b).flat()},[o]);return S.useEffect(()=>{const x=f.current;if(x){const v=b=>{var _,E,A;const y=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!y){const j=document.activeElement,k=b.shiftKey;if(b.target===x&&k){(_=c.current)==null||_.focus();return}const O=g({tabbingDirection:k?"backwards":"forwards"}),L=O.findIndex(R=>R===j);E_(O.slice(L+1))?b.preventDefault():k?(E=c.current)==null||E.focus():(A=d.current)==null||A.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[o,g]),u.jsxs(nee,{ref:l,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&u.jsx(fE,{ref:c,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});E_(x)}}),u.jsx(bT.Slot,{scope:n,children:u.jsx(Pe.ol,{tabIndex:-1,...a,ref:h})}),m&&u.jsx(fE,{ref:d,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});E_(x)}})]})});cB.displayName=lB;var uB="ToastFocusProxy",fE=S.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,a=Xx(uB,n);return u.jsx(Qm,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var c;const o=s.relatedTarget;!((c=a.viewport)!=null&&c.contains(o))&&r()}})});fE.displayName=uB;var Zx="Toast",pee="toast.swipeStart",mee="toast.swipeMove",gee="toast.swipeCancel",yee="toast.swipeEnd",dB=S.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...s}=t,[o=!0,l]=ls({prop:r,defaultProp:i,onChange:a});return u.jsx(Qn,{present:n||o,children:u.jsx(bee,{open:o,...s,ref:e,onClose:()=>l(!1),onPause:qt(t.onPause),onResume:qt(t.onResume),onSwipeStart:pe(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pe(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:pe(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pe(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});dB.displayName=Zx;var[vee,xee]=sB(Zx,{onClose(){}}),bee=S.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:s,onEscapeKeyDown:o,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...m}=t,g=Xx(Zx,n),[x,v]=S.useState(null),b=rt(e,R=>v(R)),y=S.useRef(null),w=S.useRef(null),_=i||g.duration,E=S.useRef(0),A=S.useRef(_),j=S.useRef(0),{onToastAdd:k,onToastRemove:C}=g,T=qt(()=>{var F;(x==null?void 0:x.contains(document.activeElement))&&((F=g.viewport)==null||F.focus()),s()}),O=S.useCallback(R=>{!R||R===1/0||(window.clearTimeout(j.current),E.current=new Date().getTime(),j.current=window.setTimeout(T,R))},[T]);S.useEffect(()=>{const R=g.viewport;if(R){const F=()=>{O(A.current),c==null||c()},U=()=>{const V=new Date().getTime()-E.current;A.current=A.current-V,window.clearTimeout(j.current),l==null||l()};return R.addEventListener(uE,U),R.addEventListener(dE,F),()=>{R.removeEventListener(uE,U),R.removeEventListener(dE,F)}}},[g.viewport,_,l,c,O]),S.useEffect(()=>{a&&!g.isClosePausedRef.current&&O(_)},[a,_,g.isClosePausedRef,O]),S.useEffect(()=>(k(),()=>C()),[k,C]);const L=S.useMemo(()=>x?vB(x):null,[x]);return g.viewport?u.jsxs(u.Fragment,{children:[L&&u.jsx(wee,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),u.jsx(vee,{scope:n,onClose:T,children:Qc.createPortal(u.jsx(bT.ItemSlot,{scope:n,children:u.jsx(tee,{asChild:!0,onEscapeKeyDown:pe(o,()=>{g.isFocusedToastEscapeKeyDownRef.current||T(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Pe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...m,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:pe(t.onKeyDown,R=>{R.key==="Escape"&&(o==null||o(R.nativeEvent),R.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:pe(t.onPointerDown,R=>{R.button===0&&(y.current={x:R.clientX,y:R.clientY})}),onPointerMove:pe(t.onPointerMove,R=>{if(!y.current)return;const F=R.clientX-y.current.x,U=R.clientY-y.current.y,V=!!w.current,D=["left","right"].includes(g.swipeDirection),B=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,P=D?B(0,F):0,W=D?0:B(0,U),G=R.pointerType==="touch"?10:2,$={x:P,y:W},ee={originalEvent:R,delta:$};V?(w.current=$,ry(mee,f,ee,{discrete:!1})):jI($,g.swipeDirection,G)?(w.current=$,ry(pee,d,ee,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(F)>G||Math.abs(U)>G)&&(y.current=null)}),onPointerUp:pe(t.onPointerUp,R=>{const F=w.current,U=R.target;if(U.hasPointerCapture(R.pointerId)&&U.releasePointerCapture(R.pointerId),w.current=null,y.current=null,F){const V=R.currentTarget,D={originalEvent:R,delta:F};jI(F,g.swipeDirection,g.swipeThreshold)?ry(yee,p,D,{discrete:!0}):ry(gee,h,D,{discrete:!0}),V.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),wee=t=>{const{__scopeToast:e,children:n,...r}=t,i=Xx(Zx,e),[a,s]=S.useState(!1),[o,l]=S.useState(!1);return Eee(()=>s(!0)),S.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),o?null:u.jsx(Jm,{asChild:!0,children:u.jsx(Qm,{...r,children:a&&u.jsxs(u.Fragment,{children:[i.label," ",n]})})})},_ee="ToastTitle",fB=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Pe.div,{...r,ref:e})});fB.displayName=_ee;var See="ToastDescription",hB=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Pe.div,{...r,ref:e})});hB.displayName=See;var pB="ToastAction",mB=S.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(yB,{altText:n,asChild:!0,children:u.jsx(wT,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${pB}\`. Expected non-empty \`string\`.`),null)});mB.displayName=pB;var gB="ToastClose",wT=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=xee(gB,n);return u.jsx(yB,{asChild:!0,children:u.jsx(Pe.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,i.onClose)})})});wT.displayName=gB;var yB=S.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return u.jsx(Pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function vB(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),jee(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const s=r.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...vB(r))}}),e}function ry(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?vT(i,a):i.dispatchEvent(a)}var jI=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),a=r>i;return e==="left"||e==="right"?a&&r>n:!a&&i>n};function Eee(t=()=>{}){const e=qt(t);An(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function jee(t){return t.nodeType===t.ELEMENT_NODE}function Aee(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function E_(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var kee=oB,xB=cB,bB=dB,wB=fB,_B=hB,SB=mB,EB=wT;function jB(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=jB(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ke(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=jB(t))&&(r&&(r+=" "),r+=e);return r}const AI=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,kI=Ke,eg=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return kI(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=e,s=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],f=a==null?void 0:a[c];if(d===null)return null;const h=AI(d)||AI(f);return i[c][h]}),o=n&&Object.entries(n).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(m=>{let[g,x]=m;return Array.isArray(x)?x.includes({...a,...o}[g]):{...a,...o}[g]===x})?[...c,f,h]:c},[]);return kI(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tee=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AB=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oee=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>S.createElement("svg",{ref:l,...Cee,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:AB("lucide",i),...o},[...s.map(([c,d])=>S.createElement(c,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(t,e)=>{const n=S.forwardRef(({className:r,...i},a)=>S.createElement(Oee,{ref:a,iconNode:e,className:AB(`lucide-${Tee(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=Ce("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=Ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nee=Ce("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=Ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=Ce("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=Ce("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pee=Ce("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=Ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=Ce("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=Ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=Ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iee=Ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ee=Ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=Ce("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=Ce("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=Ce("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ree=Ce("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=Ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mee=Ce("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=Ce("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=Ce("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=Ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dee=Ce("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lee=Ce("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fee=Ce("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bee=Ce("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=Ce("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zee=Ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=Ce("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uee=Ce("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=Ce("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=Ce("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=Ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=Ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=Ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hee=Ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=Ce("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=Ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=Ce("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=Ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Ce("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=Ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=Ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vee=Ce("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wee=Ce("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qee=Ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=Ce("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=Ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=Ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gee=Ce("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=Ce("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kee=Ce("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=Ce("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=Ce("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=Ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=Ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=Ce("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=Ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=Ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=Ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=Ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=Ce("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),TT="-",Yee=t=>{const e=Zee(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const o=s.split(TT);return o[0]===""&&o.length!==1&&o.shift(),PB(o,e)||Xee(s)},getConflictingClassGroupIds:(s,o)=>{const l=n[s]||[];return o&&r[s]?[...l,...r[s]]:l}}},PB=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?PB(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(TT);return(s=e.validators.find(({validator:o})=>o(a)))==null?void 0:s.classGroupId},PI=/^\[(.+)\]$/,Xee=t=>{if(PI.test(t)){const e=PI.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Zee=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Qee(Object.entries(t.classGroups),n).forEach(([a,s])=>{mE(s,r,a,e)}),r},mE=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:II(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(Jee(i)){mE(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,s])=>{mE(s,II(e,a),n,r)})})},II=(t,e)=>{let n=t;return e.split(TT).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Jee=t=>t.isThemeGetter,Qee=(t,e)=>e?t.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([s,o])=>[e+s,o])):a);return[n,i]}):t,ete=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,s)=>{n.set(a,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let s=n.get(a);if(s!==void 0)return s;if((s=r.get(a))!==void 0)return i(a,s),s},set(a,s){n.has(a)?n.set(a,s):i(a,s)}}},IB="!",tte=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],a=e.length,s=o=>{const l=[];let c=0,d=0,f;for(let x=0;x<o.length;x++){let v=o[x];if(c===0){if(v===i&&(r||o.slice(x,x+a)===e)){l.push(o.slice(d,x)),d=x+a;continue}if(v==="/"){f=x;continue}}v==="["?c++:v==="]"&&c--}const h=l.length===0?o:o.substring(d),p=h.startsWith(IB),m=p?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}};return n?o=>n({className:o,parseClassName:s}):s},nte=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},rte=t=>({cache:ete(t.cacheSize),parseClassName:tte(t),...Yee(t)}),ite=/\s+/,ate=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],s=t.trim().split(ite);let o="";for(let l=s.length-1;l>=0;l-=1){const c=s[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(c);let m=!!p,g=r(m?h.substring(0,p):h);if(!g){if(!m){o=c+(o.length>0?" "+o:o);continue}if(g=r(h),!g){o=c+(o.length>0?" "+o:o);continue}m=!1}const x=nte(d).join(":"),v=f?x+IB:x,b=v+g;if(a.includes(b))continue;a.push(b);const y=i(g,m);for(let w=0;w<y.length;++w){const _=y[w];a.push(v+_)}o=c+(o.length>0?" "+o:o)}return o};function ste(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=$B(e))&&(r&&(r+=" "),r+=n);return r}const $B=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=$B(t[r]))&&(n&&(n+=" "),n+=e);return n};function ote(t,...e){let n,r,i,a=s;function s(l){const c=e.reduce((d,f)=>f(d),t());return n=rte(c),r=n.cache.get,i=n.cache.set,a=o,o(l)}function o(l){const c=r(l);if(c)return c;const d=ate(l,n);return i(l,d),d}return function(){return a(ste.apply(null,arguments))}}const Dt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},RB=/^\[(?:([a-z-]+):)?(.+)\]$/i,lte=/^\d+\/\d+$/,cte=new Set(["px","full","screen"]),ute=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dte=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fte=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,hte=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pte=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_s=t=>hd(t)||cte.has(t)||lte.test(t),vo=t=>Nf(t,"length",_te),hd=t=>!!t&&!Number.isNaN(Number(t)),j_=t=>Nf(t,"number",hd),mh=t=>!!t&&Number.isInteger(Number(t)),mte=t=>t.endsWith("%")&&hd(t.slice(0,-1)),Ze=t=>RB.test(t),xo=t=>ute.test(t),gte=new Set(["length","size","percentage"]),yte=t=>Nf(t,gte,MB),vte=t=>Nf(t,"position",MB),xte=new Set(["image","url"]),bte=t=>Nf(t,xte,Ete),wte=t=>Nf(t,"",Ste),gh=()=>!0,Nf=(t,e,n)=>{const r=RB.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},_te=t=>dte.test(t)&&!fte.test(t),MB=()=>!1,Ste=t=>hte.test(t),Ete=t=>pte.test(t),jte=()=>{const t=Dt("colors"),e=Dt("spacing"),n=Dt("blur"),r=Dt("brightness"),i=Dt("borderColor"),a=Dt("borderRadius"),s=Dt("borderSpacing"),o=Dt("borderWidth"),l=Dt("contrast"),c=Dt("grayscale"),d=Dt("hueRotate"),f=Dt("invert"),h=Dt("gap"),p=Dt("gradientColorStops"),m=Dt("gradientColorStopPositions"),g=Dt("inset"),x=Dt("margin"),v=Dt("opacity"),b=Dt("padding"),y=Dt("saturate"),w=Dt("scale"),_=Dt("sepia"),E=Dt("skew"),A=Dt("space"),j=Dt("translate"),k=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",Ze,e],O=()=>[Ze,e],L=()=>["",_s,vo],R=()=>["auto",hd,Ze],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Ze],P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[hd,Ze];return{cacheSize:500,separator:":",theme:{colors:[gh],spacing:[_s,vo],blur:["none","",xo,Ze],brightness:W(),borderColor:[t],borderRadius:["none","","full",xo,Ze],borderSpacing:O(),borderWidth:L(),contrast:W(),grayscale:B(),hueRotate:W(),invert:B(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[mte,vo],inset:T(),margin:T(),opacity:W(),padding:O(),saturate:W(),scale:W(),sepia:B(),skew:W(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ze]}],container:["container"],columns:[{columns:[xo]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),Ze]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",mh,Ze]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ze]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",mh,Ze]}],"grid-cols":[{"grid-cols":[gh]}],"col-start-end":[{col:["auto",{span:["full",mh,Ze]},Ze]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[gh]}],"row-start-end":[{row:["auto",{span:[mh,Ze]},Ze]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ze]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ze]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ze,e]}],"min-w":[{"min-w":[Ze,e,"min","max","fit"]}],"max-w":[{"max-w":[Ze,e,"none","full","min","max","fit","prose",{screen:[xo]},xo]}],h:[{h:[Ze,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ze,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ze,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ze,e,"auto","min","max","fit"]}],"font-size":[{text:["base",xo,vo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",j_]}],"font-family":[{font:[gh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ze]}],"line-clamp":[{"line-clamp":["none",hd,j_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_s,Ze]}],"list-image":[{"list-image":["none",Ze]}],"list-style-type":[{list:["none","disc","decimal",Ze]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_s,vo]}],"underline-offset":[{"underline-offset":["auto",_s,Ze]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),vte]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yte]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},bte]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:U()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[_s,Ze]}],"outline-w":[{outline:[_s,vo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[_s,vo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",xo,wte]}],"shadow-color":[{shadow:[gh]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",xo,Ze]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[y]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ze]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Ze]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ze]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[mh,Ze]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ze]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ze]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ze]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[_s,vo,j_]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ate=ote(jte);function we(...t){return Ate(Ke(t))}const kte=kee,DB=S.forwardRef(({className:t,...e},n)=>u.jsx(xB,{ref:n,className:we("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));DB.displayName=xB.displayName;const Tte=eg("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),LB=S.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(bB,{ref:r,className:we(Tte({variant:e}),t),...n}));LB.displayName=bB.displayName;const Cte=S.forwardRef(({className:t,...e},n)=>u.jsx(SB,{ref:n,className:we("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Cte.displayName=SB.displayName;const FB=S.forwardRef(({className:t,...e},n)=>u.jsx(EB,{ref:n,className:we("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(rg,{className:"h-4 w-4"})}));FB.displayName=EB.displayName;const BB=S.forwardRef(({className:t,...e},n)=>u.jsx(wB,{ref:n,className:we("text-sm font-semibold",t),...e}));BB.displayName=wB.displayName;const zB=S.forwardRef(({className:t,...e},n)=>u.jsx(_B,{ref:n,className:we("text-sm opacity-90",t),...e}));zB.displayName=_B.displayName;function Ote(){const{toasts:t}=Ht();return u.jsxs(kte,{children:[t.map(function({id:e,title:n,description:r,action:i,...a}){return u.jsxs(LB,{...a,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(BB,{children:n}),r&&u.jsx(zB,{children:r})]}),i,u.jsx(FB,{})]},e)}),u.jsx(DB,{})]})}var Nte=t=>{switch(t){case"success":return $te;case"info":return Mte;case"warning":return Rte;case"error":return Dte;default:return null}},Pte=Array(12).fill(0),Ite=({visible:t})=>M.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},M.createElement("div",{className:"sonner-spinner"},Pte.map((e,n)=>M.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),$te=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Rte=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Mte=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Dte=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Lte=()=>{let[t,e]=M.useState(document.hidden);return M.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},gE=1,Fte=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:gE++,a=this.toasts.find(o=>o.id===i),s=t.dismissible===void 0?!0:t.dismissible;return a?this.toasts=this.toasts.map(o=>o.id===i?(this.publish({...o,...t,id:i,title:n}),{...o,...t,id:i,dismissible:s,title:n}):o):this.addToast({title:n,...r,dismissible:s,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0;return r.then(async a=>{if(zte(a)&&!a.ok){i=!1;let s=typeof e.error=="function"?await e.error(`HTTP error! status: ${a.status}`):e.error,o=typeof e.description=="function"?await e.description(`HTTP error! status: ${a.status}`):e.description;this.create({id:n,type:"error",message:s,description:o})}else if(e.success!==void 0){i=!1;let s=typeof e.success=="function"?await e.success(a):e.success,o=typeof e.description=="function"?await e.description(a):e.description;this.create({id:n,type:"success",message:s,description:o})}}).catch(async a=>{if(e.error!==void 0){i=!1;let s=typeof e.error=="function"?await e.error(a):e.error,o=typeof e.description=="function"?await e.description(a):e.description;this.create({id:n,type:"error",message:s,description:o})}}).finally(()=>{var a;i&&(this.dismiss(n),n=void 0),(a=e.finally)==null||a.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||gE++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},qr=new Fte,Bte=(t,e)=>{let n=(e==null?void 0:e.id)||gE++;return qr.addToast({title:t,...e,id:n}),n},zte=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Ute=Bte,Hte=()=>qr.toasts,Wl=Object.assign(Ute,{success:qr.success,info:qr.info,warning:qr.warning,error:qr.error,custom:qr.custom,message:qr.message,promise:qr.promise,dismiss:qr.dismiss,loading:qr.loading},{getHistory:Hte});function Vte(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Vte(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function iy(t){return t.label!==void 0}var Wte=3,qte="32px",Gte=4e3,Kte=356,Yte=14,Xte=20,Zte=200;function Jte(...t){return t.filter(Boolean).join(" ")}var Qte=t=>{var e,n,r,i,a,s,o,l,c,d;let{invert:f,toast:h,unstyled:p,interacting:m,setHeights:g,visibleToasts:x,heights:v,index:b,toasts:y,expanded:w,removeToast:_,defaultRichColors:E,closeButton:A,style:j,cancelButtonStyle:k,actionButtonStyle:C,className:T="",descriptionClassName:O="",duration:L,position:R,gap:F,loadingIcon:U,expandByDefault:V,classNames:D,icons:B,closeButtonAriaLabel:P="Close toast",pauseWhenPageIsHidden:W,cn:G}=t,[$,ee]=M.useState(!1),[ie,I]=M.useState(!1),[N,K]=M.useState(!1),[z,Z]=M.useState(!1),[J,Y]=M.useState(0),[me,le]=M.useState(0),ve=M.useRef(null),oe=M.useRef(null),Be=b===0,ke=b+1<=x,Me=h.type,ae=h.dismissible!==!1,At=h.className||"",_e=h.descriptionClassName||"",ye=M.useMemo(()=>v.findIndex(Le=>Le.toastId===h.id)||0,[v,h.id]),be=M.useMemo(()=>{var Le;return(Le=h.closeButton)!=null?Le:A},[h.closeButton,A]),ge=M.useMemo(()=>h.duration||L||Gte,[h.duration,L]),q=M.useRef(0),X=M.useRef(0),re=M.useRef(0),Oe=M.useRef(null),[ct,Kt]=R.split("-"),on=M.useMemo(()=>v.reduce((Le,Mt,kt)=>kt>=ye?Le:Le+Mt.height,0),[v,ye]),Cn=Lte(),Oa=h.invert||f,ws=Me==="loading";X.current=M.useMemo(()=>ye*F+on,[ye,on]),M.useEffect(()=>{ee(!0)},[]),M.useLayoutEffect(()=>{if(!$)return;let Le=oe.current,Mt=Le.style.height;Le.style.height="auto";let kt=Le.getBoundingClientRect().height;Le.style.height=Mt,le(kt),g(Na=>Na.find(Pa=>Pa.toastId===h.id)?Na.map(Pa=>Pa.toastId===h.id?{...Pa,height:kt}:Pa):[{toastId:h.id,height:kt,position:h.position},...Na])},[$,h.title,h.description,g,h.id]);let en=M.useCallback(()=>{I(!0),Y(X.current),g(Le=>Le.filter(Mt=>Mt.toastId!==h.id)),setTimeout(()=>{_(h)},Zte)},[h,_,g,X]);M.useEffect(()=>{if(h.promise&&Me==="loading"||h.duration===1/0||h.type==="loading")return;let Le,Mt=ge;return w||m||W&&Cn?(()=>{if(re.current<q.current){let kt=new Date().getTime()-q.current;Mt=Mt-kt}re.current=new Date().getTime()})():Mt!==1/0&&(q.current=new Date().getTime(),Le=setTimeout(()=>{var kt;(kt=h.onAutoClose)==null||kt.call(h,h),en()},Mt)),()=>clearTimeout(Le)},[w,m,V,h,ge,en,h.promise,Me,W,Cn]),M.useEffect(()=>{let Le=oe.current;if(Le){let Mt=Le.getBoundingClientRect().height;return le(Mt),g(kt=>[{toastId:h.id,height:Mt,position:h.position},...kt]),()=>g(kt=>kt.filter(Na=>Na.toastId!==h.id))}},[g,h.id]),M.useEffect(()=>{h.delete&&en()},[en,h.delete]);function go(){return B!=null&&B.loading?M.createElement("div",{className:"sonner-loader","data-visible":Me==="loading"},B.loading):U?M.createElement("div",{className:"sonner-loader","data-visible":Me==="loading"},U):M.createElement(Ite,{visible:Me==="loading"})}return M.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:oe,className:G(T,At,D==null?void 0:D.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,D==null?void 0:D.default,D==null?void 0:D[Me],(n=h==null?void 0:h.classNames)==null?void 0:n[Me]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:E,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":$,"data-promise":!!h.promise,"data-removed":ie,"data-visible":ke,"data-y-position":ct,"data-x-position":Kt,"data-index":b,"data-front":Be,"data-swiping":N,"data-dismissible":ae,"data-type":Me,"data-invert":Oa,"data-swipe-out":z,"data-expanded":!!(w||V&&$),style:{"--index":b,"--toasts-before":b,"--z-index":y.length-b,"--offset":`${ie?J:X.current}px`,"--initial-height":V?"auto":`${me}px`,...j,...h.style},onPointerDown:Le=>{ws||!ae||(ve.current=new Date,Y(X.current),Le.target.setPointerCapture(Le.pointerId),Le.target.tagName!=="BUTTON"&&(K(!0),Oe.current={x:Le.clientX,y:Le.clientY}))},onPointerUp:()=>{var Le,Mt,kt,Na;if(z||!ae)return;Oe.current=null;let Pa=Number(((Le=oe.current)==null?void 0:Le.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Rg=new Date().getTime()-((Mt=ve.current)==null?void 0:Mt.getTime()),ZK=Math.abs(Pa)/Rg;if(Math.abs(Pa)>=Xte||ZK>.11){Y(X.current),(kt=h.onDismiss)==null||kt.call(h,h),en(),Z(!0);return}(Na=oe.current)==null||Na.style.setProperty("--swipe-amount","0px"),K(!1)},onPointerMove:Le=>{var Mt;if(!Oe.current||!ae)return;let kt=Le.clientY-Oe.current.y,Na=Le.clientX-Oe.current.x,Pa=(ct==="top"?Math.min:Math.max)(0,kt),Rg=Le.pointerType==="touch"?10:2;Math.abs(Pa)>Rg?(Mt=oe.current)==null||Mt.style.setProperty("--swipe-amount",`${kt}px`):Math.abs(Na)>Rg&&(Oe.current=null)}},be&&!h.jsx?M.createElement("button",{"aria-label":P,"data-disabled":ws,"data-close-button":!0,onClick:ws||!ae?()=>{}:()=>{var Le;en(),(Le=h.onDismiss)==null||Le.call(h,h)},className:G(D==null?void 0:D.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},M.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),M.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||M.isValidElement(h.title)?h.jsx||h.title:M.createElement(M.Fragment,null,Me||h.icon||h.promise?M.createElement("div",{"data-icon":"",className:G(D==null?void 0:D.icon,(a=h==null?void 0:h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||go():null,h.type!=="loading"?h.icon||(B==null?void 0:B[Me])||Nte(Me):null):null,M.createElement("div",{"data-content":"",className:G(D==null?void 0:D.content,(s=h==null?void 0:h.classNames)==null?void 0:s.content)},M.createElement("div",{"data-title":"",className:G(D==null?void 0:D.title,(o=h==null?void 0:h.classNames)==null?void 0:o.title)},h.title),h.description?M.createElement("div",{"data-description":"",className:G(O,_e,D==null?void 0:D.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),M.isValidElement(h.cancel)?h.cancel:h.cancel&&iy(h.cancel)?M.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||k,onClick:Le=>{var Mt,kt;iy(h.cancel)&&ae&&((kt=(Mt=h.cancel).onClick)==null||kt.call(Mt,Le),en())},className:G(D==null?void 0:D.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,M.isValidElement(h.action)?h.action:h.action&&iy(h.action)?M.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||C,onClick:Le=>{var Mt,kt;iy(h.action)&&(Le.defaultPrevented||((kt=(Mt=h.action).onClick)==null||kt.call(Mt,Le),en()))},className:G(D==null?void 0:D.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function $I(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var ene=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:a,className:s,offset:o,theme:l="light",richColors:c,duration:d,style:f,visibleToasts:h=Wte,toastOptions:p,dir:m=$I(),gap:g=Yte,loadingIcon:x,icons:v,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:y,cn:w=Jte}=t,[_,E]=M.useState([]),A=M.useMemo(()=>Array.from(new Set([n].concat(_.filter(W=>W.position).map(W=>W.position)))),[_,n]),[j,k]=M.useState([]),[C,T]=M.useState(!1),[O,L]=M.useState(!1),[R,F]=M.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=M.useRef(null),V=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=M.useRef(null),B=M.useRef(!1),P=M.useCallback(W=>{var G;(G=_.find($=>$.id===W.id))!=null&&G.delete||qr.dismiss(W.id),E($=>$.filter(({id:ee})=>ee!==W.id))},[_]);return M.useEffect(()=>qr.subscribe(W=>{if(W.dismiss){E(G=>G.map($=>$.id===W.id?{...$,delete:!0}:$));return}setTimeout(()=>{NF.flushSync(()=>{E(G=>{let $=G.findIndex(ee=>ee.id===W.id);return $!==-1?[...G.slice(0,$),{...G[$],...W},...G.slice($+1)]:[W,...G]})})})}),[]),M.useEffect(()=>{if(l!=="system"){F(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:W})=>{F(W?"dark":"light")})},[l]),M.useEffect(()=>{_.length<=1&&T(!1)},[_]),M.useEffect(()=>{let W=G=>{var $,ee;r.every(ie=>G[ie]||G.code===ie)&&(T(!0),($=U.current)==null||$.focus()),G.code==="Escape"&&(document.activeElement===U.current||(ee=U.current)!=null&&ee.contains(document.activeElement))&&T(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[r]),M.useEffect(()=>{if(U.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,B.current=!1)}},[U.current]),_.length?M.createElement("section",{"aria-label":`${b} ${V}`,tabIndex:-1},A.map((W,G)=>{var $;let[ee,ie]=W.split("-");return M.createElement("ol",{key:W,dir:m==="auto"?$I():m,tabIndex:-1,ref:U,className:s,"data-sonner-toaster":!0,"data-theme":R,"data-y-position":ee,"data-x-position":ie,style:{"--front-toast-height":`${(($=j[0])==null?void 0:$.height)||0}px`,"--offset":typeof o=="number"?`${o}px`:o||qte,"--width":`${Kte}px`,"--gap":`${g}px`,...f},onBlur:I=>{B.current&&!I.currentTarget.contains(I.relatedTarget)&&(B.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:I=>{I.target instanceof HTMLElement&&I.target.dataset.dismissible==="false"||B.current||(B.current=!0,D.current=I.relatedTarget)},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{O||T(!1)},onPointerDown:I=>{I.target instanceof HTMLElement&&I.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},_.filter(I=>!I.position&&G===0||I.position===W).map((I,N)=>{var K,z;return M.createElement(Qte,{key:I.id,icons:v,index:N,toast:I,defaultRichColors:c,duration:(K=p==null?void 0:p.duration)!=null?K:d,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:e,visibleToasts:h,closeButton:(z=p==null?void 0:p.closeButton)!=null?z:a,interacting:O,position:W,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:P,toasts:_.filter(Z=>Z.position==I.position),heights:j.filter(Z=>Z.position==I.position),setHeights:k,expandByDefault:i,gap:g,loadingIcon:x,expanded:C,pauseWhenPageIsHidden:y,cn:w})}))})):null};const tne=({...t})=>{const{theme:e="system"}=QJ();return u.jsx(ene,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var nne=T5.useId||(()=>{}),rne=0;function fa(t){const[e,n]=S.useState(nne());return An(()=>{n(r=>r??String(rne++))},[t]),e?`radix-${e}`:""}const ine=["top","right","bottom","left"],gl=Math.min,Yr=Math.max,Yv=Math.round,ay=Math.floor,yl=t=>({x:t,y:t}),ane={left:"right",right:"left",bottom:"top",top:"bottom"},sne={start:"end",end:"start"};function yE(t,e,n){return Yr(t,gl(e,n))}function Js(t,e){return typeof t=="function"?t(e):t}function Qs(t){return t.split("-")[0]}function Pf(t){return t.split("-")[1]}function CT(t){return t==="x"?"y":"x"}function OT(t){return t==="y"?"height":"width"}function vl(t){return["top","bottom"].includes(Qs(t))?"y":"x"}function NT(t){return CT(vl(t))}function one(t,e,n){n===void 0&&(n=!1);const r=Pf(t),i=NT(t),a=OT(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=Xv(s)),[s,Xv(s)]}function lne(t){const e=Xv(t);return[vE(t),e,vE(e)]}function vE(t){return t.replace(/start|end/g,e=>sne[e])}function cne(t,e,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?a:s;default:return[]}}function une(t,e,n,r){const i=Pf(t);let a=cne(Qs(t),n==="start",r);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(vE)))),a}function Xv(t){return t.replace(/left|right|bottom|top/g,e=>ane[e])}function dne(t){return{top:0,right:0,bottom:0,left:0,...t}}function UB(t){return typeof t!="number"?dne(t):{top:t,right:t,bottom:t,left:t}}function Zv(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function RI(t,e,n){let{reference:r,floating:i}=t;const a=vl(e),s=NT(e),o=OT(s),l=Qs(e),c=a==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let p;switch(l){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Pf(e)){case"start":p[s]-=h*(n&&c?-1:1);break;case"end":p[s]+=h*(n&&c?-1:1);break}return p}const fne=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=n,o=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=RI(c,r,l),h=r,p={},m=0;for(let g=0;g<o.length;g++){const{name:x,fn:v}=o[g],{x:b,y,data:w,reset:_}=await v({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:t,floating:e}});d=b??d,f=y??f,p={...p,[x]:{...p[x],...w}},_&&m<=50&&(m++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(c=_.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):_.rects),{x:d,y:f}=RI(c,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function Yp(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:s,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Js(e,t),m=UB(p),x=o[h?f==="floating"?"reference":"floating":f],v=Zv(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(x)))==null||n?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),b=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,y=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),w=await(a.isElement==null?void 0:a.isElement(y))?await(a.getScale==null?void 0:a.getScale(y))||{x:1,y:1}:{x:1,y:1},_=Zv(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:b,offsetParent:y,strategy:l}):b);return{top:(v.top-_.top+m.top)/w.y,bottom:(_.bottom-v.bottom+m.bottom)/w.y,left:(v.left-_.left+m.left)/w.x,right:(_.right-v.right+m.right)/w.x}}const hne=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:s,elements:o,middlewareData:l}=e,{element:c,padding:d=0}=Js(t,e)||{};if(c==null)return{};const f=UB(d),h={x:n,y:r},p=NT(i),m=OT(p),g=await s.getDimensions(c),x=p==="y",v=x?"top":"left",b=x?"bottom":"right",y=x?"clientHeight":"clientWidth",w=a.reference[m]+a.reference[p]-h[p]-a.floating[m],_=h[p]-a.reference[p],E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let A=E?E[y]:0;(!A||!await(s.isElement==null?void 0:s.isElement(E)))&&(A=o.floating[y]||a.floating[m]);const j=w/2-_/2,k=A/2-g[m]/2-1,C=gl(f[v],k),T=gl(f[b],k),O=C,L=A-g[m]-T,R=A/2-g[m]/2+j,F=yE(O,R,L),U=!l.arrow&&Pf(i)!=null&&R!==F&&a.reference[m]/2-(R<O?C:T)-g[m]/2<0,V=U?R<O?R-O:R-L:0;return{[p]:h[p]+V,data:{[p]:F,centerOffset:R-F-V,...U&&{alignmentOffset:V}},reset:U}}}),pne=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...x}=Js(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const v=Qs(i),b=vl(o),y=Qs(o)===o,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),_=h||(y||!g?[Xv(o)]:lne(o)),E=m!=="none";!h&&E&&_.push(...une(o,g,m,w));const A=[o,..._],j=await Yp(e,x),k=[];let C=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&k.push(j[v]),f){const R=one(i,s,w);k.push(j[R[0]],j[R[1]])}if(C=[...C,{placement:i,overflows:k}],!k.every(R=>R<=0)){var T,O;const R=(((T=a.flip)==null?void 0:T.index)||0)+1,F=A[R];if(F)return{data:{index:R,overflows:C},reset:{placement:F}};let U=(O=C.filter(V=>V.overflows[0]<=0).sort((V,D)=>V.overflows[1]-D.overflows[1])[0])==null?void 0:O.placement;if(!U)switch(p){case"bestFit":{var L;const V=(L=C.filter(D=>{if(E){const B=vl(D.placement);return B===b||B==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(B=>B>0).reduce((B,P)=>B+P,0)]).sort((D,B)=>D[1]-B[1])[0])==null?void 0:L[0];V&&(U=V);break}case"initialPlacement":U=o;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function MI(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function DI(t){return ine.some(e=>t[e]>=0)}const mne=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Js(t,e);switch(r){case"referenceHidden":{const a=await Yp(e,{...i,elementContext:"reference"}),s=MI(a,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:DI(s)}}}case"escaped":{const a=await Yp(e,{...i,altBoundary:!0}),s=MI(a,n.floating);return{data:{escapedOffsets:s,escaped:DI(s)}}}default:return{}}}}};async function gne(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Qs(n),o=Pf(n),l=vl(n)==="y",c=["left","top"].includes(s)?-1:1,d=a&&l?-1:1,f=Js(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof m=="number"&&(p=o==="end"?m*-1:m),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}const yne=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:s,middlewareData:o}=e,l=await gne(e,t);return s===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:s}}}}},vne=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:x=>{let{x:v,y:b}=x;return{x:v,y:b}}},...l}=Js(t,e),c={x:n,y:r},d=await Yp(e,l),f=vl(Qs(i)),h=CT(f);let p=c[h],m=c[f];if(a){const x=h==="y"?"top":"left",v=h==="y"?"bottom":"right",b=p+d[x],y=p-d[v];p=yE(b,p,y)}if(s){const x=f==="y"?"top":"left",v=f==="y"?"bottom":"right",b=m+d[x],y=m-d[v];m=yE(b,m,y)}const g=o.fn({...e,[h]:p,[f]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:a,[f]:s}}}}}},xne=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:s}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=Js(t,e),d={x:n,y:r},f=vl(i),h=CT(f);let p=d[h],m=d[f];const g=Js(o,e),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const y=h==="y"?"height":"width",w=a.reference[h]-a.floating[y]+x.mainAxis,_=a.reference[h]+a.reference[y]-x.mainAxis;p<w?p=w:p>_&&(p=_)}if(c){var v,b;const y=h==="y"?"width":"height",w=["top","left"].includes(Qs(i)),_=a.reference[f]-a.floating[y]+(w&&((v=s.offset)==null?void 0:v[f])||0)+(w?0:x.crossAxis),E=a.reference[f]+a.reference[y]+(w?0:((b=s.offset)==null?void 0:b[f])||0)-(w?x.crossAxis:0);m<_?m=_:m>E&&(m=E)}return{[h]:p,[f]:m}}}},bne=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:s,elements:o}=e,{apply:l=()=>{},...c}=Js(t,e),d=await Yp(e,c),f=Qs(i),h=Pf(i),p=vl(i)==="y",{width:m,height:g}=a.floating;let x,v;f==="top"||f==="bottom"?(x=f,v=h===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(v=f,x=h==="end"?"top":"bottom");const b=g-d.top-d.bottom,y=m-d.left-d.right,w=gl(g-d[x],b),_=gl(m-d[v],y),E=!e.middlewareData.shift;let A=w,j=_;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(j=y),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=b),E&&!h){const C=Yr(d.left,0),T=Yr(d.right,0),O=Yr(d.top,0),L=Yr(d.bottom,0);p?j=m-2*(C!==0||T!==0?C+T:Yr(d.left,d.right)):A=g-2*(O!==0||L!==0?O+L:Yr(d.top,d.bottom))}await l({...e,availableWidth:j,availableHeight:A});const k=await s.getDimensions(o.floating);return m!==k.width||g!==k.height?{reset:{rects:!0}}:{}}}};function Qx(){return typeof window<"u"}function If(t){return HB(t)?(t.nodeName||"").toLowerCase():"#document"}function ni(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function gs(t){var e;return(e=(HB(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function HB(t){return Qx()?t instanceof Node||t instanceof ni(t).Node:!1}function ya(t){return Qx()?t instanceof Element||t instanceof ni(t).Element:!1}function cs(t){return Qx()?t instanceof HTMLElement||t instanceof ni(t).HTMLElement:!1}function LI(t){return!Qx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ni(t).ShadowRoot}function ig(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=va(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function wne(t){return["table","td","th"].includes(If(t))}function eb(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function PT(t){const e=IT(),n=ya(t)?va(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function _ne(t){let e=xl(t);for(;cs(e)&&!Bd(e);){if(PT(e))return e;if(eb(e))return null;e=xl(e)}return null}function IT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Bd(t){return["html","body","#document"].includes(If(t))}function va(t){return ni(t).getComputedStyle(t)}function tb(t){return ya(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function xl(t){if(If(t)==="html")return t;const e=t.assignedSlot||t.parentNode||LI(t)&&t.host||gs(t);return LI(e)?e.host:e}function VB(t){const e=xl(t);return Bd(e)?t.ownerDocument?t.ownerDocument.body:t.body:cs(e)&&ig(e)?e:VB(e)}function Xp(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=VB(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),s=ni(i);if(a){const o=xE(s);return e.concat(s,s.visualViewport||[],ig(i)?i:[],o&&n?Xp(o):[])}return e.concat(i,Xp(i,[],n))}function xE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function WB(t){const e=va(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=cs(t),a=i?t.offsetWidth:n,s=i?t.offsetHeight:r,o=Yv(n)!==a||Yv(r)!==s;return o&&(n=a,r=s),{width:n,height:r,$:o}}function $T(t){return ya(t)?t:t.contextElement}function pd(t){const e=$T(t);if(!cs(e))return yl(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=WB(e);let s=(a?Yv(n.width):n.width)/r,o=(a?Yv(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const Sne=yl(0);function qB(t){const e=ni(t);return!IT()||!e.visualViewport?Sne:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ene(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ni(t)?!1:e}function Dc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=$T(t);let s=yl(1);e&&(r?ya(r)&&(s=pd(r)):s=pd(t));const o=Ene(a,n,r)?qB(a):yl(0);let l=(i.left+o.x)/s.x,c=(i.top+o.y)/s.y,d=i.width/s.x,f=i.height/s.y;if(a){const h=ni(a),p=r&&ya(r)?ni(r):r;let m=h,g=xE(m);for(;g&&r&&p!==m;){const x=pd(g),v=g.getBoundingClientRect(),b=va(g),y=v.left+(g.clientLeft+parseFloat(b.paddingLeft))*x.x,w=v.top+(g.clientTop+parseFloat(b.paddingTop))*x.y;l*=x.x,c*=x.y,d*=x.x,f*=x.y,l+=y,c+=w,m=ni(g),g=xE(m)}}return Zv({width:d,height:f,x:l,y:c})}function jne(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",s=gs(r),o=e?eb(e.floating):!1;if(r===s||o&&a)return n;let l={scrollLeft:0,scrollTop:0},c=yl(1);const d=yl(0),f=cs(r);if((f||!f&&!a)&&((If(r)!=="body"||ig(s))&&(l=tb(r)),cs(r))){const h=Dc(r);c=pd(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function Ane(t){return Array.from(t.getClientRects())}function bE(t,e){const n=tb(t).scrollLeft;return e?e.left+n:Dc(gs(t)).left+n}function kne(t){const e=gs(t),n=tb(t),r=t.ownerDocument.body,i=Yr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Yr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+bE(t);const o=-n.scrollTop;return va(r).direction==="rtl"&&(s+=Yr(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:o}}function Tne(t,e){const n=ni(t),r=gs(t),i=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const c=IT();(!c||c&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}function Cne(t,e){const n=Dc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=cs(t)?pd(t):yl(1),s=t.clientWidth*a.x,o=t.clientHeight*a.y,l=i*a.x,c=r*a.y;return{width:s,height:o,x:l,y:c}}function FI(t,e,n){let r;if(e==="viewport")r=Tne(t,n);else if(e==="document")r=kne(gs(t));else if(ya(e))r=Cne(e,n);else{const i=qB(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Zv(r)}function GB(t,e){const n=xl(t);return n===e||!ya(n)||Bd(n)?!1:va(n).position==="fixed"||GB(n,e)}function One(t,e){const n=e.get(t);if(n)return n;let r=Xp(t,[],!1).filter(o=>ya(o)&&If(o)!=="body"),i=null;const a=va(t).position==="fixed";let s=a?xl(t):t;for(;ya(s)&&!Bd(s);){const o=va(s),l=PT(s);!l&&o.position==="fixed"&&(i=null),(a?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ig(s)&&!l&&GB(t,s))?r=r.filter(d=>d!==s):i=o,s=xl(s)}return e.set(t,r),r}function Nne(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?eb(e)?[]:One(e,this._c):[].concat(n),r],o=s[0],l=s.reduce((c,d)=>{const f=FI(e,d,i);return c.top=Yr(f.top,c.top),c.right=gl(f.right,c.right),c.bottom=gl(f.bottom,c.bottom),c.left=Yr(f.left,c.left),c},FI(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Pne(t){const{width:e,height:n}=WB(t);return{width:e,height:n}}function Ine(t,e,n){const r=cs(e),i=gs(e),a=n==="fixed",s=Dc(t,!0,a,e);let o={scrollLeft:0,scrollTop:0};const l=yl(0);if(r||!r&&!a)if((If(e)!=="body"||ig(i))&&(o=tb(e)),r){const p=Dc(e,!0,a,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&(l.x=bE(i));let c=0,d=0;if(i&&!r&&!a){const p=i.getBoundingClientRect();d=p.top+o.scrollTop,c=p.left+o.scrollLeft-bE(i,p)}const f=s.left+o.scrollLeft-l.x-c,h=s.top+o.scrollTop-l.y-d;return{x:f,y:h,width:s.width,height:s.height}}function A_(t){return va(t).position==="static"}function BI(t,e){if(!cs(t)||va(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return gs(t)===n&&(n=n.ownerDocument.body),n}function KB(t,e){const n=ni(t);if(eb(t))return n;if(!cs(t)){let i=xl(t);for(;i&&!Bd(i);){if(ya(i)&&!A_(i))return i;i=xl(i)}return n}let r=BI(t,e);for(;r&&wne(r)&&A_(r);)r=BI(r,e);return r&&Bd(r)&&A_(r)&&!PT(r)?n:r||_ne(t)||n}const $ne=async function(t){const e=this.getOffsetParent||KB,n=this.getDimensions,r=await n(t.floating);return{reference:Ine(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Rne(t){return va(t).direction==="rtl"}const Mne={convertOffsetParentRelativeRectToViewportRelativeRect:jne,getDocumentElement:gs,getClippingRect:Nne,getOffsetParent:KB,getElementRects:$ne,getClientRects:Ane,getDimensions:Pne,getScale:pd,isElement:ya,isRTL:Rne};function Dne(t,e){let n=null,r;const i=gs(t);function a(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),a();const{left:c,top:d,width:f,height:h}=t.getBoundingClientRect();if(o||e(),!f||!h)return;const p=ay(d),m=ay(i.clientWidth-(c+f)),g=ay(i.clientHeight-(d+h)),x=ay(c),b={rootMargin:-p+"px "+-m+"px "+-g+"px "+-x+"px",threshold:Yr(0,gl(1,l))||1};let y=!0;function w(_){const E=_[0].intersectionRatio;if(E!==l){if(!y)return s();E?s(!1,E):r=setTimeout(()=>{s(!1,1e-7)},1e3)}y=!1}try{n=new IntersectionObserver(w,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(w,b)}n.observe(t)}return s(!0),a}function Lne(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=$T(t),d=i||a?[...c?Xp(c):[],...Xp(e)]:[];d.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),a&&v.addEventListener("resize",n)});const f=c&&o?Dne(c,n):null;let h=-1,p=null;s&&(p=new ResizeObserver(v=>{let[b]=v;b&&b.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let m,g=l?Dc(t):null;l&&x();function x(){const v=Dc(t);g&&(v.x!==g.x||v.y!==g.y||v.width!==g.width||v.height!==g.height)&&n(),g=v,m=requestAnimationFrame(x)}return n(),()=>{var v;d.forEach(b=>{i&&b.removeEventListener("scroll",n),a&&b.removeEventListener("resize",n)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const Fne=yne,Bne=vne,zne=pne,Une=bne,Hne=mne,zI=hne,Vne=xne,Wne=(t,e,n)=>{const r=new Map,i={platform:Mne,...n},a={...i.platform,_c:r};return fne(t,e,{...i,platform:a})};var lv=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Jv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Jv(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!Jv(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function YB(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function UI(t,e){const n=YB(t);return Math.round(e*n)/n}function k_(t){const e=S.useRef(t);return lv(()=>{e.current=t}),e}function qne(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:l,open:c}=t,[d,f]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=S.useState(r);Jv(h,r)||p(r);const[m,g]=S.useState(null),[x,v]=S.useState(null),b=S.useCallback(D=>{D!==E.current&&(E.current=D,g(D))},[]),y=S.useCallback(D=>{D!==A.current&&(A.current=D,v(D))},[]),w=a||m,_=s||x,E=S.useRef(null),A=S.useRef(null),j=S.useRef(d),k=l!=null,C=k_(l),T=k_(i),O=k_(c),L=S.useCallback(()=>{if(!E.current||!A.current)return;const D={placement:e,strategy:n,middleware:h};T.current&&(D.platform=T.current),Wne(E.current,A.current,D).then(B=>{const P={...B,isPositioned:O.current!==!1};R.current&&!Jv(j.current,P)&&(j.current=P,Qc.flushSync(()=>{f(P)}))})},[h,e,n,T,O]);lv(()=>{c===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[c]);const R=S.useRef(!1);lv(()=>(R.current=!0,()=>{R.current=!1}),[]),lv(()=>{if(w&&(E.current=w),_&&(A.current=_),w&&_){if(C.current)return C.current(w,_,L);L()}},[w,_,L,C,k]);const F=S.useMemo(()=>({reference:E,floating:A,setReference:b,setFloating:y}),[b,y]),U=S.useMemo(()=>({reference:w,floating:_}),[w,_]),V=S.useMemo(()=>{const D={position:n,left:0,top:0};if(!U.floating)return D;const B=UI(U.floating,d.x),P=UI(U.floating,d.y);return o?{...D,transform:"translate("+B+"px, "+P+"px)",...YB(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:P}},[n,o,U.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:L,refs:F,elements:U,floatingStyles:V}),[d,L,F,U,V])}const Gne=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?zI({element:r.current,padding:i}).fn(n):{}:r?zI({element:r,padding:i}).fn(n):{}}}},Kne=(t,e)=>({...Fne(t),options:[t,e]}),Yne=(t,e)=>({...Bne(t),options:[t,e]}),Xne=(t,e)=>({...Vne(t),options:[t,e]}),Zne=(t,e)=>({...zne(t),options:[t,e]}),Jne=(t,e)=>({...Une(t),options:[t,e]}),Qne=(t,e)=>({...Hne(t),options:[t,e]}),ere=(t,e)=>({...Gne(t),options:[t,e]});var tre="Arrow",XB=S.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return u.jsx(Pe.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});XB.displayName=tre;var nre=XB;function rre(t,e=[]){let n=[];function r(a,s){const o=S.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||o,x=S.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:x,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||o,m=S.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,d]}const i=()=>{const a=n.map(s=>S.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,ire(i,...e)]}function ire(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function RT(t){const[e,n]=S.useState(void 0);return An(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,o;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,o=c.blockSize}else s=t.offsetWidth,o=t.offsetHeight;n({width:s,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var MT="Popper",[ZB,$f]=rre(MT),[are,JB]=ZB(MT),QB=t=>{const{__scopePopper:e,children:n}=t,[r,i]=S.useState(null);return u.jsx(are,{scope:e,anchor:r,onAnchorChange:i,children:n})};QB.displayName=MT;var ez="PopperAnchor",tz=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=JB(ez,n),s=S.useRef(null),o=rt(e,s);return S.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:u.jsx(Pe.div,{...i,ref:o})});tz.displayName=ez;var DT="PopperContent",[sre,ore]=ZB(DT),nz=S.forwardRef((t,e)=>{var N,K,z,Z,J,Y;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:m,...g}=t,x=JB(DT,n),[v,b]=S.useState(null),y=rt(e,me=>b(me)),[w,_]=S.useState(null),E=RT(w),A=(E==null?void 0:E.width)??0,j=(E==null?void 0:E.height)??0,k=r+(a!=="center"?"-"+a:""),C=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},T=Array.isArray(c)?c:[c],O=T.length>0,L={padding:C,boundary:T.filter(cre),altBoundary:O},{refs:R,floatingStyles:F,placement:U,isPositioned:V,middlewareData:D}=qne({strategy:"fixed",placement:k,whileElementsMounted:(...me)=>Lne(...me,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[Kne({mainAxis:i+j,alignmentAxis:s}),l&&Yne({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Xne():void 0,...L}),l&&Zne({...L}),Jne({...L,apply:({elements:me,rects:le,availableWidth:ve,availableHeight:oe})=>{const{width:Be,height:ke}=le.reference,Me=me.floating.style;Me.setProperty("--radix-popper-available-width",`${ve}px`),Me.setProperty("--radix-popper-available-height",`${oe}px`),Me.setProperty("--radix-popper-anchor-width",`${Be}px`),Me.setProperty("--radix-popper-anchor-height",`${ke}px`)}}),w&&ere({element:w,padding:o}),ure({arrowWidth:A,arrowHeight:j}),h&&Qne({strategy:"referenceHidden",...L})]}),[B,P]=az(U),W=qt(m);An(()=>{V&&(W==null||W())},[V,W]);const G=(N=D.arrow)==null?void 0:N.x,$=(K=D.arrow)==null?void 0:K.y,ee=((z=D.arrow)==null?void 0:z.centerOffset)!==0,[ie,I]=S.useState();return An(()=>{v&&I(window.getComputedStyle(v).zIndex)},[v]),u.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:V?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(Z=D.transformOrigin)==null?void 0:Z.x,(J=D.transformOrigin)==null?void 0:J.y].join(" "),...((Y=D.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(sre,{scope:n,placedSide:B,onArrowChange:_,arrowX:G,arrowY:$,shouldHideArrow:ee,children:u.jsx(Pe.div,{"data-side":B,"data-align":P,...g,ref:y,style:{...g.style,animation:V?void 0:"none"}})})})});nz.displayName=DT;var rz="PopperArrow",lre={top:"bottom",right:"left",bottom:"top",left:"right"},iz=S.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=ore(rz,r),s=lre[a.placedSide];return u.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:u.jsx(nre,{...i,ref:n,style:{...i.style,display:"block"}})})});iz.displayName=rz;function cre(t){return t!==null}var ure=t=>({name:"transformOrigin",options:t,fn(e){var x,v,b;const{placement:n,rects:r,middlewareData:i}=e,s=((x=i.arrow)==null?void 0:x.centerOffset)!==0,o=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,d]=az(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((v=i.arrow)==null?void 0:v.x)??0)+o/2,p=(((b=i.arrow)==null?void 0:b.y)??0)+l/2;let m="",g="";return c==="bottom"?(m=s?f:`${h}px`,g=`${-l}px`):c==="top"?(m=s?f:`${h}px`,g=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,g=s?f:`${p}px`):c==="left"&&(m=`${r.floating.width+l}px`,g=s?f:`${p}px`),{data:{x:m,y:g}}}});function az(t){const[e,n="center"]=t.split("-");return[e,n]}var LT=QB,FT=tz,BT=nz,zT=iz,[nb,pWe]=Sa("Tooltip",[$f]),rb=$f(),sz="TooltipProvider",dre=700,wE="tooltip.open",[fre,UT]=nb(sz),oz=t=>{const{__scopeTooltip:e,delayDuration:n=dre,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=t,[s,o]=S.useState(!0),l=S.useRef(!1),c=S.useRef(0);return S.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),u.jsx(fre,{scope:e,isOpenDelayed:s,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(c.current),o(!1)},[]),onClose:S.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:S.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:a})};oz.displayName=sz;var ib="Tooltip",[hre,ab]=nb(ib),lz=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:s,delayDuration:o}=t,l=UT(ib,t.__scopeTooltip),c=rb(e),[d,f]=S.useState(null),h=fa(),p=S.useRef(0),m=s??l.disableHoverableContent,g=o??l.delayDuration,x=S.useRef(!1),[v=!1,b]=ls({prop:r,defaultProp:i,onChange:A=>{A?(l.onOpen(),document.dispatchEvent(new CustomEvent(wE))):l.onClose(),a==null||a(A)}}),y=S.useMemo(()=>v?x.current?"delayed-open":"instant-open":"closed",[v]),w=S.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x.current=!1,b(!0)},[b]),_=S.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b(!1)},[b]),E=S.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{x.current=!0,b(!0),p.current=0},g)},[g,b]);return S.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),u.jsx(LT,{...c,children:u.jsx(hre,{scope:e,contentId:h,open:v,stateAttribute:y,trigger:d,onTriggerChange:f,onTriggerEnter:S.useCallback(()=>{l.isOpenDelayed?E():w()},[l.isOpenDelayed,E,w]),onTriggerLeave:S.useCallback(()=>{m?_():(window.clearTimeout(p.current),p.current=0)},[_,m]),onOpen:w,onClose:_,disableHoverableContent:m,children:n})})};lz.displayName=ib;var _E="TooltipTrigger",cz=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=ab(_E,n),a=UT(_E,n),s=rb(n),o=S.useRef(null),l=rt(e,o,i.onTriggerChange),c=S.useRef(!1),d=S.useRef(!1),f=S.useCallback(()=>c.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(FT,{asChild:!0,...s,children:u.jsx(Pe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:pe(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:pe(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:pe(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:pe(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:pe(t.onBlur,i.onClose),onClick:pe(t.onClick,i.onClose)})})});cz.displayName=_E;var pre="TooltipPortal",[mWe,mre]=nb(pre,{forceMount:void 0}),zd="TooltipContent",uz=S.forwardRef((t,e)=>{const n=mre(zd,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=t,s=ab(zd,t.__scopeTooltip);return u.jsx(Qn,{present:r||s.open,children:s.disableHoverableContent?u.jsx(dz,{side:i,...a,ref:e}):u.jsx(gre,{side:i,...a,ref:e})})}),gre=S.forwardRef((t,e)=>{const n=ab(zd,t.__scopeTooltip),r=UT(zd,t.__scopeTooltip),i=S.useRef(null),a=rt(e,i),[s,o]=S.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:f}=r,h=S.useCallback(()=>{o(null),f(!1)},[f]),p=S.useCallback((m,g)=>{const x=m.currentTarget,v={x:m.clientX,y:m.clientY},b=bre(v,x.getBoundingClientRect()),y=wre(v,b),w=_re(g.getBoundingClientRect()),_=Ere([...y,...w]);o(_),f(!0)},[f]);return S.useEffect(()=>()=>h(),[h]),S.useEffect(()=>{if(l&&d){const m=x=>p(x,d),g=x=>p(x,l);return l.addEventListener("pointerleave",m),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",m),d.removeEventListener("pointerleave",g)}}},[l,d,p,h]),S.useEffect(()=>{if(s){const m=g=>{const x=g.target,v={x:g.clientX,y:g.clientY},b=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),y=!Sre(v,s);b?h():y&&(h(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,d,s,c,h]),u.jsx(dz,{...t,ref:a})}),[yre,vre]=nb(ib,{isInside:!1}),dz=S.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...o}=t,l=ab(zd,n),c=rb(n),{onClose:d}=l;return S.useEffect(()=>(document.addEventListener(wE,d),()=>document.removeEventListener(wE,d)),[d]),S.useEffect(()=>{if(l.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(Of,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(BT,{"data-state":l.stateAttribute,...c,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(nB,{children:r}),u.jsx(yre,{scope:n,isInside:!0,children:u.jsx(cee,{id:l.contentId,role:"tooltip",children:i||r})})]})})});uz.displayName=zd;var fz="TooltipArrow",xre=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=rb(n);return vre(fz,n).isInside?null:u.jsx(zT,{...i,...r,ref:e})});xre.displayName=fz;function bre(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function wre(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function _re(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function Sre(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const o=e[a].x,l=e[a].y,c=e[s].x,d=e[s].y;l>r!=d>r&&n<(c-o)*(r-l)/(d-l)+o&&(i=!i)}return i}function Ere(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),jre(e)}function jre(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const a=e[e.length-1],s=e[e.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const a=n[n.length-1],s=n[n.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Are=oz,kre=lz,Tre=cz,hz=uz;const pz=Are,mu=kre,gu=Tre,Ql=S.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(hz,{ref:r,sideOffset:e,className:we("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Ql.displayName=hz.displayName;const Cre="modulepreload",Ore=function(t){return"/admit-ai-nexus/"+t},HI={},es=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=Ore(l),l in HI)return;HI[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Cre,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},Nre=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>es(async()=>{const{default:r}=await Promise.resolve().then(()=>Rf);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class HT extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Pre extends HT{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class VI extends HT{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class WI extends HT{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var SE;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(SE||(SE={}));var Ire=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class $re{constructor(e,{headers:n={},customFetch:r,region:i=SE.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=Nre(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Ire(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=n;let o={},{region:l}=n;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(o["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(o["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(o["Content-Type"]="application/json",d=JSON.stringify(s)));const f=yield this.fetch(c.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:d}).catch(g=>{throw new Pre(g)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new VI(f);if(!f.ok)throw new WI(f);let p=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield f.json():p==="application/octet-stream"?m=yield f.blob():p==="text/event-stream"?m=f:p==="multipart/form-data"?m=yield f.formData():m=yield f.text(),{data:m,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof WI||i instanceof VI?i.context:void 0}}})}}var Sr={},VT={},sb={},ag={},ob={},lb={},Rre=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ud=Rre();const Mre=Ud.fetch,mz=Ud.fetch.bind(Ud),gz=Ud.Headers,Dre=Ud.Request,Lre=Ud.Response,Rf=Object.freeze(Object.defineProperty({__proto__:null,Headers:gz,Request:Dre,Response:Lre,default:mz,fetch:Mre},Symbol.toStringTag,{value:"Module"})),Fre=tY(Rf);var cb={};Object.defineProperty(cb,"__esModule",{value:!0});let Bre=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};cb.default=Bre;var yz=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lb,"__esModule",{value:!0});const zre=yz(Fre),Ure=yz(cb);let Hre=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=zre.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,o,l;let c=null,d=null,f=null,h=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const v=await a.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const g=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),x=(o=a.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");g&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await a.text();try{c=JSON.parse(g),Array.isArray(c)&&a.status===404&&(d=[],c=null,h=200,p="OK")}catch{a.status===404&&g===""?(h=204,p="No Content"):c={message:g}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,p="OK"),c&&this.shouldThrowOnError)throw new Ure.default(c)}return{error:c,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,o,l;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};lb.default=Hre;var Vre=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ob,"__esModule",{value:!0});const Wre=Vre(lb);let qre=class extends Wre.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var o;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ob.default=qre;var Gre=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ag,"__esModule",{value:!0});const Kre=Gre(ob);let Yre=class extends Kre.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${s}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ag.default=Yre;var Xre=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sb,"__esModule",{value:!0});const yh=Xre(ag);let Zre=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let a=!1;const s=(e??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new yh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const s=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(s.length>0){const o=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new yh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){const s="POST",o=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),a||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new yh.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new yh.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new yh.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};sb.default=Zre;var ub={},db={};Object.defineProperty(db,"__esModule",{value:!0});db.version=void 0;db.version="0.0.0-automated";Object.defineProperty(ub,"__esModule",{value:!0});ub.DEFAULT_HEADERS=void 0;const Jre=db;ub.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Jre.version}`};var vz=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(VT,"__esModule",{value:!0});const Qre=vz(sb),eie=vz(ag),tie=ub;let nie=class xz{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},tie.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new Qre.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new xz(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:a}={}){let s;const o=new URL(`${this.url}/rpc/${e}`);let l;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(s="POST",l=n);const c=Object.assign({},this.headers);return a&&(c.Prefer=`count=${a}`),new eie.default({method:s,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};VT.default=nie;var Mf=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sr,"__esModule",{value:!0});Sr.PostgrestError=Sr.PostgrestBuilder=Sr.PostgrestTransformBuilder=Sr.PostgrestFilterBuilder=Sr.PostgrestQueryBuilder=Sr.PostgrestClient=void 0;const bz=Mf(VT);Sr.PostgrestClient=bz.default;const wz=Mf(sb);Sr.PostgrestQueryBuilder=wz.default;const _z=Mf(ag);Sr.PostgrestFilterBuilder=_z.default;const Sz=Mf(ob);Sr.PostgrestTransformBuilder=Sz.default;const Ez=Mf(lb);Sr.PostgrestBuilder=Ez.default;const jz=Mf(cb);Sr.PostgrestError=jz.default;var rie=Sr.default={PostgrestClient:bz.default,PostgrestQueryBuilder:wz.default,PostgrestFilterBuilder:_z.default,PostgrestTransformBuilder:Sz.default,PostgrestBuilder:Ez.default,PostgrestError:jz.default};const{PostgrestClient:iie,PostgrestQueryBuilder:wWe,PostgrestFilterBuilder:_We,PostgrestTransformBuilder:SWe,PostgrestBuilder:EWe,PostgrestError:jWe}=rie;function aie(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const sie=aie(),oie="2.11.15",lie=`realtime-js/${oie}`,cie="1.0.0",Az=1e4,uie=1e3;var ip;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ip||(ip={}));var Wn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Wn||(Wn={}));var Ji;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ji||(Ji={}));var EE;(function(t){t.websocket="websocket"})(EE||(EE={}));var sc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(sc||(sc={}));class die{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2);let s=this.HEADER_LENGTH+2;const o=r.decode(e.slice(s,s+i));s=s+i;const l=r.decode(e.slice(s,s+a));s=s+a;const c=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class kz{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Tt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Tt||(Tt={}));const qI=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,s)=>(a[s]=fie(s,t,e,i),a),{})},fie=(t,e,n,r)=>{const i=e.find(o=>o.name===t),a=i==null?void 0:i.type,s=n[t];return a&&!r.includes(a)?Tz(a,s):jE(s)},Tz=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return gie(e,n)}switch(t){case Tt.bool:return hie(e);case Tt.float4:case Tt.float8:case Tt.int2:case Tt.int4:case Tt.int8:case Tt.numeric:case Tt.oid:return pie(e);case Tt.json:case Tt.jsonb:return mie(e);case Tt.timestamp:return yie(e);case Tt.abstime:case Tt.date:case Tt.daterange:case Tt.int4range:case Tt.int8range:case Tt.money:case Tt.reltime:case Tt.text:case Tt.time:case Tt.timestamptz:case Tt.timetz:case Tt.tsrange:case Tt.tstzrange:return jE(e);default:return jE(e)}},jE=t=>t,hie=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},pie=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},mie=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},gie=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const s=t.slice(1,n);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>Tz(e,o))}return t},yie=t=>typeof t=="string"?t.replace(" ","T"):t,Cz=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class T_{constructor(e,n,r={},i=Az){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var GI;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(GI||(GI={}));class ap{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ap.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=ap.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ap.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),s=this.transformState(n),o={},l={};return this.map(a,(c,d)=>{s[c]||(l[c]=d)}),this.map(s,(c,d)=>{const f=a[c];if(f){const h=d.map(x=>x.presence_ref),p=f.map(x=>x.presence_ref),m=d.filter(x=>p.indexOf(x.presence_ref)<0),g=f.filter(x=>h.indexOf(x.presence_ref)<0);m.length>0&&(o[c]=m),g.length>0&&(l[c]=g)}else o[c]=d}),this.syncDiff(a,{joins:o,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var c;const d=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),d.length>0){const f=e[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);e[o].unshift(...h)}r(o,d,l)}),this.map(s,(o,l)=>{let c=e[o];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var KI;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(KI||(KI={}));var YI;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(YI||(YI={}));var ks;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ks||(ks={}));class WT{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Wn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new T_(this,Ji.join,this.params,this.timeout),this.rejoinTimer=new kz(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Wn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Wn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Wn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Wn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ji.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new ap(this),this.broadcastEndpointURL=Cz(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Wn.closed){const{config:{broadcast:a,presence:s,private:o}}=this.params;this._onError(d=>e==null?void 0:e(ks.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(ks.CLOSED));const l={},c={broadcast:a,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(ks.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,m=[];for(let g=0;g<p;g++){const x=h[g],{filter:{event:v,schema:b,table:y,filter:w}}=x,_=d&&d[g];if(_&&_.event===v&&_.schema===b&&_.table===y&&_.filter===w)m.push(Object.assign(Object.assign({},x),{id:_.id}));else{this.unsubscribe(),this.state=Wn.errored,e==null||e(ks.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(ks.SUBSCRIBED);return}}).receive("error",d=>{this.state=Wn.errored,e==null||e(ks.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ks.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Wn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ji.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new T_(this,Ji.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new T_(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const s=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:d}=Ji;if(r&&[o,l,c,d].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,g,x;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((x=(g=p.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===s}).map(p=>p.callback(h,r)):(a=this.bindings[s])===null||a===void 0||a.filter(p=>{var m,g,x,v,b,y;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const w=p.id,_=(m=p.filter)===null||m===void 0?void 0:m.event;return w&&((g=n.ids)===null||g===void 0?void 0:g.includes(w))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const w=(b=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return w==="*"||w===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:x,commit_timestamp:v,type:b,errors:y}=m;h=Object.assign(Object.assign({},{schema:g,table:x,commit_timestamp:v,eventType:b,new:{},old:{},errors:y}),this._getPayloadRecords(m))}p.callback(h,r)})}_isClosed(){return this.state===Wn.closed}_isJoined(){return this.state===Wn.joined}_isJoining(){return this.state===Wn.joining}_isLeaving(){return this.state===Wn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&WT.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ji.close,{},e)}_onError(e){this._on(Ji.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Wn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=qI(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=qI(e.columns,e.old_record)),n}}const XI=()=>{},vie=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xie{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Az,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=XI,this.ref=0,this.logger=XI,this.conn=null,this.sendBuffer=[],this.serializer=new die,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...o)=>es(async()=>{const{default:l}=await Promise.resolve().then(()=>Rf);return{default:l}},void 0).then(({default:l})=>l(...o)):s=fetch,(...o)=>s(...o)},this.endPoint=`${e}/${EE.websocket}`,this.httpEndpoint=Cz(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,s)=>s(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new kz(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=sie),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:cie}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ip.connecting:return sc.Connecting;case ip.open:return sc.Open;case ip.closing:return sc.Closing;default:return sc.Closed}}isConnected(){return this.connectionState()===sc.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new WT(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,s=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:lie};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Ji.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(uie,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:a,ref:s}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,a),Array.from(this.channels).filter(o=>o._isMember(r)).forEach(o=>o._trigger(i,a,s)),this.stateChangeCallbacks.message.forEach(o=>o(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ji.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([vie],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class qT extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Nn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class bie extends qT{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class AE extends qT{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var wie=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const Oz=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>es(async()=>{const{default:r}=await Promise.resolve().then(()=>Rf);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},_ie=()=>wie(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield es(()=>Promise.resolve().then(()=>Rf),void 0)).Response:Response}),kE=t=>{if(Array.isArray(t))return t.map(n=>kE(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=kE(r)}),e},Sie=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var tu=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const C_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Eie=(t,e,n)=>tu(void 0,void 0,void 0,function*(){const r=yield _ie();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const a=t.status||500,s=(i==null?void 0:i.statusCode)||a+"";e(new bie(C_(i),a,s))}).catch(i=>{e(new AE(C_(i),i))}):e(new AE(C_(t),t))}),jie=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(Sie(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function sg(t,e,n,r,i,a){return tu(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(n,jie(e,r,i,a)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>Eie(l,o,r))})})}function Qv(t,e,n,r){return tu(this,void 0,void 0,function*(){return sg(t,"GET",e,n,r)})}function Ts(t,e,n,r,i){return tu(this,void 0,void 0,function*(){return sg(t,"POST",e,r,i,n)})}function TE(t,e,n,r,i){return tu(this,void 0,void 0,function*(){return sg(t,"PUT",e,r,i,n)})}function Aie(t,e,n,r){return tu(this,void 0,void 0,function*(){return sg(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Nz(t,e,n,r,i){return tu(this,void 0,void 0,function*(){return sg(t,"DELETE",e,r,i,n)})}var yr=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const kie={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ZI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Tie{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Oz(i)}uploadOrUpdate(e,n,r,i){return yr(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},ZI),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=r,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),f=yield(e=="PUT"?TE:Ts)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(Nn(a))return{data:null,error:a};throw a}})}upload(e,n,r){return yr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return yr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:ZI.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield TE(this.fetch,o.toString(),l,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(Nn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return yr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield Ts(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new qT("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(r){if(Nn(r))return{data:null,error:r};throw r}})}update(e,n,r){return yr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return yr(this,void 0,void 0,function*(){try{return{data:yield Ts(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Nn(i))return{data:null,error:i};throw i}})}copy(e,n,r){return yr(this,void 0,void 0,function*(){try{return{data:{path:(yield Ts(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Nn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return yr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Ts(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(Nn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return yr(this,void 0,void 0,function*(){try{const i=yield Ts(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(Nn(i))return{data:null,error:i};throw i}})}download(e,n){return yr(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=a?`?${a}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Qv(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Nn(o))return{data:null,error:o};throw o}})}info(e){return yr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Qv(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:kE(r),error:null}}catch(r){if(Nn(r))return{data:null,error:r};throw r}})}exists(e){return yr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Aie(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Nn(r)&&r instanceof AE){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${c}`)}}}remove(e){return yr(this,void 0,void 0,function*(){try{return{data:yield Nz(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}list(e,n,r){return yr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},kie),n),{prefix:e||""});return{data:yield Ts(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Nn(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Cie="2.10.4",Oie={"X-Client-Info":`storage-js/${Cie}`};var yu=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class Nie{constructor(e,n={},r,i){const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},Oie),n),this.fetch=Oz(r)}listBuckets(){return yu(this,void 0,void 0,function*(){try{return{data:yield Qv(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Nn(e))return{data:null,error:e};throw e}})}getBucket(e){return yu(this,void 0,void 0,function*(){try{return{data:yield Qv(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return yu(this,void 0,void 0,function*(){try{return{data:yield Ts(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Nn(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return yu(this,void 0,void 0,function*(){try{return{data:yield TE(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Nn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return yu(this,void 0,void 0,function*(){try{return{data:yield Ts(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return yu(this,void 0,void 0,function*(){try{return{data:yield Nz(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}}class Pie extends Nie{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new Tie(this.url,this.headers,e,this.fetch)}}const Iie="2.53.0";let Mh="";typeof Deno<"u"?Mh="deno":typeof document<"u"?Mh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mh="react-native":Mh="node";const $ie={"X-Client-Info":`supabase-js-${Mh}/${Iie}`},Rie={headers:$ie},Mie={schema:"public"},Die={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Lie={};var Fie=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const Bie=t=>{let e;return t?e=t:typeof fetch>"u"?e=mz:e=fetch,(...n)=>e(...n)},zie=()=>typeof Headers>"u"?gz:Headers,Uie=(t,e,n)=>{const r=Bie(n),i=zie();return(a,s)=>Fie(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let c=new i(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(a,Object.assign(Object.assign({},s),{headers:c}))})};var Hie=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};function Vie(t){return t.endsWith("/")?t:t+"/"}function Wie(t,e){var n,r;const{db:i,auth:a,realtime:s,global:o}=t,{db:l,auth:c,realtime:d,global:f}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Hie(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const Pz="2.71.1",Pu=30*1e3,CE=3,O_=CE*Pu,qie="http://localhost:9999",Gie="supabase.auth.token",Kie={"X-Client-Info":`gotrue-js/${Pz}`},OE="X-Supabase-Api-Version",Iz={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Yie=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Xie=10*60*1e3;class GT extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Xe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Zie extends GT{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Jie(t){return Xe(t)&&t.name==="AuthApiError"}class $z extends GT{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class $l extends GT{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Ao extends $l{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Qie(t){return Xe(t)&&t.name==="AuthSessionMissingError"}class sy extends $l{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class oy extends $l{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ly extends $l{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function eae(t){return Xe(t)&&t.name==="AuthImplicitGrantRedirectError"}class JI extends $l{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class NE extends $l{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function N_(t){return Xe(t)&&t.name==="AuthRetryableFetchError"}class QI extends $l{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class PE extends $l{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const e0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),e2=` 	
\r=`.split(""),tae=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<e2.length;e+=1)t[e2[e].charCodeAt(0)]=-2;for(let e=0;e<e0.length;e+=1)t[e0[e].charCodeAt(0)]=e;return t})();function t2(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(e0[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(e0[r]),e.queuedBits-=6}}function Rz(t,e,n){const r=tae[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function n2(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{iae(s,r,n)};for(let s=0;s<t.length;s+=1)Rz(t.charCodeAt(s),i,a);return e.join("")}function nae(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function rae(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}nae(r,e)}}function iae(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function aae(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Rz(t.charCodeAt(i),n,r);return new Uint8Array(e)}function sae(t){const e=[];return rae(t,n=>e.push(n)),new Uint8Array(e)}function oae(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>t2(i,n,r)),t2(null,n,r),e.join("")}function lae(t){return Math.round(Date.now()/1e3)+t}function cae(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Vi=()=>typeof window<"u"&&typeof document<"u",ql={tested:!1,writable:!1},Mz=()=>{if(!Vi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ql.tested)return ql.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ql.tested=!0,ql.writable=!0}catch{ql.tested=!0,ql.writable=!1}return ql.writable};function uae(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const Dz=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>es(async()=>{const{default:r}=await Promise.resolve().then(()=>Rf);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},dae=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Iu=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Gl=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},bo=async(t,e)=>{await t.removeItem(e)};class fb{constructor(){this.promise=new fb.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}fb.promiseConstructor=Promise;function P_(t){const e=t.split(".");if(e.length!==3)throw new PE("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Yie.test(e[r]))throw new PE("JWT not in base64url format");return{header:JSON.parse(n2(e[0])),payload:JSON.parse(n2(e[1])),signature:aae(e[2]),raw:{header:e[0],payload:e[1]}}}async function fae(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function hae(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){r(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function pae(t){return("0"+t.toString(16)).substr(-2)}function mae(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,pae).join("")}async function gae(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function yae(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await gae(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vu(t,e,n=!1){const r=mae();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Iu(t,`${e}-code-verifier`,i);const a=await yae(r);return[a,r===a?"plain":"s256"]}const vae=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xae(t){const e=t.headers.get(OE);if(!e||!e.match(vae))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function bae(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function wae(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _ae=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xu(t){if(!_ae.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function I_(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function r2(t){return JSON.parse(JSON.stringify(t))}var Sae=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const ec=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Eae=[502,503,504];async function i2(t){var e;if(!dae(t))throw new NE(ec(t),0);if(Eae.includes(t.status))throw new NE(ec(t),t.status);let n;try{n=await t.json()}catch(a){throw new $z(ec(a),a)}let r;const i=xae(t);if(i&&i.getTime()>=Iz["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new QI(ec(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ao}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new QI(ec(n),t.status,n.weak_password.reasons);throw new Zie(ec(n),t.status||500,r)}const jae=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function st(t,e,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[OE]||(a[OE]=Iz["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const s=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await Aae(t,e,n+o,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Aae(t,e,n,r,i,a){const s=jae(e,r,i,a);let o;try{o=await t(n,Object.assign({},s))}catch(l){throw console.error(l),new NE(ec(l),0)}if(o.ok||await i2(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await i2(l)}}function js(t){var e;let n=null;Oae(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=lae(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function a2(t){const e=js(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ro(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function kae(t){return{data:t,error:null}}function Tae(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,s=Sae(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function Cae(t){return t}function Oae(t){return t.access_token&&t.refresh_token&&t.expires_in}const $_=["global","local","others"];var Nae=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class Pae{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Dz(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=$_[0]){if($_.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$_.join(", ")}`);try{return await st(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await st(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ro})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Nae(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await st(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Tae,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Xe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await st(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ro})}catch(n){if(Xe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await st(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Cae});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(m.split(";")[1].split("=")[1]);c[`${x}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Xe(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){xu(e);try{return await st(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ro})}catch(n){if(Xe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){xu(e);try{return await st(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ro})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){xu(e);try{return await st(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ro})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){xu(e.userId);try{const{data:n,error:r}=await st(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){xu(e.userId),xu(e.id);try{return{data:await st(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}}}function s2(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Iae(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const bu={debug:!!(globalThis&&Mz()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Lz extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class $ae extends Lz{}async function Rae(t,e,n){bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),bu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new $ae(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(bu.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Iae();const Mae={url:qie,storageKey:Gie,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Kie,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function o2(t,e,n){return await n()}const wu={};class Zp{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zp.nextInstanceID,Zp.nextInstanceID+=1,this.instanceID>0&&Vi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Mae),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Pae({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Dz(i.fetch),this.lock=i.lock||o2,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Vi()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Rae:this.lock=o2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Mz()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=s2(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=s2(this.memoryStorage)),Vi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=wu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){wu[this.storageKey]=Object.assign(Object.assign({},wu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=wu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){wu[this.storageKey]=Object.assign(Object.assign({},wu[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Pz}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=uae(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Vi()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),eae(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Xe(n)?{error:n}:{error:new $z("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:js}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(Xe(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:d,password:f,options:h}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await vu(this.storage,this.storageKey)),a=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:js})}else if("phone"in e){const{phone:d,password:f,options:h}=e;a=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:js})}else throw new oy("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(Xe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:s,options:o}=e;n=await st(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:a2})}else if("phone"in e){const{phone:a,password:s,options:o}=e;n=await st(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:a2})}else throw new oy("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new sy}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Xe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,i,a,s,o,l,c,d,f,h,p;let m,g;if("message"in e)m=e.message,g=e.signature;else{const{chain:x,wallet:v,statement:b,options:y}=e;let w;if(Vi())if(typeof v=="object")w=v;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))w=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const _=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const E=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),b?{statement:b}:null));let A;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")A=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)A=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)m=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),g=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${_.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(r=y==null?void 0:y.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const E=await w.signMessage(new TextEncoder().encode(m),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=E}}try{const{data:x,error:v}=await st(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:oae(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:js});if(v)throw v;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new sy}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:v})}catch(x){if(Xe(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(e){const n=await Gl(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:s}=await st(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:js});if(await bo(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new sy}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(Xe(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:s}=e,o=await st(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:js}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new sy}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(Xe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,a,s;try{if("email"in e){const{email:o,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await vu(this.storage,this.storageKey));const{error:f}=await st(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:d}=await st(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new oy("You must provide either an email or phone number.")}catch(o){if(Xe(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:o}=await st(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:js});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Xe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await vu(this.storage,this.storageKey)),await st(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:kae})}catch(a){if(Xe(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Ao;const{error:i}=await st(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Xe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:s}=await st(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:s,error:o}=await st(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new oy("You must provide either an email or phone number and a type")}catch(n){if(Xe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Gl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<O_:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const s=await Gl(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=I_()}if(this.storage.isServer&&e.user){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!s&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await st(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ro}):await this._useSession(async n=>{var r,i,a;const{data:s,error:o}=n;if(o)throw o;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ao}:await st(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ro})})}catch(n){if(Xe(n))return Qie(n)&&(await this._removeSession(),await bo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Ao;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await vu(this.storage,this.storageKey));const{data:c,error:d}=await st(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:Ro});if(d)throw d;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ao;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:s}=P_(e.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Xe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:s,error:o}=n;if(o)throw o;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ao;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Xe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Vi())throw new ly("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ly(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new JI("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ly("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new JI("No code detected.");const{data:b,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:c}=e;if(!a||!o||!s||!c)throw new ly("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=Pu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:g,error:x}=await this._getUser(a);if(x)throw x;const v={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:s,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(r){if(Xe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Gl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!(Jie(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await bo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=cae(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await vu(this.storage,this.storageKey,!0));try{return await st(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Xe(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var s,o,l,c,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await st(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Vi()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Xe(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)throw s;return await st(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await hae(async i=>(i>0&&await fae(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await st(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:js})),(i,a)=>{const s=200*Math.pow(2,i);return a&&N_(a)&&Date.now()+s-r<Pu})}catch(r){if(this._debug(n,"error",r),Xe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Vi()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Gl(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Gl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Iu(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:I_()}else if(i&&!i.user&&!i.user){const s=await Gl(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await bo(this.storage,this.storageKey+"-user"),await Iu(this.storage,this.storageKey,i)):i.user=I_()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<O_;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${O_}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),N_(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Ao;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new fb;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new Ao;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),Xe(a)){const s={session:null,error:a};return N_(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Iu(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=r2(i);await Iu(this.storage,this.storageKey,a)}else{const i=r2(n);await Iu(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await bo(this.storage,this.storageKey),await bo(this.storage,this.storageKey+"-code-verifier"),await bo(this.storage,this.storageKey+"-user"),this.userStorage&&await bo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Vi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Pu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Pu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Pu}ms, refresh threshold is ${CE} ticks`),i<=CE&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Lz)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,s]=await vu(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await st(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await st(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:s,error:o}=await st(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await st(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=r.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=P_(i.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+Xie>i)return r;const{data:a,error:s}=await st(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(o=>o.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};r=p.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=P_(r);n!=null&&n.allowExpired||bae(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:a,header:i,signature:s},error:null}}const d=wae(i.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,sae(`${o}.${l}`)))throw new PE("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}}}Zp.nextInstanceID=0;const Dae=Zp;class Lae extends Dae{constructor(e){super(e)}}var Fae=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class Bae{constructor(e,n,r){var i,a,s;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const o=Vie(e),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Mie,realtime:Lie,auth:Object.assign(Object.assign({},Die),{storageKey:c}),global:Rie},f=Wie(r??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=f.auth)!==null&&s!==void 0?s:{},this.headers,f.global.fetch),this.fetch=Uie(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new iie(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new Pie(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new $re(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Fae(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:a,flowType:s,lock:o,debug:l},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Lae({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:s,lock:o,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new xie(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const zae=(t,e,n)=>new Bae(t,e,n);function Uae(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Uae()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Hae="https://imlbkhgquajmnqgbvgwj.supabase.co",Vae="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImltbGJraGdxdWFqbW5xZ2J2Z3dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM5MDA5NTAsImV4cCI6MjA2OTQ3Njk1MH0.J-baoXJnvpag7bEVSqbqXoAoGhAI7wnOb1osZcQo-Xk",De=zae(Hae,Vae,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Fz=S.createContext(void 0),er=()=>{const t=S.useContext(Fz);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Wae=({children:t})=>{const[e,n]=S.useState(null),[r,i]=S.useState(null),[a,s]=S.useState(!0),{toast:o}=Ht();S.useEffect(()=>{const x=window.location.hash&&(window.location.hash.includes("access_token")||window.location.hash.includes("refresh_token")||window.location.hash.includes("error"));x&&console.log("Handling auth redirect, keeping loading state active...");const{data:{subscription:v}}=De.auth.onAuthStateChange(async(b,y)=>{var w;console.log("Auth state changed:",b,(w=y==null?void 0:y.user)==null?void 0:w.email),i(y),n((y==null?void 0:y.user)??null),(y||!x)&&s(!1),b==="SIGNED_IN"?y!=null&&y.user&&setTimeout(()=>{l(y.user)},0):b==="SIGNED_OUT"?(localStorage.removeItem("sb-imlbkhgquajmnqgbvgwj-auth-token"),s(!1)):b==="TOKEN_REFRESHED"&&console.log("Token refreshed successfully")});if(De.auth.getSession().then(({data:{session:b}})=>{i(b),n((b==null?void 0:b.user)??null),(b||!x)&&s(!1)}),x){const b=setTimeout(()=>{console.log("Auth redirect timeout reached, forcing loading completion"),s(!1)},5e3);return()=>{v.unsubscribe(),clearTimeout(b)}}return()=>v.unsubscribe()},[]);const l=async x=>{var v,b,y,w,_;try{const{error:E}=await De.from("profiles").upsert({user_id:x.id,email:x.email,full_name:((v=x.user_metadata)==null?void 0:v.full_name)||((b=x.user_metadata)==null?void 0:b.name),display_name:((y=x.user_metadata)==null?void 0:y.full_name)||((w=x.user_metadata)==null?void 0:w.name),avatar_url:(_=x.user_metadata)==null?void 0:_.avatar_url,updated_at:new Date().toISOString()},{onConflict:"user_id"});E&&E.code!=="23505"&&console.error("Profile creation/update error:",E)}catch(E){console.error("Profile creation/update error:",E)}},g={user:e,session:r,loading:a,signIn:async(x,v)=>{const{data:b,error:y}=await De.auth.signInWithPassword({email:x,password:v});if(y)throw y.message.includes("Invalid login credentials")?new Error("Invalid email or password. Please check your credentials and try again."):y.message.includes("Email not confirmed")?new Error("Please check your email and click the confirmation link before signing in."):y;b.user&&o({title:"Welcome back!",description:"Successfully signed in to your account."})},signInWithGoogle:async()=>{const x=`${window.location.origin}/admit-ai-nexus/`;console.log("Google Sign-In Redirect URL:",x);const{error:v}=await De.auth.signInWithOAuth({provider:"google",options:{redirectTo:x,queryParams:{access_type:"offline",prompt:"consent"}}});if(v)throw v},signUp:async(x,v,b)=>{const y=`${window.location.origin}/admit-ai-nexus/`,{error:w,data:_}=await De.auth.signUp({email:x,password:v,options:{emailRedirectTo:y,data:{full_name:b}}});if(w)throw w.message.includes("User already registered")?new Error("An account with this email already exists. Please sign in instead."):w.message.includes("Password should be")?new Error("Password must be at least 8 characters long."):w;_.user&&!_.user.email_confirmed_at?o({title:"Check your email",description:"We've sent you a confirmation link to verify your account."}):o({title:"Account created!",description:"Welcome to AdmitConnect AI."})},signOut:async()=>{const{error:x}=await De.auth.signOut();if(x)throw x;i(null),n(null),o({title:"Signed out",description:"You have been successfully signed out."})},resetPassword:async x=>{const{error:v}=await De.auth.resetPasswordForEmail(x,{redirectTo:`${window.location.origin}/admit-ai-nexus/reset-password`});if(v)throw v},updatePassword:async x=>{const{error:v}=await De.auth.updateUser({password:x});if(v)throw v;o({title:"Password updated",description:"Your password has been successfully updated."})}};return u.jsx(Fz.Provider,{value:g,children:t})},R_=({children:t})=>{const{user:e,loading:n}=er();return n?u.jsx("div",{className:"min-h-screen bg-ai-gradient-subtle flex items-center justify-center",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-primary/30 border-t-primary rounded-full animate-spin mx-auto"}),u.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):e?u.jsx(u.Fragment,{children:t}):u.jsx(DJ,{to:"/auth",replace:!0})},qae={"llama-3.1-8b-instant":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"mistral-saba-24b":{maxInputTokens:32768,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama3-8b-8192":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"qwen-qwq-32b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama3-70b-8192":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"deepseek-r1-distill-llama-70b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama-guard-3-8b":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!1},"gemma2-9b-it":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama-3.3-70b-versatile":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"moonshotai/kimi-k2-instruct-0905":{maxInputTokens:262144,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"moonshotai/kimi-k2-instruct":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"openai/gpt-oss-20b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"openai/gpt-oss-120b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"qwen/qwen3-32b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"meta-llama/llama-4-scout-17b-16e-instruct":{maxInputTokens:131072,imageInputs:!0,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"meta-llama/llama-4-maverick-17b-128e-instruct":{maxInputTokens:131072,imageInputs:!0,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"meta-llama/llama-guard-4-12b":{maxInputTokens:131072,imageInputs:!0,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:128,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!1}};var Gae=qae,Kae=Object.defineProperty,bt=(t,e)=>{for(var n in e)Kae(t,n,{get:e[n],enumerable:!0})};function Df(t,e,n){function r(o,l){if(o._zod||Object.defineProperty(o,"_zod",{value:{def:l,constr:s,traits:new Set},enumerable:!1}),o._zod.traits.has(t))return;o._zod.traits.add(t),e(o,l);const c=s.prototype,d=Object.keys(c);for(let f=0;f<d.length;f++){const h=d[f];h in o||(o[h]=c[h].bind(o))}}const i=(n==null?void 0:n.Parent)??Object;class a extends i{}Object.defineProperty(a,"name",{value:t});function s(o){var l;const c=n!=null&&n.Parent?new a:this;r(c,o),(l=c._zod).deferred??(l.deferred=[]);for(const d of c._zod.deferred)d();return c}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:o=>{var l,c;return n!=null&&n.Parent&&o instanceof n.Parent?!0:(c=(l=o==null?void 0:o._zod)==null?void 0:l.traits)==null?void 0:c.has(t)}}),Object.defineProperty(s,"name",{value:t}),s}class sp extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const Yae={};function hb(t){return Yae}function Xae(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,i])=>e.indexOf(+r)===-1).map(([r,i])=>i)}function Zae(t,e){return typeof e=="bigint"?e.toString():e}function Jae(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}const l2=Symbol("evaluating");function c2(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==l2)return r===void 0&&(r=l2,r=n()),r},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function Bz(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function zz(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}const Uz="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function u2(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function Qae(t){if(u2(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(u2(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function eo(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n!=null&&n.parent)&&(r._zod.parent=t),r}function ese(t){return{}}function tse(t,e){if(!Qae(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=zz(t._zod.def,{get shape(){const a={...t._zod.def.shape,...e};return Bz(this,"shape",a),a},checks:[]});return eo(t,i)}function nse(t,e,n){const r=zz(e._zod.def,{get shape(){const i=e._zod.def.shape,a={...i};for(const s in i)a[s]=t?new t({type:"optional",innerType:i[s]}):i[s];return Bz(this,"shape",a),a},checks:[]});return eo(e,r)}function cy(t,e=0){var n;if(t.aborted===!0)return!0;for(let r=e;r<t.issues.length;r++)if(((n=t.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function uy(t){return typeof t=="string"?t:t==null?void 0:t.message}function pb(t,e,n){var i,a,s,o,l,c;const r={...t,path:t.path??[]};if(!t.message){const d=uy((s=(a=(i=t.inst)==null?void 0:i._zod.def)==null?void 0:a.error)==null?void 0:s.call(a,t))??uy((o=e==null?void 0:e.error)==null?void 0:o.call(e,t))??uy((l=n.customError)==null?void 0:l.call(n,t))??uy((c=n.localeError)==null?void 0:c.call(n,t))??"Invalid input";r.message=d}return delete r.inst,delete r.continue,e!=null&&e.reportInput||delete r.input,r}const Hz=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Zae,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},rse=Df("$ZodError",Hz),mb=Df("$ZodError",Hz,{Parent:Error}),ise=t=>(e,n,r,i)=>{const a=r?Object.assign(r,{async:!1}):{async:!1},s=e._zod.run({value:n,issues:[]},a);if(s instanceof Promise)throw new sp;if(s.issues.length){const o=new((i==null?void 0:i.Err)??t)(s.issues.map(l=>pb(l,a,hb())));throw Uz(o,i==null?void 0:i.callee),o}return s.value},KT=ise(mb),ase=t=>async(e,n,r,i)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let s=e._zod.run({value:n,issues:[]},a);if(s instanceof Promise&&(s=await s),s.issues.length){const o=new((i==null?void 0:i.Err)??t)(s.issues.map(l=>pb(l,a,hb())));throw Uz(o,i==null?void 0:i.callee),o}return s.value},Vz=ase(mb),sse=t=>(e,n,r)=>{const i=r?{...r,async:!1}:{async:!1},a=e._zod.run({value:n,issues:[]},i);if(a instanceof Promise)throw new sp;return a.issues.length?{success:!1,error:new(t??rse)(a.issues.map(s=>pb(s,i,hb())))}:{success:!0,data:a.value}},ose=sse(mb),lse=t=>async(e,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let a=e._zod.run({value:n,issues:[]},i);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new t(a.issues.map(s=>pb(s,i,hb())))}:{success:!0,data:a.value}},cse=lse(mb),use={major:4,minor:1,patch:13},YT=Df("$ZodType",(t,e)=>{var i;var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=use;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const a of r)for(const s of a._zod.onattach)s(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),(i=t._zod.deferred)==null||i.push(()=>{t._zod.run=t._zod.parse});else{const a=(o,l,c)=>{let d=cy(o),f;for(const h of l){if(h._zod.def.when){if(!h._zod.def.when(o))continue}else if(d)continue;const p=o.issues.length,m=h._zod.check(o);if(m instanceof Promise&&(c==null?void 0:c.async)===!1)throw new sp;if(f||m instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await m,o.issues.length!==p&&(d||(d=cy(o,p)))});else{if(o.issues.length===p)continue;d||(d=cy(o,p))}}return f?f.then(()=>o):o},s=(o,l,c)=>{if(cy(o))return o.aborted=!0,o;const d=a(l,r,c);if(d instanceof Promise){if(c.async===!1)throw new sp;return d.then(f=>t._zod.parse(f,c))}return t._zod.parse(d,c)};t._zod.run=(o,l)=>{if(l.skipChecks)return t._zod.parse(o,l);if(l.direction==="backward"){const d=t._zod.parse({value:o.value,issues:[]},{...l,skipChecks:!0});return d instanceof Promise?d.then(f=>s(f,o,l)):s(d,o,l)}const c=t._zod.parse(o,l);if(c instanceof Promise){if(l.async===!1)throw new sp;return c.then(d=>a(d,r,l))}return a(c,r,l)}}t["~standard"]={validate:a=>{var s;try{const o=ose(t,a);return o.success?{value:o.data}:{issues:(s=o.error)==null?void 0:s.issues}}catch{return cse(t,a).then(l=>{var c;return l.success?{value:l.data}:{issues:(c=l.error)==null?void 0:c.issues}})}},vendor:"zod",version:1}}),dse=Df("$ZodUnknown",(t,e)=>{YT.init(t,e),t._zod.parse=n=>n}),fse=Df("$ZodNever",(t,e)=>{YT.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function d2(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const Wz=Df("$ZodOptional",(t,e)=>{YT.init(t,e),t._zod.optin="optional",t._zod.optout="optional",c2(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),c2(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Jae(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(a=>d2(a,n.value)):d2(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}});var f2;class qz{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function hse(){return new qz}(f2=globalThis).__zod_globalRegistry??(f2.__zod_globalRegistry=hse());const Tr=globalThis.__zod_globalRegistry;function pse(t){return new t({type:"unknown"})}function mse(t,e){return new t({type:"never",...ese()})}class h2{constructor(e){this.counter=0,this.metadataRegistry=(e==null?void 0:e.metadata)??Tr,this.target=(e==null?void 0:e.target)??"draft-2020-12",this.unrepresentable=(e==null?void 0:e.unrepresentable)??"throw",this.override=(e==null?void 0:e.override)??(()=>{}),this.io=(e==null?void 0:e.io)??"output",this.seen=new Map}process(e,n={path:[],schemaPath:[]}){var f,h,p;var r;const i=e._zod.def,a={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},s=this.seen.get(e);if(s)return s.count++,n.schemaPath.includes(e)&&(s.cycle=n.path),s.schema;const o={schema:{},count:1,cycle:void 0,path:n.path};this.seen.set(e,o);const l=(h=(f=e._zod).toJSONSchema)==null?void 0:h.call(f);if(l)o.schema=l;else{const m={...n,schemaPath:[...n.schemaPath,e],path:n.path},g=e._zod.parent;if(g)o.ref=g,this.process(g,m),this.seen.get(g).isParent=!0;else{const x=o.schema;switch(i.type){case"string":{const v=x;v.type="string";const{minimum:b,maximum:y,format:w,patterns:_,contentEncoding:E}=e._zod.bag;if(typeof b=="number"&&(v.minLength=b),typeof y=="number"&&(v.maxLength=y),w&&(v.format=a[w]??w,v.format===""&&delete v.format),E&&(v.contentEncoding=E),_&&_.size>0){const A=[..._];A.length===1?v.pattern=A[0].source:A.length>1&&(o.schema.allOf=[...A.map(j=>({...this.target==="draft-7"||this.target==="draft-4"||this.target==="openapi-3.0"?{type:"string"}:{},pattern:j.source}))])}break}case"number":{const v=x,{minimum:b,maximum:y,format:w,multipleOf:_,exclusiveMaximum:E,exclusiveMinimum:A}=e._zod.bag;typeof w=="string"&&w.includes("int")?v.type="integer":v.type="number",typeof A=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(v.minimum=A,v.exclusiveMinimum=!0):v.exclusiveMinimum=A),typeof b=="number"&&(v.minimum=b,typeof A=="number"&&this.target!=="draft-4"&&(A>=b?delete v.minimum:delete v.exclusiveMinimum)),typeof E=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(v.maximum=E,v.exclusiveMaximum=!0):v.exclusiveMaximum=E),typeof y=="number"&&(v.maximum=y,typeof E=="number"&&this.target!=="draft-4"&&(E<=y?delete v.maximum:delete v.exclusiveMaximum)),typeof _=="number"&&(v.multipleOf=_);break}case"boolean":{const v=x;v.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{this.target==="openapi-3.0"?(x.type="string",x.nullable=!0,x.enum=[null]):x.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{x.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{const v=x,{minimum:b,maximum:y}=e._zod.bag;typeof b=="number"&&(v.minItems=b),typeof y=="number"&&(v.maxItems=y),v.type="array",v.items=this.process(i.element,{...m,path:[...m.path,"items"]});break}case"object":{const v=x;v.type="object",v.properties={};const b=i.shape;for(const _ in b)v.properties[_]=this.process(b[_],{...m,path:[...m.path,"properties",_]});const y=new Set(Object.keys(b)),w=new Set([...y].filter(_=>{const E=i.shape[_]._zod;return this.io==="input"?E.optin===void 0:E.optout===void 0}));w.size>0&&(v.required=Array.from(w)),((p=i.catchall)==null?void 0:p._zod.def.type)==="never"?v.additionalProperties=!1:i.catchall?i.catchall&&(v.additionalProperties=this.process(i.catchall,{...m,path:[...m.path,"additionalProperties"]})):this.io==="output"&&(v.additionalProperties=!1);break}case"union":{const v=x,b=i.discriminator!==void 0,y=i.options.map((w,_)=>this.process(w,{...m,path:[...m.path,b?"oneOf":"anyOf",_]}));b?v.oneOf=y:v.anyOf=y;break}case"intersection":{const v=x,b=this.process(i.left,{...m,path:[...m.path,"allOf",0]}),y=this.process(i.right,{...m,path:[...m.path,"allOf",1]}),w=E=>"allOf"in E&&Object.keys(E).length===1,_=[...w(b)?b.allOf:[b],...w(y)?y.allOf:[y]];v.allOf=_;break}case"tuple":{const v=x;v.type="array";const b=this.target==="draft-2020-12"?"prefixItems":"items",y=this.target==="draft-2020-12"||this.target==="openapi-3.0"?"items":"additionalItems",w=i.items.map((j,k)=>this.process(j,{...m,path:[...m.path,b,k]})),_=i.rest?this.process(i.rest,{...m,path:[...m.path,y,...this.target==="openapi-3.0"?[i.items.length]:[]]}):null;this.target==="draft-2020-12"?(v.prefixItems=w,_&&(v.items=_)):this.target==="openapi-3.0"?(v.items={anyOf:w},_&&v.items.anyOf.push(_),v.minItems=w.length,_||(v.maxItems=w.length)):(v.items=w,_&&(v.additionalItems=_));const{minimum:E,maximum:A}=e._zod.bag;typeof E=="number"&&(v.minItems=E),typeof A=="number"&&(v.maxItems=A);break}case"record":{const v=x;v.type="object",(this.target==="draft-7"||this.target==="draft-2020-12")&&(v.propertyNames=this.process(i.keyType,{...m,path:[...m.path,"propertyNames"]})),v.additionalProperties=this.process(i.valueType,{...m,path:[...m.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{const v=x,b=Xae(i.entries);b.every(y=>typeof y=="number")&&(v.type="number"),b.every(y=>typeof y=="string")&&(v.type="string"),v.enum=b;break}case"literal":{const v=x,b=[];for(const y of i.values)if(y===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof y=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");b.push(Number(y))}else b.push(y);if(b.length!==0)if(b.length===1){const y=b[0];v.type=y===null?"null":typeof y,this.target==="draft-4"||this.target==="openapi-3.0"?v.enum=[y]:v.const=y}else b.every(y=>typeof y=="number")&&(v.type="number"),b.every(y=>typeof y=="string")&&(v.type="string"),b.every(y=>typeof y=="boolean")&&(v.type="string"),b.every(y=>y===null)&&(v.type="null"),v.enum=b;break}case"file":{const v=x,b={type:"string",format:"binary",contentEncoding:"binary"},{minimum:y,maximum:w,mime:_}=e._zod.bag;y!==void 0&&(b.minLength=y),w!==void 0&&(b.maxLength=w),_?_.length===1?(b.contentMediaType=_[0],Object.assign(v,b)):v.anyOf=_.map(E=>({...b,contentMediaType:E})):Object.assign(v,b);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{const v=this.process(i.innerType,m);this.target==="openapi-3.0"?(o.ref=i.innerType,x.nullable=!0):x.anyOf=[v,{type:"null"}];break}case"nonoptional":{this.process(i.innerType,m),o.ref=i.innerType;break}case"success":{const v=x;v.type="boolean";break}case"default":{this.process(i.innerType,m),o.ref=i.innerType,x.default=JSON.parse(JSON.stringify(i.defaultValue));break}case"prefault":{this.process(i.innerType,m),o.ref=i.innerType,this.io==="input"&&(x._prefault=JSON.parse(JSON.stringify(i.defaultValue)));break}case"catch":{this.process(i.innerType,m),o.ref=i.innerType;let v;try{v=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}x.default=v;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{const v=x,b=e._zod.pattern;if(!b)throw new Error("Pattern not found in template literal");v.type="string",v.pattern=b.source;break}case"pipe":{const v=this.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;this.process(v,m),o.ref=v;break}case"readonly":{this.process(i.innerType,m),o.ref=i.innerType,x.readOnly=!0;break}case"promise":{this.process(i.innerType,m),o.ref=i.innerType;break}case"optional":{this.process(i.innerType,m),o.ref=i.innerType;break}case"lazy":{const v=e._zod.innerType;this.process(v,m),o.ref=v;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}case"function":{if(this.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema");break}}}}const c=this.metadataRegistry.get(e);return c&&Object.assign(o.schema,c),this.io==="input"&&ar(e)&&(delete o.schema.examples,delete o.schema.default),this.io==="input"&&o.schema._prefault&&((r=o.schema).default??(r.default=o.schema._prefault)),delete o.schema._prefault,this.seen.get(e).schema}emit(e,n){var d,f,h,p,m,g;const r={cycles:(n==null?void 0:n.cycles)??"ref",reused:(n==null?void 0:n.reused)??"inline",external:(n==null?void 0:n.external)??void 0},i=this.seen.get(e);if(!i)throw new Error("Unprocessed schema. This is a bug in Zod.");const a=x=>{var _;const v=this.target==="draft-2020-12"?"$defs":"definitions";if(r.external){const E=(_=r.external.registry.get(x[0]))==null?void 0:_.id,A=r.external.uri??(k=>k);if(E)return{ref:A(E)};const j=x[1].defId??x[1].schema.id??`schema${this.counter++}`;return x[1].defId=j,{defId:j,ref:`${A("__shared")}#/${v}/${j}`}}if(x[1]===i)return{ref:"#"};const y=`#/${v}/`,w=x[1].schema.id??`__schema${this.counter++}`;return{defId:w,ref:y+w}},s=x=>{if(x[1].schema.$ref)return;const v=x[1],{ref:b,defId:y}=a(x);v.def={...v.schema},y&&(v.defId=y);const w=v.schema;for(const _ in w)delete w[_];w.$ref=b};if(r.cycles==="throw")for(const x of this.seen.entries()){const v=x[1];if(v.cycle)throw new Error(`Cycle detected: #/${(d=v.cycle)==null?void 0:d.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const x of this.seen.entries()){const v=x[1];if(e===x[0]){s(x);continue}if(r.external){const y=(f=r.external.registry.get(x[0]))==null?void 0:f.id;if(e!==x[0]&&y){s(x);continue}}if((h=this.metadataRegistry.get(x[0]))==null?void 0:h.id){s(x);continue}if(v.cycle){s(x);continue}if(v.count>1&&r.reused==="ref"){s(x);continue}}const o=(x,v)=>{const b=this.seen.get(x),y=b.def??b.schema,w={...y};if(b.ref===null)return;const _=b.ref;if(b.ref=null,_){o(_,v);const E=this.seen.get(_).schema;E.$ref&&(v.target==="draft-7"||v.target==="draft-4"||v.target==="openapi-3.0")?(y.allOf=y.allOf??[],y.allOf.push(E)):(Object.assign(y,E),Object.assign(y,w))}b.isParent||this.override({zodSchema:x,jsonSchema:y,path:b.path??[]})};for(const x of[...this.seen.entries()].reverse())o(x[0],{target:this.target});const l={};if(this.target==="draft-2020-12"?l.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?l.$schema="http://json-schema.org/draft-07/schema#":this.target==="draft-4"?l.$schema="http://json-schema.org/draft-04/schema#":this.target==="openapi-3.0"||console.warn(`Invalid target: ${this.target}`),(p=r.external)!=null&&p.uri){const x=(m=r.external.registry.get(e))==null?void 0:m.id;if(!x)throw new Error("Schema is missing an `id` property");l.$id=r.external.uri(x)}Object.assign(l,i.def);const c=((g=r.external)==null?void 0:g.defs)??{};for(const x of this.seen.entries()){const v=x[1];v.def&&v.defId&&(c[v.defId]=v.def)}r.external||Object.keys(c).length>0&&(this.target==="draft-2020-12"?l.$defs=c:l.definitions=c);try{return JSON.parse(JSON.stringify(l))}catch{throw new Error("Error converting schema to JSON.")}}}function p2(t,e){if(t instanceof qz){const r=new h2(e),i={};for(const o of t._idmap.entries()){const[l,c]=o;r.process(c)}const a={},s={registry:t,uri:e==null?void 0:e.uri,defs:i};for(const o of t._idmap.entries()){const[l,c]=o;a[l]=r.emit(c,{...e,external:s})}if(Object.keys(i).length>0){const o=r.target==="draft-2020-12"?"$defs":"definitions";a.__shared={[o]:i}}return{schemas:a}}const n=new h2(e);return n.process(t),n.emit(t,e)}function ar(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return ar(r.element,n);if(r.type==="set")return ar(r.valueType,n);if(r.type==="lazy")return ar(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return ar(r.innerType,n);if(r.type==="intersection")return ar(r.left,n)||ar(r.right,n);if(r.type==="record"||r.type==="map")return ar(r.keyType,n)||ar(r.valueType,n);if(r.type==="pipe")return ar(r.in,n)||ar(r.out,n);if(r.type==="object"){for(const i in r.shape)if(ar(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(ar(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(ar(i,n))return!0;return!!(r.rest&&ar(r.rest,n))}return!1}function hn(t){if(typeof t!="object"||t===null)return!1;const e=t;if(!("_zod"in e))return!1;const n=e._zod;return typeof n=="object"&&n!==null&&"def"in n}function kn(t){if(typeof t!="object"||t===null)return!1;const e=t;if(!("_def"in e)||"_zod"in e)return!1;const n=e._def;return typeof n=="object"&&n!=null&&"typeName"in n}function gse(t){return hn(t)&&console.warn("[WARNING] Attempting to use Zod 4 schema in a context where Zod 3 schema is expected. This may cause unexpected behavior."),kn(t)}function Lc(t){return!t||typeof t!="object"||Array.isArray(t)?!1:!!(hn(t)||kn(t))}function Gz(t){return typeof t=="object"&&t!==null&&"_def"in t&&typeof t._def=="object"&&t._def!==null&&"typeName"in t._def&&t._def.typeName==="ZodLiteral"}function Kz(t){return hn(t)?typeof t=="object"&&t!==null&&"_zod"in t&&typeof t._zod=="object"&&t._zod!==null&&"def"in t._zod&&typeof t._zod.def=="object"&&t._zod.def!==null&&"type"in t._zod.def&&t._zod.def.type==="literal":!1}function yse(t){return!!(Gz(t)||Kz(t))}async function Yz(t,e){if(hn(t))try{return{success:!0,data:await Vz(t,e)}}catch(n){return{success:!1,error:n}}if(kn(t))return await t.safeParseAsync(e);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}async function XT(t,e){if(hn(t))return await Vz(t,e);if(kn(t))return await t.parseAsync(e);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function vse(t,e){if(hn(t))try{return{success:!0,data:KT(t,e)}}catch(n){return{success:!1,error:n}}if(kn(t))return t.safeParse(e);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function xse(t,e){if(hn(t))return KT(t,e);if(kn(t))return t.parse(e);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function ZT(t){var e;if(hn(t))return(e=Tr.get(t))==null?void 0:e.description;if(kn(t)||"description"in t&&typeof t.description=="string")return t.description}function bse(t){if(!Lc(t))return!1;if(kn(t)){const e=t._def;if(e.typeName==="ZodObject"){const n=t;return!n.shape||Object.keys(n.shape).length===0}if(e.typeName==="ZodRecord")return!0}if(hn(t)){const e=t._zod.def;if(e.type==="object"){const n=t;return!n.shape||Object.keys(n.shape).length===0}if(e.type==="record")return!0}return typeof t=="object"&&t!==null&&!("shape"in t)}function Xz(t){return Lc(t)?kn(t)?t._def.typeName==="ZodString":hn(t)?t._zod.def.type==="string":!1:!1}function JT(t){return typeof t=="object"&&t!==null&&"_def"in t&&typeof t._def=="object"&&t._def!==null&&"typeName"in t._def&&t._def.typeName==="ZodObject"}function ts(t){return hn(t)?typeof t=="object"&&t!==null&&"_zod"in t&&typeof t._zod=="object"&&t._zod!==null&&"def"in t._zod&&typeof t._zod.def=="object"&&t._zod.def!==null&&"type"in t._zod.def&&t._zod.def.type==="object":!1}function gb(t){return hn(t)?typeof t=="object"&&t!==null&&"_zod"in t&&typeof t._zod=="object"&&t._zod!==null&&"def"in t._zod&&typeof t._zod.def=="object"&&t._zod.def!==null&&"type"in t._zod.def&&t._zod.def.type==="array":!1}function wse(t){return!!(JT(t)||ts(t))}function IE(t){if(kn(t))return t.shape;if(hn(t))return t._zod.def.shape;throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function _se(t,e){if(kn(t))return t.extend(e);if(hn(t))return tse(t,e);throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function Sse(t){if(kn(t))return t.partial();if(hn(t))return nse(Wz,t);throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function t0(t,e=!1){if(kn(t))return t.strict();if(ts(t)){const n=t._zod.def.shape;if(e)for(const[a,s]of Object.entries(t._zod.def.shape)){if(ts(s)){const l=t0(s,e);n[a]=l}else if(gb(s)){let l=s._zod.def.element;ts(l)&&(l=t0(l,e)),n[a]=eo(s,{...s._zod.def,element:l})}else n[a]=s;const o=Tr.get(s);o&&Tr.add(n[a],o)}const r=eo(t,{...t._zod.def,shape:n,catchall:mse(fse)}),i=Tr.get(t);return i&&Tr.add(r,i),r}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function $E(t,e=!1){if(JT(t))return t.passthrough();if(ts(t)){const n=t._zod.def.shape;if(e)for(const[a,s]of Object.entries(t._zod.def.shape)){if(ts(s)){const l=$E(s,e);n[a]=l}else if(gb(s)){let l=s._zod.def.element;ts(l)&&(l=$E(l,e)),n[a]=eo(s,{...s._zod.def,element:l})}else n[a]=s;const o=Tr.get(s);o&&Tr.add(n[a],o)}const r=eo(t,{...t._zod.def,shape:n,catchall:pse(dse)}),i=Tr.get(t);return i&&Tr.add(r,i),r}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function Ese(t){if(kn(t))try{const e=t.parse(void 0);return()=>e}catch{return}if(hn(t))try{const e=KT(t,void 0);return()=>e}catch{return}}function jse(t){return kn(t)&&"typeName"in t._def&&t._def.typeName==="ZodEffects"}function Ase(t){return hn(t)&&t._zod.def.type==="pipe"}function Dh(t,e,n){const r=n.get(t);if(r!==void 0)return r;if(kn(t))return jse(t)?Dh(t._def.schema,e,n):t;if(hn(t)){let i=t;if(Ase(t)&&(i=Dh(t._zod.def.in,e,n)),e){if(ts(i)){const s=i._zod.def.shape;for(const[o,l]of Object.entries(i._zod.def.shape))s[o]=Dh(l,e,n);i=eo(i,{...i._zod.def,shape:s})}else if(gb(i)){const s=Dh(i._zod.def.element,e,n);i=eo(i,{...i._zod.def,element:s})}}const a=Tr.get(t);return a&&Tr.add(i,a),n.set(t,i),i}throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function Zz(t,e=!1){return Dh(t,e,new WeakMap)}function kse(t,e){if(kn(t)){const n=IE(t),r={};for(const[i,a]of Object.entries(n))e(i,a)?r[i]=a.optional():r[i]=a;return t.extend(r)}if(hn(t)){const n=IE(t),r={...t._zod.def.shape};for(const[s,o]of Object.entries(n))e(s,o)&&(r[s]=new Wz({type:"optional",innerType:o}));const i=eo(t,{...t._zod.def,shape:r}),a=Tr.get(t);return a&&Tr.add(i,a),i}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function Tse(t){return t instanceof Error&&(t.constructor.name==="ZodError"||t.constructor.name==="$ZodError")}const Cse=Symbol("Let zodToJsonSchema decide on which parser to use"),Ose={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},Nse=t=>({...Ose,...t}),Pse=t=>{const e=Nse(t),n=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,flags:{hasReferencedOpenAiAnyType:!1},currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([r,i])=>[i._def,{def:i._def,path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))}},Jz=(t,e)=>{let n=0;for(;n<t.length&&n<e.length&&t[n]===e[n];n++);return[(t.length-n).toString(),...e.slice(n)].join("/")};function ci(t){if(t.target!=="openAi")return{};const e=[...t.basePath,t.definitionPath,t.openAiAnyTypeName];return t.flags.hasReferencedOpenAiAnyType=!0,{$ref:t.$refStrategy==="relative"?Jz(e,t.currentPath):e.join("/")}}function Qz(t,e,n,r){r!=null&&r.errorMessages&&n&&(t.errorMessage={...t.errorMessage,[e]:n})}function wt(t,e,n,r,i){t[e]=n,Qz(t,e,r,i)}var ft;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},t.find=(i,a)=>{for(const s of i)if(a(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(ft||(ft={}));var m2;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(m2||(m2={}));const Te=ft.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),No=t=>{switch(typeof t){case"undefined":return Te.undefined;case"string":return Te.string;case"number":return Number.isNaN(t)?Te.nan:Te.number;case"boolean":return Te.boolean;case"function":return Te.function;case"bigint":return Te.bigint;case"symbol":return Te.symbol;case"object":return Array.isArray(t)?Te.array:t===null?Te.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Te.promise:typeof Map<"u"&&t instanceof Map?Te.map:typeof Set<"u"&&t instanceof Set?Te.set:typeof Date<"u"&&t instanceof Date?Te.date:Te.object;default:return Te.unknown}},fe=ft.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class to extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let o=r,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(n(s))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof to))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ft.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n=Object.create(null),r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];n[a]=n[a]||[],n[a].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}to.create=t=>new to(t);const RE=(t,e)=>{let n;switch(t.code){case fe.invalid_type:t.received===Te.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case fe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ft.jsonStringifyReplacer)}`;break;case fe.unrecognized_keys:n=`Unrecognized key(s) in object: ${ft.joinValues(t.keys,", ")}`;break;case fe.invalid_union:n="Invalid input";break;case fe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ft.joinValues(t.options)}`;break;case fe.invalid_enum_value:n=`Invalid enum value. Expected ${ft.joinValues(t.options)}, received '${t.received}'`;break;case fe.invalid_arguments:n="Invalid function arguments";break;case fe.invalid_return_type:n="Invalid function return type";break;case fe.invalid_date:n="Invalid date";break;case fe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ft.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case fe.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case fe.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case fe.custom:n="Invalid input";break;case fe.invalid_intersection_types:n="Intersection results could not be merged";break;case fe.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case fe.not_finite:n="Number must be finite";break;default:n=e.defaultError,ft.assertNever(t)}return{message:n}};let Ise=RE;function $se(){return Ise}const Rse=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)o=c(s,{data:e,defaultError:o}).message;return{...i,path:a,message:o}};function xe(t,e){const n=$se(),r=Rse({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===RE?void 0:RE].filter(i=>!!i)});t.common.issues.push(r)}class ui{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return qe;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,s=await i.value;r.push({key:a,value:s})}return ui.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return qe;a.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[a.value]=s.value)}return{status:e.value,value:r}}}const qe=Object.freeze({status:"aborted"}),Lh=t=>({status:"dirty",value:t}),$i=t=>({status:"valid",value:t}),g2=t=>t.status==="aborted",y2=t=>t.status==="dirty",Hd=t=>t.status==="valid",n0=t=>typeof Promise<"u"&&t instanceof Promise;var Ne;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ne||(Ne={}));class bl{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const v2=(t,e)=>{if(Hd(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new to(t.common.issues);return this._error=n,this._error}}};function it(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,o)=>{const{message:l}=t;return s.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??r??o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:l??n??o.defaultError}},description:i}}class dt{get description(){return this._def.description}_getType(e){return No(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:No(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ui,ctx:{common:e.parent.common,data:e.data,parsedType:No(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(n0(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:No(e)},i=this._parseSync({data:e,path:r.path,parent:r});return v2(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:No(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return Hd(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>Hd(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:No(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(n0(i)?i:Promise.resolve(i));return v2(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const s=e(i),o=()=>a.addIssue({code:fe.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Wd({schema:this,typeName:he.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return al.create(this,this._def)}nullable(){return qd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ns.create(this)}promise(){return s0.create(this,this._def)}or(e){return i0.create([this,e],this._def)}and(e){return a0.create(this,e,this._def)}transform(e){return new Wd({...it(this._def),schema:this,typeName:he.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new LE({...it(this._def),innerType:this,defaultValue:n,typeName:he.ZodDefault})}brand(){return new ioe({typeName:he.ZodBranded,type:this,...it(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new FE({...it(this._def),innerType:this,catchValue:n,typeName:he.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return QT.create(this,e)}readonly(){return BE.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Mse=/^c[^\s-]{8,}$/i,Dse=/^[0-9a-z]+$/,Lse=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Fse=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Bse=/^[a-z0-9_-]{21}$/i,zse=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Use=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Hse=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Vse="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let M_;const Wse=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,qse=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Gse=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Kse=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Yse=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Xse=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,eU="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Zse=new RegExp(`^${eU}$`);function tU(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function Jse(t){return new RegExp(`^${tU(t)}$`)}function Qse(t){let e=`${eU}T${tU(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function eoe(t,e){return!!((e==="v4"||!e)&&Wse.test(t)||(e==="v6"||!e)&&Gse.test(t))}function toe(t,e){if(!zse.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function noe(t,e){return!!((e==="v4"||!e)&&qse.test(t)||(e==="v6"||!e)&&Kse.test(t))}class Wo extends dt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Te.string){const a=this._getOrReturnCtx(e);return xe(a,{code:fe.invalid_type,expected:Te.string,received:a.parsedType}),qe}const r=new ui;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const s=e.data.length>a.value,o=e.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(e,i),s?xe(i,{code:fe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&xe(i,{code:fe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")Hse.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"email",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")M_||(M_=new RegExp(Vse,"u")),M_.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"emoji",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")Fse.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"uuid",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")Bse.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"nanoid",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")Mse.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"cuid",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")Dse.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"cuid2",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")Lse.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"ulid",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),xe(i,{validation:"url",code:fe.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"regex",code:fe.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?Qse(a).test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?Zse.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?Jse(a).test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?Use.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"duration",code:fe.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?eoe(e.data,a.version)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"ip",code:fe.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?toe(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"jwt",code:fe.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?noe(e.data,a.version)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"cidr",code:fe.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?Yse.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"base64",code:fe.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?Xse.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"base64url",code:fe.invalid_string,message:a.message}),r.dirty()):ft.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:fe.invalid_string,...Ne.errToObj(r)})}_addCheck(e){return new Wo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ne.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ne.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ne.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ne.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ne.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ne.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ne.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ne.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ne.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ne.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ne.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ne.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ne.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Ne.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ne.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ne.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ne.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Ne.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ne.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ne.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ne.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ne.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ne.errToObj(n)})}nonempty(e){return this.min(1,Ne.errToObj(e))}trim(){return new Wo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Wo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Wo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Wo.create=t=>new Wo({checks:[],typeName:he.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...it(t)});function roe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=Number.parseInt(t.toFixed(i).replace(".","")),s=Number.parseInt(e.toFixed(i).replace(".",""));return a%s/10**i}class Jp extends dt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Te.number){const a=this._getOrReturnCtx(e);return xe(a,{code:fe.invalid_type,expected:Te.number,received:a.parsedType}),qe}let r;const i=new ui;for(const a of this._def.checks)a.kind==="int"?ft.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?roe(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.not_finite,message:a.message}),i.dirty()):ft.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ne.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ne.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ne.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ne.toString(n))}setLimit(e,n,r,i){return new Jp({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ne.toString(i)}]})}_addCheck(e){return new Jp({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ne.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ne.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ne.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ne.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ne.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ne.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ne.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ne.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ne.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ft.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Jp.create=t=>new Jp({checks:[],typeName:he.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...it(t)});class Qp extends dt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Te.bigint)return this._getInvalidInput(e);let r;const i=new ui;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):ft.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return xe(n,{code:fe.invalid_type,expected:Te.bigint,received:n.parsedType}),qe}gte(e,n){return this.setLimit("min",e,!0,Ne.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ne.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ne.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ne.toString(n))}setLimit(e,n,r,i){return new Qp({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ne.toString(i)}]})}_addCheck(e){return new Qp({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ne.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ne.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ne.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ne.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ne.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Qp.create=t=>new Qp({checks:[],typeName:he.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...it(t)});class x2 extends dt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Te.boolean){const r=this._getOrReturnCtx(e);return xe(r,{code:fe.invalid_type,expected:Te.boolean,received:r.parsedType}),qe}return $i(e.data)}}x2.create=t=>new x2({typeName:he.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...it(t)});class r0 extends dt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Te.date){const a=this._getOrReturnCtx(e);return xe(a,{code:fe.invalid_type,expected:Te.date,received:a.parsedType}),qe}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return xe(a,{code:fe.invalid_date}),qe}const r=new ui;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:fe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):ft.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new r0({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ne.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ne.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}r0.create=t=>new r0({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:he.ZodDate,...it(t)});class b2 extends dt{_parse(e){if(this._getType(e)!==Te.symbol){const r=this._getOrReturnCtx(e);return xe(r,{code:fe.invalid_type,expected:Te.symbol,received:r.parsedType}),qe}return $i(e.data)}}b2.create=t=>new b2({typeName:he.ZodSymbol,...it(t)});class w2 extends dt{_parse(e){if(this._getType(e)!==Te.undefined){const r=this._getOrReturnCtx(e);return xe(r,{code:fe.invalid_type,expected:Te.undefined,received:r.parsedType}),qe}return $i(e.data)}}w2.create=t=>new w2({typeName:he.ZodUndefined,...it(t)});class _2 extends dt{_parse(e){if(this._getType(e)!==Te.null){const r=this._getOrReturnCtx(e);return xe(r,{code:fe.invalid_type,expected:Te.null,received:r.parsedType}),qe}return $i(e.data)}}_2.create=t=>new _2({typeName:he.ZodNull,...it(t)});class ME extends dt{constructor(){super(...arguments),this._any=!0}_parse(e){return $i(e.data)}}ME.create=t=>new ME({typeName:he.ZodAny,...it(t)});class S2 extends dt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return $i(e.data)}}S2.create=t=>new S2({typeName:he.ZodUnknown,...it(t)});class wl extends dt{_parse(e){const n=this._getOrReturnCtx(e);return xe(n,{code:fe.invalid_type,expected:Te.never,received:n.parsedType}),qe}}wl.create=t=>new wl({typeName:he.ZodNever,...it(t)});class E2 extends dt{_parse(e){if(this._getType(e)!==Te.undefined){const r=this._getOrReturnCtx(e);return xe(r,{code:fe.invalid_type,expected:Te.void,received:r.parsedType}),qe}return $i(e.data)}}E2.create=t=>new E2({typeName:he.ZodVoid,...it(t)});class ns extends dt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Te.array)return xe(n,{code:fe.invalid_type,expected:Te.array,received:n.parsedType}),qe;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(s||o)&&(xe(n,{code:s?fe.too_big:fe.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(xe(n,{code:fe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(xe(n,{code:fe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,o)=>i.type._parseAsync(new bl(n,s,n.path,o)))).then(s=>ui.mergeArray(r,s));const a=[...n.data].map((s,o)=>i.type._parseSync(new bl(n,s,n.path,o)));return ui.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new ns({...this._def,minLength:{value:e,message:Ne.toString(n)}})}max(e,n){return new ns({...this._def,maxLength:{value:e,message:Ne.toString(n)}})}length(e,n){return new ns({...this._def,exactLength:{value:e,message:Ne.toString(n)}})}nonempty(e){return this.min(1,e)}}ns.create=(t,e)=>new ns({type:t,minLength:null,maxLength:null,exactLength:null,typeName:he.ZodArray,...it(e)});function $u(t){if(t instanceof nn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=al.create($u(r))}return new nn({...t._def,shape:()=>e})}else return t instanceof ns?new ns({...t._def,type:$u(t.element)}):t instanceof al?al.create($u(t.unwrap())):t instanceof qd?qd.create($u(t.unwrap())):t instanceof Fc?Fc.create(t.items.map(e=>$u(e))):t}class nn extends dt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ft.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Te.object){const c=this._getOrReturnCtx(e);return xe(c,{code:fe.invalid_type,expected:Te.object,received:c.parsedType}),qe}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof wl&&this._def.unknownKeys==="strip"))for(const c in i.data)s.includes(c)||o.push(c);const l=[];for(const c of s){const d=a[c],f=i.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new bl(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof wl){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of o)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(c==="strict")o.length>0&&(xe(i,{code:fe.unrecognized_keys,keys:o}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of o){const f=i.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new bl(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const f=await d.key,h=await d.value;c.push({key:f,value:h,alwaysSet:d.alwaysSet})}return c}).then(c=>ui.mergeObjectSync(r,c)):ui.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Ne.errToObj,new nn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var a,s;const i=((s=(a=this._def).errorMap)==null?void 0:s.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Ne.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new nn({...this._def,unknownKeys:"strip"})}passthrough(){return new nn({...this._def,unknownKeys:"passthrough"})}extend(e){return new nn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new nn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:he.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new nn({...this._def,catchall:e})}pick(e){const n={};for(const r of ft.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new nn({...this._def,shape:()=>n})}omit(e){const n={};for(const r of ft.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new nn({...this._def,shape:()=>n})}deepPartial(){return $u(this)}partial(e){const n={};for(const r of ft.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new nn({...this._def,shape:()=>n})}required(e){const n={};for(const r of ft.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof al;)a=a._def.innerType;n[r]=a}return new nn({...this._def,shape:()=>n})}keyof(){return nU(ft.objectKeys(this.shape))}}nn.create=(t,e)=>new nn({shape:()=>t,unknownKeys:"strip",catchall:wl.create(),typeName:he.ZodObject,...it(e)});nn.strictCreate=(t,e)=>new nn({shape:()=>t,unknownKeys:"strict",catchall:wl.create(),typeName:he.ZodObject,...it(e)});nn.lazycreate=(t,e)=>new nn({shape:t,unknownKeys:"strip",catchall:wl.create(),typeName:he.ZodObject,...it(e)});class i0 extends dt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new to(o.ctx.common.issues));return xe(n,{code:fe.invalid_union,unionErrors:s}),qe}if(n.common.async)return Promise.all(r.map(async a=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(l=>new to(l));return xe(n,{code:fe.invalid_union,unionErrors:o}),qe}}get options(){return this._def.options}}i0.create=(t,e)=>new i0({options:t,typeName:he.ZodUnion,...it(e)});function DE(t,e){const n=No(t),r=No(e);if(t===e)return{valid:!0,data:t};if(n===Te.object&&r===Te.object){const i=ft.objectKeys(e),a=ft.objectKeys(t).filter(o=>i.indexOf(o)!==-1),s={...t,...e};for(const o of a){const l=DE(t[o],e[o]);if(!l.valid)return{valid:!1};s[o]=l.data}return{valid:!0,data:s}}else if(n===Te.array&&r===Te.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const s=t[a],o=e[a],l=DE(s,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===Te.date&&r===Te.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class a0 extends dt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,s)=>{if(g2(a)||g2(s))return qe;const o=DE(a.value,s.value);return o.valid?((y2(a)||y2(s))&&n.dirty(),{status:n.value,value:o.data}):(xe(r,{code:fe.invalid_intersection_types}),qe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}a0.create=(t,e,n)=>new a0({left:t,right:e,typeName:he.ZodIntersection,...it(n)});class Fc extends dt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.array)return xe(r,{code:fe.invalid_type,expected:Te.array,received:r.parsedType}),qe;if(r.data.length<this._def.items.length)return xe(r,{code:fe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),qe;!this._def.rest&&r.data.length>this._def.items.length&&(xe(r,{code:fe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((s,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new bl(r,s,r.path,o)):null}).filter(s=>!!s);return r.common.async?Promise.all(a).then(s=>ui.mergeArray(n,s)):ui.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new Fc({...this._def,rest:e})}}Fc.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Fc({items:t,typeName:he.ZodTuple,rest:null,...it(e)})};class j2 extends dt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.map)return xe(r,{code:fe.invalid_type,expected:Te.map,received:r.parsedType}),qe;const i=this._def.keyType,a=this._def.valueType,s=[...r.data.entries()].map(([o,l],c)=>({key:i._parse(new bl(r,o,r.path,[c,"key"])),value:a._parse(new bl(r,l,r.path,[c,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of s){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return qe;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(c.value,d.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const l of s){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return qe;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(c.value,d.value)}return{status:n.value,value:o}}}}j2.create=(t,e,n)=>new j2({valueType:e,keyType:t,typeName:he.ZodMap,...it(n)});class em extends dt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.set)return xe(r,{code:fe.invalid_type,expected:Te.set,received:r.parsedType}),qe;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(xe(r,{code:fe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(xe(r,{code:fe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function s(l){const c=new Set;for(const d of l){if(d.status==="aborted")return qe;d.status==="dirty"&&n.dirty(),c.add(d.value)}return{status:n.value,value:c}}const o=[...r.data.values()].map((l,c)=>a._parse(new bl(r,l,r.path,c)));return r.common.async?Promise.all(o).then(l=>s(l)):s(o)}min(e,n){return new em({...this._def,minSize:{value:e,message:Ne.toString(n)}})}max(e,n){return new em({...this._def,maxSize:{value:e,message:Ne.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}em.create=(t,e)=>new em({valueType:t,minSize:null,maxSize:null,typeName:he.ZodSet,...it(e)});class A2 extends dt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}A2.create=(t,e)=>new A2({getter:t,typeName:he.ZodLazy,...it(e)});class k2 extends dt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return xe(n,{received:n.data,code:fe.invalid_literal,expected:this._def.value}),qe}return{status:"valid",value:e.data}}get value(){return this._def.value}}k2.create=(t,e)=>new k2({value:t,typeName:he.ZodLiteral,...it(e)});function nU(t,e){return new Vd({values:t,typeName:he.ZodEnum,...it(e)})}class Vd extends dt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return xe(n,{expected:ft.joinValues(r),received:n.parsedType,code:fe.invalid_type}),qe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return xe(n,{received:n.data,code:fe.invalid_enum_value,options:r}),qe}return $i(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Vd.create(e,{...this._def,...n})}exclude(e,n=this._def){return Vd.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Vd.create=nU;class T2 extends dt{_parse(e){const n=ft.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Te.string&&r.parsedType!==Te.number){const i=ft.objectValues(n);return xe(r,{expected:ft.joinValues(i),received:r.parsedType,code:fe.invalid_type}),qe}if(this._cache||(this._cache=new Set(ft.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=ft.objectValues(n);return xe(r,{received:r.data,code:fe.invalid_enum_value,options:i}),qe}return $i(e.data)}get enum(){return this._def.values}}T2.create=(t,e)=>new T2({values:t,typeName:he.ZodNativeEnum,...it(e)});class s0 extends dt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.promise&&n.common.async===!1)return xe(n,{code:fe.invalid_type,expected:Te.promise,received:n.parsedType}),qe;const r=n.parsedType===Te.promise?n.data:Promise.resolve(n.data);return $i(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}s0.create=(t,e)=>new s0({type:t,typeName:he.ZodPromise,...it(e)});class Wd extends dt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===he.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:s=>{xe(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(r.data,a);if(r.common.async)return Promise.resolve(s).then(async o=>{if(n.value==="aborted")return qe;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?qe:l.status==="dirty"||n.value==="dirty"?Lh(l.value):l});{if(n.value==="aborted")return qe;const o=this._def.schema._parseSync({data:s,path:r.path,parent:r});return o.status==="aborted"?qe:o.status==="dirty"||n.value==="dirty"?Lh(o.value):o}}if(i.type==="refinement"){const s=o=>{const l=i.refinement(o,a);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?qe:(o.status==="dirty"&&n.dirty(),s(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?qe:(o.status==="dirty"&&n.dirty(),s(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Hd(s))return qe;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>Hd(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:n.value,value:o})):qe);ft.assertNever(i)}}Wd.create=(t,e,n)=>new Wd({schema:t,typeName:he.ZodEffects,effect:e,...it(n)});Wd.createWithPreprocess=(t,e,n)=>new Wd({schema:e,effect:{type:"preprocess",transform:t},typeName:he.ZodEffects,...it(n)});class al extends dt{_parse(e){return this._getType(e)===Te.undefined?$i(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}al.create=(t,e)=>new al({innerType:t,typeName:he.ZodOptional,...it(e)});class qd extends dt{_parse(e){return this._getType(e)===Te.null?$i(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qd.create=(t,e)=>new qd({innerType:t,typeName:he.ZodNullable,...it(e)});class LE extends dt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Te.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}LE.create=(t,e)=>new LE({innerType:t,typeName:he.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...it(e)});class FE extends dt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return n0(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new to(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new to(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}FE.create=(t,e)=>new FE({innerType:t,typeName:he.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...it(e)});class C2 extends dt{_parse(e){if(this._getType(e)!==Te.nan){const r=this._getOrReturnCtx(e);return xe(r,{code:fe.invalid_type,expected:Te.nan,received:r.parsedType}),qe}return{status:"valid",value:e.data}}}C2.create=t=>new C2({typeName:he.ZodNaN,...it(t)});class ioe extends dt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class QT extends dt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?qe:a.status==="dirty"?(n.dirty(),Lh(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?qe:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new QT({in:e,out:n,typeName:he.ZodPipeline})}}class BE extends dt{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Hd(i)&&(i.value=Object.freeze(i.value)),i);return n0(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}BE.create=(t,e)=>new BE({innerType:t,typeName:he.ZodReadonly,...it(e)});nn.lazycreate;var he;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(he||(he={}));const eC=Wo.create,O2=ME.create;wl.create;ns.create;const tC=nn.create;nn.strictCreate;i0.create;a0.create;Fc.create;Vd.create;s0.create;al.create;qd.create;function aoe(t,e){var r,i,a;const n={type:"array"};return(r=t.type)!=null&&r._def&&((a=(i=t.type)==null?void 0:i._def)==null?void 0:a.typeName)!==he.ZodAny&&(n.items=xt(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&wt(n,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&wt(n,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(wt(n,"minItems",t.exactLength.value,t.exactLength.message,e),wt(n,"maxItems",t.exactLength.value,t.exactLength.message,e)),n}function soe(t,e){const n={type:"integer",format:"int64"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?wt(n,"minimum",r.value,r.message,e):wt(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),wt(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?wt(n,"maximum",r.value,r.message,e):wt(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),wt(n,"maximum",r.value,r.message,e));break;case"multipleOf":wt(n,"multipleOf",r.value,r.message,e);break}return n}function ooe(){return{type:"boolean"}}function rU(t,e){return xt(t.type._def,e)}const loe=(t,e)=>xt(t.innerType._def,e);function iU(t,e,n){const r=n??e.dateStrategy;if(Array.isArray(r))return{anyOf:r.map(i=>iU(t,e,i))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return coe(t,e)}}const coe=(t,e)=>{const n={type:"integer",format:"unix-time"};if(e.target==="openApi3")return n;for(const r of t.checks)switch(r.kind){case"min":wt(n,"minimum",r.value,r.message,e);break;case"max":wt(n,"maximum",r.value,r.message,e);break}return n};function uoe(t,e){return{...xt(t.innerType._def,e),default:t.defaultValue()}}function doe(t,e){return e.effectStrategy==="input"?xt(t.schema._def,e):ci(e)}function foe(t){return{type:"string",enum:Array.from(t.values)}}const hoe=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function poe(t,e){const n=[xt(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),xt(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(a=>!!a);let r=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const i=[];return n.forEach(a=>{if(hoe(a))i.push(...a.allOf),a.unevaluatedProperties===void 0&&(r=void 0);else{let s=a;if("additionalProperties"in a&&a.additionalProperties===!1){const{additionalProperties:o,...l}=a;s=l}else r=void 0;i.push(s)}}),i.length?{allOf:i,...r}:void 0}function moe(t,e){const n=typeof t.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[t.value]}:{type:n==="bigint"?"integer":n,const:t.value}}let D_;const Fi={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(D_===void 0&&(D_=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),D_),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function aU(t,e){const n={type:"string"};if(t.checks)for(const r of t.checks)switch(r.kind){case"min":wt(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,e);break;case"max":wt(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,e);break;case"email":switch(e.emailStrategy){case"format:email":Bi(n,"email",r.message,e);break;case"format:idn-email":Bi(n,"idn-email",r.message,e);break;case"pattern:zod":nr(n,Fi.email,r.message,e);break}break;case"url":Bi(n,"uri",r.message,e);break;case"uuid":Bi(n,"uuid",r.message,e);break;case"regex":nr(n,r.regex,r.message,e);break;case"cuid":nr(n,Fi.cuid,r.message,e);break;case"cuid2":nr(n,Fi.cuid2,r.message,e);break;case"startsWith":nr(n,RegExp(`^${L_(r.value,e)}`),r.message,e);break;case"endsWith":nr(n,RegExp(`${L_(r.value,e)}$`),r.message,e);break;case"datetime":Bi(n,"date-time",r.message,e);break;case"date":Bi(n,"date",r.message,e);break;case"time":Bi(n,"time",r.message,e);break;case"duration":Bi(n,"duration",r.message,e);break;case"length":wt(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,e),wt(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,e);break;case"includes":nr(n,RegExp(L_(r.value,e)),r.message,e);break;case"ip":r.version!=="v6"&&Bi(n,"ipv4",r.message,e),r.version!=="v4"&&Bi(n,"ipv6",r.message,e);break;case"base64url":nr(n,Fi.base64url,r.message,e);break;case"jwt":nr(n,Fi.jwt,r.message,e);break;case"cidr":r.version!=="v6"&&nr(n,Fi.ipv4Cidr,r.message,e),r.version!=="v4"&&nr(n,Fi.ipv6Cidr,r.message,e);break;case"emoji":nr(n,Fi.emoji(),r.message,e);break;case"ulid":nr(n,Fi.ulid,r.message,e);break;case"base64":switch(e.base64Strategy){case"format:binary":Bi(n,"binary",r.message,e);break;case"contentEncoding:base64":wt(n,"contentEncoding","base64",r.message,e);break;case"pattern:zod":nr(n,Fi.base64,r.message,e);break}break;case"nanoid":nr(n,Fi.nanoid,r.message,e);break}return n}function L_(t,e){return e.patternStrategy==="escape"?yoe(t):t}const goe=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function yoe(t){let e="";for(let n=0;n<t.length;n++)goe.has(t[n])||(e+="\\"),e+=t[n];return e}function Bi(t,e,n,r){var i;t.format||(i=t.anyOf)!=null&&i.some(a=>a.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&r.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...n&&r.errorMessages&&{errorMessage:{format:n}}})):wt(t,"format",e,n,r)}function nr(t,e,n,r){var i;t.pattern||(i=t.allOf)!=null&&i.some(a=>a.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&r.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:N2(e,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):wt(t,"pattern",N2(e,r),n,r)}function N2(t,e){var l;if(!e.applyRegexFlags||!t.flags)return t.source;const n={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},r=n.i?t.source.toLowerCase():t.source;let i="",a=!1,s=!1,o=!1;for(let c=0;c<r.length;c++){if(a){i+=r[c],a=!1;continue}if(n.i){if(s){if(r[c].match(/[a-z]/)){o?(i+=r[c],i+=`${r[c-2]}-${r[c]}`.toUpperCase(),o=!1):r[c+1]==="-"&&((l=r[c+2])!=null&&l.match(/[a-z]/))?(i+=r[c],o=!0):i+=`${r[c]}${r[c].toUpperCase()}`;continue}}else if(r[c].match(/[a-z]/)){i+=`[${r[c]}${r[c].toUpperCase()}]`;continue}}if(n.m){if(r[c]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(r[c]==="$"){i+=`($|(?=[\r
]))`;continue}}if(n.s&&r[c]==="."){i+=s?`${r[c]}\r
`:`[${r[c]}\r
]`;continue}i+=r[c],r[c]==="\\"?a=!0:s&&r[c]==="]"?s=!1:!s&&r[c]==="["&&(s=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return i}function sU(t,e){var r,i,a,s,o,l;if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&((r=t.keyType)==null?void 0:r._def.typeName)===he.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((c,d)=>({...c,[d]:xt(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",d]})??ci(e)}),{}),additionalProperties:e.rejectedAdditionalProperties};const n={type:"object",additionalProperties:xt(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??e.allowedAdditionalProperties};if(e.target==="openApi3")return n;if(((i=t.keyType)==null?void 0:i._def.typeName)===he.ZodString&&((a=t.keyType._def.checks)!=null&&a.length)){const{type:c,...d}=aU(t.keyType._def,e);return{...n,propertyNames:d}}else{if(((s=t.keyType)==null?void 0:s._def.typeName)===he.ZodEnum)return{...n,propertyNames:{enum:t.keyType._def.values}};if(((o=t.keyType)==null?void 0:o._def.typeName)===he.ZodBranded&&t.keyType._def.type._def.typeName===he.ZodString&&((l=t.keyType._def.type._def.checks)!=null&&l.length)){const{type:c,...d}=rU(t.keyType._def,e);return{...n,propertyNames:d}}}return n}function voe(t,e){if(e.mapStrategy==="record")return sU(t,e);const n=xt(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||ci(e),r=xt(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||ci(e);return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function xoe(t){const e=t.values,r=Object.keys(t.values).filter(a=>typeof e[e[a]]!="number").map(a=>e[a]),i=Array.from(new Set(r.map(a=>typeof a)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:r}}function boe(t){return t.target==="openAi"?void 0:{not:ci({...t,currentPath:[...t.currentPath,"not"]})}}function woe(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const o0={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function _oe(t,e){if(e.target==="openApi3")return P2(t,e);const n=t.options instanceof Map?Array.from(t.options.values()):t.options;if(n.every(r=>r._def.typeName in o0&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((i,a)=>{const s=o0[a._def.typeName];return s&&!i.includes(s)?[...i,s]:i},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((i,a)=>{const s=typeof a._def.value;switch(s){case"string":case"number":case"boolean":return[...i,s];case"bigint":return[...i,"integer"];case"object":return a._def.value===null?[...i,"null"]:i;case"symbol":case"undefined":case"function":default:return i}},[]);if(r.length===n.length){const i=r.filter((a,s,o)=>o.indexOf(a)===s);return{type:i.length>1?i:i[0],enum:n.reduce((a,s)=>a.includes(s._def.value)?a:[...a,s._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,i)=>[...r,...i._def.values.filter(a=>!r.includes(a))],[])};return P2(t,e)}const P2=(t,e)=>{const n=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((r,i)=>xt(r._def,{...e,currentPath:[...e.currentPath,"anyOf",`${i}`]})).filter(r=>!!r&&(!e.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function Soe(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:o0[t.innerType._def.typeName],nullable:!0}:{type:[o0[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const r=xt(t.innerType._def,{...e,currentPath:[...e.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const n=xt(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function Eoe(t,e){const n={type:"number"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"int":n.type="integer",Qz(n,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?wt(n,"minimum",r.value,r.message,e):wt(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),wt(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?wt(n,"maximum",r.value,r.message,e):wt(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),wt(n,"maximum",r.value,r.message,e));break;case"multipleOf":wt(n,"multipleOf",r.value,r.message,e);break}return n}function joe(t,e){const n=e.target==="openAi",r={type:"object",properties:{}},i=[],a=t.shape();for(const o in a){let l=a[o];if(l===void 0||l._def===void 0)continue;let c=koe(l);c&&n&&(l._def.typeName==="ZodOptional"&&(l=l._def.innerType),l.isNullable()||(l=l.nullable()),c=!1);const d=xt(l._def,{...e,currentPath:[...e.currentPath,"properties",o],propertyPath:[...e.currentPath,"properties",o]});d!==void 0&&(r.properties[o]=d,c||i.push(o))}i.length&&(r.required=i);const s=Aoe(t,e);return s!==void 0&&(r.additionalProperties=s),r}function Aoe(t,e){if(t.catchall._def.typeName!=="ZodNever")return xt(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]});switch(t.unknownKeys){case"passthrough":return e.allowedAdditionalProperties;case"strict":return e.rejectedAdditionalProperties;case"strip":return e.removeAdditionalStrategy==="strict"?e.allowedAdditionalProperties:e.rejectedAdditionalProperties}}function koe(t){try{return t.isOptional()}catch{return!0}}const Toe=(t,e)=>{var r;if(e.currentPath.toString()===((r=e.propertyPath)==null?void 0:r.toString()))return xt(t.innerType._def,e);const n=xt(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return n?{anyOf:[{not:ci(e)},n]}:ci(e)},Coe=(t,e)=>{if(e.pipeStrategy==="input")return xt(t.in._def,e);if(e.pipeStrategy==="output")return xt(t.out._def,e);const n=xt(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),r=xt(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(i=>i!==void 0)}};function Ooe(t,e){return xt(t.type._def,e)}function Noe(t,e){const r={type:"array",uniqueItems:!0,items:xt(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&wt(r,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&wt(r,"maxItems",t.maxSize.value,t.maxSize.message,e),r}function Poe(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((n,r)=>xt(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:xt(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((n,r)=>xt(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function Ioe(t){return{not:ci(t)}}function $oe(t){return ci(t)}const Roe=(t,e)=>xt(t.innerType._def,e),Moe=(t,e,n)=>{switch(e){case he.ZodString:return aU(t,n);case he.ZodNumber:return Eoe(t,n);case he.ZodObject:return joe(t,n);case he.ZodBigInt:return soe(t,n);case he.ZodBoolean:return ooe();case he.ZodDate:return iU(t,n);case he.ZodUndefined:return Ioe(n);case he.ZodNull:return woe(n);case he.ZodArray:return aoe(t,n);case he.ZodUnion:case he.ZodDiscriminatedUnion:return _oe(t,n);case he.ZodIntersection:return poe(t,n);case he.ZodTuple:return Poe(t,n);case he.ZodRecord:return sU(t,n);case he.ZodLiteral:return moe(t,n);case he.ZodEnum:return foe(t);case he.ZodNativeEnum:return xoe(t);case he.ZodNullable:return Soe(t,n);case he.ZodOptional:return Toe(t,n);case he.ZodMap:return voe(t,n);case he.ZodSet:return Noe(t,n);case he.ZodLazy:return()=>t.getter()._def;case he.ZodPromise:return Ooe(t,n);case he.ZodNaN:case he.ZodNever:return boe(n);case he.ZodEffects:return doe(t,n);case he.ZodAny:return ci(n);case he.ZodUnknown:return $oe(n);case he.ZodDefault:return uoe(t,n);case he.ZodBranded:return rU(t,n);case he.ZodReadonly:return Roe(t,n);case he.ZodCatch:return loe(t,n);case he.ZodPipeline:return Coe(t,n);case he.ZodFunction:case he.ZodVoid:case he.ZodSymbol:return;default:return(r=>{})()}};function xt(t,e,n=!1){var o;const r=e.seen.get(t);if(e.override){const l=(o=e.override)==null?void 0:o.call(e,t,e,r,n);if(l!==Cse)return l}if(r&&!n){const l=Doe(r,e);if(l!==void 0)return l}const i={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,i);const a=Moe(t,t.typeName,e),s=typeof a=="function"?xt(a(),e):a;if(s&&Loe(t,e,s),e.postProcess){const l=e.postProcess(s,t,e);return i.jsonSchema=s,l}return i.jsonSchema=s,s}const Doe=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:Jz(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((n,r)=>e.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),ci(e)):e.$refStrategy==="seen"?ci(e):void 0}},Loe=(t,e,n)=>(t.description&&(n.description=t.description,e.markdownDescription&&(n.markdownDescription=t.description)),n),Foe=(t,e)=>{const n=Pse(e);let r;const i=e==null?void 0:e.name,a=xt(t._def,n,!1)??ci(n);n.flags.hasReferencedOpenAiAnyType&&(r||(r={}),r[n.openAiAnyTypeName]||(r[n.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:n.$refStrategy==="relative"?"1":[...n.basePath,n.definitionPath,n.openAiAnyTypeName].join("/")}}));const s=i===void 0?r?{...a,[n.definitionPath]:r}:a:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,i].join("/"),[n.definitionPath]:{...r,[i]:a}};return n.target==="jsonSchema7"?s.$schema="http://json-schema.org/draft-07/schema#":(n.target==="jsonSchema2019-09"||n.target==="openAi")&&(s.$schema="https://json-schema.org/draft/2019-09/schema#"),n.target==="openAi"&&("anyOf"in s||"oneOf"in s||"allOf"in s||"type"in s&&Array.isArray(s.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),s};function jc(t,e){const n=typeof t;if(n!==typeof e)return!1;if(Array.isArray(t)){if(!Array.isArray(e))return!1;const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(!jc(t[i],e[i]))return!1;return!0}if(n==="object"){if(!t||!e)return t===e;const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(const s of r)if(!jc(t[s],e[s]))return!1;return!0}return t===e}function Wi(t){return encodeURI(Boe(t))}function Boe(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}const zoe={prefixItems:!0,items:!0,allOf:!0,anyOf:!0,oneOf:!0},Uoe={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependentSchemas:!0},Hoe={id:!0,$id:!0,$ref:!0,$schema:!0,$anchor:!0,$vocabulary:!0,$comment:!0,default:!0,enum:!0,const:!0,required:!0,type:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};let Voe=typeof self<"u"&&self.location&&self.location.origin!=="null"?new URL(self.location.origin+self.location.pathname+location.search):new URL("https://github.com/cfworker");function qo(t,e=Object.create(null),n=Voe,r=""){if(t&&typeof t=="object"&&!Array.isArray(t)){const a=t.$id||t.id;if(a){const s=new URL(a,n.href);s.hash.length>1?e[s.href]=t:(s.hash="",r===""?n=s:qo(t,e,n))}}else if(t!==!0&&t!==!1)return e;const i=n.href+(r?"#"+r:"");if(e[i]!==void 0)throw new Error(`Duplicate schema URI "${i}".`);if(e[i]=t,t===!0||t===!1)return e;if(t.__absolute_uri__===void 0&&Object.defineProperty(t,"__absolute_uri__",{enumerable:!1,value:i}),t.$ref&&t.__absolute_ref__===void 0){const a=new URL(t.$ref,n.href);a.hash=a.hash,Object.defineProperty(t,"__absolute_ref__",{enumerable:!1,value:a.href})}if(t.$recursiveRef&&t.__absolute_recursive_ref__===void 0){const a=new URL(t.$recursiveRef,n.href);a.hash=a.hash,Object.defineProperty(t,"__absolute_recursive_ref__",{enumerable:!1,value:a.href})}if(t.$anchor){const a=new URL("#"+t.$anchor,n.href);e[a.href]=t}for(let a in t){if(Hoe[a])continue;const s=`${r}/${Wi(a)}`,o=t[a];if(Array.isArray(o)){if(zoe[a]){const l=o.length;for(let c=0;c<l;c++)qo(o[c],e,n,`${s}/${c}`)}}else if(Uoe[a])for(let l in o)qo(o[l],e,n,`${s}/${Wi(l)}`);else qo(o,e,n,s)}return e}const Woe=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,qoe=[0,31,28,31,30,31,30,31,31,30,31,30,31],Goe=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,Koe=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,Yoe=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Xoe=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,Zoe=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)(?:\.(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,Joe=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,Qoe=/^(?:\/(?:[^~/]|~0|~1)*)*$/,ele=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,tle=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,nle=t=>{if(t[0]==='"')return!1;const[e,n,...r]=t.split("@");return!e||!n||r.length!==0||e.length>64||n.length>253||e[0]==="."||e.endsWith(".")||e.includes("..")||!/^[a-z0-9.-]+$/i.test(n)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(e)?!1:n.split(".").every(i=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(i))},rle=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ile=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,ale=t=>t.length>1&&t.length<80&&(/^P\d+([.,]\d+)?W$/.test(t)||/^P[\dYMDTHS]*(\d[.,]\d+)?[YMDHS]$/.test(t)&&/^P([.,\d]+Y)?([.,\d]+M)?([.,\d]+D)?(T([.,\d]+H)?([.,\d]+M)?([.,\d]+S)?)?$/.test(t));function $a(t){return t.test.bind(t)}const I2={date:oU,time:lU.bind(void 0,!1),"date-time":lle,duration:ale,uri:dle,"uri-reference":$a(Yoe),"uri-template":$a(Xoe),url:$a(Zoe),email:nle,hostname:$a(Koe),ipv4:$a(rle),ipv6:$a(ile),regex:hle,uuid:$a(Joe),"json-pointer":$a(Qoe),"json-pointer-uri-fragment":$a(ele),"relative-json-pointer":$a(tle)};function sle(t){return t%4===0&&(t%100!==0||t%400===0)}function oU(t){const e=t.match(Woe);if(!e)return!1;const n=+e[1],r=+e[2],i=+e[3];return r>=1&&r<=12&&i>=1&&i<=(r==2&&sle(n)?29:qoe[r])}function lU(t,e){const n=e.match(Goe);if(!n)return!1;const r=+n[1],i=+n[2],a=+n[3],s=!!n[5];return(r<=23&&i<=59&&a<=59||r==23&&i==59&&a==60)&&(!t||s)}const ole=/t|\s/i;function lle(t){const e=t.split(ole);return e.length==2&&oU(e[0])&&lU(!0,e[1])}const cle=/\/|:/,ule=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function dle(t){return cle.test(t)&&ule.test(t)}const fle=/[^\\]\\Z/;function hle(t){if(fle.test(t))return!1;try{return new RegExp(t,"u"),!0}catch{return!1}}function ple(t){let e=0,n=t.length,r=0,i;for(;r<n;)e++,i=t.charCodeAt(r++),i>=55296&&i<=56319&&r<n&&(i=t.charCodeAt(r),(i&64512)==56320&&r++);return e}function Yt(t,e,n="2019-09",r=qo(e),i=!0,a=null,s="#",o="#",l=Object.create(null)){if(e===!0)return{valid:!0,errors:[]};if(e===!1)return{valid:!1,errors:[{instanceLocation:s,keyword:"false",keywordLocation:s,error:"False boolean schema."}]};const c=typeof t;let d;switch(c){case"boolean":case"number":case"string":d=c;break;case"object":t===null?d="null":Array.isArray(t)?d="array":d="object";break;default:throw new Error(`Instances of "${c}" type are not supported.`)}const{$ref:f,$recursiveRef:h,$recursiveAnchor:p,type:m,const:g,enum:x,required:v,not:b,anyOf:y,allOf:w,oneOf:_,if:E,then:A,else:j,format:k,properties:C,patternProperties:T,additionalProperties:O,unevaluatedProperties:L,minProperties:R,maxProperties:F,propertyNames:U,dependentRequired:V,dependentSchemas:D,dependencies:B,prefixItems:P,items:W,additionalItems:G,unevaluatedItems:$,contains:ee,minContains:ie,maxContains:I,minItems:N,maxItems:K,uniqueItems:z,minimum:Z,maximum:J,exclusiveMinimum:Y,exclusiveMaximum:me,multipleOf:le,minLength:ve,maxLength:oe,pattern:Be,__absolute_ref__:ke,__absolute_recursive_ref__:Me}=e,ae=[];if(p===!0&&a===null&&(a=e),h==="#"){const _e=a===null?r[Me]:a,ye=`${o}/$recursiveRef`,be=Yt(t,a===null?e:a,n,r,i,_e,s,ye,l);be.valid||ae.push({instanceLocation:s,keyword:"$recursiveRef",keywordLocation:ye,error:"A subschema had errors."},...be.errors)}if(f!==void 0){const ye=r[ke||f];if(ye===void 0){let q=`Unresolved $ref "${f}".`;throw ke&&ke!==f&&(q+=`  Absolute URI "${ke}".`),q+=`
Known schemas:
- ${Object.keys(r).join(`
- `)}`,new Error(q)}const be=`${o}/$ref`,ge=Yt(t,ye,n,r,i,a,s,be,l);if(ge.valid||ae.push({instanceLocation:s,keyword:"$ref",keywordLocation:be,error:"A subschema had errors."},...ge.errors),n==="4"||n==="7")return{valid:ae.length===0,errors:ae}}if(Array.isArray(m)){let _e=m.length,ye=!1;for(let be=0;be<_e;be++)if(d===m[be]||m[be]==="integer"&&d==="number"&&t%1===0&&t===t){ye=!0;break}ye||ae.push({instanceLocation:s,keyword:"type",keywordLocation:`${o}/type`,error:`Instance type "${d}" is invalid. Expected "${m.join('", "')}".`})}else m==="integer"?(d!=="number"||t%1||t!==t)&&ae.push({instanceLocation:s,keyword:"type",keywordLocation:`${o}/type`,error:`Instance type "${d}" is invalid. Expected "${m}".`}):m!==void 0&&d!==m&&ae.push({instanceLocation:s,keyword:"type",keywordLocation:`${o}/type`,error:`Instance type "${d}" is invalid. Expected "${m}".`});if(g!==void 0&&(d==="object"||d==="array"?jc(t,g)||ae.push({instanceLocation:s,keyword:"const",keywordLocation:`${o}/const`,error:`Instance does not match ${JSON.stringify(g)}.`}):t!==g&&ae.push({instanceLocation:s,keyword:"const",keywordLocation:`${o}/const`,error:`Instance does not match ${JSON.stringify(g)}.`})),x!==void 0&&(d==="object"||d==="array"?x.some(_e=>jc(t,_e))||ae.push({instanceLocation:s,keyword:"enum",keywordLocation:`${o}/enum`,error:`Instance does not match any of ${JSON.stringify(x)}.`}):x.some(_e=>t===_e)||ae.push({instanceLocation:s,keyword:"enum",keywordLocation:`${o}/enum`,error:`Instance does not match any of ${JSON.stringify(x)}.`})),b!==void 0){const _e=`${o}/not`;Yt(t,b,n,r,i,a,s,_e).valid&&ae.push({instanceLocation:s,keyword:"not",keywordLocation:_e,error:'Instance matched "not" schema.'})}let At=[];if(y!==void 0){const _e=`${o}/anyOf`,ye=ae.length;let be=!1;for(let ge=0;ge<y.length;ge++){const q=y[ge],X=Object.create(l),re=Yt(t,q,n,r,i,p===!0?a:null,s,`${_e}/${ge}`,X);ae.push(...re.errors),be=be||re.valid,re.valid&&At.push(X)}be?ae.length=ye:ae.splice(ye,0,{instanceLocation:s,keyword:"anyOf",keywordLocation:_e,error:"Instance does not match any subschemas."})}if(w!==void 0){const _e=`${o}/allOf`,ye=ae.length;let be=!0;for(let ge=0;ge<w.length;ge++){const q=w[ge],X=Object.create(l),re=Yt(t,q,n,r,i,p===!0?a:null,s,`${_e}/${ge}`,X);ae.push(...re.errors),be=be&&re.valid,re.valid&&At.push(X)}be?ae.length=ye:ae.splice(ye,0,{instanceLocation:s,keyword:"allOf",keywordLocation:_e,error:"Instance does not match every subschema."})}if(_!==void 0){const _e=`${o}/oneOf`,ye=ae.length,be=_.filter((ge,q)=>{const X=Object.create(l),re=Yt(t,ge,n,r,i,p===!0?a:null,s,`${_e}/${q}`,X);return ae.push(...re.errors),re.valid&&At.push(X),re.valid}).length;be===1?ae.length=ye:ae.splice(ye,0,{instanceLocation:s,keyword:"oneOf",keywordLocation:_e,error:`Instance does not match exactly one subschema (${be} matches).`})}if((d==="object"||d==="array")&&Object.assign(l,...At),E!==void 0){const _e=`${o}/if`;if(Yt(t,E,n,r,i,a,s,_e,l).valid){if(A!==void 0){const be=Yt(t,A,n,r,i,a,s,`${o}/then`,l);be.valid||ae.push({instanceLocation:s,keyword:"if",keywordLocation:_e,error:'Instance does not match "then" schema.'},...be.errors)}}else if(j!==void 0){const be=Yt(t,j,n,r,i,a,s,`${o}/else`,l);be.valid||ae.push({instanceLocation:s,keyword:"if",keywordLocation:_e,error:'Instance does not match "else" schema.'},...be.errors)}}if(d==="object"){if(v!==void 0)for(const ge of v)ge in t||ae.push({instanceLocation:s,keyword:"required",keywordLocation:`${o}/required`,error:`Instance does not have required property "${ge}".`});const _e=Object.keys(t);if(R!==void 0&&_e.length<R&&ae.push({instanceLocation:s,keyword:"minProperties",keywordLocation:`${o}/minProperties`,error:`Instance does not have at least ${R} properties.`}),F!==void 0&&_e.length>F&&ae.push({instanceLocation:s,keyword:"maxProperties",keywordLocation:`${o}/maxProperties`,error:`Instance does not have at least ${F} properties.`}),U!==void 0){const ge=`${o}/propertyNames`;for(const q in t){const X=`${s}/${Wi(q)}`,re=Yt(q,U,n,r,i,a,X,ge);re.valid||ae.push({instanceLocation:s,keyword:"propertyNames",keywordLocation:ge,error:`Property name "${q}" does not match schema.`},...re.errors)}}if(V!==void 0){const ge=`${o}/dependantRequired`;for(const q in V)if(q in t){const X=V[q];for(const re of X)re in t||ae.push({instanceLocation:s,keyword:"dependentRequired",keywordLocation:ge,error:`Instance has "${q}" but does not have "${re}".`})}}if(D!==void 0)for(const ge in D){const q=`${o}/dependentSchemas`;if(ge in t){const X=Yt(t,D[ge],n,r,i,a,s,`${q}/${Wi(ge)}`,l);X.valid||ae.push({instanceLocation:s,keyword:"dependentSchemas",keywordLocation:q,error:`Instance has "${ge}" but does not match dependant schema.`},...X.errors)}}if(B!==void 0){const ge=`${o}/dependencies`;for(const q in B)if(q in t){const X=B[q];if(Array.isArray(X))for(const re of X)re in t||ae.push({instanceLocation:s,keyword:"dependencies",keywordLocation:ge,error:`Instance has "${q}" but does not have "${re}".`});else{const re=Yt(t,X,n,r,i,a,s,`${ge}/${Wi(q)}`);re.valid||ae.push({instanceLocation:s,keyword:"dependencies",keywordLocation:ge,error:`Instance has "${q}" but does not match dependant schema.`},...re.errors)}}}const ye=Object.create(null);let be=!1;if(C!==void 0){const ge=`${o}/properties`;for(const q in C){if(!(q in t))continue;const X=`${s}/${Wi(q)}`,re=Yt(t[q],C[q],n,r,i,a,X,`${ge}/${Wi(q)}`);if(re.valid)l[q]=ye[q]=!0;else if(be=i,ae.push({instanceLocation:s,keyword:"properties",keywordLocation:ge,error:`Property "${q}" does not match schema.`},...re.errors),be)break}}if(!be&&T!==void 0){const ge=`${o}/patternProperties`;for(const q in T){const X=new RegExp(q,"u"),re=T[q];for(const Oe in t){if(!X.test(Oe))continue;const ct=`${s}/${Wi(Oe)}`,Kt=Yt(t[Oe],re,n,r,i,a,ct,`${ge}/${Wi(q)}`);Kt.valid?l[Oe]=ye[Oe]=!0:(be=i,ae.push({instanceLocation:s,keyword:"patternProperties",keywordLocation:ge,error:`Property "${Oe}" matches pattern "${q}" but does not match associated schema.`},...Kt.errors))}}}if(!be&&O!==void 0){const ge=`${o}/additionalProperties`;for(const q in t){if(ye[q])continue;const X=`${s}/${Wi(q)}`,re=Yt(t[q],O,n,r,i,a,X,ge);re.valid?l[q]=!0:(be=i,ae.push({instanceLocation:s,keyword:"additionalProperties",keywordLocation:ge,error:`Property "${q}" does not match additional properties schema.`},...re.errors))}}else if(!be&&L!==void 0){const ge=`${o}/unevaluatedProperties`;for(const q in t)if(!l[q]){const X=`${s}/${Wi(q)}`,re=Yt(t[q],L,n,r,i,a,X,ge);re.valid?l[q]=!0:ae.push({instanceLocation:s,keyword:"unevaluatedProperties",keywordLocation:ge,error:`Property "${q}" does not match unevaluated properties schema.`},...re.errors)}}}else if(d==="array"){K!==void 0&&t.length>K&&ae.push({instanceLocation:s,keyword:"maxItems",keywordLocation:`${o}/maxItems`,error:`Array has too many items (${t.length} > ${K}).`}),N!==void 0&&t.length<N&&ae.push({instanceLocation:s,keyword:"minItems",keywordLocation:`${o}/minItems`,error:`Array has too few items (${t.length} < ${N}).`});const _e=t.length;let ye=0,be=!1;if(P!==void 0){const ge=`${o}/prefixItems`,q=Math.min(P.length,_e);for(;ye<q;ye++){const X=Yt(t[ye],P[ye],n,r,i,a,`${s}/${ye}`,`${ge}/${ye}`);if(l[ye]=!0,!X.valid&&(be=i,ae.push({instanceLocation:s,keyword:"prefixItems",keywordLocation:ge,error:"Items did not match schema."},...X.errors),be))break}}if(W!==void 0){const ge=`${o}/items`;if(Array.isArray(W)){const q=Math.min(W.length,_e);for(;ye<q;ye++){const X=Yt(t[ye],W[ye],n,r,i,a,`${s}/${ye}`,`${ge}/${ye}`);if(l[ye]=!0,!X.valid&&(be=i,ae.push({instanceLocation:s,keyword:"items",keywordLocation:ge,error:"Items did not match schema."},...X.errors),be))break}}else for(;ye<_e;ye++){const q=Yt(t[ye],W,n,r,i,a,`${s}/${ye}`,ge);if(l[ye]=!0,!q.valid&&(be=i,ae.push({instanceLocation:s,keyword:"items",keywordLocation:ge,error:"Items did not match schema."},...q.errors),be))break}if(!be&&G!==void 0){const q=`${o}/additionalItems`;for(;ye<_e;ye++){const X=Yt(t[ye],G,n,r,i,a,`${s}/${ye}`,q);l[ye]=!0,X.valid||(be=i,ae.push({instanceLocation:s,keyword:"additionalItems",keywordLocation:q,error:"Items did not match additional items schema."},...X.errors))}}}if(ee!==void 0)if(_e===0&&ie===void 0)ae.push({instanceLocation:s,keyword:"contains",keywordLocation:`${o}/contains`,error:"Array is empty. It must contain at least one item matching the schema."});else if(ie!==void 0&&_e<ie)ae.push({instanceLocation:s,keyword:"minContains",keywordLocation:`${o}/minContains`,error:`Array has less items (${_e}) than minContains (${ie}).`});else{const ge=`${o}/contains`,q=ae.length;let X=0;for(let re=0;re<_e;re++){const Oe=Yt(t[re],ee,n,r,i,a,`${s}/${re}`,ge);Oe.valid?(l[re]=!0,X++):ae.push(...Oe.errors)}X>=(ie||0)&&(ae.length=q),ie===void 0&&I===void 0&&X===0?ae.splice(q,0,{instanceLocation:s,keyword:"contains",keywordLocation:ge,error:"Array does not contain item matching schema."}):ie!==void 0&&X<ie?ae.push({instanceLocation:s,keyword:"minContains",keywordLocation:`${o}/minContains`,error:`Array must contain at least ${ie} items matching schema. Only ${X} items were found.`}):I!==void 0&&X>I&&ae.push({instanceLocation:s,keyword:"maxContains",keywordLocation:`${o}/maxContains`,error:`Array may contain at most ${I} items matching schema. ${X} items were found.`})}if(!be&&$!==void 0){const ge=`${o}/unevaluatedItems`;for(ye;ye<_e;ye++){if(l[ye])continue;const q=Yt(t[ye],$,n,r,i,a,`${s}/${ye}`,ge);l[ye]=!0,q.valid||ae.push({instanceLocation:s,keyword:"unevaluatedItems",keywordLocation:ge,error:"Items did not match unevaluated items schema."},...q.errors)}}if(z)for(let ge=0;ge<_e;ge++){const q=t[ge],X=typeof q=="object"&&q!==null;for(let re=0;re<_e;re++){if(ge===re)continue;const Oe=t[re];(q===Oe||X&&(typeof Oe=="object"&&Oe!==null)&&jc(q,Oe))&&(ae.push({instanceLocation:s,keyword:"uniqueItems",keywordLocation:`${o}/uniqueItems`,error:`Duplicate items at indexes ${ge} and ${re}.`}),ge=Number.MAX_SAFE_INTEGER,re=Number.MAX_SAFE_INTEGER)}}}else if(d==="number"){if(n==="4"?(Z!==void 0&&(Y===!0&&t<=Z||t<Z)&&ae.push({instanceLocation:s,keyword:"minimum",keywordLocation:`${o}/minimum`,error:`${t} is less than ${Y?"or equal to ":""} ${Z}.`}),J!==void 0&&(me===!0&&t>=J||t>J)&&ae.push({instanceLocation:s,keyword:"maximum",keywordLocation:`${o}/maximum`,error:`${t} is greater than ${me?"or equal to ":""} ${J}.`})):(Z!==void 0&&t<Z&&ae.push({instanceLocation:s,keyword:"minimum",keywordLocation:`${o}/minimum`,error:`${t} is less than ${Z}.`}),J!==void 0&&t>J&&ae.push({instanceLocation:s,keyword:"maximum",keywordLocation:`${o}/maximum`,error:`${t} is greater than ${J}.`}),Y!==void 0&&t<=Y&&ae.push({instanceLocation:s,keyword:"exclusiveMinimum",keywordLocation:`${o}/exclusiveMinimum`,error:`${t} is less than ${Y}.`}),me!==void 0&&t>=me&&ae.push({instanceLocation:s,keyword:"exclusiveMaximum",keywordLocation:`${o}/exclusiveMaximum`,error:`${t} is greater than or equal to ${me}.`})),le!==void 0){const _e=t%le;Math.abs(0-_e)>=11920929e-14&&Math.abs(le-_e)>=11920929e-14&&ae.push({instanceLocation:s,keyword:"multipleOf",keywordLocation:`${o}/multipleOf`,error:`${t} is not a multiple of ${le}.`})}}else if(d==="string"){const _e=ve===void 0&&oe===void 0?0:ple(t);ve!==void 0&&_e<ve&&ae.push({instanceLocation:s,keyword:"minLength",keywordLocation:`${o}/minLength`,error:`String is too short (${_e} < ${ve}).`}),oe!==void 0&&_e>oe&&ae.push({instanceLocation:s,keyword:"maxLength",keywordLocation:`${o}/maxLength`,error:`String is too long (${_e} > ${oe}).`}),Be!==void 0&&!new RegExp(Be,"u").test(t)&&ae.push({instanceLocation:s,keyword:"pattern",keywordLocation:`${o}/pattern`,error:"String does not match pattern."}),k!==void 0&&I2[k]&&!I2[k](t)&&ae.push({instanceLocation:s,keyword:"format",keywordLocation:`${o}/format`,error:`String does not match format "${k}".`})}return{valid:ae.length===0,errors:ae}}class mle{constructor(e,n="2019-09",r=!0){H(this,"schema");H(this,"draft");H(this,"shortCircuit");H(this,"lookup");this.schema=e,this.draft=n,this.shortCircuit=r,this.lookup=qo(e)}validate(e){return Yt(e,this.schema,this.draft,this.lookup,this.shortCircuit)}addSchema(e,n){n&&(e={...e,$id:n}),qo(e,this.lookup)}}var gle={};bt(gle,{Validator:()=>mle,deepCompareStrict:()=>jc,toJsonSchema:()=>_l,validatesOnlyStrings:()=>cv});function _l(t){if(hn(t)){const e=Zz(t,!0);if(ts(e)){const n=t0(e,!0);return p2(n)}else return p2(t)}return kn(t)?Foe(t):t}function cv(t){if(!t||typeof t!="object"||Object.keys(t).length===0||Array.isArray(t))return!1;if("type"in t)return typeof t.type=="string"?t.type==="string":Array.isArray(t.type)?t.type.every(e=>e==="string"):!1;if("enum"in t)return Array.isArray(t.enum)&&t.enum.length>0&&t.enum.every(e=>typeof e=="string");if("const"in t)return typeof t.const=="string";if("allOf"in t&&Array.isArray(t.allOf))return t.allOf.some(e=>cv(e));if("anyOf"in t&&Array.isArray(t.anyOf)||"oneOf"in t&&Array.isArray(t.oneOf)){const e="anyOf"in t?t.anyOf:t.oneOf;return e.length>0&&e.every(n=>cv(n))}if("not"in t)return!1;if("$ref"in t&&typeof t.$ref=="string"){const e=t.$ref,n=qo(t);return n[e]?cv(n[e]):!1}return!1}function Sl(t){return typeof t=="object"&&t!==null&&"type"in t&&typeof t.type=="string"&&"source_type"in t&&(t.source_type==="url"||t.source_type==="base64"||t.source_type==="text"||t.source_type==="id")}function nC(t){return Sl(t)&&t.source_type==="url"&&"url"in t&&typeof t.url=="string"}function rC(t){return Sl(t)&&t.source_type==="base64"&&"data"in t&&typeof t.data=="string"}function yle(t){return Sl(t)&&t.source_type==="text"&&"text"in t&&typeof t.text=="string"}function cU(t){return Sl(t)&&t.source_type==="id"&&"id"in t&&typeof t.id=="string"}function uU(t){if(Sl(t)){if(t.source_type==="url")return{type:"image_url",image_url:{url:t.url}};if(t.source_type==="base64"){if(!t.mime_type)throw new Error("mime_type key is required for base64 data.");return{type:"image_url",image_url:{url:`data:${t.mime_type};base64,${t.data}`}}}}throw new Error("Unsupported source type. Only 'url' and 'base64' are supported.")}function vle(t){const e=t.split(";")[0].split("/");if(e.length!==2)throw new Error(`Invalid mime type: "${t}" - does not match type/subtype format.`);const n=e[0].trim(),r=e[1].trim();if(n===""||r==="")throw new Error(`Invalid mime type: "${t}" - type or subtype is empty.`);const i={};for(const a of t.split(";").slice(1)){const s=a.split("=");if(s.length!==2)throw new Error(`Invalid parameter syntax in mime type: "${t}".`);const o=s[0].trim(),l=s[1].trim();if(o==="")throw new Error(`Invalid parameter syntax in mime type: "${t}".`);i[o]=l}return{type:n,subtype:r,parameters:i}}function zE({dataUrl:t,asTypedArray:e=!1}){const n=t.match(/^data:(\w+\/\w+);base64,([A-Za-z0-9+/]+=*)$/);let r;if(n){r=n[1].toLowerCase();const i=e?Uint8Array.from(atob(n[2]),a=>a.charCodeAt(0)):n[2];return{mime_type:r,data:i}}}function xle(t,e){if(t.type==="text"){if(!e.fromStandardTextBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardTextBlock\` method.`);return e.fromStandardTextBlock(t)}if(t.type==="image"){if(!e.fromStandardImageBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardImageBlock\` method.`);return e.fromStandardImageBlock(t)}if(t.type==="audio"){if(!e.fromStandardAudioBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardAudioBlock\` method.`);return e.fromStandardAudioBlock(t)}if(t.type==="file"){if(!e.fromStandardFileBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardFileBlock\` method.`);return e.fromStandardFileBlock(t)}throw new Error(`Unable to convert content block type '${t.type}' to provider-specific format: not recognized.`)}var ble=function(t,e){if(typeof t!="string")throw new TypeError("Expected a string");return e=typeof e>"u"?"_":e,t.replace(/([a-z\d])([A-Z])/g,"$1"+e+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+e+"$2").toLowerCase()};const wle=at(ble);var dU={exports:{}};const _le=/[\p{Lu}]/u,Sle=/[\p{Ll}]/u,$2=/^[\p{Lu}](?![\p{Lu}])/gu,fU=/([\p{Alpha}\p{N}_]|$)/u,hU=/[_.\- ]+/,Ele=new RegExp("^"+hU.source),R2=new RegExp(hU.source+fU.source,"gu"),M2=new RegExp("\\d+"+fU.source,"gu"),jle=(t,e,n)=>{let r=!1,i=!1,a=!1;for(let s=0;s<t.length;s++){const o=t[s];r&&_le.test(o)?(t=t.slice(0,s)+"-"+t.slice(s),r=!1,a=i,i=!0,s++):i&&a&&Sle.test(o)?(t=t.slice(0,s-1)+"-"+t.slice(s-1),a=i,i=!1,r=!0):(r=e(o)===o&&n(o)!==o,a=i,i=n(o)===o&&e(o)!==o)}return t},Ale=(t,e)=>($2.lastIndex=0,t.replace($2,n=>e(n))),kle=(t,e)=>(R2.lastIndex=0,M2.lastIndex=0,t.replace(R2,(n,r)=>e(r)).replace(M2,n=>e(n))),pU=(t,e)=>{if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(t)?t=t.map(a=>a.trim()).filter(a=>a.length).join("-"):t=t.trim(),t.length===0)return"";const n=e.locale===!1?a=>a.toLowerCase():a=>a.toLocaleLowerCase(e.locale),r=e.locale===!1?a=>a.toUpperCase():a=>a.toLocaleUpperCase(e.locale);return t.length===1?e.pascalCase?r(t):n(t):(t!==n(t)&&(t=jle(t,n,r)),t=t.replace(Ele,""),e.preserveConsecutiveUppercase?t=Ale(t,n):t=n(t),e.pascalCase&&(t=r(t.charAt(0))+t.slice(1)),kle(t,r))};dU.exports=pU;dU.exports.default=pU;function Tle(t,e){return(e==null?void 0:e[t])||wle(t)}function Cle(t,e,n){const r={};for(const i in t)Object.hasOwn(t,i)&&(r[e(i,n)]=t[i]);return r}var Ole={};bt(Ole,{Serializable:()=>Gd,get_lc_unique_name:()=>iC});function D2(t){return Array.isArray(t)?[...t]:{...t}}function Nle(t,e){const n=D2(t);for(const[r,i]of Object.entries(e)){const[a,...s]=r.split(".").reverse();let o=n;for(const l of s.reverse()){if(o[l]===void 0)break;o[l]=D2(o[l]),o=o[l]}o[a]!==void 0&&(o[a]={lc:1,type:"secret",id:[i]})}return n}function iC(t){const e=Object.getPrototypeOf(t);return typeof t.lc_name=="function"&&(typeof e.lc_name!="function"||t.lc_name()!==e.lc_name())?t.lc_name():t.name}var Gd=class mU{constructor(e,...n){H(this,"lc_serializable",!1);H(this,"lc_kwargs");this.lc_serializable_keys!==void 0?this.lc_kwargs=Object.fromEntries(Object.entries(e||{}).filter(([r])=>{var i;return(i=this.lc_serializable_keys)==null?void 0:i.includes(r)})):this.lc_kwargs=e??{}}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,iC(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof mU||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const e={},n={},r=Object.keys(this.lc_kwargs).reduce((i,a)=>(i[a]=a in this?this[a]:this.lc_kwargs[a],i),{});for(let i=Object.getPrototypeOf(this);i;i=Object.getPrototypeOf(i))Object.assign(e,Reflect.get(i,"lc_aliases",this)),Object.assign(n,Reflect.get(i,"lc_secrets",this)),Object.assign(r,Reflect.get(i,"lc_attributes",this));return Object.keys(n).forEach(i=>{let a=this,s=r;const[o,...l]=i.split(".").reverse();for(const c of l.reverse()){if(!(c in a)||a[c]===void 0)return;(!(c in s)||s[c]===void 0)&&(typeof a[c]=="object"&&a[c]!=null?s[c]={}:Array.isArray(a[c])&&(s[c]=[])),a=a[c],s=s[c]}o in a&&a[o]!==void 0&&(s[o]=s[o]||a[o])}),{lc:1,type:"constructor",id:this.lc_id,kwargs:Cle(Object.keys(n).length?Nle(r,n):r,Tle,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}};function Re(t,e){return We(t)&&t.type===e}function We(t){return typeof t=="object"&&t!==null}function rs(t){return Array.isArray(t)}function Ee(t){return typeof t=="string"}function Yi(t){return typeof t=="number"}function aC(t){return t instanceof Uint8Array}function L2(t){try{return JSON.parse(t)}catch{return}}const tm=t=>t();function Ple(t){if(t.type==="char_location"&&Ee(t.document_title)&&Yi(t.start_char_index)&&Yi(t.end_char_index)&&Ee(t.cited_text)){const{document_title:e,start_char_index:n,end_char_index:r,cited_text:i,...a}=t;return{...a,type:"citation",source:"char",title:e??void 0,startIndex:n,endIndex:r,citedText:i}}if(t.type==="page_location"&&Ee(t.document_title)&&Yi(t.start_page_number)&&Yi(t.end_page_number)&&Ee(t.cited_text)){const{document_title:e,start_page_number:n,end_page_number:r,cited_text:i,...a}=t;return{...a,type:"citation",source:"page",title:e??void 0,startIndex:n,endIndex:r,citedText:i}}if(t.type==="content_block_location"&&Ee(t.document_title)&&Yi(t.start_block_index)&&Yi(t.end_block_index)&&Ee(t.cited_text)){const{document_title:e,start_block_index:n,end_block_index:r,cited_text:i,...a}=t;return{...a,type:"citation",source:"block",title:e??void 0,startIndex:n,endIndex:r,citedText:i}}if(t.type==="web_search_result_location"&&Ee(t.url)&&Ee(t.title)&&Ee(t.encrypted_index)&&Ee(t.cited_text)){const{url:e,title:n,encrypted_index:r,cited_text:i,...a}=t;return{...a,type:"citation",source:"url",url:e,title:n,startIndex:Number(r),endIndex:Number(r),citedText:i}}if(t.type==="search_result_location"&&Ee(t.source)&&Ee(t.title)&&Yi(t.start_block_index)&&Yi(t.end_block_index)&&Ee(t.cited_text)){const{source:e,title:n,start_block_index:r,end_block_index:i,cited_text:a,...s}=t;return{...s,type:"citation",source:"search",url:e,title:n??void 0,startIndex:r,endIndex:i,citedText:a}}}function gU(t){if(Re(t,"document")&&We(t.source)&&"type"in t.source){if(t.source.type==="base64"&&Ee(t.source.media_type)&&Ee(t.source.data))return{type:"file",mimeType:t.source.media_type,data:t.source.data};if(t.source.type==="url"&&Ee(t.source.url))return{type:"file",url:t.source.url};if(t.source.type==="file"&&Ee(t.source.file_id))return{type:"file",fileId:t.source.file_id};if(t.source.type==="text"&&Ee(t.source.data))return{type:"file",mimeType:String(t.source.media_type??"text/plain"),data:t.source.data}}else if(Re(t,"image")&&We(t.source)&&"type"in t.source){if(t.source.type==="base64"&&Ee(t.source.media_type)&&Ee(t.source.data))return{type:"image",mimeType:t.source.media_type,data:t.source.data};if(t.source.type==="url"&&Ee(t.source.url))return{type:"image",url:t.source.url};if(t.source.type==="file"&&Ee(t.source.file_id))return{type:"image",fileId:t.source.file_id}}}function Ile(t){function*e(){for(const n of t){const r=gU(n);r?yield r:yield n}}return Array.from(e())}function F2(t){function*e(){var r;const n=typeof t.content=="string"?[{type:"text",text:t.content}]:t.content;for(const i of n){if(Re(i,"text")&&Ee(i.text)){const{text:a,citations:s,...o}=i;if(rs(s)&&s.length){const l=s.reduce((c,d)=>{const f=Ple(d);return f?[...c,f]:c},[]);yield{...o,type:"text",text:a,annotations:l};continue}else{yield{...o,type:"text",text:a};continue}}else if(Re(i,"thinking")&&Ee(i.thinking)){const{thinking:a,signature:s,...o}=i;yield{...o,type:"reasoning",reasoning:a,signature:s};continue}else if(Re(i,"redacted_thinking")){yield{type:"non_standard",value:i};continue}else if(Re(i,"tool_use")&&Ee(i.name)&&Ee(i.id)){yield{type:"tool_call",id:i.id,name:i.name,args:i.input};continue}else if(Re(i,"input_json_delta")){if(Rle(t)&&((r=t.tool_call_chunks)!=null&&r.length)){const a=t.tool_call_chunks[0];yield{type:"tool_call_chunk",id:a.id,name:a.name,args:a.args,index:a.index};continue}}else if(Re(i,"server_tool_use")&&Ee(i.name)&&Ee(i.id)){const{name:a,id:s}=i;if(a==="web_search"){const o=tm(()=>{if(typeof i.input=="string")return i.input;if(We(i.input)&&Ee(i.input.query))return i.input.query;if(Ee(i.partial_json)){const l=L2(i.partial_json);if(l!=null&&l.query)return l.query}return""});yield{id:s,type:"server_tool_call",name:"web_search",args:{query:o}};continue}else if(i.name==="code_execution"){const o=tm(()=>{if(typeof i.input=="string")return i.input;if(We(i.input)&&Ee(i.input.code))return i.input.code;if(Ee(i.partial_json)){const l=L2(i.partial_json);if(l!=null&&l.code)return l.code}return""});yield{id:s,type:"server_tool_call",name:"code_execution",args:{code:o}};continue}}else if(Re(i,"web_search_tool_result")&&Ee(i.tool_use_id)&&rs(i.content)){const{content:a,tool_use_id:s}=i,o=a.reduce((l,c)=>Re(c,"web_search_result")?[...l,c.url]:l,[]);yield{type:"server_tool_call_result",name:"web_search",toolCallId:s,status:"success",output:{urls:o}};continue}else if(Re(i,"code_execution_tool_result")&&Ee(i.tool_use_id)&&We(i.content)){yield{type:"server_tool_call_result",name:"code_execution",toolCallId:i.tool_use_id,status:"success",output:i.content};continue}else if(Re(i,"mcp_tool_use")){yield{id:i.id,type:"server_tool_call",name:"mcp_tool_use",args:i.input};continue}else if(Re(i,"mcp_tool_result")&&Ee(i.tool_use_id)&&We(i.content)){yield{type:"server_tool_call_result",name:"mcp_tool_use",toolCallId:i.tool_use_id,status:"success",output:i.content};continue}else if(Re(i,"container_upload")){yield{type:"server_tool_call",name:"container_upload",args:i.input};continue}else if(Re(i,"search_result")){yield{id:i.id,type:"non_standard",value:i};continue}else if(Re(i,"tool_result")){yield{id:i.id,type:"non_standard",value:i};continue}else{const a=gU(i);if(a){yield a;continue}}yield{type:"non_standard",value:i}}}return Array.from(e())}const $le={translateContent:F2,translateContentChunk:F2};function Rle(t){return typeof(t==null?void 0:t._getType)=="function"&&typeof t.concat=="function"&&t._getType()==="ai"}function Mle(t){return nC(t)?{type:t.type,mimeType:t.mime_type,url:t.url,metadata:t.metadata}:rC(t)?{type:t.type,mimeType:t.mime_type??"application/octet-stream",data:t.data,metadata:t.metadata}:cU(t)?{type:t.type,mimeType:t.mime_type,fileId:t.id,metadata:t.metadata}:t}function Dle(t){return t.map(Mle)}function Lle(t){return!!(Re(t,"image_url")&&We(t.image_url)||Re(t,"input_audio")&&We(t.input_audio)||Re(t,"file")&&We(t.file))}function Fle(t){if(Re(t,"image_url")&&We(t.image_url)&&Ee(t.image_url.url)){const e=zE({dataUrl:t.image_url.url});return e?{type:"image",mimeType:e.mime_type,data:e.data}:{type:"image",url:t.image_url.url}}else{if(Re(t,"input_audio")&&We(t.input_audio)&&Ee(t.input_audio.data)&&Ee(t.input_audio.format))return{type:"audio",data:t.input_audio.data,mimeType:`audio/${t.input_audio.format}`};if(Re(t,"file")&&We(t.file)&&Ee(t.file.data)){const e=zE({dataUrl:t.file.data});if(e)return{type:"file",data:e.data,mimeType:e.mime_type};if(Ee(t.file.file_id))return{type:"file",fileId:t.file.file_id}}}return t}function Ble(t){const e=[];typeof t.content=="string"?e.push({type:"text",text:t.content}):e.push(...sC(t.content));for(const n of t.tool_calls??[])e.push({type:"tool_call",id:n.id,name:n.name,args:n.args});return e}function zle(t){const e=[];typeof t.content=="string"?e.push({type:"text",text:t.content}):e.push(...sC(t.content));for(const n of t.tool_calls??[])e.push({type:"tool_call",id:n.id,name:n.name,args:n.args});return e}function sC(t){const e=[];for(const n of t)Lle(n)?e.push(Fle(n)):e.push(n);return e}function Ule(t){if(t.type==="url_citation"){const{url:e,title:n,start_index:r,end_index:i}=t;return{type:"citation",url:e,title:n,startIndex:r,endIndex:i}}if(t.type==="file_citation"){const{file_id:e,filename:n,index:r}=t;return{type:"citation",title:n,startIndex:r,endIndex:r,fileId:e}}return t}function yU(t){function*e(){var r;We((r=t.additional_kwargs)==null?void 0:r.reasoning)&&rs(t.additional_kwargs.reasoning.summary)&&(yield{type:"reasoning",reasoning:t.additional_kwargs.reasoning.summary.reduce((a,s)=>We(s)&&Ee(s.text)?`${a}${s.text}`:a,"")});const n=typeof t.content=="string"?[{type:"text",text:t.content}]:t.content;for(const i of n)if(Re(i,"text")){const{text:a,annotations:s,...o}=i;Array.isArray(s)?yield{...o,type:"text",text:String(a),annotations:s.map(Ule)}:yield{...o,type:"text",text:String(a)}}for(const i of t.tool_calls??[])yield{type:"tool_call",id:i.id,name:i.name,args:i.args};if(We(t.additional_kwargs)&&rs(t.additional_kwargs.tool_outputs))for(const i of t.additional_kwargs.tool_outputs){if(Re(i,"web_search_call")){yield{id:i.id,type:"server_tool_call",name:"web_search",args:{query:i.query}};continue}else if(Re(i,"file_search_call")){yield{id:i.id,type:"server_tool_call",name:"file_search",args:{query:i.query}};continue}else if(Re(i,"computer_call")){yield{type:"non_standard",value:i};continue}else if(Re(i,"code_interpreter_call")){if(Ee(i.code)&&(yield{id:i.id,type:"server_tool_call",name:"code_interpreter",args:{code:i.code}}),rs(i.outputs)){const a=tm(()=>{if(i.status!=="in_progress"){if(i.status==="completed")return 0;if(i.status==="incomplete")return 127;if(i.status!=="interpreting"&&i.status==="failed")return 1}});for(const s of i.outputs)if(Re(s,"logs")){yield{type:"server_tool_call_result",toolCallId:i.id??"",status:"success",output:{type:"code_interpreter_output",returnCode:a??0,stderr:[0,void 0].includes(a)?void 0:String(s.logs),stdout:[0,void 0].includes(a)?String(s.logs):void 0}};continue}}continue}else if(Re(i,"mcp_call")){yield{id:i.id,type:"server_tool_call",name:"mcp_call",args:i.input};continue}else if(Re(i,"mcp_list_tools")){yield{id:i.id,type:"server_tool_call",name:"mcp_list_tools",args:i.input};continue}else if(Re(i,"mcp_approval_request")){yield{type:"non_standard",value:i};continue}else if(Re(i,"image_generation_call")){yield{type:"non_standard",value:i};continue}We(i)&&(yield{type:"non_standard",value:i})}}return Array.from(e())}function Hle(t){function*e(){yield*yU(t);for(const n of t.tool_call_chunks??[])yield{type:"tool_call_chunk",id:n.id,name:n.name,args:n.args}}return Array.from(e())}const Vle={translateContent:t=>typeof t.content=="string"?Ble(t):yU(t),translateContentChunk:t=>typeof t.content=="string"?zle(t):Hle(t)};function vU(t){return typeof t=="object"&&t!==null&&"type"in t&&"content"in t&&(typeof t.content=="string"||Array.isArray(t.content))}function Wle(t,e="pretty"){return e==="pretty"?qle(t):JSON.stringify(t)}function qle(t){const e=[],n=` ${t.type.charAt(0).toUpperCase()+t.type.slice(1)} Message `,r=Math.floor((80-n.length)/2),i="=".repeat(r),a=n.length%2===0?i:`${i}=`;if(e.push(`${i}${n}${a}`),t.type==="ai"){const s=t;if(s.tool_calls&&s.tool_calls.length>0){e.push("Tool Calls:");for(const o of s.tool_calls){e.push(`  ${o.name} (${o.id})`),e.push(` Call ID: ${o.id}`),e.push("  Args:");for(const[l,c]of Object.entries(o.args))e.push(`    ${l}: ${c}`)}}}if(t.type==="tool"){const s=t;s.name&&e.push(`Name: ${s.name}`)}return typeof t.content=="string"&&t.content.trim()&&(e.length>1&&e.push(""),e.push(t.content)),e.join(`
`)}const F_=Symbol.for("langchain.message");function no(t,e){return typeof t=="string"?t===""?e:typeof e=="string"?t+e:Array.isArray(e)&&e.length===0?t:Array.isArray(e)&&e.some(n=>Sl(n))?[{type:"text",source_type:"text",text:t},...e]:[{type:"text",text:t},...e]:Array.isArray(e)?og(t,e)??[...t,...e]:e===""?t:Array.isArray(t)&&t.some(n=>Sl(n))?[...t,{type:"file",source_type:"text",text:e}]:[...t,{type:"text",text:e}]}function xU(t,e){return t==="error"||e==="error"?"error":"success"}function Gle(t,e){function n(r,i){if(typeof r!="object"||r===null||r===void 0)return r;if(i>=e)return Array.isArray(r)?"[Array]":"[Object]";if(Array.isArray(r))return r.map(s=>n(s,i+1));const a={};for(const s of Object.keys(r))a[s]=n(r[s],i+1);return a}return JSON.stringify(n(t,0),null,2)}var y5,uo=class extends Gd{constructor(e){const n=typeof e=="string"||Array.isArray(e)?{content:e}:e;n.additional_kwargs||(n.additional_kwargs={}),n.response_metadata||(n.response_metadata={});super(n);H(this,"lc_namespace",["langchain_core","messages"]);H(this,"lc_serializable",!0);H(this,y5,!0);H(this,"id");H(this,"name");H(this,"content");H(this,"additional_kwargs");H(this,"response_metadata");this.name=n.name,n.content===void 0&&n.contentBlocks!==void 0?(this.content=n.contentBlocks,this.response_metadata={output_version:"v1",...n.response_metadata}):n.content!==void 0?(this.content=n.content??[],this.response_metadata=n.response_metadata):(this.content=[],this.response_metadata=n.response_metadata),this.additional_kwargs=n.additional_kwargs,this.id=n.id}get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}_getType(){return this.type}getType(){return this._getType()}get text(){return typeof this.content=="string"?this.content:Array.isArray(this.content)?this.content.map(e=>typeof e=="string"?e:e.type==="text"?e.text:"").join(""):""}get contentBlocks(){const e=typeof this.content=="string"?[{type:"text",text:this.content}]:this.content;return[Dle,sC,Ile].reduce((i,a)=>a(i),e)}toDict(){return{type:this.getType(),data:this.toJSON().kwargs}}static lc_name(){return"BaseMessage"}get _printableFields(){return{id:this.id,content:this.content,name:this.name,additional_kwargs:this.additional_kwargs,response_metadata:this.response_metadata}}static isInstance(e){return typeof e=="object"&&e!==null&&F_ in e&&e[F_]===!0&&vU(e)}_updateId(e){this.id=e,this.lc_kwargs.id=e}get[(y5=F_,Symbol.toStringTag)](){return this.constructor.lc_name()}[Symbol.for("nodejs.util.inspect.custom")](e){if(e===null)return this;const n=Gle(this._printableFields,Math.max(4,e));return`${this.constructor.lc_name()} ${n}`}toFormattedString(e="pretty"){return Wle(this,e)}};function Kle(t){return Array.isArray(t)&&t.every(e=>typeof e.index=="number")}function Zn(t={},e={}){const n={...t};for(const[r,i]of Object.entries(e))if(n[r]==null)n[r]=i;else{if(i==null)continue;if(typeof n[r]!=typeof i||Array.isArray(n[r])!==Array.isArray(i))throw new Error(`field[${r}] already exists in the message chunk, but with a different type.`);if(typeof n[r]=="string"){if(r==="type")continue;["id","name","output_version","model_provider"].includes(r)?n[r]=i:n[r]+=i}else if(typeof n[r]=="object"&&!Array.isArray(n[r]))n[r]=Zn(n[r],i);else if(Array.isArray(n[r]))n[r]=og(n[r],i);else{if(n[r]===i)continue;console.warn(`field[${r}] already exists in this message chunk and value has unsupported type.`)}}return n}function og(t,e){if(!(t===void 0&&e===void 0)){if(t===void 0||e===void 0)return t||e;{const n=[...t];for(const r of e)if(typeof r=="object"&&r!==null&&"index"in r&&typeof r.index=="number"){const i=n.findIndex(a=>{const s=typeof a=="object",o="index"in a&&a.index===r.index,l="id"in a&&"id"in r&&(a==null?void 0:a.id)===(r==null?void 0:r.id),c=!("id"in a)||!(a!=null&&a.id)||!("id"in r)||!(r!=null&&r.id);return s&&o&&(l||c)});i!==-1&&typeof n[i]=="object"&&n[i]!==null?n[i]=Zn(n[i],r):n.push(r)}else{if(typeof r=="object"&&r!==null&&"text"in r&&r.text==="")continue;n.push(r)}return n}}}function bU(t,e){if(!t&&!e)throw new Error("Cannot merge two undefined objects.");if(!t||!e)return t||e;if(typeof t!=typeof e)throw new Error(`Cannot merge objects of different types.
Left ${typeof t}
Right ${typeof e}`);if(typeof t=="string"&&typeof e=="string")return t+e;if(Array.isArray(t)&&Array.isArray(e))return og(t,e);if(typeof t=="object"&&typeof e=="object")return Zn(t,e);if(t===e)return t;throw new Error(`Can not merge objects of different types.
Left ${t}
Right ${e}`)}var Rl=class wU extends uo{static isInstance(e){if(!super.isInstance(e))return!1;let n=Object.getPrototypeOf(e);for(;n!==null;){if(n===wU.prototype)return!0;n=Object.getPrototypeOf(n)}return!1}};function _U(t){return typeof t.role=="string"}function Go(t){return typeof(t==null?void 0:t._getType)=="function"}function oC(t){return Rl.isInstance(t)}function UE(t,e=yb){t=t.trim();const n=t.indexOf("```");if(n===-1)return e(t);let r=t.substring(n+3);r.startsWith(`json
`)?r=r.substring(5):r.startsWith("json")?r=r.substring(4):r.startsWith(`
`)&&(r=r.substring(1));const i=r.indexOf("```");let a=r;return i!==-1&&(a=r.substring(0,i)),e(a.trim())}function yb(t){if(typeof t>"u")return null;try{return JSON.parse(t)}catch{}let e="";const n=[];let r=!1,i=!1;for(let a of t){if(r)a==='"'&&!i?r=!1:a===`
`&&!i?a="\\n":a==="\\"?i=!i:i=!1;else if(a==='"')r=!0,i=!1;else if(a==="{")n.push("}");else if(a==="[")n.push("]");else if(a==="}"||a==="]")if(n&&n[n.length-1]===a)n.pop();else return null;e+=a}r&&(e+='"');for(let a=n.length-1;a>=0;a-=1)e+=n[a];try{return JSON.parse(e)}catch{return null}}function lC(t){switch(t){case"csv":return"text/csv";case"doc":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"docx":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"html":return"text/html";case"md":return"text/markdown";case"pdf":return"application/pdf";case"txt":return"text/plain";case"xls":return"application/vnd.ms-excel";case"xlsx":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"gif":return"image/gif";case"jpeg":return"image/jpeg";case"jpg":return"image/jpeg";case"png":return"image/png";case"webp":return"image/webp";case"flv":return"video/flv";case"mkv":return"video/mkv";case"mov":return"video/mov";case"mp4":return"video/mp4";case"mpeg":return"video/mpeg";case"mpg":return"video/mpg";case"three_gp":return"video/three_gp";case"webm":return"video/webm";case"wmv":return"video/wmv";default:return"application/octet-stream"}}function Yle(t){if(We(t.document)&&We(t.document.source)){const e=We(t.document)&&Ee(t.document.format)?t.document.format:"",n=lC(e);if(We(t.document.source)){if(We(t.document.source.s3Location)&&Ee(t.document.source.s3Location.uri))return{type:"file",mimeType:n,fileId:t.document.source.s3Location.uri};if(aC(t.document.source.bytes))return{type:"file",mimeType:n,data:t.document.source.bytes};if(Ee(t.document.source.text))return{type:"file",mimeType:n,data:Buffer.from(t.document.source.text).toString("base64")};if(rs(t.document.source.content)){const r=t.document.source.content.reduce((i,a)=>We(a)&&Ee(a.text)?i+a.text:i,"");return{type:"file",mimeType:n,data:r}}}}return{type:"non_standard",value:t}}function Xle(t){if(Re(t,"image")&&We(t.image)){const e=We(t.image)&&Ee(t.image.format)?t.image.format:"",n=lC(e);if(We(t.image.source)){if(We(t.image.source.s3Location)&&Ee(t.image.source.s3Location.uri))return{type:"image",mimeType:n,fileId:t.image.source.s3Location.uri};if(aC(t.image.source.bytes))return{type:"image",mimeType:n,data:t.image.source.bytes}}}return{type:"non_standard",value:t}}function Zle(t){if(Re(t,"video")&&We(t.video)){const e=We(t.video)&&Ee(t.video.format)?t.video.format:"",n=lC(e);if(We(t.video.source)){if(We(t.video.source.s3Location)&&Ee(t.video.source.s3Location.uri))return{type:"video",mimeType:n,fileId:t.video.source.s3Location.uri};if(aC(t.video.source.bytes))return{type:"video",mimeType:n,data:t.video.source.bytes}}}return{type:"non_standard",value:t}}function B2(t){function*e(){const n=typeof t.content=="string"?[{type:"text",text:t.content}]:t.content;for(const r of n){if(Re(r,"cache_point")){yield{type:"non_standard",value:r};continue}else if(Re(r,"citations_content")&&We(r.citationsContent)){const i=rs(r.citationsContent.content)?r.citationsContent.content.reduce((s,o)=>We(o)&&Ee(o.text)?s+o.text:s,""):"",a=rs(r.citationsContent.citations)?r.citationsContent.citations.reduce((s,o)=>{if(We(o)){const l=rs(o.sourceContent)?o.sourceContent.reduce((d,f)=>We(f)&&Ee(f.text)?d+f.text:d,""):"",c=tm(()=>{if(We(o.location)){const d=o.location.documentChar||o.location.documentPage||o.location.documentChunk;if(We(d))return{source:Yi(d.documentIndex)?d.documentIndex.toString():void 0,startIndex:Yi(d.start)?d.start:void 0,endIndex:Yi(d.end)?d.end:void 0}}return{}});s.push({type:"citation",citedText:l,...c})}return s},[]):[];yield{type:"text",text:i,annotations:a};continue}else if(Re(r,"document")&&We(r.document)){yield Yle(r);continue}else if(Re(r,"guard_content")){yield{type:"non_standard",value:r};continue}else if(Re(r,"image")&&We(r.image)){yield Xle(r);continue}else if(Re(r,"reasoning_content")&&Ee(r.reasoningText)){yield{type:"reasoning",reasoning:r.reasoningText};continue}else if(Re(r,"text")&&Ee(r.text)){yield{type:"text",text:r.text};continue}else if(Re(r,"tool_result")){yield{type:"non_standard",value:r};continue}else{if(Re(r,"tool_call"))continue;if(Re(r,"video")&&We(r.video)){yield Zle(r);continue}}yield{type:"non_standard",value:r}}}return Array.from(e())}const Jle={translateContent:B2,translateContentChunk:B2};function z2(t){function*e(){const n=typeof t.content=="string"?[{type:"text",text:t.content}]:t.content;for(const r of n){if(Re(r,"text")&&Ee(r.text)){yield{type:"text",text:r.text};continue}else if(Re(r,"inlineData")&&We(r.inlineData)&&Ee(r.inlineData.mimeType)&&Ee(r.inlineData.data)){yield{type:"file",mimeType:r.inlineData.mimeType,data:r.inlineData.data};continue}else if(Re(r,"functionCall")&&We(r.functionCall)&&Ee(r.functionCall.name)&&We(r.functionCall.args)){yield{type:"tool_call",id:t.id,name:r.functionCall.name,args:r.functionCall.args};continue}else if(Re(r,"functionResponse")){yield{type:"non_standard",value:r};continue}else if(Re(r,"fileData")&&We(r.fileData)&&Ee(r.fileData.mimeType)&&Ee(r.fileData.fileUri)){yield{type:"file",mimeType:r.fileData.mimeType,fileId:r.fileData.fileUri};continue}else if(Re(r,"executableCode")){yield{type:"non_standard",value:r};continue}else if(Re(r,"codeExecutionResult")){yield{type:"non_standard",value:r};continue}yield{type:"non_standard",value:r}}}return Array.from(e())}const Qle={translateContent:z2,translateContentChunk:z2};function U2(t){function*e(){const n=typeof t.content=="string"?[{type:"text",text:t.content}]:t.content;for(const r of n){if(Re(r,"reasoning")&&Ee(r.reasoning)){const i=tm(()=>{var s;const a=n.indexOf(r);if(rs((s=t.additional_kwargs)==null?void 0:s.signatures)&&a>=0)return t.additional_kwargs.signatures.at(a)});Ee(i)?yield{type:"reasoning",reasoning:r.reasoning,signature:i}:yield{type:"reasoning",reasoning:r.reasoning};continue}else if(Re(r,"text")&&Ee(r.text)){yield{type:"text",text:r.text};continue}else if(Re(r,"image_url")){if(Ee(r.image_url))if(r.image_url.startsWith("data:")){const i=/^data:([^;]+);base64,(.+)$/,a=r.image_url.match(i);a?yield{type:"image",data:a[2],mimeType:a[1]}:yield{type:"image",url:r.image_url}}else yield{type:"image",url:r.image_url};continue}else if(Re(r,"media")&&Ee(r.mimeType)&&Ee(r.data)){yield{type:"file",mimeType:r.mimeType,data:r.data};continue}yield{type:"non_standard",value:r}}}return Array.from(e())}const ece={translateContent:U2,translateContentChunk:U2};globalThis.lc_block_translators_registry??(globalThis.lc_block_translators_registry=new Map([["anthropic",$le],["bedrock-converse",Jle],["google-genai",Qle],["google-vertexai",ece],["openai",Vle]]));function SU(t){return globalThis.lc_block_translators_registry.get(t)}function EU(t,e){return Zn(t??{},e??{})}function jU(t,e){const n={};return((t==null?void 0:t.audio)!==void 0||(e==null?void 0:e.audio)!==void 0)&&(n.audio=((t==null?void 0:t.audio)??0)+((e==null?void 0:e.audio)??0)),((t==null?void 0:t.image)!==void 0||(e==null?void 0:e.image)!==void 0)&&(n.image=((t==null?void 0:t.image)??0)+((e==null?void 0:e.image)??0)),((t==null?void 0:t.video)!==void 0||(e==null?void 0:e.video)!==void 0)&&(n.video=((t==null?void 0:t.video)??0)+((e==null?void 0:e.video)??0)),((t==null?void 0:t.document)!==void 0||(e==null?void 0:e.document)!==void 0)&&(n.document=((t==null?void 0:t.document)??0)+((e==null?void 0:e.document)??0)),((t==null?void 0:t.text)!==void 0||(e==null?void 0:e.text)!==void 0)&&(n.text=((t==null?void 0:t.text)??0)+((e==null?void 0:e.text)??0)),n}function tce(t,e){const n={...jU(t,e)};return((t==null?void 0:t.cache_read)!==void 0||(e==null?void 0:e.cache_read)!==void 0)&&(n.cache_read=((t==null?void 0:t.cache_read)??0)+((e==null?void 0:e.cache_read)??0)),((t==null?void 0:t.cache_creation)!==void 0||(e==null?void 0:e.cache_creation)!==void 0)&&(n.cache_creation=((t==null?void 0:t.cache_creation)??0)+((e==null?void 0:e.cache_creation)??0)),n}function nce(t,e){const n={...jU(t,e)};return((t==null?void 0:t.reasoning)!==void 0||(e==null?void 0:e.reasoning)!==void 0)&&(n.reasoning=((t==null?void 0:t.reasoning)??0)+((e==null?void 0:e.reasoning)??0)),n}function AU(t,e){return{input_tokens:((t==null?void 0:t.input_tokens)??0)+((e==null?void 0:e.input_tokens)??0),output_tokens:((t==null?void 0:t.output_tokens)??0)+((e==null?void 0:e.output_tokens)??0),total_tokens:((t==null?void 0:t.total_tokens)??0)+((e==null?void 0:e.total_tokens)??0),input_token_details:tce(t==null?void 0:t.input_token_details,e==null?void 0:e.input_token_details),output_token_details:nce(t==null?void 0:t.output_token_details,e==null?void 0:e.output_token_details)}}var rce={};bt(rce,{ToolMessage:()=>Lf,ToolMessageChunk:()=>lg,defaultToolCallParser:()=>cC,isDirectToolOutput:()=>kU,isToolMessage:()=>TU,isToolMessageChunk:()=>CU});function kU(t){return t!=null&&typeof t=="object"&&"lc_direct_tool_output"in t&&t.lc_direct_tool_output===!0}var Lf=class extends uo{constructor(e,n,r){const i=typeof e=="string"||Array.isArray(e)?{content:e,name:r,tool_call_id:n}:e;super(i);H(this,"lc_direct_tool_output",!0);H(this,"type","tool");H(this,"status");H(this,"tool_call_id");H(this,"metadata");H(this,"artifact");this.tool_call_id=i.tool_call_id,this.artifact=i.artifact,this.status=i.status,this.metadata=i.metadata}static lc_name(){return"ToolMessage"}get lc_aliases(){return{tool_call_id:"tool_call_id"}}static isInstance(e){return super.isInstance(e)&&e.type==="tool"}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}},lg=class extends Rl{constructor(e){super(e);H(this,"type","tool");H(this,"tool_call_id");H(this,"status");H(this,"artifact");this.tool_call_id=e.tool_call_id,this.artifact=e.artifact,this.status=e.status}static lc_name(){return"ToolMessageChunk"}concat(e){const n=this.constructor;return new n({content:no(this.content,e.content),additional_kwargs:Zn(this.additional_kwargs,e.additional_kwargs),response_metadata:Zn(this.response_metadata,e.response_metadata),artifact:bU(this.artifact,e.artifact),tool_call_id:this.tool_call_id,id:this.id??e.id,status:xU(this.status,e.status)})}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}};function cC(t){const e=[],n=[];for(const r of t)if(r.function){const i=r.function.name;try{const a=JSON.parse(r.function.arguments);e.push({name:i||"",args:a||{},id:r.id})}catch{n.push({name:i,args:r.function.arguments,id:r.id,error:"Malformed args."})}}else continue;return[e,n]}function TU(t){return typeof t=="object"&&t!==null&&"getType"in t&&typeof t.getType=="function"&&t.getType()==="tool"}function CU(t){return t._getType()==="tool"}var us=class extends uo{constructor(e){var r;let n;if(typeof e=="string"||Array.isArray(e))n={content:e,tool_calls:[],invalid_tool_calls:[],additional_kwargs:{}};else{n=e;const i=(r=n.additional_kwargs)==null?void 0:r.tool_calls,a=n.tool_calls;i!=null&&i.length>0&&(a===void 0||a.length===0)&&console.warn(["New LangChain packages are available that more efficiently handle",`tool calling.

Please upgrade your packages to versions that set`,"message tool calls. e.g., `pnpm install @langchain/anthropic`,","pnpm install @langchain/openai`, etc."].join(" "));try{if(i!=null&&a===void 0){const[s,o]=cC(i);n.tool_calls=s??[],n.invalid_tool_calls=o??[]}else n.tool_calls=n.tool_calls??[],n.invalid_tool_calls=n.invalid_tool_calls??[]}catch{n.tool_calls=[],n.invalid_tool_calls=[]}if(n.response_metadata!==void 0&&"output_version"in n.response_metadata&&n.response_metadata.output_version==="v1"&&(n.contentBlocks=n.content,n.content=void 0),n.contentBlocks!==void 0){n.contentBlocks.push(...n.tool_calls.map(o=>({type:"tool_call",id:o.id,name:o.name,args:o.args})));const s=n.contentBlocks.filter(o=>o.type==="tool_call").filter(o=>{var l;return!((l=n.tool_calls)!=null&&l.some(c=>c.id===o.id&&c.name===o.name))});s.length>0&&(n.tool_calls=s.map(o=>({type:"tool_call",id:o.id,name:o.name,args:o.args})))}}super(n);H(this,"type","ai");H(this,"tool_calls",[]);H(this,"invalid_tool_calls",[]);H(this,"usage_metadata");typeof n!="string"&&(this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls),this.usage_metadata=n.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls"}}static lc_name(){return"AIMessage"}get contentBlocks(){if(this.response_metadata&&"output_version"in this.response_metadata&&this.response_metadata.output_version==="v1")return this.content;if(this.response_metadata&&"model_provider"in this.response_metadata&&typeof this.response_metadata.model_provider=="string"){const n=SU(this.response_metadata.model_provider);if(n)return n.translateContent(this)}const e=super.contentBlocks;if(this.tool_calls){const n=this.tool_calls.filter(r=>!e.some(i=>i.id===r.id&&i.name===r.name));e.push(...n.map(r=>({...r,type:"tool_call",id:r.id,name:r.name,args:r.args})))}return e}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}static isInstance(e){return super.isInstance(e)&&e.type==="ai"}};function vb(t){return t._getType()==="ai"}function HE(t){return t._getType()==="ai"}var fo=class extends Rl{constructor(e){var r,i;let n;if(typeof e=="string"||Array.isArray(e))n={content:e,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else if(e.tool_call_chunks===void 0||e.tool_call_chunks.length===0)n={...e,tool_calls:e.tool_calls??[],invalid_tool_calls:[],tool_call_chunks:[],usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0};else{const s=(e.tool_call_chunks??[]).reduce((c,d)=>{const f=c.findIndex(([h])=>"id"in d&&d.id&&"index"in d&&d.index!==void 0?d.id===h.id&&d.index===h.index:"id"in d&&d.id?d.id===h.id:"index"in d&&d.index!==void 0?d.index===h.index:!1);return f!==-1?c[f].push(d):c.push([d]),c},[]),o=[],l=[];for(const c of s){let d=null;const f=((r=c[0])==null?void 0:r.name)??"",h=c.map(g=>g.args||"").join(""),p=h.length?h:"{}",m=(i=c[0])==null?void 0:i.id;try{if(d=yb(p),!m||d===null||typeof d!="object"||Array.isArray(d))throw new Error("Malformed tool call chunk args.");o.push({name:f,args:d,id:m,type:"tool_call"})}catch{l.push({name:f,args:p,id:m,error:"Malformed args.",type:"invalid_tool_call"})}}n={...e,tool_calls:o,invalid_tool_calls:l,usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0}}super(n);H(this,"type","ai");H(this,"tool_calls",[]);H(this,"invalid_tool_calls",[]);H(this,"tool_call_chunks",[]);H(this,"usage_metadata");this.tool_call_chunks=n.tool_call_chunks??this.tool_call_chunks,this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls,this.usage_metadata=n.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}get contentBlocks(){if(this.response_metadata&&"output_version"in this.response_metadata&&this.response_metadata.output_version==="v1")return this.content;if(this.response_metadata&&"model_provider"in this.response_metadata&&typeof this.response_metadata.model_provider=="string"){const n=SU(this.response_metadata.model_provider);if(n)return n.translateContent(this)}const e=super.contentBlocks;if(this.tool_calls&&typeof this.content!="string"){const n=this.content.filter(r=>r.type==="tool_call").map(r=>r.id);for(const r of this.tool_calls)r.id&&!n.includes(r.id)&&e.push({...r,type:"tool_call",id:r.id,name:r.name,args:r.args})}return e}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,tool_call_chunks:this.tool_call_chunks,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}concat(e){const n={content:no(this.content,e.content),additional_kwargs:Zn(this.additional_kwargs,e.additional_kwargs),response_metadata:EU(this.response_metadata,e.response_metadata),tool_call_chunks:[],id:this.id??e.id};if(this.tool_call_chunks!==void 0||e.tool_call_chunks!==void 0){const i=og(this.tool_call_chunks,e.tool_call_chunks);i!==void 0&&i.length>0&&(n.tool_call_chunks=i)}(this.usage_metadata!==void 0||e.usage_metadata!==void 0)&&(n.usage_metadata=AU(this.usage_metadata,e.usage_metadata));const r=this.constructor;return new r(n)}static isInstance(e){return super.isInstance(e)&&e.type==="ai"}},nu=class OU extends uo{constructor(n,r){(typeof n=="string"||Array.isArray(n))&&(n={content:n,role:r});super(n);H(this,"type","generic");H(this,"role");this.role=n.role}static lc_name(){return"ChatMessage"}static _chatMessageClass(){return OU}static isInstance(n){return super.isInstance(n)&&n.type==="generic"}get _printableFields(){return{...super._printableFields,role:this.role}}},cg=class extends Rl{constructor(e,n){(typeof e=="string"||Array.isArray(e))&&(e={content:e,role:n});super(e);H(this,"type","generic");H(this,"role");this.role=e.role}static lc_name(){return"ChatMessageChunk"}concat(e){const n=this.constructor;return new n({content:no(this.content,e.content),additional_kwargs:Zn(this.additional_kwargs,e.additional_kwargs),response_metadata:Zn(this.response_metadata,e.response_metadata),role:this.role,id:this.id??e.id})}static isInstance(e){return super.isInstance(e)&&e.type==="generic"}get _printableFields(){return{...super._printableFields,role:this.role}}};function ice(t){return t._getType()==="generic"}function ace(t){return t._getType()==="generic"}var xb=class extends uo{constructor(e){super(e);H(this,"type","function");H(this,"name");this.name=e.name}static lc_name(){return"FunctionMessage"}},ug=class extends Rl{constructor(){super(...arguments);H(this,"type","function")}static lc_name(){return"FunctionMessageChunk"}concat(e){const n=this.constructor;return new n({content:no(this.content,e.content),additional_kwargs:Zn(this.additional_kwargs,e.additional_kwargs),response_metadata:Zn(this.response_metadata,e.response_metadata),name:this.name??"",id:this.id??e.id})}};function sce(t){return t._getType()==="function"}function oce(t){return t._getType()==="function"}var xa=class extends uo{constructor(e){super(e);H(this,"type","human")}static lc_name(){return"HumanMessage"}static isInstance(e){return super.isInstance(e)&&e.type==="human"}},dg=class extends Rl{constructor(e){super(e);H(this,"type","human")}static lc_name(){return"HumanMessageChunk"}concat(e){const n=this.constructor;return new n({content:no(this.content,e.content),additional_kwargs:Zn(this.additional_kwargs,e.additional_kwargs),response_metadata:Zn(this.response_metadata,e.response_metadata),id:this.id??e.id})}static isInstance(e){return super.isInstance(e)&&e.type==="human"}};function lce(t){return t.getType()==="human"}function cce(t){return t.getType()==="human"}var ds=class uv extends uo{constructor(n){super(n);H(this,"type","system")}static lc_name(){return"SystemMessage"}concat(n){if(typeof n=="string")return new uv({...this,content:no(this.content,n)});if(uv.isInstance(n))return new uv({...this,additional_kwargs:{...this.additional_kwargs,...n.additional_kwargs},response_metadata:{...this.response_metadata,...n.response_metadata},content:no(this.content,n.content)});throw new Error("Unexpected chunk type for system message")}static isInstance(n){return super.isInstance(n)&&n.type==="system"}},El=class extends Rl{constructor(e){super(e);H(this,"type","system")}static lc_name(){return"SystemMessageChunk"}concat(e){const n=this.constructor;return new n({content:no(this.content,e.content),additional_kwargs:Zn(this.additional_kwargs,e.additional_kwargs),response_metadata:Zn(this.response_metadata,e.response_metadata),id:this.id??e.id})}static isInstance(e){return super.isInstance(e)&&e.type==="system"}};function uce(t){return t._getType()==="system"}function dce(t){return t._getType()==="system"}function NU(t,e){return t.lc_error_code=e,t.message=`${t.message}

Troubleshooting URL: https://docs.langchain.com/oss/javascript/langchain/errors/${e}/
`,t}function PU(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="tool_call")}var fce=class extends Error{constructor(e,n){super(e);H(this,"output");this.output=n}},l0=class extends uo{constructor(e){super({...e,content:[]});H(this,"type","remove");H(this,"id");this.id=e.id}get _printableFields(){return{...super._printableFields,id:this.id}}static isInstance(e){return super.isInstance(e)&&e.type==="remove"}};const hce=t=>t();function pce(t){return PU(t)?t:typeof t.id=="string"&&t.type==="function"&&typeof t.function=="object"&&t.function!==null&&"arguments"in t.function&&typeof t.function.arguments=="string"&&"name"in t.function&&typeof t.function.name=="string"?{id:t.id,args:JSON.parse(t.function.arguments),name:t.function.name,type:"tool_call"}:t}function mce(t){return typeof t=="object"&&t!=null&&t.lc===1&&Array.isArray(t.id)&&t.kwargs!=null&&typeof t.kwargs=="object"}function B_(t){let e,n;if(mce(t)){const r=t.id.at(-1);r==="HumanMessage"||r==="HumanMessageChunk"?e="user":r==="AIMessage"||r==="AIMessageChunk"?e="assistant":r==="SystemMessage"||r==="SystemMessageChunk"?e="system":r==="FunctionMessage"||r==="FunctionMessageChunk"?e="function":r==="ToolMessage"||r==="ToolMessageChunk"?e="tool":e="unknown",n=t.kwargs}else{const{type:r,...i}=t;e=r,n=i}if(e==="human"||e==="user")return new xa(n);if(e==="ai"||e==="assistant"){const{tool_calls:r,...i}=n;if(!Array.isArray(r))return new us(n);const a=r.map(pce);return new us({...i,tool_calls:a})}else{if(e==="system")return new ds(n);if(e==="developer")return new ds({...n,additional_kwargs:{...n.additional_kwargs,__openai_role__:"developer"}});if(e==="tool"&&"tool_call_id"in n)return new Lf({...n,content:n.content,tool_call_id:n.tool_call_id,name:n.name});if(e==="remove"&&"id"in n&&typeof n.id=="string")return new l0({...n,id:n.id});throw NU(new Error(`Unable to coerce message from array: only human, AI, system, developer, or tool message coercion is currently supported.

Received: ${JSON.stringify(t,null,2)}`),"MESSAGE_COERCION_FAILURE")}}function op(t){if(typeof t=="string")return new xa(t);if(Go(t))return t;if(Array.isArray(t)){const[e,n]=t;return B_({type:e,content:n})}else if(_U(t)){const{role:e,...n}=t;return B_({...n,type:e})}else return B_(t)}function uC(t,e="Human",n="AI"){const r=[];for(const i of t){let a;if(i._getType()==="human")a=e;else if(i._getType()==="ai")a=n;else if(i._getType()==="system")a="System";else if(i._getType()==="tool")a="Tool";else if(i._getType()==="generic")a=i.role;else throw new Error(`Got unsupported message type: ${i._getType()}`);const s=i.name?`${i.name}, `:"",o=typeof i.content=="string"?i.content:JSON.stringify(i.content,null,2);r.push(`${a}: ${s}${o}`)}return r.join(`
`)}function gce(t){if(t.data!==void 0)return t;{const e=t;return{type:e.type,data:{content:e.text,role:e.role,name:void 0,tool_call_id:void 0}}}}function dC(t){const e=gce(t);switch(e.type){case"human":return new xa(e.data);case"ai":return new us(e.data);case"system":return new ds(e.data);case"function":if(e.data.name===void 0)throw new Error("Name must be defined for function messages");return new xb(e.data);case"tool":if(e.data.tool_call_id===void 0)throw new Error("Tool call ID must be defined for tool messages");return new Lf(e.data);case"generic":if(e.data.role===void 0)throw new Error("Role must be defined for chat messages");return new nu(e.data);default:throw new Error(`Got unexpected type: ${e.type}`)}}function yce(t){return t.map(dC)}function vce(t){return t.map(e=>e.toDict())}function c0(t){var n;const e=t._getType();if(e==="human")return new dg({...t});if(e==="ai"){let r={...t};return"tool_calls"in r&&(r={...r,tool_call_chunks:(n=r.tool_calls)==null?void 0:n.map(i=>({...i,type:"tool_call_chunk",index:void 0,args:JSON.stringify(i.args)}))}),new fo({...r})}else{if(e==="system")return new El({...t});if(e==="function")return new ug({...t});if(nu.isInstance(t))return new cg({...t});throw new Error("Unknown message type.")}}var z_={},xce={};bt(xce,{getEnv:()=>DU,getEnvironmentVariable:()=>Bs,getRuntimeEnvironment:()=>LU,isBrowser:()=>IU,isDeno:()=>bb,isJsDom:()=>RU,isNode:()=>MU,isWebWorker:()=>$U});const IU=()=>typeof window<"u"&&typeof window.document<"u",$U=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",RU=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),bb=()=>typeof Deno<"u",MU=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!bb(),DU=()=>{let t;return IU()?t="browser":MU()?t="node":$U()?t="webworker":RU()?t="jsdom":bb()?t="deno":t="other",t};let U_;function LU(){return U_===void 0&&(U_={library:"langchain-js",runtime:DU()}),U_}function Bs(t){try{return typeof process<"u"?z_==null?void 0:z_[t]:bb()?Deno==null?void 0:Deno.env.get(t):void 0}catch{return}}const bce=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function lp(t){return typeof t=="string"&&bce.test(t)}function wce(t){if(!lp(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}var Dn=[];for(var H_=0;H_<256;++H_)Dn.push((H_+256).toString(16).slice(1));function fC(t,e=0){return(Dn[t[e+0]]+Dn[t[e+1]]+Dn[t[e+2]]+Dn[t[e+3]]+"-"+Dn[t[e+4]]+Dn[t[e+5]]+"-"+Dn[t[e+6]]+Dn[t[e+7]]+"-"+Dn[t[e+8]]+Dn[t[e+9]]+"-"+Dn[t[e+10]]+Dn[t[e+11]]+Dn[t[e+12]]+Dn[t[e+13]]+Dn[t[e+14]]+Dn[t[e+15]]).toLowerCase()}var dy,_ce=new Uint8Array(16);function FU(){if(!dy&&(dy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!dy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dy(_ce)}function Sce(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var Ece="6ba7b810-9dad-11d1-80b4-00c04fd430c8",jce="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Ace(t,e,n){function r(i,a,s,o){var l;if(typeof i=="string"&&(i=Sce(i)),typeof a=="string"&&(a=wce(a)),((l=a)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(a),c.set(i,a.length),c=n(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,s){o=o||0;for(var d=0;d<16;++d)s[o+d]=c[d];return s}return fC(c)}try{r.name=t}catch{}return r.DNS=Ece,r.URL=jce,r}var kce=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const H2={randomUUID:kce};function Er(t,e,n){if(H2.randomUUID&&!e&&!t)return H2.randomUUID();t=t||{};var r=t.random||(t.rng||FU)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,fC(r)}function Tce(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function V_(t,e){return t<<e|t>>>32-e}function Cce(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var a=t.length/4+2,s=Math.ceil(a/16),o=new Array(s),l=0;l<s;++l){for(var c=new Uint32Array(16),d=0;d<16;++d)c[d]=t[l*64+d*4]<<24|t[l*64+d*4+1]<<16|t[l*64+d*4+2]<<8|t[l*64+d*4+3];o[l]=c}o[s-1][14]=(t.length-1)*8/Math.pow(2,32),o[s-1][14]=Math.floor(o[s-1][14]),o[s-1][15]=(t.length-1)*8&4294967295;for(var f=0;f<s;++f){for(var h=new Uint32Array(80),p=0;p<16;++p)h[p]=o[f][p];for(var m=16;m<80;++m)h[m]=V_(h[m-3]^h[m-8]^h[m-14]^h[m-16],1);for(var g=n[0],x=n[1],v=n[2],b=n[3],y=n[4],w=0;w<80;++w){var _=Math.floor(w/20),E=V_(g,5)+Tce(_,x,v,b)+y+e[_]+h[w]>>>0;y=b,b=v,v=V_(x,30)>>>0,x=g,g=E}n[0]=n[0]+g>>>0,n[1]=n[1]+x>>>0,n[2]=n[2]+v>>>0,n[3]=n[3]+b>>>0,n[4]=n[4]+y>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var Fh=Ace("v5",80,Cce),V2=null,W2=null,zi=0;function Oce(t,e,n){t=t||{};var r=e&&n||0,i=e||new Uint8Array(16),a=t.random||(t.rng||FU)(),s=t.msecs!==void 0?t.msecs:Date.now(),o=t.seq!==void 0?t.seq:null,l=W2,c=V2;return s>zi&&t.msecs===void 0&&(zi=s,o!==null&&(l=null,c=null)),o!==null&&(o>2147483647&&(o=2147483647),l=o>>>19&4095,c=o&524287),(l===null||c===null)&&(l=a[6]&127,l=l<<8|a[7],c=a[8]&63,c=c<<8|a[9],c=c<<5|a[10]>>>3),s+1e4>zi&&o===null?++c>524287&&(c=0,++l>4095&&(l=0,zi++)):zi=s,W2=l,V2=c,i[r++]=zi/1099511627776&255,i[r++]=zi/4294967296&255,i[r++]=zi/16777216&255,i[r++]=zi/65536&255,i[r++]=zi/256&255,i[r++]=zi&255,i[r++]=l>>>4&15|112,i[r++]=l&255,i[r++]=c>>>13&63|128,i[r++]=c>>>5&255,i[r++]=c<<3&255|a[10]&7,i[r++]=a[11],i[r++]=a[12],i[r++]=a[13],i[r++]=a[14],i[r++]=a[15],e||fC(i)}var Nce={};bt(Nce,{BaseCallbackHandler:()=>fg,callbackHandlerPrefersStreaming:()=>BU,isBaseCallbackHandler:()=>zU});var Pce=class{};function BU(t){return"lc_prefer_streaming"in t&&t.lc_prefer_streaming}var fg=class extends Pce{constructor(e){super();H(this,"lc_serializable",!1);H(this,"lc_kwargs");H(this,"ignoreLLM",!1);H(this,"ignoreChain",!1);H(this,"ignoreAgent",!1);H(this,"ignoreRetriever",!1);H(this,"ignoreCustomEvent",!1);H(this,"raiseError",!1);H(this,"awaitHandlers",Bs("LANGCHAIN_CALLBACKS_BACKGROUND")==="false");this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever,this.ignoreCustomEvent=e.ignoreCustomEvent??this.ignoreCustomEvent,this.raiseError=e.raiseError??this.raiseError,this.awaitHandlers=this.raiseError||(e._awaitHandler??this.awaitHandlers))}get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,iC(this.constructor)]}copy(){return new this.constructor(this)}toJSON(){return Gd.prototype.toJSON.call(this)}toJSONNotImplemented(){return Gd.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){class n extends fg{constructor(){super();H(this,"name",Er());Object.assign(this,e)}}return new n}};const zU=t=>{const e=t;return e!==void 0&&typeof e.copy=="function"&&typeof e.name=="string"&&typeof e.awaitHandlers=="boolean"},Ice="gen_ai.operation.name",$ce="gen_ai.system",q2="gen_ai.request.model",Rce="gen_ai.response.model",G2="gen_ai.usage.input_tokens",K2="gen_ai.usage.output_tokens",Y2="gen_ai.usage.total_tokens",Mce="gen_ai.request.max_tokens",Dce="gen_ai.request.temperature",Lce="gen_ai.request.top_p",Fce="gen_ai.request.frequency_penalty",Bce="gen_ai.request.presence_penalty",zce="gen_ai.response.finish_reasons",Uce="gen_ai.prompt",Hce="gen_ai.completion",Vce="gen_ai.request.extra_query",Wce="gen_ai.request.extra_body",qce="gen_ai.serialized.name",Gce="gen_ai.serialized.signature",Kce="gen_ai.serialized.doc",Yce="gen_ai.response.id",Xce="gen_ai.response.service_tier",Zce="gen_ai.response.system_fingerprint",Jce="gen_ai.usage.input_token_details",Qce="gen_ai.usage.output_token_details",eue="langsmith.trace.session_id",tue="langsmith.trace.session_name",nue="langsmith.span.kind",rue="langsmith.trace.name",iue="langsmith.metadata",X2="langsmith.span.tags",aue="langsmith.request.streaming",sue="langsmith.request.headers",oue=(...t)=>fetch(...t),UU=Symbol.for("ls:fetch_implementation"),lue=()=>{const t=globalThis[UU];return t?typeof t=="function"&&"Headers"in t&&"Request"in t&&"Response"in t:!1},cue=t=>async(...e)=>{if(t||jr("DEBUG")==="true"){const[r,i]=e;console.log(` ${(i==null?void 0:i.method)||"GET"} ${r}`)}const n=await(globalThis[UU]??oue)(...e);return(t||jr("DEBUG")==="true")&&console.log(` ${n.status} ${n.statusText} ${n.url}`),n},HU=()=>jr("PROJECT")??fs("LANGCHAIN_SESSION")??"default",Z2={};function VE(t){Z2[t]||(console.warn(t),Z2[t]=!0)}const uue=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Ye(t,e){if(!uue.test(t)){const n=e!==void 0?`Invalid UUID for ${e}: ${t}`:`Invalid UUID: ${t}`;throw new Error(n)}return t}function due(t){const e=typeof t=="string"?Date.parse(t):t;return Oce({msecs:e,seq:0})}const VU="0.3.82";var cp={};let Ra;const fue=()=>typeof window<"u"&&typeof window.document<"u",hue=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",pue=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),WU=()=>typeof Deno<"u",mue=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!WU(),qU=()=>Ra||(typeof Bun<"u"?Ra="bun":fue()?Ra="browser":mue()?Ra="node":hue()?Ra="webworker":pue()?Ra="jsdom":WU()?Ra="deno":Ra="other",Ra);let W_;function GU(){if(W_===void 0){const t=qU(),e=yue();W_={library:"langsmith",runtime:t,sdk:"langsmith-js",sdk_version:VU,...e}}return W_}function KU(){const t=gue(),e={},n=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION","LANGSMITH_API_KEY","LANGSMITH_ENDPOINT","LANGSMITH_TRACING_V2","LANGSMITH_PROJECT","LANGSMITH_SESSION"];for(const[r,i]of Object.entries(t))typeof i=="string"&&!n.includes(r)&&!r.toLowerCase().includes("key")&&!r.toLowerCase().includes("secret")&&!r.toLowerCase().includes("token")&&(r==="LANGCHAIN_REVISION_ID"?e.revision_id=i:e[r]=i);return e}function gue(){const t={};try{if(typeof process<"u"&&cp)for(const[e,n]of Object.entries(cp))(e.startsWith("LANGCHAIN_")||e.startsWith("LANGSMITH_"))&&n!=null&&((e.toLowerCase().includes("key")||e.toLowerCase().includes("secret")||e.toLowerCase().includes("token"))&&typeof n=="string"?t[e]=n.slice(0,2)+"*".repeat(n.length-4)+n.slice(-2):t[e]=n)}catch{}return t}function fs(t){try{return typeof process<"u"?cp==null?void 0:cp[t]:void 0}catch{return}}function jr(t){return fs(`LANGSMITH_${t}`)||fs(`LANGCHAIN_${t}`)}let q_;function yue(){if(q_!==void 0)return q_;const t=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],e={};for(const n of t){const r=fs(n);r!==void 0&&(e[n]=r)}return q_=e,e}function YU(){return fs("OTEL_ENABLED")==="true"||jr("OTEL_ENABLED")==="true"}class vue{constructor(){Object.defineProperty(this,"hasWarned",{enumerable:!0,configurable:!0,writable:!0,value:!1})}startActiveSpan(e,...n){!this.hasWarned&&YU()&&(console.warn('You have enabled OTEL export via the `OTEL_ENABLED` or `LANGSMITH_OTEL_ENABLED` environment variable, but have not initialized the required OTEL instances. Please add:\n```\nimport { initializeOTEL } from "langsmith/experimental/otel/setup";\ninitializeOTEL();\n```\nat the beginning of your code.'),this.hasWarned=!0);let r;if(n.length===1&&typeof n[0]=="function"?r=n[0]:n.length===2&&typeof n[1]=="function"?r=n[1]:n.length===3&&typeof n[2]=="function"&&(r=n[2]),typeof r=="function")return r()}}class xue{constructor(){Object.defineProperty(this,"mockTracer",{enumerable:!0,configurable:!0,writable:!0,value:new vue})}getTracer(e,n){return this.mockTracer}getActiveSpan(){}setSpan(e,n){return e}getSpan(e){}setSpanContext(e,n){return e}getTracerProvider(){}setGlobalTracerProvider(e){return!1}}class bue{active(){return{}}with(e,n){return n()}}const G_=Symbol.for("ls:otel_trace"),K_=Symbol.for("ls:otel_context"),J2=Symbol.for("ls:otel_get_default_otlp_tracer_provider"),wue=new xue,_ue=new bue;class Sue{getTraceInstance(){return globalThis[G_]??wue}getContextInstance(){return globalThis[K_]??_ue}initializeGlobalInstances(e){globalThis[G_]===void 0&&(globalThis[G_]=e.trace),globalThis[K_]===void 0&&(globalThis[K_]=e.context)}setDefaultOTLPTracerComponents(e){globalThis[J2]=e}getDefaultOTLPTracerComponents(){return globalThis[J2]??void 0}}const hC=new Sue;function XU(){return hC.getTraceInstance()}function Eue(){return hC.getContextInstance()}function jue(){return hC.getDefaultOTLPTracerComponents()}const Aue={llm:"chat",tool:"execute_tool",retriever:"embeddings",embedding:"embeddings",prompt:"chat"};function kue(t){return Aue[t]||t}class Tue{constructor(){Object.defineProperty(this,"spans",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}exportBatch(e,n){for(const r of e)try{if(!r.run)continue;if(r.operation==="post"){const i=this.createSpanForRun(r,r.run,n.get(r.id));i&&!r.run.end_time&&this.spans.set(r.id,i)}else this.updateSpanForRun(r,r.run)}catch(i){console.error(`Error processing operation ${r.id}:`,i)}}createSpanForRun(e,n,r){const i=r&&XU().getSpan(r);if(i)try{return this.finishSpanSetup(i,n,e)}catch(a){console.error(`Failed to create span for run ${e.id}:`,a);return}}finishSpanSetup(e,n,r){return this.setSpanAttributes(e,n,r),n.error?(e.setStatus({code:2}),e.recordException(new Error(n.error))):e.setStatus({code:1}),n.end_time&&e.end(new Date(n.end_time)),e}updateSpanForRun(e,n){try{const r=this.spans.get(e.id);if(!r){console.debug(`No span found for run ${e.id} during update`);return}this.setSpanAttributes(r,n,e),n.error?(r.setStatus({code:2}),r.recordException(new Error(n.error))):r.setStatus({code:1});const i=n.end_time;i&&(r.end(new Date(i)),this.spans.delete(e.id))}catch(r){console.error(`Failed to update span for run ${e.id}:`,r)}}extractModelName(e){var n;if((n=e.extra)!=null&&n.metadata){const r=e.extra.metadata;if(r.ls_model_name)return r.ls_model_name;if(r.invocation_params){const i=r.invocation_params;if(i.model)return i.model;if(i.model_name)return i.model_name}}}setSpanAttributes(e,n,r){var o;if("run_type"in n&&n.run_type){e.setAttribute(nue,n.run_type);const l=kue(n.run_type||"chain");e.setAttribute(Ice,l)}"name"in n&&n.name&&e.setAttribute(rue,n.name),"session_id"in n&&n.session_id&&e.setAttribute(eue,n.session_id),"session_name"in n&&n.session_name&&e.setAttribute(tue,n.session_name),this.setGenAiSystem(e,n);const i=this.extractModelName(n);i&&e.setAttribute(q2,i),"prompt_tokens"in n&&typeof n.prompt_tokens=="number"&&e.setAttribute(G2,n.prompt_tokens),"completion_tokens"in n&&typeof n.completion_tokens=="number"&&e.setAttribute(K2,n.completion_tokens),"total_tokens"in n&&typeof n.total_tokens=="number"&&e.setAttribute(Y2,n.total_tokens),this.setInvocationParameters(e,n);const a=((o=n.extra)==null?void 0:o.metadata)||{};for(const[l,c]of Object.entries(a))c!=null&&e.setAttribute(`${iue}.${l}`,String(c));const s=n.tags;if(s&&Array.isArray(s)?e.setAttribute(X2,s.join(", ")):s&&e.setAttribute(X2,String(s)),"serialized"in n&&typeof n.serialized=="object"){const l=n.serialized;l.name&&e.setAttribute(qce,String(l.name)),l.signature&&e.setAttribute(Gce,String(l.signature)),l.doc&&e.setAttribute(Kce,String(l.doc))}this.setIOAttributes(e,r)}setGenAiSystem(e,n){let r="langchain";const i=this.extractModelName(n);if(i){const a=i.toLowerCase();a.includes("anthropic")||a.startsWith("claude")?r="anthropic":a.includes("bedrock")?r="aws.bedrock":a.includes("azure")&&a.includes("openai")?r="az.ai.openai":a.includes("azure")&&a.includes("inference")?r="az.ai.inference":a.includes("cohere")?r="cohere":a.includes("deepseek")?r="deepseek":a.includes("gemini")?r="gemini":a.includes("groq")?r="groq":a.includes("watson")||a.includes("ibm")?r="ibm.watsonx.ai":a.includes("mistral")?r="mistral_ai":a.includes("gpt")||a.includes("openai")?r="openai":a.includes("perplexity")||a.includes("sonar")?r="perplexity":a.includes("vertex")?r="vertex_ai":(a.includes("xai")||a.includes("grok"))&&(r="xai")}e.setAttribute($ce,r)}setInvocationParameters(e,n){var i,a;if(!((a=(i=n.extra)==null?void 0:i.metadata)!=null&&a.invocation_params))return;const r=n.extra.metadata.invocation_params;r.max_tokens!==void 0&&e.setAttribute(Mce,r.max_tokens),r.temperature!==void 0&&e.setAttribute(Dce,r.temperature),r.top_p!==void 0&&e.setAttribute(Lce,r.top_p),r.frequency_penalty!==void 0&&e.setAttribute(Fce,r.frequency_penalty),r.presence_penalty!==void 0&&e.setAttribute(Bce,r.presence_penalty)}setIOAttributes(e,n){if(n.run.inputs)try{const r=n.run.inputs;typeof r=="object"&&r!==null&&(r.model&&Array.isArray(r.messages)&&e.setAttribute(q2,r.model),r.stream!==void 0&&e.setAttribute(aue,r.stream),r.extra_headers&&e.setAttribute(sue,JSON.stringify(r.extra_headers)),r.extra_query&&e.setAttribute(Vce,JSON.stringify(r.extra_query)),r.extra_body&&e.setAttribute(Wce,JSON.stringify(r.extra_body))),e.setAttribute(Uce,JSON.stringify(r))}catch(r){console.debug(`Failed to process inputs for run ${n.id}`,r)}if(n.run.outputs)try{const r=n.run.outputs,i=this.getUnifiedRunTokens(r);if(i&&(e.setAttribute(G2,i[0]),e.setAttribute(K2,i[1]),e.setAttribute(Y2,i[0]+i[1])),r&&typeof r=="object"){if(r.model&&e.setAttribute(Rce,String(r.model)),r.id&&e.setAttribute(Yce,r.id),r.choices&&Array.isArray(r.choices)){const a=r.choices.map(s=>s.finish_reason).filter(s=>s).map(String);a.length>0&&e.setAttribute(zce,a.join(", "))}if(r.service_tier&&e.setAttribute(Xce,r.service_tier),r.system_fingerprint&&e.setAttribute(Zce,r.system_fingerprint),r.usage_metadata&&typeof r.usage_metadata=="object"){const a=r.usage_metadata;a.input_token_details&&e.setAttribute(Jce,JSON.stringify(a.input_token_details)),a.output_token_details&&e.setAttribute(Qce,JSON.stringify(a.output_token_details))}}e.setAttribute(Hce,JSON.stringify(r))}catch(r){console.debug(`Failed to process outputs for run ${n.id}`,r)}}getUnifiedRunTokens(e){if(!e)return null;let n=this.extractUnifiedRunTokens(e.usage_metadata);if(n)return n;const r=Object.keys(e);for(const s of r){const o=e[s];if(!(!o||typeof o!="object")&&(n=this.extractUnifiedRunTokens(o.usage_metadata),n||o.lc===1&&o.kwargs&&typeof o.kwargs=="object"&&(n=this.extractUnifiedRunTokens(o.kwargs.usage_metadata),n)))return n}const i=e.generations||[];if(!Array.isArray(i))return null;const a=Array.isArray(i[0])?i.flat():i;for(const s of a)if(typeof s=="object"&&s.message&&typeof s.message=="object"&&s.message.kwargs&&typeof s.message.kwargs=="object"&&(n=this.extractUnifiedRunTokens(s.message.kwargs.usage_metadata),n))return n;return null}extractUnifiedRunTokens(e){return!e||typeof e!="object"||typeof e.input_tokens!="number"||typeof e.output_tokens!="number"?null:[e.input_tokens,e.output_tokens]}}const Cue=Object.prototype.toString,Oue=t=>Cue.call(t)==="[object Error]",Nue=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function Pue(t){if(!(t&&Oue(t)&&t.name==="TypeError"&&typeof t.message=="string"))return!1;const{message:n,stack:r}=t;return n==="Load failed"?r===void 0||"__sentry_captured__"in t:n.startsWith("error sending request for url")?!0:Nue.has(n)}function Iue(t){if(typeof t=="number"){if(t<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(t))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(t!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function fy(t,e,{min:n=0,allowInfinity:r=!1}={}){if(e!==void 0){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected \`${t}\` to be a number${r?" or Infinity":""}.`);if(!r&&!Number.isFinite(e))throw new TypeError(`Expected \`${t}\` to be a finite number.`);if(e<n)throw new TypeError(`Expected \`${t}\` to be  ${n}.`)}}let $ue=class extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}};function Rue(t,e){const n=Math.max(1,t+1),r=e.randomize?Math.random()+1:1;let i=Math.round(r*e.minTimeout*e.factor**(n-1));return i=Math.min(i,e.maxTimeout),i}function Q2(t,e){return Number.isFinite(e)?e-(performance.now()-t):e}async function Mue({error:t,attemptNumber:e,retriesConsumed:n,startTime:r,options:i}){var p,m,g;const a=t instanceof Error?t:new TypeError(`Non-error was thrown: "${t}". You should only throw errors.`);if(a instanceof $ue)throw a.originalError;const s=Number.isFinite(i.retries)?Math.max(0,i.retries-n):i.retries,o=i.maxRetryTime??Number.POSITIVE_INFINITY,l=Object.freeze({error:a,attemptNumber:e,retriesLeft:s,retriesConsumed:n});if(await i.onFailedAttempt(l),Q2(r,o)<=0)throw a;const c=await i.shouldConsumeRetry(l),d=Q2(r,o);if(d<=0||s<=0)throw a;if(a instanceof TypeError&&!Pue(a)){if(c)throw a;return(p=i.signal)==null||p.throwIfAborted(),!1}if(!await i.shouldRetry(l))throw a;if(!c)return(m=i.signal)==null||m.throwIfAborted(),!1;const f=Rue(n,i),h=Math.min(f,d);return h>0&&await new Promise((x,v)=>{var w,_;const b=()=>{var E;clearTimeout(y),(E=i.signal)==null||E.removeEventListener("abort",b),v(i.signal.reason)},y=setTimeout(()=>{var E;(E=i.signal)==null||E.removeEventListener("abort",b),x()},h);i.unref&&((w=y.unref)==null||w.call(y)),(_=i.signal)==null||_.addEventListener("abort",b,{once:!0})}),(g=i.signal)==null||g.throwIfAborted(),!0}async function Due(t,e={}){var a,s,o;if(e={...e},Iue(e.retries),Object.hasOwn(e,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");e.retries??(e.retries=10),e.factor??(e.factor=2),e.minTimeout??(e.minTimeout=1e3),e.maxTimeout??(e.maxTimeout=Number.POSITIVE_INFINITY),e.maxRetryTime??(e.maxRetryTime=Number.POSITIVE_INFINITY),e.randomize??(e.randomize=!1),e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.shouldConsumeRetry??(e.shouldConsumeRetry=()=>!0),fy("factor",e.factor,{min:0,allowInfinity:!1}),fy("minTimeout",e.minTimeout,{min:0,allowInfinity:!1}),fy("maxTimeout",e.maxTimeout,{min:0,allowInfinity:!0}),fy("maxRetryTime",e.maxRetryTime,{min:0,allowInfinity:!0}),e.factor>0||(e.factor=1),(a=e.signal)==null||a.throwIfAborted();let n=0,r=0;const i=performance.now();for(;!Number.isFinite(e.retries)||r<=e.retries;){n++;try{(s=e.signal)==null||s.throwIfAborted();const l=await t(n);return(o=e.signal)==null||o.throwIfAborted(),l}catch(l){await Mue({error:l,attemptNumber:n,retriesConsumed:r,startTime:i,options:e})&&r++}}throw new Error("Retry attempts exhausted without throwing an error.")}var ZU={},JU={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function a(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||l,h),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},o.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,h,p,m){var g=n?n+c:c;if(!this._events[g])return!1;var x=this._events[g],v=arguments.length,b,y;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),v){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,p),!0;case 6:return x.fn.call(x.context,d,f,h,p,m),!0}for(y=1,b=new Array(v-1);y<v;y++)b[y-1]=arguments[y];x.fn.apply(x.context,b)}else{var w=x.length,_;for(y=0;y<w;y++)switch(x[y].once&&this.removeListener(c,x[y].fn,void 0,!0),v){case 1:x[y].fn.call(x[y].context);break;case 2:x[y].fn.call(x[y].context,d);break;case 3:x[y].fn.call(x[y].context,d,f);break;case 4:x[y].fn.call(x[y].context,d,f,h);break;default:if(!b)for(_=1,b=new Array(v-1);_<v;_++)b[_-1]=arguments[_];x[y].fn.apply(x[y].context,b)}}return!0},o.prototype.on=function(c,d,f){return a(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return a(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,h){var p=n?n+c:c;if(!this._events[p])return this;if(!d)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&s(this,p);else{for(var g=0,x=[],v=m.length;g<v;g++)(m[g].fn!==d||h&&!m[g].once||f&&m[g].context!==f)&&x.push(m[g]);x.length?this._events[p]=x.length===1?x[0]:x:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(JU);var QU=JU.exports;const Lue=at(QU);var wb={exports:{}},Fue=(t,e)=>(e=e||(()=>{}),t.then(n=>new Promise(r=>{r(e())}).then(()=>n),n=>new Promise(r=>{r(e())}).then(()=>{throw n})));const Bue=Fue;class e6 extends Error{constructor(e){super(e),this.name="TimeoutError"}}const t6=(t,e,n)=>new Promise((r,i)=>{if(typeof e!="number"||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===1/0){r(t);return}const a=setTimeout(()=>{if(typeof n=="function"){try{r(n())}catch(l){i(l)}return}const s=typeof n=="string"?n:`Promise timed out after ${e} milliseconds`,o=n instanceof Error?n:new e6(s);typeof t.cancel=="function"&&t.cancel(),i(o)},e);Bue(t.then(r,i),()=>{clearTimeout(a)})});wb.exports=t6;wb.exports.default=t6;wb.exports.TimeoutError=e6;var zue=wb.exports,pC={},mC={};Object.defineProperty(mC,"__esModule",{value:!0});function Uue(t,e,n){let r=0,i=t.length;for(;i>0;){const a=i/2|0;let s=r+a;n(t[s],e)<=0?(r=++s,i-=a+1):i=a}return r}mC.default=Uue;Object.defineProperty(pC,"__esModule",{value:!0});const Hue=mC;class Vue{constructor(){this._queue=[]}enqueue(e,n){n=Object.assign({priority:0},n);const r={priority:n.priority,run:e};if(this.size&&this._queue[this.size-1].priority>=n.priority){this._queue.push(r);return}const i=Hue.default(this._queue,r,(a,s)=>s.priority-a.priority);this._queue.splice(i,0,r)}dequeue(){const e=this._queue.shift();return e==null?void 0:e.run}filter(e){return this._queue.filter(n=>n.priority===e.priority).map(n=>n.run)}get size(){return this._queue.length}}pC.default=Vue;Object.defineProperty(ZU,"__esModule",{value:!0});const Wue=QU,n6=zue,que=pC,hy=()=>{},Gue=new n6.TimeoutError;class Kue extends Wue{constructor(e){var n,r,i,a;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=hy,this._resolveIdle=hy,e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:que.default},e),!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(r=(n=e.intervalCap)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(a=(i=e.interval)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||e.interval===0,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=e.throwOnTimeout===!0,this._isPaused=e.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=hy,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=hy,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(this._intervalId===void 0){const n=this._intervalEnd-e;if(n<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},n)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const n=this._queue.dequeue();return n?(this.emit("active"),n(),e&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,n={}){return new Promise((r,i)=>{const a=async()=>{this._pendingCount++,this._intervalCount++;try{const s=this._timeout===void 0&&n.timeout===void 0?e():n6.default(Promise.resolve(e()),n.timeout===void 0?this._timeout:n.timeout,()=>{(n.throwOnTimeout===void 0?this._throwOnTimeout:n.throwOnTimeout)&&i(Gue)});r(await s)}catch(s){i(s)}this._next()};this._queue.enqueue(a,n),this._tryToStartAnother(),this.emit("add")})}async addAll(e,n){return Promise.all(e.map(async r=>this.add(r,n)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(e=>{const n=this._resolveEmpty;this._resolveEmpty=()=>{n(),e()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(e=>{const n=this._resolveIdle;this._resolveIdle=()=>{n(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}var zs=ZU.default=Kue;const Yue=[408,425,429,500,502,503,504];let e$=class{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxQueueSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queueSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.maxQueueSizeBytes=e.maxQueueSizeBytes,"default"in zs?this.queue=new zs.default({concurrency:this.maxConcurrency}):this.queue=new zs({concurrency:this.maxConcurrency}),this.onFailedResponseHook=e==null?void 0:e.onFailedResponseHook}call(e,...n){return this.callWithOptions({},e,...n)}callWithOptions(e,n,...r){const i=e.sizeBytes??0;if(this.maxQueueSizeBytes!==void 0&&i>0&&this.queueSizeBytes+i>this.maxQueueSizeBytes)return Promise.reject(new Error(`Queue size limit (${this.maxQueueSizeBytes} bytes) exceeded. Current queue size: ${this.queueSizeBytes} bytes, attempted addition: ${i} bytes.`));i>0&&(this.queueSizeBytes+=i);const a=this.onFailedResponseHook;let s=this.queue.add(()=>Due(()=>n(...r).catch(o=>{throw o instanceof Error?o:new Error(o)}),{async onFailedAttempt({error:o}){if(o.message.startsWith("Cancel")||o.message.startsWith("TimeoutError")||o.name==="TimeoutError"||o.message.startsWith("AbortError")||(o==null?void 0:o.code)==="ECONNABORTED")throw o;const l=o==null?void 0:o.response;if(a&&await a(l))return;const c=(l==null?void 0:l.status)??(o==null?void 0:o.status);if(c&&!Yue.includes(+c))throw o},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0});return i>0&&(s=s.finally(()=>{this.queueSizeBytes-=i})),e.signal?Promise.race([s,new Promise((o,l)=>{var c;(c=e.signal)==null||c.addEventListener("abort",()=>{l(new Error("AbortError"))})})]):s}};function t$(t){return typeof(t==null?void 0:t._getType)=="function"}function n$(t){const e={type:t._getType(),data:{content:t.content}};return t!=null&&t.additional_kwargs&&Object.keys(t.additional_kwargs).length>0&&(e.data.additional_kwargs={...t.additional_kwargs}),e}var WE={exports:{}};const Xue="2.0.0",r6=256,Zue=Number.MAX_SAFE_INTEGER||9007199254740991,Jue=16,Que=r6-6,ede=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var _b={MAX_LENGTH:r6,MAX_SAFE_COMPONENT_LENGTH:Jue,MAX_SAFE_BUILD_LENGTH:Que,MAX_SAFE_INTEGER:Zue,RELEASE_TYPES:ede,SEMVER_SPEC_VERSION:Xue,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Y_={};const tde=typeof process=="object"&&Y_&&Y_.NODE_DEBUG&&/\bsemver\b/i.test(Y_.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var Sb=tde;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=_b,a=Sb;e=t.exports={};const s=e.re=[],o=e.safeRe=[],l=e.src=[],c=e.t={};let d=0;const f="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[f,r]],p=g=>{for(const[x,v]of h)g=g.split(`${x}*`).join(`${x}{0,${v}}`).split(`${x}+`).join(`${x}{1,${v}}`);return g},m=(g,x,v)=>{const b=p(x),y=d++;a(g,y,x),c[g]=y,l[y]=x,s[y]=new RegExp(x,v?"g":void 0),o[y]=new RegExp(b,v?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),m("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${l[c.NUMERICIDENTIFIER]}|${l[c.NONNUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NUMERICIDENTIFIERLOOSE]}|${l[c.NONNUMERICIDENTIFIER]})`),m("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${f}+`),m("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),m("FULL",`^${l[c.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),m("LOOSE",`^${l[c.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),m("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),m("COERCE",`${l[c.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",l[c.COERCEPLAIN]+`(?:${l[c.PRERELEASE]})?(?:${l[c.BUILD]})?(?:$|[^\\d])`),m("COERCERTL",l[c.COERCE],!0),m("COERCERTLFULL",l[c.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",m("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",m("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(WE,WE.exports);var hg=WE.exports;const nde=Object.freeze({loose:!0}),rde=Object.freeze({}),ide=t=>t?typeof t!="object"?nde:t:rde;var gC=ide;const r$=/^[0-9]+$/,i6=(t,e)=>{const n=r$.test(t),r=r$.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},ade=(t,e)=>i6(e,t);var a6={compareIdentifiers:i6,rcompareIdentifiers:ade};const py=Sb,{MAX_LENGTH:i$,MAX_SAFE_INTEGER:my}=_b,{safeRe:a$,t:s$}=hg,sde=gC,{compareIdentifiers:_u}=a6;let ode=class Da{constructor(e,n){if(n=sde(n),e instanceof Da){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>i$)throw new TypeError(`version is longer than ${i$} characters`);py("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=e.trim().match(n.loose?a$[s$.LOOSE]:a$[s$.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>my||this.major<0)throw new TypeError("Invalid major version");if(this.minor>my||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>my||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const a=+i;if(a>=0&&a<my)return a}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(py("SemVer.compare",this.version,this.options,e),!(e instanceof Da)){if(typeof e=="string"&&e===this.version)return 0;e=new Da(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Da||(e=new Da(e,this.options)),_u(this.major,e.major)||_u(this.minor,e.minor)||_u(this.patch,e.patch)}comparePre(e){if(e instanceof Da||(e=new Da(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=e.prerelease[n];if(py("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return _u(r,i)}while(++n)}compareBuild(e){e instanceof Da||(e=new Da(e,this.options));let n=0;do{const r=this.build[n],i=e.build[n];if(py("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return _u(r,i)}while(++n)}inc(e,n,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let a=[n,i];r===!1&&(a=[n]),_u(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var mr=ode;const o$=mr,lde=(t,e,n=!1)=>{if(t instanceof o$)return t;try{return new o$(t,e)}catch(r){if(!n)return null;throw r}};var Ff=lde;const cde=Ff,ude=(t,e)=>{const n=cde(t,e);return n?n.version:null};var dde=ude;const fde=Ff,hde=(t,e)=>{const n=fde(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};var pde=hde;const l$=mr,mde=(t,e,n,r,i)=>{typeof n=="string"&&(i=r,r=n,n=void 0);try{return new l$(t instanceof l$?t.version:t,n).inc(e,r,i).version}catch{return null}};var gde=mde;const c$=Ff,yde=(t,e)=>{const n=c$(t,null,!0),r=c$(e,null,!0),i=n.compare(r);if(i===0)return null;const a=i>0,s=a?n:r,o=a?r:n,l=!!s.prerelease.length;if(!!o.prerelease.length&&!l)return!o.patch&&!o.minor?"major":s.patch?"patch":s.minor?"minor":"major";const d=l?"pre":"";return n.major!==r.major?d+"major":n.minor!==r.minor?d+"minor":n.patch!==r.patch?d+"patch":"prerelease"};var vde=yde;const xde=mr,bde=(t,e)=>new xde(t,e).major;var wde=bde;const _de=mr,Sde=(t,e)=>new _de(t,e).minor;var Ede=Sde;const jde=mr,Ade=(t,e)=>new jde(t,e).patch;var kde=Ade;const Tde=Ff,Cde=(t,e)=>{const n=Tde(t,e);return n&&n.prerelease.length?n.prerelease:null};var Ode=Cde;const u$=mr,Nde=(t,e,n)=>new u$(t,n).compare(new u$(e,n));var ja=Nde;const Pde=ja,Ide=(t,e,n)=>Pde(e,t,n);var $de=Ide;const Rde=ja,Mde=(t,e)=>Rde(t,e,!0);var Dde=Mde;const d$=mr,Lde=(t,e,n)=>{const r=new d$(t,n),i=new d$(e,n);return r.compare(i)||r.compareBuild(i)};var yC=Lde;const Fde=yC,Bde=(t,e)=>t.sort((n,r)=>Fde(n,r,e));var zde=Bde;const Ude=yC,Hde=(t,e)=>t.sort((n,r)=>Ude(r,n,e));var Vde=Hde;const Wde=ja,qde=(t,e,n)=>Wde(t,e,n)>0;var Eb=qde;const Gde=ja,Kde=(t,e,n)=>Gde(t,e,n)<0;var vC=Kde;const Yde=ja,Xde=(t,e,n)=>Yde(t,e,n)===0;var s6=Xde;const Zde=ja,Jde=(t,e,n)=>Zde(t,e,n)!==0;var o6=Jde;const Qde=ja,efe=(t,e,n)=>Qde(t,e,n)>=0;var xC=efe;const tfe=ja,nfe=(t,e,n)=>tfe(t,e,n)<=0;var bC=nfe;const rfe=s6,ife=o6,afe=Eb,sfe=xC,ofe=vC,lfe=bC,cfe=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return rfe(t,n,r);case"!=":return ife(t,n,r);case">":return afe(t,n,r);case">=":return sfe(t,n,r);case"<":return ofe(t,n,r);case"<=":return lfe(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};var l6=cfe;const ufe=mr,dfe=Ff,{safeRe:gy,t:yy}=hg,ffe=(t,e)=>{if(t instanceof ufe)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?gy[yy.COERCEFULL]:gy[yy.COERCE]);else{const l=e.includePrerelease?gy[yy.COERCERTLFULL]:gy[yy.COERCERTL];let c;for(;(c=l.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||c.index+c[0].length!==n.index+n[0].length)&&(n=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(n===null)return null;const r=n[2],i=n[3]||"0",a=n[4]||"0",s=e.includePrerelease&&n[5]?`-${n[5]}`:"",o=e.includePrerelease&&n[6]?`+${n[6]}`:"";return dfe(`${r}.${i}.${a}${s}${o}`,e)};var hfe=ffe;class pfe{constructor(){this.max=1e3,this.map=new Map}get(e){const n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(e,n)}return this}}var mfe=pfe,X_,f$;function Aa(){if(f$)return X_;f$=1;const t=/\s+/g;class e{constructor(F,U){if(U=i(U),F instanceof e)return F.loose===!!U.loose&&F.includePrerelease===!!U.includePrerelease?F:new e(F.raw,U);if(F instanceof a)return this.raw=F.value,this.set=[[F]],this.formatted=void 0,this;if(this.options=U,this.loose=!!U.loose,this.includePrerelease=!!U.includePrerelease,this.raw=F.trim().replace(t," "),this.set=this.raw.split("||").map(V=>this.parseRange(V.trim())).filter(V=>V.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const V=this.set[0];if(this.set=this.set.filter(D=>!g(D[0])),this.set.length===0)this.set=[V];else if(this.set.length>1){for(const D of this.set)if(D.length===1&&x(D[0])){this.set=[D];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let F=0;F<this.set.length;F++){F>0&&(this.formatted+="||");const U=this.set[F];for(let V=0;V<U.length;V++)V>0&&(this.formatted+=" "),this.formatted+=U[V].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(F){const V=((this.options.includePrerelease&&p)|(this.options.loose&&m))+":"+F,D=r.get(V);if(D)return D;const B=this.options.loose,P=B?l[c.HYPHENRANGELOOSE]:l[c.HYPHENRANGE];F=F.replace(P,O(this.options.includePrerelease)),s("hyphen replace",F),F=F.replace(l[c.COMPARATORTRIM],d),s("comparator trim",F),F=F.replace(l[c.TILDETRIM],f),s("tilde trim",F),F=F.replace(l[c.CARETTRIM],h),s("caret trim",F);let W=F.split(" ").map(ie=>b(ie,this.options)).join(" ").split(/\s+/).map(ie=>T(ie,this.options));B&&(W=W.filter(ie=>(s("loose invalid filter",ie,this.options),!!ie.match(l[c.COMPARATORLOOSE])))),s("range list",W);const G=new Map,$=W.map(ie=>new a(ie,this.options));for(const ie of $){if(g(ie))return[ie];G.set(ie.value,ie)}G.size>1&&G.has("")&&G.delete("");const ee=[...G.values()];return r.set(V,ee),ee}intersects(F,U){if(!(F instanceof e))throw new TypeError("a Range is required");return this.set.some(V=>v(V,U)&&F.set.some(D=>v(D,U)&&V.every(B=>D.every(P=>B.intersects(P,U)))))}test(F){if(!F)return!1;if(typeof F=="string")try{F=new o(F,this.options)}catch{return!1}for(let U=0;U<this.set.length;U++)if(L(this.set[U],F,this.options))return!0;return!1}}X_=e;const n=mfe,r=new n,i=gC,a=jb(),s=Sb,o=mr,{safeRe:l,t:c,comparatorTrimReplace:d,tildeTrimReplace:f,caretTrimReplace:h}=hg,{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:m}=_b,g=R=>R.value==="<0.0.0-0",x=R=>R.value==="",v=(R,F)=>{let U=!0;const V=R.slice();let D=V.pop();for(;U&&V.length;)U=V.every(B=>D.intersects(B,F)),D=V.pop();return U},b=(R,F)=>(s("comp",R,F),R=E(R,F),s("caret",R),R=w(R,F),s("tildes",R),R=j(R,F),s("xrange",R),R=C(R,F),s("stars",R),R),y=R=>!R||R.toLowerCase()==="x"||R==="*",w=(R,F)=>R.trim().split(/\s+/).map(U=>_(U,F)).join(" "),_=(R,F)=>{const U=F.loose?l[c.TILDELOOSE]:l[c.TILDE];return R.replace(U,(V,D,B,P,W)=>{s("tilde",R,V,D,B,P,W);let G;return y(D)?G="":y(B)?G=`>=${D}.0.0 <${+D+1}.0.0-0`:y(P)?G=`>=${D}.${B}.0 <${D}.${+B+1}.0-0`:W?(s("replaceTilde pr",W),G=`>=${D}.${B}.${P}-${W} <${D}.${+B+1}.0-0`):G=`>=${D}.${B}.${P} <${D}.${+B+1}.0-0`,s("tilde return",G),G})},E=(R,F)=>R.trim().split(/\s+/).map(U=>A(U,F)).join(" "),A=(R,F)=>{s("caret",R,F);const U=F.loose?l[c.CARETLOOSE]:l[c.CARET],V=F.includePrerelease?"-0":"";return R.replace(U,(D,B,P,W,G)=>{s("caret",R,D,B,P,W,G);let $;return y(B)?$="":y(P)?$=`>=${B}.0.0${V} <${+B+1}.0.0-0`:y(W)?B==="0"?$=`>=${B}.${P}.0${V} <${B}.${+P+1}.0-0`:$=`>=${B}.${P}.0${V} <${+B+1}.0.0-0`:G?(s("replaceCaret pr",G),B==="0"?P==="0"?$=`>=${B}.${P}.${W}-${G} <${B}.${P}.${+W+1}-0`:$=`>=${B}.${P}.${W}-${G} <${B}.${+P+1}.0-0`:$=`>=${B}.${P}.${W}-${G} <${+B+1}.0.0-0`):(s("no pr"),B==="0"?P==="0"?$=`>=${B}.${P}.${W}${V} <${B}.${P}.${+W+1}-0`:$=`>=${B}.${P}.${W}${V} <${B}.${+P+1}.0-0`:$=`>=${B}.${P}.${W} <${+B+1}.0.0-0`),s("caret return",$),$})},j=(R,F)=>(s("replaceXRanges",R,F),R.split(/\s+/).map(U=>k(U,F)).join(" ")),k=(R,F)=>{R=R.trim();const U=F.loose?l[c.XRANGELOOSE]:l[c.XRANGE];return R.replace(U,(V,D,B,P,W,G)=>{s("xRange",R,V,D,B,P,W,G);const $=y(B),ee=$||y(P),ie=ee||y(W),I=ie;return D==="="&&I&&(D=""),G=F.includePrerelease?"-0":"",$?D===">"||D==="<"?V="<0.0.0-0":V="*":D&&I?(ee&&(P=0),W=0,D===">"?(D=">=",ee?(B=+B+1,P=0,W=0):(P=+P+1,W=0)):D==="<="&&(D="<",ee?B=+B+1:P=+P+1),D==="<"&&(G="-0"),V=`${D+B}.${P}.${W}${G}`):ee?V=`>=${B}.0.0${G} <${+B+1}.0.0-0`:ie&&(V=`>=${B}.${P}.0${G} <${B}.${+P+1}.0-0`),s("xRange return",V),V})},C=(R,F)=>(s("replaceStars",R,F),R.trim().replace(l[c.STAR],"")),T=(R,F)=>(s("replaceGTE0",R,F),R.trim().replace(l[F.includePrerelease?c.GTE0PRE:c.GTE0],"")),O=R=>(F,U,V,D,B,P,W,G,$,ee,ie,I)=>(y(V)?U="":y(D)?U=`>=${V}.0.0${R?"-0":""}`:y(B)?U=`>=${V}.${D}.0${R?"-0":""}`:P?U=`>=${U}`:U=`>=${U}${R?"-0":""}`,y($)?G="":y(ee)?G=`<${+$+1}.0.0-0`:y(ie)?G=`<${$}.${+ee+1}.0-0`:I?G=`<=${$}.${ee}.${ie}-${I}`:R?G=`<${$}.${ee}.${+ie+1}-0`:G=`<=${G}`,`${U} ${G}`.trim()),L=(R,F,U)=>{for(let V=0;V<R.length;V++)if(!R[V].test(F))return!1;if(F.prerelease.length&&!U.includePrerelease){for(let V=0;V<R.length;V++)if(s(R[V].semver),R[V].semver!==a.ANY&&R[V].semver.prerelease.length>0){const D=R[V].semver;if(D.major===F.major&&D.minor===F.minor&&D.patch===F.patch)return!0}return!1}return!0};return X_}var Z_,h$;function jb(){if(h$)return Z_;h$=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(d,f){if(f=n(f),d instanceof e){if(d.loose===!!f.loose)return d;d=d.value}d=d.trim().split(/\s+/).join(" "),s("comparator",d,f),this.options=f,this.loose=!!f.loose,this.parse(d),this.semver===t?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(d){const f=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],h=d.match(f);if(!h)throw new TypeError(`Invalid comparator: ${d}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new o(h[2],this.options.loose):this.semver=t}toString(){return this.value}test(d){if(s("Comparator.test",d,this.options.loose),this.semver===t||d===t)return!0;if(typeof d=="string")try{d=new o(d,this.options)}catch{return!1}return a(d,this.operator,this.semver,this.options)}intersects(d,f){if(!(d instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(d.value,f).test(this.value):d.operator===""?d.value===""?!0:new l(this.value,f).test(d.semver):(f=n(f),f.includePrerelease&&(this.value==="<0.0.0-0"||d.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||d.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&d.operator.startsWith(">")||this.operator.startsWith("<")&&d.operator.startsWith("<")||this.semver.version===d.semver.version&&this.operator.includes("=")&&d.operator.includes("=")||a(this.semver,"<",d.semver,f)&&this.operator.startsWith(">")&&d.operator.startsWith("<")||a(this.semver,">",d.semver,f)&&this.operator.startsWith("<")&&d.operator.startsWith(">")))}}Z_=e;const n=gC,{safeRe:r,t:i}=hg,a=l6,s=Sb,o=mr,l=Aa();return Z_}const gfe=Aa(),yfe=(t,e,n)=>{try{e=new gfe(e,n)}catch{return!1}return e.test(t)};var Ab=yfe;const vfe=Aa(),xfe=(t,e)=>new vfe(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));var bfe=xfe;const wfe=mr,_fe=Aa(),Sfe=(t,e,n)=>{let r=null,i=null,a=null;try{a=new _fe(e,n)}catch{return null}return t.forEach(s=>{a.test(s)&&(!r||i.compare(s)===-1)&&(r=s,i=new wfe(r,n))}),r};var Efe=Sfe;const jfe=mr,Afe=Aa(),kfe=(t,e,n)=>{let r=null,i=null,a=null;try{a=new Afe(e,n)}catch{return null}return t.forEach(s=>{a.test(s)&&(!r||i.compare(s)===1)&&(r=s,i=new jfe(r,n))}),r};var Tfe=kfe;const J_=mr,Cfe=Aa(),p$=Eb,Ofe=(t,e)=>{t=new Cfe(t,e);let n=new J_("0.0.0");if(t.test(n)||(n=new J_("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){const i=t.set[r];let a=null;i.forEach(s=>{const o=new J_(s.semver.version);switch(s.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!a||p$(o,a))&&(a=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),a&&(!n||p$(n,a))&&(n=a)}return n&&t.test(n)?n:null};var Nfe=Ofe;const Pfe=Aa(),Ife=(t,e)=>{try{return new Pfe(t,e).range||"*"}catch{return null}};var $fe=Ife;const Rfe=mr,c6=jb(),{ANY:Mfe}=c6,Dfe=Aa(),Lfe=Ab,m$=Eb,g$=vC,Ffe=bC,Bfe=xC,zfe=(t,e,n,r)=>{t=new Rfe(t,r),e=new Dfe(e,r);let i,a,s,o,l;switch(n){case">":i=m$,a=Ffe,s=g$,o=">",l=">=";break;case"<":i=g$,a=Bfe,s=m$,o="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Lfe(t,e,r))return!1;for(let c=0;c<e.set.length;++c){const d=e.set[c];let f=null,h=null;if(d.forEach(p=>{p.semver===Mfe&&(p=new c6(">=0.0.0")),f=f||p,h=h||p,i(p.semver,f.semver,r)?f=p:s(p.semver,h.semver,r)&&(h=p)}),f.operator===o||f.operator===l||(!h.operator||h.operator===o)&&a(t,h.semver))return!1;if(h.operator===l&&s(t,h.semver))return!1}return!0};var wC=zfe;const Ufe=wC,Hfe=(t,e,n)=>Ufe(t,e,">",n);var Vfe=Hfe;const Wfe=wC,qfe=(t,e,n)=>Wfe(t,e,"<",n);var Gfe=qfe;const y$=Aa(),Kfe=(t,e,n)=>(t=new y$(t,n),e=new y$(e,n),t.intersects(e,n));var Yfe=Kfe;const Xfe=Ab,Zfe=ja;var Jfe=(t,e,n)=>{const r=[];let i=null,a=null;const s=t.sort((d,f)=>Zfe(d,f,n));for(const d of s)Xfe(d,e,n)?(a=d,i||(i=d)):(a&&r.push([i,a]),a=null,i=null);i&&r.push([i,null]);const o=[];for(const[d,f]of r)d===f?o.push(d):!f&&d===s[0]?o.push("*"):f?d===s[0]?o.push(`<=${f}`):o.push(`${d} - ${f}`):o.push(`>=${d}`);const l=o.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return l.length<c.length?l:e};const v$=Aa(),_C=jb(),{ANY:Q_}=_C,vh=Ab,SC=ja,Qfe=(t,e,n={})=>{if(t===e)return!0;t=new v$(t,n),e=new v$(e,n);let r=!1;e:for(const i of t.set){for(const a of e.set){const s=the(i,a,n);if(r=r||s!==null,s)continue e}if(r)return!1}return!0},ehe=[new _C(">=0.0.0-0")],x$=[new _C(">=0.0.0")],the=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Q_){if(e.length===1&&e[0].semver===Q_)return!0;n.includePrerelease?t=ehe:t=x$}if(e.length===1&&e[0].semver===Q_){if(n.includePrerelease)return!0;e=x$}const r=new Set;let i,a;for(const p of t)p.operator===">"||p.operator===">="?i=b$(i,p,n):p.operator==="<"||p.operator==="<="?a=w$(a,p,n):r.add(p.semver);if(r.size>1)return null;let s;if(i&&a){if(s=SC(i.semver,a.semver,n),s>0)return null;if(s===0&&(i.operator!==">="||a.operator!=="<="))return null}for(const p of r){if(i&&!vh(p,String(i),n)||a&&!vh(p,String(a),n))return null;for(const m of e)if(!vh(p,String(m),n))return!1;return!0}let o,l,c,d,f=a&&!n.includePrerelease&&a.semver.prerelease.length?a.semver:!1,h=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&a.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const p of e){if(d=d||p.operator===">"||p.operator===">=",c=c||p.operator==="<"||p.operator==="<=",i){if(h&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===h.major&&p.semver.minor===h.minor&&p.semver.patch===h.patch&&(h=!1),p.operator===">"||p.operator===">="){if(o=b$(i,p,n),o===p&&o!==i)return!1}else if(i.operator===">="&&!vh(i.semver,String(p),n))return!1}if(a){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator==="<"||p.operator==="<="){if(l=w$(a,p,n),l===p&&l!==a)return!1}else if(a.operator==="<="&&!vh(a.semver,String(p),n))return!1}if(!p.operator&&(a||i)&&s!==0)return!1}return!(i&&c&&!a&&s!==0||a&&d&&!i&&s!==0||h||f)},b$=(t,e,n)=>{if(!t)return e;const r=SC(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},w$=(t,e,n)=>{if(!t)return e;const r=SC(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t};var nhe=Qfe;const e1=hg,_$=_b,rhe=mr,S$=a6,ihe=Ff,ahe=dde,she=pde,ohe=gde,lhe=vde,che=wde,uhe=Ede,dhe=kde,fhe=Ode,hhe=ja,phe=$de,mhe=Dde,ghe=yC,yhe=zde,vhe=Vde,xhe=Eb,bhe=vC,whe=s6,_he=o6,She=xC,Ehe=bC,jhe=l6,Ahe=hfe,khe=jb(),The=Aa(),Che=Ab,Ohe=bfe,Nhe=Efe,Phe=Tfe,Ihe=Nfe,$he=$fe,Rhe=wC,Mhe=Vfe,Dhe=Gfe,Lhe=Yfe,Fhe=Jfe,Bhe=nhe;e1.re,e1.src,e1.t,_$.SEMVER_SPEC_VERSION,_$.RELEASE_TYPES,S$.compareIdentifiers,S$.rcompareIdentifiers;function wo(t){if(!t||t.split("/").length>2||t.startsWith("/")||t.endsWith("/")||t.split(":").length>2)throw new Error(`Invalid identifier format: ${t}`);const[e,n]=t.split(":"),r=n||"latest";if(e.includes("/")){const[i,a]=e.split("/",2);if(!i||!a)throw new Error(`Invalid identifier format: ${t}`);return[i,a,r]}else{if(!e)throw new Error(`Invalid identifier format: ${t}`);return["-",e,r]}}class zhe extends Error{constructor(e){super(e),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="LangSmithConflictError",this.status=409}}async function $e(t,e,n){let r;if(t.ok){n&&(r=await t.text());return}if(t.status===403)try{const s=await t.json();(s==null?void 0:s.error)==="org_scoped_key_requires_workspace"&&(r="This API key is org-scoped and requires workspace specification. Please provide 'workspaceId' parameter, or set LANGSMITH_WORKSPACE_ID environment variable.")}catch{const o=new Error(`${t.status} ${t.statusText}`);throw o.status=t==null?void 0:t.status,o}if(r===void 0)try{r=await t.text()}catch{r=""}const i=`Failed to ${e}. Received status [${t.status}]: ${t.statusText}. Message: ${r}`;if(t.status===409)throw new zhe(i);const a=new Error(i);throw a.status=t.status,a}const u6="ERR_CONFLICTING_ENDPOINTS";class Uhe extends Error{constructor(){super("You cannot provide both LANGSMITH_ENDPOINT / LANGCHAIN_ENDPOINT and LANGSMITH_RUNS_ENDPOINTS."),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:u6}),this.name="ConflictingEndpointsError"}}function Hhe(t){return typeof t=="object"&&t!==null&&t.code===u6}var E$="[...]",Vhe={result:"[Circular]"},u0=[],Zu=[];const Whe=new TextEncoder;function qhe(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function vy(t){return Whe.encode(t)}function d6(t){if(t&&typeof t=="object"&&t!==null){if(t instanceof Map)return Object.fromEntries(t);if(t instanceof Set)return Array.from(t);if(t instanceof Date)return t.toISOString();if(t instanceof RegExp)return t.toString();if(t instanceof Error)return{name:t.name,message:t.message}}else if(typeof t=="bigint")return t.toString();return t}function Ghe(t){return function(e,n){return d6(n)}}function zr(t,e,n,r,i){var a;try{const s=JSON.stringify(t,Ghe(n),r);return vy(s)}catch(s){if(!((a=s.message)!=null&&a.includes("Converting circular structure to JSON")))return console.warn(`[WARNING]: LangSmith received unserializable value.${e?`
Context: ${e}`:""}`),vy("[Unserializable]");jr("SUPPRESS_CIRCULAR_JSON_WARNINGS")!=="true"&&console.warn(`[WARNING]: LangSmith received circular JSON. This will decrease tracer performance. ${e?`
Context: ${e}`:""}`),typeof i>"u"&&(i=qhe()),qE(t,"",0,[],void 0,0,i);let o;try{Zu.length===0?o=JSON.stringify(t,n,r):o=JSON.stringify(t,Khe(n),r)}catch{return vy("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;u0.length!==0;){const l=u0.pop();l.length===4?Object.defineProperty(l[0],l[1],l[3]):l[0][l[1]]=l[2]}}return vy(o)}}function t1(t,e,n,r){var i=Object.getOwnPropertyDescriptor(r,n);i.get!==void 0?i.configurable?(Object.defineProperty(r,n,{value:t}),u0.push([r,n,e,i])):Zu.push([e,n,t]):(r[n]=t,u0.push([r,n,e]))}function qE(t,e,n,r,i,a,s){a+=1;var o;if(typeof t=="object"&&t!==null){for(o=0;o<r.length;o++)if(r[o]===t){t1(Vhe,t,e,i);return}if(typeof s.depthLimit<"u"&&a>s.depthLimit){t1(E$,t,e,i);return}if(typeof s.edgesLimit<"u"&&n+1>s.edgesLimit){t1(E$,t,e,i);return}if(r.push(t),Array.isArray(t))for(o=0;o<t.length;o++)qE(t[o],o,o,r,t,a,s);else{t=d6(t);var l=Object.keys(t);for(o=0;o<l.length;o++){var c=l[o];qE(t[c],c,o,r,t,a,s)}}r.pop()}}function Khe(t){return t=typeof t<"u"?t:function(e,n){return n},function(e,n){if(Zu.length>0)for(var r=0;r<Zu.length;r++){var i=Zu[r];if(i[1]===e&&i[0]===n){n=i[2],Zu.splice(r,1);break}}return t.call(this,e,n)}}function j$(t,e){const n=GU(),r=e??KU(),i=t.extra??{},a=i.metadata;return t.extra={...i,runtime:{...n,...i==null?void 0:i.runtime},metadata:{...r,...r.revision_id||"revision_id"in t&&t.revision_id?{revision_id:("revision_id"in t?t.revision_id:void 0)??r.revision_id}:{},...a}},t}const Yhe=t=>{const e=(t==null?void 0:t.toString())??jr("TRACING_SAMPLING_RATE");if(e===void 0)return;const n=parseFloat(e);if(n<0||n>1)throw new Error(`LANGSMITH_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${n}`);return n},Xhe=t=>{const n=t.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return n==="localhost"||n==="127.0.0.1"||n==="::1"};async function Zhe(t){const e=[];for await(const n of t)e.push(n);return e}function xy(t){if(t!==void 0)return t.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}const Jhe=async t=>{if((t==null?void 0:t.status)===429){const e=parseInt(t.headers.get("retry-after")??"10",10)*1e3;if(e>0)return await new Promise(n=>setTimeout(n,e)),!0}return!1};function A$(t){return typeof t=="number"?Number(t.toFixed(4)):t}const Qhe=24*1024*1024,f6=1024*1024*1024,epe=1e4,tpe=100,k$="https://api.smith.langchain.com";class npe{constructor(e){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"sizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"maxSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSizeBytes=e??f6}peek(){return this.items[0]}push(e){let n;const r=new Promise(a=>{n=a}),i=zr(e.item,`Serializing run with id: ${e.item.id}`).length;return this.sizeBytes+i>this.maxSizeBytes&&this.items.length>0?(console.warn(`AutoBatchQueue size limit (${this.maxSizeBytes} bytes) exceeded. Dropping run with id: ${e.item.id}. Current queue size: ${this.sizeBytes} bytes, attempted addition: ${i} bytes.`),n(),r):(this.items.push({action:e.action,payload:e.item,otelContext:e.otelContext,apiKey:e.apiKey,apiUrl:e.apiUrl,itemPromiseResolve:n,itemPromise:r,size:i}),this.sizeBytes+=i,r)}pop({upToSizeBytes:e,upToSize:n}){var a;if(e<1)throw new Error("Number of bytes to pop off may not be less than 1.");const r=[];let i=0;for(;i+(((a=this.peek())==null?void 0:a.size)??0)<e&&this.items.length>0&&r.length<n;){const s=this.items.shift();s&&(r.push(s),i+=s.size,this.sizeBytes-=s.size)}if(r.length===0&&this.items.length>0){const s=this.items.shift();r.push(s),i+=s.size,this.sizeBytes-=s.size}return[r.map(s=>({action:s.action,item:s.payload,otelContext:s.otelContext,apiKey:s.apiKey,apiUrl:s.apiUrl,size:s.size})),()=>r.forEach(s=>s.itemPromiseResolve())]}}class Kd{get _fetch(){return this.fetchImplementation||cue(this.debug)}constructor(e={}){var i;Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"workspaceId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filteredPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"batchSizeBytesLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchSizeLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"blockOnRootRunFinalization",{enumerable:!0,configurable:!0,writable:!0,value:fs("LANGSMITH_TRACING_BACKGROUND")==="false"}),Object.defineProperty(this,"traceBatchConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:5}),Object.defineProperty(this,"_serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_getServerInfoPromise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"manualFlushMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"langSmithToOTELTranslator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchImplementation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cachedLSEnvVarsForMetadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"multipartStreamingDisabled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"debug",{enumerable:!0,configurable:!0,writable:!0,value:fs("LANGSMITH_DEBUG")==="true"});const n=Kd.getDefaultClientConfig();if(this.tracingSampleRate=Yhe(e.tracingSamplingRate),this.apiUrl=xy(e.apiUrl??n.apiUrl)??"",this.apiUrl.endsWith("/")&&(this.apiUrl=this.apiUrl.slice(0,-1)),this.apiKey=xy(e.apiKey??n.apiKey),this.webUrl=xy(e.webUrl??n.webUrl),(i=this.webUrl)!=null&&i.endsWith("/")&&(this.webUrl=this.webUrl.slice(0,-1)),this.workspaceId=xy(e.workspaceId??jr("WORKSPACE_ID")),this.timeout_ms=e.timeout_ms??9e4,this.caller=new e$({...e.callerOptions??{},maxRetries:4,debug:e.debug??this.debug}),this.traceBatchConcurrency=e.traceBatchConcurrency??this.traceBatchConcurrency,this.traceBatchConcurrency<1)throw new Error("Trace batch concurrency must be positive.");this.debug=e.debug??this.debug,this.fetchImplementation=e.fetchImplementation;const r=e.maxIngestMemoryBytes??f6;this.batchIngestCaller=new e$({maxRetries:4,maxConcurrency:this.traceBatchConcurrency,maxQueueSizeBytes:r,...e.callerOptions??{},onFailedResponseHook:Jhe,debug:e.debug??this.debug}),this.hideInputs=e.hideInputs??e.anonymizer??n.hideInputs,this.hideOutputs=e.hideOutputs??e.anonymizer??n.hideOutputs,this.autoBatchTracing=e.autoBatchTracing??this.autoBatchTracing,this.autoBatchQueue=new npe(r),this.blockOnRootRunFinalization=e.blockOnRootRunFinalization??this.blockOnRootRunFinalization,this.batchSizeBytesLimit=e.batchSizeBytesLimit,this.batchSizeLimit=e.batchSizeLimit,this.fetchOptions=e.fetchOptions||{},this.manualFlushMode=e.manualFlushMode??this.manualFlushMode,YU()&&(this.langSmithToOTELTranslator=new Tue),this.cachedLSEnvVarsForMetadata=KU()}static getDefaultClientConfig(){const e=jr("API_KEY"),n=jr("ENDPOINT")??k$,r=jr("HIDE_INPUTS")==="true",i=jr("HIDE_OUTPUTS")==="true";return{apiUrl:n,apiKey:e,webUrl:void 0,hideInputs:r,hideOutputs:i}}getHostUrl(){return this.webUrl?this.webUrl:Xhe(this.apiUrl)?(this.webUrl="http://localhost:3000",this.webUrl):this.apiUrl.endsWith("/api/v1")?(this.webUrl=this.apiUrl.replace("/api/v1",""),this.webUrl):this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api")?(this.webUrl=this.apiUrl.replace("/api",""),this.webUrl):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("eu")?(this.webUrl="https://eu.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("beta")?(this.webUrl="https://beta.smith.langchain.com",this.webUrl):(this.webUrl="https://smith.langchain.com",this.webUrl)}get headers(){const e={"User-Agent":`langsmith-js/${VU}`};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),this.workspaceId&&(e["x-tenant-id"]=this.workspaceId),e}_getPlatformEndpointPath(e){return this.apiUrl.slice(-3)!=="/v1"&&this.apiUrl.slice(-4)!=="/v1/"?`/v1/platform/${e}`:`/platform/${e}`}async processInputs(e){return this.hideInputs===!1?e:this.hideInputs===!0?{}:typeof this.hideInputs=="function"?this.hideInputs(e):e}async processOutputs(e){return this.hideOutputs===!1?e:this.hideOutputs===!0?{}:typeof this.hideOutputs=="function"?this.hideOutputs(e):e}async prepareRunCreateOrUpdateInputs(e){const n={...e};return n.inputs!==void 0&&(n.inputs=await this.processInputs(n.inputs)),n.outputs!==void 0&&(n.outputs=await this.processOutputs(n.outputs)),n}async _getResponse(e,n){const r=(n==null?void 0:n.toString())??"",i=`${this.apiUrl}${e}?${r}`;return await this.caller.call(async()=>{const s=await this._fetch(i,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $e(s,`fetch ${e}`),s})}async _get(e,n){return(await this._getResponse(e,n)).json()}async*_getPaginated(e,n=new URLSearchParams,r){let i=Number(n.get("offset"))||0;const a=Number(n.get("limit"))||100;for(;;){n.set("offset",String(i)),n.set("limit",String(a));const s=`${this.apiUrl}${e}?${n}`,o=await this.caller.call(async()=>{const c=await this._fetch(s,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $e(c,`fetch ${e}`),c}),l=r?r(await o.json()):await o.json();if(l.length===0||(yield l,l.length<a))break;i+=l.length}}async*_getCursorPaginatedList(e,n=null,r="POST",i="runs"){const a=n?{...n}:{};for(;;){const s=JSON.stringify(a),l=await(await this.caller.call(async()=>{const d=await this._fetch(`${this.apiUrl}${e}`,{method:r,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await $e(d,`fetch ${e}`),d})).json();if(!l||!l[i])break;yield l[i];const c=l.cursors;if(!c||!c.next)break;a.cursor=c.next}}_shouldSample(){return this.tracingSampleRate===void 0?!0:Math.random()<this.tracingSampleRate}_filterForSampling(e,n=!1){if(this.tracingSampleRate===void 0)return e;if(n){const r=[];for(const i of e)this.filteredPostUuids.has(i.trace_id)?i.id===i.trace_id&&this.filteredPostUuids.delete(i.trace_id):r.push(i);return r}else{const r=[];for(const i of e){const a=i.trace_id??i.id;this.filteredPostUuids.has(a)||(i.id===a?this._shouldSample()?r.push(i):this.filteredPostUuids.add(a):r.push(i))}return r}}async _getBatchSizeLimitBytes(){var n;const e=await this._ensureServerInfo();return this.batchSizeBytesLimit??((n=e.batch_ingest_config)==null?void 0:n.size_limit_bytes)??Qhe}async _getBatchSizeLimit(){var n;const e=await this._ensureServerInfo();return this.batchSizeLimit??((n=e.batch_ingest_config)==null?void 0:n.size_limit)??tpe}async _getDatasetExamplesMultiPartSupport(){var n;return((n=(await this._ensureServerInfo()).instance_flags)==null?void 0:n.dataset_examples_multipart_enabled)??!1}drainAutoBatchQueue({batchSizeLimitBytes:e,batchSizeLimit:n}){const r=[];for(;this.autoBatchQueue.items.length>0;){const[i,a]=this.autoBatchQueue.pop({upToSizeBytes:e,upToSize:n});if(!i.length){a();break}const s=i.reduce((c,d)=>{const f=d.apiUrl??this.apiUrl,h=d.apiKey??this.apiKey,m=d.apiKey===this.apiKey&&d.apiUrl===this.apiUrl?"default":`${f}|${h}`;return c[m]||(c[m]=[]),c[m].push(d),c},{}),o=[];for(const[c,d]of Object.entries(s)){const f=this._processBatch(d,{apiUrl:c==="default"?void 0:c.split("|")[0],apiKey:c==="default"?void 0:c.split("|")[1]});o.push(f)}const l=Promise.all(o).finally(a);r.push(l)}return Promise.all(r)}async _processBatch(e,n){var i,a;if(!e.length)return;const r=e.reduce((s,o)=>s+(o.size??0),0);try{if(this.langSmithToOTELTranslator!==void 0)this._sendBatchToOTELTranslator(e);else{const s={runCreates:e.filter(l=>l.action==="create").map(l=>l.item),runUpdates:e.filter(l=>l.action==="update").map(l=>l.item)},o=await this._ensureServerInfo();if((i=o==null?void 0:o.batch_ingest_config)!=null&&i.use_multipart_endpoint){const l=(a=o==null?void 0:o.instance_flags)==null?void 0:a.gzip_body_enabled;await this.multipartIngestRuns(s,{...n,useGzip:l,sizeBytes:r})}else await this.batchIngestRuns(s,{...n,sizeBytes:r})}}catch(s){console.error("Error exporting batch:",s)}}_sendBatchToOTELTranslator(e){if(this.langSmithToOTELTranslator!==void 0){const n=new Map,r=[];for(const i of e)i.item.id&&i.otelContext&&(n.set(i.item.id,i.otelContext),i.action==="create"?r.push({operation:"post",id:i.item.id,trace_id:i.item.trace_id??i.item.id,run:i.item}):r.push({operation:"patch",id:i.item.id,trace_id:i.item.trace_id??i.item.id,run:i.item}));this.langSmithToOTELTranslator.exportBatch(r,n)}}async processRunOperation(e){clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0,e.item=j$(e.item,this.cachedLSEnvVarsForMetadata);const n=this.autoBatchQueue.push(e);if(this.manualFlushMode)return n;const r=await this._getBatchSizeLimitBytes(),i=await this._getBatchSizeLimit();return(this.autoBatchQueue.sizeBytes>r||this.autoBatchQueue.items.length>i)&&this.drainAutoBatchQueue({batchSizeLimitBytes:r,batchSizeLimit:i}),this.autoBatchQueue.items.length>0&&(this.autoBatchTimeout=setTimeout(()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue({batchSizeLimitBytes:r,batchSizeLimit:i})},this.autoBatchAggregationDelayMs)),n}async _getServerInfo(){const n=await(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(epe),...this.fetchOptions});return await $e(r,"get server info"),r})).json();return this.debug&&console.log(`
=== LangSmith Server Configuration ===
`+JSON.stringify(n,null,2)+`
`),n}async _ensureServerInfo(){return this._getServerInfoPromise===void 0&&(this._getServerInfoPromise=(async()=>{if(this._serverInfo===void 0)try{this._serverInfo=await this._getServerInfo()}catch(e){console.warn(`[LANGSMITH]: Failed to fetch info on supported operations. Falling back to batch operations and default limits. Info: ${e.status??"Unspecified status code"} ${e.message}`)}return this._serverInfo??{}})()),this._getServerInfoPromise.then(e=>(this._serverInfo===void 0&&(this._getServerInfoPromise=void 0),e))}async _getSettings(){return this.settings||(this.settings=this._get("/settings")),await this.settings}async flush(){const e=await this._getBatchSizeLimitBytes(),n=await this._getBatchSizeLimit();await this.drainAutoBatchQueue({batchSizeLimitBytes:e,batchSizeLimit:n})}_cloneCurrentOTELContext(){const e=XU(),n=Eue();if(this.langSmithToOTELTranslator!==void 0){const r=e.getActiveSpan();if(r)return e.setSpan(n.active(),r)}}async createRun(e,n){if(!this._filterForSampling([e]).length)return;const r={...this.headers,"Content-Type":"application/json"},i=e.project_name;delete e.project_name;const a=await this.prepareRunCreateOrUpdateInputs({session_name:i,...e,start_time:e.start_time??Date.now()});if(this.autoBatchTracing&&a.trace_id!==void 0&&a.dotted_order!==void 0){const l=this._cloneCurrentOTELContext();this.processRunOperation({action:"create",item:a,otelContext:l,apiKey:n==null?void 0:n.apiKey,apiUrl:n==null?void 0:n.apiUrl}).catch(console.error);return}const s=j$(a,this.cachedLSEnvVarsForMetadata);(n==null?void 0:n.apiKey)!==void 0&&(r["x-api-key"]=n.apiKey),(n==null?void 0:n.workspaceId)!==void 0&&(r["x-tenant-id"]=n.workspaceId);const o=zr(s,`Creating run with id: ${s.id}`);await this.caller.call(async()=>{const l=await this._fetch(`${(n==null?void 0:n.apiUrl)??this.apiUrl}/runs`,{method:"POST",headers:r,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await $e(l,"create run",!0),l})}async batchIngestRuns({runCreates:e,runUpdates:n},r){if(e===void 0&&n===void 0)return;let i=await Promise.all((e==null?void 0:e.map(l=>this.prepareRunCreateOrUpdateInputs(l)))??[]),a=await Promise.all((n==null?void 0:n.map(l=>this.prepareRunCreateOrUpdateInputs(l)))??[]);if(i.length>0&&a.length>0){const l=i.reduce((d,f)=>(f.id&&(d[f.id]=f),d),{}),c=[];for(const d of a)d.id!==void 0&&l[d.id]?l[d.id]={...l[d.id],...d}:c.push(d);i=Object.values(l),a=c}const s={post:i,patch:a};if(!s.post.length&&!s.patch.length)return;const o={post:[],patch:[]};for(const l of["post","patch"]){const c=l,d=s[c].reverse();let f=d.pop();for(;f!==void 0;)o[c].push(f),f=d.pop()}if(o.post.length>0||o.patch.length>0){const l=o.post.map(c=>c.id).concat(o.patch.map(c=>c.id)).join(",");await this._postBatchIngestRuns(zr(o,`Ingesting runs with ids: ${l}`),r)}}async _postBatchIngestRuns(e,n){const r={...this.headers,"Content-Type":"application/json",Accept:"application/json"};(n==null?void 0:n.apiKey)!==void 0&&(r["x-api-key"]=n.apiKey),await this.batchIngestCaller.callWithOptions({sizeBytes:n==null?void 0:n.sizeBytes},async()=>{const i=await this._fetch(`${(n==null?void 0:n.apiUrl)??this.apiUrl}/runs/batch`,{method:"POST",headers:r,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:e});return await $e(i,"batch create run",!0),i})}async multipartIngestRuns({runCreates:e,runUpdates:n},r){if(e===void 0&&n===void 0)return;const i={};let a=[];for(const f of e??[]){const h=await this.prepareRunCreateOrUpdateInputs(f);h.id!==void 0&&h.attachments!==void 0&&(i[h.id]=h.attachments),delete h.attachments,a.push(h)}let s=[];for(const f of n??[])s.push(await this.prepareRunCreateOrUpdateInputs(f));if(a.find(f=>f.trace_id===void 0||f.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when creating a run');if(s.find(f=>f.trace_id===void 0||f.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when updating a run');if(a.length>0&&s.length>0){const f=a.reduce((p,m)=>(m.id&&(p[m.id]=m),p),{}),h=[];for(const p of s)p.id!==void 0&&f[p.id]?f[p.id]={...f[p.id],...p}:h.push(p);a=Object.values(f),s=h}if(a.length===0&&s.length===0)return;const c=[],d=[];for(const[f,h]of[["post",a],["patch",s]])for(const p of h){const{inputs:m,outputs:g,events:x,extra:v,error:b,serialized:y,attachments:w,..._}=p,E={inputs:m,outputs:g,events:x,extra:v,error:b,serialized:y},A=zr(_,`Serializing for multipart ingestion of run with id: ${_.id}`);d.push({name:`${f}.${_.id}`,payload:new Blob([A],{type:`application/json; length=${A.length}`})});for(const[j,k]of Object.entries(E)){if(k===void 0)continue;const C=zr(k,`Serializing ${j} for multipart ingestion of run with id: ${_.id}`);d.push({name:`${f}.${_.id}.${j}`,payload:new Blob([C],{type:`application/json; length=${C.length}`})})}if(_.id!==void 0){const j=i[_.id];if(j){delete i[_.id];for(const[k,C]of Object.entries(j)){let T,O;if(Array.isArray(C)?[T,O]=C:(T=C.mimeType,O=C.data),k.includes(".")){console.warn(`Skipping attachment '${k}' for run ${_.id}: Invalid attachment name. Attachment names must not contain periods ('.'). Please rename the attachment and try again.`);continue}d.push({name:`attachment.${_.id}.${k}`,payload:new Blob([O],{type:`${T}; length=${O.byteLength}`})})}}}c.push(`trace=${_.trace_id},id=${_.id}`)}await this._sendMultipartRequest(d,c.join("; "),r)}async _createNodeFetchBody(e,n){const r=[];for(const s of e)r.push(new Blob([`--${n}\r
`])),r.push(new Blob([`Content-Disposition: form-data; name="${s.name}"\r
`,`Content-Type: ${s.payload.type}\r
\r
`])),r.push(s.payload),r.push(new Blob([`\r
`]));return r.push(new Blob([`--${n}--\r
`])),await new Blob(r).arrayBuffer()}async _createMultipartStream(e,n){const r=new TextEncoder;return new ReadableStream({async start(a){const s=async o=>{typeof o=="string"?a.enqueue(r.encode(o)):a.enqueue(o)};for(const o of e){await s(`--${n}\r
`),await s(`Content-Disposition: form-data; name="${o.name}"\r
`),await s(`Content-Type: ${o.payload.type}\r
\r
`);const c=o.payload.stream().getReader();try{let d;for(;!(d=await c.read()).done;)a.enqueue(d.value)}finally{c.releaseLock()}await s(`\r
`)}await s(`--${n}--\r
`),a.close()}})}async _sendMultipartRequest(e,n,r){const i="----LangSmithFormBoundary"+Math.random().toString(36).slice(2),a=lue(),s=()=>this._createNodeFetchBody(e,i),o=()=>this._createMultipartStream(e,i),l=async c=>this.batchIngestCaller.callWithOptions({sizeBytes:r==null?void 0:r.sizeBytes},async()=>{const d=await c(),f={...this.headers,"Content-Type":`multipart/form-data; boundary=${i}`};(r==null?void 0:r.apiKey)!==void 0&&(f["x-api-key"]=r.apiKey);let h=d;r!=null&&r.useGzip&&typeof d=="object"&&"pipeThrough"in d&&(h=d.pipeThrough(new CompressionStream("gzip")),f["Content-Encoding"]="gzip");const p=await this._fetch(`${(r==null?void 0:r.apiUrl)??this.apiUrl}/runs/multipart`,{method:"POST",headers:f,body:h,duplex:"half",signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $e(p,"Failed to send multipart request",!0),p});try{let c,d=!1;!a&&!this.multipartStreamingDisabled&&qU()!=="bun"?(d=!0,c=await l(o)):c=await l(s),(!this.multipartStreamingDisabled||d)&&c.status===422&&((r==null?void 0:r.apiUrl)??this.apiUrl)!==k$&&(console.warn(`Streaming multipart upload to ${(r==null?void 0:r.apiUrl)??this.apiUrl}/runs/multipart failed. This usually means the host does not support chunked uploads. Retrying with a buffered upload for operation "${n}".`),this.multipartStreamingDisabled=!0,c=await l(s))}catch(c){console.warn(`${c.message.trim()}

Context: ${n}`)}}async updateRun(e,n,r){Ye(e),n.inputs&&(n.inputs=await this.processInputs(n.inputs)),n.outputs&&(n.outputs=await this.processOutputs(n.outputs));const i={...n,id:e};if(!this._filterForSampling([i],!0).length)return;if(this.autoBatchTracing&&i.trace_id!==void 0&&i.dotted_order!==void 0){const o=this._cloneCurrentOTELContext();if(n.end_time!==void 0&&i.parent_run_id===void 0&&this.blockOnRootRunFinalization&&!this.manualFlushMode){await this.processRunOperation({action:"update",item:i,otelContext:o,apiKey:r==null?void 0:r.apiKey,apiUrl:r==null?void 0:r.apiUrl}).catch(console.error);return}else this.processRunOperation({action:"update",item:i,otelContext:o,apiKey:r==null?void 0:r.apiKey,apiUrl:r==null?void 0:r.apiUrl}).catch(console.error);return}const a={...this.headers,"Content-Type":"application/json"};(r==null?void 0:r.apiKey)!==void 0&&(a["x-api-key"]=r.apiKey),(r==null?void 0:r.workspaceId)!==void 0&&(a["x-tenant-id"]=r.workspaceId);const s=zr(n,`Serializing payload to update run with id: ${e}`);await this.caller.call(async()=>{const o=await this._fetch(`${(r==null?void 0:r.apiUrl)??this.apiUrl}/runs/${e}`,{method:"PATCH",headers:a,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await $e(o,"update run",!0),o})}async readRun(e,{loadChildRuns:n}={loadChildRuns:!1}){Ye(e);let r=await this._get(`/runs/${e}`);return n&&(r=await this._loadChildRuns(r)),r}async getRunUrl({runId:e,run:n,projectOpts:r}){if(n!==void 0){let i;n.session_id?i=n.session_id:r!=null&&r.projectName?i=(await this.readProject({projectName:r==null?void 0:r.projectName})).id:r!=null&&r.projectId?i=r==null?void 0:r.projectId:i=(await this.readProject({projectName:jr("PROJECT")||"default"})).id;const a=await this._getTenantId();return`${this.getHostUrl()}/o/${a}/projects/p/${i}/r/${n.id}?poll=true`}else if(e!==void 0){const i=await this.readRun(e);if(!i.app_path)throw new Error(`Run ${e} has no app_path`);return`${this.getHostUrl()}${i.app_path}`}else throw new Error("Must provide either runId or run")}async _loadChildRuns(e){var a;const n=await Zhe(this.listRuns({isRoot:!1,projectId:e.session_id,traceId:e.trace_id})),r={},i={};n.sort((s,o)=>((s==null?void 0:s.dotted_order)??"").localeCompare((o==null?void 0:o.dotted_order)??""));for(const s of n){if(s.parent_run_id===null||s.parent_run_id===void 0)throw new Error(`Child run ${s.id} has no parent`);(a=s.dotted_order)!=null&&a.startsWith(e.dotted_order??"")&&s.id!==e.id&&(s.parent_run_id in r||(r[s.parent_run_id]=[]),r[s.parent_run_id].push(s),i[s.id]=s)}e.child_runs=r[e.id]||[];for(const s in r)s!==e.id&&(i[s].child_runs=r[s]);return e}async*listRuns(e){const{projectId:n,projectName:r,parentRunId:i,traceId:a,referenceExampleId:s,startTime:o,executionOrder:l,isRoot:c,runType:d,error:f,id:h,query:p,filter:m,traceFilter:g,treeFilter:x,limit:v,select:b,order:y}=e;let w=[];if(n&&(w=Array.isArray(n)?n:[n]),r){const j=Array.isArray(r)?r:[r],k=await Promise.all(j.map(C=>this.readProject({projectName:C}).then(T=>T.id)));w.push(...k)}const _=["app_path","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],E={session:w.length?w:null,run_type:d,reference_example:s,query:p,filter:m,trace_filter:g,tree_filter:x,execution_order:l,parent_run:i,start_time:o?o.toISOString():null,error:f,id:h,limit:v,trace:a,select:b||_,is_root:c,order:y};E.select.includes("child_run_ids")&&VE("Deprecated: 'child_run_ids' in the listRuns select parameter is deprecated and will be removed in a future version.");let A=0;for await(const j of this._getCursorPaginatedList("/runs/query",E))if(v){if(A>=v)break;if(j.length+A>v){yield*j.slice(0,v-A);break}A+=j.length,yield*j}else yield*j}async*listGroupRuns(e){const{projectId:n,projectName:r,groupBy:i,filter:a,startTime:s,endTime:o,limit:l,offset:c}=e,f={session_id:n||(await this.readProject({projectName:r})).id,group_by:i,filter:a,start_time:s?s.toISOString():null,end_time:o?o.toISOString():null,limit:Number(l)||100};let h=Number(c)||0;const p="/runs/group",m=`${this.apiUrl}${p}`;for(;;){const g={...f,offset:h},x=Object.fromEntries(Object.entries(g).filter(([E,A])=>A!==void 0)),v=JSON.stringify(x),y=await(await this.caller.call(async()=>{const E=await this._fetch(m,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:v});return await $e(E,`Failed to fetch ${p}`),E})).json(),{groups:w,total:_}=y;if(w.length===0)break;for(const E of w)yield E;if(h+=w.length,h>=_)break}}async getRunStats({id:e,trace:n,parentRun:r,runType:i,projectNames:a,projectIds:s,referenceExampleIds:o,startTime:l,endTime:c,error:d,query:f,filter:h,traceFilter:p,treeFilter:m,isRoot:g,dataSourceType:x}){let v=s||[];a&&(v=[...s||[],...await Promise.all(a.map(A=>this.readProject({projectName:A}).then(j=>j.id)))]);const y=Object.fromEntries(Object.entries({id:e,trace:n,parent_run:r,run_type:i,session:v,reference_example:o,start_time:l,end_time:c,error:d,query:f,filter:h,trace_filter:p,tree_filter:m,is_root:g,data_source_type:x}).filter(([A,j])=>j!==void 0)),w=JSON.stringify(y);return await(await this.caller.call(async()=>{const A=await this._fetch(`${this.apiUrl}/runs/stats`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:w});return await $e(A,"get run stats"),A})).json()}async shareRun(e,{shareId:n}={}){const r={run_id:e,share_token:n||Er()};Ye(e);const i=JSON.stringify(r),s=await(await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/runs/${e}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await $e(o,"share run"),o})).json();if(s===null||!("share_token"in s))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${s.share_token}/r`}async unshareRun(e){Ye(e),await this.caller.call(async()=>{const n=await this._fetch(`${this.apiUrl}/runs/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $e(n,"unshare run",!0),n})}async readRunSharedLink(e){Ye(e);const r=await(await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/runs/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $e(i,"read run shared link"),i})).json();if(!(r===null||!("share_token"in r)))return`${this.getHostUrl()}/public/${r.share_token}/r`}async listSharedRuns(e,{runIds:n}={}){const r=new URLSearchParams({share_token:e});if(n!==void 0)for(const s of n)r.append("id",s);return Ye(e),await(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/public/${e}/runs${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $e(s,"list shared runs"),s})).json()}async readDatasetSharedSchema(e,n){if(!e&&!n)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:n})).id),Ye(e);const i=await(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}/datasets/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $e(a,"read dataset shared schema"),a})).json();return i.url=`${this.getHostUrl()}/public/${i.share_token}/d`,i}async shareDataset(e,n){if(!e&&!n)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:n})).id);const r={dataset_id:e};Ye(e);const i=JSON.stringify(r),s=await(await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/datasets/${e}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await $e(o,"share dataset"),o})).json();return s.url=`${this.getHostUrl()}/public/${s.share_token}/d`,s}async unshareDataset(e){Ye(e),await this.caller.call(async()=>{const n=await this._fetch(`${this.apiUrl}/datasets/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $e(n,"unshare dataset",!0),n})}async readSharedDataset(e){return Ye(e),await(await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/public/${e}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $e(i,"read shared dataset"),i})).json()}async listSharedExamples(e,n){const r={};n!=null&&n.exampleIds&&(r.id=n.exampleIds);const i=new URLSearchParams;Object.entries(r).forEach(([o,l])=>{Array.isArray(l)?l.forEach(c=>i.append(o,c)):i.append(o,l)});const a=await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/public/${e}/examples?${i.toString()}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $e(o,"list shared examples"),o}),s=await a.json();if(!a.ok)throw"detail"in s?new Error(`Failed to list shared examples.
Status: ${a.status}
Message: ${Array.isArray(s.detail)?s.detail.join(`
`):"Unspecified error"}`):new Error(`Failed to list shared examples: ${a.status} ${a.statusText}`);return s.map(o=>({...o,_hostUrl:this.getHostUrl()}))}async createProject({projectName:e,description:n=null,metadata:r=null,upsert:i=!1,projectExtra:a=null,referenceDatasetId:s=null}){const o=i?"?upsert=true":"",l=`${this.apiUrl}/sessions${o}`,c=a||{};r&&(c.metadata=r);const d={name:e,extra:c,description:n};s!==null&&(d.reference_dataset_id=s);const f=JSON.stringify(d);return await(await this.caller.call(async()=>{const m=await this._fetch(l,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:f});return await $e(m,"create project"),m})).json()}async updateProject(e,{name:n=null,description:r=null,metadata:i=null,projectExtra:a=null,endTime:s=null}){const o=`${this.apiUrl}/sessions/${e}`;let l=a;i&&(l={...l||{},metadata:i});const c=JSON.stringify({name:n,extra:l,description:r,end_time:s?new Date(s).toISOString():null});return await(await this.caller.call(async()=>{const h=await this._fetch(o,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await $e(h,"update project"),h})).json()}async hasProject({projectId:e,projectName:n}){let r="/sessions";const i=new URLSearchParams;if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)Ye(e),r+=`/${e}`;else if(n!==void 0)i.append("name",n);else throw new Error("Must provide projectName or projectId");const a=await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}${r}?${i}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $e(s,"has project"),s});try{const s=await a.json();return a.ok?Array.isArray(s)?s.length>0:!0:!1}catch{return!1}}async readProject({projectId:e,projectName:n,includeStats:r}){let i="/sessions";const a=new URLSearchParams;if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)Ye(e),i+=`/${e}`;else if(n!==void 0)a.append("name",n);else throw new Error("Must provide projectName or projectId");r!==void 0&&a.append("include_stats",r.toString());const s=await this._get(i,a);let o;if(Array.isArray(s)){if(s.length===0)throw new Error(`Project[id=${e}, name=${n}] not found`);o=s[0]}else o=s;return o}async getProjectUrl({projectId:e,projectName:n}){if(e===void 0&&n===void 0)throw new Error("Must provide either projectName or projectId");const r=await this.readProject({projectId:e,projectName:n}),i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/projects/p/${r.id}`}async getDatasetUrl({datasetId:e,datasetName:n}){if(e===void 0&&n===void 0)throw new Error("Must provide either datasetName or datasetId");const r=await this.readDataset({datasetId:e,datasetName:n}),i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/datasets/${r.id}`}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;const e=new URLSearchParams({limit:"1"});for await(const n of this._getPaginated("/sessions",e))return this._tenantId=n[0].tenant_id,n[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:e,name:n,nameContains:r,referenceDatasetId:i,referenceDatasetName:a,includeStats:s,datasetVersion:o,referenceFree:l,metadata:c}={}){const d=new URLSearchParams;if(e!==void 0)for(const f of e)d.append("id",f);if(n!==void 0&&d.append("name",n),r!==void 0&&d.append("name_contains",r),i!==void 0)d.append("reference_dataset",i);else if(a!==void 0){const f=await this.readDataset({datasetName:a});d.append("reference_dataset",f.id)}s!==void 0&&d.append("include_stats",s.toString()),o!==void 0&&d.append("dataset_version",o),l!==void 0&&d.append("reference_free",l.toString()),c!==void 0&&d.append("metadata",JSON.stringify(c));for await(const f of this._getPaginated("/sessions",d))yield*f}async deleteProject({projectId:e,projectName:n}){let r;if(e===void 0&&n===void 0)throw new Error("Must provide projectName or projectId");if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");e===void 0?r=(await this.readProject({projectName:n})).id:r=e,Ye(r),await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/sessions/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $e(i,`delete session ${r} (${n})`,!0),i})}async uploadCsv({csvFile:e,fileName:n,inputKeys:r,outputKeys:i,description:a,dataType:s,name:o}){const l=`${this.apiUrl}/datasets/upload`,c=new FormData;return c.append("file",e,n),r.forEach(h=>{c.append("input_keys",h)}),i.forEach(h=>{c.append("output_keys",h)}),a&&c.append("description",a),s&&c.append("data_type",s),o&&c.append("name",o),await(await this.caller.call(async()=>{const h=await this._fetch(l,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await $e(h,"upload CSV"),h})).json()}async createDataset(e,{description:n,dataType:r,inputsSchema:i,outputsSchema:a,metadata:s}={}){const o={name:e,description:n,extra:s?{metadata:s}:void 0};r&&(o.data_type=r),i&&(o.inputs_schema_definition=i),a&&(o.outputs_schema_definition=a);const l=JSON.stringify(o);return await(await this.caller.call(async()=>{const f=await this._fetch(`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await $e(f,"create dataset"),f})).json()}async readDataset({datasetId:e,datasetName:n}){let r="/datasets";const i=new URLSearchParams({limit:"1"});if(e&&n)throw new Error("Must provide either datasetName or datasetId, not both");if(e)Ye(e),r+=`/${e}`;else if(n)i.append("name",n);else throw new Error("Must provide datasetName or datasetId");const a=await this._get(r,i);let s;if(Array.isArray(a)){if(a.length===0)throw new Error(`Dataset[id=${e}, name=${n}] not found`);s=a[0]}else s=a;return s}async hasDataset({datasetId:e,datasetName:n}){try{return await this.readDataset({datasetId:e,datasetName:n}),!0}catch(r){if(r instanceof Error&&r.message.toLocaleLowerCase().includes("not found"))return!1;throw r}}async diffDatasetVersions({datasetId:e,datasetName:n,fromVersion:r,toVersion:i}){let a=e;if(a===void 0&&n===void 0)throw new Error("Must provide either datasetName or datasetId");if(a!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");a===void 0&&(a=(await this.readDataset({datasetName:n})).id);const s=new URLSearchParams({from_version:typeof r=="string"?r:r.toISOString(),to_version:typeof i=="string"?i:i.toISOString()});return await this._get(`/datasets/${a}/versions/diff`,s)}async readDatasetOpenaiFinetuning({datasetId:e,datasetName:n}){const r="/datasets";if(e===void 0)if(n!==void 0)e=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide either datasetName or datasetId");return(await(await this._getResponse(`${r}/${e}/openai_ft`)).text()).trim().split(`
`).map(o=>JSON.parse(o))}async*listDatasets({limit:e=100,offset:n=0,datasetIds:r,datasetName:i,datasetNameContains:a,metadata:s}={}){const o="/datasets",l=new URLSearchParams({limit:e.toString(),offset:n.toString()});if(r!==void 0)for(const c of r)l.append("id",c);i!==void 0&&l.append("name",i),a!==void 0&&l.append("name_contains",a),s!==void 0&&l.append("metadata",JSON.stringify(s));for await(const c of this._getPaginated(o,l))yield*c}async updateDataset(e){const{datasetId:n,datasetName:r,...i}=e;if(!n&&!r)throw new Error("Must provide either datasetName or datasetId");const a=n??(await this.readDataset({datasetName:r})).id;Ye(a);const s=JSON.stringify(i);return await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/datasets/${a}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await $e(l,"update dataset"),l})).json()}async updateDatasetTag(e){const{datasetId:n,datasetName:r,asOf:i,tag:a}=e;if(!n&&!r)throw new Error("Must provide either datasetName or datasetId");const s=n??(await this.readDataset({datasetName:r})).id;Ye(s);const o=JSON.stringify({as_of:typeof i=="string"?i:i.toISOString(),tag:a});await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/datasets/${s}/tags`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await $e(l,"update dataset tags",!0),l})}async deleteDataset({datasetId:e,datasetName:n}){let r="/datasets",i=e;if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(n!==void 0&&(i=(await this.readDataset({datasetName:n})).id),i!==void 0)Ye(i),r+=`/${i}`;else throw new Error("Must provide datasetName or datasetId");await this.caller.call(async()=>{const a=await this._fetch(this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $e(a,`delete ${r}`,!0),a})}async indexDataset({datasetId:e,datasetName:n,tag:r}){let i=e;if(!i&&!n)throw new Error("Must provide either datasetName or datasetId");if(i&&n)throw new Error("Must provide either datasetName or datasetId, not both");i||(i=(await this.readDataset({datasetName:n})).id),Ye(i);const s=JSON.stringify({tag:r});await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/datasets/${i}/index`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await $e(l,"index dataset"),l})).json()}async similarExamples(e,n,r,{filter:i}={}){const a={limit:r,inputs:e};i!==void 0&&(a.filter=i),Ye(n);const s=JSON.stringify(a);return(await(await this.caller.call(async()=>{const c=await this._fetch(`${this.apiUrl}/datasets/${n}/search`,{headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,method:"POST",body:s});return await $e(c,"fetch similar examples"),c})).json()).examples}async createExample(e,n,r){var d;if(T$(e)&&(n!==void 0||r!==void 0))throw new Error("Cannot provide outputs or options when using ExampleCreate object");let i=n?r==null?void 0:r.datasetId:e.dataset_id;const a=n?r==null?void 0:r.datasetName:e.dataset_name;if(i===void 0&&a===void 0)throw new Error("Must provide either datasetName or datasetId");if(i!==void 0&&a!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");i===void 0&&(i=(await this.readDataset({datasetName:a})).id);const s=(n?r==null?void 0:r.createdAt:e.created_at)||new Date;let o;T$(e)?o=e:o={inputs:e,outputs:n,created_at:s==null?void 0:s.toISOString(),id:r==null?void 0:r.exampleId,metadata:r==null?void 0:r.metadata,split:r==null?void 0:r.split,source_run_id:r==null?void 0:r.sourceRunId,use_source_run_io:r==null?void 0:r.useSourceRunIO,use_source_run_attachments:r==null?void 0:r.useSourceRunAttachments,attachments:r==null?void 0:r.attachments};const l=await this._uploadExamplesMultipart(i,[o]);return await this.readExample(((d=l.example_ids)==null?void 0:d[0])??Er())}async createExamples(e){if(Array.isArray(e)){if(e.length===0)return[];const b=e;let y=b[0].dataset_id;const w=b[0].dataset_name;if(y===void 0&&w===void 0)throw new Error("Must provide either datasetName or datasetId");if(y!==void 0&&w!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");y===void 0&&(y=(await this.readDataset({datasetName:w})).id);const _=await this._uploadExamplesMultipart(y,b);return await Promise.all(_.example_ids.map(A=>this.readExample(A)))}const{inputs:n,outputs:r,metadata:i,splits:a,sourceRunIds:s,useSourceRunIOs:o,useSourceRunAttachments:l,attachments:c,exampleIds:d,datasetId:f,datasetName:h}=e;if(n===void 0)throw new Error("Must provide inputs when using legacy parameters");let p=f;const m=h;if(p===void 0&&m===void 0)throw new Error("Must provide either datasetName or datasetId");if(p!==void 0&&m!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");p===void 0&&(p=(await this.readDataset({datasetName:m})).id);const g=n.map((b,y)=>({dataset_id:p,inputs:b,outputs:r==null?void 0:r[y],metadata:i==null?void 0:i[y],split:a==null?void 0:a[y],id:d==null?void 0:d[y],attachments:c==null?void 0:c[y],source_run_id:s==null?void 0:s[y],use_source_run_io:o==null?void 0:o[y],use_source_run_attachments:l==null?void 0:l[y]})),x=await this._uploadExamplesMultipart(p,g);return await Promise.all(x.example_ids.map(b=>this.readExample(b)))}async createLLMExample(e,n,r){return this.createExample({input:e},{output:n},r)}async createChatExample(e,n,r){const i=e.map(s=>t$(s)?n$(s):s),a=t$(n)?n$(n):n;return this.createExample({input:i},{output:a},r)}async readExample(e){Ye(e);const n=`/examples/${e}`,r=await this._get(n),{attachment_urls:i,...a}=r,s=a;return i&&(s.attachments=Object.entries(i).reduce((o,[l,c])=>(o[l.slice(11)]={presigned_url:c.presigned_url,mime_type:c.mime_type},o),{})),s}async*listExamples({datasetId:e,datasetName:n,exampleIds:r,asOf:i,splits:a,inlineS3Urls:s,metadata:o,limit:l,offset:c,filter:d,includeAttachments:f}={}){let h;if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)h=e;else if(n!==void 0)h=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide a datasetName or datasetId");const p=new URLSearchParams({dataset:h}),m=i?typeof i=="string"?i:i==null?void 0:i.toISOString():void 0;m&&p.append("as_of",m);const g=s??!0;if(p.append("inline_s3_urls",g.toString()),r!==void 0)for(const v of r)p.append("id",v);if(a!==void 0)for(const v of a)p.append("splits",v);if(o!==void 0){const v=JSON.stringify(o);p.append("metadata",v)}l!==void 0&&p.append("limit",l.toString()),c!==void 0&&p.append("offset",c.toString()),d!==void 0&&p.append("filter",d),f===!0&&["attachment_urls","outputs","metadata"].forEach(v=>p.append("select",v));let x=0;for await(const v of this._getPaginated("/examples",p)){for(const b of v){const{attachment_urls:y,...w}=b,_=w;y&&(_.attachments=Object.entries(y).reduce((E,[A,j])=>(E[A.slice(11)]={presigned_url:j.presigned_url,mime_type:j.mime_type||void 0},E),{})),yield _,x++}if(l!==void 0&&x>=l)break}}async deleteExample(e){Ye(e);const n=`/examples/${e}`;await this.caller.call(async()=>{const r=await this._fetch(this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $e(r,`delete ${n}`,!0),r})}async updateExample(e,n){let r;n?r=e:r=e.id,Ye(r);let i;n?i={id:r,...n}:i=e;let a;return i.dataset_id!==void 0?a=i.dataset_id:a=(await this.readExample(r)).dataset_id,this._updateExamplesMultipart(a,[i])}async updateExamples(e){let n;return e[0].dataset_id===void 0?n=(await this.readExample(e[0].id)).dataset_id:n=e[0].dataset_id,this._updateExamplesMultipart(n,e)}async readDatasetVersion({datasetId:e,datasetName:n,asOf:r,tag:i}){let a;if(e?a=e:a=(await this.readDataset({datasetName:n})).id,Ye(a),r&&i||!r&&!i)throw new Error("Exactly one of asOf and tag must be specified.");const s=new URLSearchParams;return r!==void 0&&s.append("as_of",typeof r=="string"?r:r.toISOString()),i!==void 0&&s.append("tag",i),await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/datasets/${a}/version?${s.toString()}`,{method:"GET",headers:{...this.headers},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $e(l,"read dataset version"),l})).json()}async listDatasetSplits({datasetId:e,datasetName:n,asOf:r}){let i;if(e===void 0&&n===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?i=(await this.readDataset({datasetName:n})).id:i=e,Ye(i);const a=new URLSearchParams,s=r?typeof r=="string"?r:r==null?void 0:r.toISOString():void 0;return s&&a.append("as_of",s),await this._get(`/datasets/${i}/splits`,a)}async updateDatasetSplits({datasetId:e,datasetName:n,splitName:r,exampleIds:i,remove:a=!1}){let s;if(e===void 0&&n===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?s=(await this.readDataset({datasetName:n})).id:s=e,Ye(s);const o={split_name:r,examples:i.map(c=>(Ye(c),c)),remove:a},l=JSON.stringify(o);await this.caller.call(async()=>{const c=await this._fetch(`${this.apiUrl}/datasets/${s}/splits`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await $e(c,"update dataset splits",!0),c})}async evaluateRun(e,n,{sourceInfo:r,loadChildRuns:i,referenceExample:a}={loadChildRuns:!1}){VE("This method is deprecated and will be removed in future LangSmith versions, use `evaluate` from `langsmith/evaluation` instead.");let s;if(typeof e=="string")s=await this.readRun(e,{loadChildRuns:i});else if(typeof e=="object"&&"id"in e)s=e;else throw new Error(`Invalid run type: ${typeof e}`);s.reference_example_id!==null&&s.reference_example_id!==void 0&&(a=await this.readExample(s.reference_example_id));const o=await n.evaluateRun(s,a),[l,c]=await this._logEvaluationFeedback(o,s,r);return c[0]}async createFeedback(e,n,{score:r,value:i,correction:a,comment:s,sourceInfo:o,feedbackSourceType:l="api",sourceRunId:c,feedbackId:d,feedbackConfig:f,projectId:h,comparativeExperimentId:p}){var b;if(!e&&!h)throw new Error("One of runId or projectId must be provided");if(e&&h)throw new Error("Only one of runId or projectId can be provided");const m={type:l??"api",metadata:o??{}};c!==void 0&&(m==null?void 0:m.metadata)!==void 0&&!m.metadata.__run&&(m.metadata.__run={run_id:c}),(m==null?void 0:m.metadata)!==void 0&&((b=m.metadata.__run)==null?void 0:b.run_id)!==void 0&&Ye(m.metadata.__run.run_id);const g={id:d??Er(),run_id:e,key:n,score:A$(r),value:i,correction:a,comment:s,feedback_source:m,comparative_experiment_id:p,feedbackConfig:f,session_id:h},x=JSON.stringify(g),v=`${this.apiUrl}/feedback`;return await this.caller.call(async()=>{const y=await this._fetch(v,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:x});return await $e(y,"create feedback",!0),y}),g}async updateFeedback(e,{score:n,value:r,correction:i,comment:a}){const s={};n!=null&&(s.score=A$(n)),r!=null&&(s.value=r),i!=null&&(s.correction=i),a!=null&&(s.comment=a),Ye(e);const o=JSON.stringify(s);await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/feedback/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await $e(l,"update feedback",!0),l})}async readFeedback(e){Ye(e);const n=`/feedback/${e}`;return await this._get(n)}async deleteFeedback(e){Ye(e);const n=`/feedback/${e}`;await this.caller.call(async()=>{const r=await this._fetch(this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $e(r,`delete ${n}`,!0),r})}async*listFeedback({runIds:e,feedbackKeys:n,feedbackSourceTypes:r}={}){const i=new URLSearchParams;if(e)for(const a of e)Ye(a),i.append("run",a);if(n)for(const a of n)i.append("key",a);if(r)for(const a of r)i.append("source",a);for await(const a of this._getPaginated("/feedback",i))yield*a}async createPresignedFeedbackToken(e,n,{expiration:r,feedbackConfig:i}={}){const a={run_id:e,feedback_key:n,feedback_config:i};r?typeof r=="string"?a.expires_at=r:(r!=null&&r.hours||r!=null&&r.minutes||r!=null&&r.days)&&(a.expires_in=r):a.expires_in={hours:3};const s=JSON.stringify(a);return await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await $e(l,"create presigned feedback token"),l})).json()}async createComparativeExperiment({name:e,experimentIds:n,referenceDatasetId:r,createdAt:i,description:a,metadata:s,id:o}){var f;if(n.length===0)throw new Error("At least one experiment is required");if(r||(r=(await this.readProject({projectId:n[0]})).reference_dataset_id),!r==null)throw new Error("A reference dataset is required");const l={id:o,name:e,experiment_ids:n,reference_dataset_id:r,description:a,created_at:(f=i??new Date)==null?void 0:f.toISOString(),extra:{}};s&&(l.extra.metadata=s);const c=JSON.stringify(l);return(await this.caller.call(async()=>{const h=await this._fetch(`${this.apiUrl}/datasets/comparative`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await $e(h,"create comparative experiment"),h})).json()}async*listPresignedFeedbackTokens(e){Ye(e);const n=new URLSearchParams({run_id:e});for await(const r of this._getPaginated("/feedback/tokens",n))yield*r}_selectEvalResults(e){let n;return"results"in e?n=e.results:Array.isArray(e)?n=e:n=[e],n}async _logEvaluationFeedback(e,n,r){const i=this._selectEvalResults(e),a=[];for(const s of i){let o=r||{};s.evaluatorInfo&&(o={...s.evaluatorInfo,...o});let l=null;s.targetRunId?l=s.targetRunId:n&&(l=n.id),a.push(await this.createFeedback(l,s.key,{score:s.score,value:s.value,comment:s.comment,correction:s.correction,sourceInfo:o,sourceRunId:s.sourceRunId,feedbackConfig:s.feedbackConfig,feedbackSourceType:"model"}))}return[i,a]}async logEvaluationFeedback(e,n,r){const[i]=await this._logEvaluationFeedback(e,n,r);return i}async*listAnnotationQueues(e={}){const{queueIds:n,name:r,nameContains:i,limit:a}=e,s=new URLSearchParams;n&&n.forEach((l,c)=>{Ye(l,`queueIds[${c}]`),s.append("ids",l)}),r&&s.append("name",r),i&&s.append("name_contains",i),s.append("limit",(a!==void 0?Math.min(a,100):100).toString());let o=0;for await(const l of this._getPaginated("/annotation-queues",s))if(yield*l,o++,a!==void 0&&o>=a)break}async createAnnotationQueue(e){const{name:n,description:r,queueId:i,rubricInstructions:a}=e,s={name:n,description:r,id:i||Er(),rubric_instructions:a},o=JSON.stringify(Object.fromEntries(Object.entries(s).filter(([c,d])=>d!==void 0)));return(await this.caller.call(async()=>{const c=await this._fetch(`${this.apiUrl}/annotation-queues`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await $e(c,"create annotation queue"),c})).json()}async readAnnotationQueue(e){return(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $e(r,"read annotation queue"),r})).json()}async updateAnnotationQueue(e,n){const{name:r,description:i,rubricInstructions:a}=n,s=JSON.stringify({name:r,description:i,rubric_instructions:a});await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await $e(o,"update annotation queue",!0),o})}async deleteAnnotationQueue(e){await this.caller.call(async()=>{const n=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $e(n,"delete annotation queue",!0),n})}async addRunsToAnnotationQueue(e,n){const r=JSON.stringify(n.map((i,a)=>Ye(i,`runIds[${a}]`).toString()));await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}/runs`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await $e(i,"add runs to annotation queue",!0),i})}async getRunFromAnnotationQueue(e,n){const r=`/annotation-queues/${Ye(e,"queueId")}/run`;return(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}${r}/${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $e(a,"get run from annotation queue"),a})).json()}async deleteRunFromAnnotationQueue(e,n){await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}/runs/${Ye(n,"queueRunId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $e(r,"delete run from annotation queue",!0),r})}async getSizeFromAnnotationQueue(e){return(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}/size`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $e(r,"get size from annotation queue"),r})).json()}async _currentTenantIsOwner(e){const n=await this._getSettings();return e=="-"||n.tenant_handle===e}async _ownerConflictError(e,n){const r=await this._getSettings();return new Error(`Cannot ${e} for another tenant.

      Current tenant: ${r.tenant_handle}

      Requested tenant: ${n}`)}async _getLatestCommitHash(e){const r=await(await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/commits/${e}/?limit=1&offset=0`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $e(i,"get latest commit hash"),i})).json();if(r.commits.length!==0)return r.commits[0].commit_hash}async _likeOrUnlikePrompt(e,n){const[r,i,a]=wo(e),s=JSON.stringify({like:n});return(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/likes/${r}/${i}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await $e(l,`${n?"like":"unlike"} prompt`),l})).json()}async _getPromptUrl(e){const[n,r,i]=wo(e);if(await this._currentTenantIsOwner(n)){const a=await this._getSettings();return i!=="latest"?`${this.getHostUrl()}/prompts/${r}/${i.substring(0,8)}?organizationId=${a.id}`:`${this.getHostUrl()}/prompts/${r}?organizationId=${a.id}`}else return i!=="latest"?`${this.getHostUrl()}/hub/${n}/${r}/${i.substring(0,8)}`:`${this.getHostUrl()}/hub/${n}/${r}`}async promptExists(e){return!!await this.getPrompt(e)}async likePrompt(e){return this._likeOrUnlikePrompt(e,!0)}async unlikePrompt(e){return this._likeOrUnlikePrompt(e,!1)}async*listCommits(e){for await(const n of this._getPaginated(`/commits/${e}/`,new URLSearchParams,r=>r.commits))yield*n}async*listPrompts(e){const n=new URLSearchParams;n.append("sort_field",(e==null?void 0:e.sortField)??"updated_at"),n.append("sort_direction","desc"),n.append("is_archived",(!!(e!=null&&e.isArchived)).toString()),(e==null?void 0:e.isPublic)!==void 0&&n.append("is_public",e.isPublic.toString()),e!=null&&e.query&&n.append("query",e.query);for await(const r of this._getPaginated("/repos",n,i=>i.repos))yield*r}async getPrompt(e){const[n,r,i]=wo(e),a=await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/repos/${n}/${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return(o==null?void 0:o.status)===404?null:(await $e(o,"get prompt"),o)}),s=await(a==null?void 0:a.json());return s!=null&&s.repo?s.repo:null}async createPrompt(e,n){const r=await this._getSettings();if(n!=null&&n.isPublic&&!r.tenant_handle)throw new Error(`Cannot create a public prompt without first

        creating a LangChain Hub handle.
        You can add a handle by creating a public prompt at:

        https://smith.langchain.com/prompts`);const[i,a,s]=wo(e);if(!await this._currentTenantIsOwner(i))throw await this._ownerConflictError("create a prompt",i);const o={repo_handle:a,...(n==null?void 0:n.description)&&{description:n.description},...(n==null?void 0:n.readme)&&{readme:n.readme},...(n==null?void 0:n.tags)&&{tags:n.tags},is_public:!!(n!=null&&n.isPublic)},l=JSON.stringify(o),c=await this.caller.call(async()=>{const f=await this._fetch(`${this.apiUrl}/repos/`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await $e(f,"create prompt"),f}),{repo:d}=await c.json();return d}async createCommit(e,n,r){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[i,a,s]=wo(e),o=(r==null?void 0:r.parentCommitHash)==="latest"||!(r!=null&&r.parentCommitHash)?await this._getLatestCommitHash(`${i}/${a}`):r==null?void 0:r.parentCommitHash,l={manifest:JSON.parse(JSON.stringify(n)),parent_commit:o},c=JSON.stringify(l),f=await(await this.caller.call(async()=>{const h=await this._fetch(`${this.apiUrl}/commits/${i}/${a}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await $e(h,"create commit"),h})).json();return this._getPromptUrl(`${i}/${a}${f.commit_hash?`:${f.commit_hash}`:""}`)}async updateExamplesMultipart(e,n=[]){return this._updateExamplesMultipart(e,n)}async _updateExamplesMultipart(e,n=[]){var s;if(!await this._getDatasetExamplesMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const r=new FormData;for(const o of n){const l=o.id,c={...o.metadata&&{metadata:o.metadata},...o.split&&{split:o.split}},d=zr(c,`Serializing body for example with id: ${l}`),f=new Blob([d],{type:"application/json"});if(r.append(l,f),o.inputs){const h=zr(o.inputs,`Serializing inputs for example with id: ${l}`),p=new Blob([h],{type:"application/json"});r.append(`${l}.inputs`,p)}if(o.outputs){const h=zr(o.outputs,`Serializing outputs whle updating example with id: ${l}`),p=new Blob([h],{type:"application/json"});r.append(`${l}.outputs`,p)}if(o.attachments)for(const[h,p]of Object.entries(o.attachments)){let m,g;Array.isArray(p)?[m,g]=p:(m=p.mimeType,g=p.data);const x=new Blob([g],{type:`${m}; length=${g.byteLength}`});r.append(`${l}.attachment.${h}`,x)}if(o.attachments_operations){const h=zr(o.attachments_operations,`Serializing attachments while updating example with id: ${l}`),p=new Blob([h],{type:"application/json"});r.append(`${l}.attachments_operations`,p)}}const i=e??((s=n[0])==null?void 0:s.dataset_id);return(await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${i}/examples`)}`,{method:"PATCH",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await $e(o,"update examples"),o})).json()}async uploadExamplesMultipart(e,n=[]){return this._uploadExamplesMultipart(e,n)}async _uploadExamplesMultipart(e,n=[]){if(!await this._getDatasetExamplesMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const r=new FormData;for(const a of n){const s=(a.id??Er()).toString(),o={created_at:a.created_at,...a.metadata&&{metadata:a.metadata},...a.split&&{split:a.split},...a.source_run_id&&{source_run_id:a.source_run_id},...a.use_source_run_io&&{use_source_run_io:a.use_source_run_io},...a.use_source_run_attachments&&{use_source_run_attachments:a.use_source_run_attachments}},l=zr(o,`Serializing body for uploaded example with id: ${s}`),c=new Blob([l],{type:"application/json"});if(r.append(s,c),a.inputs){const d=zr(a.inputs,`Serializing inputs for uploaded example with id: ${s}`),f=new Blob([d],{type:"application/json"});r.append(`${s}.inputs`,f)}if(a.outputs){const d=zr(a.outputs,`Serializing outputs for uploaded example with id: ${s}`),f=new Blob([d],{type:"application/json"});r.append(`${s}.outputs`,f)}if(a.attachments)for(const[d,f]of Object.entries(a.attachments)){let h,p;Array.isArray(f)?[h,p]=f:(h=f.mimeType,p=f.data);const m=new Blob([p],{type:`${h}; length=${p.byteLength}`});r.append(`${s}.attachment.${d}`,m)}}return(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${e}/examples`)}`,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await $e(a,"upload examples"),a})).json()}async updatePrompt(e,n){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[r,i]=wo(e);if(!await this._currentTenantIsOwner(r))throw await this._ownerConflictError("update a prompt",r);const a={};if((n==null?void 0:n.description)!==void 0&&(a.description=n.description),(n==null?void 0:n.readme)!==void 0&&(a.readme=n.readme),(n==null?void 0:n.tags)!==void 0&&(a.tags=n.tags),(n==null?void 0:n.isPublic)!==void 0&&(a.is_public=n.isPublic),(n==null?void 0:n.isArchived)!==void 0&&(a.is_archived=n.isArchived),Object.keys(a).length===0)throw new Error("No valid update options provided");const s=JSON.stringify(a);return(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/repos/${r}/${i}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await $e(l,"update prompt"),l})).json()}async deletePrompt(e){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[n,r,i]=wo(e);if(!await this._currentTenantIsOwner(n))throw await this._ownerConflictError("delete a prompt",n);return(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/repos/${n}/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $e(s,"delete prompt"),s})).json()}async pullPromptCommit(e,n){const[r,i,a]=wo(e),o=await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/commits/${r}/${i}/${a}${n!=null&&n.includeModel?"?include_model=true":""}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await $e(l,"pull prompt commit"),l})).json();return{owner:r,repo:i,commit_hash:o.commit_hash,manifest:o.manifest,examples:o.examples}}async _pullPrompt(e,n){const r=await this.pullPromptCommit(e,{includeModel:n==null?void 0:n.includeModel});return JSON.stringify(r.manifest)}async pushPrompt(e,n){return await this.promptExists(e)?n&&Object.keys(n).some(i=>i!=="object")&&await this.updatePrompt(e,{description:n==null?void 0:n.description,readme:n==null?void 0:n.readme,tags:n==null?void 0:n.tags,isPublic:n==null?void 0:n.isPublic}):await this.createPrompt(e,{description:n==null?void 0:n.description,readme:n==null?void 0:n.readme,tags:n==null?void 0:n.tags,isPublic:n==null?void 0:n.isPublic}),n!=null&&n.object?await this.createCommit(e,n==null?void 0:n.object,{parentCommitHash:n==null?void 0:n.parentCommitHash}):await this._getPromptUrl(e)}async clonePublicDataset(e,n={}){const{sourceApiUrl:r=this.apiUrl,datasetName:i}=n,[a,s]=this.parseTokenOrUrl(e,r),o=new Kd({apiUrl:a,apiKey:"placeholder"}),l=await o.readSharedDataset(s),c=i||l.name;try{if(await this.hasDataset({datasetId:c})){console.log(`Dataset ${c} already exists in your tenant. Skipping.`);return}}catch{}const d=await o.listSharedExamples(s),f=await this.createDataset(c,{description:l.description,dataType:l.data_type||"kv",inputsSchema:l.inputs_schema_definition??void 0,outputsSchema:l.outputs_schema_definition??void 0});try{await this.createExamples({inputs:d.map(h=>h.inputs),outputs:d.flatMap(h=>h.outputs?[h.outputs]:[]),datasetId:f.id})}catch(h){throw console.error(`An error occurred while creating dataset ${c}. You should delete it manually.`),h}}parseTokenOrUrl(e,n,r=2,i="dataset"){try{return Ye(e),[n,e]}catch{}try{const s=new URL(e).pathname.split("/").filter(o=>o!=="");if(s.length>=r){const o=s[s.length-r];return[n,o]}else throw new Error(`Invalid public ${i} URL: ${e}`)}catch{throw new Error(`Invalid public ${i} URL or token: ${e}`)}}async awaitPendingTraceBatches(){var e,n;if(this.manualFlushMode)return console.warn("[WARNING]: When tracing in manual flush mode, you must call `await client.flush()` manually to submit trace batches."),Promise.resolve();await Promise.all([...this.autoBatchQueue.items.map(({itemPromise:r})=>r),this.batchIngestCaller.queue.onIdle()]),this.langSmithToOTELTranslator!==void 0&&await((n=(e=jue())==null?void 0:e.DEFAULT_LANGSMITH_SPAN_PROCESSOR)==null?void 0:n.forceFlush())}}function T$(t){return"dataset_id"in t||"dataset_name"in t}const rpe=t=>!!["TRACING_V2","TRACING"].find(n=>jr(n)==="true"),sl=Symbol.for("lc:context_variables"),n1=Symbol.for("langsmith:replica_trace_roots");function C$(t,e){if(sl in t)return t[sl][e]}function ipe(t,e,n){const r=sl in t?t[sl]:{};r[e]=n,t[sl]=r}const xh=36,Bh="6ba7b810-9dad-11d1-80b4-00c04fd430c8";function O$(t){const n=Object.keys(t).sort().map(r=>`${r}:${t[r]??""}`).join("|");return Fh(n,Bh)}function ape(t){return t.replace(/[-:.]/g,"")}function h6(t,e=1){const n=e.toFixed(0).slice(0,3).padStart(3,"0");return`${new Date(t).toISOString().slice(0,-1)}${n}Z`}function p6(t,e,n=1){const r=h6(t,n);return{dottedOrder:ape(r)+e,microsecondPrecisionDatestring:r}}class d0{constructor(e,n,r,i){Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.metadata=e,this.tags=n,this.project_name=r,this.replicas=i}static fromHeader(e){const n=e.split(",");let r={},i=[],a,s;for(const o of n){const[l,c]=o.split("="),d=decodeURIComponent(c);l==="langsmith-metadata"?r=JSON.parse(d):l==="langsmith-tags"?i=d.split(","):l==="langsmith-project"?a=d:l==="langsmith-replicas"&&(s=JSON.parse(d))}return new d0(r,i,a,s)}toHeader(){const e=[];return this.metadata&&Object.keys(this.metadata).length>0&&e.push(`langsmith-metadata=${encodeURIComponent(JSON.stringify(this.metadata))}`),this.tags&&this.tags.length>0&&e.push(`langsmith-tags=${encodeURIComponent(this.tags.join(","))}`),this.project_name&&e.push(`langsmith-project=${encodeURIComponent(this.project_name)}`),e.join(",")}}class br{constructor(e){var o;if(Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"run_type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_runs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"end_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extra",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reference_example_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dotted_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"attachments",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"distributedParentId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_serialized_start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),spe(e)){Object.assign(this,{...e});return}const n=br.getDefaultConfig(),{metadata:r,...i}=e,a=i.client??br.getSharedClient(),s={...r,...(o=i==null?void 0:i.extra)==null?void 0:o.metadata};if(i.extra={...i.extra,metadata:s},"id"in i&&i.id==null&&delete i.id,Object.assign(this,{...n,...i,client:a}),this.execution_order??(this.execution_order=1),this.child_execution_order??(this.child_execution_order=1),this.dotted_order||(this._serialized_start_time=h6(this.start_time,this.execution_order)),this.id||(this.id=due(this._serialized_start_time??this.start_time)),this.trace_id||(this.parent_run?this.trace_id=this.parent_run.trace_id??this.id:this.trace_id=this.id),this.replicas=upe(this.replicas),!this.dotted_order){const{dottedOrder:l}=p6(this.start_time,this.id,this.execution_order);this.parent_run?this.dotted_order=this.parent_run.dotted_order+"."+l:this.dotted_order=l}}set metadata(e){var n;this.extra={...this.extra,metadata:{...(n=this.extra)==null?void 0:n.metadata,...e}}}get metadata(){var e;return(e=this.extra)==null?void 0:e.metadata}static getDefaultConfig(){const e=Date.now();return{run_type:"chain",project_name:HU(),child_runs:[],api_url:fs("LANGCHAIN_ENDPOINT")??"http://localhost:1984",api_key:fs("LANGCHAIN_API_KEY"),caller_options:{},start_time:e,serialized:{},inputs:{},extra:{}}}static getSharedClient(){return br.sharedClient||(br.sharedClient=new Kd),br.sharedClient}createChild(e){var d,f,h,p,m,g,x;const n=this.child_execution_order+1,r=(d=this.replicas)==null?void 0:d.map(v=>{const{reroot:b,...y}=v;return y}),i=e.replicas??r,a=new br({...e,parent_run:this,project_name:this.project_name,replicas:i,client:this.client,tracingEnabled:this.tracingEnabled,execution_order:n,child_execution_order:n});sl in this&&(a[sl]=this[sl]);const s=Symbol.for("lc:child_config"),o=((f=e.extra)==null?void 0:f[s])??this.extra[s];if(lpe(o)){const v={...o},b=ope(v.callbacks)?(p=(h=v.callbacks).copy)==null?void 0:p.call(h):void 0;b&&(Object.assign(b,{_parentRunId:a.id}),(x=(g=(m=b.handlers)==null?void 0:m.find(m6))==null?void 0:g.updateFromRunTree)==null||x.call(g,a),v.callbacks=b),a.extra[s]=v}const l=new Set;let c=this;for(;c!=null&&!l.has(c.id);)l.add(c.id),c.child_execution_order=Math.max(c.child_execution_order,n),c=c.parent_run;return this.child_runs.push(a),a}async end(e,n,r=Date.now(),i){this.outputs=this.outputs??e,this.error=this.error??n,this.end_time=this.end_time??r,i&&Object.keys(i).length>0&&(this.extra=this.extra?{...this.extra,metadata:{...this.extra.metadata,...i}}:{metadata:i})}_convertToCreate(e,n,r=!0){var o,l;const i=e.extra??{};if(((o=i==null?void 0:i.runtime)==null?void 0:o.library)===void 0&&(i.runtime||(i.runtime={}),n))for(const[c,d]of Object.entries(n))i.runtime[c]||(i.runtime[c]=d);let a,s;return r?(s=((l=e.parent_run)==null?void 0:l.id)??e.parent_run_id,a=[]):(a=e.child_runs.map(c=>this._convertToCreate(c,n,r)),s=void 0),{id:e.id,name:e.name,start_time:e._serialized_start_time??e.start_time,end_time:e.end_time,run_type:e.run_type,reference_example_id:e.reference_example_id,extra:i,serialized:e.serialized,error:e.error,inputs:e.inputs,outputs:e.outputs,session_name:e.project_name,child_runs:a,parent_run_id:s,trace_id:e.trace_id,dotted_order:e.dotted_order,tags:e.tags,attachments:e.attachments,events:e.events}}_sliceParentId(e,n){if(n.dotted_order){const r=n.dotted_order.split(".");let i=null;for(let a=0;a<r.length;a++)if(r[a].slice(-xh)===e){i=a;break}if(i!==null){const a=r.slice(i+1);n.dotted_order=a.join("."),a.length>0?n.trace_id=a[0].slice(-xh):n.trace_id=n.id}}n.parent_run_id===e&&(n.parent_run_id=void 0)}_setReplicaTraceRoot(e,n){const r=C$(this,n1)??{};r[e]=n,ipe(this,n1,r);for(const i of this.child_runs)i._setReplicaTraceRoot(e,n)}_remapForProject(e){const{projectName:n,runtimeEnv:r,excludeChildRuns:i=!0,reroot:a=!1,distributedParentId:s,apiUrl:o,apiKey:l,workspaceId:c}=e,d=this._convertToCreate(this,r,i);if(n===this.project_name)return{...d,session_name:n};if(a){if(s)this._sliceParentId(s,d);else if(d.parent_run_id=void 0,d.dotted_order){const b=d.dotted_order.split(".");b.length>0&&(d.dotted_order=b[b.length-1],d.trace_id=d.id)}const v=O$({projectName:n,apiUrl:o,apiKey:l,workspaceId:c});this._setReplicaTraceRoot(v,d.id)}let f;if(!a){const v=C$(this,n1)??{},b=O$({projectName:n,apiUrl:o,apiKey:l,workspaceId:c});if(f=v[b],f&&(d.trace_id=f,d.dotted_order)){const y=d.dotted_order.split(".");let w=null;for(let _=0;_<y.length;_++)if(y[_].slice(-xh)===f){w=_;break}if(w!==null){const _=y.slice(w);d.dotted_order=_.join(".")}}}const h=d.id,p=Fh(`${h}:${n}`,Bh);let m;d.trace_id?m=Fh(`${d.trace_id}:${n}`,Bh):m=p;let g;d.parent_run_id&&(g=Fh(`${d.parent_run_id}:${n}`,Bh));let x;return d.dotted_order&&(x=d.dotted_order.split(".").map(y=>{const w=y.slice(-xh),_=Fh(`${w}:${n}`,Bh);return y.slice(0,-xh)+_}).join(".")),{...d,id:p,trace_id:m,parent_run_id:g,dotted_order:x,session_name:n}}async postRun(e=!0){try{const n=GU();if(this.replicas&&this.replicas.length>0)for(const{projectName:r,apiKey:i,apiUrl:a,workspaceId:s,reroot:o}of this.replicas){const l=this._remapForProject({projectName:r??this.project_name,runtimeEnv:n,excludeChildRuns:!0,reroot:o,distributedParentId:this.distributedParentId,apiUrl:a,apiKey:i,workspaceId:s});await this.client.createRun(l,{apiKey:i,apiUrl:a,workspaceId:s})}else{const r=this._convertToCreate(this,n,e);await this.client.createRun(r)}if(!e){VE("Posting with excludeChildRuns=false is deprecated and will be removed in a future version.");for(const r of this.child_runs)await r.postRun(!1)}}catch(n){console.error(`Error in postRun for run ${this.id}:`,n)}}async patchRun(e){var n;if(this.replicas&&this.replicas.length>0)for(const{projectName:r,apiKey:i,apiUrl:a,workspaceId:s,updates:o,reroot:l}of this.replicas){const c=this._remapForProject({projectName:r??this.project_name,runtimeEnv:void 0,excludeChildRuns:!0,reroot:l,distributedParentId:this.distributedParentId,apiUrl:a,apiKey:i,workspaceId:s}),d={id:c.id,name:c.name,run_type:c.run_type,start_time:c.start_time,outputs:c.outputs,error:c.error,parent_run_id:c.parent_run_id,session_name:c.session_name,reference_example_id:c.reference_example_id,end_time:c.end_time,dotted_order:c.dotted_order,trace_id:c.trace_id,events:c.events,tags:c.tags,extra:c.extra,attachments:this.attachments,...o};e!=null&&e.excludeInputs||(d.inputs=c.inputs),await this.client.updateRun(c.id,d,{apiKey:i,apiUrl:a,workspaceId:s})}else try{const r={name:this.name,run_type:this.run_type,start_time:this._serialized_start_time??this.start_time,end_time:this.end_time,error:this.error,outputs:this.outputs,parent_run_id:((n=this.parent_run)==null?void 0:n.id)??this.parent_run_id,reference_example_id:this.reference_example_id,extra:this.extra,events:this.events,dotted_order:this.dotted_order,trace_id:this.trace_id,tags:this.tags,attachments:this.attachments,session_name:this.project_name};e!=null&&e.excludeInputs||(r.inputs=this.inputs),await this.client.updateRun(this.id,r)}catch(r){console.error(`Error in patchRun for run ${this.id}`,r)}}toJSON(){return this._convertToCreate(this,void 0,!1)}addEvent(e){this.events||(this.events=[]),typeof e=="string"?this.events.push({name:"event",time:new Date().toISOString(),message:e}):this.events.push({...e,time:e.time??new Date().toISOString()})}static fromRunnableConfig(e,n){var c,d,f,h;const r=e==null?void 0:e.callbacks;let i,a,s,o=rpe();if(r){const p=((c=r==null?void 0:r.getParentRunId)==null?void 0:c.call(r))??"",m=(d=r==null?void 0:r.handlers)==null?void 0:d.find(g=>(g==null?void 0:g.name)=="langchain_tracer");i=(f=m==null?void 0:m.getRun)==null?void 0:f.call(m,p),a=m==null?void 0:m.projectName,s=m==null?void 0:m.client,o=o||!!m}return i?new br({name:i.name,id:i.id,trace_id:i.trace_id,dotted_order:i.dotted_order,client:s,tracingEnabled:o,project_name:a,tags:[...new Set(((i==null?void 0:i.tags)??[]).concat((e==null?void 0:e.tags)??[]))],extra:{metadata:{...(h=i==null?void 0:i.extra)==null?void 0:h.metadata,...e==null?void 0:e.metadata}}}).createChild(n):new br({...n,client:s,tracingEnabled:o,project_name:a})}static fromDottedOrder(e){return this.fromHeaders({"langsmith-trace":e})}static fromHeaders(e,n){var d;const r="get"in e&&typeof e.get=="function"?{"langsmith-trace":e.get("langsmith-trace"),baggage:e.get("baggage")}:e,i=r["langsmith-trace"];if(!i||typeof i!="string")return;const a=i.trim(),s=a.split(".").map(f=>{const[h,p]=f.split("Z");return{strTime:h,time:Date.parse(h+"Z"),uuid:p}}),o=s[0].uuid,l={...n,name:(n==null?void 0:n.name)??"parent",run_type:(n==null?void 0:n.run_type)??"chain",start_time:(n==null?void 0:n.start_time)??Date.now(),id:(d=s.at(-1))==null?void 0:d.uuid,trace_id:o,dotted_order:a};if(r.baggage&&typeof r.baggage=="string"){const f=d0.fromHeader(r.baggage);l.metadata=f.metadata,l.tags=f.tags,l.project_name=f.project_name,l.replicas=f.replicas}const c=new br(l);return c.distributedParentId=c.id,c}toHeaders(e){var r;const n={"langsmith-trace":this.dotted_order,baggage:new d0((r=this.extra)==null?void 0:r.metadata,this.tags,this.project_name,this.replicas).toHeader()};if(e)for(const[i,a]of Object.entries(n))e.set(i,a);return n}}Object.defineProperty(br,"sharedClient",{enumerable:!0,configurable:!0,writable:!0,value:null});function spe(t){return t!=null&&typeof t.createChild=="function"&&typeof t.postRun=="function"}function m6(t){return typeof t=="object"&&t!=null&&typeof t.name=="string"&&t.name==="langchain_tracer"}function N$(t){return Array.isArray(t)&&t.some(e=>m6(e))}function ope(t){return typeof t=="object"&&t!=null&&Array.isArray(t.handlers)}function lpe(t){var e;return t!=null&&typeof t.callbacks=="object"&&(N$((e=t.callbacks)==null?void 0:e.handlers)||N$(t.callbacks))}function cpe(){const t=fs("LANGSMITH_RUNS_ENDPOINTS");if(!t)return[];try{const e=JSON.parse(t);if(Array.isArray(e)){const n=[];for(const r of e){if(typeof r!="object"||r===null){console.warn(`Invalid item type in LANGSMITH_RUNS_ENDPOINTS: expected object, got ${typeof r}`);continue}if(typeof r.api_url!="string"){console.warn(`Invalid api_url type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof r.api_url}`);continue}if(typeof r.api_key!="string"){console.warn(`Invalid api_key type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof r.api_key}`);continue}n.push({apiUrl:r.api_url.replace(/\/$/,""),apiKey:r.api_key})}return n}else if(typeof e=="object"&&e!==null){dpe(e);const n=[];for(const[r,i]of Object.entries(e)){const a=r.replace(/\/$/,"");if(typeof i=="string")n.push({apiUrl:a,apiKey:i});else{console.warn(`Invalid value type in LANGSMITH_RUNS_ENDPOINTS for URL ${r}: expected string, got ${typeof i}`);continue}}return n}else return console.warn(`Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of objects with api_url and api_key properties, or object mapping url->apiKey, got ${typeof e}`),[]}catch(e){if(Hhe(e))throw e;return console.warn("Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of objects with api_url and api_key properties, or object mapping url->apiKey"),[]}}function upe(t){return t?t.map(e=>Array.isArray(e)?{projectName:e[0],updates:e[1]}:e):cpe()}function dpe(t){if(Object.keys(t).length>0&&jr("ENDPOINT"))throw new Uhe}var fpe={};bt(fpe,{BaseTracer:()=>Bf,isBaseTracer:()=>Ru});const hpe=t=>{if(t)return t.events=t.events??[],t.child_runs=t.child_runs??[],t};function GE(t,e){if(t)return new br({...t,start_time:t._serialized_start_time??t.start_time,parent_run:GE(e),child_runs:t.child_runs.map(n=>GE(n)).filter(n=>n!==void 0),extra:{...t.extra,runtime:LU()},tracingEnabled:!1})}function r1(t,e){return t&&!Array.isArray(t)&&typeof t=="object"?t:{[e]:t}}function Ru(t){return typeof t._addRunToRunMap=="function"}var Bf=class extends fg{constructor(e){super(...arguments);H(this,"runMap",new Map);H(this,"runTreeMap",new Map);H(this,"usesRunTreeMap",!1)}copy(){return this}getRunById(e){if(e!==void 0)return this.usesRunTreeMap?hpe(this.runTreeMap.get(e)):this.runMap.get(e)}stringifyError(e){return e instanceof Error?e.message+(e!=null&&e.stack?`

${e.stack}`:""):typeof e=="string"?e:`${e}`}_addChildRun(e,n){e.child_runs.push(n)}_addRunToRunMap(e){const{dottedOrder:n,microsecondPrecisionDatestring:r}=p6(new Date(e.start_time).getTime(),e.id,e.execution_order),i={...e},a=this.getRunById(i.parent_run_id);if(i.parent_run_id!==void 0?a&&(this._addChildRun(a,i),a.child_execution_order=Math.max(a.child_execution_order,i.child_execution_order),i.trace_id=a.trace_id,a.dotted_order!==void 0&&(i.dotted_order=[a.dotted_order,n].join("."),i._serialized_start_time=r)):(i.trace_id=i.id,i.dotted_order=n,i._serialized_start_time=r),this.usesRunTreeMap){const s=GE(i,a);s!==void 0&&this.runTreeMap.set(i.id,s)}else this.runMap.set(i.id,i);return i}async _endTrace(e){var r;const n=e.parent_run_id!==void 0&&this.getRunById(e.parent_run_id);n?n.child_execution_order=Math.max(n.child_execution_order,e.child_execution_order):await this.persistRun(e),await((r=this.onRunUpdate)==null?void 0:r.call(this,e)),this.usesRunTreeMap?this.runTreeMap.delete(e.id):this.runMap.delete(e.id)}_getExecutionOrder(e){const n=e!==void 0&&this.getRunById(e);return n?n.child_execution_order+1:1}_createRunForLLMStart(e,n,r,i,a,s,o,l){const c=this._getExecutionOrder(i),d=Date.now(),f=o?{...a,metadata:o}:a,h={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:{prompts:n},execution_order:c,child_runs:[],child_execution_order:c,run_type:"llm",extra:f??{},tags:s||[]};return this._addRunToRunMap(h)}async handleLLMStart(e,n,r,i,a,s,o,l){var d,f;const c=this.getRunById(r)??this._createRunForLLMStart(e,n,r,i,a,s,o,l);return await((d=this.onRunCreate)==null?void 0:d.call(this,c)),await((f=this.onLLMStart)==null?void 0:f.call(this,c)),c}_createRunForChatModelStart(e,n,r,i,a,s,o,l){const c=this._getExecutionOrder(i),d=Date.now(),f=o?{...a,metadata:o}:a,h={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:{messages:n},execution_order:c,child_runs:[],child_execution_order:c,run_type:"llm",extra:f??{},tags:s||[]};return this._addRunToRunMap(h)}async handleChatModelStart(e,n,r,i,a,s,o,l){var d,f;const c=this.getRunById(r)??this._createRunForChatModelStart(e,n,r,i,a,s,o,l);return await((d=this.onRunCreate)==null?void 0:d.call(this,c)),await((f=this.onLLMStart)==null?void 0:f.call(this,c)),c}async handleLLMEnd(e,n,r,i,a){var o;const s=this.getRunById(n);if(!s||(s==null?void 0:s.run_type)!=="llm")throw new Error("No LLM run to end.");return s.end_time=Date.now(),s.outputs=e,s.events.push({name:"end",time:new Date(s.end_time).toISOString()}),s.extra={...s.extra,...a},await((o=this.onLLMEnd)==null?void 0:o.call(this,s)),await this._endTrace(s),s}async handleLLMError(e,n,r,i,a){var o;const s=this.getRunById(n);if(!s||(s==null?void 0:s.run_type)!=="llm")throw new Error("No LLM run to end.");return s.end_time=Date.now(),s.error=this.stringifyError(e),s.events.push({name:"error",time:new Date(s.end_time).toISOString()}),s.extra={...s.extra,...a},await((o=this.onLLMError)==null?void 0:o.call(this,s)),await this._endTrace(s),s}_createRunForChainStart(e,n,r,i,a,s,o,l){const c=this._getExecutionOrder(i),d=Date.now(),f={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:n,execution_order:c,child_execution_order:c,run_type:o??"chain",child_runs:[],extra:s?{metadata:s}:{},tags:a||[]};return this._addRunToRunMap(f)}async handleChainStart(e,n,r,i,a,s,o,l){var d,f;const c=this.getRunById(r)??this._createRunForChainStart(e,n,r,i,a,s,o,l);return await((d=this.onRunCreate)==null?void 0:d.call(this,c)),await((f=this.onChainStart)==null?void 0:f.call(this,c)),c}async handleChainEnd(e,n,r,i,a){var o;const s=this.getRunById(n);if(!s)throw new Error("No chain run to end.");return s.end_time=Date.now(),s.outputs=r1(e,"output"),s.events.push({name:"end",time:new Date(s.end_time).toISOString()}),(a==null?void 0:a.inputs)!==void 0&&(s.inputs=r1(a.inputs,"input")),await((o=this.onChainEnd)==null?void 0:o.call(this,s)),await this._endTrace(s),s}async handleChainError(e,n,r,i,a){var o;const s=this.getRunById(n);if(!s)throw new Error("No chain run to end.");return s.end_time=Date.now(),s.error=this.stringifyError(e),s.events.push({name:"error",time:new Date(s.end_time).toISOString()}),(a==null?void 0:a.inputs)!==void 0&&(s.inputs=r1(a.inputs,"input")),await((o=this.onChainError)==null?void 0:o.call(this,s)),await this._endTrace(s),s}_createRunForToolStart(e,n,r,i,a,s,o){const l=this._getExecutionOrder(i),c=Date.now(),d={id:r,name:o??e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{input:n},execution_order:l,child_execution_order:l,run_type:"tool",child_runs:[],extra:s?{metadata:s}:{},tags:a||[]};return this._addRunToRunMap(d)}async handleToolStart(e,n,r,i,a,s,o){var c,d;const l=this.getRunById(r)??this._createRunForToolStart(e,n,r,i,a,s,o);return await((c=this.onRunCreate)==null?void 0:c.call(this,l)),await((d=this.onToolStart)==null?void 0:d.call(this,l)),l}async handleToolEnd(e,n){var i;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.outputs={output:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((i=this.onToolEnd)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleToolError(e,n){var i;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((i=this.onToolError)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleAgentAction(e,n){var a;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="chain")return;const i=r;i.actions=i.actions||[],i.actions.push(e),i.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:e}}),await((a=this.onAgentAction)==null?void 0:a.call(this,r))}async handleAgentEnd(e,n){var i;const r=this.getRunById(n);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:e}}),await((i=this.onAgentEnd)==null?void 0:i.call(this,r)))}_createRunForRetrieverStart(e,n,r,i,a,s,o){const l=this._getExecutionOrder(i),c=Date.now(),d={id:r,name:o??e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{query:n},execution_order:l,child_execution_order:l,run_type:"retriever",child_runs:[],extra:s?{metadata:s}:{},tags:a||[]};return this._addRunToRunMap(d)}async handleRetrieverStart(e,n,r,i,a,s,o){var c,d;const l=this.getRunById(r)??this._createRunForRetrieverStart(e,n,r,i,a,s,o);return await((c=this.onRunCreate)==null?void 0:c.call(this,l)),await((d=this.onRetrieverStart)==null?void 0:d.call(this,l)),l}async handleRetrieverEnd(e,n){var i;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.outputs={documents:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((i=this.onRetrieverEnd)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleRetrieverError(e,n){var i;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((i=this.onRetrieverError)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleText(e,n){var i;const r=this.getRunById(n);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:e}}),await((i=this.onText)==null?void 0:i.call(this,r)))}async handleLLMNewToken(e,n,r,i,a,s){var l;const o=this.getRunById(r);if(!o||(o==null?void 0:o.run_type)!=="llm")throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return o.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:e,idx:n,chunk:s==null?void 0:s.chunk}}),await((l=this.onLLMNewToken)==null?void 0:l.call(this,o,e,{chunk:s==null?void 0:s.chunk})),o}},EC={exports:{}};EC.exports;(function(t){const n=(a=0)=>s=>`\x1B[${38+a};5;${s}m`,r=(a=0)=>(s,o,l)=>`\x1B[${38+a};2;${s};${o};${l}m`;function i(){const a=new Map,s={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};s.color.gray=s.color.blackBright,s.bgColor.bgGray=s.bgColor.bgBlackBright,s.color.grey=s.color.blackBright,s.bgColor.bgGrey=s.bgColor.bgBlackBright;for(const[o,l]of Object.entries(s)){for(const[c,d]of Object.entries(l))s[c]={open:`\x1B[${d[0]}m`,close:`\x1B[${d[1]}m`},l[c]=s[c],a.set(d[0],d[1]);Object.defineProperty(s,o,{value:l,enumerable:!1})}return Object.defineProperty(s,"codes",{value:a,enumerable:!1}),s.color.close="\x1B[39m",s.bgColor.close="\x1B[49m",s.color.ansi256=n(),s.color.ansi16m=r(),s.bgColor.ansi256=n(10),s.bgColor.ansi16m=r(10),Object.defineProperties(s,{rgbToAnsi256:{value:(o,l,c)=>o===l&&l===c?o<8?16:o>248?231:Math.round((o-8)/247*24)+232:16+36*Math.round(o/255*5)+6*Math.round(l/255*5)+Math.round(c/255*5),enumerable:!1},hexToRgb:{value:o=>{const l=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(o.toString(16));if(!l)return[0,0,0];let{colorString:c}=l.groups;c.length===3&&(c=c.split("").map(f=>f+f).join(""));const d=Number.parseInt(c,16);return[d>>16&255,d>>8&255,d&255]},enumerable:!1},hexToAnsi256:{value:o=>s.rgbToAnsi256(...s.hexToRgb(o)),enumerable:!1}}),s}Object.defineProperty(t,"exports",{enumerable:!0,get:i})})(EC);var ppe=EC.exports;const g6=at(ppe);var mpe={};bt(mpe,{ConsoleCallbackHandler:()=>KE});function rr(t,e){return`${t.open}${e}${t.close}`}function yi(t,e){try{return JSON.stringify(t,null,2)}catch{return e}}function P$(t){return typeof t=="string"?t.trim():t==null?t:yi(t,t.toString())}function _o(t){if(!t.end_time)return"";const e=t.end_time-t.start_time;return e<1e3?`${e}ms`:`${(e/1e3).toFixed(2)}s`}const{color:vr}=g6;var KE=class extends Bf{constructor(){super(...arguments);H(this,"name","console_callback_handler")}persistRun(e){return Promise.resolve()}getParents(e){const n=[];let r=e;for(;r.parent_run_id;){const i=this.runMap.get(r.parent_run_id);if(i)n.push(i),r=i;else break}return n}getBreadcrumbs(e){const r=[...this.getParents(e).reverse(),e].map((i,a,s)=>{const o=`${i.execution_order}:${i.run_type}:${i.name}`;return a===s.length-1?rr(g6.bold,o):o}).join(" > ");return rr(vr.grey,r)}onChainStart(e){const n=this.getBreadcrumbs(e);console.log(`${rr(vr.green,"[chain/start]")} [${n}] Entering Chain run with input: ${yi(e.inputs,"[inputs]")}`)}onChainEnd(e){const n=this.getBreadcrumbs(e);console.log(`${rr(vr.cyan,"[chain/end]")} [${n}] [${_o(e)}] Exiting Chain run with output: ${yi(e.outputs,"[outputs]")}`)}onChainError(e){const n=this.getBreadcrumbs(e);console.log(`${rr(vr.red,"[chain/error]")} [${n}] [${_o(e)}] Chain run errored with error: ${yi(e.error,"[error]")}`)}onLLMStart(e){const n=this.getBreadcrumbs(e),r="prompts"in e.inputs?{prompts:e.inputs.prompts.map(i=>i.trim())}:e.inputs;console.log(`${rr(vr.green,"[llm/start]")} [${n}] Entering LLM run with input: ${yi(r,"[inputs]")}`)}onLLMEnd(e){const n=this.getBreadcrumbs(e);console.log(`${rr(vr.cyan,"[llm/end]")} [${n}] [${_o(e)}] Exiting LLM run with output: ${yi(e.outputs,"[response]")}`)}onLLMError(e){const n=this.getBreadcrumbs(e);console.log(`${rr(vr.red,"[llm/error]")} [${n}] [${_o(e)}] LLM run errored with error: ${yi(e.error,"[error]")}`)}onToolStart(e){const n=this.getBreadcrumbs(e);console.log(`${rr(vr.green,"[tool/start]")} [${n}] Entering Tool run with input: "${P$(e.inputs.input)}"`)}onToolEnd(e){var r;const n=this.getBreadcrumbs(e);console.log(`${rr(vr.cyan,"[tool/end]")} [${n}] [${_o(e)}] Exiting Tool run with output: "${P$((r=e.outputs)==null?void 0:r.output)}"`)}onToolError(e){const n=this.getBreadcrumbs(e);console.log(`${rr(vr.red,"[tool/error]")} [${n}] [${_o(e)}] Tool run errored with error: ${yi(e.error,"[error]")}`)}onRetrieverStart(e){const n=this.getBreadcrumbs(e);console.log(`${rr(vr.green,"[retriever/start]")} [${n}] Entering Retriever run with input: ${yi(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){const n=this.getBreadcrumbs(e);console.log(`${rr(vr.cyan,"[retriever/end]")} [${n}] [${_o(e)}] Exiting Retriever run with output: ${yi(e.outputs,"[outputs]")}`)}onRetrieverError(e){const n=this.getBreadcrumbs(e);console.log(`${rr(vr.red,"[retriever/error]")} [${n}] [${_o(e)}] Retriever run errored with error: ${yi(e.error,"[error]")}`)}onAgentAction(e){const n=e,r=this.getBreadcrumbs(e);console.log(`${rr(vr.blue,"[agent/action]")} [${r}] Agent selected action: ${yi(n.actions[n.actions.length-1],"[action]")}`)}};let i1;const y6=()=>{if(i1===void 0){const t=Bs("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"?{blockOnRootRunFinalization:!0}:{};i1=new Kd(t)}return i1};let gpe=class{getStore(){}run(e,n){return n()}};const a1=Symbol.for("ls:tracing_async_local_storage"),ype=new gpe;let vpe=class{getInstance(){return globalThis[a1]??ype}initializeGlobalInstance(e){globalThis[a1]===void 0&&(globalThis[a1]=e)}};const xpe=new vpe;function bpe(t=!1){const e=xpe.getInstance().getStore();if(!t&&e===void 0)throw new Error(`Could not get the current run tree.

Please make sure you are calling this method within a traceable function and that tracing is enabled.`);return e}function jC(t){return typeof t=="function"&&"langsmith:traceable"in t}var wpe={};bt(wpe,{LangChainTracer:()=>up});var up=class v6 extends Bf{constructor(n={}){super(n);H(this,"name","langchain_tracer");H(this,"projectName");H(this,"exampleId");H(this,"client");H(this,"replicas");H(this,"usesRunTreeMap",!0);const{exampleId:r,projectName:i,client:a,replicas:s}=n;this.projectName=i??HU(),this.replicas=s,this.exampleId=r,this.client=a??y6();const o=v6.getTraceableRunTree();o&&this.updateFromRunTree(o)}async persistRun(n){}async onRunCreate(n){const r=this.getRunTreeWithTracingConfig(n.id);await(r==null?void 0:r.postRun())}async onRunUpdate(n){const r=this.getRunTreeWithTracingConfig(n.id);await(r==null?void 0:r.patchRun())}getRun(n){return this.runTreeMap.get(n)}updateFromRunTree(n){this.runTreeMap.set(n.id,n);let r=n;const i=new Set;for(;r.parent_run&&!(i.has(r.id)||(i.add(r.id),!r.parent_run));)r=r.parent_run;i.clear();const a=[r];for(;a.length>0;){const s=a.shift();!s||i.has(s.id)||(i.add(s.id),this.runTreeMap.set(s.id,s),s.child_runs&&a.push(...s.child_runs))}this.client=n.client??this.client,this.replicas=n.replicas??this.replicas,this.projectName=n.project_name??this.projectName,this.exampleId=n.reference_example_id??this.exampleId}getRunTreeWithTracingConfig(n){const r=this.runTreeMap.get(n);if(r)return new br({...r,client:this.client,project_name:this.projectName,replicas:this.replicas,reference_example_id:this.exampleId,tracingEnabled:!0})}static getTraceableRunTree(){try{return bpe(!0)}catch{return}}};const x6=Symbol.for("ls:tracing_async_local_storage"),dp=Symbol.for("lc:context_variables"),_pe=t=>{globalThis[x6]=t},nm=()=>globalThis[x6];let Ac;function Spe(){const t="default"in zs?zs.default:zs;return new t({autoStart:!0,concurrency:1})}function Epe(){return typeof Ac>"u"&&(Ac=Spe()),Ac}async function gn(t,e){if(e===!0){const n=nm();n!==void 0?await n.run(void 0,async()=>t()):await t()}else Ac=Epe(),Ac.add(async()=>{const n=nm();n!==void 0?await n.run(void 0,async()=>t()):await t()})}async function jpe(){const t=y6();await Promise.allSettled([typeof Ac<"u"?Ac.onIdle():Promise.resolve(),t.awaitPendingTraceBatches()])}var Ape={};bt(Ape,{awaitAllCallbacks:()=>jpe,consumeCallback:()=>gn});const kpe=t=>!!["LANGSMITH_TRACING_V2","LANGCHAIN_TRACING_V2","LANGSMITH_TRACING","LANGCHAIN_TRACING"].find(n=>Bs(n)==="true");function b6(t){var r;const e=nm();if(e===void 0)return;const n=e.getStore();return(r=n==null?void 0:n[dp])==null?void 0:r[t]}const Tpe=Symbol("lc:configure_hooks"),Cpe=()=>b6(Tpe)||[];var Ope={};bt(Ope,{BaseCallbackManager:()=>w6,BaseRunManager:()=>pg,CallbackManager:()=>is,CallbackManagerForChainRun:()=>S6,CallbackManagerForLLMRun:()=>YE,CallbackManagerForRetrieverRun:()=>_6,CallbackManagerForToolRun:()=>E6,ensureHandler:()=>rm,parseCallbackConfigArg:()=>Npe});function Npe(t){return t?Array.isArray(t)||"name"in t?{callbacks:t}:t:{}}var w6=class{setHandler(t){return this.setHandlers([t])}},pg=class{constructor(t,e,n,r,i,a,s,o){this.runId=t,this.handlers=e,this.inheritableHandlers=n,this.tags=r,this.inheritableTags=i,this.metadata=a,this.inheritableMetadata=s,this._parentRunId=o}get parentRunId(){return this._parentRunId}async handleText(t){await Promise.all(this.handlers.map(e=>gn(async()=>{var n;try{await((n=e.handleText)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleText: ${r}`),e.raiseError)throw r}},e.awaitHandlers)))}async handleCustomEvent(t,e,n,r,i){await Promise.all(this.handlers.map(a=>gn(async()=>{var s;try{await((s=a.handleCustomEvent)==null?void 0:s.call(a,t,e,this.runId,this.tags,this.metadata))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleCustomEvent: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}},_6=class extends pg{getChild(t){const e=new is(this.runId);return e.setHandlers(this.inheritableHandlers),e.addTags(this.inheritableTags),e.addMetadata(this.inheritableMetadata),t&&e.addTags([t],!1),e}async handleRetrieverEnd(t){await Promise.all(this.handlers.map(e=>gn(async()=>{var n;if(!e.ignoreRetriever)try{await((n=e.handleRetrieverEnd)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleRetriever`),e.raiseError)throw r}},e.awaitHandlers)))}async handleRetrieverError(t){await Promise.all(this.handlers.map(e=>gn(async()=>{var n;if(!e.ignoreRetriever)try{await((n=e.handleRetrieverError)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleRetrieverError: ${r}`),e.raiseError)throw t}},e.awaitHandlers)))}},YE=class extends pg{async handleLLMNewToken(t,e,n,r,i,a){await Promise.all(this.handlers.map(s=>gn(async()=>{var o;if(!s.ignoreLLM)try{await((o=s.handleLLMNewToken)==null?void 0:o.call(s,t,e??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,a))}catch(l){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleLLMNewToken: ${l}`),s.raiseError)throw l}},s.awaitHandlers)))}async handleLLMError(t,e,n,r,i){await Promise.all(this.handlers.map(a=>gn(async()=>{var s;if(!a.ignoreLLM)try{await((s=a.handleLLMError)==null?void 0:s.call(a,t,this.runId,this._parentRunId,this.tags,i))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleLLMError: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}async handleLLMEnd(t,e,n,r,i){await Promise.all(this.handlers.map(a=>gn(async()=>{var s;if(!a.ignoreLLM)try{await((s=a.handleLLMEnd)==null?void 0:s.call(a,t,this.runId,this._parentRunId,this.tags,i))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleLLMEnd: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}},S6=class extends pg{getChild(t){const e=new is(this.runId);return e.setHandlers(this.inheritableHandlers),e.addTags(this.inheritableTags),e.addMetadata(this.inheritableMetadata),t&&e.addTags([t],!1),e}async handleChainError(t,e,n,r,i){await Promise.all(this.handlers.map(a=>gn(async()=>{var s;if(!a.ignoreChain)try{await((s=a.handleChainError)==null?void 0:s.call(a,t,this.runId,this._parentRunId,this.tags,i))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleChainError: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}async handleChainEnd(t,e,n,r,i){await Promise.all(this.handlers.map(a=>gn(async()=>{var s;if(!a.ignoreChain)try{await((s=a.handleChainEnd)==null?void 0:s.call(a,t,this.runId,this._parentRunId,this.tags,i))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleChainEnd: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}async handleAgentAction(t){await Promise.all(this.handlers.map(e=>gn(async()=>{var n;if(!e.ignoreAgent)try{await((n=e.handleAgentAction)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleAgentAction: ${r}`),e.raiseError)throw r}},e.awaitHandlers)))}async handleAgentEnd(t){await Promise.all(this.handlers.map(e=>gn(async()=>{var n;if(!e.ignoreAgent)try{await((n=e.handleAgentEnd)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleAgentEnd: ${r}`),e.raiseError)throw r}},e.awaitHandlers)))}},E6=class extends pg{getChild(t){const e=new is(this.runId);return e.setHandlers(this.inheritableHandlers),e.addTags(this.inheritableTags),e.addMetadata(this.inheritableMetadata),t&&e.addTags([t],!1),e}async handleToolError(t){await Promise.all(this.handlers.map(e=>gn(async()=>{var n;if(!e.ignoreAgent)try{await((n=e.handleToolError)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleToolError: ${r}`),e.raiseError)throw r}},e.awaitHandlers)))}async handleToolEnd(t){await Promise.all(this.handlers.map(e=>gn(async()=>{var n;if(!e.ignoreAgent)try{await((n=e.handleToolEnd)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleToolEnd: ${r}`),e.raiseError)throw r}},e.awaitHandlers)))}},is=class zh extends w6{constructor(n,r){super();H(this,"handlers",[]);H(this,"inheritableHandlers",[]);H(this,"tags",[]);H(this,"inheritableTags",[]);H(this,"metadata",{});H(this,"inheritableMetadata",{});H(this,"name","callback_manager");H(this,"_parentRunId");this.handlers=(r==null?void 0:r.handlers)??this.handlers,this.inheritableHandlers=(r==null?void 0:r.inheritableHandlers)??this.inheritableHandlers,this.tags=(r==null?void 0:r.tags)??this.tags,this.inheritableTags=(r==null?void 0:r.inheritableTags)??this.inheritableTags,this.metadata=(r==null?void 0:r.metadata)??this.metadata,this.inheritableMetadata=(r==null?void 0:r.inheritableMetadata)??this.inheritableMetadata,this._parentRunId=n}getParentRunId(){return this._parentRunId}async handleLLMStart(n,r,i=void 0,a=void 0,s=void 0,o=void 0,l=void 0,c=void 0){return Promise.all(r.map(async(d,f)=>{const h=f===0&&i?i:Er();return await Promise.all(this.handlers.map(p=>{if(!p.ignoreLLM)return Ru(p)&&p._createRunForLLMStart(n,[d],h,this._parentRunId,s,this.tags,this.metadata,c),gn(async()=>{var m;try{await((m=p.handleLLMStart)==null?void 0:m.call(p,n,[d],h,this._parentRunId,s,this.tags,this.metadata,c))}catch(g){if((p.raiseError?console.error:console.warn)(`Error in handler ${p.constructor.name}, handleLLMStart: ${g}`),p.raiseError)throw g}},p.awaitHandlers)})),new YE(h,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(n,r,i=void 0,a=void 0,s=void 0,o=void 0,l=void 0,c=void 0){return Promise.all(r.map(async(d,f)=>{const h=f===0&&i?i:Er();return await Promise.all(this.handlers.map(p=>{if(!p.ignoreLLM)return Ru(p)&&p._createRunForChatModelStart(n,[d],h,this._parentRunId,s,this.tags,this.metadata,c),gn(async()=>{var m,g;try{if(p.handleChatModelStart)await((m=p.handleChatModelStart)==null?void 0:m.call(p,n,[d],h,this._parentRunId,s,this.tags,this.metadata,c));else if(p.handleLLMStart){const x=uC(d);await((g=p.handleLLMStart)==null?void 0:g.call(p,n,[x],h,this._parentRunId,s,this.tags,this.metadata,c))}}catch(x){if((p.raiseError?console.error:console.warn)(`Error in handler ${p.constructor.name}, handleLLMStart: ${x}`),p.raiseError)throw x}},p.awaitHandlers)})),new YE(h,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(n,r,i=Er(),a=void 0,s=void 0,o=void 0,l=void 0){return await Promise.all(this.handlers.map(c=>{if(!c.ignoreChain)return Ru(c)&&c._createRunForChainStart(n,r,i,this._parentRunId,this.tags,this.metadata,a,l),gn(async()=>{var d;try{await((d=c.handleChainStart)==null?void 0:d.call(c,n,r,i,this._parentRunId,this.tags,this.metadata,a,l))}catch(f){if((c.raiseError?console.error:console.warn)(`Error in handler ${c.constructor.name}, handleChainStart: ${f}`),c.raiseError)throw f}},c.awaitHandlers)})),new S6(i,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(n,r,i=Er(),a=void 0,s=void 0,o=void 0,l=void 0){return await Promise.all(this.handlers.map(c=>{if(!c.ignoreAgent)return Ru(c)&&c._createRunForToolStart(n,r,i,this._parentRunId,this.tags,this.metadata,l),gn(async()=>{var d;try{await((d=c.handleToolStart)==null?void 0:d.call(c,n,r,i,this._parentRunId,this.tags,this.metadata,l))}catch(f){if((c.raiseError?console.error:console.warn)(`Error in handler ${c.constructor.name}, handleToolStart: ${f}`),c.raiseError)throw f}},c.awaitHandlers)})),new E6(i,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(n,r,i=Er(),a=void 0,s=void 0,o=void 0,l=void 0){return await Promise.all(this.handlers.map(c=>{if(!c.ignoreRetriever)return Ru(c)&&c._createRunForRetrieverStart(n,r,i,this._parentRunId,this.tags,this.metadata,l),gn(async()=>{var d;try{await((d=c.handleRetrieverStart)==null?void 0:d.call(c,n,r,i,this._parentRunId,this.tags,this.metadata,l))}catch(f){if((c.raiseError?console.error:console.warn)(`Error in handler ${c.constructor.name}, handleRetrieverStart: ${f}`),c.raiseError)throw f}},c.awaitHandlers)})),new _6(i,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleCustomEvent(n,r,i,a,s){await Promise.all(this.handlers.map(o=>gn(async()=>{var l;if(!o.ignoreCustomEvent)try{await((l=o.handleCustomEvent)==null?void 0:l.call(o,n,r,i,this.tags,this.metadata))}catch(c){if((o.raiseError?console.error:console.warn)(`Error in handler ${o.constructor.name}, handleCustomEvent: ${c}`),o.raiseError)throw c}},o.awaitHandlers)))}addHandler(n,r=!0){this.handlers.push(n),r&&this.inheritableHandlers.push(n)}removeHandler(n){this.handlers=this.handlers.filter(r=>r!==n),this.inheritableHandlers=this.inheritableHandlers.filter(r=>r!==n)}setHandlers(n,r=!0){this.handlers=[],this.inheritableHandlers=[];for(const i of n)this.addHandler(i,r)}addTags(n,r=!0){this.removeTags(n),this.tags.push(...n),r&&this.inheritableTags.push(...n)}removeTags(n){this.tags=this.tags.filter(r=>!n.includes(r)),this.inheritableTags=this.inheritableTags.filter(r=>!n.includes(r))}addMetadata(n,r=!0){this.metadata={...this.metadata,...n},r&&(this.inheritableMetadata={...this.inheritableMetadata,...n})}removeMetadata(n){for(const r of Object.keys(n))delete this.metadata[r],delete this.inheritableMetadata[r]}copy(n=[],r=!0){const i=new zh(this._parentRunId);for(const a of this.handlers){const s=this.inheritableHandlers.includes(a);i.addHandler(a,s)}for(const a of this.tags){const s=this.inheritableTags.includes(a);i.addTags([a],s)}for(const a of Object.keys(this.metadata)){const s=Object.keys(this.inheritableMetadata).includes(a);i.addMetadata({[a]:this.metadata[a]},s)}for(const a of n)i.handlers.filter(s=>s.name==="console_callback_handler").some(s=>s.name===a.name)||i.addHandler(a,r);return i}static fromHandlers(n){class r extends fg{constructor(){super();H(this,"name",Er());Object.assign(this,n)}}const i=new this;return i.addHandler(new r),i}static configure(n,r,i,a,s,o,l){return this._configureSync(n,r,i,a,s,o,l)}static _configureSync(n,r,i,a,s,o,l){var p;let c;(n||r)&&(Array.isArray(n)||!n?(c=new zh,c.setHandlers((n==null?void 0:n.map(rm))??[],!0)):c=n,c=c.copy(Array.isArray(r)?r.map(rm):r==null?void 0:r.handlers,!1));const d=Bs("LANGCHAIN_VERBOSE")==="true"||(l==null?void 0:l.verbose),f=((p=up.getTraceableRunTree())==null?void 0:p.tracingEnabled)||kpe(),h=f||(Bs("LANGCHAIN_TRACING")??!1);if(d||h){if(c||(c=new zh),d&&!c.handlers.some(m=>m.name===KE.prototype.name)){const m=new KE;c.addHandler(m,!0)}if(h&&!c.handlers.some(m=>m.name==="langchain_tracer")&&f){const m=new up;c.addHandler(m,!0)}if(f){const m=up.getTraceableRunTree();if(m&&c._parentRunId===void 0){c._parentRunId=m.id;const g=c.handlers.find(x=>x.name==="langchain_tracer");g==null||g.updateFromRunTree(m)}}}for(const{contextVar:m,inheritable:g=!0,handlerClass:x,envVar:v}of Cpe()){const b=v&&Bs(v)==="true"&&x;let y;const w=m!==void 0?b6(m):void 0;w&&zU(w)?y=w:b&&(y=new x({})),y!==void 0&&(c||(c=new zh),c.handlers.some(_=>_.name===y.name)||c.addHandler(y,g))}return(i||a)&&c&&(c.addTags(i??[]),c.addTags(a??[],!1)),(s||o)&&c&&(c.addMetadata(s??{}),c.addMetadata(o??{},!1)),c}};function rm(t){return"name"in t?t:fg.fromMethods(t)}var j6=class{getStore(){}run(t,e){return e()}enterWith(t){}};const Ppe=new j6,I$=Symbol.for("lc:child_config");var Ipe=class{getInstance(){return nm()??Ppe}getRunnableConfig(){var e,n;return(n=(e=this.getInstance().getStore())==null?void 0:e.extra)==null?void 0:n[I$]}runWithConfig(t,e,n){var c;const r=is._configureSync(t==null?void 0:t.callbacks,void 0,t==null?void 0:t.tags,void 0,t==null?void 0:t.metadata),i=this.getInstance(),a=i.getStore(),s=r==null?void 0:r.getParentRunId(),o=(c=r==null?void 0:r.handlers)==null?void 0:c.find(d=>(d==null?void 0:d.name)==="langchain_tracer");let l;return o&&s?l=o.getRunTreeWithTracingConfig(s):n||(l=new br({name:"<runnable_lambda>",tracingEnabled:!1})),l&&(l.extra={...l.extra,[I$]:t}),a!==void 0&&a[dp]!==void 0&&(l===void 0&&(l={}),l[dp]=a[dp]),i.run(l,e)}initializeGlobalInstance(t){nm()===void 0&&_pe(t)}};const ro=new Ipe;var $pe={};bt($pe,{AsyncLocalStorageProviderSingleton:()=>ro,MockAsyncLocalStorage:()=>j6,_CONTEXT_VARIABLES_KEY:()=>dp});const s1=25;async function ri(t){return is._configureSync(t==null?void 0:t.callbacks,void 0,t==null?void 0:t.tags,void 0,t==null?void 0:t.metadata)}function XE(...t){const e={};for(const n of t.filter(r=>!!r))for(const r of Object.keys(n))if(r==="metadata")e[r]={...e[r],...n[r]};else if(r==="tags"){const i=e[r]??[];e[r]=[...new Set(i.concat(n[r]??[]))]}else if(r==="configurable")e[r]={...e[r],...n[r]};else if(r==="timeout")e.timeout===void 0?e.timeout=n.timeout:n.timeout!==void 0&&(e.timeout=Math.min(e.timeout,n.timeout));else if(r==="signal")e.signal===void 0?e.signal=n.signal:n.signal!==void 0&&("any"in AbortSignal?e.signal=AbortSignal.any([e.signal,n.signal]):e.signal=n.signal);else if(r==="callbacks"){const i=e.callbacks,a=n.callbacks;if(Array.isArray(a))if(!i)e.callbacks=a;else if(Array.isArray(i))e.callbacks=i.concat(a);else{const s=i.copy();for(const o of a)s.addHandler(rm(o),!0);e.callbacks=s}else if(a)if(!i)e.callbacks=a;else if(Array.isArray(i)){const s=a.copy();for(const o of i)s.addHandler(rm(o),!0);e.callbacks=s}else e.callbacks=new is(a._parentRunId,{handlers:i.handlers.concat(a.handlers),inheritableHandlers:i.inheritableHandlers.concat(a.inheritableHandlers),tags:Array.from(new Set(i.tags.concat(a.tags))),inheritableTags:Array.from(new Set(i.inheritableTags.concat(a.inheritableTags))),metadata:{...i.metadata,...a.metadata}})}else{const i=r;e[i]=n[i]??e[i]}return e}const Rpe=new Set(["string","number","boolean"]);function pt(t){var r;const e=ro.getRunnableConfig();let n={tags:[],metadata:{},recursionLimit:25,runId:void 0};if(e){const{runId:i,runName:a,...s}=e;n=Object.entries(s).reduce((o,[l,c])=>(c!==void 0&&(o[l]=c),o),n)}if(t&&(n=Object.entries(t).reduce((i,[a,s])=>(s!==void 0&&(i[a]=s),i),n)),n!=null&&n.configurable)for(const i of Object.keys(n.configurable))Rpe.has(typeof n.configurable[i])&&!((r=n.metadata)!=null&&r[i])&&(n.metadata||(n.metadata={}),n.metadata[i]=n.configurable[i]);if(n.timeout!==void 0){if(n.timeout<=0)throw new Error("Timeout must be a positive number");const i=AbortSignal.timeout(n.timeout);n.signal!==void 0?"any"in AbortSignal&&(n.signal=AbortSignal.any([n.signal,i])):n.signal=i,delete n.timeout}return n}function Zt(t={},{callbacks:e,maxConcurrency:n,recursionLimit:r,runName:i,configurable:a,runId:s}={}){const o=pt(t);return e!==void 0&&(delete o.runName,o.callbacks=e),r!==void 0&&(o.recursionLimit=r),n!==void 0&&(o.maxConcurrency=n),i!==void 0&&(o.runName=i),a!==void 0&&(o.configurable={...o.configurable,...a}),s!==void 0&&delete o.runId,o}function Bc(t){if(t)return{configurable:t.configurable,recursionLimit:t.recursionLimit,callbacks:t.callbacks,tags:t.tags,metadata:t.metadata,maxConcurrency:t.maxConcurrency,timeout:t.timeout,signal:t.signal,store:t.store}}async function io(t,e){if(e===void 0)return t;let n;return Promise.race([t.catch(r=>{if(!(e!=null&&e.aborted))throw r}),new Promise((r,i)=>{n=()=>{i(f0(e))},e.addEventListener("abort",n),e.aborted&&i(f0(e))})]).finally(()=>e.removeEventListener("abort",n))}function f0(t){return(t==null?void 0:t.reason)instanceof Error?t.reason:typeof(t==null?void 0:t.reason)=="string"?new Error(t.reason):new Error("Aborted")}var Mpe={};bt(Mpe,{AsyncGeneratorWithSetup:()=>ru,IterableReadableStream:()=>ba,atee:()=>AC,concat:()=>zc,pipeGeneratorWithSetup:()=>A6});var ba=class ZE extends ReadableStream{constructor(){super(...arguments);H(this,"reader")}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const n=await this.reader.read();return n.done?(this.reader.releaseLock(),{done:!0,value:void 0}):{done:!1,value:n.value}}catch(n){throw this.reader.releaseLock(),n}}async return(){if(this.ensureReader(),this.locked){const n=this.reader.cancel();this.reader.releaseLock(),await n}return{done:!0,value:void 0}}async throw(n){if(this.ensureReader(),this.locked){const r=this.reader.cancel();this.reader.releaseLock(),await r}throw n}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}static fromReadableStream(n){const r=n.getReader();return new ZE({start(i){return a();function a(){return r.read().then(({done:s,value:o})=>{if(s){i.close();return}return i.enqueue(o),a()})}},cancel(){r.releaseLock()}})}static fromAsyncGenerator(n){return new ZE({async pull(r){const{value:i,done:a}=await n.next();a&&r.close(),r.enqueue(i)},async cancel(r){await n.return(r)}})}};function AC(t,e=2){const n=Array.from({length:e},()=>[]);return n.map(async function*(i){for(;;)if(i.length===0){const a=await t.next();for(const s of n)s.push(a)}else{if(i[0].done)return;yield i.shift().value}})}function zc(t,e){if(Array.isArray(t)&&Array.isArray(e))return t.concat(e);if(typeof t=="string"&&typeof e=="string")return t+e;if(typeof t=="number"&&typeof e=="number")return t+e;if("concat"in t&&typeof t.concat=="function")return t.concat(e);if(typeof t=="object"&&typeof e=="object"){const n={...t};for(const[r,i]of Object.entries(e))r in n&&!Array.isArray(n[r])?n[r]=zc(n[r],i):n[r]=i;return n}else throw new Error(`Cannot concat ${typeof t} and ${typeof e}`)}var ru=class{constructor(t){H(this,"generator");H(this,"setup");H(this,"config");H(this,"signal");H(this,"firstResult");H(this,"firstResultUsed",!1);var e;this.generator=t.generator,this.config=t.config,this.signal=t.signal??((e=this.config)==null?void 0:e.signal),this.setup=new Promise((n,r)=>{ro.runWithConfig(Bc(t.config),async()=>{this.firstResult=t.generator.next(),t.startSetup?this.firstResult.then(t.startSetup).then(n,r):this.firstResult.then(i=>n(void 0),r)},!0)})}async next(...t){var e;return(e=this.signal)==null||e.throwIfAborted(),this.firstResultUsed?ro.runWithConfig(Bc(this.config),this.signal?async()=>io(this.generator.next(...t),this.signal):async()=>this.generator.next(...t),!0):(this.firstResultUsed=!0,this.firstResult)}async return(t){return this.generator.return(t)}async throw(t){return this.generator.throw(t)}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}};async function A6(t,e,n,r,...i){const a=new ru({generator:e,startSetup:n,signal:r}),s=await a.setup;return{output:t(a,s,...i),setup:s}}var Dpe={};bt(Dpe,{ChatGenerationChunk:()=>am,GenerationChunk:()=>im,RUN_KEY:()=>JE});const JE="__run";var im=class k6{constructor(e){H(this,"text");H(this,"generationInfo");this.text=e.text,this.generationInfo=e.generationInfo}concat(e){return new k6({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo}})}},am=class T6 extends im{constructor(n){super(n);H(this,"message");this.message=n.message}concat(n){return new T6({text:this.text+n.text,generationInfo:{...this.generationInfo,...n.generationInfo},message:this.message.concat(n.message)})}};/*!
* https://github.com/Starcounter-Jack/JSON-Patch
* (c) 2017-2022 Joachim Wester
* MIT licensed
*/const Lpe=Object.prototype.hasOwnProperty;function QE(t,e){return Lpe.call(t,e)}function ej(t){if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<n.length;r++)n[r]=""+r;return n}if(Object.keys)return Object.keys(t);let e=[];for(let n in t)QE(t,n)&&e.push(n);return e}function Ai(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}function tj(t){let e=0;const n=t.length;let r;for(;e<n;){if(r=t.charCodeAt(e),r>=48&&r<=57){e++;continue}return!1}return!0}function tc(t){return t.indexOf("/")===-1&&t.indexOf("~")===-1?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function C6(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function nj(t){if(t===void 0)return!0;if(t){if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(nj(t[n]))return!0}else if(typeof t=="object"){const n=ej(t),r=n.length;for(var e=0;e<r;e++)if(nj(t[n[e]]))return!0}}return!1}function $$(t,e){const n=[t];for(const r in e){const i=typeof e[r]=="object"?JSON.stringify(e[r],null,2):e[r];typeof i<"u"&&n.push(`${r}: ${i}`)}return n.join(`
`)}var O6=class extends Error{constructor(t,e,n,r,i){super($$(t,{name:e,index:n,operation:r,tree:i})),this.name=e,this.index=n,this.operation=r,this.tree=i,Object.setPrototypeOf(this,new.target.prototype),this.message=$$(t,{name:e,index:n,operation:r,tree:i})}},N6={};bt(N6,{JsonPatchError:()=>rn,_areEquals:()=>sm,applyOperation:()=>kc,applyPatch:()=>Yd,applyReducer:()=>zpe,deepClone:()=>Fpe,getValueByPointer:()=>h0,validate:()=>P6,validator:()=>p0});const rn=O6,Fpe=Ai,Ju={add:function(t,e,n){return t[e]=this.value,{newDocument:n}},remove:function(t,e,n){var r=t[e];return delete t[e],{newDocument:n,removed:r}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:function(t,e,n){let r=h0(n,this.path);r&&(r=Ai(r));const i=kc(n,{op:"remove",path:this.from}).removed;return kc(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(t,e,n){const r=h0(n,this.from);return kc(n,{op:"add",path:this.path,value:Ai(r)}),{newDocument:n}},test:function(t,e,n){return{newDocument:n,test:sm(t[e],this.value)}},_get:function(t,e,n){return this.value=t[e],{newDocument:n}}};var Bpe={add:function(t,e,n){return tj(e)?t.splice(e,0,this.value):t[e]=this.value,{newDocument:n,index:e}},remove:function(t,e,n){var r=t.splice(e,1);return{newDocument:n,removed:r[0]}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:Ju.move,copy:Ju.copy,test:Ju.test,_get:Ju._get};function h0(t,e){if(e=="")return t;var n={op:"_get",path:e};return kc(t,n),n.value}function kc(t,e,n=!1,r=!0,i=!0,a=0){if(n&&(typeof n=="function"?n(e,0,t,e.path):p0(e,0)),e.path===""){let s={newDocument:t};if(e.op==="add")return s.newDocument=e.value,s;if(e.op==="replace")return s.newDocument=e.value,s.removed=t,s;if(e.op==="move"||e.op==="copy")return s.newDocument=h0(t,e.from),e.op==="move"&&(s.removed=t),s;if(e.op==="test"){if(s.test=sm(t,e.value),s.test===!1)throw new rn("Test operation failed","TEST_OPERATION_FAILED",a,e,t);return s.newDocument=t,s}else{if(e.op==="remove")return s.removed=t,s.newDocument=null,s;if(e.op==="_get")return e.value=t,s;if(n)throw new rn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,e,t);return s}}else{r||(t=Ai(t));const o=(e.path||"").split("/");let l=t,c=1,d=o.length,f,h,p;for(typeof n=="function"?p=n:p=p0;;){if(h=o[c],h&&h.indexOf("~")!=-1&&(h=C6(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&o[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&f===void 0&&(l[h]===void 0?f=o.slice(0,c).join("/"):c==d-1&&(f=e.path),f!==void 0&&p(e,0,t,f)),c++,Array.isArray(l)){if(h==="-")h=l.length;else{if(n&&!tj(h))throw new rn("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,e,t);tj(h)&&(h=~~h)}if(c>=d){if(n&&e.op==="add"&&h>l.length)throw new rn("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",a,e,t);const m=Bpe[e.op].call(e,l,h,t);if(m.test===!1)throw new rn("Test operation failed","TEST_OPERATION_FAILED",a,e,t);return m}}else if(c>=d){const m=Ju[e.op].call(e,l,h,t);if(m.test===!1)throw new rn("Test operation failed","TEST_OPERATION_FAILED",a,e,t);return m}if(l=l[h],n&&c<d&&(!l||typeof l!="object"))throw new rn("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",a,e,t)}}}function Yd(t,e,n,r=!0,i=!0){if(n&&!Array.isArray(e))throw new rn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(t=Ai(t));const a=new Array(e.length);for(let s=0,o=e.length;s<o;s++)a[s]=kc(t,e[s],n,!0,i,s),t=a[s].newDocument;return a.newDocument=t,a}function zpe(t,e,n){const r=kc(t,e);if(r.test===!1)throw new rn("Test operation failed","TEST_OPERATION_FAILED",n,e,t);return r.newDocument}function p0(t,e,n,r){if(typeof t!="object"||t===null||Array.isArray(t))throw new rn("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,n);if(Ju[t.op]){if(typeof t.path!="string")throw new rn("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,n);if(t.path.indexOf("/")!==0&&t.path.length>0)throw new rn('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,n);if((t.op==="move"||t.op==="copy")&&typeof t.from!="string")throw new rn("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&t.value===void 0)throw new rn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&nj(t.value))throw new rn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,n);if(n){if(t.op=="add"){var i=t.path.split("/").length,a=r.split("/").length;if(i!==a+1&&i!==a)throw new rn("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,n)}else if(t.op==="replace"||t.op==="remove"||t.op==="_get"){if(t.path!==r)throw new rn("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,n)}else if(t.op==="move"||t.op==="copy"){var s={op:"_get",path:t.from,value:void 0},o=P6([s],n);if(o&&o.name==="OPERATION_PATH_UNRESOLVABLE")throw new rn("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,n)}}}else throw new rn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,n)}function P6(t,e,n){try{if(!Array.isArray(t))throw new rn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)Yd(Ai(e),Ai(t),n||!0);else{n=n||p0;for(var r=0;r<t.length;r++)n(t[r],r,e,void 0)}}catch(i){if(i instanceof rn)return i;throw i}}function sm(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=Array.isArray(t),r=Array.isArray(e),i,a,s;if(n&&r){if(a=t.length,a!=e.length)return!1;for(i=a;i--!==0;)if(!sm(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var o=Object.keys(t);if(a=o.length,a!==Object.keys(e).length)return!1;for(i=a;i--!==0;)if(!e.hasOwnProperty(o[i]))return!1;for(i=a;i--!==0;)if(s=o[i],!sm(t[s],e[s]))return!1;return!0}return t!==t&&e!==e}function I6(t,e,n,r,i){if(e!==t){typeof e.toJSON=="function"&&(e=e.toJSON());for(var a=ej(e),s=ej(t),o=!1,l=s.length-1;l>=0;l--){var c=s[l],d=t[c];if(QE(e,c)&&!(e[c]===void 0&&d!==void 0&&Array.isArray(e)===!1)){var f=e[c];typeof d=="object"&&d!=null&&typeof f=="object"&&f!=null&&Array.isArray(d)===Array.isArray(f)?I6(d,f,n,r+"/"+tc(c),i):d!==f&&(i&&n.push({op:"test",path:r+"/"+tc(c),value:Ai(d)}),n.push({op:"replace",path:r+"/"+tc(c),value:Ai(f)}))}else Array.isArray(t)===Array.isArray(e)?(i&&n.push({op:"test",path:r+"/"+tc(c),value:Ai(d)}),n.push({op:"remove",path:r+"/"+tc(c)}),o=!0):(i&&n.push({op:"test",path:r,value:t}),n.push({op:"replace",path:r,value:e}))}if(!(!o&&a.length==s.length))for(var l=0;l<a.length;l++){var c=a[l];!QE(t,c)&&e[c]!==void 0&&n.push({op:"add",path:r+"/"+tc(c),value:Ai(e[c])})}}}function kC(t,e,n=!1){var r=[];return I6(t,e,r,"",n),r}({...N6});var Upe={};bt(Upe,{LogStreamCallbackHandler:()=>ij,RunLog:()=>TC,RunLogPatch:()=>Ns,isLogStreamHandler:()=>$6});var Ns=class{constructor(t){H(this,"ops");this.ops=t.ops??[]}concat(t){const e=this.ops.concat(t.ops),n=Yd({},e);return new TC({ops:e,state:n[n.length-1].newDocument})}},TC=class rj extends Ns{constructor(n){super(n);H(this,"state");this.state=n.state}concat(n){const r=this.ops.concat(n.ops),i=Yd(this.state,n.ops);return new rj({ops:r,state:i[i.length-1].newDocument})}static fromRunLogPatch(n){const r=Yd({},n.ops);return new rj({ops:n.ops,state:r[r.length-1].newDocument})}};const $6=t=>t.name==="log_stream_tracer";async function R$(t,e){if(e==="original")throw new Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");const{inputs:n}=t;if(["retriever","llm","prompt"].includes(t.run_type))return n;if(!(Object.keys(n).length===1&&(n==null?void 0:n.input)===""))return n.input}async function M$(t,e){const{outputs:n}=t;return e==="original"||["retriever","llm","prompt"].includes(t.run_type)?n:n!==void 0&&Object.keys(n).length===1&&(n==null?void 0:n.output)!==void 0?n.output:n}function Hpe(t){return t!==void 0&&t.message!==void 0}var ij=class extends Bf{constructor(e){super({_awaitHandler:!0,...e});H(this,"autoClose",!0);H(this,"includeNames");H(this,"includeTypes");H(this,"includeTags");H(this,"excludeNames");H(this,"excludeTypes");H(this,"excludeTags");H(this,"_schemaFormat","original");H(this,"rootId");H(this,"keyMapByRunId",{});H(this,"counterMapByRunName",{});H(this,"transformStream");H(this,"writer");H(this,"receiveStream");H(this,"name","log_stream_tracer");H(this,"lc_prefer_streaming",!0);this.autoClose=(e==null?void 0:e.autoClose)??!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this._schemaFormat=(e==null?void 0:e._schemaFormat)??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=ba.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.id===this.rootId)return!1;const n=e.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.run_type)),this.includeTags!==void 0&&(r=r||n.find(i=>{var a;return(a=this.includeTags)==null?void 0:a.includes(i)})!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.run_type)),this.excludeTags!==void 0&&(r=r&&n.every(i=>{var a;return!((a=this.excludeTags)!=null&&a.includes(i))})),r}async*tapOutputIterable(e,n){for await(const r of n){if(e!==this.rootId){const i=this.keyMapByRunId[e];i&&await this.writer.write(new Ns({ops:[{op:"add",path:`/logs/${i}/streamed_output/-`,value:r}]}))}yield r}}async onRunCreate(e){var i;if(this.rootId===void 0&&(this.rootId=e.id,await this.writer.write(new Ns({ops:[{op:"replace",path:"",value:{id:e.id,name:e.name,type:e.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(e))return;this.counterMapByRunName[e.name]===void 0&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;const n=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=n===1?e.name:`${e.name}:${n}`;const r={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:((i=e.extra)==null?void 0:i.metadata)??{},start_time:new Date(e.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};this._schemaFormat==="streaming_events"&&(r.inputs=await R$(e,this._schemaFormat)),await this.writer.write(new Ns({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:r}]}))}async onRunUpdate(e){try{const n=this.keyMapByRunId[e.id];if(n===void 0)return;const r=[];this._schemaFormat==="streaming_events"&&r.push({op:"replace",path:`/logs/${n}/inputs`,value:await R$(e,this._schemaFormat)}),r.push({op:"add",path:`/logs/${n}/final_output`,value:await M$(e,this._schemaFormat)}),e.end_time!==void 0&&r.push({op:"add",path:`/logs/${n}/end_time`,value:new Date(e.end_time).toISOString()});const i=new Ns({ops:r});await this.writer.write(i)}finally{if(e.id===this.rootId){const n=new Ns({ops:[{op:"replace",path:"/final_output",value:await M$(e,this._schemaFormat)}]});await this.writer.write(n),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,n,r){const i=this.keyMapByRunId[e.id];if(i===void 0)return;const a=e.inputs.messages!==void 0;let s;a?Hpe(r==null?void 0:r.chunk)?s=r==null?void 0:r.chunk:s=new fo({id:`run-${e.id}`,content:n}):s=n;const o=new Ns({ops:[{op:"add",path:`/logs/${i}/streamed_output_str/-`,value:n},{op:"add",path:`/logs/${i}/streamed_output/-`,value:s}]});await this.writer.write(o)}};function by({name:t,serialized:e}){return t!==void 0?t:(e==null?void 0:e.name)!==void 0?e.name:(e==null?void 0:e.id)!==void 0&&Array.isArray(e==null?void 0:e.id)?e.id[e.id.length-1]:"Unnamed"}const Vpe=t=>t.name==="event_stream_tracer";var Wpe=class extends Bf{constructor(e){super({_awaitHandler:!0,...e});H(this,"autoClose",!0);H(this,"includeNames");H(this,"includeTypes");H(this,"includeTags");H(this,"excludeNames");H(this,"excludeTypes");H(this,"excludeTags");H(this,"runInfoMap",new Map);H(this,"tappedPromises",new Map);H(this,"transformStream");H(this,"writer");H(this,"receiveStream");H(this,"name","event_stream_tracer");H(this,"lc_prefer_streaming",!0);this.autoClose=(e==null?void 0:e.autoClose)??!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=ba.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){const n=e.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.runType)),this.includeTags!==void 0&&(r=r||n.find(i=>{var a;return(a=this.includeTags)==null?void 0:a.includes(i)})!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.runType)),this.excludeTags!==void 0&&(r=r&&n.every(i=>{var a;return!((a=this.excludeTags)!=null&&a.includes(i))})),r}async*tapOutputIterable(e,n){const r=await n.next();if(r.done)return;const i=this.runInfoMap.get(e);if(i===void 0){yield r.value;return}function a(o,l){return o==="llm"&&typeof l=="string"?new im({text:l}):l}let s=this.tappedPromises.get(e);if(s===void 0){let o;s=new Promise(l=>{o=l}),this.tappedPromises.set(e,s);try{const l={event:`on_${i.runType}_stream`,run_id:e,name:i.name,tags:i.tags,metadata:i.metadata,data:{}};await this.send({...l,data:{chunk:a(i.runType,r.value)}},i),yield r.value;for await(const c of n)i.runType!=="tool"&&i.runType!=="retriever"&&await this.send({...l,data:{chunk:a(i.runType,c)}},i),yield c}finally{o==null||o()}}else{yield r.value;for await(const o of n)yield o}}async send(e,n){this._includeRun(n)&&await this.writer.write(e)}async sendEndEvent(e,n){const r=this.tappedPromises.get(e.run_id);r!==void 0?r.then(()=>{this.send(e,n)}):await this.send(e,n)}async onLLMStart(e){var s,o;const n=by(e),r=e.inputs.messages!==void 0?"chat_model":"llm",i={tags:e.tags??[],metadata:((s=e.extra)==null?void 0:s.metadata)??{},name:n,runType:r,inputs:e.inputs};this.runInfoMap.set(e.id,i);const a=`on_${r}_start`;await this.send({event:a,data:{input:e.inputs},name:n,tags:e.tags??[],run_id:e.id,metadata:((o=e.extra)==null?void 0:o.metadata)??{}},i)}async onLLMNewToken(e,n,r){const i=this.runInfoMap.get(e.id);let a,s;if(i===void 0)throw new Error(`onLLMNewToken: Run ID ${e.id} not found in run map.`);if(this.runInfoMap.size!==1){if(i.runType==="chat_model")s="on_chat_model_stream",(r==null?void 0:r.chunk)===void 0?a=new fo({content:n,id:`run-${e.id}`}):a=r.chunk.message;else if(i.runType==="llm")s="on_llm_stream",(r==null?void 0:r.chunk)===void 0?a=new im({text:n}):a=r.chunk;else throw new Error(`Unexpected run type ${i.runType}`);await this.send({event:s,data:{chunk:a},run_id:e.id,name:i.name,tags:i.tags,metadata:i.metadata},i)}}async onLLMEnd(e){var s,o,l;const n=this.runInfoMap.get(e.id);this.runInfoMap.delete(e.id);let r;if(n===void 0)throw new Error(`onLLMEnd: Run ID ${e.id} not found in run map.`);const i=(s=e.outputs)==null?void 0:s.generations;let a;if(n.runType==="chat_model"){for(const c of i??[]){if(a!==void 0)break;a=(o=c[0])==null?void 0:o.message}r="on_chat_model_end"}else if(n.runType==="llm")a={generations:i==null?void 0:i.map(c=>c.map(d=>({text:d.text,generationInfo:d.generationInfo}))),llmOutput:((l=e.outputs)==null?void 0:l.llmOutput)??{}},r="on_llm_end";else throw new Error(`onLLMEnd: Unexpected run type: ${n.runType}`);await this.sendEndEvent({event:r,data:{output:a,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onChainStart(e){var s,o;const n=by(e),r=e.run_type??"chain",i={tags:e.tags??[],metadata:((s=e.extra)==null?void 0:s.metadata)??{},name:n,runType:e.run_type};let a={};e.inputs.input===""&&Object.keys(e.inputs).length===1?(a={},i.inputs={}):e.inputs.input!==void 0?(a.input=e.inputs.input,i.inputs=e.inputs.input):(a.input=e.inputs,i.inputs=e.inputs),this.runInfoMap.set(e.id,i),await this.send({event:`on_${r}_start`,data:a,name:n,tags:e.tags??[],run_id:e.id,metadata:((o=e.extra)==null?void 0:o.metadata)??{}},i)}async onChainEnd(e){var o;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onChainEnd: Run ID ${e.id} not found in run map.`);const r=`on_${e.run_type}_end`,i=e.inputs??n.inputs??{},s={output:((o=e.outputs)==null?void 0:o.output)??e.outputs,input:i};i.input&&Object.keys(i).length===1&&(s.input=i.input,n.inputs=i.input),await this.sendEndEvent({event:r,data:s,run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata??{}},n)}async onToolStart(e){var i,a;const n=by(e),r={tags:e.tags??[],metadata:((i=e.extra)==null?void 0:i.metadata)??{},name:n,runType:"tool",inputs:e.inputs??{}};this.runInfoMap.set(e.id,r),await this.send({event:"on_tool_start",data:{input:e.inputs??{}},name:n,run_id:e.id,tags:e.tags??[],metadata:((a=e.extra)==null?void 0:a.metadata)??{}},r)}async onToolEnd(e){var i;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onToolEnd: Run ID ${e.id} not found in run map.`);if(n.inputs===void 0)throw new Error(`onToolEnd: Run ID ${e.id} is a tool call, and is expected to have traced inputs.`);const r=((i=e.outputs)==null?void 0:i.output)===void 0?e.outputs:e.outputs.output;await this.sendEndEvent({event:"on_tool_end",data:{output:r,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onRetrieverStart(e){var a,s;const n=by(e),i={tags:e.tags??[],metadata:((a=e.extra)==null?void 0:a.metadata)??{},name:n,runType:"retriever",inputs:{query:e.inputs.query}};this.runInfoMap.set(e.id,i),await this.send({event:"on_retriever_start",data:{input:{query:e.inputs.query}},name:n,tags:e.tags??[],run_id:e.id,metadata:((s=e.extra)==null?void 0:s.metadata)??{}},i)}async onRetrieverEnd(e){var r;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onRetrieverEnd: Run ID ${e.id} not found in run map.`);await this.sendEndEvent({event:"on_retriever_end",data:{output:((r=e.outputs)==null?void 0:r.documents)??e.outputs,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async handleCustomEvent(e,n,r){const i=this.runInfoMap.get(r);if(i===void 0)throw new Error(`handleCustomEvent: Run ID ${r} not found in run map.`);await this.send({event:"on_custom_event",run_id:r,name:e,tags:i.tags,metadata:i.metadata,data:n},i)}async finish(){const e=[...this.tappedPromises.values()];Promise.all(e).finally(()=>{this.writer.close()})}};const qpe=Object.prototype.toString,Gpe=t=>qpe.call(t)==="[object Error]",Kpe=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function Ype(t){if(!(t&&Gpe(t)&&t.name==="TypeError"&&typeof t.message=="string"))return!1;const{message:n,stack:r}=t;return n==="Load failed"?r===void 0||"__sentry_captured__"in t:n.startsWith("error sending request for url")?!0:Kpe.has(n)}function Xpe(t){if(typeof t=="number"){if(t<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(t))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(t!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function wy(t,e,{min:n=0,allowInfinity:r=!1}={}){if(e!==void 0){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected \`${t}\` to be a number${r?" or Infinity":""}.`);if(!r&&!Number.isFinite(e))throw new TypeError(`Expected \`${t}\` to be a finite number.`);if(e<n)throw new TypeError(`Expected \`${t}\` to be  ${n}.`)}}class Zpe extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}function Jpe(t,e){const n=Math.max(1,t+1),r=e.randomize?Math.random()+1:1;let i=Math.round(r*e.minTimeout*e.factor**(n-1));return i=Math.min(i,e.maxTimeout),i}function D$(t,e){return Number.isFinite(e)?e-(performance.now()-t):e}async function Qpe({error:t,attemptNumber:e,retriesConsumed:n,startTime:r,options:i}){var p,m,g;const a=t instanceof Error?t:new TypeError(`Non-error was thrown: "${t}". You should only throw errors.`);if(a instanceof Zpe)throw a.originalError;const s=Number.isFinite(i.retries)?Math.max(0,i.retries-n):i.retries,o=i.maxRetryTime??Number.POSITIVE_INFINITY,l=Object.freeze({error:a,attemptNumber:e,retriesLeft:s,retriesConsumed:n});if(await i.onFailedAttempt(l),D$(r,o)<=0)throw a;const c=await i.shouldConsumeRetry(l),d=D$(r,o);if(d<=0||s<=0)throw a;if(a instanceof TypeError&&!Ype(a)){if(c)throw a;return(p=i.signal)==null||p.throwIfAborted(),!1}if(!await i.shouldRetry(l))throw a;if(!c)return(m=i.signal)==null||m.throwIfAborted(),!1;const f=Jpe(n,i),h=Math.min(f,d);return h>0&&await new Promise((x,v)=>{var w,_;const b=()=>{var E;clearTimeout(y),(E=i.signal)==null||E.removeEventListener("abort",b),v(i.signal.reason)},y=setTimeout(()=>{var E;(E=i.signal)==null||E.removeEventListener("abort",b),x()},h);i.unref&&((w=y.unref)==null||w.call(y)),(_=i.signal)==null||_.addEventListener("abort",b,{once:!0})}),(g=i.signal)==null||g.throwIfAborted(),!0}async function aj(t,e={}){var a,s,o;if(e={...e},Xpe(e.retries),Object.hasOwn(e,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");e.retries??(e.retries=10),e.factor??(e.factor=2),e.minTimeout??(e.minTimeout=1e3),e.maxTimeout??(e.maxTimeout=Number.POSITIVE_INFINITY),e.maxRetryTime??(e.maxRetryTime=Number.POSITIVE_INFINITY),e.randomize??(e.randomize=!1),e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.shouldConsumeRetry??(e.shouldConsumeRetry=()=>!0),wy("factor",e.factor,{min:0,allowInfinity:!1}),wy("minTimeout",e.minTimeout,{min:0,allowInfinity:!1}),wy("maxTimeout",e.maxTimeout,{min:0,allowInfinity:!0}),wy("maxRetryTime",e.maxRetryTime,{min:0,allowInfinity:!0}),e.factor>0||(e.factor=1),(a=e.signal)==null||a.throwIfAborted();let n=0,r=0;const i=performance.now();for(;!Number.isFinite(e.retries)||r<=e.retries;){n++;try{(s=e.signal)==null||s.throwIfAborted();const l=await t(n);return(o=e.signal)==null||o.throwIfAborted(),l}catch(l){await Qpe({error:l,attemptNumber:n,retriesConsumed:r,startTime:i,options:e})&&r++}}throw new Error("Retry attempts exhausted without throwing an error.")}var eme={};bt(eme,{AsyncCaller:()=>kb});const tme=[400,401,402,403,404,405,406,407,409],nme=t=>{var n,r;if(t.message.startsWith("Cancel")||t.message.startsWith("AbortError")||t.name==="AbortError"||(t==null?void 0:t.code)==="ECONNABORTED")throw t;const e=((n=t==null?void 0:t.response)==null?void 0:n.status)??(t==null?void 0:t.status);if(e&&tme.includes(+e))throw t;if(((r=t==null?void 0:t.error)==null?void 0:r.code)==="insufficient_quota"){const i=new Error(t==null?void 0:t.message);throw i.name="InsufficientQuotaError",i}};var kb=class{constructor(t){H(this,"maxConcurrency");H(this,"maxRetries");H(this,"onFailedAttempt");H(this,"queue");this.maxConcurrency=t.maxConcurrency??1/0,this.maxRetries=t.maxRetries??6,this.onFailedAttempt=t.onFailedAttempt??nme;const e="default"in zs?zs.default:zs;this.queue=new e({concurrency:this.maxConcurrency})}call(t,...e){return this.queue.add(()=>aj(()=>t(...e).catch(n=>{throw n instanceof Error?n:new Error(n)}),{onFailedAttempt:({error:n})=>{var r;return(r=this.onFailedAttempt)==null?void 0:r.call(this,n)},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(t,e,...n){if(t.signal){let r;return Promise.race([this.call(e,...n),new Promise((i,a)=>{var s;r=()=>{a(f0(t.signal))},(s=t.signal)==null||s.addEventListener("abort",r)})]).finally(()=>{t.signal&&r&&t.signal.removeEventListener("abort",r)})}return this.call(e,...n)}fetch(...t){return this.call(()=>fetch(...t).then(e=>e.ok?e:Promise.reject(e)))}},R6=class extends Bf{constructor({config:e,onStart:n,onEnd:r,onError:i}){super({_awaitHandler:!0});H(this,"name","RootListenersTracer");H(this,"rootId");H(this,"config");H(this,"argOnStart");H(this,"argOnEnd");H(this,"argOnError");this.config=e,this.argOnStart=n,this.argOnEnd=r,this.argOnError=i}persistRun(e){return Promise.resolve()}async onRunCreate(e){this.rootId||(this.rootId=e.id,this.argOnStart&&await this.argOnStart(e,this.config))}async onRunUpdate(e){e.id===this.rootId&&(e.error?this.argOnError&&await this.argOnError(e,this.config):this.argOnEnd&&await this.argOnEnd(e,this.config))}};function CC(t){return t?t.lc_runnable:!1}var rme=class{constructor(t){H(this,"includeNames");H(this,"includeTypes");H(this,"includeTags");H(this,"excludeNames");H(this,"excludeTypes");H(this,"excludeTags");this.includeNames=t.includeNames,this.includeTypes=t.includeTypes,this.includeTags=t.includeTags,this.excludeNames=t.excludeNames,this.excludeTypes=t.excludeTypes,this.excludeTags=t.excludeTags}includeEvent(t,e){let n=this.includeNames===void 0&&this.includeTypes===void 0&&this.includeTags===void 0;const r=t.tags??[];return this.includeNames!==void 0&&(n=n||this.includeNames.includes(t.name)),this.includeTypes!==void 0&&(n=n||this.includeTypes.includes(e)),this.includeTags!==void 0&&(n=n||r.some(i=>{var a;return(a=this.includeTags)==null?void 0:a.includes(i)})),this.excludeNames!==void 0&&(n=n&&!this.excludeNames.includes(t.name)),this.excludeTypes!==void 0&&(n=n&&!this.excludeTypes.includes(e)),this.excludeTags!==void 0&&(n=n&&r.every(i=>{var a;return!((a=this.excludeTags)!=null&&a.includes(i))})),n}};function o1(t){return t.replace(/[^a-zA-Z-_0-9]/g,"_")}const ime=["*","_","`"];function ame(t){let e="";for(const[n,r]of Object.entries(t))e+=`	classDef ${n} ${r};
`;return e}function sme(t,e,n){const{firstNode:r,lastNode:i,nodeColors:a,withStyles:s=!0,curveStyle:o="linear",wrapLabelNWords:l=9}=n??{};let c=s?`%%{init: {'flowchart': {'curve': '${o}'}}}%%
graph TD;
`:`graph TD;
`;if(s){const p="default",m={[p]:"{0}({1})"};r!==void 0&&(m[r]="{0}([{1}]):::first"),i!==void 0&&(m[i]="{0}([{1}]):::last");for(const[g,x]of Object.entries(t)){const v=x.name.split(":").pop()??"";let y=ime.some(_=>v.startsWith(_)&&v.endsWith(_))?`<p>${v}</p>`:v;Object.keys(x.metadata??{}).length&&(y+=`<hr/><small><em>${Object.entries(x.metadata??{}).map(([_,E])=>`${_} = ${E}`).join(`
`)}</em></small>`);const w=(m[g]??m[p]).replace("{0}",o1(g)).replace("{1}",y);c+=`	${w}
`}}const d={};for(const p of e){const m=p.source.split(":"),g=p.target.split(":"),x=m.filter((v,b)=>v===g[b]).join(":");d[x]||(d[x]=[]),d[x].push(p)}const f=new Set;function h(p,m){const g=p.length===1&&p[0].source===p[0].target;if(m&&!g){const x=m.split(":").pop();if(f.has(x))throw new Error(`Found duplicate subgraph '${x}' -- this likely means that you're reusing a subgraph node with the same name. Please adjust your graph to have subgraph nodes with unique names.`);f.add(x),c+=`	subgraph ${x}
`}for(const x of p){const{source:v,target:b,data:y,conditional:w}=x;let _="";if(y!==void 0){let E=y;const A=E.split(" ");A.length>l&&(E=Array.from({length:Math.ceil(A.length/l)},(j,k)=>A.slice(k*l,(k+1)*l).join(" ")).join("&nbsp;<br>&nbsp;")),_=w?` -. &nbsp;${E}&nbsp; .-> `:` -- &nbsp;${E}&nbsp; --> `}else _=w?" -.-> ":" --> ";c+=`	${o1(v)}${_}${o1(b)};
`}for(const x in d)x.startsWith(`${m}:`)&&x!==m&&h(d[x],x);m&&!g&&(c+=`	end
`)}h(d[""]??[],"");for(const p in d)!p.includes(":")&&p!==""&&h(d[p],p);return s&&(c+=ame(a??{})),c}async function ome(t,e){let n=(e==null?void 0:e.backgroundColor)??"white";const r=(e==null?void 0:e.imageType)??"png",i=btoa(t);n!==void 0&&(/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(n)||(n=`!${n}`));const a=`https://mermaid.ink/img/${i}?bgColor=${n}&type=${r}`,s=await fetch(a);if(!s.ok)throw new Error(["Failed to render the graph using the Mermaid.INK API.",`Status code: ${s.status}`,`Status text: ${s.statusText}`].join(`
`));return await s.blob()}var lme={};bt(lme,{Graph:()=>OC});function cme(t,e){if(t!==void 0&&!lp(t))return t;if(CC(e))try{let n=e.getName();return n=n.startsWith("Runnable")?n.slice(8):n,n}catch{return e.getName()}else return e.name??"UnknownSchema"}function ume(t){return CC(t.data)?{type:"runnable",data:{id:t.data.lc_id,name:t.data.getName()}}:{type:"schema",data:{..._l(t.data.schema),title:t.data.name}}}var OC=class M6{constructor(e){H(this,"nodes",{});H(this,"edges",[]);this.nodes=(e==null?void 0:e.nodes)??this.nodes,this.edges=(e==null?void 0:e.edges)??this.edges}toJSON(){const e={};return Object.values(this.nodes).forEach((n,r)=>{e[n.id]=lp(n.id)?r:n.id}),{nodes:Object.values(this.nodes).map(n=>({id:e[n.id],...ume(n)})),edges:this.edges.map(n=>{const r={source:e[n.source],target:e[n.target]};return typeof n.data<"u"&&(r.data=n.data),typeof n.conditional<"u"&&(r.conditional=n.conditional),r})}}addNode(e,n,r){if(n!==void 0&&this.nodes[n]!==void 0)throw new Error(`Node with id ${n} already exists`);const i=n??Er(),a={id:i,data:e,name:cme(n,e),metadata:r};return this.nodes[i]=a,a}removeNode(e){delete this.nodes[e.id],this.edges=this.edges.filter(n=>n.source!==e.id&&n.target!==e.id)}addEdge(e,n,r,i){if(this.nodes[e.id]===void 0)throw new Error(`Source node ${e.id} not in graph`);if(this.nodes[n.id]===void 0)throw new Error(`Target node ${n.id} not in graph`);const a={source:e.id,target:n.id,data:r,conditional:i};return this.edges.push(a),a}firstNode(){return L$(this)}lastNode(){return F$(this)}extend(e,n=""){let r=n;Object.values(e.nodes).map(c=>c.id).every(lp)&&(r="");const a=c=>r?`${r}:${c}`:c;Object.entries(e.nodes).forEach(([c,d])=>{this.nodes[a(c)]={...d,id:a(c)}});const s=e.edges.map(c=>({...c,source:a(c.source),target:a(c.target)}));this.edges=[...this.edges,...s];const o=e.firstNode(),l=e.lastNode();return[o?{id:a(o.id),data:o.data}:void 0,l?{id:a(l.id),data:l.data}:void 0]}trimFirstNode(){const e=this.firstNode();e&&L$(this,[e.id])&&this.removeNode(e)}trimLastNode(){const e=this.lastNode();e&&F$(this,[e.id])&&this.removeNode(e)}reid(){const e=Object.fromEntries(Object.values(this.nodes).map(i=>[i.id,i.name])),n=new Map;Object.values(e).forEach(i=>{n.set(i,(n.get(i)||0)+1)});const r=i=>{const a=e[i];return lp(i)&&n.get(a)===1?a:i};return new M6({nodes:Object.fromEntries(Object.entries(this.nodes).map(([i,a])=>[r(i),{...a,id:r(i)}])),edges:this.edges.map(i=>({...i,source:r(i.source),target:r(i.target)}))})}drawMermaid(e){const{withStyles:n,curveStyle:r,nodeColors:i={default:"fill:#f2f0ff,line-height:1.2",first:"fill-opacity:0",last:"fill:#bfb6fc"},wrapLabelNWords:a}=e??{},s=this.reid(),o=s.firstNode(),l=s.lastNode();return sme(s.nodes,s.edges,{firstNode:o==null?void 0:o.id,lastNode:l==null?void 0:l.id,withStyles:n,curveStyle:r,nodeColors:i,wrapLabelNWords:a})}async drawMermaidPng(e){const n=this.drawMermaid(e);return ome(n,{backgroundColor:e==null?void 0:e.backgroundColor})}};function L$(t,e=[]){const n=new Set(t.edges.filter(i=>!e.includes(i.source)).map(i=>i.target)),r=[];for(const i of Object.values(t.nodes))!e.includes(i.id)&&!n.has(i.id)&&r.push(i);return r.length===1?r[0]:void 0}function F$(t,e=[]){const n=new Set(t.edges.filter(i=>!e.includes(i.target)).map(i=>i.source)),r=[];for(const i of Object.values(t.nodes))!e.includes(i.id)&&!n.has(i.id)&&r.push(i);return r.length===1?r[0]:void 0}function dme(t){const e=new TextEncoder,n=new ReadableStream({async start(r){for await(const i of t)r.enqueue(e.encode(`event: data
data: ${JSON.stringify(i)}

`));r.enqueue(e.encode(`event: end

`)),r.close()}});return ba.fromReadableStream(n)}function B$(t){return typeof t=="object"&&t!==null&&typeof t[Symbol.iterator]=="function"&&typeof t.next=="function"}const fme=t=>t!=null&&typeof t=="object"&&"next"in t&&typeof t.next=="function";function sj(t){return typeof t=="object"&&t!==null&&typeof t[Symbol.asyncIterator]=="function"}function*z$(t,e){for(;;){const{value:n,done:r}=ro.runWithConfig(Bc(t),e.next.bind(e),!0);if(r)break;yield n}}async function*oj(t,e){const n=e[Symbol.asyncIterator]();for(;;){const{value:r,done:i}=await ro.runWithConfig(Bc(t),n.next.bind(e),!0);if(i)break;yield r}}function _n(t,e){return t&&!Array.isArray(t)&&!(t instanceof Date)&&typeof t=="object"?t:{[e]:t}}var fn=class extends Gd{constructor(){super(...arguments);H(this,"lc_runnable",!0);H(this,"name")}getName(e){const n=this.name??this.constructor.lc_name()??this.constructor.name;return e?`${n}${e}`:n}withRetry(e){return new NC({bound:this,kwargs:{},config:{},maxAttemptNumber:e==null?void 0:e.stopAfterAttempt,...e})}withConfig(e){return new Xd({bound:this,config:e,kwargs:{}})}withFallbacks(e){const n=Array.isArray(e)?e:e.fallbacks;return new U6({runnable:this,fallbacks:n})}_getOptionsList(e,n=0){if(Array.isArray(e)&&e.length!==n)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${n} inputs`);if(Array.isArray(e))return e.map(pt);if(n>1&&!Array.isArray(e)&&e.runId){console.warn("Provided runId will be used only for the first element of the batch.");const r=Object.fromEntries(Object.entries(e).filter(([i])=>i!=="runId"));return Array.from({length:n},(i,a)=>pt(a===0?e:r))}return Array.from({length:n},()=>pt(e))}async batch(e,n,r){var l;const i=this._getOptionsList(n??{},e.length),a=((l=i[0])==null?void 0:l.maxConcurrency)??(r==null?void 0:r.maxConcurrency),s=new kb({maxConcurrency:a,onFailedAttempt:c=>{throw c}}),o=e.map((c,d)=>s.call(async()=>{try{return await this.invoke(c,i[d])}catch(f){if(r!=null&&r.returnExceptions)return f;throw f}}));return Promise.all(o)}async*_streamIterator(e,n){yield this.invoke(e,n)}async stream(e,n){const r=pt(n),i=new ru({generator:this._streamIterator(e,r),config:r});return await i.setup,ba.fromAsyncGenerator(i)}_separateRunnableConfigFromCallOptions(e){let n;e===void 0?n=pt(e):n=pt({callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName,configurable:e.configurable,recursionLimit:e.recursionLimit,maxConcurrency:e.maxConcurrency,runId:e.runId,timeout:e.timeout,signal:e.signal});const r={...e};return delete r.callbacks,delete r.tags,delete r.metadata,delete r.runName,delete r.configurable,delete r.recursionLimit,delete r.maxConcurrency,delete r.runId,delete r.timeout,delete r.signal,[n,r]}async _callWithConfig(e,n,r){const i=pt(r),a=await ri(i),s=await(a==null?void 0:a.handleChainStart(this.toJSON(),_n(n,"input"),i.runId,i==null?void 0:i.runType,void 0,void 0,(i==null?void 0:i.runName)??this.getName()));delete i.runId;let o;try{const l=e.call(this,n,i,s);o=await io(l,r==null?void 0:r.signal)}catch(l){throw await(s==null?void 0:s.handleChainError(l)),l}return await(s==null?void 0:s.handleChainEnd(_n(o,"output"))),o}async _batchWithConfig(e,n,r,i){var c;const a=this._getOptionsList(r??{},n.length),s=await Promise.all(a.map(ri)),o=await Promise.all(s.map(async(d,f)=>{const h=await(d==null?void 0:d.handleChainStart(this.toJSON(),_n(n[f],"input"),a[f].runId,a[f].runType,void 0,void 0,a[f].runName??this.getName()));return delete a[f].runId,h}));let l;try{const d=e.call(this,n,a,o,i);l=await io(d,(c=a==null?void 0:a[0])==null?void 0:c.signal)}catch(d){throw await Promise.all(o.map(f=>f==null?void 0:f.handleChainError(d))),d}return await Promise.all(o.map(d=>d==null?void 0:d.handleChainEnd(_n(l,"output")))),l}_concatOutputChunks(e,n){return zc(e,n)}async*_transformStreamWithConfig(e,n,r){let i,a=!0,s,o=!0;const l=pt(r),c=await ri(l),d=this;async function*f(){for await(const p of e){if(a)if(i===void 0)i=p;else try{i=d._concatOutputChunks(i,p)}catch{i=void 0,a=!1}yield p}}let h;try{const p=await A6(n.bind(this),f(),async()=>c==null?void 0:c.handleChainStart(this.toJSON(),{input:""},l.runId,l.runType,void 0,void 0,l.runName??this.getName()),r==null?void 0:r.signal,l);delete l.runId,h=p.setup;const m=h==null?void 0:h.handlers.find(Vpe);let g=p.output;m!==void 0&&h!==void 0&&(g=m.tapOutputIterable(h.runId,g));const x=h==null?void 0:h.handlers.find($6);x!==void 0&&h!==void 0&&(g=x.tapOutputIterable(h.runId,g));for await(const v of g)if(yield v,o)if(s===void 0)s=v;else try{s=this._concatOutputChunks(s,v)}catch{s=void 0,o=!1}}catch(p){throw await(h==null?void 0:h.handleChainError(p,void 0,void 0,void 0,{inputs:_n(i,"input")})),p}await(h==null?void 0:h.handleChainEnd(s??{},void 0,void 0,void 0,{inputs:_n(i,"input")}))}getGraph(e){const n=new OC,r=n.addNode({name:`${this.getName()}Input`,schema:O2()}),i=n.addNode(this),a=n.addNode({name:`${this.getName()}Output`,schema:O2()});return n.addEdge(r,i),n.addEdge(i,a),n}pipe(e){return new mg({first:this,last:aa(e)})}pick(e){return this.pipe(new H6(e))}assign(e){return this.pipe(new PC(new zf({steps:e})))}async*transform(e,n){let r;for await(const i of e)r===void 0?r=i:r=this._concatOutputChunks(r,i);yield*this._streamIterator(r,pt(n))}async*streamLog(e,n,r){const i=new ij({...r,autoClose:!1,_schemaFormat:"original"}),a=pt(n);yield*this._streamLog(e,i,a)}async*_streamLog(e,n,r){const{callbacks:i}=r;if(i===void 0)r.callbacks=[n];else if(Array.isArray(i))r.callbacks=i.concat([n]);else{const l=i.copy();l.addHandler(n,!0),r.callbacks=l}const a=this.stream(e,r);async function s(){try{const l=await a;for await(const c of l){const d=new Ns({ops:[{op:"add",path:"/streamed_output/-",value:c}]});await n.writer.write(d)}}finally{await n.writer.close()}}const o=s();try{for await(const l of n)yield l}finally{await o}}streamEvents(e,n,r){let i;if(n.version==="v1")i=this._streamEventsV1(e,n,r);else if(n.version==="v2")i=this._streamEventsV2(e,n,r);else throw new Error('Only versions "v1" and "v2" of the schema are currently supported.');return n.encoding==="text/event-stream"?dme(i):ba.fromAsyncGenerator(i)}async*_streamEventsV2(e,n,r){var m;const i=new Wpe({...r,autoClose:!1}),a=pt(n),s=a.runId??Er();a.runId=s;const o=a.callbacks;if(o===void 0)a.callbacks=[i];else if(Array.isArray(o))a.callbacks=o.concat(i);else{const g=o.copy();g.addHandler(i,!0),a.callbacks=g}const l=new AbortController,c=this;async function d(){let g,x=null;try{n!=null&&n.signal?"any"in AbortSignal?g=AbortSignal.any([l.signal,n.signal]):(g=n.signal,x=()=>{l.abort()},n.signal.addEventListener("abort",x,{once:!0})):g=l.signal;const v=await c.stream(e,{...a,signal:g}),b=i.tapOutputIterable(s,v);for await(const y of b)if(l.signal.aborted)break}finally{await i.finish(),g&&x&&g.removeEventListener("abort",x)}}const f=d();let h=!1,p;try{for await(const g of i){if(!h){g.data.input=e,h=!0,p=g.run_id,yield g;continue}g.run_id===p&&g.event.endsWith("_end")&&(m=g.data)!=null&&m.input&&delete g.data.input,yield g}}finally{l.abort(),await f}}async*_streamEventsV1(e,n,r){let i,a=!1;const s=pt(n),o=s.tags??[],l=s.metadata??{},c=s.runName??this.getName(),d=new ij({...r,autoClose:!1,_schemaFormat:"streaming_events"}),f=new rme({...r}),h=this._streamLog(e,d,s);for await(const m of h){if(i?i=i.concat(m):i=TC.fromRunLogPatch(m),i.state===void 0)throw new Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!a){a=!0;const b={...i.state},y={run_id:b.id,event:`on_${b.type}_start`,name:c,tags:o,metadata:l,data:{input:e}};f.includeEvent(y,b.type)&&(yield y)}const g=m.ops.filter(b=>b.path.startsWith("/logs/")).map(b=>b.path.split("/")[2]),x=[...new Set(g)];for(const b of x){let y,w={};const _=i.state.logs[b];if(_.end_time===void 0?_.streamed_output.length>0?y="stream":y="start":y="end",y==="start")_.inputs!==void 0&&(w.input=_.inputs);else if(y==="end")_.inputs!==void 0&&(w.input=_.inputs),w.output=_.final_output;else if(y==="stream"){const E=_.streamed_output.length;if(E!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${E} instead. Encountered in: "${_.name}"`);w={chunk:_.streamed_output[0]},_.streamed_output=[]}yield{event:`on_${_.type}_${y}`,name:_.name,run_id:_.id,tags:_.tags,metadata:_.metadata,data:w}}const{state:v}=i;if(v.streamed_output.length>0){const b=v.streamed_output.length;if(b!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${b} instead. Encountered in: "${v.name}"`);const y={chunk:v.streamed_output[0]};v.streamed_output=[];const w={event:`on_${v.type}_stream`,run_id:v.id,tags:o,metadata:l,name:c,data:y};f.includeEvent(w,v.type)&&(yield w)}}const p=i==null?void 0:i.state;if(p!==void 0){const m={event:`on_${p.type}_end`,name:c,run_id:p.id,tags:o,metadata:l,data:{output:p.final_output}};f.includeEvent(m,p.type)&&(yield m)}}static isRunnable(e){return CC(e)}withListeners({onStart:e,onEnd:n,onError:r}){return new Xd({bound:this,config:{},configFactories:[i=>({callbacks:[new R6({config:i,onStart:e,onEnd:n,onError:r})]})]})}asTool(e){return yme(this,e)}},Xd=class D6 extends fn{constructor(n){super(n);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"lc_serializable",!0);H(this,"bound");H(this,"config");H(this,"kwargs");H(this,"configFactories");this.bound=n.bound,this.kwargs=n.kwargs,this.config=n.config,this.configFactories=n.configFactories}static lc_name(){return"RunnableBinding"}getName(n){return this.bound.getName(n)}async _mergeConfig(...n){const r=XE(this.config,...n);return XE(r,...this.configFactories?await Promise.all(this.configFactories.map(async i=>await i(r))):[])}withConfig(n){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...n}})}withRetry(n){return new NC({bound:this.bound,kwargs:this.kwargs,config:this.config,maxAttemptNumber:n==null?void 0:n.stopAfterAttempt,...n})}async invoke(n,r){return this.bound.invoke(n,await this._mergeConfig(r,this.kwargs))}async batch(n,r,i){const a=Array.isArray(r)?await Promise.all(r.map(async s=>this._mergeConfig(pt(s),this.kwargs))):await this._mergeConfig(pt(r),this.kwargs);return this.bound.batch(n,a,i)}_concatOutputChunks(n,r){return this.bound._concatOutputChunks(n,r)}async*_streamIterator(n,r){yield*this.bound._streamIterator(n,await this._mergeConfig(pt(r),this.kwargs))}async stream(n,r){return this.bound.stream(n,await this._mergeConfig(pt(r),this.kwargs))}async*transform(n,r){yield*this.bound.transform(n,await this._mergeConfig(pt(r),this.kwargs))}streamEvents(n,r,i){const a=this,s=async function*(){yield*a.bound.streamEvents(n,{...await a._mergeConfig(pt(r),a.kwargs),version:r.version},i)};return ba.fromAsyncGenerator(s())}static isRunnableBinding(n){return n.bound&&fn.isRunnable(n.bound)}withListeners({onStart:n,onEnd:r,onError:i}){return new D6({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[a=>({callbacks:[new R6({config:a,onStart:n,onEnd:r,onError:i})]})]})}},hme=class L6 extends fn{constructor(n){super(n);H(this,"lc_serializable",!0);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"bound");this.bound=n.bound}static lc_name(){return"RunnableEach"}async invoke(n,r){return this._callWithConfig(this._invoke.bind(this),n,r)}async _invoke(n,r,i){return this.bound.batch(n,Zt(r,{callbacks:i==null?void 0:i.getChild()}))}withListeners({onStart:n,onEnd:r,onError:i}){return new L6({bound:this.bound.withListeners({onStart:n,onEnd:r,onError:i})})}},NC=class extends Xd{constructor(e){super(e);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"maxAttemptNumber",3);H(this,"onFailedAttempt",()=>{});this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}static lc_name(){return"RunnableRetry"}_patchConfigForRetry(e,n,r){const i=e>1?`retry:attempt:${e}`:void 0;return Zt(n,{callbacks:r==null?void 0:r.getChild(i)})}async _invoke(e,n,r){return aj(i=>super.invoke(e,this._patchConfigForRetry(i,n,r)),{onFailedAttempt:({error:i})=>this.onFailedAttempt(i,e),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,n){return this._callWithConfig(this._invoke.bind(this),e,n)}async _batch(e,n,r,i){const a={};try{await aj(async s=>{const o=e.map((h,p)=>p).filter(h=>a[h.toString()]===void 0||a[h.toString()]instanceof Error),l=o.map(h=>e[h]),c=o.map(h=>this._patchConfigForRetry(s,n==null?void 0:n[h],r==null?void 0:r[h])),d=await super.batch(l,c,{...i,returnExceptions:!0});let f;for(let h=0;h<d.length;h+=1){const p=d[h],m=o[h];p instanceof Error&&f===void 0&&(f=p,f.input=l[h]),a[m.toString()]=p}if(f)throw f;return d},{onFailedAttempt:({error:s})=>this.onFailedAttempt(s,s.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(s){if((i==null?void 0:i.returnExceptions)!==!0)throw s}return Object.keys(a).sort((s,o)=>parseInt(s,10)-parseInt(o,10)).map(s=>a[parseInt(s,10)])}async batch(e,n,r){return this._batchWithConfig(this._batch.bind(this),e,n,r)}},mg=class Uh extends fn{constructor(n){super(n);H(this,"first");H(this,"middle",[]);H(this,"last");H(this,"omitSequenceTags",!1);H(this,"lc_serializable",!0);H(this,"lc_namespace",["langchain_core","runnables"]);this.first=n.first,this.middle=n.middle??this.middle,this.last=n.last,this.name=n.name,this.omitSequenceTags=n.omitSequenceTags??this.omitSequenceTags}static lc_name(){return"RunnableSequence"}get steps(){return[this.first,...this.middle,this.last]}async invoke(n,r){var c;const i=pt(r),a=await ri(i),s=await(a==null?void 0:a.handleChainStart(this.toJSON(),_n(n,"input"),i.runId,void 0,void 0,void 0,i==null?void 0:i.runName));delete i.runId;let o=n,l;try{const d=[this.first,...this.middle];for(let f=0;f<d.length;f+=1){const p=d[f].invoke(o,Zt(i,{callbacks:s==null?void 0:s.getChild(this.omitSequenceTags?void 0:`seq:step:${f+1}`)}));o=await io(p,r==null?void 0:r.signal)}if((c=r==null?void 0:r.signal)!=null&&c.aborted)throw f0(r.signal);l=await this.last.invoke(o,Zt(i,{callbacks:s==null?void 0:s.getChild(this.omitSequenceTags?void 0:`seq:step:${this.steps.length}`)}))}catch(d){throw await(s==null?void 0:s.handleChainError(d)),d}return await(s==null?void 0:s.handleChainEnd(_n(l,"output"))),l}async batch(n,r,i){var c;const a=this._getOptionsList(r??{},n.length),s=await Promise.all(a.map(ri)),o=await Promise.all(s.map(async(d,f)=>{const h=await(d==null?void 0:d.handleChainStart(this.toJSON(),_n(n[f],"input"),a[f].runId,void 0,void 0,void 0,a[f].runName));return delete a[f].runId,h}));let l=n;try{for(let d=0;d<this.steps.length;d+=1){const h=this.steps[d].batch(l,o.map((p,m)=>{const g=p==null?void 0:p.getChild(this.omitSequenceTags?void 0:`seq:step:${d+1}`);return Zt(a[m],{callbacks:g})}),i);l=await io(h,(c=a[0])==null?void 0:c.signal)}}catch(d){throw await Promise.all(o.map(f=>f==null?void 0:f.handleChainError(d))),d}return await Promise.all(o.map(d=>d==null?void 0:d.handleChainEnd(_n(l,"output")))),l}_concatOutputChunks(n,r){return this.last._concatOutputChunks(n,r)}async*_streamIterator(n,r){var h;const i=await ri(r),{runId:a,...s}=r??{},o=await(i==null?void 0:i.handleChainStart(this.toJSON(),_n(n,"input"),a,void 0,void 0,void 0,s==null?void 0:s.runName)),l=[this.first,...this.middle,this.last];let c=!0,d;async function*f(){yield n}try{let p=l[0].transform(f(),Zt(s,{callbacks:o==null?void 0:o.getChild(this.omitSequenceTags?void 0:"seq:step:1")}));for(let m=1;m<l.length;m+=1)p=await l[m].transform(p,Zt(s,{callbacks:o==null?void 0:o.getChild(this.omitSequenceTags?void 0:`seq:step:${m+1}`)}));for await(const m of p)if((h=r==null?void 0:r.signal)==null||h.throwIfAborted(),yield m,c)if(d===void 0)d=m;else try{d=this._concatOutputChunks(d,m)}catch{d=void 0,c=!1}}catch(p){throw await(o==null?void 0:o.handleChainError(p)),p}await(o==null?void 0:o.handleChainEnd(_n(d,"output")))}getGraph(n){const r=new OC;let i=null;return this.steps.forEach((a,s)=>{const o=a.getGraph(n);s!==0&&o.trimFirstNode(),s!==this.steps.length-1&&o.trimLastNode(),r.extend(o);const l=o.firstNode();if(!l)throw new Error(`Runnable ${a} has no first node`);i&&r.addEdge(i,l),i=o.lastNode()}),r}pipe(n){return Uh.isRunnableSequence(n)?new Uh({first:this.first,middle:this.middle.concat([this.last,n.first,...n.middle]),last:n.last,name:this.name??n.name}):new Uh({first:this.first,middle:[...this.middle,this.last],last:aa(n),name:this.name})}static isRunnableSequence(n){return Array.isArray(n.middle)&&fn.isRunnable(n)}static from([n,...r],i){let a={};return typeof i=="string"?a.name=i:i!==void 0&&(a=i),new Uh({...a,first:aa(n),middle:r.slice(0,-1).map(aa),last:aa(r[r.length-1])})}},zf=class F6 extends fn{constructor(n){super(n);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"lc_serializable",!0);H(this,"steps");this.steps={};for(const[r,i]of Object.entries(n.steps))this.steps[r]=aa(i)}static lc_name(){return"RunnableMap"}getStepsKeys(){return Object.keys(this.steps)}static from(n){return new F6({steps:n})}async invoke(n,r){const i=pt(r),a=await ri(i),s=await(a==null?void 0:a.handleChainStart(this.toJSON(),{input:n},i.runId,void 0,void 0,void 0,i==null?void 0:i.runName));delete i.runId;const o={};try{const l=Object.entries(this.steps).map(async([c,d])=>{o[c]=await d.invoke(n,Zt(i,{callbacks:s==null?void 0:s.getChild(`map:key:${c}`)}))});await io(Promise.all(l),r==null?void 0:r.signal)}catch(l){throw await(s==null?void 0:s.handleChainError(l)),l}return await(s==null?void 0:s.handleChainEnd(o)),o}async*_transform(n,r,i){const a={...this.steps},s=AC(n,Object.keys(a).length),o=new Map(Object.entries(a).map(([l,c],d)=>{const f=c.transform(s[d],Zt(i,{callbacks:r==null?void 0:r.getChild(`map:key:${l}`)}));return[l,f.next().then(h=>({key:l,gen:f,result:h}))]}));for(;o.size;){const l=Promise.race(o.values()),{key:c,result:d,gen:f}=await io(l,i==null?void 0:i.signal);o.delete(c),d.done||(yield{[c]:d.value},o.set(c,f.next().then(h=>({key:c,gen:f,result:h}))))}}transform(n,r){return this._transformStreamWithConfig(n,this._transform.bind(this),r)}async stream(n,r){async function*i(){yield n}const a=pt(r),s=new ru({generator:this.transform(i(),a),config:a});return await s.setup,ba.fromAsyncGenerator(s)}},pme=class B6 extends fn{constructor(n){super(n);H(this,"lc_serializable",!1);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"func");if(!jC(n.func))throw new Error("RunnableTraceable requires a function that is wrapped in traceable higher-order function");this.func=n.func}async invoke(n,r){const[i]=this._getOptionsList(r??{},1),a=await ri(i),s=this.func(Zt(i,{callbacks:a}),n);return io(s,i==null?void 0:i.signal)}async*_streamIterator(n,r){var s,o;const[i]=this._getOptionsList(r??{},1),a=await this.invoke(n,r);if(sj(a)){for await(const l of a)(s=i==null?void 0:i.signal)==null||s.throwIfAborted(),yield l;return}if(fme(a)){for(;;){(o=i==null?void 0:i.signal)==null||o.throwIfAborted();const l=a.next();if(l.done)break;yield l.value}return}yield a}static from(n){return new B6({func:n})}};function mme(t){if(jC(t))throw new Error("RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.")}var Ml=class z6 extends fn{constructor(n){if(jC(n.func))return pme.from(n.func);super(n);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"func");mme(n.func),this.func=n.func}static lc_name(){return"RunnableLambda"}static from(n){return new z6({func:n})}async _invoke(n,r,i){return new Promise((a,s)=>{const o=Zt(r,{callbacks:i==null?void 0:i.getChild(),recursionLimit:((r==null?void 0:r.recursionLimit)??s1)-1});ro.runWithConfig(Bc(o),async()=>{var l,c;try{let d=await this.func(n,{...o});if(d&&fn.isRunnable(d)){if((r==null?void 0:r.recursionLimit)===0)throw new Error("Recursion limit reached.");d=await d.invoke(n,{...o,recursionLimit:(o.recursionLimit??s1)-1})}else if(sj(d)){let f;for await(const h of oj(o,d))if((l=r==null?void 0:r.signal)==null||l.throwIfAborted(),f===void 0)f=h;else try{f=this._concatOutputChunks(f,h)}catch{f=h}d=f}else if(B$(d)){let f;for(const h of z$(o,d))if((c=r==null?void 0:r.signal)==null||c.throwIfAborted(),f===void 0)f=h;else try{f=this._concatOutputChunks(f,h)}catch{f=h}d=f}a(d)}catch(d){s(d)}})})}async invoke(n,r){return this._callWithConfig(this._invoke.bind(this),n,r)}async*_transform(n,r,i){var l,c;let a;for await(const d of n)if(a===void 0)a=d;else try{a=this._concatOutputChunks(a,d)}catch{a=d}const s=Zt(i,{callbacks:r==null?void 0:r.getChild(),recursionLimit:((i==null?void 0:i.recursionLimit)??s1)-1}),o=await new Promise((d,f)=>{ro.runWithConfig(Bc(s),async()=>{try{const h=await this.func(a,{...s,config:s});d(h)}catch(h){f(h)}})});if(o&&fn.isRunnable(o)){if((i==null?void 0:i.recursionLimit)===0)throw new Error("Recursion limit reached.");const d=await o.stream(a,s);for await(const f of d)yield f}else if(sj(o))for await(const d of oj(s,o))(l=i==null?void 0:i.signal)==null||l.throwIfAborted(),yield d;else if(B$(o))for(const d of z$(s,o))(c=i==null?void 0:i.signal)==null||c.throwIfAborted(),yield d;else yield o}transform(n,r){return this._transformStreamWithConfig(n,this._transform.bind(this),r)}async stream(n,r){async function*i(){yield n}const a=pt(r),s=new ru({generator:this.transform(i(),a),config:a});return await s.setup,ba.fromAsyncGenerator(s)}},gme=class extends zf{},U6=class extends fn{constructor(e){super(e);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"lc_serializable",!0);H(this,"runnable");H(this,"fallbacks");this.runnable=e.runnable,this.fallbacks=e.fallbacks}static lc_name(){return"RunnableWithFallbacks"}*runnables(){yield this.runnable;for(const e of this.fallbacks)yield e}async invoke(e,n){const r=pt(n),i=await ri(r),{runId:a,...s}=r,o=await(i==null?void 0:i.handleChainStart(this.toJSON(),_n(e,"input"),a,void 0,void 0,void 0,s==null?void 0:s.runName)),l=Zt(s,{callbacks:o==null?void 0:o.getChild()});return await ro.runWithConfig(l,async()=>{var f;let d;for(const h of this.runnables()){(f=r==null?void 0:r.signal)==null||f.throwIfAborted();try{const p=await h.invoke(e,l);return await(o==null?void 0:o.handleChainEnd(_n(p,"output"))),p}catch(p){d===void 0&&(d=p)}}throw d===void 0?new Error("No error stored at end of fallback."):(await(o==null?void 0:o.handleChainError(d)),d)})}async*_streamIterator(e,n){var f;const r=pt(n),i=await ri(r),{runId:a,...s}=r,o=await(i==null?void 0:i.handleChainStart(this.toJSON(),_n(e,"input"),a,void 0,void 0,void 0,s==null?void 0:s.runName));let l,c;for(const h of this.runnables()){(f=r==null?void 0:r.signal)==null||f.throwIfAborted();const p=Zt(s,{callbacks:o==null?void 0:o.getChild()});try{const m=await h.stream(e,p);c=oj(p,m);break}catch(m){l===void 0&&(l=m)}}if(c===void 0){const h=l??new Error("No error stored at end of fallback.");throw await(o==null?void 0:o.handleChainError(h)),h}let d;try{for await(const h of c){yield h;try{d=d===void 0?d:this._concatOutputChunks(d,h)}catch{d=void 0}}}catch(h){throw await(o==null?void 0:o.handleChainError(h)),h}await(o==null?void 0:o.handleChainEnd(_n(d,"output")))}async batch(e,n,r){var l;if(r!=null&&r.returnExceptions)throw new Error("Not implemented.");const i=this._getOptionsList(n??{},e.length),a=await Promise.all(i.map(c=>ri(c))),s=await Promise.all(a.map(async(c,d)=>{const f=await(c==null?void 0:c.handleChainStart(this.toJSON(),_n(e[d],"input"),i[d].runId,void 0,void 0,void 0,i[d].runName));return delete i[d].runId,f}));let o;for(const c of this.runnables()){(l=i[0].signal)==null||l.throwIfAborted();try{const d=await c.batch(e,s.map((f,h)=>Zt(i[h],{callbacks:f==null?void 0:f.getChild()})),r);return await Promise.all(s.map((f,h)=>f==null?void 0:f.handleChainEnd(_n(d[h],"output")))),d}catch(d){o===void 0&&(o=d)}}throw o?(await Promise.all(s.map(c=>c==null?void 0:c.handleChainError(o))),o):new Error("No error stored at end of fallbacks.")}};function aa(t){if(typeof t=="function")return new Ml({func:t});if(fn.isRunnable(t))return t;if(!Array.isArray(t)&&typeof t=="object"){const e={};for(const[n,r]of Object.entries(t))e[n]=aa(r);return new zf({steps:e})}else throw new Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}var PC=class extends fn{constructor(e){e instanceof zf&&(e={mapper:e});super(e);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"lc_serializable",!0);H(this,"mapper");this.mapper=e.mapper}static lc_name(){return"RunnableAssign"}async invoke(e,n){const r=await this.mapper.invoke(e,n);return{...e,...r}}async*_transform(e,n,r){const i=this.mapper.getStepsKeys(),[a,s]=AC(e),o=this.mapper.transform(s,Zt(r,{callbacks:n==null?void 0:n.getChild()})),l=o.next();for await(const c of a){if(typeof c!="object"||Array.isArray(c))throw new Error(`RunnableAssign can only be used with objects as input, got ${typeof c}`);const d=Object.fromEntries(Object.entries(c).filter(([f])=>!i.includes(f)));Object.keys(d).length>0&&(yield d)}yield(await l).value;for await(const c of o)yield c}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=pt(n),a=new ru({generator:this.transform(r(),i),config:i});return await a.setup,ba.fromAsyncGenerator(a)}},H6=class extends fn{constructor(e){(typeof e=="string"||Array.isArray(e))&&(e={keys:e});super(e);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"lc_serializable",!0);H(this,"keys");this.keys=e.keys}static lc_name(){return"RunnablePick"}async _pick(e){if(typeof this.keys=="string")return e[this.keys];{const n=this.keys.map(r=>[r,e[r]]).filter(r=>r[1]!==void 0);return n.length===0?void 0:Object.fromEntries(n)}}async invoke(e,n){return this._callWithConfig(this._pick.bind(this),e,n)}async*_transform(e){for await(const n of e){const r=await this._pick(n);r!==void 0&&(yield r)}}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=pt(n),a=new ru({generator:this.transform(r(),i),config:i});return await a.setup,ba.fromAsyncGenerator(a)}},lj=class extends Xd{constructor(e){const n=mg.from([Ml.from(async r=>{let i;if(PU(r))try{i=await XT(this.schema,r.args)}catch{throw new fce("Received tool input did not match expected schema",JSON.stringify(r.args))}else i=r;return i}).withConfig({runName:`${e.name}:parse_input`}),e.bound]).withConfig({runName:e.name});super({bound:n,config:e.config??{}});H(this,"name");H(this,"description");H(this,"schema");this.name=e.name,this.description=e.description,this.schema=e.schema}static lc_name(){return"RunnableToolLike"}};function yme(t,e){const n=e.name??t.getName(),r=e.description??ZT(e.schema);return Xz(e.schema)?new lj({name:n,description:r,schema:tC({input:eC()}).transform(i=>i.input),bound:t}):new lj({name:n,description:r,schema:e.schema,bound:t})}const m0=(t,e)=>{const n=[...new Set(e==null?void 0:e.map(i=>{if(typeof i=="string")return i;const a=new i({});if(!("getType"in a)||typeof a.getType!="function")throw new Error("Invalid type provided.");return a.getType()}))],r=t.getType();return n.some(i=>i===r)};function vme(t,e){return Array.isArray(t)?U$(t,e):Ml.from(n=>U$(n,t))}function U$(t,e={}){const{includeNames:n,excludeNames:r,includeTypes:i,excludeTypes:a,includeIds:s,excludeIds:o}=e,l=[];for(const c of t)if(!(r&&c.name&&r.includes(c.name))){{if(a&&m0(c,a))continue;if(o&&c.id&&o.includes(c.id))continue}i||s||n?(n&&c.name&&n.some(d=>d===c.name)||i&&m0(c,i)||s&&c.id&&s.some(d=>d===c.id))&&l.push(c):l.push(c)}return l}function xme(t){return Array.isArray(t)?H$(t):Ml.from(H$)}function H$(t){if(!t.length)return[];const e=[];for(const n of t){const r=n,i=e.pop();if(!i)e.push(r);else if(r.getType()==="tool"||r.getType()!==i.getType())e.push(i,r);else{const a=c0(i),s=c0(r),o=a.concat(s);typeof a.content=="string"&&typeof s.content=="string"&&(o.content=`${a.content}
${s.content}`),e.push(_me(o))}}return e}function bme(t,e){if(Array.isArray(t)){const n=t;if(!e)throw new Error("Options parameter is required when providing messages.");return V$(n,e)}else{const n=t;return Ml.from(r=>V$(r,n)).withConfig({runName:"trim_messages"})}}async function V$(t,e){const{maxTokens:n,tokenCounter:r,strategy:i="last",allowPartial:a=!1,endOn:s,startOn:o,includeSystem:l=!1,textSplitter:c}=e;if(o&&i==="first")throw new Error("`startOn` should only be specified if `strategy` is 'last'.");if(l&&i==="first")throw new Error("`includeSystem` should only be specified if `strategy` is 'last'.");let d;"getNumTokens"in r?d=async h=>(await Promise.all(h.map(m=>r.getNumTokens(m.content)))).reduce((m,g)=>m+g,0):d=async h=>r(h);let f=W6;if(c&&("splitText"in c?f=c.splitText:f=async h=>c(h)),i==="first")return V6(t,{maxTokens:n,tokenCounter:d,textSplitter:f,partialStrategy:a?"first":void 0,endOn:s});if(i==="last")return wme(t,{maxTokens:n,tokenCounter:d,textSplitter:f,allowPartial:a,includeSystem:l,startOn:o,endOn:s});throw new Error(`Unrecognized strategy: '${i}'. Must be one of 'first' or 'last'.`)}async function V6(t,e){const{maxTokens:n,tokenCounter:r,textSplitter:i,partialStrategy:a,endOn:s}=e;let o=[...t],l=0;for(let c=0;c<o.length;c+=1){const d=c>0?o.slice(0,-c):o;if(await r(d)<=n){l=o.length-c;break}}if(l<o.length&&a){let c=!1;if(Array.isArray(o[l].content)){const d=o[l];if(typeof d.content=="string")throw new Error("Expected content to be an array.");const f=d.content.length,h=a==="last"?[...d.content].reverse():d.content;for(let p=1;p<=f;p+=1){const m=a==="first"?h.slice(0,p):h.slice(-p),g=Object.fromEntries(Object.entries(d).filter(([b])=>b!=="type"&&!b.startsWith("lc_"))),x=IC(d.getType(),{...g,content:m}),v=[...o.slice(0,l),x];if(await r(v)<=n)o=v,l+=1,c=!0;else break}c&&a==="last"&&(d.content=[...h].reverse())}if(!c){const d=o[l];let f;if(Array.isArray(d.content)&&d.content.some(h=>typeof h=="string"||h.type==="text")){const h=d.content.find(p=>p.type==="text"&&p.text);f=h==null?void 0:h.text}else typeof d.content=="string"&&(f=d.content);if(f){const h=await i(f),p=h.length;a==="last"&&h.reverse();for(let m=0;m<p-1;m+=1)if(h.pop(),d.content=h.join(""),await r([...o.slice(0,l),d])<=n){a==="last"&&(d.content=[...h].reverse().join("")),o=[...o.slice(0,l),d],l+=1;break}}}}if(s){const c=Array.isArray(s)?s:[s];for(;l>0&&!m0(o[l-1],c);)l-=1}return o.slice(0,l)}async function wme(t,e){var d;const{allowPartial:n=!1,includeSystem:r=!1,endOn:i,startOn:a,...s}=e;let o=t.map(f=>{const h=Object.fromEntries(Object.entries(f).filter(([p])=>p!=="type"&&!p.startsWith("lc_")));return IC(f.getType(),h,oC(f))});if(i){const f=Array.isArray(i)?i:[i];for(;o.length>0&&!m0(o[o.length-1],f);)o=o.slice(0,-1)}const l=r&&((d=o[0])==null?void 0:d.getType())==="system";let c=l?o.slice(0,1).concat(o.slice(1).reverse()):o.reverse();return c=await V6(c,{...s,partialStrategy:n?"last":void 0,endOn:a}),l?[c[0],...c.slice(1).reverse()]:c.reverse()}const W$={human:{message:xa,messageChunk:dg},ai:{message:us,messageChunk:fo},system:{message:ds,messageChunk:El},developer:{message:ds,messageChunk:El},tool:{message:Lf,messageChunk:lg},function:{message:xb,messageChunk:ug},generic:{message:nu,messageChunk:cg},remove:{message:l0,messageChunk:l0}};function IC(t,e,n){var a;let r,i;switch(t){case"human":n?r=new dg(e):i=new xa(e);break;case"ai":if(n){let s={...e};"tool_calls"in s&&(s={...s,tool_call_chunks:(a=s.tool_calls)==null?void 0:a.map(o=>({...o,type:"tool_call_chunk",index:void 0,args:JSON.stringify(o.args)}))}),r=new fo(s)}else i=new us(e);break;case"system":n?r=new El(e):i=new ds(e);break;case"developer":n?r=new El({...e,additional_kwargs:{...e.additional_kwargs,__openai_role__:"developer"}}):i=new ds({...e,additional_kwargs:{...e.additional_kwargs,__openai_role__:"developer"}});break;case"tool":if("tool_call_id"in e)n?r=new lg(e):i=new Lf(e);else throw new Error("Can not convert ToolMessage to ToolMessageChunk if 'tool_call_id' field is not defined.");break;case"function":if(n)r=new ug(e);else{if(!e.name)throw new Error("FunctionMessage must have a 'name' field");i=new xb(e)}break;case"generic":if("role"in e)n?r=new cg(e):i=new nu(e);else throw new Error("Can not convert ChatMessage to ChatMessageChunk if 'role' field is not defined.");break;default:throw new Error(`Unrecognized message type ${t}`)}if(n&&r)return r;if(i)return i;throw new Error(`Unrecognized message type ${t}`)}function _me(t){const e=t.getType();let n;const r=Object.fromEntries(Object.entries(t).filter(([i])=>!["type","tool_call_chunks"].includes(i)&&!i.startsWith("lc_")));if(e in W$&&(n=IC(e,r)),!n)throw new Error(`Unrecognized message chunk class ${e}. Supported classes are ${Object.keys(W$)}`);return n}function W6(t){const e=t.split(`
`);return Promise.resolve([...e.slice(0,-1).map(n=>`${n}
`),e[e.length-1]])}const Sme=["tool_call","tool_call_chunk","invalid_tool_call","server_tool_call","server_tool_call_chunk","server_tool_call_result"],Eme=["image","video","audio","text-plain","file"],jme=["text","reasoning",...Sme,...Eme];var Ame={};bt(Ame,{AIMessage:()=>us,AIMessageChunk:()=>fo,BaseMessage:()=>uo,BaseMessageChunk:()=>Rl,ChatMessage:()=>nu,ChatMessageChunk:()=>cg,FunctionMessage:()=>xb,FunctionMessageChunk:()=>ug,HumanMessage:()=>xa,HumanMessageChunk:()=>dg,KNOWN_BLOCK_TYPES:()=>jme,RemoveMessage:()=>l0,SystemMessage:()=>ds,SystemMessageChunk:()=>El,ToolMessage:()=>Lf,ToolMessageChunk:()=>lg,_isMessageFieldWithRole:()=>_U,_mergeDicts:()=>Zn,_mergeLists:()=>og,_mergeObj:()=>bU,_mergeStatus:()=>xU,coerceMessageLikeToMessage:()=>op,convertToChunk:()=>c0,convertToOpenAIImageBlock:()=>uU,convertToProviderContentBlock:()=>xle,defaultTextSplitter:()=>W6,defaultToolCallParser:()=>cC,filterMessages:()=>vme,getBufferString:()=>uC,iife:()=>hce,isAIMessage:()=>vb,isAIMessageChunk:()=>HE,isBase64ContentBlock:()=>rC,isBaseMessage:()=>Go,isBaseMessageChunk:()=>oC,isChatMessage:()=>ice,isChatMessageChunk:()=>ace,isDataContentBlock:()=>Sl,isDirectToolOutput:()=>kU,isFunctionMessage:()=>sce,isFunctionMessageChunk:()=>oce,isHumanMessage:()=>lce,isHumanMessageChunk:()=>cce,isIDContentBlock:()=>cU,isMessage:()=>vU,isOpenAIToolCallArray:()=>Kle,isPlainTextContentBlock:()=>yle,isSystemMessage:()=>uce,isSystemMessageChunk:()=>dce,isToolMessage:()=>TU,isToolMessageChunk:()=>CU,isURLContentBlock:()=>nC,mapChatMessagesToStoredMessages:()=>vce,mapStoredMessageToChatMessage:()=>dC,mapStoredMessagesToChatMessages:()=>yce,mergeContent:()=>no,mergeMessageRuns:()=>xme,mergeResponseMetadata:()=>EU,mergeUsageMetadata:()=>AU,parseBase64DataUrl:()=>zE,parseMimeType:()=>vle,trimMessages:()=>bme});var kme={};bt(kme,{BasePromptValue:()=>Tb,ChatPromptValue:()=>G6,ImagePromptValue:()=>Tme,StringPromptValue:()=>q6});var Tb=class extends Gd{},q6=class extends Tb{constructor(e){super({value:e});H(this,"lc_namespace",["langchain_core","prompt_values"]);H(this,"lc_serializable",!0);H(this,"value");this.value=e}static lc_name(){return"StringPromptValue"}toString(){return this.value}toChatMessages(){return[new xa(this.value)]}},G6=class extends Tb{constructor(e){Array.isArray(e)&&(e={messages:e});super(e);H(this,"lc_namespace",["langchain_core","prompt_values"]);H(this,"lc_serializable",!0);H(this,"messages");this.messages=e.messages}static lc_name(){return"ChatPromptValue"}toString(){return uC(this.messages)}toChatMessages(){return this.messages}},Tme=class extends Tb{constructor(e){"imageUrl"in e||(e={imageUrl:e});super(e);H(this,"lc_namespace",["langchain_core","prompt_values"]);H(this,"lc_serializable",!0);H(this,"imageUrl");H(this,"value");this.imageUrl=e.imageUrl}static lc_name(){return"ImagePromptValue"}toString(){return this.imageUrl.url}toChatMessages(){return[new xa({content:[{type:"image_url",image_url:{detail:this.imageUrl.detail,url:this.imageUrl.url}}]})]}},Ae="0123456789abcdef".split(""),Cme=[-2147483648,8388608,32768,128],Ui=[24,16,8,0],_y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],On=[];function wa(t,e){e?(On[0]=On[16]=On[1]=On[2]=On[3]=On[4]=On[5]=On[6]=On[7]=On[8]=On[9]=On[10]=On[11]=On[12]=On[13]=On[14]=On[15]=0,this.blocks=On):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}wa.prototype.update=function(t){if(!this.finalized){var e,n=typeof t;if(n!=="string"){if(n==="object"){if(t===null)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}else throw new Error(ERROR);e=!0}for(var r,i=0,a,s=t.length,o=this.blocks;i<s;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,this.block=o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),e)for(a=this.start;i<s&&a<64;++i)o[a>>>2]|=t[i]<<Ui[a++&3];else for(a=this.start;i<s&&a<64;++i)r=t.charCodeAt(i),r<128?o[a>>>2]|=r<<Ui[a++&3]:r<2048?(o[a>>>2]|=(192|r>>>6)<<Ui[a++&3],o[a>>>2]|=(128|r&63)<<Ui[a++&3]):r<55296||r>=57344?(o[a>>>2]|=(224|r>>>12)<<Ui[a++&3],o[a>>>2]|=(128|r>>>6&63)<<Ui[a++&3],o[a>>>2]|=(128|r&63)<<Ui[a++&3]):(r=65536+((r&1023)<<10|t.charCodeAt(++i)&1023),o[a>>>2]|=(240|r>>>18)<<Ui[a++&3],o[a>>>2]|=(128|r>>>12&63)<<Ui[a++&3],o[a>>>2]|=(128|r>>>6&63)<<Ui[a++&3],o[a>>>2]|=(128|r&63)<<Ui[a++&3]);this.lastByteIndex=a,this.bytes+=a-this.start,a>=64?(this.block=o[16],this.start=a-64,this.hash(),this.hashed=!0):this.start=a}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}};wa.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>>2]|=Cme[e&3],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}};wa.prototype.hash=function(){var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,a=this.h5,s=this.h6,o=this.h7,l=this.blocks,c,d,f,h,p,m,g,x,v,b,y;for(c=16;c<64;++c)p=l[c-15],d=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3,p=l[c-2],f=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,l[c]=l[c-16]+d+l[c-7]+f<<0;for(y=e&n,c=0;c<64;c+=4)this.first?(this.is224?(x=300032,p=l[0]-1413257819,o=p-150054599<<0,r=p+24177077<<0):(x=704751109,p=l[0]-210244248,o=p-1521486534<<0,r=p+143694565<<0),this.first=!1):(d=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),f=(i>>>6|i<<26)^(i>>>11|i<<21)^(i>>>25|i<<7),x=t&e,h=x^t&n^y,g=i&a^~i&s,p=o+f+g+_y[c]+l[c],m=d+h,o=r+p<<0,r=p+m<<0),d=(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10),f=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7),v=r&t,h=v^r&e^x,g=s&o^~s&i,p=a+f+g+_y[c+1]+l[c+1],m=d+h,s=n+p<<0,n=p+m<<0,d=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),f=(s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7),b=n&r,h=b^n&t^v,g=a&s^~a&o,p=i+f+g+_y[c+2]+l[c+2],m=d+h,a=e+p<<0,e=p+m<<0,d=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),f=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7),y=e&n,h=y^e&r^b,g=a&s^~a&o,p=i+f+g+_y[c+3]+l[c+3],m=d+h,i=t+p<<0,t=p+m<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0,this.h4=this.h4+i<<0,this.h5=this.h5+a<<0,this.h6=this.h6+s<<0,this.h7=this.h7+o<<0};wa.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,a=this.h5,s=this.h6,o=this.h7,l=Ae[t>>>28&15]+Ae[t>>>24&15]+Ae[t>>>20&15]+Ae[t>>>16&15]+Ae[t>>>12&15]+Ae[t>>>8&15]+Ae[t>>>4&15]+Ae[t&15]+Ae[e>>>28&15]+Ae[e>>>24&15]+Ae[e>>>20&15]+Ae[e>>>16&15]+Ae[e>>>12&15]+Ae[e>>>8&15]+Ae[e>>>4&15]+Ae[e&15]+Ae[n>>>28&15]+Ae[n>>>24&15]+Ae[n>>>20&15]+Ae[n>>>16&15]+Ae[n>>>12&15]+Ae[n>>>8&15]+Ae[n>>>4&15]+Ae[n&15]+Ae[r>>>28&15]+Ae[r>>>24&15]+Ae[r>>>20&15]+Ae[r>>>16&15]+Ae[r>>>12&15]+Ae[r>>>8&15]+Ae[r>>>4&15]+Ae[r&15]+Ae[i>>>28&15]+Ae[i>>>24&15]+Ae[i>>>20&15]+Ae[i>>>16&15]+Ae[i>>>12&15]+Ae[i>>>8&15]+Ae[i>>>4&15]+Ae[i&15]+Ae[a>>>28&15]+Ae[a>>>24&15]+Ae[a>>>20&15]+Ae[a>>>16&15]+Ae[a>>>12&15]+Ae[a>>>8&15]+Ae[a>>>4&15]+Ae[a&15]+Ae[s>>>28&15]+Ae[s>>>24&15]+Ae[s>>>20&15]+Ae[s>>>16&15]+Ae[s>>>12&15]+Ae[s>>>8&15]+Ae[s>>>4&15]+Ae[s&15];return this.is224||(l+=Ae[o>>>28&15]+Ae[o>>>24&15]+Ae[o>>>20&15]+Ae[o>>>16&15]+Ae[o>>>12&15]+Ae[o>>>8&15]+Ae[o>>>4&15]+Ae[o&15]),l};wa.prototype.toString=wa.prototype.hex;wa.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,a=this.h5,s=this.h6,o=this.h7,l=[t>>>24&255,t>>>16&255,t>>>8&255,t&255,e>>>24&255,e>>>16&255,e>>>8&255,e&255,n>>>24&255,n>>>16&255,n>>>8&255,n&255,r>>>24&255,r>>>16&255,r>>>8&255,r&255,i>>>24&255,i>>>16&255,i>>>8&255,i&255,a>>>24&255,a>>>16&255,a>>>8&255,a&255,s>>>24&255,s>>>16&255,s>>>8&255,s&255];return this.is224||l.push(o>>>24&255,o>>>16&255,o>>>8&255,o&255),l};wa.prototype.array=wa.prototype.digest;wa.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t};const K6=(...t)=>new wa(!1,!0).update(t.join("")).hex();var Ome={};bt(Ome,{sha256:()=>K6});var Nme={};bt(Nme,{BaseCache:()=>X6,InMemoryCache:()=>Z6,defaultHashKeyEncoder:()=>Y6,deserializeStoredGeneration:()=>Pme,serializeGeneration:()=>Ime});const Y6=(...t)=>K6(t.join("_"));function Pme(t){return t.message!==void 0?{text:t.text,message:dC(t.message)}:{text:t.text}}function Ime(t){const e={text:t.text};return t.message!==void 0&&(e.message=t.message.toDict()),e}var X6=class{constructor(){H(this,"keyEncoder",Y6)}makeDefaultKeyEncoder(t){this.keyEncoder=t}};const $me=new Map;var Z6=class J6 extends X6{constructor(n){super();H(this,"cache");this.cache=n??new Map}lookup(n,r){return Promise.resolve(this.cache.get(this.keyEncoder(n,r))??null)}async update(n,r,i){this.cache.set(this.keyEncoder(n,r),i)}static global(){return new J6($me)}},Cb={};Cb.byteLength=Dme;Cb.toByteArray=Fme;Cb.fromByteArray=Ume;var Va=[],xi=[],Rme=typeof Uint8Array<"u"?Uint8Array:Array,l1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Su=0,Mme=l1.length;Su<Mme;++Su)Va[Su]=l1[Su],xi[l1.charCodeAt(Su)]=Su;xi[45]=62;xi[95]=63;function Q6(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function Dme(t){var e=Q6(t),n=e[0],r=e[1];return(n+r)*3/4-r}function Lme(t,e,n){return(e+n)*3/4-n}function Fme(t){var e,n=Q6(t),r=n[0],i=n[1],a=new Rme(Lme(t,r,i)),s=0,o=i>0?r-4:r,l;for(l=0;l<o;l+=4)e=xi[t.charCodeAt(l)]<<18|xi[t.charCodeAt(l+1)]<<12|xi[t.charCodeAt(l+2)]<<6|xi[t.charCodeAt(l+3)],a[s++]=e>>16&255,a[s++]=e>>8&255,a[s++]=e&255;return i===2&&(e=xi[t.charCodeAt(l)]<<2|xi[t.charCodeAt(l+1)]>>4,a[s++]=e&255),i===1&&(e=xi[t.charCodeAt(l)]<<10|xi[t.charCodeAt(l+1)]<<4|xi[t.charCodeAt(l+2)]>>2,a[s++]=e>>8&255,a[s++]=e&255),a}function Bme(t){return Va[t>>18&63]+Va[t>>12&63]+Va[t>>6&63]+Va[t&63]}function zme(t,e,n){for(var r,i=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(t[a+2]&255),i.push(Bme(r));return i.join("")}function Ume(t){for(var e,n=t.length,r=n%3,i=[],a=16383,s=0,o=n-r;s<o;s+=a)i.push(zme(t,s,s+a>o?o:s+a));return r===1?(e=t[n-1],i.push(Va[e>>2]+Va[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Va[e>>10]+Va[e>>4&63]+Va[e<<2&63]+"=")),i.join("")}var Hme=Object.defineProperty,Vme=(t,e,n)=>e in t?Hme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wme=(t,e,n)=>(Vme(t,e+"",n),n);function qme(t,e){let n=Array.from({length:t.length},(r,i)=>({start:i,end:i+1}));for(;n.length>1;){let r=null;for(let i=0;i<n.length-1;i++){const a=t.slice(n[i].start,n[i+1].end),s=e.get(a.join(","));s!=null&&(r==null||s<r[0])&&(r=[s,i])}if(r!=null){const i=r[1];n[i]={start:n[i].start,end:n[i+1].end},n.splice(i+1,1)}else break}return n}function Gme(t,e){return t.length===1?[e.get(t.join(","))]:qme(t,e).map(n=>e.get(t.slice(n.start,n.end).join(","))).filter(n=>n!=null)}function Kme(t){return t.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}var cj=class{constructor(t,e){H(this,"specialTokens");H(this,"inverseSpecialTokens");H(this,"patStr");H(this,"textEncoder",new TextEncoder);H(this,"textDecoder",new TextDecoder("utf-8"));H(this,"rankMap",new Map);H(this,"textMap",new Map);this.patStr=t.pat_str;const n=t.bpe_ranks.split(`
`).filter(Boolean).reduce((r,i)=>{const[a,s,...o]=i.split(" "),l=Number.parseInt(s,10);return o.forEach((c,d)=>r[c]=l+d),r},{});for(const[r,i]of Object.entries(n)){const a=Cb.toByteArray(r);this.rankMap.set(a.join(","),i),this.textMap.set(i,a)}this.specialTokens={...t.special_tokens,...e},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((r,[i,a])=>(r[a]=this.textEncoder.encode(i),r),{})}encode(t,e=[],n="all"){const r=new RegExp(this.patStr,"ug"),i=cj.specialTokenRegex(Object.keys(this.specialTokens)),a=[],s=new Set(e==="all"?Object.keys(this.specialTokens):e),o=new Set(n==="all"?Object.keys(this.specialTokens).filter(c=>!s.has(c)):n);if(o.size>0){const c=cj.specialTokenRegex([...o]),d=t.match(c);if(d!=null)throw new Error(`The text contains a special token that is not allowed: ${d[0]}`)}let l=0;for(;;){let c=null,d=l;for(;i.lastIndex=d,c=i.exec(t),!(c==null||s.has(c[0]));)d=c.index+1;const f=(c==null?void 0:c.index)??t.length;for(const p of t.substring(l,f).matchAll(r)){const m=this.textEncoder.encode(p[0]),g=this.rankMap.get(m.join(","));if(g!=null){a.push(g);continue}a.push(...Gme(m,this.rankMap))}if(c==null)break;let h=this.specialTokens[c[0]];a.push(h),l=c.index+c[0].length}return a}decode(t){const e=[];let n=0;for(let a=0;a<t.length;++a){const s=t[a],o=this.textMap.get(s)??this.inverseSpecialTokens[s];o!=null&&(e.push(o),n+=o.length)}const r=new Uint8Array(n);let i=0;for(const a of e)r.set(a,i),i+=a.length;return this.textDecoder.decode(r)}},e8=cj;Wme(e8,"specialTokenRegex",t=>new RegExp(t.map(e=>Kme(e)).join("|"),"g"));function Yme(t){switch(t){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":case"text-embedding-3-small":case"text-embedding-3-large":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":case"gpt-4o-2024-11-20":case"gpt-4o-mini-2024-07-18":case"gpt-4o-mini":case"gpt-4o-search-preview":case"gpt-4o-search-preview-2025-03-11":case"gpt-4o-mini-search-preview":case"gpt-4o-mini-search-preview-2025-03-11":case"gpt-4o-audio-preview":case"gpt-4o-audio-preview-2024-12-17":case"gpt-4o-audio-preview-2024-10-01":case"gpt-4o-mini-audio-preview":case"gpt-4o-mini-audio-preview-2024-12-17":case"o1":case"o1-2024-12-17":case"o1-mini":case"o1-mini-2024-09-12":case"o1-preview":case"o1-preview-2024-09-12":case"o1-pro":case"o1-pro-2025-03-19":case"o3":case"o3-2025-04-16":case"o3-mini":case"o3-mini-2025-01-31":case"o4-mini":case"o4-mini-2025-04-16":case"chatgpt-4o-latest":case"gpt-4o-realtime":case"gpt-4o-realtime-preview-2024-10-01":case"gpt-4o-realtime-preview-2024-12-17":case"gpt-4o-mini-realtime-preview":case"gpt-4o-mini-realtime-preview-2024-12-17":case"gpt-4.1":case"gpt-4.1-2025-04-14":case"gpt-4.1-mini":case"gpt-4.1-mini-2025-04-14":case"gpt-4.1-nano":case"gpt-4.1-nano-2025-04-14":case"gpt-4.5-preview":case"gpt-4.5-preview-2025-02-27":case"gpt-5":case"gpt-5-2025-08-07":case"gpt-5-nano":case"gpt-5-nano-2025-08-07":case"gpt-5-mini":case"gpt-5-mini-2025-08-07":case"gpt-5-chat-latest":return"o200k_base";default:throw new Error("Unknown model")}}var Xme={};bt(Xme,{encodingForModel:()=>$C,getEncoding:()=>t8});const Sy={},Zme=new kb({});async function t8(t){return t in Sy||(Sy[t]=Zme.fetch(`https://tiktoken.pages.dev/js/${t}.json`).then(e=>e.json()).then(e=>new e8(e)).catch(e=>{throw delete Sy[t],e})),await Sy[t]}async function $C(t){return t8(Yme(t))}var Jme={};bt(Jme,{BaseLangChain:()=>r8,BaseLanguageModel:()=>i8,calculateMaxTokens:()=>tge,getEmbeddingContextSize:()=>Qme,getModelContextSize:()=>n8,getModelNameForTiktoken:()=>Ob,isOpenAITool:()=>ege});const Ob=t=>t.startsWith("gpt-5")?"gpt-5":t.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":t.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":t.startsWith("gpt-4-32k")?"gpt-4-32k":t.startsWith("gpt-4-")?"gpt-4":t.startsWith("gpt-4o")?"gpt-4o":t,Qme=t=>{switch(t){case"text-embedding-ada-002":return 8191;default:return 2046}},n8=t=>{switch(Ob(t)){case"gpt-5":case"gpt-5-turbo":case"gpt-5-turbo-preview":return 4e5;case"gpt-4o":case"gpt-4o-mini":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":return 128e3;case"gpt-4-turbo":case"gpt-4-turbo-preview":case"gpt-4-turbo-2024-04-09":case"gpt-4-0125-preview":case"gpt-4-1106-preview":return 128e3;case"gpt-4-32k":case"gpt-4-32k-0314":case"gpt-4-32k-0613":return 32768;case"gpt-4":case"gpt-4-0314":case"gpt-4-0613":return 8192;case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-16k-0613":return 16384;case"gpt-3.5-turbo":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-1106":case"gpt-3.5-turbo-0125":return 4096;case"text-davinci-003":case"text-davinci-002":return 4097;case"text-davinci-001":return 2049;case"text-curie-001":case"text-babbage-001":case"text-ada-001":return 2048;case"code-davinci-002":case"code-davinci-001":return 8e3;case"code-cushman-001":return 2048;case"claude-3-5-sonnet-20241022":case"claude-3-5-sonnet-20240620":case"claude-3-opus-20240229":case"claude-3-sonnet-20240229":case"claude-3-haiku-20240307":case"claude-2.1":return 2e5;case"claude-2.0":case"claude-instant-1.2":return 1e5;case"gemini-1.5-pro":case"gemini-1.5-pro-latest":case"gemini-1.5-flash":case"gemini-1.5-flash-latest":return 1e6;case"gemini-pro":case"gemini-pro-vision":return 32768;default:return 4097}};function ege(t){return typeof t!="object"||!t?!1:!!("type"in t&&t.type==="function"&&"function"in t&&typeof t.function=="object"&&t.function&&"name"in t.function&&"parameters"in t.function)}const tge=async({prompt:t,modelName:e})=>{let n;try{n=(await $C(Ob(e))).encode(t).length}catch{console.warn("Failed to calculate number of tokens, falling back to approximate count"),n=Math.ceil(t.length/4)}return n8(e)-n},nge=()=>!1;var r8=class extends fn{constructor(e){super(e);H(this,"verbose");H(this,"callbacks");H(this,"tags");H(this,"metadata");this.verbose=e.verbose??nge(),this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}get lc_attributes(){return{callbacks:void 0,verbose:void 0}}},i8=class extends r8{constructor({callbacks:e,callbackManager:n,...r}){const{cache:i,...a}=r;super({callbacks:e??n,...a});H(this,"caller");H(this,"cache");H(this,"_encoding");typeof i=="object"?this.cache=i:i?this.cache=Z6.global():this.cache=void 0,this.caller=new kb(r??{})}get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}async getNumTokens(e){let n;typeof e=="string"?n=e:n=e.map(i=>typeof i=="string"?i:i.type==="text"&&"text"in i?i.text:"").join("");let r=Math.ceil(n.length/4);if(!this._encoding)try{this._encoding=await $C("modelName"in this?Ob(this.modelName):"gpt2")}catch(i){console.warn("Failed to calculate number of tokens, falling back to approximate count",i)}if(this._encoding)try{r=this._encoding.encode(n).length}catch(i){console.warn("Failed to calculate number of tokens, falling back to approximate count",i)}return r}static _convertInputToPromptValue(e){return typeof e=="string"?new q6(e):Array.isArray(e)?new G6(e.map(op)):e}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall({config:e,...n}){const r={...this._identifyingParams(),...n,_type:this._llmType(),_model:this._modelType()};return Object.entries(r).filter(([s,o])=>o!==void 0).map(([s,o])=>`${s}:${JSON.stringify(o)}`).sort().join(",")}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){throw new Error("Use .toJSON() instead")}get profile(){return{}}},Zd=class extends fn{constructor(e){super(e);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"lc_serializable",!0);H(this,"func");e&&(this.func=e.func)}static lc_name(){return"RunnablePassthrough"}async invoke(e,n){const r=pt(n);return this.func&&await this.func(e,r),this._callWithConfig(i=>Promise.resolve(i),e,r)}async*transform(e,n){const r=pt(n);let i,a=!0;for await(const s of this._transformStreamWithConfig(e,o=>o,r))if(yield s,a)if(i===void 0)i=s;else try{i=zc(i,s)}catch{i=void 0,a=!1}this.func&&i!==void 0&&await this.func(i,r)}static assign(e){return new PC(new zf({steps:e}))}};const rge=t=>t();function c1(t){const e=t.constructor;return new e({...t,content:t.contentBlocks,response_metadata:{...t.response_metadata,output_version:"v1"}})}var ige={};bt(ige,{BaseChatModel:()=>RC,SimpleChatModel:()=>age});function u1(t){const e=[];for(const n of t){let r=n;if(Array.isArray(n.content))for(let i=0;i<n.content.length;i++){const a=n.content[i];(nC(a)||rC(a))&&r===n&&(r=new n.constructor({...r,content:[...n.content.slice(0,i),uU(a),...n.content.slice(i+1)]}))}e.push(r)}return e}var RC=class nc extends i8{constructor(n){super(n);H(this,"lc_namespace",["langchain","chat_models",this._llmType()]);H(this,"disableStreaming",!1);H(this,"outputVersion");this.outputVersion=rge(()=>{const r=n.outputVersion??Bs("LC_OUTPUT_VERSION");return r&&["v0","v1"].includes(r)?r:"v0"})}get callKeys(){return[...super.callKeys,"outputVersion"]}_separateRunnableConfigFromCallOptionsCompat(n){const[r,i]=super._separateRunnableConfigFromCallOptions(n);return i.signal=r.signal,[r,i]}async invoke(n,r){const i=nc._convertInputToPromptValue(n);return(await this.generatePrompt([i],r,r==null?void 0:r.callbacks)).generations[0][0].message}async*_streamResponseChunks(n,r,i){throw new Error("Not implemented.")}async*_streamIterator(n,r){var i;if(this._streamResponseChunks===nc.prototype._streamResponseChunks||this.disableStreaming)yield this.invoke(n,r);else{const s=nc._convertInputToPromptValue(n).toChatMessages(),[o,l]=this._separateRunnableConfigFromCallOptionsCompat(r),c={...o.metadata,...this.getLsParams(l)},d=await is.configure(o.callbacks,this.callbacks,o.tags,this.tags,c,this.metadata,{verbose:this.verbose}),f={options:l,invocation_params:this==null?void 0:this.invocationParams(l),batch_size:1},h=l.outputVersion??this.outputVersion,p=await(d==null?void 0:d.handleChatModelStart(this.toJSON(),[u1(s)],o.runId,void 0,f,void 0,void 0,o.runName));let m,g;try{for await(const x of this._streamResponseChunks(s,l,p==null?void 0:p[0])){if(x.message.id==null){const v=(i=p==null?void 0:p.at(0))==null?void 0:i.runId;v!=null&&x.message._updateId(`run-${v}`)}x.message.response_metadata={...x.generationInfo,...x.message.response_metadata},h==="v1"?yield c1(x.message):yield x.message,m?m=m.concat(x):m=x,HE(x.message)&&x.message.usage_metadata!==void 0&&(g={tokenUsage:{promptTokens:x.message.usage_metadata.input_tokens,completionTokens:x.message.usage_metadata.output_tokens,totalTokens:x.message.usage_metadata.total_tokens}})}}catch(x){throw await Promise.all((p??[]).map(v=>v==null?void 0:v.handleLLMError(x))),x}await Promise.all((p??[]).map(x=>x==null?void 0:x.handleLLMEnd({generations:[[m]],llmOutput:g})))}}getLsParams(n){const r=this.getName().startsWith("Chat")?this.getName().replace("Chat",""):this.getName();return{ls_model_type:"chat",ls_stop:n.stop,ls_provider:r}}async _generateUncached(n,r,i,a){var p,m;const s=n.map(g=>g.map(op));let o;if(a!==void 0&&a.length===s.length)o=a;else{const g={...i.metadata,...this.getLsParams(r)},x=await is.configure(i.callbacks,this.callbacks,i.tags,this.tags,g,this.metadata,{verbose:this.verbose}),v={options:r,invocation_params:this==null?void 0:this.invocationParams(r),batch_size:1};o=await(x==null?void 0:x.handleChatModelStart(this.toJSON(),s.map(u1),i.runId,void 0,v,void 0,void 0,i.runName))}const l=r.outputVersion??this.outputVersion,c=[],d=[];if(!!(o!=null&&o[0].handlers.find(BU))&&!this.disableStreaming&&s.length===1&&this._streamResponseChunks!==nc.prototype._streamResponseChunks)try{const g=await this._streamResponseChunks(s[0],r,o==null?void 0:o[0]);let x,v;for await(const b of g){if(b.message.id==null){const y=(p=o==null?void 0:o.at(0))==null?void 0:p.runId;y!=null&&b.message._updateId(`run-${y}`)}x===void 0?x=b:x=zc(x,b),HE(b.message)&&b.message.usage_metadata!==void 0&&(v={tokenUsage:{promptTokens:b.message.usage_metadata.input_tokens,completionTokens:b.message.usage_metadata.output_tokens,totalTokens:b.message.usage_metadata.total_tokens}})}if(x===void 0)throw new Error("Received empty response from chat model call.");c.push([x]),await(o==null?void 0:o[0].handleLLMEnd({generations:c,llmOutput:v}))}catch(g){throw await(o==null?void 0:o[0].handleLLMError(g)),g}else{const g=await Promise.allSettled(s.map(async(x,v)=>{const b=await this._generate(x,{...r,promptIndex:v},o==null?void 0:o[v]);if(l==="v1")for(const y of b.generations)y.message=c1(y.message);return b}));await Promise.all(g.map(async(x,v)=>{var b,y,w;if(x.status==="fulfilled"){const _=x.value;for(const E of _.generations){if(E.message.id==null){const A=(b=o==null?void 0:o.at(0))==null?void 0:b.runId;A!=null&&E.message._updateId(`run-${A}`)}E.message.response_metadata={...E.generationInfo,...E.message.response_metadata}}return _.generations.length===1&&(_.generations[0].message.response_metadata={..._.llmOutput,..._.generations[0].message.response_metadata}),c[v]=_.generations,d[v]=_.llmOutput,(y=o==null?void 0:o[v])==null?void 0:y.handleLLMEnd({generations:[_.generations],llmOutput:_.llmOutput})}else return await((w=o==null?void 0:o[v])==null?void 0:w.handleLLMError(x.reason)),Promise.reject(x.reason)}))}const h={generations:c,llmOutput:d.length?(m=this._combineLLMOutput)==null?void 0:m.call(this,...d):void 0};return Object.defineProperty(h,JE,{value:o?{runIds:o==null?void 0:o.map(g=>g.runId)}:void 0,configurable:!0}),h}async _generateCached({messages:n,cache:r,llmStringKey:i,parsedOptions:a,handledOptions:s}){const o=n.map(b=>b.map(op)),l={...s.metadata,...this.getLsParams(a)},c=await is.configure(s.callbacks,this.callbacks,s.tags,this.tags,l,this.metadata,{verbose:this.verbose}),d={options:a,invocation_params:this==null?void 0:this.invocationParams(a),batch_size:1},f=await(c==null?void 0:c.handleChatModelStart(this.toJSON(),o.map(u1),s.runId,void 0,d,void 0,void 0,s.runName)),h=[],m=(await Promise.allSettled(o.map(async(b,y)=>{const w=nc._convertInputToPromptValue(b).toString(),_=await r.lookup(w,i);return _==null&&h.push(y),_}))).map((b,y)=>({result:b,runManager:f==null?void 0:f[y]})).filter(({result:b})=>b.status==="fulfilled"&&b.value!=null||b.status==="rejected"),g=a.outputVersion??this.outputVersion,x=[];await Promise.all(m.map(async({result:b,runManager:y},w)=>{if(b.status==="fulfilled"){const _=b.value;return x[w]=_.map(E=>("message"in E&&Go(E.message)&&vb(E.message)&&(E.message.usage_metadata={input_tokens:0,output_tokens:0,total_tokens:0},g==="v1"&&(E.message=c1(E.message))),E.generationInfo={...E.generationInfo,tokenUsage:{}},E)),_.length&&await(y==null?void 0:y.handleLLMNewToken(_[0].text)),y==null?void 0:y.handleLLMEnd({generations:[_]},void 0,void 0,void 0,{cached:!0})}else return await(y==null?void 0:y.handleLLMError(b.reason,void 0,void 0,void 0,{cached:!0})),Promise.reject(b.reason)}));const v={generations:x,missingPromptIndices:h,startedRunManagers:f};return Object.defineProperty(v,JE,{value:f?{runIds:f==null?void 0:f.map(b=>b.runId)}:void 0,configurable:!0}),v}async generate(n,r,i){let a;Array.isArray(r)?a={stop:r}:a=r;const s=n.map(g=>g.map(op)),[o,l]=this._separateRunnableConfigFromCallOptionsCompat(a);if(o.callbacks=o.callbacks??i,!this.cache)return this._generateUncached(s,l,o);const{cache:c}=this,d=this._getSerializedCacheKeyParametersForCall(l),{generations:f,missingPromptIndices:h,startedRunManagers:p}=await this._generateCached({messages:s,cache:c,llmStringKey:d,parsedOptions:l,handledOptions:o});let m={};if(h.length>0){const g=await this._generateUncached(h.map(x=>s[x]),l,o,p!==void 0?h.map(x=>p==null?void 0:p[x]):void 0);await Promise.all(g.generations.map(async(x,v)=>{const b=h[v];f[b]=x;const y=nc._convertInputToPromptValue(s[b]).toString();return c.update(y,d,x)})),m=g.llmOutput??{}}return{generations:f,llmOutput:m}}invocationParams(n){return{}}_modelType(){return"base_chat_model"}async generatePrompt(n,r,i){const a=n.map(s=>s.toChatMessages());return this.generate(a,r,i)}withStructuredOutput(n,r){if(typeof this.bindTools!="function")throw new Error('Chat model must implement ".bindTools()" to use withStructuredOutput.');if(r!=null&&r.strict)throw new Error('"strict" mode is not supported for this model by default.');const i=n,a=r==null?void 0:r.name,s=ZT(i)??"A function available to call.",o=r==null?void 0:r.method,l=r==null?void 0:r.includeRaw;if(o==="jsonMode")throw new Error('Base withStructuredOutput implementation only supports "functionCalling" as a method.');let c=a??"extract",d;Lc(i)?d=[{type:"function",function:{name:c,description:s,parameters:_l(i)}}]:("name"in i&&(c=i.name),d=[{type:"function",function:{name:c,description:s,parameters:i}}]);const f=this.bindTools(d),h=Ml.from(x=>{if(!fo.isInstance(x))throw new Error("Input is not an AIMessageChunk.");if(!x.tool_calls||x.tool_calls.length===0)throw new Error("No tool calls found in the response.");const v=x.tool_calls.find(b=>b.name===c);if(!v)throw new Error(`No tool call found with name ${c}.`);return v.args});if(!l)return f.pipe(h).withConfig({runName:"StructuredOutput"});const p=Zd.assign({parsed:(x,v)=>h.invoke(x.raw,v)}),m=Zd.assign({parsed:()=>null}),g=p.withFallbacks({fallbacks:[m]});return mg.from([{raw:f},g]).withConfig({runName:"StructuredOutputRunnable"})}},age=class extends RC{async _generate(t,e,n){const r=await this._call(t,e,n),i=new us(r);if(typeof i.content!="string")throw new Error("Cannot generate with a simple chat model when output is not a string.");return{generations:[{text:i.content,message:i}]}}},sge={};bt(sge,{extendInteropZodObject:()=>_se,getInteropZodDefaultGetter:()=>Ese,getInteropZodObjectShape:()=>IE,getSchemaDescription:()=>ZT,interopParse:()=>xse,interopParseAsync:()=>XT,interopSafeParse:()=>vse,interopSafeParseAsync:()=>Yz,interopZodObjectMakeFieldsOptional:()=>kse,interopZodObjectPartial:()=>Sse,interopZodObjectPassthrough:()=>$E,interopZodObjectStrict:()=>t0,interopZodTransformInputSchema:()=>Zz,isInteropZodError:()=>Tse,isInteropZodLiteral:()=>yse,isInteropZodObject:()=>wse,isInteropZodSchema:()=>Lc,isShapelessZodSchema:()=>bse,isSimpleStringZodSchema:()=>Xz,isZodArrayV4:()=>gb,isZodLiteralV3:()=>Gz,isZodLiteralV4:()=>Kz,isZodObjectV3:()=>JT,isZodObjectV4:()=>ts,isZodSchema:()=>gse,isZodSchemaV3:()=>kn,isZodSchemaV4:()=>hn});const Mu="0.19.0";let q$=!1,fp,a8,s8,uj,o8,l8,c8,u8,d8;function oge(t,e={auto:!1}){if(q$)throw new Error(`you must \`import 'groq-sdk/shims/${t.kind}'\` before importing anything else from groq-sdk`);if(fp)throw new Error(`can't \`import 'groq-sdk/shims/${t.kind}'\` after \`import 'groq-sdk/shims/${fp}'\``);q$=e.auto,fp=t.kind,a8=t.fetch,s8=t.FormData,uj=t.File,o8=t.ReadableStream,l8=t.getMultipartRequestOptions,c8=t.getDefaultAgent,u8=t.fileFromPath,d8=t.isFsReadStream}class lge{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function cge({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from 'groq-sdk'`:\n- `import 'groq-sdk/shims/node'` (if you're running on Node)\n- `import 'groq-sdk/shims/web'` (otherwise)\n";let n,r,i,a;try{n=fetch,r=Request,i=Response,a=Headers}catch(s){throw new Error(`this environment is missing the following Web Fetch API type: ${s.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:i,Headers:a,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(s,o)=>({...o,body:new lge(s)}),getDefaultAgent:s=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/groq/groq-typescript#file-uploads")},isFsReadStream:s=>!1}}const f8=()=>{fp||oge(cge(),{auto:!0})};f8();class ha extends Error{}class Jn extends ha{constructor(e,n,r,i){super(`${Jn.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Nb({message:r,cause:hj(n)});const a=n;return e===400?new p8(e,a,r,i):e===401?new m8(e,a,r,i):e===403?new g8(e,a,r,i):e===404?new y8(e,a,r,i):e===409?new v8(e,a,r,i):e===422?new x8(e,a,r,i):e===429?new b8(e,a,r,i):e>=500?new w8(e,a,r,i):new Jn(e,a,r,i)}}class dj extends Jn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Nb extends Jn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class h8 extends Nb{constructor({message:e}={}){super({message:e??"Request timed out."})}}class p8 extends Jn{}class m8 extends Jn{}class g8 extends Jn{}class y8 extends Jn{}class v8 extends Jn{}class x8 extends Jn{}class b8 extends Jn{}class w8 extends Jn{}class Qu{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;const i=new uge;async function*a(){if(!e.body)throw n.abort(),new ha("Attempted to iterate over a response with no body");const o=new Uc,l=G$(e.body);for await(const c of l)for(const d of o.decode(c)){const f=i.decode(d);f&&(yield f)}for(const c of o.flush()){const d=i.decode(c);d&&(yield d)}}async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const l of a())if(!o){if(l.data.startsWith("[DONE]")){o=!0;continue}if(l.event===null||l.event==="error"){let c;try{c=JSON.parse(l.data)}catch(d){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),d}if(c&&c.error)throw new Jn(c.error.status_code,c.error,c.error.message,void 0);yield c}}o=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{o||n.abort()}}return new Qu(s,n)}static fromReadableStream(e,n){let r=!1;async function*i(){const s=new Uc,o=G$(e);for await(const l of o)for(const c of s.decode(l))yield c;for(const l of s.flush())yield l}async function*a(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{for await(const o of i())s||o&&(yield JSON.parse(o));s=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{s||n.abort()}}return new Qu(a,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const s=r.next();e.push(s),n.push(s)}return a.shift()}});return[new Qu(()=>i(e),this.controller),new Qu(()=>i(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new o8({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:a,done:s}=await n.next();if(s)return i.close();const o=r.encode(JSON.stringify(a)+`
`);i.enqueue(o)}catch(a){i.error(a)}},async cancel(){var i;await((i=n.return)==null?void 0:i.call(n))}})}}class uge{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=dge(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}class Uc{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let n=this.decodeText(e);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=Uc.NEWLINE_CHARS.has(n[n.length-1]||"");let i=n.split(Uc.NEWLINE_REGEXP);return i.length===1&&!r?(this.buffer.push(i[0]),[]):(this.buffer.length>0&&(i=[this.buffer.join("")+i[0],...i.slice(1)],this.buffer=[]),r||(this.buffer=[i.pop()||""]),i)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new ha(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new ha(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new ha("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}Uc.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]);Uc.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function dge(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}function G$(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const _8=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",S8=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Pb(t),Pb=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",fge=t=>S8(t)||_8(t)||d8(t);async function E8(t,e,n){var i;if(t=await t,S8(t))return t;if(_8(t)){const a=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const s=Pb(a)?[await a.arrayBuffer()]:[a];return new uj(s,e,n)}const r=await hge(t);if(e||(e=mge(t)??"unknown_file"),!(n!=null&&n.type)){const a=(i=r[0])==null?void 0:i.type;typeof a=="string"&&(n={...n,type:a})}return new uj(r,e,n)}async function hge(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(Pb(t))e.push(await t.arrayBuffer());else if(gge(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${pge(t)}`);return e}function pge(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function mge(t){var e;return d1(t.name)||d1(t.filename)||((e=d1(t.path))==null?void 0:e.split(/[\\/]/).pop())}const d1=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},gge=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",K$=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",MC=async t=>{const e=await yge(t.body);return l8(e,t)},yge=async t=>{const e=new s8;return await Promise.all(Object.entries(t||{}).map(([n,r])=>fj(e,n,r))),e},fj=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(fge(n)){const r=await E8(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>fj(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>fj(t,`${e}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var md={};f8();async function j8(t){var s;const{response:e}=t;if(t.options.stream)return gd("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):Qu.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type"),r=(s=n==null?void 0:n.split(";")[0])==null?void 0:s.trim();if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.endsWith("+json"))){const o=await e.json();return gd("response",e.status,e.url,e.headers,o),o}const a=await e.text();return gd("response",e.status,e.url,e.headers,a),a}class Ib extends Promise{constructor(e,n=j8){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new Ib(this.responsePromise,async n=>e(await this.parseResponse(n),n))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class vge{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e4,httpAgent:i,fetch:a}){this.baseURL=e,this.maxRetries=f1("maxRetries",n),this.timeout=f1("timeout",r),this.httpAgent=i,this.fetch=a??a8}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...Sge(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${Oge()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async i=>{const a=i&&Pb(i==null?void 0:i.body)?new DataView(await i.body.arrayBuffer()):(i==null?void 0:i.body)instanceof DataView?i.body:(i==null?void 0:i.body)instanceof ArrayBuffer?new DataView(i.body):i&&ArrayBuffer.isView(i==null?void 0:i.body)?new DataView(i.body.buffer):i==null?void 0:i.body;return{method:e,path:n,...i,body:a}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){var m;e={...e};const{method:r,path:i,query:a,headers:s={}}=e,o=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:K$(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,l=this.calculateContentLength(o),c=this.buildURL(i,a);"timeout"in e&&f1("timeout",e.timeout),e.timeout=e.timeout??this.timeout;const d=e.httpAgent??this.httpAgent??c8(c),f=e.timeout+1e3;typeof((m=d==null?void 0:d.options)==null?void 0:m.timeout)=="number"&&f>(d.options.timeout??0)&&(d.options.timeout=f),this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const h=this.buildHeaders({options:e,headers:s,contentLength:l,retryCount:n});return{req:{method:r,...o&&{body:o},headers:h,...d&&{agent:d},signal:e.signal??null},url:c,timeout:e.timeout}}buildHeaders({options:e,headers:n,contentLength:r,retryCount:i}){const a={};r&&(a["content-length"]=r);const s=this.defaultHeaders(e);return Q$(a,s),Q$(a,n),K$(e.body)&&fp!=="node"&&delete a["content-type"],Ey(s,"x-stainless-retry-count")===void 0&&Ey(n,"x-stainless-retry-count")===void 0&&(a["x-stainless-retry-count"]=String(i)),Ey(s,"x-stainless-timeout")===void 0&&Ey(n,"x-stainless-timeout")===void 0&&e.timeout&&(a["x-stainless-timeout"]=String(e.timeout)),this.validateHeaders(a,n),a}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,i){return Jn.generate(e,n,r,i)}request(e,n=null){return new Ib(this.makeRequest(e,n))}async makeRequest(e,n){var f,h;const r=await e,i=r.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(r);const{req:a,url:s,timeout:o}=this.buildRequest(r,{retryCount:i-n});if(await this.prepareRequest(a,{url:s,options:r}),gd("request",s,r,a.headers),(f=r.signal)!=null&&f.aborted)throw new dj;const l=new AbortController,c=await this.fetchWithTimeout(s,a,o,l).catch(hj);if(c instanceof Error){if((h=r.signal)!=null&&h.aborted)throw new dj;if(n)return this.retryRequest(r,n);throw c.name==="AbortError"?new h8:new Nb({cause:c})}const d=bge(c.headers);if(!c.ok){if(n&&this.shouldRetry(c)){const b=`retrying, ${n} attempts remaining`;return gd(`response (error; ${b})`,c.status,s,d),this.retryRequest(r,n,d)}const p=await c.text().catch(b=>hj(b).message),m=Ege(p),g=m?void 0:p;throw gd(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,c.status,s,d,g),this.makeStatusError(c.status,m,g,d)}return{response:c,options:r,controller:l}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new xge(this,r,e)}buildURL(e,n){const r=Age(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return Tge(i)||(n={...i,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new ha(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,i){const{signal:a,...s}=n||{};a&&a.addEventListener("abort",()=>i.abort());const o=setTimeout(()=>i.abort(),r),l={signal:i.signal,...s};return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,e,l).finally(()=>{clearTimeout(o)})}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let i;const a=r==null?void 0:r["retry-after-ms"];if(a){const o=parseFloat(a);Number.isNaN(o)||(i=o)}const s=r==null?void 0:r["retry-after"];if(s&&!i){const o=parseFloat(s);Number.isNaN(o)?i=Date.parse(s)-Date.now():i=o*1e3}if(!(i&&0<=i&&i<60*1e3)){const o=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,o)}return await kge(i),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,s=Math.min(.5*Math.pow(2,a),8),o=1-Math.random()*.25;return s*o*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Mu}`}}class xge extends Ib{constructor(e,n,r){super(n,async i=>new r(e,i.response,await j8(i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const bge=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),wge=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Mu,"X-Stainless-OS":X$(Deno.build.os),"X-Stainless-Arch":Y$(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Mu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Mu,"X-Stainless-OS":X$(process.platform),"X-Stainless-Arch":Y$(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=_ge();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Mu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Mu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function _ge(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${a}.${s}`}}}return null}const Y$=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",X$=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Z$;const Sge=()=>Z$??(Z$=wge()),Ege=t=>{try{return JSON.parse(t)}catch{return}},jge=/^[a-z][a-z0-9+.-]*:/i,Age=t=>jge.test(t),kge=t=>new Promise(e=>setTimeout(e,t)),f1=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ha(`${t} must be an integer`);if(e<0)throw new ha(`${t} must be a positive integer`);return e},hj=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},J$=t=>{var e,n,r,i;if(typeof process<"u")return((e=md==null?void 0:md[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(i=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:i.trim()};function Tge(t){if(!t)return!0;for(const e in t)return!1;return!0}function Cge(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Q$(t,e){for(const n in e){if(!Cge(e,n))continue;const r=n.toLowerCase();if(!r)continue;const i=e[n];i===null?delete t[r]:i!==void 0&&(t[r]=i)}}function gd(t,...e){typeof process<"u"&&(md==null?void 0:md.DEBUG)==="true"&&console.log(`Groq:DEBUG:${t}`,...e)}const Oge=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),Nge=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",Pge=t=>typeof(t==null?void 0:t.get)=="function",Ey=(t,e)=>{var r;const n=e.toLowerCase();if(Pge(t)){const i=((r=e[0])==null?void 0:r.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(a,s,o)=>s+o.toUpperCase());for(const a of[e,n,e.toUpperCase(),i]){const s=t.get(a);if(s)return s}}for(const[i,a]of Object.entries(t))if(i.toLowerCase()===n)return Array.isArray(a)?(a.length<=1||console.warn(`Received ${a.length} entries for the ${e} header, using the first entry.`),a[0]):a};class ka{constructor(e){this._client=e}}class A8 extends ka{create(e,n){return this._client.post("/openai/v1/audio/speech",{body:e,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class k8 extends ka{create(e,n){return this._client.post("/openai/v1/audio/transcriptions",MC({body:e,...n}))}}class T8 extends ka{create(e,n){return this._client.post("/openai/v1/audio/translations",MC({body:e,...n}))}}class gg extends ka{constructor(){super(...arguments),this.speech=new A8(this._client),this.transcriptions=new k8(this._client),this.translations=new T8(this._client)}}gg.Speech=A8;gg.Transcriptions=k8;gg.Translations=T8;class C8 extends ka{create(e,n){return this._client.post("/openai/v1/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/openai/v1/batches/${e}`,n)}list(e){return this._client.get("/openai/v1/batches",e)}cancel(e,n){return this._client.post(`/openai/v1/batches/${e}/cancel`,n)}}let O8=class extends ka{create(e,n){return this._client.post("/openai/v1/chat/completions",{body:e,...n,stream:e.stream??!1})}};class DC extends ka{constructor(){super(...arguments),this.completions=new O8(this._client)}}DC.Completions=O8;class N8 extends ka{}class P8 extends ka{create(e,n){return this._client.post("/openai/v1/embeddings",{body:e,...n})}}class I8 extends ka{create(e,n){return this._client.post("/openai/v1/files",MC({body:e,...n}))}list(e){return this._client.get("/openai/v1/files",e)}delete(e,n){return this._client.delete(`/openai/v1/files/${e}`,n)}content(e,n){return this._client.get(`/openai/v1/files/${e}/content`,n)}info(e,n){return this._client.get(`/openai/v1/files/${e}`,n)}}class $8 extends ka{retrieve(e,n){return this._client.get(`/openai/v1/models/${e}`,n)}list(e){return this._client.get("/openai/v1/models",e)}delete(e,n){return this._client.delete(`/openai/v1/models/${e}`,n)}}var R8;class Rt extends vge{constructor({baseURL:e=J$("GROQ_BASE_URL"),apiKey:n=J$("GROQ_API_KEY"),...r}={}){if(n===void 0)throw new ha("The GROQ_API_KEY environment variable is missing or empty; either provide it, or instantiate the Groq client with an apiKey option, like new Groq({ apiKey: 'My API Key' }).");const i={apiKey:n,...r,baseURL:e||"https://api.groq.com"};if(!i.dangerouslyAllowBrowser&&Nge())throw new ha(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Groq({ apiKey, dangerouslyAllowBrowser: true })`);super({baseURL:i.baseURL,timeout:i.timeout??6e4,httpAgent:i.httpAgent,maxRetries:i.maxRetries,fetch:i.fetch}),this.completions=new N8(this),this.chat=new DC(this),this.embeddings=new P8(this),this.audio=new gg(this),this.models=new $8(this),this.batches=new C8(this),this.files=new I8(this),this._options=i,this.apiKey=n}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}}R8=Rt;Rt.Groq=R8;Rt.DEFAULT_TIMEOUT=6e4;Rt.GroqError=ha;Rt.APIError=Jn;Rt.APIConnectionError=Nb;Rt.APIConnectionTimeoutError=h8;Rt.APIUserAbortError=dj;Rt.NotFoundError=y8;Rt.ConflictError=v8;Rt.RateLimitError=b8;Rt.BadRequestError=p8;Rt.AuthenticationError=m8;Rt.InternalServerError=w8;Rt.PermissionDeniedError=g8;Rt.UnprocessableEntityError=x8;Rt.toFile=E8;Rt.fileFromPath=u8;Rt.Completions=N8;Rt.Chat=DC;Rt.Embeddings=P8;Rt.Audio=gg;Rt.Models=$8;Rt.Batches=C8;Rt.Files=I8;var Ige=class extends fn{constructor(e){super(e);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"lc_serializable",!0);H(this,"runnables");this.runnables=e.runnables}static lc_name(){return"RouterRunnable"}async invoke(e,n){const{key:r,input:i}=e,a=this.runnables[r];if(a===void 0)throw new Error(`No runnable associated with key "${r}".`);return a.invoke(i,pt(n))}async batch(e,n,r){var h;const i=e.map(p=>p.key),a=e.map(p=>p.input);if(i.find(p=>this.runnables[p]===void 0)!==void 0)throw new Error("One or more keys do not have a corresponding runnable.");const o=i.map(p=>this.runnables[p]),l=this._getOptionsList(n??{},e.length),c=((h=l[0])==null?void 0:h.maxConcurrency)??(r==null?void 0:r.maxConcurrency),d=c&&c>0?c:e.length,f=[];for(let p=0;p<a.length;p+=d){const m=a.slice(p,p+d).map((x,v)=>o[v].invoke(x,l[v])),g=await Promise.all(m);f.push(g)}return f.flat()}async stream(e,n){const{key:r,input:i}=e,a=this.runnables[r];if(a===void 0)throw new Error(`No runnable associated with key "${r}".`);return a.stream(i,n)}},$ge=class extends fn{constructor(e){super(e);H(this,"lc_namespace",["langchain_core","runnables"]);H(this,"lc_serializable",!0);H(this,"default");H(this,"branches");this.branches=e.branches,this.default=e.default}static lc_name(){return"RunnableBranch"}static from(e){if(e.length<1)throw new Error("RunnableBranch requires at least one branch");const r=e.slice(0,-1).map(([a,s])=>[aa(a),aa(s)]),i=aa(e[e.length-1]);return new this({branches:r,default:i})}async _invoke(e,n,r){let i;for(let a=0;a<this.branches.length;a+=1){const[s,o]=this.branches[a];if(await s.invoke(e,Zt(n,{callbacks:r==null?void 0:r.getChild(`condition:${a+1}`)}))){i=await o.invoke(e,Zt(n,{callbacks:r==null?void 0:r.getChild(`branch:${a+1}`)}));break}}return i||(i=await this.default.invoke(e,Zt(n,{callbacks:r==null?void 0:r.getChild("branch:default")}))),i}async invoke(e,n={}){return this._callWithConfig(this._invoke,e,n)}async*_streamIterator(e,n){const r=await ri(n),i=await(r==null?void 0:r.handleChainStart(this.toJSON(),_n(e,"input"),n==null?void 0:n.runId,void 0,void 0,void 0,n==null?void 0:n.runName));let a,s=!0,o;try{for(let l=0;l<this.branches.length;l+=1){const[c,d]=this.branches[l];if(await c.invoke(e,Zt(n,{callbacks:i==null?void 0:i.getChild(`condition:${l+1}`)}))){o=await d.stream(e,Zt(n,{callbacks:i==null?void 0:i.getChild(`branch:${l+1}`)}));for await(const h of o)if(yield h,s)if(a===void 0)a=h;else try{a=zc(a,h)}catch{a=void 0,s=!1}break}}if(o===void 0){o=await this.default.stream(e,Zt(n,{callbacks:i==null?void 0:i.getChild("branch:default")}));for await(const l of o)if(yield l,s)if(a===void 0)a=l;else try{a=zc(a,l)}catch{a=void 0,s=!1}}}catch(l){throw await(i==null?void 0:i.handleChainError(l)),l}await(i==null?void 0:i.handleChainEnd(a??{}))}},Rge=class extends Xd{constructor(e){let n=Ml.from((s,o)=>this._enterHistory(s,o??{})).withConfig({runName:"loadHistory"});const r=e.historyMessagesKey??e.inputMessagesKey;r&&(n=Zd.assign({[r]:n}).withConfig({runName:"insertHistory"}));const i=n.pipe(e.runnable.withListeners({onEnd:(s,o)=>this._exitHistory(s,o??{})})).withConfig({runName:"RunnableWithMessageHistory"}),a=e.config??{};super({...e,config:a,bound:i});H(this,"runnable");H(this,"inputMessagesKey");H(this,"outputMessagesKey");H(this,"historyMessagesKey");H(this,"getMessageHistory");this.runnable=e.runnable,this.getMessageHistory=e.getMessageHistory,this.inputMessagesKey=e.inputMessagesKey,this.outputMessagesKey=e.outputMessagesKey,this.historyMessagesKey=e.historyMessagesKey}_getInputMessages(e){let n;if(typeof e=="object"&&!Array.isArray(e)&&!Go(e)){let r;this.inputMessagesKey?r=this.inputMessagesKey:Object.keys(e).length===1?r=Object.keys(e)[0]:r="input",Array.isArray(e[r])&&Array.isArray(e[r][0])?n=e[r][0]:n=e[r]}else n=e;if(typeof n=="string")return[new xa(n)];if(Array.isArray(n))return n;if(Go(n))return[n];throw new Error(`Expected a string, BaseMessage, or array of BaseMessages.
Got ${JSON.stringify(n,null,2)}`)}_getOutputMessages(e){let n;if(!Array.isArray(e)&&!Go(e)&&typeof e!="string"){let r;this.outputMessagesKey!==void 0?r=this.outputMessagesKey:Object.keys(e).length===1?r=Object.keys(e)[0]:r="output",e.generations!==void 0?n=e.generations[0][0].message:n=e[r]}else n=e;if(typeof n=="string")return[new us(n)];if(Array.isArray(n))return n;if(Go(n))return[n];throw new Error(`Expected a string, BaseMessage, or array of BaseMessages. Received: ${JSON.stringify(n,null,2)}`)}async _enterHistory(e,n){var a;const i=await((a=n==null?void 0:n.configurable)==null?void 0:a.messageHistory).getMessages();return this.historyMessagesKey===void 0?i.concat(this._getInputMessages(e)):i}async _exitHistory(e,n){var l;const r=(l=n.configurable)==null?void 0:l.messageHistory;let i;Array.isArray(e.inputs)&&Array.isArray(e.inputs[0])?i=e.inputs[0]:i=e.inputs;let a=this._getInputMessages(i);if(this.historyMessagesKey===void 0){const c=await r.getMessages();a=a.slice(c.length)}const s=e.outputs;if(!s)throw new Error(`Output values from 'Run' undefined. Run: ${JSON.stringify(e,null,2)}`);const o=this._getOutputMessages(s);await r.addMessages([...a,...o])}async _mergeConfig(...e){const n=await super._mergeConfig(...e);if(!n.configurable||!n.configurable.sessionId){const i={[this.inputMessagesKey??"input"]:"foo"},a={configurable:{sessionId:"123"}};throw new Error(`sessionId is required. Pass it in as part of the config argument to .invoke() or .stream()
eg. chain.invoke(${JSON.stringify(i)}, ${JSON.stringify(a)})`)}const{sessionId:r}=n.configurable;return n.configurable.messageHistory=await this.getMessageHistory(r),n}},Mge={};bt(Mge,{RouterRunnable:()=>Ige,Runnable:()=>fn,RunnableAssign:()=>PC,RunnableBinding:()=>Xd,RunnableBranch:()=>$ge,RunnableEach:()=>hme,RunnableLambda:()=>Ml,RunnableMap:()=>zf,RunnableParallel:()=>gme,RunnablePassthrough:()=>Zd,RunnablePick:()=>H6,RunnableRetry:()=>NC,RunnableSequence:()=>mg,RunnableToolLike:()=>lj,RunnableWithFallbacks:()=>U6,RunnableWithMessageHistory:()=>Rge,_coerceToRunnable:()=>aa,ensureConfig:()=>pt,getCallbackManagerForConfig:()=>ri,mergeConfigs:()=>XE,patchConfig:()=>Zt,pickRunnableConfigKeys:()=>Bc,raceWithSignal:()=>io});var M8=class extends fn{parseResultWithPrompt(t,e,n){return this.parseResult(t,n)}_baseMessageToString(t){return typeof t.content=="string"?t.content:this._baseMessageContentToString(t.content)}_baseMessageContentToString(t){return JSON.stringify(t)}async invoke(t,e){return typeof t=="string"?this._callWithConfig(async(n,r)=>this.parseResult([{text:n}],r==null?void 0:r.callbacks),t,{...e,runType:"parser"}):this._callWithConfig(async(n,r)=>this.parseResult([{message:n,text:this._baseMessageToString(n)}],r==null?void 0:r.callbacks),t,{...e,runType:"parser"})}},$b=class extends M8{parseResult(t,e){return this.parse(t[0].text,e)}async parseWithPrompt(t,e,n){return this.parse(t,n)}_type(){throw new Error("_type not implemented")}},Us=class extends Error{constructor(e,n,r,i=!1){super(e);H(this,"llmOutput");H(this,"observation");H(this,"sendToLLM");if(this.llmOutput=n,this.observation=r,this.sendToLLM=i,i&&(r===void 0||n===void 0))throw new Error("Arguments 'observation' & 'llmOutput' are required if 'sendToLlm' is true");NU(this,"OUTPUT_PARSING_FAILURE")}},yg=class extends $b{async*_transform(t){for await(const e of t)typeof e=="string"?yield this.parseResult([{text:e}]):yield this.parseResult([{message:e,text:this._baseMessageToString(e)}])}async*transform(t,e){yield*this._transformStreamWithConfig(t,this._transform.bind(this),{...e,runType:"parser"})}},Rb=class extends yg{constructor(e){super(e);H(this,"diff",!1);this.diff=(e==null?void 0:e.diff)??this.diff}async*_transform(e){let n,r;for await(const i of e){if(typeof i!="string"&&typeof i.content!="string")throw new Error("Cannot handle non-string output.");let a;if(oC(i)){if(typeof i.content!="string")throw new Error("Cannot handle non-string message output.");a=new am({message:i,text:i.content})}else if(Go(i)){if(typeof i.content!="string")throw new Error("Cannot handle non-string message output.");a=new am({message:c0(i),text:i.content})}else a=new im({text:i});r===void 0?r=a:r=r.concat(a);const s=await this.parsePartialResult([r]);s!=null&&!jc(s,n)&&(this.diff?yield this._diff(n,s):yield s,n=s)}}getFormatInstructions(){return""}},Dge={};bt(Dge,{applyPatch:()=>Yd,compare:()=>kC});var D8=class extends Rb{constructor(){super(...arguments);H(this,"lc_namespace",["langchain_core","output_parsers"]);H(this,"lc_serializable",!0)}static lc_name(){return"JsonOutputParser"}_concatOutputChunks(e,n){return this.diff?super._concatOutputChunks(e,n):n}_diff(e,n){if(n)return e?kC(e,n):[{op:"replace",path:"",value:n}]}async parsePartialResult(e){return UE(e[0].text)}async parse(e){return UE(e,JSON.parse)}getFormatInstructions(){return""}},Lge=class extends yg{constructor(){super(...arguments);H(this,"lc_namespace",["langchain_core","output_parsers","bytes"]);H(this,"lc_serializable",!0);H(this,"textEncoder",new TextEncoder)}static lc_name(){return"BytesOutputParser"}parse(e){return Promise.resolve(this.textEncoder.encode(e))}getFormatInstructions(){return""}},vg=class extends yg{constructor(){super(...arguments);H(this,"re")}async*_transform(e){let n="";for await(const r of e)if(typeof r=="string"?n+=r:n+=r.content,this.re){const i=[...n.matchAll(this.re)];if(i.length>1){let a=0;for(const s of i.slice(0,-1))yield[s[1]],a+=(s.index??0)+s[0].length;n=n.slice(a)}}else{const i=await this.parse(n);if(i.length>1){for(const a of i.slice(0,-1))yield[a];n=i[i.length-1]}}for(const r of await this.parse(n))yield[r]}},Fge=class extends vg{constructor(){super(...arguments);H(this,"lc_namespace",["langchain_core","output_parsers","list"]);H(this,"lc_serializable",!0)}static lc_name(){return"CommaSeparatedListOutputParser"}async parse(e){try{return e.trim().split(",").map(n=>n.trim())}catch{throw new Us(`Could not parse output: ${e}`,e)}}getFormatInstructions(){return"Your response should be a list of comma separated values, eg: `foo, bar, baz`"}},Bge=class extends vg{constructor({length:e,separator:n}){super(...arguments);H(this,"lc_namespace",["langchain_core","output_parsers","list"]);H(this,"length");H(this,"separator");this.length=e,this.separator=n||","}async parse(e){try{const n=e.trim().split(this.separator).map(r=>r.trim());if(this.length!==void 0&&n.length!==this.length)throw new Us(`Incorrect number of items. Expected ${this.length}, got ${n.length}.`);return n}catch(n){throw Object.getPrototypeOf(n)===Us.prototype?n:new Us(`Could not parse output: ${e}`)}}getFormatInstructions(){return`Your response should be a list of ${this.length===void 0?"":`${this.length} `}items separated by "${this.separator}" (eg: \`foo${this.separator} bar${this.separator} baz\`)`}},zge=class extends vg{constructor(){super(...arguments);H(this,"lc_namespace",["langchain_core","output_parsers","list"]);H(this,"lc_serializable",!0);H(this,"re",/\d+\.\s([^\n]+)/g)}static lc_name(){return"NumberedListOutputParser"}getFormatInstructions(){return`Your response should be a numbered list with each item on a new line. For example: 

1. foo

2. bar

3. baz`}async parse(e){return[...e.matchAll(this.re)??[]].map(n=>n[1])}},Uge=class extends vg{constructor(){super(...arguments);H(this,"lc_namespace",["langchain_core","output_parsers","list"]);H(this,"lc_serializable",!0);H(this,"re",/^\s*[-*]\s([^\n]+)$/gm)}static lc_name(){return"NumberedListOutputParser"}getFormatInstructions(){return`Your response should be a numbered list with each item on a new line. For example: 

1. foo

2. bar

3. baz`}async parse(e){return[...e.matchAll(this.re)??[]].map(n=>n[1])}},Hge=class extends yg{constructor(){super(...arguments);H(this,"lc_namespace",["langchain_core","output_parsers","string"]);H(this,"lc_serializable",!0)}static lc_name(){return"StrOutputParser"}parse(e){return Promise.resolve(e)}getFormatInstructions(){return""}_textContentToString(e){return e.text}_imageUrlContentToString(e){throw new Error('Cannot coerce a multimodal "image_url" message part into a string.')}_messageContentToString(e){switch(e.type){case"text":case"text_delta":if("text"in e)return this._textContentToString(e);break;case"image_url":if("image_url"in e)return this._imageUrlContentToString(e);break;default:throw new Error(`Cannot coerce "${e.type}" message part into a string.`)}throw new Error(`Invalid content type: ${e.type}`)}_baseMessageContentToString(e){return e.reduce((n,r)=>n+this._messageContentToString(r),"")}},LC=class extends $b{constructor(e){super(e);H(this,"lc_namespace",["langchain","output_parsers","structured"]);this.schema=e}static lc_name(){return"StructuredOutputParser"}toJSON(){return this.toJSONNotImplemented()}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){const n=tC(Object.fromEntries(Object.entries(e).map(([r,i])=>[r,eC().describe(i)])));return new this(n)}getFormatInstructions(){return`You must format your output as a JSON value that adheres to a given "JSON Schema" instance.

"JSON Schema" is a declarative language that allows you to annotate and validate JSON documents.

For example, the example "JSON Schema" instance {{"properties": {{"foo": {{"description": "a list of test words", "type": "array", "items": {{"type": "string"}}}}}}, "required": ["foo"]}}
would match an object with one required property, "foo". The "type" property specifies "foo" must be an "array", and the "description" property semantically describes it as "a list of test words". The items within "foo" must be strings.
Thus, the object {{"foo": ["bar", "baz"]}} is a well-formatted instance of this example "JSON Schema". The object {{"properties": {{"foo": ["bar", "baz"]}}}} is not well-formatted.

Your output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!

Here is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:
\`\`\`json
${JSON.stringify(_l(this.schema))}
\`\`\`
`}async parse(e){var n,r;try{const i=e.trim(),s=(((n=i.match(/^```(?:json)?\s*([\s\S]*?)```/))==null?void 0:n[1])||((r=i.match(/```json\s*([\s\S]*?)```/))==null?void 0:r[1])||i).replace(/"([^"\\]*(\\.[^"\\]*)*)"/g,(o,l)=>`"${l.replace(/\n/g,"\\n")}"`).replace(/\n/g,"");return await XT(this.schema,JSON.parse(s))}catch(i){throw new Us(`Failed to parse. Text: "${e}". Error: ${i}`,e)}}},L8=class extends LC{static lc_name(){return"JsonMarkdownStructuredOutputParser"}getFormatInstructions(t){const e=(t==null?void 0:t.interpolationDepth)??1;if(e<1)throw new Error("f string interpolation depth must be at least 1");return`Return a markdown code snippet with a JSON object formatted to look like:
\`\`\`json
${this._schemaToInstruction(_l(this.schema)).replaceAll("{","{".repeat(e)).replaceAll("}","}".repeat(e))}
\`\`\``}_schemaToInstruction(t,e=2){const n=t;if("type"in n){let r=!1,i;if(Array.isArray(n.type)){const o=n.type.findIndex(l=>l==="null");o!==-1&&(r=!0,n.type.splice(o,1)),i=n.type.join(" | ")}else i=n.type;if(n.type==="object"&&n.properties){const o=n.description?` // ${n.description}`:"";return`{
${Object.entries(n.properties).map(([c,d])=>{var h;const f=(h=n.required)!=null&&h.includes(c)?"":" (optional)";return`${" ".repeat(e)}"${c}": ${this._schemaToInstruction(d,e+2)}${f}`}).join(`
`)}
${" ".repeat(e-2)}}${o}`}if(n.type==="array"&&n.items){const o=n.description?` // ${n.description}`:"";return`array[
${" ".repeat(e)}${this._schemaToInstruction(n.items,e+2)}
${" ".repeat(e-2)}] ${o}`}const a=r?" (nullable)":"",s=n.description?` // ${n.description}`:"";return`${i}${s}${a}`}if("anyOf"in n)return n.anyOf.map(r=>this._schemaToInstruction(r,e)).join(`
${" ".repeat(e-2)}`);throw new Error("unsupported schema type")}static fromZodSchema(t){return new this(t)}static fromNamesAndDescriptions(t){const e=tC(Object.fromEntries(Object.entries(t).map(([n,r])=>[n,eC().describe(r)])));return new this(e)}},Vge=class extends $b{constructor({inputSchema:e}){super(...arguments);H(this,"structuredInputParser");this.structuredInputParser=new L8(e)}async parse(e){let n;try{n=await this.structuredInputParser.parse(e)}catch(r){throw new Us(`Failed to parse. Text: "${e}". Error: ${r}`,e)}return this.outputProcessor(n)}getFormatInstructions(){return this.structuredInputParser.getFormatInstructions()}};const Wge=function(){const t={};t.parser=function(I,N){return new n(I,N)},t.SAXParser=n,t.SAXStream=c,t.createStream=l,t.MAX_BUFFER_LENGTH=64*1024;const e=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(I,N){if(!(this instanceof n))return new n(I,N);var K=this;i(K),K.q=K.c="",K.bufferCheckPosition=t.MAX_BUFFER_LENGTH,K.opt=N||{},K.opt.lowercase=K.opt.lowercase||K.opt.lowercasetags,K.looseCase=K.opt.lowercase?"toLowerCase":"toUpperCase",K.tags=[],K.closed=K.closedRoot=K.sawRoot=!1,K.tag=K.error=null,K.strict=!!I,K.noscript=!!(I||K.opt.noscript),K.state=j.BEGIN,K.strictEntities=K.opt.strictEntities,K.ENTITIES=K.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),K.attribList=[],K.opt.xmlns&&(K.ns=Object.create(m)),K.trackPosition=K.opt.position!==!1,K.trackPosition&&(K.position=K.line=K.column=0),C(K,"onready")}Object.create||(Object.create=function(I){function N(){}N.prototype=I;var K=new N;return K}),Object.keys||(Object.keys=function(I){var N=[];for(var K in I)I.hasOwnProperty(K)&&N.push(K);return N});function r(I){for(var N=Math.max(t.MAX_BUFFER_LENGTH,10),K=0,z=0,Z=e.length;z<Z;z++){var J=I[e[z]].length;if(J>N)switch(e[z]){case"textNode":O(I);break;case"cdata":T(I,"oncdata",I.cdata),I.cdata="";break;case"script":T(I,"onscript",I.script),I.script="";break;default:R(I,"Max buffer length exceeded: "+e[z])}K=Math.max(K,J)}var Y=t.MAX_BUFFER_LENGTH-K;I.bufferCheckPosition=Y+I.position}function i(I){for(var N=0,K=e.length;N<K;N++)I[e[N]]=""}function a(I){O(I),I.cdata!==""&&(T(I,"oncdata",I.cdata),I.cdata=""),I.script!==""&&(T(I,"onscript",I.script),I.script="")}n.prototype={end:function(){F(this)},write:ie,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};var s=ReadableStream;s||(s=function(){});var o=t.EVENTS.filter(function(I){return I!=="error"&&I!=="end"});function l(I,N){return new c(I,N)}function c(I,N){if(!(this instanceof c))return new c(I,N);s.apply(this),this._parser=new n(I,N),this.writable=!0,this.readable=!0;var K=this;this._parser.onend=function(){K.emit("end")},this._parser.onerror=function(z){K.emit("error",z),K._parser.error=null},this._decoder=null,o.forEach(function(z){Object.defineProperty(K,"on"+z,{get:function(){return K._parser["on"+z]},set:function(Z){if(!Z)return K.removeAllListeners(z),K._parser["on"+z]=Z,Z;K.on(z,Z)},enumerable:!0,configurable:!1})})}c.prototype=Object.create(s.prototype,{constructor:{value:c}}),c.prototype.write=function(I){return this._parser.write(I.toString()),this.emit("data",I),!0},c.prototype.end=function(I){return I&&I.length&&this.write(I),this._parser.end(),!0},c.prototype.on=function(I,N){var K=this;return!K._parser["on"+I]&&o.indexOf(I)!==-1&&(K._parser["on"+I]=function(){var z=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);z.splice(0,0,I),K.emit.apply(K,z)}),s.prototype.on.call(K,I,N)};var d="[CDATA[",f="DOCTYPE",h="http://www.w3.org/XML/1998/namespace",p="http://www.w3.org/2000/xmlns/",m={xml:h,xmlns:p},g=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,x=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,v=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function y(I){return I===" "||I===`
`||I==="\r"||I==="	"}function w(I){return I==='"'||I==="'"}function _(I){return I===">"||y(I)}function E(I,N){return I.test(N)}function A(I,N){return!E(I,N)}var j=0;t.STATE={BEGIN:j++,BEGIN_WHITESPACE:j++,TEXT:j++,TEXT_ENTITY:j++,OPEN_WAKA:j++,SGML_DECL:j++,SGML_DECL_QUOTED:j++,DOCTYPE:j++,DOCTYPE_QUOTED:j++,DOCTYPE_DTD:j++,DOCTYPE_DTD_QUOTED:j++,COMMENT_STARTING:j++,COMMENT:j++,COMMENT_ENDING:j++,COMMENT_ENDED:j++,CDATA:j++,CDATA_ENDING:j++,CDATA_ENDING_2:j++,PROC_INST:j++,PROC_INST_BODY:j++,PROC_INST_ENDING:j++,OPEN_TAG:j++,OPEN_TAG_SLASH:j++,ATTRIB:j++,ATTRIB_NAME:j++,ATTRIB_NAME_SAW_WHITE:j++,ATTRIB_VALUE:j++,ATTRIB_VALUE_QUOTED:j++,ATTRIB_VALUE_CLOSED:j++,ATTRIB_VALUE_UNQUOTED:j++,ATTRIB_VALUE_ENTITY_Q:j++,ATTRIB_VALUE_ENTITY_U:j++,CLOSE_TAG:j++,CLOSE_TAG_SAW_WHITE:j++,SCRIPT:j++,SCRIPT_ENDING:j++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(I){var N=t.ENTITIES[I],K=typeof N=="number"?String.fromCharCode(N):N;t.ENTITIES[I]=K});for(var k in t.STATE)t.STATE[t.STATE[k]]=k;j=t.STATE;function C(I,N,K){I[N]&&I[N](K)}function T(I,N,K){I.textNode&&O(I),C(I,N,K)}function O(I){I.textNode=L(I.opt,I.textNode),I.textNode&&C(I,"ontext",I.textNode),I.textNode=""}function L(I,N){return I.trim&&(N=N.trim()),I.normalize&&(N=N.replace(/\s+/g," ")),N}function R(I,N){return O(I),I.trackPosition&&(N+=`
Line: `+I.line+`
Column: `+I.column+`
Char: `+I.c),N=new Error(N),I.error=N,C(I,"onerror",N),I}function F(I){return I.sawRoot&&!I.closedRoot&&U(I,"Unclosed root tag"),I.state!==j.BEGIN&&I.state!==j.BEGIN_WHITESPACE&&I.state!==j.TEXT&&R(I,"Unexpected end"),O(I),I.c="",I.closed=!0,C(I,"onend"),n.call(I,I.strict,I.opt),I}function U(I,N){if(typeof I!="object"||!(I instanceof n))throw new Error("bad call to strictFail");I.strict&&R(I,N)}function V(I){I.strict||(I.tagName=I.tagName[I.looseCase]());var N=I.tags[I.tags.length-1]||I,K=I.tag={name:I.tagName,attributes:{}};I.opt.xmlns&&(K.ns=N.ns),I.attribList.length=0,T(I,"onopentagstart",K)}function D(I,N){var K=I.indexOf(":"),z=K<0?["",I]:I.split(":"),Z=z[0],J=z[1];return N&&I==="xmlns"&&(Z="xmlns",J=""),{prefix:Z,local:J}}function B(I){if(I.strict||(I.attribName=I.attribName[I.looseCase]()),I.attribList.indexOf(I.attribName)!==-1||I.tag.attributes.hasOwnProperty(I.attribName)){I.attribName=I.attribValue="";return}if(I.opt.xmlns){var N=D(I.attribName,!0),K=N.prefix,z=N.local;if(K==="xmlns")if(z==="xml"&&I.attribValue!==h)U(I,"xml: prefix must be bound to "+h+`
Actual: `+I.attribValue);else if(z==="xmlns"&&I.attribValue!==p)U(I,"xmlns: prefix must be bound to "+p+`
Actual: `+I.attribValue);else{var Z=I.tag,J=I.tags[I.tags.length-1]||I;Z.ns===J.ns&&(Z.ns=Object.create(J.ns)),Z.ns[z]=I.attribValue}I.attribList.push([I.attribName,I.attribValue])}else I.tag.attributes[I.attribName]=I.attribValue,T(I,"onattribute",{name:I.attribName,value:I.attribValue});I.attribName=I.attribValue=""}function P(I,N){if(I.opt.xmlns){var K=I.tag,z=D(I.tagName);K.prefix=z.prefix,K.local=z.local,K.uri=K.ns[z.prefix]||"",K.prefix&&!K.uri&&(U(I,"Unbound namespace prefix: "+JSON.stringify(I.tagName)),K.uri=z.prefix);var Z=I.tags[I.tags.length-1]||I;K.ns&&Z.ns!==K.ns&&Object.keys(K.ns).forEach(function(At){T(I,"onopennamespace",{prefix:At,uri:K.ns[At]})});for(var J=0,Y=I.attribList.length;J<Y;J++){var me=I.attribList[J],le=me[0],ve=me[1],oe=D(le,!0),Be=oe.prefix,ke=oe.local,Me=Be===""?"":K.ns[Be]||"",ae={name:le,value:ve,prefix:Be,local:ke,uri:Me};Be&&Be!=="xmlns"&&!Me&&(U(I,"Unbound namespace prefix: "+JSON.stringify(Be)),ae.uri=Be),I.tag.attributes[le]=ae,T(I,"onattribute",ae)}I.attribList.length=0}I.tag.isSelfClosing=!!N,I.sawRoot=!0,I.tags.push(I.tag),T(I,"onopentag",I.tag),N||(!I.noscript&&I.tagName.toLowerCase()==="script"?I.state=j.SCRIPT:I.state=j.TEXT,I.tag=null,I.tagName=""),I.attribName=I.attribValue="",I.attribList.length=0}function W(I){if(!I.tagName){U(I,"Weird empty close tag."),I.textNode+="</>",I.state=j.TEXT;return}if(I.script){if(I.tagName!=="script"){I.script+="</"+I.tagName+">",I.tagName="",I.state=j.SCRIPT;return}T(I,"onscript",I.script),I.script=""}var N=I.tags.length,K=I.tagName;I.strict||(K=K[I.looseCase]());for(var z=K;N--;){var Z=I.tags[N];if(Z.name!==z)U(I,"Unexpected close tag");else break}if(N<0){U(I,"Unmatched closing tag: "+I.tagName),I.textNode+="</"+I.tagName+">",I.state=j.TEXT;return}I.tagName=K;for(var J=I.tags.length;J-- >N;){var Y=I.tag=I.tags.pop();I.tagName=I.tag.name,T(I,"onclosetag",I.tagName);var me={};for(var le in Y.ns)me[le]=Y.ns[le];var ve=I.tags[I.tags.length-1]||I;I.opt.xmlns&&Y.ns!==ve.ns&&Object.keys(Y.ns).forEach(function(oe){var Be=Y.ns[oe];T(I,"onclosenamespace",{prefix:oe,uri:Be})})}N===0&&(I.closedRoot=!0),I.tagName=I.attribValue=I.attribName="",I.attribList.length=0,I.state=j.TEXT}function G(I){var N=I.entity,K=N.toLowerCase(),z,Z="";return I.ENTITIES[N]?I.ENTITIES[N]:I.ENTITIES[K]?I.ENTITIES[K]:(N=K,N.charAt(0)==="#"&&(N.charAt(1)==="x"?(N=N.slice(2),z=parseInt(N,16),Z=z.toString(16)):(N=N.slice(1),z=parseInt(N,10),Z=z.toString(10))),N=N.replace(/^0+/,""),isNaN(z)||Z.toLowerCase()!==N?(U(I,"Invalid character entity"),"&"+I.entity+";"):String.fromCodePoint(z))}function $(I,N){N==="<"?(I.state=j.OPEN_WAKA,I.startTagPosition=I.position):y(N)||(U(I,"Non-whitespace before first tag."),I.textNode=N,I.state=j.TEXT)}function ee(I,N){var K="";return N<I.length&&(K=I.charAt(N)),K}function ie(I){var N=this;if(this.error)throw this.error;if(N.closed)return R(N,"Cannot write after close. Assign an onready handler.");if(I===null)return F(N);typeof I=="object"&&(I=I.toString());for(var K=0,z="";z=ee(I,K++),N.c=z,!!z;)switch(N.trackPosition&&(N.position++,z===`
`?(N.line++,N.column=0):N.column++),N.state){case j.BEGIN:if(N.state=j.BEGIN_WHITESPACE,z==="\uFEFF")continue;$(N,z);continue;case j.BEGIN_WHITESPACE:$(N,z);continue;case j.TEXT:if(N.sawRoot&&!N.closedRoot){for(var Z=K-1;z&&z!=="<"&&z!=="&";)z=ee(I,K++),z&&N.trackPosition&&(N.position++,z===`
`?(N.line++,N.column=0):N.column++);N.textNode+=I.substring(Z,K-1)}z==="<"&&!(N.sawRoot&&N.closedRoot&&!N.strict)?(N.state=j.OPEN_WAKA,N.startTagPosition=N.position):(!y(z)&&(!N.sawRoot||N.closedRoot)&&U(N,"Text data outside of root node."),z==="&"?N.state=j.TEXT_ENTITY:N.textNode+=z);continue;case j.SCRIPT:z==="<"?N.state=j.SCRIPT_ENDING:N.script+=z;continue;case j.SCRIPT_ENDING:z==="/"?N.state=j.CLOSE_TAG:(N.script+="<"+z,N.state=j.SCRIPT);continue;case j.OPEN_WAKA:if(z==="!")N.state=j.SGML_DECL,N.sgmlDecl="";else if(!y(z))if(E(g,z))N.state=j.OPEN_TAG,N.tagName=z;else if(z==="/")N.state=j.CLOSE_TAG,N.tagName="";else if(z==="?")N.state=j.PROC_INST,N.procInstName=N.procInstBody="";else{if(U(N,"Unencoded <"),N.startTagPosition+1<N.position){var J=N.position-N.startTagPosition;z=new Array(J).join(" ")+z}N.textNode+="<"+z,N.state=j.TEXT}continue;case j.SGML_DECL:(N.sgmlDecl+z).toUpperCase()===d?(T(N,"onopencdata"),N.state=j.CDATA,N.sgmlDecl="",N.cdata=""):N.sgmlDecl+z==="--"?(N.state=j.COMMENT,N.comment="",N.sgmlDecl=""):(N.sgmlDecl+z).toUpperCase()===f?(N.state=j.DOCTYPE,(N.doctype||N.sawRoot)&&U(N,"Inappropriately located doctype declaration"),N.doctype="",N.sgmlDecl=""):z===">"?(T(N,"onsgmldeclaration",N.sgmlDecl),N.sgmlDecl="",N.state=j.TEXT):(w(z)&&(N.state=j.SGML_DECL_QUOTED),N.sgmlDecl+=z);continue;case j.SGML_DECL_QUOTED:z===N.q&&(N.state=j.SGML_DECL,N.q=""),N.sgmlDecl+=z;continue;case j.DOCTYPE:z===">"?(N.state=j.TEXT,T(N,"ondoctype",N.doctype),N.doctype=!0):(N.doctype+=z,z==="["?N.state=j.DOCTYPE_DTD:w(z)&&(N.state=j.DOCTYPE_QUOTED,N.q=z));continue;case j.DOCTYPE_QUOTED:N.doctype+=z,z===N.q&&(N.q="",N.state=j.DOCTYPE);continue;case j.DOCTYPE_DTD:N.doctype+=z,z==="]"?N.state=j.DOCTYPE:w(z)&&(N.state=j.DOCTYPE_DTD_QUOTED,N.q=z);continue;case j.DOCTYPE_DTD_QUOTED:N.doctype+=z,z===N.q&&(N.state=j.DOCTYPE_DTD,N.q="");continue;case j.COMMENT:z==="-"?N.state=j.COMMENT_ENDING:N.comment+=z;continue;case j.COMMENT_ENDING:z==="-"?(N.state=j.COMMENT_ENDED,N.comment=L(N.opt,N.comment),N.comment&&T(N,"oncomment",N.comment),N.comment=""):(N.comment+="-"+z,N.state=j.COMMENT);continue;case j.COMMENT_ENDED:z!==">"?(U(N,"Malformed comment"),N.comment+="--"+z,N.state=j.COMMENT):N.state=j.TEXT;continue;case j.CDATA:z==="]"?N.state=j.CDATA_ENDING:N.cdata+=z;continue;case j.CDATA_ENDING:z==="]"?N.state=j.CDATA_ENDING_2:(N.cdata+="]"+z,N.state=j.CDATA);continue;case j.CDATA_ENDING_2:z===">"?(N.cdata&&T(N,"oncdata",N.cdata),T(N,"onclosecdata"),N.cdata="",N.state=j.TEXT):z==="]"?N.cdata+="]":(N.cdata+="]]"+z,N.state=j.CDATA);continue;case j.PROC_INST:z==="?"?N.state=j.PROC_INST_ENDING:y(z)?N.state=j.PROC_INST_BODY:N.procInstName+=z;continue;case j.PROC_INST_BODY:if(!N.procInstBody&&y(z))continue;z==="?"?N.state=j.PROC_INST_ENDING:N.procInstBody+=z;continue;case j.PROC_INST_ENDING:z===">"?(T(N,"onprocessinginstruction",{name:N.procInstName,body:N.procInstBody}),N.procInstName=N.procInstBody="",N.state=j.TEXT):(N.procInstBody+="?"+z,N.state=j.PROC_INST_BODY);continue;case j.OPEN_TAG:E(x,z)?N.tagName+=z:(V(N),z===">"?P(N):z==="/"?N.state=j.OPEN_TAG_SLASH:(y(z)||U(N,"Invalid character in tag name"),N.state=j.ATTRIB));continue;case j.OPEN_TAG_SLASH:z===">"?(P(N,!0),W(N)):(U(N,"Forward-slash in opening tag not followed by >"),N.state=j.ATTRIB);continue;case j.ATTRIB:if(y(z))continue;z===">"?P(N):z==="/"?N.state=j.OPEN_TAG_SLASH:E(g,z)?(N.attribName=z,N.attribValue="",N.state=j.ATTRIB_NAME):U(N,"Invalid attribute name");continue;case j.ATTRIB_NAME:z==="="?N.state=j.ATTRIB_VALUE:z===">"?(U(N,"Attribute without value"),N.attribValue=N.attribName,B(N),P(N)):y(z)?N.state=j.ATTRIB_NAME_SAW_WHITE:E(x,z)?N.attribName+=z:U(N,"Invalid attribute name");continue;case j.ATTRIB_NAME_SAW_WHITE:if(z==="=")N.state=j.ATTRIB_VALUE;else{if(y(z))continue;U(N,"Attribute without value"),N.tag.attributes[N.attribName]="",N.attribValue="",T(N,"onattribute",{name:N.attribName,value:""}),N.attribName="",z===">"?P(N):E(g,z)?(N.attribName=z,N.state=j.ATTRIB_NAME):(U(N,"Invalid attribute name"),N.state=j.ATTRIB)}continue;case j.ATTRIB_VALUE:if(y(z))continue;w(z)?(N.q=z,N.state=j.ATTRIB_VALUE_QUOTED):(U(N,"Unquoted attribute value"),N.state=j.ATTRIB_VALUE_UNQUOTED,N.attribValue=z);continue;case j.ATTRIB_VALUE_QUOTED:if(z!==N.q){z==="&"?N.state=j.ATTRIB_VALUE_ENTITY_Q:N.attribValue+=z;continue}B(N),N.q="",N.state=j.ATTRIB_VALUE_CLOSED;continue;case j.ATTRIB_VALUE_CLOSED:y(z)?N.state=j.ATTRIB:z===">"?P(N):z==="/"?N.state=j.OPEN_TAG_SLASH:E(g,z)?(U(N,"No whitespace between attributes"),N.attribName=z,N.attribValue="",N.state=j.ATTRIB_NAME):U(N,"Invalid attribute name");continue;case j.ATTRIB_VALUE_UNQUOTED:if(!_(z)){z==="&"?N.state=j.ATTRIB_VALUE_ENTITY_U:N.attribValue+=z;continue}B(N),z===">"?P(N):N.state=j.ATTRIB;continue;case j.CLOSE_TAG:if(N.tagName)z===">"?W(N):E(x,z)?N.tagName+=z:N.script?(N.script+="</"+N.tagName,N.tagName="",N.state=j.SCRIPT):(y(z)||U(N,"Invalid tagname in closing tag"),N.state=j.CLOSE_TAG_SAW_WHITE);else{if(y(z))continue;A(g,z)?N.script?(N.script+="</"+z,N.state=j.SCRIPT):U(N,"Invalid tagname in closing tag."):N.tagName=z}continue;case j.CLOSE_TAG_SAW_WHITE:if(y(z))continue;z===">"?W(N):U(N,"Invalid characters in closing tag");continue;case j.TEXT_ENTITY:case j.ATTRIB_VALUE_ENTITY_Q:case j.ATTRIB_VALUE_ENTITY_U:var Y,me;switch(N.state){case j.TEXT_ENTITY:Y=j.TEXT,me="textNode";break;case j.ATTRIB_VALUE_ENTITY_Q:Y=j.ATTRIB_VALUE_QUOTED,me="attribValue";break;case j.ATTRIB_VALUE_ENTITY_U:Y=j.ATTRIB_VALUE_UNQUOTED,me="attribValue";break}if(z===";")if(N.opt.unparsedEntities){var le=G(N);N.entity="",N.state=Y,N.write(le)}else N[me]+=G(N),N.entity="",N.state=Y;else E(N.entity.length?b:v,z)?N.entity+=z:(U(N,"Invalid character in entity name"),N[me]+="&"+N.entity+z,N.entity="",N.state=Y);continue;default:throw new Error(N,"Unknown state: "+N.state)}return N.position>=N.bufferCheckPosition&&r(N),N}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */return String.fromCodePoint||function(){var I=String.fromCharCode,N=Math.floor,K=function(){var z=16384,Z=[],J,Y,me=-1,le=arguments.length;if(!le)return"";for(var ve="";++me<le;){var oe=Number(arguments[me]);if(!isFinite(oe)||oe<0||oe>1114111||N(oe)!==oe)throw RangeError("Invalid code point: "+oe);oe<=65535?Z.push(oe):(oe-=65536,J=(oe>>10)+55296,Y=oe%1024+56320,Z.push(J,Y)),(me+1===le||Z.length>z)&&(ve+=I.apply(null,Z),Z.length=0)}return ve};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:K,configurable:!0,writable:!0}):String.fromCodePoint=K}(),t},qge=Wge(),pj=`The output should be formatted as a XML file.
1. Output should conform to the tags below. 
2. If tags are not given, make them on your own.
3. Remember to always open and close all the tags.

As an example, for the tags ["foo", "bar", "baz"]:
1. String "<foo>
   <bar>
      <baz></baz>
   </bar>
</foo>" is a well-formatted instance of the schema. 
2. String "<foo>
   <bar>
   </foo>" is a badly-formatted instance.
3. String "<foo>
   <tag>
   </tag>
</foo>" is a badly-formatted instance.

Here are the output tags:
\`\`\`
{tags}
\`\`\``;var Gge=class extends Rb{constructor(e){super(e);H(this,"tags");H(this,"lc_namespace",["langchain_core","output_parsers"]);H(this,"lc_serializable",!0);this.tags=e==null?void 0:e.tags}static lc_name(){return"XMLOutputParser"}_diff(e,n){if(n)return e?kC(e,n):[{op:"replace",path:"",value:n}]}async parsePartialResult(e){return mj(e[0].text)}async parse(e){return mj(e)}getFormatInstructions(){var n;return!!(this.tags&&this.tags.length>0)?pj.replace("{tags}",((n=this.tags)==null?void 0:n.join(", "))??""):pj}};const Kge=t=>t.split(`
`).map(e=>e.replace(/^\s+/,"")).join(`
`).trim(),F8=t=>{if(Object.keys(t).length===0)return{};const e={};return t.children.length>0?(e[t.name]=t.children.map(F8),e):(e[t.name]=t.text??void 0,e)};function mj(t){const e=Kge(t),n=qge.parser(!0);let r={};const i=[];n.onopentag=o=>{const l={name:o.name,attributes:o.attributes,children:[],text:"",isSelfClosing:o.isSelfClosing};i.length>0?i[i.length-1].children.push(l):r=l,o.isSelfClosing||i.push(l)},n.onclosetag=()=>{if(i.length>0){const o=i.pop();i.length===0&&o&&(r=o)}},n.ontext=o=>{if(i.length>0){const l=i[i.length-1];l.text+=o}},n.onattribute=o=>{if(i.length>0){const l=i[i.length-1];l.attributes[o.name]=o.value}};const a=/```(xml)?(.*)```/s.exec(e),s=a?a[2]:e;return n.write(s).close(),r&&r.name==="?xml"&&(r=r.children[0]),F8(r)}var Yge={};bt(Yge,{AsymmetricStructuredOutputParser:()=>Vge,BaseCumulativeTransformOutputParser:()=>Rb,BaseLLMOutputParser:()=>M8,BaseOutputParser:()=>$b,BaseTransformOutputParser:()=>yg,BytesOutputParser:()=>Lge,CommaSeparatedListOutputParser:()=>Fge,CustomListOutputParser:()=>Bge,JsonMarkdownStructuredOutputParser:()=>L8,JsonOutputParser:()=>D8,ListOutputParser:()=>vg,MarkdownListOutputParser:()=>Uge,NumberedListOutputParser:()=>zge,OutputParserException:()=>Us,StringOutputParser:()=>Hge,StructuredOutputParser:()=>LC,XMLOutputParser:()=>Gge,XML_FORMAT_INSTRUCTIONS:()=>pj,parseJsonMarkdown:()=>UE,parsePartialJson:()=>yb,parseXMLMarkdown:()=>mj});function FC(t,e){if(t.function===void 0)return;let n;if(e!=null&&e.partial)try{n=yb(t.function.arguments??"{}")}catch{return}else try{n=JSON.parse(t.function.arguments)}catch(i){throw new Us([`Function "${t.function.name}" arguments:`,"",t.function.arguments,"","are not valid JSON.",`Error: ${i.message}`].join(`
`))}const r={name:t.function.name,args:n,type:"tool_call"};return e!=null&&e.returnId&&(r.id=t.id),r}function B8(t){if(t.id===void 0)throw new Error('All OpenAI tool calls must have an "id" field.');return{id:t.id,type:"function",function:{name:t.name,arguments:JSON.stringify(t.args)}}}function z8(t,e){var n,r;return{name:(n=t.function)==null?void 0:n.name,args:(r=t.function)==null?void 0:r.arguments,id:t.id,error:e,type:"invalid_tool_call"}}var U8=class extends Rb{constructor(e){super(e);H(this,"returnId",!1);H(this,"lc_namespace",["langchain","output_parsers","openai_tools"]);H(this,"lc_serializable",!0);this.returnId=(e==null?void 0:e.returnId)??this.returnId}static lc_name(){return"JsonOutputToolsParser"}_diff(){throw new Error("Not supported.")}async parse(){throw new Error("Not implemented.")}async parseResult(e){return await this.parsePartialResult(e,!1)}async parsePartialResult(e,n=!0){var s;const r=e[0].message;let i;if(vb(r)&&((s=r.tool_calls)!=null&&s.length)?i=r.tool_calls.map(o=>{const{id:l,...c}=o;return this.returnId?{id:l,...c}:c}):r.additional_kwargs.tool_calls!==void 0&&(i=JSON.parse(JSON.stringify(r.additional_kwargs.tool_calls)).map(l=>FC(l,{returnId:this.returnId,partial:n}))),!i)return[];const a=[];for(const o of i)if(o!==void 0){const l={type:o.name,args:o.args,id:o.id};a.push(l)}return a}},gj=class extends U8{constructor(e){super(e);H(this,"lc_namespace",["langchain","output_parsers","openai_tools"]);H(this,"lc_serializable",!0);H(this,"returnId",!1);H(this,"keyName");H(this,"returnSingle",!1);H(this,"zodSchema");this.keyName=e.keyName,this.returnSingle=e.returnSingle??this.returnSingle,this.zodSchema=e.zodSchema}static lc_name(){return"JsonOutputKeyToolsParser"}async _validateResult(e){var r;if(this.zodSchema===void 0)return e;const n=await Yz(this.zodSchema,e);if(n.success)return n.data;throw new Us(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify((r=n.error)==null?void 0:r.issues)}`,JSON.stringify(e,null,2))}async parsePartialResult(e){const r=(await super.parsePartialResult(e)).filter(a=>a.type===this.keyName);let i=r;if(r.length)return this.returnId||(i=r.map(a=>a.args)),this.returnSingle?i[0]:i}async parseResult(e){const r=(await super.parsePartialResult(e,!1)).filter(s=>s.type===this.keyName);let i=r;return r.length?(this.returnId||(i=r.map(s=>s.args)),this.returnSingle?this._validateResult(i[0]):await Promise.all(i.map(s=>this._validateResult(s)))):void 0}},Xge={};bt(Xge,{JsonOutputKeyToolsParser:()=>gj,JsonOutputToolsParser:()=>U8,convertLangChainToolCallToOpenAI:()=>B8,makeInvalidToolCall:()=>z8,parseToolCall:()=>FC});function H8(t){return t!==void 0&&Array.isArray(t.lc_namespace)}function V8(t){return t!==void 0&&fn.isRunnable(t)&&"lc_name"in t.constructor&&typeof t.constructor.lc_name=="function"&&t.constructor.lc_name()==="RunnableToolLike"}function W8(t){return!!t&&typeof t=="object"&&"name"in t&&"schema"in t&&(Lc(t.schema)||t.schema!=null&&typeof t.schema=="object"&&"type"in t.schema&&typeof t.schema.type=="string"&&["null","boolean","object","array","number","string"].includes(t.schema.type))}function q8(t){return W8(t)||V8(t)||H8(t)}var Zge={};bt(Zge,{convertToOpenAIFunction:()=>G8,convertToOpenAITool:()=>yj,isLangChainTool:()=>q8,isRunnableToolLike:()=>V8,isStructuredTool:()=>H8,isStructuredToolParams:()=>W8});function G8(t,e){const n=typeof e=="number"?void 0:e;return{name:t.name,description:t.description,parameters:_l(t.schema),...(n==null?void 0:n.strict)!==void 0?{strict:n.strict}:{}}}function yj(t,e){const n=typeof e=="number"?void 0:e;let r;return q8(t)?r={type:"function",function:G8(t)}:r=t,(n==null?void 0:n.strict)!==void 0&&(r.function.strict=n.strict),r}const Jge=["frequency_penalty","function_call","functions","logit_bias","logprobs","max_completion_tokens","max_tokens","n","parallel_tool_calls","presence_penalty","reasoning_format","response_format","seed","service_tier","stop","temperature","tool_choice","top_logprobs","top_p"],Qge=["headers","promptIndex","stream_options","tools"],eye=[...Jge,...Qge];function tye(t){if(t.role!=="system"&&t.role!=="assistant"&&t.role!=="user"&&t.role!=="function")throw new Error(`Unsupported message role: ${t.role}. Expected "system", "assistant", "user", or "function"`);return t.role}function nye(t){switch(t.type){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"tool":return"tool";case"generic":if(!nu.isInstance(t))throw new Error("Invalid generic chat message");return tye(t);default:throw new Error(`Unknown message type: ${t.type}`)}}function eR(t){return t.map(e=>{var r;const n={role:nye(e),content:e.content,name:e.name,function_call:e.additional_kwargs.function_call,tool_calls:e.additional_kwargs.tool_calls,tool_call_id:e.tool_call_id};return vb(e)&&((r=e.tool_calls)!=null&&r.length)?n.tool_calls=e.tool_calls.map(B8):(e.additional_kwargs.tool_calls!=null&&(n.tool_calls=e.additional_kwargs.tool_calls),e.tool_call_id!=null&&(n.tool_call_id=e.tool_call_id)),n})}function rye(t,e,n){const r=t.tool_calls;switch(t.role){case"assistant":{const i=[],a=[];for(const s of r??[])try{i.push(FC(s,{returnId:!0}))}catch(o){a.push(z8(s,o.message))}return new us({content:t.content||"",additional_kwargs:{tool_calls:r},tool_calls:i,invalid_tool_calls:a,usage_metadata:e,response_metadata:n})}default:return new nu(t.content||"",t.role??"unknown")}}function iye(t,e,n,r){var h,p;const i=t.role??e,a=t.content??"";let s;t.function_call?s={function_call:t.function_call}:t.tool_calls?s={tool_calls:t.tool_calls}:s={},t.audio&&(s.audio={...t.audio,index:n.choices[0].index});let o,l=r,c;const d=n.x_groq;d!=null&&d.usage&&(o={input_tokens:d.usage.prompt_tokens,output_tokens:d.usage.completion_tokens,total_tokens:d.usage.total_tokens},c={completion_time:d.usage.completion_time,prompt_time:d.usage.prompt_time,queue_time:d.usage.queue_time,total_time:d.usage.total_time}),d!=null&&d.id&&(l=d.id);const f={usage:o,timing:c};if(i==="user")return new dg({content:a,response_metadata:f});if(i==="assistant"){const m=[];if(Array.isArray(t.tool_calls))for(const g of t.tool_calls)m.push({name:(h=g.function)==null?void 0:h.name,args:(p=g.function)==null?void 0:p.arguments,id:g.id,index:g.index,type:"tool_call_chunk"});return new fo({content:a,tool_call_chunks:m,additional_kwargs:s,id:l,response_metadata:f})}else return i==="system"?new El({content:a,response_metadata:f}):i==="developer"?new El({content:a,response_metadata:f,additional_kwargs:{__openai_role__:"developer"}}):i==="function"?new ug({content:a,additional_kwargs:s,name:t.name,response_metadata:f}):i==="tool"?new lg({content:a,additional_kwargs:s,tool_call_id:t.tool_call_id,response_metadata:f}):new cg({content:a,role:i,response_metadata:f})}var aye=class extends RC{constructor(e){super(e);H(this,"lc_namespace",["langchain","chat_models","groq"]);H(this,"client");H(this,"model");H(this,"temperature",.7);H(this,"stop");H(this,"stopSequences");H(this,"maxTokens");H(this,"streaming",!1);H(this,"apiKey");H(this,"streamUsage",!0);H(this,"topP");H(this,"frequencyPenalty");H(this,"presencePenalty");H(this,"logprobs");H(this,"n");H(this,"logitBias");H(this,"user");H(this,"reasoningFormat");H(this,"serviceTier");H(this,"topLogprobs");H(this,"lc_serializable",!0);const n=e.apiKey||Bs("GROQ_API_KEY");if(!n)throw new Error('Groq API key not found. Please set the GROQ_API_KEY environment variable or provide the key into "apiKey"');const r={"User-Agent":"langchainjs",...e.defaultHeaders??{}};this.client=new Rt({apiKey:n,dangerouslyAllowBrowser:!0,baseURL:e.baseUrl,timeout:e.timeout,httpAgent:e.httpAgent,fetch:e.fetch,maxRetries:0,defaultHeaders:r,defaultQuery:e.defaultQuery}),this.apiKey=n,this.temperature=e.temperature??this.temperature,this.model=e.model,this.streaming=e.streaming??this.streaming,this.stop=e.stopSequences??(typeof e.stop=="string"?[e.stop]:e.stop)??[],this.stopSequences=this.stop,this.maxTokens=e.maxTokens,this.topP=e.topP,this.frequencyPenalty=e.frequencyPenalty,this.presencePenalty=e.presencePenalty,this.logprobs=e.logprobs,this.n=e.n,this.logitBias=e.logitBias,this.user=e.user}get lc_serialized_keys(){return["client","model","temperature","stop","stopSequences","maxTokens","streaming","apiKey","streamUsage","topP","frequencyPenalty","presencePenalty","logprobs","n","logitBias","user","reasoningFormat","serviceTier","topLogprobs"]}static lc_name(){return"ChatGroq"}_llmType(){return"groq"}get lc_secrets(){return{apiKey:"GROQ_API_KEY"}}get callKeys(){return[...super.callKeys,...eye]}getLsParams(e){const n=this.invocationParams(e);return{ls_provider:"groq",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:n.temperature??this.temperature,ls_max_tokens:n.max_tokens??this.maxTokens,ls_stop:e.stop}}async completionWithRetry(e,n){return this.caller.call(async()=>this.client.chat.completions.create(e,n))}invocationParams(e,n){var s;const r=super.invocationParams(e);let i={};(e==null?void 0:e.stream_options)!==void 0?i={stream_options:e.stream_options}:(this.streamUsage&&this.streaming||n!=null&&n.streaming)&&(i={stream_options:{include_usage:!0}});const a={model:this.model,frequency_penalty:this.frequencyPenalty,function_call:e==null?void 0:e.function_call,functions:e==null?void 0:e.functions,logit_bias:this.logitBias,logprobs:this.logprobs,n:this.n,parallel_tool_calls:e==null?void 0:e.parallel_tool_calls,presence_penalty:this.presencePenalty,reasoning_format:this.reasoningFormat,response_format:e==null?void 0:e.response_format,seed:e==null?void 0:e.seed,service_tier:this.serviceTier,stop:(e==null?void 0:e.stop)??this.stopSequences,temperature:(e==null?void 0:e.temperature)??this.temperature,tool_choice:sye(e==null?void 0:e.tool_choice),tools:(s=e==null?void 0:e.tools)!=null&&s.length?e.tools.map(o=>yj(o)):void 0,top_logprobs:this.topLogprobs,top_p:this.topP,user:this.user,stream:this.streaming,...r,...i};return a.max_completion_tokens=(e==null?void 0:e.max_completion_tokens)??(e==null?void 0:e.max_tokens)??this.maxTokens,a.max_completion_tokens===-1&&delete a.max_completion_tokens,a}bindTools(e,n){return this.withConfig({tools:e.map(r=>yj(r)),...n})}async*_streamResponseChunks(e,n,r){var d,f;const i=this.invocationParams(n,{streaming:!0}),a=eR(e),s=await this.completionWithRetry({...i,messages:a,stream:!0},{signal:n==null?void 0:n.signal,headers:n==null?void 0:n.headers});let o,l,c;for await(const h of s){c=h;const p=h==null?void 0:h.choices[0];if(!p)continue;(d=p.delta)!=null&&d.role&&(o=p.delta.role);const m=iye(p.delta,o,h,l),g={prompt:n.promptIndex??0,completion:p.index??0};if(typeof m.content!="string"){console.log("[WARNING]: Received non-string content from OpenAI. This is currently not supported.");continue}const x={...g};p.finish_reason!=null&&(x.finish_reason=p.finish_reason,x.system_fingerprint=h.system_fingerprint,x.model_name=h.model);const v=new am({message:m,text:m.content,generationInfo:x});yield v,await(r==null?void 0:r.handleLLMNewToken(v.text??"",g,void 0,void 0,void 0,{chunk:v}))}if(c&&("choices"in c&&delete c.choices,yield new am({message:new fo({content:"",response_metadata:c}),text:""})),(f=n.signal)!=null&&f.aborted)throw new Error("AbortError")}async _generate(e,n,r){var i;if(this.streaming){const a={},s=this._streamResponseChunks(e,n,r),o={};for await(const c of s){const d=((i=c.generationInfo)==null?void 0:i.completion)??0;o[d]===void 0?o[d]=c:o[d]=o[d].concat(c)}return{generations:Object.entries(o).sort(([c],[d])=>parseInt(c,10)-parseInt(d,10)).map(([c,d])=>d),llmOutput:{estimatedTokenUsage:a}}}else return this._generateNonStreaming(e,n,r)}async _generateNonStreaming(e,n,r){var c;const i={},a=this.invocationParams(n),s=eR(e),o=await this.completionWithRetry({...a,stream:!1,messages:s},{signal:n==null?void 0:n.signal,headers:n==null?void 0:n.headers});if("usage"in o&&o.usage){const{completion_tokens:d,prompt_tokens:f,total_tokens:h}=o.usage;d&&(i.completionTokens=(i.completionTokens??0)+d),f&&(i.promptTokens=(i.promptTokens??0)+f),h&&(i.totalTokens=(i.totalTokens??0)+h)}const l=[];if("choices"in o&&o.choices)for(const d of o.choices){const f=((c=d.message)==null?void 0:c.content)??"";let h;i.totalTokens!==void 0&&(h={input_tokens:i.promptTokens??0,output_tokens:i.completionTokens??0,total_tokens:i.totalTokens});const{choices:p,...m}=o,g={text:f,message:rye(d.message??{role:"assistant"},h,m)};g.generationInfo={...d.finish_reason?{finish_reason:d.finish_reason}:{},...d.logprobs?{logprobs:d.logprobs}:{}},l.push(g)}return{generations:l,llmOutput:{tokenUsage:i}}}get profile(){return Gae[this.model]??{}}withStructuredOutput(e,n){const r=e,i=n==null?void 0:n.name,a=n==null?void 0:n.method,s=n==null?void 0:n.includeRaw;let o=i??"extract",l,c;if(a==="jsonMode"){let p;Lc(r)?(l=LC.fromZodSchema(r),p=_l(r)):l=new D8,c=this.withConfig({response_format:{type:"json_object"},ls_structured_output_format:{kwargs:{method:"jsonMode"},schema:p}})}else if(Lc(r)){const p=_l(r);c=this.bindTools([{type:"function",function:{name:o,description:p.description,parameters:p}}]).withConfig({tool_choice:{type:"function",function:{name:o}},ls_structured_output_format:{kwargs:{method:"functionCalling"},schema:p}}),l=new gj({returnSingle:!0,keyName:o,zodSchema:r})}else{let p;typeof r.name=="string"&&typeof r.parameters=="object"&&r.parameters!=null?(p=r,o=r.name):(o=r.title??o,p={name:o,description:r.description??"",parameters:r}),c=this.bindTools([{type:"function",function:p}]).withConfig({tool_choice:{type:"function",function:{name:o}},ls_structured_output_format:{kwargs:{method:"functionCalling"},schema:r}}),l=new gj({returnSingle:!0,keyName:o})}if(!s)return c.pipe(l).withConfig({runName:"ChatGroqStructuredOutput"});const d=Zd.assign({parsed:(p,m)=>l.invoke(p.raw,m)}),f=Zd.assign({parsed:()=>null}),h=d.withFallbacks({fallbacks:[f]});return mg.from([{raw:c},h]).withConfig({runName:"ChatGroqStructuredOutput"})}};function sye(t){if(t)return t==="any"||t==="required"?"required":t==="auto"?"auto":t==="none"?"none":typeof t=="string"?{type:"function",function:{name:t}}:t}const oye="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",lye="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",cye="https://api.tavily.com/search",uye=!0,tR="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",dye="AdmitConnectAI",fye=`You are the AdmitConnect AI Assistant, designed to help users understand and navigate the AdmitConnect platform.

About AdmitConnect AI:
AdmitConnect AI is a college admission campaign management platform that helps educational institutions execute multi-channel outreach campaigns through WhatsApp, Voice Calls, and Email using AI-powered automation.

Core capabilities include AI-powered campaign automation, real-time analytics for tracking engagement and response rates, multi-channel communication across Email, Voice, and WhatsApp, candidate management tools, 24/7 AI counseling agents, and predictive intelligence for campaign optimization.

The platform was developed by Yash Sharma, a Generative AI Engineer specializing in scalable AI solutions for educational technology.

Your role:
Provide clear, accurate information about the platform's features and capabilities. Offer professional guidance on college admission trends and best practices. Use real-time web search when needed for current information. Help users navigate the platform and understand how to use its features effectively.

Communication style:
Use clear, professional Markdown formatting for EVERY response.
- **Bold Headers**: Use bold text for key topics or section titles.
- **Lists**: ALWAYS use bullet points or numbered lists for steps, items, or features.
- **Paragraphs**: Keep paragraphs short (2-3 sentences) with clear line breaks between them.
- **No Blocks**: Avoid long walls of text. Break information down visually.
- **Tone**: Natural, conversational (like ChatGPT) but structured professionally.`,hye=`You are the AdmitConnect Campaign Expert, a specialized assistant for users working in the AdmitConnect Dashboard.

About the platform:
AdmitConnect AI, developed by Yash Sharma (Generative AI Engineer), is a comprehensive campaign management platform for college admissions. It enables educational institutions to streamline student outreach and enrollment through AI-driven automation.

Platform features:
The Campaign Creation Suite allows users to set up WhatsApp campaigns with automated personalized messaging, Voice Call campaigns with AI-powered interactions, and Email campaigns with professional sequences and tracking.

The Candidate Management System supports bulk uploads via CSV/Excel, intelligent segmentation and filtering, comprehensive candidate profiles, and engagement history tracking.

Analytics and Reporting provides real-time campaign performance metrics, response rate analysis, channel effectiveness comparisons, and ROI tracking with optimization insights.

The AI Agent Ecosystem includes a Counseling Crew for 24/7 automated student support, a Campaign Orchestrator for intelligent multi-channel coordination, a Decision Engine for smart campaign strategy recommendations, and a Content Generator for AI-powered message and script creation.

Automation and Intelligence features cover smart scheduling and timing optimization, predictive analytics for student engagement, automated follow-up sequences, and performance-based campaign adjustments.

Your expertise:
You understand campaign strategy development, multi-channel marketing for educational institutions, data-driven decision making for student recruitment, AI-powered automation workflows, and candidate engagement best practices.

How to help users:
For campaign creation, guide users through defining their target audience, recommend the optimal channel mix based on their goals, suggest effective messaging strategies, and help configure timing and frequency.

For analytics, explain what the metrics mean, identify areas for improvement, provide context by benchmarking against industry standards, and recommend specific optimization strategies.

For feature navigation, give clear step-by-step instructions on how to find and use dashboard features, configure settings, set up integrations, and apply best practices.

For strategy consultation, offer professional recommendations on campaign planning and execution, channel selection based on demographics, content personalization techniques, and engagement optimization.

Communication style:
Use clear, professional Markdown formatting for EVERY response.
- **Bold Headers**: Use bold text for key topics or section titles.
- **Lists**: ALWAYS use bullet points or numbered lists for steps, items, or features.
- **Paragraphs**: Keep paragraphs short (2-3 sentences) with clear line breaks between them.
- **No Blocks**: Avoid long walls of text. Break information down visually.
- **Tone**: Consultative and actionable.`,pye=`You are the AdmitConnect AI College Counselor, a strict and focused assistant dedicated ONLY to college admissions, student counseling, and educational guidance.

Instructions:
1. STRICT DOMAIN RESTRICTION: You must ONLY answer questions related to college admissions, university information, applications, scholarships, exams, student life, and academic guidance.
2. GUARDRAILS: If a user asks a question unrelated to education or admissions (e.g., sports, politics, entertainment, general chit-chat unrelated to college), you must POLITELY REFUSE to answer.
   - Example valid refusal: "I apologize, but I am specialized only in college admissions and educational counseling. I cannot assist with that topic."
3. SOURCE-BASED ANSWERS: You will be provided with information from web searches. You must use this information to answer user questions accurately. Cite your sources using [1], [2] notation.
4. TONE: Professional, encouraging, empathetic, and formal yet accessible. You are guiding students through a stressful process.
5. FORMATTING: STRICTLY use professional Markdown.
   - Use **Bold** for major points.
   - Use bullet points for lists.
   - Separate thoughts with new lines.
   - Make it easy to read on mobile devices.

You are NOT a general purpose AI. You are a specialized College Counselor. Do not break character. Do not answer questions outside your scope.`;class K8{constructor(e="general"){H(this,"context");H(this,"model",null);H(this,"tracer");H(this,"isAvailable",!1);this.context=e;try{if(this.model=new aye({apiKey:oye,model:"llama-3.3-70b-versatile",temperature:.7,maxTokens:1024}),this.isAvailable=!0,uye&&tR)try{const n=new Kd({apiUrl:"https://api.smith.langchain.com",apiKey:tR});this.tracer=new up({projectName:dye||"default",client:n})}catch(n){console.warn("Failed to initialize LangSmith tracer",n)}}catch(n){console.error("Failed to initialize ChatService:",n),this.isAvailable=!1}}checkAvailability(){return this.isAvailable}async searchTavily(e){try{const n=await fetch(cye,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({api_key:lye,query:e,search_depth:"basic",include_answer:!0,max_results:3})});if(!n.ok)throw new Error("Tavily search failed");return(await n.json()).results.map(i=>({title:i.title,url:i.url,content:i.content}))}catch(n){return console.error("Error searching Tavily:",n),[]}}async generateResponse(e,n=[],r){if(!this.model||!this.isAvailable)return{content:"I'm sorry, the AI chat service is currently unavailable. Please check the API configuration.",sources:[]};try{let i=[],a="";(this.context==="counselor"||e.length>10&&(this.context==="general"||e.toLowerCase().includes("search")||e.toLowerCase().includes("news")))&&(i=await this.searchTavily(e));let s=fye;if(this.context==="dashboard"&&(s=hye),this.context==="counselor"&&(s=pye),r&&this.context==="dashboard"){const f=r.stats?`
Current Dashboard Stats:
- Total Campaigns: ${r.stats.totalCampaigns}
- Messages Sent: ${r.stats.messagesSent}
- Response Rate: ${r.stats.responseRate}%`:"",h=r.campaigns&&r.campaigns.length>0?`
Recent Campaigns:
${r.campaigns.slice(0,5).map(p=>`- ${p.name} (${p.status}): ${p.candidates_count||0} candidates`).join(`
`)}`:"";s+=`

REAL-TIME CONTEXT:
${f}
${h}

Use this real-time data to answer user questions about their specific campaigns.`}i.length>0&&(a=`

Here is some relevant information found from the web:
${i.map((f,h)=>`[${h+1}] ${f.title}: ${f.content}`).join(`
`)}

Use this information to answer the user's question if relevant. Cite sources using [1], [2] notation.`);const o=[new ds(s+a),...n.map(f=>f.role==="user"?new xa(f.content):f.role==="assistant"?new us(f.content):new ds(f.content)),new xa(e)],l=this.tracer?[this.tracer]:[];return{content:(await this.model.invoke(o,{callbacks:l,metadata:{context:this.context},tags:["admit-connect-ai",this.context]})).content,sources:i}}catch(i){return console.error("ChatService error:",i),{content:"I'm sorry, I encountered an error while processing your request. Please try again later.",sources:[]}}}}function mye(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const gye=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,yye=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,vye={};function nR(t,e){return(vye.jsx?yye:gye).test(t)}const xye=/[ \t\n\f\r]/g;function bye(t){return typeof t=="object"?t.type==="text"?rR(t.value):!1:rR(t)}function rR(t){return t.replace(xye,"")===""}class xg{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}xg.prototype.normal={};xg.prototype.property={};xg.prototype.space=void 0;function Y8(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new xg(n,r,e)}function vj(t){return t.toLowerCase()}class Fr{constructor(e,n){this.attribute=n,this.property=e}}Fr.prototype.attribute="";Fr.prototype.booleanish=!1;Fr.prototype.boolean=!1;Fr.prototype.commaOrSpaceSeparated=!1;Fr.prototype.commaSeparated=!1;Fr.prototype.defined=!1;Fr.prototype.mustUseProperty=!1;Fr.prototype.number=!1;Fr.prototype.overloadedBoolean=!1;Fr.prototype.property="";Fr.prototype.spaceSeparated=!1;Fr.prototype.space=void 0;let wye=0;const Je=iu(),pn=iu(),xj=iu(),ue=iu(),Ct=iu(),yd=iu(),Ur=iu();function iu(){return 2**++wye}const bj=Object.freeze(Object.defineProperty({__proto__:null,boolean:Je,booleanish:pn,commaOrSpaceSeparated:Ur,commaSeparated:yd,number:ue,overloadedBoolean:xj,spaceSeparated:Ct},Symbol.toStringTag,{value:"Module"})),h1=Object.keys(bj);class BC extends Fr{constructor(e,n,r,i){let a=-1;if(super(e,n),iR(this,"space",i),typeof r=="number")for(;++a<h1.length;){const s=h1[a];iR(this,h1[a],(r&bj[s])===bj[s])}}}BC.prototype.defined=!0;function iR(t,e,n){n&&(t[e]=n)}function Uf(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const a=new BC(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[vj(r)]=r,n[vj(a.attribute)]=r}return new xg(e,n,t.space)}const X8=Uf({properties:{ariaActiveDescendant:null,ariaAtomic:pn,ariaAutoComplete:null,ariaBusy:pn,ariaChecked:pn,ariaColCount:ue,ariaColIndex:ue,ariaColSpan:ue,ariaControls:Ct,ariaCurrent:null,ariaDescribedBy:Ct,ariaDetails:null,ariaDisabled:pn,ariaDropEffect:Ct,ariaErrorMessage:null,ariaExpanded:pn,ariaFlowTo:Ct,ariaGrabbed:pn,ariaHasPopup:null,ariaHidden:pn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ct,ariaLevel:ue,ariaLive:null,ariaModal:pn,ariaMultiLine:pn,ariaMultiSelectable:pn,ariaOrientation:null,ariaOwns:Ct,ariaPlaceholder:null,ariaPosInSet:ue,ariaPressed:pn,ariaReadOnly:pn,ariaRelevant:null,ariaRequired:pn,ariaRoleDescription:Ct,ariaRowCount:ue,ariaRowIndex:ue,ariaRowSpan:ue,ariaSelected:pn,ariaSetSize:ue,ariaSort:null,ariaValueMax:ue,ariaValueMin:ue,ariaValueNow:ue,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Z8(t,e){return e in t?t[e]:e}function J8(t,e){return Z8(t,e.toLowerCase())}const _ye=Uf({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:yd,acceptCharset:Ct,accessKey:Ct,action:null,allow:null,allowFullScreen:Je,allowPaymentRequest:Je,allowUserMedia:Je,alt:null,as:null,async:Je,autoCapitalize:null,autoComplete:Ct,autoFocus:Je,autoPlay:Je,blocking:Ct,capture:null,charSet:null,checked:Je,cite:null,className:Ct,cols:ue,colSpan:null,content:null,contentEditable:pn,controls:Je,controlsList:Ct,coords:ue|yd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Je,defer:Je,dir:null,dirName:null,disabled:Je,download:xj,draggable:pn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Je,formTarget:null,headers:Ct,height:ue,hidden:xj,high:ue,href:null,hrefLang:null,htmlFor:Ct,httpEquiv:Ct,id:null,imageSizes:null,imageSrcSet:null,inert:Je,inputMode:null,integrity:null,is:null,isMap:Je,itemId:null,itemProp:Ct,itemRef:Ct,itemScope:Je,itemType:Ct,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Je,low:ue,manifest:null,max:null,maxLength:ue,media:null,method:null,min:null,minLength:ue,multiple:Je,muted:Je,name:null,nonce:null,noModule:Je,noValidate:Je,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Je,optimum:ue,pattern:null,ping:Ct,placeholder:null,playsInline:Je,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Je,referrerPolicy:null,rel:Ct,required:Je,reversed:Je,rows:ue,rowSpan:ue,sandbox:Ct,scope:null,scoped:Je,seamless:Je,selected:Je,shadowRootClonable:Je,shadowRootDelegatesFocus:Je,shadowRootMode:null,shape:null,size:ue,sizes:null,slot:null,span:ue,spellCheck:pn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ue,step:null,style:null,tabIndex:ue,target:null,title:null,translate:null,type:null,typeMustMatch:Je,useMap:null,value:pn,width:ue,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ct,axis:null,background:null,bgColor:null,border:ue,borderColor:null,bottomMargin:ue,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Je,declare:Je,event:null,face:null,frame:null,frameBorder:null,hSpace:ue,leftMargin:ue,link:null,longDesc:null,lowSrc:null,marginHeight:ue,marginWidth:ue,noResize:Je,noHref:Je,noShade:Je,noWrap:Je,object:null,profile:null,prompt:null,rev:null,rightMargin:ue,rules:null,scheme:null,scrolling:pn,standby:null,summary:null,text:null,topMargin:ue,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ue,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Je,disableRemotePlayback:Je,prefix:null,property:null,results:ue,security:null,unselectable:null},space:"html",transform:J8}),Sye=Uf({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ur,accentHeight:ue,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ue,amplitude:ue,arabicForm:null,ascent:ue,attributeName:null,attributeType:null,azimuth:ue,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ue,by:null,calcMode:null,capHeight:ue,className:Ct,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ue,diffuseConstant:ue,direction:null,display:null,dur:null,divisor:ue,dominantBaseline:null,download:Je,dx:null,dy:null,edgeMode:null,editable:null,elevation:ue,enableBackground:null,end:null,event:null,exponent:ue,externalResourcesRequired:null,fill:null,fillOpacity:ue,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:yd,g2:yd,glyphName:yd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ue,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ue,horizOriginX:ue,horizOriginY:ue,id:null,ideographic:ue,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ue,k:ue,k1:ue,k2:ue,k3:ue,k4:ue,kernelMatrix:Ur,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ue,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ue,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ue,overlineThickness:ue,paintOrder:null,panose1:null,path:null,pathLength:ue,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ct,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ue,pointsAtY:ue,pointsAtZ:ue,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ur,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ur,rev:Ur,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ur,requiredFeatures:Ur,requiredFonts:Ur,requiredFormats:Ur,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ue,specularExponent:ue,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ue,strikethroughThickness:ue,string:null,stroke:null,strokeDashArray:Ur,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ue,strokeOpacity:ue,strokeWidth:null,style:null,surfaceScale:ue,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ur,tabIndex:ue,tableValues:null,target:null,targetX:ue,targetY:ue,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ur,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ue,underlineThickness:ue,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ue,values:null,vAlphabetic:ue,vMathematical:ue,vectorEffect:null,vHanging:ue,vIdeographic:ue,version:null,vertAdvY:ue,vertOriginX:ue,vertOriginY:ue,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ue,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Z8}),Q8=Uf({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),e9=Uf({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:J8}),t9=Uf({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Eye={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},jye=/[A-Z]/g,aR=/-[a-z]/g,Aye=/^data[-\w.:]+$/i;function kye(t,e){const n=vj(e);let r=e,i=Fr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Aye.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(aR,Cye);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!aR.test(a)){let s=a.replace(jye,Tye);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=BC}return new i(r,e)}function Tye(t){return"-"+t.toLowerCase()}function Cye(t){return t.charAt(1).toUpperCase()}const Oye=Y8([X8,_ye,Q8,e9,t9],"html"),zC=Y8([X8,Sye,Q8,e9,t9],"svg");function Nye(t){return t.join(" ").trim()}var UC={},sR=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Pye=/\n/g,Iye=/^\s*/,$ye=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Rye=/^:\s*/,Mye=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Dye=/^[;\s]*/,Lye=/^\s+|\s+$/g,Fye=`
`,oR="/",lR="*",oc="",Bye="comment",zye="declaration";function Uye(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(m){var g=m.match(Pye);g&&(n+=g.length);var x=m.lastIndexOf(Fye);r=~x?m.length-x:r+m.length}function a(){var m={line:n,column:r};return function(g){return g.position=new s(m),c(),g}}function s(m){this.start=m,this.end={line:n,column:r},this.source=e.source}s.prototype.content=t;function o(m){var g=new Error(e.source+":"+n+":"+r+": "+m);if(g.reason=m,g.filename=e.source,g.line=n,g.column=r,g.source=t,!e.silent)throw g}function l(m){var g=m.exec(t);if(g){var x=g[0];return i(x),t=t.slice(x.length),g}}function c(){l(Iye)}function d(m){var g;for(m=m||[];g=f();)g!==!1&&m.push(g);return m}function f(){var m=a();if(!(oR!=t.charAt(0)||lR!=t.charAt(1))){for(var g=2;oc!=t.charAt(g)&&(lR!=t.charAt(g)||oR!=t.charAt(g+1));)++g;if(g+=2,oc===t.charAt(g-1))return o("End of comment missing");var x=t.slice(2,g-2);return r+=2,i(x),t=t.slice(g),r+=2,m({type:Bye,comment:x})}}function h(){var m=a(),g=l($ye);if(g){if(f(),!l(Rye))return o("property missing ':'");var x=l(Mye),v=m({type:zye,property:cR(g[0].replace(sR,oc)),value:x?cR(x[0].replace(sR,oc)):oc});return l(Dye),v}}function p(){var m=[];d(m);for(var g;g=h();)g!==!1&&(m.push(g),d(m));return m}return c(),p()}function cR(t){return t?t.replace(Lye,oc):oc}var Hye=Uye,Vye=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(UC,"__esModule",{value:!0});UC.default=qye;const Wye=Vye(Hye);function qye(t,e){let n=null;if(!t||typeof t!="string")return n;const r=(0,Wye.default)(t),i=typeof e=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?e(s,o,a):o&&(n=n||{},n[s]=o)}),n}var Mb={};Object.defineProperty(Mb,"__esModule",{value:!0});Mb.camelCase=void 0;var Gye=/^--[a-zA-Z0-9_-]+$/,Kye=/-([a-z])/g,Yye=/^[^-]+$/,Xye=/^-(webkit|moz|ms|o|khtml)-/,Zye=/^-(ms)-/,Jye=function(t){return!t||Yye.test(t)||Gye.test(t)},Qye=function(t,e){return e.toUpperCase()},uR=function(t,e){return"".concat(e,"-")},eve=function(t,e){return e===void 0&&(e={}),Jye(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(Zye,uR):t=t.replace(Xye,uR),t.replace(Kye,Qye))};Mb.camelCase=eve;var tve=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},nve=tve(UC),rve=Mb;function wj(t,e){var n={};return!t||typeof t!="string"||(0,nve.default)(t,function(r,i){r&&i&&(n[(0,rve.camelCase)(r,e)]=i)}),n}wj.default=wj;var ive=wj;const ave=at(ive),n9=r9("end"),HC=r9("start");function r9(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function sve(t){const e=HC(t),n=n9(t);if(e&&n)return{start:e,end:n}}function hp(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?dR(t.position):"start"in t||"end"in t?dR(t):"line"in t||"column"in t?_j(t):""}function _j(t){return fR(t&&t.line)+":"+fR(t&&t.column)}function dR(t){return _j(t&&t.start)+"-"+_j(t&&t.end)}function fR(t){return t&&typeof t=="number"?t:1}class tr extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(s=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=hp(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}tr.prototype.file="";tr.prototype.name="";tr.prototype.reason="";tr.prototype.message="";tr.prototype.stack="";tr.prototype.column=void 0;tr.prototype.line=void 0;tr.prototype.ancestors=void 0;tr.prototype.cause=void 0;tr.prototype.fatal=void 0;tr.prototype.place=void 0;tr.prototype.ruleId=void 0;tr.prototype.source=void 0;const VC={}.hasOwnProperty,ove=new Map,lve=/[A-Z]/g,cve=new Set(["table","tbody","thead","tfoot","tr"]),uve=new Set(["td","th"]),i9="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function dve(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=xve(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=vve(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?zC:Oye,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=a9(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function a9(t,e,n){if(e.type==="element")return fve(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return hve(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return mve(t,e,n);if(e.type==="mdxjsEsm")return pve(t,e);if(e.type==="root")return gve(t,e,n);if(e.type==="text")return yve(t,e)}function fve(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=zC,t.schema=i),t.ancestors.push(e);const a=o9(t,e.tagName,!1),s=bve(t,e);let o=qC(t,e);return cve.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!bye(l):!0})),s9(t,s,a,e),WC(s,o),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function hve(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}om(t,e.position)}function pve(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);om(t,e.position)}function mve(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=zC,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:o9(t,e.name,!0),s=wve(t,e),o=qC(t,e);return s9(t,s,a,e),WC(s,o),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function gve(t,e,n){const r={};return WC(r,qC(t,e)),t.create(e,t.Fragment,r,n)}function yve(t,e){return e.value}function s9(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function WC(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function vve(t,e,n){return r;function r(i,a,s,o){const c=Array.isArray(s.children)?n:e;return o?c(a,s,o):c(a,s)}}function xve(t,e){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=HC(r);return e(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function bve(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&VC.call(e.properties,i)){const a=_ve(t,i,e.properties[i]);if(a){const[s,o]=a;t.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&uve.has(e.tagName)?r=o:n[s]=o}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function wve(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,t.evaluater.evaluateExpression(o.argument))}else om(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const o=r.value.data.estree.body[0];o.type,a=t.evaluater.evaluateExpression(o.expression)}else om(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function qC(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:ove;for(;++r<e.children.length;){const a=e.children[r];let s;if(t.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;s=l+"-"+c,i.set(l,c+1)}}const o=a9(t,a,s);o!==void 0&&n.push(o)}return n}function _ve(t,e,n){const r=kye(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?mye(n):Nye(n)),r.property==="style"){let i=typeof n=="object"?n:Sve(t,String(n));return t.stylePropertyNameCase==="css"&&(i=Eve(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?Eye[r.property]||r.property:r.attribute,n]}}function Sve(t,e){try{return ave(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new tr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=i9+"#cannot-parse-style-attribute",i}}function o9(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,s;for(;++a<i.length;){const o=nR(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}r=s}else r=nR(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return VC.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);om(t)}function om(t,e){const n=new tr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=i9+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Eve(t){const e={};let n;for(n in t)VC.call(t,n)&&(e[jve(n)]=t[n]);return e}function jve(t){let e=t.replace(lve,Ave);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Ave(t){return"-"+t.toLowerCase()}const p1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},kve={};function Tve(t,e){const n=kve,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return l9(t,r,i)}function l9(t,e,n){if(Cve(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return hR(t.children,e,n)}return Array.isArray(t)?hR(t,e,n):""}function hR(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=l9(t[i],e,n);return r.join("")}function Cve(t){return!!(t&&typeof t=="object")}const pR=document.createElement("i");function GC(t){const e="&"+t+";";pR.innerHTML=e;const n=pR.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function hs(t,e,n,r){const i=t.length;let a=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(e,0),t.splice(...s),a+=1e4,e+=1e4}function Si(t,e){return t.length>0?(hs(t,t.length,0,e),t):e}const mR={}.hasOwnProperty;function Ove(t){const e={};let n=-1;for(;++n<t.length;)Nve(e,t[n]);return e}function Nve(t,e){let n;for(n in e){const i=(mR.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let s;if(a)for(s in a){mR.call(i,s)||(i[s]=[]);const o=a[s];Pve(i[s],Array.isArray(o)?o:o?[o]:[])}}}function Pve(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);hs(t,0,0,r)}function c9(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function vd(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Wa=Dl(/[A-Za-z]/),Jr=Dl(/[\dA-Za-z]/),Ive=Dl(/[#-'*+\--9=?A-Z^-~]/);function Sj(t){return t!==null&&(t<32||t===127)}const Ej=Dl(/\d/),$ve=Dl(/[\dA-Fa-f]/),Rve=Dl(/[!-/:-@[-`{-~]/);function He(t){return t!==null&&t<-2}function $r(t){return t!==null&&(t<0||t===32)}function yt(t){return t===-2||t===-1||t===32}const Mve=Dl(new RegExp("\\p{P}|\\p{S}","u")),Dve=Dl(/\s/);function Dl(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Hf(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let s="";if(a===37&&Jr(t.charCodeAt(n+1))&&Jr(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=t.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function It(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return yt(l)?(t.enter(n),o(l)):e(l)}function o(l){return yt(l)&&a++<i?(t.consume(l),o):(t.exit(n),e(l))}}const Lve={tokenize:Fve};function Fve(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),It(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),a(o)}function a(o){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return He(o)?(t.consume(o),t.exit("chunkText"),a):(t.consume(o),s)}}const Bve={tokenize:zve},gR={tokenize:Uve};function zve(t){const e=this,n=[];let r=0,i,a,s;return o;function o(y){if(r<n.length){const w=n[r];return e.containerState=w[1],t.attempt(w[0].continuation,l,c)(y)}return c(y)}function l(y){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&b();const w=e.events.length;let _=w,E;for(;_--;)if(e.events[_][0]==="exit"&&e.events[_][1].type==="chunkFlow"){E=e.events[_][1].end;break}v(r);let A=w;for(;A<e.events.length;)e.events[A][1].end={...E},A++;return hs(e.events,_+1,0,e.events.slice(w)),e.events.length=A,c(y)}return o(y)}function c(y){if(r===n.length){if(!i)return h(y);if(i.currentConstruct&&i.currentConstruct.concrete)return m(y);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(gR,d,f)(y)}function d(y){return i&&b(),v(r),h(y)}function f(y){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,m(y)}function h(y){return e.containerState={},t.attempt(gR,p,m)(y)}function p(y){return r++,n.push([e.currentConstruct,e.containerState]),h(y)}function m(y){if(y===null){i&&b(),v(0),t.consume(y);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(y)}function g(y){if(y===null){x(t.exit("chunkFlow"),!0),v(0),t.consume(y);return}return He(y)?(t.consume(y),x(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(y),g)}function x(y,w){const _=e.sliceStream(y);if(w&&_.push(null),y.previous=a,a&&(a.next=y),a=y,i.defineSkip(y.start),i.write(_),e.parser.lazy[y.start.line]){let E=i.events.length;for(;E--;)if(i.events[E][1].start.offset<s&&(!i.events[E][1].end||i.events[E][1].end.offset>s))return;const A=e.events.length;let j=A,k,C;for(;j--;)if(e.events[j][0]==="exit"&&e.events[j][1].type==="chunkFlow"){if(k){C=e.events[j][1].end;break}k=!0}for(v(r),E=A;E<e.events.length;)e.events[E][1].end={...C},E++;hs(e.events,j+1,0,e.events.slice(A)),e.events.length=E}}function v(y){let w=n.length;for(;w-- >y;){const _=n[w];e.containerState=_[1],_[0].exit.call(e,t)}n.length=y}function b(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Uve(t,e,n){return It(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function yR(t){if(t===null||$r(t)||Dve(t))return 1;if(Mve(t))return 2}function KC(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const jj={name:"attention",resolveAll:Hve,tokenize:Vve};function Hve(t,e){let n=-1,r,i,a,s,o,l,c,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[r][1].end},h={...t[n][1].start};vR(f,-l),vR(h,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...t[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},t[r][1].end={...s.start},t[n][1].start={...o.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=Si(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=Si(c,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",a,e]]),c=Si(c,KC(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=Si(c,[["exit",a,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,c=Si(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):d=0,hs(t,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Vve(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=yR(r);let a;return s;function s(l){return a=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===a)return t.consume(l),o;const c=t.exit("attentionSequence"),d=yR(l),f=!d||d===2&&i||n.includes(l),h=!i||i===2&&d||n.includes(r);return c._open=!!(a===42?f:f&&(i||!h)),c._close=!!(a===42?h:h&&(d||!f)),e(l)}}function vR(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Wve={name:"autolink",tokenize:qve};function qve(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(p){return Wa(p)?(t.consume(p),s):p===64?n(p):c(p)}function s(p){return p===43||p===45||p===46||Jr(p)?(r=1,o(p)):c(p)}function o(p){return p===58?(t.consume(p),r=0,l):(p===43||p===45||p===46||Jr(p))&&r++<32?(t.consume(p),o):(r=0,c(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||Sj(p)?n(p):(t.consume(p),l)}function c(p){return p===64?(t.consume(p),d):Ive(p)?(t.consume(p),c):n(p)}function d(p){return Jr(p)?f(p):n(p)}function f(p){return p===46?(t.consume(p),r=0,d):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):h(p)}function h(p){if((p===45||Jr(p))&&r++<63){const m=p===45?h:f;return t.consume(p),m}return n(p)}}const Db={partial:!0,tokenize:Gve};function Gve(t,e,n){return r;function r(a){return yt(a)?It(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||He(a)?e(a):n(a)}}const u9={continuation:{tokenize:Yve},exit:Xve,name:"blockQuote",tokenize:Kve};function Kve(t,e,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),a}return n(s)}function a(s){return yt(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function Yve(t,e,n){const r=this;return i;function i(s){return yt(s)?It(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return t.attempt(u9,e,n)(s)}}function Xve(t){t.exit("blockQuote")}const d9={name:"characterEscape",tokenize:Zve};function Zve(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return Rve(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const f9={name:"characterReference",tokenize:Jve};function Jve(t,e,n){const r=this;let i=0,a,s;return o;function o(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),l}function l(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),a=31,s=Jr,d(f))}function c(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,s=$ve,d):(t.enter("characterReferenceValue"),a=7,s=Ej,d(f))}function d(f){if(f===59&&i){const h=t.exit("characterReferenceValue");return s===Jr&&!GC(r.sliceSerialize(h))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(f)&&i++<a?(t.consume(f),d):n(f)}}const xR={partial:!0,tokenize:e0e},bR={concrete:!0,name:"codeFenced",tokenize:Qve};function Qve(t,e,n){const r=this,i={partial:!0,tokenize:_};let a=0,s=0,o;return l;function l(E){return c(E)}function c(E){const A=r.events[r.events.length-1];return a=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,o=E,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(E)}function d(E){return E===o?(s++,t.consume(E),d):s<3?n(E):(t.exit("codeFencedFenceSequence"),yt(E)?It(t,f,"whitespace")(E):f(E))}function f(E){return E===null||He(E)?(t.exit("codeFencedFence"),r.interrupt?e(E):t.check(xR,g,w)(E)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(E))}function h(E){return E===null||He(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(E)):yt(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),It(t,p,"whitespace")(E)):E===96&&E===o?n(E):(t.consume(E),h)}function p(E){return E===null||He(E)?f(E):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),m(E))}function m(E){return E===null||He(E)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(E)):E===96&&E===o?n(E):(t.consume(E),m)}function g(E){return t.attempt(i,w,x)(E)}function x(E){return t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),v}function v(E){return a>0&&yt(E)?It(t,b,"linePrefix",a+1)(E):b(E)}function b(E){return E===null||He(E)?t.check(xR,g,w)(E):(t.enter("codeFlowValue"),y(E))}function y(E){return E===null||He(E)?(t.exit("codeFlowValue"),b(E)):(t.consume(E),y)}function w(E){return t.exit("codeFenced"),e(E)}function _(E,A,j){let k=0;return C;function C(F){return E.enter("lineEnding"),E.consume(F),E.exit("lineEnding"),T}function T(F){return E.enter("codeFencedFence"),yt(F)?It(E,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):O(F)}function O(F){return F===o?(E.enter("codeFencedFenceSequence"),L(F)):j(F)}function L(F){return F===o?(k++,E.consume(F),L):k>=s?(E.exit("codeFencedFenceSequence"),yt(F)?It(E,R,"whitespace")(F):R(F)):j(F)}function R(F){return F===null||He(F)?(E.exit("codeFencedFence"),A(F)):j(F)}}}function e0e(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const m1={name:"codeIndented",tokenize:n0e},t0e={partial:!0,tokenize:r0e};function n0e(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),It(t,a,"linePrefix",5)(c)}function a(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?l(c):He(c)?t.attempt(t0e,s,l)(c):(t.enter("codeFlowValue"),o(c))}function o(c){return c===null||He(c)?(t.exit("codeFlowValue"),s(c)):(t.consume(c),o)}function l(c){return t.exit("codeIndented"),e(c)}}function r0e(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):He(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):It(t,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):He(s)?i(s):n(s)}}const i0e={name:"codeText",previous:s0e,resolve:a0e,tokenize:o0e};function a0e(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function s0e(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function o0e(t,e,n){let r=0,i,a;return s;function s(f){return t.enter("codeText"),t.enter("codeTextSequence"),o(f)}function o(f){return f===96?(t.consume(f),r++,o):(t.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),l):f===96?(a=t.enter("codeTextSequence"),i=0,d(f)):He(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||He(f)?(t.exit("codeTextData"),l(f)):(t.consume(f),c)}function d(f){return f===96?(t.consume(f),i++,d):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(a.type="codeTextData",c(f))}}class l0e{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&bh(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),bh(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),bh(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);bh(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);bh(this.left,n.reverse())}}}function bh(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function h9(t){const e={};let n=-1,r,i,a,s,o,l,c;const d=new l0e(t);for(;++n<d.length;){for(;n in e;)n=e[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,c0e(d,n)),n=e[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=d.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return hs(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function c0e(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],c={};let d,f,h=-1,p=n,m=0,g=0;const x=[g];for(;p;){for(;t.get(++i)[1]!==p;);a.push(i),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),f&&s.defineSkip(p.start),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(g=h+1,x.push(g),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(s.events=[],p?(p._tokenizer=void 0,p.previous=void 0):x.pop(),h=x.length;h--;){const v=o.slice(x[h],x[h+1]),b=a.pop();l.push([b,b+v.length-1]),t.splice(b,2,v)}for(l.reverse(),h=-1;++h<l.length;)c[m+l[h][0]]=m+l[h][1],m+=l[h][1]-l[h][0]-1;return c}const u0e={resolve:f0e,tokenize:h0e},d0e={partial:!0,tokenize:p0e};function f0e(t){return h9(t),t}function h0e(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):He(o)?t.check(d0e,s,a)(o):(t.consume(o),i)}function a(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function s(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function p0e(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),It(t,a,"linePrefix")}function a(s){if(s===null||He(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function p9(t,e,n,r,i,a,s,o,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(v){return v===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(v),t.exit(a),h):v===null||v===32||v===41||Sj(v)?n(v):(t.enter(r),t.enter(s),t.enter(o),t.enter("chunkString",{contentType:"string"}),g(v))}function h(v){return v===62?(t.enter(a),t.consume(v),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(t.exit("chunkString"),t.exit(o),h(v)):v===null||v===60||He(v)?n(v):(t.consume(v),v===92?m:p)}function m(v){return v===60||v===62||v===92?(t.consume(v),p):p(v)}function g(v){return!d&&(v===null||v===41||$r(v))?(t.exit("chunkString"),t.exit(o),t.exit(s),t.exit(r),e(v)):d<c&&v===40?(t.consume(v),d++,g):v===41?(t.consume(v),d--,g):v===null||v===32||v===40||Sj(v)?n(v):(t.consume(v),v===92?x:g)}function x(v){return v===40||v===41||v===92?(t.consume(v),g):g(v)}}function m9(t,e,n,r,i,a){const s=this;let o=0,l;return c;function c(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(a),d}function d(p){return o>999||p===null||p===91||p===93&&!l||p===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(p):p===93?(t.exit(a),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):He(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||He(p)||o++>999?(t.exit("chunkString"),d(p)):(t.consume(p),l||(l=!yt(p)),p===92?h:f)}function h(p){return p===91||p===92||p===93?(t.consume(p),o++,f):f(p)}}function g9(t,e,n,r,i,a){let s;return o;function o(h){return h===34||h===39||h===40?(t.enter(r),t.enter(i),t.consume(h),t.exit(i),s=h===40?41:h,l):n(h)}function l(h){return h===s?(t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):(t.enter(a),c(h))}function c(h){return h===s?(t.exit(a),l(s)):h===null?n(h):He(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),It(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===s||h===null||He(h)?(t.exit("chunkString"),c(h)):(t.consume(h),h===92?f:d)}function f(h){return h===s||h===92?(t.consume(h),d):d(h)}}function pp(t,e){let n;return r;function r(i){return He(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):yt(i)?It(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const m0e={name:"definition",tokenize:y0e},g0e={partial:!0,tokenize:v0e};function y0e(t,e,n){const r=this;let i;return a;function a(p){return t.enter("definition"),s(p)}function s(p){return m9.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return i=vd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):n(p)}function l(p){return $r(p)?pp(t,c)(p):c(p)}function c(p){return p9(t,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return t.attempt(g0e,f,f)(p)}function f(p){return yt(p)?It(t,h,"whitespace")(p):h(p)}function h(p){return p===null||He(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function v0e(t,e,n){return r;function r(o){return $r(o)?pp(t,i)(o):n(o)}function i(o){return g9(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return yt(o)?It(t,s,"whitespace")(o):s(o)}function s(o){return o===null||He(o)?e(o):n(o)}}const x0e={name:"hardBreakEscape",tokenize:b0e};function b0e(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return He(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const w0e={name:"headingAtx",resolve:_0e,tokenize:S0e};function _0e(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},hs(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function S0e(t,e,n){let r=0;return i;function i(d){return t.enter("atxHeading"),a(d)}function a(d){return t.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&r++<6?(t.consume(d),s):d===null||$r(d)?(t.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(t.enter("atxHeadingSequence"),l(d)):d===null||He(d)?(t.exit("atxHeading"),e(d)):yt(d)?It(t,o,"whitespace")(d):(t.enter("atxHeadingText"),c(d))}function l(d){return d===35?(t.consume(d),l):(t.exit("atxHeadingSequence"),o(d))}function c(d){return d===null||d===35||$r(d)?(t.exit("atxHeadingText"),o(d)):(t.consume(d),c)}}const E0e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],wR=["pre","script","style","textarea"],j0e={concrete:!0,name:"htmlFlow",resolveTo:T0e,tokenize:C0e},A0e={partial:!0,tokenize:N0e},k0e={partial:!0,tokenize:O0e};function T0e(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function C0e(t,e,n){const r=this;let i,a,s,o,l;return c;function c($){return d($)}function d($){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume($),f}function f($){return $===33?(t.consume($),h):$===47?(t.consume($),a=!0,g):$===63?(t.consume($),i=3,r.interrupt?e:P):Wa($)?(t.consume($),s=String.fromCharCode($),x):n($)}function h($){return $===45?(t.consume($),i=2,p):$===91?(t.consume($),i=5,o=0,m):Wa($)?(t.consume($),i=4,r.interrupt?e:P):n($)}function p($){return $===45?(t.consume($),r.interrupt?e:P):n($)}function m($){const ee="CDATA[";return $===ee.charCodeAt(o++)?(t.consume($),o===ee.length?r.interrupt?e:O:m):n($)}function g($){return Wa($)?(t.consume($),s=String.fromCharCode($),x):n($)}function x($){if($===null||$===47||$===62||$r($)){const ee=$===47,ie=s.toLowerCase();return!ee&&!a&&wR.includes(ie)?(i=1,r.interrupt?e($):O($)):E0e.includes(s.toLowerCase())?(i=6,ee?(t.consume($),v):r.interrupt?e($):O($)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n($):a?b($):y($))}return $===45||Jr($)?(t.consume($),s+=String.fromCharCode($),x):n($)}function v($){return $===62?(t.consume($),r.interrupt?e:O):n($)}function b($){return yt($)?(t.consume($),b):C($)}function y($){return $===47?(t.consume($),C):$===58||$===95||Wa($)?(t.consume($),w):yt($)?(t.consume($),y):C($)}function w($){return $===45||$===46||$===58||$===95||Jr($)?(t.consume($),w):_($)}function _($){return $===61?(t.consume($),E):yt($)?(t.consume($),_):y($)}function E($){return $===null||$===60||$===61||$===62||$===96?n($):$===34||$===39?(t.consume($),l=$,A):yt($)?(t.consume($),E):j($)}function A($){return $===l?(t.consume($),l=null,k):$===null||He($)?n($):(t.consume($),A)}function j($){return $===null||$===34||$===39||$===47||$===60||$===61||$===62||$===96||$r($)?_($):(t.consume($),j)}function k($){return $===47||$===62||yt($)?y($):n($)}function C($){return $===62?(t.consume($),T):n($)}function T($){return $===null||He($)?O($):yt($)?(t.consume($),T):n($)}function O($){return $===45&&i===2?(t.consume($),U):$===60&&i===1?(t.consume($),V):$===62&&i===4?(t.consume($),W):$===63&&i===3?(t.consume($),P):$===93&&i===5?(t.consume($),B):He($)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(A0e,G,L)($)):$===null||He($)?(t.exit("htmlFlowData"),L($)):(t.consume($),O)}function L($){return t.check(k0e,R,G)($)}function R($){return t.enter("lineEnding"),t.consume($),t.exit("lineEnding"),F}function F($){return $===null||He($)?L($):(t.enter("htmlFlowData"),O($))}function U($){return $===45?(t.consume($),P):O($)}function V($){return $===47?(t.consume($),s="",D):O($)}function D($){if($===62){const ee=s.toLowerCase();return wR.includes(ee)?(t.consume($),W):O($)}return Wa($)&&s.length<8?(t.consume($),s+=String.fromCharCode($),D):O($)}function B($){return $===93?(t.consume($),P):O($)}function P($){return $===62?(t.consume($),W):$===45&&i===2?(t.consume($),P):O($)}function W($){return $===null||He($)?(t.exit("htmlFlowData"),G($)):(t.consume($),W)}function G($){return t.exit("htmlFlow"),e($)}}function O0e(t,e,n){const r=this;return i;function i(s){return He(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function N0e(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Db,e,n)}}const P0e={name:"htmlText",tokenize:I0e};function I0e(t,e,n){const r=this;let i,a,s;return o;function o(P){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(P),l}function l(P){return P===33?(t.consume(P),c):P===47?(t.consume(P),_):P===63?(t.consume(P),y):Wa(P)?(t.consume(P),j):n(P)}function c(P){return P===45?(t.consume(P),d):P===91?(t.consume(P),a=0,m):Wa(P)?(t.consume(P),b):n(P)}function d(P){return P===45?(t.consume(P),p):n(P)}function f(P){return P===null?n(P):P===45?(t.consume(P),h):He(P)?(s=f,V(P)):(t.consume(P),f)}function h(P){return P===45?(t.consume(P),p):f(P)}function p(P){return P===62?U(P):P===45?h(P):f(P)}function m(P){const W="CDATA[";return P===W.charCodeAt(a++)?(t.consume(P),a===W.length?g:m):n(P)}function g(P){return P===null?n(P):P===93?(t.consume(P),x):He(P)?(s=g,V(P)):(t.consume(P),g)}function x(P){return P===93?(t.consume(P),v):g(P)}function v(P){return P===62?U(P):P===93?(t.consume(P),v):g(P)}function b(P){return P===null||P===62?U(P):He(P)?(s=b,V(P)):(t.consume(P),b)}function y(P){return P===null?n(P):P===63?(t.consume(P),w):He(P)?(s=y,V(P)):(t.consume(P),y)}function w(P){return P===62?U(P):y(P)}function _(P){return Wa(P)?(t.consume(P),E):n(P)}function E(P){return P===45||Jr(P)?(t.consume(P),E):A(P)}function A(P){return He(P)?(s=A,V(P)):yt(P)?(t.consume(P),A):U(P)}function j(P){return P===45||Jr(P)?(t.consume(P),j):P===47||P===62||$r(P)?k(P):n(P)}function k(P){return P===47?(t.consume(P),U):P===58||P===95||Wa(P)?(t.consume(P),C):He(P)?(s=k,V(P)):yt(P)?(t.consume(P),k):U(P)}function C(P){return P===45||P===46||P===58||P===95||Jr(P)?(t.consume(P),C):T(P)}function T(P){return P===61?(t.consume(P),O):He(P)?(s=T,V(P)):yt(P)?(t.consume(P),T):k(P)}function O(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(t.consume(P),i=P,L):He(P)?(s=O,V(P)):yt(P)?(t.consume(P),O):(t.consume(P),R)}function L(P){return P===i?(t.consume(P),i=void 0,F):P===null?n(P):He(P)?(s=L,V(P)):(t.consume(P),L)}function R(P){return P===null||P===34||P===39||P===60||P===61||P===96?n(P):P===47||P===62||$r(P)?k(P):(t.consume(P),R)}function F(P){return P===47||P===62||$r(P)?k(P):n(P)}function U(P){return P===62?(t.consume(P),t.exit("htmlTextData"),t.exit("htmlText"),e):n(P)}function V(P){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(P),t.exit("lineEnding"),D}function D(P){return yt(P)?It(t,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):B(P)}function B(P){return t.enter("htmlTextData"),s(P)}}const YC={name:"labelEnd",resolveAll:D0e,resolveTo:L0e,tokenize:F0e},$0e={tokenize:B0e},R0e={tokenize:z0e},M0e={tokenize:U0e};function D0e(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&hs(t,0,t.length,n),t}function L0e(t,e){let n=t.length,r=0,i,a,s,o;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[a][1].start},end:{...t[s][1].end}},d={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[s-2][1].start}};return o=[["enter",l,e],["enter",c,e]],o=Si(o,t.slice(a+1,a+r+3)),o=Si(o,[["enter",d,e]]),o=Si(o,KC(e.parser.constructs.insideSpan.null,t.slice(a+r+4,s-3),e)),o=Si(o,[["exit",d,e],t[s-2],t[s-1],["exit",c,e]]),o=Si(o,t.slice(s+1)),o=Si(o,[["exit",l,e]]),hs(t,a,t.length,o),t}function F0e(t,e,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(h){return a?a._inactive?f(h):(s=r.parser.defined.includes(vd(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),l):n(h)}function l(h){return h===40?t.attempt($0e,d,s?d:f)(h):h===91?t.attempt(R0e,d,s?c:f)(h):s?d(h):f(h)}function c(h){return t.attempt(M0e,d,f)(h)}function d(h){return e(h)}function f(h){return a._balanced=!0,n(h)}}function B0e(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),i}function i(f){return $r(f)?pp(t,a)(f):a(f)}function a(f){return f===41?d(f):p9(t,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return $r(f)?pp(t,l)(f):d(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?g9(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return $r(f)?pp(t,d)(f):d(f)}function d(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function z0e(t,e,n){const r=this;return i;function i(o){return m9.call(r,t,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(vd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function s(o){return n(o)}}function U0e(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const H0e={name:"labelStartImage",resolveAll:YC.resolveAll,tokenize:V0e};function V0e(t,e,n){const r=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),a}function a(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const W0e={name:"labelStartLink",resolveAll:YC.resolveAll,tokenize:q0e};function q0e(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const g1={name:"lineEnding",tokenize:G0e};function G0e(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),It(t,e,"linePrefix")}}const dv={name:"thematicBreak",tokenize:K0e};function K0e(t,e,n){let r=0,i;return a;function a(c){return t.enter("thematicBreak"),s(c)}function s(c){return i=c,o(c)}function o(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||He(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),yt(c)?It(t,o,"whitespace")(c):o(c))}}const xr={continuation:{tokenize:J0e},exit:exe,name:"list",tokenize:Z0e},Y0e={partial:!0,tokenize:txe},X0e={partial:!0,tokenize:Q0e};function Z0e(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(p){const m=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:Ej(p)){if(r.containerState.type||(r.containerState.type=m,t.enter(m,{_container:!0})),m==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(dv,n,c)(p):c(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return n(p)}function l(p){return Ej(p)&&++s<10?(t.consume(p),l):(!r.interrupt||s<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),c(p)):n(p)}function c(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(Db,r.interrupt?n:d,t.attempt(Y0e,h,f))}function d(p){return r.containerState.initialBlankLine=!0,a++,h(p)}function f(p){return yt(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function J0e(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Db,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,It(t,e,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!yt(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(X0e,e,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,It(t,t.attempt(xr,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Q0e(t,e,n){const r=this;return It(t,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(a):n(a)}}function exe(t){t.exit(this.containerState.type)}function txe(t,e,n){const r=this;return It(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!yt(a)&&s&&s[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const _R={name:"setextUnderline",resolveTo:nxe,tokenize:rxe};function nxe(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",s,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=s,t.push(["exit",s,e]),t}function rxe(t,e,n){const r=this;let i;return a;function a(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),i=c,s(c)):n(c)}function s(c){return t.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(t.consume(c),o):(t.exit("setextHeadingLineSequence"),yt(c)?It(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||He(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const ixe={tokenize:axe};function axe(t){const e=this,n=t.attempt(Db,r,t.attempt(this.parser.constructs.flowInitial,i,It(t,t.attempt(this.parser.constructs.flow,i,t.attempt(u0e,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const sxe={resolveAll:v9()},oxe=y9("string"),lxe=y9("text");function y9(t){return{resolveAll:v9(t==="text"?cxe:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,s,o);return s;function s(d){return c(d)?a(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),a(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const p=f[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function v9(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function cxe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(c===-2)l=!0,o++;else if(c!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(o=0),o){const c={type:n===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const uxe={42:xr,43:xr,45:xr,48:xr,49:xr,50:xr,51:xr,52:xr,53:xr,54:xr,55:xr,56:xr,57:xr,62:u9},dxe={91:m0e},fxe={[-2]:m1,[-1]:m1,32:m1},hxe={35:w0e,42:dv,45:[_R,dv],60:j0e,61:_R,95:dv,96:bR,126:bR},pxe={38:f9,92:d9},mxe={[-5]:g1,[-4]:g1,[-3]:g1,33:H0e,38:f9,42:jj,60:[Wve,P0e],91:W0e,92:[x0e,d9],93:YC,95:jj,96:i0e},gxe={null:[jj,sxe]},yxe={null:[42,95]},vxe={null:[]},xxe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:yxe,contentInitial:dxe,disable:vxe,document:uxe,flow:hxe,flowInitial:fxe,insideSpan:gxe,string:pxe,text:mxe},Symbol.toStringTag,{value:"Module"}));function bxe(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:A(_),check:A(E),consume:b,enter:y,exit:w,interrupt:A(E,{interrupt:!0})},c={code:null,containerState:{},defineSkip:g,events:[],now:m,parser:t,previous:null,sliceSerialize:h,sliceStream:p,write:f};let d=e.tokenize.call(c,l);return e.resolveAll&&a.push(e),c;function f(T){return s=Si(s,T),x(),s[s.length-1]!==null?[]:(j(e,0),c.events=KC(a,c.events,c),c.events)}function h(T,O){return _xe(p(T),O)}function p(T){return wxe(s,T)}function m(){const{_bufferIndex:T,_index:O,line:L,column:R,offset:F}=r;return{_bufferIndex:T,_index:O,line:L,column:R,offset:F}}function g(T){i[T.line]=T.column,C()}function x(){let T;for(;r._index<s.length;){const O=s[r._index];if(typeof O=="string")for(T=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===T&&r._bufferIndex<O.length;)v(O.charCodeAt(r._bufferIndex));else v(O)}}function v(T){d=d(T)}function b(T){He(T)?(r.line++,r.column=1,r.offset+=T===-3?2:1,C()):T!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=T}function y(T,O){const L=O||{};return L.type=T,L.start=m(),c.events.push(["enter",L,c]),o.push(L),L}function w(T){const O=o.pop();return O.end=m(),c.events.push(["exit",O,c]),O}function _(T,O){j(T,O.from)}function E(T,O){O.restore()}function A(T,O){return L;function L(R,F,U){let V,D,B,P;return Array.isArray(R)?G(R):"tokenize"in R?G([R]):W(R);function W(I){return N;function N(K){const z=K!==null&&I[K],Z=K!==null&&I.null,J=[...Array.isArray(z)?z:z?[z]:[],...Array.isArray(Z)?Z:Z?[Z]:[]];return G(J)(K)}}function G(I){return V=I,D=0,I.length===0?U:$(I[D])}function $(I){return N;function N(K){return P=k(),B=I,I.partial||(c.currentConstruct=I),I.name&&c.parser.constructs.disable.null.includes(I.name)?ie():I.tokenize.call(O?Object.assign(Object.create(c),O):c,l,ee,ie)(K)}}function ee(I){return T(B,P),F}function ie(I){return P.restore(),++D<V.length?$(V[D]):U}}}function j(T,O){T.resolveAll&&!a.includes(T)&&a.push(T),T.resolve&&hs(c.events,O,c.events.length-O,T.resolve(c.events.slice(O),c)),T.resolveTo&&(c.events=T.resolveTo(c.events,c))}function k(){const T=m(),O=c.previous,L=c.currentConstruct,R=c.events.length,F=Array.from(o);return{from:R,restore:U};function U(){r=T,c.previous=O,c.currentConstruct=L,c.events.length=R,o=F,C()}}function C(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function wxe(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,a)];else{if(s=t.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(t[i].slice(0,a))}return s}function _xe(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function Sxe(t){const r={constructs:Ove([xxe,...(t||{}).extensions||[]]),content:i(Lve),defined:[],document:i(Bve),flow:i(ixe),lazy:{},string:i(oxe),text:i(lxe)};return r;function i(a){return s;function s(o){return bxe(r,a,o)}}}function Exe(t){for(;!h9(t););return t}const SR=/[\0\t\n\r]/g;function jxe(){let t=1,e="",n=!0,r;return i;function i(a,s,o){const l=[];let c,d,f,h,p;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,e="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(SR.lastIndex=f,c=SR.exec(a),h=c&&c.index!==void 0?c.index:a.length,p=a.charCodeAt(h),!c){e=a.slice(f);break}if(p===10&&f===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<h&&(l.push(a.slice(f,h)),t+=h-f),p){case 0:{l.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,l.push(-2);t++<d;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}f=h+1}return o&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const Axe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function kxe(t){return t.replace(Axe,Txe)}function Txe(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return c9(n.slice(a?2:1),a?16:10)}return GC(n)||t}const x9={}.hasOwnProperty;function Cxe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Oxe(n)(Exe(Sxe(n).document().write(jxe()(t,e,!0))))}function Oxe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Me),autolinkProtocol:k,autolinkEmail:k,atxHeading:a(ve),blockQuote:a(Z),characterEscape:k,characterReference:k,codeFenced:a(J),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(J,s),codeText:a(Y,s),codeTextData:k,data:k,codeFlowValue:k,definition:a(me),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(le),hardBreakEscape:a(oe),hardBreakTrailing:a(oe),htmlFlow:a(Be,s),htmlFlowData:k,htmlText:a(Be,s),htmlTextData:k,image:a(ke),label:s,link:a(Me),listItem:a(At),listItemValue:h,listOrdered:a(ae,f),listUnordered:a(ae),paragraph:a(_e),reference:$,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(ve),strong:a(ye),thematicBreak:a(ge)},exit:{atxHeading:l(),atxHeadingSequence:_,autolink:l(),autolinkEmail:z,autolinkProtocol:K,blockQuote:l(),characterEscapeValue:C,characterReferenceMarkerHexadecimal:ie,characterReferenceMarkerNumeric:ie,characterReferenceValue:I,characterReference:N,codeFenced:l(x),codeFencedFence:g,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:C,codeIndented:l(v),codeText:l(F),codeTextData:C,data:C,definition:l(),definitionDestinationString:w,definitionLabelString:b,definitionTitleString:y,emphasis:l(),hardBreakEscape:l(O),hardBreakTrailing:l(O),htmlFlow:l(L),htmlFlowData:C,htmlText:l(R),htmlTextData:C,image:l(V),label:B,labelText:D,lineEnding:T,link:l(U),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ee,resourceDestinationString:P,resourceTitleString:W,resource:G,setextHeading:l(j),setextHeadingLineSequence:A,setextHeadingText:E,strong:l(),thematicBreak:l()}};b9(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(q){let X={type:"root",children:[]};const re={stack:[X],tokenStack:[],config:e,enter:o,exit:c,buffer:s,resume:d,data:n},Oe=[];let ct=-1;for(;++ct<q.length;)if(q[ct][1].type==="listOrdered"||q[ct][1].type==="listUnordered")if(q[ct][0]==="enter")Oe.push(ct);else{const Kt=Oe.pop();ct=i(q,Kt,ct)}for(ct=-1;++ct<q.length;){const Kt=e[q[ct][0]];x9.call(Kt,q[ct][1].type)&&Kt[q[ct][1].type].call(Object.assign({sliceSerialize:q[ct][2].sliceSerialize},re),q[ct][1])}if(re.tokenStack.length>0){const Kt=re.tokenStack[re.tokenStack.length-1];(Kt[1]||ER).call(re,void 0,Kt[0])}for(X.position={start:So(q.length>0?q[0][1].start:{line:1,column:1,offset:0}),end:So(q.length>0?q[q.length-2][1].end:{line:1,column:1,offset:0})},ct=-1;++ct<e.transforms.length;)X=e.transforms[ct](X)||X;return X}function i(q,X,re){let Oe=X-1,ct=-1,Kt=!1,on,Cn,Oa,ws;for(;++Oe<=re;){const en=q[Oe];switch(en[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{en[0]==="enter"?ct++:ct--,ws=void 0;break}case"lineEndingBlank":{en[0]==="enter"&&(on&&!ws&&!ct&&!Oa&&(Oa=Oe),ws=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ws=void 0}if(!ct&&en[0]==="enter"&&en[1].type==="listItemPrefix"||ct===-1&&en[0]==="exit"&&(en[1].type==="listUnordered"||en[1].type==="listOrdered")){if(on){let go=Oe;for(Cn=void 0;go--;){const Le=q[go];if(Le[1].type==="lineEnding"||Le[1].type==="lineEndingBlank"){if(Le[0]==="exit")continue;Cn&&(q[Cn][1].type="lineEndingBlank",Kt=!0),Le[1].type="lineEnding",Cn=go}else if(!(Le[1].type==="linePrefix"||Le[1].type==="blockQuotePrefix"||Le[1].type==="blockQuotePrefixWhitespace"||Le[1].type==="blockQuoteMarker"||Le[1].type==="listItemIndent"))break}Oa&&(!Cn||Oa<Cn)&&(on._spread=!0),on.end=Object.assign({},Cn?q[Cn][1].start:en[1].end),q.splice(Cn||Oe,0,["exit",on,en[2]]),Oe++,re++}if(en[1].type==="listItemPrefix"){const go={type:"listItem",_spread:!1,start:Object.assign({},en[1].start),end:void 0};on=go,q.splice(Oe,0,["enter",go,en[2]]),Oe++,re++,Oa=void 0,ws=!0}}}return q[X][1]._spread=Kt,re}function a(q,X){return re;function re(Oe){o.call(this,q(Oe),Oe),X&&X.call(this,Oe)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(q,X,re){this.stack[this.stack.length-1].children.push(q),this.stack.push(q),this.tokenStack.push([X,re||void 0]),q.position={start:So(X.start),end:void 0}}function l(q){return X;function X(re){q&&q.call(this,re),c.call(this,re)}}function c(q,X){const re=this.stack.pop(),Oe=this.tokenStack.pop();if(Oe)Oe[0].type!==q.type&&(X?X.call(this,q,Oe[0]):(Oe[1]||ER).call(this,q,Oe[0]));else throw new Error("Cannot close `"+q.type+"` ("+hp({start:q.start,end:q.end})+"): its not open");re.position.end=So(q.end)}function d(){return Tve(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(q){if(this.data.expectingFirstListItemValue){const X=this.stack[this.stack.length-2];X.start=Number.parseInt(this.sliceSerialize(q),10),this.data.expectingFirstListItemValue=void 0}}function p(){const q=this.resume(),X=this.stack[this.stack.length-1];X.lang=q}function m(){const q=this.resume(),X=this.stack[this.stack.length-1];X.meta=q}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const q=this.resume(),X=this.stack[this.stack.length-1];X.value=q.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const q=this.resume(),X=this.stack[this.stack.length-1];X.value=q.replace(/(\r?\n|\r)$/g,"")}function b(q){const X=this.resume(),re=this.stack[this.stack.length-1];re.label=X,re.identifier=vd(this.sliceSerialize(q)).toLowerCase()}function y(){const q=this.resume(),X=this.stack[this.stack.length-1];X.title=q}function w(){const q=this.resume(),X=this.stack[this.stack.length-1];X.url=q}function _(q){const X=this.stack[this.stack.length-1];if(!X.depth){const re=this.sliceSerialize(q).length;X.depth=re}}function E(){this.data.setextHeadingSlurpLineEnding=!0}function A(q){const X=this.stack[this.stack.length-1];X.depth=this.sliceSerialize(q).codePointAt(0)===61?1:2}function j(){this.data.setextHeadingSlurpLineEnding=void 0}function k(q){const re=this.stack[this.stack.length-1].children;let Oe=re[re.length-1];(!Oe||Oe.type!=="text")&&(Oe=be(),Oe.position={start:So(q.start),end:void 0},re.push(Oe)),this.stack.push(Oe)}function C(q){const X=this.stack.pop();X.value+=this.sliceSerialize(q),X.position.end=So(q.end)}function T(q){const X=this.stack[this.stack.length-1];if(this.data.atHardBreak){const re=X.children[X.children.length-1];re.position.end=So(q.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(X.type)&&(k.call(this,q),C.call(this,q))}function O(){this.data.atHardBreak=!0}function L(){const q=this.resume(),X=this.stack[this.stack.length-1];X.value=q}function R(){const q=this.resume(),X=this.stack[this.stack.length-1];X.value=q}function F(){const q=this.resume(),X=this.stack[this.stack.length-1];X.value=q}function U(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const X=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=X,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function V(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const X=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=X,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function D(q){const X=this.sliceSerialize(q),re=this.stack[this.stack.length-2];re.label=kxe(X),re.identifier=vd(X).toLowerCase()}function B(){const q=this.stack[this.stack.length-1],X=this.resume(),re=this.stack[this.stack.length-1];if(this.data.inReference=!0,re.type==="link"){const Oe=q.children;re.children=Oe}else re.alt=X}function P(){const q=this.resume(),X=this.stack[this.stack.length-1];X.url=q}function W(){const q=this.resume(),X=this.stack[this.stack.length-1];X.title=q}function G(){this.data.inReference=void 0}function $(){this.data.referenceType="collapsed"}function ee(q){const X=this.resume(),re=this.stack[this.stack.length-1];re.label=X,re.identifier=vd(this.sliceSerialize(q)).toLowerCase(),this.data.referenceType="full"}function ie(q){this.data.characterReferenceType=q.type}function I(q){const X=this.sliceSerialize(q),re=this.data.characterReferenceType;let Oe;re?(Oe=c9(X,re==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Oe=GC(X);const ct=this.stack[this.stack.length-1];ct.value+=Oe}function N(q){const X=this.stack.pop();X.position.end=So(q.end)}function K(q){C.call(this,q);const X=this.stack[this.stack.length-1];X.url=this.sliceSerialize(q)}function z(q){C.call(this,q);const X=this.stack[this.stack.length-1];X.url="mailto:"+this.sliceSerialize(q)}function Z(){return{type:"blockquote",children:[]}}function J(){return{type:"code",lang:null,meta:null,value:""}}function Y(){return{type:"inlineCode",value:""}}function me(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function le(){return{type:"emphasis",children:[]}}function ve(){return{type:"heading",depth:0,children:[]}}function oe(){return{type:"break"}}function Be(){return{type:"html",value:""}}function ke(){return{type:"image",title:null,url:"",alt:null}}function Me(){return{type:"link",title:null,url:"",children:[]}}function ae(q){return{type:"list",ordered:q.type==="listOrdered",start:null,spread:q._spread,children:[]}}function At(q){return{type:"listItem",spread:q._spread,checked:null,children:[]}}function _e(){return{type:"paragraph",children:[]}}function ye(){return{type:"strong",children:[]}}function be(){return{type:"text",value:""}}function ge(){return{type:"thematicBreak"}}}function So(t){return{line:t.line,column:t.column,offset:t.offset}}function b9(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?b9(t,r):Nxe(t,r)}}function Nxe(t,e){let n;for(n in e)if(x9.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function ER(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+hp({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+hp({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+hp({start:e.start,end:e.end})+") is still open")}function Pxe(t){const e=this;e.parser=n;function n(r){return Cxe(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Ixe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function $xe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Rxe(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function Mxe(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Dxe(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Lxe(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Hf(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let s,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=a+1,o+=1,t.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function Fxe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Bxe(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function w9(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function zxe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return w9(t,e);const i={src:Hf(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function Uxe(t,e){const n={src:Hf(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function Hxe(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function Vxe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return w9(t,e);const i={href:Hf(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function Wxe(t,e){const n={href:Hf(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function qxe(t,e,n){const r=t.all(e),i=n?Gxe(n):_9(e),a={},s=[];if(typeof e.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?s.push(...d.children):s.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:s};return t.patch(e,c),t.applyData(e,c)}function Gxe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=_9(n[r])}return e}function _9(t){const e=t.spread;return e??t.children.length>1}function Kxe(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function Yxe(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Xxe(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Zxe(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Jxe(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=HC(e.children[1]),l=n9(e.children[e.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function Qxe(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:e.children.length;let l=-1;const c=[];for(;++l<o;){const f=e.children[l],h={},p=s?s[l]:void 0;p&&(h.align=p);let m={type:"element",tagName:a,properties:h,children:[]};f&&(m.children=t.all(f),t.patch(f,m),m=t.applyData(f,m)),c.push(m)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,d),t.applyData(e,d)}function ebe(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const jR=9,AR=32;function tbe(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(kR(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(kR(e.slice(i),i>0,!1)),a.join("")}function kR(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===jR||a===AR;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===jR||a===AR;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function nbe(t,e){const n={type:"text",value:tbe(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function rbe(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const ibe={blockquote:Ixe,break:$xe,code:Rxe,delete:Mxe,emphasis:Dxe,footnoteReference:Lxe,heading:Fxe,html:Bxe,imageReference:zxe,image:Uxe,inlineCode:Hxe,linkReference:Vxe,link:Wxe,listItem:qxe,list:Kxe,paragraph:Yxe,root:Xxe,strong:Zxe,table:Jxe,tableCell:ebe,tableRow:Qxe,text:nbe,thematicBreak:rbe,toml:jy,yaml:jy,definition:jy,footnoteDefinition:jy};function jy(){}const S9=-1,Lb=0,mp=1,g0=2,XC=3,ZC=4,JC=5,QC=6,E9=7,j9=8,TR=typeof self=="object"?self:globalThis,abe=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,s]=e[i];switch(a){case Lb:case S9:return n(s,i);case mp:{const o=n([],i);for(const l of s)o.push(r(l));return o}case g0:{const o=n({},i);for(const[l,c]of s)o[r(l)]=r(c);return o}case XC:return n(new Date(s),i);case ZC:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case JC:{const o=n(new Map,i);for(const[l,c]of s)o.set(r(l),r(c));return o}case QC:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case E9:{const{name:o,message:l}=s;return n(new TR[o](l),i)}case j9:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new TR[a](s),i)};return r},CR=t=>abe(new Map,t)(0),Eu="",{toString:sbe}={},{keys:obe}=Object,wh=t=>{const e=typeof t;if(e!=="object"||!t)return[Lb,e];const n=sbe.call(t).slice(8,-1);switch(n){case"Array":return[mp,Eu];case"Object":return[g0,Eu];case"Date":return[XC,Eu];case"RegExp":return[ZC,Eu];case"Map":return[JC,Eu];case"Set":return[QC,Eu];case"DataView":return[mp,n]}return n.includes("Array")?[mp,n]:n.includes("Error")?[E9,n]:[g0,n]},Ay=([t,e])=>t===Lb&&(e==="function"||e==="symbol"),lbe=(t,e,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=wh(s);switch(o){case Lb:{let d=s;switch(l){case"bigint":o=j9,d=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([S9],s)}return i([o,d],s)}case mp:{if(l){let h=s;return l==="DataView"?h=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(s)),i([l,[...h]],s)}const d=[],f=i([o,d],s);for(const h of s)d.push(a(h));return f}case g0:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(e&&"toJSON"in s)return a(s.toJSON());const d=[],f=i([o,d],s);for(const h of obe(s))(t||!Ay(wh(s[h])))&&d.push([a(h),a(s[h])]);return f}case XC:return i([o,s.toISOString()],s);case ZC:{const{source:d,flags:f}=s;return i([o,{source:d,flags:f}],s)}case JC:{const d=[],f=i([o,d],s);for(const[h,p]of s)(t||!(Ay(wh(h))||Ay(wh(p))))&&d.push([a(h),a(p)]);return f}case QC:{const d=[],f=i([o,d],s);for(const h of s)(t||!Ay(wh(h)))&&d.push(a(h));return f}}const{message:c}=s;return i([o,{name:l,message:c}],s)};return a},OR=(t,{json:e,lossy:n}={})=>{const r=[];return lbe(!(e||n),!!e,new Map,r)(t),r},y0=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?CR(OR(t,e)):structuredClone(t):(t,e)=>CR(OR(t,e));function cbe(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function ube(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function dbe(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||cbe,r=t.options.footnoteBackLabel||ube,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const d=t.all(c),f=String(c.identifier).toUpperCase(),h=Hf(f.toLowerCase());let p=0;const m=[],g=t.footnoteCounts.get(f);for(;g!==void 0&&++p<=g;){m.length>0&&m.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,p);typeof b=="string"&&(b={type:"text",value:b}),m.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const x=d[d.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const b=x.children[x.children.length-1];b&&b.type==="text"?b.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...m)}else d.push(...m);const v={type:"element",tagName:"li",properties:{id:e+"fn-"+h},children:t.wrap(d,!0)};t.patch(c,v),o.push(v)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...y0(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const A9=function(t){if(t==null)return mbe;if(typeof t=="function")return Fb(t);if(typeof t=="object")return Array.isArray(t)?fbe(t):hbe(t);if(typeof t=="string")return pbe(t);throw new Error("Expected function, string, or object as test")};function fbe(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=A9(t[n]);return Fb(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function hbe(t){const e=t;return Fb(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function pbe(t){return Fb(e);function e(n){return n&&n.type===t}}function Fb(t){return e;function e(n,r,i){return!!(gbe(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function mbe(){return!0}function gbe(t){return t!==null&&typeof t=="object"&&"type"in t}const k9=[],ybe=!0,NR=!1,vbe="skip";function xbe(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=A9(i),s=r?-1:1;o(t,void 0,[])();function o(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=k9,m,g,x;if((!e||a(l,c,d[d.length-1]||void 0))&&(p=bbe(n(l,d)),p[0]===NR))return p;if("children"in l&&l.children){const v=l;if(v.children&&p[0]!==vbe)for(g=(r?v.children.length:-1)+s,x=d.concat(v);g>-1&&g<v.children.length;){const b=v.children[g];if(m=o(b,g,x)(),m[0]===NR)return m;g=typeof m[1]=="number"?m[1]:g+s}}return p}}}function bbe(t){return Array.isArray(t)?t:typeof t=="number"?[ybe,t]:t==null?k9:[t]}function T9(t,e,n,r){let i,a,s;typeof e=="function"&&typeof n!="function"?(a=void 0,s=e,i=n):(a=e,s=n,i=r),xbe(t,a,o,i);function o(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return s(l,f,d)}}const Aj={}.hasOwnProperty,wbe={};function _be(t,e){const n=e||wbe,r=new Map,i=new Map,a=new Map,s={...ibe,...n.handlers},o={all:c,applyData:Ebe,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:Sbe,wrap:Abe};return T9(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),o;function l(d,f){const h=d.type,p=o.handlers[h];if(Aj.call(o.handlers,h)&&p)return p(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:g,...x}=d,v=y0(x);return v.children=o.all(d),v}return y0(d)}return(o.options.unknownHandler||jbe)(o,d,f)}function c(d){const f=[];if("children"in d){const h=d.children;let p=-1;for(;++p<h.length;){const m=o.one(h[p],d);if(m){if(p&&h[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=PR(m.value)),!Array.isArray(m)&&m.type==="element")){const g=m.children[0];g&&g.type==="text"&&(g.value=PR(g.value))}Array.isArray(m)?f.push(...m):f.push(m)}}}return f}}function Sbe(t,e){t.position&&(e.position=sve(t))}function Ebe(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,y0(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function jbe(t,e){const n=e.data||{},r="value"in e&&!(Aj.call(n,"hProperties")||Aj.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Abe(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function PR(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function IR(t,e){const n=_be(t,e),r=n.one(t,void 0),i=dbe(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function kbe(t,e){return t&&"run"in t?async function(n,r){const i=IR(n,{file:r,...e});await t.run(i,r)}:function(n,r){return IR(n,{file:r,...t||e})}}function $R(t){if(t)throw t}var fv=Object.prototype.hasOwnProperty,C9=Object.prototype.toString,RR=Object.defineProperty,MR=Object.getOwnPropertyDescriptor,DR=function(e){return typeof Array.isArray=="function"?Array.isArray(e):C9.call(e)==="[object Array]"},LR=function(e){if(!e||C9.call(e)!=="[object Object]")return!1;var n=fv.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&fv.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||fv.call(e,i)},FR=function(e,n){RR&&n.name==="__proto__"?RR(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},BR=function(e,n){if(n==="__proto__")if(fv.call(e,n)){if(MR)return MR(e,n).value}else return;return e[n]},Tbe=function t(){var e,n,r,i,a,s,o=arguments[0],l=1,c=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=BR(o,n),i=BR(e,n),o!==i&&(d&&i&&(LR(i)||(a=DR(i)))?(a?(a=!1,s=r&&DR(r)?r:[]):s=r&&LR(r)?r:{},FR(o,{name:n,newValue:t(d,s,i)})):typeof i<"u"&&FR(o,{name:n,newValue:i}));return o};const y1=at(Tbe);function kj(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Cbe(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...c){const d=t[++a];let f=-1;if(l){s(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,d?Obe(d,o)(...c):s(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function Obe(t,e){let n;return r;function r(...s){const o=t.length>s.length;let l;o&&s.push(i);try{l=t.apply(this,s)}catch(c){const d=c;if(o&&n)throw d;return i(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,e(s,...o))}function a(s){i(null,s)}}const Fa={basename:Nbe,dirname:Pbe,extname:Ibe,join:$be,sep:"/"};function Nbe(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');bg(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function Pbe(t){if(bg(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Ibe(t){bg(t);let e=t.length,n=-1,r=0,i=-1,a=0,s;for(;e--;){const o=t.codePointAt(e);if(o===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),o===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function $be(...t){let e=-1,n;for(;++e<t.length;)bg(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Rbe(n)}function Rbe(t){bg(t);const e=t.codePointAt(0)===47;let n=Mbe(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Mbe(t,e){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=t.length;){if(s<t.length)o=t.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function bg(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Dbe={cwd:Lbe};function Lbe(){return"/"}function Tj(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Fbe(t){if(typeof t=="string")t=new URL(t);else if(!Tj(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Bbe(t)}function Bbe(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const v1=["history","path","basename","stem","extname","dirname"];class O9{constructor(e){let n;e?Tj(e)?n={path:e}:typeof e=="string"||zbe(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Dbe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<v1.length;){const a=v1[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)v1.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Fa.basename(this.path):void 0}set basename(e){b1(e,"basename"),x1(e,"basename"),this.path=Fa.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Fa.dirname(this.path):void 0}set dirname(e){zR(this.basename,"dirname"),this.path=Fa.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Fa.extname(this.path):void 0}set extname(e){if(x1(e,"extname"),zR(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Fa.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Tj(e)&&(e=Fbe(e)),b1(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Fa.basename(this.path,this.extname):void 0}set stem(e){b1(e,"stem"),x1(e,"stem"),this.path=Fa.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new tr(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function x1(t,e){if(t&&t.includes(Fa.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Fa.sep+"`")}function b1(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function zR(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function zbe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Ube=function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},Hbe={}.hasOwnProperty;class eO extends Ube{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Cbe()}copy(){const e=new eO;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(y1(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(S1("data",this.frozen),this.namespace[e]=n,this):Hbe.call(this.namespace,e)&&this.namespace[e]||void 0:e?(S1("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=ky(e),r=this.parser||this.Parser;return w1("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),w1("process",this.parser||this.Parser),_1("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=ky(e),l=r.parse(o);r.run(l,o,function(d,f,h){if(d||!f||!h)return c(d);const p=f,m=r.stringify(p,h);qbe(m)?h.value=m:h.result=m,c(d,h)});function c(d,f){d||!f?s(d):a?a(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),w1("processSync",this.parser||this.Parser),_1("processSync",this.compiler||this.Compiler),this.process(e,i),HR("processSync","process",n),r;function i(a,s){n=!0,$R(a),r=s}}run(e,n,r){UR(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=ky(n);i.run(e,l,c);function c(d,f,h){const p=f||e;d?o(d):s?s(p):r(void 0,p,h)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),HR("runSync","run",r),i;function a(s,o){$R(s),i=o,r=!0}}stringify(e,n){this.freeze();const r=ky(n),i=this.compiler||this.Compiler;return _1("stringify",i),UR(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(S1("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=y1(!0,i.settings,c.settings))}function o(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];a(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===c){h=f;break}if(h===-1)r.push([c,...d]);else if(d.length>0){let[p,...m]=d;const g=r[h][1];kj(g)&&kj(p)&&(p=y1(!0,g,p)),r[h]=[c,p,...m]}}}}const Vbe=new eO().freeze();function w1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function _1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function S1(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function UR(t){if(!kj(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function HR(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function ky(t){return Wbe(t)?t:new O9(t)}function Wbe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function qbe(t){return typeof t=="string"||Gbe(t)}function Gbe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Kbe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",VR=[],WR={allowDangerousHtml:!0},Ybe=/^(https?|ircs?|mailto|xmpp)$/i,Xbe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function N9(t){const e=Zbe(t),n=Jbe(t);return Qbe(e.runSync(e.parse(n),n),t)}function Zbe(t){const e=t.rehypePlugins||VR,n=t.remarkPlugins||VR,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...WR}:WR;return Vbe().use(Pxe).use(n).use(kbe,r).use(e)}function Jbe(t){const e=t.children||"",n=new O9;return typeof e=="string"&&(n.value=e),n}function Qbe(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,a=e.disallowedElements,s=e.skipHtml,o=e.unwrapDisallowed,l=e.urlTransform||ewe;for(const d of Xbe)Object.hasOwn(e,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Kbe+d.id,void 0);return T9(t,c),dve(t,{Fragment:u.Fragment,components:i,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return s?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let p;for(p in p1)if(Object.hasOwn(p1,p)&&Object.hasOwn(d.properties,p)){const m=d.properties[p],g=p1[p];(g===null||g.includes(d.tagName))&&(d.properties[p]=l(String(m||""),p,d))}}if(d.type==="element"){let p=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!p&&r&&typeof f=="number"&&(p=!r(d,f,h)),p&&h&&typeof f=="number")return o&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function ewe(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||Ybe.test(t.slice(0,e))?t:""}const twe=eg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 button-magnetic micro-bounce",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-elegant",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-primary/20 bg-background/10 backdrop-blur-sm text-foreground hover:bg-primary/10 hover:border-primary/40",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-ai-gradient text-white hover:scale-105 transform transition-all duration-300 shadow-glow hover:shadow-[0_0_30px_hsl(217_91%_60%_/_0.5)] button-glow hover-glow",premium:"bg-gradient-to-r from-ai-purple to-ai-teal text-white hover:scale-105 transform transition-all duration-300 shadow-elegant button-glow animate-gradient-shift"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),se=S.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const s=r?fl:"button";return u.jsx(s,{className:we(twe({variant:e,size:n,className:t})),ref:a,...i})});se.displayName="Button";const ne=S.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:we("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ne.displayName="Card";const et=S.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:we("flex flex-col space-y-1.5 p-6",t),...e}));et.displayName="CardHeader";const tt=S.forwardRef(({className:t,...e},n)=>u.jsx("h3",{ref:n,className:we("text-2xl font-semibold leading-none tracking-tight",t),...e}));tt.displayName="CardTitle";const Ga=S.forwardRef(({className:t,...e},n)=>u.jsx("p",{ref:n,className:we("text-sm text-muted-foreground",t),...e}));Ga.displayName="CardDescription";const Fe=S.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:we("p-6 pt-0",t),...e}));Fe.displayName="CardContent";const nwe=S.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:we("flex items-center p-6 pt-0",t),...e}));nwe.displayName="CardFooter";const zt=S.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:we("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));zt.displayName="Input";var rwe=S.createContext(void 0);function wg(t){const e=S.useContext(rwe);return t||e||"ltr"}function Cj(t,[e,n]){return Math.min(n,Math.max(e,t))}function iwe(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var tO="ScrollArea",[P9,RWe]=Sa(tO),[awe,Ri]=P9(tO),I9=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:a=600,...s}=t,[o,l]=S.useState(null),[c,d]=S.useState(null),[f,h]=S.useState(null),[p,m]=S.useState(null),[g,x]=S.useState(null),[v,b]=S.useState(0),[y,w]=S.useState(0),[_,E]=S.useState(!1),[A,j]=S.useState(!1),k=rt(e,T=>l(T)),C=wg(i);return u.jsx(awe,{scope:n,type:r,dir:C,scrollHideDelay:a,scrollArea:o,viewport:c,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:m,scrollbarXEnabled:_,onScrollbarXEnabledChange:E,scrollbarY:g,onScrollbarYChange:x,scrollbarYEnabled:A,onScrollbarYEnabledChange:j,onCornerWidthChange:b,onCornerHeightChange:w,children:u.jsx(Pe.div,{dir:C,...s,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":y+"px",...t.style}})})});I9.displayName=tO;var $9="ScrollAreaViewport",R9=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,asChild:i,nonce:a,...s}=t,o=Ri($9,n),l=S.useRef(null),c=rt(e,l,o.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),u.jsx(Pe.div,{"data-radix-scroll-area-viewport":"",...s,asChild:i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:mwe({asChild:i,children:r},d=>u.jsx("div",{"data-radix-scroll-area-content":"",ref:o.onContentChange,style:{minWidth:o.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});R9.displayName=$9;var ys="ScrollAreaScrollbar",nO=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Ri(ys,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:s}=i,o=t.orientation==="horizontal";return S.useEffect(()=>(o?a(!0):s(!0),()=>{o?a(!1):s(!1)}),[o,a,s]),i.type==="hover"?u.jsx(swe,{...r,ref:e,forceMount:n}):i.type==="scroll"?u.jsx(owe,{...r,ref:e,forceMount:n}):i.type==="auto"?u.jsx(M9,{...r,ref:e,forceMount:n}):i.type==="always"?u.jsx(rO,{...r,ref:e}):null});nO.displayName=ys;var swe=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Ri(ys,t.__scopeScrollArea),[a,s]=S.useState(!1);return S.useEffect(()=>{const o=i.scrollArea;let l=0;if(o){const c=()=>{window.clearTimeout(l),s(!0)},d=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",c),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",c),o.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),u.jsx(Qn,{present:n||a,children:u.jsx(M9,{"data-state":a?"visible":"hidden",...r,ref:e})})}),owe=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Ri(ys,t.__scopeScrollArea),a=t.orientation==="horizontal",s=zb(()=>l("SCROLL_END"),100),[o,l]=iwe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(o==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[o,i.scrollHideDelay,l]),S.useEffect(()=>{const c=i.viewport,d=a?"scrollLeft":"scrollTop";if(c){let f=c[d];const h=()=>{const p=c[d];f!==p&&(l("SCROLL"),s()),f=p};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,a,l,s]),u.jsx(Qn,{present:n||o!=="hidden",children:u.jsx(rO,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:pe(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:pe(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),M9=S.forwardRef((t,e)=>{const n=Ri(ys,t.__scopeScrollArea),{forceMount:r,...i}=t,[a,s]=S.useState(!1),o=t.orientation==="horizontal",l=zb(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;s(o?c:d)}},10);return Jd(n.viewport,l),Jd(n.content,l),u.jsx(Qn,{present:r||a,children:u.jsx(rO,{"data-state":a?"visible":"hidden",...i,ref:e})})}),rO=S.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Ri(ys,t.__scopeScrollArea),a=S.useRef(null),s=S.useRef(0),[o,l]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=z9(o.viewport,o.content),d={...r,sizes:o,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,p){return hwe(h,s.current,o,p)}return n==="horizontal"?u.jsx(lwe,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollLeft,p=qR(h,o,i.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?u.jsx(cwe,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollTop,p=qR(h,o);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),lwe=S.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,a=Ri(ys,t.__scopeScrollArea),[s,o]=S.useState(),l=S.useRef(null),c=rt(e,l,a.onScrollbarXChange);return S.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),u.jsx(L9,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Bb(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),H9(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&s&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:x0(s.paddingLeft),paddingEnd:x0(s.paddingRight)}})}})}),cwe=S.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,a=Ri(ys,t.__scopeScrollArea),[s,o]=S.useState(),l=S.useRef(null),c=rt(e,l,a.onScrollbarYChange);return S.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),u.jsx(L9,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Bb(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),H9(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&s&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:x0(s.paddingTop),paddingEnd:x0(s.paddingBottom)}})}})}),[uwe,D9]=P9(ys),L9=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:s,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:f,...h}=t,p=Ri(ys,n),[m,g]=S.useState(null),x=rt(e,k=>g(k)),v=S.useRef(null),b=S.useRef(""),y=p.viewport,w=r.content-r.viewport,_=qt(d),E=qt(l),A=zb(f,10);function j(k){if(v.current){const C=k.clientX-v.current.left,T=k.clientY-v.current.top;c({x:C,y:T})}}return S.useEffect(()=>{const k=C=>{const T=C.target;(m==null?void 0:m.contains(T))&&_(C,w)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[y,m,w,_]),S.useEffect(E,[r,E]),Jd(m,A),Jd(p.content,A),u.jsx(uwe,{scope:n,scrollbar:m,hasThumb:i,onThumbChange:qt(a),onThumbPointerUp:qt(s),onThumbPositionChange:E,onThumbPointerDown:qt(o),children:u.jsx(Pe.div,{...h,ref:x,style:{position:"absolute",...h.style},onPointerDown:pe(t.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),v.current=m.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),j(k))}),onPointerMove:pe(t.onPointerMove,j),onPointerUp:pe(t.onPointerUp,k=>{const C=k.target;C.hasPointerCapture(k.pointerId)&&C.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=b.current,p.viewport&&(p.viewport.style.scrollBehavior=""),v.current=null})})})}),v0="ScrollAreaThumb",F9=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=D9(v0,t.__scopeScrollArea);return u.jsx(Qn,{present:n||i.hasThumb,children:u.jsx(dwe,{ref:e,...r})})}),dwe=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,a=Ri(v0,n),s=D9(v0,n),{onThumbPositionChange:o}=s,l=rt(e,f=>s.onThumbChange(f)),c=S.useRef(),d=zb(()=>{c.current&&(c.current(),c.current=void 0)},100);return S.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!c.current){const p=pwe(f,o);c.current=p,o()}};return o(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,o]),u.jsx(Pe.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:pe(t.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),m=f.clientX-p.left,g=f.clientY-p.top;s.onThumbPointerDown({x:m,y:g})}),onPointerUp:pe(t.onPointerUp,s.onThumbPointerUp)})});F9.displayName=v0;var iO="ScrollAreaCorner",B9=S.forwardRef((t,e)=>{const n=Ri(iO,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(fwe,{...t,ref:e}):null});B9.displayName=iO;var fwe=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Ri(iO,n),[a,s]=S.useState(0),[o,l]=S.useState(0),c=!!(a&&o);return Jd(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),Jd(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),s(d)}),c?u.jsx(Pe.div,{...r,ref:e,style:{width:a,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function x0(t){return t?parseInt(t,10):0}function z9(t,e){const n=t/e;return isNaN(n)?0:n}function Bb(t){const e=z9(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function hwe(t,e,n,r="ltr"){const i=Bb(n),a=i/2,s=e||a,o=i-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-o,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return U9([l,c],f)(t)}function qR(t,e,n="ltr"){const r=Bb(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,s=e.content-e.viewport,o=a-r,l=n==="ltr"?[0,s]:[s*-1,0],c=Cj(t,l);return U9([0,s],[0,o])(c)}function U9(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function H9(t,e){return t>0&&t<e}var pwe=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const a={left:t.scrollLeft,top:t.scrollTop},s=n.left!==a.left,o=n.top!==a.top;(s||o)&&e(),n=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function zb(t,e){const n=qt(t),r=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),S.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Jd(t,e){const n=qt(e);An(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}function mwe(t,e){const{asChild:n,children:r}=t;if(!n)return typeof e=="function"?e(r):e;const i=S.Children.only(r);return S.cloneElement(i,{children:typeof e=="function"?e(i.props.children):e})}var V9=I9,gwe=R9,ywe=B9;const aO=S.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(V9,{ref:r,className:we("relative overflow-hidden",t),...n,children:[u.jsx(gwe,{className:"h-full w-full rounded-[inherit]",children:e}),u.jsx(W9,{}),u.jsx(ywe,{})]}));aO.displayName=V9.displayName;const W9=S.forwardRef(({className:t,orientation:e="vertical",...n},r)=>u.jsx(nO,{ref:r,orientation:e,className:we("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:u.jsx(F9,{className:"relative flex-1 rounded-full bg-border"})}));W9.displayName=nO.displayName;const jl=({size:t="md",className:e})=>{const n={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return u.jsx("div",{className:we("flex items-center justify-center",e),children:u.jsx("div",{className:we("animate-spin rounded-full border-2 border-primary/20 border-t-primary",n[t]),role:"status","aria-label":"Loading",children:u.jsx("span",{className:"sr-only",children:"Loading..."})})})},vwe=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState([{id:"welcome",content:"Hi! I'm your AI college counselor. I can help you with admissions, applications, and campus information. How can I assist you today?",role:"assistant",timestamp:new Date}]),[i,a]=S.useState(""),[s,o]=S.useState(!1),l=S.useRef(null),{toast:c}=Ht(),d=S.useRef(new K8("counselor")),f=()=>{var p;(p=l.current)==null||p.scrollIntoView({behavior:"smooth"})};S.useEffect(()=>{f()},[n]);const h=async p=>{if(p.preventDefault(),!i.trim()||s)return;const m={id:Date.now().toString(),content:i.trim(),role:"user",timestamp:new Date};r(g=>[...g,m]),a(""),o(!0);try{const g=n.map(b=>({role:b.role,content:b.content})),x=await d.current.generateResponse(m.content,g),v={id:(Date.now()+1).toString(),content:x.content,role:"assistant",timestamp:new Date};r(b=>[...b,v])}catch(g){console.error("AI Chat error:",g),c({title:"Error",description:"Failed to get AI response. Please try again.",variant:"destructive"});const x={id:(Date.now()+1).toString(),content:"I apologize, but I'm having trouble processing your request right now. Please try again in a moment.",role:"assistant",timestamp:new Date};r(v=>[...v,x])}finally{o(!1)}};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:u.jsx(se,{onClick:()=>e(!t),size:"lg",className:we("rounded-full w-14 h-14 shadow-elegant hover-lift transition-all duration-300",t?"rotate-180":"animate-pulse"),variant:"hero",children:t?u.jsx(rg,{className:"w-6 h-6"}):u.jsx(Kv,{className:"w-6 h-6"})})}),t&&u.jsx(ne,{className:"fixed bottom-24 right-6 w-96 h-[500px] z-40 shadow-2xl border-2 border-primary/20 animate-scale-in",children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx("div",{className:"p-4 border-b bg-gradient-subtle rounded-t-lg",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-8 h-8 bg-ai-gradient rounded-full flex items-center justify-center",children:u.jsx(ua,{className:"w-4 h-4 text-white"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-sm",children:"AI College Counselor"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Always here to help"})]})]})}),u.jsxs(aO,{className:"flex-1 p-4",children:[u.jsxs("div",{className:"space-y-4",children:[n.map(p=>u.jsxs("div",{className:we("flex items-start space-x-2",p.role==="user"?"justify-end":"justify-start"),children:[p.role==="assistant"&&u.jsx("div",{className:"w-6 h-6 bg-ai-gradient rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:u.jsx(ua,{className:"w-3 h-3 text-white"})}),u.jsx("div",{className:we("max-w-[280px] p-3 rounded-lg text-sm transition-all duration-200",p.role==="user"?"bg-primary text-primary-foreground ml-auto hover-lift":"bg-secondary text-secondary-foreground hover-scale"),children:u.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none break-words",children:u.jsx(N9,{children:p.content})})}),p.role==="user"&&u.jsx("div",{className:"w-6 h-6 bg-muted rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:u.jsx(Kp,{className:"w-3 h-3"})})]},p.id)),s&&u.jsxs("div",{className:"flex items-start space-x-2",children:[u.jsx("div",{className:"w-6 h-6 bg-ai-gradient rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:u.jsx(ua,{className:"w-3 h-3 text-white"})}),u.jsx("div",{className:"bg-secondary p-3 rounded-lg",children:u.jsx(jl,{size:"sm"})})]})]}),u.jsx("div",{ref:l})]}),u.jsx("form",{onSubmit:h,className:"p-4 border-t",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(zt,{value:i,onChange:p=>a(p.target.value),placeholder:"Ask about admissions, applications...",disabled:s,className:"flex-1"}),u.jsx(se,{type:"submit",size:"icon",disabled:s||!i.trim(),className:"flex-shrink-0 hover-lift",variant:"hero",children:u.jsx(ET,{className:"w-4 h-4"})})]})})]})})]})},xwe=()=>{const[t,e]=S.useState(null),[n,r]=S.useState(!1),[i,a]=S.useState(!1);S.useEffect(()=>{(()=>{window.matchMedia("(display-mode: standalone)").matches&&a(!0)})();const d=h=>{h.preventDefault(),e(h),setTimeout(()=>{r(!0)},3e3)},f=()=>{a(!0),r(!1),e(null)};return window.addEventListener("beforeinstallprompt",d),window.addEventListener("appinstalled",f),()=>{window.removeEventListener("beforeinstallprompt",d),window.removeEventListener("appinstalled",f)}},[]);const s=async()=>{if(t){try{await t.prompt(),(await t.userChoice).outcome==="accepted"?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt")}catch(c){console.error("Error during install prompt:",c)}e(null),r(!1)}},o=()=>{r(!1),localStorage.setItem("pwa-install-dismissed",Date.now().toString())};if(i||!n||!t)return null;const l=localStorage.getItem("pwa-install-dismissed");return l&&Date.now()-parseInt(l)<24*60*60*1e3?null:u.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 md:left-auto md:right-4 md:w-80",children:u.jsx(ne,{className:"p-4 bg-card/95 backdrop-blur-sm border shadow-lg",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:u.jsx(Gee,{className:"w-5 h-5 text-primary"})}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsx("h3",{className:"font-semibold text-sm text-card-foreground",children:"Install AdmitConnect AI"}),u.jsx(se,{variant:"ghost",size:"icon",onClick:o,className:"w-6 h-6 -mt-1 -mr-1",children:u.jsx(rg,{className:"w-4 h-4"})})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Get faster access and offline features by installing our app on your device."}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs(se,{onClick:s,size:"sm",className:"flex-1",children:[u.jsx(_T,{className:"w-4 h-4 mr-1"}),"Install"]}),u.jsx(se,{variant:"outline",size:"sm",onClick:o,className:"flex-1",children:"Later"})]})]})]})})})},bwe=()=>u.jsxs("div",{className:"sr-only focus:not-sr-only",children:[u.jsx("a",{href:"#main-content",className:"fixed top-0 left-0 z-[9999] bg-primary text-primary-foreground px-4 py-2 rounded-br-md focus:outline-none focus:ring-2 focus:ring-ring",onFocus:t=>{t.currentTarget.classList.remove("sr-only")},onBlur:t=>{t.currentTarget.classList.add("sr-only")},children:"Skip to main content"}),u.jsx("a",{href:"#navigation",className:"fixed top-0 left-0 z-[9999] bg-primary text-primary-foreground px-4 py-2 rounded-br-md focus:outline-none focus:ring-2 focus:ring-ring ml-32",onFocus:t=>{t.currentTarget.classList.remove("sr-only")},onBlur:t=>{t.currentTarget.classList.add("sr-only")},children:"Skip to navigation"})]});class wwe extends S.Component{constructor(){super(...arguments);H(this,"state",{hasError:!1})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("ErrorBoundary caught an error:",n,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:u.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:u.jsxs(ne,{className:"max-w-md w-full p-6 text-center space-y-4",children:[u.jsx("div",{className:"w-16 h-16 bg-destructive/10 rounded-full flex items-center justify-center mx-auto",children:u.jsx(NB,{className:"w-8 h-8 text-destructive"})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Something went wrong"}),u.jsx("p",{className:"text-muted-foreground",children:"We encountered an unexpected error. Please try refreshing the page."}),!1]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[u.jsxs(se,{onClick:()=>window.location.reload(),className:"flex-1",children:[u.jsx(ml,{className:"w-4 h-4 mr-2"}),"Refresh Page"]}),u.jsx(se,{variant:"outline",onClick:()=>window.location.href="/",className:"flex-1",children:"Go Home"})]})]})}):this.props.children}}const _we=()=>{const t=hi(),e=Il(),{user:n,loading:r}=er(),i=S.useRef(!1);return S.useEffect(()=>{if(r||i.current)return;const a=e.pathname==="/auth",s=e.pathname==="/"&&(e.hash.includes("access_token")||window.location.hash.includes("access_token"));n&&(a||s)&&(console.log("User authenticated, redirecting to dashboard..."),i.current=!0,window.location.hash&&window.history.replaceState(null,"",window.location.pathname),t("/dashboard",{replace:!0}))},[n,r,t,e]),S.useEffect(()=>{n||(i.current=!1)},[n]),null},Swe=({onComplete:t})=>{const[e,n]=S.useState(!0);return S.useEffect(()=>{const r=setTimeout(()=>{n(!1),setTimeout(t,300)},800);return()=>clearTimeout(r)},[t]),u.jsxs("div",{className:we("fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-background via-primary/20 to-background transition-opacity duration-500",!e&&"opacity-0 pointer-events-none"),children:[u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[u.jsx("div",{className:"absolute w-32 h-32 border-4 border-primary/30 rounded-full animate-[ping_2s_ease-in-out_infinite]"}),u.jsx("div",{className:"absolute w-40 h-40 border-4 border-primary/20 rounded-full animate-[ping_2s_ease-in-out_0.5s_infinite]"}),u.jsx("div",{className:"absolute w-48 h-48 border-4 border-primary/10 rounded-full animate-[ping_2s_ease-in-out_1s_infinite]"})]}),u.jsx("div",{className:"relative z-10 animate-[scale-in_0.5s_ease-out]",children:u.jsx("img",{src:"/admit-ai-nexus/app-logo.png",alt:"AdmitConnect AI",className:"w-24 h-24 rounded-2xl shadow-2xl shadow-primary/50 animate-[float_3s_ease-in-out_infinite]"})}),u.jsx("div",{className:"absolute inset-0 -z-10 rounded-2xl bg-gradient-to-r from-transparent via-primary/20 to-transparent animate-[shimmer_2s_ease-in-out_infinite]"})]}),u.jsx("div",{className:"absolute bottom-1/3 animate-[fade-in_1s_ease-out_0.5s_both]",children:u.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-primary via-primary-glow to-primary bg-clip-text text-transparent",children:"AdmitConnect AI"})}),u.jsxs("div",{className:"absolute bottom-1/4 flex gap-2 animate-[fade-in_1s_ease-out_1s_both]",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-[bounce_1s_ease-in-out_infinite]"}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-[bounce_1s_ease-in-out_0.2s_infinite]"}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-[bounce_1s_ease-in-out_0.4s_infinite]"})]})]})};var E1="focusScope.autoFocusOnMount",j1="focusScope.autoFocusOnUnmount",GR={bubbles:!1,cancelable:!0},Ewe="FocusScope",Ub=S.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=t,[o,l]=S.useState(null),c=qt(i),d=qt(a),f=S.useRef(null),h=rt(e,g=>l(g)),p=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let g=function(y){if(p.paused||!o)return;const w=y.target;o.contains(w)?f.current=w:ko(f.current,{select:!0})},x=function(y){if(p.paused||!o)return;const w=y.relatedTarget;w!==null&&(o.contains(w)||ko(f.current,{select:!0}))},v=function(y){if(document.activeElement===document.body)for(const _ of y)_.removedNodes.length>0&&ko(o)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const b=new MutationObserver(v);return o&&b.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),b.disconnect()}}},[r,o,p.paused]),S.useEffect(()=>{if(o){YR.add(p);const g=document.activeElement;if(!o.contains(g)){const v=new CustomEvent(E1,GR);o.addEventListener(E1,c),o.dispatchEvent(v),v.defaultPrevented||(jwe(Owe(q9(o)),{select:!0}),document.activeElement===g&&ko(o))}return()=>{o.removeEventListener(E1,c),setTimeout(()=>{const v=new CustomEvent(j1,GR);o.addEventListener(j1,d),o.dispatchEvent(v),v.defaultPrevented||ko(g??document.body,{select:!0}),o.removeEventListener(j1,d),YR.remove(p)},0)}}},[o,c,d,p]);const m=S.useCallback(g=>{if(!n&&!r||p.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(x&&v){const b=g.currentTarget,[y,w]=Awe(b);y&&w?!g.shiftKey&&v===w?(g.preventDefault(),n&&ko(y,{select:!0})):g.shiftKey&&v===y&&(g.preventDefault(),n&&ko(w,{select:!0})):v===b&&g.preventDefault()}},[n,r,p.paused]);return u.jsx(Pe.div,{tabIndex:-1,...s,ref:h,onKeyDown:m})});Ub.displayName=Ewe;function jwe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ko(r,{select:e}),document.activeElement!==n)return}function Awe(t){const e=q9(t),n=KR(e,t),r=KR(e.reverse(),t);return[n,r]}function q9(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function KR(t,e){for(const n of t)if(!kwe(n,{upTo:e}))return n}function kwe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Twe(t){return t instanceof HTMLInputElement&&"select"in t}function ko(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Twe(t)&&e&&t.select()}}var YR=Cwe();function Cwe(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=XR(t,e),t.unshift(e)},remove(e){var n;t=XR(t,e),(n=t[0])==null||n.resume()}}}function XR(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Owe(t){return t.filter(e=>e.tagName!=="A")}var A1=0;function sO(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ZR()),document.body.insertAdjacentElement("beforeend",t[1]??ZR()),A1++,()=>{A1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),A1--}},[])}function ZR(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var qa=function(){return qa=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},qa.apply(this,arguments)};function G9(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Nwe(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var hv="right-scroll-bar-position",pv="width-before-scroll-bar",Pwe="with-scroll-bars-hidden",Iwe="--removed-body-scroll-bar-size";function k1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function $we(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Rwe=typeof window<"u"?S.useLayoutEffect:S.useEffect,JR=new WeakMap;function Mwe(t,e){var n=$we(null,function(r){return t.forEach(function(i){return k1(i,r)})});return Rwe(function(){var r=JR.get(n);if(r){var i=new Set(r),a=new Set(t),s=n.current;i.forEach(function(o){a.has(o)||k1(o,null)}),a.forEach(function(o){i.has(o)||k1(o,s)})}JR.set(n,t)},[t]),n}function Dwe(t){return t}function Lwe(t,e){e===void 0&&(e=Dwe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var s=e(a,r);return n.push(s),function(){n=n.filter(function(o){return o!==s})}},assignSyncMedium:function(a){for(r=!0;n.length;){var s=n;n=[],s.forEach(a)}n={push:function(o){return a(o)},filter:function(){return n}}},assignMedium:function(a){r=!0;var s=[];if(n.length){var o=n;n=[],o.forEach(a),s=n}var l=function(){var d=s;s=[],d.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){s.push(d),c()},filter:function(d){return s=s.filter(d),n}}}};return i}function Fwe(t){t===void 0&&(t={});var e=Lwe(null);return e.options=qa({async:!0,ssr:!1},t),e}var K9=function(t){var e=t.sideCar,n=G9(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,qa({},n))};K9.isSideCarExport=!0;function Bwe(t,e){return t.useMedium(e),K9}var Y9=Fwe(),T1=function(){},Hb=S.forwardRef(function(t,e){var n=S.useRef(null),r=S.useState({onScrollCapture:T1,onWheelCapture:T1,onTouchMoveCapture:T1}),i=r[0],a=r[1],s=t.forwardProps,o=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,p=t.noIsolation,m=t.inert,g=t.allowPinchZoom,x=t.as,v=x===void 0?"div":x,b=t.gapMode,y=G9(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,_=Mwe([n,e]),E=qa(qa({},y),i);return S.createElement(S.Fragment,null,d&&S.createElement(w,{sideCar:Y9,removeScrollBar:c,shards:f,noIsolation:p,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:n,gapMode:b}),s?S.cloneElement(S.Children.only(o),qa(qa({},E),{ref:_})):S.createElement(v,qa({},E,{className:l,ref:_}),o))});Hb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hb.classNames={fullWidth:pv,zeroRight:hv};var zwe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Uwe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=zwe();return e&&t.setAttribute("nonce",e),t}function Hwe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Vwe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Wwe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Uwe())&&(Hwe(e,n),Vwe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},qwe=function(){var t=Wwe();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},X9=function(){var t=qwe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Gwe={left:0,top:0,right:0,gap:0},C1=function(t){return parseInt(t||"",10)||0},Kwe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[C1(n),C1(r),C1(i)]},Ywe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Gwe;var e=Kwe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Xwe=X9(),xd="data-scroll-locked",Zwe=function(t,e,n,r){var i=t.left,a=t.top,s=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Pwe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(xd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hv,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(pv,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(hv," .").concat(hv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(pv," .").concat(pv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(xd,`] {
    `).concat(Iwe,": ").concat(o,`px;
  }
`)},QR=function(){var t=parseInt(document.body.getAttribute(xd)||"0",10);return isFinite(t)?t:0},Jwe=function(){S.useEffect(function(){return document.body.setAttribute(xd,(QR()+1).toString()),function(){var t=QR()-1;t<=0?document.body.removeAttribute(xd):document.body.setAttribute(xd,t.toString())}},[])},Qwe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Jwe();var a=S.useMemo(function(){return Ywe(i)},[i]);return S.createElement(Xwe,{styles:Zwe(a,!e,i,n?"":"!important")})},Oj=!1;if(typeof window<"u")try{var Ty=Object.defineProperty({},"passive",{get:function(){return Oj=!0,!0}});window.addEventListener("test",Ty,Ty),window.removeEventListener("test",Ty,Ty)}catch{Oj=!1}var ju=Oj?{passive:!1}:!1,e_e=function(t){return t.tagName==="TEXTAREA"},Z9=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!e_e(t)&&n[e]==="visible")},t_e=function(t){return Z9(t,"overflowY")},n_e=function(t){return Z9(t,"overflowX")},eM=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=J9(t,r);if(i){var a=Q9(t,r),s=a[1],o=a[2];if(s>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},r_e=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},i_e=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},J9=function(t,e){return t==="v"?t_e(e):n_e(e)},Q9=function(t,e){return t==="v"?r_e(e):i_e(e)},a_e=function(t,e){return t==="h"&&e==="rtl"?-1:1},s_e=function(t,e,n,r,i){var a=a_e(t,window.getComputedStyle(e).direction),s=a*r,o=n.target,l=e.contains(o),c=!1,d=s>0,f=0,h=0;do{var p=Q9(t,o),m=p[0],g=p[1],x=p[2],v=g-x-a*m;(m||v)&&J9(t,o)&&(f+=v,h+=m),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(c=!0),c},Cy=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},tM=function(t){return[t.deltaX,t.deltaY]},nM=function(t){return t&&"current"in t?t.current:t},o_e=function(t,e){return t[0]===e[0]&&t[1]===e[1]},l_e=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},c_e=0,Au=[];function u_e(t){var e=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),i=S.useState(c_e++)[0],a=S.useState(X9)[0],s=S.useRef(t);S.useEffect(function(){s.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=Nwe([t.lockRef.current],(t.shards||[]).map(nM),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=S.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var v=Cy(g),b=n.current,y="deltaX"in g?g.deltaX:b[0]-v[0],w="deltaY"in g?g.deltaY:b[1]-v[1],_,E=g.target,A=Math.abs(y)>Math.abs(w)?"h":"v";if("touches"in g&&A==="h"&&E.type==="range")return!1;var j=eM(A,E);if(!j)return!0;if(j?_=A:(_=A==="v"?"h":"v",j=eM(A,E)),!j)return!1;if(!r.current&&"changedTouches"in g&&(y||w)&&(r.current=_),!_)return!0;var k=r.current||_;return s_e(k,x,g,k==="h"?y:w,!0)},[]),l=S.useCallback(function(g){var x=g;if(!(!Au.length||Au[Au.length-1]!==a)){var v="deltaY"in x?tM(x):Cy(x),b=e.current.filter(function(_){return _.name===x.type&&(_.target===x.target||x.target===_.shadowParent)&&o_e(_.delta,v)})[0];if(b&&b.should){x.cancelable&&x.preventDefault();return}if(!b){var y=(s.current.shards||[]).map(nM).filter(Boolean).filter(function(_){return _.contains(x.target)}),w=y.length>0?o(x,y[0]):!s.current.noIsolation;w&&x.cancelable&&x.preventDefault()}}},[]),c=S.useCallback(function(g,x,v,b){var y={name:g,delta:x,target:v,should:b,shadowParent:d_e(v)};e.current.push(y),setTimeout(function(){e.current=e.current.filter(function(w){return w!==y})},1)},[]),d=S.useCallback(function(g){n.current=Cy(g),r.current=void 0},[]),f=S.useCallback(function(g){c(g.type,tM(g),g.target,o(g,t.lockRef.current))},[]),h=S.useCallback(function(g){c(g.type,Cy(g),g.target,o(g,t.lockRef.current))},[]);S.useEffect(function(){return Au.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,ju),document.addEventListener("touchmove",l,ju),document.addEventListener("touchstart",d,ju),function(){Au=Au.filter(function(g){return g!==a}),document.removeEventListener("wheel",l,ju),document.removeEventListener("touchmove",l,ju),document.removeEventListener("touchstart",d,ju)}},[]);var p=t.removeScrollBar,m=t.inert;return S.createElement(S.Fragment,null,m?S.createElement(a,{styles:l_e(i)}):null,p?S.createElement(Qwe,{gapMode:t.gapMode}):null)}function d_e(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const f_e=Bwe(Y9,u_e);var Vb=S.forwardRef(function(t,e){return S.createElement(Hb,qa({},t,{ref:e,sideCar:f_e}))});Vb.classNames=Hb.classNames;var h_e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ku=new WeakMap,Oy=new WeakMap,Ny={},O1=0,eH=function(t){return t&&(t.host||eH(t.parentNode))},p_e=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=eH(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},m_e=function(t,e,n,r){var i=p_e(e,Array.isArray(t)?t:[t]);Ny[n]||(Ny[n]=new WeakMap);var a=Ny[n],s=[],o=new Set,l=new Set(i),c=function(f){!f||o.has(f)||(o.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var p=h.getAttribute(r),m=p!==null&&p!=="false",g=(ku.get(h)||0)+1,x=(a.get(h)||0)+1;ku.set(h,g),a.set(h,x),s.push(h),g===1&&m&&Oy.set(h,!0),x===1&&h.setAttribute(n,"true"),m||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(e),o.clear(),O1++,function(){s.forEach(function(f){var h=ku.get(f)-1,p=a.get(f)-1;ku.set(f,h),a.set(f,p),h||(Oy.has(f)||f.removeAttribute(r),Oy.delete(f)),p||f.removeAttribute(n)}),O1--,O1||(ku=new WeakMap,ku=new WeakMap,Oy=new WeakMap,Ny={})}},oO=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=h_e(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),m_e(r,i,n,"aria-hidden")):function(){return null}},lO="Dialog",[tH,MWe]=Sa(lO),[g_e,Ta]=tH(lO),nH=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:s=!0}=t,o=S.useRef(null),l=S.useRef(null),[c=!1,d]=ls({prop:r,defaultProp:i,onChange:a});return u.jsx(g_e,{scope:e,triggerRef:o,contentRef:l,contentId:fa(),titleId:fa(),descriptionId:fa(),open:c,onOpenChange:d,onOpenToggle:S.useCallback(()=>d(f=>!f),[d]),modal:s,children:n})};nH.displayName=lO;var rH="DialogTrigger",iH=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ta(rH,n),a=rt(e,i.triggerRef);return u.jsx(Pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":dO(i.open),...r,ref:a,onClick:pe(t.onClick,i.onOpenToggle)})});iH.displayName=rH;var cO="DialogPortal",[y_e,aH]=tH(cO,{forceMount:void 0}),sH=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=Ta(cO,e);return u.jsx(y_e,{scope:e,forceMount:n,children:S.Children.map(r,s=>u.jsx(Qn,{present:n||a.open,children:u.jsx(Jm,{asChild:!0,container:i,children:s})}))})};sH.displayName=cO;var b0="DialogOverlay",oH=S.forwardRef((t,e)=>{const n=aH(b0,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=Ta(b0,t.__scopeDialog);return a.modal?u.jsx(Qn,{present:r||a.open,children:u.jsx(v_e,{...i,ref:e})}):null});oH.displayName=b0;var v_e=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ta(b0,n);return u.jsx(Vb,{as:fl,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(Pe.div,{"data-state":dO(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Hc="DialogContent",lH=S.forwardRef((t,e)=>{const n=aH(Hc,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=Ta(Hc,t.__scopeDialog);return u.jsx(Qn,{present:r||a.open,children:a.modal?u.jsx(x_e,{...i,ref:e}):u.jsx(b_e,{...i,ref:e})})});lH.displayName=Hc;var x_e=S.forwardRef((t,e)=>{const n=Ta(Hc,t.__scopeDialog),r=S.useRef(null),i=rt(e,n.contentRef,r);return S.useEffect(()=>{const a=r.current;if(a)return oO(a)},[]),u.jsx(cH,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(t.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:pe(t.onPointerDownOutside,a=>{const s=a.detail.originalEvent,o=s.button===0&&s.ctrlKey===!0;(s.button===2||o)&&a.preventDefault()}),onFocusOutside:pe(t.onFocusOutside,a=>a.preventDefault())})}),b_e=S.forwardRef((t,e)=>{const n=Ta(Hc,t.__scopeDialog),r=S.useRef(!1),i=S.useRef(!1);return u.jsx(cH,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,o;(s=t.onCloseAutoFocus)==null||s.call(t,a),a.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),cH=S.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=t,o=Ta(Hc,n),l=S.useRef(null),c=rt(e,l);return sO(),u.jsxs(u.Fragment,{children:[u.jsx(Ub,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:u.jsx(Of,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":dO(o.open),...s,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(w_e,{titleId:o.titleId}),u.jsx(S_e,{contentRef:l,descriptionId:o.descriptionId})]})]})}),uO="DialogTitle",uH=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ta(uO,n);return u.jsx(Pe.h2,{id:i.titleId,...r,ref:e})});uH.displayName=uO;var dH="DialogDescription",fH=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ta(dH,n);return u.jsx(Pe.p,{id:i.descriptionId,...r,ref:e})});fH.displayName=dH;var hH="DialogClose",pH=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ta(hH,n);return u.jsx(Pe.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,()=>i.onOpenChange(!1))})});pH.displayName=hH;function dO(t){return t?"open":"closed"}var mH="DialogTitleWarning",[DWe,gH]=WQ(mH,{contentName:Hc,titleName:uO,docsSlug:"dialog"}),w_e=({titleId:t})=>{const e=gH(mH),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},__e="DialogDescriptionWarning",S_e=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${gH(__e).contentName}}.`;return S.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},E_e=nH,j_e=iH,A_e=sH,yH=oH,vH=lH,xH=uH,bH=fH,k_e=pH;const ii=E_e,T_e=j_e,C_e=A_e,wH=S.forwardRef(({className:t,...e},n)=>u.jsx(yH,{ref:n,className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));wH.displayName=yH.displayName;const Rr=S.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(C_e,{children:[u.jsx(wH,{}),u.jsxs(vH,{ref:r,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(k_e,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(rg,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Rr.displayName=vH.displayName;const Mr=({className:t,...e})=>u.jsx("div",{className:we("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Mr.displayName="DialogHeader";const _H=({className:t,...e})=>u.jsx("div",{className:we("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});_H.displayName="DialogFooter";const Dr=S.forwardRef(({className:t,...e},n)=>u.jsx(xH,{ref:n,className:we("text-lg font-semibold leading-none tracking-tight",t),...e}));Dr.displayName=xH.displayName;const fO=S.forwardRef(({className:t,...e},n)=>u.jsx(bH,{ref:n,className:we("text-sm text-muted-foreground",t),...e}));fO.displayName=bH.displayName;const au=S.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:we("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));au.displayName="Textarea";var O_e="Label",SH=S.forwardRef((t,e)=>u.jsx(Pe.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));SH.displayName=O_e;var EH=SH;const N_e=eg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ge=S.forwardRef(({className:t,...e},n)=>u.jsx(EH,{ref:n,className:we(N_e(),t),...e}));Ge.displayName=EH.displayName;const na=S.forwardRef(({label:t,id:e,type:n="text",placeholder:r,value:i,onChange:a,error:s,success:o,required:l,className:c},d)=>{const[f,h]=S.useState(!1),[p,m]=S.useState(!1);S.useEffect(()=>{m(i.length>0)},[i]);const g=y=>{a(y.target.value)},x=()=>s?u.jsx(TI,{className:"w-4 h-4 text-destructive"}):o&&p?u.jsx(da,{className:"w-4 h-4 text-green-500"}):l&&!p?u.jsx(Gv,{className:"w-4 h-4 text-muted-foreground/50"}):null,v=we("peer w-full px-4 py-3 border rounded-lg transition-all duration-300","focus:ring-2 focus:ring-primary/20 focus:border-primary","placeholder-transparent",s?"border-destructive focus:border-destructive focus:ring-destructive/20":o&&p?"border-green-500 focus:border-green-500 focus:ring-green-500/20":"border-border hover:border-primary/50",c),b=we("absolute left-4 transition-all duration-300 pointer-events-none","text-muted-foreground",f||p?"-top-2 text-xs bg-background px-1 text-primary":"top-3 text-sm");return u.jsxs("div",{className:"relative space-y-1",children:[u.jsxs("div",{className:"relative",children:[n==="textarea"?u.jsx(au,{ref:d,id:e,placeholder:r,value:i,onChange:g,onFocus:()=>h(!0),onBlur:()=>h(!1),className:v,required:l,rows:4}):u.jsx(zt,{ref:d,id:e,type:n,placeholder:r,value:i,onChange:g,onFocus:()=>h(!0),onBlur:()=>h(!1),className:v,required:l}),u.jsxs(Ge,{htmlFor:e,className:b,children:[t," ",l&&u.jsx("span",{className:"text-destructive",children:"*"})]}),(s||o||l)&&u.jsx("div",{className:"absolute right-3 top-3 transition-all duration-300",children:x()})]}),s&&u.jsxs("p",{className:"text-sm text-destructive flex items-center gap-2 animate-fade-in",children:[u.jsx(TI,{className:"w-3 h-3"}),s]}),o&&p&&!s&&u.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-2 animate-fade-in",children:[u.jsx(da,{className:"w-3 h-3"}),"Looks good!"]})]})});na.displayName="FormField";const Hs=S.forwardRef(({className:t,children:e,rippleColor:n="rgba(255, 255, 255, 0.6)",onClick:r,...i},a)=>{const[s,o]=S.useState([]),l=d=>{const h=d.currentTarget.getBoundingClientRect(),p=Math.max(h.width,h.height),m=d.clientX-h.left-p/2,g=d.clientY-h.top-p/2,x={id:Date.now(),x:m,y:g};o(v=>[...v,x]),setTimeout(()=>{o(v=>v.filter(b=>b.id!==x.id))},600)},c=d=>{l(d),r==null||r(d)};return u.jsxs(se,{ref:a,className:we("relative overflow-hidden",t),onClick:c,...i,children:[e,s.map(d=>u.jsx("span",{className:"absolute rounded-full animate-ripple pointer-events-none",style:{left:d.x,top:d.y,width:"100px",height:"100px",backgroundColor:n,transform:"scale(0)",animation:"ripple 0.6s linear"}},d.id))]})});Hs.displayName="RippleButton";const w0=({children:t,className:e,direction:n="up",delay:r=0,threshold:i=.1})=>{const[a,s]=S.useState(!1),o=S.useRef(null);S.useEffect(()=>{const c=new IntersectionObserver(([d])=>{d.isIntersecting&&setTimeout(()=>s(!0),r)},{threshold:i});return o.current&&c.observe(o.current),()=>c.disconnect()},[r,i]);const l={up:"translate-y-8",down:"-translate-y-8",left:"translate-x-8",right:"-translate-x-8"};return u.jsx("div",{ref:o,className:we("transition-all duration-700 ease-out",a?"opacity-100 translate-x-0 translate-y-0":`opacity-0 ${l[n]}`,e),children:t})},Ar=({children:t,className:e,delay:n=0})=>u.jsx(w0,{direction:"up",delay:n,className:e,children:t});var P_e="Separator",rM="horizontal",I_e=["horizontal","vertical"],jH=S.forwardRef((t,e)=>{const{decorative:n,orientation:r=rM,...i}=t,a=$_e(r)?r:rM,o=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return u.jsx(Pe.div,{"data-orientation":a,...o,...i,ref:e})});jH.displayName=P_e;function $_e(t){return I_e.includes(t)}var AH=jH;const hO=S.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>u.jsx(AH,{ref:i,decorative:n,orientation:e,className:we("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));hO.displayName=AH.displayName;const R_e=({open:t,onOpenChange:e,defaultMode:n="signin"})=>{const[r,i]=S.useState(n);S.useState(!1);const[a,s]=S.useState(!1),[o,l]=S.useState({}),[c,d]=S.useState({}),{toast:f}=Ht(),{signIn:h,signUp:p,signInWithGoogle:m,resetPassword:g}=er(),[x,v]=S.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),b=(T,O)=>{const L={...o},R={...c};switch(T){case"firstName":case"lastName":{r==="signup"&&(O.trim()?O.trim().length<2?(L[T]=`${T==="firstName"?"First":"Last"} name must be at least 2 characters`,R[T]=!1):(delete L[T],R[T]=!0):(L[T]=`${T==="firstName"?"First":"Last"} name is required`,R[T]=!1));break}case"email":{const F=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;O.trim()?F.test(O)?(delete L.email,R.email=!0):(L.email="Please enter a valid email address",R.email=!1):(L.email="Email is required",R.email=!1);break}case"password":{r!=="forgot"&&(O?O.length<8?(L.password="Password must be at least 8 characters",R.password=!1):/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(O)?(delete L.password,R.password=!0):(L.password="Password must contain uppercase, lowercase, and number",R.password=!1):(L.password="Password is required",R.password=!1));break}case"confirmPassword":{r==="signup"&&(O?O!==x.password?(L.confirmPassword="Passwords do not match",R.confirmPassword=!1):(delete L.confirmPassword,R.confirmPassword=!0):(L.confirmPassword="Please confirm your password",R.confirmPassword=!1));break}}return l(L),d(R),!L[T]},y=(T,O)=>{v(L=>({...L,[T]:O})),(O.trim()||T==="confirmPassword")&&b(T,O)},w=()=>{let T=!0;return r==="signup"&&(T=b("firstName",x.firstName)&&T,T=b("lastName",x.lastName)&&T,T=b("confirmPassword",x.confirmPassword)&&T),r!=="forgot"&&(T=b("password",x.password)&&T),T=b("email",x.email)&&T,T},_=async T=>{if(T.preventDefault(),!w()){f({title:"Please fix the errors above",variant:"destructive"});return}s(!0);try{if(r==="signup"){const O=`${x.firstName} ${x.lastName}`.trim();await p(x.email,x.password,O),e(!1)}else if(r==="signin")await h(x.email,x.password),e(!1);else if(r==="forgot")try{const{error:O}=await De.functions.invoke("send-reset-email",{body:{email:x.email,redirectTo:`${window.location.origin}/admit-ai-nexus/reset-password`}});if(O)throw O;f({title:"Password reset sent!",description:"Check your email for reset instructions."}),i("signin")}catch(O){console.error("Reset failed details:",O);let L=O.message;!L&&typeof O=="object"&&(L=JSON.stringify(O)),O&&O.context&&O.context.json&&O.context.json().then(R=>{console.log("Error body:",R)}).catch(()=>{}),f({title:"Request Failed",description:L||"Check console for details",variant:"destructive"})}}catch(O){console.error("Auth error:",O),f({title:"Authentication failed",description:O.message||"Please try again",variant:"destructive"})}finally{s(!1)}},E=async()=>{try{s(!0),await m(),e(!1)}catch(T){console.error("Google sign in error:",T),f({title:"Google sign in failed",description:T.message||"Please try again",variant:"destructive"})}finally{s(!1)}},A=()=>{v({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),l({}),d({})},j=T=>{i(T),A()},k=()=>{switch(r){case"signup":return"Create Account";case"forgot":return"Reset Password";default:return"Welcome Back"}},C=()=>{switch(r){case"signup":return"Join AdmitConnect AI and transform your admissions process";case"forgot":return"Enter your email to receive a password reset link";default:return"Sign in to access your AdmitConnect AI dashboard"}};return u.jsx(ii,{open:t,onOpenChange:e,children:u.jsxs(Rr,{className:"max-w-md bg-card/95 backdrop-blur-sm border-border/50",children:[u.jsxs(Mr,{children:[u.jsx("div",{className:"w-16 h-16 bg-ai-gradient rounded-2xl flex items-center justify-center mx-auto mb-4 animate-bounce-in",children:u.jsx(Zs,{className:"w-8 h-8 text-white"})}),u.jsx(Dr,{className:"text-2xl font-bold text-center",children:k()}),u.jsx(fO,{className:"text-center text-muted-foreground",children:C()})]}),u.jsxs(w0,{direction:"up",className:"space-y-6",children:[u.jsxs("form",{onSubmit:_,className:"space-y-4",children:[r==="signup"&&u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(na,{label:"First Name",id:"firstName",type:"text",value:x.firstName,onChange:T=>y("firstName",T),placeholder:"John",error:o.firstName,success:c.firstName,required:!0}),u.jsx(na,{label:"Last Name",id:"lastName",type:"text",value:x.lastName,onChange:T=>y("lastName",T),placeholder:"Doe",error:o.lastName,success:c.lastName,required:!0})]}),u.jsx(na,{label:"Email Address",id:"email",type:"email",value:x.email,onChange:T=>y("email",T),placeholder:"john@college.edu",error:o.email,success:c.email,required:!0}),r!=="forgot"&&u.jsx(na,{label:"Password",id:"password",type:"password",value:x.password,onChange:T=>y("password",T),placeholder:"",error:o.password,success:c.password,required:!0}),r==="signup"&&u.jsx(na,{label:"Confirm Password",id:"confirmPassword",type:"password",value:x.confirmPassword,onChange:T=>y("confirmPassword",T),placeholder:"",error:o.confirmPassword,success:c.confirmPassword,required:!0}),u.jsx(Hs,{type:"submit",variant:"hero",size:"lg",className:"w-full mt-6",disabled:a,children:a?u.jsxs(u.Fragment,{children:[u.jsx(jl,{size:"sm",className:"mr-2"}),r==="signup"?"Creating Account...":r==="forgot"?"Sending Reset...":"Signing In..."]}):r==="signup"?"Create Account":r==="forgot"?"Send Reset Link":"Sign In"})]}),r!=="forgot"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx(hO,{className:"w-full"})}),u.jsx("div",{className:"relative flex justify-center text-xs",children:u.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),u.jsxs(Hs,{variant:"outline",size:"lg",className:"w-full",onClick:E,disabled:a,rippleColor:"rgba(59, 130, 246, 0.3)",children:[u.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})]}),u.jsxs("div",{className:"space-y-2 text-center text-sm",children:[r==="signin"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>j("forgot"),className:"text-primary hover:underline block w-full",children:"Forgot your password?"}),u.jsx("button",{type:"button",onClick:()=>j("signup"),className:"text-muted-foreground hover:text-foreground hover:underline block w-full",children:"Don't have an account? Sign up"})]}),r==="signup"&&u.jsx("button",{type:"button",onClick:()=>j("signin"),className:"text-muted-foreground hover:text-foreground hover:underline block w-full",children:"Already have an account? Sign in"}),r==="forgot"&&u.jsx("button",{type:"button",onClick:()=>j("signin"),className:"text-muted-foreground hover:text-foreground hover:underline block w-full",children:"Back to sign in"})]}),r==="signup"&&u.jsxs("div",{className:"text-xs text-muted-foreground text-center space-y-1",children:[u.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[u.jsx(Gv,{className:"w-3 h-3"}),u.jsx("span",{children:"Password requirements:"})]}),u.jsxs("ul",{className:"space-y-1",children:[u.jsx("li",{children:" At least 8 characters long"}),u.jsx("li",{children:" Contains uppercase and lowercase letters"}),u.jsx("li",{children:" Contains at least one number"})]})]})]})]})})},pO=({onContactClick:t,onScheduleClick:e})=>{const[n,r]=S.useState(!1),[i,a]=S.useState(!1),[s,o]=S.useState("signin"),l=hi(),{user:c,signOut:d}=er(),f=()=>{o("signin"),a(!0)},h=()=>{o("signup"),a(!0)},p=async()=>{try{await d(),l("/")}catch(m){console.error("Sign out error:",m)}};return u.jsxs("nav",{id:"navigation",className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border/50",role:"navigation","aria-label":"Main navigation",children:[u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer logo-hover",onClick:()=>l("/"),children:[u.jsx("img",{src:"/admit-ai-nexus/app-logo.png",alt:"AdmitConnect AI Logo",className:"w-16 h-16 object-contain rounded-lg"}),u.jsx("span",{className:"text-xl font-bold bg-ai-gradient bg-clip-text text-transparent logo-colorful",children:"AdmitConnect AI"})]}),u.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[u.jsx("button",{onClick:()=>{var m;window.location.pathname!=="/"?(l("/"),setTimeout(()=>{var g;(g=document.getElementById("features"))==null||g.scrollIntoView({behavior:"smooth"})},100)):(m=document.getElementById("features"))==null||m.scrollIntoView({behavior:"smooth"})},className:"text-muted-foreground hover:text-foreground transition-colors",children:"Features"}),u.jsx("button",{onClick:()=>{var m;window.location.pathname!=="/"?(l("/"),setTimeout(()=>{var g;(g=document.getElementById("pricing"))==null||g.scrollIntoView({behavior:"smooth"})},100)):(m=document.getElementById("pricing"))==null||m.scrollIntoView({behavior:"smooth"})},className:"text-muted-foreground hover:text-foreground transition-colors",children:"Pricing"}),u.jsx("button",{onClick:()=>l("/about"),className:"text-muted-foreground hover:text-foreground transition-colors",children:"About"}),u.jsx("button",{onClick:()=>l("/our-services"),className:"text-muted-foreground hover:text-foreground transition-colors",children:"Services"}),c?u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(se,{variant:"outline",onClick:()=>l("/dashboard"),className:"hover-lift",children:"Dashboard"}),u.jsx(se,{variant:"ghost",onClick:p,className:"hover-lift",children:"Sign Out"})]}):u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(se,{variant:"outline",onClick:f,className:"hover-lift",children:"Sign In"}),u.jsx(se,{variant:"hero",onClick:h,className:"hover-lift",children:"Get Started"})]})]}),u.jsx("div",{className:"md:hidden",children:u.jsx(se,{variant:"ghost",size:"icon",onClick:()=>r(!n),children:n?u.jsx(rg,{className:"w-5 h-5"}):u.jsx(Hee,{className:"w-5 h-5"})})})]}),n&&u.jsx("div",{className:"md:hidden pb-4 border-t border-border/50 mt-2",children:u.jsxs("div",{className:"flex flex-col space-y-3 pt-4",children:[u.jsx("button",{onClick:()=>{var m;(m=document.getElementById("features"))==null||m.scrollIntoView({behavior:"smooth"}),r(!1)},className:"text-muted-foreground hover:text-foreground transition-colors text-left",children:"Features"}),u.jsx("button",{onClick:()=>{var m;(m=document.getElementById("pricing"))==null||m.scrollIntoView({behavior:"smooth"}),r(!1)},className:"text-muted-foreground hover:text-foreground transition-colors text-left",children:"Pricing"}),u.jsx("button",{onClick:()=>{l("/about"),r(!1)},className:"text-muted-foreground hover:text-foreground transition-colors text-left",children:"About"}),u.jsx("button",{onClick:()=>{l("/our-services"),r(!1)},className:"text-muted-foreground hover:text-foreground transition-colors text-left",children:"Services"}),u.jsx("div",{className:"flex flex-col space-y-2 pt-2",children:c?u.jsxs(u.Fragment,{children:[u.jsx(se,{variant:"outline",onClick:()=>{l("/dashboard"),r(!1)},className:"w-full justify-center",children:"Dashboard"}),u.jsx(se,{variant:"ghost",onClick:()=>{p(),r(!1)},className:"w-full justify-center",children:"Sign Out"})]}):u.jsxs(u.Fragment,{children:[u.jsx(se,{variant:"outline",onClick:()=>{f(),r(!1)},className:"w-full justify-center",children:"Sign In"}),u.jsx(se,{variant:"hero",onClick:()=>{h(),r(!1)},className:"w-full justify-center",children:"Get Started"})]})})]})})]}),u.jsx(R_e,{open:i,onOpenChange:a,defaultMode:s})]})},kH=()=>u.jsx("footer",{className:"bg-card/50 border-t border-border/50 py-12",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-10 h-10 bg-ai-gradient rounded-lg flex items-center justify-center",children:u.jsx(Zs,{className:"w-6 h-6 text-white"})}),u.jsx("span",{className:"text-xl font-bold bg-ai-gradient bg-clip-text text-transparent",children:"AdmitConnect AI"})]}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"Revolutionizing college admissions through AI-powered automation and intelligent campaign management."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"font-semibold text-lg",children:"Quick Links"}),u.jsxs("div",{className:"flex flex-col space-y-2",children:[u.jsx(tp,{to:"/",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Home"}),u.jsx(tp,{to:"/about",className:"text-muted-foreground hover:text-foreground transition-colors",children:"About"}),u.jsx(tp,{to:"/our-services",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Services"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"font-semibold text-lg",children:"Get in Touch"}),u.jsxs("div",{className:"flex flex-col space-y-3",children:[u.jsxs("a",{href:"https://mail.google.com/mail/?view=cm&fs=1&to=admitconnectAI@gmail.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-muted-foreground hover:text-foreground transition-colors group",children:[u.jsx(ti,{className:"w-5 h-5 group-hover:text-primary transition-colors"}),u.jsx("span",{className:"text-sm",children:"admitconnectAI@gmail.com"})]}),u.jsxs("a",{href:"https://wa.me/918439663198",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-muted-foreground hover:text-foreground transition-colors group",children:[u.jsx(Kv,{className:"w-5 h-5 group-hover:text-primary transition-colors"}),u.jsx("span",{className:"text-sm",children:"+91 8439663198"})]})]}),u.jsxs("div",{className:"flex space-x-3 pt-2",children:[u.jsx(se,{size:"sm",variant:"outline",asChild:!0,className:"hover-lift",children:u.jsxs("a",{href:"https://mail.google.com/mail/?view=cm&fs=1&to=admitconnectAI@gmail.com",target:"_blank",rel:"noopener noreferrer",children:[u.jsx(ti,{className:"w-4 h-4 mr-2"}),"Email Us"]})}),u.jsx(se,{size:"sm",variant:"hero",asChild:!0,className:"hover-lift",children:u.jsxs("a",{href:"https://wa.me/918439663198",target:"_blank",rel:"noopener noreferrer",children:[u.jsx(Kv,{className:"w-4 h-4 mr-2"}),"WhatsApp"]})})]})]})]}),u.jsx("div",{className:"mt-12 pt-8 border-t border-border/50 text-center",children:u.jsxs("p",{className:"text-muted-foreground text-sm",children:[" ",new Date().getFullYear()," AdmitConnect AI. All rights reserved."]})})]})}),M_e=({onWatchDemoClick:t,onScheduleDemoClick:e})=>{const n=hi(),{user:r}=er(),i=()=>{n(r?"/dashboard":"/auth")},a=[{icon:Ea,title:"AI Voice Calls",description:"Natural, human-like voice conversations with candidates"},{icon:li,title:"WhatsApp Automation",description:"Personalized messages with delivery tracking"},{icon:hl,title:"Analytics Dashboard",description:"Real-time campaign performance and insights"},{icon:OB,title:"Enterprise Security",description:"Bank-level security with IP monitoring"},{icon:Lr,title:"Lightning Fast",description:"Process thousands of candidates in minutes"},{icon:Zs,title:"AI-Powered",description:"Advanced AI handles conversations automatically"}];return u.jsxs("div",{className:"min-h-screen pt-16 hero-black hero-rainbow-hover",children:[u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:u.jsxs("div",{className:"text-center space-y-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-primary/10 border border-primary/20 mb-4",children:[u.jsx(Jx,{className:"w-4 h-4 mr-2 text-primary"}),u.jsx("span",{className:"text-sm text-primary font-medium",children:"AI-Powered Admission Automation"})]}),u.jsxs("h1",{className:"text-4xl sm:text-6xl lg:text-7xl font-bold leading-tight",children:[u.jsx("span",{className:"block text-foreground",children:"Revolutionize"}),u.jsx("span",{className:"block bg-ai-gradient bg-clip-text text-transparent logo-colorful",children:"College Admissions"}),u.jsx("span",{className:"block text-foreground",children:"with AI"})]}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"Automate voice calls, WhatsApp messaging, and candidate outreach with our intelligent AI system. Increase enrollment rates by 300% while reducing manual work by 90%."})]}),u.jsx(Ar,{delay:300,children:u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[u.jsxs(Hs,{variant:"hero",size:"lg",onClick:i,className:"px-8 py-4 text-lg hover-lift animate-bounce-in",children:["Start Free Trial",u.jsx(Fd,{className:"w-5 h-5 ml-2"})]}),u.jsx(Hs,{variant:"outline",size:"lg",onClick:t,className:"px-8 py-4 text-lg hover-lift",rippleColor:"rgba(59, 130, 246, 0.5)",children:"Watch Demo"})]})}),u.jsx(w0,{direction:"up",delay:500,children:u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-8 mt-16 pt-16 border-t border-border/50",children:[u.jsx(Ar,{delay:100,children:u.jsxs("div",{className:"text-center hover:scale-105 transition-transform duration-300",children:[u.jsx("div",{className:"text-3xl sm:text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent logo-colorful animate-text-focus",children:"10,000+"}),u.jsx("p",{className:"text-muted-foreground mt-2",children:"Students Contacted Daily"})]})}),u.jsx(Ar,{delay:200,children:u.jsxs("div",{className:"text-center hover:scale-105 transition-transform duration-300",children:[u.jsx("div",{className:"text-3xl sm:text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent logo-colorful animate-text-focus",children:"300%"}),u.jsx("p",{className:"text-muted-foreground mt-2",children:"Increase in Enrollment"})]})}),u.jsx(Ar,{delay:300,children:u.jsxs("div",{className:"text-center hover:scale-105 transition-transform duration-300",children:[u.jsx("div",{className:"text-3xl sm:text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent logo-colorful animate-text-focus",children:"90%"}),u.jsx("p",{className:"text-muted-foreground mt-2",children:"Reduction in Manual Work"})]})})]})})]})}),u.jsx("div",{className:"py-20 bg-ai-gradient-subtle",id:"features",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center space-y-4 mb-16",children:[u.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-foreground",children:"Powerful Features for Modern Admissions"}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Everything you need to transform your admission process and connect with students effectively"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map((s,o)=>{const l=s.icon;return u.jsx(w0,{direction:"up",delay:o*100,className:"group h-full",children:u.jsx(ne,{className:"relative p-6 bg-card/50 backdrop-blur-sm border-border/50 hover-lift glow-border shine-effect h-full flex flex-col overflow-hidden transition-all duration-500 before:absolute before:inset-0 before:bg-ai-gradient-glow before:opacity-0 before:transition-opacity before:duration-500 hover:before:opacity-100 hover:shadow-glow",children:u.jsxs("div",{className:"space-y-4 flex-1 flex flex-col relative z-10",children:[u.jsxs("div",{className:"relative w-14 h-14 bg-ai-gradient-shine rounded-xl flex items-center justify-center group-hover:rotate-12 group-hover:scale-110 transition-all duration-500 shadow-glow",children:[u.jsx("div",{className:"absolute inset-0 bg-ai-gradient-shine rounded-xl opacity-0 group-hover:opacity-100 blur-xl transition-opacity duration-500"}),u.jsx(l,{className:"w-7 h-7 text-white relative z-10 group-hover:drop-shadow-[0_0_8px_rgba(255,255,255,0.8)] transition-all duration-500"})]}),u.jsx("h3",{className:"text-xl font-semibold text-card-foreground group-hover:text-primary-glow transition-colors duration-300 group-hover:drop-shadow-[0_0_12px_rgba(59,130,246,0.6)]",children:s.title}),u.jsx("p",{className:"text-muted-foreground flex-1 group-hover:text-foreground/90 transition-colors duration-300",children:s.description})]})})},o)})}),u.jsx(Ar,{delay:400,children:u.jsx("div",{className:"text-center mt-16",children:u.jsxs(Hs,{variant:"hero",size:"lg",onClick:e,className:"hover-lift pulse",children:["Schedule Demo",u.jsx(Fd,{className:"w-5 h-5 ml-2"})]})})})]})})]})},D_e=({onContactClick:t,onScheduleClick:e})=>{hi();const n=[{name:"Starter",price:"$29",period:"/month",description:"Perfect for small colleges and testing",icon:jT,features:["500 voice calls/month","1,000 WhatsApp messages","Basic analytics dashboard","Email support","2 campaign templates","CSV upload"],buttonVariant:"outline",popular:!1},{name:"Professional",price:"$99",period:"/month",description:"For growing institutions",icon:Vee,features:["2,500 voice calls/month","5,000 WhatsApp messages","Advanced analytics & reports","Priority support","Unlimited campaign templates","CSV & Excel upload","Custom voice training","A/B testing"],buttonVariant:"hero",popular:!0},{name:"Enterprise",price:"$299",period:"/month",description:"For large institutions and universities",icon:TB,features:["10,000+ voice calls/month","20,000+ WhatsApp messages","Custom analytics dashboard","24/7 phone support","White-label solution","API access","Dedicated account manager","Custom integrations","Multi-language support"],buttonVariant:"premium",popular:!1}];return u.jsx("div",{className:"py-20 bg-background",id:"pricing",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center space-y-4 mb-16",children:[u.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-foreground",children:"Choose Your Perfect Plan"}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Scale your admission automation with transparent pricing that grows with your institution"})]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:n.map((r,i)=>{const a=r.icon;return u.jsxs(ne,{className:`relative p-8 bg-card/50 backdrop-blur-sm border-border/50 hover-lift ${r.popular?"popular-glow glow-border":""}`,children:[r.popular&&u.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:u.jsx("div",{className:"bg-ai-gradient text-white px-4 py-1 rounded-full text-sm font-medium",children:"Most Popular"})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("div",{className:"w-12 h-12 bg-ai-gradient rounded-lg flex items-center justify-center mx-auto",children:u.jsx(a,{className:"w-6 h-6 text-white"})}),u.jsx("h3",{className:"text-2xl font-bold text-card-foreground",children:r.name}),u.jsx("p",{className:"text-muted-foreground",children:r.description})]}),u.jsx("div",{className:"text-center",children:u.jsxs("div",{className:"flex items-baseline justify-center",children:[u.jsx("span",{className:"text-5xl font-bold bg-ai-gradient bg-clip-text text-transparent logo-colorful",children:r.price}),u.jsx("span",{className:"text-muted-foreground ml-1",children:r.period})]})}),u.jsx("div",{className:"space-y-3",children:r.features.map((s,o)=>u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(tg,{className:"w-5 h-5 text-primary flex-shrink-0"}),u.jsx("span",{className:"text-card-foreground",children:s})]},o))}),u.jsxs(se,{variant:r.buttonVariant,size:"lg",onClick:()=>window.open("https://rzp.io/rzp/DOVfKeU","_blank"),className:"w-full hover-lift",children:["Get Started with ",r.name]})]})]},i)})}),u.jsxs("div",{className:"text-center mt-16 p-8 bg-card/30 rounded-2xl border border-border/50",children:[u.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:"Need a Custom Solution?"}),u.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:"For enterprises with specific requirements, we offer custom solutions with dedicated support, advanced integrations, and tailored features."}),u.jsx(se,{variant:"outline",size:"lg",onClick:t,className:"hover-lift",children:"Contact Sales Team"})]})]})})};function mO(t){const e=S.useRef({value:t,previous:t});return S.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var L_e=[" ","Enter","ArrowUp","ArrowDown"],F_e=[" ","Enter"],_g="Select",[Wb,qb,B_e]=Yx(_g),[Vf,LWe]=Sa(_g,[B_e,$f]),Gb=$f(),[z_e,Ll]=Vf(_g),[U_e,H_e]=Vf(_g),TH=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:s,defaultValue:o,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:p,form:m}=t,g=Gb(e),[x,v]=S.useState(null),[b,y]=S.useState(null),[w,_]=S.useState(!1),E=wg(c),[A=!1,j]=ls({prop:r,defaultProp:i,onChange:a}),[k,C]=ls({prop:s,defaultProp:o,onChange:l}),T=S.useRef(null),O=x?m||!!x.closest("form"):!0,[L,R]=S.useState(new Set),F=Array.from(L).map(U=>U.props.value).join(";");return u.jsx(LT,{...g,children:u.jsxs(z_e,{required:p,scope:e,trigger:x,onTriggerChange:v,valueNode:b,onValueNodeChange:y,valueNodeHasChildren:w,onValueNodeHasChildrenChange:_,contentId:fa(),value:k,onValueChange:C,open:A,onOpenChange:j,dir:E,triggerPointerDownPosRef:T,disabled:h,children:[u.jsx(Wb.Provider,{scope:e,children:u.jsx(U_e,{scope:t.__scopeSelect,onNativeOptionAdd:S.useCallback(U=>{R(V=>new Set(V).add(U))},[]),onNativeOptionRemove:S.useCallback(U=>{R(V=>{const D=new Set(V);return D.delete(U),D})},[]),children:n})}),O?u.jsxs(QH,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:k,onChange:U=>C(U.target.value),disabled:h,form:m,children:[k===void 0?u.jsx("option",{value:""}):null,Array.from(L)]},F):null]})})};TH.displayName=_g;var CH="SelectTrigger",OH=S.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=Gb(n),s=Ll(CH,n),o=s.disabled||r,l=rt(e,s.onTriggerChange),c=qb(n),d=S.useRef("touch"),[f,h,p]=eV(g=>{const x=c().filter(y=>!y.disabled),v=x.find(y=>y.value===s.value),b=tV(x,g,v);b!==void 0&&s.onValueChange(b.value)}),m=g=>{o||(s.onOpenChange(!0),p()),g&&(s.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return u.jsx(FT,{asChild:!0,...a,children:u.jsx(Pe.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":JH(s.value)?"":void 0,...i,ref:l,onClick:pe(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&m(g)}),onPointerDown:pe(i.onPointerDown,g=>{d.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(m(g),g.preventDefault())}),onKeyDown:pe(i.onKeyDown,g=>{const x=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(x&&g.key===" ")&&L_e.includes(g.key)&&(m(),g.preventDefault())})})})});OH.displayName=CH;var NH="SelectValue",PH=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:s="",...o}=t,l=Ll(NH,n),{onValueNodeHasChildrenChange:c}=l,d=a!==void 0,f=rt(e,l.onValueNodeChange);return An(()=>{c(d)},[c,d]),u.jsx(Pe.span,{...o,ref:f,style:{pointerEvents:"none"},children:JH(l.value)?u.jsx(u.Fragment,{children:s}):a})});PH.displayName=NH;var V_e="SelectIcon",IH=S.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return u.jsx(Pe.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});IH.displayName=V_e;var W_e="SelectPortal",$H=t=>u.jsx(Jm,{asChild:!0,...t});$H.displayName=W_e;var Vc="SelectContent",RH=S.forwardRef((t,e)=>{const n=Ll(Vc,t.__scopeSelect),[r,i]=S.useState();if(An(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Qc.createPortal(u.jsx(MH,{scope:t.__scopeSelect,children:u.jsx(Wb.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),a):null}return u.jsx(DH,{...t,ref:e})});RH.displayName=Vc;var qi=10,[MH,Fl]=Vf(Vc),q_e="SelectContentImpl",DH=S.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:x,...v}=t,b=Ll(Vc,n),[y,w]=S.useState(null),[_,E]=S.useState(null),A=rt(e,N=>w(N)),[j,k]=S.useState(null),[C,T]=S.useState(null),O=qb(n),[L,R]=S.useState(!1),F=S.useRef(!1);S.useEffect(()=>{if(y)return oO(y)},[y]),sO();const U=S.useCallback(N=>{const[K,...z]=O().map(Y=>Y.ref.current),[Z]=z.slice(-1),J=document.activeElement;for(const Y of N)if(Y===J||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===K&&_&&(_.scrollTop=0),Y===Z&&_&&(_.scrollTop=_.scrollHeight),Y==null||Y.focus(),document.activeElement!==J))return},[O,_]),V=S.useCallback(()=>U([j,y]),[U,j,y]);S.useEffect(()=>{L&&V()},[L,V]);const{onOpenChange:D,triggerPointerDownPosRef:B}=b;S.useEffect(()=>{if(y){let N={x:0,y:0};const K=Z=>{var J,Y;N={x:Math.abs(Math.round(Z.pageX)-(((J=B.current)==null?void 0:J.x)??0)),y:Math.abs(Math.round(Z.pageY)-(((Y=B.current)==null?void 0:Y.y)??0))}},z=Z=>{N.x<=10&&N.y<=10?Z.preventDefault():y.contains(Z.target)||D(!1),document.removeEventListener("pointermove",K),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",K),document.addEventListener("pointerup",z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",z,{capture:!0})}}},[y,D,B]),S.useEffect(()=>{const N=()=>D(!1);return window.addEventListener("blur",N),window.addEventListener("resize",N),()=>{window.removeEventListener("blur",N),window.removeEventListener("resize",N)}},[D]);const[P,W]=eV(N=>{const K=O().filter(J=>!J.disabled),z=K.find(J=>J.ref.current===document.activeElement),Z=tV(K,N,z);Z&&setTimeout(()=>Z.ref.current.focus())}),G=S.useCallback((N,K,z)=>{const Z=!F.current&&!z;(b.value!==void 0&&b.value===K||Z)&&(k(N),Z&&(F.current=!0))},[b.value]),$=S.useCallback(()=>y==null?void 0:y.focus(),[y]),ee=S.useCallback((N,K,z)=>{const Z=!F.current&&!z;(b.value!==void 0&&b.value===K||Z)&&T(N)},[b.value]),ie=r==="popper"?Nj:LH,I=ie===Nj?{side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:x}:{};return u.jsx(MH,{scope:n,content:y,viewport:_,onViewportChange:E,itemRefCallback:G,selectedItem:j,onItemLeave:$,itemTextRefCallback:ee,focusSelectedItem:V,selectedItemText:C,position:r,isPositioned:L,searchRef:P,children:u.jsx(Vb,{as:fl,allowPinchZoom:!0,children:u.jsx(Ub,{asChild:!0,trapped:b.open,onMountAutoFocus:N=>{N.preventDefault()},onUnmountAutoFocus:pe(i,N=>{var K;(K=b.trigger)==null||K.focus({preventScroll:!0}),N.preventDefault()}),children:u.jsx(Of,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:N=>N.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:u.jsx(ie,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:N=>N.preventDefault(),...v,...I,onPlaced:()=>R(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:pe(v.onKeyDown,N=>{const K=N.ctrlKey||N.altKey||N.metaKey;if(N.key==="Tab"&&N.preventDefault(),!K&&N.key.length===1&&W(N.key),["ArrowUp","ArrowDown","Home","End"].includes(N.key)){let Z=O().filter(J=>!J.disabled).map(J=>J.ref.current);if(["ArrowUp","End"].includes(N.key)&&(Z=Z.slice().reverse()),["ArrowUp","ArrowDown"].includes(N.key)){const J=N.target,Y=Z.indexOf(J);Z=Z.slice(Y+1)}setTimeout(()=>U(Z)),N.preventDefault()}})})})})})})});DH.displayName=q_e;var G_e="SelectItemAlignedPosition",LH=S.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=Ll(Vc,n),s=Fl(Vc,n),[o,l]=S.useState(null),[c,d]=S.useState(null),f=rt(e,A=>d(A)),h=qb(n),p=S.useRef(!1),m=S.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:v,focusSelectedItem:b}=s,y=S.useCallback(()=>{if(a.trigger&&a.valueNode&&o&&c&&g&&x&&v){const A=a.trigger.getBoundingClientRect(),j=c.getBoundingClientRect(),k=a.valueNode.getBoundingClientRect(),C=v.getBoundingClientRect();if(a.dir!=="rtl"){const J=C.left-j.left,Y=k.left-J,me=A.left-Y,le=A.width+me,ve=Math.max(le,j.width),oe=window.innerWidth-qi,Be=Cj(Y,[qi,Math.max(qi,oe-ve)]);o.style.minWidth=le+"px",o.style.left=Be+"px"}else{const J=j.right-C.right,Y=window.innerWidth-k.right-J,me=window.innerWidth-A.right-Y,le=A.width+me,ve=Math.max(le,j.width),oe=window.innerWidth-qi,Be=Cj(Y,[qi,Math.max(qi,oe-ve)]);o.style.minWidth=le+"px",o.style.right=Be+"px"}const T=h(),O=window.innerHeight-qi*2,L=g.scrollHeight,R=window.getComputedStyle(c),F=parseInt(R.borderTopWidth,10),U=parseInt(R.paddingTop,10),V=parseInt(R.borderBottomWidth,10),D=parseInt(R.paddingBottom,10),B=F+U+L+D+V,P=Math.min(x.offsetHeight*5,B),W=window.getComputedStyle(g),G=parseInt(W.paddingTop,10),$=parseInt(W.paddingBottom,10),ee=A.top+A.height/2-qi,ie=O-ee,I=x.offsetHeight/2,N=x.offsetTop+I,K=F+U+N,z=B-K;if(K<=ee){const J=T.length>0&&x===T[T.length-1].ref.current;o.style.bottom="0px";const Y=c.clientHeight-g.offsetTop-g.offsetHeight,me=Math.max(ie,I+(J?$:0)+Y+V),le=K+me;o.style.height=le+"px"}else{const J=T.length>0&&x===T[0].ref.current;o.style.top="0px";const me=Math.max(ee,F+g.offsetTop+(J?G:0)+I)+z;o.style.height=me+"px",g.scrollTop=K-ee+g.offsetTop}o.style.margin=`${qi}px 0`,o.style.minHeight=P+"px",o.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,o,c,g,x,v,a.dir,r]);An(()=>y(),[y]);const[w,_]=S.useState();An(()=>{c&&_(window.getComputedStyle(c).zIndex)},[c]);const E=S.useCallback(A=>{A&&m.current===!0&&(y(),b==null||b(),m.current=!1)},[y,b]);return u.jsx(Y_e,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:E,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:u.jsx(Pe.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});LH.displayName=G_e;var K_e="SelectPopperPosition",Nj=S.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=qi,...a}=t,s=Gb(n);return u.jsx(BT,{...s,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Nj.displayName=K_e;var[Y_e,gO]=Vf(Vc,{}),Pj="SelectViewport",FH=S.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=Fl(Pj,n),s=gO(Pj,n),o=rt(e,a.onViewportChange),l=S.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(Wb.Slot,{scope:n,children:u.jsx(Pe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:pe(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=s;if(h!=null&&h.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const m=window.innerHeight-qi*2,g=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),v=Math.max(g,x);if(v<m){const b=v+p,y=Math.min(m,b),w=b-y;f.style.height=y+"px",f.style.bottom==="0px"&&(d.scrollTop=w>0?w:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});FH.displayName=Pj;var BH="SelectGroup",[X_e,Z_e]=Vf(BH),J_e=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=fa();return u.jsx(X_e,{scope:n,id:i,children:u.jsx(Pe.div,{role:"group","aria-labelledby":i,...r,ref:e})})});J_e.displayName=BH;var zH="SelectLabel",UH=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Z_e(zH,n);return u.jsx(Pe.div,{id:i.id,...r,ref:e})});UH.displayName=zH;var _0="SelectItem",[Q_e,HH]=Vf(_0),VH=S.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...s}=t,o=Ll(_0,n),l=Fl(_0,n),c=o.value===r,[d,f]=S.useState(a??""),[h,p]=S.useState(!1),m=rt(e,b=>{var y;return(y=l.itemRefCallback)==null?void 0:y.call(l,b,r,i)}),g=fa(),x=S.useRef("touch"),v=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(Q_e,{scope:n,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:S.useCallback(b=>{f(y=>y||((b==null?void 0:b.textContent)??"").trim())},[]),children:u.jsx(Wb.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:u.jsx(Pe.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:m,onFocus:pe(s.onFocus,()=>p(!0)),onBlur:pe(s.onBlur,()=>p(!1)),onClick:pe(s.onClick,()=>{x.current!=="mouse"&&v()}),onPointerUp:pe(s.onPointerUp,()=>{x.current==="mouse"&&v()}),onPointerDown:pe(s.onPointerDown,b=>{x.current=b.pointerType}),onPointerMove:pe(s.onPointerMove,b=>{var y;x.current=b.pointerType,i?(y=l.onItemLeave)==null||y.call(l):x.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(s.onPointerLeave,b=>{var y;b.currentTarget===document.activeElement&&((y=l.onItemLeave)==null||y.call(l))}),onKeyDown:pe(s.onKeyDown,b=>{var w;((w=l.searchRef)==null?void 0:w.current)!==""&&b.key===" "||(F_e.includes(b.key)&&v(),b.key===" "&&b.preventDefault())})})})})});VH.displayName=_0;var Hh="SelectItemText",WH=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,s=Ll(Hh,n),o=Fl(Hh,n),l=HH(Hh,n),c=H_e(Hh,n),[d,f]=S.useState(null),h=rt(e,v=>f(v),l.onItemTextChange,v=>{var b;return(b=o.itemTextRefCallback)==null?void 0:b.call(o,v,l.value,l.disabled)}),p=d==null?void 0:d.textContent,m=S.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=c;return An(()=>(g(m),()=>x(m)),[g,x,m]),u.jsxs(u.Fragment,{children:[u.jsx(Pe.span,{id:l.textId,...a,ref:h}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Qc.createPortal(a.children,s.valueNode):null]})});WH.displayName=Hh;var qH="SelectItemIndicator",GH=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return HH(qH,n).isSelected?u.jsx(Pe.span,{"aria-hidden":!0,...r,ref:e}):null});GH.displayName=qH;var Ij="SelectScrollUpButton",KH=S.forwardRef((t,e)=>{const n=Fl(Ij,t.__scopeSelect),r=gO(Ij,t.__scopeSelect),[i,a]=S.useState(!1),s=rt(e,r.onScrollButtonChange);return An(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=l.scrollTop>0;a(c)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?u.jsx(XH,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});KH.displayName=Ij;var $j="SelectScrollDownButton",YH=S.forwardRef((t,e)=>{const n=Fl($j,t.__scopeSelect),r=gO($j,t.__scopeSelect),[i,a]=S.useState(!1),s=rt(e,r.onScrollButtonChange);return An(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;a(d)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?u.jsx(XH,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});YH.displayName=$j;var XH=S.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=Fl("SelectScrollButton",n),s=S.useRef(null),o=qb(n),l=S.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return S.useEffect(()=>()=>l(),[l]),An(()=>{var d;const c=o().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),u.jsx(Pe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:pe(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:pe(i.onPointerMove,()=>{var c;(c=a.onItemLeave)==null||c.call(a),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:pe(i.onPointerLeave,()=>{l()})})}),e1e="SelectSeparator",ZH=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(Pe.div,{"aria-hidden":!0,...r,ref:e})});ZH.displayName=e1e;var Rj="SelectArrow",t1e=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Gb(n),a=Ll(Rj,n),s=Fl(Rj,n);return a.open&&s.position==="popper"?u.jsx(zT,{...i,...r,ref:e}):null});t1e.displayName=Rj;function JH(t){return t===""||t===void 0}var QH=S.forwardRef((t,e)=>{const{value:n,...r}=t,i=S.useRef(null),a=rt(e,i),s=mO(n);return S.useEffect(()=>{const o=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&d){const f=new Event("change",{bubbles:!0});d.call(o,n),o.dispatchEvent(f)}},[s,n]),u.jsx(Qm,{asChild:!0,children:u.jsx("select",{...r,ref:a,defaultValue:n})})});QH.displayName="BubbleSelect";function eV(t){const e=qt(t),n=S.useRef(""),r=S.useRef(0),i=S.useCallback(s=>{const o=n.current+s;e(o),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),a=S.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function tV(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let s=n1e(t,Math.max(a,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function n1e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var r1e=TH,nV=OH,i1e=PH,a1e=IH,s1e=$H,rV=RH,o1e=FH,iV=UH,aV=VH,l1e=WH,c1e=GH,sV=KH,oV=YH,lV=ZH;const Ka=r1e,Ya=i1e,sa=S.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(nV,{ref:r,className:we("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(a1e,{asChild:!0,children:u.jsx(kB,{className:"h-4 w-4 opacity-50"})})]}));sa.displayName=nV.displayName;const cV=S.forwardRef(({className:t,...e},n)=>u.jsx(sV,{ref:n,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx($ee,{className:"h-4 w-4"})}));cV.displayName=sV.displayName;const uV=S.forwardRef(({className:t,...e},n)=>u.jsx(oV,{ref:n,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(kB,{className:"h-4 w-4"})}));uV.displayName=oV.displayName;const oa=S.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>u.jsx(s1e,{children:u.jsxs(rV,{ref:i,className:we("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(cV,{}),u.jsx(o1e,{className:we("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(uV,{})]})}));oa.displayName=rV.displayName;const u1e=S.forwardRef(({className:t,...e},n)=>u.jsx(iV,{ref:n,className:we("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));u1e.displayName=iV.displayName;const Vt=S.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(aV,{ref:r,className:we("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(c1e,{children:u.jsx(tg,{className:"h-4 w-4"})})}),u.jsx(l1e,{children:e})]}));Vt.displayName=aV.displayName;const d1e=S.forwardRef(({className:t,...e},n)=>u.jsx(lV,{ref:n,className:we("-mx-1 my-1 h-px bg-muted",t),...e}));d1e.displayName=lV.displayName;const Kb=({open:t,onOpenChange:e})=>{const[n,r]=S.useState(""),[i,a]=S.useState(""),[s,o]=S.useState(""),[l,c]=S.useState(""),[d,f]=S.useState(""),[h,p]=S.useState(""),[m,g]=S.useState(!1),{toast:x}=Ht(),v=["9:00 AM - 10:00 AM","10:00 AM - 11:00 AM","11:00 AM - 12:00 PM","2:00 PM - 3:00 PM","3:00 PM - 4:00 PM","4:00 PM - 5:00 PM"],b=async y=>{if(y.preventDefault(),!n||!i||!s||!d){x({title:"Please fill in all required fields",variant:"destructive"});return}g(!0);try{const{error:w}=await De.from("demo_requests").insert([{name:n,email:i,company:s,role:l,preferred_time:d,message:h}]);if(w)throw w;if(!(await fetch("https://formsubmit.co/ajax/admitconnectAI@gmail.com",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:n,email:i,company:s,role:l,preferred_time:d,message:h,_subject:`New Demo Request from ${n}`,_template:"table",_captcha:"false"})})).ok)throw new Error("Failed to send email");x({title:"Demo scheduled successfully!",description:"We'll send you a calendar invite shortly."}),r(""),a(""),o(""),c(""),f(""),p(""),e(!1)}catch(w){console.error("Error scheduling demo:",w),x({title:"Failed to schedule demo",description:"Please check your internet connection and try again.",variant:"destructive"})}finally{g(!1)}};return u.jsx(ii,{open:t,onOpenChange:e,children:u.jsxs(Rr,{className:"max-w-md",children:[u.jsx(Mr,{children:u.jsxs(Dr,{className:"flex items-center space-x-2",children:[u.jsx(qp,{className:"w-5 h-5"}),u.jsx("span",{children:"Schedule Your Demo"})]})}),u.jsxs("form",{onSubmit:b,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"name",children:"Full Name *"}),u.jsx(zt,{id:"name",value:n,onChange:y=>r(y.target.value),placeholder:"John Doe",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"email",children:"Email *"}),u.jsx(zt,{id:"email",type:"email",value:i,onChange:y=>a(y.target.value),placeholder:"john@university.edu",required:!0})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"company",children:"Institution/Company *"}),u.jsx(zt,{id:"company",value:s,onChange:y=>o(y.target.value),placeholder:"Harvard University",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"role",children:"Your Role"}),u.jsx(zt,{id:"role",value:l,onChange:y=>c(y.target.value),placeholder:"Admissions Director"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"timeSlot",children:"Preferred Time *"}),u.jsxs(Ka,{value:d,onValueChange:f,required:!0,children:[u.jsx(sa,{children:u.jsx(Ya,{placeholder:"Select a time slot"})}),u.jsx(oa,{children:v.map(y=>u.jsx(Vt,{value:y,children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(pl,{className:"w-4 h-4"}),u.jsx("span",{children:y})]})},y))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"message",children:"Additional Notes"}),u.jsx(au,{id:"message",value:h,onChange:y=>p(y.target.value),placeholder:"Tell us about your specific needs or questions...",rows:3})]}),u.jsx(se,{type:"submit",variant:"hero",disabled:m,className:"w-full hover-lift",children:m?"Scheduling...":"Schedule Demo"})]}),u.jsx("div",{className:"text-xs text-muted-foreground text-center",children:"Our team will send you a calendar invite within 1 hour. All times are in EST."})]})})},f1e=({open:t,onOpenChange:e})=>{const[n,r]=S.useState(!1),i=[{title:"Getting Started with AdmitConnect AI",description:"Learn how to set up your first campaign in under 5 minutes",thumbnail:"https://img.youtube.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",duration:"4:32",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{title:"AI Voice Call Demo",description:"See our AI making real admission calls to prospective students",thumbnail:"https://img.youtube.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",duration:"3:15",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{title:"WhatsApp Automation Walkthrough",description:"Complete guide to WhatsApp campaign setup and management",thumbnail:"https://img.youtube.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",duration:"6:45",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"}],a=s=>{window.open(s,"_blank")};return u.jsxs(ii,{open:t,onOpenChange:e,children:[u.jsxs(Rr,{className:"max-w-4xl",children:[u.jsx(Mr,{children:u.jsxs(Dr,{className:"flex items-center space-x-2",children:[u.jsx(Fs,{className:"w-5 h-5"}),u.jsx("span",{children:"Product Demos"})]})}),u.jsxs("div",{className:"space-y-6",children:[u.jsx(ne,{className:"p-6 bg-ai-gradient-subtle border-primary/20",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-6 items-center",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(jT,{className:"w-5 h-5 text-primary"}),u.jsx("span",{className:"text-sm font-medium text-primary",children:"Featured Demo"})]}),u.jsx("h3",{className:"text-2xl font-bold",children:"Complete Platform Overview"}),u.jsx("p",{className:"text-muted-foreground",children:"See how AdmitConnect AI transforms admission workflows with real-world examples and live demonstrations."}),u.jsx(se,{variant:"hero",onClick:()=>r(!0),className:"hover-lift",children:"Schedule Live Demo"})]}),u.jsx("div",{className:"relative",children:u.jsx("div",{className:"aspect-video bg-card rounded-lg flex items-center justify-center border",children:u.jsx(Fs,{className:"w-16 h-16 text-primary"})})})]})}),u.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:i.map((s,o)=>u.jsx(ne,{className:"p-4 hover-lift cursor-pointer h-full flex flex-col",onClick:()=>a(s.url),children:u.jsxs("div",{className:"space-y-3 flex flex-col h-full",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"aspect-video bg-muted rounded-lg flex items-center justify-center",children:u.jsx(Fs,{className:"w-8 h-8 text-primary"})}),u.jsx("div",{className:"absolute bottom-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded",children:s.duration})]}),u.jsxs("div",{className:"space-y-1 flex-1",children:[u.jsx("h4",{className:"font-semibold text-sm line-clamp-2",children:s.title}),u.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:s.description})]}),u.jsxs(se,{variant:"outline",size:"sm",className:"w-full",children:[u.jsx(Lee,{className:"w-3 h-3 mr-2"}),"Watch Video"]})]})},o))}),u.jsxs("div",{className:"text-center p-6 bg-card/50 rounded-lg border border-border/50",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Ready to Transform Your Admissions?"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Start your free trial today and see the results within the first week."}),u.jsx(se,{variant:"hero",className:"hover-lift",onClick:()=>window.location.href="/auth",children:"Start Free Trial"})]})]})]}),u.jsx(Kb,{open:n,onOpenChange:r})]})},yO=({open:t,onOpenChange:e})=>{const[n,r]=S.useState(""),[i,a]=S.useState(""),[s,o]=S.useState(""),[l,c]=S.useState(!1),[d,f]=S.useState({}),[h,p]=S.useState({}),{toast:m}=Ht(),g=(b,y)=>{const w={...d},_={...h};switch(b){case"name":y.trim()?y.trim().length<2?(w.name="Name must be at least 2 characters",_.message=!1):(delete w.message,_.message=!0):(w.name="Name is required",_.name=!1);break}return f(w),p(_),!w[b]},x=(b,y)=>{switch(b){case"name":r(y);break;case"email":a(y);break;case"message":o(y);break}y.trim()&&g(b,y)},v=async b=>{b.preventDefault();const y=g("name",n),w=g("email",i),_=g("message",s);if(!y||!w||!_){m({title:"Please fix the errors above",variant:"destructive"});return}c(!0);try{const{error:E}=await De.from("contact_submissions").insert([{name:n,email:i,message:s}]);if(E)throw E;if(!(await fetch("https://formsubmit.co/ajax/admitconnectAI@gmail.com",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:n,email:i,message:s,_subject:`New Contact Request from ${n}`,_template:"table",_captcha:"false"})})).ok)throw new Error("Failed to send email");m({title:"Message sent successfully!",description:"We'll get back to you within 24 hours."}),r(""),a(""),o(""),e(!1)}catch(E){console.error("Error sending message:",E),m({title:"Failed to send message",description:"Please check your internet connection and try again.",variant:"destructive"})}finally{c(!1)}};return u.jsx(ii,{open:t,onOpenChange:e,children:u.jsxs(Rr,{className:"max-w-md",children:[u.jsx(Mr,{children:u.jsxs(Dr,{className:"flex items-center space-x-2",children:[u.jsx(ti,{className:"w-5 h-5"}),u.jsx("span",{children:"Contact Us"})]})}),u.jsxs("form",{onSubmit:v,className:"space-y-6",children:[u.jsx(na,{label:"Full Name",id:"name",type:"text",value:n,onChange:b=>x("name",b),placeholder:"Enter your full name",error:d.name,success:h.name,required:!0}),u.jsx(na,{label:"Email Address",id:"email",type:"email",value:i,onChange:b=>x("email",b),placeholder:"your.email@example.com",error:d.email,success:h.email,required:!0}),u.jsx(na,{label:"Message",id:"message",type:"textarea",value:s,onChange:b=>x("message",b),placeholder:"Tell us how we can help you transform your admission process...",error:d.message,success:h.message,required:!0}),u.jsx(Hs,{type:"submit",variant:"hero",disabled:l,className:"w-full hover-lift",children:l?u.jsxs(u.Fragment,{children:[u.jsx(jl,{size:"sm",className:"mr-2"}),"Sending Message..."]}):u.jsxs(u.Fragment,{children:[u.jsx(ET,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]}),u.jsx("div",{className:"text-xs text-muted-foreground text-center",children:"We typically respond within 24 hours. All messages are sent to admitconnectAI@gmail.com"})]})})},dV=()=>{const[t,e]=S.useState(!1);S.useEffect(()=>{const r=()=>{window.pageYOffset>300?e(!0):e(!1)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return t?u.jsx(se,{className:"fixed bottom-6 right-6 z-50 rounded-full shadow-glow hover-lift",variant:"hero",size:"icon",onClick:n,children:u.jsx(Nee,{className:"w-4 h-4"})}):null},fV=({title:t="AdmitConnect AI - Intelligent College Admission Campaign Management",description:e="Revolutionize your college admission outreach with AI-powered campaign management, automated follow-ups, and real-time analytics. Boost enrollment with smart WhatsApp, voice, and email campaigns.",keywords:n="college admission software, AI campaign management, student recruitment, WhatsApp marketing, voice campaigns, admission analytics, enrollment automation, higher education CRM",image:r="/og-image.jpg",url:i="https://admitconnect.ai",type:a="website",schema:s})=>{const o=t.includes("AdmitConnect AI")?t:`${t} | AdmitConnect AI`,l={"@context":"https://schema.org","@type":"SoftwareApplication",name:"AdmitConnect AI",description:e,url:i,applicationCategory:"Educational Software",operatingSystem:"Web Browser",offers:{"@type":"Offer",category:"SaaS",price:"0",priceCurrency:"USD"},creator:{"@type":"Organization",name:"AdmitConnect AI",url:i}};return u.jsxs(IQ,{children:[u.jsx("title",{children:o}),u.jsx("meta",{name:"description",content:e}),u.jsx("meta",{name:"keywords",content:n}),u.jsx("meta",{name:"robots",content:"index, follow"}),u.jsx("meta",{name:"author",content:"AdmitConnect AI"}),u.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),u.jsx("link",{rel:"canonical",href:i}),u.jsx("meta",{property:"og:title",content:o}),u.jsx("meta",{property:"og:description",content:e}),u.jsx("meta",{property:"og:image",content:r}),u.jsx("meta",{property:"og:url",content:i}),u.jsx("meta",{property:"og:type",content:a}),u.jsx("meta",{property:"og:site_name",content:"AdmitConnect AI"}),u.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),u.jsx("meta",{name:"twitter:title",content:o}),u.jsx("meta",{name:"twitter:description",content:e}),u.jsx("meta",{name:"twitter:image",content:r}),u.jsx("meta",{name:"theme-color",content:"#000000"}),u.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),u.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"black-translucent"}),u.jsx("script",{type:"application/ld+json",children:JSON.stringify(s||l)})]})},h1e={home:{title:"AdmitConnect AI - Intelligent College Admission Campaign Management",description:"Transform your college admissions process with AI-powered campaign management. Automate WhatsApp, voice, and email outreach with intelligent analytics and real-time tracking.",keywords:"college admission AI, student recruitment automation, admission campaign management, WhatsApp marketing education, voice call automation, enrollment analytics"},dashboard:{title:"Dashboard - AdmitConnect AI",description:"Manage your admission campaigns, track performance metrics, and analyze student engagement data from your comprehensive dashboard.",keywords:"admission dashboard, campaign analytics, student metrics, enrollment tracking"},about:{title:"About Us - AdmitConnect AI",description:"Learn about AdmitConnect AI's mission to revolutionize college admissions through intelligent automation and data-driven insights.",keywords:"about admitconnect, college admission technology, AI education solutions"},services:{title:"Our Services - AdmitConnect AI",description:"Discover our comprehensive suite of AI-powered services for college admission campaigns, including automated outreach, analytics, and student engagement tools.",keywords:"admission services, AI campaign tools, student outreach automation, enrollment services"},pricing:{title:"Pricing Plans - AdmitConnect AI",description:"Choose the perfect plan for your institution. Flexible pricing options for colleges and universities of all sizes.",keywords:"admission software pricing, AI campaign costs, college enrollment plans"}},p1e=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState(!1),[i,a]=S.useState(!1);return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(fV,{...h1e.home}),u.jsx(pO,{onContactClick:()=>a(!0),onScheduleClick:()=>r(!0)}),u.jsxs("main",{id:"main-content",tabIndex:-1,className:"focus:outline-none",children:[u.jsx(M_e,{onWatchDemoClick:()=>e(!0),onScheduleDemoClick:()=>r(!0)}),u.jsx(D_e,{onContactClick:()=>a(!0),onScheduleClick:()=>r(!0)})]}),u.jsx(f1e,{open:t,onOpenChange:e}),u.jsx(Kb,{open:n,onOpenChange:r}),u.jsx(yO,{open:i,onOpenChange:a}),u.jsx(kH,{}),u.jsx(dV,{})]})},m1e=()=>{const[t]=KF(),e=hi(),{toast:n}=Ht(),{signIn:r,signUp:i,signInWithGoogle:a,user:s}=er(),[o,l]=S.useState(t.get("mode")==="signup"),[c,d]=S.useState(!1),[f,h]=S.useState(!1),[p,m]=S.useState(""),[g,x]=S.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""});S.useEffect(()=>{l(t.get("mode")==="signup")},[t]),S.useEffect(()=>{s&&e("/dashboard")},[s,e]);const v=w=>{x({...g,[w.target.name]:w.target.value})},b=async w=>{w.preventDefault(),h(!0),m("");try{if(o){if(g.password!==g.confirmPassword)throw new Error("Passwords don't match");if(g.password.length<8)throw new Error("Password must be at least 8 characters");const _=`${g.firstName} ${g.lastName}`.trim();await i(g.email,g.password,_)}else await r(g.email,g.password)}catch(_){console.error("Auth error:",_),m(_.message||"An error occurred"),n({title:"Authentication failed",description:_.message||"Please try again",variant:"destructive"})}finally{h(!1)}},y=async()=>{try{h(!0),await a()}catch(w){console.error("Google sign in error:",w),n({title:"Google sign in failed",description:w.message||"Please try again",variant:"destructive"})}finally{h(!1)}};return u.jsx("div",{className:"min-h-screen bg-ai-gradient-subtle flex items-center justify-center p-4",children:u.jsxs(ne,{className:"w-full max-w-md p-8 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"w-16 h-16 bg-ai-gradient rounded-2xl flex items-center justify-center mx-auto mb-4",children:u.jsx(Zs,{className:"w-8 h-8 text-white"})}),u.jsx("h1",{className:"text-2xl font-bold text-card-foreground",children:o?"Create Account":"Welcome Back"}),u.jsx("p",{className:"text-muted-foreground mt-2",children:o?"Join AdmitConnect AI and transform your admissions":"Sign in to your AdmitConnect AI account"})]}),u.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o&&u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"firstName",children:"First Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(Kp,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(zt,{id:"firstName",name:"firstName",type:"text",placeholder:"John",value:g.firstName,onChange:v,className:"pl-10",required:o})]})]}),u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"lastName",children:"Last Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(Kp,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(zt,{id:"lastName",name:"lastName",type:"text",placeholder:"Doe",value:g.lastName,onChange:v,className:"pl-10",required:o})]})]})]}),u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"email",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(ti,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(zt,{id:"email",name:"email",type:"email",placeholder:"john@college.edu",value:g.email,onChange:v,className:"pl-10",required:!0})]})]}),u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"password",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(NI,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(zt,{id:"password",name:"password",type:c?"text":"password",placeholder:"",value:g.password,onChange:v,className:"pl-10 pr-10",required:!0}),u.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:c?u.jsx(Fee,{className:"h-4 w-4"}):u.jsx(Bee,{className:"h-4 w-4"})})]})]}),o&&u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"confirmPassword",children:"Confirm Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(NI,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(zt,{id:"confirmPassword",name:"confirmPassword",type:c?"text":"password",placeholder:"",value:g.confirmPassword,onChange:v,className:"pl-10",required:o})]})]}),p&&u.jsx("div",{className:"text-destructive text-sm text-center",children:p}),u.jsx(se,{type:"submit",variant:"hero",size:"lg",className:"w-full",disabled:f,children:f?"Please wait...":o?"Create Account":"Sign In"})]}),u.jsxs("div",{className:"mt-6",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-border/50"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),u.jsxs(se,{variant:"outline",size:"lg",className:"w-full mt-4",onClick:y,disabled:f,children:[u.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx("button",{type:"button",onClick:()=>l(!o),className:"text-primary hover:underline text-sm",children:o?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})};function g1e(t,e=[]){let n=[];function r(a,s){const o=S.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||o,x=S.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:x,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||o,m=S.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,d]}const i=()=>{const a=n.map(s=>S.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,y1e(i,...e)]}function y1e(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var N1="rovingFocusGroup.onEntryFocus",v1e={bubbles:!1,cancelable:!0},Yb="RovingFocusGroup",[Mj,hV,x1e]=Yx(Yb),[b1e,Xb]=g1e(Yb,[x1e]),[w1e,_1e]=b1e(Yb),pV=S.forwardRef((t,e)=>u.jsx(Mj.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(Mj.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(S1e,{...t,ref:e})})}));pV.displayName=Yb;var S1e=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,h=S.useRef(null),p=rt(e,h),m=wg(a),[g=null,x]=ls({prop:s,defaultProp:o,onChange:l}),[v,b]=S.useState(!1),y=qt(c),w=hV(n),_=S.useRef(!1),[E,A]=S.useState(0);return S.useEffect(()=>{const j=h.current;if(j)return j.addEventListener(N1,y),()=>j.removeEventListener(N1,y)},[y]),u.jsx(w1e,{scope:n,orientation:r,dir:m,loop:i,currentTabStopId:g,onItemFocus:S.useCallback(j=>x(j),[x]),onItemShiftTab:S.useCallback(()=>b(!0),[]),onFocusableItemAdd:S.useCallback(()=>A(j=>j+1),[]),onFocusableItemRemove:S.useCallback(()=>A(j=>j-1),[]),children:u.jsx(Pe.div,{tabIndex:v||E===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:pe(t.onMouseDown,()=>{_.current=!0}),onFocus:pe(t.onFocus,j=>{const k=!_.current;if(j.target===j.currentTarget&&k&&!v){const C=new CustomEvent(N1,v1e);if(j.currentTarget.dispatchEvent(C),!C.defaultPrevented){const T=w().filter(U=>U.focusable),O=T.find(U=>U.active),L=T.find(U=>U.id===g),F=[O,L,...T].filter(Boolean).map(U=>U.ref.current);yV(F,d)}}_.current=!1}),onBlur:pe(t.onBlur,()=>b(!1))})})}),mV="RovingFocusGroupItem",gV=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,...s}=t,o=fa(),l=a||o,c=_1e(mV,n),d=c.currentTabStopId===l,f=hV(n),{onFocusableItemAdd:h,onFocusableItemRemove:p}=c;return S.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),u.jsx(Mj.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:u.jsx(Pe.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...s,ref:e,onMouseDown:pe(t.onMouseDown,m=>{r?c.onItemFocus(l):m.preventDefault()}),onFocus:pe(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:pe(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){c.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const g=A1e(m,c.orientation,c.dir);if(g!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let v=f().filter(b=>b.focusable).map(b=>b.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();const b=v.indexOf(m.currentTarget);v=c.loop?k1e(v,b+1):v.slice(b+1)}setTimeout(()=>yV(v))}})})})});gV.displayName=mV;var E1e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function j1e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function A1e(t,e,n){const r=j1e(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return E1e[r]}function yV(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function k1e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var vV=pV,xV=gV,vO="Tabs",[T1e,FWe]=Sa(vO,[Xb]),bV=Xb(),[C1e,xO]=T1e(vO),wV=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:s="horizontal",dir:o,activationMode:l="automatic",...c}=t,d=wg(o),[f,h]=ls({prop:r,onChange:i,defaultProp:a});return u.jsx(C1e,{scope:n,baseId:fa(),value:f,onValueChange:h,orientation:s,dir:d,activationMode:l,children:u.jsx(Pe.div,{dir:d,"data-orientation":s,...c,ref:e})})});wV.displayName=vO;var _V="TabsList",SV=S.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,a=xO(_V,n),s=bV(n);return u.jsx(vV,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:r,children:u.jsx(Pe.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});SV.displayName=_V;var EV="TabsTrigger",jV=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=t,s=xO(EV,n),o=bV(n),l=TV(s.baseId,r),c=CV(s.baseId,r),d=r===s.value;return u.jsx(xV,{asChild:!0,...o,focusable:!i,active:d,children:u.jsx(Pe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:e,onMouseDown:pe(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?s.onValueChange(r):f.preventDefault()}),onKeyDown:pe(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(r)}),onFocus:pe(t.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!i&&f&&s.onValueChange(r)})})})});jV.displayName=EV;var AV="TabsContent",kV=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...s}=t,o=xO(AV,n),l=TV(o.baseId,r),c=CV(o.baseId,r),d=r===o.value,f=S.useRef(d);return S.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),u.jsx(Qn,{present:i||d,children:({present:h})=>u.jsx(Pe.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});kV.displayName=AV;function TV(t,e){return`${t}-trigger-${e}`}function CV(t,e){return`${t}-content-${e}`}var O1e=wV,OV=SV,NV=jV,PV=kV;const su=O1e,Bl=S.forwardRef(({className:t,...e},n)=>u.jsx(OV,{ref:n,className:we("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Bl.displayName=OV.displayName;const mt=S.forwardRef(({className:t,...e},n)=>u.jsx(NV,{ref:n,className:we("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));mt.displayName=NV.displayName;const gt=S.forwardRef(({className:t,...e},n)=>u.jsx(PV,{ref:n,className:we("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));gt.displayName=PV.displayName;var IV={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(un,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,a=!r.document&&!!r.postMessage,s=r.IS_PAPA_WORKER||!1,o={},l=0,c={};function d(j){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(k){var C=_(k);C.chunkSize=parseInt(C.chunkSize),k.step||k.chunk||(C.chunkSize=null),this._handle=new g(C),(this._handle.streamer=this)._config=C}).call(this,j),this.parseChunk=function(k,C){var T=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<T){let L=this._config.newline;L||(O=this._config.quoteChar||'"',L=this._handle.guessLineEndings(k,O)),k=[...k.split(L).slice(T)].join(L)}this.isFirstChunk&&A(this._config.beforeFirstChunk)&&(O=this._config.beforeFirstChunk(k))!==void 0&&(k=O),this.isFirstChunk=!1,this._halted=!1;var T=this._partialLine+k,O=(this._partialLine="",this._handle.parse(T,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(k=O.meta.cursor,T=(this._finished||(this._partialLine=T.substring(k-this._baseIndex),this._baseIndex=k),O&&O.data&&(this._rowCount+=O.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)r.postMessage({results:O,workerId:c.WORKER_ID,finished:T});else if(A(this._config.chunk)&&!C){if(this._config.chunk(O,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=O=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(O.data),this._completeResults.errors=this._completeResults.errors.concat(O.errors),this._completeResults.meta=O.meta),this._completed||!T||!A(this._config.complete)||O&&O.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),T||O&&O.meta.paused||this._nextChunk(),O}this._halted=!0},this._sendError=function(k){A(this._config.error)?this._config.error(k):s&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:k,finished:!1})}}function f(j){var k;(j=j||{}).chunkSize||(j.chunkSize=c.RemoteChunkSize),d.call(this,j),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(C){this._input=C,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(k=new XMLHttpRequest,this._config.withCredentials&&(k.withCredentials=this._config.withCredentials),a||(k.onload=E(this._chunkLoaded,this),k.onerror=E(this._chunkError,this)),k.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var C,T=this._config.downloadRequestHeaders;for(C in T)k.setRequestHeader(C,T[C])}var O;this._config.chunkSize&&(O=this._start+this._config.chunkSize-1,k.setRequestHeader("Range","bytes="+this._start+"-"+O));try{k.send(this._config.downloadRequestBody)}catch(L){this._chunkError(L.message)}a&&k.status===0&&this._chunkError()}},this._chunkLoaded=function(){k.readyState===4&&(k.status<200||400<=k.status?this._chunkError():(this._start+=this._config.chunkSize||k.responseText.length,this._finished=!this._config.chunkSize||this._start>=(C=>(C=C.getResponseHeader("Content-Range"))!==null?parseInt(C.substring(C.lastIndexOf("/")+1)):-1)(k),this.parseChunk(k.responseText)))},this._chunkError=function(C){C=k.statusText||C,this._sendError(new Error(C))}}function h(j){(j=j||{}).chunkSize||(j.chunkSize=c.LocalChunkSize),d.call(this,j);var k,C,T=typeof FileReader<"u";this.stream=function(O){this._input=O,C=O.slice||O.webkitSlice||O.mozSlice,T?((k=new FileReader).onload=E(this._chunkLoaded,this),k.onerror=E(this._chunkError,this)):k=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var O=this._input,L=(this._config.chunkSize&&(L=Math.min(this._start+this._config.chunkSize,this._input.size),O=C.call(O,this._start,L)),k.readAsText(O,this._config.encoding));T||this._chunkLoaded({target:{result:L}})},this._chunkLoaded=function(O){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(O.target.result)},this._chunkError=function(){this._sendError(k.error)}}function p(j){var k;d.call(this,j=j||{}),this.stream=function(C){return k=C,this._nextChunk()},this._nextChunk=function(){var C,T;if(!this._finished)return C=this._config.chunkSize,k=C?(T=k.substring(0,C),k.substring(C)):(T=k,""),this._finished=!k,this.parseChunk(T)}}function m(j){d.call(this,j=j||{});var k=[],C=!0,T=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(O){this._input=O,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){T&&k.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),k.length?this.parseChunk(k.shift()):C=!0},this._streamData=E(function(O){try{k.push(typeof O=="string"?O:O.toString(this._config.encoding)),C&&(C=!1,this._checkIsFinished(),this.parseChunk(k.shift()))}catch(L){this._streamError(L)}},this),this._streamError=E(function(O){this._streamCleanUp(),this._sendError(O)},this),this._streamEnd=E(function(){this._streamCleanUp(),T=!0,this._streamData("")},this),this._streamCleanUp=E(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(j){var k,C,T,O,L=Math.pow(2,53),R=-L,F=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,U=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,V=this,D=0,B=0,P=!1,W=!1,G=[],$={data:[],errors:[],meta:{}};function ee(K){return j.skipEmptyLines==="greedy"?K.join("").trim()==="":K.length===1&&K[0].length===0}function ie(){if($&&T&&(N("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),T=!1),j.skipEmptyLines&&($.data=$.data.filter(function(J){return!ee(J)})),I()){let J=function(Y,me){A(j.transformHeader)&&(Y=j.transformHeader(Y,me)),G.push(Y)};if($)if(Array.isArray($.data[0])){for(var K=0;I()&&K<$.data.length;K++)$.data[K].forEach(J);$.data.splice(0,1)}else $.data.forEach(J)}function z(J,Y){for(var me=j.header?{}:[],le=0;le<J.length;le++){var ve=le,oe=J[le],oe=((Be,ke)=>(Me=>(j.dynamicTypingFunction&&j.dynamicTyping[Me]===void 0&&(j.dynamicTyping[Me]=j.dynamicTypingFunction(Me)),(j.dynamicTyping[Me]||j.dynamicTyping)===!0))(Be)?ke==="true"||ke==="TRUE"||ke!=="false"&&ke!=="FALSE"&&((Me=>{if(F.test(Me)&&(Me=parseFloat(Me),R<Me&&Me<L))return 1})(ke)?parseFloat(ke):U.test(ke)?new Date(ke):ke===""?null:ke):ke)(ve=j.header?le>=G.length?"__parsed_extra":G[le]:ve,oe=j.transform?j.transform(oe,ve):oe);ve==="__parsed_extra"?(me[ve]=me[ve]||[],me[ve].push(oe)):me[ve]=oe}return j.header&&(le>G.length?N("FieldMismatch","TooManyFields","Too many fields: expected "+G.length+" fields but parsed "+le,B+Y):le<G.length&&N("FieldMismatch","TooFewFields","Too few fields: expected "+G.length+" fields but parsed "+le,B+Y)),me}var Z;$&&(j.header||j.dynamicTyping||j.transform)&&(Z=1,!$.data.length||Array.isArray($.data[0])?($.data=$.data.map(z),Z=$.data.length):$.data=z($.data,0),j.header&&$.meta&&($.meta.fields=G),B+=Z)}function I(){return j.header&&G.length===0}function N(K,z,Z,J){K={type:K,code:z,message:Z},J!==void 0&&(K.row=J),$.errors.push(K)}A(j.step)&&(O=j.step,j.step=function(K){$=K,I()?ie():(ie(),$.data.length!==0&&(D+=K.data.length,j.preview&&D>j.preview?C.abort():($.data=$.data[0],O($,V))))}),this.parse=function(K,z,Z){var J=j.quoteChar||'"',J=(j.newline||(j.newline=this.guessLineEndings(K,J)),T=!1,j.delimiter?A(j.delimiter)&&(j.delimiter=j.delimiter(K),$.meta.delimiter=j.delimiter):((J=((Y,me,le,ve,oe)=>{var Be,ke,Me,ae;oe=oe||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var At=0;At<oe.length;At++){for(var _e,ye=oe[At],be=0,ge=0,q=0,X=(Me=void 0,new v({comments:ve,delimiter:ye,newline:me,preview:10}).parse(Y)),re=0;re<X.data.length;re++)le&&ee(X.data[re])?q++:(_e=X.data[re].length,ge+=_e,Me===void 0?Me=_e:0<_e&&(be+=Math.abs(_e-Me),Me=_e));0<X.data.length&&(ge/=X.data.length-q),(ke===void 0||be<=ke)&&(ae===void 0||ae<ge)&&1.99<ge&&(ke=be,Be=ye,ae=ge)}return{successful:!!(j.delimiter=Be),bestDelimiter:Be}})(K,j.newline,j.skipEmptyLines,j.comments,j.delimitersToGuess)).successful?j.delimiter=J.bestDelimiter:(T=!0,j.delimiter=c.DefaultDelimiter),$.meta.delimiter=j.delimiter),_(j));return j.preview&&j.header&&J.preview++,k=K,C=new v(J),$=C.parse(k,z,Z),ie(),P?{meta:{paused:!0}}:$||{meta:{paused:!1}}},this.paused=function(){return P},this.pause=function(){P=!0,C.abort(),k=A(j.chunk)?"":k.substring(C.getCharIndex())},this.resume=function(){V.streamer._halted?(P=!1,V.streamer.parseChunk(k,!0)):setTimeout(V.resume,3)},this.aborted=function(){return W},this.abort=function(){W=!0,C.abort(),$.meta.aborted=!0,A(j.complete)&&j.complete($),k=""},this.guessLineEndings=function(Y,J){Y=Y.substring(0,1048576);var J=new RegExp(x(J)+"([^]*?)"+x(J),"gm"),Z=(Y=Y.replace(J,"")).split("\r"),J=Y.split(`
`),Y=1<J.length&&J[0].length<Z[0].length;if(Z.length===1||Y)return`
`;for(var me=0,le=0;le<Z.length;le++)Z[le][0]===`
`&&me++;return me>=Z.length/2?`\r
`:"\r"}}function x(j){return j.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(j){var k=(j=j||{}).delimiter,C=j.newline,T=j.comments,O=j.step,L=j.preview,R=j.fastMode,F=null,U=!1,V=j.quoteChar==null?'"':j.quoteChar,D=V;if(j.escapeChar!==void 0&&(D=j.escapeChar),(typeof k!="string"||-1<c.BAD_DELIMITERS.indexOf(k))&&(k=","),T===k)throw new Error("Comment character same as delimiter");T===!0?T="#":(typeof T!="string"||-1<c.BAD_DELIMITERS.indexOf(T))&&(T=!1),C!==`
`&&C!=="\r"&&C!==`\r
`&&(C=`
`);var B=0,P=!1;this.parse=function(W,G,$){if(typeof W!="string")throw new Error("Input must be a string");var ee=W.length,ie=k.length,I=C.length,N=T.length,K=A(O),z=[],Z=[],J=[],Y=B=0;if(!W)return be();if(R||R!==!1&&W.indexOf(V)===-1){for(var me=W.split(C),le=0;le<me.length;le++){if(J=me[le],B+=J.length,le!==me.length-1)B+=C.length;else if($)return be();if(!T||J.substring(0,N)!==T){if(K){if(z=[],ae(J.split(k)),ge(),P)return be()}else ae(J.split(k));if(L&&L<=le)return z=z.slice(0,L),be(!0)}}return be()}for(var ve=W.indexOf(k,B),oe=W.indexOf(C,B),Be=new RegExp(x(D)+x(V),"g"),ke=W.indexOf(V,B);;)if(W[B]===V)for(ke=B,B++;;){if((ke=W.indexOf(V,ke+1))===-1)return $||Z.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:z.length,index:B}),_e();if(ke===ee-1)return _e(W.substring(B,ke).replace(Be,V));if(V===D&&W[ke+1]===D)ke++;else if(V===D||ke===0||W[ke-1]!==D){ve!==-1&&ve<ke+1&&(ve=W.indexOf(k,ke+1));var Me=At((oe=oe!==-1&&oe<ke+1?W.indexOf(C,ke+1):oe)===-1?ve:Math.min(ve,oe));if(W.substr(ke+1+Me,ie)===k){J.push(W.substring(B,ke).replace(Be,V)),W[B=ke+1+Me+ie]!==V&&(ke=W.indexOf(V,B)),ve=W.indexOf(k,B),oe=W.indexOf(C,B);break}if(Me=At(oe),W.substring(ke+1+Me,ke+1+Me+I)===C){if(J.push(W.substring(B,ke).replace(Be,V)),ye(ke+1+Me+I),ve=W.indexOf(k,B),ke=W.indexOf(V,B),K&&(ge(),P))return be();if(L&&z.length>=L)return be(!0);break}Z.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:z.length,index:B}),ke++}}else if(T&&J.length===0&&W.substring(B,B+N)===T){if(oe===-1)return be();B=oe+I,oe=W.indexOf(C,B),ve=W.indexOf(k,B)}else if(ve!==-1&&(ve<oe||oe===-1))J.push(W.substring(B,ve)),B=ve+ie,ve=W.indexOf(k,B);else{if(oe===-1)break;if(J.push(W.substring(B,oe)),ye(oe+I),K&&(ge(),P))return be();if(L&&z.length>=L)return be(!0)}return _e();function ae(q){z.push(q),Y=B}function At(q){var X=0;return X=q!==-1&&(q=W.substring(ke+1,q))&&q.trim()===""?q.length:X}function _e(q){return $||(q===void 0&&(q=W.substring(B)),J.push(q),B=ee,ae(J),K&&ge()),be()}function ye(q){B=q,ae(J),J=[],oe=W.indexOf(C,B)}function be(q){if(j.header&&!G&&z.length&&!U){var X=z[0],re=Object.create(null),Oe=new Set(X);let ct=!1;for(let Kt=0;Kt<X.length;Kt++){let on=X[Kt];if(re[on=A(j.transformHeader)?j.transformHeader(on,Kt):on]){let Cn,Oa=re[on];for(;Cn=on+"_"+Oa,Oa++,Oe.has(Cn););Oe.add(Cn),X[Kt]=Cn,re[on]++,ct=!0,(F=F===null?{}:F)[Cn]=on}else re[on]=1,X[Kt]=on;Oe.add(on)}ct&&console.warn("Duplicate headers found and renamed."),U=!0}return{data:z,errors:Z,meta:{delimiter:k,linebreak:C,aborted:P,truncated:!!q,cursor:Y+(G||0),renamedHeaders:F}}}function ge(){O(be()),z=[],Z=[]}},this.abort=function(){P=!0},this.getCharIndex=function(){return B}}function b(j){var k=j.data,C=o[k.workerId],T=!1;if(k.error)C.userError(k.error,k.file);else if(k.results&&k.results.data){var O={abort:function(){T=!0,y(k.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:w,resume:w};if(A(C.userStep)){for(var L=0;L<k.results.data.length&&(C.userStep({data:k.results.data[L],errors:k.results.errors,meta:k.results.meta},O),!T);L++);delete k.results}else A(C.userChunk)&&(C.userChunk(k.results,O,k.file),delete k.results)}k.finished&&!T&&y(k.workerId,k.results)}function y(j,k){var C=o[j];A(C.userComplete)&&C.userComplete(k),C.terminate(),delete o[j]}function w(){throw new Error("Not implemented.")}function _(j){if(typeof j!="object"||j===null)return j;var k,C=Array.isArray(j)?[]:{};for(k in j)C[k]=_(j[k]);return C}function E(j,k){return function(){j.apply(k,arguments)}}function A(j){return typeof j=="function"}return c.parse=function(j,k){var C=(k=k||{}).dynamicTyping||!1;if(A(C)&&(k.dynamicTypingFunction=C,C={}),k.dynamicTyping=C,k.transform=!!A(k.transform)&&k.transform,!k.worker||!c.WORKERS_SUPPORTED)return C=null,c.NODE_STREAM_INPUT,typeof j=="string"?(j=(T=>T.charCodeAt(0)!==65279?T:T.slice(1))(j),C=new(k.download?f:p)(k)):j.readable===!0&&A(j.read)&&A(j.on)?C=new m(k):(r.File&&j instanceof File||j instanceof Object)&&(C=new h(k)),C.stream(j);(C=(()=>{var T;return!!c.WORKERS_SUPPORTED&&(T=(()=>{var O=r.URL||r.webkitURL||null,L=n.toString();return c.BLOB_URL||(c.BLOB_URL=O.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",L,")();"],{type:"text/javascript"})))})(),(T=new r.Worker(T)).onmessage=b,T.id=l++,o[T.id]=T)})()).userStep=k.step,C.userChunk=k.chunk,C.userComplete=k.complete,C.userError=k.error,k.step=A(k.step),k.chunk=A(k.chunk),k.complete=A(k.complete),k.error=A(k.error),delete k.worker,C.postMessage({input:j,config:k,workerId:C.id})},c.unparse=function(j,k){var C=!1,T=!0,O=",",L=`\r
`,R='"',F=R+R,U=!1,V=null,D=!1,B=((()=>{if(typeof k=="object"){if(typeof k.delimiter!="string"||c.BAD_DELIMITERS.filter(function(G){return k.delimiter.indexOf(G)!==-1}).length||(O=k.delimiter),typeof k.quotes!="boolean"&&typeof k.quotes!="function"&&!Array.isArray(k.quotes)||(C=k.quotes),typeof k.skipEmptyLines!="boolean"&&typeof k.skipEmptyLines!="string"||(U=k.skipEmptyLines),typeof k.newline=="string"&&(L=k.newline),typeof k.quoteChar=="string"&&(R=k.quoteChar),typeof k.header=="boolean"&&(T=k.header),Array.isArray(k.columns)){if(k.columns.length===0)throw new Error("Option columns is empty");V=k.columns}k.escapeChar!==void 0&&(F=k.escapeChar+R),k.escapeFormulae instanceof RegExp?D=k.escapeFormulae:typeof k.escapeFormulae=="boolean"&&k.escapeFormulae&&(D=/^[=+\-@\t\r].*$/)}})(),new RegExp(x(R),"g"));if(typeof j=="string"&&(j=JSON.parse(j)),Array.isArray(j)){if(!j.length||Array.isArray(j[0]))return P(null,j,U);if(typeof j[0]=="object")return P(V||Object.keys(j[0]),j,U)}else if(typeof j=="object")return typeof j.data=="string"&&(j.data=JSON.parse(j.data)),Array.isArray(j.data)&&(j.fields||(j.fields=j.meta&&j.meta.fields||V),j.fields||(j.fields=Array.isArray(j.data[0])?j.fields:typeof j.data[0]=="object"?Object.keys(j.data[0]):[]),Array.isArray(j.data[0])||typeof j.data[0]=="object"||(j.data=[j.data])),P(j.fields||[],j.data||[],U);throw new Error("Unable to serialize unrecognized input");function P(G,$,ee){var ie="",I=(typeof G=="string"&&(G=JSON.parse(G)),typeof $=="string"&&($=JSON.parse($)),Array.isArray(G)&&0<G.length),N=!Array.isArray($[0]);if(I&&T){for(var K=0;K<G.length;K++)0<K&&(ie+=O),ie+=W(G[K],K);0<$.length&&(ie+=L)}for(var z=0;z<$.length;z++){var Z=(I?G:$[z]).length,J=!1,Y=I?Object.keys($[z]).length===0:$[z].length===0;if(ee&&!I&&(J=ee==="greedy"?$[z].join("").trim()==="":$[z].length===1&&$[z][0].length===0),ee==="greedy"&&I){for(var me=[],le=0;le<Z;le++){var ve=N?G[le]:le;me.push($[z][ve])}J=me.join("").trim()===""}if(!J){for(var oe=0;oe<Z;oe++){0<oe&&!Y&&(ie+=O);var Be=I&&N?G[oe]:oe;ie+=W($[z][Be],oe)}z<$.length-1&&(!ee||0<Z&&!Y)&&(ie+=L)}}return ie}function W(G,$){var ee,ie;return G==null?"":G.constructor===Date?JSON.stringify(G).slice(1,25):(ie=!1,D&&typeof G=="string"&&D.test(G)&&(G="'"+G,ie=!0),ee=G.toString().replace(B,F),(ie=ie||C===!0||typeof C=="function"&&C(G,$)||Array.isArray(C)&&C[$]||((I,N)=>{for(var K=0;K<N.length;K++)if(-1<I.indexOf(N[K]))return!0;return!1})(ee,c.BAD_DELIMITERS)||-1<ee.indexOf(O)||ee.charAt(0)===" "||ee.charAt(ee.length-1)===" ")?R+ee+R:ee)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!a&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=v,c.ParserHandle=g,c.NetworkStreamer=f,c.FileStreamer=h,c.StringStreamer=p,c.ReadableStreamStreamer=m,r.jQuery&&((i=r.jQuery).fn.parse=function(j){var k=j.config||{},C=[];return this.each(function(L){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var R=0;R<this.files.length;R++)C.push({file:this.files[R],inputElem:this,instanceConfig:i.extend({},k)})}),T(),this;function T(){if(C.length===0)A(j.complete)&&j.complete();else{var L,R,F,U,V=C[0];if(A(j.before)){var D=j.before(V.file,V.inputElem);if(typeof D=="object"){if(D.action==="abort")return L="AbortError",R=V.file,F=V.inputElem,U=D.reason,void(A(j.error)&&j.error({name:L},R,F,U));if(D.action==="skip")return void O();typeof D.config=="object"&&(V.instanceConfig=i.extend(V.instanceConfig,D.config))}else if(D==="skip")return void O()}var B=V.instanceConfig.complete;V.instanceConfig.complete=function(P){A(B)&&B(P,V.file,V.inputElem),O()},c.parse(V.file,V.instanceConfig)}}function O(){C.splice(0,1),T()}}),s&&(r.onmessage=function(j){j=j.data,c.WORKER_ID===void 0&&j&&(c.WORKER_ID=j.workerId),typeof j.input=="string"?r.postMessage({workerId:c.WORKER_ID,results:c.parse(j.input,j.config),finished:!0}):(r.File&&j.input instanceof File||j.input instanceof Object)&&(j=c.parse(j.input,j.config))&&r.postMessage({workerId:c.WORKER_ID,results:j,finished:!0})}),(f.prototype=Object.create(d.prototype)).constructor=f,(h.prototype=Object.create(d.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(m.prototype=Object.create(d.prototype)).constructor=m,c})})(IV);var N1e=IV.exports;const P1e=at(N1e),$V=({campaignId:t,onUploadComplete:e})=>{const[n,r]=S.useState(null),[i,a]=S.useState(!1),[s,o]=S.useState([]),[l,c]=S.useState(!1),[d,f]=S.useState(t||""),[h,p]=S.useState([]),{toast:m}=Ht(),{user:g}=er();S.useEffect(()=>{t||x()},[t]);const x=async()=>{if(g)try{const{data:C,error:T}=await De.from("campaigns").select("id, name, status").eq("user_id",g.id).order("created_at",{ascending:!1});if(T)throw T;p(C||[]),C&&C.length>0&&!d&&f(C[0].id)}catch(C){console.error("Error loading campaigns:",C)}},v=C=>{var O;const T=(O=C.target.files)==null?void 0:O[0];T&&(r(T),E(T))},[b,y]=S.useState(!1),[w,_]=S.useState(""),E=async C=>{try{if(C.name.endsWith(".csv")){A(C);return}if(C.name.endsWith(".json")){j(C);return}y(!0),_("Extracting text from file...");const{extractTextFromFile:T}=await es(async()=>{const{extractTextFromFile:F}=await import("./fileParser-DEMjKIev.js");return{extractTextFromFile:F}},[]),{extractCandidatesFromText:O}=await es(async()=>{const{extractCandidatesFromText:F}=await import("./candidateExtractor-BZT3S0LB.js");return{extractCandidatesFromText:F}},[]),L=await T(C);if(!L||L.trim().length===0)throw new Error("Could not extract any text from the file.");_("AI analyzing candidate data...");const R=await O(L);if(R.length===0){m({title:"No candidates found",description:"AI could not identify any candidate information in this file.",variant:"destructive"}),y(!1);return}o(R),c(!0),m({title:"File analyzed successfully",description:`AI found ${R.length} potential candidates`})}catch(T){console.error("Error parsing file:",T),m({title:"Error parsing file",description:T.message||"Failed to process file with AI.",variant:"destructive"})}finally{y(!1),_("")}},A=C=>{P1e.parse(C,{header:!0,skipEmptyLines:!0,transformHeader:T=>T.toLowerCase().trim(),complete:T=>{const O=[];if(T.data.forEach(L=>{const R={name:L.name||L["student name"]||L["full name"]||L["candidate name"]||"",phone:L.phone||L.mobile||L.contact||L["phone number"]||L["mobile number"]||L.whatsapp||"",email:L.email||L["e-mail"]||L["email address"]||L["e-mail address"]||L.mail||void 0,city:L.city||L.location||L.address||void 0,course:L.course||L.program||L.interest||void 0};if(R.name&&R.phone){const F=R.phone.replace(/[^0-9]/g,"");F.length>=10&&(R.phone=F,O.push(R))}}),O.length===0){m({title:"No valid candidates found",description:"Check CSV headers (name, phone)",variant:"destructive"});return}o(O),c(!0),m({title:"CSV parsed successfully",description:`Found ${O.length} valid candidates`})},error:T=>{m({title:"Error parsing CSV",description:T.message,variant:"destructive"})}})},j=async C=>{try{const T=await C.text(),O=JSON.parse(T);if(Array.isArray(O)){const L=O.filter(R=>R.name&&R.phone).map(R=>({name:R.name,phone:R.phone,email:R.email,city:R.city,course:R.course}));o(L),c(!0),m({title:"JSON parsed successfully",description:`Found ${L.length} valid candidates`})}}catch{m({title:"invalid JSON",variant:"destructive"})}},k=async()=>{if(!(!g||!n)){a(!0),a(!0);try{const{api:C}=await es(async()=>{const{api:L}=await Promise.resolve().then(()=>PO);return{api:L}},void 0),T=t||d||void 0,O=await C.candidates.uploadBatch(g.id,s,T);if(O.success)m({title:"Candidates uploaded successfully",description:O.message}),e==null||e(s);else throw new Error(O.message||"Upload failed");o([]),r(null),c(!1)}catch(C){console.error("Error uploading candidates:",C),m({title:"Upload failed",description:C.message||"Failed to upload candidates. Please try again.",variant:"destructive"})}finally{a(!1)}}};return u.jsx(ne,{className:"p-6",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Upload Candidates"}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"Upload a CSV or JSON file with candidate information. Required fields: name, phone"})]}),!t&&h.length===0&&u.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:u.jsx("p",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:"Please create a campaign first before uploading candidates."})}),!t&&h.length>0&&u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"campaign-select",children:"Select Campaign"}),u.jsxs(Ka,{value:d,onValueChange:f,children:[u.jsx(sa,{id:"campaign-select",className:"mt-2",children:u.jsx(Ya,{placeholder:"Choose a campaign"})}),u.jsx(oa,{children:h.map(C=>u.jsx(Vt,{value:C.id,children:C.name},C.id))})]})]}),l?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center text-green-600",children:[u.jsx(da,{className:"w-5 h-5 mr-2"}),u.jsxs("span",{className:"font-medium",children:[s.length," candidates found"]})]}),u.jsx(se,{variant:"outline",size:"sm",onClick:()=>{c(!1),r(null),o([])},children:"Choose Different File"})]}),u.jsxs("div",{className:"max-h-40 overflow-y-auto border rounded-lg p-3",children:[u.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Preview:"}),s.slice(0,5).map((C,T)=>u.jsxs("div",{className:"text-sm py-1 border-b border-border/50 last:border-0",children:[u.jsx("span",{className:"font-medium",children:C.name})," - ",C.phone,C.email&&u.jsxs("span",{className:"text-muted-foreground",children:["  ",C.email]})]},T)),s.length>5&&u.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["And ",s.length-5," more..."]})]}),u.jsx(se,{onClick:k,disabled:i||!t&&!d||h.length===0,className:"w-full",variant:"hero",children:i?"Uploading...":`Upload ${s.length} Candidates`})]}):u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"file-upload",children:"Choose File"}),u.jsx("div",{className:"mt-2 flex items-center justify-center w-full",children:u.jsxs("label",{htmlFor:"file-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-border border-dashed rounded-lg cursor-pointer bg-card/50 hover:bg-card/80",children:[u.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[u.jsx(kT,{className:"w-8 h-8 mb-4 text-muted-foreground"}),u.jsxs("p",{className:"mb-2 text-sm text-muted-foreground",children:[u.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"CSV, JSON, PDF, DOCX, Images"}),b&&u.jsxs("div",{className:"mt-4 flex flex-col items-center",children:[u.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}),u.jsx("p",{className:"mt-2 text-xs text-primary font-medium animate-pulse",children:w})]})]}),u.jsx(zt,{id:"file-upload",type:"file",className:"hidden",accept:".csv,.json,.pdf,.docx,.png,.jpg,.jpeg,.webp,.txt",disabled:b,onChange:v})]})}),n&&u.jsxs("div",{className:"mt-2 flex items-center text-sm text-muted-foreground",children:[u.jsx(Ec,{className:"w-4 h-4 mr-2"}),n.name]})]})]})})},RV=({onCampaignCreated:t})=>{const[e,n]=S.useState({name:"",type:"",scheduledAt:""}),[r,i]=S.useState(""),[a,s]=S.useState(!1),[o,l]=S.useState(!1),{toast:c}=Ht(),{user:d}=er(),f=[{value:"whatsapp",label:"WhatsApp Only",icon:li,color:"bg-green-500"},{value:"voice",label:"Voice Only",icon:Ea,color:"bg-blue-500"},{value:"both",label:"Voice + WhatsApp",icon:ms,color:"bg-purple-500"},{value:"email",label:"Email Campaign",icon:ti,color:"bg-orange-500"}],h=(g,x)=>{n(v=>({...v,[g]:x}))},p=async()=>{if(!d||!e.name||!e.type){c({title:"Missing information",description:"Please fill in campaign name and type.",variant:"destructive"});return}if(!r.trim()){c({title:"Missing AI Instructions",description:"Please provide instructions for the AI content generator.",variant:"destructive"});return}l(!0);try{const{api:g}=await es(async()=>{const{api:v}=await Promise.resolve().then(()=>PO);return{api:v}},void 0);(await g.campaigns.create(d.id,e.name,r)).success&&(c({title:"Campaign Initiated!",description:"AI is ready to generate unique content for your candidates."}),n({name:"",type:"",scheduledAt:""}),i(""),t==null||t())}catch(g){console.error("Error creating campaign:",g),c({title:"Creation failed",description:"Failed to create campaign. Ensure backend is running.",variant:"destructive"})}finally{l(!1)}},m=f.find(g=>g.value===e.type);return u.jsx(ne,{className:"p-6",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Create Interactive Campaign"}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"Configure AI to generate unique, personalized content for every candidate at runtime."})]}),u.jsxs("div",{className:"grid gap-4",children:[u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"campaign-name",children:"Campaign Name"}),u.jsx(zt,{id:"campaign-name",placeholder:"e.g., Engineering Fall 2024 Outreach",value:e.name,onChange:g=>h("name",g.target.value),className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"campaign-type",children:"Campaign Type"}),u.jsxs(Ka,{value:e.type,onValueChange:g=>h("type",g),children:[u.jsx(sa,{className:"mt-1",children:u.jsx(Ya,{placeholder:"Select campaign type"})}),u.jsx(oa,{children:f.map(g=>{const x=g.icon;return u.jsx(Vt,{value:g.value,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`w-3 h-3 rounded-full ${g.color}`}),u.jsx(x,{className:"w-4 h-4"}),g.label]})},g.value)})})]})]})]}),m&&u.jsxs("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Jx,{className:"w-4 h-4 text-purple-500"}),u.jsx("h4",{className:"font-medium",children:"AI Personalization Engine"})]}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Instead of a single template, provide instructions. The AI will generate a",u.jsx("strong",{children:" unique message for every candidate"})," based on their city, course, and name."]}),u.jsxs("div",{className:"pt-2",children:[r?u.jsxs("div",{className:"bg-muted p-3 rounded-md text-sm italic mb-2 relative group",children:['"',r,'"',u.jsx(se,{variant:"ghost",size:"sm",className:"absolute top-1 right-1 h-6 text-xs opacity-0 group-hover:opacity-100",onClick:()=>s(!0),children:"Edit"})]}):u.jsx("div",{className:"p-3 border border-dashed rounded-md text-sm text-center text-muted-foreground mb-2",children:"No instructions set."}),u.jsxs(ii,{open:a,onOpenChange:s,children:[u.jsx(T_e,{asChild:!0,children:u.jsx(se,{variant:"outline",className:"w-full",children:r?"Edit Instructions":"Set AI Instructions"})}),u.jsxs(Rr,{className:"sm:max-w-[500px]",children:[u.jsxs(Mr,{children:[u.jsx(Dr,{children:"AI Instructions"}),u.jsx(fO,{children:"Tell the AI how to behave. It will use this prompt to write unique messages for each candidate."})]}),u.jsxs("div",{className:"py-4",children:[u.jsx(Ge,{htmlFor:"prompt",className:"mb-2 block",children:"Prompt"}),u.jsx(au,{id:"prompt",placeholder:"Example: Be friendly and professional. Ask them about their interest in [Course]. Mention something nice about [City]. Keep it under 150 characters.",className:"min-h-[150px]",value:r,onChange:g=>i(g.target.value)})]}),u.jsx(_H,{children:u.jsx(se,{onClick:()=>s(!1),children:"Save Instructions"})})]})]})]})]}),u.jsx(se,{onClick:p,disabled:o||!e.name||!e.type||!r,className:"w-full",variant:"hero",children:o?"Initializing AI...":"Create Campaign"})]})})};var bO="Avatar",[I1e,BWe]=Sa(bO),[$1e,MV]=I1e(bO),DV=S.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,a]=S.useState("idle");return u.jsx($1e,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:u.jsx(Pe.span,{...r,ref:e})})});DV.displayName=bO;var LV="AvatarImage",FV=S.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=t,s=MV(LV,n),o=R1e(r,a.referrerPolicy),l=qt(c=>{i(c),s.onImageLoadingStatusChange(c)});return An(()=>{o!=="idle"&&l(o)},[o,l]),o==="loaded"?u.jsx(Pe.img,{...a,ref:e,src:r}):null});FV.displayName=LV;var BV="AvatarFallback",zV=S.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,a=MV(BV,n),[s,o]=S.useState(r===void 0);return S.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(l)}},[r]),s&&a.imageLoadingStatus!=="loaded"?u.jsx(Pe.span,{...i,ref:e}):null});zV.displayName=BV;function R1e(t,e){const[n,r]=S.useState("idle");return An(()=>{if(!t){r("error");return}let i=!0;const a=new window.Image,s=o=>()=>{i&&r(o)};return r("loading"),a.onload=s("loaded"),a.onerror=s("error"),a.src=t,e&&(a.referrerPolicy=e),()=>{i=!1}},[t,e]),n}var UV=DV,HV=FV,VV=zV;const mv=S.forwardRef(({className:t,...e},n)=>u.jsx(UV,{ref:n,className:we("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));mv.displayName=UV.displayName;const M1e=S.forwardRef(({className:t,...e},n)=>u.jsx(HV,{ref:n,className:we("aspect-square h-full w-full",t),...e}));M1e.displayName=HV.displayName;const gv=S.forwardRef(({className:t,...e},n)=>u.jsx(VV,{ref:n,className:we("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));gv.displayName=VV.displayName;const D1e=({sessionId:t,onNewSession:e,campaigns:n,stats:r})=>{const[i,a]=S.useState([{id:"1",role:"assistant",content:"Hello! I'm your AI assistant for AdmitConnect. I can help you create campaign scripts, generate personalized messages, analyze candidate data, and provide strategic advice for your outreach campaigns. How can I assist you today?",timestamp:new Date}]),[s,o]=S.useState(""),[l,c]=S.useState(!1),[d,f]=S.useState(t),h=S.useRef(null),{toast:p}=Ht(),{user:m}=er(),g=S.useRef(new K8("dashboard"));S.useEffect(()=>{d&&v()},[d]),S.useEffect(()=>{x()},[i]);const x=()=>{if(h.current){const A=h.current.querySelector("[data-radix-scroll-area-viewport]");A&&(A.scrollTop=A.scrollHeight)}},v=async()=>{if(!(!d||!m))try{const{data:A,error:j}=await De.from("ai_chat_messages").select("*").eq("session_id",d).order("created_at");if(j)throw j;if(A&&A.length>0){const k=A.map(C=>({id:C.id,role:C.role,content:C.content,timestamp:new Date(C.created_at)}));a(k)}}catch(A){console.error("Error loading messages:",A)}},b=async()=>{if(!m)return null;try{const{data:A,error:j}=await De.from("ai_chat_sessions").insert([{user_id:m.id,title:"New Chat"}]).select().single();if(j)throw j;return A.id}catch(A){return console.error("Error creating session:",A),null}},y=async(A,j,k)=>{try{await De.from("ai_chat_messages").insert([{session_id:A,role:j,content:k}])}catch(C){console.error("Error saving message:",C)}},w=async A=>{try{const j=i.map(T=>({role:T.role,content:T.content})),k={campaigns:n,stats:r};return(await g.current.generateResponse(A,j,k)).content}catch(j){throw console.error("Error calling AI chat:",j),new Error("Failed to get AI response")}},_=async()=>{if(!s.trim()||l||!m)return;const A=s.trim();o(""),c(!0);let j=d;if(!j){if(j=await b(),!j){p({title:"Error",description:"Failed to create chat session",variant:"destructive"}),c(!1);return}f(j),e==null||e(j)}const C={id:`user-${Date.now()}`,role:"user",content:A,timestamp:new Date};a(T=>[...T,C]),await y(j,"user",A);try{const T=await w(A),L={id:`ai-${Date.now()}`,role:"assistant",content:T,timestamp:new Date};a(R=>[...R,L]),await y(j,"assistant",T)}catch(T){console.error("Error generating AI response:",T),p({title:"Error",description:"Failed to generate response. Please try again.",variant:"destructive"})}finally{c(!1)}},E=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),_())};return u.jsxs(ne,{className:"flex flex-col h-[500px]",children:[u.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-border",children:[u.jsx("div",{className:"w-8 h-8 bg-ai-gradient rounded-full flex items-center justify-center",children:u.jsx(Jx,{className:"w-4 h-4 text-white"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold",children:"AI Assistant"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Campaign Strategy & Script Generation"})]})]}),u.jsx(aO,{className:"flex-1 p-4",ref:h,children:u.jsxs("div",{className:"space-y-4",children:[i.map(A=>u.jsxs("div",{className:`flex gap-3 ${A.role==="user"?"justify-end":"justify-start"}`,children:[A.role==="assistant"&&u.jsx(mv,{className:"w-8 h-8",children:u.jsx(gv,{className:"bg-ai-gradient text-white",children:u.jsx(ua,{className:"w-4 h-4"})})}),u.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${A.role==="user"?"bg-primary text-primary-foreground ml-auto":"bg-muted"}`,children:[u.jsx("div",{className:"text-sm prose prose-sm dark:prose-invert max-w-none break-words",children:u.jsx(N9,{children:A.content})}),u.jsx("p",{className:"text-xs opacity-70 mt-1",children:A.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),A.role==="user"&&u.jsx(mv,{className:"w-8 h-8",children:u.jsx(gv,{children:u.jsx(Kp,{className:"w-4 h-4"})})})]},A.id)),l&&u.jsxs("div",{className:"flex gap-3 justify-start",children:[u.jsx(mv,{className:"w-8 h-8",children:u.jsx(gv,{className:"bg-ai-gradient text-white",children:u.jsx(ua,{className:"w-4 h-4"})})}),u.jsx("div",{className:"bg-muted rounded-lg p-3",children:u.jsxs("div",{className:"flex space-x-1",children:[u.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce"}),u.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),u.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})]})}),u.jsx("div",{className:"p-4 border-t border-border",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(zt,{value:s,onChange:A=>o(A.target.value),placeholder:"Ask me anything about your campaigns...",onKeyPress:E,disabled:l}),u.jsx(se,{onClick:_,disabled:!s.trim()||l,size:"icon",variant:"hero",children:u.jsx(ET,{className:"w-4 h-4"})})]})})]})};var wO="Switch",[L1e,zWe]=Sa(wO),[F1e,B1e]=L1e(wO),WV=S.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:s,disabled:o,value:l="on",onCheckedChange:c,form:d,...f}=t,[h,p]=S.useState(null),m=rt(e,y=>p(y)),g=S.useRef(!1),x=h?d||!!h.closest("form"):!0,[v=!1,b]=ls({prop:i,defaultProp:a,onChange:c});return u.jsxs(F1e,{scope:n,checked:v,disabled:o,children:[u.jsx(Pe.button,{type:"button",role:"switch","aria-checked":v,"aria-required":s,"data-state":KV(v),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:m,onClick:pe(t.onClick,y=>{b(w=>!w),x&&(g.current=y.isPropagationStopped(),g.current||y.stopPropagation())})}),x&&u.jsx(z1e,{control:h,bubbles:!g.current,name:r,value:l,checked:v,required:s,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});WV.displayName=wO;var qV="SwitchThumb",GV=S.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=B1e(qV,n);return u.jsx(Pe.span,{"data-state":KV(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});GV.displayName=qV;var z1e=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,a=S.useRef(null),s=mO(n),o=RT(e);return S.useEffect(()=>{const l=a.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(s!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[s,n,r]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function KV(t){return t?"checked":"unchecked"}var YV=WV,U1e=GV;const Qr=S.forwardRef(({className:t,...e},n)=>u.jsx(YV,{className:we("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:u.jsx(U1e,{className:we("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Qr.displayName=YV.displayName;const _O=({open:t,onOpenChange:e})=>{const{user:n}=er(),{toast:r}=Ht(),[i,a]=S.useState(!1),[s,o]=S.useState({full_name:"",email:"",college_name:"",college_address:"",college_website:"",notifications_enabled:!0,email_alerts:!0,sms_alerts:!1});S.useEffect(()=>{n&&t&&l()},[n,t]);const l=async()=>{try{const{data:f,error:h}=await De.from("profiles").select("*").eq("user_id",n==null?void 0:n.id).single();if(h&&h.code!=="PGRST116")throw h;o(f?{full_name:f.full_name||"",email:f.email||(n==null?void 0:n.email)||"",college_name:f.college_name||"",college_address:f.college_address||"",college_website:f.college_website||"",notifications_enabled:f.notifications_enabled!==!1,email_alerts:f.email_alerts!==!1,sms_alerts:f.sms_alerts===!0}:p=>{var m;return{...p,email:(n==null?void 0:n.email)||"",full_name:((m=n==null?void 0:n.user_metadata)==null?void 0:m.full_name)||""}})}catch(f){console.error("Error loading profile:",f),r({title:"Error loading profile",description:"Please try again",variant:"destructive"})}},c=(f,h)=>{o(p=>({...p,[f]:h}))},d=async()=>{if(n){a(!0);try{const{error:f}=await De.from("profiles").upsert([{user_id:n.id,full_name:s.full_name,email:s.email,college_name:s.college_name,college_address:s.college_address,college_website:s.college_website,notifications_enabled:s.notifications_enabled,email_alerts:s.email_alerts,sms_alerts:s.sms_alerts}],{onConflict:"user_id"});if(f)throw f;r({title:"Profile updated",description:"Your settings have been saved successfully"})}catch(f){console.error("Error saving profile:",f),r({title:"Save failed",description:"Failed to save settings. Please try again.",variant:"destructive"})}finally{a(!1)}}};return u.jsx(ii,{open:t,onOpenChange:e,children:u.jsxs(Rr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[u.jsx(Mr,{children:u.jsx(Dr,{children:"Settings"})}),u.jsxs(su,{defaultValue:"profile",className:"w-full",children:[u.jsxs(Bl,{className:"grid w-full grid-cols-3",children:[u.jsx(mt,{value:"profile",children:"Profile"}),u.jsx(mt,{value:"college",children:"College"}),u.jsx(mt,{value:"notifications",children:"Notifications"})]}),u.jsx(gt,{value:"profile",className:"space-y-4",children:u.jsxs(ne,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Kp,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"font-semibold",children:"Personal Information"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"full_name",children:"Full Name"}),u.jsx(zt,{id:"full_name",value:s.full_name,onChange:f=>c("full_name",f.target.value),placeholder:"Enter your full name"})]}),u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"email",children:"Email Address"}),u.jsx(zt,{id:"email",type:"email",value:s.email,onChange:f=>c("email",f.target.value),placeholder:"Enter your email"})]})]})]})}),u.jsx(gt,{value:"college",className:"space-y-4",children:u.jsxs(ne,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Pee,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"font-semibold",children:"College Information"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"college_name",children:"College/University Name"}),u.jsx(zt,{id:"college_name",value:s.college_name,onChange:f=>c("college_name",f.target.value),placeholder:"Enter your institution name"})]}),u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"college_address",children:"Address"}),u.jsx(au,{id:"college_address",value:s.college_address,onChange:f=>c("college_address",f.target.value),placeholder:"Enter your institution address",rows:3})]}),u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"college_website",children:"Website"}),u.jsx(zt,{id:"college_website",type:"url",value:s.college_website,onChange:f=>c("college_website",f.target.value),placeholder:"https://your-college.edu"})]})]})]})}),u.jsx(gt,{value:"notifications",className:"space-y-4",children:u.jsxs(ne,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(hE,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"font-semibold",children:"Notification Preferences"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"notifications_enabled",className:"text-base font-normal",children:"Enable Notifications"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications about your campaigns"})]}),u.jsx(Qr,{id:"notifications_enabled",checked:s.notifications_enabled,onCheckedChange:f=>c("notifications_enabled",f)})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"email_alerts",className:"text-base font-normal",children:"Email Alerts"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Get campaign updates via email"})]}),u.jsx(Qr,{id:"email_alerts",checked:s.email_alerts,onCheckedChange:f=>c("email_alerts",f),disabled:!s.notifications_enabled})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(Ge,{htmlFor:"sms_alerts",className:"text-base font-normal",children:"SMS Alerts"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Get important updates via SMS"})]}),u.jsx(Qr,{id:"sms_alerts",checked:s.sms_alerts,onCheckedChange:f=>c("sms_alerts",f),disabled:!s.notifications_enabled})]})]})]})})]}),u.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[u.jsx(se,{variant:"outline",onClick:()=>e(!1),children:"Cancel"}),u.jsxs(se,{onClick:d,disabled:i,variant:"hero",children:[u.jsx(Wee,{className:"w-4 h-4 mr-2"}),i?"Saving...":"Save Changes"]})]})]})})},H1e=eg("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function vn({className:t,variant:e,...n}){return u.jsx("div",{className:we(H1e({variant:e}),t),...n})}var Dj=["Enter"," "],V1e=["ArrowDown","PageUp","Home"],XV=["ArrowUp","PageDown","End"],W1e=[...V1e,...XV],q1e={ltr:[...Dj,"ArrowRight"],rtl:[...Dj,"ArrowLeft"]},G1e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Sg="Menu",[lm,K1e,Y1e]=Yx(Sg),[ou,ZV]=Sa(Sg,[Y1e,$f,Xb]),Zb=$f(),JV=Xb(),[X1e,lu]=ou(Sg),[Z1e,Eg]=ou(Sg),QV=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:a,modal:s=!0}=t,o=Zb(e),[l,c]=S.useState(null),d=S.useRef(!1),f=qt(a),h=wg(i);return S.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),u.jsx(LT,{...o,children:u.jsx(X1e,{scope:e,open:n,onOpenChange:f,content:l,onContentChange:c,children:u.jsx(Z1e,{scope:e,onClose:S.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:s,children:r})})})};QV.displayName=Sg;var J1e="MenuAnchor",SO=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Zb(n);return u.jsx(FT,{...i,...r,ref:e})});SO.displayName=J1e;var EO="MenuPortal",[Q1e,e7]=ou(EO,{forceMount:void 0}),t7=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,a=lu(EO,e);return u.jsx(Q1e,{scope:e,forceMount:n,children:u.jsx(Qn,{present:n||a.open,children:u.jsx(Jm,{asChild:!0,container:i,children:r})})})};t7.displayName=EO;var Oi="MenuContent",[eSe,jO]=ou(Oi),n7=S.forwardRef((t,e)=>{const n=e7(Oi,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=lu(Oi,t.__scopeMenu),s=Eg(Oi,t.__scopeMenu);return u.jsx(lm.Provider,{scope:t.__scopeMenu,children:u.jsx(Qn,{present:r||a.open,children:u.jsx(lm.Slot,{scope:t.__scopeMenu,children:s.modal?u.jsx(tSe,{...i,ref:e}):u.jsx(nSe,{...i,ref:e})})})})}),tSe=S.forwardRef((t,e)=>{const n=lu(Oi,t.__scopeMenu),r=S.useRef(null),i=rt(e,r);return S.useEffect(()=>{const a=r.current;if(a)return oO(a)},[]),u.jsx(AO,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:pe(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),nSe=S.forwardRef((t,e)=>{const n=lu(Oi,t.__scopeMenu);return u.jsx(AO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),AO=S.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:m,...g}=t,x=lu(Oi,n),v=Eg(Oi,n),b=Zb(n),y=JV(n),w=K1e(n),[_,E]=S.useState(null),A=S.useRef(null),j=rt(e,A,x.onContentChange),k=S.useRef(0),C=S.useRef(""),T=S.useRef(0),O=S.useRef(null),L=S.useRef("right"),R=S.useRef(0),F=m?Vb:S.Fragment,U=m?{as:fl,allowPinchZoom:!0}:void 0,V=B=>{var N,K;const P=C.current+B,W=w().filter(z=>!z.disabled),G=document.activeElement,$=(N=W.find(z=>z.ref.current===G))==null?void 0:N.textValue,ee=W.map(z=>z.textValue),ie=pSe(ee,P,$),I=(K=W.find(z=>z.textValue===ie))==null?void 0:K.ref.current;(function z(Z){C.current=Z,window.clearTimeout(k.current),Z!==""&&(k.current=window.setTimeout(()=>z(""),1e3))})(P),I&&setTimeout(()=>I.focus())};S.useEffect(()=>()=>window.clearTimeout(k.current),[]),sO();const D=S.useCallback(B=>{var W,G;return L.current===((W=O.current)==null?void 0:W.side)&&gSe(B,(G=O.current)==null?void 0:G.area)},[]);return u.jsx(eSe,{scope:n,searchRef:C,onItemEnter:S.useCallback(B=>{D(B)&&B.preventDefault()},[D]),onItemLeave:S.useCallback(B=>{var P;D(B)||((P=A.current)==null||P.focus(),E(null))},[D]),onTriggerLeave:S.useCallback(B=>{D(B)&&B.preventDefault()},[D]),pointerGraceTimerRef:T,onPointerGraceIntentChange:S.useCallback(B=>{O.current=B},[]),children:u.jsx(F,{...U,children:u.jsx(Ub,{asChild:!0,trapped:i,onMountAutoFocus:pe(a,B=>{var P;B.preventDefault(),(P=A.current)==null||P.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:u.jsx(Of,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:u.jsx(vV,{asChild:!0,...y,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:_,onCurrentTabStopIdChange:E,onEntryFocus:pe(l,B=>{v.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(BT,{role:"menu","aria-orientation":"vertical","data-state":v7(x.open),"data-radix-menu-content":"",dir:v.dir,...b,...g,ref:j,style:{outline:"none",...g.style},onKeyDown:pe(g.onKeyDown,B=>{const W=B.target.closest("[data-radix-menu-content]")===B.currentTarget,G=B.ctrlKey||B.altKey||B.metaKey,$=B.key.length===1;W&&(B.key==="Tab"&&B.preventDefault(),!G&&$&&V(B.key));const ee=A.current;if(B.target!==ee||!W1e.includes(B.key))return;B.preventDefault();const I=w().filter(N=>!N.disabled).map(N=>N.ref.current);XV.includes(B.key)&&I.reverse(),fSe(I)}),onBlur:pe(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(k.current),C.current="")}),onPointerMove:pe(t.onPointerMove,cm(B=>{const P=B.target,W=R.current!==B.clientX;if(B.currentTarget.contains(P)&&W){const G=B.clientX>R.current?"right":"left";L.current=G,R.current=B.clientX}}))})})})})})})});n7.displayName=Oi;var rSe="MenuGroup",kO=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Pe.div,{role:"group",...r,ref:e})});kO.displayName=rSe;var iSe="MenuLabel",r7=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Pe.div,{...r,ref:e})});r7.displayName=iSe;var S0="MenuItem",iM="menu.itemSelect",Jb=S.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,a=S.useRef(null),s=Eg(S0,t.__scopeMenu),o=jO(S0,t.__scopeMenu),l=rt(e,a),c=S.useRef(!1),d=()=>{const f=a.current;if(!n&&f){const h=new CustomEvent(iM,{bubbles:!0,cancelable:!0});f.addEventListener(iM,p=>r==null?void 0:r(p),{once:!0}),vT(f,h),h.defaultPrevented?c.current=!1:s.onClose()}};return u.jsx(i7,{...i,ref:l,disabled:n,onClick:pe(t.onClick,d),onPointerDown:f=>{var h;(h=t.onPointerDown)==null||h.call(t,f),c.current=!0},onPointerUp:pe(t.onPointerUp,f=>{var h;c.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:pe(t.onKeyDown,f=>{const h=o.searchRef.current!=="";n||h&&f.key===" "||Dj.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Jb.displayName=S0;var i7=S.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=t,s=jO(S0,n),o=JV(n),l=S.useRef(null),c=rt(e,l),[d,f]=S.useState(!1),[h,p]=S.useState("");return S.useEffect(()=>{const m=l.current;m&&p((m.textContent??"").trim())},[a.children]),u.jsx(lm.ItemSlot,{scope:n,disabled:r,textValue:i??h,children:u.jsx(xV,{asChild:!0,...o,focusable:!r,children:u.jsx(Pe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:c,onPointerMove:pe(t.onPointerMove,cm(m=>{r?s.onItemLeave(m):(s.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:pe(t.onPointerLeave,cm(m=>s.onItemLeave(m))),onFocus:pe(t.onFocus,()=>f(!0)),onBlur:pe(t.onBlur,()=>f(!1))})})})}),aSe="MenuCheckboxItem",a7=S.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return u.jsx(u7,{scope:t.__scopeMenu,checked:n,children:u.jsx(Jb,{role:"menuitemcheckbox","aria-checked":E0(n)?"mixed":n,...i,ref:e,"data-state":CO(n),onSelect:pe(i.onSelect,()=>r==null?void 0:r(E0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});a7.displayName=aSe;var s7="MenuRadioGroup",[sSe,oSe]=ou(s7,{value:void 0,onValueChange:()=>{}}),o7=S.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,a=qt(r);return u.jsx(sSe,{scope:t.__scopeMenu,value:n,onValueChange:a,children:u.jsx(kO,{...i,ref:e})})});o7.displayName=s7;var l7="MenuRadioItem",c7=S.forwardRef((t,e)=>{const{value:n,...r}=t,i=oSe(l7,t.__scopeMenu),a=n===i.value;return u.jsx(u7,{scope:t.__scopeMenu,checked:a,children:u.jsx(Jb,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":CO(a),onSelect:pe(r.onSelect,()=>{var s;return(s=i.onValueChange)==null?void 0:s.call(i,n)},{checkForDefaultPrevented:!1})})})});c7.displayName=l7;var TO="MenuItemIndicator",[u7,lSe]=ou(TO,{checked:!1}),d7=S.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,a=lSe(TO,n);return u.jsx(Qn,{present:r||E0(a.checked)||a.checked===!0,children:u.jsx(Pe.span,{...i,ref:e,"data-state":CO(a.checked)})})});d7.displayName=TO;var cSe="MenuSeparator",f7=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Pe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});f7.displayName=cSe;var uSe="MenuArrow",h7=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Zb(n);return u.jsx(zT,{...i,...r,ref:e})});h7.displayName=uSe;var dSe="MenuSub",[UWe,p7]=ou(dSe),Vh="MenuSubTrigger",m7=S.forwardRef((t,e)=>{const n=lu(Vh,t.__scopeMenu),r=Eg(Vh,t.__scopeMenu),i=p7(Vh,t.__scopeMenu),a=jO(Vh,t.__scopeMenu),s=S.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=a,c={__scopeMenu:t.__scopeMenu},d=S.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return S.useEffect(()=>d,[d]),S.useEffect(()=>{const f=o.current;return()=>{window.clearTimeout(f),l(null)}},[o,l]),u.jsx(SO,{asChild:!0,...c,children:u.jsx(i7,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":v7(n.open),...t,ref:Kx(e,i.onTriggerChange),onClick:f=>{var h;(h=t.onClick)==null||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:pe(t.onPointerMove,cm(f=>{a.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!s.current&&(a.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:pe(t.onPointerLeave,cm(f=>{var p,m;d();const h=(p=n.content)==null?void 0:p.getBoundingClientRect();if(h){const g=(m=n.content)==null?void 0:m.dataset.side,x=g==="right",v=x?-5:5,b=h[x?"left":"right"],y=h[x?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x:b,y:h.top},{x:y,y:h.top},{x:y,y:h.bottom},{x:b,y:h.bottom}],side:g}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:pe(t.onKeyDown,f=>{var p;const h=a.searchRef.current!=="";t.disabled||h&&f.key===" "||q1e[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});m7.displayName=Vh;var g7="MenuSubContent",y7=S.forwardRef((t,e)=>{const n=e7(Oi,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=lu(Oi,t.__scopeMenu),s=Eg(Oi,t.__scopeMenu),o=p7(g7,t.__scopeMenu),l=S.useRef(null),c=rt(e,l);return u.jsx(lm.Provider,{scope:t.__scopeMenu,children:u.jsx(Qn,{present:r||a.open,children:u.jsx(lm.Slot,{scope:t.__scopeMenu,children:u.jsx(AO,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:c,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;s.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:pe(t.onFocusOutside,d=>{d.target!==o.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:pe(t.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:pe(t.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=G1e[s.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(p=o.trigger)==null||p.focus(),d.preventDefault())})})})})})});y7.displayName=g7;function v7(t){return t?"open":"closed"}function E0(t){return t==="indeterminate"}function CO(t){return E0(t)?"indeterminate":t?"checked":"unchecked"}function fSe(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function hSe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function pSe(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let s=hSe(t,Math.max(a,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function mSe(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const o=e[a].x,l=e[a].y,c=e[s].x,d=e[s].y;l>r!=d>r&&n<(c-o)*(r-l)/(d-l)+o&&(i=!i)}return i}function gSe(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return mSe(n,e)}function cm(t){return e=>e.pointerType==="mouse"?t(e):void 0}var ySe=QV,vSe=SO,xSe=t7,bSe=n7,wSe=kO,_Se=r7,SSe=Jb,ESe=a7,jSe=o7,ASe=c7,kSe=d7,TSe=f7,CSe=h7,OSe=m7,NSe=y7,OO="DropdownMenu",[PSe,HWe]=Sa(OO,[ZV]),gr=ZV(),[ISe,x7]=PSe(OO),b7=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:s,modal:o=!0}=t,l=gr(e),c=S.useRef(null),[d=!1,f]=ls({prop:i,defaultProp:a,onChange:s});return u.jsx(ISe,{scope:e,triggerId:fa(),triggerRef:c,contentId:fa(),open:d,onOpenChange:f,onOpenToggle:S.useCallback(()=>f(h=>!h),[f]),modal:o,children:u.jsx(ySe,{...l,open:d,onOpenChange:f,dir:r,modal:o,children:n})})};b7.displayName=OO;var w7="DropdownMenuTrigger",_7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,a=x7(w7,n),s=gr(n);return u.jsx(vSe,{asChild:!0,...s,children:u.jsx(Pe.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Kx(e,a.triggerRef),onPointerDown:pe(t.onPointerDown,o=>{!r&&o.button===0&&o.ctrlKey===!1&&(a.onOpenToggle(),a.open||o.preventDefault())}),onKeyDown:pe(t.onKeyDown,o=>{r||(["Enter"," "].includes(o.key)&&a.onOpenToggle(),o.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});_7.displayName=w7;var $Se="DropdownMenuPortal",S7=t=>{const{__scopeDropdownMenu:e,...n}=t,r=gr(e);return u.jsx(xSe,{...r,...n})};S7.displayName=$Se;var E7="DropdownMenuContent",j7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=x7(E7,n),a=gr(n),s=S.useRef(!1);return u.jsx(bSe,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:pe(t.onCloseAutoFocus,o=>{var l;s.current||(l=i.triggerRef.current)==null||l.focus(),s.current=!1,o.preventDefault()}),onInteractOutside:pe(t.onInteractOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!i.modal||d)&&(s.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});j7.displayName=E7;var RSe="DropdownMenuGroup",MSe=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return u.jsx(wSe,{...i,...r,ref:e})});MSe.displayName=RSe;var DSe="DropdownMenuLabel",A7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return u.jsx(_Se,{...i,...r,ref:e})});A7.displayName=DSe;var LSe="DropdownMenuItem",k7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return u.jsx(SSe,{...i,...r,ref:e})});k7.displayName=LSe;var FSe="DropdownMenuCheckboxItem",T7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return u.jsx(ESe,{...i,...r,ref:e})});T7.displayName=FSe;var BSe="DropdownMenuRadioGroup",zSe=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return u.jsx(jSe,{...i,...r,ref:e})});zSe.displayName=BSe;var USe="DropdownMenuRadioItem",C7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return u.jsx(ASe,{...i,...r,ref:e})});C7.displayName=USe;var HSe="DropdownMenuItemIndicator",O7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return u.jsx(kSe,{...i,...r,ref:e})});O7.displayName=HSe;var VSe="DropdownMenuSeparator",N7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return u.jsx(TSe,{...i,...r,ref:e})});N7.displayName=VSe;var WSe="DropdownMenuArrow",qSe=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return u.jsx(CSe,{...i,...r,ref:e})});qSe.displayName=WSe;var GSe="DropdownMenuSubTrigger",P7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return u.jsx(OSe,{...i,...r,ref:e})});P7.displayName=GSe;var KSe="DropdownMenuSubContent",I7=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return u.jsx(NSe,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});I7.displayName=KSe;var YSe=b7,XSe=_7,ZSe=S7,$7=j7,R7=A7,M7=k7,D7=T7,L7=C7,F7=O7,B7=N7,z7=P7,U7=I7;const JSe=YSe,QSe=XSe,eEe=S.forwardRef(({className:t,inset:e,children:n,...r},i)=>u.jsxs(z7,{ref:i,className:we("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,u.jsx(Iee,{className:"ml-auto h-4 w-4"})]}));eEe.displayName=z7.displayName;const tEe=S.forwardRef(({className:t,...e},n)=>u.jsx(U7,{ref:n,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));tEe.displayName=U7.displayName;const H7=S.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(ZSe,{children:u.jsx($7,{ref:r,sideOffset:e,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));H7.displayName=$7.displayName;const yv=S.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(M7,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));yv.displayName=M7.displayName;const nEe=S.forwardRef(({className:t,children:e,checked:n,...r},i)=>u.jsxs(D7,{ref:i,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(F7,{children:u.jsx(tg,{className:"h-4 w-4"})})}),e]}));nEe.displayName=D7.displayName;const rEe=S.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(L7,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(F7,{children:u.jsx(Ree,{className:"h-2 w-2 fill-current"})})}),e]}));rEe.displayName=L7.displayName;const iEe=S.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(R7,{ref:r,className:we("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));iEe.displayName=R7.displayName;const aEe=S.forwardRef(({className:t,...e},n)=>u.jsx(B7,{ref:n,className:we("-mx-1 my-1 h-px bg-muted",t),...e}));aEe.displayName=B7.displayName;const Eo="http://localhost:8000/api",NO={campaigns:{create:async(t,e,n)=>{const r=await fetch(`${Eo}/campaigns/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t,name:e,goal:n})});if(!r.ok)throw new Error("Failed to create campaign via AI Agent");return r.json()},execute:async t=>{const e=await fetch(`${Eo}/campaigns/execute`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({campaign_id:t})});if(!e.ok)throw new Error("Failed to execute campaign");return e.json()},delete:async t=>{const e=await fetch(`${Eo}/campaigns/${t}`,{method:"DELETE"});if(!e.ok)throw new Error("Failed to delete campaign context");return e.json()}},candidates:{upload:async t=>{const e=await fetch(`${Eo}/candidates/upload`,{method:"POST",body:t});if(!e.ok){const n=await e.json();throw new Error(n.message||"Failed to upload candidates")}return e.json()},uploadBatch:async(t,e,n)=>{const r={user_id:t,candidates:e,campaign_id:n},i=await fetch(`${Eo}/candidates/batch`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!i.ok){const a=await i.json();throw new Error(a.detail||"Failed to batch upload candidates")}return i.json()}},analytics:{get:async t=>{const e=t?`${Eo}/analytics?campaign_id=${t}`:`${Eo}/analytics`,n=await fetch(e);if(!n.ok)throw new Error("Failed to fetch analytics");return n.json()}},contact:{submit:async(t,e,n)=>{const r=await fetch(`${Eo}/contact`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:e,message:n})});if(!r.ok){const i=await r.json();throw new Error(i.error||"Failed to send message")}return r.json()}}},PO=Object.freeze(Object.defineProperty({__proto__:null,api:NO},Symbol.toStringTag,{value:"Module"})),Lj=({campaign:t,onUpdate:e})=>{const[n,r]=S.useState(!1),{toast:i}=Ht(),a=f=>{switch(f){case"active":return"bg-green-500/10 text-green-500 border-green-500/20";case"paused":return"bg-yellow-500/10 text-yellow-500 border-yellow-500/20";case"completed":return"bg-blue-500/10 text-blue-500 border-blue-500/20";default:return"bg-gray-500/10 text-gray-500 border-gray-500/20"}},s=f=>{switch(f){case"whatsapp":return u.jsx(li,{className:"w-4 h-4"});case"voice":return u.jsx(Ea,{className:"w-4 h-4"});default:return u.jsx(ms,{className:"w-4 h-4"})}},o=async()=>{r(!0);try{const f=t.status==="active"?"paused":"active",{error:h}=await De.from("campaigns").update({status:f}).eq("id",t.id);if(h)throw h;i({title:`Campaign ${f}`,description:`Campaign has been ${f}.`}),e()}catch(f){console.error("Error updating campaign status:",f),i({title:"Update failed",description:"Failed to update campaign status.",variant:"destructive"})}finally{r(!1)}},l=async()=>{r(!0);try{console.log("Deleting campaign:",t.id),await NO.campaigns.delete(t.id),i({title:"Campaign deleted",description:"Campaign has been permanently deleted."}),e()}catch(f){console.error("Error deleting campaign:",f),i({title:"Delete failed",description:"Failed to delete campaign. Check console for details.",variant:"destructive"})}finally{r(!1)}},c=f=>new Date(f).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),d=t.candidates_count>0?Math.round(t.responses_received/t.candidates_count*100):0;return u.jsx(ne,{className:"p-6 hover-lift",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[s(t.type),u.jsx("h3",{className:"font-semibold text-lg",children:t.name})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(vn,{className:`border ${a(t.status)}`,children:t.status}),u.jsx(vn,{variant:"outline",children:t.type.charAt(0).toUpperCase()+t.type.slice(1)})]})]}),u.jsxs(JSe,{children:[u.jsx(QSe,{asChild:!0,children:u.jsx(se,{variant:"ghost",size:"sm",children:u.jsx(Dee,{className:"w-4 h-4"})})}),u.jsxs(H7,{align:"end",children:[u.jsx(yv,{onClick:o,disabled:n,children:t.status==="active"?u.jsxs(u.Fragment,{children:[u.jsx(CB,{className:"w-4 h-4 mr-2"}),"Pause Campaign"]}):u.jsxs(u.Fragment,{children:[u.jsx(Fs,{className:"w-4 h-4 mr-2"}),"Start Campaign"]})}),u.jsxs(yv,{disabled:!0,children:[u.jsx(Kee,{className:"w-4 h-4 mr-2"}),"Edit Campaign"]}),u.jsxs(yv,{onClick:l,className:"text-destructive",disabled:n,children:[u.jsx(AT,{className:"w-4 h-4 mr-2"}),"Delete Campaign"]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-primary",children:t.candidates_count}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Candidates"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-green-500",children:t.messages_sent}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Messages"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-500",children:t.calls_made}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Calls"})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"text-2xl font-bold text-orange-500",children:[d,"%"]}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Response Rate"})]})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground pt-2 border-t border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(qp,{className:"w-3 h-3"}),"Created ",c(t.created_at)]}),t.scheduled_at&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(qp,{className:"w-3 h-3"}),"Scheduled ",c(t.scheduled_at)]})]})]})})},IO=({open:t,onOpenChange:e})=>{Ht(),er();const n=()=>{window.open("https://rzp.io/rzp/DOVfKeU","_blank"),e(!1)},r=[{name:"Starter",price:"999",originalPrice:"1,999",period:"/month",description:"Perfect for small colleges",icon:Jx,features:["500 voice calls/month","1,000 WhatsApp messages","Basic analytics dashboard","Email support","2 campaign templates"],popular:!1,discount:"50% OFF"},{name:"Professional",price:"2,999",originalPrice:"5,999",period:"/month",description:"Most popular for growing institutions",icon:Lr,features:["2,500 voice calls/month","5,000 WhatsApp messages","Advanced analytics & reports","Priority support","Unlimited campaign templates","Custom voice training","A/B testing"],popular:!0,discount:"50% OFF"},{name:"Enterprise",price:"9,999",originalPrice:"19,999",period:"/month",description:"For large universities",icon:TB,features:["10,000+ voice calls/month","20,000+ WhatsApp messages","Custom analytics dashboard","24/7 phone support","White-label solution","API access","Dedicated account manager","Custom integrations"],popular:!1,discount:"50% OFF"}];return u.jsx(ii,{open:t,onOpenChange:e,children:u.jsxs(Rr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[u.jsxs(Mr,{children:[u.jsx(Dr,{className:"text-center text-2xl",children:"Upgrade to Pro - Limited Time Offer!"}),u.jsx("p",{className:"text-center text-muted-foreground",children:"Transform your admission process with AI-powered automation"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:r.map((i,a)=>{const s=i.icon;return u.jsxs(ne,{className:`relative p-6 ${i.popular?"ring-2 ring-primary border-primary":""}`,children:[i.popular&&u.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:u.jsx(vn,{className:"bg-primary text-primary-foreground",children:"Most Popular"})}),u.jsxs("div",{className:"text-center space-y-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"w-12 h-12 bg-ai-gradient rounded-lg flex items-center justify-center mx-auto mb-4",children:u.jsx(s,{className:"w-6 h-6 text-white"})}),u.jsx("h3",{className:"text-xl font-bold",children:i.name}),u.jsx("p",{className:"text-sm text-muted-foreground",children:i.description})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("span",{className:"text-3xl font-bold text-primary",children:i.price}),u.jsx("span",{className:"text-muted-foreground",children:i.period})]}),u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("span",{className:"text-sm line-through text-muted-foreground",children:i.originalPrice}),u.jsx(vn,{variant:"destructive",className:"text-xs",children:i.discount})]})]}),u.jsx("div",{className:"space-y-2 text-left",children:i.features.map((o,l)=>u.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[u.jsx(da,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),u.jsx("span",{children:o})]},l))}),u.jsx(se,{variant:i.popular?"hero":"outline",size:"lg",onClick:n,className:"w-full mt-6",children:i.popular?"Choose Pro":`Get ${i.name}`})]})]},a)})}),u.jsx("div",{className:"mt-8 p-6 bg-ai-gradient-subtle rounded-lg",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("h3",{className:"text-xl font-bold",children:" Special Launch Offer"}),u.jsx("p",{className:"text-muted-foreground",children:"Get 50% off for the first 3 months. No setup fees. Cancel anytime."}),u.jsxs("div",{className:"flex justify-center items-center gap-4 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(da,{className:"w-4 h-4 text-green-500"}),u.jsx("span",{children:"30-day money-back guarantee"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(da,{className:"w-4 h-4 text-green-500"}),u.jsx("span",{children:"24/7 customer support"})]})]})]})}),u.jsx("div",{className:"text-center text-xs text-muted-foreground mt-4",children:u.jsx("p",{children:"Payments are secured by Razorpay. Your card details are never stored on our servers."})})]})})};function sEe(t,e=[]){let n=[];function r(a,s){const o=S.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||o,x=S.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:x,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||o,m=S.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,d]}const i=()=>{const a=n.map(s=>S.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return S.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,oEe(i,...e)]}function oEe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var $O="Progress",RO=100,[lEe,VWe]=sEe($O),[cEe,uEe]=lEe($O),V7=S.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=dEe,...s}=t;(i||i===0)&&!aM(i)&&console.error(fEe(`${i}`,"Progress"));const o=aM(i)?i:RO;r!==null&&!sM(r,o)&&console.error(hEe(`${r}`,"Progress"));const l=sM(r,o)?r:null,c=j0(l)?a(l,o):void 0;return u.jsx(cEe,{scope:n,value:l,max:o,children:u.jsx(Pe.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":j0(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":G7(l,o),"data-value":l??void 0,"data-max":o,...s,ref:e})})});V7.displayName=$O;var W7="ProgressIndicator",q7=S.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=uEe(W7,n);return u.jsx(Pe.div,{"data-state":G7(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});q7.displayName=W7;function dEe(t,e){return`${Math.round(t/e*100)}%`}function G7(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function j0(t){return typeof t=="number"}function aM(t){return j0(t)&&!isNaN(t)&&t>0}function sM(t,e){return j0(t)&&!isNaN(t)&&t<=e&&t>=0}function fEe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${RO}\`.`}function hEe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${RO} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var K7=V7,pEe=q7;const ki=S.forwardRef(({className:t,value:e,...n},r)=>u.jsx(K7,{ref:r,className:we("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:u.jsx(pEe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));ki.displayName=K7.displayName;var mEe=Array.isArray,Br=mEe,gEe=typeof un=="object"&&un&&un.Object===Object&&un,Y7=gEe,yEe=Y7,vEe=typeof self=="object"&&self&&self.Object===Object&&self,xEe=yEe||vEe||Function("return this")(),vs=xEe,bEe=vs,wEe=bEe.Symbol,jg=wEe,oM=jg,X7=Object.prototype,_Ee=X7.hasOwnProperty,SEe=X7.toString,_h=oM?oM.toStringTag:void 0;function EEe(t){var e=_Ee.call(t,_h),n=t[_h];try{t[_h]=void 0;var r=!0}catch{}var i=SEe.call(t);return r&&(e?t[_h]=n:delete t[_h]),i}var jEe=EEe,AEe=Object.prototype,kEe=AEe.toString;function TEe(t){return kEe.call(t)}var CEe=TEe,lM=jg,OEe=jEe,NEe=CEe,PEe="[object Null]",IEe="[object Undefined]",cM=lM?lM.toStringTag:void 0;function $Ee(t){return t==null?t===void 0?IEe:PEe:cM&&cM in Object(t)?OEe(t):NEe(t)}var ho=$Ee;function REe(t){return t!=null&&typeof t=="object"}var po=REe,MEe=ho,DEe=po,LEe="[object Symbol]";function FEe(t){return typeof t=="symbol"||DEe(t)&&MEe(t)==LEe}var Wf=FEe,BEe=Br,zEe=Wf,UEe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,HEe=/^\w*$/;function VEe(t,e){if(BEe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||zEe(t)?!0:HEe.test(t)||!UEe.test(t)||e!=null&&t in Object(e)}var MO=VEe;function WEe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var zl=WEe;const qf=at(zl);var qEe=ho,GEe=zl,KEe="[object AsyncFunction]",YEe="[object Function]",XEe="[object GeneratorFunction]",ZEe="[object Proxy]";function JEe(t){if(!GEe(t))return!1;var e=qEe(t);return e==YEe||e==XEe||e==KEe||e==ZEe}var DO=JEe;const Ue=at(DO);var QEe=vs,eje=QEe["__core-js_shared__"],tje=eje,P1=tje,uM=function(){var t=/[^.]+$/.exec(P1&&P1.keys&&P1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function nje(t){return!!uM&&uM in t}var rje=nje,ije=Function.prototype,aje=ije.toString;function sje(t){if(t!=null){try{return aje.call(t)}catch{}try{return t+""}catch{}}return""}var Z7=sje,oje=DO,lje=rje,cje=zl,uje=Z7,dje=/[\\^$.*+?()[\]{}|]/g,fje=/^\[object .+?Constructor\]$/,hje=Function.prototype,pje=Object.prototype,mje=hje.toString,gje=pje.hasOwnProperty,yje=RegExp("^"+mje.call(gje).replace(dje,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vje(t){if(!cje(t)||lje(t))return!1;var e=oje(t)?yje:fje;return e.test(uje(t))}var xje=vje;function bje(t,e){return t==null?void 0:t[e]}var wje=bje,_je=xje,Sje=wje;function Eje(t,e){var n=Sje(t,e);return _je(n)?n:void 0}var cu=Eje,jje=cu,Aje=jje(Object,"create"),Qb=Aje,dM=Qb;function kje(){this.__data__=dM?dM(null):{},this.size=0}var Tje=kje;function Cje(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Oje=Cje,Nje=Qb,Pje="__lodash_hash_undefined__",Ije=Object.prototype,$je=Ije.hasOwnProperty;function Rje(t){var e=this.__data__;if(Nje){var n=e[t];return n===Pje?void 0:n}return $je.call(e,t)?e[t]:void 0}var Mje=Rje,Dje=Qb,Lje=Object.prototype,Fje=Lje.hasOwnProperty;function Bje(t){var e=this.__data__;return Dje?e[t]!==void 0:Fje.call(e,t)}var zje=Bje,Uje=Qb,Hje="__lodash_hash_undefined__";function Vje(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Uje&&e===void 0?Hje:e,this}var Wje=Vje,qje=Tje,Gje=Oje,Kje=Mje,Yje=zje,Xje=Wje;function Gf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Gf.prototype.clear=qje;Gf.prototype.delete=Gje;Gf.prototype.get=Kje;Gf.prototype.has=Yje;Gf.prototype.set=Xje;var Zje=Gf;function Jje(){this.__data__=[],this.size=0}var Qje=Jje;function eAe(t,e){return t===e||t!==t&&e!==e}var LO=eAe,tAe=LO;function nAe(t,e){for(var n=t.length;n--;)if(tAe(t[n][0],e))return n;return-1}var ew=nAe,rAe=ew,iAe=Array.prototype,aAe=iAe.splice;function sAe(t){var e=this.__data__,n=rAe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():aAe.call(e,n,1),--this.size,!0}var oAe=sAe,lAe=ew;function cAe(t){var e=this.__data__,n=lAe(e,t);return n<0?void 0:e[n][1]}var uAe=cAe,dAe=ew;function fAe(t){return dAe(this.__data__,t)>-1}var hAe=fAe,pAe=ew;function mAe(t,e){var n=this.__data__,r=pAe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var gAe=mAe,yAe=Qje,vAe=oAe,xAe=uAe,bAe=hAe,wAe=gAe;function Kf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Kf.prototype.clear=yAe;Kf.prototype.delete=vAe;Kf.prototype.get=xAe;Kf.prototype.has=bAe;Kf.prototype.set=wAe;var tw=Kf,_Ae=cu,SAe=vs,EAe=_Ae(SAe,"Map"),FO=EAe,fM=Zje,jAe=tw,AAe=FO;function kAe(){this.size=0,this.__data__={hash:new fM,map:new(AAe||jAe),string:new fM}}var TAe=kAe;function CAe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var OAe=CAe,NAe=OAe;function PAe(t,e){var n=t.__data__;return NAe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var nw=PAe,IAe=nw;function $Ae(t){var e=IAe(this,t).delete(t);return this.size-=e?1:0,e}var RAe=$Ae,MAe=nw;function DAe(t){return MAe(this,t).get(t)}var LAe=DAe,FAe=nw;function BAe(t){return FAe(this,t).has(t)}var zAe=BAe,UAe=nw;function HAe(t,e){var n=UAe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var VAe=HAe,WAe=TAe,qAe=RAe,GAe=LAe,KAe=zAe,YAe=VAe;function Yf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yf.prototype.clear=WAe;Yf.prototype.delete=qAe;Yf.prototype.get=GAe;Yf.prototype.has=KAe;Yf.prototype.set=YAe;var BO=Yf,J7=BO,XAe="Expected a function";function zO(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(XAe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(zO.Cache||J7),n}zO.Cache=J7;var Q7=zO;const ZAe=at(Q7);var JAe=Q7,QAe=500;function eke(t){var e=JAe(t,function(r){return n.size===QAe&&n.clear(),r}),n=e.cache;return e}var tke=eke,nke=tke,rke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ike=/\\(\\)?/g,ake=nke(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(rke,function(n,r,i,a){e.push(i?a.replace(ike,"$1"):r||n)}),e}),ske=ake;function oke(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var UO=oke,hM=jg,lke=UO,cke=Br,uke=Wf,dke=1/0,pM=hM?hM.prototype:void 0,mM=pM?pM.toString:void 0;function eW(t){if(typeof t=="string")return t;if(cke(t))return lke(t,eW)+"";if(uke(t))return mM?mM.call(t):"";var e=t+"";return e=="0"&&1/t==-dke?"-0":e}var fke=eW,hke=fke;function pke(t){return t==null?"":hke(t)}var tW=pke,mke=Br,gke=MO,yke=ske,vke=tW;function xke(t,e){return mke(t)?t:gke(t,e)?[t]:yke(vke(t))}var nW=xke,bke=Wf,wke=1/0;function _ke(t){if(typeof t=="string"||bke(t))return t;var e=t+"";return e=="0"&&1/t==-wke?"-0":e}var rw=_ke,Ske=nW,Eke=rw;function jke(t,e){e=Ske(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Eke(e[n++])];return n&&n==r?t:void 0}var HO=jke,Ake=HO;function kke(t,e,n){var r=t==null?void 0:Ake(t,e);return r===void 0?n:r}var rW=kke;const ai=at(rW);function Tke(t){return t==null}var Cke=Tke;const Ve=at(Cke);var Oke=ho,Nke=Br,Pke=po,Ike="[object String]";function $ke(t){return typeof t=="string"||!Nke(t)&&Pke(t)&&Oke(t)==Ike}var Rke=$ke;const Ag=at(Rke);var iW={exports:{}},St={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VO=Symbol.for("react.element"),WO=Symbol.for("react.portal"),iw=Symbol.for("react.fragment"),aw=Symbol.for("react.strict_mode"),sw=Symbol.for("react.profiler"),ow=Symbol.for("react.provider"),lw=Symbol.for("react.context"),Mke=Symbol.for("react.server_context"),cw=Symbol.for("react.forward_ref"),uw=Symbol.for("react.suspense"),dw=Symbol.for("react.suspense_list"),fw=Symbol.for("react.memo"),hw=Symbol.for("react.lazy"),Dke=Symbol.for("react.offscreen"),aW;aW=Symbol.for("react.module.reference");function Mi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case VO:switch(t=t.type,t){case iw:case sw:case aw:case uw:case dw:return t;default:switch(t=t&&t.$$typeof,t){case Mke:case lw:case cw:case hw:case fw:case ow:return t;default:return e}}case WO:return e}}}St.ContextConsumer=lw;St.ContextProvider=ow;St.Element=VO;St.ForwardRef=cw;St.Fragment=iw;St.Lazy=hw;St.Memo=fw;St.Portal=WO;St.Profiler=sw;St.StrictMode=aw;St.Suspense=uw;St.SuspenseList=dw;St.isAsyncMode=function(){return!1};St.isConcurrentMode=function(){return!1};St.isContextConsumer=function(t){return Mi(t)===lw};St.isContextProvider=function(t){return Mi(t)===ow};St.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===VO};St.isForwardRef=function(t){return Mi(t)===cw};St.isFragment=function(t){return Mi(t)===iw};St.isLazy=function(t){return Mi(t)===hw};St.isMemo=function(t){return Mi(t)===fw};St.isPortal=function(t){return Mi(t)===WO};St.isProfiler=function(t){return Mi(t)===sw};St.isStrictMode=function(t){return Mi(t)===aw};St.isSuspense=function(t){return Mi(t)===uw};St.isSuspenseList=function(t){return Mi(t)===dw};St.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===iw||t===sw||t===aw||t===uw||t===dw||t===Dke||typeof t=="object"&&t!==null&&(t.$$typeof===hw||t.$$typeof===fw||t.$$typeof===ow||t.$$typeof===lw||t.$$typeof===cw||t.$$typeof===aW||t.getModuleId!==void 0)};St.typeOf=Mi;iW.exports=St;var sW=iW.exports,Lke=ho,Fke=po,Bke="[object Number]";function zke(t){return typeof t=="number"||Fke(t)&&Lke(t)==Bke}var oW=zke;const Uke=at(oW);var Hke=oW;function Vke(t){return Hke(t)&&t!=+t}var Wke=Vke;const Xf=at(Wke);var cr=function(e){return e===0?0:e>0?1:-1},fc=function(e){return Ag(e)&&e.indexOf("%")===e.length-1},de=function(e){return Uke(e)&&!Xf(e)},jn=function(e){return de(e)||Ag(e)},qke=0,uu=function(e){var n=++qke;return"".concat(e||"").concat(n)},ur=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(e)&&!Ag(e))return r;var a;if(fc(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return Xf(a)&&(a=r),i&&a>n&&(a=n),a},Mo=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Gke=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Sn=function(e,n){return de(e)&&de(n)?function(r){return e+r*(n-e)}:function(){return n}};function A0(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ai(r,e))===n})}function bd(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Fj(t){"@babel/helpers - typeof";return Fj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fj(t)}var Kke=["viewBox","children"],Yke=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],gM=["points","pathLength"],I1={svg:Kke,polygon:gM,polyline:gM},qO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],k0=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(S.isValidElement(e)&&(r=e.props),!qf(r))return null;var i={};return Object.keys(r).forEach(function(a){qO.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},Xke=function(e,n,r){return function(i){return e(n,r,i),null}},Wc=function(e,n,r){if(!qf(e)||Fj(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];qO.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=Xke(s,n,r))}),i},Zke=["children"],Jke=["children"];function yM(t,e){if(t==null)return{};var n=Qke(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bj(t){"@babel/helpers - typeof";return Bj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bj(t)}var vM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Vs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},xM=null,$1=null,GO=function t(e){if(e===xM&&Array.isArray($1))return $1;var n=[];return S.Children.forEach(e,function(r){Ve(r)||(sW.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),$1=n,xM=e,n};function si(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Vs(i)}):r=[Vs(e)],GO(t).forEach(function(i){var a=ai(i,"type.displayName")||ai(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Kr(t,e){var n=si(t,e);return n&&n[0]}var bM=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!de(r)||r<=0||!de(i)||i<=0)},eTe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],tTe=function(e){return e&&e.type&&Ag(e.type)&&eTe.indexOf(e.type)>=0},lW=function(e){return e&&Bj(e)==="object"&&"clipDot"in e},nTe=function(e,n,r,i){var a,s=(a=I1==null?void 0:I1[i])!==null&&a!==void 0?a:[];return!Ue(e)&&(i&&s.includes(n)||Yke.includes(n))||r&&qO.includes(n)},Ie=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(S.isValidElement(e)&&(i=e.props),!qf(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;nTe((o=i)===null||o===void 0?void 0:o[s],s,n,r)&&(a[s]=i[s])}),a},zj=function t(e,n){if(e===n)return!0;var r=S.Children.count(e);if(r!==S.Children.count(n))return!1;if(r===0)return!0;if(r===1)return wM(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!wM(a,s))return!1}return!0},wM=function(e,n){if(Ve(e)&&Ve(n))return!0;if(!Ve(e)&&!Ve(n)){var r=e.props||{},i=r.children,a=yM(r,Zke),s=n.props||{},o=s.children,l=yM(s,Jke);return i&&o?bd(a,l)&&zj(i,o):!i&&!o?bd(a,l):!1}return!1},_M=function(e,n){var r=[],i={};return GO(e).forEach(function(a,s){if(tTe(a))r.push(a);else if(a){var o=Vs(a.type),l=n[o]||{},c=l.handler,d=l.once;if(c&&(!d||!i[o])){var f=c(a,o,s);r.push(f),i[o]=!0}}}),r},rTe=function(e){var n=e&&e.type;return n&&vM[n]?vM[n]:null},iTe=function(e,n){return GO(n).indexOf(e)},aTe=["children","width","height","viewBox","className","style","title","desc"];function Uj(){return Uj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uj.apply(this,arguments)}function sTe(t,e){if(t==null)return{};var n=oTe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hj(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,c=sTe(t,aTe),d=i||{width:n,height:r,x:0,y:0},f=Ke("recharts-surface",a);return M.createElement("svg",Uj({},Ie(c,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),M.createElement("title",null,o),M.createElement("desc",null,l),e)}var lTe=["children","className"];function Vj(){return Vj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vj.apply(this,arguments)}function cTe(t,e){if(t==null)return{};var n=uTe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ot=M.forwardRef(function(t,e){var n=t.children,r=t.className,i=cTe(t,lTe),a=Ke("recharts-layer",r);return M.createElement("g",Vj({className:a},Ie(i,!0),{ref:e}),n)}),pa=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function dTe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var fTe=dTe,hTe=fTe;function pTe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:hTe(t,e,n)}var mTe=pTe,gTe="\\ud800-\\udfff",yTe="\\u0300-\\u036f",vTe="\\ufe20-\\ufe2f",xTe="\\u20d0-\\u20ff",bTe=yTe+vTe+xTe,wTe="\\ufe0e\\ufe0f",_Te="\\u200d",STe=RegExp("["+_Te+gTe+bTe+wTe+"]");function ETe(t){return STe.test(t)}var cW=ETe;function jTe(t){return t.split("")}var ATe=jTe,uW="\\ud800-\\udfff",kTe="\\u0300-\\u036f",TTe="\\ufe20-\\ufe2f",CTe="\\u20d0-\\u20ff",OTe=kTe+TTe+CTe,NTe="\\ufe0e\\ufe0f",PTe="["+uW+"]",Wj="["+OTe+"]",qj="\\ud83c[\\udffb-\\udfff]",ITe="(?:"+Wj+"|"+qj+")",dW="[^"+uW+"]",fW="(?:\\ud83c[\\udde6-\\uddff]){2}",hW="[\\ud800-\\udbff][\\udc00-\\udfff]",$Te="\\u200d",pW=ITe+"?",mW="["+NTe+"]?",RTe="(?:"+$Te+"(?:"+[dW,fW,hW].join("|")+")"+mW+pW+")*",MTe=mW+pW+RTe,DTe="(?:"+[dW+Wj+"?",Wj,fW,hW,PTe].join("|")+")",LTe=RegExp(qj+"(?="+qj+")|"+DTe+MTe,"g");function FTe(t){return t.match(LTe)||[]}var BTe=FTe,zTe=ATe,UTe=cW,HTe=BTe;function VTe(t){return UTe(t)?HTe(t):zTe(t)}var WTe=VTe,qTe=mTe,GTe=cW,KTe=WTe,YTe=tW;function XTe(t){return function(e){e=YTe(e);var n=GTe(e)?KTe(e):void 0,r=n?n[0]:e.charAt(0),i=n?qTe(n,1).join(""):e.slice(1);return r[t]()+i}}var ZTe=XTe,JTe=ZTe,QTe=JTe("toUpperCase"),eCe=QTe;const pw=at(eCe);function Nt(t){return function(){return t}}const gW=Math.cos,T0=Math.sin,Ca=Math.sqrt,C0=Math.PI,mw=2*C0,Gj=Math.PI,Kj=2*Gj,rc=1e-6,tCe=Kj-rc;function yW(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function nCe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return yW;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class rCe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?yW:nCe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,c=i-n,d=s-e,f=o-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>rc)if(!(Math.abs(f*l-c*d)>rc)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,m=i-o,g=l*l+c*c,x=p*p+m*m,v=Math.sqrt(g),b=Math.sqrt(h),y=a*Math.tan((Gj-Math.acos((g+h-x)/(2*v*b)))/2),w=y/b,_=y/v;Math.abs(w-1)>rc&&this._append`L${e+w*d},${n+w*f}`,this._append`A${a},${a},0,0,${+(f*p>d*m)},${this._x1=e+_*l},${this._y1=n+_*c}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,d=n+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>rc||Math.abs(this._y1-d)>rc)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%Kj+Kj),h>tCe?this._append`A${r},${r},0,1,${f},${e-o},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>rc&&this._append`A${r},${r},0,${+(h>=Gj)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function KO(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new rCe(e)}function YO(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function vW(t){this._context=t}vW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function gw(t){return new vW(t)}function xW(t){return t[0]}function bW(t){return t[1]}function wW(t,e){var n=Nt(!0),r=null,i=gw,a=null,s=KO(o);t=typeof t=="function"?t:t===void 0?xW:Nt(t),e=typeof e=="function"?e:e===void 0?bW:Nt(e);function o(l){var c,d=(l=YO(l)).length,f,h=!1,p;for(r==null&&(a=i(p=s())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,c,l),+e(f,c,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Nt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Nt(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Nt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function Py(t,e,n){var r=null,i=Nt(!0),a=null,s=gw,o=null,l=KO(c);t=typeof t=="function"?t:t===void 0?xW:Nt(+t),e=typeof e=="function"?e:Nt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?bW:Nt(+n);function c(f){var h,p,m,g=(f=YO(f)).length,x,v=!1,b,y=new Array(g),w=new Array(g);for(a==null&&(o=s(b=l())),h=0;h<=g;++h){if(!(h<g&&i(x=f[h],h,f))===v)if(v=!v)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=h-1;m>=p;--m)o.point(y[m],w[m]);o.lineEnd(),o.areaEnd()}v&&(y[h]=+t(x,h,f),w[h]=+e(x,h,f),o.point(r?+r(x,h,f):y[h],n?+n(x,h,f):w[h]))}if(b)return o=null,b+""||null}function d(){return wW().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Nt(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Nt(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Nt(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Nt(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Nt(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Nt(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(n)},c.lineX1=function(){return d().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Nt(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class _W{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function iCe(t){return new _W(t,!0)}function aCe(t){return new _W(t,!1)}const XO={draw(t,e){const n=Ca(e/C0);t.moveTo(n,0),t.arc(0,0,n,0,mw)}},sCe={draw(t,e){const n=Ca(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},SW=Ca(1/3),oCe=SW*2,lCe={draw(t,e){const n=Ca(e/oCe),r=n*SW;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},cCe={draw(t,e){const n=Ca(e),r=-n/2;t.rect(r,r,n,n)}},uCe=.8908130915292852,EW=T0(C0/10)/T0(7*C0/10),dCe=T0(mw/10)*EW,fCe=-gW(mw/10)*EW,hCe={draw(t,e){const n=Ca(e*uCe),r=dCe*n,i=fCe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=mw*a/5,o=gW(s),l=T0(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},R1=Ca(3),pCe={draw(t,e){const n=-Ca(e/(R1*3));t.moveTo(0,n*2),t.lineTo(-R1*n,-n),t.lineTo(R1*n,-n),t.closePath()}},pi=-.5,mi=Ca(3)/2,Yj=1/Ca(12),mCe=(Yj/2+1)*3,gCe={draw(t,e){const n=Ca(e/mCe),r=n/2,i=n*Yj,a=r,s=n*Yj+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(pi*r-mi*i,mi*r+pi*i),t.lineTo(pi*a-mi*s,mi*a+pi*s),t.lineTo(pi*o-mi*l,mi*o+pi*l),t.lineTo(pi*r+mi*i,pi*i-mi*r),t.lineTo(pi*a+mi*s,pi*s-mi*a),t.lineTo(pi*o+mi*l,pi*l-mi*o),t.closePath()}};function yCe(t,e){let n=null,r=KO(i);t=typeof t=="function"?t:Nt(t||XO),e=typeof e=="function"?e:Nt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Nt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Nt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function O0(){}function N0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function jW(t){this._context=t}jW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:N0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:N0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vCe(t){return new jW(t)}function AW(t){this._context=t}AW.prototype={areaStart:O0,areaEnd:O0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:N0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xCe(t){return new AW(t)}function kW(t){this._context=t}kW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:N0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bCe(t){return new kW(t)}function TW(t){this._context=t}TW.prototype={areaStart:O0,areaEnd:O0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function wCe(t){return new TW(t)}function SM(t){return t<0?-1:1}function EM(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(SM(a)+SM(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function jM(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function M1(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function P0(t){this._context=t}P0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:M1(this,this._t0,jM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,M1(this,jM(this,n=EM(this,t,e)),n);break;default:M1(this,this._t0,n=EM(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function CW(t){this._context=new OW(t)}(CW.prototype=Object.create(P0.prototype)).point=function(t,e){P0.prototype.point.call(this,e,t)};function OW(t){this._context=t}OW.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function _Ce(t){return new P0(t)}function SCe(t){return new CW(t)}function NW(t){this._context=t}NW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=AM(t),i=AM(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function AM(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function ECe(t){return new NW(t)}function yw(t,e){this._context=t,this._t=e}yw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function jCe(t){return new yw(t,.5)}function ACe(t){return new yw(t,0)}function kCe(t){return new yw(t,1)}function Qd(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Xj(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function TCe(t,e){return t[e]}function CCe(t){const e=[];return e.key=t,e}function OCe(){var t=Nt([]),e=Xj,n=Qd,r=TCe;function i(a){var s=Array.from(t.apply(this,arguments),CCe),o,l=s.length,c=-1,d;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(f,s[o].key,c,a)]).data=f;for(o=0,d=YO(e(s));o<l;++o)s[d[o]].index=o;return n(s,d),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Nt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Nt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?Xj:typeof a=="function"?a:Nt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Qd,i):n},i}function NCe(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Qd(t,e)}}function PCe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}Qd(t,e)}}function ICe(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var d=t[e[o]],f=d[r][1]||0,h=d[r-1][1]||0,p=(f-h)/2,m=0;m<o;++m){var g=t[e[m]],x=g[r][1]||0,v=g[r-1][1]||0;p+=x-v}l+=f,c+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Qd(t,e)}}function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(t)}var $Ce=["type","size","sizeType"];function Zj(){return Zj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zj.apply(this,arguments)}function kM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(n),!0).forEach(function(r){RCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RCe(t,e,n){return e=MCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MCe(t){var e=DCe(t,"string");return um(e)=="symbol"?e:e+""}function DCe(t,e){if(um(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LCe(t,e){if(t==null)return{};var n=FCe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var PW={symbolCircle:XO,symbolCross:sCe,symbolDiamond:lCe,symbolSquare:cCe,symbolStar:hCe,symbolTriangle:pCe,symbolWye:gCe},BCe=Math.PI/180,zCe=function(e){var n="symbol".concat(pw(e));return PW[n]||XO},UCe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*BCe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},HCe=function(e,n){PW["symbol".concat(pw(e))]=n},ZO=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=LCe(e,$Ce),c=TM(TM({},l),{},{type:r,size:a,sizeType:o}),d=function(){var x=zCe(r),v=yCe().type(x).size(UCe(a,o,r));return v()},f=c.className,h=c.cx,p=c.cy,m=Ie(c,!0);return h===+h&&p===+p&&a===+a?M.createElement("path",Zj({},m,{className:Ke("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};ZO.registerSymbol=HCe;function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function Jj(){return Jj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jj.apply(this,arguments)}function CM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VCe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CM(Object(n),!0).forEach(function(r){dm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$W(r.key),r)}}function GCe(t,e,n){return e&&qCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KCe(t,e,n){return e=I0(e),YCe(t,IW()?Reflect.construct(e,n||[],I0(t).constructor):e.apply(t,n))}function YCe(t,e){if(e&&(ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XCe(t)}function XCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IW=function(){return!!t})()}function I0(t){return I0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},I0(t)}function ZCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qj(t,e)}function Qj(t,e){return Qj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qj(t,e)}function dm(t,e,n){return e=$W(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $W(t){var e=JCe(t,"string");return ef(e)=="symbol"?e:e+""}function JCe(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gi=32,JO=function(t){function e(){return WCe(this,e),KCe(this,e,arguments)}return ZCe(e,t),GCe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=gi/2,s=gi/6,o=gi/3,l=r.inactive?i:r.color;if(r.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:gi,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(gi,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(gi/8,"h").concat(gi,"v").concat(gi*3/4,"h").concat(-gi,"z"),className:"recharts-legend-icon"});if(M.isValidElement(r.legendIcon)){var c=VCe({},r);return delete c.legendIcon,M.cloneElement(r.legendIcon,c)}return M.createElement(ZO,{fill:l,cx:a,cy:a,size:gi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:gi,height:gi},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,m){var g=p.formatter||l,x=Ke(dm(dm({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=Ue(p.value)?null:p.value;pa(!Ue(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?c:p.color;return M.createElement("li",Jj({className:x,style:f,key:"legend-item-".concat(m)},Wc(r.props,p,m)),M.createElement(Hj,{width:s,height:s,viewBox:d,style:h},r.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(v,p,m):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(S.PureComponent);dm(JO,"displayName","Legend");dm(JO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var QCe=tw;function eOe(){this.__data__=new QCe,this.size=0}var tOe=eOe;function nOe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var rOe=nOe;function iOe(t){return this.__data__.get(t)}var aOe=iOe;function sOe(t){return this.__data__.has(t)}var oOe=sOe,lOe=tw,cOe=FO,uOe=BO,dOe=200;function fOe(t,e){var n=this.__data__;if(n instanceof lOe){var r=n.__data__;if(!cOe||r.length<dOe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new uOe(r)}return n.set(t,e),this.size=n.size,this}var hOe=fOe,pOe=tw,mOe=tOe,gOe=rOe,yOe=aOe,vOe=oOe,xOe=hOe;function Zf(t){var e=this.__data__=new pOe(t);this.size=e.size}Zf.prototype.clear=mOe;Zf.prototype.delete=gOe;Zf.prototype.get=yOe;Zf.prototype.has=vOe;Zf.prototype.set=xOe;var RW=Zf,bOe="__lodash_hash_undefined__";function wOe(t){return this.__data__.set(t,bOe),this}var _Oe=wOe;function SOe(t){return this.__data__.has(t)}var EOe=SOe,jOe=BO,AOe=_Oe,kOe=EOe;function $0(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new jOe;++e<n;)this.add(t[e])}$0.prototype.add=$0.prototype.push=AOe;$0.prototype.has=kOe;var MW=$0;function TOe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var DW=TOe;function COe(t,e){return t.has(e)}var LW=COe,OOe=MW,NOe=DW,POe=LW,IOe=1,$Oe=2;function ROe(t,e,n,r,i,a){var s=n&IOe,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(t),d=a.get(e);if(c&&d)return c==e&&d==t;var f=-1,h=!0,p=n&$Oe?new OOe:void 0;for(a.set(t,e),a.set(e,t);++f<o;){var m=t[f],g=e[f];if(r)var x=s?r(g,m,f,e,t,a):r(m,g,f,t,e,a);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!NOe(e,function(v,b){if(!POe(p,b)&&(m===v||i(m,v,n,r,a)))return p.push(b)})){h=!1;break}}else if(!(m===g||i(m,g,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var FW=ROe,MOe=vs,DOe=MOe.Uint8Array,LOe=DOe;function FOe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var BOe=FOe;function zOe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var QO=zOe,OM=jg,NM=LOe,UOe=LO,HOe=FW,VOe=BOe,WOe=QO,qOe=1,GOe=2,KOe="[object Boolean]",YOe="[object Date]",XOe="[object Error]",ZOe="[object Map]",JOe="[object Number]",QOe="[object RegExp]",eNe="[object Set]",tNe="[object String]",nNe="[object Symbol]",rNe="[object ArrayBuffer]",iNe="[object DataView]",PM=OM?OM.prototype:void 0,D1=PM?PM.valueOf:void 0;function aNe(t,e,n,r,i,a,s){switch(n){case iNe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case rNe:return!(t.byteLength!=e.byteLength||!a(new NM(t),new NM(e)));case KOe:case YOe:case JOe:return UOe(+t,+e);case XOe:return t.name==e.name&&t.message==e.message;case QOe:case tNe:return t==e+"";case ZOe:var o=VOe;case eNe:var l=r&qOe;if(o||(o=WOe),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=GOe,s.set(t,e);var d=HOe(o(t),o(e),r,i,a,s);return s.delete(t),d;case nNe:if(D1)return D1.call(t)==D1.call(e)}return!1}var sNe=aNe;function oNe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var BW=oNe,lNe=BW,cNe=Br;function uNe(t,e,n){var r=e(t);return cNe(t)?r:lNe(r,n(t))}var dNe=uNe;function fNe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var hNe=fNe;function pNe(){return[]}var mNe=pNe,gNe=hNe,yNe=mNe,vNe=Object.prototype,xNe=vNe.propertyIsEnumerable,IM=Object.getOwnPropertySymbols,bNe=IM?function(t){return t==null?[]:(t=Object(t),gNe(IM(t),function(e){return xNe.call(t,e)}))}:yNe,wNe=bNe;function _Ne(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var SNe=_Ne,ENe=ho,jNe=po,ANe="[object Arguments]";function kNe(t){return jNe(t)&&ENe(t)==ANe}var TNe=kNe,$M=TNe,CNe=po,zW=Object.prototype,ONe=zW.hasOwnProperty,NNe=zW.propertyIsEnumerable,PNe=$M(function(){return arguments}())?$M:function(t){return CNe(t)&&ONe.call(t,"callee")&&!NNe.call(t,"callee")},eN=PNe,R0={exports:{}};function INe(){return!1}var $Ne=INe;R0.exports;(function(t,e){var n=vs,r=$Ne,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(R0,R0.exports);var UW=R0.exports,RNe=9007199254740991,MNe=/^(?:0|[1-9]\d*)$/;function DNe(t,e){var n=typeof t;return e=e??RNe,!!e&&(n=="number"||n!="symbol"&&MNe.test(t))&&t>-1&&t%1==0&&t<e}var tN=DNe,LNe=9007199254740991;function FNe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=LNe}var nN=FNe,BNe=ho,zNe=nN,UNe=po,HNe="[object Arguments]",VNe="[object Array]",WNe="[object Boolean]",qNe="[object Date]",GNe="[object Error]",KNe="[object Function]",YNe="[object Map]",XNe="[object Number]",ZNe="[object Object]",JNe="[object RegExp]",QNe="[object Set]",ePe="[object String]",tPe="[object WeakMap]",nPe="[object ArrayBuffer]",rPe="[object DataView]",iPe="[object Float32Array]",aPe="[object Float64Array]",sPe="[object Int8Array]",oPe="[object Int16Array]",lPe="[object Int32Array]",cPe="[object Uint8Array]",uPe="[object Uint8ClampedArray]",dPe="[object Uint16Array]",fPe="[object Uint32Array]",Ft={};Ft[iPe]=Ft[aPe]=Ft[sPe]=Ft[oPe]=Ft[lPe]=Ft[cPe]=Ft[uPe]=Ft[dPe]=Ft[fPe]=!0;Ft[HNe]=Ft[VNe]=Ft[nPe]=Ft[WNe]=Ft[rPe]=Ft[qNe]=Ft[GNe]=Ft[KNe]=Ft[YNe]=Ft[XNe]=Ft[ZNe]=Ft[JNe]=Ft[QNe]=Ft[ePe]=Ft[tPe]=!1;function hPe(t){return UNe(t)&&zNe(t.length)&&!!Ft[BNe(t)]}var pPe=hPe;function mPe(t){return function(e){return t(e)}}var HW=mPe,M0={exports:{}};M0.exports;(function(t,e){var n=Y7,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(M0,M0.exports);var gPe=M0.exports,yPe=pPe,vPe=HW,RM=gPe,MM=RM&&RM.isTypedArray,xPe=MM?vPe(MM):yPe,VW=xPe,bPe=SNe,wPe=eN,_Pe=Br,SPe=UW,EPe=tN,jPe=VW,APe=Object.prototype,kPe=APe.hasOwnProperty;function TPe(t,e){var n=_Pe(t),r=!n&&wPe(t),i=!n&&!r&&SPe(t),a=!n&&!r&&!i&&jPe(t),s=n||r||i||a,o=s?bPe(t.length,String):[],l=o.length;for(var c in t)(e||kPe.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||EPe(c,l)))&&o.push(c);return o}var CPe=TPe,OPe=Object.prototype;function NPe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||OPe;return t===n}var PPe=NPe;function IPe(t,e){return function(n){return t(e(n))}}var WW=IPe,$Pe=WW,RPe=$Pe(Object.keys,Object),MPe=RPe,DPe=PPe,LPe=MPe,FPe=Object.prototype,BPe=FPe.hasOwnProperty;function zPe(t){if(!DPe(t))return LPe(t);var e=[];for(var n in Object(t))BPe.call(t,n)&&n!="constructor"&&e.push(n);return e}var UPe=zPe,HPe=DO,VPe=nN;function WPe(t){return t!=null&&VPe(t.length)&&!HPe(t)}var kg=WPe,qPe=CPe,GPe=UPe,KPe=kg;function YPe(t){return KPe(t)?qPe(t):GPe(t)}var vw=YPe,XPe=dNe,ZPe=wNe,JPe=vw;function QPe(t){return XPe(t,JPe,ZPe)}var eIe=QPe,DM=eIe,tIe=1,nIe=Object.prototype,rIe=nIe.hasOwnProperty;function iIe(t,e,n,r,i,a){var s=n&tIe,o=DM(t),l=o.length,c=DM(e),d=c.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in e:rIe.call(e,h)))return!1}var p=a.get(t),m=a.get(e);if(p&&m)return p==e&&m==t;var g=!0;a.set(t,e),a.set(e,t);for(var x=s;++f<l;){h=o[f];var v=t[h],b=e[h];if(r)var y=s?r(b,v,h,e,t,a):r(v,b,h,t,e,a);if(!(y===void 0?v===b||i(v,b,n,r,a):y)){g=!1;break}x||(x=h=="constructor")}if(g&&!x){var w=t.constructor,_=e.constructor;w!=_&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof _=="function"&&_ instanceof _)&&(g=!1)}return a.delete(t),a.delete(e),g}var aIe=iIe,sIe=cu,oIe=vs,lIe=sIe(oIe,"DataView"),cIe=lIe,uIe=cu,dIe=vs,fIe=uIe(dIe,"Promise"),hIe=fIe,pIe=cu,mIe=vs,gIe=pIe(mIe,"Set"),qW=gIe,yIe=cu,vIe=vs,xIe=yIe(vIe,"WeakMap"),bIe=xIe,eA=cIe,tA=FO,nA=hIe,rA=qW,iA=bIe,GW=ho,Jf=Z7,LM="[object Map]",wIe="[object Object]",FM="[object Promise]",BM="[object Set]",zM="[object WeakMap]",UM="[object DataView]",_Ie=Jf(eA),SIe=Jf(tA),EIe=Jf(nA),jIe=Jf(rA),AIe=Jf(iA),ic=GW;(eA&&ic(new eA(new ArrayBuffer(1)))!=UM||tA&&ic(new tA)!=LM||nA&&ic(nA.resolve())!=FM||rA&&ic(new rA)!=BM||iA&&ic(new iA)!=zM)&&(ic=function(t){var e=GW(t),n=e==wIe?t.constructor:void 0,r=n?Jf(n):"";if(r)switch(r){case _Ie:return UM;case SIe:return LM;case EIe:return FM;case jIe:return BM;case AIe:return zM}return e});var kIe=ic,L1=RW,TIe=FW,CIe=sNe,OIe=aIe,HM=kIe,VM=Br,WM=UW,NIe=VW,PIe=1,qM="[object Arguments]",GM="[object Array]",Iy="[object Object]",IIe=Object.prototype,KM=IIe.hasOwnProperty;function $Ie(t,e,n,r,i,a){var s=VM(t),o=VM(e),l=s?GM:HM(t),c=o?GM:HM(e);l=l==qM?Iy:l,c=c==qM?Iy:c;var d=l==Iy,f=c==Iy,h=l==c;if(h&&WM(t)){if(!WM(e))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new L1),s||NIe(t)?TIe(t,e,n,r,i,a):CIe(t,e,l,n,r,i,a);if(!(n&PIe)){var p=d&&KM.call(t,"__wrapped__"),m=f&&KM.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,x=m?e.value():e;return a||(a=new L1),i(g,x,n,r,a)}}return h?(a||(a=new L1),OIe(t,e,n,r,i,a)):!1}var RIe=$Ie,MIe=RIe,YM=po;function KW(t,e,n,r,i){return t===e?!0:t==null||e==null||!YM(t)&&!YM(e)?t!==t&&e!==e:MIe(t,e,n,r,KW,i)}var rN=KW,DIe=RW,LIe=rN,FIe=1,BIe=2;function zIe(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var o=n[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=n[i];var l=o[0],c=t[l],d=o[1];if(s&&o[2]){if(c===void 0&&!(l in t))return!1}else{var f=new DIe;if(r)var h=r(c,d,l,t,e,f);if(!(h===void 0?LIe(d,c,FIe|BIe,r,f):h))return!1}}return!0}var UIe=zIe,HIe=zl;function VIe(t){return t===t&&!HIe(t)}var YW=VIe,WIe=YW,qIe=vw;function GIe(t){for(var e=qIe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,WIe(i)]}return e}var KIe=GIe;function YIe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var XW=YIe,XIe=UIe,ZIe=KIe,JIe=XW;function QIe(t){var e=ZIe(t);return e.length==1&&e[0][2]?JIe(e[0][0],e[0][1]):function(n){return n===t||XIe(n,t,e)}}var e2e=QIe;function t2e(t,e){return t!=null&&e in Object(t)}var n2e=t2e,r2e=nW,i2e=eN,a2e=Br,s2e=tN,o2e=nN,l2e=rw;function c2e(t,e,n){e=r2e(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=l2e(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&o2e(i)&&s2e(s,i)&&(a2e(t)||i2e(t)))}var u2e=c2e,d2e=n2e,f2e=u2e;function h2e(t,e){return t!=null&&f2e(t,e,d2e)}var p2e=h2e,m2e=rN,g2e=rW,y2e=p2e,v2e=MO,x2e=YW,b2e=XW,w2e=rw,_2e=1,S2e=2;function E2e(t,e){return v2e(t)&&x2e(e)?b2e(w2e(t),e):function(n){var r=g2e(n,t);return r===void 0&&r===e?y2e(n,t):m2e(e,r,_2e|S2e)}}var j2e=E2e;function A2e(t){return t}var Qf=A2e;function k2e(t){return function(e){return e==null?void 0:e[t]}}var T2e=k2e,C2e=HO;function O2e(t){return function(e){return C2e(e,t)}}var N2e=O2e,P2e=T2e,I2e=N2e,$2e=MO,R2e=rw;function M2e(t){return $2e(t)?P2e(R2e(t)):I2e(t)}var D2e=M2e,L2e=e2e,F2e=j2e,B2e=Qf,z2e=Br,U2e=D2e;function H2e(t){return typeof t=="function"?t:t==null?B2e:typeof t=="object"?z2e(t)?F2e(t[0],t[1]):L2e(t):U2e(t)}var xs=H2e;function V2e(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var ZW=V2e;function W2e(t){return t!==t}var q2e=W2e;function G2e(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var K2e=G2e,Y2e=ZW,X2e=q2e,Z2e=K2e;function J2e(t,e,n){return e===e?Z2e(t,e,n):Y2e(t,X2e,n)}var Q2e=J2e,e$e=Q2e;function t$e(t,e){var n=t==null?0:t.length;return!!n&&e$e(t,e,0)>-1}var n$e=t$e;function r$e(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var i$e=r$e;function a$e(){}var s$e=a$e,F1=qW,o$e=s$e,l$e=QO,c$e=1/0,u$e=F1&&1/l$e(new F1([,-0]))[1]==c$e?function(t){return new F1(t)}:o$e,d$e=u$e,f$e=MW,h$e=n$e,p$e=i$e,m$e=LW,g$e=d$e,y$e=QO,v$e=200;function x$e(t,e,n){var r=-1,i=h$e,a=t.length,s=!0,o=[],l=o;if(n)s=!1,i=p$e;else if(a>=v$e){var c=e?null:g$e(t);if(c)return y$e(c);s=!1,i=m$e,l=new f$e}else l=e?[]:o;e:for(;++r<a;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),o.push(d)}else i(l,f,n)||(l!==o&&l.push(f),o.push(d))}return o}var b$e=x$e,w$e=xs,_$e=b$e;function S$e(t,e){return t&&t.length?_$e(t,w$e(e)):[]}var E$e=S$e;const XM=at(E$e);function JW(t,e,n){return e===!0?XM(t,n):Ue(e)?XM(t,e):t}function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}var j$e=["ref"];function ZM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ss(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZM(Object(n),!0).forEach(function(r){xw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eq(r.key),r)}}function k$e(t,e,n){return e&&JM(t.prototype,e),n&&JM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function T$e(t,e,n){return e=D0(e),C$e(t,QW()?Reflect.construct(e,n||[],D0(t).constructor):e.apply(t,n))}function C$e(t,e){if(e&&(tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O$e(t)}function O$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QW=function(){return!!t})()}function D0(t){return D0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},D0(t)}function N$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aA(t,e)}function aA(t,e){return aA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aA(t,e)}function xw(t,e,n){return e=eq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eq(t){var e=P$e(t,"string");return tf(e)=="symbol"?e:e+""}function P$e(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I$e(t,e){if(t==null)return{};var n=$$e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $$e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function R$e(t){return t.value}function M$e(t,e){if(M.isValidElement(t))return M.cloneElement(t,e);if(typeof t=="function")return M.createElement(t,e);e.ref;var n=I$e(e,j$e);return M.createElement(JO,n)}var QM=1,ol=function(t){function e(){var n;A$e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=T$e(this,e,[].concat(i)),xw(n,"lastBoundingBox",{width:-1,height:-1}),n}return N$e(e,t),k$e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>QM||Math.abs(i.height-this.lastBoundingBox.height)>QM)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ss({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ss(Ss({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,f=Ss(Ss({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},M$e(a,Ss(Ss({},this.props),{},{payload:JW(d,c,R$e)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Ss(Ss({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&de(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(S.PureComponent);xw(ol,"displayName","Legend");xw(ol,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var eD=jg,D$e=eN,L$e=Br,tD=eD?eD.isConcatSpreadable:void 0;function F$e(t){return L$e(t)||D$e(t)||!!(tD&&t&&t[tD])}var B$e=F$e,z$e=BW,U$e=B$e;function tq(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=U$e),i||(i=[]);++a<s;){var o=t[a];e>0&&n(o)?e>1?tq(o,e-1,n,r,i):z$e(i,o):r||(i[i.length]=o)}return i}var nq=tq;function H$e(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var l=s[t?o:++i];if(n(a[l],l,a)===!1)break}return e}}var V$e=H$e,W$e=V$e,q$e=W$e(),G$e=q$e,K$e=G$e,Y$e=vw;function X$e(t,e){return t&&K$e(t,e,Y$e)}var rq=X$e,Z$e=kg;function J$e(t,e){return function(n,r){if(n==null)return n;if(!Z$e(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var Q$e=J$e,eRe=rq,tRe=Q$e,nRe=tRe(eRe),iN=nRe,rRe=iN,iRe=kg;function aRe(t,e){var n=-1,r=iRe(t)?Array(t.length):[];return rRe(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var iq=aRe;function sRe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var oRe=sRe,nD=Wf;function lRe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=nD(t),s=e!==void 0,o=e===null,l=e===e,c=nD(e);if(!o&&!c&&!a&&t>e||a&&s&&l&&!o&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!l)return-1}return 0}var cRe=lRe,uRe=cRe;function dRe(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,o=n.length;++r<s;){var l=uRe(i[r],a[r]);if(l){if(r>=o)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var fRe=dRe,B1=UO,hRe=HO,pRe=xs,mRe=iq,gRe=oRe,yRe=HW,vRe=fRe,xRe=Qf,bRe=Br;function wRe(t,e,n){e.length?e=B1(e,function(a){return bRe(a)?function(s){return hRe(s,a.length===1?a[0]:a)}:a}):e=[xRe];var r=-1;e=B1(e,yRe(pRe));var i=mRe(t,function(a,s,o){var l=B1(e,function(c){return c(a)});return{criteria:l,index:++r,value:a}});return gRe(i,function(a,s){return vRe(a,s,n)})}var _Re=wRe;function SRe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var ERe=SRe,jRe=ERe,rD=Math.max;function ARe(t,e,n){return e=rD(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=rD(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(s),jRe(t,this,o)}}var kRe=ARe;function TRe(t){return function(){return t}}var CRe=TRe,ORe=cu,NRe=function(){try{var t=ORe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),aq=NRe,PRe=CRe,iD=aq,IRe=Qf,$Re=iD?function(t,e){return iD(t,"toString",{configurable:!0,enumerable:!1,value:PRe(e),writable:!0})}:IRe,RRe=$Re,MRe=800,DRe=16,LRe=Date.now;function FRe(t){var e=0,n=0;return function(){var r=LRe(),i=DRe-(r-n);if(n=r,i>0){if(++e>=MRe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var BRe=FRe,zRe=RRe,URe=BRe,HRe=URe(zRe),VRe=HRe,WRe=Qf,qRe=kRe,GRe=VRe;function KRe(t,e){return GRe(qRe(t,e,WRe),t+"")}var YRe=KRe,XRe=LO,ZRe=kg,JRe=tN,QRe=zl;function eMe(t,e,n){if(!QRe(n))return!1;var r=typeof e;return(r=="number"?ZRe(n)&&JRe(e,n.length):r=="string"&&e in n)?XRe(n[e],t):!1}var bw=eMe,tMe=nq,nMe=_Re,rMe=YRe,aD=bw,iMe=rMe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&aD(t,e[0],e[1])?e=[]:n>2&&aD(e[0],e[1],e[2])&&(e=[e[0]]),nMe(t,tMe(e,1),[])}),aMe=iMe;const aN=at(aMe);function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}function sA(){return sA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sA.apply(this,arguments)}function sMe(t,e){return uMe(t)||cMe(t,e)||lMe(t,e)||oMe()}function oMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lMe(t,e){if(t){if(typeof t=="string")return sD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sD(t,e)}}function sD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cMe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function uMe(t){if(Array.isArray(t))return t}function oD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oD(Object(n),!0).forEach(function(r){dMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dMe(t,e,n){return e=fMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fMe(t){var e=hMe(t,"string");return fm(e)=="symbol"?e:e+""}function hMe(t,e){if(fm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pMe(t){return Array.isArray(t)&&jn(t[0])&&jn(t[1])?t.join(" ~ "):t}var mMe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,x=e.labelFormatter,v=e.accessibilityLayer,b=v===void 0?!1:v,y=function(){if(d&&d.length){var O={padding:0,margin:0},L=(h?aN(d,h):d).map(function(R,F){if(R.type==="none")return null;var U=z1({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},o),V=R.formatter||f||pMe,D=R.value,B=R.name,P=D,W=B;if(V&&P!=null&&W!=null){var G=V(D,B,R,F,d);if(Array.isArray(G)){var $=sMe(G,2);P=$[0],W=$[1]}else P=G}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:U},jn(W)?M.createElement("span",{className:"recharts-tooltip-item-name"},W):null,jn(W)?M.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,M.createElement("span",{className:"recharts-tooltip-item-value"},P),M.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:O},L)}return null},w=z1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),_=z1({margin:0},c),E=!Ve(g),A=E?g:"",j=Ke("recharts-default-tooltip",p),k=Ke("recharts-tooltip-label",m);E&&x&&d!==void 0&&d!==null&&(A=x(g,d));var C=b?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",sA({className:j,style:w},C),M.createElement("p",{className:k,style:_},M.isValidElement(A)?A:"".concat(A)),y())};function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(t)}function $y(t,e,n){return e=gMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gMe(t){var e=yMe(t,"string");return hm(e)=="symbol"?e:e+""}function yMe(t,e){if(hm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sh="recharts-tooltip-wrapper",vMe={visibility:"hidden"};function xMe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ke(Sh,$y($y($y($y({},"".concat(Sh,"-right"),de(n)&&e&&de(e.x)&&n>=e.x),"".concat(Sh,"-left"),de(n)&&e&&de(e.x)&&n<e.x),"".concat(Sh,"-bottom"),de(r)&&e&&de(e.y)&&r>=e.y),"".concat(Sh,"-top"),de(r)&&e&&de(e.y)&&r<e.y))}function lD(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&de(a[r]))return a[r];var d=n[r]-o-i,f=n[r]+i;if(e[r])return s[r]?d:f;if(s[r]){var h=d,p=l[r];return h<p?Math.max(f,l[r]):Math.max(d,l[r])}var m=f+o,g=l[r]+c;return m>g?Math.max(d,l[r]):Math.max(f,l[r])}function bMe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function wMe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,d,f;return s.height>0&&s.width>0&&n?(d=lD({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=lD({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=bMe({translateX:d,translateY:f,useTranslate3d:o})):c=vMe,{cssProperties:c,cssClasses:xMe({translateX:d,translateY:f,coordinate:n})}}function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function cD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cD(Object(n),!0).forEach(function(r){lA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SMe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oq(r.key),r)}}function EMe(t,e,n){return e&&SMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jMe(t,e,n){return e=L0(e),AMe(t,sq()?Reflect.construct(e,n||[],L0(t).constructor):e.apply(t,n))}function AMe(t,e){if(e&&(nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kMe(t)}function kMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sq=function(){return!!t})()}function L0(t){return L0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},L0(t)}function TMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oA(t,e)}function oA(t,e){return oA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oA(t,e)}function lA(t,e,n){return e=oq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oq(t){var e=CMe(t,"string");return nf(e)=="symbol"?e:e+""}function CMe(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dD=1,OMe=function(t){function e(){var n;_Me(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=jMe(this,e,[].concat(i)),lA(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),lA(n,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),n}return TMe(e,t),EMe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>dD||Math.abs(r.height-this.state.lastBoundingBox.height)>dD)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,x=i.useTranslate3d,v=i.viewBox,b=i.wrapperStyle,y=wMe({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:v}),w=y.cssClasses,_=y.cssProperties,E=uD(uD({transition:h&&a?"transform ".concat(o,"ms ").concat(l):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return M.createElement("div",{tabIndex:-1,className:w,style:E,ref:function(j){r.wrapperNode=j}},c)}}])}(S.PureComponent),NMe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ma={isSsr:NMe(),get:function(e){return ma[e]},set:function(e,n){if(typeof e=="string")ma[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){ma[i]=e[i]})}}};function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function fD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fD(Object(n),!0).forEach(function(r){sN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IMe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cq(r.key),r)}}function $Me(t,e,n){return e&&IMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RMe(t,e,n){return e=F0(e),MMe(t,lq()?Reflect.construct(e,n||[],F0(t).constructor):e.apply(t,n))}function MMe(t,e){if(e&&(rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DMe(t)}function DMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lq=function(){return!!t})()}function F0(t){return F0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},F0(t)}function LMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cA(t,e)}function cA(t,e){return cA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cA(t,e)}function sN(t,e,n){return e=cq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cq(t){var e=FMe(t,"string");return rf(e)=="symbol"?e:e+""}function FMe(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BMe(t){return t.dataKey}function zMe(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(mMe,e)}var wr=function(t){function e(){return PMe(this,e),RMe(this,e,arguments)}return LMe(e,t),$Me(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,x=i.position,v=i.reverseDirection,b=i.useTranslate3d,y=i.viewBox,w=i.wrapperStyle,_=m??[];f&&_.length&&(_=JW(m.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),g,BMe));var E=_.length>0;return M.createElement(OMe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:a,coordinate:d,hasPayload:E,offset:p,position:x,reverseDirection:v,useTranslate3d:b,viewBox:y,wrapperStyle:w},zMe(c,hD(hD({},this.props),{},{payload:_})))}}])}(S.PureComponent);sN(wr,"displayName","Tooltip");sN(wr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ma.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var UMe=vs,HMe=function(){return UMe.Date.now()},VMe=HMe,WMe=/\s/;function qMe(t){for(var e=t.length;e--&&WMe.test(t.charAt(e)););return e}var GMe=qMe,KMe=GMe,YMe=/^\s+/;function XMe(t){return t&&t.slice(0,KMe(t)+1).replace(YMe,"")}var ZMe=XMe,JMe=ZMe,pD=zl,QMe=Wf,mD=NaN,eDe=/^[-+]0x[0-9a-f]+$/i,tDe=/^0b[01]+$/i,nDe=/^0o[0-7]+$/i,rDe=parseInt;function iDe(t){if(typeof t=="number")return t;if(QMe(t))return mD;if(pD(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=pD(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=JMe(t);var n=tDe.test(t);return n||nDe.test(t)?rDe(t.slice(2),n?2:8):eDe.test(t)?mD:+t}var uq=iDe,aDe=zl,U1=VMe,gD=uq,sDe="Expected a function",oDe=Math.max,lDe=Math.min;function cDe(t,e,n){var r,i,a,s,o,l,c=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(sDe);e=gD(e)||0,aDe(n)&&(d=!!n.leading,f="maxWait"in n,a=f?oDe(gD(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function p(E){var A=r,j=i;return r=i=void 0,c=E,s=t.apply(j,A),s}function m(E){return c=E,o=setTimeout(v,e),d?p(E):s}function g(E){var A=E-l,j=E-c,k=e-A;return f?lDe(k,a-j):k}function x(E){var A=E-l,j=E-c;return l===void 0||A>=e||A<0||f&&j>=a}function v(){var E=U1();if(x(E))return b(E);o=setTimeout(v,g(E))}function b(E){return o=void 0,h&&r?p(E):(r=i=void 0,s)}function y(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function w(){return o===void 0?s:b(U1())}function _(){var E=U1(),A=x(E);if(r=arguments,i=this,l=E,A){if(o===void 0)return m(l);if(f)return clearTimeout(o),o=setTimeout(v,e),p(l)}return o===void 0&&(o=setTimeout(v,e)),s}return _.cancel=y,_.flush=w,_}var uDe=cDe,dDe=uDe,fDe=zl,hDe="Expected a function";function pDe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(hDe);return fDe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),dDe(t,e,{leading:r,maxWait:e,trailing:i})}var mDe=pDe;const dq=at(mDe);function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}function yD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ry(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yD(Object(n),!0).forEach(function(r){gDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gDe(t,e,n){return e=yDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yDe(t){var e=vDe(t,"string");return pm(e)=="symbol"?e:e+""}function vDe(t,e){if(pm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xDe(t,e){return SDe(t)||_De(t,e)||wDe(t,e)||bDe()}function bDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wDe(t,e){if(t){if(typeof t=="string")return vD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vD(t,e)}}function vD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _De(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function SDe(t){if(Array.isArray(t))return t}var gp=S.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,d=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,x=t.id,v=t.className,b=t.onResize,y=t.style,w=y===void 0?{}:y,_=S.useRef(null),E=S.useRef();E.current=b,S.useImperativeHandle(e,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var A=S.useState({containerWidth:i.width,containerHeight:i.height}),j=xDe(A,2),k=j[0],C=j[1],T=S.useCallback(function(L,R){C(function(F){var U=Math.round(L),V=Math.round(R);return F.containerWidth===U&&F.containerHeight===V?F:{containerWidth:U,containerHeight:V}})},[]);S.useEffect(function(){var L=function(B){var P,W=B[0].contentRect,G=W.width,$=W.height;T(G,$),(P=E.current)===null||P===void 0||P.call(E,G,$)};g>0&&(L=dq(L,g,{trailing:!0,leading:!1}));var R=new ResizeObserver(L),F=_.current.getBoundingClientRect(),U=F.width,V=F.height;return T(U,V),R.observe(_.current),function(){R.disconnect()}},[T,g]);var O=S.useMemo(function(){var L=k.containerWidth,R=k.containerHeight;if(L<0||R<0)return null;pa(fc(s)||fc(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),pa(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=fc(s)?L:s,U=fc(l)?R:l;n&&n>0&&(F?U=F/n:U&&(F=U*n),h&&U>h&&(U=h)),pa(F>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,U,s,l,d,f,n);var V=!Array.isArray(p)&&Vs(p.type).endsWith("Chart");return M.Children.map(p,function(D){return sW.isElement(D)?S.cloneElement(D,Ry({width:F,height:U},V?{style:Ry({height:"100%",width:"100%",maxHeight:U,maxWidth:F},D.props.style)}:{})):D})},[n,p,l,h,f,d,k,s]);return M.createElement("div",{id:x?"".concat(x):void 0,className:Ke("recharts-responsive-container",v),style:Ry(Ry({},w),{},{width:s,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:_},O)}),Tg=function(e){return null};Tg.displayName="Cell";function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function xD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xD(Object(n),!0).forEach(function(r){EDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EDe(t,e,n){return e=jDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jDe(t){var e=ADe(t,"string");return mm(e)=="symbol"?e:e+""}function ADe(t,e){if(mm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tu={widthCache:{},cacheCount:0},kDe=2e3,TDe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},bD="recharts_measurement_span";function CDe(t){var e=uA({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var yp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ma.isSsr)return{width:0,height:0};var r=CDe(n),i=JSON.stringify({text:e,copyStyle:r});if(Tu.widthCache[i])return Tu.widthCache[i];try{var a=document.getElementById(bD);a||(a=document.createElement("span"),a.setAttribute("id",bD),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=uA(uA({},TDe),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return Tu.widthCache[i]=l,++Tu.cacheCount>kDe&&(Tu.cacheCount=0,Tu.widthCache={}),l}catch{return{width:0,height:0}}},ODe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function B0(t,e){return $De(t)||IDe(t,e)||PDe(t,e)||NDe()}function NDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PDe(t,e){if(t){if(typeof t=="string")return wD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wD(t,e)}}function wD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IDe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function $De(t){if(Array.isArray(t))return t}function RDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DDe(r.key),r)}}function MDe(t,e,n){return e&&_D(t.prototype,e),n&&_D(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function DDe(t){var e=LDe(t,"string");return gm(e)=="symbol"?e:e+""}function LDe(t,e){if(gm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var SD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ED=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FDe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,BDe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},zDe=Object.keys(fq),ed="NaN";function UDe(t,e){return t*fq[e]}var My=function(){function t(e,n){RDe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!FDe.test(n)&&(this.num=NaN,this.unit=""),zDe.includes(n)&&(this.num=UDe(e,n),this.unit="px")}return MDe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=BDe.exec(n))!==null&&r!==void 0?r:[],a=B0(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function hq(t){if(t.includes(ed))return ed;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=SD.exec(e))!==null&&n!==void 0?n:[],i=B0(r,4),a=i[1],s=i[2],o=i[3],l=My.parse(a??""),c=My.parse(o??""),d=s==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return ed;e=e.replace(SD,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=ED.exec(e))!==null&&f!==void 0?f:[],p=B0(h,4),m=p[1],g=p[2],x=p[3],v=My.parse(m??""),b=My.parse(x??""),y=g==="+"?v.add(b):v.subtract(b);if(y.isNaN())return ed;e=e.replace(ED,y.toString())}return e}var jD=/\(([^()]*)\)/;function HDe(t){for(var e=t;e.includes("(");){var n=jD.exec(e),r=B0(n,2),i=r[1];e=e.replace(jD,hq(i))}return e}function VDe(t){var e=t.replace(/\s+/g,"");return e=HDe(e),e=hq(e),e}function WDe(t){try{return VDe(t)}catch{return ed}}function H1(t){var e=WDe(t.slice(5,-1));return e===ed?"":e}var qDe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],GDe=["dx","dy","angle","className","breakAll"];function dA(){return dA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dA.apply(this,arguments)}function AD(t,e){if(t==null)return{};var n=KDe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KDe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kD(t,e){return JDe(t)||ZDe(t,e)||XDe(t,e)||YDe()}function YDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XDe(t,e){if(t){if(typeof t=="string")return TD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TD(t,e)}}function TD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZDe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function JDe(t){if(Array.isArray(t))return t}var pq=/[ \f\n\r\t\v\u2028\u2029]+/,mq=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Ve(n)||(r?a=n.toString().split(""):a=n.toString().split(pq));var s=a.map(function(l){return{word:l,width:yp(l,i).width}}),o=r?0:yp("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},QDe=function(e,n,r,i,a){var s=e.maxLines,o=e.children,l=e.style,c=e.breakAll,d=de(s),f=o,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(U,V){var D=V.word,B=V.width,P=U[U.length-1];if(P&&(i==null||a||P.width+B+r<Number(i)))P.words.push(D),P.width+=B+r;else{var W={words:[D],width:B};U.push(W)}return U},[])},p=h(n),m=function(F){return F.reduce(function(U,V){return U.width>V.width?U:V})};if(!d)return p;for(var g="",x=function(F){var U=f.slice(0,F),V=mq({breakAll:c,style:l,children:U+g}).wordsWithComputedWidth,D=h(V),B=D.length>s||m(D).width>Number(i);return[B,D]},v=0,b=f.length-1,y=0,w;v<=b&&y<=f.length-1;){var _=Math.floor((v+b)/2),E=_-1,A=x(E),j=kD(A,2),k=j[0],C=j[1],T=x(_),O=kD(T,1),L=O[0];if(!k&&!L&&(v=_+1),k&&L&&(b=_-1),!k&&L){w=C;break}y++}return w||p},CD=function(e){var n=Ve(e)?[]:e.toString().split(pq);return[{words:n}]},eLe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((n||r)&&!ma.isSsr){var l,c,d=mq({breakAll:s,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,c=h}else return CD(i);return QDe({breakAll:s,children:i,maxLines:o,style:a},l,c,n,r)}return CD(i)},OD="#808080",qc=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,p=h===void 0?"start":h,m=e.verticalAnchor,g=m===void 0?"end":m,x=e.fill,v=x===void 0?OD:x,b=AD(e,qDe),y=S.useMemo(function(){return eLe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),w=b.dx,_=b.dy,E=b.angle,A=b.className,j=b.breakAll,k=AD(b,GDe);if(!jn(r)||!jn(a))return null;var C=r+(de(w)?w:0),T=a+(de(_)?_:0),O;switch(g){case"start":O=H1("calc(".concat(c,")"));break;case"middle":O=H1("calc(".concat((y.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:O=H1("calc(".concat(y.length-1," * -").concat(o,")"));break}var L=[];if(f){var R=y[0].width,F=b.width;L.push("scale(".concat((de(F)?F/R:1)/R,")"))}return E&&L.push("rotate(".concat(E,", ").concat(C,", ").concat(T,")")),L.length&&(k.transform=L.join(" ")),M.createElement("text",dA({},Ie(k,!0),{x:C,y:T,className:Ke("recharts-text",A),textAnchor:p,fill:v.includes("url")?OD:v}),y.map(function(U,V){var D=U.words.join(j?"":" ");return M.createElement("tspan",{x:C,dy:V===0?O:o,key:"".concat(D,"-").concat(V)},D)}))};function ll(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tLe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oN(t){let e,n,r;t.length!==2?(e=ll,n=(o,l)=>ll(t(o),l),r=(o,l)=>t(o)-l):(e=t===ll||t===tLe?t:nLe,n=t,r=t);function i(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<0?c=f+1:d=f}while(c<d)}return c}function a(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function s(o,l,c=0,d=o.length){const f=i(o,l,c,d-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function nLe(){return 0}function gq(t){return t===null?NaN:+t}function*rLe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const iLe=oN(ll),Cg=iLe.right;oN(gq).center;class ND extends Map{constructor(e,n=oLe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(PD(this,e))}has(e){return super.has(PD(this,e))}set(e,n){return super.set(aLe(this,e),n)}delete(e){return super.delete(sLe(this,e))}}function PD({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function aLe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function sLe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function oLe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function lLe(t=ll){if(t===ll)return yq;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function yq(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const cLe=Math.sqrt(50),uLe=Math.sqrt(10),dLe=Math.sqrt(2);function z0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=cLe?10:a>=uLe?5:a>=dLe?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?z0(t,e,n*2):[o,l,c]}function fA(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?z0(e,t,n):z0(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function hA(t,e,n){return e=+e,t=+t,n=+n,z0(t,e,n)[2]}function pA(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?hA(e,t,n):hA(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function ID(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function $D(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function vq(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?yq:lLe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*f/l+h)),m=Math.min(r,Math.floor(e+(l-c)*f/l+h));vq(t,e,p,m,i)}const a=t[e];let s=n,o=r;for(Eh(t,n,e),i(t[r],a)>0&&Eh(t,n,r);s<o;){for(Eh(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?Eh(t,n,o):(++o,Eh(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Eh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function fLe(t,e,n){if(t=Float64Array.from(rLe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return $D(t);if(e>=1)return ID(t);var r,i=(r-1)*e,a=Math.floor(i),s=ID(vq(t,a).subarray(0,a+1)),o=$D(t.subarray(a+1));return s+(o-s)*(i-a)}}function hLe(t,e,n=gq){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function pLe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Di(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function mo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const mA=Symbol("implicit");function lN(){var t=new ND,e=[],n=[],r=mA;function i(a){let s=t.get(a);if(s===void 0){if(r!==mA)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new ND;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return lN(e,n).unknown(r)},Di.apply(i,arguments),i}function ym(){var t=lN().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,c=0,d=.5;delete t.unknown;function f(){var h=e().length,p=i<r,m=p?i:r,g=p?r:i;a=(g-m)/Math.max(1,h-l+c*2),o&&(a=Math.floor(a)),m+=(g-m-a*(h-l))*d,s=a*(1-l),o&&(m=Math.round(m),s=Math.round(s));var x=pLe(h).map(function(v){return m+a*v});return n(p?x.reverse():x)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(o=!!h,f()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return ym(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},Di.apply(f(),arguments)}function xq(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return xq(e())},t}function vp(){return xq(ym.apply(null,arguments).paddingInner(1))}function cN(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function bq(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Og(){}var vm=.7,U0=1/vm,wd="\\s*([+-]?\\d+)\\s*",xm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",as="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mLe=/^#([0-9a-f]{3,8})$/,gLe=new RegExp(`^rgb\\(${wd},${wd},${wd}\\)$`),yLe=new RegExp(`^rgb\\(${as},${as},${as}\\)$`),vLe=new RegExp(`^rgba\\(${wd},${wd},${wd},${xm}\\)$`),xLe=new RegExp(`^rgba\\(${as},${as},${as},${xm}\\)$`),bLe=new RegExp(`^hsl\\(${xm},${as},${as}\\)$`),wLe=new RegExp(`^hsla\\(${xm},${as},${as},${xm}\\)$`),RD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cN(Og,bm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:MD,formatHex:MD,formatHex8:_Le,formatHsl:SLe,formatRgb:DD,toString:DD});function MD(){return this.rgb().formatHex()}function _Le(){return this.rgb().formatHex8()}function SLe(){return wq(this).formatHsl()}function DD(){return this.rgb().formatRgb()}function bm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=mLe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?LD(e):n===3?new Cr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Dy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Dy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=gLe.exec(t))?new Cr(e[1],e[2],e[3],1):(e=yLe.exec(t))?new Cr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=vLe.exec(t))?Dy(e[1],e[2],e[3],e[4]):(e=xLe.exec(t))?Dy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=bLe.exec(t))?zD(e[1],e[2]/100,e[3]/100,1):(e=wLe.exec(t))?zD(e[1],e[2]/100,e[3]/100,e[4]):RD.hasOwnProperty(t)?LD(RD[t]):t==="transparent"?new Cr(NaN,NaN,NaN,0):null}function LD(t){return new Cr(t>>16&255,t>>8&255,t&255,1)}function Dy(t,e,n,r){return r<=0&&(t=e=n=NaN),new Cr(t,e,n,r)}function ELe(t){return t instanceof Og||(t=bm(t)),t?(t=t.rgb(),new Cr(t.r,t.g,t.b,t.opacity)):new Cr}function gA(t,e,n,r){return arguments.length===1?ELe(t):new Cr(t,e,n,r??1)}function Cr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}cN(Cr,gA,bq(Og,{brighter(t){return t=t==null?U0:Math.pow(U0,t),new Cr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?vm:Math.pow(vm,t),new Cr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Cr(Tc(this.r),Tc(this.g),Tc(this.b),H0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:FD,formatHex:FD,formatHex8:jLe,formatRgb:BD,toString:BD}));function FD(){return`#${hc(this.r)}${hc(this.g)}${hc(this.b)}`}function jLe(){return`#${hc(this.r)}${hc(this.g)}${hc(this.b)}${hc((isNaN(this.opacity)?1:this.opacity)*255)}`}function BD(){const t=H0(this.opacity);return`${t===1?"rgb(":"rgba("}${Tc(this.r)}, ${Tc(this.g)}, ${Tc(this.b)}${t===1?")":`, ${t})`}`}function H0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Tc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function hc(t){return t=Tc(t),(t<16?"0":"")+t.toString(16)}function zD(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ra(t,e,n,r)}function wq(t){if(t instanceof ra)return new ra(t.h,t.s,t.l,t.opacity);if(t instanceof Og||(t=bm(t)),!t)return new ra;if(t instanceof ra)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new ra(s,o,l,t.opacity)}function ALe(t,e,n,r){return arguments.length===1?wq(t):new ra(t,e,n,r??1)}function ra(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}cN(ra,ALe,bq(Og,{brighter(t){return t=t==null?U0:Math.pow(U0,t),new ra(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?vm:Math.pow(vm,t),new ra(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Cr(V1(t>=240?t-240:t+120,i,r),V1(t,i,r),V1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ra(UD(this.h),Ly(this.s),Ly(this.l),H0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=H0(this.opacity);return`${t===1?"hsl(":"hsla("}${UD(this.h)}, ${Ly(this.s)*100}%, ${Ly(this.l)*100}%${t===1?")":`, ${t})`}`}}));function UD(t){return t=(t||0)%360,t<0?t+360:t}function Ly(t){return Math.max(0,Math.min(1,t||0))}function V1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const uN=t=>()=>t;function kLe(t,e){return function(n){return t+n*e}}function TLe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function CLe(t){return(t=+t)==1?_q:function(e,n){return n-e?TLe(e,n,t):uN(isNaN(e)?n:e)}}function _q(t,e){var n=e-t;return n?kLe(t,n):uN(isNaN(t)?e:t)}const HD=function t(e){var n=CLe(e);function r(i,a){var s=n((i=gA(i)).r,(a=gA(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=_q(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=t,r}(1);function OLe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function NLe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function PLe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=eh(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function ILe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function V0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function $Le(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=eh(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var yA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,W1=new RegExp(yA.source,"g");function RLe(t){return function(){return t}}function MLe(t){return function(e){return t(e)+""}}function DLe(t,e){var n=yA.lastIndex=W1.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=yA.exec(t))&&(i=W1.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:V0(r,i)})),n=W1.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?MLe(l[0].x):RLe(e):(e=l.length,function(c){for(var d=0,f;d<e;++d)o[(f=l[d]).i]=f.x(c);return o.join("")})}function eh(t,e){var n=typeof e,r;return e==null||n==="boolean"?uN(e):(n==="number"?V0:n==="string"?(r=bm(e))?(e=r,HD):DLe:e instanceof bm?HD:e instanceof Date?ILe:NLe(e)?OLe:Array.isArray(e)?PLe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?$Le:V0)(t,e)}function dN(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function LLe(t,e){e===void 0&&(e=t,t=eh);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function FLe(t){return function(){return t}}function W0(t){return+t}var VD=[0,1];function dr(t){return t}function vA(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:FLe(isNaN(e)?NaN:.5)}function BLe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function zLe(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=vA(i,r),a=n(s,a)):(r=vA(r,i),a=n(a,s)),function(o){return a(r(o))}}function ULe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=vA(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=Cg(t,o,1,r)-1;return a[l](i[l](o))}}function Ng(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ww(){var t=VD,e=VD,n=eh,r,i,a,s=dr,o,l,c;function d(){var h=Math.min(t.length,e.length);return s!==dr&&(s=BLe(t[0],t[h-1])),o=h>2?ULe:zLe,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((c||(c=o(e,t.map(r),V0)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,W0),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=dN,d()},f.clamp=function(h){return arguments.length?(s=h?!0:dr,d()):s!==dr},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return r=h,i=p,d()}}function fN(){return ww()(dr,dr)}function HLe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function q0(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function af(t){return t=q0(Math.abs(t)),t?t[1]:NaN}function VLe(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function WLe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var qLe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wm(t){if(!(e=qLe.exec(t)))throw new Error("invalid format: "+t);var e;return new hN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}wm.prototype=hN.prototype;function hN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}hN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function GLe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Sq;function KLe(t,e){var n=q0(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Sq=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+q0(t,Math.max(0,e+a-1))[0]}function WD(t,e){var n=q0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const qD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:HLe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>WD(t*100,e),r:WD,s:KLe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function GD(t){return t}var KD=Array.prototype.map,YD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function YLe(t){var e=t.grouping===void 0||t.thousands===void 0?GD:VLe(KD.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?GD:WLe(KD.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=wm(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,x=f.zero,v=f.width,b=f.comma,y=f.precision,w=f.trim,_=f.type;_==="n"?(b=!0,_="g"):qD[_]||(y===void 0&&(y=12),w=!0,_="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var E=g==="$"?n:g==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",A=g==="$"?r:/[%p]/.test(_)?s:"",j=qD[_],k=/[defgprs%]/.test(_);y=y===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function C(T){var O=E,L=A,R,F,U;if(_==="c")L=j(T)+L,T="";else{T=+T;var V=T<0||1/T<0;if(T=isNaN(T)?l:j(Math.abs(T),y),w&&(T=GLe(T)),V&&+T==0&&m!=="+"&&(V=!1),O=(V?m==="("?m:o:m==="-"||m==="("?"":m)+O,L=(_==="s"?YD[8+Sq/3]:"")+L+(V&&m==="("?")":""),k){for(R=-1,F=T.length;++R<F;)if(U=T.charCodeAt(R),48>U||U>57){L=(U===46?i+T.slice(R+1):T.slice(R))+L,T=T.slice(0,R);break}}}b&&!x&&(T=e(T,1/0));var D=O.length+T.length+L.length,B=D<v?new Array(v-D+1).join(h):"";switch(b&&x&&(T=e(B+T,B.length?v-L.length:1/0),B=""),p){case"<":T=O+T+L+B;break;case"=":T=O+B+T+L;break;case"^":T=B.slice(0,D=B.length>>1)+O+T+L+B.slice(D);break;default:T=B+O+T+L;break}return a(T)}return C.toString=function(){return f+""},C}function d(f,h){var p=c((f=wm(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(af(h)/3)))*3,g=Math.pow(10,-m),x=YD[8+m/3];return function(v){return p(g*v)+x}}return{format:c,formatPrefix:d}}var Fy,pN,Eq;XLe({thousands:",",grouping:[3],currency:["$",""]});function XLe(t){return Fy=YLe(t),pN=Fy.format,Eq=Fy.formatPrefix,Fy}function ZLe(t){return Math.max(0,-af(Math.abs(t)))}function JLe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(af(e)/3)))*3-af(Math.abs(t)))}function QLe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,af(e)-af(t))+1}function jq(t,e,n,r){var i=pA(t,e,n),a;switch(r=wm(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=JLe(i,s))&&(r.precision=a),Eq(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=QLe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=ZLe(i))&&(r.precision=a-(r.type==="%")*2);break}}return pN(r)}function Ul(t){var e=t.domain;return t.ticks=function(n){var r=e();return fA(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return jq(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,d=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);d-- >0;){if(c=hA(s,o,n),c===l)return r[i]=s,r[a]=o,e(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function G0(){var t=fN();return t.copy=function(){return Ng(t,G0())},Di.apply(t,arguments),Ul(t)}function Aq(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,W0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Aq(t).unknown(e)},t=arguments.length?Array.from(t,W0):[0,1],Ul(n)}function kq(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function XD(t){return Math.log(t)}function ZD(t){return Math.exp(t)}function e4e(t){return-Math.log(-t)}function t4e(t){return-Math.exp(-t)}function n4e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function r4e(t){return t===10?n4e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function i4e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function JD(t){return(e,n)=>-t(-e,n)}function mN(t){const e=t(XD,ZD),n=e.domain;let r=10,i,a;function s(){return i=i4e(r),a=r4e(r),n()[0]<0?(i=JD(i),a=JD(a),t(e4e,t4e)):t(XD,ZD),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),p=i(d),m,g;const x=o==null?10:+o;let v=[];if(!(r%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<r;++m)if(g=h<0?m/a(-h):m*a(h),!(g<c)){if(g>d)break;v.push(g)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<c)){if(g>d)break;v.push(g)}v.length*2<x&&(v=fA(c,d,x))}else v=fA(h,p,Math.min(p-h,x)).map(a);return f?v.reverse():v},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=wm(l)).precision==null&&(l.trim=!0),l=pN(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},e.nice=()=>n(kq(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function Tq(){const t=mN(ww()).domain([1,10]);return t.copy=()=>Ng(t,Tq()).base(t.base()),Di.apply(t,arguments),t}function QD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function eL(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function gN(t){var e=1,n=t(QD(e),eL(e));return n.constant=function(r){return arguments.length?t(QD(e=+r),eL(e)):e},Ul(n)}function Cq(){var t=gN(ww());return t.copy=function(){return Ng(t,Cq()).constant(t.constant())},Di.apply(t,arguments)}function tL(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function a4e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function s4e(t){return t<0?-t*t:t*t}function yN(t){var e=t(dr,dr),n=1;function r(){return n===1?t(dr,dr):n===.5?t(a4e,s4e):t(tL(n),tL(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ul(e)}function vN(){var t=yN(ww());return t.copy=function(){return Ng(t,vN()).exponent(t.exponent())},Di.apply(t,arguments),t}function o4e(){return vN.apply(null,arguments).exponent(.5)}function nL(t){return Math.sign(t)*t*t}function l4e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Oq(){var t=fN(),e=[0,1],n=!1,r;function i(a){var s=l4e(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(nL(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,W0)).map(nL)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Oq(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Di.apply(i,arguments),Ul(i)}function Nq(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=hLe(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[Cg(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(ll),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Nq().domain(t).range(e).unknown(r)},Di.apply(a,arguments)}function Pq(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Cg(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return Pq().domain([t,e]).range(i).unknown(a)},Di.apply(Ul(s),arguments)}function Iq(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Cg(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Iq().domain(t).range(e).unknown(n)},Di.apply(i,arguments)}const q1=new Date,G1=new Date;function Tn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>Tn(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(q1.setTime(+a),G1.setTime(+s),t(q1),t(G1),Math.floor(n(q1,G1))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const K0=Tn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);K0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Tn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):K0);K0.range;const $s=1e3,Ti=$s*60,Rs=Ti*60,ao=Rs*24,xN=ao*7,rL=ao*30,K1=ao*365,pc=Tn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*$s)},(t,e)=>(e-t)/$s,t=>t.getUTCSeconds());pc.range;const bN=Tn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$s)},(t,e)=>{t.setTime(+t+e*Ti)},(t,e)=>(e-t)/Ti,t=>t.getMinutes());bN.range;const wN=Tn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ti)},(t,e)=>(e-t)/Ti,t=>t.getUTCMinutes());wN.range;const _N=Tn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$s-t.getMinutes()*Ti)},(t,e)=>{t.setTime(+t+e*Rs)},(t,e)=>(e-t)/Rs,t=>t.getHours());_N.range;const SN=Tn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Rs)},(t,e)=>(e-t)/Rs,t=>t.getUTCHours());SN.range;const Pg=Tn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ti)/ao,t=>t.getDate()-1);Pg.range;const _w=Tn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ao,t=>t.getUTCDate()-1);_w.range;const $q=Tn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ao,t=>Math.floor(t/ao));$q.range;function du(t){return Tn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ti)/xN)}const Sw=du(0),Y0=du(1),c4e=du(2),u4e=du(3),sf=du(4),d4e=du(5),f4e=du(6);Sw.range;Y0.range;c4e.range;u4e.range;sf.range;d4e.range;f4e.range;function fu(t){return Tn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/xN)}const Ew=fu(0),X0=fu(1),h4e=fu(2),p4e=fu(3),of=fu(4),m4e=fu(5),g4e=fu(6);Ew.range;X0.range;h4e.range;p4e.range;of.range;m4e.range;g4e.range;const EN=Tn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());EN.range;const jN=Tn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());jN.range;const so=Tn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());so.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Tn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});so.range;const oo=Tn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());oo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Tn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});oo.range;function Rq(t,e,n,r,i,a){const s=[[pc,1,$s],[pc,5,5*$s],[pc,15,15*$s],[pc,30,30*$s],[a,1,Ti],[a,5,5*Ti],[a,15,15*Ti],[a,30,30*Ti],[i,1,Rs],[i,3,3*Rs],[i,6,6*Rs],[i,12,12*Rs],[r,1,ao],[r,2,2*ao],[n,1,xN],[e,1,rL],[e,3,3*rL],[t,1,K1]];function o(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const p=f&&typeof f.range=="function"?f:l(c,d,f),m=p?p.range(c,+d+1):[];return h?m.reverse():m}function l(c,d,f){const h=Math.abs(d-c)/f,p=oN(([,,x])=>x).right(s,h);if(p===s.length)return t.every(pA(c/K1,d/K1,f));if(p===0)return K0.every(Math.max(pA(c,d,f),1));const[m,g]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return m.every(g)}return[o,l]}const[y4e,v4e]=Rq(oo,jN,Ew,$q,SN,wN),[x4e,b4e]=Rq(so,EN,Sw,Pg,_N,bN);function Y1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function X1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function jh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function w4e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=Ah(i),d=kh(i),f=Ah(a),h=kh(a),p=Ah(s),m=kh(s),g=Ah(o),x=kh(o),v=Ah(l),b=kh(l),y={a:V,A:D,b:B,B:P,c:null,d:cL,e:cL,f:V4e,g:e5e,G:n5e,H:z4e,I:U4e,j:H4e,L:Mq,m:W4e,M:q4e,p:W,q:G,Q:fL,s:hL,S:G4e,u:K4e,U:Y4e,V:X4e,w:Z4e,W:J4e,x:null,X:null,y:Q4e,Y:t5e,Z:r5e,"%":dL},w={a:$,A:ee,b:ie,B:I,c:null,d:uL,e:uL,f:o5e,g:y5e,G:x5e,H:i5e,I:a5e,j:s5e,L:Lq,m:l5e,M:c5e,p:N,q:K,Q:fL,s:hL,S:u5e,u:d5e,U:f5e,V:h5e,w:p5e,W:m5e,x:null,X:null,y:g5e,Y:v5e,Z:b5e,"%":dL},_={a:C,A:T,b:O,B:L,c:R,d:oL,e:oL,f:D4e,g:sL,G:aL,H:lL,I:lL,j:I4e,L:M4e,m:P4e,M:$4e,p:k,q:N4e,Q:F4e,s:B4e,S:R4e,u:A4e,U:k4e,V:T4e,w:j4e,W:C4e,x:F,X:U,y:sL,Y:aL,Z:O4e,"%":L4e};y.x=E(n,y),y.X=E(r,y),y.c=E(e,y),w.x=E(n,w),w.X=E(r,w),w.c=E(e,w);function E(z,Z){return function(J){var Y=[],me=-1,le=0,ve=z.length,oe,Be,ke;for(J instanceof Date||(J=new Date(+J));++me<ve;)z.charCodeAt(me)===37&&(Y.push(z.slice(le,me)),(Be=iL[oe=z.charAt(++me)])!=null?oe=z.charAt(++me):Be=oe==="e"?" ":"0",(ke=Z[oe])&&(oe=ke(J,Be)),Y.push(oe),le=me+1);return Y.push(z.slice(le,me)),Y.join("")}}function A(z,Z){return function(J){var Y=jh(1900,void 0,1),me=j(Y,z,J+="",0),le,ve;if(me!=J.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(Z&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(le=X1(jh(Y.y,0,1)),ve=le.getUTCDay(),le=ve>4||ve===0?X0.ceil(le):X0(le),le=_w.offset(le,(Y.V-1)*7),Y.y=le.getUTCFullYear(),Y.m=le.getUTCMonth(),Y.d=le.getUTCDate()+(Y.w+6)%7):(le=Y1(jh(Y.y,0,1)),ve=le.getDay(),le=ve>4||ve===0?Y0.ceil(le):Y0(le),le=Pg.offset(le,(Y.V-1)*7),Y.y=le.getFullYear(),Y.m=le.getMonth(),Y.d=le.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),ve="Z"in Y?X1(jh(Y.y,0,1)).getUTCDay():Y1(jh(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(ve+5)%7:Y.w+Y.U*7-(ve+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,X1(Y)):Y1(Y)}}function j(z,Z,J,Y){for(var me=0,le=Z.length,ve=J.length,oe,Be;me<le;){if(Y>=ve)return-1;if(oe=Z.charCodeAt(me++),oe===37){if(oe=Z.charAt(me++),Be=_[oe in iL?Z.charAt(me++):oe],!Be||(Y=Be(z,J,Y))<0)return-1}else if(oe!=J.charCodeAt(Y++))return-1}return Y}function k(z,Z,J){var Y=c.exec(Z.slice(J));return Y?(z.p=d.get(Y[0].toLowerCase()),J+Y[0].length):-1}function C(z,Z,J){var Y=p.exec(Z.slice(J));return Y?(z.w=m.get(Y[0].toLowerCase()),J+Y[0].length):-1}function T(z,Z,J){var Y=f.exec(Z.slice(J));return Y?(z.w=h.get(Y[0].toLowerCase()),J+Y[0].length):-1}function O(z,Z,J){var Y=v.exec(Z.slice(J));return Y?(z.m=b.get(Y[0].toLowerCase()),J+Y[0].length):-1}function L(z,Z,J){var Y=g.exec(Z.slice(J));return Y?(z.m=x.get(Y[0].toLowerCase()),J+Y[0].length):-1}function R(z,Z,J){return j(z,e,Z,J)}function F(z,Z,J){return j(z,n,Z,J)}function U(z,Z,J){return j(z,r,Z,J)}function V(z){return s[z.getDay()]}function D(z){return a[z.getDay()]}function B(z){return l[z.getMonth()]}function P(z){return o[z.getMonth()]}function W(z){return i[+(z.getHours()>=12)]}function G(z){return 1+~~(z.getMonth()/3)}function $(z){return s[z.getUTCDay()]}function ee(z){return a[z.getUTCDay()]}function ie(z){return l[z.getUTCMonth()]}function I(z){return o[z.getUTCMonth()]}function N(z){return i[+(z.getUTCHours()>=12)]}function K(z){return 1+~~(z.getUTCMonth()/3)}return{format:function(z){var Z=E(z+="",y);return Z.toString=function(){return z},Z},parse:function(z){var Z=A(z+="",!1);return Z.toString=function(){return z},Z},utcFormat:function(z){var Z=E(z+="",w);return Z.toString=function(){return z},Z},utcParse:function(z){var Z=A(z+="",!0);return Z.toString=function(){return z},Z}}}var iL={"-":"",_:" ",0:"0"},Mn=/^\s*\d+/,_4e=/^%/,S4e=/[\\^$*+?|[\]().{}]/g;function ht(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function E4e(t){return t.replace(S4e,"\\$&")}function Ah(t){return new RegExp("^(?:"+t.map(E4e).join("|")+")","i")}function kh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function j4e(t,e,n){var r=Mn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function A4e(t,e,n){var r=Mn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function k4e(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function T4e(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function C4e(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function aL(t,e,n){var r=Mn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function sL(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function O4e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function N4e(t,e,n){var r=Mn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function P4e(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function oL(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function I4e(t,e,n){var r=Mn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function lL(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function $4e(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function R4e(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function M4e(t,e,n){var r=Mn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function D4e(t,e,n){var r=Mn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function L4e(t,e,n){var r=_4e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function F4e(t,e,n){var r=Mn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function B4e(t,e,n){var r=Mn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function cL(t,e){return ht(t.getDate(),e,2)}function z4e(t,e){return ht(t.getHours(),e,2)}function U4e(t,e){return ht(t.getHours()%12||12,e,2)}function H4e(t,e){return ht(1+Pg.count(so(t),t),e,3)}function Mq(t,e){return ht(t.getMilliseconds(),e,3)}function V4e(t,e){return Mq(t,e)+"000"}function W4e(t,e){return ht(t.getMonth()+1,e,2)}function q4e(t,e){return ht(t.getMinutes(),e,2)}function G4e(t,e){return ht(t.getSeconds(),e,2)}function K4e(t){var e=t.getDay();return e===0?7:e}function Y4e(t,e){return ht(Sw.count(so(t)-1,t),e,2)}function Dq(t){var e=t.getDay();return e>=4||e===0?sf(t):sf.ceil(t)}function X4e(t,e){return t=Dq(t),ht(sf.count(so(t),t)+(so(t).getDay()===4),e,2)}function Z4e(t){return t.getDay()}function J4e(t,e){return ht(Y0.count(so(t)-1,t),e,2)}function Q4e(t,e){return ht(t.getFullYear()%100,e,2)}function e5e(t,e){return t=Dq(t),ht(t.getFullYear()%100,e,2)}function t5e(t,e){return ht(t.getFullYear()%1e4,e,4)}function n5e(t,e){var n=t.getDay();return t=n>=4||n===0?sf(t):sf.ceil(t),ht(t.getFullYear()%1e4,e,4)}function r5e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ht(e/60|0,"0",2)+ht(e%60,"0",2)}function uL(t,e){return ht(t.getUTCDate(),e,2)}function i5e(t,e){return ht(t.getUTCHours(),e,2)}function a5e(t,e){return ht(t.getUTCHours()%12||12,e,2)}function s5e(t,e){return ht(1+_w.count(oo(t),t),e,3)}function Lq(t,e){return ht(t.getUTCMilliseconds(),e,3)}function o5e(t,e){return Lq(t,e)+"000"}function l5e(t,e){return ht(t.getUTCMonth()+1,e,2)}function c5e(t,e){return ht(t.getUTCMinutes(),e,2)}function u5e(t,e){return ht(t.getUTCSeconds(),e,2)}function d5e(t){var e=t.getUTCDay();return e===0?7:e}function f5e(t,e){return ht(Ew.count(oo(t)-1,t),e,2)}function Fq(t){var e=t.getUTCDay();return e>=4||e===0?of(t):of.ceil(t)}function h5e(t,e){return t=Fq(t),ht(of.count(oo(t),t)+(oo(t).getUTCDay()===4),e,2)}function p5e(t){return t.getUTCDay()}function m5e(t,e){return ht(X0.count(oo(t)-1,t),e,2)}function g5e(t,e){return ht(t.getUTCFullYear()%100,e,2)}function y5e(t,e){return t=Fq(t),ht(t.getUTCFullYear()%100,e,2)}function v5e(t,e){return ht(t.getUTCFullYear()%1e4,e,4)}function x5e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?of(t):of.ceil(t),ht(t.getUTCFullYear()%1e4,e,4)}function b5e(){return"+0000"}function dL(){return"%"}function fL(t){return+t}function hL(t){return Math.floor(+t/1e3)}var Cu,Bq,zq;w5e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function w5e(t){return Cu=w4e(t),Bq=Cu.format,Cu.parse,zq=Cu.utcFormat,Cu.utcParse,Cu}function _5e(t){return new Date(t)}function S5e(t){return t instanceof Date?+t:+new Date(+t)}function AN(t,e,n,r,i,a,s,o,l,c){var d=fN(),f=d.invert,h=d.domain,p=c(".%L"),m=c(":%S"),g=c("%I:%M"),x=c("%I %p"),v=c("%a %d"),b=c("%b %d"),y=c("%B"),w=c("%Y");function _(E){return(l(E)<E?p:o(E)<E?m:s(E)<E?g:a(E)<E?x:r(E)<E?i(E)<E?v:b:n(E)<E?y:w)(E)}return d.invert=function(E){return new Date(f(E))},d.domain=function(E){return arguments.length?h(Array.from(E,S5e)):h().map(_5e)},d.ticks=function(E){var A=h();return t(A[0],A[A.length-1],E??10)},d.tickFormat=function(E,A){return A==null?_:c(A)},d.nice=function(E){var A=h();return(!E||typeof E.range!="function")&&(E=e(A[0],A[A.length-1],E??10)),E?h(kq(A,E)):d},d.copy=function(){return Ng(d,AN(t,e,n,r,i,a,s,o,l,c))},d}function E5e(){return Di.apply(AN(x4e,b4e,so,EN,Sw,Pg,_N,bN,pc,Bq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function j5e(){return Di.apply(AN(y4e,v4e,oo,jN,Ew,_w,SN,wN,pc,zq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jw(){var t=0,e=1,n,r,i,a,s=dr,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,s=f(p,m),c):[s(0),s(1)]}}return c.range=d(eh),c.rangeRound=d(dN),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function Hl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Uq(){var t=Ul(jw()(dr));return t.copy=function(){return Hl(t,Uq())},mo.apply(t,arguments)}function Hq(){var t=mN(jw()).domain([1,10]);return t.copy=function(){return Hl(t,Hq()).base(t.base())},mo.apply(t,arguments)}function Vq(){var t=gN(jw());return t.copy=function(){return Hl(t,Vq()).constant(t.constant())},mo.apply(t,arguments)}function kN(){var t=yN(jw());return t.copy=function(){return Hl(t,kN()).exponent(t.exponent())},mo.apply(t,arguments)}function A5e(){return kN.apply(null,arguments).exponent(.5)}function Wq(){var t=[],e=dr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Cg(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ll),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>fLe(t,a/r))},n.copy=function(){return Wq(e).domain(t)},mo.apply(n,arguments)}function Aw(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,c=dr,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(r*g<r*a?o:l),c(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=d(t=+t),a=d(e=+e),s=d(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(c=g,p):c};function m(g){return function(x){var v,b,y;return arguments.length?([v,b,y]=x,c=LLe(g,[v,b,y]),p):[c(0),c(.5),c(1)]}}return p.range=m(eh),p.rangeRound=m(dN),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,i=g(t),a=g(e),s=g(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function qq(){var t=Ul(Aw()(dr));return t.copy=function(){return Hl(t,qq())},mo.apply(t,arguments)}function Gq(){var t=mN(Aw()).domain([.1,1,10]);return t.copy=function(){return Hl(t,Gq()).base(t.base())},mo.apply(t,arguments)}function Kq(){var t=gN(Aw());return t.copy=function(){return Hl(t,Kq()).constant(t.constant())},mo.apply(t,arguments)}function TN(){var t=yN(Aw());return t.copy=function(){return Hl(t,TN()).exponent(t.exponent())},mo.apply(t,arguments)}function k5e(){return TN.apply(null,arguments).exponent(.5)}const pL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ym,scaleDiverging:qq,scaleDivergingLog:Gq,scaleDivergingPow:TN,scaleDivergingSqrt:k5e,scaleDivergingSymlog:Kq,scaleIdentity:Aq,scaleImplicit:mA,scaleLinear:G0,scaleLog:Tq,scaleOrdinal:lN,scalePoint:vp,scalePow:vN,scaleQuantile:Nq,scaleQuantize:Pq,scaleRadial:Oq,scaleSequential:Uq,scaleSequentialLog:Hq,scaleSequentialPow:kN,scaleSequentialQuantile:Wq,scaleSequentialSqrt:A5e,scaleSequentialSymlog:Vq,scaleSqrt:o4e,scaleSymlog:Cq,scaleThreshold:Iq,scaleTime:E5e,scaleUtc:j5e,tickFormat:jq},Symbol.toStringTag,{value:"Module"}));var T5e=Wf;function C5e(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(s!=null&&(o===void 0?s===s&&!T5e(s):n(s,o)))var o=s,l=a}return l}var kw=C5e;function O5e(t,e){return t>e}var Yq=O5e,N5e=kw,P5e=Yq,I5e=Qf;function $5e(t){return t&&t.length?N5e(t,I5e,P5e):void 0}var R5e=$5e;const Ko=at(R5e);function M5e(t,e){return t<e}var Xq=M5e,D5e=kw,L5e=Xq,F5e=Qf;function B5e(t){return t&&t.length?D5e(t,F5e,L5e):void 0}var z5e=B5e;const Tw=at(z5e);var U5e=UO,H5e=xs,V5e=iq,W5e=Br;function q5e(t,e){var n=W5e(t)?U5e:V5e;return n(t,H5e(e))}var G5e=q5e,K5e=nq,Y5e=G5e;function X5e(t,e){return K5e(Y5e(t,e),1)}var Z5e=X5e;const J5e=at(Z5e);var Q5e=rN;function e3e(t,e){return Q5e(t,e)}var t3e=e3e;const Gc=at(t3e);var th=1e9,n3e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ON,Gt=!0,Ii="[DecimalError] ",Cc=Ii+"Invalid argument: ",CN=Ii+"Exponent out of range: ",nh=Math.floor,ac=Math.pow,r3e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xr,Pn=1e7,Bt=7,Zq=9007199254740991,Z0=nh(Zq/Bt),je={};je.absoluteValue=je.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};je.comparedTo=je.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};je.decimalPlaces=je.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Bt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};je.dividedBy=je.div=function(t){return Ws(this,new this.constructor(t))};je.dividedToIntegerBy=je.idiv=function(t){var e=this,n=e.constructor;return jt(Ws(e,new n(t),0,1),n.precision)};je.equals=je.eq=function(t){return!this.cmp(t)};je.exponent=function(){return xn(this)};je.greaterThan=je.gt=function(t){return this.cmp(t)>0};je.greaterThanOrEqualTo=je.gte=function(t){return this.cmp(t)>=0};je.isInteger=je.isint=function(){return this.e>this.d.length-2};je.isNegative=je.isneg=function(){return this.s<0};je.isPositive=je.ispos=function(){return this.s>0};je.isZero=function(){return this.s===0};je.lessThan=je.lt=function(t){return this.cmp(t)<0};je.lessThanOrEqualTo=je.lte=function(t){return this.cmp(t)<1};je.logarithm=je.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Xr))throw Error(Ii+"NaN");if(n.s<1)throw Error(Ii+(n.s?"NaN":"-Infinity"));return n.eq(Xr)?new r(0):(Gt=!1,e=Ws(_m(n,a),_m(t,a),a),Gt=!0,jt(e,i))};je.minus=je.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?eG(e,t):Jq(e,(t.s=-t.s,t))};je.modulo=je.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ii+"NaN");return n.s?(Gt=!1,e=Ws(n,t,0,1).times(t),Gt=!0,n.minus(e)):jt(new r(n),i)};je.naturalExponential=je.exp=function(){return Qq(this)};je.naturalLogarithm=je.ln=function(){return _m(this)};je.negated=je.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};je.plus=je.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Jq(e,t):eG(e,(t.s=-t.s,t))};je.precision=je.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Cc+t);if(e=xn(i)+1,r=i.d.length-1,n=r*Bt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};je.squareRoot=je.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ii+"NaN")}for(t=xn(o),Gt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Xa(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=nh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(Ws(o,a,s+2)).times(.5),Xa(a.d).slice(0,s)===(e=Xa(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(jt(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return Gt=!0,jt(r,n)};je.times=je.mul=function(t){var e,n,r,i,a,s,o,l,c,d=this,f=d.constructor,h=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+p[r]*h[i-r-1]+e,a[i--]=o%Pn|0,e=o/Pn|0;a[i]=(a[i]+e)%Pn|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Gt?jt(t,f.precision):t};je.toDecimalPlaces=je.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ps(t,0,th),e===void 0?e=r.rounding:ps(e,0,8),jt(n,t+xn(n)+1,e))};je.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Kc(r,!0):(ps(t,0,th),e===void 0?e=i.rounding:ps(e,0,8),r=jt(new i(r),t+1,e),n=Kc(r,!0,t+1)),n};je.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Kc(i):(ps(t,0,th),e===void 0?e=a.rounding:ps(e,0,8),r=jt(new a(i),t+xn(i)+1,e),n=Kc(r.abs(),!1,t+xn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};je.toInteger=je.toint=function(){var t=this,e=t.constructor;return jt(new e(t),xn(t)+1,e.rounding)};je.toNumber=function(){return+this};je.toPower=je.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(Xr);if(o=new l(o),!o.s){if(t.s<1)throw Error(Ii+"Infinity");return o}if(o.eq(Xr))return o;if(r=l.precision,t.eq(Xr))return jt(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=d<0?-d:d)<=Zq){for(i=new l(Xr),e=Math.ceil(r/Bt+4),Gt=!1;n%2&&(i=i.times(o),gL(i.d,e)),n=nh(n/2),n!==0;)o=o.times(o),gL(o.d,e);return Gt=!0,t.s<0?new l(Xr).div(i):jt(i,r)}}else if(a<0)throw Error(Ii+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Gt=!1,i=t.times(_m(o,r+c)),Gt=!0,i=Qq(i),i.s=a,i};je.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=xn(i),r=Kc(i,n<=a.toExpNeg||n>=a.toExpPos)):(ps(t,1,th),e===void 0?e=a.rounding:ps(e,0,8),i=jt(new a(i),t,e),n=xn(i),r=Kc(i,t<=n||n<=a.toExpNeg,t)),r};je.toSignificantDigits=je.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ps(t,1,th),e===void 0?e=r.rounding:ps(e,0,8)),jt(new r(n),t,e)};je.toString=je.valueOf=je.val=je.toJSON=je[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=xn(t),n=t.constructor;return Kc(t,e<=n.toExpNeg||e>=n.toExpPos)};function Jq(t,e){var n,r,i,a,s,o,l,c,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Gt?jt(e,f):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(f/Bt),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/Pn|0,l[a]%=Pn;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Gt?jt(e,f):e}function ps(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Cc+t)}function Xa(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Bt-r.length,n&&(a+=Po(n)),a+=r;s=t[e],r=s+"",n=Bt-r.length,n&&(a+=Po(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Ws=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%Pn|0,s=a/Pn|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Pn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,d,f,h,p,m,g,x,v,b,y,w,_,E,A,j,k=r.constructor,C=r.s==i.s?1:-1,T=r.d,O=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(Ii+"Division by zero");for(l=r.e-i.e,A=O.length,_=T.length,p=new k(C),m=p.d=[],c=0;O[c]==(T[c]||0);)++c;if(O[c]>(T[c]||0)&&--l,a==null?b=a=k.precision:s?b=a+(xn(r)-xn(i))+1:b=a,b<0)return new k(0);if(b=b/Bt+2|0,c=0,A==1)for(d=0,O=O[0],b++;(c<_||d)&&b--;c++)y=d*Pn+(T[c]||0),m[c]=y/O|0,d=y%O|0;else{for(d=Pn/(O[0]+1)|0,d>1&&(O=t(O,d),T=t(T,d),A=O.length,_=T.length),w=A,g=T.slice(0,A),x=g.length;x<A;)g[x++]=0;j=O.slice(),j.unshift(0),E=O[0],O[1]>=Pn/2&&++E;do d=0,o=e(O,g,A,x),o<0?(v=g[0],A!=x&&(v=v*Pn+(g[1]||0)),d=v/E|0,d>1?(d>=Pn&&(d=Pn-1),f=t(O,d),h=f.length,x=g.length,o=e(f,g,h,x),o==1&&(d--,n(f,A<h?j:O,h))):(d==0&&(o=d=1),f=O.slice()),h=f.length,h<x&&f.unshift(0),n(g,f,x),o==-1&&(x=g.length,o=e(O,g,A,x),o<1&&(d++,n(g,A<x?j:O,x))),x=g.length):o===0&&(d++,g=[0]),m[c++]=d,o&&g[0]?g[x++]=T[w]||0:(g=[T[w]],x=1);while((w++<_||g[0]!==void 0)&&b--)}return m[0]||m.shift(),p.e=l,jt(p,s?a+xn(p)+1:a)}}();function Qq(t,e){var n,r,i,a,s,o,l=0,c=0,d=t.constructor,f=d.precision;if(xn(t)>16)throw Error(CN+xn(t));if(!t.s)return new d(Xr);for(e==null?(Gt=!1,o=f):o=e,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(ac(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new d(Xr),d.precision=o;;){if(i=jt(i.times(t),o),n=n.times(++l),s=a.plus(Ws(i,n,o)),Xa(s.d).slice(0,o)===Xa(a.d).slice(0,o)){for(;c--;)a=jt(a.times(a),o);return d.precision=f,e==null?(Gt=!0,jt(a,f)):a}a=s}}function xn(t){for(var e=t.e*Bt,n=t.d[0];n>=10;n/=10)e++;return e}function Z1(t,e,n){if(e>t.LN10.sd())throw Gt=!0,n&&(t.precision=n),Error(Ii+"LN10 precision limit exceeded");return jt(new t(t.LN10),e)}function Po(t){for(var e="";t--;)e+="0";return e}function _m(t,e){var n,r,i,a,s,o,l,c,d,f=1,h=10,p=t,m=p.d,g=p.constructor,x=g.precision;if(p.s<1)throw Error(Ii+(p.s?"NaN":"-Infinity"));if(p.eq(Xr))return new g(0);if(e==null?(Gt=!1,c=x):c=e,p.eq(10))return e==null&&(Gt=!0),Z1(g,c);if(c+=h,g.precision=c,n=Xa(m),r=n.charAt(0),a=xn(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Xa(p.d),r=n.charAt(0),f++;a=xn(p),r>1?(p=new g("0."+n),a++):p=new g(r+"."+n.slice(1))}else return l=Z1(g,c+2,x).times(a+""),p=_m(new g(r+"."+n.slice(1)),c-h).plus(l),g.precision=x,e==null?(Gt=!0,jt(p,x)):p;for(o=s=p=Ws(p.minus(Xr),p.plus(Xr),c),d=jt(p.times(p),c),i=3;;){if(s=jt(s.times(d),c),l=o.plus(Ws(s,new g(i),c)),Xa(l.d).slice(0,c)===Xa(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(Z1(g,c+2,x).times(a+""))),o=Ws(o,new g(f),c),g.precision=x,e==null?(Gt=!0,jt(o,x)):o;o=l,i+=2}}function mL(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=nh(n/Bt),t.d=[],r=(n+1)%Bt,n<0&&(r+=Bt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Bt;r<i;)t.d.push(+e.slice(r,r+=Bt));e=e.slice(r),r=Bt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Gt&&(t.e>Z0||t.e<-Z0))throw Error(CN+n)}else t.s=0,t.e=0,t.d=[0];return t}function jt(t,e,n){var r,i,a,s,o,l,c,d,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Bt,i=e,c=f[d=0];else{if(d=Math.ceil((r+1)/Bt),a=f.length,d>=a)return t;for(c=a=f[d],s=1;a>=10;a/=10)s++;r%=Bt,i=r-Bt+s}if(n!==void 0&&(a=ac(10,s-i-1),o=c/a%10|0,l=e<0||f[d+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/ac(10,s-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=xn(t),f.length=1,e=e-a-1,f[0]=ac(10,(Bt-e%Bt)%Bt),t.e=nh(-e/Bt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=ac(10,Bt-r),f[d]=i>0?(c/ac(10,s-i)%ac(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==Pn&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=Pn)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Gt&&(t.e>Z0||t.e<-Z0))throw Error(CN+xn(t));return t}function eG(t,e){var n,r,i,a,s,o,l,c,d,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Gt?jt(e,p):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),s=c-r,s){for(d=s<0,d?(n=l,s=-s,o=f.length):(n=f,r=c,o=l.length),i=Math.max(Math.ceil(p/Bt),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Pn-1;--l[a],l[i]+=Pn}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Gt?jt(e,p):e):new h(0)}function Kc(t,e,n){var r,i=xn(t),a=Xa(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Po(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Po(-i-1)+a,n&&(r=n-s)>0&&(a+=Po(r))):i>=s?(a+=Po(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Po(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Po(r))),t.s<0?"-"+a:a}function gL(t,e){if(t.length>e)return t.length=e,!0}function tG(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Cc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return mL(s,a.toString())}else if(typeof a!="string")throw Error(Cc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,r3e.test(a))mL(s,a);else throw Error(Cc+a)}if(i.prototype=je,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=tG,i.config=i.set=i3e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function i3e(t){if(!t||typeof t!="object")throw Error(Ii+"Object expected");var e,n,r,i=["precision",1,th,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(nh(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Cc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Cc+n+": "+r);return this}var ON=tG(n3e);Xr=new ON(1);const Et=ON;function a3e(t){return c3e(t)||l3e(t)||o3e(t)||s3e()}function s3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o3e(t,e){if(t){if(typeof t=="string")return xA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xA(t,e)}}function l3e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function c3e(t){if(Array.isArray(t))return xA(t)}function xA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var u3e=function(e){return e},nG={"@@functional/placeholder":!0},rG=function(e){return e===nG},yL=function(e){return function n(){return arguments.length===0||arguments.length===1&&rG(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},d3e=function t(e,n){return e===1?n:yL(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==nG}).length;return s>=e?n.apply(void 0,i):t(e-s,yL(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var d=i.map(function(f){return rG(f)?l.shift():f});return n.apply(void 0,a3e(d).concat(l))}))})},Cw=function(e){return d3e(e.length,e)},bA=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},f3e=Cw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),h3e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return u3e;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},wA=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},iG=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(o,l){return o===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function p3e(t){var e;return t===0?e=1:e=Math.floor(new Et(t).abs().log(10).toNumber())+1,e}function m3e(t,e,n){for(var r=new Et(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var g3e=Cw(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),y3e=Cw(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),v3e=Cw(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Ow={rangeStep:m3e,getDigitCount:p3e,interpolateNumber:g3e,uninterpolateNumber:y3e,uninterpolateTruncation:v3e};function _A(t){return w3e(t)||b3e(t)||aG(t)||x3e()}function x3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b3e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function w3e(t){if(Array.isArray(t))return SA(t)}function Sm(t,e){return E3e(t)||S3e(t,e)||aG(t,e)||_3e()}function _3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aG(t,e){if(t){if(typeof t=="string")return SA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SA(t,e)}}function SA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S3e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function E3e(t){if(Array.isArray(t))return t}function sG(t){var e=Sm(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function oG(t,e,n){if(t.lte(0))return new Et(0);var r=Ow.getDigitCount(t.toNumber()),i=new Et(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new Et(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?l:new Et(Math.ceil(l))}function j3e(t,e,n){var r=1,i=new Et(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Et(10).pow(Ow.getDigitCount(t)-1),i=new Et(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Et(Math.floor(t)))}else t===0?i=new Et(Math.floor((e-1)/2)):n||(i=new Et(Math.floor(t)));var s=Math.floor((e-1)/2),o=h3e(f3e(function(l){return i.add(new Et(l-s).mul(r)).toNumber()}),bA);return o(0,e)}function lG(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Et(0),tickMin:new Et(0),tickMax:new Et(0)};var a=oG(new Et(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Et(0):(s=new Et(t).add(e).div(2),s=s.sub(new Et(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new Et(e).sub(s).div(a).toNumber()),c=o+l+1;return c>n?lG(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,o=e>0?o:o+(n-c)),{step:a,tickMin:s.sub(new Et(o).mul(a)),tickMax:s.add(new Et(l).mul(a))})}function A3e(t){var e=Sm(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=sG([n,r]),l=Sm(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(_A(bA(0,i-1).map(function(){return 1/0}))):[].concat(_A(bA(0,i-1).map(function(){return-1/0})),[d]);return n>r?wA(f):f}if(c===d)return j3e(c,i,a);var h=lG(c,d,s,a),p=h.step,m=h.tickMin,g=h.tickMax,x=Ow.rangeStep(m,g.add(new Et(.1).mul(p)),p);return n>r?wA(x):x}function k3e(t,e){var n=Sm(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=sG([r,i]),o=Sm(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(e,2),f=oG(new Et(c).sub(l).div(d-1),a,0),h=[].concat(_A(Ow.rangeStep(new Et(l),new Et(c).sub(new Et(.99).mul(f)),f)),[c]);return r>i?wA(h):h}var T3e=iG(A3e),C3e=iG(k3e),O3e="Invariant failed";function Yc(t,e){throw new Error(O3e)}var N3e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function J0(){return J0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J0.apply(this,arguments)}function P3e(t,e){return M3e(t)||R3e(t,e)||$3e(t,e)||I3e()}function I3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $3e(t,e){if(t){if(typeof t=="string")return vL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vL(t,e)}}function vL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function R3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function M3e(t){if(Array.isArray(t))return t}function D3e(t,e){if(t==null)return{};var n=L3e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function L3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function F3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B3e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dG(r.key),r)}}function z3e(t,e,n){return e&&B3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function U3e(t,e,n){return e=Q0(e),H3e(t,cG()?Reflect.construct(e,n||[],Q0(t).constructor):e.apply(t,n))}function H3e(t,e){if(e&&(lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V3e(t)}function V3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cG=function(){return!!t})()}function Q0(t){return Q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q0(t)}function W3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EA(t,e)}function EA(t,e){return EA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EA(t,e)}function uG(t,e,n){return e=dG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dG(t){var e=q3e(t,"string");return lf(e)=="symbol"?e:e+""}function q3e(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ig=function(t){function e(){return F3e(this,e),U3e(this,e,arguments)}return W3e(e,t),z3e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=D3e(r,N3e),p=Ie(h,!1);this.props.direction==="x"&&d.type!=="number"&&Yc();var m=l.map(function(g){var x=c(g,o),v=x.x,b=x.y,y=x.value,w=x.errorVal;if(!w)return null;var _=[],E,A;if(Array.isArray(w)){var j=P3e(w,2);E=j[0],A=j[1]}else E=A=w;if(a==="vertical"){var k=d.scale,C=b+i,T=C+s,O=C-s,L=k(y-E),R=k(y+A);_.push({x1:R,y1:T,x2:R,y2:O}),_.push({x1:L,y1:C,x2:R,y2:C}),_.push({x1:L,y1:T,x2:L,y2:O})}else if(a==="horizontal"){var F=f.scale,U=v+i,V=U-s,D=U+s,B=F(y-E),P=F(y+A);_.push({x1:V,y1:P,x2:D,y2:P}),_.push({x1:U,y1:B,x2:U,y2:P}),_.push({x1:V,y1:B,x2:D,y2:B})}return M.createElement(ot,J0({className:"recharts-errorBar",key:"bar-".concat(_.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},p),_.map(function(W){return M.createElement("line",J0({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return M.createElement(ot,{className:"recharts-errorBars"},m)}}])}(M.Component);uG(Ig,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});uG(Ig,"displayName","ErrorBar");function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}function xL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xL(Object(n),!0).forEach(function(r){G3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G3e(t,e,n){return e=K3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K3e(t){var e=Y3e(t,"string");return Em(e)=="symbol"?e:e+""}function Y3e(t,e){if(Em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fG=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Kr(n,ol);if(!s)return null;var o=ol.defaultProps,l=o!==void 0?Kl(Kl({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:a==="children"?c=(r||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(g){return{type:s.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Kl(Kl({},h),f.props):{},m=p.dataKey,g=p.name,x=p.legendType,v=p.hide;return{inactive:v,dataKey:m,type:l.iconType||x||"square",color:NN(f),value:g||m,payload:p}}),Kl(Kl(Kl({},l),ol.getWithHeight(s,i)),{},{payload:c,item:s})};function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(t)}function bL(t){return Q3e(t)||J3e(t)||Z3e(t)||X3e()}function X3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z3e(t,e){if(t){if(typeof t=="string")return jA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jA(t,e)}}function J3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Q3e(t){if(Array.isArray(t))return jA(t)}function jA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(n),!0).forEach(function(r){_d(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _d(t,e,n){return e=eFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eFe(t){var e=tFe(t,"string");return jm(e)=="symbol"?e:e+""}function tFe(t,e){if(jm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cn(t,e,n){return Ve(t)||Ve(e)?n:jn(e)?ai(t,e,n):Ue(e)?e(t):n}function xp(t,e,n,r){var i=J5e(t,function(o){return cn(o,e)});if(n==="number"){var a=i.filter(function(o){return de(o)||parseFloat(o)});return a.length?[Tw(a),Ko(a)]:[1/0,-1/0]}var s=r?i.filter(function(o){return!Ve(o)}):i;return s.map(function(o){return jn(o)||o instanceof Date?o:""})}var nFe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<o;c++){var d=c>0?i[c-1].coordinate:i[o-1].coordinate,f=i[c].coordinate,h=c>=o-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(cr(f-d)!==cr(h-f)){var m=[];if(cr(h-f)===cr(l[1]-l[0])){p=h;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+d)/2),m[1]=Math.max(g,(g+d)/2)}else{p=d;var x=h+l[1]-l[0];m[0]=Math.min(f,(x+f)/2),m[1]=Math.max(f,(x+f)/2)}var v=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>v[0]&&e<=v[1]||e>=m[0]&&e<=m[1]){s=i[c].index;break}}else{var b=Math.min(d,h),y=Math.max(d,h);if(e>(b+f)/2&&e<=(y+f)/2){s=i[c].index;break}}}else for(var w=0;w<o;w++)if(w===0&&e<=(r[w].coordinate+r[w+1].coordinate)/2||w>0&&w<o-1&&e>(r[w].coordinate+r[w-1].coordinate)/2&&e<=(r[w].coordinate+r[w+1].coordinate)/2||w===o-1&&e>(r[w].coordinate+r[w-1].coordinate)/2){s=r[w].index;break}return s},NN=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?sn(sn({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},rFe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,c=o.length;l<c;l++)for(var d=a[o[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],g=m.items,x=m.cateAxisId,v=g.filter(function(A){return Vs(A.type).indexOf("Bar")>=0});if(v&&v.length){var b=v[0].type.defaultProps,y=b!==void 0?sn(sn({},b),v[0].props):v[0].props,w=y.barSize,_=y[x];s[_]||(s[_]=[]);var E=Ve(w)?n:w;s[_].push({item:v[0],stackList:v.slice(1),barSize:Ve(E)?void 0:ur(E,r,0)})}}return s},iFe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var c=ur(n,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/l,m=s.reduce(function(w,_){return w+_.barSize||0},0);m+=(l-1)*c,m>=i&&(m-=(l-1)*c,c=0),m>=i&&p>0&&(h=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,x={offset:g-c,size:0};d=s.reduce(function(w,_){var E={item:_.item,position:{offset:x.offset+x.size+c,size:h?p:_.barSize}},A=[].concat(bL(w),[E]);return x=A[A.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(j){A.push({item:j,position:x})}),A},f)}else{var v=ur(r,i,0,!0);i-2*v-(l-1)*c<=0&&(c=0);var b=(i-2*v-(l-1)*c)/l;b>1&&(b>>=0);var y=o===+o?Math.min(b,o):b;d=s.reduce(function(w,_,E){var A=[].concat(bL(w),[{item:_.item,position:{offset:v+(b+c)*E+(b-y)/2,size:y}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(j){A.push({item:j,position:A[A.length-1].position})}),A},f)}return d},aFe=function(e,n,r,i){var a=r.children,s=r.width,o=r.margin,l=s-(o.left||0)-(o.right||0),c=fG({children:a,legendWidth:l});if(c){var d=i||{},f=d.width,h=d.height,p=c.align,m=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&de(e[p]))return sn(sn({},e),{},_d({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&de(e[m]))return sn(sn({},e),{},_d({},m,e[m]+(h||0)))}return e},sFe=function(e,n,r){return Ve(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},hG=function(e,n,r,i,a){var s=n.props.children,o=si(s,Ig).filter(function(c){return sFe(i,a,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var f=cn(d,r);if(Ve(f))return c;var h=Array.isArray(f)?[Tw(f),Ko(f)]:[f,f],p=l.reduce(function(m,g){var x=cn(d,g,0),v=h[0]-Math.abs(Array.isArray(x)?x[0]:x),b=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(v,m[0]),Math.max(b,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},oFe=function(e,n,r,i,a){var s=n.map(function(o){return hG(e,o,r,a,i)}).filter(function(o){return!Ve(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},pG=function(e,n,r,i,a){var s=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&hG(e,l,c,i)||xp(e,c,r,a)});if(r==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)o[c[d]]||(o[c[d]]=!0,l.push(c[d]));return l},[])},mG=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},gG=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate});return a||o.push(n),s||o.push(r),o},Ms=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?cr(o[0]-o[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return d.filter(function(f){return!Xf(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:a?a[f]:f,index:h,offset:c}})},J1=new WeakMap,By=function(e,n){if(typeof n!="function")return e;J1.has(e)||J1.set(e,new WeakMap);var r=J1.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},yG=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:ym(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:G0(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:vp(),realScaleType:"point"}:a==="category"?{scale:ym(),realScaleType:"band"}:{scale:G0(),realScaleType:"linear"};if(Ag(i)){var l="scale".concat(pw(i));return{scale:(pL[l]||vp)(),realScaleType:pL[l]?l:"point"}}return Ue(i)?{scale:i}:{scale:vp(),realScaleType:"point"}},_L=1e-4,vG=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-_L,s=Math.max(i[0],i[1])+_L,o=e(n[0]),l=e(n[r-1]);(o<a||o>s||l<a||l>s)&&e.domain([n[0],n[r-1]])}},lFe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},cFe=function(e,n){if(!n||n.length!==2||!de(n[0])||!de(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!de(e[0])||e[0]<r)&&(a[0]=r),(!de(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},uFe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,o=0;o<n;++o){var l=Xf(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1])}},dFe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var o=Xf(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},fFe={sign:uFe,expand:NCe,none:Qd,silhouette:PCe,wiggle:ICe,positive:dFe},hFe=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),a=fFe[r],s=OCe().keys(i).value(function(o,l){return+cn(o,l,0)}).order(Xj).offset(a);return s(e)},pFe=function(e,n,r,i,a,s){if(!e)return null;var o=s?n.reverse():n,l={},c=o.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?sn(sn({},h.type.defaultProps),h.props):h.props,g=m.stackId,x=m.hide;if(x)return f;var v=m[r],b=f[v]||{hasStack:!1,stackGroups:{}};if(jn(g)){var y=b.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};y.items.push(h),b.hasStack=!0,b.stackGroups[g]=y}else b.stackGroups[uu("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return sn(sn({},f),{},_d({},v,b))},l),d={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,x){var v=p.stackGroups[x];return sn(sn({},g),{},_d({},x,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:hFe(e,v.items,a)}))},m)}return sn(sn({},f),{},_d({},h,p))},d)},xG=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=T3e(c,a,o);return e.domain([Tw(d),Ko(d)]),{niceTicks:d}}if(a&&i==="number"){var f=e.domain(),h=C3e(f,a,o);return{niceTicks:h}}return null};function ex(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ve(i[e.dataKey])){var o=A0(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=cn(i,Ve(s)?e.dataKey:s);return Ve(l)?null:e.scale(l)}var SL=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=cn(s,n.dataKey,n.domain[o]);return Ve(l)?null:n.scale(l)-a/2+i},mFe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},gFe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?sn(sn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(jn(a)){var s=n[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},yFe=function(e){return e.reduce(function(n,r){return[Tw(r.concat([n[0]]).filter(de)),Ko(r.concat([n[1]]).filter(de))]},[1/0,-1/0])},bG=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(c,d){var f=yFe(d.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},EL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AA=function(e,n,r){if(Ue(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(de(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(EL.test(e[0])){var a=+EL.exec(e[0])[1];i[0]=n[0]-a}else Ue(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(de(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(jL.test(e[1])){var s=+jL.exec(e[1])[1];i[1]=n[1]+s}else Ue(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},tx=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=aN(n,function(f){return f.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],d=a[o-1];s=Math.min((c.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},AL=function(e,n,r){return!e||!e.length||Gc(e,ai(r,"type.defaultProps.domain"))?n:e},wG=function(e,n){var r=e.type.defaultProps?sn(sn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,d=r.hide;return sn(sn({},Ie(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:NN(e),value:cn(n,i),type:l,payload:n,chartType:c,hide:d})};function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function kL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kL(Object(n),!0).forEach(function(r){_G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _G(t,e,n){return e=vFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vFe(t){var e=xFe(t,"string");return Am(e)=="symbol"?e:e+""}function xFe(t,e){if(Am(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bFe(t,e){return EFe(t)||SFe(t,e)||_Fe(t,e)||wFe()}function wFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Fe(t,e){if(t){if(typeof t=="string")return TL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TL(t,e)}}function TL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function EFe(t){if(Array.isArray(t))return t}var nx=Math.PI/180,jFe=function(e){return e*180/Math.PI},$t=function(e,n,r,i){return{x:e+Math.cos(-nx*i)*r,y:n+Math.sin(-nx*i)*r}},SG=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},AFe=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.startAngle,c=e.endAngle,d=ur(e.cx,s,s/2),f=ur(e.cy,o,o/2),h=SG(s,o,r),p=ur(e.innerRadius,h,0),m=ur(e.outerRadius,h,h*.8),g=Object.keys(n);return g.reduce(function(x,v){var b=n[v],y=b.domain,w=b.reversed,_;if(Ve(b.range))i==="angleAxis"?_=[l,c]:i==="radiusAxis"&&(_=[p,m]),w&&(_=[_[1],_[0]]);else{_=b.range;var E=_,A=bFe(E,2);l=A[0],c=A[1]}var j=yG(b,a),k=j.realScaleType,C=j.scale;C.domain(y).range(_),vG(C);var T=xG(C,Cs(Cs({},b),{},{realScaleType:k})),O=Cs(Cs(Cs({},b),T),{},{range:_,radius:m,realScaleType:k,scale:C,cx:d,cy:f,innerRadius:p,outerRadius:m,startAngle:l,endAngle:c});return Cs(Cs({},x),{},_G({},v,O))},{})},kFe=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},TFe=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,o=kFe({x:r,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(r-a)/o,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:o,angle:jFe(c),angleInRadian:c}},CFe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},OFe=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},CL=function(e,n){var r=e.x,i=e.y,a=TFe({x:r,y:i},n),s=a.radius,o=a.angle,l=n.innerRadius,c=n.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var d=CFe(n),f=d.startAngle,h=d.endAngle,p=o,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?Cs(Cs({},n),{},{radius:s,angle:OFe(p,n)}):null},EG=function(e){return!S.isValidElement(e)&&!Ue(e)&&typeof e!="boolean"?e.className:""};function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}var NFe=["offset"];function PFe(t){return MFe(t)||RFe(t)||$Fe(t)||IFe()}function IFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Fe(t,e){if(t){if(typeof t=="string")return kA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kA(t,e)}}function RFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MFe(t){if(Array.isArray(t))return kA(t)}function kA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DFe(t,e){if(t==null)return{};var n=LFe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LFe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OL(Object(n),!0).forEach(function(r){FFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FFe(t,e,n){return e=BFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BFe(t){var e=zFe(t,"string");return km(e)=="symbol"?e:e+""}function zFe(t,e){if(km(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tm(){return Tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tm.apply(this,arguments)}var UFe=function(e){var n=e.value,r=e.formatter,i=Ve(e.children)?n:e.children;return Ue(r)?r(i):i},HFe=function(e,n){var r=cr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},VFe=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,c=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,x=(f+h)/2,v=HFe(p,m),b=v>=0?1:-1,y,w;i==="insideStart"?(y=p+b*s,w=g):i==="insideEnd"?(y=m-b*s,w=!g):i==="end"&&(y=m+b*s,w=g),w=v<=0?w:!w;var _=$t(c,d,x,y),E=$t(c,d,x,y+(w?1:-1)*359),A="M".concat(_.x,",").concat(_.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(w?0:1,`,
    `).concat(E.x,",").concat(E.y),j=Ve(e.id)?uu("recharts-radial-line-"):e.id;return M.createElement("text",Tm({},r,{dominantBaseline:"central",className:Ke("recharts-radial-bar-label",o)}),M.createElement("defs",null,M.createElement("path",{id:j,d:A})),M.createElement("textPath",{xlinkHref:"#".concat(j)},n))},WFe=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,o=a.cy,l=a.innerRadius,c=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var p=$t(s,o,c+r,h),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,v=$t(s,o,x,h),b=v.x,y=v.y;return{x:b,y,textAnchor:"middle",verticalAnchor:"middle"}},qFe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,o=s.x,l=s.y,c=s.width,d=s.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=c>=0?1:-1,x=g*i,v=g>0?"end":"start",b=g>0?"start":"end";if(a==="top"){var y={x:o+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return bn(bn({},y),r?{height:Math.max(l-r.y,0),width:c}:{})}if(a==="bottom"){var w={x:o+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:m};return bn(bn({},w),r?{height:Math.max(r.y+r.height-(l+d),0),width:c}:{})}if(a==="left"){var _={x:o-x,y:l+d/2,textAnchor:v,verticalAnchor:"middle"};return bn(bn({},_),r?{width:Math.max(_.x-r.x,0),height:d}:{})}if(a==="right"){var E={x:o+c+x,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return bn(bn({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:d}:{})}var A=r?{width:c,height:d}:{};return a==="insideLeft"?bn({x:o+x,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},A):a==="insideRight"?bn({x:o+c-x,y:l+d/2,textAnchor:v,verticalAnchor:"middle"},A):a==="insideTop"?bn({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},A):a==="insideBottom"?bn({x:o+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},A):a==="insideTopLeft"?bn({x:o+x,y:l+h,textAnchor:b,verticalAnchor:m},A):a==="insideTopRight"?bn({x:o+c-x,y:l+h,textAnchor:v,verticalAnchor:m},A):a==="insideBottomLeft"?bn({x:o+x,y:l+d-h,textAnchor:b,verticalAnchor:p},A):a==="insideBottomRight"?bn({x:o+c-x,y:l+d-h,textAnchor:v,verticalAnchor:p},A):qf(a)&&(de(a.x)||fc(a.x))&&(de(a.y)||fc(a.y))?bn({x:o+ur(a.x,c),y:l+ur(a.y,d),textAnchor:"end",verticalAnchor:"end"},A):bn({x:o+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},GFe=function(e){return"cx"in e&&de(e.cx)};function $n(t){var e=t.offset,n=e===void 0?5:e,r=DFe(t,NFe),i=bn({offset:n},r),a=i.viewBox,s=i.position,o=i.value,l=i.children,c=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||Ve(o)&&Ve(l)&&!S.isValidElement(c)&&!Ue(c))return null;if(S.isValidElement(c))return S.cloneElement(c,i);var p;if(Ue(c)){if(p=S.createElement(c,i),S.isValidElement(p))return p}else p=UFe(i);var m=GFe(a),g=Ie(i,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return VFe(i,p,g);var x=m?WFe(i):qFe(i);return M.createElement(qc,Tm({className:Ke("recharts-label",f)},g,x,{breakAll:h}),p)}$n.displayName="Label";var jG=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,p=e.top,m=e.left,g=e.width,x=e.height,v=e.clockWise,b=e.labelViewBox;if(b)return b;if(de(g)&&de(x)){if(de(f)&&de(h))return{x:f,y:h,width:g,height:x};if(de(p)&&de(m))return{x:p,y:m,width:g,height:x}}return de(f)&&de(h)?{x:f,y:h,width:0,height:0}:de(n)&&de(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:d||l||o||0,clockWise:v}:e.viewBox?e.viewBox:{}},KFe=function(e,n){return e?e===!0?M.createElement($n,{key:"label-implicit",viewBox:n}):jn(e)?M.createElement($n,{key:"label-implicit",viewBox:n,value:e}):S.isValidElement(e)?e.type===$n?S.cloneElement(e,{key:"label-implicit",viewBox:n}):M.createElement($n,{key:"label-implicit",content:e,viewBox:n}):Ue(e)?M.createElement($n,{key:"label-implicit",content:e,viewBox:n}):qf(e)?M.createElement($n,Tm({viewBox:n},e,{key:"label-implicit"})):null:null},YFe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=jG(e),s=si(i,$n).map(function(l,c){return S.cloneElement(l,{viewBox:n||a,key:"label-".concat(c)})});if(!r)return s;var o=KFe(e.label,n||a);return[o].concat(PFe(s))};$n.parseViewBox=jG;$n.renderCallByParent=YFe;function XFe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var ZFe=XFe;const JFe=at(ZFe);function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}var QFe=["valueAccessor"],eBe=["data","dataKey","clockWise","id","textBreakAll"];function tBe(t){return aBe(t)||iBe(t)||rBe(t)||nBe()}function nBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rBe(t,e){if(t){if(typeof t=="string")return TA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TA(t,e)}}function iBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aBe(t){if(Array.isArray(t))return TA(t)}function TA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rx(){return rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rx.apply(this,arguments)}function NL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NL(Object(n),!0).forEach(function(r){sBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sBe(t,e,n){return e=oBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oBe(t){var e=lBe(t,"string");return Cm(e)=="symbol"?e:e+""}function lBe(t,e){if(Cm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IL(t,e){if(t==null)return{};var n=cBe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cBe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var uBe=function(e){return Array.isArray(e.value)?JFe(e.value):e.value};function ss(t){var e=t.valueAccessor,n=e===void 0?uBe:e,r=IL(t,QFe),i=r.data,a=r.dataKey,s=r.clockWise,o=r.id,l=r.textBreakAll,c=IL(r,eBe);return!i||!i.length?null:M.createElement(ot,{className:"recharts-label-list"},i.map(function(d,f){var h=Ve(a)?n(d,f):cn(d&&d.payload,a),p=Ve(o)?{}:{id:"".concat(o,"-").concat(f)};return M.createElement($n,rx({},Ie(d,!0),c,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:$n.parseViewBox(Ve(s)?d:PL(PL({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}ss.displayName="LabelList";function dBe(t,e){return t?t===!0?M.createElement(ss,{key:"labelList-implicit",data:e}):M.isValidElement(t)||Ue(t)?M.createElement(ss,{key:"labelList-implicit",data:e,content:t}):qf(t)?M.createElement(ss,rx({data:e},t,{key:"labelList-implicit"})):null:null}function fBe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=si(r,ss).map(function(s,o){return S.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var a=dBe(t.label,e);return[a].concat(tBe(i))}ss.renderCallByParent=fBe;function Om(t){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}function CA(){return CA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CA.apply(this,arguments)}function $L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$L(Object(n),!0).forEach(function(r){hBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$L(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hBe(t,e,n){return e=pBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pBe(t){var e=mBe(t,"string");return Om(e)=="symbol"?e:e+""}function mBe(t,e){if(Om(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Om(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gBe=function(e,n){var r=cr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},zy=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(o?1:-1)+i,f=Math.asin(l/d)/nx,h=c?a:a+s*f,p=$t(n,r,d,h),m=$t(n,r,i,h),g=c?a-s*f:a,x=$t(n,r,d*Math.cos(f*nx),g);return{center:p,circleTangency:m,lineTangency:x,theta:f}},AG=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=gBe(s,o),c=s+l,d=$t(n,r,a,s),f=$t(n,r,a,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=$t(n,r,i,s),m=$t(n,r,i,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},yBe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,f=cr(d-c),h=zy({cx:n,cy:r,radius:a,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,g=h.theta,x=zy({cx:n,cy:r,radius:a,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),v=x.circleTangency,b=x.lineTangency,y=x.theta,w=l?Math.abs(c-d):Math.abs(c-d)-g-y;if(w<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):AG({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d});var _="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var E=zy({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),A=E.circleTangency,j=E.lineTangency,k=E.theta,C=zy({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),T=C.circleTangency,O=C.lineTangency,L=C.theta,R=l?Math.abs(c-d):Math.abs(c-d)-k-L;if(R<0&&s===0)return"".concat(_,"L").concat(n,",").concat(r,"Z");_+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,"Z")}else _+="L".concat(n,",").concat(r,"Z");return _},vBe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},kG=function(e){var n=RL(RL({},vBe),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(s<a||d===f)return null;var p=Ke("recharts-sector",h),m=s-a,g=ur(o,m,0,!0),x;return g>0&&Math.abs(d-f)<360?x=yBe({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):x=AG({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:d,endAngle:f}),M.createElement("path",CA({},Ie(n,!0),{className:p,d:x,role:"img"}))};function Nm(t){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(t)}function OA(){return OA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OA.apply(this,arguments)}function ML(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ML(Object(n),!0).forEach(function(r){xBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ML(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xBe(t,e,n){return e=bBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bBe(t){var e=wBe(t,"string");return Nm(e)=="symbol"?e:e+""}function wBe(t,e){if(Nm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LL={curveBasisClosed:xCe,curveBasisOpen:bCe,curveBasis:vCe,curveBumpX:iCe,curveBumpY:aCe,curveLinearClosed:wCe,curveLinear:gw,curveMonotoneX:_Ce,curveMonotoneY:SCe,curveNatural:ECe,curveStep:jCe,curveStepAfter:kCe,curveStepBefore:ACe},Uy=function(e){return e.x===+e.x&&e.y===+e.y},Th=function(e){return e.x},Ch=function(e){return e.y},_Be=function(e,n){if(Ue(e))return e;var r="curve".concat(pw(e));return(r==="curveMonotone"||r==="curveBump")&&n?LL["".concat(r).concat(n==="vertical"?"Y":"X")]:LL[r]||gw},SBe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=_Be(r,o),f=c?a.filter(function(g){return Uy(g)}):a,h;if(Array.isArray(s)){var p=c?s.filter(function(g){return Uy(g)}):s,m=f.map(function(g,x){return DL(DL({},g),{},{base:p[x]})});return o==="vertical"?h=Py().y(Ch).x1(Th).x0(function(g){return g.base.x}):h=Py().x(Th).y1(Ch).y0(function(g){return g.base.y}),h.defined(Uy).curve(d),h(m)}return o==="vertical"&&de(s)?h=Py().y(Ch).x1(Th).x0(s):de(s)?h=Py().x(Th).y1(Ch).y0(s):h=wW().x(Th).y(Ch),h.defined(Uy).curve(d),h(f)},Oc=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?SBe(e):i;return M.createElement("path",OA({},Ie(e,!1),k0(e),{className:Ke("recharts-curve",n),d:s,ref:a}))},TG={exports:{}},EBe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",jBe=EBe,ABe=jBe;function CG(){}function OG(){}OG.resetWarningCache=CG;var kBe=function(){function t(r,i,a,s,o,l){if(l!==ABe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:OG,resetWarningCache:CG};return n.PropTypes=n,n};TG.exports=kBe();var TBe=TG.exports;const Qe=at(TBe);var CBe=Object.getOwnPropertyNames,OBe=Object.getOwnPropertySymbols,NBe=Object.prototype.hasOwnProperty;function FL(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Hy(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,s=a.get(n),o=a.get(r);if(s&&o)return s===r&&o===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function BL(t){return CBe(t).concat(OBe(t))}var NG=Object.hasOwn||function(t,e){return NBe.call(t,e)};function rh(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var PG="_owner",zL=Object.getOwnPropertyDescriptor,UL=Object.keys;function PBe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function IBe(t,e){return rh(t.getTime(),e.getTime())}function HL(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),a=0,s,o;(s=i.next())&&!s.done;){for(var l=e.entries(),c=!1,d=0;(o=l.next())&&!o.done;){var f=s.value,h=f[0],p=f[1],m=o.value,g=m[0],x=m[1];!c&&!r[d]&&(c=n.equals(h,g,a,d,t,e,n)&&n.equals(p,x,h,g,t,e,n))&&(r[d]=!0),d++}if(!c)return!1;a++}return!0}function $Be(t,e,n){var r=UL(t),i=r.length;if(UL(e).length!==i)return!1;for(var a;i-- >0;)if(a=r[i],a===PG&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!NG(e,a)||!n.equals(t[a],e[a],a,a,t,e,n))return!1;return!0}function Oh(t,e,n){var r=BL(t),i=r.length;if(BL(e).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=r[i],a===PG&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!NG(e,a)||!n.equals(t[a],e[a],a,a,t,e,n)||(s=zL(t,a),o=zL(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function RBe(t,e){return rh(t.valueOf(),e.valueOf())}function MBe(t,e){return t.source===e.source&&t.flags===e.flags}function VL(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),a,s;(a=i.next())&&!a.done;){for(var o=e.values(),l=!1,c=0;(s=o.next())&&!s.done;)!l&&!r[c]&&(l=n.equals(a.value,s.value,a.value,s.value,t,e,n))&&(r[c]=!0),c++;if(!l)return!1}return!0}function DBe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var LBe="[object Arguments]",FBe="[object Boolean]",BBe="[object Date]",zBe="[object Map]",UBe="[object Number]",HBe="[object Object]",VBe="[object RegExp]",WBe="[object Set]",qBe="[object String]",GBe=Array.isArray,WL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,qL=Object.assign,KBe=Object.prototype.toString.call.bind(Object.prototype.toString);function YBe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,a=t.arePrimitiveWrappersEqual,s=t.areRegExpsEqual,o=t.areSetsEqual,l=t.areTypedArraysEqual;return function(d,f,h){if(d===f)return!0;if(d==null||f==null||typeof d!="object"||typeof f!="object")return d!==d&&f!==f;var p=d.constructor;if(p!==f.constructor)return!1;if(p===Object)return i(d,f,h);if(GBe(d))return e(d,f,h);if(WL!=null&&WL(d))return l(d,f,h);if(p===Date)return n(d,f,h);if(p===RegExp)return s(d,f,h);if(p===Map)return r(d,f,h);if(p===Set)return o(d,f,h);var m=KBe(d);return m===BBe?n(d,f,h):m===VBe?s(d,f,h):m===zBe?r(d,f,h):m===WBe?o(d,f,h):m===HBe?typeof d.then!="function"&&typeof f.then!="function"&&i(d,f,h):m===LBe?i(d,f,h):m===FBe||m===UBe||m===qBe?a(d,f,h):!1}}function XBe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Oh:PBe,areDatesEqual:IBe,areMapsEqual:r?FL(HL,Oh):HL,areObjectsEqual:r?Oh:$Be,arePrimitiveWrappersEqual:RBe,areRegExpsEqual:MBe,areSetsEqual:r?FL(VL,Oh):VL,areTypedArraysEqual:r?Oh:DBe};if(n&&(i=qL({},i,n(i))),e){var a=Hy(i.areArraysEqual),s=Hy(i.areMapsEqual),o=Hy(i.areObjectsEqual),l=Hy(i.areSetsEqual);i=qL({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}function ZBe(t){return function(e,n,r,i,a,s,o){return t(e,n,o)}}function JBe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,c){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return n(l,c,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return n(l,c,s)}}var QBe=Vl();Vl({strict:!0});Vl({circular:!0});Vl({circular:!0,strict:!0});Vl({createInternalComparator:function(){return rh}});Vl({strict:!0,createInternalComparator:function(){return rh}});Vl({circular:!0,createInternalComparator:function(){return rh}});Vl({circular:!0,createInternalComparator:function(){return rh},strict:!0});function Vl(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,o=XBe(t),l=YBe(o),c=r?r(l):ZBe(l);return JBe({circular:n,comparator:l,createState:i,equals:c,strict:s})}function eze(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function GL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):eze(i)};requestAnimationFrame(r)}function NA(t){"@babel/helpers - typeof";return NA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NA(t)}function tze(t){return aze(t)||ize(t)||rze(t)||nze()}function nze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rze(t,e){if(t){if(typeof t=="string")return KL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KL(t,e)}}function KL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ize(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aze(t){if(Array.isArray(t))return t}function sze(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,o=tze(s),l=o[0],c=o.slice(1);if(typeof l=="number"){GL(i.bind(null,c),l);return}i(l),GL(i.bind(null,c));return}NA(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function YL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YL(Object(n),!0).forEach(function(r){IG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IG(t,e,n){return e=oze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oze(t){var e=lze(t,"string");return Pm(e)==="symbol"?e:String(e)}function lze(t,e){if(Pm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cze=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},uze=function(e){return e},dze=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},bp=function(e,n){return Object.keys(n).reduce(function(r,i){return XL(XL({},r),{},IG({},i,e(i,n[i])))},{})},ZL=function(e,n,r){return e.map(function(i){return"".concat(dze(i)," ").concat(n,"ms ").concat(r)}).join(",")};function fze(t,e){return mze(t)||pze(t,e)||$G(t,e)||hze()}function hze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pze(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function mze(t){if(Array.isArray(t))return t}function gze(t){return xze(t)||vze(t)||$G(t)||yze()}function yze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $G(t,e){if(t){if(typeof t=="string")return PA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PA(t,e)}}function vze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xze(t){if(Array.isArray(t))return PA(t)}function PA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ix=1e-4,RG=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},MG=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},JL=function(e,n){return function(r){var i=RG(e,n);return MG(i,r)}},bze=function(e,n){return function(r){var i=RG(e,n),a=[].concat(gze(i.map(function(s,o){return s*o}).slice(1)),[0]);return MG(a,r)}},QL=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=fze(c,4);i=d[0],a=d[1],s=d[2],o=d[3]}}}var f=JL(i,s),h=JL(a,o),p=bze(i,s),m=function(v){return v>1?1:v<0?0:v},g=function(v){for(var b=v>1?1:v,y=b,w=0;w<8;++w){var _=f(y)-b,E=p(y);if(Math.abs(_-b)<ix||E<ix)return h(y);y=m(y-_/E)}return h(y)};return g.isStepper=!1,g},wze=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(d,f,h){var p=-(d-f)*r,m=h*a,g=h+(p-m)*o/1e3,x=h*o/1e3+d;return Math.abs(x-f)<ix&&Math.abs(g)<ix?[f,0]:[x,g]};return l.isStepper=!0,l.dt=o,l},_ze=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return QL(i);case"spring":return wze();default:if(i.split("(")[0]==="cubic-bezier")return QL(i)}return typeof i=="function"?i:null};function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}function e4(t){return jze(t)||Eze(t)||DG(t)||Sze()}function Sze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jze(t){if(Array.isArray(t))return $A(t)}function t4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t4(Object(n),!0).forEach(function(r){IA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IA(t,e,n){return e=Aze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aze(t){var e=kze(t,"string");return Im(e)==="symbol"?e:String(e)}function kze(t,e){if(Im(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Im(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tze(t,e){return Nze(t)||Oze(t,e)||DG(t,e)||Cze()}function Cze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DG(t,e){if(t){if(typeof t=="string")return $A(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $A(t,e)}}function $A(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oze(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Nze(t){if(Array.isArray(t))return t}var ax=function(e,n,r){return e+(n-e)*r},RA=function(e){var n=e.from,r=e.to;return n!==r},Pze=function t(e,n,r){var i=bp(function(a,s){if(RA(s)){var o=e(s.from,s.to,s.velocity),l=Tze(o,2),c=l[0],d=l[1];return Ln(Ln({},s),{},{from:c,velocity:d})}return s},n);return r<1?bp(function(a,s){return RA(s)?Ln(Ln({},s),{},{velocity:ax(s.velocity,i[a].velocity,r),from:ax(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const Ize=function(t,e,n,r,i){var a=cze(t,e),s=a.reduce(function(x,v){return Ln(Ln({},x),{},IA({},v,[t[v],e[v]]))},{}),o=a.reduce(function(x,v){return Ln(Ln({},x),{},IA({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,c,d,f=function(){return null},h=function(){return bp(function(v,b){return b.from},o)},p=function(){return!Object.values(o).filter(RA).length},m=function(v){c||(c=v);var b=v-c,y=b/n.dt;o=Pze(n,o,y),i(Ln(Ln(Ln({},t),e),h())),c=v,p()||(l=requestAnimationFrame(f))},g=function(v){d||(d=v);var b=(v-d)/r,y=bp(function(_,E){return ax.apply(void 0,e4(E).concat([n(b)]))},s);if(i(Ln(Ln(Ln({},t),e),y)),b<1)l=requestAnimationFrame(f);else{var w=bp(function(_,E){return ax.apply(void 0,e4(E).concat([n(1)]))},s);i(Ln(Ln(Ln({},t),e),w))}};return f=n.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}var $ze=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Rze(t,e){if(t==null)return{};var n=Mze(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mze(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Q1(t){return Bze(t)||Fze(t)||Lze(t)||Dze()}function Dze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lze(t,e){if(t){if(typeof t=="string")return MA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MA(t,e)}}function Fze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bze(t){if(Array.isArray(t))return MA(t)}function MA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n4(Object(n),!0).forEach(function(r){Wh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wh(t,e,n){return e=LG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LG(r.key),r)}}function Hze(t,e,n){return e&&Uze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LG(t){var e=Vze(t,"string");return cf(e)==="symbol"?e:String(e)}function Vze(t,e){if(cf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DA(t,e)}function DA(t,e){return DA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DA(t,e)}function qze(t){var e=Gze();return function(){var r=sx(t),i;if(e){var a=sx(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return LA(this,i)}}function LA(t,e){if(e&&(cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FA(t)}function FA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gze(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sx(t){return sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sx(t)}var _a=function(t){Wze(n,t);var e=qze(n);function n(r,i){var a;zze(this,n),a=e.call(this,r,i);var s=a.props,o=s.isActive,l=s.attributeName,c=s.from,d=s.to,f=s.steps,h=s.children,p=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(FA(a)),a.changeStyle=a.changeStyle.bind(FA(a)),!o||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),LA(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof h=="function")return a.state={style:c},LA(a);a.state={style:l?Wh({},l,c):c}}else a.state={style:{}};return a}return Hze(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(o){if(!s){var p={style:l?Wh({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(QBe(i.to,d)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||c?f:i.to;if(this.state&&h){var x={style:l?Wh({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(x)}this.runAnimation(Hi(Hi({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,c=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=Ize(s,o,_ze(c),l,this.changeStyle),m=function(){a.stopJSAnimation=p()};this.manager.start([h,d,m,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,c=s[0],d=c.style,f=c.duration,h=f===void 0?0:f,p=function(g,x,v){if(v===0)return g;var b=x.duration,y=x.easing,w=y===void 0?"ease":y,_=x.style,E=x.properties,A=x.onAnimationEnd,j=v>0?s[v-1]:x,k=E||Object.keys(_);if(typeof w=="function"||w==="spring")return[].concat(Q1(g),[a.runJSAnimation.bind(a,{from:j.style,to:_,duration:b,easing:w}),b]);var C=ZL(k,b,w),T=Hi(Hi(Hi({},j.style),_),{},{transition:C});return[].concat(Q1(g),[T,b,A]).filter(uze)};return this.manager.start([l].concat(Q1(s.reduce(p,[d,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=sze());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=o?Wh({},o,l):l,x=ZL(Object.keys(g),s,c);m.start([d,a,Hi(Hi({},g),{},{transition:x}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Rze(i,$ze),c=S.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!o||c===0||s<=0)return a;var f=function(p){var m=p.props,g=m.style,x=g===void 0?{}:g,v=m.className,b=S.cloneElement(p,Hi(Hi({},l),{},{style:Hi(Hi({},x),d),className:v}));return b};return c===1?f(S.Children.only(a)):M.createElement("div",null,S.Children.map(a,function(h){return f(h)}))}}]),n}(S.PureComponent);_a.displayName="Animate";_a.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};_a.propTypes={from:Qe.oneOfType([Qe.object,Qe.string]),to:Qe.oneOfType([Qe.object,Qe.string]),attributeName:Qe.string,duration:Qe.number,begin:Qe.number,easing:Qe.oneOfType([Qe.string,Qe.func]),steps:Qe.arrayOf(Qe.shape({duration:Qe.number.isRequired,style:Qe.object.isRequired,easing:Qe.oneOfType([Qe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Qe.func]),properties:Qe.arrayOf("string"),onAnimationEnd:Qe.func})),children:Qe.oneOfType([Qe.node,Qe.func]),isActive:Qe.bool,canBegin:Qe.bool,onAnimationEnd:Qe.func,shouldReAnimate:Qe.bool,onAnimationStart:Qe.func,onAnimationReStart:Qe.func};Qe.object,Qe.object,Qe.object,Qe.element;Qe.object,Qe.object,Qe.object,Qe.oneOfType([Qe.array,Qe.element]),Qe.any;function $m(t){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$m(t)}function ox(){return ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ox.apply(this,arguments)}function Kze(t,e){return Jze(t)||Zze(t,e)||Xze(t,e)||Yze()}function Yze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xze(t,e){if(t){if(typeof t=="string")return r4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r4(t,e)}}function r4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zze(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Jze(t){if(Array.isArray(t))return t}function i4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i4(Object(n),!0).forEach(function(r){Qze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qze(t,e,n){return e=eUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eUe(t){var e=tUe(t,"string");return $m(e)=="symbol"?e:e+""}function tUe(t,e){if($m(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s4=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,d;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>s?s:a[h];d="M".concat(e,",").concat(n+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+o*f[1])),d+="L ".concat(e+r,",").concat(n+i-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),d+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-o*f[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var m=Math.min(s,a);d="M ".concat(e,",").concat(n+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(n+o*m,`
            L `).concat(e+r,",").concat(n+i-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(n+i-o*m," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},nUe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(a,a+o),d=Math.max(a,a+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return r>=c&&r<=d&&i>=f&&i<=h}return!1},rUe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PN=function(e){var n=a4(a4({},rUe),e),r=S.useRef(),i=S.useState(-1),a=Kze(i,2),s=a[0],o=a[1];S.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&o(w)}catch{}},[]);var l=n.x,c=n.y,d=n.width,f=n.height,h=n.radius,p=n.className,m=n.animationEasing,g=n.animationDuration,x=n.animationBegin,v=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var y=Ke("recharts-rectangle",p);return b?M.createElement(_a,{canBegin:s>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:g,animationEasing:m,isActive:b},function(w){var _=w.width,E=w.height,A=w.x,j=w.y;return M.createElement(_a,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,isActive:v,easing:m},M.createElement("path",ox({},Ie(n,!0),{className:y,d:s4(A,j,_,E,h),ref:r})))}):M.createElement("path",ox({},Ie(n,!0),{className:y,d:s4(l,c,d,f,h)}))},iUe=["points","className","baseLinePoints","connectNulls"];function td(){return td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},td.apply(this,arguments)}function aUe(t,e){if(t==null)return{};var n=sUe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function o4(t){return uUe(t)||cUe(t)||lUe(t)||oUe()}function oUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lUe(t,e){if(t){if(typeof t=="string")return BA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BA(t,e)}}function cUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uUe(t){if(Array.isArray(t))return BA(t)}function BA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var l4=function(e){return e&&e.x===+e.x&&e.y===+e.y},dUe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){l4(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),l4(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},wp=function(e,n){var r=dUe(e);n&&(r=[r.reduce(function(a,s){return[].concat(o4(a),o4(s))},[])]);var i=r.map(function(a){return a.reduce(function(s,o,l){return"".concat(s).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},fUe=function(e,n,r){var i=wp(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(wp(n.reverse(),r).slice(1))},hUe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,s=aUe(e,iUe);if(!n||!n.length)return null;var o=Ke("recharts-polygon",r);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",c=fUe(n,i,a);return M.createElement("g",{className:o},M.createElement("path",td({},Ie(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),l?M.createElement("path",td({},Ie(s,!0),{fill:"none",d:wp(n,a)})):null,l?M.createElement("path",td({},Ie(s,!0),{fill:"none",d:wp(i,a)})):null)}var d=wp(n,a);return M.createElement("path",td({},Ie(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:o,d}))};function zA(){return zA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zA.apply(this,arguments)}var $g=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=Ke("recharts-dot",a);return n===+n&&r===+r&&i===+i?M.createElement("circle",zA({},Ie(e,!1),k0(e),{className:s,cx:n,cy:r,r:i})):null};function Rm(t){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rm(t)}var pUe=["x","y","top","left","width","height","className"];function UA(){return UA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UA.apply(this,arguments)}function c4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mUe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c4(Object(n),!0).forEach(function(r){gUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gUe(t,e,n){return e=yUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yUe(t){var e=vUe(t,"string");return Rm(e)=="symbol"?e:e+""}function vUe(t,e){if(Rm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xUe(t,e){if(t==null)return{};var n=bUe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var wUe=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},_Ue=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,c=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,p=h===void 0?0:h,m=e.className,g=xUe(e,pUe),x=mUe({x:r,y:a,top:o,left:c,width:f,height:p},g);return!de(r)||!de(a)||!de(f)||!de(p)||!de(o)||!de(c)?null:M.createElement("path",UA({},Ie(x,!0),{className:Ke("recharts-cross",m),d:wUe(r,a,f,p,o,c)}))},SUe=kw,EUe=Yq,jUe=xs;function AUe(t,e){return t&&t.length?SUe(t,jUe(e),EUe):void 0}var kUe=AUe;const TUe=at(kUe);var CUe=kw,OUe=xs,NUe=Xq;function PUe(t,e){return t&&t.length?CUe(t,OUe(e),NUe):void 0}var IUe=PUe;const $Ue=at(IUe);var RUe=["cx","cy","angle","ticks","axisLine"],MUe=["ticks","tick","angle","tickFormatter","stroke"];function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function _p(){return _p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_p.apply(this,arguments)}function u4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u4(Object(n),!0).forEach(function(r){Nw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d4(t,e){if(t==null)return{};var n=DUe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BG(r.key),r)}}function FUe(t,e,n){return e&&f4(t.prototype,e),n&&f4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function BUe(t,e,n){return e=lx(e),zUe(t,FG()?Reflect.construct(e,n||[],lx(t).constructor):e.apply(t,n))}function zUe(t,e){if(e&&(uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UUe(t)}function UUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FG=function(){return!!t})()}function lx(t){return lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lx(t)}function HUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HA(t,e)}function HA(t,e){return HA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HA(t,e)}function Nw(t,e,n){return e=BG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BG(t){var e=VUe(t,"string");return uf(e)=="symbol"?e:e+""}function VUe(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pw=function(t){function e(){return LUe(this,e),BUe(this,e,arguments)}return HUe(e,t),FUe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,s=a.angle,o=a.cx,l=a.cy;return $t(o,l,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,o=r.ticks,l=TUe(o,function(d){return d.coordinate||0}),c=$Ue(o,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,o=r.ticks,l=r.axisLine,c=d4(r,RUe),d=o.reduce(function(m,g){return[Math.min(m[0],g.coordinate),Math.max(m[1],g.coordinate)]},[1/0,-1/0]),f=$t(i,a,d[0],s),h=$t(i,a,d[1],s),p=Yl(Yl(Yl({},Ie(c,!1)),{},{fill:"none"},Ie(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return M.createElement("line",_p({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,o=i.angle,l=i.tickFormatter,c=i.stroke,d=d4(i,MUe),f=this.getTickTextAnchor(),h=Ie(d,!1),p=Ie(s,!1),m=a.map(function(g,x){var v=r.getTickValueCoord(g),b=Yl(Yl(Yl(Yl({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:c},p),{},{index:x},v),{},{payload:g});return M.createElement(ot,_p({className:Ke("recharts-polar-radius-axis-tick",EG(s)),key:"tick-".concat(g.coordinate)},Wc(r.props,g,x)),e.renderTickItem(s,b,l?l(g.value,x):g.value))});return M.createElement(ot,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,s=r.tick;return!i||!i.length?null:M.createElement(ot,{className:Ke("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),$n.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return M.isValidElement(r)?s=M.cloneElement(r,i):Ue(r)?s=r(i):s=M.createElement(qc,_p({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(S.PureComponent);Nw(Pw,"displayName","PolarRadiusAxis");Nw(Pw,"axisType","radiusAxis");Nw(Pw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lc.apply(this,arguments)}function h4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h4(Object(n),!0).forEach(function(r){Iw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UG(r.key),r)}}function qUe(t,e,n){return e&&p4(t.prototype,e),n&&p4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function GUe(t,e,n){return e=cx(e),KUe(t,zG()?Reflect.construct(e,n||[],cx(t).constructor):e.apply(t,n))}function KUe(t,e){if(e&&(df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YUe(t)}function YUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zG=function(){return!!t})()}function cx(t){return cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cx(t)}function XUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VA(t,e)}function VA(t,e){return VA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VA(t,e)}function Iw(t,e,n){return e=UG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UG(t){var e=ZUe(t,"string");return df(e)=="symbol"?e:e+""}function ZUe(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JUe=Math.PI/180,m4=1e-5,$w=function(t){function e(){return WUe(this,e),GUe(this,e,arguments)}return XUe(e,t),qUe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,s=i.cy,o=i.radius,l=i.orientation,c=i.tickSize,d=c||8,f=$t(a,s,o,r.coordinate),h=$t(a,s,o+(l==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*JUe),s;return a>m4?s=i==="outer"?"start":"end":a<-m4?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.radius,o=r.axisLine,l=r.axisLineType,c=Xl(Xl({},Ie(this.props,!1)),{},{fill:"none"},Ie(o,!1));if(l==="circle")return M.createElement($g,lc({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:a,r:s}));var d=this.props.ticks,f=d.map(function(h){return $t(i,a,s,h.coordinate)});return M.createElement(hUe,lc({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,o=i.tickLine,l=i.tickFormatter,c=i.stroke,d=Ie(this.props,!1),f=Ie(s,!1),h=Xl(Xl({},d),{},{fill:"none"},Ie(o,!1)),p=a.map(function(m,g){var x=r.getTickLineCoord(m),v=r.getTickTextAnchor(m),b=Xl(Xl(Xl({textAnchor:v},d),{},{stroke:"none",fill:c},f),{},{index:g,payload:m,x:x.x2,y:x.y2});return M.createElement(ot,lc({className:Ke("recharts-polar-angle-axis-tick",EG(s)),key:"tick-".concat(m.coordinate)},Wc(r.props,m,g)),o&&M.createElement("line",lc({className:"recharts-polar-angle-axis-tick-line"},h,x)),s&&e.renderTickItem(s,b,l?l(m.value,g):m.value))});return M.createElement(ot,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,s=r.axisLine;return a<=0||!i||!i.length?null:M.createElement(ot,{className:Ke("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var s;return M.isValidElement(r)?s=M.cloneElement(r,i):Ue(r)?s=r(i):s=M.createElement(qc,lc({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(S.PureComponent);Iw($w,"displayName","PolarAngleAxis");Iw($w,"axisType","angleAxis");Iw($w,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var QUe=WW,e6e=QUe(Object.getPrototypeOf,Object),t6e=e6e,n6e=ho,r6e=t6e,i6e=po,a6e="[object Object]",s6e=Function.prototype,o6e=Object.prototype,HG=s6e.toString,l6e=o6e.hasOwnProperty,c6e=HG.call(Object);function u6e(t){if(!i6e(t)||n6e(t)!=a6e)return!1;var e=r6e(t);if(e===null)return!0;var n=l6e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&HG.call(n)==c6e}var d6e=u6e;const f6e=at(d6e);var h6e=ho,p6e=po,m6e="[object Boolean]";function g6e(t){return t===!0||t===!1||p6e(t)&&h6e(t)==m6e}var y6e=g6e;const v6e=at(y6e);function Mm(t){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mm(t)}function ux(){return ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ux.apply(this,arguments)}function x6e(t,e){return S6e(t)||_6e(t,e)||w6e(t,e)||b6e()}function b6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w6e(t,e){if(t){if(typeof t=="string")return g4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g4(t,e)}}function g4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _6e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function S6e(t){if(Array.isArray(t))return t}function y4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y4(Object(n),!0).forEach(function(r){E6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E6e(t,e,n){return e=j6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j6e(t){var e=A6e(t,"string");return Mm(e)=="symbol"?e:e+""}function A6e(t,e){if(Mm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x4=function(e,n,r,i,a){var s=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-s/2,",").concat(n+a),o+="L ".concat(e+r-s/2-i,",").concat(n+a),o+="L ".concat(e,",").concat(n," Z"),o},k6e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},T6e=function(e){var n=v4(v4({},k6e),e),r=S.useRef(),i=S.useState(-1),a=x6e(i,2),s=a[0],o=a[1];S.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&o(y)}catch{}},[]);var l=n.x,c=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,m=n.animationEasing,g=n.animationDuration,x=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=Ke("recharts-trapezoid",p);return v?M.createElement(_a,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:c},duration:g,animationEasing:m,isActive:v},function(y){var w=y.upperWidth,_=y.lowerWidth,E=y.height,A=y.x,j=y.y;return M.createElement(_a,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,easing:m},M.createElement("path",ux({},Ie(n,!0),{className:b,d:x4(A,j,w,_,E),ref:r})))}):M.createElement("g",null,M.createElement("path",ux({},Ie(n,!0),{className:b,d:x4(l,c,d,f,h)})))},C6e=["option","shapeType","propTransformer","activeClassName","isActive"];function Dm(t){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(t)}function O6e(t,e){if(t==null)return{};var n=N6e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function N6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function b4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b4(Object(n),!0).forEach(function(r){P6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P6e(t,e,n){return e=I6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I6e(t){var e=$6e(t,"string");return Dm(e)=="symbol"?e:e+""}function $6e(t,e){if(Dm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R6e(t,e){return dx(dx({},e),t)}function M6e(t,e){return t==="symbols"}function w4(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return M.createElement(PN,n);case"trapezoid":return M.createElement(T6e,n);case"sector":return M.createElement(kG,n);case"symbols":if(M6e(e))return M.createElement(ZO,n);break;default:return null}}function D6e(t){return S.isValidElement(t)?t.props:t}function VG(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?R6e:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=O6e(t,C6e),c;if(S.isValidElement(e))c=S.cloneElement(e,dx(dx({},l),D6e(e)));else if(Ue(e))c=e(l);else if(f6e(e)&&!v6e(e)){var d=i(e,l);c=M.createElement(w4,{shapeType:n,elementProps:d})}else{var f=l;c=M.createElement(w4,{shapeType:n,elementProps:f})}return o?M.createElement(ot,{className:s},c):c}function Rw(t,e){return e!=null&&"trapezoids"in t.props}function Mw(t,e){return e!=null&&"sectors"in t.props}function Lm(t,e){return e!=null&&"points"in t.props}function L6e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function F6e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function B6e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function z6e(t,e){var n;return Rw(t,e)?n=L6e:Mw(t,e)?n=F6e:Lm(t,e)&&(n=B6e),n}function U6e(t,e){var n;return Rw(t,e)?n="trapezoids":Mw(t,e)?n="sectors":Lm(t,e)&&(n="points"),n}function H6e(t,e){if(Rw(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Mw(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Lm(t,e)?e.payload:{}}function V6e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=U6e(n,e),a=H6e(n,e),s=r.filter(function(l,c){var d=Gc(a,l),f=n.props[i].filter(function(m){var g=z6e(n,e);return g(m,e)}),h=n.props[i].indexOf(f[f.length-1]),p=c===h;return d&&p}),o=r.indexOf(s[s.length-1]);return o}var vv;function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function nd(){return nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nd.apply(this,arguments)}function _4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_4(Object(n),!0).forEach(function(r){Ei(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qG(r.key),r)}}function q6e(t,e,n){return e&&S4(t.prototype,e),n&&S4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function G6e(t,e,n){return e=fx(e),K6e(t,WG()?Reflect.construct(e,n||[],fx(t).constructor):e.apply(t,n))}function K6e(t,e){if(e&&(ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y6e(t)}function Y6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WG=function(){return!!t})()}function fx(t){return fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fx(t)}function X6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WA(t,e)}function WA(t,e){return WA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WA(t,e)}function Ei(t,e,n){return e=qG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qG(t){var e=Z6e(t,"string");return ff(e)=="symbol"?e:e+""}function Z6e(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bs=function(t){function e(n){var r;return W6e(this,e),r=G6e(this,e,[n]),Ei(r,"pieRef",null),Ei(r,"sectorRefs",[]),Ei(r,"id",uu("recharts-pie-")),Ei(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ue(i)&&i()}),Ei(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ue(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return X6e(e,t),q6e(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,o=a.labelLine,l=a.dataKey,c=a.valueKey,d=Ie(this.props,!1),f=Ie(s,!1),h=Ie(o,!1),p=s&&s.offsetRadius||20,m=r.map(function(g,x){var v=(g.startAngle+g.endAngle)/2,b=$t(g.cx,g.cy,g.outerRadius+p,v),y=Ot(Ot(Ot(Ot({},d),g),{},{stroke:"none"},f),{},{index:x,textAnchor:e.getTextAnchor(b.x,g.cx)},b),w=Ot(Ot(Ot(Ot({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:x,points:[$t(g.cx,g.cy,g.outerRadius,v),b]}),_=l;return Ve(l)&&Ve(c)?_="value":Ve(l)&&(_=c),M.createElement(ot,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},o&&e.renderLabelLineItem(o,w,"line"),e.renderLabelItem(s,y,cn(g,_)))});return M.createElement(ot,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,s=a.activeShape,o=a.blendStroke,l=a.inactiveShape;return r.map(function(c,d){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(d),h=l&&i.hasActiveIndex()?l:null,p=f?s:h,m=Ot(Ot({},c),{},{stroke:o?c.fill:c.stroke,tabIndex:-1});return M.createElement(ot,nd({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Wc(i.props,c,d),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(d)}),M.createElement(VG,nd({option:p,isActive:f,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,s=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,c=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return M.createElement(_a,{begin:o,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var g=m.t,x=[],v=a&&a[0],b=v.startAngle;return a.forEach(function(y,w){var _=h&&h[w],E=w>0?ai(y,"paddingAngle",0):0;if(_){var A=Sn(_.endAngle-_.startAngle,y.endAngle-y.startAngle),j=Ot(Ot({},y),{},{startAngle:b+E,endAngle:b+A(g)+E});x.push(j),b=j.endAngle}else{var k=y.endAngle,C=y.startAngle,T=Sn(0,k-C),O=T(g),L=Ot(Ot({},y),{},{startAngle:b+E,endAngle:b+O+E});x.push(L),b=L.endAngle}}),M.createElement(ot,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!Gc(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,s=i.sectors,o=i.className,l=i.label,c=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,m=this.state.isAnimationFinished;if(a||!s||!s.length||!de(c)||!de(d)||!de(f)||!de(h))return null;var g=Ke("recharts-pie",o);return M.createElement(ot,{tabIndex:this.props.rootTabIndex,className:g,ref:function(v){r.pieRef=v}},this.renderSectors(),l&&this.renderLabels(s),$n.renderCallByParent(this.props,null,!1),(!p||m)&&ss.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(M.isValidElement(r))return M.cloneElement(r,i);if(Ue(r))return r(i);var s=Ke("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return M.createElement(Oc,nd({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,a){if(M.isValidElement(r))return M.cloneElement(r,i);var s=a;if(Ue(r)&&(s=r(i),M.isValidElement(s)))return s;var o=Ke("recharts-pie-label-text",typeof r!="boolean"&&!Ue(r)?r.className:"");return M.createElement(qc,nd({},i,{alignmentBaseline:"middle",className:o}),s)}}])}(S.PureComponent);vv=bs;Ei(bs,"displayName","Pie");Ei(bs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ma.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ei(bs,"parseDeltaAngle",function(t,e){var n=cr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Ei(bs,"getRealPieData",function(t){var e=t.data,n=t.children,r=Ie(t,!1),i=si(n,Tg);return e&&e.length?e.map(function(a,s){return Ot(Ot(Ot({payload:a},r),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return Ot(Ot({},r),a.props)}):[]});Ei(bs,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,s=SG(i,a),o=r+ur(t.cx,i,i/2),l=n+ur(t.cy,a,a/2),c=ur(t.innerRadius,s,0),d=ur(t.outerRadius,s,s*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:o,cy:l,innerRadius:c,outerRadius:d,maxRadius:f}});Ei(bs,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Ot(Ot({},e.type.defaultProps),e.props):e.props,i=vv.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,s=r.startAngle,o=r.endAngle,l=r.paddingAngle,c=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,p=Math.abs(r.minAngle),m=vv.parseCoordinateOfPie(r,n),g=vv.parseDeltaAngle(s,o),x=Math.abs(g),v=c;Ve(c)&&Ve(f)?(pa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):Ve(c)&&(pa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var b=i.filter(function(j){return cn(j,v,0)!==0}).length,y=(x>=360?b:b-1)*l,w=x-b*p-y,_=i.reduce(function(j,k){var C=cn(k,v,0);return j+(de(C)?C:0)},0),E;if(_>0){var A;E=i.map(function(j,k){var C=cn(j,v,0),T=cn(j,d,k),O=(de(C)?C:0)/_,L;k?L=A.endAngle+cr(g)*l*(C!==0?1:0):L=s;var R=L+cr(g)*((C!==0?p:0)+O*w),F=(L+R)/2,U=(m.innerRadius+m.outerRadius)/2,V=[{name:T,value:C,payload:j,dataKey:v,type:h}],D=$t(m.cx,m.cy,U,F);return A=Ot(Ot(Ot({percent:O,cornerRadius:a,name:T,tooltipPayload:V,midAngle:F,middleRadius:U,tooltipPosition:D},j),m),{},{value:cn(j,v),startAngle:L,endAngle:R,payload:j,paddingAngle:cr(g)*l}),A})}return Ot(Ot({},m),{},{sectors:E,data:i})});var J6e=Math.ceil,Q6e=Math.max;function e8e(t,e,n,r){for(var i=-1,a=Q6e(J6e((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var t8e=e8e,n8e=uq,E4=1/0,r8e=17976931348623157e292;function i8e(t){if(!t)return t===0?t:0;if(t=n8e(t),t===E4||t===-E4){var e=t<0?-1:1;return e*r8e}return t===t?t:0}var GG=i8e,a8e=t8e,s8e=bw,eS=GG;function o8e(t){return function(e,n,r){return r&&typeof r!="number"&&s8e(e,n,r)&&(n=r=void 0),e=eS(e),n===void 0?(n=e,e=0):n=eS(n),r=r===void 0?e<n?1:-1:eS(r),a8e(e,n,r,t)}}var l8e=o8e,c8e=l8e,u8e=c8e(),d8e=u8e;const hx=at(d8e);function Fm(t){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fm(t)}function j4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j4(Object(n),!0).forEach(function(r){KG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KG(t,e,n){return e=f8e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f8e(t){var e=h8e(t,"string");return Fm(e)=="symbol"?e:e+""}function h8e(t,e){if(Fm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var p8e=["Webkit","Moz","O","ms"],m8e=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=p8e.reduce(function(a,s){return A4(A4({},a),{},KG({},s+r,n))},{});return i[e]=n,i};function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function px(){return px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},px.apply(this,arguments)}function k4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k4(Object(n),!0).forEach(function(r){Vr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XG(r.key),r)}}function y8e(t,e,n){return e&&T4(t.prototype,e),n&&T4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function v8e(t,e,n){return e=mx(e),x8e(t,YG()?Reflect.construct(e,n||[],mx(t).constructor):e.apply(t,n))}function x8e(t,e){if(e&&(hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b8e(t)}function b8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YG=function(){return!!t})()}function mx(t){return mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mx(t)}function w8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qA(t,e)}function qA(t,e){return qA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qA(t,e)}function Vr(t,e,n){return e=XG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XG(t){var e=_8e(t,"string");return hf(e)=="symbol"?e:e+""}function _8e(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S8e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=vp().domain(hx(0,l)).range([a,a+s-o]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:d}},C4=function(e){return e.changedTouches&&!!e.changedTouches.length},pf=function(t){function e(n){var r;return g8e(this,e),r=v8e(this,e,[n]),Vr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Vr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Vr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),r.detachDragEndListener()}),Vr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Vr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Vr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Vr(r,"handleSlideDragStart",function(i){var a=C4(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return w8e(e,t),y8e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,d=c.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(s,f),m=e.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:m===d?d:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=cn(a[r],o,r);return Ue(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,g=r.pageX-a;g>0?g=Math.min(g,c+d-f-o,c+d-f-s):g<0&&(g=Math.max(g,c-s,c-o));var x=this.getIndex({startX:s+g,endX:o+g});(x.startIndex!==h||x.endIndex!==p)&&m&&m(x),this.setState({startX:s+g,endX:o+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=C4(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[s],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,g=d.gap,x=d.data,v={startX:this.state.startX,endX:this.state.endX},b=r.pageX-a;b>0?b=Math.min(b,f+h-p-c):b<0&&(b=Math.max(b,f-c)),v[s]=c+b;var y=this.getIndex(v),w=y.startIndex,_=y.endIndex,E=function(){var j=x.length-1;return s==="startX"&&(o>l?w%g===0:_%g===0)||o<l&&_===j||s==="endX"&&(o>l?_%g===0:w%g===0)||o>l&&_===j};this.setState(Vr(Vr({},s,c+b),"brushMoveStartX",r.pageX),function(){m&&E()&&m(y)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,d=this.state[i],f=o.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(Vr({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.fill,c=r.stroke;return M.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.data,c=r.children,d=r.padding,f=S.Children.only(c);return f?M.cloneElement(f,{x:i,y:a,width:s,height:o,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,o=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,x=l.endIndex,v=Math.max(r,this.props.x),b=tS(tS({},Ie(this.props,!1)),{},{x:v,y:c,width:d,height:f}),y=p||"Min value: ".concat((a=m[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=m[x])===null||s===void 0?void 0:s.name);return M.createElement(ot,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),o.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,c=a.travellerWidth,d=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:s,width:f,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:c};return M.createElement(ot,{className:"recharts-brush-texts"},M.createElement(qc,px({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+o/2},m),this.getTextOfTick(i)),M.createElement(qc,px({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:s+o/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,o=r.x,l=r.y,c=r.width,d=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,m=h.endX,g=h.isTextActive,x=h.isSlideMoving,v=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!de(o)||!de(l)||!de(c)||!de(d)||c<=0||d<=0)return null;var y=Ke("recharts-brush",a),w=M.Children.count(s)===1,_=m8e("userSelect","none");return M.createElement(ot,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||x||v||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,o=r.height,l=r.stroke,c=Math.floor(a+o/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),M.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return M.isValidElement(r)?a=M.cloneElement(r,i):Ue(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,d=r.startIndex,f=r.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return tS({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},a&&a.length?S8e({data:a,width:s,x:o,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);r[l]>i?o=l:s=l}return i>=r[o]?o:s}}])}(S.PureComponent);Vr(pf,"displayName","Brush");Vr(pf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var E8e=iN;function j8e(t,e){var n;return E8e(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var A8e=j8e,k8e=DW,T8e=xs,C8e=A8e,O8e=Br,N8e=bw;function P8e(t,e,n){var r=O8e(t)?k8e:C8e;return n&&N8e(t,e,n)&&(e=void 0),r(t,T8e(e))}var I8e=P8e;const $8e=at(I8e);var os=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},O4=aq;function R8e(t,e,n){e=="__proto__"&&O4?O4(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var M8e=R8e,D8e=M8e,L8e=rq,F8e=xs;function B8e(t,e){var n={};return e=F8e(e),L8e(t,function(r,i,a){D8e(n,i,e(r,i,a))}),n}var z8e=B8e;const U8e=at(z8e);function H8e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var V8e=H8e,W8e=iN;function q8e(t,e){var n=!0;return W8e(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var G8e=q8e,K8e=V8e,Y8e=G8e,X8e=xs,Z8e=Br,J8e=bw;function Q8e(t,e,n){var r=Z8e(t)?K8e:Y8e;return n&&J8e(t,e,n)&&(e=void 0),r(t,X8e(e))}var e9e=Q8e;const ZG=at(e9e);var t9e=["x","y"];function Bm(t){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bm(t)}function GA(){return GA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GA.apply(this,arguments)}function N4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N4(Object(n),!0).forEach(function(r){n9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n9e(t,e,n){return e=r9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r9e(t){var e=i9e(t,"string");return Bm(e)=="symbol"?e:e+""}function i9e(t,e){if(Bm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a9e(t,e){if(t==null)return{};var n=s9e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function s9e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function o9e(t,e){var n=t.x,r=t.y,i=a9e(t,t9e),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),d=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Nh(Nh(Nh(Nh(Nh({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function P4(t){return M.createElement(VG,GA({shapeType:"rectangle",propTransformer:o9e,activeClassName:"recharts-active-bar"},t))}var l9e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,i):(a||Yc(),n)}},c9e=["value","background"],JG;function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function u9e(t,e){if(t==null)return{};var n=d9e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function d9e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gx(){return gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gx.apply(this,arguments)}function I4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I4(Object(n),!0).forEach(function(r){Yo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eK(r.key),r)}}function h9e(t,e,n){return e&&$4(t.prototype,e),n&&$4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function p9e(t,e,n){return e=yx(e),m9e(t,QG()?Reflect.construct(e,n||[],yx(t).constructor):e.apply(t,n))}function m9e(t,e){if(e&&(mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g9e(t)}function g9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QG=function(){return!!t})()}function yx(t){return yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yx(t)}function y9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KA(t,e)}function KA(t,e){return KA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KA(t,e)}function Yo(t,e,n){return e=eK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eK(t){var e=v9e(t,"string");return mf(e)=="symbol"?e:e+""}function v9e(t,e){if(mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qs=function(t){function e(){var n;f9e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=p9e(this,e,[].concat(i)),Yo(n,"state",{isAnimationFinished:!1}),Yo(n,"id",uu("recharts-bar-")),Yo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Yo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return y9e(e,t),h9e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,c=a.activeBar,d=Ie(this.props,!1);return r&&r.map(function(f,h){var p=h===l,m=p?c:s,g=mn(mn(mn({},d),f),{},{isActive:p,option:m,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return M.createElement(ot,gx({className:"recharts-bar-rectangle"},Wc(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),M.createElement(P4,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return M.createElement(_a,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=a.map(function(x,v){var b=h&&h[v];if(b){var y=Sn(b.x,x.x),w=Sn(b.y,x.y),_=Sn(b.width,x.width),E=Sn(b.height,x.height);return mn(mn({},x),{},{x:y(m),y:w(m),width:_(m),height:E(m)})}if(s==="horizontal"){var A=Sn(0,x.height),j=A(m);return mn(mn({},x),{},{y:x.y+x.height-j,height:j})}var k=Sn(0,x.width),C=k(m);return mn(mn({},x),{},{width:C})});return M.createElement(ot,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Gc(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=Ie(this.props.background,!1);return a.map(function(c,d){c.value;var f=c.background,h=u9e(c,c9e);if(!f)return null;var p=mn(mn(mn(mn(mn({},h),{},{fill:"#eee"},f),l),Wc(r.props,c,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return M.createElement(P4,gx({key:"background-bar-".concat(d),option:r.props.background,isActive:d===o},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,c=a.layout,d=a.children,f=si(d,Ig);if(!f)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(x,v){var b=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:b,errorVal:cn(x,v)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(ot,m,f.map(function(g){return M.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,o=r.xAxis,l=r.yAxis,c=r.left,d=r.top,f=r.width,h=r.height,p=r.isAnimationActive,m=r.background,g=r.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,v=Ke("recharts-bar",s),b=o&&o.allowDataOverflow,y=l&&l.allowDataOverflow,w=b||y,_=Ve(g)?this.id:g;return M.createElement(ot,{className:v},b||y?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(_)},M.createElement("rect",{x:b?c:c-f/2,y:y?d:d-h/2,width:b?f:f*2,height:y?h:h*2}))):null,M.createElement(ot,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(_,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,_),(!p||x)&&ss.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(S.PureComponent);JG=qs;Yo(qs,"displayName","Bar");Yo(qs,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ma.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Yo(qs,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=lFe(r,n);if(!p)return null;var m=e.layout,g=n.type.defaultProps,x=g!==void 0?mn(mn({},g),n.props):n.props,v=x.dataKey,b=x.children,y=x.minPointSize,w=m==="horizontal"?s:a,_=c?w.scale.domain():null,E=mFe({numericAxis:w}),A=si(b,Tg),j=f.map(function(k,C){var T,O,L,R,F,U;c?T=cFe(c[d+C],_):(T=cn(k,v),Array.isArray(T)||(T=[E,T]));var V=l9e(y,JG.defaultProps.minPointSize)(T[1],C);if(m==="horizontal"){var D,B=[s.scale(T[0]),s.scale(T[1])],P=B[0],W=B[1];O=SL({axis:a,ticks:o,bandSize:i,offset:p.offset,entry:k,index:C}),L=(D=W??P)!==null&&D!==void 0?D:void 0,R=p.size;var G=P-W;if(F=Number.isNaN(G)?0:G,U={x:O,y:s.y,width:R,height:s.height},Math.abs(V)>0&&Math.abs(F)<Math.abs(V)){var $=cr(F||V)*(Math.abs(V)-Math.abs(F));L-=$,F+=$}}else{var ee=[a.scale(T[0]),a.scale(T[1])],ie=ee[0],I=ee[1];if(O=ie,L=SL({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:k,index:C}),R=I-ie,F=p.size,U={x:a.x,y:L,width:a.width,height:F},Math.abs(V)>0&&Math.abs(R)<Math.abs(V)){var N=cr(R||V)*(Math.abs(V)-Math.abs(R));R+=N}}return mn(mn(mn({},k),{},{x:O,y:L,width:R,height:F,value:c?T:T[1],payload:k,background:U},A&&A[C]&&A[C].props),{},{tooltipPayload:[wG(n,k)],tooltipPosition:{x:O+R/2,y:L+F/2}})});return mn({data:j,layout:m},h)});function zm(t){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zm(t)}function x9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tK(r.key),r)}}function b9e(t,e,n){return e&&R4(t.prototype,e),n&&R4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function M4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M4(Object(n),!0).forEach(function(r){Dw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dw(t,e,n){return e=tK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tK(t){var e=w9e(t,"string");return zm(e)=="symbol"?e:e+""}function w9e(t,e){if(zm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IN=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.layout,c=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},h=!!Kr(c,qs);return d.reduce(function(p,m){var g=n[m],x=g.orientation,v=g.domain,b=g.padding,y=b===void 0?{}:b,w=g.mirror,_=g.reversed,E="".concat(x).concat(w?"Mirror":""),A,j,k,C,T;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var O=v[1]-v[0],L=1/0,R=g.categoricalDomain.sort();if(R.forEach(function(ee,ie){ie>0&&(L=Math.min((ee||0)-(R[ie-1]||0),L))}),Number.isFinite(L)){var F=L/O,U=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(A=F*U/2),g.padding==="no-gap"){var V=ur(e.barCategoryGap,F*U),D=F*U/2;A=D-V-(D-V)/U*V}}}i==="xAxis"?j=[r.left+(y.left||0)+(A||0),r.left+r.width-(y.right||0)-(A||0)]:i==="yAxis"?j=l==="horizontal"?[r.top+r.height-(y.bottom||0),r.top+(y.top||0)]:[r.top+(y.top||0)+(A||0),r.top+r.height-(y.bottom||0)-(A||0)]:j=g.range,_&&(j=[j[1],j[0]]);var B=yG(g,a,h),P=B.scale,W=B.realScaleType;P.domain(v).range(j),vG(P);var G=xG(P,Qi(Qi({},g),{},{realScaleType:W}));i==="xAxis"?(T=x==="top"&&!w||x==="bottom"&&w,k=r.left,C=f[E]-T*g.height):i==="yAxis"&&(T=x==="left"&&!w||x==="right"&&w,k=f[E]-T*g.width,C=r.top);var $=Qi(Qi(Qi({},g),G),{},{realScaleType:W,x:k,y:C,scale:P,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return $.bandSize=tx($,G),!g.hide&&i==="xAxis"?f[E]+=(T?-1:1)*$.height:g.hide||(f[E]+=(T?-1:1)*$.width),Qi(Qi({},p),{},Dw({},m,$))},{})},nK=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},_9e=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return nK({x:n,y:r},{x:i,y:a})},rK=function(){function t(e){x9e(this,t),this.scale=e}return b9e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Dw(rK,"EPS",1e-4);var $N=function(e){var n=Object.keys(e).reduce(function(r,i){return Qi(Qi({},r),{},Dw({},i,rK.create(e[i])))},{});return Qi(Qi({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return U8e(i,function(l,c){return n[c].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return ZG(i,function(a,s){return n[s].isInRange(a)})}})};function S9e(t){return(t%180+180)%180}var E9e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=S9e(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},j9e=xs,A9e=kg,k9e=vw;function T9e(t){return function(e,n,r){var i=Object(e);if(!A9e(e)){var a=j9e(n);e=k9e(e),n=function(o){return a(i[o],o,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:void 0}}var C9e=T9e,O9e=GG;function N9e(t){var e=O9e(t),n=e%1;return e===e?n?e-n:e:0}var P9e=N9e,I9e=ZW,$9e=xs,R9e=P9e,M9e=Math.max;function D9e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:R9e(n);return i<0&&(i=M9e(r+i,0)),I9e(t,$9e(e),i)}var L9e=D9e,F9e=C9e,B9e=L9e,z9e=F9e(B9e),U9e=z9e;const H9e=at(U9e);var V9e=ZAe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),RN=S.createContext(void 0),MN=S.createContext(void 0),iK=S.createContext(void 0),aK=S.createContext({}),sK=S.createContext(void 0),oK=S.createContext(0),lK=S.createContext(0),D4=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,d=V9e(a);return M.createElement(RN.Provider,{value:r},M.createElement(MN.Provider,{value:i},M.createElement(aK.Provider,{value:a},M.createElement(iK.Provider,{value:d},M.createElement(sK.Provider,{value:s},M.createElement(oK.Provider,{value:c},M.createElement(lK.Provider,{value:l},o)))))))},W9e=function(){return S.useContext(sK)},cK=function(e){var n=S.useContext(RN);n==null&&Yc();var r=n[e];return r==null&&Yc(),r},q9e=function(){var e=S.useContext(RN);return Mo(e)},G9e=function(){var e=S.useContext(MN),n=H9e(e,function(r){return ZG(r.domain,Number.isFinite)});return n||Mo(e)},uK=function(e){var n=S.useContext(MN);n==null&&Yc();var r=n[e];return r==null&&Yc(),r},K9e=function(){var e=S.useContext(iK);return e},Y9e=function(){return S.useContext(aK)},DN=function(){return S.useContext(lK)},LN=function(){return S.useContext(oK)};function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function X9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z9e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fK(r.key),r)}}function J9e(t,e,n){return e&&Z9e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q9e(t,e,n){return e=vx(e),eHe(t,dK()?Reflect.construct(e,n||[],vx(t).constructor):e.apply(t,n))}function eHe(t,e){if(e&&(gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tHe(t)}function tHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dK=function(){return!!t})()}function vx(t){return vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vx(t)}function nHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YA(t,e)}function YA(t,e){return YA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YA(t,e)}function L4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L4(Object(n),!0).forEach(function(r){FN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FN(t,e,n){return e=fK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fK(t){var e=rHe(t,"string");return gf(e)=="symbol"?e:e+""}function rHe(t,e){if(gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iHe(t,e){return lHe(t)||oHe(t,e)||sHe(t,e)||aHe()}function aHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sHe(t,e){if(t){if(typeof t=="string")return B4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B4(t,e)}}function B4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oHe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function lHe(t){if(Array.isArray(t))return t}function XA(){return XA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XA.apply(this,arguments)}var cHe=function(e,n){var r;return M.isValidElement(e)?r=M.cloneElement(e,n):Ue(e)?r=e(n):r=M.createElement("line",XA({},n,{className:"recharts-reference-line-line"})),r},uHe=function(e,n,r,i,a,s,o,l,c){var d=a.x,f=a.y,h=a.width,p=a.height;if(r){var m=c.y,g=e.y.apply(m,{position:s});if(os(c,"discard")&&!e.y.isInRange(g))return null;var x=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?x.reverse():x}if(n){var v=c.x,b=e.x.apply(v,{position:s});if(os(c,"discard")&&!e.x.isInRange(b))return null;var y=[{x:b,y:f+p},{x:b,y:f}];return o==="top"?y.reverse():y}if(i){var w=c.segment,_=w.map(function(E){return e.apply(E,{position:s})});return os(c,"discard")&&$8e(_,function(E){return!e.isInRange(E)})?null:_}return null};function dHe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,c=W9e(),d=cK(i),f=uK(a),h=K9e();if(!c||!h)return null;pa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=$N({x:d.scale,y:f.scale}),m=jn(e),g=jn(n),x=r&&r.length===2,v=uHe(p,m,g,x,h,t.position,d.orientation,f.orientation,t);if(!v)return null;var b=iHe(v,2),y=b[0],w=y.x,_=y.y,E=b[1],A=E.x,j=E.y,k=os(t,"hidden")?"url(#".concat(c,")"):void 0,C=F4(F4({clipPath:k},Ie(t,!0)),{},{x1:w,y1:_,x2:A,y2:j});return M.createElement(ot,{className:Ke("recharts-reference-line",o)},cHe(s,C),$n.renderCallByParent(t,_9e({x1:w,y1:_,x2:A,y2:j})))}var BN=function(t){function e(){return X9e(this,e),Q9e(this,e,arguments)}return nHe(e,t),J9e(e,[{key:"render",value:function(){return M.createElement(dHe,this.props)}}])}(M.Component);FN(BN,"displayName","ReferenceLine");FN(BN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ZA(){return ZA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZA.apply(this,arguments)}function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function z4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z4(Object(n),!0).forEach(function(r){Lw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hHe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pK(r.key),r)}}function pHe(t,e,n){return e&&hHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mHe(t,e,n){return e=xx(e),gHe(t,hK()?Reflect.construct(e,n||[],xx(t).constructor):e.apply(t,n))}function gHe(t,e){if(e&&(yf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yHe(t)}function yHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hK=function(){return!!t})()}function xx(t){return xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xx(t)}function vHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JA(t,e)}function JA(t,e){return JA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JA(t,e)}function Lw(t,e,n){return e=pK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pK(t){var e=xHe(t,"string");return yf(e)=="symbol"?e:e+""}function xHe(t,e){if(yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bHe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=$N({x:i.scale,y:a.scale}),o=s.apply({x:n,y:r},{bandAware:!0});return os(e,"discard")&&!s.isInRange(o)?null:o},Fw=function(t){function e(){return fHe(this,e),mHe(this,e,arguments)}return vHe(e,t),pHe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,o=r.alwaysShow,l=r.clipPathId,c=jn(i),d=jn(a);if(pa(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=bHe(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,g=m.shape,x=m.className,v=os(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=U4(U4({clipPath:v},Ie(this.props,!0)),{},{cx:h,cy:p});return M.createElement(ot,{className:Ke("recharts-reference-dot",x)},e.renderDot(g,b),$n.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(M.Component);Lw(Fw,"displayName","ReferenceDot");Lw(Fw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Lw(Fw,"renderDot",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):Ue(t)?n=t(e):n=M.createElement($g,ZA({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function QA(){return QA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QA.apply(this,arguments)}function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function H4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H4(Object(n),!0).forEach(function(r){Bw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _He(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gK(r.key),r)}}function SHe(t,e,n){return e&&_He(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function EHe(t,e,n){return e=bx(e),jHe(t,mK()?Reflect.construct(e,n||[],bx(t).constructor):e.apply(t,n))}function jHe(t,e){if(e&&(vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AHe(t)}function AHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mK=function(){return!!t})()}function bx(t){return bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bx(t)}function kHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ek(t,e)}function ek(t,e){return ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ek(t,e)}function Bw(t,e,n){return e=gK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gK(t){var e=THe(t,"string");return vf(e)=="symbol"?e:e+""}function THe(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CHe=function(e,n,r,i,a){var s=a.x1,o=a.x2,l=a.y1,c=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=$N({x:d.scale,y:f.scale}),p={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:n?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return os(a,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:nK(p,m)},zw=function(t){function e(){return wHe(this,e),EHe(this,e,arguments)}return kHe(e,t),SHe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,d=r.clipPathId;pa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=jn(i),h=jn(a),p=jn(s),m=jn(o),g=this.props.shape;if(!f&&!h&&!p&&!m&&!g)return null;var x=CHe(f,h,p,m,this.props);if(!x&&!g)return null;var v=os(this.props,"hidden")?"url(#".concat(d,")"):void 0;return M.createElement(ot,{className:Ke("recharts-reference-area",l)},e.renderRect(g,V4(V4({clipPath:v},Ie(this.props,!0)),x)),$n.renderCallByParent(this.props,x))}}])}(M.Component);Bw(zw,"displayName","ReferenceArea");Bw(zw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Bw(zw,"renderRect",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):Ue(t)?n=t(e):n=M.createElement(PN,QA({},e,{className:"recharts-reference-area-rect"})),n});function yK(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function OHe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return E9e(r,n)}function NHe(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function wx(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function PHe(t,e){return yK(t,e+1)}function IHe(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,o=e.end,l=0,c=1,d=s,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:yK(r,c)};var g=l,x,v=function(){return x===void 0&&(x=n(m,g)),x},b=m.coordinate,y=l===0||wx(t,b,v,d,o);y||(l=0,d=s,c+=1),y&&(d=b+t*(v()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function Um(t){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(t)}function W4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W4(Object(n),!0).forEach(function(r){$He(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $He(t,e,n){return e=RHe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RHe(t){var e=MHe(t,"string");return Um(e)=="symbol"?e:e+""}function MHe(t,e){if(Um(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DHe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,o=e.start,l=e.end,c=function(h){var p=a[h],m,g=function(){return m===void 0&&(m=n(p,h)),m};if(h===s-1){var x=t*(p.coordinate+t*g()/2-l);a[h]=p=Gn(Gn({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate})}else a[h]=p=Gn(Gn({},p),{},{tickCoord:p.coordinate});var v=wx(t,p.tickCoord,g,o,l);v&&(l=p.tickCoord-t*(g()/2+i),a[h]=Gn(Gn({},p),{},{isShow:!0}))},d=s-1;d>=0;d--)c(d);return a}function LHe(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,l=e.start,c=e.end;if(a){var d=r[o-1],f=n(d,o-1),h=t*(d.coordinate+t*f/2-c);s[o-1]=d=Gn(Gn({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var p=wx(t,d.tickCoord,function(){return f},l,c);p&&(c=d.tickCoord-t*(f/2+i),s[o-1]=Gn(Gn({},d),{},{isShow:!0}))}for(var m=a?o-1:o,g=function(b){var y=s[b],w,_=function(){return w===void 0&&(w=n(y,b)),w};if(b===0){var E=t*(y.coordinate-t*_()/2-l);s[b]=y=Gn(Gn({},y),{},{tickCoord:E<0?y.coordinate-E*t:y.coordinate})}else s[b]=y=Gn(Gn({},y),{},{tickCoord:y.coordinate});var A=wx(t,y.tickCoord,_,l,c);A&&(l=y.tickCoord+t*(_()/2+i),s[b]=Gn(Gn({},y),{},{isShow:!0}))},x=0;x<m;x++)g(x);return s}function zN(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(de(l)||ma.isSsr)return PHe(i,typeof l=="number"&&de(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",m=d&&p==="width"?yp(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(y,w){var _=Ue(c)?c(y.value,w):y.value;return p==="width"?OHe(yp(_,{fontSize:e,letterSpacing:n}),m,f):yp(_,{fontSize:e,letterSpacing:n})[p]},x=i.length>=2?cr(i[1].coordinate-i[0].coordinate):1,v=NHe(a,x,p);return l==="equidistantPreserveStart"?IHe(x,v,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=LHe(x,v,g,i,s,l==="preserveStartEnd"):h=DHe(x,v,g,i,s),h.filter(function(b){return b.isShow}))}var FHe=["viewBox"],BHe=["viewBox"],zHe=["ticks"];function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function rd(){return rd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rd.apply(this,arguments)}function q4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q4(Object(n),!0).forEach(function(r){UN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nS(t,e){if(t==null)return{};var n=UHe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UHe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function HHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xK(r.key),r)}}function VHe(t,e,n){return e&&G4(t.prototype,e),n&&G4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function WHe(t,e,n){return e=_x(e),qHe(t,vK()?Reflect.construct(e,n||[],_x(t).constructor):e.apply(t,n))}function qHe(t,e){if(e&&(xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GHe(t)}function GHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vK=function(){return!!t})()}function _x(t){return _x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_x(t)}function KHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tk(t,e)}function tk(t,e){return tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tk(t,e)}function UN(t,e,n){return e=xK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xK(t){var e=YHe(t,"string");return xf(e)=="symbol"?e:e+""}function YHe(t,e){if(xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ih=function(t){function e(n){var r;return HHe(this,e),r=WHe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return KHe(e,t),VHe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=nS(r,FHe),o=this.props,l=o.viewBox,c=nS(o,BHe);return!bd(a,l)||!bd(s,c)||!bd(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,c=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,m,g,x,v,b,y=f?-1:1,w=r.tickSize||d,_=de(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=m=r.coordinate,x=s+ +!f*l,g=x-y*w,b=g-y*h,v=_;break;case"left":g=x=r.coordinate,m=a+ +!f*o,p=m-y*w,v=p-y*h,b=_;break;case"right":g=x=r.coordinate,m=a+ +f*o,p=m+y*w,v=p+y*h,b=_;break;default:p=m=r.coordinate,x=s+ +f*l,g=x+y*w,b=g+y*h,v=_;break}return{line:{x1:p,y1:g,x2:m,y2:x},tick:{x:v,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.orientation,c=r.mirror,d=r.axisLine,f=ir(ir(ir({},Ie(this.props,!1)),Ie(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=ir(ir({},f),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=ir(ir({},f),{},{x1:i+p*s,y1:a,x2:i+p*s,y2:a+o})}return M.createElement("line",rd({},f,{className:Ke("recharts-cartesian-axis-line",ai(d,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,o=this.props,l=o.tickLine,c=o.stroke,d=o.tick,f=o.tickFormatter,h=o.unit,p=zN(ir(ir({},this.props),{},{ticks:r}),i,a),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),x=Ie(this.props,!1),v=Ie(d,!1),b=ir(ir({},x),{},{fill:"none"},Ie(l,!1)),y=p.map(function(w,_){var E=s.getTickLineCoord(w),A=E.line,j=E.tick,k=ir(ir(ir(ir({textAnchor:m,verticalAnchor:g},x),{},{stroke:"none",fill:c},v),j),{},{index:_,payload:w,visibleTicksCount:p.length,tickFormatter:f});return M.createElement(ot,rd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},Wc(s.props,w,_)),l&&M.createElement("line",rd({},b,A,{className:Ke("recharts-cartesian-axis-tick-line",ai(l,"className"))})),d&&e.renderTickItem(d,k,"".concat(Ue(f)?f(w.value,_):w.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=nS(f,zHe),m=h;return Ue(l)&&(m=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!m||!m.length?null:M.createElement(ot,{className:Ke("recharts-cartesian-axis",c),ref:function(x){r.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),$n.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return M.isValidElement(r)?s=M.cloneElement(r,i):Ue(r)?s=r(i):s=M.createElement(qc,rd({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(S.Component);UN(ih,"displayName","CartesianAxis");UN(ih,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var XHe=["x1","y1","x2","y2","key"],ZHe=["offset"];function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function K4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K4(Object(n),!0).forEach(function(r){JHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JHe(t,e,n){return e=QHe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QHe(t){var e=eVe(t,"string");return Xc(e)=="symbol"?e:e+""}function eVe(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mc.apply(this,arguments)}function Y4(t,e){if(t==null)return{};var n=tVe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tVe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var nVe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return M.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function bK(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(Ue(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=Y4(e,XHe),c=Ie(l,!1);c.offset;var d=Y4(c,ZHe);n=M.createElement("line",mc({},d,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function rVe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=Yn(Yn({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return bK(i,c)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function iVe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=Yn(Yn({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return bK(i,c)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function aVe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var d=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?i+s-h:d[p+1]-h;if(g<=0)return null;var x=p%e.length;return M.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:g,width:a,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function sVe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var d=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?a+o-h:d[p+1]-h;if(g<=0)return null;var x=p%r.length;return M.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:g,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var oVe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return gG(zN(Yn(Yn(Yn({},ih.defaultProps),r),{},{ticks:Ms(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},lVe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return gG(zN(Yn(Yn(Yn({},ih.defaultProps),r),{},{ticks:Ms(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},Ou={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Sx(t){var e,n,r,i,a,s,o=DN(),l=LN(),c=Y9e(),d=Yn(Yn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ou.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ou.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ou.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ou.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Ou.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Ou.verticalFill,x:de(t.x)?t.x:c.left,y:de(t.y)?t.y:c.top,width:de(t.width)?t.width:c.width,height:de(t.height)?t.height:c.height}),f=d.x,h=d.y,p=d.width,m=d.height,g=d.syncWithTicks,x=d.horizontalValues,v=d.verticalValues,b=q9e(),y=G9e();if(!de(p)||p<=0||!de(m)||m<=0||!de(f)||f!==+f||!de(h)||h!==+h)return null;var w=d.verticalCoordinatesGenerator||oVe,_=d.horizontalCoordinatesGenerator||lVe,E=d.horizontalPoints,A=d.verticalPoints;if((!E||!E.length)&&Ue(_)){var j=x&&x.length,k=_({yAxis:y?Yn(Yn({},y),{},{ticks:j?x:y.ticks}):void 0,width:o,height:l,offset:c},j?!0:g);pa(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Xc(k),"]")),Array.isArray(k)&&(E=k)}if((!A||!A.length)&&Ue(w)){var C=v&&v.length,T=w({xAxis:b?Yn(Yn({},b),{},{ticks:C?v:b.ticks}):void 0,width:o,height:l,offset:c},C?!0:g);pa(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Xc(T),"]")),Array.isArray(T)&&(A=T)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(nVe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),M.createElement(rVe,mc({},d,{offset:c,horizontalPoints:E,xAxis:b,yAxis:y})),M.createElement(iVe,mc({},d,{offset:c,verticalPoints:A,xAxis:b,yAxis:y})),M.createElement(aVe,mc({},d,{horizontalPoints:E})),M.createElement(sVe,mc({},d,{verticalPoints:A})))}Sx.displayName="CartesianGrid";var cVe=["type","layout","connectNulls","ref"],uVe=["key"];function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function X4(t,e){if(t==null)return{};var n=dVe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dVe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Sp(){return Sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sp.apply(this,arguments)}function Z4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z4(Object(n),!0).forEach(function(r){ea(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nu(t){return mVe(t)||pVe(t)||hVe(t)||fVe()}function fVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hVe(t,e){if(t){if(typeof t=="string")return nk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nk(t,e)}}function pVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mVe(t){if(Array.isArray(t))return nk(t)}function nk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_K(r.key),r)}}function yVe(t,e,n){return e&&J4(t.prototype,e),n&&J4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vVe(t,e,n){return e=Ex(e),xVe(t,wK()?Reflect.construct(e,n||[],Ex(t).constructor):e.apply(t,n))}function xVe(t,e){if(e&&(bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bVe(t)}function bVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wK=function(){return!!t})()}function Ex(t){return Ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ex(t)}function wVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rk(t,e)}function rk(t,e){return rk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rk(t,e)}function ea(t,e,n){return e=_K(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _K(t){var e=_Ve(t,"string");return bf(e)=="symbol"?e:e+""}function _Ve(t,e){if(bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nc=function(t){function e(){var n;gVe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=vVe(this,e,[].concat(i)),ea(n,"state",{isAnimationFinished:!0,totalLength:0}),ea(n,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),ea(n,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(v,b){return v+b});if(!c)return n.generateSimpleStrokeDasharray(o,s);for(var d=Math.floor(s/c),f=s%c,h=o-s,p=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>f){p=[].concat(Nu(l.slice(0,m)),[f-g]);break}var x=p.length%2===0?[0,h]:[h];return[].concat(Nu(e.repeat(l,d)),Nu(p),x).map(function(v){return"".concat(v,"px")}).join(", ")}),ea(n,"id",uu("recharts-line-")),ea(n,"pathRef",function(s){n.mainCurve=s}),ea(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),ea(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return wVe(e,t),yVe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,c=a.layout,d=a.children,f=si(d,Ig);if(!f)return null;var h=function(g,x){return{x:g.x,y:g.y,value:g.value,errorVal:cn(g.payload,x)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(ot,p,f.map(function(m){return M.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,d=o.dataKey,f=Ie(this.props,!1),h=Ie(l,!0),p=c.map(function(g,x){var v=Hr(Hr(Hr({key:"dot-".concat(x),r:3},f),h),{},{value:g.value,dataKey:d,cx:g.x,cy:g.y,index:x,payload:g.payload});return e.renderDotItem(l,v)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return M.createElement(ot,Sp({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(r,i,a,s){var o=this.props,l=o.type,c=o.layout,d=o.connectNulls;o.ref;var f=X4(o,cVe),h=Hr(Hr(Hr({},Ie(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},s),{},{type:l,layout:c,connectNulls:d});return M.createElement(Oc,Sp({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,m=s.animateNewValues,g=s.width,x=s.height,v=this.state,b=v.prevPoints,y=v.totalLength;return M.createElement(_a,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var _=w.t;if(b){var E=b.length/o.length,A=o.map(function(O,L){var R=Math.floor(L*E);if(b[R]){var F=b[R],U=Sn(F.x,O.x),V=Sn(F.y,O.y);return Hr(Hr({},O),{},{x:U(_),y:V(_)})}if(m){var D=Sn(g*2,O.x),B=Sn(x/2,O.y);return Hr(Hr({},O),{},{x:D(_),y:B(_)})}return Hr(Hr({},O),{},{x:O.x,y:O.y})});return a.renderCurveStatically(A,r,i)}var j=Sn(0,y),k=j(_),C;if(l){var T="".concat(l).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});C=a.getStrokeDasharray(k,y,T)}else C=a.generateSimpleStrokeDasharray(y,k);return a.renderCurveStatically(o,r,i,{strokeDasharray:C})})}},{key:"renderCurve",value:function(r,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return o&&s&&s.length&&(!c&&d>0||!Gc(c,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,m=i.height,g=i.isAnimationActive,x=i.id;if(a||!o||!o.length)return null;var v=this.state.isAnimationFinished,b=o.length===1,y=Ke("recharts-line",l),w=c&&c.allowDataOverflow,_=d&&d.allowDataOverflow,E=w||_,A=Ve(x)?this.id:x,j=(r=Ie(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=j.r,C=k===void 0?3:k,T=j.strokeWidth,O=T===void 0?2:T,L=lW(s)?s:{},R=L.clipDot,F=R===void 0?!0:R,U=C*2+O;return M.createElement(ot,{className:y},w||_?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(A)},M.createElement("rect",{x:w?h:h-p/2,y:_?f:f-m/2,width:w?p:p*2,height:_?m:m*2})),!F&&M.createElement("clipPath",{id:"clipPath-dots-".concat(A)},M.createElement("rect",{x:h-U/2,y:f-U/2,width:p+U,height:m+U}))):null,!b&&this.renderCurve(E,A),this.renderErrorBar(E,A),(b||s)&&this.renderDots(E,F,A),(!g||v)&&ss.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(Nu(r),[0]):r,s=[],o=0;o<i;++o)s=[].concat(Nu(s),Nu(a));return s}},{key:"renderDotItem",value:function(r,i){var a;if(M.isValidElement(r))a=M.cloneElement(r,i);else if(Ue(r))a=r(i);else{var s=i.key,o=X4(i,uVe),l=Ke("recharts-line-dot",typeof r!="boolean"?r.className:"");a=M.createElement($g,Sp({key:s},o,{className:l}))}return a}}])}(S.PureComponent);ea(Nc,"displayName","Line");ea(Nc,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ma.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ea(Nc,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,c=t.offset,d=e.layout,f=l.map(function(h,p){var m=cn(h,s);return d==="horizontal"?{x:ex({axis:n,ticks:i,bandSize:o,entry:h,index:p}),y:Ve(m)?null:r.scale(m),value:m,payload:h}:{x:Ve(m)?null:n.scale(m),y:ex({axis:r,ticks:a,bandSize:o,entry:h,index:p}),value:m,payload:h}});return Hr({points:f,layout:d},c)});var SVe=["layout","type","stroke","connectNulls","isRange","ref"],EVe=["key"],SK;function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function EK(t,e){if(t==null)return{};var n=jVe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jVe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gc.apply(this,arguments)}function Q4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function To(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q4(Object(n),!0).forEach(function(r){Za(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AK(r.key),r)}}function kVe(t,e,n){return e&&e5(t.prototype,e),n&&e5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function TVe(t,e,n){return e=jx(e),CVe(t,jK()?Reflect.construct(e,n||[],jx(t).constructor):e.apply(t,n))}function CVe(t,e){if(e&&(wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OVe(t)}function OVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jK=function(){return!!t})()}function jx(t){return jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jx(t)}function NVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ik(t,e)}function ik(t,e){return ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ik(t,e)}function Za(t,e,n){return e=AK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AK(t){var e=PVe(t,"string");return wf(e)=="symbol"?e:e+""}function PVe(t,e){if(wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lo=function(t){function e(){var n;AVe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=TVe(this,e,[].concat(i)),Za(n,"state",{isAnimationFinished:!0}),Za(n,"id",uu("recharts-area-")),Za(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ue(s)&&s()}),Za(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ue(s)&&s()}),n}return NVe(e,t),kVe(e,[{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var l=this.props,c=l.dot,d=l.points,f=l.dataKey,h=Ie(this.props,!1),p=Ie(c,!0),m=d.map(function(x,v){var b=To(To(To({key:"dot-".concat(v),r:3},h),p),{},{index:v,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:d});return e.renderDotItem(c,b)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return M.createElement(ot,gc({className:"recharts-area-dots"},g),m)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].x,c=s[s.length-1].x,d=r*Math.abs(l-c),f=Ko(s.map(function(h){return h.y||0}));return de(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Ko(a.map(function(h){return h.y||0})),f)),de(f)?M.createElement("rect",{x:l<c?l:l-d,y:0,width:d,height:Math.floor(f+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].y,c=s[s.length-1].y,d=r*Math.abs(l-c),f=Ko(s.map(function(h){return h.x||0}));return de(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Ko(a.map(function(h){return h.x||0})),f)),de(f)?M.createElement("rect",{x:0,y:l<c?l:l-d,width:f+(o?parseInt("".concat(o),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,s){var o=this.props,l=o.layout,c=o.type,d=o.stroke,f=o.connectNulls,h=o.isRange;o.ref;var p=EK(o,SVe);return M.createElement(ot,{clipPath:a?"url(#clipPath-".concat(s,")"):null},M.createElement(Oc,gc({},Ie(p,!0),{points:r,connectNulls:f,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&M.createElement(Oc,gc({},Ie(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:r})),d!=="none"&&h&&M.createElement(Oc,gc({},Ie(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,m=this.state,g=m.prevPoints,x=m.prevBaseLine;return M.createElement(_a,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var b=v.t;if(g){var y=g.length/o.length,w=o.map(function(j,k){var C=Math.floor(k*y);if(g[C]){var T=g[C],O=Sn(T.x,j.x),L=Sn(T.y,j.y);return To(To({},j),{},{x:O(b),y:L(b)})}return j}),_;if(de(l)&&typeof l=="number"){var E=Sn(x,l);_=E(b)}else if(Ve(l)||Xf(l)){var A=Sn(x,0);_=A(b)}else _=l.map(function(j,k){var C=Math.floor(k*y);if(x[C]){var T=x[C],O=Sn(T.x,j.x),L=Sn(T.y,j.y);return To(To({},j),{},{x:O(b),y:L(b)})}return j});return a.renderAreaStatically(w,_,r,i)}return M.createElement(ot,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(b))),M.createElement(ot,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(o,l,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,s=a.points,o=a.baseLine,l=a.isAnimationActive,c=this.state,d=c.prevPoints,f=c.prevBaseLine,h=c.totalLength;return l&&s&&s.length&&(!d&&h>0||!Gc(d,s)||!Gc(f,o))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.top,d=i.left,f=i.xAxis,h=i.yAxis,p=i.width,m=i.height,g=i.isAnimationActive,x=i.id;if(a||!o||!o.length)return null;var v=this.state.isAnimationFinished,b=o.length===1,y=Ke("recharts-area",l),w=f&&f.allowDataOverflow,_=h&&h.allowDataOverflow,E=w||_,A=Ve(x)?this.id:x,j=(r=Ie(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=j.r,C=k===void 0?3:k,T=j.strokeWidth,O=T===void 0?2:T,L=lW(s)?s:{},R=L.clipDot,F=R===void 0?!0:R,U=C*2+O;return M.createElement(ot,{className:y},w||_?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(A)},M.createElement("rect",{x:w?d:d-p/2,y:_?c:c-m/2,width:w?p:p*2,height:_?m:m*2})),!F&&M.createElement("clipPath",{id:"clipPath-dots-".concat(A)},M.createElement("rect",{x:d-U/2,y:c-U/2,width:p+U,height:m+U}))):null,b?null:this.renderArea(E,A),(s||b)&&this.renderDots(E,F,A),(!g||v)&&ss.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(S.PureComponent);SK=lo;Za(lo,"displayName","Area");Za(lo,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ma.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Za(lo,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,s=e.props.baseValue,o=s??a;if(de(o)&&typeof o=="number")return o;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var d=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return o==="dataMin"?f:o==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]});Za(lo,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.bandSize,l=t.dataKey,c=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=e.layout,m=c&&c.length,g=SK.getBaseValue(e,n,r,i),x=p==="horizontal",v=!1,b=f.map(function(w,_){var E;m?E=c[d+_]:(E=cn(w,l),Array.isArray(E)?v=!0:E=[g,E]);var A=E[1]==null||m&&cn(w,l)==null;return x?{x:ex({axis:r,ticks:a,bandSize:o,entry:w,index:_}),y:A?null:i.scale(E[1]),value:E,payload:w}:{x:A?null:r.scale(E[1]),y:ex({axis:i,ticks:s,bandSize:o,entry:w,index:_}),value:E,payload:w}}),y;return m||v?y=b.map(function(w){var _=Array.isArray(w.value)?w.value[0]:null;return x?{x:w.x,y:_!=null&&w.y!=null?i.scale(_):null}:{x:_!=null?r.scale(_):null,y:w.y}}):y=x?i.scale(g):r.scale(g),To({points:b,baseLine:y,layout:p,isRange:v},h)});Za(lo,"renderDotItem",function(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(Ue(t))n=t(e);else{var r=Ke("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=EK(e,EVe);n=M.createElement($g,gc({},a,{key:i,className:r}))}return n});function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function IVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $Ve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CK(r.key),r)}}function RVe(t,e,n){return e&&$Ve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MVe(t,e,n){return e=Ax(e),DVe(t,kK()?Reflect.construct(e,n||[],Ax(t).constructor):e.apply(t,n))}function DVe(t,e){if(e&&(_f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LVe(t)}function LVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kK=function(){return!!t})()}function Ax(t){return Ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ax(t)}function FVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ak(t,e)}function ak(t,e){return ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ak(t,e)}function TK(t,e,n){return e=CK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CK(t){var e=BVe(t,"string");return _f(e)=="symbol"?e:e+""}function BVe(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sk(){return sk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sk.apply(this,arguments)}function zVe(t){var e=t.xAxisId,n=DN(),r=LN(),i=cK(e);return i==null?null:M.createElement(ih,sk({},i,{className:Ke("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Ms(s,!0)}}))}var Al=function(t){function e(){return IVe(this,e),MVe(this,e,arguments)}return FVe(e,t),RVe(e,[{key:"render",value:function(){return M.createElement(zVe,this.props)}}])}(M.Component);TK(Al,"displayName","XAxis");TK(Al,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function UVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HVe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PK(r.key),r)}}function VVe(t,e,n){return e&&HVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function WVe(t,e,n){return e=kx(e),qVe(t,OK()?Reflect.construct(e,n||[],kx(t).constructor):e.apply(t,n))}function qVe(t,e){if(e&&(Sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GVe(t)}function GVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OK=function(){return!!t})()}function kx(t){return kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kx(t)}function KVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ok(t,e)}function ok(t,e){return ok=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ok(t,e)}function NK(t,e,n){return e=PK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PK(t){var e=YVe(t,"string");return Sf(e)=="symbol"?e:e+""}function YVe(t,e){if(Sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lk(){return lk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lk.apply(this,arguments)}var XVe=function(e){var n=e.yAxisId,r=DN(),i=LN(),a=uK(n);return a==null?null:M.createElement(ih,lk({},a,{className:Ke("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return Ms(o,!0)}}))},kl=function(t){function e(){return UVe(this,e),WVe(this,e,arguments)}return KVe(e,t),VVe(e,[{key:"render",value:function(){return M.createElement(XVe,this.props)}}])}(M.Component);NK(kl,"displayName","YAxis");NK(kl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function t5(t){return e7e(t)||QVe(t)||JVe(t)||ZVe()}function ZVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JVe(t,e){if(t){if(typeof t=="string")return ck(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ck(t,e)}}function QVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function e7e(t){if(Array.isArray(t))return ck(t)}function ck(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var uk=function(e,n,r,i,a){var s=si(e,BN),o=si(e,Fw),l=[].concat(t5(s),t5(o)),c=si(e,zw),d="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(g,x){if(x.props[d]===r&&os(x.props,"extendDomain")&&de(x.props[f])){var v=x.props[f];return[Math.min(g[0],v),Math.max(g[1],v)]}return g},h)),c.length){var p="".concat(f,"1"),m="".concat(f,"2");h=c.reduce(function(g,x){if(x.props[d]===r&&os(x.props,"extendDomain")&&de(x.props[p])&&de(x.props[m])){var v=x.props[p],b=x.props[m];return[Math.min(g[0],v,b),Math.max(g[1],v,b)]}return g},h)}return a&&a.length&&(h=a.reduce(function(g,x){return de(x)?[Math.min(g[0],x),Math.max(g[1],x)]:g},h)),h},rS=new Lue,iS="recharts.syncMouseEvents";function Hm(t){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(t)}function t7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n7e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IK(r.key),r)}}function r7e(t,e,n){return e&&n7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aS(t,e,n){return e=IK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IK(t){var e=i7e(t,"string");return Hm(e)=="symbol"?e:e+""}function i7e(t,e){if(Hm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var a7e=function(){function t(){t7e(this,t),aS(this,"activeIndex",0),aS(this,"coordinateList",[]),aS(this,"layout","horizontal")}return r7e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,o=s===void 0?null:s,l=n.layout,c=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+c,h=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function s7e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&de(r)&&de(i))return!0}return!1}function o7e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function $K(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=$t(e,n,r,i),o=$t(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function l7e(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,d=e.outerRadius,f=e.angle,h=$t(o,l,c,f),p=$t(o,l,d,f);r=h.x,i=h.y,a=p.x,s=p.y}else return $K(e);return[{x:r,y:i},{x:a,y:s}]}function Vm(t){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(t)}function n5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n5(Object(n),!0).forEach(function(r){c7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c7e(t,e,n){return e=u7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u7e(t){var e=d7e(t,"string");return Vm(e)=="symbol"?e:e+""}function d7e(t,e){if(Vm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f7e(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var m,g=Oc;if(h==="ScatterChart")m=s,g=_Ue;else if(h==="BarChart")m=o7e(f,s,l,d),g=PN;else if(f==="radial"){var x=$K(s),v=x.cx,b=x.cy,y=x.radius,w=x.startAngle,_=x.endAngle;m={cx:v,cy:b,startAngle:w,endAngle:_,innerRadius:y,outerRadius:y},g=kG}else m={points:l7e(f,s,l)},g=Oc;var E=Vy(Vy(Vy(Vy({stroke:"#ccc",pointerEvents:"none"},l),m),Ie(p,!1)),{},{payload:o,payloadIndex:c,className:Ke("recharts-tooltip-cursor",p.className)});return S.isValidElement(p)?S.cloneElement(p,E):S.createElement(g,E)}var h7e=["item"],p7e=["children","className","width","height","style","compact","title","desc"];function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function Ep(){return Ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ep.apply(this,arguments)}function r5(t,e){return y7e(t)||g7e(t,e)||MK(t,e)||m7e()}function m7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g7e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function y7e(t){if(Array.isArray(t))return t}function i5(t,e){if(t==null)return{};var n=v7e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function v7e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function x7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b7e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DK(r.key),r)}}function w7e(t,e,n){return e&&b7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _7e(t,e,n){return e=Tx(e),S7e(t,RK()?Reflect.construct(e,n||[],Tx(t).constructor):e.apply(t,n))}function S7e(t,e){if(e&&(Ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E7e(t)}function E7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RK=function(){return!!t})()}function Tx(t){return Tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tx(t)}function j7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dk(t,e)}function dk(t,e){return dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dk(t,e)}function jf(t){return T7e(t)||k7e(t)||MK(t)||A7e()}function A7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MK(t,e){if(t){if(typeof t=="string")return fk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fk(t,e)}}function k7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function T7e(t){if(Array.isArray(t))return fk(t)}function fk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a5(Object(n),!0).forEach(function(r){ze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ze(t,e,n){return e=DK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DK(t){var e=C7e(t,"string");return Ef(e)=="symbol"?e:e+""}function C7e(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O7e={xAxis:["bottom","top"],yAxis:["left","right"]},N7e={width:"100%",height:"100%"},LK={x:0,y:0};function Wy(t){return t}var P7e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},I7e=function(e,n,r,i){var a=n.find(function(d){return d&&d.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return Q(Q(Q({},i),$t(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,c=i.angle;return Q(Q(Q({},i),$t(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return LK},Uw=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(jf(o),jf(c)):o},[]);return s.length>0?s:e&&e.length&&de(i)&&de(a)?e.slice(i,a+1):[]};function FK(t){return t==="number"?[0,"auto"]:void 0}var hk=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,o=Uw(n,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;h=A0(p,s.dataKey,i)}else h=f&&f[r]||o[r];return h?[].concat(jf(l),[wG(c,h)]):l},[])},s5=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=P7e(a,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=nFe(s,o,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,h=hk(e,n,d,f),p=I7e(r,o,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},$7e=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,p=mG(d,a);return r.reduce(function(m,g){var x,v=g.type.defaultProps!==void 0?Q(Q({},g.type.defaultProps),g.props):g.props,b=v.type,y=v.dataKey,w=v.allowDataOverflow,_=v.allowDuplicatedCategory,E=v.scale,A=v.ticks,j=v.includeHidden,k=v[s];if(m[k])return m;var C=Uw(e.data,{graphicalItems:i.filter(function(G){var $,ee=s in G.props?G.props[s]:($=G.type.defaultProps)===null||$===void 0?void 0:$[s];return ee===k}),dataStartIndex:l,dataEndIndex:c}),T=C.length,O,L,R;s7e(v.domain,w,b)&&(O=AA(v.domain,null,w),p&&(b==="number"||E!=="auto")&&(R=xp(C,y,"category")));var F=FK(b);if(!O||O.length===0){var U,V=(U=v.domain)!==null&&U!==void 0?U:F;if(y){if(O=xp(C,y,b),b==="category"&&p){var D=Gke(O);_&&D?(L=O,O=hx(0,T)):_||(O=AL(V,O,g).reduce(function(G,$){return G.indexOf($)>=0?G:[].concat(jf(G),[$])},[]))}else if(b==="category")_?O=O.filter(function(G){return G!==""&&!Ve(G)}):O=AL(V,O,g).reduce(function(G,$){return G.indexOf($)>=0||$===""||Ve($)?G:[].concat(jf(G),[$])},[]);else if(b==="number"){var B=oFe(C,i.filter(function(G){var $,ee,ie=s in G.props?G.props[s]:($=G.type.defaultProps)===null||$===void 0?void 0:$[s],I="hide"in G.props?G.props.hide:(ee=G.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return ie===k&&(j||!I)}),y,a,d);B&&(O=B)}p&&(b==="number"||E!=="auto")&&(R=xp(C,y,"category"))}else p?O=hx(0,T):o&&o[k]&&o[k].hasStack&&b==="number"?O=h==="expand"?[0,1]:bG(o[k].stackGroups,l,c):O=pG(C,i.filter(function(G){var $=s in G.props?G.props[s]:G.type.defaultProps[s],ee="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return $===k&&(j||!ee)}),b,d,!0);if(b==="number")O=uk(f,O,k,a,A),V&&(O=AA(V,O,w));else if(b==="category"&&V){var P=V,W=O.every(function(G){return P.indexOf(G)>=0});W&&(O=P)}}return Q(Q({},m),{},ze({},k,Q(Q({},v),{},{axisType:a,domain:O,categoricalDomain:R,duplicateDomain:L,originalDomain:(x=v.domain)!==null&&x!==void 0?x:F,isCategorical:p,layout:d})))},{})},R7e=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=Uw(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=mG(d,a),g=-1;return r.reduce(function(x,v){var b=v.type.defaultProps!==void 0?Q(Q({},v.type.defaultProps),v.props):v.props,y=b[s],w=FK("number");if(!x[y]){g++;var _;return m?_=hx(0,p):o&&o[y]&&o[y].hasStack?(_=bG(o[y].stackGroups,l,c),_=uk(f,_,y,a)):(_=AA(w,pG(h,r.filter(function(E){var A,j,k=s in E.props?E.props[s]:(A=E.type.defaultProps)===null||A===void 0?void 0:A[s],C="hide"in E.props?E.props.hide:(j=E.type.defaultProps)===null||j===void 0?void 0:j.hide;return k===y&&!C}),"number",d),i.defaultProps.allowDataOverflow),_=uk(f,_,y,a)),Q(Q({},x),{},ze({},y,Q(Q({axisType:a},i.defaultProps),{},{hide:!0,orientation:ai(O7e,"".concat(a,".").concat(g%2),null),domain:_,originalDomain:w,isCategorical:m,layout:d})))}return x},{})},M7e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=si(d,a),p={};return h&&h.length?p=$7e(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=R7e(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},D7e=function(e){var n=Mo(e),r=Ms(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:aN(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:tx(n,r)}},o5=function(e){var n=e.children,r=e.defaultShowTooltip,i=Kr(n,pf),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},L7e=function(e){return!e||!e.length?!1:e.some(function(n){var r=Vs(n&&n.type);return r&&r.indexOf("Bar")>=0})},l5=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},F7e=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,d=r.height,f=r.children,h=r.margin||{},p=Kr(f,pf),m=Kr(f,ol),g=Object.keys(l).reduce(function(_,E){var A=l[E],j=A.orientation;return!A.mirror&&!A.hide?Q(Q({},_),{},ze({},j,_[j]+A.width)):_},{left:h.left||0,right:h.right||0}),x=Object.keys(s).reduce(function(_,E){var A=s[E],j=A.orientation;return!A.mirror&&!A.hide?Q(Q({},_),{},ze({},j,ai(_,"".concat(j))+A.height)):_},{top:h.top||0,bottom:h.bottom||0}),v=Q(Q({},x),g),b=v.bottom;p&&(v.bottom+=p.props.height||pf.defaultProps.height),m&&n&&(v=aFe(v,i,r,n));var y=c-v.left-v.right,w=d-v.top-v.bottom;return Q(Q({brushBottom:b},v),{},{width:Math.max(y,0),height:Math.max(w,0)})},B7e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Hw=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(x,v){var b=v.graphicalItems,y=v.stackGroups,w=v.offset,_=v.updateId,E=v.dataStartIndex,A=v.dataEndIndex,j=x.barSize,k=x.layout,C=x.barGap,T=x.barCategoryGap,O=x.maxBarSize,L=l5(k),R=L.numericAxisName,F=L.cateAxisName,U=L7e(b),V=[];return b.forEach(function(D,B){var P=Uw(x.data,{graphicalItems:[D],dataStartIndex:E,dataEndIndex:A}),W=D.type.defaultProps!==void 0?Q(Q({},D.type.defaultProps),D.props):D.props,G=W.dataKey,$=W.maxBarSize,ee=W["".concat(R,"Id")],ie=W["".concat(F,"Id")],I={},N=l.reduce(function(ae,At){var _e=v["".concat(At.axisType,"Map")],ye=W["".concat(At.axisType,"Id")];_e&&_e[ye]||At.axisType==="zAxis"||Yc();var be=_e[ye];return Q(Q({},ae),{},ze(ze({},At.axisType,be),"".concat(At.axisType,"Ticks"),Ms(be)))},I),K=N[F],z=N["".concat(F,"Ticks")],Z=y&&y[ee]&&y[ee].hasStack&&gFe(D,y[ee].stackGroups),J=Vs(D.type).indexOf("Bar")>=0,Y=tx(K,z),me=[],le=U&&rFe({barSize:j,stackGroups:y,totalSize:B7e(N,F)});if(J){var ve,oe,Be=Ve($)?O:$,ke=(ve=(oe=tx(K,z,!0))!==null&&oe!==void 0?oe:Be)!==null&&ve!==void 0?ve:0;me=iFe({barGap:C,barCategoryGap:T,bandSize:ke!==Y?ke:Y,sizeList:le[ie],maxBarSize:Be}),ke!==Y&&(me=me.map(function(ae){return Q(Q({},ae),{},{position:Q(Q({},ae.position),{},{offset:ae.position.offset-ke/2})})}))}var Me=D&&D.type&&D.type.getComposedData;Me&&V.push({props:Q(Q({},Me(Q(Q({},N),{},{displayedData:P,props:x,dataKey:G,item:D,bandSize:Y,barPosition:me,offset:w,stackedData:Z,layout:k,dataStartIndex:E,dataEndIndex:A}))),{},ze(ze(ze({key:D.key||"item-".concat(B)},R,N[R]),F,N[F]),"animationId",_)),childIndex:iTe(D,x.children),item:D})}),V},p=function(x,v){var b=x.props,y=x.dataStartIndex,w=x.dataEndIndex,_=x.updateId;if(!bM({props:b}))return null;var E=b.children,A=b.layout,j=b.stackOffset,k=b.data,C=b.reverseStackOrder,T=l5(A),O=T.numericAxisName,L=T.cateAxisName,R=si(E,r),F=pFe(k,R,"".concat(O,"Id"),"".concat(L,"Id"),j,C),U=l.reduce(function(W,G){var $="".concat(G.axisType,"Map");return Q(Q({},W),{},ze({},$,M7e(b,Q(Q({},G),{},{graphicalItems:R,stackGroups:G.axisType===O&&F,dataStartIndex:y,dataEndIndex:w}))))},{}),V=F7e(Q(Q({},U),{},{props:b,graphicalItems:R}),v==null?void 0:v.legendBBox);Object.keys(U).forEach(function(W){U[W]=d(b,U[W],V,W.replace("Map",""),n)});var D=U["".concat(L,"Map")],B=D7e(D),P=h(b,Q(Q({},U),{},{dataStartIndex:y,dataEndIndex:w,updateId:_,graphicalItems:R,stackGroups:F,offset:V}));return Q(Q({formattedGraphicalItems:P,graphicalItems:R,offset:V,stackGroups:F},B),U)},m=function(g){function x(v){var b,y,w;return x7e(this,x),w=_7e(this,x,[v]),ze(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ze(w,"accessibilityManager",new a7e),ze(w,"handleLegendBBoxUpdate",function(_){if(_){var E=w.state,A=E.dataStartIndex,j=E.dataEndIndex,k=E.updateId;w.setState(Q({legendBBox:_},p({props:w.props,dataStartIndex:A,dataEndIndex:j,updateId:k},Q(Q({},w.state),{},{legendBBox:_}))))}}),ze(w,"handleReceiveSyncEvent",function(_,E,A){if(w.props.syncId===_){if(A===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(E)}}),ze(w,"handleBrushChange",function(_){var E=_.startIndex,A=_.endIndex;if(E!==w.state.dataStartIndex||A!==w.state.dataEndIndex){var j=w.state.updateId;w.setState(function(){return Q({dataStartIndex:E,dataEndIndex:A},p({props:w.props,dataStartIndex:E,dataEndIndex:A,updateId:j},w.state))}),w.triggerSyncEvent({dataStartIndex:E,dataEndIndex:A})}}),ze(w,"handleMouseEnter",function(_){var E=w.getMouseInfo(_);if(E){var A=Q(Q({},E),{},{isTooltipActive:!0});w.setState(A),w.triggerSyncEvent(A);var j=w.props.onMouseEnter;Ue(j)&&j(A,_)}}),ze(w,"triggeredAfterMouseMove",function(_){var E=w.getMouseInfo(_),A=E?Q(Q({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(A),w.triggerSyncEvent(A);var j=w.props.onMouseMove;Ue(j)&&j(A,_)}),ze(w,"handleItemMouseEnter",function(_){w.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),ze(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),ze(w,"handleMouseMove",function(_){_.persist(),w.throttleTriggeredAfterMouseMove(_)}),ze(w,"handleMouseLeave",function(_){w.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};w.setState(E),w.triggerSyncEvent(E);var A=w.props.onMouseLeave;Ue(A)&&A(E,_)}),ze(w,"handleOuterEvent",function(_){var E=rTe(_),A=ai(w.props,"".concat(E));if(E&&Ue(A)){var j,k;/.*touch.*/i.test(E)?k=w.getMouseInfo(_.changedTouches[0]):k=w.getMouseInfo(_),A((j=k)!==null&&j!==void 0?j:{},_)}}),ze(w,"handleClick",function(_){var E=w.getMouseInfo(_);if(E){var A=Q(Q({},E),{},{isTooltipActive:!0});w.setState(A),w.triggerSyncEvent(A);var j=w.props.onClick;Ue(j)&&j(A,_)}}),ze(w,"handleMouseDown",function(_){var E=w.props.onMouseDown;if(Ue(E)){var A=w.getMouseInfo(_);E(A,_)}}),ze(w,"handleMouseUp",function(_){var E=w.props.onMouseUp;if(Ue(E)){var A=w.getMouseInfo(_);E(A,_)}}),ze(w,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),ze(w,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.handleMouseDown(_.changedTouches[0])}),ze(w,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.handleMouseUp(_.changedTouches[0])}),ze(w,"triggerSyncEvent",function(_){w.props.syncId!==void 0&&rS.emit(iS,w.props.syncId,_,w.eventEmitterSymbol)}),ze(w,"applySyncEvent",function(_){var E=w.props,A=E.layout,j=E.syncMethod,k=w.state.updateId,C=_.dataStartIndex,T=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)w.setState(Q({dataStartIndex:C,dataEndIndex:T},p({props:w.props,dataStartIndex:C,dataEndIndex:T,updateId:k},w.state)));else if(_.activeTooltipIndex!==void 0){var O=_.chartX,L=_.chartY,R=_.activeTooltipIndex,F=w.state,U=F.offset,V=F.tooltipTicks;if(!U)return;if(typeof j=="function")R=j(V,_);else if(j==="value"){R=-1;for(var D=0;D<V.length;D++)if(V[D].value===_.activeLabel){R=D;break}}var B=Q(Q({},U),{},{x:U.left,y:U.top}),P=Math.min(O,B.x+B.width),W=Math.min(L,B.y+B.height),G=V[R]&&V[R].value,$=hk(w.state,w.props.data,R),ee=V[R]?{x:A==="horizontal"?V[R].coordinate:P,y:A==="horizontal"?W:V[R].coordinate}:LK;w.setState(Q(Q({},_),{},{activeLabel:G,activeCoordinate:ee,activePayload:$,activeTooltipIndex:R}))}else w.setState(_)}),ze(w,"renderCursor",function(_){var E,A=w.state,j=A.isTooltipActive,k=A.activeCoordinate,C=A.activePayload,T=A.offset,O=A.activeTooltipIndex,L=A.tooltipAxisBandSize,R=w.getTooltipEventType(),F=(E=_.props.active)!==null&&E!==void 0?E:j,U=w.props.layout,V=_.key||"_recharts-cursor";return M.createElement(f7e,{key:V,activeCoordinate:k,activePayload:C,activeTooltipIndex:O,chartName:n,element:_,isActive:F,layout:U,offset:T,tooltipAxisBandSize:L,tooltipEventType:R})}),ze(w,"renderPolarAxis",function(_,E,A){var j=ai(_,"type.axisType"),k=ai(w.state,"".concat(j,"Map")),C=_.type.defaultProps,T=C!==void 0?Q(Q({},C),_.props):_.props,O=k&&k[T["".concat(j,"Id")]];return S.cloneElement(_,Q(Q({},O),{},{className:Ke(j,O.className),key:_.key||"".concat(E,"-").concat(A),ticks:Ms(O,!0)}))}),ze(w,"renderPolarGrid",function(_){var E=_.props,A=E.radialLines,j=E.polarAngles,k=E.polarRadius,C=w.state,T=C.radiusAxisMap,O=C.angleAxisMap,L=Mo(T),R=Mo(O),F=R.cx,U=R.cy,V=R.innerRadius,D=R.outerRadius;return S.cloneElement(_,{polarAngles:Array.isArray(j)?j:Ms(R,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(k)?k:Ms(L,!0).map(function(B){return B.coordinate}),cx:F,cy:U,innerRadius:V,outerRadius:D,key:_.key||"polar-grid",radialLines:A})}),ze(w,"renderLegend",function(){var _=w.state.formattedGraphicalItems,E=w.props,A=E.children,j=E.width,k=E.height,C=w.props.margin||{},T=j-(C.left||0)-(C.right||0),O=fG({children:A,formattedGraphicalItems:_,legendWidth:T,legendContent:c});if(!O)return null;var L=O.item,R=i5(O,h7e);return S.cloneElement(L,Q(Q({},R),{},{chartWidth:j,chartHeight:k,margin:C,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),ze(w,"renderTooltip",function(){var _,E=w.props,A=E.children,j=E.accessibilityLayer,k=Kr(A,wr);if(!k)return null;var C=w.state,T=C.isTooltipActive,O=C.activeCoordinate,L=C.activePayload,R=C.activeLabel,F=C.offset,U=(_=k.props.active)!==null&&_!==void 0?_:T;return S.cloneElement(k,{viewBox:Q(Q({},F),{},{x:F.left,y:F.top}),active:U,label:R,payload:U?L:[],coordinate:O,accessibilityLayer:j})}),ze(w,"renderBrush",function(_){var E=w.props,A=E.margin,j=E.data,k=w.state,C=k.offset,T=k.dataStartIndex,O=k.dataEndIndex,L=k.updateId;return S.cloneElement(_,{key:_.key||"_recharts-brush",onChange:By(w.handleBrushChange,_.props.onChange),data:j,x:de(_.props.x)?_.props.x:C.left,y:de(_.props.y)?_.props.y:C.top+C.height+C.brushBottom-(A.bottom||0),width:de(_.props.width)?_.props.width:C.width,startIndex:T,endIndex:O,updateId:"brush-".concat(L)})}),ze(w,"renderReferenceElement",function(_,E,A){if(!_)return null;var j=w,k=j.clipPathId,C=w.state,T=C.xAxisMap,O=C.yAxisMap,L=C.offset,R=_.type.defaultProps||{},F=_.props,U=F.xAxisId,V=U===void 0?R.xAxisId:U,D=F.yAxisId,B=D===void 0?R.yAxisId:D;return S.cloneElement(_,{key:_.key||"".concat(E,"-").concat(A),xAxis:T[V],yAxis:O[B],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:k})}),ze(w,"renderActivePoints",function(_){var E=_.item,A=_.activePoint,j=_.basePoint,k=_.childIndex,C=_.isRange,T=[],O=E.props.key,L=E.item.type.defaultProps!==void 0?Q(Q({},E.item.type.defaultProps),E.item.props):E.item.props,R=L.activeDot,F=L.dataKey,U=Q(Q({index:k,dataKey:F,cx:A.x,cy:A.y,r:4,fill:NN(E.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Ie(R,!1)),k0(R));return T.push(x.renderActiveDot(R,U,"".concat(O,"-activePoint-").concat(k))),j?T.push(x.renderActiveDot(R,Q(Q({},U),{},{cx:j.x,cy:j.y}),"".concat(O,"-basePoint-").concat(k))):C&&T.push(null),T}),ze(w,"renderGraphicChild",function(_,E,A){var j=w.filterFormatItem(_,E,A);if(!j)return null;var k=w.getTooltipEventType(),C=w.state,T=C.isTooltipActive,O=C.tooltipAxis,L=C.activeTooltipIndex,R=C.activeLabel,F=w.props.children,U=Kr(F,wr),V=j.props,D=V.points,B=V.isRange,P=V.baseLine,W=j.item.type.defaultProps!==void 0?Q(Q({},j.item.type.defaultProps),j.item.props):j.item.props,G=W.activeDot,$=W.hide,ee=W.activeBar,ie=W.activeShape,I=!!(!$&&T&&U&&(G||ee||ie)),N={};k!=="axis"&&U&&U.props.trigger==="click"?N={onClick:By(w.handleItemMouseEnter,_.props.onClick)}:k!=="axis"&&(N={onMouseLeave:By(w.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:By(w.handleItemMouseEnter,_.props.onMouseEnter)});var K=S.cloneElement(_,Q(Q({},j.props),N));function z(At){return typeof O.dataKey=="function"?O.dataKey(At.payload):null}if(I)if(L>=0){var Z,J;if(O.dataKey&&!O.allowDuplicatedCategory){var Y=typeof O.dataKey=="function"?z:"payload.".concat(O.dataKey.toString());Z=A0(D,Y,R),J=B&&P&&A0(P,Y,R)}else Z=D==null?void 0:D[L],J=B&&P&&P[L];if(ie||ee){var me=_.props.activeIndex!==void 0?_.props.activeIndex:L;return[S.cloneElement(_,Q(Q(Q({},j.props),N),{},{activeIndex:me})),null,null]}if(!Ve(Z))return[K].concat(jf(w.renderActivePoints({item:j,activePoint:Z,basePoint:J,childIndex:L,isRange:B})))}else{var le,ve=(le=w.getItemByXY(w.state.activeCoordinate))!==null&&le!==void 0?le:{graphicalItem:K},oe=ve.graphicalItem,Be=oe.item,ke=Be===void 0?_:Be,Me=oe.childIndex,ae=Q(Q(Q({},j.props),N),{},{activeIndex:Me});return[S.cloneElement(ke,ae),null,null]}return B?[K,null,null]:[K,null]}),ze(w,"renderCustomized",function(_,E,A){return S.cloneElement(_,Q(Q({key:"recharts-customized-".concat(A)},w.props),w.state))}),ze(w,"renderMap",{CartesianGrid:{handler:Wy,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Wy},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Wy},YAxis:{handler:Wy},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=v.id)!==null&&b!==void 0?b:uu("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=dq(w.triggeredAfterMouseMove,(y=v.throttleDelay)!==null&&y!==void 0?y:1e3/60),w.state={},w}return j7e(x,g),w7e(x,[{key:"componentDidMount",value:function(){var b,y;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(y=this.props.margin.top)!==null&&y!==void 0?y:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,y=b.children,w=b.data,_=b.height,E=b.layout,A=Kr(y,wr);if(A){var j=A.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,C=hk(this.state,w,j,k),T=this.state.tooltipTicks[j].coordinate,O=(this.state.offset.top+_)/2,L=E==="horizontal",R=L?{x:T,y:O}:{y:T,x:O},F=this.state.formattedGraphicalItems.find(function(V){var D=V.item;return D.type.name==="Scatter"});F&&(R=Q(Q({},R),F.props.points[j].tooltipPosition),C=F.props.points[j].tooltipPayload);var U={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:k,activePayload:C,activeCoordinate:R};this.setState(U),this.renderCursor(A),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,y){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==y.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,_;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(b){zj([Kr(b.children,wr)],[Kr(this.props.children,wr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Kr(this.props.children,wr);if(b&&typeof b.props.shared=="boolean"){var y=b.props.shared?"axis":"item";return o.indexOf(y)>=0?y:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var y=this.container,w=y.getBoundingClientRect(),_=ODe(w),E={chartX:Math.round(b.pageX-_.left),chartY:Math.round(b.pageY-_.top)},A=w.width/y.offsetWidth||1,j=this.inRange(E.chartX,E.chartY,A);if(!j)return null;var k=this.state,C=k.xAxisMap,T=k.yAxisMap,O=this.getTooltipEventType();if(O!=="axis"&&C&&T){var L=Mo(C).scale,R=Mo(T).scale,F=L&&L.invert?L.invert(E.chartX):null,U=R&&R.invert?R.invert(E.chartY):null;return Q(Q({},E),{},{xValue:F,yValue:U})}var V=s5(this.state,this.props.data,this.props.layout,j);return V?Q(Q({},E),V):null}},{key:"inRange",value:function(b,y){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,E=b/w,A=y/w;if(_==="horizontal"||_==="vertical"){var j=this.state.offset,k=E>=j.left&&E<=j.left+j.width&&A>=j.top&&A<=j.top+j.height;return k?{x:E,y:A}:null}var C=this.state,T=C.angleAxisMap,O=C.radiusAxisMap;if(T&&O){var L=Mo(T);return CL({x:E,y:A},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,y=this.getTooltipEventType(),w=Kr(b,wr),_={};w&&y==="axis"&&(w.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var E=k0(this.props,this.handleOuterEvent);return Q(Q({},E),_)}},{key:"addListener",value:function(){rS.on(iS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){rS.removeListener(iS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,y,w){for(var _=this.state.formattedGraphicalItems,E=0,A=_.length;E<A;E++){var j=_[E];if(j.item===b||j.props.key===b.key||y===Vs(j.item.type)&&w===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,y=this.state.offset,w=y.left,_=y.top,E=y.height,A=y.width;return M.createElement("defs",null,M.createElement("clipPath",{id:b},M.createElement("rect",{x:w,y:_,height:E,width:A})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(y,w){var _=r5(w,2),E=_[0],A=_[1];return Q(Q({},y),{},ze({},E,A.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(y,w){var _=r5(w,2),E=_[0],A=_[1];return Q(Q({},y),{},ze({},E,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var y;return(y=this.state.xAxisMap)===null||y===void 0||(y=y[b])===null||y===void 0?void 0:y.scale}},{key:"getYScaleByAxisId",value:function(b){var y;return(y=this.state.yAxisMap)===null||y===void 0||(y=y[b])===null||y===void 0?void 0:y.scale}},{key:"getItemByXY",value:function(b){var y=this.state,w=y.formattedGraphicalItems,_=y.activeItem;if(w&&w.length)for(var E=0,A=w.length;E<A;E++){var j=w[E],k=j.props,C=j.item,T=C.type.defaultProps!==void 0?Q(Q({},C.type.defaultProps),C.props):C.props,O=Vs(C.type);if(O==="Bar"){var L=(k.data||[]).find(function(V){return nUe(b,V)});if(L)return{graphicalItem:j,payload:L}}else if(O==="RadialBar"){var R=(k.data||[]).find(function(V){return CL(b,V)});if(R)return{graphicalItem:j,payload:R}}else if(Rw(j,_)||Mw(j,_)||Lm(j,_)){var F=V6e({graphicalItem:j,activeTooltipItem:_,itemData:T.data}),U=T.activeIndex===void 0?F:T.activeIndex;return{graphicalItem:Q(Q({},j),{},{childIndex:U}),payload:Lm(j,_)?T.data[F]:j.props.data[F]}}}return null}},{key:"render",value:function(){var b=this;if(!bM(this))return null;var y=this.props,w=y.children,_=y.className,E=y.width,A=y.height,j=y.style,k=y.compact,C=y.title,T=y.desc,O=i5(y,p7e),L=Ie(O,!1);if(k)return M.createElement(D4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(Hj,Ep({},L,{width:E,height:A,title:C,desc:T}),this.renderClipPath(),_M(w,this.renderMap)));if(this.props.accessibilityLayer){var R,F;L.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,L.role=(F=this.props.role)!==null&&F!==void 0?F:"application",L.onKeyDown=function(V){b.accessibilityManager.keyboardEvent(V)},L.onFocus=function(){b.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return M.createElement(D4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",Ep({className:Ke("recharts-wrapper",_),style:Q({position:"relative",cursor:"default",width:E,height:A},j)},U,{ref:function(D){b.container=D}}),M.createElement(Hj,Ep({},L,{width:E,height:A,title:C,desc:T,style:N7e}),this.renderClipPath(),_M(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(S.Component);return ze(m,"displayName",n),ze(m,"defaultProps",Q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ze(m,"getDerivedStateFromProps",function(g,x){var v=g.dataKey,b=g.data,y=g.children,w=g.width,_=g.height,E=g.layout,A=g.stackOffset,j=g.margin,k=x.dataStartIndex,C=x.dataEndIndex;if(x.updateId===void 0){var T=o5(g);return Q(Q(Q({},T),{},{updateId:0},p(Q(Q({props:g},T),{},{updateId:0}),x)),{},{prevDataKey:v,prevData:b,prevWidth:w,prevHeight:_,prevLayout:E,prevStackOffset:A,prevMargin:j,prevChildren:y})}if(v!==x.prevDataKey||b!==x.prevData||w!==x.prevWidth||_!==x.prevHeight||E!==x.prevLayout||A!==x.prevStackOffset||!bd(j,x.prevMargin)){var O=o5(g),L={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},R=Q(Q({},s5(x,b,E)),{},{updateId:x.updateId+1}),F=Q(Q(Q({},O),L),R);return Q(Q(Q({},F),p(Q({props:g},F),x)),{},{prevDataKey:v,prevData:b,prevWidth:w,prevHeight:_,prevLayout:E,prevStackOffset:A,prevMargin:j,prevChildren:y})}if(!zj(y,x.prevChildren)){var U,V,D,B,P=Kr(y,pf),W=P&&(U=(V=P.props)===null||V===void 0?void 0:V.startIndex)!==null&&U!==void 0?U:k,G=P&&(D=(B=P.props)===null||B===void 0?void 0:B.endIndex)!==null&&D!==void 0?D:C,$=W!==k||G!==C,ee=!Ve(b),ie=ee&&!$?x.updateId:x.updateId+1;return Q(Q({updateId:ie},p(Q(Q({props:g},x),{},{updateId:ie,dataStartIndex:W,dataEndIndex:G}),x)),{},{prevChildren:y,dataStartIndex:W,dataEndIndex:G})}return null}),ze(m,"renderActiveDot",function(g,x,v){var b;return S.isValidElement(g)?b=S.cloneElement(g,x):Ue(g)?b=g(x):b=M.createElement($g,x),M.createElement(ot,{className:"recharts-active-dot",key:v},b)}),function(x){return M.createElement(m,x)}},z7e=Hw({chartName:"LineChart",GraphicalChild:Nc,axisComponents:[{axisType:"xAxis",AxisComp:Al},{axisType:"yAxis",AxisComp:kl}],formatAxisMap:IN}),U7e=Hw({chartName:"BarChart",GraphicalChild:qs,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Al},{axisType:"yAxis",AxisComp:kl}],formatAxisMap:IN}),BK=Hw({chartName:"PieChart",GraphicalChild:bs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:$w},{axisType:"radiusAxis",AxisComp:Pw}],formatAxisMap:AFe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),H7e=Hw({chartName:"AreaChart",GraphicalChild:lo,axisComponents:[{axisType:"xAxis",AxisComp:Al},{axisType:"yAxis",AxisComp:kl}],formatAxisMap:IN});const zK=()=>{var x;const[t,e]=S.useState(null),[n,r]=S.useState([]),[i,a]=S.useState([]),[s,o]=S.useState(!0),[l,c]=S.useState("all"),{toast:d}=Ht(),f=["hsl(var(--primary))","hsl(var(--secondary))","hsl(var(--accent))","hsl(var(--muted))"],h=async()=>{var v,b,y;try{o(!0);const{data:w,error:_}=await De.from("campaigns").select("*").order("created_at",{ascending:!1});if(_)throw _;r(w||[]);const E=await NO.analytics.get(l==="all"?void 0:l),A=(w==null?void 0:w.length)||0,j=l==="all"?w:w==null?void 0:w.filter(T=>T.id===l),k=((v=E.overview)==null?void 0:v.total_sent)||0;e({totalCampaigns:l==="all"?A:1,activeCampaigns:((b=E.overview)==null?void 0:b.active_campaigns)||0,totalCandidates:(j==null?void 0:j.reduce((T,O)=>T+(O.candidates_count||0),0))||0,messagesSent:k,callsMade:0,responsesReceived:0,conversionRate:((y=E.overview)==null?void 0:y.delivery_rate)||0});const C=(j==null?void 0:j.slice(0,7).map(T=>({name:T.name.substring(0,15)+(T.name.length>15?"...":""),messages:T.messages_sent||0,calls:T.calls_made||0,responses:T.responses_received||0,conversion:(T.responses_received||0)/(T.messages_sent||1)*100})))||[];a(C)}catch(w){console.error("Error fetching analytics:",w),d({title:"Error",description:"Failed to fetch analytics data",variant:"destructive"})}finally{o(!1)}};S.useEffect(()=>{h()},[l]);const p=()=>{d({title:"Export",description:"Exporting data..."})},m=()=>u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"colorMessages",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:f[0],stopOpacity:.8}),u.jsx("stop",{offset:"95%",stopColor:f[0],stopOpacity:0})]}),u.jsxs("linearGradient",{id:"colorCalls",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:f[1],stopOpacity:.8}),u.jsx("stop",{offset:"95%",stopColor:f[1],stopOpacity:0})]})]}),g=[{name:"Messages Sent",value:(t==null?void 0:t.messagesSent)||0,color:f[0]},{name:"Calls Made",value:(t==null?void 0:t.callsMade)||0,color:f[1]},{name:"Responses",value:(t==null?void 0:t.responsesReceived)||0,color:f[2]}];return s&&!t?u.jsx("div",{className:"p-8",children:u.jsx(jl,{})}):u.jsxs("div",{className:"space-y-6",children:[u.jsx(Ar,{children:u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold bg-ai-gradient bg-clip-text text-transparent",children:"Campaign Analytics"}),u.jsxs("p",{className:"text-muted-foreground",children:["Deep insights into your ",l==="all"?"global":"campaign"," performance"]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[u.jsx("div",{className:"w-[200px]",children:u.jsxs(Ka,{value:l,onValueChange:c,children:[u.jsxs(sa,{children:[u.jsx(zee,{className:"w-4 h-4 mr-2 text-muted-foreground"}),u.jsx(Ya,{placeholder:"All Campaigns"})]}),u.jsxs(oa,{children:[u.jsx(Vt,{value:"all",children:"All Campaigns"}),n.map(v=>u.jsx(Vt,{value:v.id,children:v.name},v.id))]})]})}),u.jsxs(se,{variant:"outline",onClick:h,disabled:s,className:"hover-lift",children:[u.jsx(ml,{className:`w-4 h-4 mr-2 ${s?"animate-spin":""}`}),"Refresh"]}),u.jsxs(se,{variant:"hero",onClick:p,className:"hover-lift",children:[u.jsx(_T,{className:"w-4 h-4 mr-2"}),"Export"]})]})]})}),u.jsx(Ar,{delay:100,children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs(ne,{className:"hover-lift transition-all duration-200 border-t-4 border-t-primary",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:l==="all"?"Total Campaigns":"Campaign Status"}),u.jsx(Gp,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Fe,{children:[u.jsx("div",{className:"text-2xl font-bold",children:l==="all"?t==null?void 0:t.totalCampaigns:u.jsx("span",{className:"capitalize",children:((x=n.find(v=>v.id===l))==null?void 0:x.status)||"Active"})}),u.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:l==="all"?`${t==null?void 0:t.activeCampaigns} Active currently`:"Current Status"})]})]}),u.jsxs(ne,{className:"hover-lift transition-all duration-200 border-t-4 border-t-secondary",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:"Candidates Reached"}),u.jsx(ms,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Fe,{children:[u.jsx("div",{className:"text-2xl font-bold",children:(t==null?void 0:t.totalCandidates)||0}),u.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Target audience size"})]})]}),u.jsxs(ne,{className:"hover-lift transition-all duration-200 border-t-4 border-t-accent",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:"Engagement"}),u.jsx(Ls,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Fe,{children:[u.jsx("div",{className:"text-2xl font-bold",children:((t==null?void 0:t.messagesSent)||0)+((t==null?void 0:t.callsMade)||0)}),u.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[u.jsxs(vn,{variant:"outline",className:"text-xs font-normal",children:[(t==null?void 0:t.messagesSent)||0," Msgs"]}),u.jsxs(vn,{variant:"outline",className:"text-xs font-normal",children:[(t==null?void 0:t.callsMade)||0," Calls"]})]})]})]}),u.jsxs(ne,{className:"hover-lift transition-all duration-200 border-t-4 border-t-green-500",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:"Delivery Rate"}),u.jsx(Ir,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Fe,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[(t==null?void 0:t.conversionRate.toFixed(1))||0,"%"]}),u.jsx(ki,{value:(t==null?void 0:t.conversionRate)||0,className:"mt-2 h-1"})]})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsx(Ar,{delay:200,children:u.jsxs(ne,{className:"hover-scale transition-all duration-300",children:[u.jsx(et,{children:u.jsx(tt,{children:"Performance Trends"})}),u.jsx(Fe,{children:u.jsx(gp,{width:"100%",height:300,children:u.jsxs(H7e,{data:i,children:[u.jsx(m,{}),u.jsx(Sx,{strokeDasharray:"3 3",vertical:!1,opacity:.3}),u.jsx(Al,{dataKey:"name",tick:{fontSize:12},interval:0}),u.jsx(kl,{}),u.jsx(wr,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),u.jsx(lo,{type:"monotone",dataKey:"messages",stroke:f[0],fillOpacity:1,fill:"url(#colorMessages)",name:"Messages"}),u.jsx(lo,{type:"monotone",dataKey:"calls",stroke:f[1],fillOpacity:1,fill:"url(#colorCalls)",name:"Calls"})]})})})]})}),u.jsx(Ar,{delay:300,children:u.jsxs(ne,{className:"hover-scale transition-all duration-300",children:[u.jsx(et,{children:u.jsx(tt,{children:"Channel Distribution"})}),u.jsxs(Fe,{children:[u.jsx(gp,{width:"100%",height:300,children:u.jsxs(BK,{children:[u.jsx(bs,{data:g,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:g.map((v,b)=>u.jsx(Tg,{fill:v.color,stroke:"none"},`cell-${b}`))}),u.jsx(wr,{})]})}),u.jsx("div",{className:"flex justify-center gap-4 mt-4",children:g.map((v,b)=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:v.color}}),u.jsxs("span",{className:"text-sm text-muted-foreground",children:[v.name," (",v.value,")"]})]},b))})]})]})})]})]})},UK=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!1),[i,a]=S.useState(!1),{toast:s}=Ht(),{user:o}=er(),[l,c]=S.useState({name:"",trigger:"no_response",channels:[],delay:24,template:"",active:!0}),d=[{value:"no_response",label:"No Response After Message"},{value:"email_open",label:"Email Opened"},{value:"link_click",label:"Link Clicked"},{value:"form_submit",label:"Form Submitted"},{value:"time_based",label:"Time-Based Follow-up"}],f=[{value:"whatsapp",label:"WhatsApp",icon:li},{value:"voice",label:"Voice Call",icon:Ea},{value:"email",label:"Email",icon:ti}],h={whatsapp:"Hi {name}, I wanted to follow up on our previous message about {college}. Do you have any questions about our programs?",voice:"Hello {name}, this is a follow-up call regarding your interest in {college}. Please call us back at your convenience.",email:`Dear {name},

We noticed you showed interest in {college}. We'd love to answer any questions you might have about our programs.

Best regards,
Admissions Team`},p=async()=>{if(o){r(!0);try{const{data:b,error:y}=await De.from("automations").select("*").eq("user_id",o.id).order("created_at",{ascending:!1});if(y)throw y;const w=(b||[]).map(_=>{var E,A,j;return{id:_.id,name:_.name,trigger:_.trigger_type,channels:((E=_.action_config)==null?void 0:E.channels)||[],delay:((A=_.trigger_config)==null?void 0:A.delay)||24,template:((j=_.action_config)==null?void 0:j.template)||"",active:_.is_active,user_id:_.user_id}});e(w)}catch(b){console.error("Error loading automations",b),s({title:"Error",description:"Failed to load automation rules",variant:"destructive"})}finally{r(!1)}}},m=async()=>{if(o){if(!l.name||!l.template||l.channels.length===0){s({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}try{const b={user_id:o.id,name:l.name,trigger_type:l.trigger,trigger_config:{delay:l.delay},action_type:"send_campaign_message",action_config:{channels:l.channels,template:l.template},is_active:l.active},{data:y,error:w}=await De.from("automations").insert([b]).select().single();if(w)throw w;const _={id:y.id,name:y.name,trigger:y.trigger_type,channels:y.action_config.channels,delay:y.trigger_config.delay,template:y.action_config.template,active:y.is_active,user_id:y.user_id};e([_,...t]),c({name:"",trigger:"no_response",channels:[],delay:24,template:"",active:!0}),a(!1),s({title:"Success",description:"Automation rule created successfully"})}catch(b){console.error("Error creating automation",b),s({title:"Error",description:"Failed to save automation rule",variant:"destructive"})}}},g=async(b,y)=>{try{const{error:w}=await De.from("automations").update({is_active:!y}).eq("id",b);if(w)throw w;const _=t.map(E=>E.id===b?{...E,active:!E.active}:E);e(_),s({title:"Success",description:"Automation rule updated"})}catch(w){console.error("Error toggling rule:",w),s({title:"Error",description:"Failed to update rule status",variant:"destructive"})}},x=async b=>{try{const{error:y}=await De.from("automations").delete().eq("id",b);if(y)throw y;const w=t.filter(_=>_.id!==b);e(w),s({title:"Success",description:"Automation rule deleted"})}catch(y){console.error("Error deleting rule:",y),s({title:"Error",description:"Failed to delete rule",variant:"destructive"})}},v=b=>{c(y=>({...y,channels:y.channels.includes(b)?y.channels.filter(w=>w!==b):[...y.channels,b],template:y.channels.includes(b)?y.template:h[b]||y.template}))};return S.useEffect(()=>{p()},[o]),n?u.jsx("div",{className:"flex items-center justify-center p-8",children:u.jsx(jl,{})}):u.jsxs("div",{className:"space-y-6",children:[u.jsx(Ar,{children:u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold bg-ai-gradient bg-clip-text text-transparent",children:"Campaign Automation"}),u.jsx("p",{className:"text-muted-foreground",children:"Set up automated follow-ups and drip campaigns"})]}),u.jsxs(se,{onClick:()=>a(!0),variant:"hero",className:"hover-lift",children:[u.jsx(rp,{className:"w-4 h-4 mr-2"}),"New Automation Rule"]})]})}),u.jsx(Ar,{delay:100,children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs(ne,{className:"hover-lift",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:"Active Rules"}),u.jsx(Lr,{className:"h-4 w-4 text-primary"})]}),u.jsxs(Fe,{children:[u.jsx("div",{className:"text-2xl font-bold",children:t.filter(b=>b.active).length}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Out of ",t.length," total rules"]})]})]}),u.jsxs(ne,{className:"hover-lift",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:"Avg Delay"}),u.jsx(pl,{className:"h-4 w-4 text-secondary"})]}),u.jsxs(Fe,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.length>0?Math.round(t.reduce((b,y)=>b+y.delay,0)/t.length):0,"h"]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Average follow-up delay"})]})]}),u.jsxs(ne,{className:"hover-lift",children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:"Multi-Channel"}),u.jsx(ms,{className:"h-4 w-4 text-accent"})]}),u.jsxs(Fe,{children:[u.jsx("div",{className:"text-2xl font-bold",children:t.filter(b=>b.channels.length>1).length}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Rules using multiple channels"})]})]})]})}),i&&u.jsx(Ar,{children:u.jsxs(ne,{className:"border-primary/20",children:[u.jsx(et,{children:u.jsxs(tt,{className:"flex items-center gap-2",children:[u.jsx(ng,{className:"w-5 h-5"}),"Create Automation Rule"]})}),u.jsxs(Fe,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"rule-name",children:"Rule Name"}),u.jsx(zt,{id:"rule-name",placeholder:"e.g., WhatsApp Follow-up",value:l.name,onChange:b=>c(y=>({...y,name:b.target.value}))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"trigger",children:"Trigger Event"}),u.jsxs(Ka,{value:l.trigger,onValueChange:b=>c(y=>({...y,trigger:b})),children:[u.jsx(sa,{children:u.jsx(Ya,{})}),u.jsx(oa,{children:d.map(b=>u.jsx(Vt,{value:b.value,children:b.label},b.value))})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{children:"Communication Channels"}),u.jsx("div",{className:"flex flex-wrap gap-3",children:f.map(b=>{const y=b.icon,w=l.channels.includes(b.value);return u.jsxs("div",{className:`flex items-center space-x-2 p-3 border rounded-lg cursor-pointer transition-all hover-lift ${w?"border-primary bg-primary/10":"border-border"}`,onClick:()=>v(b.value),children:[u.jsx(y,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:b.label})]},b.value)})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"delay",children:"Delay (hours)"}),u.jsx(zt,{id:"delay",type:"number",min:"1",max:"168",value:l.delay,onChange:b=>c(y=>({...y,delay:parseInt(b.target.value)||24}))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"template",children:"Message Template"}),u.jsx(au,{id:"template",placeholder:"Use {name}, {college}, etc. for personalization",value:l.template,onChange:b=>c(y=>({...y,template:b.target.value})),rows:4})]}),u.jsx(hO,{}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Qr,{id:"active",checked:l.active,onCheckedChange:b=>c(y=>({...y,active:b}))}),u.jsx(Ge,{htmlFor:"active",children:"Activate immediately"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(se,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),u.jsx(se,{onClick:m,variant:"hero",className:"hover-lift",children:"Create Rule"})]})]})]})]})}),u.jsx(Ar,{delay:200,children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Automation Rules"}),t.length===0?u.jsx(ne,{children:u.jsxs(Fe,{className:"text-center py-8",children:[u.jsx(Lr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),u.jsx("p",{className:"text-muted-foreground",children:"No automation rules created yet"}),u.jsx(se,{variant:"outline",className:"mt-4",onClick:()=>a(!0),children:"Create Your First Rule"})]})}):t.map((b,y)=>{var w;return u.jsx(Ar,{delay:300+y*50,children:u.jsx(ne,{className:"hover-scale transition-all duration-200",children:u.jsxs(Fe,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-3 h-3 rounded-full ${b.active?"bg-green-500":"bg-gray-400"}`}),u.jsx("h4",{className:"font-semibold",children:b.name}),u.jsx(vn,{variant:"secondary",children:(w=d.find(_=>_.value===b.trigger))==null?void 0:w.label})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(se,{variant:"ghost",size:"sm",onClick:()=>g(b.id,b.active),className:"hover-lift",children:b.active?u.jsx(CB,{className:"w-4 h-4"}):u.jsx(Fs,{className:"w-4 h-4"})}),u.jsx(se,{variant:"ghost",size:"sm",onClick:()=>x(b.id),className:"hover-lift text-destructive",children:u.jsx(AT,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Channels:"}),u.jsx("div",{className:"flex gap-1 mt-1",children:b.channels.map(_=>{const E=f.find(j=>j.value===_),A=(E==null?void 0:E.icon)||li;return u.jsxs(vn,{variant:"outline",className:"text-xs",children:[u.jsx(A,{className:"w-3 h-3 mr-1"}),E==null?void 0:E.label]},_)})})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Delay:"}),u.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[u.jsx(pl,{className:"w-3 h-3"}),b.delay," hours"]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Status:"}),u.jsx("div",{className:"mt-1",children:u.jsx(vn,{variant:b.active?"default":"secondary",children:b.active?"Active":"Paused"})})]})]}),u.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50",children:[u.jsx("span",{className:"text-muted-foreground text-sm",children:"Template Preview:"}),u.jsx("p",{className:"text-sm mt-1 line-clamp-2",children:b.template})]})]})})},b.id)})]})})]})},HK=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState("default"),[i,a]=S.useState({campaignUpdates:!0,newResponses:!0,scheduleReminders:!0,weeklyReports:!1}),[s,o]=S.useState([]),{toast:l}=Ht(),{user:c}=er(),d=S.useCallback(async()=>{if(c)try{const{data:y,error:w}=await De.from("profiles").select("notifications_enabled, email_alerts, sms_alerts").eq("user_id",c.id).single();if(w&&w.code!=="PGRST116"){console.error("Error loading notification settings:",w);return}y&&a(_=>({..._,campaignUpdates:y.notifications_enabled??!0,newResponses:y.email_alerts??!0,scheduleReminders:y.sms_alerts??!1}))}catch(y){console.error("Error loading notification settings:",y)}},[c]),f=S.useCallback(async()=>{if(c)try{const{data:y,error:w}=await De.from("notifications").select("*").eq("user_id",c.id).order("created_at",{ascending:!1}).limit(20);if(w)throw w;o(y||[])}catch(y){console.error("Error loading notifications:",y)}},[c]),h=S.useCallback(()=>{if(!c)return;const y=De.channel("public:notifications").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${c.id}`},w=>{if(console.log("Real-time notification update:",w),w.eventType==="INSERT"){const _=w.new;o(E=>[_,...E]),Notification.permission==="granted"&&new Notification(_.title,{body:_.message,icon:"/favicon.ico"})}else if(w.eventType==="UPDATE"){const _=w.new;o(E=>E.map(A=>A.id===_.id?_:A))}else if(w.eventType==="DELETE"){const _=w.old.id;o(E=>E.filter(A=>A.id!==_))}}).subscribe();return()=>{De.removeChannel(y)}},[c]);S.useEffect(()=>{p();let y;return c&&(d(),f(),y=h()),()=>{y==null||y()}},[c,d,f,h]);const p=async()=>{if(!("Notification"in window)){l({title:"Not Supported",description:"Your browser does not support notifications",variant:"destructive"});return}try{const y=await Notification.requestPermission();r(y),y==="granted"?(e(!0),new Notification("AdmitConnect AI",{body:"Notifications enabled! You'll now receive updates about your campaigns.",icon:"/favicon.ico",badge:"/favicon.ico"}),l({title:"Success",description:"Browser notifications enabled successfully!"}),await m({...i,campaignUpdates:!0})):l({title:"Permission Denied",description:"Please enable notifications in your browser settings",variant:"destructive"})}catch(y){console.error("Error requesting notification permission:",y),l({title:"Error",description:"Failed to enable notifications",variant:"destructive"})}},m=async y=>{if(c)try{const{error:w}=await De.from("profiles").update({notifications_enabled:y.campaignUpdates,email_alerts:y.newResponses,sms_alerts:y.scheduleReminders}).eq("user_id",c.id);if(w)throw w;a(y),l({title:"Settings Updated",description:"Notification preferences saved successfully"})}catch(w){console.error("Error updating notification settings:",w),l({title:"Error",description:"Failed to update notification settings",variant:"destructive"})}},g=async()=>{if(c)try{const{error:y}=await De.from("notifications").insert({user_id:c.id,title:"Test Notification",message:"This is a test notification from AdmitConnect AI",type:"info"});if(y)throw y;l({title:"Sent",description:"Test notification sent to database"})}catch(y){console.error("Error sending test notification:",y),l({title:"Error",description:"Failed to send test notification",variant:"destructive"})}},x=(y,w)=>{const _={...i,[y]:w};m(_)},v=async y=>{try{const{error:w}=await De.from("notifications").update({read:!0}).eq("id",y);if(w)throw w}catch(w){console.error("Error marking as read:",w)}},b=async y=>{try{const{error:w}=await De.from("notifications").delete().eq("id",y);if(w)throw w}catch(w){console.error("Error deleting notification:",w)}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold bg-ai-gradient bg-clip-text text-transparent mb-2",children:"Notification Center"}),u.jsx("p",{className:"text-muted-foreground",children:"Stay updated with real-time alerts about your campaigns and responses"})]}),u.jsxs(ne,{className:"hover-scale transition-all duration-200",children:[u.jsx(et,{children:u.jsxs(tt,{className:"flex items-center gap-2",children:[u.jsx(hE,{className:"w-5 h-5"}),"Browser Notifications"]})}),u.jsxs(Fe,{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"font-medium",children:"Push Notifications"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Get instant updates directly in your browser"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(vn,{variant:n==="granted"?"default":"secondary",children:n==="granted"?"Enabled":"Disabled"}),n!=="granted"&&u.jsx(se,{onClick:p,variant:"hero",size:"sm",className:"hover-lift",children:"Enable"})]})]}),u.jsx("div",{className:"pt-4 border-t",children:u.jsx(se,{variant:"outline",size:"sm",onClick:g,className:"hover-lift",children:"Send Test Notification"})})]})]}),u.jsxs(ne,{className:"hover-scale transition-all duration-200",children:[u.jsx(et,{children:u.jsx(tt,{children:"Notification Preferences"})}),u.jsxs(Fe,{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Ge,{className:"flex items-center gap-2",children:[u.jsx(Ir,{className:"w-4 h-4"}),"Campaign Updates"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications when campaigns start, complete, or need attention"})]}),u.jsx(Qr,{checked:i.campaignUpdates,onCheckedChange:y=>x("campaignUpdates",y),disabled:n!=="granted"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Ge,{className:"flex items-center gap-2",children:[u.jsx(li,{className:"w-4 h-4"}),"New Responses"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Immediate alerts when candidates respond to your outreach"})]}),u.jsx(Qr,{checked:i.newResponses,onCheckedChange:y=>x("newResponses",y),disabled:n!=="granted"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Ge,{className:"flex items-center gap-2",children:[u.jsx(qp,{className:"w-4 h-4"}),"Schedule Reminders"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Reminders for upcoming deadlines and follow-ups"})]}),u.jsx(Qr,{checked:i.scheduleReminders,onCheckedChange:y=>x("scheduleReminders",y),disabled:n!=="granted"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Ge,{className:"flex items-center gap-2",children:[u.jsx(hE,{className:"w-4 h-4"}),"Weekly Reports"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Weekly summary of campaign performance and metrics"})]}),u.jsx(Qr,{checked:i.weeklyReports,onCheckedChange:y=>x("weeklyReports",y),disabled:n!=="granted"})]})]})]}),u.jsxs(ne,{className:"hover-scale transition-all duration-200",children:[u.jsx(et,{children:u.jsx(tt,{children:"Recent Notifications"})}),u.jsx(Fe,{children:u.jsx("div",{className:"space-y-3",children:s.length===0?u.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No notifications yet"}):s.map(y=>u.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg transition-colors ${y.read?"bg-muted/30":"bg-muted/80"}`,children:[u.jsx("div",{className:`w-2 h-2 mt-2 rounded-full flex-shrink-0 ${y.type==="success"?"bg-green-500":y.type==="error"?"bg-red-500":y.type==="warning"?"bg-orange-500":"bg-blue-500"}`}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:`text-sm font-medium ${y.read?"text-muted-foreground":"text-foreground"}`,children:y.title}),u.jsx("p",{className:"text-sm text-muted-foreground",children:y.message}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[new Date(y.created_at).toLocaleTimeString(),"  ",new Date(y.created_at).toLocaleDateString()]})]}),u.jsxs("div",{className:"flex gap-1",children:[!y.read&&u.jsx(se,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>v(y.id),title:"Mark as read",children:u.jsx(tg,{className:"w-3 h-3"})}),u.jsx(se,{variant:"ghost",size:"icon",className:"h-6 w-6 text-destructive",onClick:()=>b(y.id),title:"Delete",children:u.jsx(AT,{className:"w-3 h-3"})})]})]},y.id))})})]})]})};var HN="Checkbox",[V7e,WWe]=Sa(HN),[W7e,q7e]=V7e(HN),VK=S.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:s,disabled:o,value:l="on",onCheckedChange:c,form:d,...f}=t,[h,p]=S.useState(null),m=rt(e,w=>p(w)),g=S.useRef(!1),x=h?d||!!h.closest("form"):!0,[v=!1,b]=ls({prop:i,defaultProp:a,onChange:c}),y=S.useRef(v);return S.useEffect(()=>{const w=h==null?void 0:h.form;if(w){const _=()=>b(y.current);return w.addEventListener("reset",_),()=>w.removeEventListener("reset",_)}},[h,b]),u.jsxs(W7e,{scope:n,state:v,disabled:o,children:[u.jsx(Pe.button,{type:"button",role:"checkbox","aria-checked":cl(v)?"mixed":v,"aria-required":s,"data-state":GK(v),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:m,onKeyDown:pe(t.onKeyDown,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:pe(t.onClick,w=>{b(_=>cl(_)?!0:!_),x&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),x&&u.jsx(G7e,{control:h,bubbles:!g.current,name:r,value:l,checked:v,required:s,disabled:o,form:d,style:{transform:"translateX(-100%)"},defaultChecked:cl(a)?!1:a})]})});VK.displayName=HN;var WK="CheckboxIndicator",qK=S.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,a=q7e(WK,n);return u.jsx(Qn,{present:r||cl(a.state)||a.state===!0,children:u.jsx(Pe.span,{"data-state":GK(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});qK.displayName=WK;var G7e=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:i,...a}=t,s=S.useRef(null),o=mO(n),l=RT(e);S.useEffect(()=>{const d=s.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(o!==n&&p){const m=new Event("click",{bubbles:r});d.indeterminate=cl(n),p.call(d,cl(n)?!1:n),d.dispatchEvent(m)}},[o,n,r]);const c=S.useRef(cl(n)?!1:n);return u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??c.current,...a,tabIndex:-1,ref:s,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function cl(t){return t==="indeterminate"}function GK(t){return cl(t)?"indeterminate":t?"checked":"unchecked"}var KK=VK,K7e=qK;const YK=S.forwardRef(({className:t,...e},n)=>u.jsx(KK,{ref:n,className:we("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:u.jsx(K7e,{className:we("flex items-center justify-center text-current"),children:u.jsx(tg,{className:"h-4 w-4"})})}));YK.displayName=KK.displayName;const XK=({campaign:t,onExecutionComplete:e})=>{const[n,r]=S.useState([]),[i,a]=S.useState(0),[s,o]=S.useState(!1),{toast:l}=Ht(),c=[{id:"email",label:"Email",icon:ti,color:"text-blue-500"},{id:"voice",label:"Voice Call",icon:Ea,color:"text-green-500"},{id:"whatsapp",label:"WhatsApp",icon:li,color:"text-emerald-500"}],d=h=>{r(p=>p.includes(h)?p.filter(m=>m!==h):[...p,h])},f=async()=>{if(n.length===0){l({title:"No Channels Selected",description:"Please select at least one communication channel",variant:"destructive"});return}o(!0);try{const{api:h}=await es(async()=>{const{api:p}=await Promise.resolve().then(()=>PO);return{api:p}},void 0);await h.campaigns.execute(t.id),l({title:"Campaign Started Successfully",description:`Executing across ${n.length} channel(s) with ${i}min delay`}),e==null||e()}catch(h){console.error("Campaign execution error:",h),l({title:"Campaign Execution Failed",description:h.message||"Failed to start execution",variant:"destructive"})}finally{o(!1)}};return u.jsxs(ne,{className:"border-primary/20",children:[u.jsx(et,{children:u.jsxs(tt,{className:"flex items-center gap-2",children:[u.jsx(Lr,{className:"w-5 h-5 text-primary"}),"Execute Campaign: ",t.name]})}),u.jsxs(Fe,{className:"space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ms,{className:"w-4 h-4 text-muted-foreground"}),u.jsxs("span",{className:"text-sm",children:[t.candidates_count," candidates"]})]}),u.jsx(vn,{variant:"secondary",children:t.status})]})}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(Ge,{className:"text-base font-medium",children:"Select Communication Channels"}),u.jsx("div",{className:"grid grid-cols-1 gap-3",children:c.map(h=>{const p=h.icon,m=n.includes(h.id);return u.jsxs("div",{className:`flex items-center space-x-3 p-4 border rounded-lg cursor-pointer transition-all hover-lift ${m?"border-primary bg-primary/5":"border-border"}`,onClick:()=>d(h.id),children:[u.jsx(YK,{checked:m,onChange:()=>d(h.id)}),u.jsx(p,{className:`w-5 h-5 ${h.color}`}),u.jsx(Ge,{className:"flex-1 cursor-pointer",children:h.label})]},h.id)})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"delay",className:"text-base font-medium",children:"Delay Between Channels (minutes)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(pl,{className:"w-4 h-4 text-muted-foreground"}),u.jsx(zt,{id:"delay",type:"number",min:"0",max:"1440",value:i,onChange:h=>a(parseInt(h.target.value)||0),className:"w-24"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"minutes"})]})]}),u.jsx(se,{onClick:f,disabled:s||n.length===0,className:"w-full",variant:"hero",children:s?u.jsxs(u.Fragment,{children:[u.jsx(jl,{size:"sm",className:"mr-2"}),"Executing Campaign..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Fs,{className:"w-4 h-4 mr-2"}),"Execute Campaign"]})}),n.length>0&&u.jsxs("div",{className:"text-sm text-muted-foreground text-center",children:["Will execute: ",n.join("  "),i>0&&` with ${i}min delay between channels`]})]})]})},Y7e=()=>{var b;const t=hi(),{user:e,signOut:n}=er(),{toast:r}=Ht(),[i,a]=S.useState(null),[s,o]=S.useState("overview"),[l,c]=S.useState(!1),[d,f]=S.useState(!1),[h,p]=S.useState([]),[m,g]=S.useState({totalCampaigns:0,messagesSent:0,callsMade:0,responseRate:0});S.useEffect(()=>{x()},[e]),S.useEffect(()=>{const y=De.channel("dashboard-analytics").on("postgres_changes",{event:"INSERT",schema:"public",table:"campaign_analytics"},w=>{console.log("Real-time analytics update:",w),r({title:"New Activity",description:`Agent ${w.new.channel} reported: ${w.new.status}`}),x()}).subscribe();return()=>{De.removeChannel(y)}},[]);const x=async()=>{if(e)try{const{data:y,error:w}=await De.from("campaigns").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(w)throw w;p(y||[]);const _=(y==null?void 0:y.length)||0,E=(y==null?void 0:y.reduce((T,O)=>T+(O.messages_sent||0),0))||0,A=(y==null?void 0:y.reduce((T,O)=>T+(O.calls_made||0),0))||0,j=(y==null?void 0:y.reduce((T,O)=>T+(O.responses_received||0),0))||0,k=E+A,C=k>0?Math.round(j/k*100):0;g({totalCampaigns:_,messagesSent:E,callsMade:A,responseRate:C})}catch(y){console.error("Error loading dashboard data:",y),r({title:"Error loading data",description:"Failed to load dashboard data. Please refresh the page.",variant:"destructive"})}},v=async()=>{try{await n(),t("/")}catch(y){console.error("Error signing out:",y),r({title:"Sign out failed",description:"Please try again",variant:"destructive"})}};return u.jsxs("div",{className:"min-h-screen bg-ai-gradient-subtle",children:[u.jsx("div",{className:"bg-card/50 backdrop-blur-sm border-b border-border/50 sticky top-0 z-40",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-ai-gradient rounded-lg flex items-center justify-center",children:u.jsx(ua,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-lg font-semibold",children:"AdmitConnect AI"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Dashboard"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(se,{variant:"outline",size:"sm",onClick:()=>f(!0),children:[u.jsx(Ir,{className:"w-4 h-4 mr-2"}),"Upgrade"]}),u.jsx(se,{variant:"ghost",size:"sm",onClick:()=>c(!0),children:u.jsx(ng,{className:"w-4 h-4"})}),u.jsx(se,{variant:"ghost",size:"sm",onClick:v,children:u.jsx(ST,{className:"w-4 h-4"})})]})]})})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("h2",{className:"text-2xl font-bold mb-2",children:["Welcome back, ",((b=e==null?void 0:e.user_metadata)==null?void 0:b.full_name)||(e==null?void 0:e.email),"! "]}),u.jsx("p",{className:"text-muted-foreground",children:"Manage your admission campaigns and track performance from your dashboard."})]}),u.jsxs(su,{value:s,onValueChange:o,className:"space-y-6",children:[u.jsxs(Bl,{className:"grid w-full grid-cols-6",children:[u.jsx(mt,{value:"overview",children:"Overview"}),u.jsx(mt,{value:"campaigns",children:"Campaigns"}),u.jsx(mt,{value:"analytics",children:"Analytics"}),u.jsx(mt,{value:"automation",children:"Automation"}),u.jsx(mt,{value:"notifications",children:"Notifications"})]}),u.jsxs(gt,{value:"overview",className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[u.jsx(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Ec,{className:"w-5 h-5 text-blue-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Campaigns"}),u.jsx("p",{className:"text-2xl font-bold",children:m.totalCampaigns})]})]})}),u.jsx(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:u.jsx(li,{className:"w-5 h-5 text-green-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Messages Sent"}),u.jsx("p",{className:"text-2xl font-bold",children:m.messagesSent})]})]})}),u.jsx(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Ea,{className:"w-5 h-5 text-purple-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Calls Made"}),u.jsx("p",{className:"text-2xl font-bold",children:m.callsMade})]})]})}),u.jsx(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-orange-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Ir,{className:"w-5 h-5 text-orange-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Response Rate"}),u.jsxs("p",{className:"text-2xl font-bold",children:[m.responseRate,"%"]})]})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Recent Campaigns"}),u.jsxs(se,{onClick:()=>a("create-campaign"),variant:"hero",children:[u.jsx(rp,{className:"w-4 h-4 mr-2"}),"New Campaign"]})]}),h.length===0?u.jsxs(ne,{className:"p-8 text-center bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx(Ec,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No campaigns yet"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first campaign to start reaching prospective students."}),u.jsx(se,{onClick:()=>a("create-campaign"),variant:"hero",children:"Create Your First Campaign"})]}):u.jsxs("div",{className:"space-y-4",children:[h.slice(0,3).map(y=>u.jsx(Lj,{campaign:y,onUpdate:x},y.id)),h.length>3&&u.jsxs(ne,{className:"p-4 text-center bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("p",{className:"text-muted-foreground",children:["+",h.length-3," more campaigns"]}),u.jsx(se,{variant:"ghost",size:"sm",className:"mt-2",children:"View All Campaigns"})]})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsx(D1e,{campaigns:h,stats:m}),u.jsxs(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[u.jsx(Lr,{className:"w-5 h-5 text-primary"}),"Quick Actions"]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(se,{variant:"outline",className:"w-full justify-start",onClick:()=>a("upload-candidates"),children:[u.jsx(kT,{className:"w-4 h-4 mr-2"}),"Upload Candidates"]}),u.jsxs(se,{variant:"outline",className:"w-full justify-start",onClick:()=>a("create-campaign"),children:[u.jsx(rp,{className:"w-4 h-4 mr-2"}),"Create Campaign"]}),h.length>0&&u.jsxs(se,{variant:"outline",className:"w-full justify-start",onClick:()=>a("execute-campaign"),children:[u.jsx(Fs,{className:"w-4 h-4 mr-2"}),"Execute Campaign"]}),u.jsxs(se,{variant:"outline",className:"w-full justify-start",onClick:()=>f(!0),children:[u.jsx(Ir,{className:"w-4 h-4 mr-2"}),"Upgrade Plan"]})]})]})]})]})]}),u.jsxs(gt,{value:"campaigns",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"All Campaigns"}),u.jsxs(se,{onClick:()=>a("create-campaign"),variant:"hero",children:[u.jsx(rp,{className:"w-4 h-4 mr-2"}),"New Campaign"]})]}),h.length===0?u.jsxs(ne,{className:"p-8 text-center bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx(Ec,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No campaigns yet"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first campaign to start reaching prospective students."}),u.jsx(se,{onClick:()=>a("create-campaign"),variant:"hero",children:"Create Your First Campaign"})]}):u.jsx("div",{className:"grid grid-cols-1 gap-4",children:h.map(y=>u.jsx(Lj,{campaign:y,onUpdate:x},y.id))})]}),u.jsx(gt,{value:"analytics",children:u.jsx(zK,{})}),u.jsx(gt,{value:"automation",children:u.jsx(UK,{})}),u.jsx(gt,{value:"notifications",children:u.jsx(HK,{})})]})]}),u.jsx(ii,{open:i==="create-campaign",onOpenChange:y=>!y&&a(null),children:u.jsxs(Rr,{className:"max-w-2xl",children:[u.jsx(Mr,{children:u.jsx(Dr,{children:"Create New Campaign"})}),u.jsx(RV,{onCampaignCreated:()=>{a(null),x()}})]})}),u.jsx(ii,{open:i==="upload-candidates",onOpenChange:y=>!y&&a(null),children:u.jsxs(Rr,{className:"max-w-2xl",children:[u.jsx(Mr,{children:u.jsx(Dr,{children:"Upload Candidates"})}),u.jsx($V,{onUploadComplete:()=>{a(null),x()}})]})}),u.jsx(ii,{open:i==="execute-campaign",onOpenChange:y=>!y&&a(null),children:u.jsxs(Rr,{className:"max-w-2xl",children:[u.jsx(Mr,{children:u.jsx(Dr,{children:"Execute Campaign"})}),h.length>0&&u.jsx(XK,{campaign:h[0],onExecutionComplete:()=>{a(null),x(),r({title:"Campaign Executed",description:"Your campaign is now running across selected channels"})}})]})}),u.jsx(_O,{open:l,onOpenChange:c}),u.jsx(IO,{open:d,onOpenChange:f})]})},X7e=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState(!1);return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(pO,{onContactClick:()=>e(!0),onScheduleClick:()=>r(!0)}),u.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:u.jsxs("div",{className:"text-center space-y-6",children:[u.jsx("h1",{className:"text-4xl md:text-6xl font-bold",children:u.jsx("span",{className:"bg-ai-gradient bg-clip-text text-transparent",children:"About AdmitConnect AI"})}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Revolutionizing college admissions through AI-powered automation, personalized outreach, and intelligent campaign management."})]})}),u.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Our Mission"}),u.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:"We empower educational institutions to connect with prospective students through intelligent automation, personalized messaging, and data-driven insights."}),u.jsx("p",{className:"text-lg text-muted-foreground",children:"Our platform combines cutting-edge AI technology with proven admission strategies to help colleges and universities scale their outreach efforts while maintaining a personal touch."})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx(Gp,{className:"w-8 h-8 text-primary mb-4"}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Targeted Outreach"}),u.jsx("p",{className:"text-muted-foreground",children:"Reach the right students with personalized messaging that resonates with their interests and goals."})]}),u.jsxs(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx(Lr,{className:"w-8 h-8 text-primary mb-4"}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Automated Efficiency"}),u.jsx("p",{className:"text-muted-foreground",children:"Save time and resources while increasing your reach with intelligent automation that works 24/7."})]})]})]})}),u.jsx("section",{className:"py-16 bg-ai-gradient-subtle",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Making an Impact"}),u.jsx("p",{className:"text-xl text-muted-foreground",children:"See how we're transforming college admissions nationwide"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent mb-2",children:"500+"}),u.jsx("p",{className:"text-muted-foreground",children:"Colleges Served"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent mb-2",children:"2M+"}),u.jsx("p",{className:"text-muted-foreground",children:"Students Reached"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent mb-2",children:"85%"}),u.jsx("p",{className:"text-muted-foreground",children:"Response Rate"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent mb-2",children:"98%"}),u.jsx("p",{className:"text-muted-foreground",children:"Client Satisfaction"})]})]})]})}),u.jsxs("section",{className:"py-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Meet the AdmitConnect AI Team"}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto mb-8",children:"Our passionate team of AI experts, educators, and developers is dedicated to revolutionizing the college admission process."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[u.jsx(se,{size:"lg",variant:"hero",onClick:()=>window.open("/admit-ai-nexus/our-services","_blank"),className:"text-lg px-8 py-3",children:"Learn More About Our Services"}),u.jsxs(se,{size:"lg",variant:"outline",onClick:()=>e(!0),className:"text-lg px-8 py-3",children:[u.jsx(ti,{className:"w-5 h-5 mr-2"}),"Contact Us"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs(ne,{className:"p-6 text-center bg-card/50 backdrop-blur-sm border-border/50 hover:shadow-xl transition-all duration-300",children:[u.jsx("div",{className:"w-20 h-20 bg-ai-gradient rounded-full mx-auto mb-4 flex items-center justify-center",children:u.jsx(ms,{className:"w-10 h-10 text-white"})}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"AI & Technology"}),u.jsx("p",{className:"text-muted-foreground",children:"Cutting-edge AI researchers and engineers building the future of educational technology."})]}),u.jsxs(ne,{className:"p-6 text-center bg-card/50 backdrop-blur-sm border-border/50 hover:shadow-xl transition-all duration-300",children:[u.jsx("div",{className:"w-20 h-20 bg-ai-gradient rounded-full mx-auto mb-4 flex items-center justify-center",children:u.jsx(Gp,{className:"w-10 h-10 text-white"})}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Education Experts"}),u.jsx("p",{className:"text-muted-foreground",children:"Former admissions counselors and education professionals who understand the industry."})]}),u.jsxs(ne,{className:"p-6 text-center bg-card/50 backdrop-blur-sm border-border/50 hover:shadow-xl transition-all duration-300",children:[u.jsx("div",{className:"w-20 h-20 bg-ai-gradient rounded-full mx-auto mb-4 flex items-center justify-center",children:u.jsx(Lr,{className:"w-10 h-10 text-white"})}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Customer Success"}),u.jsx("p",{className:"text-muted-foreground",children:"Dedicated support team ensuring every client achieves their enrollment goals."})]})]})]}),u.jsx("section",{className:"py-16 bg-card/50",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[u.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Get in Touch"}),u.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Ready to transform your admissions process? Let's discuss how AdmitConnect AI can help your institution thrive."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsxs(se,{variant:"hero",size:"lg",onClick:()=>r(!0),className:"hover-lift",children:[u.jsx(qp,{className:"w-5 h-5 mr-2"}),"Schedule Demo"]}),u.jsxs(se,{variant:"outline",size:"lg",onClick:()=>e(!0),className:"hover-lift",children:[u.jsx(ti,{className:"w-5 h-5 mr-2"}),"Contact Sales"]})]}),u.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-2 gap-8 max-w-2xl mx-auto",children:[u.jsxs("a",{href:"mailto:admitconnectAI@gmail.com",className:"flex flex-col items-center p-6 bg-card rounded-lg border border-border/50 hover:border-primary/50 transition-all hover:shadow-lg group",children:[u.jsx(ti,{className:"w-12 h-12 text-primary mb-4 group-hover:scale-110 transition-transform"}),u.jsx("h3",{className:"font-semibold mb-2",children:"Email"}),u.jsx("p",{className:"text-muted-foreground text-sm text-center break-all",children:"admitconnectAI@gmail.com"})]}),u.jsxs("a",{href:"https://wa.me/918439663198",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center p-6 bg-card rounded-lg border border-border/50 hover:border-primary/50 transition-all hover:shadow-lg group",children:[u.jsx(Kv,{className:"w-12 h-12 text-primary mb-4 group-hover:scale-110 transition-transform"}),u.jsx("h3",{className:"font-semibold mb-2",children:"WhatsApp"}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"+91 8439663198"})]})]})]})}),u.jsx(yO,{open:t,onOpenChange:e}),u.jsx(Kb,{open:n,onOpenChange:r}),u.jsx(kH,{}),u.jsx(dV,{})]})},Z7e=()=>{hi();const[t,e]=S.useState(!1),[n,r]=S.useState(!1),i=[{icon:Zs,title:"AI-Driven Admission Counseling",description:"Intelligent guidance powered by advanced AI algorithms",features:["Personalized course recommendations","University matching based on profile","Real-time admission probability analysis","Document requirement tracking","Application timeline management"],color:"blue"},{icon:li,title:"WhatsApp Automation",description:"Natural language communication at scale",features:["24/7 automated responses","Natural conversation flow","Multi-language support","Smart follow-up sequences","Rich media sharing"],color:"green"},{icon:Ea,title:"Voice Call Automation",description:"Intelligent voice interactions with prospective students",features:["AI-powered voice calls","Natural speech recognition","Appointment scheduling","Call quality analytics","Integration with CRM systems"],color:"purple"},{icon:hl,title:"Analytics Dashboard",description:"Comprehensive insights and performance tracking",features:["Real-time engagement metrics","Conversion rate tracking","Student journey analytics","ROI measurement","Custom reporting"],color:"orange"}],a=[{icon:Gp,title:"Increased Conversion",description:"Up to 40% improvement in lead conversion rates"},{icon:pl,title:"24/7 Availability",description:"Round-the-clock student support and engagement"},{icon:ms,title:"Scalable Operations",description:"Handle thousands of inquiries simultaneously"},{icon:OB,title:"Data Security",description:"Enterprise-grade security and privacy protection"},{icon:Lr,title:"Quick Implementation",description:"Get started in under 48 hours"},{icon:pE,title:"Global Reach",description:"Multi-language support for international students"}],s=o=>{const l={blue:"bg-blue-500/10 text-blue-500 border-blue-500/20",green:"bg-green-500/10 text-green-500 border-green-500/20",purple:"bg-purple-500/10 text-purple-500 border-purple-500/20",orange:"bg-orange-500/10 text-orange-500 border-orange-500/20"};return l[o]||l.blue};return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(pO,{onContactClick:()=>e(!0),onScheduleClick:()=>r(!0)}),u.jsx("section",{className:"pt-24 pb-16 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[u.jsxs(vn,{variant:"outline",className:"mb-6 px-4 py-2",children:[u.jsx(jT,{className:"w-4 h-4 mr-2"}),"Comprehensive AI Solutions"]}),u.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 bg-ai-gradient bg-clip-text text-transparent",children:"Our Services"}),u.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-3xl mx-auto",children:"Transform your admission process with our suite of AI-powered tools designed to engage, convert, and retain prospective students at scale."})]})}),u.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:i.map((o,l)=>u.jsxs(ne,{className:"relative overflow-hidden group hover:shadow-2xl transition-all duration-300 border-border/50 bg-card/50 backdrop-blur-sm",children:[u.jsxs(et,{className:"pb-4",children:[u.jsx("div",{className:`w-16 h-16 rounded-xl ${s(o.color)} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300`,children:u.jsx(o.icon,{className:"w-8 h-8"})}),u.jsx(tt,{className:"text-2xl mb-2",children:o.title}),u.jsx(Ga,{className:"text-base",children:o.description})]}),u.jsx(Fe,{children:u.jsx("ul",{className:"space-y-3",children:o.features.map((c,d)=>u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(da,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),u.jsx("span",{className:"text-muted-foreground",children:c})]},d))})})]},l))})})}),u.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 bg-muted/20",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Why Choose AdmitConnect AI?"}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Experience the benefits that leading educational institutions trust"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((o,l)=>u.jsxs(ne,{className:"text-center p-6 hover:shadow-lg transition-all duration-300 border-border/50 bg-card/50 backdrop-blur-sm",children:[u.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(o.icon,{className:"w-6 h-6 text-primary"})}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:o.title}),u.jsx("p",{className:"text-muted-foreground",children:o.description})]},l))})]})}),u.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"How It Works"}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Simple implementation process to get you started"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[{step:"01",title:"Integration",description:"Connect your existing systems"},{step:"02",title:"Configuration",description:"Customize AI responses and workflows"},{step:"03",title:"Training",description:"AI learns your institution's specifics"},{step:"04",title:"Launch",description:"Go live and start engaging students"}].map((o,l)=>u.jsxs("div",{className:"text-center relative",children:[u.jsx("div",{className:"w-16 h-16 bg-ai-gradient rounded-full flex items-center justify-center mx-auto mb-4 text-white font-bold text-lg",children:o.step}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:o.title}),u.jsx("p",{className:"text-muted-foreground",children:o.description}),l<3&&u.jsx(Fd,{className:"hidden md:block absolute top-8 -right-4 w-6 h-6 text-muted-foreground"})]},l))})]})}),u.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 bg-ai-gradient-subtle",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Transform Your Admissions?"}),u.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Join hundreds of institutions already using AdmitConnect AI to boost their admission success"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsxs(se,{size:"lg",variant:"hero",onClick:()=>r(!0),className:"text-lg px-8 py-3",children:["Schedule Demo",u.jsx(Fd,{className:"w-5 h-5 ml-2"})]}),u.jsx(se,{size:"lg",variant:"outline",onClick:()=>e(!0),className:"text-lg px-8 py-3",children:"Contact Sales"})]})]})}),u.jsx(yO,{open:t,onOpenChange:e}),u.jsx(Kb,{open:n,onOpenChange:r})]})},J7e=()=>{const t=Il();return S.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),u.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Q7e=()=>{const{toast:t}=Ht(),[e,n]=S.useState([]),[r,i]=S.useState([]),[a,s]=S.useState({totalCandidates:0,readyForDistribution:0,inProgress:0,completed:0,failed:0}),[o,l]=S.useState(!1),[c,d]=S.useState(""),[f,h]=S.useState("all"),[p,m]=S.useState(!1);S.useEffect(()=>{g()},[]),S.useEffect(()=>{v()},[e,c,f]);const g=async()=>{l(!0);try{const{data:_,error:E}=await De.from("candidates").select(`
          *,
          campaigns(name, type, status)
        `).order("created_at",{ascending:!1});if(E)throw E;n(_||[]),x(_||[])}catch(_){console.error("Error loading candidate data:",_),t({title:"Error",description:"Failed to load candidate data",variant:"destructive"})}finally{l(!1)}},x=_=>{const E=_.length,A=_.filter(T=>T.status==="pending").length,j=_.filter(T=>T.status==="email_sent"||T.status==="voice_called"||T.status==="whatsapp_sent").length,k=_.filter(T=>T.response_received).length,C=_.filter(T=>T.status==="failed").length;s({totalCandidates:E,readyForDistribution:A,inProgress:j,completed:k,failed:C})},v=()=>{let _=e;c&&(_=_.filter(E=>E.name.toLowerCase().includes(c.toLowerCase())||E.email.toLowerCase().includes(c.toLowerCase())||E.phone.includes(c)||E.city.toLowerCase().includes(c.toLowerCase()))),f!=="all"&&(_=_.filter(E=>E.status===f)),i(_)},b=async(_,E)=>{m(!0);try{const A=[];for(const j of E){let k="";switch(j){case"email":k="email-agent";break;case"voice":k="voice-agent";break;case"whatsapp":k="whatsapp-agent";break;default:continue}const{data:C,error:T}=await De.functions.invoke(k,{body:{candidateIds:_,distributedBy:"data-distribution-layer"}});if(T)throw T;A.push({channel:j,success:!0,data:C})}t({title:"Distribution Complete",description:`Successfully distributed data to ${E.length} channels`}),g()}catch(A){console.error("Error distributing data:",A),t({title:"Distribution Failed",description:"Failed to distribute data to agents",variant:"destructive"})}finally{m(!1)}},y=_=>{const E=[];return!_.email&&!_.phone&&E.push("Missing contact information"),_.name||E.push("Missing name"),_.email&&!_.email.includes("@")&&E.push("Invalid email format"),E},w=_=>{switch(_){case"pending":return"bg-yellow-500/10 text-yellow-500";case"email_sent":return"bg-blue-500/10 text-blue-500";case"voice_called":return"bg-purple-500/10 text-purple-500";case"whatsapp_sent":return"bg-green-500/10 text-green-500";case"completed":return"bg-emerald-500/10 text-emerald-500";case"failed":return"bg-red-500/10 text-red-500";default:return"bg-gray-500/10 text-gray-500"}};return u.jsx(pz,{children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[u.jsx(fd,{className:"w-6 h-6 text-primary"}),"Data Distribution Layer"]}),u.jsx("p",{className:"text-muted-foreground",children:"Centralized candidate data management and agent distribution"})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs(se,{onClick:g,variant:"outline",disabled:o,children:[u.jsx(ml,{className:`w-4 h-4 mr-2 ${o?"animate-spin":""}`}),"Refresh"]})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[u.jsx(ne,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(ms,{className:"w-5 h-5 text-blue-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Candidates"}),u.jsx("p",{className:"text-xl font-bold",children:a.totalCandidates})]})]})}),u.jsx(ne,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Ls,{className:"w-5 h-5 text-yellow-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Ready"}),u.jsx("p",{className:"text-xl font-bold",children:a.readyForDistribution})]})]})}),u.jsx(ne,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Fd,{className:"w-5 h-5 text-orange-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"In Progress"}),u.jsx("p",{className:"text-xl font-bold",children:a.inProgress})]})]})}),u.jsx(ne,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(da,{className:"w-5 h-5 text-green-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed"}),u.jsx("p",{className:"text-xl font-bold",children:a.completed})]})]})}),u.jsx(ne,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Gv,{className:"w-5 h-5 text-red-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Failed"}),u.jsx("p",{className:"text-xl font-bold",children:a.failed})]})]})})]}),u.jsxs(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Ls,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"text-lg font-semibold",children:"Distribution Progress"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[u.jsx("span",{children:"Overall Completion"}),u.jsxs("span",{children:[Math.round(a.completed/a.totalCandidates*100)||0,"%"]})]}),u.jsx(ki,{value:a.completed/a.totalCandidates*100||0,className:"h-2"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[u.jsx("span",{children:"Ready for Distribution"}),u.jsxs("span",{children:[Math.round(a.readyForDistribution/a.totalCandidates*100)||0,"%"]})]}),u.jsx(ki,{value:a.readyForDistribution/a.totalCandidates*100||0,className:"h-2"})]})]})]}),u.jsx(ne,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx(qee,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),u.jsx(zt,{placeholder:"Search candidates...",value:c,onChange:_=>d(_.target.value),className:"pl-9"})]})}),u.jsxs(Ka,{value:f,onValueChange:h,children:[u.jsx(sa,{className:"w-48",children:u.jsx(Ya,{placeholder:"Filter by status"})}),u.jsxs(oa,{children:[u.jsx(Vt,{value:"all",children:"All Statuses"}),u.jsx(Vt,{value:"pending",children:"Pending"}),u.jsx(Vt,{value:"email_sent",children:"Email Sent"}),u.jsx(Vt,{value:"voice_called",children:"Voice Called"}),u.jsx(Vt,{value:"whatsapp_sent",children:"WhatsApp Sent"}),u.jsx(Vt,{value:"completed",children:"Completed"}),u.jsx(Vt,{value:"failed",children:"Failed"})]})]}),u.jsxs(se,{onClick:()=>b(r.filter(_=>_.status==="pending").map(_=>_.id),["email","voice","whatsapp"]),disabled:p||r.filter(_=>_.status==="pending").length===0,variant:"hero",children:[p?u.jsx(ml,{className:"w-4 h-4 mr-2 animate-spin"}):u.jsx(Fd,{className:"w-4 h-4 mr-2"}),"Distribute to Agents"]})]})}),u.jsxs(ne,{className:"bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx("div",{className:"p-4 border-b border-border/50",children:u.jsxs("h3",{className:"text-lg font-semibold",children:["Candidate Data (",r.length,")"]})}),u.jsxs("div",{className:"overflow-x-auto",children:[u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-muted/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left p-4",children:"Name"}),u.jsx("th",{className:"text-left p-4",children:"Contact"}),u.jsx("th",{className:"text-left p-4",children:"Location"}),u.jsx("th",{className:"text-left p-4",children:"Course"}),u.jsx("th",{className:"text-left p-4",children:"Status"}),u.jsx("th",{className:"text-left p-4",children:"Distribution"}),u.jsx("th",{className:"text-left p-4",children:"Validation"})]})}),u.jsx("tbody",{children:r.map(_=>{const E=y(_);return u.jsxs("tr",{className:"border-t border-border/50 hover:bg-muted/20",children:[u.jsx("td",{className:"p-4",children:u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:_.name}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",_.id.slice(0,8)]})]})}),u.jsx("td",{className:"p-4",children:u.jsxs("div",{className:"space-y-1",children:[_.email&&u.jsxs("p",{className:"text-sm flex items-center gap-1",children:[u.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),_.email]}),_.phone&&u.jsxs("p",{className:"text-sm flex items-center gap-1",children:[u.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),_.phone]})]})}),u.jsx("td",{className:"p-4",children:u.jsx("p",{className:"text-sm",children:_.city||"N/A"})}),u.jsx("td",{className:"p-4",children:u.jsx("p",{className:"text-sm",children:_.course||"N/A"})}),u.jsx("td",{className:"p-4",children:u.jsx(vn,{className:w(_.status),children:_.status.replace("_"," ")})}),u.jsx("td",{className:"p-4",children:u.jsxs("div",{className:"flex gap-1",children:[_.email_sent&&u.jsxs(mu,{children:[u.jsx(gu,{children:u.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),u.jsx(Ql,{children:"Email sent"})]}),_.voice_called&&u.jsxs(mu,{children:[u.jsx(gu,{children:u.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"})}),u.jsx(Ql,{children:"Voice called"})]}),_.whatsapp_sent&&u.jsxs(mu,{children:[u.jsx(gu,{children:u.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"})}),u.jsx(Ql,{children:"WhatsApp sent"})]}),_.response_received&&u.jsxs(mu,{children:[u.jsx(gu,{children:u.jsx(da,{className:"w-4 h-4 text-emerald-500"})}),u.jsx(Ql,{children:"Response received"})]})]})}),u.jsx("td",{className:"p-4",children:E.length>0?u.jsxs(mu,{children:[u.jsx(gu,{children:u.jsx(Gv,{className:"w-4 h-4 text-red-500"})}),u.jsx(Ql,{children:E.join(", ")})]}):u.jsxs(mu,{children:[u.jsx(gu,{children:u.jsx(da,{className:"w-4 h-4 text-green-500"})}),u.jsx(Ql,{children:"Valid data"})]})})]},_.id)})})]}),r.length===0&&u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No candidates found matching your criteria"})]})]})]})})},eWe=()=>{const{toast:t}=Ht(),[e,n]=S.useState([]),[r,i]=S.useState([]),[a,s]=S.useState(""),[o,l]=S.useState([]),[c,d]=S.useState(!1),[f,h]=S.useState(null);S.useEffect(()=>{p();const E=setInterval(p,1e4);return h(E),()=>{E&&clearInterval(E)}},[]);const p=async()=>{try{await Promise.all([m(),g(),x()])}catch(E){console.error("Error loading data:",E)}},m=async()=>{const{data:E,error:A}=await De.from("campaigns").select("*").order("created_at",{ascending:!1});if(A)throw A;i(E||[])},g=async()=>{const E=[{id:"email-agent-001",name:"Email Agent Alpha",type:"email",status:"online",lastActivity:new Date(Date.now()-12e4).toISOString(),metrics:{totalProcessed:1247,successRate:94.2,avgResponseTime:1850,currentLoad:15}},{id:"voice-agent-001",name:"Voice Agent Beta",type:"voice",status:"online",lastActivity:new Date(Date.now()-3e5).toISOString(),metrics:{totalProcessed:892,successRate:87.6,avgResponseTime:12400,currentLoad:8}},{id:"messaging-agent-001",name:"Messaging Agent Gamma",type:"messaging",status:"online",lastActivity:new Date(Date.now()-6e4).toISOString(),metrics:{totalProcessed:2156,successRate:96.8,avgResponseTime:950,currentLoad:22}}];n(E)},x=async()=>{const{data:E,error:A}=await De.from("campaign_analytics").select("*").eq("event_type","campaign_orchestrated").order("timestamp",{ascending:!1}).limit(10);if(A){console.error("Error loading executions:",A);return}const j=(E||[]).map((k,C)=>({id:k.id,campaignName:`Campaign ${k.campaign_id.slice(0,8)}`,status:C===0?"running":C<3?"completed":"pending",progress:C===0?65:C<3?100:0,agents:["email","voice","messaging"],startTime:k.timestamp,results:C<3?k.metadata:void 0}));l(j)},v=async(E="normal")=>{if(!a){t({title:"No Campaign Selected",description:"Please select a campaign to execute",variant:"destructive"});return}d(!0);try{console.log("Executing multi-channel campaign with enhanced agents");const{data:A,error:j}=await De.functions.invoke("campaign-orchestrator",{body:{campaignId:a,channels:["email","voice","whatsapp"],priority:E,agentConfig:{email:{priority:E,retryCount:3},voice:{priority:E,voiceSettings:{voice:"alice",speed:1}},messaging:{priority:E,messageType:"whatsapp"}}}});if(j)throw j;t({title:"Campaign Execution Started",description:`Multi-channel campaign launched with ${E} priority`}),p()}catch(A){console.error("Error executing campaign:",A),t({title:"Execution Failed",description:"Failed to start campaign execution",variant:"destructive"})}finally{d(!1)}},b=async E=>{if(!a){t({title:"No Campaign Selected",description:"Please select a campaign first",variant:"destructive"});return}d(!0);try{const A=E==="messaging"?"whatsapp-agent":`${E}-agent`,{data:j,error:k}=await De.functions.invoke(A,{body:{campaignId:a,priority:"normal",agentId:`${E}-agent-manual-${Date.now()}`}});if(k)throw k;t({title:"Agent Execution Started",description:`${E.charAt(0).toUpperCase()+E.slice(1)} agent is processing the campaign`}),p()}catch(A){console.error(`Error executing ${E} agent:`,A),t({title:"Agent Execution Failed",description:`Failed to start ${E} agent`,variant:"destructive"})}finally{d(!1)}},y=E=>{switch(E){case"online":return"bg-green-500/10 text-green-500";case"busy":return"bg-yellow-500/10 text-yellow-500";case"offline":return"bg-gray-500/10 text-gray-500";case"error":return"bg-red-500/10 text-red-500";default:return"bg-gray-500/10 text-gray-500"}},w=E=>{switch(E){case"running":return"bg-blue-500/10 text-blue-500";case"completed":return"bg-green-500/10 text-green-500";case"failed":return"bg-red-500/10 text-red-500";case"pending":return"bg-yellow-500/10 text-yellow-500";default:return"bg-gray-500/10 text-gray-500"}},_=E=>{switch(E){case"email":return ti;case"voice":return Ea;case"messaging":return li;default:return ua}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[u.jsx(ua,{className:"w-6 h-6 text-primary"}),"Enhanced Agent Control Panel"]}),u.jsx("p",{className:"text-muted-foreground",children:"Advanced multi-agent coordination and intelligent campaign execution"})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs(se,{onClick:p,variant:"outline",disabled:c,children:[u.jsx(ml,{className:`w-4 h-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]})})]}),u.jsx(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select Campaign"}),u.jsxs(Ka,{value:a,onValueChange:s,children:[u.jsx(sa,{children:u.jsx(Ya,{placeholder:"Choose a campaign to execute"})}),u.jsx(oa,{children:r.map(E=>u.jsxs(Vt,{value:E.id,children:[E.name," (",E.type,")"]},E.id))})]})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs(se,{onClick:()=>v("high"),disabled:!a||c,variant:"hero",children:[u.jsx(Lr,{className:"w-4 h-4 mr-2"}),"Execute All Agents"]})})]})}),u.jsxs(su,{defaultValue:"agents",className:"space-y-6",children:[u.jsxs(Bl,{className:"grid w-full grid-cols-4",children:[u.jsx(mt,{value:"agents",children:"Agent Status"}),u.jsx(mt,{value:"execution",children:"Live Execution"}),u.jsx(mt,{value:"performance",children:"Performance"}),u.jsx(mt,{value:"coordination",children:"Coordination"})]}),u.jsx(gt,{value:"agents",className:"space-y-6",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map(E=>{const A=_(E.type);return u.jsxs(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:u.jsx(A,{className:"w-5 h-5 text-primary"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold",children:E.name}),u.jsx("p",{className:"text-sm text-muted-foreground",children:E.type})]})]}),u.jsx(vn,{className:y(E.status),children:E.status})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Processed"}),u.jsx("span",{className:"font-semibold",children:E.metrics.totalProcessed})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Success Rate"}),u.jsxs("span",{className:"font-semibold",children:[E.metrics.successRate,"%"]})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Avg Response"}),u.jsxs("span",{className:"font-semibold",children:[E.metrics.avgResponseTime,"ms"]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[u.jsx("span",{children:"Current Load"}),u.jsxs("span",{className:"font-semibold",children:[E.metrics.currentLoad,"%"]})]}),u.jsx(ki,{value:E.metrics.currentLoad,className:"h-2"})]})]}),u.jsxs(se,{onClick:()=>b(E.type),disabled:!a||c,className:"w-full mt-4",variant:"outline",children:[u.jsx(Fs,{className:"w-4 h-4 mr-2"}),"Execute Agent"]})]},E.id)})})}),u.jsx(gt,{value:"execution",className:"space-y-6",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Live Campaign Executions"}),o.map(E=>u.jsxs(ne,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Ls,{className:"w-5 h-5 text-primary"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold",children:E.campaignName}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Started ",new Date(E.startTime).toLocaleTimeString()]})]})]}),u.jsx(vn,{className:w(E.status),children:E.status})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Progress"}),u.jsxs("span",{children:[E.progress,"%"]})]}),u.jsx(ki,{value:E.progress,className:"h-2"}),u.jsx("div",{className:"flex gap-2 mt-3",children:E.agents.map(A=>{const j=_(A);return u.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[u.jsx(j,{className:"w-3 h-3"}),A]},A)})})]})]},E.id))]})}),u.jsx(gt,{value:"performance",className:"space-y-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[u.jsx(hl,{className:"w-5 h-5"}),"Agent Performance"]}),u.jsx("div",{className:"space-y-4",children:e.map(E=>u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:E.name}),u.jsxs("span",{children:[E.metrics.successRate,"%"]})]}),u.jsx(ki,{value:E.metrics.successRate,className:"h-2"})]},E.id))})]}),u.jsxs(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[u.jsx(pl,{className:"w-5 h-5"}),"Response Times"]}),u.jsx("div",{className:"space-y-4",children:e.map(E=>u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:E.name}),u.jsxs("span",{className:"text-sm font-semibold",children:[E.metrics.avgResponseTime,"ms"]})]},E.id))})]})]})}),u.jsx(gt,{value:"coordination",className:"space-y-6",children:u.jsxs(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Coordination Settings"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Priority Mode"}),u.jsxs(Ka,{defaultValue:"normal",children:[u.jsx(sa,{children:u.jsx(Ya,{})}),u.jsxs(oa,{children:[u.jsx(Vt,{value:"low",children:"Low Priority"}),u.jsx(Vt,{value:"normal",children:"Normal Priority"}),u.jsx(Vt,{value:"high",children:"High Priority"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Retry Strategy"}),u.jsxs(Ka,{defaultValue:"aggressive",children:[u.jsx(sa,{children:u.jsx(Ya,{})}),u.jsxs(oa,{children:[u.jsx(Vt,{value:"conservative",children:"Conservative"}),u.jsx(Vt,{value:"balanced",children:"Balanced"}),u.jsx(Vt,{value:"aggressive",children:"Aggressive"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Load Balancing"}),u.jsxs(Ka,{defaultValue:"auto",children:[u.jsx(sa,{children:u.jsx(Ya,{})}),u.jsxs(oa,{children:[u.jsx(Vt,{value:"manual",children:"Manual"}),u.jsx(Vt,{value:"auto",children:"Automatic"}),u.jsx(Vt,{value:"intelligent",children:"Intelligent"})]})]})]})]})]})})]})]})};function tWe(){var g,x,v;const[t,e]=S.useState([]),[n,r]=S.useState(null),[i,a]=S.useState(!1),[s,o]=S.useState(""),[l,c]=S.useState([]);S.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:b,error:y}=await De.from("campaigns").select("*").order("created_at",{ascending:!1});if(y)throw y;c(b||[]),b&&b.length>0&&o(b[0].id)}catch(b){console.error("Error loading campaigns:",b),Wl.error("Failed to load campaigns")}},f=async b=>{a(!0);try{const{data:y,error:w}=await De.functions.invoke("decision-engine",{body:{campaignId:b,action:"generate_strategy"}});if(w)throw w;if(y.success){const _=y.result;e(E=>[...E.filter(j=>j.campaignId!==b),_]),Wl.success("Strategy generated successfully")}}catch(y){console.error("Error generating strategy:",y),Wl.error("Failed to generate strategy")}finally{a(!1)}},h=async b=>{a(!0);try{const{data:y,error:w}=await De.functions.invoke("mcp-server",{body:{method:"tools/call",params:{name:"analyze_campaign_performance",arguments:{campaignId:b,timeframe:"30d"}}}});if(w)throw w;y.success&&(r(y.result),Wl.success("MCP analysis completed"))}catch(y){console.error("Error with MCP analysis:",y),Wl.error("Failed to analyze with MCP")}finally{a(!1)}},p=async b=>{a(!0);try{const{data:y,error:w}=await De.functions.invoke("mcp-server",{body:{method:"tools/call",params:{name:"optimize_candidate_targeting",arguments:{campaignId:b,criteria:{}}}}});if(w)throw w;y.success&&Wl.success("Targeting optimization completed")}catch(y){console.error("Error optimizing targeting:",y),Wl.error("Failed to optimize targeting")}finally{a(!1)}},m=t.find(b=>b.campaignId===s);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Decision Logic & MCP Server"}),u.jsx("p",{className:"text-muted-foreground",children:"AI-powered campaign optimization and intelligent decision making"})]}),u.jsx("div",{className:"flex gap-2",children:u.jsx("select",{value:s,onChange:b=>o(b.target.value),className:"px-3 py-2 border rounded-md bg-background",children:l.map(b=>u.jsx("option",{value:b.id,children:b.name},b.id))})})]}),u.jsxs(su,{defaultValue:"strategy",className:"w-full",children:[u.jsxs(Bl,{className:"grid w-full grid-cols-3",children:[u.jsxs(mt,{value:"strategy",className:"flex items-center gap-2",children:[u.jsx(Gp,{className:"h-4 w-4"}),"Strategy Engine"]}),u.jsxs(mt,{value:"mcp",className:"flex items-center gap-2",children:[u.jsx(Zs,{className:"h-4 w-4"}),"MCP Analysis"]}),u.jsxs(mt,{value:"optimization",className:"flex items-center gap-2",children:[u.jsx(Ir,{className:"h-4 w-4"}),"Optimization"]})]}),u.jsx(gt,{value:"strategy",className:"space-y-4",children:u.jsxs(ne,{children:[u.jsxs(et,{children:[u.jsxs(tt,{className:"flex items-center gap-2",children:[u.jsx(Lr,{className:"h-5 w-5"}),"Campaign Strategy Generator"]}),u.jsx(Ga,{children:"Generate intelligent campaign strategies using decision logic engine"})]}),u.jsxs(Fe,{className:"space-y-4",children:[u.jsx("div",{className:"flex gap-2",children:u.jsx(se,{onClick:()=>s&&f(s),disabled:i||!s,children:i?"Generating...":"Generate Strategy"})}),m&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsx(ne,{children:u.jsxs(Fe,{className:"pt-4",children:[u.jsx("div",{className:"text-2xl font-bold",children:m.totalCandidates}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Candidates"})]})}),u.jsx(ne,{children:u.jsxs(Fe,{className:"pt-4",children:[u.jsx("div",{className:"text-2xl font-bold",children:((g=m.effectiveness)==null?void 0:g.expectedConversions)||0}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected Conversions"})]})}),u.jsx(ne,{children:u.jsxs(Fe,{className:"pt-4",children:[u.jsx("div",{className:"text-2xl font-bold",children:((x=m.effectiveness)==null?void 0:x.efficiency)||"N/A"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Efficiency Rating"})]})})]}),u.jsxs(ne,{children:[u.jsx(et,{children:u.jsx(tt,{children:"Channel Priority"})}),u.jsx(Fe,{children:u.jsx("div",{className:"flex gap-2",children:m.channelPriority.map((b,y)=>u.jsxs(vn,{variant:y===0?"default":"secondary",children:["#",y+1," ",b]},b))})})]}),u.jsxs(ne,{children:[u.jsx(et,{children:u.jsx(tt,{children:"Timeline Phases"})}),u.jsx(Fe,{className:"space-y-3",children:Object.entries(((v=m.estimatedTimeline)==null?void 0:v.phases)||{}).map(([b,y])=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"capitalize",children:b}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ki,{value:y/m.totalCandidates*100,className:"w-24"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:y})]})]},b))})]})]})]})]})}),u.jsx(gt,{value:"mcp",className:"space-y-4",children:u.jsxs(ne,{children:[u.jsxs(et,{children:[u.jsxs(tt,{className:"flex items-center gap-2",children:[u.jsx(Zs,{className:"h-5 w-5"}),"MCP Server Analysis"]}),u.jsx(Ga,{children:"Model Context Protocol powered intelligent analysis"})]}),u.jsxs(Fe,{className:"space-y-4",children:[u.jsx(se,{onClick:()=>s&&h(s),disabled:i||!s,children:i?"Analyzing...":"Run MCP Analysis"}),n&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs(ne,{children:[u.jsx(et,{children:u.jsx(tt,{children:"Performance Metrics"})}),u.jsx(Fe,{className:"space-y-3",children:n.performance&&Object.entries(n.performance).map(([b,y])=>u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"capitalize",children:b.replace(/([A-Z])/g," $1").trim()}),u.jsx(vn,{variant:"outline",children:typeof y=="number"?`${(y*100).toFixed(1)}%`:String(y)})]},b))})]}),u.jsxs(ne,{children:[u.jsx(et,{children:u.jsx(tt,{children:"AI Insights"})}),u.jsx(Fe,{children:u.jsx("ul",{className:"space-y-2",children:n.insights.map((b,y)=>u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(hl,{className:"h-4 w-4 mt-1 text-primary"}),u.jsx("span",{className:"text-sm",children:b})]},y))})})]}),u.jsxs(ne,{children:[u.jsx(et,{children:u.jsx(tt,{children:"Recommendations"})}),u.jsx(Fe,{children:u.jsx("ul",{className:"space-y-2",children:n.recommendations.map((b,y)=>u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(NB,{className:"h-4 w-4 mt-1 text-orange-500"}),u.jsx("span",{className:"text-sm",children:b})]},y))})})]})]})]})]})}),u.jsx(gt,{value:"optimization",className:"space-y-4",children:u.jsxs(ne,{children:[u.jsxs(et,{children:[u.jsxs(tt,{className:"flex items-center gap-2",children:[u.jsx(ng,{className:"h-5 w-5"}),"Campaign Optimization"]}),u.jsx(Ga,{children:"Optimize targeting and communication strategies"})]}),u.jsxs(Fe,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(se,{onClick:()=>s&&p(s),disabled:i||!s,variant:"outline",children:"Optimize Targeting"}),u.jsx(se,{onClick:()=>s&&f(s),disabled:i||!s,variant:"outline",children:"Generate Communication Strategy"})]}),u.jsxs(ne,{children:[u.jsx(et,{children:u.jsx(tt,{className:"text-lg",children:"Decision Rules"})}),u.jsx(Fe,{className:"space-y-3",children:u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"Email First Priority"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Send email to candidates with email addresses"})]}),u.jsx(Qr,{defaultChecked:!0})]}),u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"Voice Follow-up"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Call candidates who don't open emails within 2 days"})]}),u.jsx(Qr,{defaultChecked:!0})]}),u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"WhatsApp Engagement"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Send WhatsApp to engaged candidates"})]}),u.jsx(Qr,{defaultChecked:!0})]}),u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"High Priority Blast"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Multi-channel approach for high-priority candidates"})]}),u.jsx(Qr,{defaultChecked:!0})]})]})})]})]})]})})]})]})}const nWe=eg("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Du=S.forwardRef(({className:t,variant:e,...n},r)=>u.jsx("div",{ref:r,role:"alert",className:we(nWe({variant:e}),t),...n}));Du.displayName="Alert";const rWe=S.forwardRef(({className:t,...e},n)=>u.jsx("h5",{ref:n,className:we("mb-1 font-medium leading-none tracking-tight",t),...e}));rWe.displayName="AlertTitle";const Lu=S.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:we("text-sm [&_p]:leading-relaxed",t),...e}));Lu.displayName="AlertDescription";const iWe=()=>{const[t,e]=S.useState({cpuUsage:45,memoryUsage:62,apiResponseTime:235,databaseConnections:12,cacheHitRate:85,activeUsers:147,throughput:324,errorRate:.8}),[n,r]=S.useState([{id:"query-caching",name:"Database Query Caching",description:"Cache frequently accessed database queries to reduce load",impact:"high",enabled:!0,lastApplied:"2024-01-10T10:30:00Z"},{id:"connection-pooling",name:"Connection Pooling",description:"Optimize database connection management",impact:"high",enabled:!0,lastApplied:"2024-01-10T09:15:00Z"},{id:"batch-processing",name:"Batch Processing",description:"Group similar operations for better efficiency",impact:"medium",enabled:!0,lastApplied:"2024-01-10T08:45:00Z"},{id:"cdn-optimization",name:"CDN Optimization",description:"Optimize content delivery network usage",impact:"medium",enabled:!1,lastApplied:"2024-01-09T16:20:00Z"}]),[i,a]=S.useState(!1);S.useEffect(()=>{const f=setInterval(()=>{e(h=>({cpuUsage:Math.max(0,Math.min(100,h.cpuUsage+(Math.random()-.5)*10)),memoryUsage:Math.max(0,Math.min(100,h.memoryUsage+(Math.random()-.5)*8)),apiResponseTime:Math.max(50,h.apiResponseTime+(Math.random()-.5)*50),databaseConnections:Math.max(0,Math.min(50,h.databaseConnections+Math.floor((Math.random()-.5)*5))),cacheHitRate:Math.max(0,Math.min(100,h.cacheHitRate+(Math.random()-.5)*5)),activeUsers:Math.max(0,h.activeUsers+Math.floor((Math.random()-.5)*10)),throughput:Math.max(0,h.throughput+(Math.random()-.5)*100),errorRate:Math.max(0,Math.min(10,h.errorRate+(Math.random()-.5)*.5))}))},2e3);return()=>clearInterval(f)},[]);const s=S.useCallback(f=>{r(h=>h.map(p=>p.id===f?{...p,enabled:!p.enabled,lastApplied:new Date().toISOString()}:p))},[]),o=S.useCallback(async()=>{a(!0),await new Promise(f=>setTimeout(f,3e3)),e(f=>({...f,cpuUsage:Math.max(20,f.cpuUsage*.8),memoryUsage:Math.max(30,f.memoryUsage*.9),apiResponseTime:Math.max(100,f.apiResponseTime*.7),cacheHitRate:Math.min(100,f.cacheHitRate*1.1),errorRate:f.errorRate*.5})),a(!1)},[]),l=S.useMemo(()=>{const f=[100-t.cpuUsage,100-t.memoryUsage,Math.max(0,100-(t.apiResponseTime-100)/10),t.cacheHitRate,Math.max(0,100-t.errorRate*10)];return Math.round(f.reduce((h,p)=>h+p)/f.length)},[t]),c=f=>f>=80?"text-green-600":f>=60?"text-yellow-600":"text-red-600",d=f=>{switch(f){case"high":return"destructive";case"medium":return"secondary";case"low":return"outline";default:return"outline"}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-bold",children:"Performance Optimization"}),u.jsx("p",{className:"text-muted-foreground",children:"Monitor and optimize system performance"})]}),u.jsxs(se,{onClick:o,disabled:i,className:"gap-2",children:[i?u.jsx(ml,{className:"h-4 w-4 animate-spin"}):u.jsx(Lr,{className:"h-4 w-4"}),i?"Optimizing...":"Run Optimization"]})]}),u.jsxs(ne,{children:[u.jsx(et,{children:u.jsxs(tt,{className:"flex items-center gap-2",children:[u.jsx(Ir,{className:"h-5 w-5"}),"Overall Performance Score"]})}),u.jsx(Fe,{children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:`text-4xl font-bold ${c(l)}`,children:[l,"%"]}),u.jsx(ki,{value:l,className:"flex-1"}),u.jsx(vn,{variant:l>=80?"default":l>=60?"secondary":"destructive",children:l>=80?"Excellent":l>=60?"Good":"Needs Attention"})]})})]}),u.jsxs(su,{defaultValue:"metrics",className:"space-y-4",children:[u.jsxs(Bl,{children:[u.jsx(mt,{value:"metrics",children:"Real-time Metrics"}),u.jsx(mt,{value:"optimizations",children:"Optimization Rules"}),u.jsx(mt,{value:"alerts",children:"Performance Alerts"})]}),u.jsx(gt,{value:"metrics",className:"space-y-4",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs(ne,{children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:"CPU Usage"}),u.jsx(Mee,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Fe,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.cpuUsage.toFixed(1),"%"]}),u.jsx(ki,{value:t.cpuUsage,className:"mt-2"})]})]}),u.jsxs(ne,{children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:"Memory Usage"}),u.jsx(Uee,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Fe,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.memoryUsage.toFixed(1),"%"]}),u.jsx(ki,{value:t.memoryUsage,className:"mt-2"})]})]}),u.jsxs(ne,{children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:"API Response"}),u.jsx(pl,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Fe,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.apiResponseTime.toFixed(0),"ms"]}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Average response time"})]})]}),u.jsxs(ne,{children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:"Cache Hit Rate"}),u.jsx(fd,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Fe,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.cacheHitRate.toFixed(1),"%"]}),u.jsx(ki,{value:t.cacheHitRate,className:"mt-2"})]})]}),u.jsxs(ne,{children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:"Active Users"}),u.jsx(Ls,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Fe,{children:[u.jsx("div",{className:"text-2xl font-bold",children:t.activeUsers}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Currently online"})]})]}),u.jsxs(ne,{children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:"Throughput"}),u.jsx(hl,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Fe,{children:[u.jsx("div",{className:"text-2xl font-bold",children:t.throughput.toFixed(0)}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Requests per minute"})]})]}),u.jsxs(ne,{children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:"DB Connections"}),u.jsx(fd,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Fe,{children:[u.jsx("div",{className:"text-2xl font-bold",children:t.databaseConnections}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Active connections"})]})]}),u.jsxs(ne,{children:[u.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(tt,{className:"text-sm font-medium",children:"Error Rate"}),u.jsx(pE,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Fe,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.errorRate.toFixed(2),"%"]}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Error percentage"})]})]})]})}),u.jsx(gt,{value:"optimizations",className:"space-y-4",children:u.jsx("div",{className:"grid gap-4",children:n.map(f=>u.jsxs(ne,{children:[u.jsx(et,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(tt,{className:"text-lg",children:f.name}),u.jsx(Ga,{children:f.description})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(vn,{variant:d(f.impact),children:[f.impact," impact"]}),u.jsx(se,{size:"sm",variant:f.enabled?"default":"outline",onClick:()=>s(f.id),children:f.enabled?"Enabled":"Disabled"})]})]})}),u.jsx(Fe,{children:u.jsxs("div",{className:"text-sm text-muted-foreground",children:["Last applied: ",new Date(f.lastApplied).toLocaleString()]})})]},f.id))})}),u.jsx(gt,{value:"alerts",className:"space-y-4",children:u.jsxs("div",{className:"space-y-4",children:[t.cpuUsage>80&&u.jsxs(Du,{children:[u.jsx(Ls,{className:"h-4 w-4"}),u.jsxs(Lu,{children:["High CPU usage detected (",t.cpuUsage.toFixed(1),"%). Consider enabling CPU optimization rules."]})]}),t.apiResponseTime>500&&u.jsxs(Du,{children:[u.jsx(pl,{className:"h-4 w-4"}),u.jsxs(Lu,{children:["API response time is above threshold (",t.apiResponseTime.toFixed(0),"ms). Enable caching optimizations."]})]}),t.cacheHitRate<70&&u.jsxs(Du,{children:[u.jsx(fd,{className:"h-4 w-4"}),u.jsxs(Lu,{children:["Low cache hit rate (",t.cacheHitRate.toFixed(1),"%). Review caching strategy."]})]}),t.errorRate>2&&u.jsxs(Du,{children:[u.jsx(pE,{className:"h-4 w-4"}),u.jsxs(Lu,{children:["High error rate detected (",t.errorRate.toFixed(2),"%). Check system logs for issues."]})]}),t.cpuUsage<=80&&t.apiResponseTime<=500&&t.cacheHitRate>=70&&t.errorRate<=2&&u.jsxs(Du,{children:[u.jsx(Ir,{className:"h-4 w-4"}),u.jsx(Lu,{children:"All systems operating within normal parameters. No alerts at this time."})]})]})})]})]})},aWe=({agentId:t="agent_0b0a29061f41517a382a32035e"})=>{const{toast:e}=Ht(),n=S.useRef(null),[r,i]=S.useState(""),[a,s]=S.useState(""),[o,l]=S.useState(null),[c,d]=S.useState(""),[f,h]=S.useState(!1),[p,m]=S.useState(!1),g=async v=>{var y;const b=(y=v.target.files)==null?void 0:y[0];if(b){l(b),h(!0);try{const w=new FileReader;w.onload=async _=>{var A;const E=(A=_.target)==null?void 0:A.result;b.type==="text/plain"||b.name.endsWith(".txt")?d(E):d(`Document: ${b.name} (${b.type})`),e({title:"Document uploaded",description:`${b.name} has been processed for the call context.`})},b.type==="text/plain"||b.name.endsWith(".txt")?w.readAsText(b):w.readAsDataURL(b)}catch(w){console.error("Error processing file:",w),e({title:"Upload failed",description:"Failed to process the uploaded document.",variant:"destructive"})}finally{h(!1)}}},x=async()=>{if(!r){e({title:"Phone number required",description:"Please enter a phone number to call.",variant:"destructive"});return}m(!0);try{const{data:v,error:b}=await De.functions.invoke("retell-agent",{body:{phone_number:r,agent_id:t,context:a,document_content:c}});if(b)throw b;if(v.success)e({title:"Call initiated",description:`Call to ${r} has been started successfully.`}),i(""),s(""),l(null),d(""),n.current&&(n.current.value="");else throw new Error(v.error||"Failed to initiate call")}catch(v){console.error("Error initiating call:",v),e({title:"Call failed",description:v instanceof Error?v.message:"Failed to initiate the call.",variant:"destructive"})}finally{m(!1)}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs(ne,{children:[u.jsx(et,{children:u.jsxs(tt,{className:"flex items-center gap-2",children:[u.jsx(ua,{className:"h-5 w-5"}),"Retell.ai Agent Panel"]})}),u.jsxs(Fe,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"phone",children:"Phone Number"}),u.jsx(zt,{id:"phone",type:"tel",placeholder:"+1234567890",value:r,onChange:v=>i(v.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"agent",children:"Agent ID"}),u.jsx(zt,{id:"agent",value:t,disabled:!0,className:"bg-muted"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"context",children:"Call Context"}),u.jsx(au,{id:"context",placeholder:"Enter context or talking points for the call...",value:a,onChange:v=>s(v.target.value),rows:3})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ge,{htmlFor:"document",children:"Upload Document (Optional)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(se,{variant:"outline",onClick:()=>{var v;return(v=n.current)==null?void 0:v.click()},disabled:f,children:[f?u.jsx(OI,{className:"h-4 w-4 animate-spin mr-2"}):u.jsx(kT,{className:"h-4 w-4 mr-2"}),"Upload Document"]}),o&&u.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[u.jsx(Ec,{className:"h-4 w-4"}),o.name]})]}),u.jsx("input",{ref:n,type:"file",onChange:g,accept:".txt,.pdf,.doc,.docx",className:"hidden"})]}),c&&u.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[u.jsx(Ge,{className:"text-sm font-medium",children:"Document Content Preview:"}),u.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[c.substring(0,200),c.length>200&&"..."]})]}),u.jsx(se,{onClick:x,disabled:p||!r,className:"w-full",children:p?u.jsxs(u.Fragment,{children:[u.jsx(OI,{className:"h-4 w-4 animate-spin mr-2"}),"Initiating Call..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Ea,{className:"h-4 w-4 mr-2"}),"Initiate Call"]})})]})]}),u.jsxs(ne,{children:[u.jsx(et,{children:u.jsx(tt,{children:"AI Analysis Integration"})}),u.jsxs(Fe,{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"The Retell.ai agent integrates with your existing AI analysis system to:"}),u.jsxs("ul",{className:"list-disc list-inside text-sm text-muted-foreground mt-2 space-y-1",children:[u.jsx("li",{children:"Analyze uploaded documents for call context"}),u.jsx("li",{children:"Generate intelligent talking points"}),u.jsx("li",{children:"Track call performance and outcomes"}),u.jsx("li",{children:"Integrate with campaign analytics"})]})]})]})]})},sWe=()=>{var x;const t=hi(),{user:e,signOut:n}=er(),{toast:r}=Ht(),[i,a]=S.useState(null),[s,o]=S.useState(!1),[l,c]=S.useState(!1),[d,f]=S.useState([]),[h,p]=S.useState({totalCampaigns:0,messagesSent:0,callsMade:0,responseRate:0});S.useEffect(()=>{m()},[e]);const m=async()=>{if(e)try{const{data:v,error:b}=await De.from("campaigns").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(b)throw b;f(v||[]);const y=(v==null?void 0:v.length)||0,w=(v==null?void 0:v.reduce((k,C)=>k+(C.messages_sent||0),0))||0,_=(v==null?void 0:v.reduce((k,C)=>k+(C.calls_made||0),0))||0,E=(v==null?void 0:v.reduce((k,C)=>k+(C.responses_received||0),0))||0,A=w+_,j=A>0?Math.round(E/A*100):0;p({totalCampaigns:y,messagesSent:w,callsMade:_,responseRate:j})}catch(v){console.error("Error loading dashboard data:",v),r({title:"Error loading data",description:"Failed to load dashboard data. Please refresh the page.",variant:"destructive"})}},g=async()=>{try{await n(),t("/")}catch(v){console.error("Error signing out:",v),r({title:"Sign out failed",description:"Please try again",variant:"destructive"})}};return u.jsxs("div",{className:"min-h-screen bg-ai-gradient-subtle",children:[u.jsx("div",{className:"bg-card/50 backdrop-blur-sm border-b border-border/50 sticky top-0 z-40",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-ai-gradient rounded-lg flex items-center justify-center",children:u.jsx(ua,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-lg font-semibold",children:"AdmitConnect AI"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Admin Dashboard"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(tp,{to:"/analytics",children:u.jsxs(se,{variant:"outline",size:"sm",children:[u.jsx(hl,{className:"w-4 h-4 mr-2"}),"Analytics"]})}),u.jsxs(se,{variant:"outline",size:"sm",onClick:()=>c(!0),children:[u.jsx(Ir,{className:"w-4 h-4 mr-2"}),"Upgrade"]}),u.jsx(se,{variant:"ghost",size:"sm",onClick:()=>o(!0),children:u.jsx(ng,{className:"w-4 h-4"})}),u.jsx(se,{variant:"ghost",size:"sm",onClick:g,children:u.jsx(ST,{className:"w-4 h-4"})})]})]})})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Admin Control Center "}),u.jsx("p",{className:"text-muted-foreground",children:"Manage campaigns, candidate data, and system configurations."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[u.jsx(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Ec,{className:"w-5 h-5 text-blue-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Campaigns"}),u.jsx("p",{className:"text-2xl font-bold",children:h.totalCampaigns})]})]})}),u.jsx(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:u.jsx(li,{className:"w-5 h-5 text-green-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Messages Sent"}),u.jsx("p",{className:"text-2xl font-bold",children:h.messagesSent})]})]})}),u.jsx(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Ea,{className:"w-5 h-5 text-purple-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Calls Made"}),u.jsx("p",{className:"text-2xl font-bold",children:h.callsMade})]})]})}),u.jsx(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-orange-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Ir,{className:"w-5 h-5 text-orange-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Response Rate"}),u.jsxs("p",{className:"text-2xl font-bold",children:[h.responseRate,"%"]})]})]})})]}),u.jsxs(su,{defaultValue:"campaigns",className:"space-y-6",children:[u.jsxs(Bl,{className:"grid w-full grid-cols-7",children:[u.jsx(mt,{value:"campaigns",children:"Campaigns"}),u.jsx(mt,{value:"data",children:"Candidate Data"}),u.jsx(mt,{value:"agents",children:"Agent Control"}),u.jsx(mt,{value:"decision",children:"Decision Logic"}),u.jsx(mt,{value:"performance",children:"Performance"}),u.jsx(mt,{value:"retell",children:"Retell AI"}),u.jsx(mt,{value:"automation",children:"Automation"}),u.jsx(mt,{value:"notifications",children:"Notifications"})]}),u.jsxs(gt,{value:"campaigns",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Campaign Management"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(se,{onClick:()=>a("create-campaign"),variant:"hero",children:[u.jsx(rp,{className:"w-4 h-4 mr-2"}),"New Campaign"]}),d.length>0&&u.jsxs(se,{onClick:()=>a("execute-campaign"),variant:"outline",children:[u.jsx(Fs,{className:"w-4 h-4 mr-2"}),"Execute"]})]})]}),d.length===0?u.jsxs(ne,{className:"p-8 text-center bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx(Ec,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No campaigns yet"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first campaign to start reaching prospective students."}),u.jsx(se,{onClick:()=>a("create-campaign"),variant:"hero",children:"Create Your First Campaign"})]}):u.jsx("div",{className:"grid grid-cols-1 gap-4",children:d.map(v=>u.jsx(Lj,{campaign:v,onUpdate:m},v.id))})]}),u.jsx(gt,{value:"data",className:"space-y-6",children:u.jsx(Q7e,{})}),u.jsx(gt,{value:"agents",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Enhanced Agent Control"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Advanced multi-agent coordination and intelligent execution"})]}),u.jsx(eWe,{})]})}),u.jsx(gt,{value:"decision",children:u.jsx(tWe,{})}),u.jsx(gt,{value:"performance",children:u.jsx(iWe,{})}),u.jsx(gt,{value:"retell",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Retell.ai Agent Integration"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"AI-powered voice calls with document analysis"})]}),u.jsx(aWe,{})]})}),u.jsx(gt,{value:"automation",children:u.jsx(UK,{})}),u.jsx(gt,{value:"notifications",children:u.jsx(HK,{})})]})]}),u.jsx(ii,{open:i==="create-campaign",onOpenChange:v=>!v&&a(null),children:u.jsxs(Rr,{className:"max-w-2xl",children:[u.jsx(Mr,{children:u.jsx(Dr,{children:"Create New Campaign"})}),u.jsx(RV,{onCampaignCreated:()=>{a(null),m()}})]})}),u.jsx(ii,{open:i==="upload-candidates",onOpenChange:v=>!v&&a(null),children:u.jsxs(Rr,{className:"max-w-2xl",children:[u.jsx(Mr,{children:u.jsx(Dr,{children:"Upload Candidates"})}),u.jsx($V,{campaignId:(x=d[0])==null?void 0:x.id,onUploadComplete:()=>{a(null),m()}})]})}),u.jsx(ii,{open:i==="execute-campaign",onOpenChange:v=>!v&&a(null),children:u.jsxs(Rr,{className:"max-w-2xl",children:[u.jsx(Mr,{children:u.jsx(Dr,{children:"Execute Campaign"})}),d.length>0&&u.jsx(XK,{campaign:d[0],onExecutionComplete:()=>{a(null),m(),r({title:"Campaign Executed",description:"Your campaign is now running across selected channels"})}})]})}),u.jsx(_O,{open:s,onOpenChange:o}),u.jsx(IO,{open:l,onOpenChange:c})]})},oWe=()=>{const[t,e]=S.useState([]),[n,r]=S.useState([]),[i,a]=S.useState([]),[s,o]=S.useState(!0),[l,c]=S.useState("7d"),{toast:d}=Ht();S.useEffect(()=>{f()},[l]);const f=async()=>{o(!0);try{const E=h(l),{data:A,error:j}=await De.from("campaign_analytics").select(`
          *,
          campaigns (name)
        `).gte("timestamp",E.toISOString()).order("timestamp",{ascending:!1});if(j)throw j;const k=p(A||[]);e(k);const C=m(A||[]);r(C);const T=g(A||[]);a(T)}catch(E){console.error("Error fetching analytics:",E),d({title:"Error",description:"Failed to load analytics data",variant:"destructive"})}finally{o(!1)}},h=E=>{const A=new Date;switch(E){case"24h":return new Date(A.getTime()-24*60*60*1e3);case"7d":return new Date(A.getTime()-7*24*60*60*1e3);case"30d":return new Date(A.getTime()-30*24*60*60*1e3);default:return new Date(A.getTime()-7*24*60*60*1e3)}},p=E=>{const A=E.reduce((j,k)=>{var T,O;const C=`${((T=k.campaigns)==null?void 0:T.name)||"Unknown"}-${k.event_type}-${k.channel}`;return j[C]||(j[C]={campaign_id:k.campaign_id,campaign_name:((O=k.campaigns)==null?void 0:O.name)||"Unknown",event_type:k.event_type,channel:k.channel,status:k.status,count:0,timestamp:k.timestamp}),j[C].count++,j},{});return Object.values(A)},m=E=>["email","voice","whatsapp"].map(j=>{const k=E.filter(F=>F.channel===j),C=k.filter(F=>F.event_type.includes("sent")||F.event_type.includes("initiated")).length,T=k.filter(F=>F.status==="success"&&F.event_type.includes("delivered")).length,O=k.filter(F=>F.event_type.includes("opened")||F.event_type.includes("answered")).length,L=k.filter(F=>F.event_type.includes("failed")||F.status==="failed").length,R=C>0?O/C*100:0;return{channel:j,sent:C,delivered:T,opened:O,failed:L,engagement_rate:Math.round(R*100)/100}}),g=E=>{const A=[],j=new Date;for(let k=6;k>=0;k--){const C=new Date(j.getTime()-k*24*60*60*1e3),T={date:C.toLocaleDateString(),email:0,voice:0,whatsapp:0};E.forEach(O=>{new Date(O.timestamp).toDateString()===C.toDateString()&&O.status==="success"&&(O.channel==="email"&&T.email++,O.channel==="voice"&&T.voice++,O.channel==="whatsapp"&&T.whatsapp++)}),A.push(T)}return A},x=async()=>{try{const E=v(),A=new Blob([E],{type:"text/csv"}),j=window.URL.createObjectURL(A),k=document.createElement("a");k.href=j,k.download=`agent-analytics-${l}-${new Date().toISOString().split("T")[0]}.csv`,k.click(),window.URL.revokeObjectURL(j),d({title:"Success",description:"Analytics report exported successfully"})}catch{d({title:"Error",description:"Failed to export report",variant:"destructive"})}},v=()=>{const E=["Campaign","Channel","Event Type","Status","Count","Timestamp"],A=t.map(j=>[j.campaign_name,j.channel,j.event_type,j.status,j.count,j.timestamp]);return[E,...A].map(j=>j.join(",")).join(`
`)},b=["#8884d8","#82ca9d","#ffc658","#ff7300"],y=n.reduce((E,A)=>E+A.opened,0),w=n.reduce((E,A)=>E+A.sent,0),_=w>0?y/w*100:0;return s?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx(ml,{className:"h-8 w-8 animate-spin"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Agent Analytics Dashboard"}),u.jsx("p",{className:"text-muted-foreground",children:"Track engagement across all channels"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("select",{className:"rounded-md border border-input bg-background px-3 py-2",value:l,onChange:E=>c(E.target.value),children:[u.jsx("option",{value:"24h",children:"Last 24 Hours"}),u.jsx("option",{value:"7d",children:"Last 7 Days"}),u.jsx("option",{value:"30d",children:"Last 30 Days"})]}),u.jsxs(se,{onClick:f,variant:"outline",size:"sm",children:[u.jsx(ml,{className:"h-4 w-4 mr-2"}),"Refresh"]}),u.jsxs(se,{onClick:x,variant:"outline",size:"sm",children:[u.jsx(_T,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsx(ne,{children:u.jsxs(Fe,{className:"flex items-center justify-between p-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Sent"}),u.jsx("p",{className:"text-2xl font-bold",children:w})]}),u.jsx(li,{className:"h-8 w-8 text-muted-foreground"})]})}),u.jsx(ne,{children:u.jsxs(Fe,{className:"flex items-center justify-between p-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Engagement"}),u.jsx("p",{className:"text-2xl font-bold",children:y})]}),u.jsx(Ir,{className:"h-8 w-8 text-muted-foreground"})]})}),u.jsx(ne,{children:u.jsxs(Fe,{className:"flex items-center justify-between p-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Engagement Rate"}),u.jsxs("p",{className:"text-2xl font-bold",children:[_.toFixed(1),"%"]})]}),u.jsx(ms,{className:"h-8 w-8 text-muted-foreground"})]})}),u.jsx(ne,{children:u.jsxs(Fe,{className:"flex items-center justify-between p-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Channels"}),u.jsx("p",{className:"text-2xl font-bold",children:n.filter(E=>E.sent>0).length})]}),u.jsx(ti,{className:"h-8 w-8 text-muted-foreground"})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(ne,{children:[u.jsxs(et,{children:[u.jsx(tt,{children:"Channel Performance"}),u.jsx(Ga,{children:"Messages sent and engagement by channel"})]}),u.jsx(Fe,{children:u.jsx(gp,{width:"100%",height:300,children:u.jsxs(U7e,{data:n,children:[u.jsx(Sx,{strokeDasharray:"3 3"}),u.jsx(Al,{dataKey:"channel"}),u.jsx(kl,{}),u.jsx(wr,{}),u.jsx(ol,{}),u.jsx(qs,{dataKey:"sent",fill:"#8884d8",name:"Sent"}),u.jsx(qs,{dataKey:"opened",fill:"#82ca9d",name:"Engaged"}),u.jsx(qs,{dataKey:"failed",fill:"#ff7300",name:"Failed"})]})})})]}),u.jsxs(ne,{children:[u.jsxs(et,{children:[u.jsx(tt,{children:"Channel Distribution"}),u.jsx(Ga,{children:"Share of total messages by channel"})]}),u.jsx(Fe,{children:u.jsx(gp,{width:"100%",height:300,children:u.jsxs(BK,{children:[u.jsx(bs,{data:n.filter(E=>E.sent>0),cx:"50%",cy:"50%",labelLine:!1,label:({channel:E,sent:A})=>`${E}: ${A}`,outerRadius:80,fill:"#8884d8",dataKey:"sent",children:n.map((E,A)=>u.jsx(Tg,{fill:b[A%b.length]},`cell-${A}`))}),u.jsx(wr,{})]})})})]})]}),u.jsxs(ne,{children:[u.jsxs(et,{children:[u.jsx(tt,{children:"Engagement Trends"}),u.jsx(Ga,{children:"Daily engagement across all channels"})]}),u.jsx(Fe,{children:u.jsx(gp,{width:"100%",height:300,children:u.jsxs(z7e,{data:i,children:[u.jsx(Sx,{strokeDasharray:"3 3"}),u.jsx(Al,{dataKey:"date"}),u.jsx(kl,{}),u.jsx(wr,{}),u.jsx(ol,{}),u.jsx(Nc,{type:"monotone",dataKey:"email",stroke:"#8884d8",strokeWidth:2}),u.jsx(Nc,{type:"monotone",dataKey:"voice",stroke:"#82ca9d",strokeWidth:2}),u.jsx(Nc,{type:"monotone",dataKey:"whatsapp",stroke:"#ffc658",strokeWidth:2})]})})})]}),u.jsxs(ne,{children:[u.jsxs(et,{children:[u.jsx(tt,{children:"Channel Details"}),u.jsx(Ga,{children:"Detailed performance metrics by channel"})]}),u.jsx(Fe,{children:u.jsx("div",{className:"space-y-4",children:n.map(E=>{const A=E.channel==="email"?ti:E.channel==="voice"?Ea:li;return u.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(A,{className:"h-5 w-5"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium capitalize",children:E.channel}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[E.sent," sent, ",E.opened," engaged"]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs(vn,{variant:E.engagement_rate>10?"default":"secondary",children:[E.engagement_rate,"% engagement"]}),E.failed>0&&u.jsxs("p",{className:"text-sm text-red-600 mt-1",children:[E.failed," failed"]})]})]},E.channel)})})})]})]})},lWe=()=>{const t=hi(),{user:e,signOut:n}=er(),{toast:r}=Ht(),[i,a]=S.useState(!1),[s,o]=S.useState(!1),l=async()=>{try{await n(),t("/")}catch(c){console.error("Error signing out:",c),r({title:"Sign out failed",description:"Please try again",variant:"destructive"})}};return u.jsxs("div",{className:"min-h-screen bg-ai-gradient-subtle",children:[u.jsx("div",{className:"bg-card/50 backdrop-blur-sm border-b border-border/50 sticky top-0 z-40",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-ai-gradient rounded-lg flex items-center justify-center",children:u.jsx(ua,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-lg font-semibold",children:"AdmitConnect AI"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Analytics Dashboard"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(tp,{to:"/admin",children:u.jsxs(se,{variant:"outline",size:"sm",children:[u.jsx(ms,{className:"w-4 h-4 mr-2"}),"Admin"]})}),u.jsxs(se,{variant:"outline",size:"sm",onClick:()=>o(!0),children:[u.jsx(Ir,{className:"w-4 h-4 mr-2"}),"Upgrade"]}),u.jsx(se,{variant:"ghost",size:"sm",onClick:()=>a(!0),children:u.jsx(ng,{className:"w-4 h-4"})}),u.jsx(se,{variant:"ghost",size:"sm",onClick:l,children:u.jsx(ST,{className:"w-4 h-4"})})]})]})})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Analytics & Intelligence Center "}),u.jsx("p",{className:"text-muted-foreground",children:"Deep insights into campaign performance, agent analytics, and AI-driven intelligence."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[u.jsx(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:u.jsx(hl,{className:"w-5 h-5 text-blue-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Campaign Analytics"}),u.jsx("p",{className:"text-lg font-semibold",children:"Performance Tracking"})]})]})}),u.jsx(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Ls,{className:"w-5 h-5 text-green-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Agent Analytics"}),u.jsx("p",{className:"text-lg font-semibold",children:"Channel Performance"})]})]})}),u.jsx(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Zs,{className:"w-5 h-5 text-purple-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"AI Intelligence"}),u.jsx("p",{className:"text-lg font-semibold",children:"LLM & Agentic RAG"})]})]})}),u.jsx(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-orange-500/10 rounded-lg flex items-center justify-center",children:u.jsx(fd,{className:"w-5 h-5 text-orange-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Data Distribution"}),u.jsx("p",{className:"text-lg font-semibold",children:"Layer Analytics"})]})]})})]}),u.jsxs(su,{defaultValue:"campaigns",className:"space-y-6",children:[u.jsxs(Bl,{className:"grid w-full grid-cols-4",children:[u.jsx(mt,{value:"campaigns",children:"Campaign Analytics"}),u.jsx(mt,{value:"agents",children:"Agent Performance"}),u.jsx(mt,{value:"intelligence",children:"AI Intelligence"}),u.jsx(mt,{value:"realtime",children:"Real-time Monitoring"})]}),u.jsxs(gt,{value:"campaigns",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Campaign Performance Analytics"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Comprehensive campaign metrics and insights"})]}),u.jsx(zK,{})]}),u.jsxs(gt,{value:"agents",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Agent Performance Dashboard"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Multi-channel agent analytics and performance metrics"})]}),u.jsx(oWe,{})]}),u.jsxs(gt,{value:"intelligence",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"AI Intelligence Center"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"LLM performance, Agentic RAG insights, and AI decision logic"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Zs,{className:"w-6 h-6 text-purple-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"LLM Performance"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Response Quality"}),u.jsx("span",{className:"font-semibold",children:"94.2%"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Average Response Time"}),u.jsx("span",{className:"font-semibold",children:"1.8s"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Context Retention"}),u.jsx("span",{className:"font-semibold",children:"98.7%"})]})]})]}),u.jsxs(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Lr,{className:"w-6 h-6 text-orange-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"Agentic RAG"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Knowledge Retrieval"}),u.jsx("span",{className:"font-semibold",children:"96.8%"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Context Relevance"}),u.jsx("span",{className:"font-semibold",children:"92.4%"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Decision Accuracy"}),u.jsx("span",{className:"font-semibold",children:"89.6%"})]})]})]})]}),u.jsxs(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(fd,{className:"w-6 h-6 text-blue-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"Decision Logic & MCP Server"})]}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Intelligent routing and decision-making for automated campaigns and agent coordination."}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[u.jsx(Ls,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),u.jsx("p",{className:"font-semibold",children:"Active Decisions"}),u.jsx("p",{className:"text-2xl font-bold text-green-500",children:"1,247"})]}),u.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[u.jsx(Ir,{className:"w-8 h-8 text-blue-500 mx-auto mb-2"}),u.jsx("p",{className:"font-semibold",children:"Success Rate"}),u.jsx("p",{className:"text-2xl font-bold text-blue-500",children:"94.2%"})]}),u.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[u.jsx(Lr,{className:"w-8 h-8 text-purple-500 mx-auto mb-2"}),u.jsx("p",{className:"font-semibold",children:"Avg Process Time"}),u.jsx("p",{className:"text-2xl font-bold text-purple-500",children:"0.3s"})]})]})]})]}),u.jsxs(gt,{value:"realtime",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Real-time System Monitoring"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Live system performance and agent activity"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Ls,{className:"w-6 h-6 text-green-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"System Health"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Email Agent"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"Online"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Voice Agent"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"Online"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Messaging Agent"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"Online"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"AI Chatbot"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"Online"})]})]})]}),u.jsxs(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(hl,{className:"w-6 h-6 text-blue-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"Live Metrics"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Active Campaigns"}),u.jsx("span",{className:"text-blue-500 text-sm font-semibold",children:"7"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Messages Queued"}),u.jsx("span",{className:"text-orange-500 text-sm font-semibold",children:"23"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Processing Time"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"0.8s"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Success Rate"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"96.2%"})]})]})]}),u.jsxs(ne,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Ir,{className:"w-6 h-6 text-purple-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"Recent Activity"})]}),u.jsxs("div",{className:"space-y-3 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Campaign started"}),u.jsx("span",{className:"text-muted-foreground",children:"2m ago"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"23 emails sent"}),u.jsx("span",{className:"text-muted-foreground",children:"5m ago"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Voice calls completed"}),u.jsx("span",{className:"text-muted-foreground",children:"8m ago"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Data sync completed"}),u.jsx("span",{className:"text-muted-foreground",children:"12m ago"})]})]})]})]})]})]})]}),u.jsx(_O,{open:i,onOpenChange:a}),u.jsx(IO,{open:s,onOpenChange:o})]})},cWe=()=>{const[t,e]=S.useState(""),[n,r]=S.useState(""),[i,a]=S.useState(!1),[s,o]=S.useState(!1),[l,c]=S.useState({}),[d,f]=S.useState({}),h=hi(),{toast:p}=Ht(),[m]=KF(),g=m.get("token"),x=m.get("token_hash");m.get("type");const v=m.get("email"),[b,y]=S.useState(!!g||!!x),[w,_]=S.useState(!1);S.useEffect(()=>{g||x||De.auth.getSession().then(({data:{session:C}})=>{C||(p({title:"Invalid or expired reset link",description:"Please request a new password reset link.",variant:"destructive"}),h("/auth"))})},[h,p,g,x]);const E=async()=>{if(!(!g&&!x||!v)){_(!0),console.log("Verifying Identity with:",{token:g,tokenHash:x,email:v,type:"recovery"});try{let C;const T=x||(g&&g.length>20?g:null);if(T?(console.log("Using token_hash flow (detected hash)"),C=(await De.auth.verifyOtp({token_hash:T,type:"recovery"})).error,C&&!x&&g&&(console.log("token_hash failed, retrying with standard token..."),(await De.auth.verifyOtp({token:g,type:"recovery",email:v})).error||(C=null))):(console.log("Using standard token flow"),C=(await De.auth.verifyOtp({token:g,type:"recovery",email:v})).error),C)throw console.error("verifyOtp error:",C),C;console.log("Identity verified successfully"),y(!1),p({title:"Identity Verified",description:"Please set your new password."})}catch(C){console.error("Verification Catch Block:",C),p({title:"Verification Failed",description:C.message||"Link expired or invalid",variant:"destructive"})}finally{_(!1)}}},A=C=>{const T={...l},O={...d};return C.trim()?C.length<8?(T.password="Password must be at least 8 characters",O.password=!1):(delete T.password,O.password=!0):(T.password="Password is required",O.password=!1),c(T),f(O),!T.password},j=C=>{const T={...l},O={...d};return C.trim()?C!==t?(T.confirmPassword="Passwords do not match",O.confirmPassword=!1):(delete T.confirmPassword,O.confirmPassword=!0):(T.confirmPassword="Please confirm your password",O.confirmPassword=!1),c(T),f(O),!T.confirmPassword},k=async C=>{C.preventDefault();const T=A(t),O=j(n);if(!(!T||!O)){a(!0);try{const{error:L}=await De.auth.updateUser({password:t});if(L)throw L;o(!0),p({title:"Password reset successful!",description:"You can now sign in with your new password."}),setTimeout(()=>{h("/auth")},2e3)}catch(L){console.error("Password reset error:",L),p({title:"Failed to reset password",description:L.message||"Please try again",variant:"destructive"})}finally{a(!1)}}};return u.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:[u.jsx(fV,{title:"Reset Password - AdmitConnect AI",description:"Reset your AdmitConnect AI account password"}),u.jsx(ne,{className:"max-w-md w-full p-8 bg-card/95 backdrop-blur-sm border-border/50",children:s?u.jsxs("div",{className:"text-center space-y-6 animate-fade-in",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center mx-auto bg-green-500 animate-bounce-in",children:u.jsx(da,{className:"w-8 h-8 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Password Reset!"}),u.jsx("p",{className:"text-muted-foreground",children:"Redirecting you to sign in..."})]})]}):b?u.jsxs("div",{className:"text-center space-y-6 animate-fade-in",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 bg-ai-gradient animate-bounce-in",children:u.jsx(CI,{className:"w-8 h-8 text-white"})}),u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Verify Your Identity"}),u.jsx("p",{className:"text-muted-foreground",children:"Click the button below to verify your email and reset your password."}),u.jsx(Hs,{onClick:E,variant:"hero",size:"lg",className:"w-full",disabled:w,children:w?u.jsxs(u.Fragment,{children:[u.jsx(jl,{size:"sm",className:"mr-2"}),"Verifying..."]}):"Verify Identity"})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 bg-ai-gradient animate-bounce-in",children:u.jsx(CI,{className:"w-8 h-8 text-white"})}),u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Reset Your Password"}),u.jsx("p",{className:"text-muted-foreground",children:"Enter your new password below"})]}),u.jsxs("form",{onSubmit:k,className:"space-y-4",children:[u.jsx(na,{label:"New Password",id:"newPassword",type:"password",value:t,onChange:C=>{e(C),C.trim()&&A(C)},placeholder:"Enter new password",error:l.password,success:d.password,required:!0}),u.jsx(na,{label:"Confirm Password",id:"confirmPassword",type:"password",value:n,onChange:C=>{r(C),C.trim()&&j(C)},placeholder:"Confirm new password",error:l.confirmPassword,success:d.confirmPassword,required:!0}),u.jsx(Hs,{type:"submit",variant:"hero",size:"lg",className:"w-full",disabled:i||!t.trim()||!n.trim(),children:i?u.jsxs(u.Fragment,{children:[u.jsx(jl,{size:"sm",className:"mr-2"}),"Resetting Password..."]}):"Reset Password"})]})]})})]})},uWe=new KZ,dWe=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState(!0);S.useEffect(()=>{window.location.pathname.includes("/reset-password")?(e(!1),r(!0)):(e(!0),r(!1))},[]);const i=()=>{r(!0)};return t&&!n?u.jsx(Swe,{onComplete:i}):u.jsx(wwe,{children:u.jsx(tB,{children:u.jsx(XZ,{client:uWe,children:u.jsx(eQ,{attribute:"class",defaultTheme:"dark",enableSystem:!0,children:u.jsxs(pz,{children:[u.jsx(Ote,{}),u.jsx(tne,{}),u.jsx(Wae,{children:u.jsxs(GJ,{children:[u.jsx(_we,{}),u.jsx(bwe,{}),u.jsxs(FJ,{children:[u.jsx(Ma,{path:"/",element:u.jsx(p1e,{})}),u.jsx(Ma,{path:"/auth",element:u.jsx(m1e,{})}),u.jsx(Ma,{path:"/reset-password",element:u.jsx(cWe,{})}),u.jsx(Ma,{path:"/about",element:u.jsx(X7e,{})}),u.jsx(Ma,{path:"/our-services",element:u.jsx(Z7e,{})}),u.jsx(Ma,{path:"/dashboard",element:u.jsx(R_,{children:u.jsx(Y7e,{})})}),u.jsx(Ma,{path:"/admin",element:u.jsx(R_,{children:u.jsx(sWe,{})})}),u.jsx(Ma,{path:"/analytics",element:u.jsx(R_,{children:u.jsx(lWe,{})})}),u.jsx(Ma,{path:"*",element:u.jsx(J7e,{})})]}),u.jsx(vwe,{}),u.jsx(xwe,{})]})})]})})})})})};PF(document.getElementById("root")).render(u.jsx(dWe,{}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});export{aye as C,xa as H,ds as S,tY as a,Cb as b,un as c,at as g};
