var $K=Object.defineProperty;var ON=t=>{throw TypeError(t)};var RK=(t,e,n)=>e in t?$K(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var U=(t,e,n)=>RK(t,typeof e!="symbol"?e+"":e,n),Mw=(t,e,n)=>e.has(t)||ON("Cannot "+n);var ne=(t,e,n)=>(Mw(t,e,"read from private field"),n?n.call(t):e.get(t)),xt=(t,e,n)=>e.has(t)?ON("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),nt=(t,e,n,r)=>(Mw(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Un=(t,e,n)=>(Mw(t,e,"access private method"),n);var Cg=(t,e,n,r)=>({set _(i){nt(t,e,i,n)},get _(){return ne(t,e,r)}});function MK(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var un=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function at(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function LK(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var n5={exports:{}},xx={},r5={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm=Symbol.for("react.element"),DK=Symbol.for("react.portal"),FK=Symbol.for("react.fragment"),BK=Symbol.for("react.strict_mode"),zK=Symbol.for("react.profiler"),UK=Symbol.for("react.provider"),HK=Symbol.for("react.context"),VK=Symbol.for("react.forward_ref"),WK=Symbol.for("react.suspense"),qK=Symbol.for("react.memo"),GK=Symbol.for("react.lazy"),NN=Symbol.iterator;function KK(t){return t===null||typeof t!="object"?null:(t=NN&&t[NN]||t["@@iterator"],typeof t=="function"?t:null)}var i5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a5=Object.assign,s5={};function yf(t,e,n){this.props=t,this.context=e,this.refs=s5,this.updater=n||i5}yf.prototype.isReactComponent={};yf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function o5(){}o5.prototype=yf.prototype;function aC(t,e,n){this.props=t,this.context=e,this.refs=s5,this.updater=n||i5}var sC=aC.prototype=new o5;sC.constructor=aC;a5(sC,yf.prototype);sC.isPureReactComponent=!0;var PN=Array.isArray,l5=Object.prototype.hasOwnProperty,oC={current:null},c5={key:!0,ref:!0,__self:!0,__source:!0};function u5(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)l5.call(e,r)&&!c5.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Dm,type:t,key:a,ref:s,props:i,_owner:oC.current}}function YK(t,e){return{$$typeof:Dm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function lC(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dm}function XK(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var IN=/\/+/g;function Lw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XK(""+t.key):e.toString(36)}function Ly(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Dm:case DK:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Lw(s,0):r,PN(i)?(n="",t!=null&&(n=t.replace(IN,"$&/")+"/"),Ly(i,e,n,"",function(c){return c})):i!=null&&(lC(i)&&(i=YK(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(IN,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",PN(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+Lw(a,o);s+=Ly(a,e,n,l,i)}else if(l=KK(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+Lw(a,o++),s+=Ly(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Tg(t,e,n){if(t==null)return t;var r=[],i=0;return Ly(t,r,"","",function(a){return e.call(n,a,i++)}),r}function ZK(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mr={current:null},Dy={transition:null},JK={ReactCurrentDispatcher:mr,ReactCurrentBatchConfig:Dy,ReactCurrentOwner:oC};function d5(){throw Error("act(...) is not supported in production builds of React.")}ot.Children={map:Tg,forEach:function(t,e,n){Tg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Tg(t,function(){e++}),e},toArray:function(t){return Tg(t,function(e){return e})||[]},only:function(t){if(!lC(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ot.Component=yf;ot.Fragment=FK;ot.Profiler=zK;ot.PureComponent=aC;ot.StrictMode=BK;ot.Suspense=WK;ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JK;ot.act=d5;ot.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=a5({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=oC.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)l5.call(e,l)&&!c5.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Dm,type:t.type,key:i,ref:a,props:r,_owner:s}};ot.createContext=function(t){return t={$$typeof:HK,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:UK,_context:t},t.Consumer=t};ot.createElement=u5;ot.createFactory=function(t){var e=u5.bind(null,t);return e.type=t,e};ot.createRef=function(){return{current:null}};ot.forwardRef=function(t){return{$$typeof:VK,render:t}};ot.isValidElement=lC;ot.lazy=function(t){return{$$typeof:GK,_payload:{_status:-1,_result:t},_init:ZK}};ot.memo=function(t,e){return{$$typeof:qK,type:t,compare:e===void 0?null:e}};ot.startTransition=function(t){var e=Dy.transition;Dy.transition={};try{t()}finally{Dy.transition=e}};ot.unstable_act=d5;ot.useCallback=function(t,e){return mr.current.useCallback(t,e)};ot.useContext=function(t){return mr.current.useContext(t)};ot.useDebugValue=function(){};ot.useDeferredValue=function(t){return mr.current.useDeferredValue(t)};ot.useEffect=function(t,e){return mr.current.useEffect(t,e)};ot.useId=function(){return mr.current.useId()};ot.useImperativeHandle=function(t,e,n){return mr.current.useImperativeHandle(t,e,n)};ot.useInsertionEffect=function(t,e){return mr.current.useInsertionEffect(t,e)};ot.useLayoutEffect=function(t,e){return mr.current.useLayoutEffect(t,e)};ot.useMemo=function(t,e){return mr.current.useMemo(t,e)};ot.useReducer=function(t,e,n){return mr.current.useReducer(t,e,n)};ot.useRef=function(t){return mr.current.useRef(t)};ot.useState=function(t){return mr.current.useState(t)};ot.useSyncExternalStore=function(t,e,n){return mr.current.useSyncExternalStore(t,e,n)};ot.useTransition=function(){return mr.current.useTransition()};ot.version="18.3.1";r5.exports=ot;var _=r5.exports;const F=at(_),f5=MK({__proto__:null,default:F},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QK=_,eY=Symbol.for("react.element"),tY=Symbol.for("react.fragment"),nY=Object.prototype.hasOwnProperty,rY=QK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iY={key:!0,ref:!0,__self:!0,__source:!0};function h5(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)nY.call(e,r)&&!iY.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:eY,type:t,key:a,ref:s,props:i,_owner:rY.current}}xx.Fragment=tY;xx.jsx=h5;xx.jsxs=h5;n5.exports=xx;var u=n5.exports,p5={exports:{}},fi={},m5={exports:{}},g5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,L){var P=M.length;M.push(L);e:for(;0<P;){var W=P-1>>>1,G=M[W];if(0<i(G,L))M[W]=L,M[P]=G,P=W;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var L=M[0],P=M.pop();if(P!==L){M[0]=P;e:for(var W=0,G=M.length,$=G>>>1;W<$;){var te=2*(W+1)-1,ie=M[te],I=te+1,O=M[I];if(0>i(ie,P))I<G&&0>i(O,ie)?(M[W]=O,M[I]=P,W=I):(M[W]=ie,M[te]=P,W=te);else if(I<G&&0>i(O,P))M[W]=O,M[I]=P,W=I;else break e}}return L}function i(M,L){var P=M.sortIndex-L.sortIndex;return P!==0?P:M.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(M){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=M)r(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(c)}}function w(M){if(g=!1,x(M),!m)if(n(l)!==null)m=!0,z(S);else{var L=n(c);L!==null&&V(w,L.startTime-M)}}function S(M,L){m=!1,g&&(g=!1,y(j),j=-1),p=!0;var P=h;try{for(x(L),f=n(l);f!==null&&(!(f.expirationTime>L)||M&&!k());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var G=W(f.expirationTime<=L);L=t.unstable_now(),typeof G=="function"?f.callback=G:f===n(l)&&r(l),x(L)}else r(l);f=n(l)}if(f!==null)var $=!0;else{var te=n(c);te!==null&&V(w,te.startTime-L),$=!1}return $}finally{f=null,h=P,p=!1}}var E=!1,A=null,j=-1,C=5,T=-1;function k(){return!(t.unstable_now()-T<C)}function N(){if(A!==null){var M=t.unstable_now();T=M;var L=!0;try{L=A(!0,M)}finally{L?H():(E=!1,A=null)}}else E=!1}var H;if(typeof b=="function")H=function(){b(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,D=R.port2;R.port1.onmessage=N,H=function(){D.postMessage(null)}}else H=function(){v(N,0)};function z(M){A=M,E||(E=!0,H())}function V(M,L){j=v(function(){M(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,z(S))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var P=h;h=L;try{return M()}finally{h=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,L){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var P=h;h=M;try{return L()}finally{h=P}},t.unstable_scheduleCallback=function(M,L,P){var W=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?W+P:W):P=W,M){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=P+G,M={id:d++,callback:L,priorityLevel:M,startTime:P,expirationTime:G,sortIndex:-1},P>W?(M.sortIndex=P,e(c,M),n(l)===null&&M===n(c)&&(g?(y(j),j=-1):g=!0,V(w,P-W))):(M.sortIndex=G,e(l,M),m||p||(m=!0,z(S))),M},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(M){var L=h;return function(){var P=h;h=L;try{return M.apply(this,arguments)}finally{h=P}}}})(g5);m5.exports=g5;var aY=m5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sY=_,ci=aY;function ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y5=new Set,mp={};function Vc(t,e){Ed(t,e),Ed(t+"Capture",e)}function Ed(t,e){for(mp[t]=e,t=0;t<e.length;t++)y5.add(e[t])}var qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Q1=Object.prototype.hasOwnProperty,oY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$N={},RN={};function lY(t){return Q1.call(RN,t)?!0:Q1.call($N,t)?!1:oY.test(t)?RN[t]=!0:($N[t]=!0,!1)}function cY(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uY(t,e,n,r){if(e===null||typeof e>"u"||cY(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gr(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Bn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Bn[t]=new gr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Bn[e]=new gr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Bn[t]=new gr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Bn[t]=new gr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Bn[t]=new gr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Bn[t]=new gr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Bn[t]=new gr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Bn[t]=new gr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Bn[t]=new gr(t,5,!1,t.toLowerCase(),null,!1,!1)});var cC=/[\-:]([a-z])/g;function uC(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cC,uC);Bn[e]=new gr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cC,uC);Bn[e]=new gr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cC,uC);Bn[e]=new gr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Bn[t]=new gr(t,1,!1,t.toLowerCase(),null,!1,!1)});Bn.xlinkHref=new gr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Bn[t]=new gr(t,1,!1,t.toLowerCase(),null,!0,!0)});function dC(t,e,n,r){var i=Bn.hasOwnProperty(e)?Bn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uY(e,n,i,r)&&(n=null),r||i===null?lY(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var so=sY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kg=Symbol.for("react.element"),ku=Symbol.for("react.portal"),Ou=Symbol.for("react.fragment"),fC=Symbol.for("react.strict_mode"),eS=Symbol.for("react.profiler"),v5=Symbol.for("react.provider"),x5=Symbol.for("react.context"),hC=Symbol.for("react.forward_ref"),tS=Symbol.for("react.suspense"),nS=Symbol.for("react.suspense_list"),pC=Symbol.for("react.memo"),jo=Symbol.for("react.lazy"),b5=Symbol.for("react.offscreen"),MN=Symbol.iterator;function Zf(t){return t===null||typeof t!="object"?null:(t=MN&&t[MN]||t["@@iterator"],typeof t=="function"?t:null)}var Jt=Object.assign,Dw;function Eh(t){if(Dw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Dw=e&&e[1]||""}return`
`+Dw+t}var Fw=!1;function Bw(t,e){if(!t||Fw)return"";Fw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{Fw=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Eh(t):""}function dY(t){switch(t.tag){case 5:return Eh(t.type);case 16:return Eh("Lazy");case 13:return Eh("Suspense");case 19:return Eh("SuspenseList");case 0:case 2:case 15:return t=Bw(t.type,!1),t;case 11:return t=Bw(t.type.render,!1),t;case 1:return t=Bw(t.type,!0),t;default:return""}}function rS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ou:return"Fragment";case ku:return"Portal";case eS:return"Profiler";case fC:return"StrictMode";case tS:return"Suspense";case nS:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case x5:return(t.displayName||"Context")+".Consumer";case v5:return(t._context.displayName||"Context")+".Provider";case hC:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case pC:return e=t.displayName||null,e!==null?e:rS(t.type)||"Memo";case jo:e=t._payload,t=t._init;try{return rS(t(e))}catch{}}return null}function fY(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rS(e);case 8:return e===fC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ol(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function w5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hY(t){var e=w5(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Og(t){t._valueTracker||(t._valueTracker=hY(t))}function _5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=w5(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function uv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function iS(t,e){var n=e.checked;return Jt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function LN(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ol(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function S5(t,e){e=e.checked,e!=null&&dC(t,"checked",e,!1)}function aS(t,e){S5(t,e);var n=ol(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sS(t,e.type,n):e.hasOwnProperty("defaultValue")&&sS(t,e.type,ol(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function DN(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function sS(t,e,n){(e!=="number"||uv(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var jh=Array.isArray;function Ku(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ol(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function oS(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ce(91));return Jt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function FN(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ce(92));if(jh(n)){if(1<n.length)throw Error(ce(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ol(n)}}function E5(t,e){var n=ol(e.value),r=ol(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function BN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function j5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lS(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?j5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ng,A5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ng=Ng||document.createElement("div"),Ng.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ng.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Dh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pY=["Webkit","ms","Moz","O"];Object.keys(Dh).forEach(function(t){pY.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Dh[e]=Dh[t]})});function C5(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Dh.hasOwnProperty(t)&&Dh[t]?(""+e).trim():e+"px"}function T5(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=C5(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var mY=Jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cS(t,e){if(e){if(mY[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ce(62))}}function uS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dS=null;function mC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fS=null,Yu=null,Xu=null;function zN(t){if(t=zm(t)){if(typeof fS!="function")throw Error(ce(280));var e=t.stateNode;e&&(e=Ex(e),fS(t.stateNode,t.type,e))}}function k5(t){Yu?Xu?Xu.push(t):Xu=[t]:Yu=t}function O5(){if(Yu){var t=Yu,e=Xu;if(Xu=Yu=null,zN(t),e)for(t=0;t<e.length;t++)zN(e[t])}}function N5(t,e){return t(e)}function P5(){}var zw=!1;function I5(t,e,n){if(zw)return t(e,n);zw=!0;try{return N5(t,e,n)}finally{zw=!1,(Yu!==null||Xu!==null)&&(P5(),O5())}}function yp(t,e){var n=t.stateNode;if(n===null)return null;var r=Ex(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ce(231,e,typeof n));return n}var hS=!1;if(qs)try{var Jf={};Object.defineProperty(Jf,"passive",{get:function(){hS=!0}}),window.addEventListener("test",Jf,Jf),window.removeEventListener("test",Jf,Jf)}catch{hS=!1}function gY(t,e,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Fh=!1,dv=null,fv=!1,pS=null,yY={onError:function(t){Fh=!0,dv=t}};function vY(t,e,n,r,i,a,s,o,l){Fh=!1,dv=null,gY.apply(yY,arguments)}function xY(t,e,n,r,i,a,s,o,l){if(vY.apply(this,arguments),Fh){if(Fh){var c=dv;Fh=!1,dv=null}else throw Error(ce(198));fv||(fv=!0,pS=c)}}function Wc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function UN(t){if(Wc(t)!==t)throw Error(ce(188))}function bY(t){var e=t.alternate;if(!e){if(e=Wc(t),e===null)throw Error(ce(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return UN(i),t;if(a===r)return UN(i),e;a=a.sibling}throw Error(ce(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(ce(189))}}if(n.alternate!==r)throw Error(ce(190))}if(n.tag!==3)throw Error(ce(188));return n.stateNode.current===n?t:e}function R5(t){return t=bY(t),t!==null?M5(t):null}function M5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=M5(t);if(e!==null)return e;t=t.sibling}return null}var L5=ci.unstable_scheduleCallback,HN=ci.unstable_cancelCallback,wY=ci.unstable_shouldYield,_Y=ci.unstable_requestPaint,cn=ci.unstable_now,SY=ci.unstable_getCurrentPriorityLevel,gC=ci.unstable_ImmediatePriority,D5=ci.unstable_UserBlockingPriority,hv=ci.unstable_NormalPriority,EY=ci.unstable_LowPriority,F5=ci.unstable_IdlePriority,bx=null,Xa=null;function jY(t){if(Xa&&typeof Xa.onCommitFiberRoot=="function")try{Xa.onCommitFiberRoot(bx,t,void 0,(t.current.flags&128)===128)}catch{}}var da=Math.clz32?Math.clz32:TY,AY=Math.log,CY=Math.LN2;function TY(t){return t>>>=0,t===0?32:31-(AY(t)/CY|0)|0}var Pg=64,Ig=4194304;function Ah(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pv(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=Ah(o):(a&=s,a!==0&&(r=Ah(a)))}else s=n&~i,s!==0?r=Ah(s):a!==0&&(r=Ah(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-da(e),i=1<<n,r|=t[n],e&=~i;return r}function kY(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OY(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-da(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=kY(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function mS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function B5(){var t=Pg;return Pg<<=1,!(Pg&4194240)&&(Pg=64),t}function Uw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Fm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-da(e),t[e]=n}function NY(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-da(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function yC(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-da(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var St=0;function z5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var U5,vC,H5,V5,W5,gS=!1,$g=[],Wo=null,qo=null,Go=null,vp=new Map,xp=new Map,ko=[],PY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function VN(t,e){switch(t){case"focusin":case"focusout":Wo=null;break;case"dragenter":case"dragleave":qo=null;break;case"mouseover":case"mouseout":Go=null;break;case"pointerover":case"pointerout":vp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xp.delete(e.pointerId)}}function Qf(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=zm(e),e!==null&&vC(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function IY(t,e,n,r,i){switch(e){case"focusin":return Wo=Qf(Wo,t,e,n,r,i),!0;case"dragenter":return qo=Qf(qo,t,e,n,r,i),!0;case"mouseover":return Go=Qf(Go,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return vp.set(a,Qf(vp.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,xp.set(a,Qf(xp.get(a)||null,t,e,n,r,i)),!0}return!1}function q5(t){var e=ac(t.target);if(e!==null){var n=Wc(e);if(n!==null){if(e=n.tag,e===13){if(e=$5(n),e!==null){t.blockedOn=e,W5(t.priority,function(){H5(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=yS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);dS=r,n.target.dispatchEvent(r),dS=null}else return e=zm(n),e!==null&&vC(e),t.blockedOn=n,!1;e.shift()}return!0}function WN(t,e,n){Fy(t)&&n.delete(e)}function $Y(){gS=!1,Wo!==null&&Fy(Wo)&&(Wo=null),qo!==null&&Fy(qo)&&(qo=null),Go!==null&&Fy(Go)&&(Go=null),vp.forEach(WN),xp.forEach(WN)}function eh(t,e){t.blockedOn===e&&(t.blockedOn=null,gS||(gS=!0,ci.unstable_scheduleCallback(ci.unstable_NormalPriority,$Y)))}function bp(t){function e(i){return eh(i,t)}if(0<$g.length){eh($g[0],t);for(var n=1;n<$g.length;n++){var r=$g[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Wo!==null&&eh(Wo,t),qo!==null&&eh(qo,t),Go!==null&&eh(Go,t),vp.forEach(e),xp.forEach(e),n=0;n<ko.length;n++)r=ko[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ko.length&&(n=ko[0],n.blockedOn===null);)q5(n),n.blockedOn===null&&ko.shift()}var Zu=so.ReactCurrentBatchConfig,mv=!0;function RY(t,e,n,r){var i=St,a=Zu.transition;Zu.transition=null;try{St=1,xC(t,e,n,r)}finally{St=i,Zu.transition=a}}function MY(t,e,n,r){var i=St,a=Zu.transition;Zu.transition=null;try{St=4,xC(t,e,n,r)}finally{St=i,Zu.transition=a}}function xC(t,e,n,r){if(mv){var i=yS(t,e,n,r);if(i===null)Jw(t,e,r,gv,n),VN(t,r);else if(IY(i,t,e,n,r))r.stopPropagation();else if(VN(t,r),e&4&&-1<PY.indexOf(t)){for(;i!==null;){var a=zm(i);if(a!==null&&U5(a),a=yS(t,e,n,r),a===null&&Jw(t,e,r,gv,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Jw(t,e,r,null,n)}}var gv=null;function yS(t,e,n,r){if(gv=null,t=mC(r),t=ac(t),t!==null)if(e=Wc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$5(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gv=t,null}function G5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SY()){case gC:return 1;case D5:return 4;case hv:case EY:return 16;case F5:return 536870912;default:return 16}default:return 16}}var Do=null,bC=null,By=null;function K5(){if(By)return By;var t,e=bC,n=e.length,r,i="value"in Do?Do.value:Do.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return By=i.slice(t,1<r?1-r:void 0)}function zy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rg(){return!0}function qN(){return!1}function hi(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Rg:qN,this.isPropagationStopped=qN,this}return Jt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rg)},persist:function(){},isPersistent:Rg}),e}var vf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wC=hi(vf),Bm=Jt({},vf,{view:0,detail:0}),LY=hi(Bm),Hw,Vw,th,wx=Jt({},Bm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_C,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==th&&(th&&t.type==="mousemove"?(Hw=t.screenX-th.screenX,Vw=t.screenY-th.screenY):Vw=Hw=0,th=t),Hw)},movementY:function(t){return"movementY"in t?t.movementY:Vw}}),GN=hi(wx),DY=Jt({},wx,{dataTransfer:0}),FY=hi(DY),BY=Jt({},Bm,{relatedTarget:0}),Ww=hi(BY),zY=Jt({},vf,{animationName:0,elapsedTime:0,pseudoElement:0}),UY=hi(zY),HY=Jt({},vf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),VY=hi(HY),WY=Jt({},vf,{data:0}),KN=hi(WY),qY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YY(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=KY[t])?!!e[t]:!1}function _C(){return YY}var XY=Jt({},Bm,{key:function(t){if(t.key){var e=qY[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?GY[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_C,charCode:function(t){return t.type==="keypress"?zy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ZY=hi(XY),JY=Jt({},wx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YN=hi(JY),QY=Jt({},Bm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_C}),eX=hi(QY),tX=Jt({},vf,{propertyName:0,elapsedTime:0,pseudoElement:0}),nX=hi(tX),rX=Jt({},wx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iX=hi(rX),aX=[9,13,27,32],SC=qs&&"CompositionEvent"in window,Bh=null;qs&&"documentMode"in document&&(Bh=document.documentMode);var sX=qs&&"TextEvent"in window&&!Bh,Y5=qs&&(!SC||Bh&&8<Bh&&11>=Bh),XN=" ",ZN=!1;function X5(t,e){switch(t){case"keyup":return aX.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nu=!1;function oX(t,e){switch(t){case"compositionend":return Z5(e);case"keypress":return e.which!==32?null:(ZN=!0,XN);case"textInput":return t=e.data,t===XN&&ZN?null:t;default:return null}}function lX(t,e){if(Nu)return t==="compositionend"||!SC&&X5(t,e)?(t=K5(),By=bC=Do=null,Nu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Y5&&e.locale!=="ko"?null:e.data;default:return null}}var cX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cX[t.type]:e==="textarea"}function J5(t,e,n,r){k5(r),e=yv(e,"onChange"),0<e.length&&(n=new wC("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var zh=null,wp=null;function uX(t){c3(t,0)}function _x(t){var e=$u(t);if(_5(e))return t}function dX(t,e){if(t==="change")return e}var Q5=!1;if(qs){var qw;if(qs){var Gw="oninput"in document;if(!Gw){var QN=document.createElement("div");QN.setAttribute("oninput","return;"),Gw=typeof QN.oninput=="function"}qw=Gw}else qw=!1;Q5=qw&&(!document.documentMode||9<document.documentMode)}function eP(){zh&&(zh.detachEvent("onpropertychange",e3),wp=zh=null)}function e3(t){if(t.propertyName==="value"&&_x(wp)){var e=[];J5(e,wp,t,mC(t)),I5(uX,e)}}function fX(t,e,n){t==="focusin"?(eP(),zh=e,wp=n,zh.attachEvent("onpropertychange",e3)):t==="focusout"&&eP()}function hX(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _x(wp)}function pX(t,e){if(t==="click")return _x(e)}function mX(t,e){if(t==="input"||t==="change")return _x(e)}function gX(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ya=typeof Object.is=="function"?Object.is:gX;function _p(t,e){if(ya(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Q1.call(e,i)||!ya(t[i],e[i]))return!1}return!0}function tP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nP(t,e){var n=tP(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tP(n)}}function t3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?t3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function n3(){for(var t=window,e=uv();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=uv(t.document)}return e}function EC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yX(t){var e=n3(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&t3(n.ownerDocument.documentElement,n)){if(r!==null&&EC(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=nP(n,a);var s=nP(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vX=qs&&"documentMode"in document&&11>=document.documentMode,Pu=null,vS=null,Uh=null,xS=!1;function rP(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xS||Pu==null||Pu!==uv(r)||(r=Pu,"selectionStart"in r&&EC(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Uh&&_p(Uh,r)||(Uh=r,r=yv(vS,"onSelect"),0<r.length&&(e=new wC("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Pu)))}function Mg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Iu={animationend:Mg("Animation","AnimationEnd"),animationiteration:Mg("Animation","AnimationIteration"),animationstart:Mg("Animation","AnimationStart"),transitionend:Mg("Transition","TransitionEnd")},Kw={},r3={};qs&&(r3=document.createElement("div").style,"AnimationEvent"in window||(delete Iu.animationend.animation,delete Iu.animationiteration.animation,delete Iu.animationstart.animation),"TransitionEvent"in window||delete Iu.transitionend.transition);function Sx(t){if(Kw[t])return Kw[t];if(!Iu[t])return t;var e=Iu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in r3)return Kw[t]=e[n];return t}var i3=Sx("animationend"),a3=Sx("animationiteration"),s3=Sx("animationstart"),o3=Sx("transitionend"),l3=new Map,iP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function El(t,e){l3.set(t,e),Vc(e,[t])}for(var Yw=0;Yw<iP.length;Yw++){var Xw=iP[Yw],xX=Xw.toLowerCase(),bX=Xw[0].toUpperCase()+Xw.slice(1);El(xX,"on"+bX)}El(i3,"onAnimationEnd");El(a3,"onAnimationIteration");El(s3,"onAnimationStart");El("dblclick","onDoubleClick");El("focusin","onFocus");El("focusout","onBlur");El(o3,"onTransitionEnd");Ed("onMouseEnter",["mouseout","mouseover"]);Ed("onMouseLeave",["mouseout","mouseover"]);Ed("onPointerEnter",["pointerout","pointerover"]);Ed("onPointerLeave",["pointerout","pointerover"]);Vc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ch="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wX=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ch));function aP(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,xY(r,e,void 0,t),t.currentTarget=null}function c3(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;aP(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;aP(i,o,c),a=l}}}if(fv)throw t=pS,fv=!1,pS=null,t}function Bt(t,e){var n=e[ES];n===void 0&&(n=e[ES]=new Set);var r=t+"__bubble";n.has(r)||(u3(e,t,2,!1),n.add(r))}function Zw(t,e,n){var r=0;e&&(r|=4),u3(n,t,r,e)}var Lg="_reactListening"+Math.random().toString(36).slice(2);function Sp(t){if(!t[Lg]){t[Lg]=!0,y5.forEach(function(n){n!=="selectionchange"&&(wX.has(n)||Zw(n,!1,t),Zw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Lg]||(e[Lg]=!0,Zw("selectionchange",!1,e))}}function u3(t,e,n,r){switch(G5(e)){case 1:var i=RY;break;case 4:i=MY;break;default:i=xC}n=i.bind(null,e,n,t),i=void 0,!hS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Jw(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=ac(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}I5(function(){var c=a,d=mC(n),f=[];e:{var h=l3.get(t);if(h!==void 0){var p=wC,m=t;switch(t){case"keypress":if(zy(n)===0)break e;case"keydown":case"keyup":p=ZY;break;case"focusin":m="focus",p=Ww;break;case"focusout":m="blur",p=Ww;break;case"beforeblur":case"afterblur":p=Ww;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=GN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=FY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=eX;break;case i3:case a3:case s3:p=UY;break;case o3:p=nX;break;case"scroll":p=LY;break;case"wheel":p=iX;break;case"copy":case"cut":case"paste":p=VY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=YN}var g=(e&4)!==0,v=!g&&t==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var b=c,x;b!==null;){x=b;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,y!==null&&(w=yp(b,y),w!=null&&g.push(Ep(b,w,x)))),v)break;b=b.return}0<g.length&&(h=new p(h,m,null,n,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==dS&&(m=n.relatedTarget||n.fromElement)&&(ac(m)||m[Gs]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?ac(m):null,m!==null&&(v=Wc(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=GN,w="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(g=YN,w="onPointerLeave",y="onPointerEnter",b="pointer"),v=p==null?h:$u(p),x=m==null?h:$u(m),h=new g(w,b+"leave",p,n,d),h.target=v,h.relatedTarget=x,w=null,ac(d)===c&&(g=new g(y,b+"enter",m,n,d),g.target=x,g.relatedTarget=v,w=g),v=w,p&&m)t:{for(g=p,y=m,b=0,x=g;x;x=ru(x))b++;for(x=0,w=y;w;w=ru(w))x++;for(;0<b-x;)g=ru(g),b--;for(;0<x-b;)y=ru(y),x--;for(;b--;){if(g===y||y!==null&&g===y.alternate)break t;g=ru(g),y=ru(y)}g=null}else g=null;p!==null&&sP(f,h,p,g,!1),m!==null&&v!==null&&sP(f,v,m,g,!0)}}e:{if(h=c?$u(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=dX;else if(JN(h))if(Q5)S=mX;else{S=hX;var E=fX}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=pX);if(S&&(S=S(t,c))){J5(f,S,n,d);break e}E&&E(t,h,c),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&sS(h,"number",h.value)}switch(E=c?$u(c):window,t){case"focusin":(JN(E)||E.contentEditable==="true")&&(Pu=E,vS=c,Uh=null);break;case"focusout":Uh=vS=Pu=null;break;case"mousedown":xS=!0;break;case"contextmenu":case"mouseup":case"dragend":xS=!1,rP(f,n,d);break;case"selectionchange":if(vX)break;case"keydown":case"keyup":rP(f,n,d)}var A;if(SC)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Nu?X5(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(Y5&&n.locale!=="ko"&&(Nu||j!=="onCompositionStart"?j==="onCompositionEnd"&&Nu&&(A=K5()):(Do=d,bC="value"in Do?Do.value:Do.textContent,Nu=!0)),E=yv(c,j),0<E.length&&(j=new KN(j,t,null,n,d),f.push({event:j,listeners:E}),A?j.data=A:(A=Z5(n),A!==null&&(j.data=A)))),(A=sX?oX(t,n):lX(t,n))&&(c=yv(c,"onBeforeInput"),0<c.length&&(d=new KN("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=A))}c3(f,e)})}function Ep(t,e,n){return{instance:t,listener:e,currentTarget:n}}function yv(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=yp(t,n),a!=null&&r.unshift(Ep(t,a,i)),a=yp(t,e),a!=null&&r.push(Ep(t,a,i))),t=t.return}return r}function ru(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sP(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=yp(n,a),l!=null&&s.unshift(Ep(n,l,o))):i||(l=yp(n,a),l!=null&&s.push(Ep(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var _X=/\r\n?/g,SX=/\u0000|\uFFFD/g;function oP(t){return(typeof t=="string"?t:""+t).replace(_X,`
`).replace(SX,"")}function Dg(t,e,n){if(e=oP(e),oP(t)!==e&&n)throw Error(ce(425))}function vv(){}var bS=null,wS=null;function _S(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var SS=typeof setTimeout=="function"?setTimeout:void 0,EX=typeof clearTimeout=="function"?clearTimeout:void 0,lP=typeof Promise=="function"?Promise:void 0,jX=typeof queueMicrotask=="function"?queueMicrotask:typeof lP<"u"?function(t){return lP.resolve(null).then(t).catch(AX)}:SS;function AX(t){setTimeout(function(){throw t})}function Qw(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),bp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);bp(e)}function Ko(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xf=Math.random().toString(36).slice(2),Ha="__reactFiber$"+xf,jp="__reactProps$"+xf,Gs="__reactContainer$"+xf,ES="__reactEvents$"+xf,CX="__reactListeners$"+xf,TX="__reactHandles$"+xf;function ac(t){var e=t[Ha];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gs]||n[Ha]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cP(t);t!==null;){if(n=t[Ha])return n;t=cP(t)}return e}t=n,n=t.parentNode}return null}function zm(t){return t=t[Ha]||t[Gs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $u(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ce(33))}function Ex(t){return t[jp]||null}var jS=[],Ru=-1;function jl(t){return{current:t}}function Ht(t){0>Ru||(t.current=jS[Ru],jS[Ru]=null,Ru--)}function It(t,e){Ru++,jS[Ru]=t.current,t.current=e}var ll={},Zn=jl(ll),Or=jl(!1),jc=ll;function jd(t,e){var n=t.type.contextTypes;if(!n)return ll;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Nr(t){return t=t.childContextTypes,t!=null}function xv(){Ht(Or),Ht(Zn)}function uP(t,e,n){if(Zn.current!==ll)throw Error(ce(168));It(Zn,e),It(Or,n)}function d3(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ce(108,fY(t)||"Unknown",i));return Jt({},n,r)}function bv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ll,jc=Zn.current,It(Zn,t),It(Or,Or.current),!0}function dP(t,e,n){var r=t.stateNode;if(!r)throw Error(ce(169));n?(t=d3(t,e,jc),r.__reactInternalMemoizedMergedChildContext=t,Ht(Or),Ht(Zn),It(Zn,t)):Ht(Or),It(Or,n)}var Ts=null,jx=!1,e_=!1;function f3(t){Ts===null?Ts=[t]:Ts.push(t)}function kX(t){jx=!0,f3(t)}function Al(){if(!e_&&Ts!==null){e_=!0;var t=0,e=St;try{var n=Ts;for(St=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ts=null,jx=!1}catch(i){throw Ts!==null&&(Ts=Ts.slice(t+1)),L5(gC,Al),i}finally{St=e,e_=!1}}return null}var Mu=[],Lu=0,wv=null,_v=0,_i=[],Si=0,Ac=null,Os=1,Ns="";function Gl(t,e){Mu[Lu++]=_v,Mu[Lu++]=wv,wv=t,_v=e}function h3(t,e,n){_i[Si++]=Os,_i[Si++]=Ns,_i[Si++]=Ac,Ac=t;var r=Os;t=Ns;var i=32-da(r)-1;r&=~(1<<i),n+=1;var a=32-da(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Os=1<<32-da(e)+i|n<<i|r,Ns=a+t}else Os=1<<a|n<<i|r,Ns=t}function jC(t){t.return!==null&&(Gl(t,1),h3(t,1,0))}function AC(t){for(;t===wv;)wv=Mu[--Lu],Mu[Lu]=null,_v=Mu[--Lu],Mu[Lu]=null;for(;t===Ac;)Ac=_i[--Si],_i[Si]=null,Ns=_i[--Si],_i[Si]=null,Os=_i[--Si],_i[Si]=null}var Qr=null,Yr=null,Vt=!1,sa=null;function p3(t,e){var n=Ai(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function fP(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qr=t,Yr=Ko(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qr=t,Yr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ac!==null?{id:Os,overflow:Ns}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ai(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qr=t,Yr=null,!0):!1;default:return!1}}function AS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function CS(t){if(Vt){var e=Yr;if(e){var n=e;if(!fP(t,e)){if(AS(t))throw Error(ce(418));e=Ko(n.nextSibling);var r=Qr;e&&fP(t,e)?p3(r,n):(t.flags=t.flags&-4097|2,Vt=!1,Qr=t)}}else{if(AS(t))throw Error(ce(418));t.flags=t.flags&-4097|2,Vt=!1,Qr=t}}}function hP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qr=t}function Fg(t){if(t!==Qr)return!1;if(!Vt)return hP(t),Vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_S(t.type,t.memoizedProps)),e&&(e=Yr)){if(AS(t))throw m3(),Error(ce(418));for(;e;)p3(t,e),e=Ko(e.nextSibling)}if(hP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yr=Ko(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yr=null}}else Yr=Qr?Ko(t.stateNode.nextSibling):null;return!0}function m3(){for(var t=Yr;t;)t=Ko(t.nextSibling)}function Ad(){Yr=Qr=null,Vt=!1}function CC(t){sa===null?sa=[t]:sa.push(t)}var OX=so.ReactCurrentBatchConfig;function nh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ce(309));var r=n.stateNode}if(!r)throw Error(ce(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(ce(284));if(!n._owner)throw Error(ce(290,t))}return t}function Bg(t,e){throw t=Object.prototype.toString.call(e),Error(ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function pP(t){var e=t._init;return e(t._payload)}function g3(t){function e(y,b){if(t){var x=y.deletions;x===null?(y.deletions=[b],y.flags|=16):x.push(b)}}function n(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=Jo(y,b),y.index=0,y.sibling=null,y}function a(y,b,x){return y.index=x,t?(x=y.alternate,x!==null?(x=x.index,x<b?(y.flags|=2,b):x):(y.flags|=2,b)):(y.flags|=1048576,b)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,b,x,w){return b===null||b.tag!==6?(b=o_(x,y.mode,w),b.return=y,b):(b=i(b,x),b.return=y,b)}function l(y,b,x,w){var S=x.type;return S===Ou?d(y,b,x.props.children,w,x.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===jo&&pP(S)===b.type)?(w=i(b,x.props),w.ref=nh(y,b,x),w.return=y,w):(w=Ky(x.type,x.key,x.props,null,y.mode,w),w.ref=nh(y,b,x),w.return=y,w)}function c(y,b,x,w){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=l_(x,y.mode,w),b.return=y,b):(b=i(b,x.children||[]),b.return=y,b)}function d(y,b,x,w,S){return b===null||b.tag!==7?(b=vc(x,y.mode,w,S),b.return=y,b):(b=i(b,x),b.return=y,b)}function f(y,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=o_(""+b,y.mode,x),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case kg:return x=Ky(b.type,b.key,b.props,null,y.mode,x),x.ref=nh(y,null,b),x.return=y,x;case ku:return b=l_(b,y.mode,x),b.return=y,b;case jo:var w=b._init;return f(y,w(b._payload),x)}if(jh(b)||Zf(b))return b=vc(b,y.mode,x,null),b.return=y,b;Bg(y,b)}return null}function h(y,b,x,w){var S=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:o(y,b,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case kg:return x.key===S?l(y,b,x,w):null;case ku:return x.key===S?c(y,b,x,w):null;case jo:return S=x._init,h(y,b,S(x._payload),w)}if(jh(x)||Zf(x))return S!==null?null:d(y,b,x,w,null);Bg(y,x)}return null}function p(y,b,x,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(x)||null,o(b,y,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case kg:return y=y.get(w.key===null?x:w.key)||null,l(b,y,w,S);case ku:return y=y.get(w.key===null?x:w.key)||null,c(b,y,w,S);case jo:var E=w._init;return p(y,b,x,E(w._payload),S)}if(jh(w)||Zf(w))return y=y.get(x)||null,d(b,y,w,S,null);Bg(b,w)}return null}function m(y,b,x,w){for(var S=null,E=null,A=b,j=b=0,C=null;A!==null&&j<x.length;j++){A.index>j?(C=A,A=null):C=A.sibling;var T=h(y,A,x[j],w);if(T===null){A===null&&(A=C);break}t&&A&&T.alternate===null&&e(y,A),b=a(T,b,j),E===null?S=T:E.sibling=T,E=T,A=C}if(j===x.length)return n(y,A),Vt&&Gl(y,j),S;if(A===null){for(;j<x.length;j++)A=f(y,x[j],w),A!==null&&(b=a(A,b,j),E===null?S=A:E.sibling=A,E=A);return Vt&&Gl(y,j),S}for(A=r(y,A);j<x.length;j++)C=p(A,y,j,x[j],w),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?j:C.key),b=a(C,b,j),E===null?S=C:E.sibling=C,E=C);return t&&A.forEach(function(k){return e(y,k)}),Vt&&Gl(y,j),S}function g(y,b,x,w){var S=Zf(x);if(typeof S!="function")throw Error(ce(150));if(x=S.call(x),x==null)throw Error(ce(151));for(var E=S=null,A=b,j=b=0,C=null,T=x.next();A!==null&&!T.done;j++,T=x.next()){A.index>j?(C=A,A=null):C=A.sibling;var k=h(y,A,T.value,w);if(k===null){A===null&&(A=C);break}t&&A&&k.alternate===null&&e(y,A),b=a(k,b,j),E===null?S=k:E.sibling=k,E=k,A=C}if(T.done)return n(y,A),Vt&&Gl(y,j),S;if(A===null){for(;!T.done;j++,T=x.next())T=f(y,T.value,w),T!==null&&(b=a(T,b,j),E===null?S=T:E.sibling=T,E=T);return Vt&&Gl(y,j),S}for(A=r(y,A);!T.done;j++,T=x.next())T=p(A,y,j,T.value,w),T!==null&&(t&&T.alternate!==null&&A.delete(T.key===null?j:T.key),b=a(T,b,j),E===null?S=T:E.sibling=T,E=T);return t&&A.forEach(function(N){return e(y,N)}),Vt&&Gl(y,j),S}function v(y,b,x,w){if(typeof x=="object"&&x!==null&&x.type===Ou&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case kg:e:{for(var S=x.key,E=b;E!==null;){if(E.key===S){if(S=x.type,S===Ou){if(E.tag===7){n(y,E.sibling),b=i(E,x.props.children),b.return=y,y=b;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===jo&&pP(S)===E.type){n(y,E.sibling),b=i(E,x.props),b.ref=nh(y,E,x),b.return=y,y=b;break e}n(y,E);break}else e(y,E);E=E.sibling}x.type===Ou?(b=vc(x.props.children,y.mode,w,x.key),b.return=y,y=b):(w=Ky(x.type,x.key,x.props,null,y.mode,w),w.ref=nh(y,b,x),w.return=y,y=w)}return s(y);case ku:e:{for(E=x.key;b!==null;){if(b.key===E)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){n(y,b.sibling),b=i(b,x.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else e(y,b);b=b.sibling}b=l_(x,y.mode,w),b.return=y,y=b}return s(y);case jo:return E=x._init,v(y,b,E(x._payload),w)}if(jh(x))return m(y,b,x,w);if(Zf(x))return g(y,b,x,w);Bg(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(n(y,b.sibling),b=i(b,x),b.return=y,y=b):(n(y,b),b=o_(x,y.mode,w),b.return=y,y=b),s(y)):n(y,b)}return v}var Cd=g3(!0),y3=g3(!1),Sv=jl(null),Ev=null,Du=null,TC=null;function kC(){TC=Du=Ev=null}function OC(t){var e=Sv.current;Ht(Sv),t._currentValue=e}function TS(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ju(t,e){Ev=t,TC=Du=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Cr=!0),t.firstContext=null)}function $i(t){var e=t._currentValue;if(TC!==t)if(t={context:t,memoizedValue:e,next:null},Du===null){if(Ev===null)throw Error(ce(308));Du=t,Ev.dependencies={lanes:0,firstContext:t}}else Du=Du.next=t;return e}var sc=null;function NC(t){sc===null?sc=[t]:sc.push(t)}function v3(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,NC(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ks(t,r)}function Ks(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ao=!1;function PC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function x3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ls(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,dt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ks(t,n)}return i=r.interleaved,i===null?(e.next=e,NC(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ks(t,n)}function Uy(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yC(t,n)}}function mP(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function jv(t,e,n,r){var i=t.updateQueue;Ao=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=c=l=null,o=a;do{var h=o.lane,p=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,g=o;switch(h=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=Jt({},f,h);break e;case 2:Ao=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Tc|=s,t.lanes=s,t.memoizedState=f}}function gP(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ce(191,i));i.call(r)}}}var Um={},Za=jl(Um),Ap=jl(Um),Cp=jl(Um);function oc(t){if(t===Um)throw Error(ce(174));return t}function IC(t,e){switch(It(Cp,e),It(Ap,t),It(Za,Um),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lS(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=lS(e,t)}Ht(Za),It(Za,e)}function Td(){Ht(Za),Ht(Ap),Ht(Cp)}function b3(t){oc(Cp.current);var e=oc(Za.current),n=lS(e,t.type);e!==n&&(It(Ap,t),It(Za,n))}function $C(t){Ap.current===t&&(Ht(Za),Ht(Ap))}var Yt=jl(0);function Av(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var t_=[];function RC(){for(var t=0;t<t_.length;t++)t_[t]._workInProgressVersionPrimary=null;t_.length=0}var Hy=so.ReactCurrentDispatcher,n_=so.ReactCurrentBatchConfig,Cc=0,Zt=null,bn=null,Pn=null,Cv=!1,Hh=!1,Tp=0,NX=0;function Hn(){throw Error(ce(321))}function MC(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ya(t[n],e[n]))return!1;return!0}function LC(t,e,n,r,i,a){if(Cc=a,Zt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hy.current=t===null||t.memoizedState===null?RX:MX,t=n(r,i),Hh){a=0;do{if(Hh=!1,Tp=0,25<=a)throw Error(ce(301));a+=1,Pn=bn=null,e.updateQueue=null,Hy.current=LX,t=n(r,i)}while(Hh)}if(Hy.current=Tv,e=bn!==null&&bn.next!==null,Cc=0,Pn=bn=Zt=null,Cv=!1,e)throw Error(ce(300));return t}function DC(){var t=Tp!==0;return Tp=0,t}function Da(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?Zt.memoizedState=Pn=t:Pn=Pn.next=t,Pn}function Ri(){if(bn===null){var t=Zt.alternate;t=t!==null?t.memoizedState:null}else t=bn.next;var e=Pn===null?Zt.memoizedState:Pn.next;if(e!==null)Pn=e,bn=t;else{if(t===null)throw Error(ce(310));bn=t,t={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},Pn===null?Zt.memoizedState=Pn=t:Pn=Pn.next=t}return Pn}function kp(t,e){return typeof e=="function"?e(t):e}function r_(t){var e=Ri(),n=e.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=bn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var d=c.lane;if((Cc&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,Zt.lanes|=d,Tc|=d}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,ya(r,e.memoizedState)||(Cr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,Zt.lanes|=a,Tc|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function i_(t){var e=Ri(),n=e.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);ya(a,e.memoizedState)||(Cr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function w3(){}function _3(t,e){var n=Zt,r=Ri(),i=e(),a=!ya(r.memoizedState,i);if(a&&(r.memoizedState=i,Cr=!0),r=r.queue,FC(j3.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Pn!==null&&Pn.memoizedState.tag&1){if(n.flags|=2048,Op(9,E3.bind(null,n,r,i,e),void 0,null),$n===null)throw Error(ce(349));Cc&30||S3(n,e,i)}return i}function S3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Zt.updateQueue,e===null?(e={lastEffect:null,stores:null},Zt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function E3(t,e,n,r){e.value=n,e.getSnapshot=r,A3(e)&&C3(t)}function j3(t,e,n){return n(function(){A3(e)&&C3(t)})}function A3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ya(t,n)}catch{return!0}}function C3(t){var e=Ks(t,1);e!==null&&fa(e,t,1,-1)}function yP(t){var e=Da();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kp,lastRenderedState:t},e.queue=t,t=t.dispatch=$X.bind(null,Zt,t),[e.memoizedState,t]}function Op(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Zt.updateQueue,e===null?(e={lastEffect:null,stores:null},Zt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function T3(){return Ri().memoizedState}function Vy(t,e,n,r){var i=Da();Zt.flags|=t,i.memoizedState=Op(1|e,n,void 0,r===void 0?null:r)}function Ax(t,e,n,r){var i=Ri();r=r===void 0?null:r;var a=void 0;if(bn!==null){var s=bn.memoizedState;if(a=s.destroy,r!==null&&MC(r,s.deps)){i.memoizedState=Op(e,n,a,r);return}}Zt.flags|=t,i.memoizedState=Op(1|e,n,a,r)}function vP(t,e){return Vy(8390656,8,t,e)}function FC(t,e){return Ax(2048,8,t,e)}function k3(t,e){return Ax(4,2,t,e)}function O3(t,e){return Ax(4,4,t,e)}function N3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function P3(t,e,n){return n=n!=null?n.concat([t]):null,Ax(4,4,N3.bind(null,e,t),n)}function BC(){}function I3(t,e){var n=Ri();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&MC(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function $3(t,e){var n=Ri();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&MC(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function R3(t,e,n){return Cc&21?(ya(n,e)||(n=B5(),Zt.lanes|=n,Tc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Cr=!0),t.memoizedState=n)}function PX(t,e){var n=St;St=n!==0&&4>n?n:4,t(!0);var r=n_.transition;n_.transition={};try{t(!1),e()}finally{St=n,n_.transition=r}}function M3(){return Ri().memoizedState}function IX(t,e,n){var r=Zo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},L3(t))D3(e,n);else if(n=v3(t,e,n,r),n!==null){var i=pr();fa(n,t,r,i),F3(n,e,r)}}function $X(t,e,n){var r=Zo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(L3(t))D3(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,ya(o,s)){var l=e.interleaved;l===null?(i.next=i,NC(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=v3(t,e,i,r),n!==null&&(i=pr(),fa(n,t,r,i),F3(n,e,r))}}function L3(t){var e=t.alternate;return t===Zt||e!==null&&e===Zt}function D3(t,e){Hh=Cv=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function F3(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yC(t,n)}}var Tv={readContext:$i,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useInsertionEffect:Hn,useLayoutEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useMutableSource:Hn,useSyncExternalStore:Hn,useId:Hn,unstable_isNewReconciler:!1},RX={readContext:$i,useCallback:function(t,e){return Da().memoizedState=[t,e===void 0?null:e],t},useContext:$i,useEffect:vP,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Vy(4194308,4,N3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Vy(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vy(4,2,t,e)},useMemo:function(t,e){var n=Da();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Da();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=IX.bind(null,Zt,t),[r.memoizedState,t]},useRef:function(t){var e=Da();return t={current:t},e.memoizedState=t},useState:yP,useDebugValue:BC,useDeferredValue:function(t){return Da().memoizedState=t},useTransition:function(){var t=yP(!1),e=t[0];return t=PX.bind(null,t[1]),Da().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Zt,i=Da();if(Vt){if(n===void 0)throw Error(ce(407));n=n()}else{if(n=e(),$n===null)throw Error(ce(349));Cc&30||S3(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,vP(j3.bind(null,r,a,t),[t]),r.flags|=2048,Op(9,E3.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Da(),e=$n.identifierPrefix;if(Vt){var n=Ns,r=Os;n=(r&~(1<<32-da(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Tp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=NX++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},MX={readContext:$i,useCallback:I3,useContext:$i,useEffect:FC,useImperativeHandle:P3,useInsertionEffect:k3,useLayoutEffect:O3,useMemo:$3,useReducer:r_,useRef:T3,useState:function(){return r_(kp)},useDebugValue:BC,useDeferredValue:function(t){var e=Ri();return R3(e,bn.memoizedState,t)},useTransition:function(){var t=r_(kp)[0],e=Ri().memoizedState;return[t,e]},useMutableSource:w3,useSyncExternalStore:_3,useId:M3,unstable_isNewReconciler:!1},LX={readContext:$i,useCallback:I3,useContext:$i,useEffect:FC,useImperativeHandle:P3,useInsertionEffect:k3,useLayoutEffect:O3,useMemo:$3,useReducer:i_,useRef:T3,useState:function(){return i_(kp)},useDebugValue:BC,useDeferredValue:function(t){var e=Ri();return bn===null?e.memoizedState=t:R3(e,bn.memoizedState,t)},useTransition:function(){var t=i_(kp)[0],e=Ri().memoizedState;return[t,e]},useMutableSource:w3,useSyncExternalStore:_3,useId:M3,unstable_isNewReconciler:!1};function Ji(t,e){if(t&&t.defaultProps){e=Jt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function kS(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Jt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cx={isMounted:function(t){return(t=t._reactInternals)?Wc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=pr(),i=Zo(t),a=Ls(r,i);a.payload=e,n!=null&&(a.callback=n),e=Yo(t,a,i),e!==null&&(fa(e,t,i,r),Uy(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=pr(),i=Zo(t),a=Ls(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Yo(t,a,i),e!==null&&(fa(e,t,i,r),Uy(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=pr(),r=Zo(t),i=Ls(n,r);i.tag=2,e!=null&&(i.callback=e),e=Yo(t,i,r),e!==null&&(fa(e,t,r,n),Uy(e,t,r))}};function xP(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!_p(n,r)||!_p(i,a):!0}function B3(t,e,n){var r=!1,i=ll,a=e.contextType;return typeof a=="object"&&a!==null?a=$i(a):(i=Nr(e)?jc:Zn.current,r=e.contextTypes,a=(r=r!=null)?jd(t,i):ll),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cx,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function bP(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cx.enqueueReplaceState(e,e.state,null)}function OS(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},PC(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=$i(a):(a=Nr(e)?jc:Zn.current,i.context=jd(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(kS(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Cx.enqueueReplaceState(i,i.state,null),jv(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function kd(t,e){try{var n="",r=e;do n+=dY(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function a_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function NS(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var DX=typeof WeakMap=="function"?WeakMap:Map;function z3(t,e,n){n=Ls(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ov||(Ov=!0,zS=r),NS(t,e)},n}function U3(t,e,n){n=Ls(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){NS(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){NS(t,e),typeof r!="function"&&(Xo===null?Xo=new Set([this]):Xo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function wP(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new DX;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=JX.bind(null,t,e,n),e.then(t,t))}function _P(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function SP(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ls(-1,1),e.tag=2,Yo(n,e,1))),n.lanes|=1),t)}var FX=so.ReactCurrentOwner,Cr=!1;function or(t,e,n,r){e.child=t===null?y3(e,null,n,r):Cd(e,t.child,n,r)}function EP(t,e,n,r,i){n=n.render;var a=e.ref;return Ju(e,i),r=LC(t,e,n,r,a,i),n=DC(),t!==null&&!Cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ys(t,e,i)):(Vt&&n&&jC(e),e.flags|=1,or(t,e,r,i),e.child)}function jP(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!KC(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,H3(t,e,a,r,i)):(t=Ky(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:_p,n(s,r)&&t.ref===e.ref)return Ys(t,e,i)}return e.flags|=1,t=Jo(a,r),t.ref=e.ref,t.return=e,e.child=t}function H3(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(_p(a,r)&&t.ref===e.ref)if(Cr=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Cr=!0);else return e.lanes=t.lanes,Ys(t,e,i)}return PS(t,e,n,r,i)}function V3(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(Bu,Vr),Vr|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,It(Bu,Vr),Vr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,It(Bu,Vr),Vr|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,It(Bu,Vr),Vr|=r;return or(t,e,i,n),e.child}function W3(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function PS(t,e,n,r,i){var a=Nr(n)?jc:Zn.current;return a=jd(e,a),Ju(e,i),n=LC(t,e,n,r,a,i),r=DC(),t!==null&&!Cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ys(t,e,i)):(Vt&&r&&jC(e),e.flags|=1,or(t,e,n,i),e.child)}function AP(t,e,n,r,i){if(Nr(n)){var a=!0;bv(e)}else a=!1;if(Ju(e,i),e.stateNode===null)Wy(t,e),B3(e,n,r),OS(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=$i(c):(c=Nr(n)?jc:Zn.current,c=jd(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&bP(e,s,r,c),Ao=!1;var h=e.memoizedState;s.state=h,jv(e,r,s,i),l=e.memoizedState,o!==r||h!==l||Or.current||Ao?(typeof d=="function"&&(kS(e,n,d,r),l=e.memoizedState),(o=Ao||xP(e,n,o,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,x3(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Ji(e.type,o),s.props=c,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=$i(l):(l=Nr(n)?jc:Zn.current,l=jd(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&bP(e,s,r,l),Ao=!1,h=e.memoizedState,s.state=h,jv(e,r,s,i);var m=e.memoizedState;o!==f||h!==m||Or.current||Ao?(typeof p=="function"&&(kS(e,n,p,r),m=e.memoizedState),(c=Ao||xP(e,n,c,r,h,m,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return IS(t,e,n,r,a,i)}function IS(t,e,n,r,i,a){W3(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&dP(e,n,!1),Ys(t,e,a);r=e.stateNode,FX.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Cd(e,t.child,null,a),e.child=Cd(e,null,o,a)):or(t,e,o,a),e.memoizedState=r.state,i&&dP(e,n,!0),e.child}function q3(t){var e=t.stateNode;e.pendingContext?uP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&uP(t,e.context,!1),IC(t,e.containerInfo)}function CP(t,e,n,r,i){return Ad(),CC(i),e.flags|=256,or(t,e,n,r),e.child}var $S={dehydrated:null,treeContext:null,retryLane:0};function RS(t){return{baseLanes:t,cachePool:null,transitions:null}}function G3(t,e,n){var r=e.pendingProps,i=Yt.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),It(Yt,i&1),t===null)return CS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Ox(s,r,0,null),t=vc(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=RS(n),e.memoizedState=$S,t):zC(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return BX(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Jo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Jo(o,a):(a=vc(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?RS(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=$S,r}return a=t.child,t=a.sibling,r=Jo(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function zC(t,e){return e=Ox({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zg(t,e,n,r){return r!==null&&CC(r),Cd(e,t.child,null,n),t=zC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function BX(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=a_(Error(ce(422))),zg(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Ox({mode:"visible",children:r.children},i,0,null),a=vc(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Cd(e,t.child,null,s),e.child.memoizedState=RS(s),e.memoizedState=$S,a);if(!(e.mode&1))return zg(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(ce(419)),r=a_(a,r,void 0),zg(t,e,s,r)}if(o=(s&t.childLanes)!==0,Cr||o){if(r=$n,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ks(t,i),fa(r,t,i,-1))}return GC(),r=a_(Error(ce(421))),zg(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=QX.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Yr=Ko(i.nextSibling),Qr=e,Vt=!0,sa=null,t!==null&&(_i[Si++]=Os,_i[Si++]=Ns,_i[Si++]=Ac,Os=t.id,Ns=t.overflow,Ac=e),e=zC(e,r.children),e.flags|=4096,e)}function TP(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),TS(t.return,e,n)}function s_(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function K3(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(or(t,e,r.children,n),r=Yt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&TP(t,n,e);else if(t.tag===19)TP(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(It(Yt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Av(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),s_(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Av(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}s_(e,!0,n,null,a);break;case"together":s_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ys(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Tc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ce(153));if(e.child!==null){for(t=e.child,n=Jo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Jo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function zX(t,e,n){switch(e.tag){case 3:q3(e),Ad();break;case 5:b3(e);break;case 1:Nr(e.type)&&bv(e);break;case 4:IC(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;It(Sv,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(It(Yt,Yt.current&1),e.flags|=128,null):n&e.child.childLanes?G3(t,e,n):(It(Yt,Yt.current&1),t=Ys(t,e,n),t!==null?t.sibling:null);It(Yt,Yt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return K3(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),It(Yt,Yt.current),r)break;return null;case 22:case 23:return e.lanes=0,V3(t,e,n)}return Ys(t,e,n)}var Y3,MS,X3,Z3;Y3=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};MS=function(){};X3=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,oc(Za.current);var a=null;switch(n){case"input":i=iS(t,i),r=iS(t,r),a=[];break;case"select":i=Jt({},i,{value:void 0}),r=Jt({},r,{value:void 0}),a=[];break;case"textarea":i=oS(t,i),r=oS(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=vv)}cS(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(mp.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(mp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Bt("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};Z3=function(t,e,n,r){n!==r&&(e.flags|=4)};function rh(t,e){if(!Vt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function UX(t,e,n){var r=e.pendingProps;switch(AC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(e),null;case 1:return Nr(e.type)&&xv(),Vn(e),null;case 3:return r=e.stateNode,Td(),Ht(Or),Ht(Zn),RC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,sa!==null&&(VS(sa),sa=null))),MS(t,e),Vn(e),null;case 5:$C(e);var i=oc(Cp.current);if(n=e.type,t!==null&&e.stateNode!=null)X3(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ce(166));return Vn(e),null}if(t=oc(Za.current),Fg(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Ha]=e,r[jp]=a,t=(e.mode&1)!==0,n){case"dialog":Bt("cancel",r),Bt("close",r);break;case"iframe":case"object":case"embed":Bt("load",r);break;case"video":case"audio":for(i=0;i<Ch.length;i++)Bt(Ch[i],r);break;case"source":Bt("error",r);break;case"img":case"image":case"link":Bt("error",r),Bt("load",r);break;case"details":Bt("toggle",r);break;case"input":LN(r,a),Bt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Bt("invalid",r);break;case"textarea":FN(r,a),Bt("invalid",r)}cS(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Dg(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Dg(r.textContent,o,t),i=["children",""+o]):mp.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Bt("scroll",r)}switch(n){case"input":Og(r),DN(r,a,!0);break;case"textarea":Og(r),BN(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=vv)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=j5(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Ha]=e,t[jp]=r,Y3(t,e,!1,!1),e.stateNode=t;e:{switch(s=uS(n,r),n){case"dialog":Bt("cancel",t),Bt("close",t),i=r;break;case"iframe":case"object":case"embed":Bt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ch.length;i++)Bt(Ch[i],t);i=r;break;case"source":Bt("error",t),i=r;break;case"img":case"image":case"link":Bt("error",t),Bt("load",t),i=r;break;case"details":Bt("toggle",t),i=r;break;case"input":LN(t,r),i=iS(t,r),Bt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Jt({},r,{value:void 0}),Bt("invalid",t);break;case"textarea":FN(t,r),i=oS(t,r),Bt("invalid",t);break;default:i=r}cS(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?T5(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&A5(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&gp(t,l):typeof l=="number"&&gp(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(mp.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Bt("scroll",t):l!=null&&dC(t,a,l,s))}switch(n){case"input":Og(t),DN(t,r,!1);break;case"textarea":Og(t),BN(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ol(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Ku(t,!!r.multiple,a,!1):r.defaultValue!=null&&Ku(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=vv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vn(e),null;case 6:if(t&&e.stateNode!=null)Z3(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ce(166));if(n=oc(Cp.current),oc(Za.current),Fg(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ha]=e,(a=r.nodeValue!==n)&&(t=Qr,t!==null))switch(t.tag){case 3:Dg(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Dg(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ha]=e,e.stateNode=r}return Vn(e),null;case 13:if(Ht(Yt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Vt&&Yr!==null&&e.mode&1&&!(e.flags&128))m3(),Ad(),e.flags|=98560,a=!1;else if(a=Fg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(ce(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ce(317));a[Ha]=e}else Ad(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vn(e),a=!1}else sa!==null&&(VS(sa),sa=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Yt.current&1?Sn===0&&(Sn=3):GC())),e.updateQueue!==null&&(e.flags|=4),Vn(e),null);case 4:return Td(),MS(t,e),t===null&&Sp(e.stateNode.containerInfo),Vn(e),null;case 10:return OC(e.type._context),Vn(e),null;case 17:return Nr(e.type)&&xv(),Vn(e),null;case 19:if(Ht(Yt),a=e.memoizedState,a===null)return Vn(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)rh(a,!1);else{if(Sn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Av(t),s!==null){for(e.flags|=128,rh(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return It(Yt,Yt.current&1|2),e.child}t=t.sibling}a.tail!==null&&cn()>Od&&(e.flags|=128,r=!0,rh(a,!1),e.lanes=4194304)}else{if(!r)if(t=Av(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),rh(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Vt)return Vn(e),null}else 2*cn()-a.renderingStartTime>Od&&n!==1073741824&&(e.flags|=128,r=!0,rh(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=cn(),e.sibling=null,n=Yt.current,It(Yt,r?n&1|2:n&1),e):(Vn(e),null);case 22:case 23:return qC(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Vr&1073741824&&(Vn(e),e.subtreeFlags&6&&(e.flags|=8192)):Vn(e),null;case 24:return null;case 25:return null}throw Error(ce(156,e.tag))}function HX(t,e){switch(AC(e),e.tag){case 1:return Nr(e.type)&&xv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Td(),Ht(Or),Ht(Zn),RC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $C(e),null;case 13:if(Ht(Yt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ce(340));Ad()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ht(Yt),null;case 4:return Td(),null;case 10:return OC(e.type._context),null;case 22:case 23:return qC(),null;case 24:return null;default:return null}}var Ug=!1,Kn=!1,VX=typeof WeakSet=="function"?WeakSet:Set,_e=null;function Fu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){an(t,e,r)}else n.current=null}function LS(t,e,n){try{n()}catch(r){an(t,e,r)}}var kP=!1;function WX(t,e){if(bS=mv,t=n3(),EC(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++c===i&&(o=s),h===a&&++d===r&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(wS={focusedElem:t,selectionRange:n},mv=!1,_e=e;_e!==null;)if(e=_e,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,_e=t;else for(;_e!==null;){e=_e;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:Ji(e.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(w){an(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,_e=t;break}_e=e.return}return m=kP,kP=!1,m}function Vh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&LS(e,n,a)}i=i.next}while(i!==r)}}function Tx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function DS(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function J3(t){var e=t.alternate;e!==null&&(t.alternate=null,J3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ha],delete e[jp],delete e[ES],delete e[CX],delete e[TX])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Q3(t){return t.tag===5||t.tag===3||t.tag===4}function OP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Q3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function FS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=vv));else if(r!==4&&(t=t.child,t!==null))for(FS(t,e,n),t=t.sibling;t!==null;)FS(t,e,n),t=t.sibling}function BS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(BS(t,e,n),t=t.sibling;t!==null;)BS(t,e,n),t=t.sibling}var Dn=null,na=!1;function mo(t,e,n){for(n=n.child;n!==null;)eF(t,e,n),n=n.sibling}function eF(t,e,n){if(Xa&&typeof Xa.onCommitFiberUnmount=="function")try{Xa.onCommitFiberUnmount(bx,n)}catch{}switch(n.tag){case 5:Kn||Fu(n,e);case 6:var r=Dn,i=na;Dn=null,mo(t,e,n),Dn=r,na=i,Dn!==null&&(na?(t=Dn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Dn.removeChild(n.stateNode));break;case 18:Dn!==null&&(na?(t=Dn,n=n.stateNode,t.nodeType===8?Qw(t.parentNode,n):t.nodeType===1&&Qw(t,n),bp(t)):Qw(Dn,n.stateNode));break;case 4:r=Dn,i=na,Dn=n.stateNode.containerInfo,na=!0,mo(t,e,n),Dn=r,na=i;break;case 0:case 11:case 14:case 15:if(!Kn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&LS(n,e,s),i=i.next}while(i!==r)}mo(t,e,n);break;case 1:if(!Kn&&(Fu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){an(n,e,o)}mo(t,e,n);break;case 21:mo(t,e,n);break;case 22:n.mode&1?(Kn=(r=Kn)||n.memoizedState!==null,mo(t,e,n),Kn=r):mo(t,e,n);break;default:mo(t,e,n)}}function NP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new VX),e.forEach(function(r){var i=eZ.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Hi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Dn=o.stateNode,na=!1;break e;case 3:Dn=o.stateNode.containerInfo,na=!0;break e;case 4:Dn=o.stateNode.containerInfo,na=!0;break e}o=o.return}if(Dn===null)throw Error(ce(160));eF(a,s,i),Dn=null,na=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){an(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tF(e,t),e=e.sibling}function tF(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Hi(e,t),Ia(t),r&4){try{Vh(3,t,t.return),Tx(3,t)}catch(g){an(t,t.return,g)}try{Vh(5,t,t.return)}catch(g){an(t,t.return,g)}}break;case 1:Hi(e,t),Ia(t),r&512&&n!==null&&Fu(n,n.return);break;case 5:if(Hi(e,t),Ia(t),r&512&&n!==null&&Fu(n,n.return),t.flags&32){var i=t.stateNode;try{gp(i,"")}catch(g){an(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&S5(i,a),uS(o,s);var c=uS(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?T5(i,f):d==="dangerouslySetInnerHTML"?A5(i,f):d==="children"?gp(i,f):dC(i,d,f,c)}switch(o){case"input":aS(i,a);break;case"textarea":E5(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Ku(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Ku(i,!!a.multiple,a.defaultValue,!0):Ku(i,!!a.multiple,a.multiple?[]:"",!1))}i[jp]=a}catch(g){an(t,t.return,g)}}break;case 6:if(Hi(e,t),Ia(t),r&4){if(t.stateNode===null)throw Error(ce(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){an(t,t.return,g)}}break;case 3:if(Hi(e,t),Ia(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bp(e.containerInfo)}catch(g){an(t,t.return,g)}break;case 4:Hi(e,t),Ia(t);break;case 13:Hi(e,t),Ia(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(VC=cn())),r&4&&NP(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Kn=(c=Kn)||d,Hi(e,t),Kn=c):Hi(e,t),Ia(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(_e=t,d=t.child;d!==null;){for(f=_e=d;_e!==null;){switch(h=_e,p=h.child,h.tag){case 0:case 11:case 14:case 15:Vh(4,h,h.return);break;case 1:Fu(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){an(r,n,g)}}break;case 5:Fu(h,h.return);break;case 22:if(h.memoizedState!==null){IP(f);continue}}p!==null?(p.return=h,_e=p):IP(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=C5("display",s))}catch(g){an(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){an(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Hi(e,t),Ia(t),r&4&&NP(t);break;case 21:break;default:Hi(e,t),Ia(t)}}function Ia(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Q3(n)){var r=n;break e}n=n.return}throw Error(ce(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(gp(i,""),r.flags&=-33);var a=OP(t);BS(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=OP(t);FS(t,o,s);break;default:throw Error(ce(161))}}catch(l){an(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qX(t,e,n){_e=t,nF(t)}function nF(t,e,n){for(var r=(t.mode&1)!==0;_e!==null;){var i=_e,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ug;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Kn;o=Ug;var c=Kn;if(Ug=s,(Kn=l)&&!c)for(_e=i;_e!==null;)s=_e,l=s.child,s.tag===22&&s.memoizedState!==null?$P(i):l!==null?(l.return=s,_e=l):$P(i);for(;a!==null;)_e=a,nF(a),a=a.sibling;_e=i,Ug=o,Kn=c}PP(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,_e=a):PP(t)}}function PP(t){for(;_e!==null;){var e=_e;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kn||Tx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Kn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ji(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&gP(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gP(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&bp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}Kn||e.flags&512&&DS(e)}catch(h){an(e,e.return,h)}}if(e===t){_e=null;break}if(n=e.sibling,n!==null){n.return=e.return,_e=n;break}_e=e.return}}function IP(t){for(;_e!==null;){var e=_e;if(e===t){_e=null;break}var n=e.sibling;if(n!==null){n.return=e.return,_e=n;break}_e=e.return}}function $P(t){for(;_e!==null;){var e=_e;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Tx(4,e)}catch(l){an(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){an(e,i,l)}}var a=e.return;try{DS(e)}catch(l){an(e,a,l)}break;case 5:var s=e.return;try{DS(e)}catch(l){an(e,s,l)}}}catch(l){an(e,e.return,l)}if(e===t){_e=null;break}var o=e.sibling;if(o!==null){o.return=e.return,_e=o;break}_e=e.return}}var GX=Math.ceil,kv=so.ReactCurrentDispatcher,UC=so.ReactCurrentOwner,Oi=so.ReactCurrentBatchConfig,dt=0,$n=null,yn=null,Fn=0,Vr=0,Bu=jl(0),Sn=0,Np=null,Tc=0,kx=0,HC=0,Wh=null,Sr=null,VC=0,Od=1/0,Es=null,Ov=!1,zS=null,Xo=null,Hg=!1,Fo=null,Nv=0,qh=0,US=null,qy=-1,Gy=0;function pr(){return dt&6?cn():qy!==-1?qy:qy=cn()}function Zo(t){return t.mode&1?dt&2&&Fn!==0?Fn&-Fn:OX.transition!==null?(Gy===0&&(Gy=B5()),Gy):(t=St,t!==0||(t=window.event,t=t===void 0?16:G5(t.type)),t):1}function fa(t,e,n,r){if(50<qh)throw qh=0,US=null,Error(ce(185));Fm(t,n,r),(!(dt&2)||t!==$n)&&(t===$n&&(!(dt&2)&&(kx|=n),Sn===4&&Oo(t,Fn)),Pr(t,r),n===1&&dt===0&&!(e.mode&1)&&(Od=cn()+500,jx&&Al()))}function Pr(t,e){var n=t.callbackNode;OY(t,e);var r=pv(t,t===$n?Fn:0);if(r===0)n!==null&&HN(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&HN(n),e===1)t.tag===0?kX(RP.bind(null,t)):f3(RP.bind(null,t)),jX(function(){!(dt&6)&&Al()}),n=null;else{switch(z5(r)){case 1:n=gC;break;case 4:n=D5;break;case 16:n=hv;break;case 536870912:n=F5;break;default:n=hv}n=uF(n,rF.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function rF(t,e){if(qy=-1,Gy=0,dt&6)throw Error(ce(327));var n=t.callbackNode;if(Qu()&&t.callbackNode!==n)return null;var r=pv(t,t===$n?Fn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Pv(t,r);else{e=r;var i=dt;dt|=2;var a=aF();($n!==t||Fn!==e)&&(Es=null,Od=cn()+500,yc(t,e));do try{XX();break}catch(o){iF(t,o)}while(!0);kC(),kv.current=a,dt=i,yn!==null?e=0:($n=null,Fn=0,e=Sn)}if(e!==0){if(e===2&&(i=mS(t),i!==0&&(r=i,e=HS(t,i))),e===1)throw n=Np,yc(t,0),Oo(t,r),Pr(t,cn()),n;if(e===6)Oo(t,r);else{if(i=t.current.alternate,!(r&30)&&!KX(i)&&(e=Pv(t,r),e===2&&(a=mS(t),a!==0&&(r=a,e=HS(t,a))),e===1))throw n=Np,yc(t,0),Oo(t,r),Pr(t,cn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ce(345));case 2:Kl(t,Sr,Es);break;case 3:if(Oo(t,r),(r&130023424)===r&&(e=VC+500-cn(),10<e)){if(pv(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){pr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=SS(Kl.bind(null,t,Sr,Es),e);break}Kl(t,Sr,Es);break;case 4:if(Oo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-da(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=cn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*GX(r/1960))-r,10<r){t.timeoutHandle=SS(Kl.bind(null,t,Sr,Es),r);break}Kl(t,Sr,Es);break;case 5:Kl(t,Sr,Es);break;default:throw Error(ce(329))}}}return Pr(t,cn()),t.callbackNode===n?rF.bind(null,t):null}function HS(t,e){var n=Wh;return t.current.memoizedState.isDehydrated&&(yc(t,e).flags|=256),t=Pv(t,e),t!==2&&(e=Sr,Sr=n,e!==null&&VS(e)),t}function VS(t){Sr===null?Sr=t:Sr.push.apply(Sr,t)}function KX(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ya(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Oo(t,e){for(e&=~HC,e&=~kx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-da(e),r=1<<n;t[n]=-1,e&=~r}}function RP(t){if(dt&6)throw Error(ce(327));Qu();var e=pv(t,0);if(!(e&1))return Pr(t,cn()),null;var n=Pv(t,e);if(t.tag!==0&&n===2){var r=mS(t);r!==0&&(e=r,n=HS(t,r))}if(n===1)throw n=Np,yc(t,0),Oo(t,e),Pr(t,cn()),n;if(n===6)throw Error(ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Kl(t,Sr,Es),Pr(t,cn()),null}function WC(t,e){var n=dt;dt|=1;try{return t(e)}finally{dt=n,dt===0&&(Od=cn()+500,jx&&Al())}}function kc(t){Fo!==null&&Fo.tag===0&&!(dt&6)&&Qu();var e=dt;dt|=1;var n=Oi.transition,r=St;try{if(Oi.transition=null,St=1,t)return t()}finally{St=r,Oi.transition=n,dt=e,!(dt&6)&&Al()}}function qC(){Vr=Bu.current,Ht(Bu)}function yc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,EX(n)),yn!==null)for(n=yn.return;n!==null;){var r=n;switch(AC(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xv();break;case 3:Td(),Ht(Or),Ht(Zn),RC();break;case 5:$C(r);break;case 4:Td();break;case 13:Ht(Yt);break;case 19:Ht(Yt);break;case 10:OC(r.type._context);break;case 22:case 23:qC()}n=n.return}if($n=t,yn=t=Jo(t.current,null),Fn=Vr=e,Sn=0,Np=null,HC=kx=Tc=0,Sr=Wh=null,sc!==null){for(e=0;e<sc.length;e++)if(n=sc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}sc=null}return t}function iF(t,e){do{var n=yn;try{if(kC(),Hy.current=Tv,Cv){for(var r=Zt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cv=!1}if(Cc=0,Pn=bn=Zt=null,Hh=!1,Tp=0,UC.current=null,n===null||n.return===null){Sn=1,Np=e,yn=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=Fn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=_P(s);if(p!==null){p.flags&=-257,SP(p,s,o,a,e),p.mode&1&&wP(a,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){wP(a,c,e),GC();break e}l=Error(ce(426))}}else if(Vt&&o.mode&1){var v=_P(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),SP(v,s,o,a,e),CC(kd(l,o));break e}}a=l=kd(l,o),Sn!==4&&(Sn=2),Wh===null?Wh=[a]:Wh.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=z3(a,l,e);mP(a,y);break e;case 1:o=l;var b=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Xo===null||!Xo.has(x)))){a.flags|=65536,e&=-e,a.lanes|=e;var w=U3(a,o,e);mP(a,w);break e}}a=a.return}while(a!==null)}oF(n)}catch(S){e=S,yn===n&&n!==null&&(yn=n=n.return);continue}break}while(!0)}function aF(){var t=kv.current;return kv.current=Tv,t===null?Tv:t}function GC(){(Sn===0||Sn===3||Sn===2)&&(Sn=4),$n===null||!(Tc&268435455)&&!(kx&268435455)||Oo($n,Fn)}function Pv(t,e){var n=dt;dt|=2;var r=aF();($n!==t||Fn!==e)&&(Es=null,yc(t,e));do try{YX();break}catch(i){iF(t,i)}while(!0);if(kC(),dt=n,kv.current=r,yn!==null)throw Error(ce(261));return $n=null,Fn=0,Sn}function YX(){for(;yn!==null;)sF(yn)}function XX(){for(;yn!==null&&!wY();)sF(yn)}function sF(t){var e=cF(t.alternate,t,Vr);t.memoizedProps=t.pendingProps,e===null?oF(t):yn=e,UC.current=null}function oF(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=HX(n,e),n!==null){n.flags&=32767,yn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Sn=6,yn=null;return}}else if(n=UX(n,e,Vr),n!==null){yn=n;return}if(e=e.sibling,e!==null){yn=e;return}yn=e=t}while(e!==null);Sn===0&&(Sn=5)}function Kl(t,e,n){var r=St,i=Oi.transition;try{Oi.transition=null,St=1,ZX(t,e,n,r)}finally{Oi.transition=i,St=r}return null}function ZX(t,e,n,r){do Qu();while(Fo!==null);if(dt&6)throw Error(ce(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ce(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(NY(t,a),t===$n&&(yn=$n=null,Fn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hg||(Hg=!0,uF(hv,function(){return Qu(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Oi.transition,Oi.transition=null;var s=St;St=1;var o=dt;dt|=4,UC.current=null,WX(t,n),tF(n,t),yX(wS),mv=!!bS,wS=bS=null,t.current=n,qX(n),_Y(),dt=o,St=s,Oi.transition=a}else t.current=n;if(Hg&&(Hg=!1,Fo=t,Nv=i),a=t.pendingLanes,a===0&&(Xo=null),jY(n.stateNode),Pr(t,cn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ov)throw Ov=!1,t=zS,zS=null,t;return Nv&1&&t.tag!==0&&Qu(),a=t.pendingLanes,a&1?t===US?qh++:(qh=0,US=t):qh=0,Al(),null}function Qu(){if(Fo!==null){var t=z5(Nv),e=Oi.transition,n=St;try{if(Oi.transition=null,St=16>t?16:t,Fo===null)var r=!1;else{if(t=Fo,Fo=null,Nv=0,dt&6)throw Error(ce(331));var i=dt;for(dt|=4,_e=t.current;_e!==null;){var a=_e,s=a.child;if(_e.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(_e=c;_e!==null;){var d=_e;switch(d.tag){case 0:case 11:case 15:Vh(8,d,a)}var f=d.child;if(f!==null)f.return=d,_e=f;else for(;_e!==null;){d=_e;var h=d.sibling,p=d.return;if(J3(d),d===c){_e=null;break}if(h!==null){h.return=p,_e=h;break}_e=p}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}_e=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,_e=s;else e:for(;_e!==null;){if(a=_e,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Vh(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,_e=y;break e}_e=a.return}}var b=t.current;for(_e=b;_e!==null;){s=_e;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,_e=x;else e:for(s=b;_e!==null;){if(o=_e,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Tx(9,o)}}catch(S){an(o,o.return,S)}if(o===s){_e=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,_e=w;break e}_e=o.return}}if(dt=i,Al(),Xa&&typeof Xa.onPostCommitFiberRoot=="function")try{Xa.onPostCommitFiberRoot(bx,t)}catch{}r=!0}return r}finally{St=n,Oi.transition=e}}return!1}function MP(t,e,n){e=kd(n,e),e=z3(t,e,1),t=Yo(t,e,1),e=pr(),t!==null&&(Fm(t,1,e),Pr(t,e))}function an(t,e,n){if(t.tag===3)MP(t,t,n);else for(;e!==null;){if(e.tag===3){MP(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xo===null||!Xo.has(r))){t=kd(n,t),t=U3(e,t,1),e=Yo(e,t,1),t=pr(),e!==null&&(Fm(e,1,t),Pr(e,t));break}}e=e.return}}function JX(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=pr(),t.pingedLanes|=t.suspendedLanes&n,$n===t&&(Fn&n)===n&&(Sn===4||Sn===3&&(Fn&130023424)===Fn&&500>cn()-VC?yc(t,0):HC|=n),Pr(t,e)}function lF(t,e){e===0&&(t.mode&1?(e=Ig,Ig<<=1,!(Ig&130023424)&&(Ig=4194304)):e=1);var n=pr();t=Ks(t,e),t!==null&&(Fm(t,e,n),Pr(t,n))}function QX(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),lF(t,n)}function eZ(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ce(314))}r!==null&&r.delete(e),lF(t,n)}var cF;cF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Or.current)Cr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Cr=!1,zX(t,e,n);Cr=!!(t.flags&131072)}else Cr=!1,Vt&&e.flags&1048576&&h3(e,_v,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wy(t,e),t=e.pendingProps;var i=jd(e,Zn.current);Ju(e,n),i=LC(null,e,r,t,i,n);var a=DC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nr(r)?(a=!0,bv(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,PC(e),i.updater=Cx,e.stateNode=i,i._reactInternals=e,OS(e,r,t,n),e=IS(null,e,r,!0,a,n)):(e.tag=0,Vt&&a&&jC(e),or(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wy(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=nZ(r),t=Ji(r,t),i){case 0:e=PS(null,e,r,t,n);break e;case 1:e=AP(null,e,r,t,n);break e;case 11:e=EP(null,e,r,t,n);break e;case 14:e=jP(null,e,r,Ji(r.type,t),n);break e}throw Error(ce(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ji(r,i),PS(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ji(r,i),AP(t,e,r,i,n);case 3:e:{if(q3(e),t===null)throw Error(ce(387));r=e.pendingProps,a=e.memoizedState,i=a.element,x3(t,e),jv(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=kd(Error(ce(423)),e),e=CP(t,e,r,n,i);break e}else if(r!==i){i=kd(Error(ce(424)),e),e=CP(t,e,r,n,i);break e}else for(Yr=Ko(e.stateNode.containerInfo.firstChild),Qr=e,Vt=!0,sa=null,n=y3(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ad(),r===i){e=Ys(t,e,n);break e}or(t,e,r,n)}e=e.child}return e;case 5:return b3(e),t===null&&CS(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,_S(r,i)?s=null:a!==null&&_S(r,a)&&(e.flags|=32),W3(t,e),or(t,e,s,n),e.child;case 6:return t===null&&CS(e),null;case 13:return G3(t,e,n);case 4:return IC(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Cd(e,null,r,n):or(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ji(r,i),EP(t,e,r,i,n);case 7:return or(t,e,e.pendingProps,n),e.child;case 8:return or(t,e,e.pendingProps.children,n),e.child;case 12:return or(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,It(Sv,r._currentValue),r._currentValue=s,a!==null)if(ya(a.value,s)){if(a.children===i.children&&!Or.current){e=Ys(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Ls(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),TS(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(ce(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),TS(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}or(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ju(e,n),i=$i(i),r=r(i),e.flags|=1,or(t,e,r,n),e.child;case 14:return r=e.type,i=Ji(r,e.pendingProps),i=Ji(r.type,i),jP(t,e,r,i,n);case 15:return H3(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ji(r,i),Wy(t,e),e.tag=1,Nr(r)?(t=!0,bv(e)):t=!1,Ju(e,n),B3(e,r,i),OS(e,r,i,n),IS(null,e,r,!0,t,n);case 19:return K3(t,e,n);case 22:return V3(t,e,n)}throw Error(ce(156,e.tag))};function uF(t,e){return L5(t,e)}function tZ(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ai(t,e,n,r){return new tZ(t,e,n,r)}function KC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nZ(t){if(typeof t=="function")return KC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hC)return 11;if(t===pC)return 14}return 2}function Jo(t,e){var n=t.alternate;return n===null?(n=Ai(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ky(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")KC(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ou:return vc(n.children,i,a,e);case fC:s=8,i|=8;break;case eS:return t=Ai(12,n,e,i|2),t.elementType=eS,t.lanes=a,t;case tS:return t=Ai(13,n,e,i),t.elementType=tS,t.lanes=a,t;case nS:return t=Ai(19,n,e,i),t.elementType=nS,t.lanes=a,t;case b5:return Ox(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case v5:s=10;break e;case x5:s=9;break e;case hC:s=11;break e;case pC:s=14;break e;case jo:s=16,r=null;break e}throw Error(ce(130,t==null?t:typeof t,""))}return e=Ai(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function vc(t,e,n,r){return t=Ai(7,t,r,e),t.lanes=n,t}function Ox(t,e,n,r){return t=Ai(22,t,r,e),t.elementType=b5,t.lanes=n,t.stateNode={isHidden:!1},t}function o_(t,e,n){return t=Ai(6,t,null,e),t.lanes=n,t}function l_(t,e,n){return e=Ai(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rZ(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uw(0),this.expirationTimes=Uw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function YC(t,e,n,r,i,a,s,o,l){return t=new rZ(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ai(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},PC(a),t}function iZ(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ku,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function dF(t){if(!t)return ll;t=t._reactInternals;e:{if(Wc(t)!==t||t.tag!==1)throw Error(ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ce(171))}if(t.tag===1){var n=t.type;if(Nr(n))return d3(t,n,e)}return e}function fF(t,e,n,r,i,a,s,o,l){return t=YC(n,r,!0,t,i,a,s,o,l),t.context=dF(null),n=t.current,r=pr(),i=Zo(n),a=Ls(r,i),a.callback=e??null,Yo(n,a,i),t.current.lanes=i,Fm(t,i,r),Pr(t,r),t}function Nx(t,e,n,r){var i=e.current,a=pr(),s=Zo(i);return n=dF(n),e.context===null?e.context=n:e.pendingContext=n,e=Ls(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Yo(i,e,s),t!==null&&(fa(t,i,s,a),Uy(t,i,s)),s}function Iv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function LP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function XC(t,e){LP(t,e),(t=t.alternate)&&LP(t,e)}function aZ(){return null}var hF=typeof reportError=="function"?reportError:function(t){console.error(t)};function ZC(t){this._internalRoot=t}Px.prototype.render=ZC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ce(409));Nx(t,e,null,null)};Px.prototype.unmount=ZC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;kc(function(){Nx(null,t,null,null)}),e[Gs]=null}};function Px(t){this._internalRoot=t}Px.prototype.unstable_scheduleHydration=function(t){if(t){var e=V5();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ko.length&&e!==0&&e<ko[n].priority;n++);ko.splice(n,0,t),n===0&&q5(t)}};function JC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ix(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function DP(){}function sZ(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=Iv(s);a.call(c)}}var s=fF(e,r,t,0,null,!1,!1,"",DP);return t._reactRootContainer=s,t[Gs]=s.current,Sp(t.nodeType===8?t.parentNode:t),kc(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=Iv(l);o.call(c)}}var l=YC(t,0,!1,null,null,!1,!1,"",DP);return t._reactRootContainer=l,t[Gs]=l.current,Sp(t.nodeType===8?t.parentNode:t),kc(function(){Nx(e,l,n,r)}),l}function $x(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Iv(s);o.call(l)}}Nx(e,s,t,i)}else s=sZ(n,e,t,i,r);return Iv(s)}U5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ah(e.pendingLanes);n!==0&&(yC(e,n|1),Pr(e,cn()),!(dt&6)&&(Od=cn()+500,Al()))}break;case 13:kc(function(){var r=Ks(t,1);if(r!==null){var i=pr();fa(r,t,1,i)}}),XC(t,1)}};vC=function(t){if(t.tag===13){var e=Ks(t,134217728);if(e!==null){var n=pr();fa(e,t,134217728,n)}XC(t,134217728)}};H5=function(t){if(t.tag===13){var e=Zo(t),n=Ks(t,e);if(n!==null){var r=pr();fa(n,t,e,r)}XC(t,e)}};V5=function(){return St};W5=function(t,e){var n=St;try{return St=t,e()}finally{St=n}};fS=function(t,e,n){switch(e){case"input":if(aS(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ex(r);if(!i)throw Error(ce(90));_5(r),aS(r,i)}}}break;case"textarea":E5(t,n);break;case"select":e=n.value,e!=null&&Ku(t,!!n.multiple,e,!1)}};N5=WC;P5=kc;var oZ={usingClientEntryPoint:!1,Events:[zm,$u,Ex,k5,O5,WC]},ih={findFiberByHostInstance:ac,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lZ={bundleType:ih.bundleType,version:ih.version,rendererPackageName:ih.rendererPackageName,rendererConfig:ih.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:so.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=R5(t),t===null?null:t.stateNode},findFiberByHostInstance:ih.findFiberByHostInstance||aZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vg.isDisabled&&Vg.supportsFiber)try{bx=Vg.inject(lZ),Xa=Vg}catch{}}fi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oZ;fi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!JC(e))throw Error(ce(200));return iZ(t,e,null,n)};fi.createRoot=function(t,e){if(!JC(t))throw Error(ce(299));var n=!1,r="",i=hF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=YC(t,1,!1,null,null,n,!1,r,i),t[Gs]=e.current,Sp(t.nodeType===8?t.parentNode:t),new ZC(e)};fi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ce(188)):(t=Object.keys(t).join(","),Error(ce(268,t)));return t=R5(e),t=t===null?null:t.stateNode,t};fi.flushSync=function(t){return kc(t)};fi.hydrate=function(t,e,n){if(!Ix(e))throw Error(ce(200));return $x(null,t,e,!0,n)};fi.hydrateRoot=function(t,e,n){if(!JC(t))throw Error(ce(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=hF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=fF(e,null,t,1,n??null,i,!1,a,s),t[Gs]=e.current,Sp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Px(e)};fi.render=function(t,e,n){if(!Ix(e))throw Error(ce(200));return $x(null,t,e,!1,n)};fi.unmountComponentAtNode=function(t){if(!Ix(t))throw Error(ce(40));return t._reactRootContainer?(kc(function(){$x(null,null,t,!1,function(){t._reactRootContainer=null,t[Gs]=null})}),!0):!1};fi.unstable_batchedUpdates=WC;fi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ix(n))throw Error(ce(200));if(t==null||t._reactInternals===void 0)throw Error(ce(38));return $x(t,e,n,!1,r)};fi.version="18.3.1-next-f1338f8080-20240426";function pF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pF)}catch(t){console.error(t)}}pF(),p5.exports=fi;var qc=p5.exports;const mF=at(qc);var gF,FP=qc;gF=FP.createRoot,FP.hydrateRoot;var Rx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Mx=typeof window>"u"||"Deno"in globalThis;function Qi(){}function cZ(t,e){return typeof t=="function"?t(e):t}function uZ(t){return typeof t=="number"&&t>=0&&t!==1/0}function dZ(t,e){return Math.max(t+(e||0)-Date.now(),0)}function BP(t,e){return typeof t=="function"?t(e):t}function fZ(t,e){return typeof t=="function"?t(e):t}function zP(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:s,stale:o}=t;if(s){if(r){if(e.queryHash!==QC(s,e.options))return!1}else if(!Ip(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||a&&!a(e))}function UP(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(Pp(e.options.mutationKey)!==Pp(a))return!1}else if(!Ip(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function QC(t,e){return((e==null?void 0:e.queryKeyHashFn)||Pp)(t)}function Pp(t){return JSON.stringify(t,(e,n)=>WS(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Ip(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Ip(t[n],e[n])):!1}function yF(t,e){if(t===e)return t;const n=HP(t)&&HP(e);if(n||WS(t)&&WS(e)){const r=n?t:Object.keys(t),i=r.length,a=n?e:Object.keys(e),s=a.length,o=n?[]:{};let l=0;for(let c=0;c<s;c++){const d=n?c:a[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(o[d]=void 0,l++):(o[d]=yF(t[d],e[d]),o[d]===t[d]&&t[d]!==void 0&&l++)}return i===s&&l===i?t:o}return e}function HP(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function WS(t){if(!VP(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!VP(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function VP(t){return Object.prototype.toString.call(t)==="[object Object]"}function hZ(t){return new Promise(e=>{setTimeout(e,t)})}function pZ(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?yF(t,e):e}function mZ(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function gZ(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var eT=Symbol();function vF(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===eT?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var fc,Io,md,G4,yZ=(G4=class extends Rx{constructor(){super();xt(this,fc);xt(this,Io);xt(this,md);nt(this,md,e=>{if(!Mx&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ne(this,Io)||this.setEventListener(ne(this,md))}onUnsubscribe(){var e;this.hasListeners()||((e=ne(this,Io))==null||e.call(this),nt(this,Io,void 0))}setEventListener(e){var n;nt(this,md,e),(n=ne(this,Io))==null||n.call(this),nt(this,Io,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ne(this,fc)!==e&&(nt(this,fc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ne(this,fc)=="boolean"?ne(this,fc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},fc=new WeakMap,Io=new WeakMap,md=new WeakMap,G4),xF=new yZ,gd,$o,yd,K4,vZ=(K4=class extends Rx{constructor(){super();xt(this,gd,!0);xt(this,$o);xt(this,yd);nt(this,yd,e=>{if(!Mx&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ne(this,$o)||this.setEventListener(ne(this,yd))}onUnsubscribe(){var e;this.hasListeners()||((e=ne(this,$o))==null||e.call(this),nt(this,$o,void 0))}setEventListener(e){var n;nt(this,yd,e),(n=ne(this,$o))==null||n.call(this),nt(this,$o,e(this.setOnline.bind(this)))}setOnline(e){ne(this,gd)!==e&&(nt(this,gd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ne(this,gd)}},gd=new WeakMap,$o=new WeakMap,yd=new WeakMap,K4),$v=new vZ;function xZ(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function bZ(t){return Math.min(1e3*2**t,3e4)}function bF(t){return(t??"online")==="online"?$v.isOnline():!0}var wF=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function c_(t){return t instanceof wF}function _F(t){let e=!1,n=0,r=!1,i;const a=xZ(),s=g=>{var v;r||(h(new wF(g)),(v=t.abort)==null||v.call(t))},o=()=>{e=!0},l=()=>{e=!1},c=()=>xF.isFocused()&&(t.networkMode==="always"||$v.isOnline())&&t.canRun(),d=()=>bF(t.networkMode)&&t.canRun(),f=g=>{var v;r||(r=!0,(v=t.onSuccess)==null||v.call(t,g),i==null||i(),a.resolve(g))},h=g=>{var v;r||(r=!0,(v=t.onError)==null||v.call(t,g),i==null||i(),a.reject(g))},p=()=>new Promise(g=>{var v;i=y=>{(r||c())&&g(y)},(v=t.onPause)==null||v.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),m=()=>{if(r)return;let g;const v=n===0?t.initialPromise:void 0;try{g=v??t.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(f).catch(y=>{var E;if(r)return;const b=t.retry??(Mx?0:3),x=t.retryDelay??bZ,w=typeof x=="function"?x(n,y):x,S=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,y);if(e||!S){h(y);return}n++,(E=t.onFail)==null||E.call(t,n,y),hZ(w).then(()=>c()?void 0:p()).then(()=>{e?h(y):m()})})};return{promise:a,cancel:s,continue:()=>(i==null||i(),a),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?m():p().then(m),a)}}function wZ(){let t=[],e=0,n=o=>{o()},r=o=>{o()},i=o=>setTimeout(o,0);const a=o=>{e?t.push(o):i(()=>{n(o)})},s=()=>{const o=t;t=[],o.length&&i(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||s()}return l},batchCalls:o=>(...l)=>{a(()=>{o(...l)})},schedule:a,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var cr=wZ(),hc,Y4,SF=(Y4=class{constructor(){xt(this,hc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),uZ(this.gcTime)&&nt(this,hc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Mx?1/0:5*60*1e3))}clearGcTimeout(){ne(this,hc)&&(clearTimeout(ne(this,hc)),nt(this,hc,void 0))}},hc=new WeakMap,Y4),vd,xd,wi,qn,Mm,pc,ta,_s,X4,_Z=(X4=class extends SF{constructor(e){super();xt(this,ta);xt(this,vd);xt(this,xd);xt(this,wi);xt(this,qn);xt(this,Mm);xt(this,pc);nt(this,pc,!1),nt(this,Mm,e.defaultOptions),this.setOptions(e.options),this.observers=[],nt(this,wi,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,nt(this,vd,EZ(this.options)),this.state=e.state??ne(this,vd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ne(this,qn))==null?void 0:e.promise}setOptions(e){this.options={...ne(this,Mm),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ne(this,wi).remove(this)}setData(e,n){const r=pZ(this.state.data,e,this.options);return Un(this,ta,_s).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Un(this,ta,_s).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=ne(this,qn))==null?void 0:r.promise;return(i=ne(this,qn))==null||i.cancel(e),n?n.then(Qi).catch(Qi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ne(this,vd))}isActive(){return this.observers.some(e=>fZ(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===eT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!dZ(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=ne(this,qn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=ne(this,qn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ne(this,wi).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(ne(this,qn)&&(ne(this,pc)?ne(this,qn).cancel({revert:!0}):ne(this,qn).cancelRetry()),this.scheduleGc()),ne(this,wi).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Un(this,ta,_s).call(this,{type:"invalidate"})}fetch(e,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ne(this,qn))return ne(this,qn).continueRetry(),ne(this,qn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(nt(this,pc,!0),r.signal)})},a=()=>{const f=vF(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return i(h),nt(this,pc,!1),this.options.persister?this.options.persister(f,h,this):f(h)},s={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(s),(l=this.options.behavior)==null||l.onFetch(s,this),nt(this,xd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=s.fetchOptions)==null?void 0:c.meta))&&Un(this,ta,_s).call(this,{type:"fetch",meta:(d=s.fetchOptions)==null?void 0:d.meta});const o=f=>{var h,p,m,g;c_(f)&&f.silent||Un(this,ta,_s).call(this,{type:"error",error:f}),c_(f)||((p=(h=ne(this,wi).config).onError)==null||p.call(h,f,this),(g=(m=ne(this,wi).config).onSettled)==null||g.call(m,this.state.data,f,this)),this.scheduleGc()};return nt(this,qn,_F({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,p,m,g;if(f===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(v){o(v);return}(p=(h=ne(this,wi).config).onSuccess)==null||p.call(h,f,this),(g=(m=ne(this,wi).config).onSettled)==null||g.call(m,f,this.state.error,this),this.scheduleGc()},onError:o,onFail:(f,h)=>{Un(this,ta,_s).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Un(this,ta,_s).call(this,{type:"pause"})},onContinue:()=>{Un(this,ta,_s).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),ne(this,qn).start()}},vd=new WeakMap,xd=new WeakMap,wi=new WeakMap,qn=new WeakMap,Mm=new WeakMap,pc=new WeakMap,ta=new WeakSet,_s=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...SZ(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return c_(i)&&i.revert&&ne(this,xd)?{...ne(this,xd),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),cr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ne(this,wi).notify({query:this,type:"updated",action:e})})},X4);function SZ(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:bF(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function EZ(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ba,Z4,jZ=(Z4=class extends Rx{constructor(e={}){super();xt(this,Ba);this.config=e,nt(this,Ba,new Map)}build(e,n,r){const i=n.queryKey,a=n.queryHash??QC(i,n);let s=this.get(a);return s||(s=new _Z({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){ne(this,Ba).has(e.queryHash)||(ne(this,Ba).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ne(this,Ba).get(e.queryHash);n&&(e.destroy(),n===e&&ne(this,Ba).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){cr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ne(this,Ba).get(e)}getAll(){return[...ne(this,Ba).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>zP(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>zP(e,r)):n}notify(e){cr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){cr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){cr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ba=new WeakMap,Z4),za,sr,mc,Ua,_o,J4,AZ=(J4=class extends SF{constructor(e){super();xt(this,Ua);xt(this,za);xt(this,sr);xt(this,mc);this.mutationId=e.mutationId,nt(this,sr,e.mutationCache),nt(this,za,[]),this.state=e.state||CZ(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ne(this,za).includes(e)||(ne(this,za).push(e),this.clearGcTimeout(),ne(this,sr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){nt(this,za,ne(this,za).filter(n=>n!==e)),this.scheduleGc(),ne(this,sr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ne(this,za).length||(this.state.status==="pending"?this.scheduleGc():ne(this,sr).remove(this))}continue(){var e;return((e=ne(this,mc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,s,o,l,c,d,f,h,p,m,g,v,y,b,x,w,S,E,A;nt(this,mc,_F({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(j,C)=>{Un(this,Ua,_o).call(this,{type:"failed",failureCount:j,error:C})},onPause:()=>{Un(this,Ua,_o).call(this,{type:"pause"})},onContinue:()=>{Un(this,Ua,_o).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ne(this,sr).canRun(this)}));const n=this.state.status==="pending",r=!ne(this,mc).canStart();try{if(!n){Un(this,Ua,_o).call(this,{type:"pending",variables:e,isPaused:r}),await((a=(i=ne(this,sr).config).onMutate)==null?void 0:a.call(i,e,this));const C=await((o=(s=this.options).onMutate)==null?void 0:o.call(s,e));C!==this.state.context&&Un(this,Ua,_o).call(this,{type:"pending",context:C,variables:e,isPaused:r})}const j=await ne(this,mc).start();return await((c=(l=ne(this,sr).config).onSuccess)==null?void 0:c.call(l,j,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,j,e,this.state.context)),await((p=(h=ne(this,sr).config).onSettled)==null?void 0:p.call(h,j,null,this.state.variables,this.state.context,this)),await((g=(m=this.options).onSettled)==null?void 0:g.call(m,j,null,e,this.state.context)),Un(this,Ua,_o).call(this,{type:"success",data:j}),j}catch(j){try{throw await((y=(v=ne(this,sr).config).onError)==null?void 0:y.call(v,j,e,this.state.context,this)),await((x=(b=this.options).onError)==null?void 0:x.call(b,j,e,this.state.context)),await((S=(w=ne(this,sr).config).onSettled)==null?void 0:S.call(w,void 0,j,this.state.variables,this.state.context,this)),await((A=(E=this.options).onSettled)==null?void 0:A.call(E,void 0,j,e,this.state.context)),j}finally{Un(this,Ua,_o).call(this,{type:"error",error:j})}}finally{ne(this,sr).runNext(this)}}},za=new WeakMap,sr=new WeakMap,mc=new WeakMap,Ua=new WeakSet,_o=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),cr.batch(()=>{ne(this,za).forEach(r=>{r.onMutationUpdate(e)}),ne(this,sr).notify({mutation:this,type:"updated",action:e})})},J4);function CZ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ur,Lm,Q4,TZ=(Q4=class extends Rx{constructor(e={}){super();xt(this,Ur);xt(this,Lm);this.config=e,nt(this,Ur,new Map),nt(this,Lm,Date.now())}build(e,n,r){const i=new AZ({mutationCache:this,mutationId:++Cg(this,Lm)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Wg(e),r=ne(this,Ur).get(n)??[];r.push(e),ne(this,Ur).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Wg(e);if(ne(this,Ur).has(n)){const i=(r=ne(this,Ur).get(n))==null?void 0:r.filter(a=>a!==e);i&&(i.length===0?ne(this,Ur).delete(n):ne(this,Ur).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=ne(this,Ur).get(Wg(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=ne(this,Ur).get(Wg(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){cr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...ne(this,Ur).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>UP(n,r))}findAll(e={}){return this.getAll().filter(n=>UP(e,n))}notify(e){cr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return cr.batch(()=>Promise.all(e.map(n=>n.continue().catch(Qi))))}},Ur=new WeakMap,Lm=new WeakMap,Q4);function Wg(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function WP(t){return{onFetch:(e,n)=>{var d,f,h,p,m;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((p=e.state.data)==null?void 0:p.pages)||[],s=((m=e.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const v=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},y=vF(e.options,e.fetchOptions),b=async(x,w,S)=>{if(g)return Promise.reject();if(w==null&&x.pages.length)return Promise.resolve(x);const E={queryKey:e.queryKey,pageParam:w,direction:S?"backward":"forward",meta:e.options.meta};v(E);const A=await y(E),{maxPages:j}=e.options,C=S?gZ:mZ;return{pages:C(x.pages,A,j),pageParams:C(x.pageParams,w,j)}};if(i&&a.length){const x=i==="backward",w=x?kZ:qP,S={pages:a,pageParams:s},E=w(r,S);o=await b(S,E,x)}else{const x=t??a.length;do{const w=l===0?s[0]??r.initialPageParam:qP(r,o);if(l>0&&w==null)break;o=await b(o,w),l++}while(l<x)}return o};e.options.persister?e.fetchFn=()=>{var g,v;return(v=(g=e.options).persister)==null?void 0:v.call(g,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function qP(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function kZ(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var en,Ro,Mo,bd,wd,Lo,_d,Sd,e5,OZ=(e5=class{constructor(t={}){xt(this,en);xt(this,Ro);xt(this,Mo);xt(this,bd);xt(this,wd);xt(this,Lo);xt(this,_d);xt(this,Sd);nt(this,en,t.queryCache||new jZ),nt(this,Ro,t.mutationCache||new TZ),nt(this,Mo,t.defaultOptions||{}),nt(this,bd,new Map),nt(this,wd,new Map),nt(this,Lo,0)}mount(){Cg(this,Lo)._++,ne(this,Lo)===1&&(nt(this,_d,xF.subscribe(async t=>{t&&(await this.resumePausedMutations(),ne(this,en).onFocus())})),nt(this,Sd,$v.subscribe(async t=>{t&&(await this.resumePausedMutations(),ne(this,en).onOnline())})))}unmount(){var t,e;Cg(this,Lo)._--,ne(this,Lo)===0&&((t=ne(this,_d))==null||t.call(this),nt(this,_d,void 0),(e=ne(this,Sd))==null||e.call(this),nt(this,Sd,void 0))}isFetching(t){return ne(this,en).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ne(this,Ro).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ne(this,en).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=ne(this,en).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(BP(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return ne(this,en).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=ne(this,en).get(r.queryHash),a=i==null?void 0:i.state.data,s=cZ(e,a);if(s!==void 0)return ne(this,en).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return cr.batch(()=>ne(this,en).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ne(this,en).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ne(this,en);cr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ne(this,en),r={type:"active",...t};return cr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=cr.batch(()=>ne(this,en).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Qi).catch(Qi)}invalidateQueries(t={},e={}){return cr.batch(()=>{if(ne(this,en).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=cr.batch(()=>ne(this,en).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Qi)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Qi)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ne(this,en).build(this,e);return n.isStaleByTime(BP(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Qi).catch(Qi)}fetchInfiniteQuery(t){return t.behavior=WP(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Qi).catch(Qi)}ensureInfiniteQueryData(t){return t.behavior=WP(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return $v.isOnline()?ne(this,Ro).resumePausedMutations():Promise.resolve()}getQueryCache(){return ne(this,en)}getMutationCache(){return ne(this,Ro)}getDefaultOptions(){return ne(this,Mo)}setDefaultOptions(t){nt(this,Mo,t)}setQueryDefaults(t,e){ne(this,bd).set(Pp(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ne(this,bd).values()];let n={};return e.forEach(r=>{Ip(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){ne(this,wd).set(Pp(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ne(this,wd).values()];let n={};return e.forEach(r=>{Ip(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ne(this,Mo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=QC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===eT&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ne(this,Mo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ne(this,en).clear(),ne(this,Ro).clear()}},en=new WeakMap,Ro=new WeakMap,Mo=new WeakMap,bd=new WeakMap,wd=new WeakMap,Lo=new WeakMap,_d=new WeakMap,Sd=new WeakMap,e5),NZ=_.createContext(void 0),PZ=({client:t,children:e})=>(_.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(NZ.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $p(){return $p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$p.apply(this,arguments)}var Bo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bo||(Bo={}));const GP="popstate";function IZ(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return qS("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Rv(i)}return RZ(e,n,null,t)}function dn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function EF(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $Z(){return Math.random().toString(36).substr(2,8)}function KP(t,e){return{usr:t.state,key:t.key,idx:e}}function qS(t,e,n,r){return n===void 0&&(n=null),$p({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?bf(e):e,{state:n,key:e&&e.key||r||$Z()})}function Rv(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function bf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function RZ(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=Bo.Pop,l=null,c=d();c==null&&(c=0,s.replaceState($p({},s.state,{idx:c}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=Bo.Pop;let v=d(),y=v==null?null:v-c;c=v,l&&l({action:o,location:g.location,delta:y})}function h(v,y){o=Bo.Push;let b=qS(g.location,v,y);c=d()+1;let x=KP(b,c),w=g.createHref(b);try{s.pushState(x,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(w)}a&&l&&l({action:o,location:g.location,delta:1})}function p(v,y){o=Bo.Replace;let b=qS(g.location,v,y);c=d();let x=KP(b,c),w=g.createHref(b);s.replaceState(x,"",w),a&&l&&l({action:o,location:g.location,delta:0})}function m(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof v=="string"?v:Rv(v);return b=b.replace(/ $/,"%20"),dn(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let g={get action(){return o},get location(){return t(i,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(GP,f),l=v,()=>{i.removeEventListener(GP,f),l=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let y=m(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(v){return s.go(v)}};return g}var YP;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(YP||(YP={}));function MZ(t,e,n){return n===void 0&&(n="/"),LZ(t,e,n,!1)}function LZ(t,e,n,r){let i=typeof e=="string"?bf(e):e,a=tT(i.pathname||"/",n);if(a==null)return null;let s=jF(t);DZ(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=YZ(a);o=GZ(s[l],c,r)}return o}function jF(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(dn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Qo([r,l.relativePath]),d=n.concat(l);a.children&&a.children.length>0&&(dn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),jF(a.children,e,d,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:WZ(c,a.index),routesMeta:d})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of AF(a.path))i(a,s,l)}),e}function AF(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=AF(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function DZ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qZ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FZ=/^:[\w-]+$/,BZ=3,zZ=2,UZ=1,HZ=10,VZ=-2,XP=t=>t==="*";function WZ(t,e){let n=t.split("/"),r=n.length;return n.some(XP)&&(r+=VZ),e&&(r+=zZ),n.filter(i=>!XP(i)).reduce((i,a)=>i+(FZ.test(a)?BZ:a===""?UZ:HZ),r)}function qZ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function GZ(t,e,n){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,d=a==="/"?e:e.slice(a.length)||"/",f=ZP({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=ZP({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Qo([a,f.pathname]),pathnameBase:QZ(Qo([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Qo([a,f.pathnameBase]))}return s}function ZP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=KZ(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=o[f]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=o[f];return p&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function KZ(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),EF(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function YZ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return EF(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function tT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function XZ(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?bf(t):t;return{pathname:n?n.startsWith("/")?n:ZZ(n,e):e,search:eJ(r),hash:tJ(i)}}function ZZ(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function u_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function JZ(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nT(t,e){let n=JZ(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function rT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=bf(t):(i=$p({},t),dn(!i.pathname||!i.pathname.includes("?"),u_("?","pathname","search",i)),dn(!i.pathname||!i.pathname.includes("#"),u_("#","pathname","hash",i)),dn(!i.search||!i.search.includes("#"),u_("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=XZ(i,o),c=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Qo=t=>t.join("/").replace(/\/\/+/g,"/"),QZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),eJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const CF=["post","put","patch","delete"];new Set(CF);const rJ=["get",...CF];new Set(rJ);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rp(){return Rp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rp.apply(this,arguments)}const iT=_.createContext(null),iJ=_.createContext(null),Cl=_.createContext(null),Lx=_.createContext(null),Tl=_.createContext({outlet:null,matches:[],isDataRoute:!1}),TF=_.createContext(null);function aJ(t,e){let{relative:n}=e===void 0?{}:e;wf()||dn(!1);let{basename:r,navigator:i}=_.useContext(Cl),{hash:a,pathname:s,search:o}=OF(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Qo([r,s])),i.createHref({pathname:l,search:o,hash:a})}function wf(){return _.useContext(Lx)!=null}function kl(){return wf()||dn(!1),_.useContext(Lx).location}function kF(t){_.useContext(Cl).static||_.useLayoutEffect(t)}function pi(){let{isDataRoute:t}=_.useContext(Tl);return t?vJ():sJ()}function sJ(){wf()||dn(!1);let t=_.useContext(iT),{basename:e,future:n,navigator:r}=_.useContext(Cl),{matches:i}=_.useContext(Tl),{pathname:a}=kl(),s=JSON.stringify(nT(i,n.v7_relativeSplatPath)),o=_.useRef(!1);return kF(()=>{o.current=!0}),_.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=rT(c,JSON.parse(s),a,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Qo([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,s,a,t])}function OF(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=_.useContext(Cl),{matches:i}=_.useContext(Tl),{pathname:a}=kl(),s=JSON.stringify(nT(i,r.v7_relativeSplatPath));return _.useMemo(()=>rT(t,JSON.parse(s),a,n==="path"),[t,s,a,n])}function oJ(t,e){return lJ(t,e)}function lJ(t,e,n,r){wf()||dn(!1);let{navigator:i}=_.useContext(Cl),{matches:a}=_.useContext(Tl),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=kl(),d;if(e){var f;let v=typeof e=="string"?bf(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||dn(!1),d=v}else d=c;let h=d.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=MZ(t,{pathname:p}),g=hJ(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Qo([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Qo([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n,r);return e&&g?_.createElement(Lx.Provider,{value:{location:Rp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Bo.Pop}},g):g}function cJ(){let t=yJ(),e=nJ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,null)}const uJ=_.createElement(cJ,null);class dJ extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_.createElement(Tl.Provider,{value:this.props.routeContext},_.createElement(TF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fJ(t){let{routeContext:e,match:n,children:r}=t,i=_.useContext(iT);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(Tl.Provider,{value:e},r)}function hJ(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||dn(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:p}=n,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,m=!1,g=null,v=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||uJ,l&&(c<0&&h===0?(m=!0,v=null):c===h&&(m=!0,v=f.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,h+1)),b=()=>{let x;return p?x=g:m?x=v:f.route.Component?x=_.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,_.createElement(fJ,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?_.createElement(dJ,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var NF=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(NF||{}),Mv=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Mv||{});function pJ(t){let e=_.useContext(iT);return e||dn(!1),e}function mJ(t){let e=_.useContext(iJ);return e||dn(!1),e}function gJ(t){let e=_.useContext(Tl);return e||dn(!1),e}function PF(t){let e=gJ(),n=e.matches[e.matches.length-1];return n.route.id||dn(!1),n.route.id}function yJ(){var t;let e=_.useContext(TF),n=mJ(Mv.UseRouteError),r=PF(Mv.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function vJ(){let{router:t}=pJ(NF.UseNavigateStable),e=PF(Mv.UseNavigateStable),n=_.useRef(!1);return kF(()=>{n.current=!0}),_.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Rp({fromRouteId:e},a)))},[t,e])}function xJ(t){let{to:e,replace:n,state:r,relative:i}=t;wf()||dn(!1);let{future:a,static:s}=_.useContext(Cl),{matches:o}=_.useContext(Tl),{pathname:l}=kl(),c=pi(),d=rT(e,nT(o,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return _.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function Ma(t){dn(!1)}function bJ(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Bo.Pop,navigator:a,static:s=!1,future:o}=t;wf()&&dn(!1);let l=e.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:l,navigator:a,static:s,future:Rp({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof r=="string"&&(r=bf(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=r,g=_.useMemo(()=>{let v=tT(d,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:m},navigationType:i}},[l,d,f,h,p,m,i]);return g==null?null:_.createElement(Cl.Provider,{value:c},_.createElement(Lx.Provider,{children:n,value:g}))}function wJ(t){let{children:e,location:n}=t;return oJ(GS(e),n)}new Promise(()=>{});function GS(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let a=[...e,i];if(r.type===_.Fragment){n.push.apply(n,GS(r.props.children,a));return}r.type!==Ma&&dn(!1),!r.props.index||!r.props.children||dn(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=GS(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function KS(){return KS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KS.apply(this,arguments)}function _J(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function SJ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function EJ(t,e){return t.button===0&&(!e||e==="_self")&&!SJ(t)}function YS(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function jJ(t,e){let n=YS(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const AJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],CJ="6";try{window.__reactRouterVersion=CJ}catch{}const TJ="startTransition",JP=f5[TJ];function kJ(t){let{basename:e,children:n,future:r,window:i}=t,a=_.useRef();a.current==null&&(a.current=IZ({window:i,v5Compat:!0}));let s=a.current,[o,l]=_.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},d=_.useCallback(f=>{c&&JP?JP(()=>l(f)):l(f)},[l,c]);return _.useLayoutEffect(()=>s.listen(d),[s,d]),_.createElement(bJ,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}const OJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IF=_.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,h=_J(e,AJ),{basename:p}=_.useContext(Cl),m,g=!1;if(typeof c=="string"&&NJ.test(c)&&(m=c,OJ))try{let x=new URL(window.location.href),w=c.startsWith("//")?new URL(x.protocol+c):new URL(c),S=tT(w.pathname,p);w.origin===x.origin&&S!=null?c=S+w.search+w.hash:g=!0}catch{}let v=aJ(c,{relative:i}),y=PJ(c,{replace:s,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:f});function b(x){r&&r(x),x.defaultPrevented||y(x)}return _.createElement("a",KS({},h,{href:m||v,onClick:g||a?r:b,ref:n,target:l}))});var QP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(QP||(QP={}));var eI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(eI||(eI={}));function PJ(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=pi(),c=kl(),d=OF(t,{relative:s});return _.useCallback(f=>{if(EJ(f,n)){f.preventDefault();let h=r!==void 0?r:Rv(c)===Rv(d);l(t,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,d,r,i,n,t,a,s,o])}function IJ(t){let e=_.useRef(YS(t)),n=_.useRef(!1),r=kl(),i=_.useMemo(()=>jJ(r.search,n.current?null:e.current),[r.search]),a=pi(),s=_.useCallback((o,l)=>{const c=YS(typeof o=="function"?o(i):o);n.current=!0,a("?"+c,l)},[a,i]);return[i,s]}var Lv=["light","dark"],aT="(prefers-color-scheme: dark)",$J=typeof window>"u",sT=_.createContext(void 0),RJ={setTheme:t=>{},themes:[]},MJ=()=>{var t;return(t=_.useContext(sT))!=null?t:RJ},LJ=t=>_.useContext(sT)?t.children:_.createElement(FJ,{...t}),DJ=["light","dark"],FJ=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:i="theme",themes:a=DJ,defaultTheme:s=n?"system":"light",attribute:o="data-theme",value:l,children:c,nonce:d})=>{let[f,h]=_.useState(()=>tI(i,s)),[p,m]=_.useState(()=>tI(i)),g=l?Object.values(l):a,v=_.useCallback(w=>{let S=w;if(!S)return;w==="system"&&n&&(S=nI());let E=l?l[S]:S,A=e?zJ():null,j=document.documentElement;if(o==="class"?(j.classList.remove(...g),E&&j.classList.add(E)):E?j.setAttribute(o,E):j.removeAttribute(o),r){let C=Lv.includes(s)?s:null,T=Lv.includes(S)?S:C;j.style.colorScheme=T}A==null||A()},[]),y=_.useCallback(w=>{let S=typeof w=="function"?w(w):w;h(S);try{localStorage.setItem(i,S)}catch{}},[t]),b=_.useCallback(w=>{let S=nI(w);m(S),f==="system"&&n&&!t&&v("system")},[f,t]);_.useEffect(()=>{let w=window.matchMedia(aT);return w.addListener(b),b(w),()=>w.removeListener(b)},[b]),_.useEffect(()=>{let w=S=>{if(S.key!==i)return;let E=S.newValue||s;y(E)};return window.addEventListener("storage",w),()=>window.removeEventListener("storage",w)},[y]),_.useEffect(()=>{v(t??f)},[t,f]);let x=_.useMemo(()=>({theme:f,setTheme:y,forcedTheme:t,resolvedTheme:f==="system"?p:f,themes:n?[...a,"system"]:a,systemTheme:n?p:void 0}),[f,y,t,p,n,a]);return _.createElement(sT.Provider,{value:x},_.createElement(BJ,{forcedTheme:t,disableTransitionOnChange:e,enableSystem:n,enableColorScheme:r,storageKey:i,themes:a,defaultTheme:s,attribute:o,value:l,children:c,attrs:g,nonce:d}),c)},BJ=_.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:s,attrs:o,nonce:l})=>{let c=a==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?Lv.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(m,g=!1,v=!0)=>{let y=s?s[m]:m,b=g?m+"|| ''":`'${y}'`,x="";return i&&v&&!g&&Lv.includes(m)&&(x+=`d.style.colorScheme = '${m}';`),n==="class"?g||y?x+=`c.add(${b})`:x+="null":y&&(x+=`d[s](n,${b})`),x},p=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${aT}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}${c?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return _.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})}),tI=(t,e)=>{if($J)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},zJ=()=>{let t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},nI=t=>(t||(t=window.matchMedia(aT)),t.matches?"dark":"light"),UJ=typeof Element<"u",HJ=typeof Map=="function",VJ=typeof Set=="function",WJ=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Yy(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Yy(t[r],e[r]))return!1;return!0}var a;if(HJ&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(a=t.entries();!(r=a.next()).done;)if(!e.has(r.value[0]))return!1;for(a=t.entries();!(r=a.next()).done;)if(!Yy(r.value[1],e.get(r.value[0])))return!1;return!0}if(VJ&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(a=t.entries();!(r=a.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(WJ&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(UJ&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!Yy(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var qJ=function(e,n){try{return Yy(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const GJ=at(qJ);var KJ=function(t,e,n,r,i,a,s,o){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,s,o],d=0;l=new Error(e.replace(/%s/g,function(){return c[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},YJ=KJ;const rI=at(YJ);var XJ=function(e,n,r,i){var a=r?r.call(i,e,n):void 0;if(a!==void 0)return!!a;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),c=0;c<s.length;c++){var d=s[c];if(!l(d))return!1;var f=e[d],h=n[d];if(a=r?r.call(i,f,h,d):void 0,a===!1||a===void 0&&f!==h)return!1}return!0};const ZJ=at(XJ);var $F=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))($F||{}),d_={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},iI=Object.values($F),oT={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},JJ=Object.entries(oT).reduce((t,[e,n])=>(t[n]=e,t),{}),ca="data-rh",ed={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},td=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},QJ=t=>{let e=td(t,"title");const n=td(t,ed.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=td(t,ed.DEFAULT_TITLE);return e||r||void 0},eQ=t=>td(t,ed.ON_CHANGE_CLIENT_STATE)||(()=>{}),f_=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),tQ=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let a=0;a<i.length;a+=1){const o=i[a].toLowerCase();if(t.indexOf(o)!==-1&&r[o])return n.concat(r)}}return n},[]),nQ=t=>console&&typeof console.warn=="function"&&console.warn(t),ah=(t,e,n)=>{const r={};return n.filter(i=>Array.isArray(i[t])?!0:(typeof i[t]<"u"&&nQ(`Helmet: ${t} should be of type "Array". Instead found type "${typeof i[t]}"`),!1)).map(i=>i[t]).reverse().reduce((i,a)=>{const s={};a.filter(l=>{let c;const d=Object.keys(l);for(let h=0;h<d.length;h+=1){const p=d[h],m=p.toLowerCase();e.indexOf(m)!==-1&&!(c==="rel"&&l[c].toLowerCase()==="canonical")&&!(m==="rel"&&l[m].toLowerCase()==="stylesheet")&&(c=m),e.indexOf(p)!==-1&&(p==="innerHTML"||p==="cssText"||p==="itemprop")&&(c=p)}if(!c||!l[c])return!1;const f=l[c].toLowerCase();return r[c]||(r[c]={}),s[c]||(s[c]={}),r[c][f]?!1:(s[c][f]=!0,!0)}).reverse().forEach(l=>i.push(l));const o=Object.keys(s);for(let l=0;l<o.length;l+=1){const c=o[l],d={...r[c],...s[c]};r[c]=d}return i},[]).reverse()},rQ=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},iQ=t=>({baseTag:tQ(["href"],t),bodyAttributes:f_("bodyAttributes",t),defer:td(t,ed.DEFER),encode:td(t,ed.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:f_("htmlAttributes",t),linkTags:ah("link",["rel","href"],t),metaTags:ah("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:ah("noscript",["innerHTML"],t),onChangeClientState:eQ(t),scriptTags:ah("script",["src","innerHTML"],t),styleTags:ah("style",["cssText"],t),title:QJ(t),titleAttributes:f_("titleAttributes",t),prioritizeSeoTags:rQ(t,ed.PRIORITIZE_SEO_TAGS)}),RF=t=>Array.isArray(t)?t.join(""):t,aQ=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},h_=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(aQ(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},aI=(t,e)=>({...t,[e]:void 0}),sQ=["noscript","script","style"],XS=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),MF=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),oQ=(t,e,n,r)=>{const i=MF(n),a=RF(e);return i?`<${t} ${ca}="true" ${i}>${XS(a,r)}</${t}>`:`<${t} ${ca}="true">${XS(a,r)}</${t}>`},lQ=(t,e,n=!0)=>e.reduce((r,i)=>{const a=i,s=Object.keys(a).filter(c=>!(c==="innerHTML"||c==="cssText")).reduce((c,d)=>{const f=typeof a[d]>"u"?d:`${d}="${XS(a[d],n)}"`;return c?`${c} ${f}`:f},""),o=a.innerHTML||a.cssText||"",l=sQ.indexOf(t)===-1;return`${r}<${t} ${ca}="true" ${s}${l?"/>":`>${o}</${t}>`}`},""),LF=(t,e={})=>Object.keys(t).reduce((n,r)=>{const i=oT[r];return n[i||r]=t[r],n},e),cQ=(t,e,n)=>{const r={key:e,[ca]:!0},i=LF(n,r);return[F.createElement("title",i,e)]},Xy=(t,e)=>e.map((n,r)=>{const i={key:r,[ca]:!0};return Object.keys(n).forEach(a=>{const o=oT[a]||a;if(o==="innerHTML"||o==="cssText"){const l=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:l}}else i[o]=n[a]}),F.createElement(t,i)}),xi=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>cQ(t,e.title,e.titleAttributes),toString:()=>oQ(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>LF(e),toString:()=>MF(e)};default:return{toComponent:()=>Xy(t,e),toString:()=>lQ(t,e,n)}}},uQ=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const i=h_(t,d_.meta),a=h_(e,d_.link),s=h_(n,d_.script);return{priorityMethods:{toComponent:()=>[...Xy("meta",i.priority),...Xy("link",a.priority),...Xy("script",s.priority)],toString:()=>`${xi("meta",i.priority,r)} ${xi("link",a.priority,r)} ${xi("script",s.priority,r)}`},metaTags:i.default,linkTags:a.default,scriptTags:s.default}},dQ=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:a,styleTags:s,title:o="",titleAttributes:l,prioritizeSeoTags:c}=t;let{linkTags:d,metaTags:f,scriptTags:h}=t,p={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:p,linkTags:d,metaTags:f,scriptTags:h}=uQ(t)),{priority:p,base:xi("base",e,r),bodyAttributes:xi("bodyAttributes",n,r),htmlAttributes:xi("htmlAttributes",i,r),link:xi("link",d,r),meta:xi("meta",f,r),noscript:xi("noscript",a,r),script:xi("script",h,r),style:xi("style",s,r),title:xi("title",{title:o,titleAttributes:l},r)}},ZS=dQ,qg=[],DF=!!(typeof window<"u"&&window.document&&window.document.createElement),JS=class{constructor(t,e){U(this,"instances",[]);U(this,"canUseDOM",DF);U(this,"context");U(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?qg:this.instances,add:t=>{(this.canUseDOM?qg:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?qg:this.instances).indexOf(t);(this.canUseDOM?qg:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=ZS({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},fQ={},FF=F.createContext(fQ),gc,BF=(gc=class extends _.Component{constructor(n){super(n);U(this,"helmetData");this.helmetData=new JS(this.props.context||{},gc.canUseDOM)}render(){return F.createElement(FF.Provider,{value:this.helmetData.value},this.props.children)}},U(gc,"canUseDOM",DF),gc),iu=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${ca}]`),i=[].slice.call(r),a=[];let s;return e&&e.length&&e.forEach(o=>{const l=document.createElement(t);for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c))if(c==="innerHTML")l.innerHTML=o.innerHTML;else if(c==="cssText")l.styleSheet?l.styleSheet.cssText=o.cssText:l.appendChild(document.createTextNode(o.cssText));else{const d=c,f=typeof o[d]>"u"?"":o[d];l.setAttribute(c,f)}l.setAttribute(ca,"true"),i.some((c,d)=>(s=d,l.isEqualNode(c)))?i.splice(s,1):a.push(l)}),i.forEach(o=>{var l;return(l=o.parentNode)==null?void 0:l.removeChild(o)}),a.forEach(o=>n.appendChild(o)),{oldTags:i,newTags:a}},QS=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(ca),i=r?r.split(","):[],a=[...i],s=Object.keys(e);for(const o of s){const l=e[o]||"";n.getAttribute(o)!==l&&n.setAttribute(o,l),i.indexOf(o)===-1&&i.push(o);const c=a.indexOf(o);c!==-1&&a.splice(c,1)}for(let o=a.length-1;o>=0;o-=1)n.removeAttribute(a[o]);i.length===a.length?n.removeAttribute(ca):n.getAttribute(ca)!==s.join(",")&&n.setAttribute(ca,s.join(","))},hQ=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=RF(t)),QS("title",e)},sI=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:a,metaTags:s,noscriptTags:o,onChangeClientState:l,scriptTags:c,styleTags:d,title:f,titleAttributes:h}=t;QS("body",r),QS("html",i),hQ(f,h);const p={baseTag:iu("base",n),linkTags:iu("link",a),metaTags:iu("meta",s),noscriptTags:iu("noscript",o),scriptTags:iu("script",c),styleTags:iu("style",d)},m={},g={};Object.keys(p).forEach(v=>{const{newTags:y,oldTags:b}=p[v];y.length&&(m[v]=y),b.length&&(g[v]=p[v].oldTags)}),e&&e(),l(t,m,g)},sh=null,pQ=t=>{sh&&cancelAnimationFrame(sh),t.defer?sh=requestAnimationFrame(()=>{sI(t,()=>{sh=null})}):(sI(t),sh=null)},mQ=pQ,oI=class extends _.Component{constructor(){super(...arguments);U(this,"rendered",!1)}shouldComponentUpdate(e){return!ZJ(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const i=iQ(e.get().map(a=>{const s={...a.props};return delete s.context,s}));BF.canUseDOM?mQ(i):ZS&&(r=ZS(i)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},J1,gQ=(J1=class extends _.Component{shouldComponentUpdate(t){return!GJ(aI(this.props,"helmetData"),aI(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return rI(iI.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${iI.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),rI(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return F.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:i,...a}=r.props,s=Object.keys(a).reduce((l,c)=>(l[JJ[c]||c]=a[c],l),{});let{type:o}=r;switch(typeof o=="symbol"?o=o.toString():this.warnOnInvalidChildren(r,i),o){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,s,i);break;default:e=this.mapObjectTypeChildren(r,e,s,i);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof JS)){const i=r;r=new JS(i.context,!0),delete n.helmetData}return r?F.createElement(oI,{...n,context:r.value}):F.createElement(FF.Consumer,null,i=>F.createElement(oI,{...n,context:i}))}},U(J1,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),J1);const yQ=1,vQ=1e6;let p_=0;function xQ(){return p_=(p_+1)%Number.MAX_SAFE_INTEGER,p_.toString()}const m_=new Map,lI=t=>{if(m_.has(t))return;const e=setTimeout(()=>{m_.delete(t),Gh({type:"REMOVE_TOAST",toastId:t})},vQ);m_.set(t,e)},bQ=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,yQ)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?lI(n):t.toasts.forEach(r=>{lI(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Zy=[];let Jy={toasts:[]};function Gh(t){Jy=bQ(Jy,t),Zy.forEach(e=>{e(Jy)})}function wQ({...t}){const e=xQ(),n=i=>Gh({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Gh({type:"DISMISS_TOAST",toastId:e});return Gh({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Mt(){const[t,e]=_.useState(Jy);return _.useEffect(()=>(Zy.push(e),()=>{const n=Zy.indexOf(e);n>-1&&Zy.splice(n,1)}),[t]),{...t,toast:wQ,dismiss:n=>Gh({type:"DISMISS_TOAST",toastId:n})}}function he(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function _Q(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Dx(...t){return e=>t.forEach(n=>_Q(n,e))}function rt(...t){return _.useCallback(Dx(...t),t)}function SQ(t,e=[]){let n=[];function r(a,s){const o=_.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||o,v=_.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:v,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||o,m=_.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,d]}const i=()=>{const a=n.map(s=>_.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return _.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,EQ(i,...e)]}function EQ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var cl=_.forwardRef((t,e)=>{const{children:n,...r}=t,i=_.Children.toArray(n),a=i.find(jQ);if(a){const s=a.props.children,o=i.map(l=>l===a?_.Children.count(s)>1?_.Children.only(null):_.isValidElement(s)?s.props.children:null:l);return u.jsx(eE,{...r,ref:e,children:_.isValidElement(s)?_.cloneElement(s,void 0,o):null})}return u.jsx(eE,{...r,ref:e,children:n})});cl.displayName="Slot";var eE=_.forwardRef((t,e)=>{const{children:n,...r}=t;if(_.isValidElement(n)){const i=CQ(n);return _.cloneElement(n,{...AQ(r,n.props),ref:e?Dx(e,i):i})}return _.Children.count(n)>1?_.Children.only(null):null});eE.displayName="SlotClone";var zF=({children:t})=>u.jsx(u.Fragment,{children:t});function jQ(t){return _.isValidElement(t)&&t.type===zF}function AQ(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...o)=>{a(...o),i(...o)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function CQ(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Fx(t){const e=t+"CollectionProvider",[n,r]=SQ(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=p=>{const{scope:m,children:g}=p,v=F.useRef(null),y=F.useRef(new Map).current;return u.jsx(i,{scope:m,itemMap:y,collectionRef:v,children:g})};s.displayName=e;const o=t+"CollectionSlot",l=F.forwardRef((p,m)=>{const{scope:g,children:v}=p,y=a(o,g),b=rt(m,y.collectionRef);return u.jsx(cl,{ref:b,children:v})});l.displayName=o;const c=t+"CollectionItemSlot",d="data-radix-collection-item",f=F.forwardRef((p,m)=>{const{scope:g,children:v,...y}=p,b=F.useRef(null),x=rt(m,b),w=a(c,g);return F.useEffect(()=>(w.itemMap.set(b,{ref:b,...y}),()=>void w.itemMap.delete(b))),u.jsx(cl,{[d]:"",ref:x,children:v})});f.displayName=c;function h(p){const m=a(t+"CollectionConsumer",p);return F.useCallback(()=>{const v=m.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(m.itemMap.values()).sort((w,S)=>y.indexOf(w.ref.current)-y.indexOf(S.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:s,Slot:l,ItemSlot:f},h,r]}function TQ(t,e){const n=_.createContext(e),r=a=>{const{children:s,...o}=a,l=_.useMemo(()=>o,Object.values(o));return u.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function i(a){const s=_.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function Sa(t,e=[]){let n=[];function r(a,s){const o=_.createContext(s),l=n.length;n=[...n,s];const c=f=>{var y;const{scope:h,children:p,...m}=f,g=((y=h==null?void 0:h[t])==null?void 0:y[l])||o,v=_.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:v,children:p})};c.displayName=a+"Provider";function d(f,h){var g;const p=((g=h==null?void 0:h[t])==null?void 0:g[l])||o,m=_.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[c,d]}const i=()=>{const a=n.map(s=>_.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return _.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,kQ(i,...e)]}function kQ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var OQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Pe=OQ.reduce((t,e)=>{const n=_.forwardRef((r,i)=>{const{asChild:a,...s}=r,o=a?cl:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(o,{...s,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function lT(t,e){t&&qc.flushSync(()=>t.dispatchEvent(e))}function Wt(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function NQ(t,e=globalThis==null?void 0:globalThis.document){const n=Wt(t);_.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var PQ="DismissableLayer",tE="dismissableLayer.update",IQ="dismissableLayer.pointerDownOutside",$Q="dismissableLayer.focusOutside",cI,UF=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_f=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:o,...l}=t,c=_.useContext(UF),[d,f]=_.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=_.useState({}),m=rt(e,A=>f(A)),g=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(v),b=d?g.indexOf(d):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,w=b>=y,S=MQ(A=>{const j=A.target,C=[...c.branches].some(T=>T.contains(j));!w||C||(i==null||i(A),s==null||s(A),A.defaultPrevented||o==null||o())},h),E=LQ(A=>{const j=A.target;[...c.branches].some(T=>T.contains(j))||(a==null||a(A),s==null||s(A),A.defaultPrevented||o==null||o())},h);return NQ(A=>{b===c.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&o&&(A.preventDefault(),o()))},h),_.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(cI=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),uI(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=cI)}},[d,h,n,c]),_.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),uI())},[d,c]),_.useEffect(()=>{const A=()=>p({});return document.addEventListener(tE,A),()=>document.removeEventListener(tE,A)},[]),u.jsx(Pe.div,{...l,ref:m,style:{pointerEvents:x?w?"auto":"none":void 0,...t.style},onFocusCapture:he(t.onFocusCapture,E.onFocusCapture),onBlurCapture:he(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:he(t.onPointerDownCapture,S.onPointerDownCapture)})});_f.displayName=PQ;var RQ="DismissableLayerBranch",HF=_.forwardRef((t,e)=>{const n=_.useContext(UF),r=_.useRef(null),i=rt(e,r);return _.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),u.jsx(Pe.div,{...t,ref:i})});HF.displayName=RQ;function MQ(t,e=globalThis==null?void 0:globalThis.document){const n=Wt(t),r=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const a=o=>{if(o.target&&!r.current){let l=function(){VF(IQ,n,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function LQ(t,e=globalThis==null?void 0:globalThis.document){const n=Wt(t),r=_.useRef(!1);return _.useEffect(()=>{const i=a=>{a.target&&!r.current&&VF($Q,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function uI(){const t=new CustomEvent(tE);document.dispatchEvent(t)}function VF(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?lT(i,a):i.dispatchEvent(a)}var DQ=_f,FQ=HF,jn=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},BQ="Portal",Hm=_.forwardRef((t,e)=>{var o;const{container:n,...r}=t,[i,a]=_.useState(!1);jn(()=>a(!0),[]);const s=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return s?mF.createPortal(u.jsx(Pe.div,{...r,ref:e}),s):null});Hm.displayName=BQ;function zQ(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var er=t=>{const{present:e,children:n}=t,r=UQ(e),i=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),a=rt(r.ref,HQ(i));return typeof n=="function"||r.isPresent?_.cloneElement(i,{ref:a}):null};er.displayName="Presence";function UQ(t){const[e,n]=_.useState(),r=_.useRef({}),i=_.useRef(t),a=_.useRef("none"),s=t?"mounted":"unmounted",[o,l]=zQ(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const c=Gg(r.current);a.current=o==="mounted"?c:"none"},[o]),jn(()=>{const c=r.current,d=i.current;if(d!==t){const h=a.current,p=Gg(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),jn(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=p=>{const g=Gg(r.current).includes(p.animationName);if(p.target===e&&g&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},h=p=>{p.target===e&&(a.current=Gg(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:_.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Gg(t){return(t==null?void 0:t.animationName)||"none"}function HQ(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function as({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=VQ({defaultProp:e,onChange:n}),a=t!==void 0,s=a?t:r,o=Wt(n),l=_.useCallback(c=>{if(a){const f=typeof c=="function"?c(t):c;f!==t&&o(f)}else i(c)},[a,t,i,o]);return[s,l]}function VQ({defaultProp:t,onChange:e}){const n=_.useState(t),[r]=n,i=_.useRef(r),a=Wt(e);return _.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}var WQ="VisuallyHidden",Vm=_.forwardRef((t,e)=>u.jsx(Pe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Vm.displayName=WQ;var qQ=Vm,cT="ToastProvider",[uT,GQ,KQ]=Fx("Toast"),[WF,DVe]=Sa("Toast",[KQ]),[YQ,Bx]=WF(cT),qF=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:s}=t,[o,l]=_.useState(null),[c,d]=_.useState(0),f=_.useRef(!1),h=_.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${cT}\`. Expected non-empty \`string\`.`),u.jsx(uT.Provider,{scope:e,children:u.jsx(YQ,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:c,viewport:o,onViewportChange:l,onToastAdd:_.useCallback(()=>d(p=>p+1),[]),onToastRemove:_.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};qF.displayName=cT;var GF="ToastViewport",XQ=["F8"],nE="toast.viewportPause",rE="toast.viewportResume",KF=_.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=XQ,label:i="Notifications ({hotkey})",...a}=t,s=Bx(GF,n),o=GQ(n),l=_.useRef(null),c=_.useRef(null),d=_.useRef(null),f=_.useRef(null),h=rt(e,f,s.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=s.toastCount>0;_.useEffect(()=>{const v=y=>{var x;r.length!==0&&r.every(w=>y[w]||y.code===w)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),_.useEffect(()=>{const v=l.current,y=f.current;if(m&&v&&y){const b=()=>{if(!s.isClosePausedRef.current){const E=new CustomEvent(nE);y.dispatchEvent(E),s.isClosePausedRef.current=!0}},x=()=>{if(s.isClosePausedRef.current){const E=new CustomEvent(rE);y.dispatchEvent(E),s.isClosePausedRef.current=!1}},w=E=>{!v.contains(E.relatedTarget)&&x()},S=()=>{v.contains(document.activeElement)||x()};return v.addEventListener("focusin",b),v.addEventListener("focusout",w),v.addEventListener("pointermove",b),v.addEventListener("pointerleave",S),window.addEventListener("blur",b),window.addEventListener("focus",x),()=>{v.removeEventListener("focusin",b),v.removeEventListener("focusout",w),v.removeEventListener("pointermove",b),v.removeEventListener("pointerleave",S),window.removeEventListener("blur",b),window.removeEventListener("focus",x)}}},[m,s.isClosePausedRef]);const g=_.useCallback(({tabbingDirection:v})=>{const b=o().map(x=>{const w=x.ref.current,S=[w,...cee(w)];return v==="forwards"?S:S.reverse()});return(v==="forwards"?b.reverse():b).flat()},[o]);return _.useEffect(()=>{const v=f.current;if(v){const y=b=>{var S,E,A;const x=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!x){const j=document.activeElement,C=b.shiftKey;if(b.target===v&&C){(S=c.current)==null||S.focus();return}const N=g({tabbingDirection:C?"backwards":"forwards"}),H=N.findIndex(R=>R===j);g_(N.slice(H+1))?b.preventDefault():C?(E=c.current)==null||E.focus():(A=d.current)==null||A.focus()}};return v.addEventListener("keydown",y),()=>v.removeEventListener("keydown",y)}},[o,g]),u.jsxs(FQ,{ref:l,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&u.jsx(iE,{ref:c,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});g_(v)}}),u.jsx(uT.Slot,{scope:n,children:u.jsx(Pe.ol,{tabIndex:-1,...a,ref:h})}),m&&u.jsx(iE,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});g_(v)}})]})});KF.displayName=GF;var YF="ToastFocusProxy",iE=_.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,a=Bx(YF,n);return u.jsx(Vm,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var c;const o=s.relatedTarget;!((c=a.viewport)!=null&&c.contains(o))&&r()}})});iE.displayName=YF;var zx="Toast",ZQ="toast.swipeStart",JQ="toast.swipeMove",QQ="toast.swipeCancel",eee="toast.swipeEnd",XF=_.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...s}=t,[o=!0,l]=as({prop:r,defaultProp:i,onChange:a});return u.jsx(er,{present:n||o,children:u.jsx(ree,{open:o,...s,ref:e,onClose:()=>l(!1),onPause:Wt(t.onPause),onResume:Wt(t.onResume),onSwipeStart:he(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:he(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:he(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:he(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});XF.displayName=zx;var[tee,nee]=WF(zx,{onClose(){}}),ree=_.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:s,onEscapeKeyDown:o,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...m}=t,g=Bx(zx,n),[v,y]=_.useState(null),b=rt(e,R=>y(R)),x=_.useRef(null),w=_.useRef(null),S=i||g.duration,E=_.useRef(0),A=_.useRef(S),j=_.useRef(0),{onToastAdd:C,onToastRemove:T}=g,k=Wt(()=>{var D;(v==null?void 0:v.contains(document.activeElement))&&((D=g.viewport)==null||D.focus()),s()}),N=_.useCallback(R=>{!R||R===1/0||(window.clearTimeout(j.current),E.current=new Date().getTime(),j.current=window.setTimeout(k,R))},[k]);_.useEffect(()=>{const R=g.viewport;if(R){const D=()=>{N(A.current),c==null||c()},z=()=>{const V=new Date().getTime()-E.current;A.current=A.current-V,window.clearTimeout(j.current),l==null||l()};return R.addEventListener(nE,z),R.addEventListener(rE,D),()=>{R.removeEventListener(nE,z),R.removeEventListener(rE,D)}}},[g.viewport,S,l,c,N]),_.useEffect(()=>{a&&!g.isClosePausedRef.current&&N(S)},[a,S,g.isClosePausedRef,N]),_.useEffect(()=>(C(),()=>T()),[C,T]);const H=_.useMemo(()=>v?rB(v):null,[v]);return g.viewport?u.jsxs(u.Fragment,{children:[H&&u.jsx(iee,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),u.jsx(tee,{scope:n,onClose:k,children:qc.createPortal(u.jsx(uT.ItemSlot,{scope:n,children:u.jsx(DQ,{asChild:!0,onEscapeKeyDown:he(o,()=>{g.isFocusedToastEscapeKeyDownRef.current||k(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Pe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...m,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:he(t.onKeyDown,R=>{R.key==="Escape"&&(o==null||o(R.nativeEvent),R.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:he(t.onPointerDown,R=>{R.button===0&&(x.current={x:R.clientX,y:R.clientY})}),onPointerMove:he(t.onPointerMove,R=>{if(!x.current)return;const D=R.clientX-x.current.x,z=R.clientY-x.current.y,V=!!w.current,M=["left","right"].includes(g.swipeDirection),L=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,P=M?L(0,D):0,W=M?0:L(0,z),G=R.pointerType==="touch"?10:2,$={x:P,y:W},te={originalEvent:R,delta:$};V?(w.current=$,Kg(JQ,f,te,{discrete:!1})):dI($,g.swipeDirection,G)?(w.current=$,Kg(ZQ,d,te,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(D)>G||Math.abs(z)>G)&&(x.current=null)}),onPointerUp:he(t.onPointerUp,R=>{const D=w.current,z=R.target;if(z.hasPointerCapture(R.pointerId)&&z.releasePointerCapture(R.pointerId),w.current=null,x.current=null,D){const V=R.currentTarget,M={originalEvent:R,delta:D};dI(D,g.swipeDirection,g.swipeThreshold)?Kg(eee,p,M,{discrete:!0}):Kg(QQ,h,M,{discrete:!0}),V.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),iee=t=>{const{__scopeToast:e,children:n,...r}=t,i=Bx(zx,e),[a,s]=_.useState(!1),[o,l]=_.useState(!1);return oee(()=>s(!0)),_.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),o?null:u.jsx(Hm,{asChild:!0,children:u.jsx(Vm,{...r,children:a&&u.jsxs(u.Fragment,{children:[i.label," ",n]})})})},aee="ToastTitle",ZF=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Pe.div,{...r,ref:e})});ZF.displayName=aee;var see="ToastDescription",JF=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Pe.div,{...r,ref:e})});JF.displayName=see;var QF="ToastAction",eB=_.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(nB,{altText:n,asChild:!0,children:u.jsx(dT,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${QF}\`. Expected non-empty \`string\`.`),null)});eB.displayName=QF;var tB="ToastClose",dT=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=nee(tB,n);return u.jsx(nB,{asChild:!0,children:u.jsx(Pe.button,{type:"button",...r,ref:e,onClick:he(t.onClick,i.onClose)})})});dT.displayName=tB;var nB=_.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return u.jsx(Pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function rB(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),lee(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const s=r.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...rB(r))}}),e}function Kg(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?lT(i,a):i.dispatchEvent(a)}var dI=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),a=r>i;return e==="left"||e==="right"?a&&r>n:!a&&i>n};function oee(t=()=>{}){const e=Wt(t);jn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function lee(t){return t.nodeType===t.ELEMENT_NODE}function cee(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function g_(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var uee=qF,iB=KF,aB=XF,sB=ZF,oB=JF,lB=eB,cB=dT;function uB(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=uB(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Je(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=uB(t))&&(r&&(r+=" "),r+=e);return r}const fI=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,hI=Je,Wm=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return hI(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=e,s=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],f=a==null?void 0:a[c];if(d===null)return null;const h=fI(d)||fI(f);return i[c][h]}),o=n&&Object.entries(n).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(m=>{let[g,v]=m;return Array.isArray(v)?v.includes({...a,...o}[g]):{...a,...o}[g]===v})?[...c,f,h]:c},[]);return hI(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dee=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dB=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>_.createElement("svg",{ref:l,...fee,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:dB("lucide",i),...o},[...s.map(([c,d])=>_.createElement(c,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(t,e)=>{const n=_.forwardRef(({className:r,...i},a)=>_.createElement(hee,{ref:a,iconNode:e,className:dB(`lucide-${dee(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=ke("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=ke("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=ke("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=ke("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=ke("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=ke("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mee=ke("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=ke("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=ke("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gee=ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yee=ke("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=ke("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=ke("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=ke("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=ke("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xee=ke("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=ke("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=ke("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bee=ke("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wee=ke("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ee=ke("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const See=ke("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=ke("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=ke("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eee=ke("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jee=ke("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=ke("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=ke("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aee=ke("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=ke("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=ke("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=ke("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=ke("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=ke("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=ke("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cee=ke("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tee=ke("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kee=ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=ke("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=ke("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oee=ke("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=ke("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nee=ke("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=ke("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=ke("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=ke("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=ke("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=ke("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=ke("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=ke("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),yT="-",Pee=t=>{const e=$ee(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const o=s.split(yT);return o[0]===""&&o.length!==1&&o.shift(),vB(o,e)||Iee(s)},getConflictingClassGroupIds:(s,o)=>{const l=n[s]||[];return o&&r[s]?[...l,...r[s]]:l}}},vB=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?vB(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(yT);return(s=e.validators.find(({validator:o})=>o(a)))==null?void 0:s.classGroupId},yI=/^\[(.+)\]$/,Iee=t=>{if(yI.test(t)){const e=yI.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},$ee=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Mee(Object.entries(t.classGroups),n).forEach(([a,s])=>{oE(s,r,a,e)}),r},oE=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:vI(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(Ree(i)){oE(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,s])=>{oE(s,vI(e,a),n,r)})})},vI=(t,e)=>{let n=t;return e.split(yT).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Ree=t=>t.isThemeGetter,Mee=(t,e)=>e?t.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([s,o])=>[e+s,o])):a);return[n,i]}):t,Lee=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,s)=>{n.set(a,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let s=n.get(a);if(s!==void 0)return s;if((s=r.get(a))!==void 0)return i(a,s),s},set(a,s){n.has(a)?n.set(a,s):i(a,s)}}},xB="!",Dee=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],a=e.length,s=o=>{const l=[];let c=0,d=0,f;for(let v=0;v<o.length;v++){let y=o[v];if(c===0){if(y===i&&(r||o.slice(v,v+a)===e)){l.push(o.slice(d,v)),d=v+a;continue}if(y==="/"){f=v;continue}}y==="["?c++:y==="]"&&c--}const h=l.length===0?o:o.substring(d),p=h.startsWith(xB),m=p?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}};return n?o=>n({className:o,parseClassName:s}):s},Fee=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Bee=t=>({cache:Lee(t.cacheSize),parseClassName:Dee(t),...Pee(t)}),zee=/\s+/,Uee=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],s=t.trim().split(zee);let o="";for(let l=s.length-1;l>=0;l-=1){const c=s[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(c);let m=!!p,g=r(m?h.substring(0,p):h);if(!g){if(!m){o=c+(o.length>0?" "+o:o);continue}if(g=r(h),!g){o=c+(o.length>0?" "+o:o);continue}m=!1}const v=Fee(d).join(":"),y=f?v+xB:v,b=y+g;if(a.includes(b))continue;a.push(b);const x=i(g,m);for(let w=0;w<x.length;++w){const S=x[w];a.push(y+S)}o=c+(o.length>0?" "+o:o)}return o};function Hee(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=bB(e))&&(r&&(r+=" "),r+=n);return r}const bB=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=bB(t[r]))&&(n&&(n+=" "),n+=e);return n};function Vee(t,...e){let n,r,i,a=s;function s(l){const c=e.reduce((d,f)=>f(d),t());return n=Bee(c),r=n.cache.get,i=n.cache.set,a=o,o(l)}function o(l){const c=r(l);if(c)return c;const d=Uee(l,n);return i(l,d),d}return function(){return a(Hee.apply(null,arguments))}}const Ft=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},wB=/^\[(?:([a-z-]+):)?(.+)\]$/i,Wee=/^\d+\/\d+$/,qee=new Set(["px","full","screen"]),Gee=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Kee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Yee=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Xee=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Zee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bs=t=>id(t)||qee.has(t)||Wee.test(t),go=t=>Sf(t,"length",ate),id=t=>!!t&&!Number.isNaN(Number(t)),y_=t=>Sf(t,"number",id),oh=t=>!!t&&Number.isInteger(Number(t)),Jee=t=>t.endsWith("%")&&id(t.slice(0,-1)),Qe=t=>wB.test(t),yo=t=>Gee.test(t),Qee=new Set(["length","size","percentage"]),ete=t=>Sf(t,Qee,_B),tte=t=>Sf(t,"position",_B),nte=new Set(["image","url"]),rte=t=>Sf(t,nte,ote),ite=t=>Sf(t,"",ste),lh=()=>!0,Sf=(t,e,n)=>{const r=wB.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},ate=t=>Kee.test(t)&&!Yee.test(t),_B=()=>!1,ste=t=>Xee.test(t),ote=t=>Zee.test(t),lte=()=>{const t=Ft("colors"),e=Ft("spacing"),n=Ft("blur"),r=Ft("brightness"),i=Ft("borderColor"),a=Ft("borderRadius"),s=Ft("borderSpacing"),o=Ft("borderWidth"),l=Ft("contrast"),c=Ft("grayscale"),d=Ft("hueRotate"),f=Ft("invert"),h=Ft("gap"),p=Ft("gradientColorStops"),m=Ft("gradientColorStopPositions"),g=Ft("inset"),v=Ft("margin"),y=Ft("opacity"),b=Ft("padding"),x=Ft("saturate"),w=Ft("scale"),S=Ft("sepia"),E=Ft("skew"),A=Ft("space"),j=Ft("translate"),C=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",Qe,e],N=()=>[Qe,e],H=()=>["",bs,go],R=()=>["auto",id,Qe],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",Qe],P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[id,Qe];return{cacheSize:500,separator:":",theme:{colors:[lh],spacing:[bs,go],blur:["none","",yo,Qe],brightness:W(),borderColor:[t],borderRadius:["none","","full",yo,Qe],borderSpacing:N(),borderWidth:H(),contrast:W(),grayscale:L(),hueRotate:W(),invert:L(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[Jee,go],inset:k(),margin:k(),opacity:W(),padding:N(),saturate:W(),scale:W(),sepia:L(),skew:W(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",Qe]}],container:["container"],columns:[{columns:[yo]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),Qe]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",oh,Qe]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Qe]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",oh,Qe]}],"grid-cols":[{"grid-cols":[lh]}],"col-start-end":[{col:["auto",{span:["full",oh,Qe]},Qe]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[lh]}],"row-start-end":[{row:["auto",{span:[oh,Qe]},Qe]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Qe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Qe,e]}],"min-w":[{"min-w":[Qe,e,"min","max","fit"]}],"max-w":[{"max-w":[Qe,e,"none","full","min","max","fit","prose",{screen:[yo]},yo]}],h:[{h:[Qe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Qe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Qe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Qe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",yo,go]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",y_]}],"font-family":[{font:[lh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Qe]}],"line-clamp":[{"line-clamp":["none",id,y_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",bs,Qe]}],"list-image":[{"list-image":["none",Qe]}],"list-style-type":[{list:["none","disc","decimal",Qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",bs,go]}],"underline-offset":[{"underline-offset":["auto",bs,Qe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),tte]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ete]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},rte]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:z()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[bs,Qe]}],"outline-w":[{outline:[bs,go]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[bs,go]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",yo,ite]}],"shadow-color":[{shadow:[lh]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",yo,Qe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Qe]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Qe]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[oh,Qe]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[bs,go,y_]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},cte=Vee(lte);function je(...t){return cte(Je(t))}const ute=uee,SB=_.forwardRef(({className:t,...e},n)=>u.jsx(iB,{ref:n,className:je("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));SB.displayName=iB.displayName;const dte=Wm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),EB=_.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(aB,{ref:r,className:je(dte({variant:e}),t),...n}));EB.displayName=aB.displayName;const fte=_.forwardRef(({className:t,...e},n)=>u.jsx(lB,{ref:n,className:je("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));fte.displayName=lB.displayName;const jB=_.forwardRef(({className:t,...e},n)=>u.jsx(cB,{ref:n,className:je("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(Gm,{className:"h-4 w-4"})}));jB.displayName=cB.displayName;const AB=_.forwardRef(({className:t,...e},n)=>u.jsx(sB,{ref:n,className:je("text-sm font-semibold",t),...e}));AB.displayName=sB.displayName;const CB=_.forwardRef(({className:t,...e},n)=>u.jsx(oB,{ref:n,className:je("text-sm opacity-90",t),...e}));CB.displayName=oB.displayName;function hte(){const{toasts:t}=Mt();return u.jsxs(ute,{children:[t.map(function({id:e,title:n,description:r,action:i,...a}){return u.jsxs(EB,{...a,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(AB,{children:n}),r&&u.jsx(CB,{children:r})]}),i,u.jsx(jB,{})]},e)}),u.jsx(SB,{})]})}var pte=t=>{switch(t){case"success":return yte;case"info":return xte;case"warning":return vte;case"error":return bte;default:return null}},mte=Array(12).fill(0),gte=({visible:t})=>F.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},F.createElement("div",{className:"sonner-spinner"},mte.map((e,n)=>F.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),yte=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),vte=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),xte=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),bte=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),wte=()=>{let[t,e]=F.useState(document.hidden);return F.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},lE=1,_te=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:lE++,a=this.toasts.find(o=>o.id===i),s=t.dismissible===void 0?!0:t.dismissible;return a?this.toasts=this.toasts.map(o=>o.id===i?(this.publish({...o,...t,id:i,title:n}),{...o,...t,id:i,dismissible:s,title:n}):o):this.addToast({title:n,...r,dismissible:s,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0;return r.then(async a=>{if(Ete(a)&&!a.ok){i=!1;let s=typeof e.error=="function"?await e.error(`HTTP error! status: ${a.status}`):e.error,o=typeof e.description=="function"?await e.description(`HTTP error! status: ${a.status}`):e.description;this.create({id:n,type:"error",message:s,description:o})}else if(e.success!==void 0){i=!1;let s=typeof e.success=="function"?await e.success(a):e.success,o=typeof e.description=="function"?await e.description(a):e.description;this.create({id:n,type:"success",message:s,description:o})}}).catch(async a=>{if(e.error!==void 0){i=!1;let s=typeof e.error=="function"?await e.error(a):e.error,o=typeof e.description=="function"?await e.description(a):e.description;this.create({id:n,type:"error",message:s,description:o})}}).finally(()=>{var a;i&&(this.dismiss(n),n=void 0),(a=e.finally)==null||a.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||lE++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},Hr=new _te,Ste=(t,e)=>{let n=(e==null?void 0:e.id)||lE++;return Hr.addToast({title:t,...e,id:n}),n},Ete=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",jte=Ste,Ate=()=>Hr.toasts,zl=Object.assign(jte,{success:Hr.success,info:Hr.info,warning:Hr.warning,error:Hr.error,custom:Hr.custom,message:Hr.message,promise:Hr.promise,dismiss:Hr.dismiss,loading:Hr.loading},{getHistory:Ate});function Cte(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Cte(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Yg(t){return t.label!==void 0}var Tte=3,kte="32px",Ote=4e3,Nte=356,Pte=14,Ite=20,$te=200;function Rte(...t){return t.filter(Boolean).join(" ")}var Mte=t=>{var e,n,r,i,a,s,o,l,c,d;let{invert:f,toast:h,unstyled:p,interacting:m,setHeights:g,visibleToasts:v,heights:y,index:b,toasts:x,expanded:w,removeToast:S,defaultRichColors:E,closeButton:A,style:j,cancelButtonStyle:C,actionButtonStyle:T,className:k="",descriptionClassName:N="",duration:H,position:R,gap:D,loadingIcon:z,expandByDefault:V,classNames:M,icons:L,closeButtonAriaLabel:P="Close toast",pauseWhenPageIsHidden:W,cn:G}=t,[$,te]=F.useState(!1),[ie,I]=F.useState(!1),[O,K]=F.useState(!1),[B,Z]=F.useState(!1),[J,Y]=F.useState(0),[me,le]=F.useState(0),ve=F.useRef(null),oe=F.useRef(null),ze=b===0,Ce=b+1<=v,Re=h.type,ae=h.dismissible!==!1,Ct=h.className||"",we=h.descriptionClassName||"",ye=F.useMemo(()=>y.findIndex(Fe=>Fe.toastId===h.id)||0,[y,h.id]),be=F.useMemo(()=>{var Fe;return(Fe=h.closeButton)!=null?Fe:A},[h.closeButton,A]),ge=F.useMemo(()=>h.duration||H||Ote,[h.duration,H]),q=F.useRef(0),X=F.useRef(0),re=F.useRef(0),Oe=F.useRef(null),[lt,Gt]=R.split("-"),ln=F.useMemo(()=>y.reduce((Fe,Dt,Tt)=>Tt>=ye?Fe:Fe+Dt.height,0),[y,ye]),Tn=wte(),Oa=h.invert||f,xs=Re==="loading";X.current=F.useMemo(()=>ye*D+ln,[ye,ln]),F.useEffect(()=>{te(!0)},[]),F.useLayoutEffect(()=>{if(!$)return;let Fe=oe.current,Dt=Fe.style.height;Fe.style.height="auto";let Tt=Fe.getBoundingClientRect().height;Fe.style.height=Dt,le(Tt),g(Na=>Na.find(Pa=>Pa.toastId===h.id)?Na.map(Pa=>Pa.toastId===h.id?{...Pa,height:Tt}:Pa):[{toastId:h.id,height:Tt,position:h.position},...Na])},[$,h.title,h.description,g,h.id]);let Qt=F.useCallback(()=>{I(!0),Y(X.current),g(Fe=>Fe.filter(Dt=>Dt.toastId!==h.id)),setTimeout(()=>{S(h)},$te)},[h,S,g,X]);F.useEffect(()=>{if(h.promise&&Re==="loading"||h.duration===1/0||h.type==="loading")return;let Fe,Dt=ge;return w||m||W&&Tn?(()=>{if(re.current<q.current){let Tt=new Date().getTime()-q.current;Dt=Dt-Tt}re.current=new Date().getTime()})():Dt!==1/0&&(q.current=new Date().getTime(),Fe=setTimeout(()=>{var Tt;(Tt=h.onAutoClose)==null||Tt.call(h,h),Qt()},Dt)),()=>clearTimeout(Fe)},[w,m,V,h,ge,Qt,h.promise,Re,W,Tn]),F.useEffect(()=>{let Fe=oe.current;if(Fe){let Dt=Fe.getBoundingClientRect().height;return le(Dt),g(Tt=>[{toastId:h.id,height:Dt,position:h.position},...Tt]),()=>g(Tt=>Tt.filter(Na=>Na.toastId!==h.id))}},[g,h.id]),F.useEffect(()=>{h.delete&&Qt()},[Qt,h.delete]);function po(){return L!=null&&L.loading?F.createElement("div",{className:"sonner-loader","data-visible":Re==="loading"},L.loading):z?F.createElement("div",{className:"sonner-loader","data-visible":Re==="loading"},z):F.createElement(gte,{visible:Re==="loading"})}return F.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:oe,className:G(k,Ct,M==null?void 0:M.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,M==null?void 0:M.default,M==null?void 0:M[Re],(n=h==null?void 0:h.classNames)==null?void 0:n[Re]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:E,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":$,"data-promise":!!h.promise,"data-removed":ie,"data-visible":Ce,"data-y-position":lt,"data-x-position":Gt,"data-index":b,"data-front":ze,"data-swiping":O,"data-dismissible":ae,"data-type":Re,"data-invert":Oa,"data-swipe-out":B,"data-expanded":!!(w||V&&$),style:{"--index":b,"--toasts-before":b,"--z-index":x.length-b,"--offset":`${ie?J:X.current}px`,"--initial-height":V?"auto":`${me}px`,...j,...h.style},onPointerDown:Fe=>{xs||!ae||(ve.current=new Date,Y(X.current),Fe.target.setPointerCapture(Fe.pointerId),Fe.target.tagName!=="BUTTON"&&(K(!0),Oe.current={x:Fe.clientX,y:Fe.clientY}))},onPointerUp:()=>{var Fe,Dt,Tt,Na;if(B||!ae)return;Oe.current=null;let Pa=Number(((Fe=oe.current)==null?void 0:Fe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ag=new Date().getTime()-((Dt=ve.current)==null?void 0:Dt.getTime()),IK=Math.abs(Pa)/Ag;if(Math.abs(Pa)>=Ite||IK>.11){Y(X.current),(Tt=h.onDismiss)==null||Tt.call(h,h),Qt(),Z(!0);return}(Na=oe.current)==null||Na.style.setProperty("--swipe-amount","0px"),K(!1)},onPointerMove:Fe=>{var Dt;if(!Oe.current||!ae)return;let Tt=Fe.clientY-Oe.current.y,Na=Fe.clientX-Oe.current.x,Pa=(lt==="top"?Math.min:Math.max)(0,Tt),Ag=Fe.pointerType==="touch"?10:2;Math.abs(Pa)>Ag?(Dt=oe.current)==null||Dt.style.setProperty("--swipe-amount",`${Tt}px`):Math.abs(Na)>Ag&&(Oe.current=null)}},be&&!h.jsx?F.createElement("button",{"aria-label":P,"data-disabled":xs,"data-close-button":!0,onClick:xs||!ae?()=>{}:()=>{var Fe;Qt(),(Fe=h.onDismiss)==null||Fe.call(h,h)},className:G(M==null?void 0:M.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},F.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),F.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||F.isValidElement(h.title)?h.jsx||h.title:F.createElement(F.Fragment,null,Re||h.icon||h.promise?F.createElement("div",{"data-icon":"",className:G(M==null?void 0:M.icon,(a=h==null?void 0:h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||po():null,h.type!=="loading"?h.icon||(L==null?void 0:L[Re])||pte(Re):null):null,F.createElement("div",{"data-content":"",className:G(M==null?void 0:M.content,(s=h==null?void 0:h.classNames)==null?void 0:s.content)},F.createElement("div",{"data-title":"",className:G(M==null?void 0:M.title,(o=h==null?void 0:h.classNames)==null?void 0:o.title)},h.title),h.description?F.createElement("div",{"data-description":"",className:G(N,we,M==null?void 0:M.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),F.isValidElement(h.cancel)?h.cancel:h.cancel&&Yg(h.cancel)?F.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||C,onClick:Fe=>{var Dt,Tt;Yg(h.cancel)&&ae&&((Tt=(Dt=h.cancel).onClick)==null||Tt.call(Dt,Fe),Qt())},className:G(M==null?void 0:M.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,F.isValidElement(h.action)?h.action:h.action&&Yg(h.action)?F.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||T,onClick:Fe=>{var Dt,Tt;Yg(h.action)&&(Fe.defaultPrevented||((Tt=(Dt=h.action).onClick)==null||Tt.call(Dt,Fe),Qt()))},className:G(M==null?void 0:M.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function xI(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var Lte=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:a,className:s,offset:o,theme:l="light",richColors:c,duration:d,style:f,visibleToasts:h=Tte,toastOptions:p,dir:m=xI(),gap:g=Pte,loadingIcon:v,icons:y,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:x,cn:w=Rte}=t,[S,E]=F.useState([]),A=F.useMemo(()=>Array.from(new Set([n].concat(S.filter(W=>W.position).map(W=>W.position)))),[S,n]),[j,C]=F.useState([]),[T,k]=F.useState(!1),[N,H]=F.useState(!1),[R,D]=F.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=F.useRef(null),V=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=F.useRef(null),L=F.useRef(!1),P=F.useCallback(W=>{var G;(G=S.find($=>$.id===W.id))!=null&&G.delete||Hr.dismiss(W.id),E($=>$.filter(({id:te})=>te!==W.id))},[S]);return F.useEffect(()=>Hr.subscribe(W=>{if(W.dismiss){E(G=>G.map($=>$.id===W.id?{...$,delete:!0}:$));return}setTimeout(()=>{mF.flushSync(()=>{E(G=>{let $=G.findIndex(te=>te.id===W.id);return $!==-1?[...G.slice(0,$),{...G[$],...W},...G.slice($+1)]:[W,...G]})})})}),[]),F.useEffect(()=>{if(l!=="system"){D(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?D("dark"):D("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:W})=>{D(W?"dark":"light")})},[l]),F.useEffect(()=>{S.length<=1&&k(!1)},[S]),F.useEffect(()=>{let W=G=>{var $,te;r.every(ie=>G[ie]||G.code===ie)&&(k(!0),($=z.current)==null||$.focus()),G.code==="Escape"&&(document.activeElement===z.current||(te=z.current)!=null&&te.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[r]),F.useEffect(()=>{if(z.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,L.current=!1)}},[z.current]),S.length?F.createElement("section",{"aria-label":`${b} ${V}`,tabIndex:-1},A.map((W,G)=>{var $;let[te,ie]=W.split("-");return F.createElement("ol",{key:W,dir:m==="auto"?xI():m,tabIndex:-1,ref:z,className:s,"data-sonner-toaster":!0,"data-theme":R,"data-y-position":te,"data-x-position":ie,style:{"--front-toast-height":`${(($=j[0])==null?void 0:$.height)||0}px`,"--offset":typeof o=="number"?`${o}px`:o||kte,"--width":`${Nte}px`,"--gap":`${g}px`,...f},onBlur:I=>{L.current&&!I.currentTarget.contains(I.relatedTarget)&&(L.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:I=>{I.target instanceof HTMLElement&&I.target.dataset.dismissible==="false"||L.current||(L.current=!0,M.current=I.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{N||k(!1)},onPointerDown:I=>{I.target instanceof HTMLElement&&I.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},S.filter(I=>!I.position&&G===0||I.position===W).map((I,O)=>{var K,B;return F.createElement(Mte,{key:I.id,icons:y,index:O,toast:I,defaultRichColors:c,duration:(K=p==null?void 0:p.duration)!=null?K:d,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:e,visibleToasts:h,closeButton:(B=p==null?void 0:p.closeButton)!=null?B:a,interacting:N,position:W,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:P,toasts:S.filter(Z=>Z.position==I.position),heights:j.filter(Z=>Z.position==I.position),setHeights:C,expandByDefault:i,gap:g,loadingIcon:v,expanded:T,pauseWhenPageIsHidden:x,cn:w})}))})):null};const Dte=({...t})=>{const{theme:e="system"}=MJ();return u.jsx(Lte,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Fte=f5.useId||(()=>{}),Bte=0;function pa(t){const[e,n]=_.useState(Fte());return jn(()=>{n(r=>r??String(Bte++))},[t]),e?`radix-${e}`:""}const zte=["top","right","bottom","left"],hl=Math.min,qr=Math.max,zv=Math.round,Xg=Math.floor,pl=t=>({x:t,y:t}),Ute={left:"right",right:"left",bottom:"top",top:"bottom"},Hte={start:"end",end:"start"};function cE(t,e,n){return qr(t,hl(e,n))}function Xs(t,e){return typeof t=="function"?t(e):t}function Zs(t){return t.split("-")[0]}function Ef(t){return t.split("-")[1]}function vT(t){return t==="x"?"y":"x"}function xT(t){return t==="y"?"height":"width"}function ml(t){return["top","bottom"].includes(Zs(t))?"y":"x"}function bT(t){return vT(ml(t))}function Vte(t,e,n){n===void 0&&(n=!1);const r=Ef(t),i=bT(t),a=xT(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=Uv(s)),[s,Uv(s)]}function Wte(t){const e=Uv(t);return[uE(t),e,uE(e)]}function uE(t){return t.replace(/start|end/g,e=>Hte[e])}function qte(t,e,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?a:s;default:return[]}}function Gte(t,e,n,r){const i=Ef(t);let a=qte(Zs(t),n==="start",r);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(uE)))),a}function Uv(t){return t.replace(/left|right|bottom|top/g,e=>Ute[e])}function Kte(t){return{top:0,right:0,bottom:0,left:0,...t}}function TB(t){return typeof t!="number"?Kte(t):{top:t,right:t,bottom:t,left:t}}function Hv(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function bI(t,e,n){let{reference:r,floating:i}=t;const a=ml(e),s=bT(e),o=xT(s),l=Zs(e),c=a==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let p;switch(l){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Ef(e)){case"start":p[s]-=h*(n&&c?-1:1);break;case"end":p[s]+=h*(n&&c?-1:1);break}return p}const Yte=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=n,o=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=bI(c,r,l),h=r,p={},m=0;for(let g=0;g<o.length;g++){const{name:v,fn:y}=o[g],{x:b,y:x,data:w,reset:S}=await y({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:t,floating:e}});d=b??d,f=x??f,p={...p,[v]:{...p[v],...w}},S&&m<=50&&(m++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(c=S.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:d,y:f}=bI(c,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function Fp(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:s,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Xs(e,t),m=TB(p),v=o[h?f==="floating"?"reference":"floating":f],y=Hv(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(v)))==null||n?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),b=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),w=await(a.isElement==null?void 0:a.isElement(x))?await(a.getScale==null?void 0:a.getScale(x))||{x:1,y:1}:{x:1,y:1},S=Hv(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:b,offsetParent:x,strategy:l}):b);return{top:(y.top-S.top+m.top)/w.y,bottom:(S.bottom-y.bottom+m.bottom)/w.y,left:(y.left-S.left+m.left)/w.x,right:(S.right-y.right+m.right)/w.x}}const Xte=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:s,elements:o,middlewareData:l}=e,{element:c,padding:d=0}=Xs(t,e)||{};if(c==null)return{};const f=TB(d),h={x:n,y:r},p=bT(i),m=xT(p),g=await s.getDimensions(c),v=p==="y",y=v?"top":"left",b=v?"bottom":"right",x=v?"clientHeight":"clientWidth",w=a.reference[m]+a.reference[p]-h[p]-a.floating[m],S=h[p]-a.reference[p],E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let A=E?E[x]:0;(!A||!await(s.isElement==null?void 0:s.isElement(E)))&&(A=o.floating[x]||a.floating[m]);const j=w/2-S/2,C=A/2-g[m]/2-1,T=hl(f[y],C),k=hl(f[b],C),N=T,H=A-g[m]-k,R=A/2-g[m]/2+j,D=cE(N,R,H),z=!l.arrow&&Ef(i)!=null&&R!==D&&a.reference[m]/2-(R<N?T:k)-g[m]/2<0,V=z?R<N?R-N:R-H:0;return{[p]:h[p]+V,data:{[p]:D,centerOffset:R-D-V,...z&&{alignmentOffset:V}},reset:z}}}),Zte=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...v}=Xs(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const y=Zs(i),b=ml(o),x=Zs(o)===o,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=h||(x||!g?[Uv(o)]:Wte(o)),E=m!=="none";!h&&E&&S.push(...Gte(o,g,m,w));const A=[o,...S],j=await Fp(e,v),C=[];let T=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&C.push(j[y]),f){const R=Vte(i,s,w);C.push(j[R[0]],j[R[1]])}if(T=[...T,{placement:i,overflows:C}],!C.every(R=>R<=0)){var k,N;const R=(((k=a.flip)==null?void 0:k.index)||0)+1,D=A[R];if(D)return{data:{index:R,overflows:T},reset:{placement:D}};let z=(N=T.filter(V=>V.overflows[0]<=0).sort((V,M)=>V.overflows[1]-M.overflows[1])[0])==null?void 0:N.placement;if(!z)switch(p){case"bestFit":{var H;const V=(H=T.filter(M=>{if(E){const L=ml(M.placement);return L===b||L==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(L=>L>0).reduce((L,P)=>L+P,0)]).sort((M,L)=>M[1]-L[1])[0])==null?void 0:H[0];V&&(z=V);break}case"initialPlacement":z=o;break}if(i!==z)return{reset:{placement:z}}}return{}}}};function wI(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function _I(t){return zte.some(e=>t[e]>=0)}const Jte=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Xs(t,e);switch(r){case"referenceHidden":{const a=await Fp(e,{...i,elementContext:"reference"}),s=wI(a,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:_I(s)}}}case"escaped":{const a=await Fp(e,{...i,altBoundary:!0}),s=wI(a,n.floating);return{data:{escapedOffsets:s,escaped:_I(s)}}}default:return{}}}}};async function Qte(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Zs(n),o=Ef(n),l=ml(n)==="y",c=["left","top"].includes(s)?-1:1,d=a&&l?-1:1,f=Xs(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof m=="number"&&(p=o==="end"?m*-1:m),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}const ene=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:s,middlewareData:o}=e,l=await Qte(e,t);return s===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:s}}}}},tne=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:v=>{let{x:y,y:b}=v;return{x:y,y:b}}},...l}=Xs(t,e),c={x:n,y:r},d=await Fp(e,l),f=ml(Zs(i)),h=vT(f);let p=c[h],m=c[f];if(a){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=p+d[v],x=p-d[y];p=cE(b,p,x)}if(s){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=m+d[v],x=m-d[y];m=cE(b,m,x)}const g=o.fn({...e,[h]:p,[f]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:a,[f]:s}}}}}},nne=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:s}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=Xs(t,e),d={x:n,y:r},f=ml(i),h=vT(f);let p=d[h],m=d[f];const g=Xs(o,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const x=h==="y"?"height":"width",w=a.reference[h]-a.floating[x]+v.mainAxis,S=a.reference[h]+a.reference[x]-v.mainAxis;p<w?p=w:p>S&&(p=S)}if(c){var y,b;const x=h==="y"?"width":"height",w=["top","left"].includes(Zs(i)),S=a.reference[f]-a.floating[x]+(w&&((y=s.offset)==null?void 0:y[f])||0)+(w?0:v.crossAxis),E=a.reference[f]+a.reference[x]+(w?0:((b=s.offset)==null?void 0:b[f])||0)-(w?v.crossAxis:0);m<S?m=S:m>E&&(m=E)}return{[h]:p,[f]:m}}}},rne=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:s,elements:o}=e,{apply:l=()=>{},...c}=Xs(t,e),d=await Fp(e,c),f=Zs(i),h=Ef(i),p=ml(i)==="y",{width:m,height:g}=a.floating;let v,y;f==="top"||f==="bottom"?(v=f,y=h===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(y=f,v=h==="end"?"top":"bottom");const b=g-d.top-d.bottom,x=m-d.left-d.right,w=hl(g-d[v],b),S=hl(m-d[y],x),E=!e.middlewareData.shift;let A=w,j=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(j=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=b),E&&!h){const T=qr(d.left,0),k=qr(d.right,0),N=qr(d.top,0),H=qr(d.bottom,0);p?j=m-2*(T!==0||k!==0?T+k:qr(d.left,d.right)):A=g-2*(N!==0||H!==0?N+H:qr(d.top,d.bottom))}await l({...e,availableWidth:j,availableHeight:A});const C=await s.getDimensions(o.floating);return m!==C.width||g!==C.height?{reset:{rects:!0}}:{}}}};function Hx(){return typeof window<"u"}function jf(t){return kB(t)?(t.nodeName||"").toLowerCase():"#document"}function ni(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ps(t){var e;return(e=(kB(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function kB(t){return Hx()?t instanceof Node||t instanceof ni(t).Node:!1}function va(t){return Hx()?t instanceof Element||t instanceof ni(t).Element:!1}function ss(t){return Hx()?t instanceof HTMLElement||t instanceof ni(t).HTMLElement:!1}function SI(t){return!Hx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ni(t).ShadowRoot}function Km(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=xa(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function ine(t){return["table","td","th"].includes(jf(t))}function Vx(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function wT(t){const e=_T(),n=va(t)?xa(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function ane(t){let e=gl(t);for(;ss(e)&&!Pd(e);){if(wT(e))return e;if(Vx(e))return null;e=gl(e)}return null}function _T(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pd(t){return["html","body","#document"].includes(jf(t))}function xa(t){return ni(t).getComputedStyle(t)}function Wx(t){return va(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function gl(t){if(jf(t)==="html")return t;const e=t.assignedSlot||t.parentNode||SI(t)&&t.host||ps(t);return SI(e)?e.host:e}function OB(t){const e=gl(t);return Pd(e)?t.ownerDocument?t.ownerDocument.body:t.body:ss(e)&&Km(e)?e:OB(e)}function Bp(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=OB(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),s=ni(i);if(a){const o=dE(s);return e.concat(s,s.visualViewport||[],Km(i)?i:[],o&&n?Bp(o):[])}return e.concat(i,Bp(i,[],n))}function dE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function NB(t){const e=xa(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ss(t),a=i?t.offsetWidth:n,s=i?t.offsetHeight:r,o=zv(n)!==a||zv(r)!==s;return o&&(n=a,r=s),{width:n,height:r,$:o}}function ST(t){return va(t)?t:t.contextElement}function ad(t){const e=ST(t);if(!ss(e))return pl(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=NB(e);let s=(a?zv(n.width):n.width)/r,o=(a?zv(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const sne=pl(0);function PB(t){const e=ni(t);return!_T()||!e.visualViewport?sne:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function one(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ni(t)?!1:e}function Oc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=ST(t);let s=pl(1);e&&(r?va(r)&&(s=ad(r)):s=ad(t));const o=one(a,n,r)?PB(a):pl(0);let l=(i.left+o.x)/s.x,c=(i.top+o.y)/s.y,d=i.width/s.x,f=i.height/s.y;if(a){const h=ni(a),p=r&&va(r)?ni(r):r;let m=h,g=dE(m);for(;g&&r&&p!==m;){const v=ad(g),y=g.getBoundingClientRect(),b=xa(g),x=y.left+(g.clientLeft+parseFloat(b.paddingLeft))*v.x,w=y.top+(g.clientTop+parseFloat(b.paddingTop))*v.y;l*=v.x,c*=v.y,d*=v.x,f*=v.y,l+=x,c+=w,m=ni(g),g=dE(m)}}return Hv({width:d,height:f,x:l,y:c})}function lne(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",s=ps(r),o=e?Vx(e.floating):!1;if(r===s||o&&a)return n;let l={scrollLeft:0,scrollTop:0},c=pl(1);const d=pl(0),f=ss(r);if((f||!f&&!a)&&((jf(r)!=="body"||Km(s))&&(l=Wx(r)),ss(r))){const h=Oc(r);c=ad(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function cne(t){return Array.from(t.getClientRects())}function fE(t,e){const n=Wx(t).scrollLeft;return e?e.left+n:Oc(ps(t)).left+n}function une(t){const e=ps(t),n=Wx(t),r=t.ownerDocument.body,i=qr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=qr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+fE(t);const o=-n.scrollTop;return xa(r).direction==="rtl"&&(s+=qr(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:o}}function dne(t,e){const n=ni(t),r=ps(t),i=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const c=_T();(!c||c&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}function fne(t,e){const n=Oc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=ss(t)?ad(t):pl(1),s=t.clientWidth*a.x,o=t.clientHeight*a.y,l=i*a.x,c=r*a.y;return{width:s,height:o,x:l,y:c}}function EI(t,e,n){let r;if(e==="viewport")r=dne(t,n);else if(e==="document")r=une(ps(t));else if(va(e))r=fne(e,n);else{const i=PB(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Hv(r)}function IB(t,e){const n=gl(t);return n===e||!va(n)||Pd(n)?!1:xa(n).position==="fixed"||IB(n,e)}function hne(t,e){const n=e.get(t);if(n)return n;let r=Bp(t,[],!1).filter(o=>va(o)&&jf(o)!=="body"),i=null;const a=xa(t).position==="fixed";let s=a?gl(t):t;for(;va(s)&&!Pd(s);){const o=xa(s),l=wT(s);!l&&o.position==="fixed"&&(i=null),(a?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Km(s)&&!l&&IB(t,s))?r=r.filter(d=>d!==s):i=o,s=gl(s)}return e.set(t,r),r}function pne(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?Vx(e)?[]:hne(e,this._c):[].concat(n),r],o=s[0],l=s.reduce((c,d)=>{const f=EI(e,d,i);return c.top=qr(f.top,c.top),c.right=hl(f.right,c.right),c.bottom=hl(f.bottom,c.bottom),c.left=qr(f.left,c.left),c},EI(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function mne(t){const{width:e,height:n}=NB(t);return{width:e,height:n}}function gne(t,e,n){const r=ss(e),i=ps(e),a=n==="fixed",s=Oc(t,!0,a,e);let o={scrollLeft:0,scrollTop:0};const l=pl(0);if(r||!r&&!a)if((jf(e)!=="body"||Km(i))&&(o=Wx(e)),r){const p=Oc(e,!0,a,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&(l.x=fE(i));let c=0,d=0;if(i&&!r&&!a){const p=i.getBoundingClientRect();d=p.top+o.scrollTop,c=p.left+o.scrollLeft-fE(i,p)}const f=s.left+o.scrollLeft-l.x-c,h=s.top+o.scrollTop-l.y-d;return{x:f,y:h,width:s.width,height:s.height}}function v_(t){return xa(t).position==="static"}function jI(t,e){if(!ss(t)||xa(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ps(t)===n&&(n=n.ownerDocument.body),n}function $B(t,e){const n=ni(t);if(Vx(t))return n;if(!ss(t)){let i=gl(t);for(;i&&!Pd(i);){if(va(i)&&!v_(i))return i;i=gl(i)}return n}let r=jI(t,e);for(;r&&ine(r)&&v_(r);)r=jI(r,e);return r&&Pd(r)&&v_(r)&&!wT(r)?n:r||ane(t)||n}const yne=async function(t){const e=this.getOffsetParent||$B,n=this.getDimensions,r=await n(t.floating);return{reference:gne(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function vne(t){return xa(t).direction==="rtl"}const xne={convertOffsetParentRelativeRectToViewportRelativeRect:lne,getDocumentElement:ps,getClippingRect:pne,getOffsetParent:$B,getElementRects:yne,getClientRects:cne,getDimensions:mne,getScale:ad,isElement:va,isRTL:vne};function bne(t,e){let n=null,r;const i=ps(t);function a(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),a();const{left:c,top:d,width:f,height:h}=t.getBoundingClientRect();if(o||e(),!f||!h)return;const p=Xg(d),m=Xg(i.clientWidth-(c+f)),g=Xg(i.clientHeight-(d+h)),v=Xg(c),b={rootMargin:-p+"px "+-m+"px "+-g+"px "+-v+"px",threshold:qr(0,hl(1,l))||1};let x=!0;function w(S){const E=S[0].intersectionRatio;if(E!==l){if(!x)return s();E?s(!1,E):r=setTimeout(()=>{s(!1,1e-7)},1e3)}x=!1}try{n=new IntersectionObserver(w,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(w,b)}n.observe(t)}return s(!0),a}function wne(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=ST(t),d=i||a?[...c?Bp(c):[],...Bp(e)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),a&&y.addEventListener("resize",n)});const f=c&&o?bne(c,n):null;let h=-1,p=null;s&&(p=new ResizeObserver(y=>{let[b]=y;b&&b.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let m,g=l?Oc(t):null;l&&v();function v(){const y=Oc(t);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&n(),g=y,m=requestAnimationFrame(v)}return n(),()=>{var y;d.forEach(b=>{i&&b.removeEventListener("scroll",n),a&&b.removeEventListener("resize",n)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const _ne=ene,Sne=tne,Ene=Zte,jne=rne,Ane=Jte,AI=Xte,Cne=nne,Tne=(t,e,n)=>{const r=new Map,i={platform:xne,...n},a={...i.platform,_c:r};return Yte(t,e,{...i,platform:a})};var Qy=typeof document<"u"?_.useLayoutEffect:_.useEffect;function Vv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Vv(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!Vv(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function RB(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function CI(t,e){const n=RB(t);return Math.round(e*n)/n}function x_(t){const e=_.useRef(t);return Qy(()=>{e.current=t}),e}function kne(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:l,open:c}=t,[d,f]=_.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=_.useState(r);Vv(h,r)||p(r);const[m,g]=_.useState(null),[v,y]=_.useState(null),b=_.useCallback(M=>{M!==E.current&&(E.current=M,g(M))},[]),x=_.useCallback(M=>{M!==A.current&&(A.current=M,y(M))},[]),w=a||m,S=s||v,E=_.useRef(null),A=_.useRef(null),j=_.useRef(d),C=l!=null,T=x_(l),k=x_(i),N=x_(c),H=_.useCallback(()=>{if(!E.current||!A.current)return;const M={placement:e,strategy:n,middleware:h};k.current&&(M.platform=k.current),Tne(E.current,A.current,M).then(L=>{const P={...L,isPositioned:N.current!==!1};R.current&&!Vv(j.current,P)&&(j.current=P,qc.flushSync(()=>{f(P)}))})},[h,e,n,k,N]);Qy(()=>{c===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[c]);const R=_.useRef(!1);Qy(()=>(R.current=!0,()=>{R.current=!1}),[]),Qy(()=>{if(w&&(E.current=w),S&&(A.current=S),w&&S){if(T.current)return T.current(w,S,H);H()}},[w,S,H,T,C]);const D=_.useMemo(()=>({reference:E,floating:A,setReference:b,setFloating:x}),[b,x]),z=_.useMemo(()=>({reference:w,floating:S}),[w,S]),V=_.useMemo(()=>{const M={position:n,left:0,top:0};if(!z.floating)return M;const L=CI(z.floating,d.x),P=CI(z.floating,d.y);return o?{...M,transform:"translate("+L+"px, "+P+"px)",...RB(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:P}},[n,o,z.floating,d.x,d.y]);return _.useMemo(()=>({...d,update:H,refs:D,elements:z,floatingStyles:V}),[d,H,D,z,V])}const One=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?AI({element:r.current,padding:i}).fn(n):{}:r?AI({element:r,padding:i}).fn(n):{}}}},Nne=(t,e)=>({..._ne(t),options:[t,e]}),Pne=(t,e)=>({...Sne(t),options:[t,e]}),Ine=(t,e)=>({...Cne(t),options:[t,e]}),$ne=(t,e)=>({...Ene(t),options:[t,e]}),Rne=(t,e)=>({...jne(t),options:[t,e]}),Mne=(t,e)=>({...Ane(t),options:[t,e]}),Lne=(t,e)=>({...One(t),options:[t,e]});var Dne="Arrow",MB=_.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return u.jsx(Pe.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});MB.displayName=Dne;var Fne=MB;function Bne(t,e=[]){let n=[];function r(a,s){const o=_.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||o,v=_.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:v,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||o,m=_.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,d]}const i=()=>{const a=n.map(s=>_.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return _.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,zne(i,...e)]}function zne(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function ET(t){const[e,n]=_.useState(void 0);return jn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,o;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,o=c.blockSize}else s=t.offsetWidth,o=t.offsetHeight;n({width:s,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var jT="Popper",[LB,Af]=Bne(jT),[Une,DB]=LB(jT),FB=t=>{const{__scopePopper:e,children:n}=t,[r,i]=_.useState(null);return u.jsx(Une,{scope:e,anchor:r,onAnchorChange:i,children:n})};FB.displayName=jT;var BB="PopperAnchor",zB=_.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=DB(BB,n),s=_.useRef(null),o=rt(e,s);return _.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:u.jsx(Pe.div,{...i,ref:o})});zB.displayName=BB;var AT="PopperContent",[Hne,Vne]=LB(AT),UB=_.forwardRef((t,e)=>{var O,K,B,Z,J,Y;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:m,...g}=t,v=DB(AT,n),[y,b]=_.useState(null),x=rt(e,me=>b(me)),[w,S]=_.useState(null),E=ET(w),A=(E==null?void 0:E.width)??0,j=(E==null?void 0:E.height)??0,C=r+(a!=="center"?"-"+a:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(c)?c:[c],N=k.length>0,H={padding:T,boundary:k.filter(qne),altBoundary:N},{refs:R,floatingStyles:D,placement:z,isPositioned:V,middlewareData:M}=kne({strategy:"fixed",placement:C,whileElementsMounted:(...me)=>wne(...me,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[Nne({mainAxis:i+j,alignmentAxis:s}),l&&Pne({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Ine():void 0,...H}),l&&$ne({...H}),Rne({...H,apply:({elements:me,rects:le,availableWidth:ve,availableHeight:oe})=>{const{width:ze,height:Ce}=le.reference,Re=me.floating.style;Re.setProperty("--radix-popper-available-width",`${ve}px`),Re.setProperty("--radix-popper-available-height",`${oe}px`),Re.setProperty("--radix-popper-anchor-width",`${ze}px`),Re.setProperty("--radix-popper-anchor-height",`${Ce}px`)}}),w&&Lne({element:w,padding:o}),Gne({arrowWidth:A,arrowHeight:j}),h&&Mne({strategy:"referenceHidden",...H})]}),[L,P]=WB(z),W=Wt(m);jn(()=>{V&&(W==null||W())},[V,W]);const G=(O=M.arrow)==null?void 0:O.x,$=(K=M.arrow)==null?void 0:K.y,te=((B=M.arrow)==null?void 0:B.centerOffset)!==0,[ie,I]=_.useState();return jn(()=>{y&&I(window.getComputedStyle(y).zIndex)},[y]),u.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:V?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(Z=M.transformOrigin)==null?void 0:Z.x,(J=M.transformOrigin)==null?void 0:J.y].join(" "),...((Y=M.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(Hne,{scope:n,placedSide:L,onArrowChange:S,arrowX:G,arrowY:$,shouldHideArrow:te,children:u.jsx(Pe.div,{"data-side":L,"data-align":P,...g,ref:x,style:{...g.style,animation:V?void 0:"none"}})})})});UB.displayName=AT;var HB="PopperArrow",Wne={top:"bottom",right:"left",bottom:"top",left:"right"},VB=_.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=Vne(HB,r),s=Wne[a.placedSide];return u.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:u.jsx(Fne,{...i,ref:n,style:{...i.style,display:"block"}})})});VB.displayName=HB;function qne(t){return t!==null}var Gne=t=>({name:"transformOrigin",options:t,fn(e){var v,y,b;const{placement:n,rects:r,middlewareData:i}=e,s=((v=i.arrow)==null?void 0:v.centerOffset)!==0,o=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,d]=WB(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=i.arrow)==null?void 0:y.x)??0)+o/2,p=(((b=i.arrow)==null?void 0:b.y)??0)+l/2;let m="",g="";return c==="bottom"?(m=s?f:`${h}px`,g=`${-l}px`):c==="top"?(m=s?f:`${h}px`,g=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,g=s?f:`${p}px`):c==="left"&&(m=`${r.floating.width+l}px`,g=s?f:`${p}px`),{data:{x:m,y:g}}}});function WB(t){const[e,n="center"]=t.split("-");return[e,n]}var CT=FB,TT=zB,kT=UB,OT=VB,[qx,FVe]=Sa("Tooltip",[Af]),Gx=Af(),qB="TooltipProvider",Kne=700,hE="tooltip.open",[Yne,NT]=qx(qB),GB=t=>{const{__scopeTooltip:e,delayDuration:n=Kne,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=t,[s,o]=_.useState(!0),l=_.useRef(!1),c=_.useRef(0);return _.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),u.jsx(Yne,{scope:e,isOpenDelayed:s,delayDuration:n,onOpen:_.useCallback(()=>{window.clearTimeout(c.current),o(!1)},[]),onClose:_.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:_.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:a})};GB.displayName=qB;var Kx="Tooltip",[Xne,Yx]=qx(Kx),KB=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:s,delayDuration:o}=t,l=NT(Kx,t.__scopeTooltip),c=Gx(e),[d,f]=_.useState(null),h=pa(),p=_.useRef(0),m=s??l.disableHoverableContent,g=o??l.delayDuration,v=_.useRef(!1),[y=!1,b]=as({prop:r,defaultProp:i,onChange:A=>{A?(l.onOpen(),document.dispatchEvent(new CustomEvent(hE))):l.onClose(),a==null||a(A)}}),x=_.useMemo(()=>y?v.current?"delayed-open":"instant-open":"closed",[y]),w=_.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v.current=!1,b(!0)},[b]),S=_.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b(!1)},[b]),E=_.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{v.current=!0,b(!0),p.current=0},g)},[g,b]);return _.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),u.jsx(CT,{...c,children:u.jsx(Xne,{scope:e,contentId:h,open:y,stateAttribute:x,trigger:d,onTriggerChange:f,onTriggerEnter:_.useCallback(()=>{l.isOpenDelayed?E():w()},[l.isOpenDelayed,E,w]),onTriggerLeave:_.useCallback(()=>{m?S():(window.clearTimeout(p.current),p.current=0)},[S,m]),onOpen:w,onClose:S,disableHoverableContent:m,children:n})})};KB.displayName=Kx;var pE="TooltipTrigger",YB=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Yx(pE,n),a=NT(pE,n),s=Gx(n),o=_.useRef(null),l=rt(e,o,i.onTriggerChange),c=_.useRef(!1),d=_.useRef(!1),f=_.useCallback(()=>c.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(TT,{asChild:!0,...s,children:u.jsx(Pe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:he(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:he(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:he(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:he(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:he(t.onBlur,i.onClose),onClick:he(t.onClick,i.onClose)})})});YB.displayName=pE;var Zne="TooltipPortal",[BVe,Jne]=qx(Zne,{forceMount:void 0}),Id="TooltipContent",XB=_.forwardRef((t,e)=>{const n=Jne(Id,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=t,s=Yx(Id,t.__scopeTooltip);return u.jsx(er,{present:r||s.open,children:s.disableHoverableContent?u.jsx(ZB,{side:i,...a,ref:e}):u.jsx(Qne,{side:i,...a,ref:e})})}),Qne=_.forwardRef((t,e)=>{const n=Yx(Id,t.__scopeTooltip),r=NT(Id,t.__scopeTooltip),i=_.useRef(null),a=rt(e,i),[s,o]=_.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:f}=r,h=_.useCallback(()=>{o(null),f(!1)},[f]),p=_.useCallback((m,g)=>{const v=m.currentTarget,y={x:m.clientX,y:m.clientY},b=rre(y,v.getBoundingClientRect()),x=ire(y,b),w=are(g.getBoundingClientRect()),S=ore([...x,...w]);o(S),f(!0)},[f]);return _.useEffect(()=>()=>h(),[h]),_.useEffect(()=>{if(l&&d){const m=v=>p(v,d),g=v=>p(v,l);return l.addEventListener("pointerleave",m),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",m),d.removeEventListener("pointerleave",g)}}},[l,d,p,h]),_.useEffect(()=>{if(s){const m=g=>{const v=g.target,y={x:g.clientX,y:g.clientY},b=(l==null?void 0:l.contains(v))||(d==null?void 0:d.contains(v)),x=!sre(y,s);b?h():x&&(h(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,d,s,c,h]),u.jsx(ZB,{...t,ref:a})}),[ere,tre]=qx(Kx,{isInside:!1}),ZB=_.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...o}=t,l=Yx(Id,n),c=Gx(n),{onClose:d}=l;return _.useEffect(()=>(document.addEventListener(hE,d),()=>document.removeEventListener(hE,d)),[d]),_.useEffect(()=>{if(l.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(_f,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(kT,{"data-state":l.stateAttribute,...c,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(zF,{children:r}),u.jsx(ere,{scope:n,isInside:!0,children:u.jsx(qQ,{id:l.contentId,role:"tooltip",children:i||r})})]})})});XB.displayName=Id;var JB="TooltipArrow",nre=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Gx(n);return tre(JB,n).isInside?null:u.jsx(OT,{...i,...r,ref:e})});nre.displayName=JB;function rre(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ire(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function are(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function sre(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const o=e[a].x,l=e[a].y,c=e[s].x,d=e[s].y;l>r!=d>r&&n<(c-o)*(r-l)/(d-l)+o&&(i=!i)}return i}function ore(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),lre(e)}function lre(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const a=e[e.length-1],s=e[e.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const a=n[n.length-1],s=n[n.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var cre=GB,ure=KB,dre=YB,QB=XB;const ez=cre,au=ure,su=dre,Yl=_.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(QB,{ref:r,sideOffset:e,className:je("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Yl.displayName=QB.displayName;const fre="modulepreload",hre=function(t){return"/admit-ai-nexus/"+t},TI={},Nc=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=hre(l),l in TI)return;TI[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":fre,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},pre=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Nc(async()=>{const{default:r}=await Promise.resolve().then(()=>Cf);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class PT extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class mre extends PT{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class kI extends PT{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class OI extends PT{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var mE;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(mE||(mE={}));var gre=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class yre{constructor(e,{headers:n={},customFetch:r,region:i=mE.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=pre(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return gre(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=n;let o={},{region:l}=n;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(o["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(o["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(o["Content-Type"]="application/json",d=JSON.stringify(s)));const f=yield this.fetch(c.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:d}).catch(g=>{throw new mre(g)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new kI(f);if(!f.ok)throw new OI(f);let p=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield f.json():p==="application/octet-stream"?m=yield f.blob():p==="text/event-stream"?m=f:p==="multipart/form-data"?m=yield f.formData():m=yield f.text(),{data:m,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof OI||i instanceof kI?i.context:void 0}}})}}var Er={},IT={},Xx={},Ym={},Zx={},Jx={},vre=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},$d=vre();const xre=$d.fetch,tz=$d.fetch.bind($d),nz=$d.Headers,bre=$d.Request,wre=$d.Response,Cf=Object.freeze(Object.defineProperty({__proto__:null,Headers:nz,Request:bre,Response:wre,default:tz,fetch:xre},Symbol.toStringTag,{value:"Module"})),_re=LK(Cf);var Qx={};Object.defineProperty(Qx,"__esModule",{value:!0});let Sre=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Qx.default=Sre;var rz=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jx,"__esModule",{value:!0});const Ere=rz(_re),jre=rz(Qx);let Are=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Ere.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,o,l;let c=null,d=null,f=null,h=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const y=await a.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const g=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),v=(o=a.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");g&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await a.text();try{c=JSON.parse(g),Array.isArray(c)&&a.status===404&&(d=[],c=null,h=200,p="OK")}catch{a.status===404&&g===""?(h=204,p="No Content"):c={message:g}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,p="OK"),c&&this.shouldThrowOnError)throw new jre.default(c)}return{error:c,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,o,l;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};Jx.default=Are;var Cre=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zx,"__esModule",{value:!0});const Tre=Cre(Jx);let kre=class extends Tre.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var o;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Zx.default=kre;var Ore=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ym,"__esModule",{value:!0});const Nre=Ore(Zx);let Pre=class extends Nre.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${s}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Ym.default=Pre;var Ire=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xx,"__esModule",{value:!0});const ch=Ire(Ym);let $re=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let a=!1;const s=(e??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new ch.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const s=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(s.length>0){const o=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new ch.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){const s="POST",o=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),a||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new ch.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new ch.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ch.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Xx.default=$re;var eb={},tb={};Object.defineProperty(tb,"__esModule",{value:!0});tb.version=void 0;tb.version="0.0.0-automated";Object.defineProperty(eb,"__esModule",{value:!0});eb.DEFAULT_HEADERS=void 0;const Rre=tb;eb.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Rre.version}`};var iz=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(IT,"__esModule",{value:!0});const Mre=iz(Xx),Lre=iz(Ym),Dre=eb;let Fre=class az{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},Dre.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new Mre.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new az(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:a}={}){let s;const o=new URL(`${this.url}/rpc/${e}`);let l;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(s="POST",l=n);const c=Object.assign({},this.headers);return a&&(c.Prefer=`count=${a}`),new Lre.default({method:s,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};IT.default=Fre;var Tf=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Er,"__esModule",{value:!0});Er.PostgrestError=Er.PostgrestBuilder=Er.PostgrestTransformBuilder=Er.PostgrestFilterBuilder=Er.PostgrestQueryBuilder=Er.PostgrestClient=void 0;const sz=Tf(IT);Er.PostgrestClient=sz.default;const oz=Tf(Xx);Er.PostgrestQueryBuilder=oz.default;const lz=Tf(Ym);Er.PostgrestFilterBuilder=lz.default;const cz=Tf(Zx);Er.PostgrestTransformBuilder=cz.default;const uz=Tf(Jx);Er.PostgrestBuilder=uz.default;const dz=Tf(Qx);Er.PostgrestError=dz.default;var Bre=Er.default={PostgrestClient:sz.default,PostgrestQueryBuilder:oz.default,PostgrestFilterBuilder:lz.default,PostgrestTransformBuilder:cz.default,PostgrestBuilder:uz.default,PostgrestError:dz.default};const{PostgrestClient:zre,PostgrestQueryBuilder:qVe,PostgrestFilterBuilder:GVe,PostgrestTransformBuilder:KVe,PostgrestBuilder:YVe,PostgrestError:XVe}=Bre;function Ure(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Hre=Ure(),Vre="2.11.15",Wre=`realtime-js/${Vre}`,qre="1.0.0",fz=1e4,Gre=1e3;var Yh;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Yh||(Yh={}));var Wn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Wn||(Wn={}));var ra;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ra||(ra={}));var gE;(function(t){t.websocket="websocket"})(gE||(gE={}));var nc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(nc||(nc={}));class Kre{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2);let s=this.HEADER_LENGTH+2;const o=r.decode(e.slice(s,s+i));s=s+i;const l=r.decode(e.slice(s,s+a));s=s+a;const c=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class hz{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var kt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(kt||(kt={}));const NI=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,s)=>(a[s]=Yre(s,t,e,i),a),{})},Yre=(t,e,n,r)=>{const i=e.find(o=>o.name===t),a=i==null?void 0:i.type,s=n[t];return a&&!r.includes(a)?pz(a,s):yE(s)},pz=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Qre(e,n)}switch(t){case kt.bool:return Xre(e);case kt.float4:case kt.float8:case kt.int2:case kt.int4:case kt.int8:case kt.numeric:case kt.oid:return Zre(e);case kt.json:case kt.jsonb:return Jre(e);case kt.timestamp:return eie(e);case kt.abstime:case kt.date:case kt.daterange:case kt.int4range:case kt.int8range:case kt.money:case kt.reltime:case kt.text:case kt.time:case kt.timestamptz:case kt.timetz:case kt.tsrange:case kt.tstzrange:return yE(e);default:return yE(e)}},yE=t=>t,Xre=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Zre=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Jre=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Qre=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const s=t.slice(1,n);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>pz(e,o))}return t},eie=t=>typeof t=="string"?t.replace(" ","T"):t,mz=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class b_{constructor(e,n,r={},i=fz){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var PI;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(PI||(PI={}));class Xh{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xh.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=Xh.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Xh.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),s=this.transformState(n),o={},l={};return this.map(a,(c,d)=>{s[c]||(l[c]=d)}),this.map(s,(c,d)=>{const f=a[c];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),m=d.filter(v=>p.indexOf(v.presence_ref)<0),g=f.filter(v=>h.indexOf(v.presence_ref)<0);m.length>0&&(o[c]=m),g.length>0&&(l[c]=g)}else o[c]=d}),this.syncDiff(a,{joins:o,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var c;const d=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),d.length>0){const f=e[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);e[o].unshift(...h)}r(o,d,l)}),this.map(s,(o,l)=>{let c=e[o];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var II;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(II||(II={}));var $I;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})($I||($I={}));var js;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(js||(js={}));class $T{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Wn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new b_(this,ra.join,this.params,this.timeout),this.rejoinTimer=new hz(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Wn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Wn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Wn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Wn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ra.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Xh(this),this.broadcastEndpointURL=mz(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Wn.closed){const{config:{broadcast:a,presence:s,private:o}}=this.params;this._onError(d=>e==null?void 0:e(js.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(js.CLOSED));const l={},c={broadcast:a,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(js.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,m=[];for(let g=0;g<p;g++){const v=h[g],{filter:{event:y,schema:b,table:x,filter:w}}=v,S=d&&d[g];if(S&&S.event===y&&S.schema===b&&S.table===x&&S.filter===w)m.push(Object.assign(Object.assign({},v),{id:S.id}));else{this.unsubscribe(),this.state=Wn.errored,e==null||e(js.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(js.SUBSCRIBED);return}}).receive("error",d=>{this.state=Wn.errored,e==null||e(js.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(js.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Wn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ra.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new b_(this,ra.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new b_(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const s=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:d}=ra;if(r&&[o,l,c,d].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,g,v;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(g=p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(p=>p.callback(h,r)):(a=this.bindings[s])===null||a===void 0||a.filter(p=>{var m,g,v,y,b,x;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const w=p.id,S=(m=p.filter)===null||m===void 0?void 0:m.event;return w&&((g=n.ids)===null||g===void 0?void 0:g.includes(w))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const w=(b=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return w==="*"||w===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:v,commit_timestamp:y,type:b,errors:x}=m;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:y,eventType:b,new:{},old:{},errors:x}),this._getPayloadRecords(m))}p.callback(h,r)})}_isClosed(){return this.state===Wn.closed}_isJoined(){return this.state===Wn.joined}_isJoining(){return this.state===Wn.joining}_isLeaving(){return this.state===Wn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&$T.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ra.close,{},e)}_onError(e){this._on(ra.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Wn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=NI(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=NI(e.columns,e.old_record)),n}}const RI=()=>{},tie=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nie{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fz,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=RI,this.ref=0,this.logger=RI,this.conn=null,this.sendBuffer=[],this.serializer=new Kre,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...o)=>Nc(async()=>{const{default:l}=await Promise.resolve().then(()=>Cf);return{default:l}},void 0).then(({default:l})=>l(...o)):s=fetch,(...o)=>s(...o)},this.endPoint=`${e}/${gE.websocket}`,this.httpEndpoint=mz(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,s)=>s(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new hz(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Hre),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qre}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Yh.connecting:return nc.Connecting;case Yh.open:return nc.Open;case Yh.closing:return nc.Closing;default:return nc.Closed}}isConnected(){return this.connectionState()===nc.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new $T(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,s=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:Wre};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(ra.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Gre,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:a,ref:s}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,a),Array.from(this.channels).filter(o=>o._isMember(r)).forEach(o=>o._trigger(i,a,s)),this.stateChangeCallbacks.message.forEach(o=>o(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ra.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([tie],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class RT extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function On(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class rie extends RT{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vE extends RT{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var iie=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const gz=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Nc(async()=>{const{default:r}=await Promise.resolve().then(()=>Cf);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},aie=()=>iie(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Nc(()=>Promise.resolve().then(()=>Cf),void 0)).Response:Response}),xE=t=>{if(Array.isArray(t))return t.map(n=>xE(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=xE(r)}),e},sie=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Gc=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const w_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),oie=(t,e,n)=>Gc(void 0,void 0,void 0,function*(){const r=yield aie();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const a=t.status||500,s=(i==null?void 0:i.statusCode)||a+"";e(new rie(w_(i),a,s))}).catch(i=>{e(new vE(w_(i),i))}):e(new vE(w_(t),t))}),lie=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(sie(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function Xm(t,e,n,r,i,a){return Gc(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(n,lie(e,r,i,a)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>oie(l,o,r))})})}function Wv(t,e,n,r){return Gc(this,void 0,void 0,function*(){return Xm(t,"GET",e,n,r)})}function As(t,e,n,r,i){return Gc(this,void 0,void 0,function*(){return Xm(t,"POST",e,r,i,n)})}function bE(t,e,n,r,i){return Gc(this,void 0,void 0,function*(){return Xm(t,"PUT",e,r,i,n)})}function cie(t,e,n,r){return Gc(this,void 0,void 0,function*(){return Xm(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function yz(t,e,n,r,i){return Gc(this,void 0,void 0,function*(){return Xm(t,"DELETE",e,r,i,n)})}var xr=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const uie={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},MI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class die{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=gz(i)}uploadOrUpdate(e,n,r,i){return xr(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},MI),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=r,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),f=yield(e=="PUT"?bE:As)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(On(a))return{data:null,error:a};throw a}})}upload(e,n,r){return xr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return xr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:MI.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield bE(this.fetch,o.toString(),l,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(On(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return xr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield As(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new RT("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(r){if(On(r))return{data:null,error:r};throw r}})}update(e,n,r){return xr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return xr(this,void 0,void 0,function*(){try{return{data:yield As(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(On(i))return{data:null,error:i};throw i}})}copy(e,n,r){return xr(this,void 0,void 0,function*(){try{return{data:{path:(yield As(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(On(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return xr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield As(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(On(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return xr(this,void 0,void 0,function*(){try{const i=yield As(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(On(i))return{data:null,error:i};throw i}})}download(e,n){return xr(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=a?`?${a}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Wv(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(On(o))return{data:null,error:o};throw o}})}info(e){return xr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Wv(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:xE(r),error:null}}catch(r){if(On(r))return{data:null,error:r};throw r}})}exists(e){return xr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield cie(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(On(r)&&r instanceof vE){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${c}`)}}}remove(e){return xr(this,void 0,void 0,function*(){try{return{data:yield yz(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(On(n))return{data:null,error:n};throw n}})}list(e,n,r){return xr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},uie),n),{prefix:e||""});return{data:yield As(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(On(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const fie="2.10.4",hie={"X-Client-Info":`storage-js/${fie}`};var ou=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class pie{constructor(e,n={},r,i){const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},hie),n),this.fetch=gz(r)}listBuckets(){return ou(this,void 0,void 0,function*(){try{return{data:yield Wv(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(On(e))return{data:null,error:e};throw e}})}getBucket(e){return ou(this,void 0,void 0,function*(){try{return{data:yield Wv(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(On(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return ou(this,void 0,void 0,function*(){try{return{data:yield As(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(On(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return ou(this,void 0,void 0,function*(){try{return{data:yield bE(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(On(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ou(this,void 0,void 0,function*(){try{return{data:yield As(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(On(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ou(this,void 0,void 0,function*(){try{return{data:yield yz(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(On(n))return{data:null,error:n};throw n}})}}class mie extends pie{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new die(this.url,this.headers,e,this.fetch)}}const gie="2.53.0";let Th="";typeof Deno<"u"?Th="deno":typeof document<"u"?Th="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Th="react-native":Th="node";const yie={"X-Client-Info":`supabase-js-${Th}/${gie}`},vie={headers:yie},xie={schema:"public"},bie={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wie={};var _ie=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const Sie=t=>{let e;return t?e=t:typeof fetch>"u"?e=tz:e=fetch,(...n)=>e(...n)},Eie=()=>typeof Headers>"u"?nz:Headers,jie=(t,e,n)=>{const r=Sie(n),i=Eie();return(a,s)=>_ie(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let c=new i(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(a,Object.assign(Object.assign({},s),{headers:c}))})};var Aie=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};function Cie(t){return t.endsWith("/")?t:t+"/"}function Tie(t,e){var n,r;const{db:i,auth:a,realtime:s,global:o}=t,{db:l,auth:c,realtime:d,global:f}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Aie(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const vz="2.71.1",_u=30*1e3,wE=3,__=wE*_u,kie="http://localhost:9999",Oie="supabase.auth.token",Nie={"X-Client-Info":`gotrue-js/${vz}`},_E="X-Supabase-Api-Version",xz={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Pie=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Iie=10*60*1e3;class MT extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ze(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class $ie extends MT{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Rie(t){return Ze(t)&&t.name==="AuthApiError"}class bz extends MT{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ol extends MT{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class So extends Ol{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Mie(t){return Ze(t)&&t.name==="AuthSessionMissingError"}class Zg extends Ol{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jg extends Ol{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Qg extends Ol{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Lie(t){return Ze(t)&&t.name==="AuthImplicitGrantRedirectError"}class LI extends Ol{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class SE extends Ol{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function S_(t){return Ze(t)&&t.name==="AuthRetryableFetchError"}class DI extends Ol{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class EE extends Ol{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const qv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),FI=` 	
\r=`.split(""),Die=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<FI.length;e+=1)t[FI[e].charCodeAt(0)]=-2;for(let e=0;e<qv.length;e+=1)t[qv[e].charCodeAt(0)]=e;return t})();function BI(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(qv[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(qv[r]),e.queuedBits-=6}}function wz(t,e,n){const r=Die[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function zI(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{zie(s,r,n)};for(let s=0;s<t.length;s+=1)wz(t.charCodeAt(s),i,a);return e.join("")}function Fie(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Bie(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Fie(r,e)}}function zie(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Uie(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)wz(t.charCodeAt(i),n,r);return new Uint8Array(e)}function Hie(t){const e=[];return Bie(t,n=>e.push(n)),new Uint8Array(e)}function Vie(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>BI(i,n,r)),BI(null,n,r),e.join("")}function Wie(t){return Math.round(Date.now()/1e3)+t}function qie(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Yi=()=>typeof window<"u"&&typeof document<"u",Ul={tested:!1,writable:!1},_z=()=>{if(!Yi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ul.tested)return Ul.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ul.tested=!0,Ul.writable=!0}catch{Ul.tested=!0,Ul.writable=!1}return Ul.writable};function Gie(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const Sz=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Nc(async()=>{const{default:r}=await Promise.resolve().then(()=>Cf);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Kie=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Su=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Hl=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},vo=async(t,e)=>{await t.removeItem(e)};class nb{constructor(){this.promise=new nb.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}nb.promiseConstructor=Promise;function E_(t){const e=t.split(".");if(e.length!==3)throw new EE("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Pie.test(e[r]))throw new EE("JWT not in base64url format");return{header:JSON.parse(zI(e[0])),payload:JSON.parse(zI(e[1])),signature:Uie(e[2]),raw:{header:e[0],payload:e[1]}}}async function Yie(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Xie(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){r(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function Zie(t){return("0"+t.toString(16)).substr(-2)}function Jie(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Zie).join("")}async function Qie(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function eae(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Qie(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function lu(t,e,n=!1){const r=Jie();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Su(t,`${e}-code-verifier`,i);const a=await eae(r);return[a,r===a?"plain":"s256"]}const tae=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function nae(t){const e=t.headers.get(_E);if(!e||!e.match(tae))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function rae(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function iae(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const aae=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function cu(t){if(!aae.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function j_(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function UI(t){return JSON.parse(JSON.stringify(t))}var sae=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Xl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),oae=[502,503,504];async function HI(t){var e;if(!Kie(t))throw new SE(Xl(t),0);if(oae.includes(t.status))throw new SE(Xl(t),t.status);let n;try{n=await t.json()}catch(a){throw new bz(Xl(a),a)}let r;const i=nae(t);if(i&&i.getTime()>=xz["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new DI(Xl(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new So}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new DI(Xl(n),t.status,n.weak_password.reasons);throw new $ie(Xl(n),t.status||500,r)}const lae=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function st(t,e,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[_E]||(a[_E]=xz["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const s=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await cae(t,e,n+o,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function cae(t,e,n,r,i,a){const s=lae(e,r,i,a);let o;try{o=await t(n,Object.assign({},s))}catch(l){throw console.error(l),new SE(Xl(l),0)}if(o.ok||await HI(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await HI(l)}}function Ss(t){var e;let n=null;hae(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Wie(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function VI(t){const e=Ss(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function No(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function uae(t){return{data:t,error:null}}function dae(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,s=sae(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function fae(t){return t}function hae(t){return t.access_token&&t.refresh_token&&t.expires_in}const A_=["global","local","others"];var pae=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class mae{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Sz(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=A_[0]){if(A_.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${A_.join(", ")}`);try{return await st(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await st(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:No})}catch(r){if(Ze(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=pae(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await st(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:dae,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ze(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await st(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:No})}catch(n){if(Ze(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await st(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:fae});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);c[`${v}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Ze(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){cu(e);try{return await st(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:No})}catch(n){if(Ze(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){cu(e);try{return await st(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:No})}catch(r){if(Ze(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){cu(e);try{return await st(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:No})}catch(r){if(Ze(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){cu(e.userId);try{const{data:n,error:r}=await st(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _deleteFactor(e){cu(e.userId),cu(e.id);try{return{data:await st(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}}}function WI(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function gae(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const uu={debug:!!(globalThis&&_z()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ez extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class yae extends Ez{}async function vae(t,e,n){uu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),uu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){uu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{uu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw uu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new yae(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(uu.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}gae();const xae={url:kie,storageKey:Oie,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Nie,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qI(t,e,n){return await n()}const du={};class zp{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=zp.nextInstanceID,zp.nextInstanceID+=1,this.instanceID>0&&Yi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},xae),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new mae({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Sz(i.fetch),this.lock=i.lock||qI,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Yi()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=vae:this.lock=qI,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:_z()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=WI(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=WI(this.memoryStorage)),Yi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=du[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){du[this.storageKey]=Object.assign(Object.assign({},du[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=du[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){du[this.storageKey]=Object.assign(Object.assign({},du[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${vz}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Gie(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Yi()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Lie(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ze(n)?{error:n}:{error:new bz("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ss}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(Ze(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:d,password:f,options:h}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await lu(this.storage,this.storageKey)),a=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:Ss})}else if("phone"in e){const{phone:d,password:f,options:h}=e;a=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ss})}else throw new Jg("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(Ze(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:s,options:o}=e;n=await st(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:VI})}else if("phone"in e){const{phone:a,password:s,options:o}=e;n=await st(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:VI})}else throw new Jg("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Zg}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ze(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,i,a,s,o,l,c,d,f,h,p;let m,g;if("message"in e)m=e.message,g=e.signature;else{const{chain:v,wallet:y,statement:b,options:x}=e;let w;if(Yi())if(typeof y=="object")w=y;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))w=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const S=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const E=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let A;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")A=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)A=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)m=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),g=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${S.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(r=x==null?void 0:x.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((s=x==null?void 0:x.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const E=await w.signMessage(new TextEncoder().encode(m),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=E}}try{const{data:v,error:y}=await st(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Vie(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ss});if(y)throw y;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Zg}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:y})}catch(v){if(Ze(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(e){const n=await Hl(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:s}=await st(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ss});if(await vo(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Zg}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(Ze(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:s}=e,o=await st(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ss}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Zg}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(Ze(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,a,s;try{if("email"in e){const{email:o,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await lu(this.storage,this.storageKey));const{error:f}=await st(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:d}=await st(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Jg("You must provide either an email or phone number.")}catch(o){if(Ze(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:o}=await st(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ss});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Ze(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await lu(this.storage,this.storageKey)),await st(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:uae})}catch(a){if(Ze(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new So;const{error:i}=await st(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Ze(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:s}=await st(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:s,error:o}=await st(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new Jg("You must provide either an email or phone number and a type")}catch(n){if(Ze(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Hl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<__:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const s=await Hl(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=j_()}if(this.storage.isServer&&e.user){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!s&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await st(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:No}):await this._useSession(async n=>{var r,i,a;const{data:s,error:o}=n;if(o)throw o;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new So}:await st(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:No})})}catch(n){if(Ze(n))return Mie(n)&&(await this._removeSession(),await vo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new So;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await lu(this.storage,this.storageKey));const{data:c,error:d}=await st(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:No});if(d)throw d;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(Ze(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new So;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:s}=E_(e.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Ze(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:s,error:o}=n;if(o)throw o;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new So;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ze(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Yi())throw new Qg("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Qg(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new LI("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qg("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new LI("No code detected.");const{data:b,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:c}=e;if(!a||!o||!s||!c)throw new Qg("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=_u&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:g,error:v}=await this._getUser(a);if(v)throw v;const y={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:s,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(Ze(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Hl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!(Rie(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await vo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=qie(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await lu(this.storage,this.storageKey,!0));try{return await st(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Ze(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var s,o,l,c,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await st(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Yi()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ze(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)throw s;return await st(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Xie(async i=>(i>0&&await Yie(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await st(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ss})),(i,a)=>{const s=200*Math.pow(2,i);return a&&S_(a)&&Date.now()+s-r<_u})}catch(r){if(this._debug(n,"error",r),Ze(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Yi()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Hl(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Hl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Su(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:j_()}else if(i&&!i.user&&!i.user){const s=await Hl(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await vo(this.storage,this.storageKey+"-user"),await Su(this.storage,this.storageKey,i)):i.user=j_()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<__;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${__}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),S_(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new So;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new nb;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new So;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),Ze(a)){const s={session:null,error:a};return S_(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Su(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=UI(i);await Su(this.storage,this.storageKey,a)}else{const i=UI(n);await Su(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await vo(this.storage,this.storageKey),await vo(this.storage,this.storageKey+"-code-verifier"),await vo(this.storage,this.storageKey+"-user"),this.userStorage&&await vo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Yi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_u);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/_u);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${_u}ms, refresh threshold is ${wE} ticks`),i<=wE&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ez)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Yi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,s]=await lu(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await st(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await st(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:s,error:o}=await st(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await st(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=r.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=E_(i.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+Iie>i)return r;const{data:a,error:s}=await st(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(o=>o.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};r=p.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=E_(r);n!=null&&n.allowExpired||rae(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:a,header:i,signature:s},error:null}}const d=iae(i.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,Hie(`${o}.${l}`)))throw new EE("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}}}zp.nextInstanceID=0;const bae=zp;class wae extends bae{constructor(e){super(e)}}var _ae=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(f){s(f)}}function l(d){try{c(r.throw(d))}catch(f){s(f)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class Sae{constructor(e,n,r){var i,a,s;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const o=Cie(e),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:xie,realtime:wie,auth:Object.assign(Object.assign({},bie),{storageKey:c}),global:vie},f=Tie(r??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=f.auth)!==null&&s!==void 0?s:{},this.headers,f.global.fetch),this.fetch=jie(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new zre(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new mie(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new yre(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return _ae(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:a,flowType:s,lock:o,debug:l},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wae({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:s,lock:o,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new nie(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Eae=(t,e,n)=>new Sae(t,e,n);function jae(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}jae()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Aae="https://imlbkhgquajmnqgbvgwj.supabase.co",Cae="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImltbGJraGdxdWFqbW5xZ2J2Z3dqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM5MDA5NTAsImV4cCI6MjA2OTQ3Njk1MH0.J-baoXJnvpag7bEVSqbqXoAoGhAI7wnOb1osZcQo-Xk",Be=Eae(Aae,Cae,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),jz=_.createContext(void 0),zn=()=>{const t=_.useContext(jz);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Tae=({children:t})=>{const[e,n]=_.useState(null),[r,i]=_.useState(null),[a,s]=_.useState(!0),{toast:o}=Mt();_.useEffect(()=>{const v=window.location.hash&&(window.location.hash.includes("access_token")||window.location.hash.includes("refresh_token")||window.location.hash.includes("error"));v&&console.log("Handling auth redirect, keeping loading state active...");const{data:{subscription:y}}=Be.auth.onAuthStateChange(async(b,x)=>{var w;console.log("Auth state changed:",b,(w=x==null?void 0:x.user)==null?void 0:w.email),i(x),n((x==null?void 0:x.user)??null),(x||!v)&&s(!1),b==="SIGNED_IN"?x!=null&&x.user&&setTimeout(()=>{l(x.user)},0):b==="SIGNED_OUT"?(localStorage.removeItem("sb-imlbkhgquajmnqgbvgwj-auth-token"),s(!1)):b==="TOKEN_REFRESHED"&&console.log("Token refreshed successfully")});if(Be.auth.getSession().then(({data:{session:b}})=>{i(b),n((b==null?void 0:b.user)??null),(b||!v)&&s(!1)}),v){const b=setTimeout(()=>{console.log("Auth redirect timeout reached, forcing loading completion"),s(!1)},5e3);return()=>{y.unsubscribe(),clearTimeout(b)}}return()=>y.unsubscribe()},[]);const l=async v=>{var y,b,x,w,S;try{const{error:E}=await Be.from("profiles").upsert({user_id:v.id,email:v.email,full_name:((y=v.user_metadata)==null?void 0:y.full_name)||((b=v.user_metadata)==null?void 0:b.name),display_name:((x=v.user_metadata)==null?void 0:x.full_name)||((w=v.user_metadata)==null?void 0:w.name),avatar_url:(S=v.user_metadata)==null?void 0:S.avatar_url,updated_at:new Date().toISOString()},{onConflict:"user_id"});E&&E.code!=="23505"&&console.error("Profile creation/update error:",E)}catch(E){console.error("Profile creation/update error:",E)}},g={user:e,session:r,loading:a,signIn:async(v,y)=>{const{data:b,error:x}=await Be.auth.signInWithPassword({email:v,password:y});if(x)throw x.message.includes("Invalid login credentials")?new Error("Invalid email or password. Please check your credentials and try again."):x.message.includes("Email not confirmed")?new Error("Please check your email and click the confirmation link before signing in."):x;b.user&&o({title:"Welcome back!",description:"Successfully signed in to your account."})},signInWithGoogle:async()=>{const v=`${window.location.origin}/`;console.log("Google Sign-In Redirect URL:",v);const{error:y}=await Be.auth.signInWithOAuth({provider:"google",options:{redirectTo:v,queryParams:{access_type:"offline",prompt:"consent"}}});if(y)throw y},signUp:async(v,y,b)=>{const x=`${window.location.origin}/admit-ai-nexus/`,{error:w,data:S}=await Be.auth.signUp({email:v,password:y,options:{emailRedirectTo:x,data:{full_name:b}}});if(w)throw w.message.includes("User already registered")?new Error("An account with this email already exists. Please sign in instead."):w.message.includes("Password should be")?new Error("Password must be at least 8 characters long."):w;S.user&&!S.user.email_confirmed_at?o({title:"Check your email",description:"We've sent you a confirmation link to verify your account."}):o({title:"Account created!",description:"Welcome to AdmitConnect AI."})},signOut:async()=>{const{error:v}=await Be.auth.signOut();if(v)throw v;i(null),n(null),o({title:"Signed out",description:"You have been successfully signed out."})},resetPassword:async v=>{const{error:y}=await Be.auth.resetPasswordForEmail(v,{redirectTo:`${window.location.origin}/admit-ai-nexus/reset-password`});if(y)throw y},updatePassword:async v=>{const{error:y}=await Be.auth.updateUser({password:v});if(y)throw y;o({title:"Password updated",description:"Your password has been successfully updated."})}};return u.jsx(jz.Provider,{value:g,children:t})},C_=({children:t})=>{const{user:e,loading:n}=zn();return n?u.jsx("div",{className:"min-h-screen bg-ai-gradient-subtle flex items-center justify-center",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-primary/30 border-t-primary rounded-full animate-spin mx-auto"}),u.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):e?u.jsx(u.Fragment,{children:t}):u.jsx(xJ,{to:"/auth",replace:!0})},kae={"llama-3.1-8b-instant":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"mistral-saba-24b":{maxInputTokens:32768,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama3-8b-8192":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"qwen-qwq-32b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama3-70b-8192":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"deepseek-r1-distill-llama-70b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama-guard-3-8b":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!1},"gemma2-9b-it":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"llama-3.3-70b-versatile":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"moonshotai/kimi-k2-instruct-0905":{maxInputTokens:262144,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"moonshotai/kimi-k2-instruct":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"openai/gpt-oss-20b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"openai/gpt-oss-120b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"qwen/qwen3-32b":{maxInputTokens:131072,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"meta-llama/llama-4-scout-17b-16e-instruct":{maxInputTokens:131072,imageInputs:!0,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"meta-llama/llama-4-maverick-17b-128e-instruct":{maxInputTokens:131072,imageInputs:!0,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!1},"meta-llama/llama-guard-4-12b":{maxInputTokens:131072,imageInputs:!0,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:128,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!1}};var Oae=kae,Nae=Object.defineProperty,wt=(t,e)=>{for(var n in e)Nae(t,n,{get:e[n],enumerable:!0})};function kf(t,e,n){function r(o,l){if(o._zod||Object.defineProperty(o,"_zod",{value:{def:l,constr:s,traits:new Set},enumerable:!1}),o._zod.traits.has(t))return;o._zod.traits.add(t),e(o,l);const c=s.prototype,d=Object.keys(c);for(let f=0;f<d.length;f++){const h=d[f];h in o||(o[h]=c[h].bind(o))}}const i=(n==null?void 0:n.Parent)??Object;class a extends i{}Object.defineProperty(a,"name",{value:t});function s(o){var l;const c=n!=null&&n.Parent?new a:this;r(c,o),(l=c._zod).deferred??(l.deferred=[]);for(const d of c._zod.deferred)d();return c}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:o=>{var l,c;return n!=null&&n.Parent&&o instanceof n.Parent?!0:(c=(l=o==null?void 0:o._zod)==null?void 0:l.traits)==null?void 0:c.has(t)}}),Object.defineProperty(s,"name",{value:t}),s}class Zh extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const Pae={};function rb(t){return Pae}function Iae(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,i])=>e.indexOf(+r)===-1).map(([r,i])=>i)}function $ae(t,e){return typeof e=="bigint"?e.toString():e}function Rae(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}const GI=Symbol("evaluating");function KI(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==GI)return r===void 0&&(r=GI,r=n()),r},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function Az(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Cz(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}const Tz="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function YI(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function Mae(t){if(YI(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(YI(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Js(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n!=null&&n.parent)&&(r._zod.parent=t),r}function Lae(t){return{}}function Dae(t,e){if(!Mae(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=Cz(t._zod.def,{get shape(){const a={...t._zod.def.shape,...e};return Az(this,"shape",a),a},checks:[]});return Js(t,i)}function Fae(t,e,n){const r=Cz(e._zod.def,{get shape(){const i=e._zod.def.shape,a={...i};for(const s in i)a[s]=t?new t({type:"optional",innerType:i[s]}):i[s];return Az(this,"shape",a),a},checks:[]});return Js(e,r)}function ey(t,e=0){var n;if(t.aborted===!0)return!0;for(let r=e;r<t.issues.length;r++)if(((n=t.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function ty(t){return typeof t=="string"?t:t==null?void 0:t.message}function ib(t,e,n){var i,a,s,o,l,c;const r={...t,path:t.path??[]};if(!t.message){const d=ty((s=(a=(i=t.inst)==null?void 0:i._zod.def)==null?void 0:a.error)==null?void 0:s.call(a,t))??ty((o=e==null?void 0:e.error)==null?void 0:o.call(e,t))??ty((l=n.customError)==null?void 0:l.call(n,t))??ty((c=n.localeError)==null?void 0:c.call(n,t))??"Invalid input";r.message=d}return delete r.inst,delete r.continue,e!=null&&e.reportInput||delete r.input,r}const kz=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,$ae,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Bae=kf("$ZodError",kz),ab=kf("$ZodError",kz,{Parent:Error}),zae=t=>(e,n,r,i)=>{const a=r?Object.assign(r,{async:!1}):{async:!1},s=e._zod.run({value:n,issues:[]},a);if(s instanceof Promise)throw new Zh;if(s.issues.length){const o=new((i==null?void 0:i.Err)??t)(s.issues.map(l=>ib(l,a,rb())));throw Tz(o,i==null?void 0:i.callee),o}return s.value},LT=zae(ab),Uae=t=>async(e,n,r,i)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let s=e._zod.run({value:n,issues:[]},a);if(s instanceof Promise&&(s=await s),s.issues.length){const o=new((i==null?void 0:i.Err)??t)(s.issues.map(l=>ib(l,a,rb())));throw Tz(o,i==null?void 0:i.callee),o}return s.value},Oz=Uae(ab),Hae=t=>(e,n,r)=>{const i=r?{...r,async:!1}:{async:!1},a=e._zod.run({value:n,issues:[]},i);if(a instanceof Promise)throw new Zh;return a.issues.length?{success:!1,error:new(t??Bae)(a.issues.map(s=>ib(s,i,rb())))}:{success:!0,data:a.value}},Vae=Hae(ab),Wae=t=>async(e,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let a=e._zod.run({value:n,issues:[]},i);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new t(a.issues.map(s=>ib(s,i,rb())))}:{success:!0,data:a.value}},qae=Wae(ab),Gae={major:4,minor:1,patch:13},DT=kf("$ZodType",(t,e)=>{var i;var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=Gae;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const a of r)for(const s of a._zod.onattach)s(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),(i=t._zod.deferred)==null||i.push(()=>{t._zod.run=t._zod.parse});else{const a=(o,l,c)=>{let d=ey(o),f;for(const h of l){if(h._zod.def.when){if(!h._zod.def.when(o))continue}else if(d)continue;const p=o.issues.length,m=h._zod.check(o);if(m instanceof Promise&&(c==null?void 0:c.async)===!1)throw new Zh;if(f||m instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await m,o.issues.length!==p&&(d||(d=ey(o,p)))});else{if(o.issues.length===p)continue;d||(d=ey(o,p))}}return f?f.then(()=>o):o},s=(o,l,c)=>{if(ey(o))return o.aborted=!0,o;const d=a(l,r,c);if(d instanceof Promise){if(c.async===!1)throw new Zh;return d.then(f=>t._zod.parse(f,c))}return t._zod.parse(d,c)};t._zod.run=(o,l)=>{if(l.skipChecks)return t._zod.parse(o,l);if(l.direction==="backward"){const d=t._zod.parse({value:o.value,issues:[]},{...l,skipChecks:!0});return d instanceof Promise?d.then(f=>s(f,o,l)):s(d,o,l)}const c=t._zod.parse(o,l);if(c instanceof Promise){if(l.async===!1)throw new Zh;return c.then(d=>a(d,r,l))}return a(c,r,l)}}t["~standard"]={validate:a=>{var s;try{const o=Vae(t,a);return o.success?{value:o.data}:{issues:(s=o.error)==null?void 0:s.issues}}catch{return qae(t,a).then(l=>{var c;return l.success?{value:l.data}:{issues:(c=l.error)==null?void 0:c.issues}})}},vendor:"zod",version:1}}),Kae=kf("$ZodUnknown",(t,e)=>{DT.init(t,e),t._zod.parse=n=>n}),Yae=kf("$ZodNever",(t,e)=>{DT.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function XI(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const Nz=kf("$ZodOptional",(t,e)=>{DT.init(t,e),t._zod.optin="optional",t._zod.optout="optional",KI(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),KI(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Rae(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(a=>XI(a,n.value)):XI(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}});var ZI;class Pz{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function Xae(){return new Pz}(ZI=globalThis).__zod_globalRegistry??(ZI.__zod_globalRegistry=Xae());const Tr=globalThis.__zod_globalRegistry;function Zae(t){return new t({type:"unknown"})}function Jae(t,e){return new t({type:"never",...Lae()})}class JI{constructor(e){this.counter=0,this.metadataRegistry=(e==null?void 0:e.metadata)??Tr,this.target=(e==null?void 0:e.target)??"draft-2020-12",this.unrepresentable=(e==null?void 0:e.unrepresentable)??"throw",this.override=(e==null?void 0:e.override)??(()=>{}),this.io=(e==null?void 0:e.io)??"output",this.seen=new Map}process(e,n={path:[],schemaPath:[]}){var f,h,p;var r;const i=e._zod.def,a={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},s=this.seen.get(e);if(s)return s.count++,n.schemaPath.includes(e)&&(s.cycle=n.path),s.schema;const o={schema:{},count:1,cycle:void 0,path:n.path};this.seen.set(e,o);const l=(h=(f=e._zod).toJSONSchema)==null?void 0:h.call(f);if(l)o.schema=l;else{const m={...n,schemaPath:[...n.schemaPath,e],path:n.path},g=e._zod.parent;if(g)o.ref=g,this.process(g,m),this.seen.get(g).isParent=!0;else{const v=o.schema;switch(i.type){case"string":{const y=v;y.type="string";const{minimum:b,maximum:x,format:w,patterns:S,contentEncoding:E}=e._zod.bag;if(typeof b=="number"&&(y.minLength=b),typeof x=="number"&&(y.maxLength=x),w&&(y.format=a[w]??w,y.format===""&&delete y.format),E&&(y.contentEncoding=E),S&&S.size>0){const A=[...S];A.length===1?y.pattern=A[0].source:A.length>1&&(o.schema.allOf=[...A.map(j=>({...this.target==="draft-7"||this.target==="draft-4"||this.target==="openapi-3.0"?{type:"string"}:{},pattern:j.source}))])}break}case"number":{const y=v,{minimum:b,maximum:x,format:w,multipleOf:S,exclusiveMaximum:E,exclusiveMinimum:A}=e._zod.bag;typeof w=="string"&&w.includes("int")?y.type="integer":y.type="number",typeof A=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(y.minimum=A,y.exclusiveMinimum=!0):y.exclusiveMinimum=A),typeof b=="number"&&(y.minimum=b,typeof A=="number"&&this.target!=="draft-4"&&(A>=b?delete y.minimum:delete y.exclusiveMinimum)),typeof E=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(y.maximum=E,y.exclusiveMaximum=!0):y.exclusiveMaximum=E),typeof x=="number"&&(y.maximum=x,typeof E=="number"&&this.target!=="draft-4"&&(E<=x?delete y.maximum:delete y.exclusiveMaximum)),typeof S=="number"&&(y.multipleOf=S);break}case"boolean":{const y=v;y.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{this.target==="openapi-3.0"?(v.type="string",v.nullable=!0,v.enum=[null]):v.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{v.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{const y=v,{minimum:b,maximum:x}=e._zod.bag;typeof b=="number"&&(y.minItems=b),typeof x=="number"&&(y.maxItems=x),y.type="array",y.items=this.process(i.element,{...m,path:[...m.path,"items"]});break}case"object":{const y=v;y.type="object",y.properties={};const b=i.shape;for(const S in b)y.properties[S]=this.process(b[S],{...m,path:[...m.path,"properties",S]});const x=new Set(Object.keys(b)),w=new Set([...x].filter(S=>{const E=i.shape[S]._zod;return this.io==="input"?E.optin===void 0:E.optout===void 0}));w.size>0&&(y.required=Array.from(w)),((p=i.catchall)==null?void 0:p._zod.def.type)==="never"?y.additionalProperties=!1:i.catchall?i.catchall&&(y.additionalProperties=this.process(i.catchall,{...m,path:[...m.path,"additionalProperties"]})):this.io==="output"&&(y.additionalProperties=!1);break}case"union":{const y=v,b=i.discriminator!==void 0,x=i.options.map((w,S)=>this.process(w,{...m,path:[...m.path,b?"oneOf":"anyOf",S]}));b?y.oneOf=x:y.anyOf=x;break}case"intersection":{const y=v,b=this.process(i.left,{...m,path:[...m.path,"allOf",0]}),x=this.process(i.right,{...m,path:[...m.path,"allOf",1]}),w=E=>"allOf"in E&&Object.keys(E).length===1,S=[...w(b)?b.allOf:[b],...w(x)?x.allOf:[x]];y.allOf=S;break}case"tuple":{const y=v;y.type="array";const b=this.target==="draft-2020-12"?"prefixItems":"items",x=this.target==="draft-2020-12"||this.target==="openapi-3.0"?"items":"additionalItems",w=i.items.map((j,C)=>this.process(j,{...m,path:[...m.path,b,C]})),S=i.rest?this.process(i.rest,{...m,path:[...m.path,x,...this.target==="openapi-3.0"?[i.items.length]:[]]}):null;this.target==="draft-2020-12"?(y.prefixItems=w,S&&(y.items=S)):this.target==="openapi-3.0"?(y.items={anyOf:w},S&&y.items.anyOf.push(S),y.minItems=w.length,S||(y.maxItems=w.length)):(y.items=w,S&&(y.additionalItems=S));const{minimum:E,maximum:A}=e._zod.bag;typeof E=="number"&&(y.minItems=E),typeof A=="number"&&(y.maxItems=A);break}case"record":{const y=v;y.type="object",(this.target==="draft-7"||this.target==="draft-2020-12")&&(y.propertyNames=this.process(i.keyType,{...m,path:[...m.path,"propertyNames"]})),y.additionalProperties=this.process(i.valueType,{...m,path:[...m.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{const y=v,b=Iae(i.entries);b.every(x=>typeof x=="number")&&(y.type="number"),b.every(x=>typeof x=="string")&&(y.type="string"),y.enum=b;break}case"literal":{const y=v,b=[];for(const x of i.values)if(x===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof x=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");b.push(Number(x))}else b.push(x);if(b.length!==0)if(b.length===1){const x=b[0];y.type=x===null?"null":typeof x,this.target==="draft-4"||this.target==="openapi-3.0"?y.enum=[x]:y.const=x}else b.every(x=>typeof x=="number")&&(y.type="number"),b.every(x=>typeof x=="string")&&(y.type="string"),b.every(x=>typeof x=="boolean")&&(y.type="string"),b.every(x=>x===null)&&(y.type="null"),y.enum=b;break}case"file":{const y=v,b={type:"string",format:"binary",contentEncoding:"binary"},{minimum:x,maximum:w,mime:S}=e._zod.bag;x!==void 0&&(b.minLength=x),w!==void 0&&(b.maxLength=w),S?S.length===1?(b.contentMediaType=S[0],Object.assign(y,b)):y.anyOf=S.map(E=>({...b,contentMediaType:E})):Object.assign(y,b);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{const y=this.process(i.innerType,m);this.target==="openapi-3.0"?(o.ref=i.innerType,v.nullable=!0):v.anyOf=[y,{type:"null"}];break}case"nonoptional":{this.process(i.innerType,m),o.ref=i.innerType;break}case"success":{const y=v;y.type="boolean";break}case"default":{this.process(i.innerType,m),o.ref=i.innerType,v.default=JSON.parse(JSON.stringify(i.defaultValue));break}case"prefault":{this.process(i.innerType,m),o.ref=i.innerType,this.io==="input"&&(v._prefault=JSON.parse(JSON.stringify(i.defaultValue)));break}case"catch":{this.process(i.innerType,m),o.ref=i.innerType;let y;try{y=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}v.default=y;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{const y=v,b=e._zod.pattern;if(!b)throw new Error("Pattern not found in template literal");y.type="string",y.pattern=b.source;break}case"pipe":{const y=this.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;this.process(y,m),o.ref=y;break}case"readonly":{this.process(i.innerType,m),o.ref=i.innerType,v.readOnly=!0;break}case"promise":{this.process(i.innerType,m),o.ref=i.innerType;break}case"optional":{this.process(i.innerType,m),o.ref=i.innerType;break}case"lazy":{const y=e._zod.innerType;this.process(y,m),o.ref=y;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}case"function":{if(this.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema");break}}}}const c=this.metadataRegistry.get(e);return c&&Object.assign(o.schema,c),this.io==="input"&&ar(e)&&(delete o.schema.examples,delete o.schema.default),this.io==="input"&&o.schema._prefault&&((r=o.schema).default??(r.default=o.schema._prefault)),delete o.schema._prefault,this.seen.get(e).schema}emit(e,n){var d,f,h,p,m,g;const r={cycles:(n==null?void 0:n.cycles)??"ref",reused:(n==null?void 0:n.reused)??"inline",external:(n==null?void 0:n.external)??void 0},i=this.seen.get(e);if(!i)throw new Error("Unprocessed schema. This is a bug in Zod.");const a=v=>{var S;const y=this.target==="draft-2020-12"?"$defs":"definitions";if(r.external){const E=(S=r.external.registry.get(v[0]))==null?void 0:S.id,A=r.external.uri??(C=>C);if(E)return{ref:A(E)};const j=v[1].defId??v[1].schema.id??`schema${this.counter++}`;return v[1].defId=j,{defId:j,ref:`${A("__shared")}#/${y}/${j}`}}if(v[1]===i)return{ref:"#"};const x=`#/${y}/`,w=v[1].schema.id??`__schema${this.counter++}`;return{defId:w,ref:x+w}},s=v=>{if(v[1].schema.$ref)return;const y=v[1],{ref:b,defId:x}=a(v);y.def={...y.schema},x&&(y.defId=x);const w=y.schema;for(const S in w)delete w[S];w.$ref=b};if(r.cycles==="throw")for(const v of this.seen.entries()){const y=v[1];if(y.cycle)throw new Error(`Cycle detected: #/${(d=y.cycle)==null?void 0:d.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const v of this.seen.entries()){const y=v[1];if(e===v[0]){s(v);continue}if(r.external){const x=(f=r.external.registry.get(v[0]))==null?void 0:f.id;if(e!==v[0]&&x){s(v);continue}}if((h=this.metadataRegistry.get(v[0]))==null?void 0:h.id){s(v);continue}if(y.cycle){s(v);continue}if(y.count>1&&r.reused==="ref"){s(v);continue}}const o=(v,y)=>{const b=this.seen.get(v),x=b.def??b.schema,w={...x};if(b.ref===null)return;const S=b.ref;if(b.ref=null,S){o(S,y);const E=this.seen.get(S).schema;E.$ref&&(y.target==="draft-7"||y.target==="draft-4"||y.target==="openapi-3.0")?(x.allOf=x.allOf??[],x.allOf.push(E)):(Object.assign(x,E),Object.assign(x,w))}b.isParent||this.override({zodSchema:v,jsonSchema:x,path:b.path??[]})};for(const v of[...this.seen.entries()].reverse())o(v[0],{target:this.target});const l={};if(this.target==="draft-2020-12"?l.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?l.$schema="http://json-schema.org/draft-07/schema#":this.target==="draft-4"?l.$schema="http://json-schema.org/draft-04/schema#":this.target==="openapi-3.0"||console.warn(`Invalid target: ${this.target}`),(p=r.external)!=null&&p.uri){const v=(m=r.external.registry.get(e))==null?void 0:m.id;if(!v)throw new Error("Schema is missing an `id` property");l.$id=r.external.uri(v)}Object.assign(l,i.def);const c=((g=r.external)==null?void 0:g.defs)??{};for(const v of this.seen.entries()){const y=v[1];y.def&&y.defId&&(c[y.defId]=y.def)}r.external||Object.keys(c).length>0&&(this.target==="draft-2020-12"?l.$defs=c:l.definitions=c);try{return JSON.parse(JSON.stringify(l))}catch{throw new Error("Error converting schema to JSON.")}}}function QI(t,e){if(t instanceof Pz){const r=new JI(e),i={};for(const o of t._idmap.entries()){const[l,c]=o;r.process(c)}const a={},s={registry:t,uri:e==null?void 0:e.uri,defs:i};for(const o of t._idmap.entries()){const[l,c]=o;a[l]=r.emit(c,{...e,external:s})}if(Object.keys(i).length>0){const o=r.target==="draft-2020-12"?"$defs":"definitions";a.__shared={[o]:i}}return{schemas:a}}const n=new JI(e);return n.process(t),n.emit(t,e)}function ar(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return ar(r.element,n);if(r.type==="set")return ar(r.valueType,n);if(r.type==="lazy")return ar(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return ar(r.innerType,n);if(r.type==="intersection")return ar(r.left,n)||ar(r.right,n);if(r.type==="record"||r.type==="map")return ar(r.keyType,n)||ar(r.valueType,n);if(r.type==="pipe")return ar(r.in,n)||ar(r.out,n);if(r.type==="object"){for(const i in r.shape)if(ar(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(ar(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(ar(i,n))return!0;return!!(r.rest&&ar(r.rest,n))}return!1}function hn(t){if(typeof t!="object"||t===null)return!1;const e=t;if(!("_zod"in e))return!1;const n=e._zod;return typeof n=="object"&&n!==null&&"def"in n}function An(t){if(typeof t!="object"||t===null)return!1;const e=t;if(!("_def"in e)||"_zod"in e)return!1;const n=e._def;return typeof n=="object"&&n!=null&&"typeName"in n}function Qae(t){return hn(t)&&console.warn("[WARNING] Attempting to use Zod 4 schema in a context where Zod 3 schema is expected. This may cause unexpected behavior."),An(t)}function Pc(t){return!t||typeof t!="object"||Array.isArray(t)?!1:!!(hn(t)||An(t))}function Iz(t){return typeof t=="object"&&t!==null&&"_def"in t&&typeof t._def=="object"&&t._def!==null&&"typeName"in t._def&&t._def.typeName==="ZodLiteral"}function $z(t){return hn(t)?typeof t=="object"&&t!==null&&"_zod"in t&&typeof t._zod=="object"&&t._zod!==null&&"def"in t._zod&&typeof t._zod.def=="object"&&t._zod.def!==null&&"type"in t._zod.def&&t._zod.def.type==="literal":!1}function ese(t){return!!(Iz(t)||$z(t))}async function Rz(t,e){if(hn(t))try{return{success:!0,data:await Oz(t,e)}}catch(n){return{success:!1,error:n}}if(An(t))return await t.safeParseAsync(e);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}async function FT(t,e){if(hn(t))return await Oz(t,e);if(An(t))return await t.parseAsync(e);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function tse(t,e){if(hn(t))try{return{success:!0,data:LT(t,e)}}catch(n){return{success:!1,error:n}}if(An(t))return t.safeParse(e);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function nse(t,e){if(hn(t))return LT(t,e);if(An(t))return t.parse(e);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function BT(t){var e;if(hn(t))return(e=Tr.get(t))==null?void 0:e.description;if(An(t)||"description"in t&&typeof t.description=="string")return t.description}function rse(t){if(!Pc(t))return!1;if(An(t)){const e=t._def;if(e.typeName==="ZodObject"){const n=t;return!n.shape||Object.keys(n.shape).length===0}if(e.typeName==="ZodRecord")return!0}if(hn(t)){const e=t._zod.def;if(e.type==="object"){const n=t;return!n.shape||Object.keys(n.shape).length===0}if(e.type==="record")return!0}return typeof t=="object"&&t!==null&&!("shape"in t)}function Mz(t){return Pc(t)?An(t)?t._def.typeName==="ZodString":hn(t)?t._zod.def.type==="string":!1:!1}function zT(t){return typeof t=="object"&&t!==null&&"_def"in t&&typeof t._def=="object"&&t._def!==null&&"typeName"in t._def&&t._def.typeName==="ZodObject"}function Ja(t){return hn(t)?typeof t=="object"&&t!==null&&"_zod"in t&&typeof t._zod=="object"&&t._zod!==null&&"def"in t._zod&&typeof t._zod.def=="object"&&t._zod.def!==null&&"type"in t._zod.def&&t._zod.def.type==="object":!1}function sb(t){return hn(t)?typeof t=="object"&&t!==null&&"_zod"in t&&typeof t._zod=="object"&&t._zod!==null&&"def"in t._zod&&typeof t._zod.def=="object"&&t._zod.def!==null&&"type"in t._zod.def&&t._zod.def.type==="array":!1}function ise(t){return!!(zT(t)||Ja(t))}function jE(t){if(An(t))return t.shape;if(hn(t))return t._zod.def.shape;throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function ase(t,e){if(An(t))return t.extend(e);if(hn(t))return Dae(t,e);throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function sse(t){if(An(t))return t.partial();if(hn(t))return Fae(Nz,t);throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function Gv(t,e=!1){if(An(t))return t.strict();if(Ja(t)){const n=t._zod.def.shape;if(e)for(const[a,s]of Object.entries(t._zod.def.shape)){if(Ja(s)){const l=Gv(s,e);n[a]=l}else if(sb(s)){let l=s._zod.def.element;Ja(l)&&(l=Gv(l,e)),n[a]=Js(s,{...s._zod.def,element:l})}else n[a]=s;const o=Tr.get(s);o&&Tr.add(n[a],o)}const r=Js(t,{...t._zod.def,shape:n,catchall:Jae(Yae)}),i=Tr.get(t);return i&&Tr.add(r,i),r}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function AE(t,e=!1){if(zT(t))return t.passthrough();if(Ja(t)){const n=t._zod.def.shape;if(e)for(const[a,s]of Object.entries(t._zod.def.shape)){if(Ja(s)){const l=AE(s,e);n[a]=l}else if(sb(s)){let l=s._zod.def.element;Ja(l)&&(l=AE(l,e)),n[a]=Js(s,{...s._zod.def,element:l})}else n[a]=s;const o=Tr.get(s);o&&Tr.add(n[a],o)}const r=Js(t,{...t._zod.def,shape:n,catchall:Zae(Kae)}),i=Tr.get(t);return i&&Tr.add(r,i),r}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function ose(t){if(An(t))try{const e=t.parse(void 0);return()=>e}catch{return}if(hn(t))try{const e=LT(t,void 0);return()=>e}catch{return}}function lse(t){return An(t)&&"typeName"in t._def&&t._def.typeName==="ZodEffects"}function cse(t){return hn(t)&&t._zod.def.type==="pipe"}function kh(t,e,n){const r=n.get(t);if(r!==void 0)return r;if(An(t))return lse(t)?kh(t._def.schema,e,n):t;if(hn(t)){let i=t;if(cse(t)&&(i=kh(t._zod.def.in,e,n)),e){if(Ja(i)){const s=i._zod.def.shape;for(const[o,l]of Object.entries(i._zod.def.shape))s[o]=kh(l,e,n);i=Js(i,{...i._zod.def,shape:s})}else if(sb(i)){const s=kh(i._zod.def.element,e,n);i=Js(i,{...i._zod.def,element:s})}}const a=Tr.get(t);return a&&Tr.add(i,a),n.set(t,i),i}throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function Lz(t,e=!1){return kh(t,e,new WeakMap)}function use(t,e){if(An(t)){const n=jE(t),r={};for(const[i,a]of Object.entries(n))e(i,a)?r[i]=a.optional():r[i]=a;return t.extend(r)}if(hn(t)){const n=jE(t),r={...t._zod.def.shape};for(const[s,o]of Object.entries(n))e(s,o)&&(r[s]=new Nz({type:"optional",innerType:o}));const i=Js(t,{...t._zod.def,shape:r}),a=Tr.get(t);return a&&Tr.add(i,a),i}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function dse(t){return t instanceof Error&&(t.constructor.name==="ZodError"||t.constructor.name==="$ZodError")}const fse=Symbol("Let zodToJsonSchema decide on which parser to use"),hse={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},pse=t=>({...hse,...t}),mse=t=>{const e=pse(t),n=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,flags:{hasReferencedOpenAiAnyType:!1},currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([r,i])=>[i._def,{def:i._def,path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))}},Dz=(t,e)=>{let n=0;for(;n<t.length&&n<e.length&&t[n]===e[n];n++);return[(t.length-n).toString(),...e.slice(n)].join("/")};function ui(t){if(t.target!=="openAi")return{};const e=[...t.basePath,t.definitionPath,t.openAiAnyTypeName];return t.flags.hasReferencedOpenAiAnyType=!0,{$ref:t.$refStrategy==="relative"?Dz(e,t.currentPath):e.join("/")}}function Fz(t,e,n,r){r!=null&&r.errorMessages&&n&&(t.errorMessage={...t.errorMessage,[e]:n})}function _t(t,e,n,r,i){t[e]=n,Fz(t,e,r,i)}var ht;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},t.find=(i,a)=>{for(const s of i)if(a(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(ht||(ht={}));var e2;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(e2||(e2={}));const Te=ht.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Co=t=>{switch(typeof t){case"undefined":return Te.undefined;case"string":return Te.string;case"number":return Number.isNaN(t)?Te.nan:Te.number;case"boolean":return Te.boolean;case"function":return Te.function;case"bigint":return Te.bigint;case"symbol":return Te.symbol;case"object":return Array.isArray(t)?Te.array:t===null?Te.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Te.promise:typeof Map<"u"&&t instanceof Map?Te.map:typeof Set<"u"&&t instanceof Set?Te.set:typeof Date<"u"&&t instanceof Date?Te.date:Te.object;default:return Te.unknown}},de=ht.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Qs extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let o=r,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(n(s))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof Qs))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ht.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n=Object.create(null),r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];n[a]=n[a]||[],n[a].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Qs.create=t=>new Qs(t);const CE=(t,e)=>{let n;switch(t.code){case de.invalid_type:t.received===Te.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case de.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ht.jsonStringifyReplacer)}`;break;case de.unrecognized_keys:n=`Unrecognized key(s) in object: ${ht.joinValues(t.keys,", ")}`;break;case de.invalid_union:n="Invalid input";break;case de.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ht.joinValues(t.options)}`;break;case de.invalid_enum_value:n=`Invalid enum value. Expected ${ht.joinValues(t.options)}, received '${t.received}'`;break;case de.invalid_arguments:n="Invalid function arguments";break;case de.invalid_return_type:n="Invalid function return type";break;case de.invalid_date:n="Invalid date";break;case de.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ht.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case de.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case de.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case de.custom:n="Invalid input";break;case de.invalid_intersection_types:n="Intersection results could not be merged";break;case de.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case de.not_finite:n="Number must be finite";break;default:n=e.defaultError,ht.assertNever(t)}return{message:n}};let gse=CE;function yse(){return gse}const vse=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)o=c(s,{data:e,defaultError:o}).message;return{...i,path:a,message:o}};function xe(t,e){const n=yse(),r=vse({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===CE?void 0:CE].filter(i=>!!i)});t.common.issues.push(r)}class di{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Ke;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,s=await i.value;r.push({key:a,value:s})}return di.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return Ke;a.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[a.value]=s.value)}return{status:e.value,value:r}}}const Ke=Object.freeze({status:"aborted"}),Oh=t=>({status:"dirty",value:t}),Fi=t=>({status:"valid",value:t}),t2=t=>t.status==="aborted",n2=t=>t.status==="dirty",Rd=t=>t.status==="valid",Kv=t=>typeof Promise<"u"&&t instanceof Promise;var Ne;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ne||(Ne={}));class yl{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const r2=(t,e)=>{if(Rd(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Qs(t.common.issues);return this._error=n,this._error}}};function it(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,o)=>{const{message:l}=t;return s.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??r??o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:l??n??o.defaultError}},description:i}}class ft{get description(){return this._def.description}_getType(e){return Co(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Co(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new di,ctx:{common:e.parent.common,data:e.data,parsedType:Co(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Kv(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Co(e)},i=this._parseSync({data:e,path:r.path,parent:r});return r2(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Co(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return Rd(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>Rd(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Co(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(Kv(i)?i:Promise.resolve(i));return r2(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const s=e(i),o=()=>a.addIssue({code:de.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Ld({schema:this,typeName:fe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return el.create(this,this._def)}nullable(){return Dd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Qa.create(this)}promise(){return Jv.create(this,this._def)}or(e){return Xv.create([this,e],this._def)}and(e){return Zv.create(this,e,this._def)}transform(e){return new Ld({...it(this._def),schema:this,typeName:fe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new OE({...it(this._def),innerType:this,defaultValue:n,typeName:fe.ZodDefault})}brand(){return new zse({typeName:fe.ZodBranded,type:this,...it(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new NE({...it(this._def),innerType:this,catchValue:n,typeName:fe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return UT.create(this,e)}readonly(){return PE.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const xse=/^c[^\s-]{8,}$/i,bse=/^[0-9a-z]+$/,wse=/^[0-9A-HJKMNP-TV-Z]{26}$/i,_se=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Sse=/^[a-z0-9_-]{21}$/i,Ese=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,jse=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ase=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Cse="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let T_;const Tse=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,kse=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ose=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Nse=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Pse=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ise=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Bz="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$se=new RegExp(`^${Bz}$`);function zz(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function Rse(t){return new RegExp(`^${zz(t)}$`)}function Mse(t){let e=`${Bz}T${zz(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Lse(t,e){return!!((e==="v4"||!e)&&Tse.test(t)||(e==="v6"||!e)&&Ose.test(t))}function Dse(t,e){if(!Ese.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function Fse(t,e){return!!((e==="v4"||!e)&&kse.test(t)||(e==="v6"||!e)&&Nse.test(t))}class zo extends ft{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Te.string){const a=this._getOrReturnCtx(e);return xe(a,{code:de.invalid_type,expected:Te.string,received:a.parsedType}),Ke}const r=new di;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:de.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:de.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const s=e.data.length>a.value,o=e.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(e,i),s?xe(i,{code:de.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&xe(i,{code:de.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")Ase.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"email",code:de.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")T_||(T_=new RegExp(Cse,"u")),T_.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"emoji",code:de.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")_se.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"uuid",code:de.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")Sse.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"nanoid",code:de.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")xse.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"cuid",code:de.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")bse.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"cuid2",code:de.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")wse.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"ulid",code:de.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),xe(i,{validation:"url",code:de.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"regex",code:de.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),xe(i,{code:de.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),xe(i,{code:de.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),xe(i,{code:de.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?Mse(a).test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{code:de.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?$se.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{code:de.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?Rse(a).test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{code:de.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?jse.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"duration",code:de.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?Lse(e.data,a.version)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"ip",code:de.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?Dse(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"jwt",code:de.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?Fse(e.data,a.version)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"cidr",code:de.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?Pse.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"base64",code:de.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?Ise.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"base64url",code:de.invalid_string,message:a.message}),r.dirty()):ht.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:de.invalid_string,...Ne.errToObj(r)})}_addCheck(e){return new zo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ne.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ne.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ne.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ne.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ne.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ne.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ne.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ne.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ne.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ne.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ne.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ne.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ne.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Ne.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ne.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ne.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ne.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Ne.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ne.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ne.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ne.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ne.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ne.errToObj(n)})}nonempty(e){return this.min(1,Ne.errToObj(e))}trim(){return new zo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new zo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new zo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}zo.create=t=>new zo({checks:[],typeName:fe.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...it(t)});function Bse(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=Number.parseInt(t.toFixed(i).replace(".","")),s=Number.parseInt(e.toFixed(i).replace(".",""));return a%s/10**i}class Up extends ft{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Te.number){const a=this._getOrReturnCtx(e);return xe(a,{code:de.invalid_type,expected:Te.number,received:a.parsedType}),Ke}let r;const i=new di;for(const a of this._def.checks)a.kind==="int"?ht.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),xe(r,{code:de.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:de.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:de.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?Bse(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),xe(r,{code:de.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),xe(r,{code:de.not_finite,message:a.message}),i.dirty()):ht.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ne.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ne.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ne.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ne.toString(n))}setLimit(e,n,r,i){return new Up({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ne.toString(i)}]})}_addCheck(e){return new Up({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ne.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ne.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ne.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ne.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ne.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ne.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ne.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ne.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ne.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ht.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Up.create=t=>new Up({checks:[],typeName:fe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...it(t)});class Hp extends ft{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Te.bigint)return this._getInvalidInput(e);let r;const i=new di;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:de.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:de.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:de.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):ht.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return xe(n,{code:de.invalid_type,expected:Te.bigint,received:n.parsedType}),Ke}gte(e,n){return this.setLimit("min",e,!0,Ne.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ne.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ne.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ne.toString(n))}setLimit(e,n,r,i){return new Hp({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ne.toString(i)}]})}_addCheck(e){return new Hp({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ne.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ne.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ne.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ne.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ne.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Hp.create=t=>new Hp({checks:[],typeName:fe.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...it(t)});class i2 extends ft{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Te.boolean){const r=this._getOrReturnCtx(e);return xe(r,{code:de.invalid_type,expected:Te.boolean,received:r.parsedType}),Ke}return Fi(e.data)}}i2.create=t=>new i2({typeName:fe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...it(t)});class Yv extends ft{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Te.date){const a=this._getOrReturnCtx(e);return xe(a,{code:de.invalid_type,expected:Te.date,received:a.parsedType}),Ke}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return xe(a,{code:de.invalid_date}),Ke}const r=new di;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:de.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:de.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):ht.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Yv({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ne.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ne.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Yv.create=t=>new Yv({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:fe.ZodDate,...it(t)});class a2 extends ft{_parse(e){if(this._getType(e)!==Te.symbol){const r=this._getOrReturnCtx(e);return xe(r,{code:de.invalid_type,expected:Te.symbol,received:r.parsedType}),Ke}return Fi(e.data)}}a2.create=t=>new a2({typeName:fe.ZodSymbol,...it(t)});class s2 extends ft{_parse(e){if(this._getType(e)!==Te.undefined){const r=this._getOrReturnCtx(e);return xe(r,{code:de.invalid_type,expected:Te.undefined,received:r.parsedType}),Ke}return Fi(e.data)}}s2.create=t=>new s2({typeName:fe.ZodUndefined,...it(t)});class o2 extends ft{_parse(e){if(this._getType(e)!==Te.null){const r=this._getOrReturnCtx(e);return xe(r,{code:de.invalid_type,expected:Te.null,received:r.parsedType}),Ke}return Fi(e.data)}}o2.create=t=>new o2({typeName:fe.ZodNull,...it(t)});class TE extends ft{constructor(){super(...arguments),this._any=!0}_parse(e){return Fi(e.data)}}TE.create=t=>new TE({typeName:fe.ZodAny,...it(t)});class l2 extends ft{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Fi(e.data)}}l2.create=t=>new l2({typeName:fe.ZodUnknown,...it(t)});class vl extends ft{_parse(e){const n=this._getOrReturnCtx(e);return xe(n,{code:de.invalid_type,expected:Te.never,received:n.parsedType}),Ke}}vl.create=t=>new vl({typeName:fe.ZodNever,...it(t)});class c2 extends ft{_parse(e){if(this._getType(e)!==Te.undefined){const r=this._getOrReturnCtx(e);return xe(r,{code:de.invalid_type,expected:Te.void,received:r.parsedType}),Ke}return Fi(e.data)}}c2.create=t=>new c2({typeName:fe.ZodVoid,...it(t)});class Qa extends ft{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Te.array)return xe(n,{code:de.invalid_type,expected:Te.array,received:n.parsedType}),Ke;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(s||o)&&(xe(n,{code:s?de.too_big:de.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(xe(n,{code:de.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(xe(n,{code:de.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,o)=>i.type._parseAsync(new yl(n,s,n.path,o)))).then(s=>di.mergeArray(r,s));const a=[...n.data].map((s,o)=>i.type._parseSync(new yl(n,s,n.path,o)));return di.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new Qa({...this._def,minLength:{value:e,message:Ne.toString(n)}})}max(e,n){return new Qa({...this._def,maxLength:{value:e,message:Ne.toString(n)}})}length(e,n){return new Qa({...this._def,exactLength:{value:e,message:Ne.toString(n)}})}nonempty(e){return this.min(1,e)}}Qa.create=(t,e)=>new Qa({type:t,minLength:null,maxLength:null,exactLength:null,typeName:fe.ZodArray,...it(e)});function Eu(t){if(t instanceof tn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=el.create(Eu(r))}return new tn({...t._def,shape:()=>e})}else return t instanceof Qa?new Qa({...t._def,type:Eu(t.element)}):t instanceof el?el.create(Eu(t.unwrap())):t instanceof Dd?Dd.create(Eu(t.unwrap())):t instanceof Ic?Ic.create(t.items.map(e=>Eu(e))):t}class tn extends ft{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ht.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Te.object){const c=this._getOrReturnCtx(e);return xe(c,{code:de.invalid_type,expected:Te.object,received:c.parsedType}),Ke}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof vl&&this._def.unknownKeys==="strip"))for(const c in i.data)s.includes(c)||o.push(c);const l=[];for(const c of s){const d=a[c],f=i.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new yl(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof vl){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of o)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(c==="strict")o.length>0&&(xe(i,{code:de.unrecognized_keys,keys:o}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of o){const f=i.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new yl(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const f=await d.key,h=await d.value;c.push({key:f,value:h,alwaysSet:d.alwaysSet})}return c}).then(c=>di.mergeObjectSync(r,c)):di.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Ne.errToObj,new tn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var a,s;const i=((s=(a=this._def).errorMap)==null?void 0:s.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Ne.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new tn({...this._def,unknownKeys:"strip"})}passthrough(){return new tn({...this._def,unknownKeys:"passthrough"})}extend(e){return new tn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new tn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:fe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new tn({...this._def,catchall:e})}pick(e){const n={};for(const r of ht.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new tn({...this._def,shape:()=>n})}omit(e){const n={};for(const r of ht.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new tn({...this._def,shape:()=>n})}deepPartial(){return Eu(this)}partial(e){const n={};for(const r of ht.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new tn({...this._def,shape:()=>n})}required(e){const n={};for(const r of ht.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof el;)a=a._def.innerType;n[r]=a}return new tn({...this._def,shape:()=>n})}keyof(){return Uz(ht.objectKeys(this.shape))}}tn.create=(t,e)=>new tn({shape:()=>t,unknownKeys:"strip",catchall:vl.create(),typeName:fe.ZodObject,...it(e)});tn.strictCreate=(t,e)=>new tn({shape:()=>t,unknownKeys:"strict",catchall:vl.create(),typeName:fe.ZodObject,...it(e)});tn.lazycreate=(t,e)=>new tn({shape:t,unknownKeys:"strip",catchall:vl.create(),typeName:fe.ZodObject,...it(e)});class Xv extends ft{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new Qs(o.ctx.common.issues));return xe(n,{code:de.invalid_union,unionErrors:s}),Ke}if(n.common.async)return Promise.all(r.map(async a=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(l=>new Qs(l));return xe(n,{code:de.invalid_union,unionErrors:o}),Ke}}get options(){return this._def.options}}Xv.create=(t,e)=>new Xv({options:t,typeName:fe.ZodUnion,...it(e)});function kE(t,e){const n=Co(t),r=Co(e);if(t===e)return{valid:!0,data:t};if(n===Te.object&&r===Te.object){const i=ht.objectKeys(e),a=ht.objectKeys(t).filter(o=>i.indexOf(o)!==-1),s={...t,...e};for(const o of a){const l=kE(t[o],e[o]);if(!l.valid)return{valid:!1};s[o]=l.data}return{valid:!0,data:s}}else if(n===Te.array&&r===Te.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const s=t[a],o=e[a],l=kE(s,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===Te.date&&r===Te.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Zv extends ft{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,s)=>{if(t2(a)||t2(s))return Ke;const o=kE(a.value,s.value);return o.valid?((n2(a)||n2(s))&&n.dirty(),{status:n.value,value:o.data}):(xe(r,{code:de.invalid_intersection_types}),Ke)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Zv.create=(t,e,n)=>new Zv({left:t,right:e,typeName:fe.ZodIntersection,...it(n)});class Ic extends ft{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.array)return xe(r,{code:de.invalid_type,expected:Te.array,received:r.parsedType}),Ke;if(r.data.length<this._def.items.length)return xe(r,{code:de.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ke;!this._def.rest&&r.data.length>this._def.items.length&&(xe(r,{code:de.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((s,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new yl(r,s,r.path,o)):null}).filter(s=>!!s);return r.common.async?Promise.all(a).then(s=>di.mergeArray(n,s)):di.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new Ic({...this._def,rest:e})}}Ic.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ic({items:t,typeName:fe.ZodTuple,rest:null,...it(e)})};class u2 extends ft{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.map)return xe(r,{code:de.invalid_type,expected:Te.map,received:r.parsedType}),Ke;const i=this._def.keyType,a=this._def.valueType,s=[...r.data.entries()].map(([o,l],c)=>({key:i._parse(new yl(r,o,r.path,[c,"key"])),value:a._parse(new yl(r,l,r.path,[c,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of s){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return Ke;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(c.value,d.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const l of s){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return Ke;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(c.value,d.value)}return{status:n.value,value:o}}}}u2.create=(t,e,n)=>new u2({valueType:e,keyType:t,typeName:fe.ZodMap,...it(n)});class Vp extends ft{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.set)return xe(r,{code:de.invalid_type,expected:Te.set,received:r.parsedType}),Ke;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(xe(r,{code:de.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(xe(r,{code:de.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function s(l){const c=new Set;for(const d of l){if(d.status==="aborted")return Ke;d.status==="dirty"&&n.dirty(),c.add(d.value)}return{status:n.value,value:c}}const o=[...r.data.values()].map((l,c)=>a._parse(new yl(r,l,r.path,c)));return r.common.async?Promise.all(o).then(l=>s(l)):s(o)}min(e,n){return new Vp({...this._def,minSize:{value:e,message:Ne.toString(n)}})}max(e,n){return new Vp({...this._def,maxSize:{value:e,message:Ne.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Vp.create=(t,e)=>new Vp({valueType:t,minSize:null,maxSize:null,typeName:fe.ZodSet,...it(e)});class d2 extends ft{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}d2.create=(t,e)=>new d2({getter:t,typeName:fe.ZodLazy,...it(e)});class f2 extends ft{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return xe(n,{received:n.data,code:de.invalid_literal,expected:this._def.value}),Ke}return{status:"valid",value:e.data}}get value(){return this._def.value}}f2.create=(t,e)=>new f2({value:t,typeName:fe.ZodLiteral,...it(e)});function Uz(t,e){return new Md({values:t,typeName:fe.ZodEnum,...it(e)})}class Md extends ft{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return xe(n,{expected:ht.joinValues(r),received:n.parsedType,code:de.invalid_type}),Ke}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return xe(n,{received:n.data,code:de.invalid_enum_value,options:r}),Ke}return Fi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Md.create(e,{...this._def,...n})}exclude(e,n=this._def){return Md.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Md.create=Uz;class h2 extends ft{_parse(e){const n=ht.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Te.string&&r.parsedType!==Te.number){const i=ht.objectValues(n);return xe(r,{expected:ht.joinValues(i),received:r.parsedType,code:de.invalid_type}),Ke}if(this._cache||(this._cache=new Set(ht.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=ht.objectValues(n);return xe(r,{received:r.data,code:de.invalid_enum_value,options:i}),Ke}return Fi(e.data)}get enum(){return this._def.values}}h2.create=(t,e)=>new h2({values:t,typeName:fe.ZodNativeEnum,...it(e)});class Jv extends ft{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.promise&&n.common.async===!1)return xe(n,{code:de.invalid_type,expected:Te.promise,received:n.parsedType}),Ke;const r=n.parsedType===Te.promise?n.data:Promise.resolve(n.data);return Fi(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Jv.create=(t,e)=>new Jv({type:t,typeName:fe.ZodPromise,...it(e)});class Ld extends ft{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===fe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:s=>{xe(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(r.data,a);if(r.common.async)return Promise.resolve(s).then(async o=>{if(n.value==="aborted")return Ke;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?Ke:l.status==="dirty"||n.value==="dirty"?Oh(l.value):l});{if(n.value==="aborted")return Ke;const o=this._def.schema._parseSync({data:s,path:r.path,parent:r});return o.status==="aborted"?Ke:o.status==="dirty"||n.value==="dirty"?Oh(o.value):o}}if(i.type==="refinement"){const s=o=>{const l=i.refinement(o,a);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Ke:(o.status==="dirty"&&n.dirty(),s(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?Ke:(o.status==="dirty"&&n.dirty(),s(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Rd(s))return Ke;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>Rd(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:n.value,value:o})):Ke);ht.assertNever(i)}}Ld.create=(t,e,n)=>new Ld({schema:t,typeName:fe.ZodEffects,effect:e,...it(n)});Ld.createWithPreprocess=(t,e,n)=>new Ld({schema:e,effect:{type:"preprocess",transform:t},typeName:fe.ZodEffects,...it(n)});class el extends ft{_parse(e){return this._getType(e)===Te.undefined?Fi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}el.create=(t,e)=>new el({innerType:t,typeName:fe.ZodOptional,...it(e)});class Dd extends ft{_parse(e){return this._getType(e)===Te.null?Fi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Dd.create=(t,e)=>new Dd({innerType:t,typeName:fe.ZodNullable,...it(e)});class OE extends ft{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Te.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}OE.create=(t,e)=>new OE({innerType:t,typeName:fe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...it(e)});class NE extends ft{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Kv(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Qs(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Qs(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}NE.create=(t,e)=>new NE({innerType:t,typeName:fe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...it(e)});class p2 extends ft{_parse(e){if(this._getType(e)!==Te.nan){const r=this._getOrReturnCtx(e);return xe(r,{code:de.invalid_type,expected:Te.nan,received:r.parsedType}),Ke}return{status:"valid",value:e.data}}}p2.create=t=>new p2({typeName:fe.ZodNaN,...it(t)});class zse extends ft{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class UT extends ft{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ke:a.status==="dirty"?(n.dirty(),Oh(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ke:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new UT({in:e,out:n,typeName:fe.ZodPipeline})}}class PE extends ft{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Rd(i)&&(i.value=Object.freeze(i.value)),i);return Kv(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}PE.create=(t,e)=>new PE({innerType:t,typeName:fe.ZodReadonly,...it(e)});tn.lazycreate;var fe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(fe||(fe={}));const HT=zo.create,m2=TE.create;vl.create;Qa.create;const VT=tn.create;tn.strictCreate;Xv.create;Zv.create;Ic.create;Md.create;Jv.create;el.create;Dd.create;function Use(t,e){var r,i,a;const n={type:"array"};return(r=t.type)!=null&&r._def&&((a=(i=t.type)==null?void 0:i._def)==null?void 0:a.typeName)!==fe.ZodAny&&(n.items=bt(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&_t(n,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&_t(n,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(_t(n,"minItems",t.exactLength.value,t.exactLength.message,e),_t(n,"maxItems",t.exactLength.value,t.exactLength.message,e)),n}function Hse(t,e){const n={type:"integer",format:"int64"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?_t(n,"minimum",r.value,r.message,e):_t(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),_t(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?_t(n,"maximum",r.value,r.message,e):_t(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),_t(n,"maximum",r.value,r.message,e));break;case"multipleOf":_t(n,"multipleOf",r.value,r.message,e);break}return n}function Vse(){return{type:"boolean"}}function Hz(t,e){return bt(t.type._def,e)}const Wse=(t,e)=>bt(t.innerType._def,e);function Vz(t,e,n){const r=n??e.dateStrategy;if(Array.isArray(r))return{anyOf:r.map(i=>Vz(t,e,i))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return qse(t,e)}}const qse=(t,e)=>{const n={type:"integer",format:"unix-time"};if(e.target==="openApi3")return n;for(const r of t.checks)switch(r.kind){case"min":_t(n,"minimum",r.value,r.message,e);break;case"max":_t(n,"maximum",r.value,r.message,e);break}return n};function Gse(t,e){return{...bt(t.innerType._def,e),default:t.defaultValue()}}function Kse(t,e){return e.effectStrategy==="input"?bt(t.schema._def,e):ui(e)}function Yse(t){return{type:"string",enum:Array.from(t.values)}}const Xse=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function Zse(t,e){const n=[bt(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),bt(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(a=>!!a);let r=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const i=[];return n.forEach(a=>{if(Xse(a))i.push(...a.allOf),a.unevaluatedProperties===void 0&&(r=void 0);else{let s=a;if("additionalProperties"in a&&a.additionalProperties===!1){const{additionalProperties:o,...l}=a;s=l}else r=void 0;i.push(s)}}),i.length?{allOf:i,...r}:void 0}function Jse(t,e){const n=typeof t.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[t.value]}:{type:n==="bigint"?"integer":n,const:t.value}}let k_;const Vi={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(k_===void 0&&(k_=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),k_),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function Wz(t,e){const n={type:"string"};if(t.checks)for(const r of t.checks)switch(r.kind){case"min":_t(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,e);break;case"max":_t(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,e);break;case"email":switch(e.emailStrategy){case"format:email":Wi(n,"email",r.message,e);break;case"format:idn-email":Wi(n,"idn-email",r.message,e);break;case"pattern:zod":nr(n,Vi.email,r.message,e);break}break;case"url":Wi(n,"uri",r.message,e);break;case"uuid":Wi(n,"uuid",r.message,e);break;case"regex":nr(n,r.regex,r.message,e);break;case"cuid":nr(n,Vi.cuid,r.message,e);break;case"cuid2":nr(n,Vi.cuid2,r.message,e);break;case"startsWith":nr(n,RegExp(`^${O_(r.value,e)}`),r.message,e);break;case"endsWith":nr(n,RegExp(`${O_(r.value,e)}$`),r.message,e);break;case"datetime":Wi(n,"date-time",r.message,e);break;case"date":Wi(n,"date",r.message,e);break;case"time":Wi(n,"time",r.message,e);break;case"duration":Wi(n,"duration",r.message,e);break;case"length":_t(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,e),_t(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,e);break;case"includes":nr(n,RegExp(O_(r.value,e)),r.message,e);break;case"ip":r.version!=="v6"&&Wi(n,"ipv4",r.message,e),r.version!=="v4"&&Wi(n,"ipv6",r.message,e);break;case"base64url":nr(n,Vi.base64url,r.message,e);break;case"jwt":nr(n,Vi.jwt,r.message,e);break;case"cidr":r.version!=="v6"&&nr(n,Vi.ipv4Cidr,r.message,e),r.version!=="v4"&&nr(n,Vi.ipv6Cidr,r.message,e);break;case"emoji":nr(n,Vi.emoji(),r.message,e);break;case"ulid":nr(n,Vi.ulid,r.message,e);break;case"base64":switch(e.base64Strategy){case"format:binary":Wi(n,"binary",r.message,e);break;case"contentEncoding:base64":_t(n,"contentEncoding","base64",r.message,e);break;case"pattern:zod":nr(n,Vi.base64,r.message,e);break}break;case"nanoid":nr(n,Vi.nanoid,r.message,e);break}return n}function O_(t,e){return e.patternStrategy==="escape"?eoe(t):t}const Qse=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function eoe(t){let e="";for(let n=0;n<t.length;n++)Qse.has(t[n])||(e+="\\"),e+=t[n];return e}function Wi(t,e,n,r){var i;t.format||(i=t.anyOf)!=null&&i.some(a=>a.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&r.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...n&&r.errorMessages&&{errorMessage:{format:n}}})):_t(t,"format",e,n,r)}function nr(t,e,n,r){var i;t.pattern||(i=t.allOf)!=null&&i.some(a=>a.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&r.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:g2(e,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):_t(t,"pattern",g2(e,r),n,r)}function g2(t,e){var l;if(!e.applyRegexFlags||!t.flags)return t.source;const n={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},r=n.i?t.source.toLowerCase():t.source;let i="",a=!1,s=!1,o=!1;for(let c=0;c<r.length;c++){if(a){i+=r[c],a=!1;continue}if(n.i){if(s){if(r[c].match(/[a-z]/)){o?(i+=r[c],i+=`${r[c-2]}-${r[c]}`.toUpperCase(),o=!1):r[c+1]==="-"&&((l=r[c+2])!=null&&l.match(/[a-z]/))?(i+=r[c],o=!0):i+=`${r[c]}${r[c].toUpperCase()}`;continue}}else if(r[c].match(/[a-z]/)){i+=`[${r[c]}${r[c].toUpperCase()}]`;continue}}if(n.m){if(r[c]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(r[c]==="$"){i+=`($|(?=[\r
]))`;continue}}if(n.s&&r[c]==="."){i+=s?`${r[c]}\r
`:`[${r[c]}\r
]`;continue}i+=r[c],r[c]==="\\"?a=!0:s&&r[c]==="]"?s=!1:!s&&r[c]==="["&&(s=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return i}function qz(t,e){var r,i,a,s,o,l;if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&((r=t.keyType)==null?void 0:r._def.typeName)===fe.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((c,d)=>({...c,[d]:bt(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",d]})??ui(e)}),{}),additionalProperties:e.rejectedAdditionalProperties};const n={type:"object",additionalProperties:bt(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??e.allowedAdditionalProperties};if(e.target==="openApi3")return n;if(((i=t.keyType)==null?void 0:i._def.typeName)===fe.ZodString&&((a=t.keyType._def.checks)!=null&&a.length)){const{type:c,...d}=Wz(t.keyType._def,e);return{...n,propertyNames:d}}else{if(((s=t.keyType)==null?void 0:s._def.typeName)===fe.ZodEnum)return{...n,propertyNames:{enum:t.keyType._def.values}};if(((o=t.keyType)==null?void 0:o._def.typeName)===fe.ZodBranded&&t.keyType._def.type._def.typeName===fe.ZodString&&((l=t.keyType._def.type._def.checks)!=null&&l.length)){const{type:c,...d}=Hz(t.keyType._def,e);return{...n,propertyNames:d}}}return n}function toe(t,e){if(e.mapStrategy==="record")return qz(t,e);const n=bt(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||ui(e),r=bt(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||ui(e);return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function noe(t){const e=t.values,r=Object.keys(t.values).filter(a=>typeof e[e[a]]!="number").map(a=>e[a]),i=Array.from(new Set(r.map(a=>typeof a)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:r}}function roe(t){return t.target==="openAi"?void 0:{not:ui({...t,currentPath:[...t.currentPath,"not"]})}}function ioe(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const Qv={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function aoe(t,e){if(e.target==="openApi3")return y2(t,e);const n=t.options instanceof Map?Array.from(t.options.values()):t.options;if(n.every(r=>r._def.typeName in Qv&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((i,a)=>{const s=Qv[a._def.typeName];return s&&!i.includes(s)?[...i,s]:i},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((i,a)=>{const s=typeof a._def.value;switch(s){case"string":case"number":case"boolean":return[...i,s];case"bigint":return[...i,"integer"];case"object":return a._def.value===null?[...i,"null"]:i;case"symbol":case"undefined":case"function":default:return i}},[]);if(r.length===n.length){const i=r.filter((a,s,o)=>o.indexOf(a)===s);return{type:i.length>1?i:i[0],enum:n.reduce((a,s)=>a.includes(s._def.value)?a:[...a,s._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,i)=>[...r,...i._def.values.filter(a=>!r.includes(a))],[])};return y2(t,e)}const y2=(t,e)=>{const n=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((r,i)=>bt(r._def,{...e,currentPath:[...e.currentPath,"anyOf",`${i}`]})).filter(r=>!!r&&(!e.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function soe(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:Qv[t.innerType._def.typeName],nullable:!0}:{type:[Qv[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const r=bt(t.innerType._def,{...e,currentPath:[...e.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const n=bt(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function ooe(t,e){const n={type:"number"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"int":n.type="integer",Fz(n,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?_t(n,"minimum",r.value,r.message,e):_t(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),_t(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?_t(n,"maximum",r.value,r.message,e):_t(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),_t(n,"maximum",r.value,r.message,e));break;case"multipleOf":_t(n,"multipleOf",r.value,r.message,e);break}return n}function loe(t,e){const n=e.target==="openAi",r={type:"object",properties:{}},i=[],a=t.shape();for(const o in a){let l=a[o];if(l===void 0||l._def===void 0)continue;let c=uoe(l);c&&n&&(l._def.typeName==="ZodOptional"&&(l=l._def.innerType),l.isNullable()||(l=l.nullable()),c=!1);const d=bt(l._def,{...e,currentPath:[...e.currentPath,"properties",o],propertyPath:[...e.currentPath,"properties",o]});d!==void 0&&(r.properties[o]=d,c||i.push(o))}i.length&&(r.required=i);const s=coe(t,e);return s!==void 0&&(r.additionalProperties=s),r}function coe(t,e){if(t.catchall._def.typeName!=="ZodNever")return bt(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]});switch(t.unknownKeys){case"passthrough":return e.allowedAdditionalProperties;case"strict":return e.rejectedAdditionalProperties;case"strip":return e.removeAdditionalStrategy==="strict"?e.allowedAdditionalProperties:e.rejectedAdditionalProperties}}function uoe(t){try{return t.isOptional()}catch{return!0}}const doe=(t,e)=>{var r;if(e.currentPath.toString()===((r=e.propertyPath)==null?void 0:r.toString()))return bt(t.innerType._def,e);const n=bt(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return n?{anyOf:[{not:ui(e)},n]}:ui(e)},foe=(t,e)=>{if(e.pipeStrategy==="input")return bt(t.in._def,e);if(e.pipeStrategy==="output")return bt(t.out._def,e);const n=bt(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),r=bt(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(i=>i!==void 0)}};function hoe(t,e){return bt(t.type._def,e)}function poe(t,e){const r={type:"array",uniqueItems:!0,items:bt(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&_t(r,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&_t(r,"maxItems",t.maxSize.value,t.maxSize.message,e),r}function moe(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((n,r)=>bt(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:bt(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((n,r)=>bt(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function goe(t){return{not:ui(t)}}function yoe(t){return ui(t)}const voe=(t,e)=>bt(t.innerType._def,e),xoe=(t,e,n)=>{switch(e){case fe.ZodString:return Wz(t,n);case fe.ZodNumber:return ooe(t,n);case fe.ZodObject:return loe(t,n);case fe.ZodBigInt:return Hse(t,n);case fe.ZodBoolean:return Vse();case fe.ZodDate:return Vz(t,n);case fe.ZodUndefined:return goe(n);case fe.ZodNull:return ioe(n);case fe.ZodArray:return Use(t,n);case fe.ZodUnion:case fe.ZodDiscriminatedUnion:return aoe(t,n);case fe.ZodIntersection:return Zse(t,n);case fe.ZodTuple:return moe(t,n);case fe.ZodRecord:return qz(t,n);case fe.ZodLiteral:return Jse(t,n);case fe.ZodEnum:return Yse(t);case fe.ZodNativeEnum:return noe(t);case fe.ZodNullable:return soe(t,n);case fe.ZodOptional:return doe(t,n);case fe.ZodMap:return toe(t,n);case fe.ZodSet:return poe(t,n);case fe.ZodLazy:return()=>t.getter()._def;case fe.ZodPromise:return hoe(t,n);case fe.ZodNaN:case fe.ZodNever:return roe(n);case fe.ZodEffects:return Kse(t,n);case fe.ZodAny:return ui(n);case fe.ZodUnknown:return yoe(n);case fe.ZodDefault:return Gse(t,n);case fe.ZodBranded:return Hz(t,n);case fe.ZodReadonly:return voe(t,n);case fe.ZodCatch:return Wse(t,n);case fe.ZodPipeline:return foe(t,n);case fe.ZodFunction:case fe.ZodVoid:case fe.ZodSymbol:return;default:return(r=>{})()}};function bt(t,e,n=!1){var o;const r=e.seen.get(t);if(e.override){const l=(o=e.override)==null?void 0:o.call(e,t,e,r,n);if(l!==fse)return l}if(r&&!n){const l=boe(r,e);if(l!==void 0)return l}const i={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,i);const a=xoe(t,t.typeName,e),s=typeof a=="function"?bt(a(),e):a;if(s&&woe(t,e,s),e.postProcess){const l=e.postProcess(s,t,e);return i.jsonSchema=s,l}return i.jsonSchema=s,s}const boe=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:Dz(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((n,r)=>e.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),ui(e)):e.$refStrategy==="seen"?ui(e):void 0}},woe=(t,e,n)=>(t.description&&(n.description=t.description,e.markdownDescription&&(n.markdownDescription=t.description)),n),_oe=(t,e)=>{const n=mse(e);let r;const i=e==null?void 0:e.name,a=bt(t._def,n,!1)??ui(n);n.flags.hasReferencedOpenAiAnyType&&(r||(r={}),r[n.openAiAnyTypeName]||(r[n.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:n.$refStrategy==="relative"?"1":[...n.basePath,n.definitionPath,n.openAiAnyTypeName].join("/")}}));const s=i===void 0?r?{...a,[n.definitionPath]:r}:a:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,i].join("/"),[n.definitionPath]:{...r,[i]:a}};return n.target==="jsonSchema7"?s.$schema="http://json-schema.org/draft-07/schema#":(n.target==="jsonSchema2019-09"||n.target==="openAi")&&(s.$schema="https://json-schema.org/draft/2019-09/schema#"),n.target==="openAi"&&("anyOf"in s||"oneOf"in s||"allOf"in s||"type"in s&&Array.isArray(s.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),s};function bc(t,e){const n=typeof t;if(n!==typeof e)return!1;if(Array.isArray(t)){if(!Array.isArray(e))return!1;const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(!bc(t[i],e[i]))return!1;return!0}if(n==="object"){if(!t||!e)return t===e;const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(const s of r)if(!bc(t[s],e[s]))return!1;return!0}return t===e}function Xi(t){return encodeURI(Soe(t))}function Soe(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}const Eoe={prefixItems:!0,items:!0,allOf:!0,anyOf:!0,oneOf:!0},joe={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependentSchemas:!0},Aoe={id:!0,$id:!0,$ref:!0,$schema:!0,$anchor:!0,$vocabulary:!0,$comment:!0,default:!0,enum:!0,const:!0,required:!0,type:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};let Coe=typeof self<"u"&&self.location&&self.location.origin!=="null"?new URL(self.location.origin+self.location.pathname+location.search):new URL("https://github.com/cfworker");function Uo(t,e=Object.create(null),n=Coe,r=""){if(t&&typeof t=="object"&&!Array.isArray(t)){const a=t.$id||t.id;if(a){const s=new URL(a,n.href);s.hash.length>1?e[s.href]=t:(s.hash="",r===""?n=s:Uo(t,e,n))}}else if(t!==!0&&t!==!1)return e;const i=n.href+(r?"#"+r:"");if(e[i]!==void 0)throw new Error(`Duplicate schema URI "${i}".`);if(e[i]=t,t===!0||t===!1)return e;if(t.__absolute_uri__===void 0&&Object.defineProperty(t,"__absolute_uri__",{enumerable:!1,value:i}),t.$ref&&t.__absolute_ref__===void 0){const a=new URL(t.$ref,n.href);a.hash=a.hash,Object.defineProperty(t,"__absolute_ref__",{enumerable:!1,value:a.href})}if(t.$recursiveRef&&t.__absolute_recursive_ref__===void 0){const a=new URL(t.$recursiveRef,n.href);a.hash=a.hash,Object.defineProperty(t,"__absolute_recursive_ref__",{enumerable:!1,value:a.href})}if(t.$anchor){const a=new URL("#"+t.$anchor,n.href);e[a.href]=t}for(let a in t){if(Aoe[a])continue;const s=`${r}/${Xi(a)}`,o=t[a];if(Array.isArray(o)){if(Eoe[a]){const l=o.length;for(let c=0;c<l;c++)Uo(o[c],e,n,`${s}/${c}`)}}else if(joe[a])for(let l in o)Uo(o[l],e,n,`${s}/${Xi(l)}`);else Uo(o,e,n,s)}return e}const Toe=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,koe=[0,31,28,31,30,31,30,31,31,30,31,30,31],Ooe=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,Noe=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,Poe=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Ioe=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,$oe=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)(?:\.(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,Roe=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,Moe=/^(?:\/(?:[^~/]|~0|~1)*)*$/,Loe=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,Doe=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,Foe=t=>{if(t[0]==='"')return!1;const[e,n,...r]=t.split("@");return!e||!n||r.length!==0||e.length>64||n.length>253||e[0]==="."||e.endsWith(".")||e.includes("..")||!/^[a-z0-9.-]+$/i.test(n)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(e)?!1:n.split(".").every(i=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(i))},Boe=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,zoe=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,Uoe=t=>t.length>1&&t.length<80&&(/^P\d+([.,]\d+)?W$/.test(t)||/^P[\dYMDTHS]*(\d[.,]\d+)?[YMDHS]$/.test(t)&&/^P([.,\d]+Y)?([.,\d]+M)?([.,\d]+D)?(T([.,\d]+H)?([.,\d]+M)?([.,\d]+S)?)?$/.test(t));function $a(t){return t.test.bind(t)}const v2={date:Gz,time:Kz.bind(void 0,!1),"date-time":Woe,duration:Uoe,uri:Koe,"uri-reference":$a(Poe),"uri-template":$a(Ioe),url:$a($oe),email:Foe,hostname:$a(Noe),ipv4:$a(Boe),ipv6:$a(zoe),regex:Xoe,uuid:$a(Roe),"json-pointer":$a(Moe),"json-pointer-uri-fragment":$a(Loe),"relative-json-pointer":$a(Doe)};function Hoe(t){return t%4===0&&(t%100!==0||t%400===0)}function Gz(t){const e=t.match(Toe);if(!e)return!1;const n=+e[1],r=+e[2],i=+e[3];return r>=1&&r<=12&&i>=1&&i<=(r==2&&Hoe(n)?29:koe[r])}function Kz(t,e){const n=e.match(Ooe);if(!n)return!1;const r=+n[1],i=+n[2],a=+n[3],s=!!n[5];return(r<=23&&i<=59&&a<=59||r==23&&i==59&&a==60)&&(!t||s)}const Voe=/t|\s/i;function Woe(t){const e=t.split(Voe);return e.length==2&&Gz(e[0])&&Kz(!0,e[1])}const qoe=/\/|:/,Goe=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function Koe(t){return qoe.test(t)&&Goe.test(t)}const Yoe=/[^\\]\\Z/;function Xoe(t){if(Yoe.test(t))return!1;try{return new RegExp(t,"u"),!0}catch{return!1}}function Zoe(t){let e=0,n=t.length,r=0,i;for(;r<n;)e++,i=t.charCodeAt(r++),i>=55296&&i<=56319&&r<n&&(i=t.charCodeAt(r),(i&64512)==56320&&r++);return e}function Kt(t,e,n="2019-09",r=Uo(e),i=!0,a=null,s="#",o="#",l=Object.create(null)){if(e===!0)return{valid:!0,errors:[]};if(e===!1)return{valid:!1,errors:[{instanceLocation:s,keyword:"false",keywordLocation:s,error:"False boolean schema."}]};const c=typeof t;let d;switch(c){case"boolean":case"number":case"string":d=c;break;case"object":t===null?d="null":Array.isArray(t)?d="array":d="object";break;default:throw new Error(`Instances of "${c}" type are not supported.`)}const{$ref:f,$recursiveRef:h,$recursiveAnchor:p,type:m,const:g,enum:v,required:y,not:b,anyOf:x,allOf:w,oneOf:S,if:E,then:A,else:j,format:C,properties:T,patternProperties:k,additionalProperties:N,unevaluatedProperties:H,minProperties:R,maxProperties:D,propertyNames:z,dependentRequired:V,dependentSchemas:M,dependencies:L,prefixItems:P,items:W,additionalItems:G,unevaluatedItems:$,contains:te,minContains:ie,maxContains:I,minItems:O,maxItems:K,uniqueItems:B,minimum:Z,maximum:J,exclusiveMinimum:Y,exclusiveMaximum:me,multipleOf:le,minLength:ve,maxLength:oe,pattern:ze,__absolute_ref__:Ce,__absolute_recursive_ref__:Re}=e,ae=[];if(p===!0&&a===null&&(a=e),h==="#"){const we=a===null?r[Re]:a,ye=`${o}/$recursiveRef`,be=Kt(t,a===null?e:a,n,r,i,we,s,ye,l);be.valid||ae.push({instanceLocation:s,keyword:"$recursiveRef",keywordLocation:ye,error:"A subschema had errors."},...be.errors)}if(f!==void 0){const ye=r[Ce||f];if(ye===void 0){let q=`Unresolved $ref "${f}".`;throw Ce&&Ce!==f&&(q+=`  Absolute URI "${Ce}".`),q+=`
Known schemas:
- ${Object.keys(r).join(`
- `)}`,new Error(q)}const be=`${o}/$ref`,ge=Kt(t,ye,n,r,i,a,s,be,l);if(ge.valid||ae.push({instanceLocation:s,keyword:"$ref",keywordLocation:be,error:"A subschema had errors."},...ge.errors),n==="4"||n==="7")return{valid:ae.length===0,errors:ae}}if(Array.isArray(m)){let we=m.length,ye=!1;for(let be=0;be<we;be++)if(d===m[be]||m[be]==="integer"&&d==="number"&&t%1===0&&t===t){ye=!0;break}ye||ae.push({instanceLocation:s,keyword:"type",keywordLocation:`${o}/type`,error:`Instance type "${d}" is invalid. Expected "${m.join('", "')}".`})}else m==="integer"?(d!=="number"||t%1||t!==t)&&ae.push({instanceLocation:s,keyword:"type",keywordLocation:`${o}/type`,error:`Instance type "${d}" is invalid. Expected "${m}".`}):m!==void 0&&d!==m&&ae.push({instanceLocation:s,keyword:"type",keywordLocation:`${o}/type`,error:`Instance type "${d}" is invalid. Expected "${m}".`});if(g!==void 0&&(d==="object"||d==="array"?bc(t,g)||ae.push({instanceLocation:s,keyword:"const",keywordLocation:`${o}/const`,error:`Instance does not match ${JSON.stringify(g)}.`}):t!==g&&ae.push({instanceLocation:s,keyword:"const",keywordLocation:`${o}/const`,error:`Instance does not match ${JSON.stringify(g)}.`})),v!==void 0&&(d==="object"||d==="array"?v.some(we=>bc(t,we))||ae.push({instanceLocation:s,keyword:"enum",keywordLocation:`${o}/enum`,error:`Instance does not match any of ${JSON.stringify(v)}.`}):v.some(we=>t===we)||ae.push({instanceLocation:s,keyword:"enum",keywordLocation:`${o}/enum`,error:`Instance does not match any of ${JSON.stringify(v)}.`})),b!==void 0){const we=`${o}/not`;Kt(t,b,n,r,i,a,s,we).valid&&ae.push({instanceLocation:s,keyword:"not",keywordLocation:we,error:'Instance matched "not" schema.'})}let Ct=[];if(x!==void 0){const we=`${o}/anyOf`,ye=ae.length;let be=!1;for(let ge=0;ge<x.length;ge++){const q=x[ge],X=Object.create(l),re=Kt(t,q,n,r,i,p===!0?a:null,s,`${we}/${ge}`,X);ae.push(...re.errors),be=be||re.valid,re.valid&&Ct.push(X)}be?ae.length=ye:ae.splice(ye,0,{instanceLocation:s,keyword:"anyOf",keywordLocation:we,error:"Instance does not match any subschemas."})}if(w!==void 0){const we=`${o}/allOf`,ye=ae.length;let be=!0;for(let ge=0;ge<w.length;ge++){const q=w[ge],X=Object.create(l),re=Kt(t,q,n,r,i,p===!0?a:null,s,`${we}/${ge}`,X);ae.push(...re.errors),be=be&&re.valid,re.valid&&Ct.push(X)}be?ae.length=ye:ae.splice(ye,0,{instanceLocation:s,keyword:"allOf",keywordLocation:we,error:"Instance does not match every subschema."})}if(S!==void 0){const we=`${o}/oneOf`,ye=ae.length,be=S.filter((ge,q)=>{const X=Object.create(l),re=Kt(t,ge,n,r,i,p===!0?a:null,s,`${we}/${q}`,X);return ae.push(...re.errors),re.valid&&Ct.push(X),re.valid}).length;be===1?ae.length=ye:ae.splice(ye,0,{instanceLocation:s,keyword:"oneOf",keywordLocation:we,error:`Instance does not match exactly one subschema (${be} matches).`})}if((d==="object"||d==="array")&&Object.assign(l,...Ct),E!==void 0){const we=`${o}/if`;if(Kt(t,E,n,r,i,a,s,we,l).valid){if(A!==void 0){const be=Kt(t,A,n,r,i,a,s,`${o}/then`,l);be.valid||ae.push({instanceLocation:s,keyword:"if",keywordLocation:we,error:'Instance does not match "then" schema.'},...be.errors)}}else if(j!==void 0){const be=Kt(t,j,n,r,i,a,s,`${o}/else`,l);be.valid||ae.push({instanceLocation:s,keyword:"if",keywordLocation:we,error:'Instance does not match "else" schema.'},...be.errors)}}if(d==="object"){if(y!==void 0)for(const ge of y)ge in t||ae.push({instanceLocation:s,keyword:"required",keywordLocation:`${o}/required`,error:`Instance does not have required property "${ge}".`});const we=Object.keys(t);if(R!==void 0&&we.length<R&&ae.push({instanceLocation:s,keyword:"minProperties",keywordLocation:`${o}/minProperties`,error:`Instance does not have at least ${R} properties.`}),D!==void 0&&we.length>D&&ae.push({instanceLocation:s,keyword:"maxProperties",keywordLocation:`${o}/maxProperties`,error:`Instance does not have at least ${D} properties.`}),z!==void 0){const ge=`${o}/propertyNames`;for(const q in t){const X=`${s}/${Xi(q)}`,re=Kt(q,z,n,r,i,a,X,ge);re.valid||ae.push({instanceLocation:s,keyword:"propertyNames",keywordLocation:ge,error:`Property name "${q}" does not match schema.`},...re.errors)}}if(V!==void 0){const ge=`${o}/dependantRequired`;for(const q in V)if(q in t){const X=V[q];for(const re of X)re in t||ae.push({instanceLocation:s,keyword:"dependentRequired",keywordLocation:ge,error:`Instance has "${q}" but does not have "${re}".`})}}if(M!==void 0)for(const ge in M){const q=`${o}/dependentSchemas`;if(ge in t){const X=Kt(t,M[ge],n,r,i,a,s,`${q}/${Xi(ge)}`,l);X.valid||ae.push({instanceLocation:s,keyword:"dependentSchemas",keywordLocation:q,error:`Instance has "${ge}" but does not match dependant schema.`},...X.errors)}}if(L!==void 0){const ge=`${o}/dependencies`;for(const q in L)if(q in t){const X=L[q];if(Array.isArray(X))for(const re of X)re in t||ae.push({instanceLocation:s,keyword:"dependencies",keywordLocation:ge,error:`Instance has "${q}" but does not have "${re}".`});else{const re=Kt(t,X,n,r,i,a,s,`${ge}/${Xi(q)}`);re.valid||ae.push({instanceLocation:s,keyword:"dependencies",keywordLocation:ge,error:`Instance has "${q}" but does not match dependant schema.`},...re.errors)}}}const ye=Object.create(null);let be=!1;if(T!==void 0){const ge=`${o}/properties`;for(const q in T){if(!(q in t))continue;const X=`${s}/${Xi(q)}`,re=Kt(t[q],T[q],n,r,i,a,X,`${ge}/${Xi(q)}`);if(re.valid)l[q]=ye[q]=!0;else if(be=i,ae.push({instanceLocation:s,keyword:"properties",keywordLocation:ge,error:`Property "${q}" does not match schema.`},...re.errors),be)break}}if(!be&&k!==void 0){const ge=`${o}/patternProperties`;for(const q in k){const X=new RegExp(q,"u"),re=k[q];for(const Oe in t){if(!X.test(Oe))continue;const lt=`${s}/${Xi(Oe)}`,Gt=Kt(t[Oe],re,n,r,i,a,lt,`${ge}/${Xi(q)}`);Gt.valid?l[Oe]=ye[Oe]=!0:(be=i,ae.push({instanceLocation:s,keyword:"patternProperties",keywordLocation:ge,error:`Property "${Oe}" matches pattern "${q}" but does not match associated schema.`},...Gt.errors))}}}if(!be&&N!==void 0){const ge=`${o}/additionalProperties`;for(const q in t){if(ye[q])continue;const X=`${s}/${Xi(q)}`,re=Kt(t[q],N,n,r,i,a,X,ge);re.valid?l[q]=!0:(be=i,ae.push({instanceLocation:s,keyword:"additionalProperties",keywordLocation:ge,error:`Property "${q}" does not match additional properties schema.`},...re.errors))}}else if(!be&&H!==void 0){const ge=`${o}/unevaluatedProperties`;for(const q in t)if(!l[q]){const X=`${s}/${Xi(q)}`,re=Kt(t[q],H,n,r,i,a,X,ge);re.valid?l[q]=!0:ae.push({instanceLocation:s,keyword:"unevaluatedProperties",keywordLocation:ge,error:`Property "${q}" does not match unevaluated properties schema.`},...re.errors)}}}else if(d==="array"){K!==void 0&&t.length>K&&ae.push({instanceLocation:s,keyword:"maxItems",keywordLocation:`${o}/maxItems`,error:`Array has too many items (${t.length} > ${K}).`}),O!==void 0&&t.length<O&&ae.push({instanceLocation:s,keyword:"minItems",keywordLocation:`${o}/minItems`,error:`Array has too few items (${t.length} < ${O}).`});const we=t.length;let ye=0,be=!1;if(P!==void 0){const ge=`${o}/prefixItems`,q=Math.min(P.length,we);for(;ye<q;ye++){const X=Kt(t[ye],P[ye],n,r,i,a,`${s}/${ye}`,`${ge}/${ye}`);if(l[ye]=!0,!X.valid&&(be=i,ae.push({instanceLocation:s,keyword:"prefixItems",keywordLocation:ge,error:"Items did not match schema."},...X.errors),be))break}}if(W!==void 0){const ge=`${o}/items`;if(Array.isArray(W)){const q=Math.min(W.length,we);for(;ye<q;ye++){const X=Kt(t[ye],W[ye],n,r,i,a,`${s}/${ye}`,`${ge}/${ye}`);if(l[ye]=!0,!X.valid&&(be=i,ae.push({instanceLocation:s,keyword:"items",keywordLocation:ge,error:"Items did not match schema."},...X.errors),be))break}}else for(;ye<we;ye++){const q=Kt(t[ye],W,n,r,i,a,`${s}/${ye}`,ge);if(l[ye]=!0,!q.valid&&(be=i,ae.push({instanceLocation:s,keyword:"items",keywordLocation:ge,error:"Items did not match schema."},...q.errors),be))break}if(!be&&G!==void 0){const q=`${o}/additionalItems`;for(;ye<we;ye++){const X=Kt(t[ye],G,n,r,i,a,`${s}/${ye}`,q);l[ye]=!0,X.valid||(be=i,ae.push({instanceLocation:s,keyword:"additionalItems",keywordLocation:q,error:"Items did not match additional items schema."},...X.errors))}}}if(te!==void 0)if(we===0&&ie===void 0)ae.push({instanceLocation:s,keyword:"contains",keywordLocation:`${o}/contains`,error:"Array is empty. It must contain at least one item matching the schema."});else if(ie!==void 0&&we<ie)ae.push({instanceLocation:s,keyword:"minContains",keywordLocation:`${o}/minContains`,error:`Array has less items (${we}) than minContains (${ie}).`});else{const ge=`${o}/contains`,q=ae.length;let X=0;for(let re=0;re<we;re++){const Oe=Kt(t[re],te,n,r,i,a,`${s}/${re}`,ge);Oe.valid?(l[re]=!0,X++):ae.push(...Oe.errors)}X>=(ie||0)&&(ae.length=q),ie===void 0&&I===void 0&&X===0?ae.splice(q,0,{instanceLocation:s,keyword:"contains",keywordLocation:ge,error:"Array does not contain item matching schema."}):ie!==void 0&&X<ie?ae.push({instanceLocation:s,keyword:"minContains",keywordLocation:`${o}/minContains`,error:`Array must contain at least ${ie} items matching schema. Only ${X} items were found.`}):I!==void 0&&X>I&&ae.push({instanceLocation:s,keyword:"maxContains",keywordLocation:`${o}/maxContains`,error:`Array may contain at most ${I} items matching schema. ${X} items were found.`})}if(!be&&$!==void 0){const ge=`${o}/unevaluatedItems`;for(ye;ye<we;ye++){if(l[ye])continue;const q=Kt(t[ye],$,n,r,i,a,`${s}/${ye}`,ge);l[ye]=!0,q.valid||ae.push({instanceLocation:s,keyword:"unevaluatedItems",keywordLocation:ge,error:"Items did not match unevaluated items schema."},...q.errors)}}if(B)for(let ge=0;ge<we;ge++){const q=t[ge],X=typeof q=="object"&&q!==null;for(let re=0;re<we;re++){if(ge===re)continue;const Oe=t[re];(q===Oe||X&&(typeof Oe=="object"&&Oe!==null)&&bc(q,Oe))&&(ae.push({instanceLocation:s,keyword:"uniqueItems",keywordLocation:`${o}/uniqueItems`,error:`Duplicate items at indexes ${ge} and ${re}.`}),ge=Number.MAX_SAFE_INTEGER,re=Number.MAX_SAFE_INTEGER)}}}else if(d==="number"){if(n==="4"?(Z!==void 0&&(Y===!0&&t<=Z||t<Z)&&ae.push({instanceLocation:s,keyword:"minimum",keywordLocation:`${o}/minimum`,error:`${t} is less than ${Y?"or equal to ":""} ${Z}.`}),J!==void 0&&(me===!0&&t>=J||t>J)&&ae.push({instanceLocation:s,keyword:"maximum",keywordLocation:`${o}/maximum`,error:`${t} is greater than ${me?"or equal to ":""} ${J}.`})):(Z!==void 0&&t<Z&&ae.push({instanceLocation:s,keyword:"minimum",keywordLocation:`${o}/minimum`,error:`${t} is less than ${Z}.`}),J!==void 0&&t>J&&ae.push({instanceLocation:s,keyword:"maximum",keywordLocation:`${o}/maximum`,error:`${t} is greater than ${J}.`}),Y!==void 0&&t<=Y&&ae.push({instanceLocation:s,keyword:"exclusiveMinimum",keywordLocation:`${o}/exclusiveMinimum`,error:`${t} is less than ${Y}.`}),me!==void 0&&t>=me&&ae.push({instanceLocation:s,keyword:"exclusiveMaximum",keywordLocation:`${o}/exclusiveMaximum`,error:`${t} is greater than or equal to ${me}.`})),le!==void 0){const we=t%le;Math.abs(0-we)>=11920929e-14&&Math.abs(le-we)>=11920929e-14&&ae.push({instanceLocation:s,keyword:"multipleOf",keywordLocation:`${o}/multipleOf`,error:`${t} is not a multiple of ${le}.`})}}else if(d==="string"){const we=ve===void 0&&oe===void 0?0:Zoe(t);ve!==void 0&&we<ve&&ae.push({instanceLocation:s,keyword:"minLength",keywordLocation:`${o}/minLength`,error:`String is too short (${we} < ${ve}).`}),oe!==void 0&&we>oe&&ae.push({instanceLocation:s,keyword:"maxLength",keywordLocation:`${o}/maxLength`,error:`String is too long (${we} > ${oe}).`}),ze!==void 0&&!new RegExp(ze,"u").test(t)&&ae.push({instanceLocation:s,keyword:"pattern",keywordLocation:`${o}/pattern`,error:"String does not match pattern."}),C!==void 0&&v2[C]&&!v2[C](t)&&ae.push({instanceLocation:s,keyword:"format",keywordLocation:`${o}/format`,error:`String does not match format "${C}".`})}return{valid:ae.length===0,errors:ae}}class Joe{constructor(e,n="2019-09",r=!0){U(this,"schema");U(this,"draft");U(this,"shortCircuit");U(this,"lookup");this.schema=e,this.draft=n,this.shortCircuit=r,this.lookup=Uo(e)}validate(e){return Kt(e,this.schema,this.draft,this.lookup,this.shortCircuit)}addSchema(e,n){n&&(e={...e,$id:n}),Uo(e,this.lookup)}}var Qoe={};wt(Qoe,{Validator:()=>Joe,deepCompareStrict:()=>bc,toJsonSchema:()=>xl,validatesOnlyStrings:()=>ev});function xl(t){if(hn(t)){const e=Lz(t,!0);if(Ja(e)){const n=Gv(e,!0);return QI(n)}else return QI(t)}return An(t)?_oe(t):t}function ev(t){if(!t||typeof t!="object"||Object.keys(t).length===0||Array.isArray(t))return!1;if("type"in t)return typeof t.type=="string"?t.type==="string":Array.isArray(t.type)?t.type.every(e=>e==="string"):!1;if("enum"in t)return Array.isArray(t.enum)&&t.enum.length>0&&t.enum.every(e=>typeof e=="string");if("const"in t)return typeof t.const=="string";if("allOf"in t&&Array.isArray(t.allOf))return t.allOf.some(e=>ev(e));if("anyOf"in t&&Array.isArray(t.anyOf)||"oneOf"in t&&Array.isArray(t.oneOf)){const e="anyOf"in t?t.anyOf:t.oneOf;return e.length>0&&e.every(n=>ev(n))}if("not"in t)return!1;if("$ref"in t&&typeof t.$ref=="string"){const e=t.$ref,n=Uo(t);return n[e]?ev(n[e]):!1}return!1}function bl(t){return typeof t=="object"&&t!==null&&"type"in t&&typeof t.type=="string"&&"source_type"in t&&(t.source_type==="url"||t.source_type==="base64"||t.source_type==="text"||t.source_type==="id")}function WT(t){return bl(t)&&t.source_type==="url"&&"url"in t&&typeof t.url=="string"}function qT(t){return bl(t)&&t.source_type==="base64"&&"data"in t&&typeof t.data=="string"}function ele(t){return bl(t)&&t.source_type==="text"&&"text"in t&&typeof t.text=="string"}function Yz(t){return bl(t)&&t.source_type==="id"&&"id"in t&&typeof t.id=="string"}function Xz(t){if(bl(t)){if(t.source_type==="url")return{type:"image_url",image_url:{url:t.url}};if(t.source_type==="base64"){if(!t.mime_type)throw new Error("mime_type key is required for base64 data.");return{type:"image_url",image_url:{url:`data:${t.mime_type};base64,${t.data}`}}}}throw new Error("Unsupported source type. Only 'url' and 'base64' are supported.")}function tle(t){const e=t.split(";")[0].split("/");if(e.length!==2)throw new Error(`Invalid mime type: "${t}" - does not match type/subtype format.`);const n=e[0].trim(),r=e[1].trim();if(n===""||r==="")throw new Error(`Invalid mime type: "${t}" - type or subtype is empty.`);const i={};for(const a of t.split(";").slice(1)){const s=a.split("=");if(s.length!==2)throw new Error(`Invalid parameter syntax in mime type: "${t}".`);const o=s[0].trim(),l=s[1].trim();if(o==="")throw new Error(`Invalid parameter syntax in mime type: "${t}".`);i[o]=l}return{type:n,subtype:r,parameters:i}}function IE({dataUrl:t,asTypedArray:e=!1}){const n=t.match(/^data:(\w+\/\w+);base64,([A-Za-z0-9+/]+=*)$/);let r;if(n){r=n[1].toLowerCase();const i=e?Uint8Array.from(atob(n[2]),a=>a.charCodeAt(0)):n[2];return{mime_type:r,data:i}}}function nle(t,e){if(t.type==="text"){if(!e.fromStandardTextBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardTextBlock\` method.`);return e.fromStandardTextBlock(t)}if(t.type==="image"){if(!e.fromStandardImageBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardImageBlock\` method.`);return e.fromStandardImageBlock(t)}if(t.type==="audio"){if(!e.fromStandardAudioBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardAudioBlock\` method.`);return e.fromStandardAudioBlock(t)}if(t.type==="file"){if(!e.fromStandardFileBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardFileBlock\` method.`);return e.fromStandardFileBlock(t)}throw new Error(`Unable to convert content block type '${t.type}' to provider-specific format: not recognized.`)}var rle=function(t,e){if(typeof t!="string")throw new TypeError("Expected a string");return e=typeof e>"u"?"_":e,t.replace(/([a-z\d])([A-Z])/g,"$1"+e+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+e+"$2").toLowerCase()};const ile=at(rle);var Zz={exports:{}};const ale=/[\p{Lu}]/u,sle=/[\p{Ll}]/u,x2=/^[\p{Lu}](?![\p{Lu}])/gu,Jz=/([\p{Alpha}\p{N}_]|$)/u,Qz=/[_.\- ]+/,ole=new RegExp("^"+Qz.source),b2=new RegExp(Qz.source+Jz.source,"gu"),w2=new RegExp("\\d+"+Jz.source,"gu"),lle=(t,e,n)=>{let r=!1,i=!1,a=!1;for(let s=0;s<t.length;s++){const o=t[s];r&&ale.test(o)?(t=t.slice(0,s)+"-"+t.slice(s),r=!1,a=i,i=!0,s++):i&&a&&sle.test(o)?(t=t.slice(0,s-1)+"-"+t.slice(s-1),a=i,i=!1,r=!0):(r=e(o)===o&&n(o)!==o,a=i,i=n(o)===o&&e(o)!==o)}return t},cle=(t,e)=>(x2.lastIndex=0,t.replace(x2,n=>e(n))),ule=(t,e)=>(b2.lastIndex=0,w2.lastIndex=0,t.replace(b2,(n,r)=>e(r)).replace(w2,n=>e(n))),eU=(t,e)=>{if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(t)?t=t.map(a=>a.trim()).filter(a=>a.length).join("-"):t=t.trim(),t.length===0)return"";const n=e.locale===!1?a=>a.toLowerCase():a=>a.toLocaleLowerCase(e.locale),r=e.locale===!1?a=>a.toUpperCase():a=>a.toLocaleUpperCase(e.locale);return t.length===1?e.pascalCase?r(t):n(t):(t!==n(t)&&(t=lle(t,n,r)),t=t.replace(ole,""),e.preserveConsecutiveUppercase?t=cle(t,n):t=n(t),e.pascalCase&&(t=r(t.charAt(0))+t.slice(1)),ule(t,r))};Zz.exports=eU;Zz.exports.default=eU;function dle(t,e){return(e==null?void 0:e[t])||ile(t)}function fle(t,e,n){const r={};for(const i in t)Object.hasOwn(t,i)&&(r[e(i,n)]=t[i]);return r}var hle={};wt(hle,{Serializable:()=>Fd,get_lc_unique_name:()=>GT});function _2(t){return Array.isArray(t)?[...t]:{...t}}function ple(t,e){const n=_2(t);for(const[r,i]of Object.entries(e)){const[a,...s]=r.split(".").reverse();let o=n;for(const l of s.reverse()){if(o[l]===void 0)break;o[l]=_2(o[l]),o=o[l]}o[a]!==void 0&&(o[a]={lc:1,type:"secret",id:[i]})}return n}function GT(t){const e=Object.getPrototypeOf(t);return typeof t.lc_name=="function"&&(typeof e.lc_name!="function"||t.lc_name()!==e.lc_name())?t.lc_name():t.name}var Fd=class tU{constructor(e,...n){U(this,"lc_serializable",!1);U(this,"lc_kwargs");this.lc_serializable_keys!==void 0?this.lc_kwargs=Object.fromEntries(Object.entries(e||{}).filter(([r])=>{var i;return(i=this.lc_serializable_keys)==null?void 0:i.includes(r)})):this.lc_kwargs=e??{}}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,GT(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof tU||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const e={},n={},r=Object.keys(this.lc_kwargs).reduce((i,a)=>(i[a]=a in this?this[a]:this.lc_kwargs[a],i),{});for(let i=Object.getPrototypeOf(this);i;i=Object.getPrototypeOf(i))Object.assign(e,Reflect.get(i,"lc_aliases",this)),Object.assign(n,Reflect.get(i,"lc_secrets",this)),Object.assign(r,Reflect.get(i,"lc_attributes",this));return Object.keys(n).forEach(i=>{let a=this,s=r;const[o,...l]=i.split(".").reverse();for(const c of l.reverse()){if(!(c in a)||a[c]===void 0)return;(!(c in s)||s[c]===void 0)&&(typeof a[c]=="object"&&a[c]!=null?s[c]={}:Array.isArray(a[c])&&(s[c]=[])),a=a[c],s=s[c]}o in a&&a[o]!==void 0&&(s[o]=s[o]||a[o])}),{lc:1,type:"constructor",id:this.lc_id,kwargs:fle(Object.keys(n).length?ple(r,n):r,dle,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}};function $e(t,e){return Ge(t)&&t.type===e}function Ge(t){return typeof t=="object"&&t!==null}function es(t){return Array.isArray(t)}function Se(t){return typeof t=="string"}function ea(t){return typeof t=="number"}function KT(t){return t instanceof Uint8Array}function S2(t){try{return JSON.parse(t)}catch{return}}const Wp=t=>t();function mle(t){if(t.type==="char_location"&&Se(t.document_title)&&ea(t.start_char_index)&&ea(t.end_char_index)&&Se(t.cited_text)){const{document_title:e,start_char_index:n,end_char_index:r,cited_text:i,...a}=t;return{...a,type:"citation",source:"char",title:e??void 0,startIndex:n,endIndex:r,citedText:i}}if(t.type==="page_location"&&Se(t.document_title)&&ea(t.start_page_number)&&ea(t.end_page_number)&&Se(t.cited_text)){const{document_title:e,start_page_number:n,end_page_number:r,cited_text:i,...a}=t;return{...a,type:"citation",source:"page",title:e??void 0,startIndex:n,endIndex:r,citedText:i}}if(t.type==="content_block_location"&&Se(t.document_title)&&ea(t.start_block_index)&&ea(t.end_block_index)&&Se(t.cited_text)){const{document_title:e,start_block_index:n,end_block_index:r,cited_text:i,...a}=t;return{...a,type:"citation",source:"block",title:e??void 0,startIndex:n,endIndex:r,citedText:i}}if(t.type==="web_search_result_location"&&Se(t.url)&&Se(t.title)&&Se(t.encrypted_index)&&Se(t.cited_text)){const{url:e,title:n,encrypted_index:r,cited_text:i,...a}=t;return{...a,type:"citation",source:"url",url:e,title:n,startIndex:Number(r),endIndex:Number(r),citedText:i}}if(t.type==="search_result_location"&&Se(t.source)&&Se(t.title)&&ea(t.start_block_index)&&ea(t.end_block_index)&&Se(t.cited_text)){const{source:e,title:n,start_block_index:r,end_block_index:i,cited_text:a,...s}=t;return{...s,type:"citation",source:"search",url:e,title:n??void 0,startIndex:r,endIndex:i,citedText:a}}}function nU(t){if($e(t,"document")&&Ge(t.source)&&"type"in t.source){if(t.source.type==="base64"&&Se(t.source.media_type)&&Se(t.source.data))return{type:"file",mimeType:t.source.media_type,data:t.source.data};if(t.source.type==="url"&&Se(t.source.url))return{type:"file",url:t.source.url};if(t.source.type==="file"&&Se(t.source.file_id))return{type:"file",fileId:t.source.file_id};if(t.source.type==="text"&&Se(t.source.data))return{type:"file",mimeType:String(t.source.media_type??"text/plain"),data:t.source.data}}else if($e(t,"image")&&Ge(t.source)&&"type"in t.source){if(t.source.type==="base64"&&Se(t.source.media_type)&&Se(t.source.data))return{type:"image",mimeType:t.source.media_type,data:t.source.data};if(t.source.type==="url"&&Se(t.source.url))return{type:"image",url:t.source.url};if(t.source.type==="file"&&Se(t.source.file_id))return{type:"image",fileId:t.source.file_id}}}function gle(t){function*e(){for(const n of t){const r=nU(n);r?yield r:yield n}}return Array.from(e())}function E2(t){function*e(){var r;const n=typeof t.content=="string"?[{type:"text",text:t.content}]:t.content;for(const i of n){if($e(i,"text")&&Se(i.text)){const{text:a,citations:s,...o}=i;if(es(s)&&s.length){const l=s.reduce((c,d)=>{const f=mle(d);return f?[...c,f]:c},[]);yield{...o,type:"text",text:a,annotations:l};continue}else{yield{...o,type:"text",text:a};continue}}else if($e(i,"thinking")&&Se(i.thinking)){const{thinking:a,signature:s,...o}=i;yield{...o,type:"reasoning",reasoning:a,signature:s};continue}else if($e(i,"redacted_thinking")){yield{type:"non_standard",value:i};continue}else if($e(i,"tool_use")&&Se(i.name)&&Se(i.id)){yield{type:"tool_call",id:i.id,name:i.name,args:i.input};continue}else if($e(i,"input_json_delta")){if(vle(t)&&((r=t.tool_call_chunks)!=null&&r.length)){const a=t.tool_call_chunks[0];yield{type:"tool_call_chunk",id:a.id,name:a.name,args:a.args,index:a.index};continue}}else if($e(i,"server_tool_use")&&Se(i.name)&&Se(i.id)){const{name:a,id:s}=i;if(a==="web_search"){const o=Wp(()=>{if(typeof i.input=="string")return i.input;if(Ge(i.input)&&Se(i.input.query))return i.input.query;if(Se(i.partial_json)){const l=S2(i.partial_json);if(l!=null&&l.query)return l.query}return""});yield{id:s,type:"server_tool_call",name:"web_search",args:{query:o}};continue}else if(i.name==="code_execution"){const o=Wp(()=>{if(typeof i.input=="string")return i.input;if(Ge(i.input)&&Se(i.input.code))return i.input.code;if(Se(i.partial_json)){const l=S2(i.partial_json);if(l!=null&&l.code)return l.code}return""});yield{id:s,type:"server_tool_call",name:"code_execution",args:{code:o}};continue}}else if($e(i,"web_search_tool_result")&&Se(i.tool_use_id)&&es(i.content)){const{content:a,tool_use_id:s}=i,o=a.reduce((l,c)=>$e(c,"web_search_result")?[...l,c.url]:l,[]);yield{type:"server_tool_call_result",name:"web_search",toolCallId:s,status:"success",output:{urls:o}};continue}else if($e(i,"code_execution_tool_result")&&Se(i.tool_use_id)&&Ge(i.content)){yield{type:"server_tool_call_result",name:"code_execution",toolCallId:i.tool_use_id,status:"success",output:i.content};continue}else if($e(i,"mcp_tool_use")){yield{id:i.id,type:"server_tool_call",name:"mcp_tool_use",args:i.input};continue}else if($e(i,"mcp_tool_result")&&Se(i.tool_use_id)&&Ge(i.content)){yield{type:"server_tool_call_result",name:"mcp_tool_use",toolCallId:i.tool_use_id,status:"success",output:i.content};continue}else if($e(i,"container_upload")){yield{type:"server_tool_call",name:"container_upload",args:i.input};continue}else if($e(i,"search_result")){yield{id:i.id,type:"non_standard",value:i};continue}else if($e(i,"tool_result")){yield{id:i.id,type:"non_standard",value:i};continue}else{const a=nU(i);if(a){yield a;continue}}yield{type:"non_standard",value:i}}}return Array.from(e())}const yle={translateContent:E2,translateContentChunk:E2};function vle(t){return typeof(t==null?void 0:t._getType)=="function"&&typeof t.concat=="function"&&t._getType()==="ai"}function xle(t){return WT(t)?{type:t.type,mimeType:t.mime_type,url:t.url,metadata:t.metadata}:qT(t)?{type:t.type,mimeType:t.mime_type??"application/octet-stream",data:t.data,metadata:t.metadata}:Yz(t)?{type:t.type,mimeType:t.mime_type,fileId:t.id,metadata:t.metadata}:t}function ble(t){return t.map(xle)}function wle(t){return!!($e(t,"image_url")&&Ge(t.image_url)||$e(t,"input_audio")&&Ge(t.input_audio)||$e(t,"file")&&Ge(t.file))}function _le(t){if($e(t,"image_url")&&Ge(t.image_url)&&Se(t.image_url.url)){const e=IE({dataUrl:t.image_url.url});return e?{type:"image",mimeType:e.mime_type,data:e.data}:{type:"image",url:t.image_url.url}}else{if($e(t,"input_audio")&&Ge(t.input_audio)&&Se(t.input_audio.data)&&Se(t.input_audio.format))return{type:"audio",data:t.input_audio.data,mimeType:`audio/${t.input_audio.format}`};if($e(t,"file")&&Ge(t.file)&&Se(t.file.data)){const e=IE({dataUrl:t.file.data});if(e)return{type:"file",data:e.data,mimeType:e.mime_type};if(Se(t.file.file_id))return{type:"file",fileId:t.file.file_id}}}return t}function Sle(t){const e=[];typeof t.content=="string"?e.push({type:"text",text:t.content}):e.push(...YT(t.content));for(const n of t.tool_calls??[])e.push({type:"tool_call",id:n.id,name:n.name,args:n.args});return e}function Ele(t){const e=[];typeof t.content=="string"?e.push({type:"text",text:t.content}):e.push(...YT(t.content));for(const n of t.tool_calls??[])e.push({type:"tool_call",id:n.id,name:n.name,args:n.args});return e}function YT(t){const e=[];for(const n of t)wle(n)?e.push(_le(n)):e.push(n);return e}function jle(t){if(t.type==="url_citation"){const{url:e,title:n,start_index:r,end_index:i}=t;return{type:"citation",url:e,title:n,startIndex:r,endIndex:i}}if(t.type==="file_citation"){const{file_id:e,filename:n,index:r}=t;return{type:"citation",title:n,startIndex:r,endIndex:r,fileId:e}}return t}function rU(t){function*e(){var r;Ge((r=t.additional_kwargs)==null?void 0:r.reasoning)&&es(t.additional_kwargs.reasoning.summary)&&(yield{type:"reasoning",reasoning:t.additional_kwargs.reasoning.summary.reduce((a,s)=>Ge(s)&&Se(s.text)?`${a}${s.text}`:a,"")});const n=typeof t.content=="string"?[{type:"text",text:t.content}]:t.content;for(const i of n)if($e(i,"text")){const{text:a,annotations:s,...o}=i;Array.isArray(s)?yield{...o,type:"text",text:String(a),annotations:s.map(jle)}:yield{...o,type:"text",text:String(a)}}for(const i of t.tool_calls??[])yield{type:"tool_call",id:i.id,name:i.name,args:i.args};if(Ge(t.additional_kwargs)&&es(t.additional_kwargs.tool_outputs))for(const i of t.additional_kwargs.tool_outputs){if($e(i,"web_search_call")){yield{id:i.id,type:"server_tool_call",name:"web_search",args:{query:i.query}};continue}else if($e(i,"file_search_call")){yield{id:i.id,type:"server_tool_call",name:"file_search",args:{query:i.query}};continue}else if($e(i,"computer_call")){yield{type:"non_standard",value:i};continue}else if($e(i,"code_interpreter_call")){if(Se(i.code)&&(yield{id:i.id,type:"server_tool_call",name:"code_interpreter",args:{code:i.code}}),es(i.outputs)){const a=Wp(()=>{if(i.status!=="in_progress"){if(i.status==="completed")return 0;if(i.status==="incomplete")return 127;if(i.status!=="interpreting"&&i.status==="failed")return 1}});for(const s of i.outputs)if($e(s,"logs")){yield{type:"server_tool_call_result",toolCallId:i.id??"",status:"success",output:{type:"code_interpreter_output",returnCode:a??0,stderr:[0,void 0].includes(a)?void 0:String(s.logs),stdout:[0,void 0].includes(a)?String(s.logs):void 0}};continue}}continue}else if($e(i,"mcp_call")){yield{id:i.id,type:"server_tool_call",name:"mcp_call",args:i.input};continue}else if($e(i,"mcp_list_tools")){yield{id:i.id,type:"server_tool_call",name:"mcp_list_tools",args:i.input};continue}else if($e(i,"mcp_approval_request")){yield{type:"non_standard",value:i};continue}else if($e(i,"image_generation_call")){yield{type:"non_standard",value:i};continue}Ge(i)&&(yield{type:"non_standard",value:i})}}return Array.from(e())}function Ale(t){function*e(){yield*rU(t);for(const n of t.tool_call_chunks??[])yield{type:"tool_call_chunk",id:n.id,name:n.name,args:n.args}}return Array.from(e())}const Cle={translateContent:t=>typeof t.content=="string"?Sle(t):rU(t),translateContentChunk:t=>typeof t.content=="string"?Ele(t):Ale(t)};function iU(t){return typeof t=="object"&&t!==null&&"type"in t&&"content"in t&&(typeof t.content=="string"||Array.isArray(t.content))}function Tle(t,e="pretty"){return e==="pretty"?kle(t):JSON.stringify(t)}function kle(t){const e=[],n=` ${t.type.charAt(0).toUpperCase()+t.type.slice(1)} Message `,r=Math.floor((80-n.length)/2),i="=".repeat(r),a=n.length%2===0?i:`${i}=`;if(e.push(`${i}${n}${a}`),t.type==="ai"){const s=t;if(s.tool_calls&&s.tool_calls.length>0){e.push("Tool Calls:");for(const o of s.tool_calls){e.push(`  ${o.name} (${o.id})`),e.push(` Call ID: ${o.id}`),e.push("  Args:");for(const[l,c]of Object.entries(o.args))e.push(`    ${l}: ${c}`)}}}if(t.type==="tool"){const s=t;s.name&&e.push(`Name: ${s.name}`)}return typeof t.content=="string"&&t.content.trim()&&(e.length>1&&e.push(""),e.push(t.content)),e.join(`
`)}const N_=Symbol.for("langchain.message");function eo(t,e){return typeof t=="string"?t===""?e:typeof e=="string"?t+e:Array.isArray(e)&&e.length===0?t:Array.isArray(e)&&e.some(n=>bl(n))?[{type:"text",source_type:"text",text:t},...e]:[{type:"text",text:t},...e]:Array.isArray(e)?Zm(t,e)??[...t,...e]:e===""?t:Array.isArray(t)&&t.some(n=>bl(n))?[...t,{type:"file",source_type:"text",text:e}]:[...t,{type:"text",text:e}]}function aU(t,e){return t==="error"||e==="error"?"error":"success"}function Ole(t,e){function n(r,i){if(typeof r!="object"||r===null||r===void 0)return r;if(i>=e)return Array.isArray(r)?"[Array]":"[Object]";if(Array.isArray(r))return r.map(s=>n(s,i+1));const a={};for(const s of Object.keys(r))a[s]=n(r[s],i+1);return a}return JSON.stringify(n(t,0),null,2)}var t5,oo=class extends Fd{constructor(e){const n=typeof e=="string"||Array.isArray(e)?{content:e}:e;n.additional_kwargs||(n.additional_kwargs={}),n.response_metadata||(n.response_metadata={});super(n);U(this,"lc_namespace",["langchain_core","messages"]);U(this,"lc_serializable",!0);U(this,t5,!0);U(this,"id");U(this,"name");U(this,"content");U(this,"additional_kwargs");U(this,"response_metadata");this.name=n.name,n.content===void 0&&n.contentBlocks!==void 0?(this.content=n.contentBlocks,this.response_metadata={output_version:"v1",...n.response_metadata}):n.content!==void 0?(this.content=n.content??[],this.response_metadata=n.response_metadata):(this.content=[],this.response_metadata=n.response_metadata),this.additional_kwargs=n.additional_kwargs,this.id=n.id}get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}_getType(){return this.type}getType(){return this._getType()}get text(){return typeof this.content=="string"?this.content:Array.isArray(this.content)?this.content.map(e=>typeof e=="string"?e:e.type==="text"?e.text:"").join(""):""}get contentBlocks(){const e=typeof this.content=="string"?[{type:"text",text:this.content}]:this.content;return[ble,YT,gle].reduce((i,a)=>a(i),e)}toDict(){return{type:this.getType(),data:this.toJSON().kwargs}}static lc_name(){return"BaseMessage"}get _printableFields(){return{id:this.id,content:this.content,name:this.name,additional_kwargs:this.additional_kwargs,response_metadata:this.response_metadata}}static isInstance(e){return typeof e=="object"&&e!==null&&N_ in e&&e[N_]===!0&&iU(e)}_updateId(e){this.id=e,this.lc_kwargs.id=e}get[(t5=N_,Symbol.toStringTag)](){return this.constructor.lc_name()}[Symbol.for("nodejs.util.inspect.custom")](e){if(e===null)return this;const n=Ole(this._printableFields,Math.max(4,e));return`${this.constructor.lc_name()} ${n}`}toFormattedString(e="pretty"){return Tle(this,e)}};function Nle(t){return Array.isArray(t)&&t.every(e=>typeof e.index=="number")}function Jn(t={},e={}){const n={...t};for(const[r,i]of Object.entries(e))if(n[r]==null)n[r]=i;else{if(i==null)continue;if(typeof n[r]!=typeof i||Array.isArray(n[r])!==Array.isArray(i))throw new Error(`field[${r}] already exists in the message chunk, but with a different type.`);if(typeof n[r]=="string"){if(r==="type")continue;["id","name","output_version","model_provider"].includes(r)?n[r]=i:n[r]+=i}else if(typeof n[r]=="object"&&!Array.isArray(n[r]))n[r]=Jn(n[r],i);else if(Array.isArray(n[r]))n[r]=Zm(n[r],i);else{if(n[r]===i)continue;console.warn(`field[${r}] already exists in this message chunk and value has unsupported type.`)}}return n}function Zm(t,e){if(!(t===void 0&&e===void 0)){if(t===void 0||e===void 0)return t||e;{const n=[...t];for(const r of e)if(typeof r=="object"&&r!==null&&"index"in r&&typeof r.index=="number"){const i=n.findIndex(a=>{const s=typeof a=="object",o="index"in a&&a.index===r.index,l="id"in a&&"id"in r&&(a==null?void 0:a.id)===(r==null?void 0:r.id),c=!("id"in a)||!(a!=null&&a.id)||!("id"in r)||!(r!=null&&r.id);return s&&o&&(l||c)});i!==-1&&typeof n[i]=="object"&&n[i]!==null?n[i]=Jn(n[i],r):n.push(r)}else{if(typeof r=="object"&&r!==null&&"text"in r&&r.text==="")continue;n.push(r)}return n}}}function sU(t,e){if(!t&&!e)throw new Error("Cannot merge two undefined objects.");if(!t||!e)return t||e;if(typeof t!=typeof e)throw new Error(`Cannot merge objects of different types.
Left ${typeof t}
Right ${typeof e}`);if(typeof t=="string"&&typeof e=="string")return t+e;if(Array.isArray(t)&&Array.isArray(e))return Zm(t,e);if(typeof t=="object"&&typeof e=="object")return Jn(t,e);if(t===e)return t;throw new Error(`Can not merge objects of different types.
Left ${t}
Right ${e}`)}var Nl=class oU extends oo{static isInstance(e){if(!super.isInstance(e))return!1;let n=Object.getPrototypeOf(e);for(;n!==null;){if(n===oU.prototype)return!0;n=Object.getPrototypeOf(n)}return!1}};function lU(t){return typeof t.role=="string"}function Ho(t){return typeof(t==null?void 0:t._getType)=="function"}function XT(t){return Nl.isInstance(t)}function $E(t,e=ob){t=t.trim();const n=t.indexOf("```");if(n===-1)return e(t);let r=t.substring(n+3);r.startsWith(`json
`)?r=r.substring(5):r.startsWith("json")?r=r.substring(4):r.startsWith(`
`)&&(r=r.substring(1));const i=r.indexOf("```");let a=r;return i!==-1&&(a=r.substring(0,i)),e(a.trim())}function ob(t){if(typeof t>"u")return null;try{return JSON.parse(t)}catch{}let e="";const n=[];let r=!1,i=!1;for(let a of t){if(r)a==='"'&&!i?r=!1:a===`
`&&!i?a="\\n":a==="\\"?i=!i:i=!1;else if(a==='"')r=!0,i=!1;else if(a==="{")n.push("}");else if(a==="[")n.push("]");else if(a==="}"||a==="]")if(n&&n[n.length-1]===a)n.pop();else return null;e+=a}r&&(e+='"');for(let a=n.length-1;a>=0;a-=1)e+=n[a];try{return JSON.parse(e)}catch{return null}}function ZT(t){switch(t){case"csv":return"text/csv";case"doc":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"docx":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"html":return"text/html";case"md":return"text/markdown";case"pdf":return"application/pdf";case"txt":return"text/plain";case"xls":return"application/vnd.ms-excel";case"xlsx":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"gif":return"image/gif";case"jpeg":return"image/jpeg";case"jpg":return"image/jpeg";case"png":return"image/png";case"webp":return"image/webp";case"flv":return"video/flv";case"mkv":return"video/mkv";case"mov":return"video/mov";case"mp4":return"video/mp4";case"mpeg":return"video/mpeg";case"mpg":return"video/mpg";case"three_gp":return"video/three_gp";case"webm":return"video/webm";case"wmv":return"video/wmv";default:return"application/octet-stream"}}function Ple(t){if(Ge(t.document)&&Ge(t.document.source)){const e=Ge(t.document)&&Se(t.document.format)?t.document.format:"",n=ZT(e);if(Ge(t.document.source)){if(Ge(t.document.source.s3Location)&&Se(t.document.source.s3Location.uri))return{type:"file",mimeType:n,fileId:t.document.source.s3Location.uri};if(KT(t.document.source.bytes))return{type:"file",mimeType:n,data:t.document.source.bytes};if(Se(t.document.source.text))return{type:"file",mimeType:n,data:Buffer.from(t.document.source.text).toString("base64")};if(es(t.document.source.content)){const r=t.document.source.content.reduce((i,a)=>Ge(a)&&Se(a.text)?i+a.text:i,"");return{type:"file",mimeType:n,data:r}}}}return{type:"non_standard",value:t}}function Ile(t){if($e(t,"image")&&Ge(t.image)){const e=Ge(t.image)&&Se(t.image.format)?t.image.format:"",n=ZT(e);if(Ge(t.image.source)){if(Ge(t.image.source.s3Location)&&Se(t.image.source.s3Location.uri))return{type:"image",mimeType:n,fileId:t.image.source.s3Location.uri};if(KT(t.image.source.bytes))return{type:"image",mimeType:n,data:t.image.source.bytes}}}return{type:"non_standard",value:t}}function $le(t){if($e(t,"video")&&Ge(t.video)){const e=Ge(t.video)&&Se(t.video.format)?t.video.format:"",n=ZT(e);if(Ge(t.video.source)){if(Ge(t.video.source.s3Location)&&Se(t.video.source.s3Location.uri))return{type:"video",mimeType:n,fileId:t.video.source.s3Location.uri};if(KT(t.video.source.bytes))return{type:"video",mimeType:n,data:t.video.source.bytes}}}return{type:"non_standard",value:t}}function j2(t){function*e(){const n=typeof t.content=="string"?[{type:"text",text:t.content}]:t.content;for(const r of n){if($e(r,"cache_point")){yield{type:"non_standard",value:r};continue}else if($e(r,"citations_content")&&Ge(r.citationsContent)){const i=es(r.citationsContent.content)?r.citationsContent.content.reduce((s,o)=>Ge(o)&&Se(o.text)?s+o.text:s,""):"",a=es(r.citationsContent.citations)?r.citationsContent.citations.reduce((s,o)=>{if(Ge(o)){const l=es(o.sourceContent)?o.sourceContent.reduce((d,f)=>Ge(f)&&Se(f.text)?d+f.text:d,""):"",c=Wp(()=>{if(Ge(o.location)){const d=o.location.documentChar||o.location.documentPage||o.location.documentChunk;if(Ge(d))return{source:ea(d.documentIndex)?d.documentIndex.toString():void 0,startIndex:ea(d.start)?d.start:void 0,endIndex:ea(d.end)?d.end:void 0}}return{}});s.push({type:"citation",citedText:l,...c})}return s},[]):[];yield{type:"text",text:i,annotations:a};continue}else if($e(r,"document")&&Ge(r.document)){yield Ple(r);continue}else if($e(r,"guard_content")){yield{type:"non_standard",value:r};continue}else if($e(r,"image")&&Ge(r.image)){yield Ile(r);continue}else if($e(r,"reasoning_content")&&Se(r.reasoningText)){yield{type:"reasoning",reasoning:r.reasoningText};continue}else if($e(r,"text")&&Se(r.text)){yield{type:"text",text:r.text};continue}else if($e(r,"tool_result")){yield{type:"non_standard",value:r};continue}else{if($e(r,"tool_call"))continue;if($e(r,"video")&&Ge(r.video)){yield $le(r);continue}}yield{type:"non_standard",value:r}}}return Array.from(e())}const Rle={translateContent:j2,translateContentChunk:j2};function A2(t){function*e(){const n=typeof t.content=="string"?[{type:"text",text:t.content}]:t.content;for(const r of n){if($e(r,"text")&&Se(r.text)){yield{type:"text",text:r.text};continue}else if($e(r,"inlineData")&&Ge(r.inlineData)&&Se(r.inlineData.mimeType)&&Se(r.inlineData.data)){yield{type:"file",mimeType:r.inlineData.mimeType,data:r.inlineData.data};continue}else if($e(r,"functionCall")&&Ge(r.functionCall)&&Se(r.functionCall.name)&&Ge(r.functionCall.args)){yield{type:"tool_call",id:t.id,name:r.functionCall.name,args:r.functionCall.args};continue}else if($e(r,"functionResponse")){yield{type:"non_standard",value:r};continue}else if($e(r,"fileData")&&Ge(r.fileData)&&Se(r.fileData.mimeType)&&Se(r.fileData.fileUri)){yield{type:"file",mimeType:r.fileData.mimeType,fileId:r.fileData.fileUri};continue}else if($e(r,"executableCode")){yield{type:"non_standard",value:r};continue}else if($e(r,"codeExecutionResult")){yield{type:"non_standard",value:r};continue}yield{type:"non_standard",value:r}}}return Array.from(e())}const Mle={translateContent:A2,translateContentChunk:A2};function C2(t){function*e(){const n=typeof t.content=="string"?[{type:"text",text:t.content}]:t.content;for(const r of n){if($e(r,"reasoning")&&Se(r.reasoning)){const i=Wp(()=>{var s;const a=n.indexOf(r);if(es((s=t.additional_kwargs)==null?void 0:s.signatures)&&a>=0)return t.additional_kwargs.signatures.at(a)});Se(i)?yield{type:"reasoning",reasoning:r.reasoning,signature:i}:yield{type:"reasoning",reasoning:r.reasoning};continue}else if($e(r,"text")&&Se(r.text)){yield{type:"text",text:r.text};continue}else if($e(r,"image_url")){if(Se(r.image_url))if(r.image_url.startsWith("data:")){const i=/^data:([^;]+);base64,(.+)$/,a=r.image_url.match(i);a?yield{type:"image",data:a[2],mimeType:a[1]}:yield{type:"image",url:r.image_url}}else yield{type:"image",url:r.image_url};continue}else if($e(r,"media")&&Se(r.mimeType)&&Se(r.data)){yield{type:"file",mimeType:r.mimeType,data:r.data};continue}yield{type:"non_standard",value:r}}}return Array.from(e())}const Lle={translateContent:C2,translateContentChunk:C2};globalThis.lc_block_translators_registry??(globalThis.lc_block_translators_registry=new Map([["anthropic",yle],["bedrock-converse",Rle],["google-genai",Mle],["google-vertexai",Lle],["openai",Cle]]));function cU(t){return globalThis.lc_block_translators_registry.get(t)}function uU(t,e){return Jn(t??{},e??{})}function dU(t,e){const n={};return((t==null?void 0:t.audio)!==void 0||(e==null?void 0:e.audio)!==void 0)&&(n.audio=((t==null?void 0:t.audio)??0)+((e==null?void 0:e.audio)??0)),((t==null?void 0:t.image)!==void 0||(e==null?void 0:e.image)!==void 0)&&(n.image=((t==null?void 0:t.image)??0)+((e==null?void 0:e.image)??0)),((t==null?void 0:t.video)!==void 0||(e==null?void 0:e.video)!==void 0)&&(n.video=((t==null?void 0:t.video)??0)+((e==null?void 0:e.video)??0)),((t==null?void 0:t.document)!==void 0||(e==null?void 0:e.document)!==void 0)&&(n.document=((t==null?void 0:t.document)??0)+((e==null?void 0:e.document)??0)),((t==null?void 0:t.text)!==void 0||(e==null?void 0:e.text)!==void 0)&&(n.text=((t==null?void 0:t.text)??0)+((e==null?void 0:e.text)??0)),n}function Dle(t,e){const n={...dU(t,e)};return((t==null?void 0:t.cache_read)!==void 0||(e==null?void 0:e.cache_read)!==void 0)&&(n.cache_read=((t==null?void 0:t.cache_read)??0)+((e==null?void 0:e.cache_read)??0)),((t==null?void 0:t.cache_creation)!==void 0||(e==null?void 0:e.cache_creation)!==void 0)&&(n.cache_creation=((t==null?void 0:t.cache_creation)??0)+((e==null?void 0:e.cache_creation)??0)),n}function Fle(t,e){const n={...dU(t,e)};return((t==null?void 0:t.reasoning)!==void 0||(e==null?void 0:e.reasoning)!==void 0)&&(n.reasoning=((t==null?void 0:t.reasoning)??0)+((e==null?void 0:e.reasoning)??0)),n}function fU(t,e){return{input_tokens:((t==null?void 0:t.input_tokens)??0)+((e==null?void 0:e.input_tokens)??0),output_tokens:((t==null?void 0:t.output_tokens)??0)+((e==null?void 0:e.output_tokens)??0),total_tokens:((t==null?void 0:t.total_tokens)??0)+((e==null?void 0:e.total_tokens)??0),input_token_details:Dle(t==null?void 0:t.input_token_details,e==null?void 0:e.input_token_details),output_token_details:Fle(t==null?void 0:t.output_token_details,e==null?void 0:e.output_token_details)}}var Ble={};wt(Ble,{ToolMessage:()=>Of,ToolMessageChunk:()=>Jm,defaultToolCallParser:()=>JT,isDirectToolOutput:()=>hU,isToolMessage:()=>pU,isToolMessageChunk:()=>mU});function hU(t){return t!=null&&typeof t=="object"&&"lc_direct_tool_output"in t&&t.lc_direct_tool_output===!0}var Of=class extends oo{constructor(e,n,r){const i=typeof e=="string"||Array.isArray(e)?{content:e,name:r,tool_call_id:n}:e;super(i);U(this,"lc_direct_tool_output",!0);U(this,"type","tool");U(this,"status");U(this,"tool_call_id");U(this,"metadata");U(this,"artifact");this.tool_call_id=i.tool_call_id,this.artifact=i.artifact,this.status=i.status,this.metadata=i.metadata}static lc_name(){return"ToolMessage"}get lc_aliases(){return{tool_call_id:"tool_call_id"}}static isInstance(e){return super.isInstance(e)&&e.type==="tool"}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}},Jm=class extends Nl{constructor(e){super(e);U(this,"type","tool");U(this,"tool_call_id");U(this,"status");U(this,"artifact");this.tool_call_id=e.tool_call_id,this.artifact=e.artifact,this.status=e.status}static lc_name(){return"ToolMessageChunk"}concat(e){const n=this.constructor;return new n({content:eo(this.content,e.content),additional_kwargs:Jn(this.additional_kwargs,e.additional_kwargs),response_metadata:Jn(this.response_metadata,e.response_metadata),artifact:sU(this.artifact,e.artifact),tool_call_id:this.tool_call_id,id:this.id??e.id,status:aU(this.status,e.status)})}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}};function JT(t){const e=[],n=[];for(const r of t)if(r.function){const i=r.function.name;try{const a=JSON.parse(r.function.arguments);e.push({name:i||"",args:a||{},id:r.id})}catch{n.push({name:i,args:r.function.arguments,id:r.id,error:"Malformed args."})}}else continue;return[e,n]}function pU(t){return typeof t=="object"&&t!==null&&"getType"in t&&typeof t.getType=="function"&&t.getType()==="tool"}function mU(t){return t._getType()==="tool"}var os=class extends oo{constructor(e){var r;let n;if(typeof e=="string"||Array.isArray(e))n={content:e,tool_calls:[],invalid_tool_calls:[],additional_kwargs:{}};else{n=e;const i=(r=n.additional_kwargs)==null?void 0:r.tool_calls,a=n.tool_calls;i!=null&&i.length>0&&(a===void 0||a.length===0)&&console.warn(["New LangChain packages are available that more efficiently handle",`tool calling.

Please upgrade your packages to versions that set`,"message tool calls. e.g., `pnpm install @langchain/anthropic`,","pnpm install @langchain/openai`, etc."].join(" "));try{if(i!=null&&a===void 0){const[s,o]=JT(i);n.tool_calls=s??[],n.invalid_tool_calls=o??[]}else n.tool_calls=n.tool_calls??[],n.invalid_tool_calls=n.invalid_tool_calls??[]}catch{n.tool_calls=[],n.invalid_tool_calls=[]}if(n.response_metadata!==void 0&&"output_version"in n.response_metadata&&n.response_metadata.output_version==="v1"&&(n.contentBlocks=n.content,n.content=void 0),n.contentBlocks!==void 0){n.contentBlocks.push(...n.tool_calls.map(o=>({type:"tool_call",id:o.id,name:o.name,args:o.args})));const s=n.contentBlocks.filter(o=>o.type==="tool_call").filter(o=>{var l;return!((l=n.tool_calls)!=null&&l.some(c=>c.id===o.id&&c.name===o.name))});s.length>0&&(n.tool_calls=s.map(o=>({type:"tool_call",id:o.id,name:o.name,args:o.args})))}}super(n);U(this,"type","ai");U(this,"tool_calls",[]);U(this,"invalid_tool_calls",[]);U(this,"usage_metadata");typeof n!="string"&&(this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls),this.usage_metadata=n.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls"}}static lc_name(){return"AIMessage"}get contentBlocks(){if(this.response_metadata&&"output_version"in this.response_metadata&&this.response_metadata.output_version==="v1")return this.content;if(this.response_metadata&&"model_provider"in this.response_metadata&&typeof this.response_metadata.model_provider=="string"){const n=cU(this.response_metadata.model_provider);if(n)return n.translateContent(this)}const e=super.contentBlocks;if(this.tool_calls){const n=this.tool_calls.filter(r=>!e.some(i=>i.id===r.id&&i.name===r.name));e.push(...n.map(r=>({...r,type:"tool_call",id:r.id,name:r.name,args:r.args})))}return e}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}static isInstance(e){return super.isInstance(e)&&e.type==="ai"}};function lb(t){return t._getType()==="ai"}function RE(t){return t._getType()==="ai"}var lo=class extends Nl{constructor(e){var r,i;let n;if(typeof e=="string"||Array.isArray(e))n={content:e,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else if(e.tool_call_chunks===void 0||e.tool_call_chunks.length===0)n={...e,tool_calls:e.tool_calls??[],invalid_tool_calls:[],tool_call_chunks:[],usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0};else{const s=(e.tool_call_chunks??[]).reduce((c,d)=>{const f=c.findIndex(([h])=>"id"in d&&d.id&&"index"in d&&d.index!==void 0?d.id===h.id&&d.index===h.index:"id"in d&&d.id?d.id===h.id:"index"in d&&d.index!==void 0?d.index===h.index:!1);return f!==-1?c[f].push(d):c.push([d]),c},[]),o=[],l=[];for(const c of s){let d=null;const f=((r=c[0])==null?void 0:r.name)??"",h=c.map(g=>g.args||"").join(""),p=h.length?h:"{}",m=(i=c[0])==null?void 0:i.id;try{if(d=ob(p),!m||d===null||typeof d!="object"||Array.isArray(d))throw new Error("Malformed tool call chunk args.");o.push({name:f,args:d,id:m,type:"tool_call"})}catch{l.push({name:f,args:p,id:m,error:"Malformed args.",type:"invalid_tool_call"})}}n={...e,tool_calls:o,invalid_tool_calls:l,usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0}}super(n);U(this,"type","ai");U(this,"tool_calls",[]);U(this,"invalid_tool_calls",[]);U(this,"tool_call_chunks",[]);U(this,"usage_metadata");this.tool_call_chunks=n.tool_call_chunks??this.tool_call_chunks,this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls,this.usage_metadata=n.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}get contentBlocks(){if(this.response_metadata&&"output_version"in this.response_metadata&&this.response_metadata.output_version==="v1")return this.content;if(this.response_metadata&&"model_provider"in this.response_metadata&&typeof this.response_metadata.model_provider=="string"){const n=cU(this.response_metadata.model_provider);if(n)return n.translateContent(this)}const e=super.contentBlocks;if(this.tool_calls&&typeof this.content!="string"){const n=this.content.filter(r=>r.type==="tool_call").map(r=>r.id);for(const r of this.tool_calls)r.id&&!n.includes(r.id)&&e.push({...r,type:"tool_call",id:r.id,name:r.name,args:r.args})}return e}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,tool_call_chunks:this.tool_call_chunks,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}concat(e){const n={content:eo(this.content,e.content),additional_kwargs:Jn(this.additional_kwargs,e.additional_kwargs),response_metadata:uU(this.response_metadata,e.response_metadata),tool_call_chunks:[],id:this.id??e.id};if(this.tool_call_chunks!==void 0||e.tool_call_chunks!==void 0){const i=Zm(this.tool_call_chunks,e.tool_call_chunks);i!==void 0&&i.length>0&&(n.tool_call_chunks=i)}(this.usage_metadata!==void 0||e.usage_metadata!==void 0)&&(n.usage_metadata=fU(this.usage_metadata,e.usage_metadata));const r=this.constructor;return new r(n)}static isInstance(e){return super.isInstance(e)&&e.type==="ai"}},Kc=class gU extends oo{constructor(n,r){(typeof n=="string"||Array.isArray(n))&&(n={content:n,role:r});super(n);U(this,"type","generic");U(this,"role");this.role=n.role}static lc_name(){return"ChatMessage"}static _chatMessageClass(){return gU}static isInstance(n){return super.isInstance(n)&&n.type==="generic"}get _printableFields(){return{...super._printableFields,role:this.role}}},Qm=class extends Nl{constructor(e,n){(typeof e=="string"||Array.isArray(e))&&(e={content:e,role:n});super(e);U(this,"type","generic");U(this,"role");this.role=e.role}static lc_name(){return"ChatMessageChunk"}concat(e){const n=this.constructor;return new n({content:eo(this.content,e.content),additional_kwargs:Jn(this.additional_kwargs,e.additional_kwargs),response_metadata:Jn(this.response_metadata,e.response_metadata),role:this.role,id:this.id??e.id})}static isInstance(e){return super.isInstance(e)&&e.type==="generic"}get _printableFields(){return{...super._printableFields,role:this.role}}};function zle(t){return t._getType()==="generic"}function Ule(t){return t._getType()==="generic"}var cb=class extends oo{constructor(e){super(e);U(this,"type","function");U(this,"name");this.name=e.name}static lc_name(){return"FunctionMessage"}},eg=class extends Nl{constructor(){super(...arguments);U(this,"type","function")}static lc_name(){return"FunctionMessageChunk"}concat(e){const n=this.constructor;return new n({content:eo(this.content,e.content),additional_kwargs:Jn(this.additional_kwargs,e.additional_kwargs),response_metadata:Jn(this.response_metadata,e.response_metadata),name:this.name??"",id:this.id??e.id})}};function Hle(t){return t._getType()==="function"}function Vle(t){return t._getType()==="function"}var ba=class extends oo{constructor(e){super(e);U(this,"type","human")}static lc_name(){return"HumanMessage"}static isInstance(e){return super.isInstance(e)&&e.type==="human"}},tg=class extends Nl{constructor(e){super(e);U(this,"type","human")}static lc_name(){return"HumanMessageChunk"}concat(e){const n=this.constructor;return new n({content:eo(this.content,e.content),additional_kwargs:Jn(this.additional_kwargs,e.additional_kwargs),response_metadata:Jn(this.response_metadata,e.response_metadata),id:this.id??e.id})}static isInstance(e){return super.isInstance(e)&&e.type==="human"}};function Wle(t){return t.getType()==="human"}function qle(t){return t.getType()==="human"}var ls=class tv extends oo{constructor(n){super(n);U(this,"type","system")}static lc_name(){return"SystemMessage"}concat(n){if(typeof n=="string")return new tv({...this,content:eo(this.content,n)});if(tv.isInstance(n))return new tv({...this,additional_kwargs:{...this.additional_kwargs,...n.additional_kwargs},response_metadata:{...this.response_metadata,...n.response_metadata},content:eo(this.content,n.content)});throw new Error("Unexpected chunk type for system message")}static isInstance(n){return super.isInstance(n)&&n.type==="system"}},wl=class extends Nl{constructor(e){super(e);U(this,"type","system")}static lc_name(){return"SystemMessageChunk"}concat(e){const n=this.constructor;return new n({content:eo(this.content,e.content),additional_kwargs:Jn(this.additional_kwargs,e.additional_kwargs),response_metadata:Jn(this.response_metadata,e.response_metadata),id:this.id??e.id})}static isInstance(e){return super.isInstance(e)&&e.type==="system"}};function Gle(t){return t._getType()==="system"}function Kle(t){return t._getType()==="system"}function yU(t,e){return t.lc_error_code=e,t.message=`${t.message}

Troubleshooting URL: https://docs.langchain.com/oss/javascript/langchain/errors/${e}/
`,t}function vU(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="tool_call")}var Yle=class extends Error{constructor(e,n){super(e);U(this,"output");this.output=n}},e0=class extends oo{constructor(e){super({...e,content:[]});U(this,"type","remove");U(this,"id");this.id=e.id}get _printableFields(){return{...super._printableFields,id:this.id}}static isInstance(e){return super.isInstance(e)&&e.type==="remove"}};const Xle=t=>t();function Zle(t){return vU(t)?t:typeof t.id=="string"&&t.type==="function"&&typeof t.function=="object"&&t.function!==null&&"arguments"in t.function&&typeof t.function.arguments=="string"&&"name"in t.function&&typeof t.function.name=="string"?{id:t.id,args:JSON.parse(t.function.arguments),name:t.function.name,type:"tool_call"}:t}function Jle(t){return typeof t=="object"&&t!=null&&t.lc===1&&Array.isArray(t.id)&&t.kwargs!=null&&typeof t.kwargs=="object"}function P_(t){let e,n;if(Jle(t)){const r=t.id.at(-1);r==="HumanMessage"||r==="HumanMessageChunk"?e="user":r==="AIMessage"||r==="AIMessageChunk"?e="assistant":r==="SystemMessage"||r==="SystemMessageChunk"?e="system":r==="FunctionMessage"||r==="FunctionMessageChunk"?e="function":r==="ToolMessage"||r==="ToolMessageChunk"?e="tool":e="unknown",n=t.kwargs}else{const{type:r,...i}=t;e=r,n=i}if(e==="human"||e==="user")return new ba(n);if(e==="ai"||e==="assistant"){const{tool_calls:r,...i}=n;if(!Array.isArray(r))return new os(n);const a=r.map(Zle);return new os({...i,tool_calls:a})}else{if(e==="system")return new ls(n);if(e==="developer")return new ls({...n,additional_kwargs:{...n.additional_kwargs,__openai_role__:"developer"}});if(e==="tool"&&"tool_call_id"in n)return new Of({...n,content:n.content,tool_call_id:n.tool_call_id,name:n.name});if(e==="remove"&&"id"in n&&typeof n.id=="string")return new e0({...n,id:n.id});throw yU(new Error(`Unable to coerce message from array: only human, AI, system, developer, or tool message coercion is currently supported.

Received: ${JSON.stringify(t,null,2)}`),"MESSAGE_COERCION_FAILURE")}}function Jh(t){if(typeof t=="string")return new ba(t);if(Ho(t))return t;if(Array.isArray(t)){const[e,n]=t;return P_({type:e,content:n})}else if(lU(t)){const{role:e,...n}=t;return P_({...n,type:e})}else return P_(t)}function QT(t,e="Human",n="AI"){const r=[];for(const i of t){let a;if(i._getType()==="human")a=e;else if(i._getType()==="ai")a=n;else if(i._getType()==="system")a="System";else if(i._getType()==="tool")a="Tool";else if(i._getType()==="generic")a=i.role;else throw new Error(`Got unsupported message type: ${i._getType()}`);const s=i.name?`${i.name}, `:"",o=typeof i.content=="string"?i.content:JSON.stringify(i.content,null,2);r.push(`${a}: ${s}${o}`)}return r.join(`
`)}function Qle(t){if(t.data!==void 0)return t;{const e=t;return{type:e.type,data:{content:e.text,role:e.role,name:void 0,tool_call_id:void 0}}}}function ek(t){const e=Qle(t);switch(e.type){case"human":return new ba(e.data);case"ai":return new os(e.data);case"system":return new ls(e.data);case"function":if(e.data.name===void 0)throw new Error("Name must be defined for function messages");return new cb(e.data);case"tool":if(e.data.tool_call_id===void 0)throw new Error("Tool call ID must be defined for tool messages");return new Of(e.data);case"generic":if(e.data.role===void 0)throw new Error("Role must be defined for chat messages");return new Kc(e.data);default:throw new Error(`Got unexpected type: ${e.type}`)}}function ece(t){return t.map(ek)}function tce(t){return t.map(e=>e.toDict())}function t0(t){var n;const e=t._getType();if(e==="human")return new tg({...t});if(e==="ai"){let r={...t};return"tool_calls"in r&&(r={...r,tool_call_chunks:(n=r.tool_calls)==null?void 0:n.map(i=>({...i,type:"tool_call_chunk",index:void 0,args:JSON.stringify(i.args)}))}),new lo({...r})}else{if(e==="system")return new wl({...t});if(e==="function")return new eg({...t});if(Kc.isInstance(t))return new Qm({...t});throw new Error("Unknown message type.")}}var I_={},nce={};wt(nce,{getEnv:()=>SU,getEnvironmentVariable:()=>Bs,getRuntimeEnvironment:()=>EU,isBrowser:()=>xU,isDeno:()=>ub,isJsDom:()=>wU,isNode:()=>_U,isWebWorker:()=>bU});const xU=()=>typeof window<"u"&&typeof window.document<"u",bU=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",wU=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),ub=()=>typeof Deno<"u",_U=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!ub(),SU=()=>{let t;return xU()?t="browser":_U()?t="node":bU()?t="webworker":wU()?t="jsdom":ub()?t="deno":t="other",t};let $_;function EU(){return $_===void 0&&($_={library:"langchain-js",runtime:SU()}),$_}function Bs(t){try{return typeof process<"u"?I_==null?void 0:I_[t]:ub()?Deno==null?void 0:Deno.env.get(t):void 0}catch{return}}const rce=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function Qh(t){return typeof t=="string"&&rce.test(t)}function ice(t){if(!Qh(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}var Mn=[];for(var R_=0;R_<256;++R_)Mn.push((R_+256).toString(16).slice(1));function tk(t,e=0){return(Mn[t[e+0]]+Mn[t[e+1]]+Mn[t[e+2]]+Mn[t[e+3]]+"-"+Mn[t[e+4]]+Mn[t[e+5]]+"-"+Mn[t[e+6]]+Mn[t[e+7]]+"-"+Mn[t[e+8]]+Mn[t[e+9]]+"-"+Mn[t[e+10]]+Mn[t[e+11]]+Mn[t[e+12]]+Mn[t[e+13]]+Mn[t[e+14]]+Mn[t[e+15]]).toLowerCase()}var ny,ace=new Uint8Array(16);function jU(){if(!ny&&(ny=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ny))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ny(ace)}function sce(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var oce="6ba7b810-9dad-11d1-80b4-00c04fd430c8",lce="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function cce(t,e,n){function r(i,a,s,o){var l;if(typeof i=="string"&&(i=sce(i)),typeof a=="string"&&(a=ice(a)),((l=a)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(a),c.set(i,a.length),c=n(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,s){o=o||0;for(var d=0;d<16;++d)s[o+d]=c[d];return s}return tk(c)}try{r.name=t}catch{}return r.DNS=oce,r.URL=lce,r}var uce=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const T2={randomUUID:uce};function jr(t,e,n){if(T2.randomUUID&&!e&&!t)return T2.randomUUID();t=t||{};var r=t.random||(t.rng||jU)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,tk(r)}function dce(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function M_(t,e){return t<<e|t>>>32-e}function fce(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var a=t.length/4+2,s=Math.ceil(a/16),o=new Array(s),l=0;l<s;++l){for(var c=new Uint32Array(16),d=0;d<16;++d)c[d]=t[l*64+d*4]<<24|t[l*64+d*4+1]<<16|t[l*64+d*4+2]<<8|t[l*64+d*4+3];o[l]=c}o[s-1][14]=(t.length-1)*8/Math.pow(2,32),o[s-1][14]=Math.floor(o[s-1][14]),o[s-1][15]=(t.length-1)*8&4294967295;for(var f=0;f<s;++f){for(var h=new Uint32Array(80),p=0;p<16;++p)h[p]=o[f][p];for(var m=16;m<80;++m)h[m]=M_(h[m-3]^h[m-8]^h[m-14]^h[m-16],1);for(var g=n[0],v=n[1],y=n[2],b=n[3],x=n[4],w=0;w<80;++w){var S=Math.floor(w/20),E=M_(g,5)+dce(S,v,y,b)+x+e[S]+h[w]>>>0;x=b,b=y,y=M_(v,30)>>>0,v=g,g=E}n[0]=n[0]+g>>>0,n[1]=n[1]+v>>>0,n[2]=n[2]+y>>>0,n[3]=n[3]+b>>>0,n[4]=n[4]+x>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var Nh=cce("v5",80,fce),k2=null,O2=null,qi=0;function hce(t,e,n){t=t||{};var r=e&&n||0,i=e||new Uint8Array(16),a=t.random||(t.rng||jU)(),s=t.msecs!==void 0?t.msecs:Date.now(),o=t.seq!==void 0?t.seq:null,l=O2,c=k2;return s>qi&&t.msecs===void 0&&(qi=s,o!==null&&(l=null,c=null)),o!==null&&(o>2147483647&&(o=2147483647),l=o>>>19&4095,c=o&524287),(l===null||c===null)&&(l=a[6]&127,l=l<<8|a[7],c=a[8]&63,c=c<<8|a[9],c=c<<5|a[10]>>>3),s+1e4>qi&&o===null?++c>524287&&(c=0,++l>4095&&(l=0,qi++)):qi=s,O2=l,k2=c,i[r++]=qi/1099511627776&255,i[r++]=qi/4294967296&255,i[r++]=qi/16777216&255,i[r++]=qi/65536&255,i[r++]=qi/256&255,i[r++]=qi&255,i[r++]=l>>>4&15|112,i[r++]=l&255,i[r++]=c>>>13&63|128,i[r++]=c>>>5&255,i[r++]=c<<3&255|a[10]&7,i[r++]=a[11],i[r++]=a[12],i[r++]=a[13],i[r++]=a[14],i[r++]=a[15],e||tk(i)}var pce={};wt(pce,{BaseCallbackHandler:()=>ng,callbackHandlerPrefersStreaming:()=>AU,isBaseCallbackHandler:()=>CU});var mce=class{};function AU(t){return"lc_prefer_streaming"in t&&t.lc_prefer_streaming}var ng=class extends mce{constructor(e){super();U(this,"lc_serializable",!1);U(this,"lc_kwargs");U(this,"ignoreLLM",!1);U(this,"ignoreChain",!1);U(this,"ignoreAgent",!1);U(this,"ignoreRetriever",!1);U(this,"ignoreCustomEvent",!1);U(this,"raiseError",!1);U(this,"awaitHandlers",Bs("LANGCHAIN_CALLBACKS_BACKGROUND")==="false");this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever,this.ignoreCustomEvent=e.ignoreCustomEvent??this.ignoreCustomEvent,this.raiseError=e.raiseError??this.raiseError,this.awaitHandlers=this.raiseError||(e._awaitHandler??this.awaitHandlers))}get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,GT(this.constructor)]}copy(){return new this.constructor(this)}toJSON(){return Fd.prototype.toJSON.call(this)}toJSONNotImplemented(){return Fd.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){class n extends ng{constructor(){super();U(this,"name",jr());Object.assign(this,e)}}return new n}};const CU=t=>{const e=t;return e!==void 0&&typeof e.copy=="function"&&typeof e.name=="string"&&typeof e.awaitHandlers=="boolean"},gce="gen_ai.operation.name",yce="gen_ai.system",N2="gen_ai.request.model",vce="gen_ai.response.model",P2="gen_ai.usage.input_tokens",I2="gen_ai.usage.output_tokens",$2="gen_ai.usage.total_tokens",xce="gen_ai.request.max_tokens",bce="gen_ai.request.temperature",wce="gen_ai.request.top_p",_ce="gen_ai.request.frequency_penalty",Sce="gen_ai.request.presence_penalty",Ece="gen_ai.response.finish_reasons",jce="gen_ai.prompt",Ace="gen_ai.completion",Cce="gen_ai.request.extra_query",Tce="gen_ai.request.extra_body",kce="gen_ai.serialized.name",Oce="gen_ai.serialized.signature",Nce="gen_ai.serialized.doc",Pce="gen_ai.response.id",Ice="gen_ai.response.service_tier",$ce="gen_ai.response.system_fingerprint",Rce="gen_ai.usage.input_token_details",Mce="gen_ai.usage.output_token_details",Lce="langsmith.trace.session_id",Dce="langsmith.trace.session_name",Fce="langsmith.span.kind",Bce="langsmith.trace.name",zce="langsmith.metadata",R2="langsmith.span.tags",Uce="langsmith.request.streaming",Hce="langsmith.request.headers",Vce=(...t)=>fetch(...t),TU=Symbol.for("ls:fetch_implementation"),Wce=()=>{const t=globalThis[TU];return t?typeof t=="function"&&"Headers"in t&&"Request"in t&&"Response"in t:!1},qce=t=>async(...e)=>{if(t||Ar("DEBUG")==="true"){const[r,i]=e;console.log(` ${(i==null?void 0:i.method)||"GET"} ${r}`)}const n=await(globalThis[TU]??Vce)(...e);return(t||Ar("DEBUG")==="true")&&console.log(` ${n.status} ${n.statusText} ${n.url}`),n},kU=()=>Ar("PROJECT")??cs("LANGCHAIN_SESSION")??"default",M2={};function ME(t){M2[t]||(console.warn(t),M2[t]=!0)}const Gce=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Ye(t,e){if(!Gce.test(t)){const n=e!==void 0?`Invalid UUID for ${e}: ${t}`:`Invalid UUID: ${t}`;throw new Error(n)}return t}function Kce(t){const e=typeof t=="string"?Date.parse(t):t;return hce({msecs:e,seq:0})}const OU="0.3.82";var ep={};let Ra;const Yce=()=>typeof window<"u"&&typeof window.document<"u",Xce=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",Zce=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),NU=()=>typeof Deno<"u",Jce=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!NU(),PU=()=>Ra||(typeof Bun<"u"?Ra="bun":Yce()?Ra="browser":Jce()?Ra="node":Xce()?Ra="webworker":Zce()?Ra="jsdom":NU()?Ra="deno":Ra="other",Ra);let L_;function IU(){if(L_===void 0){const t=PU(),e=eue();L_={library:"langsmith",runtime:t,sdk:"langsmith-js",sdk_version:OU,...e}}return L_}function $U(){const t=Qce(),e={},n=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION","LANGSMITH_API_KEY","LANGSMITH_ENDPOINT","LANGSMITH_TRACING_V2","LANGSMITH_PROJECT","LANGSMITH_SESSION"];for(const[r,i]of Object.entries(t))typeof i=="string"&&!n.includes(r)&&!r.toLowerCase().includes("key")&&!r.toLowerCase().includes("secret")&&!r.toLowerCase().includes("token")&&(r==="LANGCHAIN_REVISION_ID"?e.revision_id=i:e[r]=i);return e}function Qce(){const t={};try{if(typeof process<"u"&&ep)for(const[e,n]of Object.entries(ep))(e.startsWith("LANGCHAIN_")||e.startsWith("LANGSMITH_"))&&n!=null&&((e.toLowerCase().includes("key")||e.toLowerCase().includes("secret")||e.toLowerCase().includes("token"))&&typeof n=="string"?t[e]=n.slice(0,2)+"*".repeat(n.length-4)+n.slice(-2):t[e]=n)}catch{}return t}function cs(t){try{return typeof process<"u"?ep==null?void 0:ep[t]:void 0}catch{return}}function Ar(t){return cs(`LANGSMITH_${t}`)||cs(`LANGCHAIN_${t}`)}let D_;function eue(){if(D_!==void 0)return D_;const t=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],e={};for(const n of t){const r=cs(n);r!==void 0&&(e[n]=r)}return D_=e,e}function RU(){return cs("OTEL_ENABLED")==="true"||Ar("OTEL_ENABLED")==="true"}class tue{constructor(){Object.defineProperty(this,"hasWarned",{enumerable:!0,configurable:!0,writable:!0,value:!1})}startActiveSpan(e,...n){!this.hasWarned&&RU()&&(console.warn('You have enabled OTEL export via the `OTEL_ENABLED` or `LANGSMITH_OTEL_ENABLED` environment variable, but have not initialized the required OTEL instances. Please add:\n```\nimport { initializeOTEL } from "langsmith/experimental/otel/setup";\ninitializeOTEL();\n```\nat the beginning of your code.'),this.hasWarned=!0);let r;if(n.length===1&&typeof n[0]=="function"?r=n[0]:n.length===2&&typeof n[1]=="function"?r=n[1]:n.length===3&&typeof n[2]=="function"&&(r=n[2]),typeof r=="function")return r()}}class nue{constructor(){Object.defineProperty(this,"mockTracer",{enumerable:!0,configurable:!0,writable:!0,value:new tue})}getTracer(e,n){return this.mockTracer}getActiveSpan(){}setSpan(e,n){return e}getSpan(e){}setSpanContext(e,n){return e}getTracerProvider(){}setGlobalTracerProvider(e){return!1}}class rue{active(){return{}}with(e,n){return n()}}const F_=Symbol.for("ls:otel_trace"),B_=Symbol.for("ls:otel_context"),L2=Symbol.for("ls:otel_get_default_otlp_tracer_provider"),iue=new nue,aue=new rue;class sue{getTraceInstance(){return globalThis[F_]??iue}getContextInstance(){return globalThis[B_]??aue}initializeGlobalInstances(e){globalThis[F_]===void 0&&(globalThis[F_]=e.trace),globalThis[B_]===void 0&&(globalThis[B_]=e.context)}setDefaultOTLPTracerComponents(e){globalThis[L2]=e}getDefaultOTLPTracerComponents(){return globalThis[L2]??void 0}}const nk=new sue;function MU(){return nk.getTraceInstance()}function oue(){return nk.getContextInstance()}function lue(){return nk.getDefaultOTLPTracerComponents()}const cue={llm:"chat",tool:"execute_tool",retriever:"embeddings",embedding:"embeddings",prompt:"chat"};function uue(t){return cue[t]||t}class due{constructor(){Object.defineProperty(this,"spans",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}exportBatch(e,n){for(const r of e)try{if(!r.run)continue;if(r.operation==="post"){const i=this.createSpanForRun(r,r.run,n.get(r.id));i&&!r.run.end_time&&this.spans.set(r.id,i)}else this.updateSpanForRun(r,r.run)}catch(i){console.error(`Error processing operation ${r.id}:`,i)}}createSpanForRun(e,n,r){const i=r&&MU().getSpan(r);if(i)try{return this.finishSpanSetup(i,n,e)}catch(a){console.error(`Failed to create span for run ${e.id}:`,a);return}}finishSpanSetup(e,n,r){return this.setSpanAttributes(e,n,r),n.error?(e.setStatus({code:2}),e.recordException(new Error(n.error))):e.setStatus({code:1}),n.end_time&&e.end(new Date(n.end_time)),e}updateSpanForRun(e,n){try{const r=this.spans.get(e.id);if(!r){console.debug(`No span found for run ${e.id} during update`);return}this.setSpanAttributes(r,n,e),n.error?(r.setStatus({code:2}),r.recordException(new Error(n.error))):r.setStatus({code:1});const i=n.end_time;i&&(r.end(new Date(i)),this.spans.delete(e.id))}catch(r){console.error(`Failed to update span for run ${e.id}:`,r)}}extractModelName(e){var n;if((n=e.extra)!=null&&n.metadata){const r=e.extra.metadata;if(r.ls_model_name)return r.ls_model_name;if(r.invocation_params){const i=r.invocation_params;if(i.model)return i.model;if(i.model_name)return i.model_name}}}setSpanAttributes(e,n,r){var o;if("run_type"in n&&n.run_type){e.setAttribute(Fce,n.run_type);const l=uue(n.run_type||"chain");e.setAttribute(gce,l)}"name"in n&&n.name&&e.setAttribute(Bce,n.name),"session_id"in n&&n.session_id&&e.setAttribute(Lce,n.session_id),"session_name"in n&&n.session_name&&e.setAttribute(Dce,n.session_name),this.setGenAiSystem(e,n);const i=this.extractModelName(n);i&&e.setAttribute(N2,i),"prompt_tokens"in n&&typeof n.prompt_tokens=="number"&&e.setAttribute(P2,n.prompt_tokens),"completion_tokens"in n&&typeof n.completion_tokens=="number"&&e.setAttribute(I2,n.completion_tokens),"total_tokens"in n&&typeof n.total_tokens=="number"&&e.setAttribute($2,n.total_tokens),this.setInvocationParameters(e,n);const a=((o=n.extra)==null?void 0:o.metadata)||{};for(const[l,c]of Object.entries(a))c!=null&&e.setAttribute(`${zce}.${l}`,String(c));const s=n.tags;if(s&&Array.isArray(s)?e.setAttribute(R2,s.join(", ")):s&&e.setAttribute(R2,String(s)),"serialized"in n&&typeof n.serialized=="object"){const l=n.serialized;l.name&&e.setAttribute(kce,String(l.name)),l.signature&&e.setAttribute(Oce,String(l.signature)),l.doc&&e.setAttribute(Nce,String(l.doc))}this.setIOAttributes(e,r)}setGenAiSystem(e,n){let r="langchain";const i=this.extractModelName(n);if(i){const a=i.toLowerCase();a.includes("anthropic")||a.startsWith("claude")?r="anthropic":a.includes("bedrock")?r="aws.bedrock":a.includes("azure")&&a.includes("openai")?r="az.ai.openai":a.includes("azure")&&a.includes("inference")?r="az.ai.inference":a.includes("cohere")?r="cohere":a.includes("deepseek")?r="deepseek":a.includes("gemini")?r="gemini":a.includes("groq")?r="groq":a.includes("watson")||a.includes("ibm")?r="ibm.watsonx.ai":a.includes("mistral")?r="mistral_ai":a.includes("gpt")||a.includes("openai")?r="openai":a.includes("perplexity")||a.includes("sonar")?r="perplexity":a.includes("vertex")?r="vertex_ai":(a.includes("xai")||a.includes("grok"))&&(r="xai")}e.setAttribute(yce,r)}setInvocationParameters(e,n){var i,a;if(!((a=(i=n.extra)==null?void 0:i.metadata)!=null&&a.invocation_params))return;const r=n.extra.metadata.invocation_params;r.max_tokens!==void 0&&e.setAttribute(xce,r.max_tokens),r.temperature!==void 0&&e.setAttribute(bce,r.temperature),r.top_p!==void 0&&e.setAttribute(wce,r.top_p),r.frequency_penalty!==void 0&&e.setAttribute(_ce,r.frequency_penalty),r.presence_penalty!==void 0&&e.setAttribute(Sce,r.presence_penalty)}setIOAttributes(e,n){if(n.run.inputs)try{const r=n.run.inputs;typeof r=="object"&&r!==null&&(r.model&&Array.isArray(r.messages)&&e.setAttribute(N2,r.model),r.stream!==void 0&&e.setAttribute(Uce,r.stream),r.extra_headers&&e.setAttribute(Hce,JSON.stringify(r.extra_headers)),r.extra_query&&e.setAttribute(Cce,JSON.stringify(r.extra_query)),r.extra_body&&e.setAttribute(Tce,JSON.stringify(r.extra_body))),e.setAttribute(jce,JSON.stringify(r))}catch(r){console.debug(`Failed to process inputs for run ${n.id}`,r)}if(n.run.outputs)try{const r=n.run.outputs,i=this.getUnifiedRunTokens(r);if(i&&(e.setAttribute(P2,i[0]),e.setAttribute(I2,i[1]),e.setAttribute($2,i[0]+i[1])),r&&typeof r=="object"){if(r.model&&e.setAttribute(vce,String(r.model)),r.id&&e.setAttribute(Pce,r.id),r.choices&&Array.isArray(r.choices)){const a=r.choices.map(s=>s.finish_reason).filter(s=>s).map(String);a.length>0&&e.setAttribute(Ece,a.join(", "))}if(r.service_tier&&e.setAttribute(Ice,r.service_tier),r.system_fingerprint&&e.setAttribute($ce,r.system_fingerprint),r.usage_metadata&&typeof r.usage_metadata=="object"){const a=r.usage_metadata;a.input_token_details&&e.setAttribute(Rce,JSON.stringify(a.input_token_details)),a.output_token_details&&e.setAttribute(Mce,JSON.stringify(a.output_token_details))}}e.setAttribute(Ace,JSON.stringify(r))}catch(r){console.debug(`Failed to process outputs for run ${n.id}`,r)}}getUnifiedRunTokens(e){if(!e)return null;let n=this.extractUnifiedRunTokens(e.usage_metadata);if(n)return n;const r=Object.keys(e);for(const s of r){const o=e[s];if(!(!o||typeof o!="object")&&(n=this.extractUnifiedRunTokens(o.usage_metadata),n||o.lc===1&&o.kwargs&&typeof o.kwargs=="object"&&(n=this.extractUnifiedRunTokens(o.kwargs.usage_metadata),n)))return n}const i=e.generations||[];if(!Array.isArray(i))return null;const a=Array.isArray(i[0])?i.flat():i;for(const s of a)if(typeof s=="object"&&s.message&&typeof s.message=="object"&&s.message.kwargs&&typeof s.message.kwargs=="object"&&(n=this.extractUnifiedRunTokens(s.message.kwargs.usage_metadata),n))return n;return null}extractUnifiedRunTokens(e){return!e||typeof e!="object"||typeof e.input_tokens!="number"||typeof e.output_tokens!="number"?null:[e.input_tokens,e.output_tokens]}}const fue=Object.prototype.toString,hue=t=>fue.call(t)==="[object Error]",pue=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function mue(t){if(!(t&&hue(t)&&t.name==="TypeError"&&typeof t.message=="string"))return!1;const{message:n,stack:r}=t;return n==="Load failed"?r===void 0||"__sentry_captured__"in t:n.startsWith("error sending request for url")?!0:pue.has(n)}function gue(t){if(typeof t=="number"){if(t<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(t))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(t!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function ry(t,e,{min:n=0,allowInfinity:r=!1}={}){if(e!==void 0){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected \`${t}\` to be a number${r?" or Infinity":""}.`);if(!r&&!Number.isFinite(e))throw new TypeError(`Expected \`${t}\` to be a finite number.`);if(e<n)throw new TypeError(`Expected \`${t}\` to be  ${n}.`)}}let yue=class extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}};function vue(t,e){const n=Math.max(1,t+1),r=e.randomize?Math.random()+1:1;let i=Math.round(r*e.minTimeout*e.factor**(n-1));return i=Math.min(i,e.maxTimeout),i}function D2(t,e){return Number.isFinite(e)?e-(performance.now()-t):e}async function xue({error:t,attemptNumber:e,retriesConsumed:n,startTime:r,options:i}){var p,m,g;const a=t instanceof Error?t:new TypeError(`Non-error was thrown: "${t}". You should only throw errors.`);if(a instanceof yue)throw a.originalError;const s=Number.isFinite(i.retries)?Math.max(0,i.retries-n):i.retries,o=i.maxRetryTime??Number.POSITIVE_INFINITY,l=Object.freeze({error:a,attemptNumber:e,retriesLeft:s,retriesConsumed:n});if(await i.onFailedAttempt(l),D2(r,o)<=0)throw a;const c=await i.shouldConsumeRetry(l),d=D2(r,o);if(d<=0||s<=0)throw a;if(a instanceof TypeError&&!mue(a)){if(c)throw a;return(p=i.signal)==null||p.throwIfAborted(),!1}if(!await i.shouldRetry(l))throw a;if(!c)return(m=i.signal)==null||m.throwIfAborted(),!1;const f=vue(n,i),h=Math.min(f,d);return h>0&&await new Promise((v,y)=>{var w,S;const b=()=>{var E;clearTimeout(x),(E=i.signal)==null||E.removeEventListener("abort",b),y(i.signal.reason)},x=setTimeout(()=>{var E;(E=i.signal)==null||E.removeEventListener("abort",b),v()},h);i.unref&&((w=x.unref)==null||w.call(x)),(S=i.signal)==null||S.addEventListener("abort",b,{once:!0})}),(g=i.signal)==null||g.throwIfAborted(),!0}async function bue(t,e={}){var a,s,o;if(e={...e},gue(e.retries),Object.hasOwn(e,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");e.retries??(e.retries=10),e.factor??(e.factor=2),e.minTimeout??(e.minTimeout=1e3),e.maxTimeout??(e.maxTimeout=Number.POSITIVE_INFINITY),e.maxRetryTime??(e.maxRetryTime=Number.POSITIVE_INFINITY),e.randomize??(e.randomize=!1),e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.shouldConsumeRetry??(e.shouldConsumeRetry=()=>!0),ry("factor",e.factor,{min:0,allowInfinity:!1}),ry("minTimeout",e.minTimeout,{min:0,allowInfinity:!1}),ry("maxTimeout",e.maxTimeout,{min:0,allowInfinity:!0}),ry("maxRetryTime",e.maxRetryTime,{min:0,allowInfinity:!0}),e.factor>0||(e.factor=1),(a=e.signal)==null||a.throwIfAborted();let n=0,r=0;const i=performance.now();for(;!Number.isFinite(e.retries)||r<=e.retries;){n++;try{(s=e.signal)==null||s.throwIfAborted();const l=await t(n);return(o=e.signal)==null||o.throwIfAborted(),l}catch(l){await xue({error:l,attemptNumber:n,retriesConsumed:r,startTime:i,options:e})&&r++}}throw new Error("Retry attempts exhausted without throwing an error.")}var LU={},DU={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function a(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||l,h),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},o.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,h,p,m){var g=n?n+c:c;if(!this._events[g])return!1;var v=this._events[g],y=arguments.length,b,x;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,m),!0}for(x=1,b=new Array(y-1);x<y;x++)b[x-1]=arguments[x];v.fn.apply(v.context,b)}else{var w=v.length,S;for(x=0;x<w;x++)switch(v[x].once&&this.removeListener(c,v[x].fn,void 0,!0),y){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,d);break;case 3:v[x].fn.call(v[x].context,d,f);break;case 4:v[x].fn.call(v[x].context,d,f,h);break;default:if(!b)for(S=1,b=new Array(y-1);S<y;S++)b[S-1]=arguments[S];v[x].fn.apply(v[x].context,b)}}return!0},o.prototype.on=function(c,d,f){return a(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return a(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,h){var p=n?n+c:c;if(!this._events[p])return this;if(!d)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&s(this,p);else{for(var g=0,v=[],y=m.length;g<y;g++)(m[g].fn!==d||h&&!m[g].once||f&&m[g].context!==f)&&v.push(m[g]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(DU);var FU=DU.exports;const wue=at(FU);var db={exports:{}},_ue=(t,e)=>(e=e||(()=>{}),t.then(n=>new Promise(r=>{r(e())}).then(()=>n),n=>new Promise(r=>{r(e())}).then(()=>{throw n})));const Sue=_ue;class BU extends Error{constructor(e){super(e),this.name="TimeoutError"}}const zU=(t,e,n)=>new Promise((r,i)=>{if(typeof e!="number"||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===1/0){r(t);return}const a=setTimeout(()=>{if(typeof n=="function"){try{r(n())}catch(l){i(l)}return}const s=typeof n=="string"?n:`Promise timed out after ${e} milliseconds`,o=n instanceof Error?n:new BU(s);typeof t.cancel=="function"&&t.cancel(),i(o)},e);Sue(t.then(r,i),()=>{clearTimeout(a)})});db.exports=zU;db.exports.default=zU;db.exports.TimeoutError=BU;var Eue=db.exports,rk={},ik={};Object.defineProperty(ik,"__esModule",{value:!0});function jue(t,e,n){let r=0,i=t.length;for(;i>0;){const a=i/2|0;let s=r+a;n(t[s],e)<=0?(r=++s,i-=a+1):i=a}return r}ik.default=jue;Object.defineProperty(rk,"__esModule",{value:!0});const Aue=ik;class Cue{constructor(){this._queue=[]}enqueue(e,n){n=Object.assign({priority:0},n);const r={priority:n.priority,run:e};if(this.size&&this._queue[this.size-1].priority>=n.priority){this._queue.push(r);return}const i=Aue.default(this._queue,r,(a,s)=>s.priority-a.priority);this._queue.splice(i,0,r)}dequeue(){const e=this._queue.shift();return e==null?void 0:e.run}filter(e){return this._queue.filter(n=>n.priority===e.priority).map(n=>n.run)}get size(){return this._queue.length}}rk.default=Cue;Object.defineProperty(LU,"__esModule",{value:!0});const Tue=FU,UU=Eue,kue=rk,iy=()=>{},Oue=new UU.TimeoutError;class Nue extends Tue{constructor(e){var n,r,i,a;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=iy,this._resolveIdle=iy,e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:kue.default},e),!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(r=(n=e.intervalCap)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(a=(i=e.interval)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||e.interval===0,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=e.throwOnTimeout===!0,this._isPaused=e.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=iy,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=iy,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(this._intervalId===void 0){const n=this._intervalEnd-e;if(n<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},n)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const n=this._queue.dequeue();return n?(this.emit("active"),n(),e&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,n={}){return new Promise((r,i)=>{const a=async()=>{this._pendingCount++,this._intervalCount++;try{const s=this._timeout===void 0&&n.timeout===void 0?e():UU.default(Promise.resolve(e()),n.timeout===void 0?this._timeout:n.timeout,()=>{(n.throwOnTimeout===void 0?this._throwOnTimeout:n.throwOnTimeout)&&i(Oue)});r(await s)}catch(s){i(s)}this._next()};this._queue.enqueue(a,n),this._tryToStartAnother(),this.emit("add")})}async addAll(e,n){return Promise.all(e.map(async r=>this.add(r,n)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(e=>{const n=this._resolveEmpty;this._resolveEmpty=()=>{n(),e()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(e=>{const n=this._resolveIdle;this._resolveIdle=()=>{n(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}var zs=LU.default=Nue;const Pue=[408,425,429,500,502,503,504];let F2=class{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxQueueSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queueSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.maxQueueSizeBytes=e.maxQueueSizeBytes,"default"in zs?this.queue=new zs.default({concurrency:this.maxConcurrency}):this.queue=new zs({concurrency:this.maxConcurrency}),this.onFailedResponseHook=e==null?void 0:e.onFailedResponseHook}call(e,...n){return this.callWithOptions({},e,...n)}callWithOptions(e,n,...r){const i=e.sizeBytes??0;if(this.maxQueueSizeBytes!==void 0&&i>0&&this.queueSizeBytes+i>this.maxQueueSizeBytes)return Promise.reject(new Error(`Queue size limit (${this.maxQueueSizeBytes} bytes) exceeded. Current queue size: ${this.queueSizeBytes} bytes, attempted addition: ${i} bytes.`));i>0&&(this.queueSizeBytes+=i);const a=this.onFailedResponseHook;let s=this.queue.add(()=>bue(()=>n(...r).catch(o=>{throw o instanceof Error?o:new Error(o)}),{async onFailedAttempt({error:o}){if(o.message.startsWith("Cancel")||o.message.startsWith("TimeoutError")||o.name==="TimeoutError"||o.message.startsWith("AbortError")||(o==null?void 0:o.code)==="ECONNABORTED")throw o;const l=o==null?void 0:o.response;if(a&&await a(l))return;const c=(l==null?void 0:l.status)??(o==null?void 0:o.status);if(c&&!Pue.includes(+c))throw o},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0});return i>0&&(s=s.finally(()=>{this.queueSizeBytes-=i})),e.signal?Promise.race([s,new Promise((o,l)=>{var c;(c=e.signal)==null||c.addEventListener("abort",()=>{l(new Error("AbortError"))})})]):s}};function B2(t){return typeof(t==null?void 0:t._getType)=="function"}function z2(t){const e={type:t._getType(),data:{content:t.content}};return t!=null&&t.additional_kwargs&&Object.keys(t.additional_kwargs).length>0&&(e.data.additional_kwargs={...t.additional_kwargs}),e}var LE={exports:{}};const Iue="2.0.0",HU=256,$ue=Number.MAX_SAFE_INTEGER||9007199254740991,Rue=16,Mue=HU-6,Lue=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var fb={MAX_LENGTH:HU,MAX_SAFE_COMPONENT_LENGTH:Rue,MAX_SAFE_BUILD_LENGTH:Mue,MAX_SAFE_INTEGER:$ue,RELEASE_TYPES:Lue,SEMVER_SPEC_VERSION:Iue,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},z_={};const Due=typeof process=="object"&&z_&&z_.NODE_DEBUG&&/\bsemver\b/i.test(z_.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var hb=Due;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=fb,a=hb;e=t.exports={};const s=e.re=[],o=e.safeRe=[],l=e.src=[],c=e.t={};let d=0;const f="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[f,r]],p=g=>{for(const[v,y]of h)g=g.split(`${v}*`).join(`${v}{0,${y}}`).split(`${v}+`).join(`${v}{1,${y}}`);return g},m=(g,v,y)=>{const b=p(v),x=d++;a(g,x,v),c[g]=x,l[x]=v,s[x]=new RegExp(v,y?"g":void 0),o[x]=new RegExp(b,y?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),m("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${l[c.NUMERICIDENTIFIER]}|${l[c.NONNUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NUMERICIDENTIFIERLOOSE]}|${l[c.NONNUMERICIDENTIFIER]})`),m("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${f}+`),m("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),m("FULL",`^${l[c.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),m("LOOSE",`^${l[c.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),m("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),m("COERCE",`${l[c.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",l[c.COERCEPLAIN]+`(?:${l[c.PRERELEASE]})?(?:${l[c.BUILD]})?(?:$|[^\\d])`),m("COERCERTL",l[c.COERCE],!0),m("COERCERTLFULL",l[c.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",m("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",m("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(LE,LE.exports);var rg=LE.exports;const Fue=Object.freeze({loose:!0}),Bue=Object.freeze({}),zue=t=>t?typeof t!="object"?Fue:t:Bue;var ak=zue;const U2=/^[0-9]+$/,VU=(t,e)=>{const n=U2.test(t),r=U2.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},Uue=(t,e)=>VU(e,t);var WU={compareIdentifiers:VU,rcompareIdentifiers:Uue};const ay=hb,{MAX_LENGTH:H2,MAX_SAFE_INTEGER:sy}=fb,{safeRe:V2,t:W2}=rg,Hue=ak,{compareIdentifiers:fu}=WU;let Vue=class La{constructor(e,n){if(n=Hue(n),e instanceof La){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>H2)throw new TypeError(`version is longer than ${H2} characters`);ay("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=e.trim().match(n.loose?V2[W2.LOOSE]:V2[W2.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>sy||this.major<0)throw new TypeError("Invalid major version");if(this.minor>sy||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>sy||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const a=+i;if(a>=0&&a<sy)return a}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(ay("SemVer.compare",this.version,this.options,e),!(e instanceof La)){if(typeof e=="string"&&e===this.version)return 0;e=new La(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof La||(e=new La(e,this.options)),fu(this.major,e.major)||fu(this.minor,e.minor)||fu(this.patch,e.patch)}comparePre(e){if(e instanceof La||(e=new La(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=e.prerelease[n];if(ay("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return fu(r,i)}while(++n)}compareBuild(e){e instanceof La||(e=new La(e,this.options));let n=0;do{const r=this.build[n],i=e.build[n];if(ay("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return fu(r,i)}while(++n)}inc(e,n,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let a=[n,i];r===!1&&(a=[n]),fu(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var yr=Vue;const q2=yr,Wue=(t,e,n=!1)=>{if(t instanceof q2)return t;try{return new q2(t,e)}catch(r){if(!n)return null;throw r}};var Nf=Wue;const que=Nf,Gue=(t,e)=>{const n=que(t,e);return n?n.version:null};var Kue=Gue;const Yue=Nf,Xue=(t,e)=>{const n=Yue(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};var Zue=Xue;const G2=yr,Jue=(t,e,n,r,i)=>{typeof n=="string"&&(i=r,r=n,n=void 0);try{return new G2(t instanceof G2?t.version:t,n).inc(e,r,i).version}catch{return null}};var Que=Jue;const K2=Nf,ede=(t,e)=>{const n=K2(t,null,!0),r=K2(e,null,!0),i=n.compare(r);if(i===0)return null;const a=i>0,s=a?n:r,o=a?r:n,l=!!s.prerelease.length;if(!!o.prerelease.length&&!l)return!o.patch&&!o.minor?"major":s.patch?"patch":s.minor?"minor":"major";const d=l?"pre":"";return n.major!==r.major?d+"major":n.minor!==r.minor?d+"minor":n.patch!==r.patch?d+"patch":"prerelease"};var tde=ede;const nde=yr,rde=(t,e)=>new nde(t,e).major;var ide=rde;const ade=yr,sde=(t,e)=>new ade(t,e).minor;var ode=sde;const lde=yr,cde=(t,e)=>new lde(t,e).patch;var ude=cde;const dde=Nf,fde=(t,e)=>{const n=dde(t,e);return n&&n.prerelease.length?n.prerelease:null};var hde=fde;const Y2=yr,pde=(t,e,n)=>new Y2(t,n).compare(new Y2(e,n));var ja=pde;const mde=ja,gde=(t,e,n)=>mde(e,t,n);var yde=gde;const vde=ja,xde=(t,e)=>vde(t,e,!0);var bde=xde;const X2=yr,wde=(t,e,n)=>{const r=new X2(t,n),i=new X2(e,n);return r.compare(i)||r.compareBuild(i)};var sk=wde;const _de=sk,Sde=(t,e)=>t.sort((n,r)=>_de(n,r,e));var Ede=Sde;const jde=sk,Ade=(t,e)=>t.sort((n,r)=>jde(r,n,e));var Cde=Ade;const Tde=ja,kde=(t,e,n)=>Tde(t,e,n)>0;var pb=kde;const Ode=ja,Nde=(t,e,n)=>Ode(t,e,n)<0;var ok=Nde;const Pde=ja,Ide=(t,e,n)=>Pde(t,e,n)===0;var qU=Ide;const $de=ja,Rde=(t,e,n)=>$de(t,e,n)!==0;var GU=Rde;const Mde=ja,Lde=(t,e,n)=>Mde(t,e,n)>=0;var lk=Lde;const Dde=ja,Fde=(t,e,n)=>Dde(t,e,n)<=0;var ck=Fde;const Bde=qU,zde=GU,Ude=pb,Hde=lk,Vde=ok,Wde=ck,qde=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return Bde(t,n,r);case"!=":return zde(t,n,r);case">":return Ude(t,n,r);case">=":return Hde(t,n,r);case"<":return Vde(t,n,r);case"<=":return Wde(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};var KU=qde;const Gde=yr,Kde=Nf,{safeRe:oy,t:ly}=rg,Yde=(t,e)=>{if(t instanceof Gde)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?oy[ly.COERCEFULL]:oy[ly.COERCE]);else{const l=e.includePrerelease?oy[ly.COERCERTLFULL]:oy[ly.COERCERTL];let c;for(;(c=l.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||c.index+c[0].length!==n.index+n[0].length)&&(n=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(n===null)return null;const r=n[2],i=n[3]||"0",a=n[4]||"0",s=e.includePrerelease&&n[5]?`-${n[5]}`:"",o=e.includePrerelease&&n[6]?`+${n[6]}`:"";return Kde(`${r}.${i}.${a}${s}${o}`,e)};var Xde=Yde;class Zde{constructor(){this.max=1e3,this.map=new Map}get(e){const n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(e,n)}return this}}var Jde=Zde,U_,Z2;function Aa(){if(Z2)return U_;Z2=1;const t=/\s+/g;class e{constructor(D,z){if(z=i(z),D instanceof e)return D.loose===!!z.loose&&D.includePrerelease===!!z.includePrerelease?D:new e(D.raw,z);if(D instanceof a)return this.raw=D.value,this.set=[[D]],this.formatted=void 0,this;if(this.options=z,this.loose=!!z.loose,this.includePrerelease=!!z.includePrerelease,this.raw=D.trim().replace(t," "),this.set=this.raw.split("||").map(V=>this.parseRange(V.trim())).filter(V=>V.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const V=this.set[0];if(this.set=this.set.filter(M=>!g(M[0])),this.set.length===0)this.set=[V];else if(this.set.length>1){for(const M of this.set)if(M.length===1&&v(M[0])){this.set=[M];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let D=0;D<this.set.length;D++){D>0&&(this.formatted+="||");const z=this.set[D];for(let V=0;V<z.length;V++)V>0&&(this.formatted+=" "),this.formatted+=z[V].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(D){const V=((this.options.includePrerelease&&p)|(this.options.loose&&m))+":"+D,M=r.get(V);if(M)return M;const L=this.options.loose,P=L?l[c.HYPHENRANGELOOSE]:l[c.HYPHENRANGE];D=D.replace(P,N(this.options.includePrerelease)),s("hyphen replace",D),D=D.replace(l[c.COMPARATORTRIM],d),s("comparator trim",D),D=D.replace(l[c.TILDETRIM],f),s("tilde trim",D),D=D.replace(l[c.CARETTRIM],h),s("caret trim",D);let W=D.split(" ").map(ie=>b(ie,this.options)).join(" ").split(/\s+/).map(ie=>k(ie,this.options));L&&(W=W.filter(ie=>(s("loose invalid filter",ie,this.options),!!ie.match(l[c.COMPARATORLOOSE])))),s("range list",W);const G=new Map,$=W.map(ie=>new a(ie,this.options));for(const ie of $){if(g(ie))return[ie];G.set(ie.value,ie)}G.size>1&&G.has("")&&G.delete("");const te=[...G.values()];return r.set(V,te),te}intersects(D,z){if(!(D instanceof e))throw new TypeError("a Range is required");return this.set.some(V=>y(V,z)&&D.set.some(M=>y(M,z)&&V.every(L=>M.every(P=>L.intersects(P,z)))))}test(D){if(!D)return!1;if(typeof D=="string")try{D=new o(D,this.options)}catch{return!1}for(let z=0;z<this.set.length;z++)if(H(this.set[z],D,this.options))return!0;return!1}}U_=e;const n=Jde,r=new n,i=ak,a=mb(),s=hb,o=yr,{safeRe:l,t:c,comparatorTrimReplace:d,tildeTrimReplace:f,caretTrimReplace:h}=rg,{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:m}=fb,g=R=>R.value==="<0.0.0-0",v=R=>R.value==="",y=(R,D)=>{let z=!0;const V=R.slice();let M=V.pop();for(;z&&V.length;)z=V.every(L=>M.intersects(L,D)),M=V.pop();return z},b=(R,D)=>(s("comp",R,D),R=E(R,D),s("caret",R),R=w(R,D),s("tildes",R),R=j(R,D),s("xrange",R),R=T(R,D),s("stars",R),R),x=R=>!R||R.toLowerCase()==="x"||R==="*",w=(R,D)=>R.trim().split(/\s+/).map(z=>S(z,D)).join(" "),S=(R,D)=>{const z=D.loose?l[c.TILDELOOSE]:l[c.TILDE];return R.replace(z,(V,M,L,P,W)=>{s("tilde",R,V,M,L,P,W);let G;return x(M)?G="":x(L)?G=`>=${M}.0.0 <${+M+1}.0.0-0`:x(P)?G=`>=${M}.${L}.0 <${M}.${+L+1}.0-0`:W?(s("replaceTilde pr",W),G=`>=${M}.${L}.${P}-${W} <${M}.${+L+1}.0-0`):G=`>=${M}.${L}.${P} <${M}.${+L+1}.0-0`,s("tilde return",G),G})},E=(R,D)=>R.trim().split(/\s+/).map(z=>A(z,D)).join(" "),A=(R,D)=>{s("caret",R,D);const z=D.loose?l[c.CARETLOOSE]:l[c.CARET],V=D.includePrerelease?"-0":"";return R.replace(z,(M,L,P,W,G)=>{s("caret",R,M,L,P,W,G);let $;return x(L)?$="":x(P)?$=`>=${L}.0.0${V} <${+L+1}.0.0-0`:x(W)?L==="0"?$=`>=${L}.${P}.0${V} <${L}.${+P+1}.0-0`:$=`>=${L}.${P}.0${V} <${+L+1}.0.0-0`:G?(s("replaceCaret pr",G),L==="0"?P==="0"?$=`>=${L}.${P}.${W}-${G} <${L}.${P}.${+W+1}-0`:$=`>=${L}.${P}.${W}-${G} <${L}.${+P+1}.0-0`:$=`>=${L}.${P}.${W}-${G} <${+L+1}.0.0-0`):(s("no pr"),L==="0"?P==="0"?$=`>=${L}.${P}.${W}${V} <${L}.${P}.${+W+1}-0`:$=`>=${L}.${P}.${W}${V} <${L}.${+P+1}.0-0`:$=`>=${L}.${P}.${W} <${+L+1}.0.0-0`),s("caret return",$),$})},j=(R,D)=>(s("replaceXRanges",R,D),R.split(/\s+/).map(z=>C(z,D)).join(" ")),C=(R,D)=>{R=R.trim();const z=D.loose?l[c.XRANGELOOSE]:l[c.XRANGE];return R.replace(z,(V,M,L,P,W,G)=>{s("xRange",R,V,M,L,P,W,G);const $=x(L),te=$||x(P),ie=te||x(W),I=ie;return M==="="&&I&&(M=""),G=D.includePrerelease?"-0":"",$?M===">"||M==="<"?V="<0.0.0-0":V="*":M&&I?(te&&(P=0),W=0,M===">"?(M=">=",te?(L=+L+1,P=0,W=0):(P=+P+1,W=0)):M==="<="&&(M="<",te?L=+L+1:P=+P+1),M==="<"&&(G="-0"),V=`${M+L}.${P}.${W}${G}`):te?V=`>=${L}.0.0${G} <${+L+1}.0.0-0`:ie&&(V=`>=${L}.${P}.0${G} <${L}.${+P+1}.0-0`),s("xRange return",V),V})},T=(R,D)=>(s("replaceStars",R,D),R.trim().replace(l[c.STAR],"")),k=(R,D)=>(s("replaceGTE0",R,D),R.trim().replace(l[D.includePrerelease?c.GTE0PRE:c.GTE0],"")),N=R=>(D,z,V,M,L,P,W,G,$,te,ie,I)=>(x(V)?z="":x(M)?z=`>=${V}.0.0${R?"-0":""}`:x(L)?z=`>=${V}.${M}.0${R?"-0":""}`:P?z=`>=${z}`:z=`>=${z}${R?"-0":""}`,x($)?G="":x(te)?G=`<${+$+1}.0.0-0`:x(ie)?G=`<${$}.${+te+1}.0-0`:I?G=`<=${$}.${te}.${ie}-${I}`:R?G=`<${$}.${te}.${+ie+1}-0`:G=`<=${G}`,`${z} ${G}`.trim()),H=(R,D,z)=>{for(let V=0;V<R.length;V++)if(!R[V].test(D))return!1;if(D.prerelease.length&&!z.includePrerelease){for(let V=0;V<R.length;V++)if(s(R[V].semver),R[V].semver!==a.ANY&&R[V].semver.prerelease.length>0){const M=R[V].semver;if(M.major===D.major&&M.minor===D.minor&&M.patch===D.patch)return!0}return!1}return!0};return U_}var H_,J2;function mb(){if(J2)return H_;J2=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(d,f){if(f=n(f),d instanceof e){if(d.loose===!!f.loose)return d;d=d.value}d=d.trim().split(/\s+/).join(" "),s("comparator",d,f),this.options=f,this.loose=!!f.loose,this.parse(d),this.semver===t?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(d){const f=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],h=d.match(f);if(!h)throw new TypeError(`Invalid comparator: ${d}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new o(h[2],this.options.loose):this.semver=t}toString(){return this.value}test(d){if(s("Comparator.test",d,this.options.loose),this.semver===t||d===t)return!0;if(typeof d=="string")try{d=new o(d,this.options)}catch{return!1}return a(d,this.operator,this.semver,this.options)}intersects(d,f){if(!(d instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(d.value,f).test(this.value):d.operator===""?d.value===""?!0:new l(this.value,f).test(d.semver):(f=n(f),f.includePrerelease&&(this.value==="<0.0.0-0"||d.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||d.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&d.operator.startsWith(">")||this.operator.startsWith("<")&&d.operator.startsWith("<")||this.semver.version===d.semver.version&&this.operator.includes("=")&&d.operator.includes("=")||a(this.semver,"<",d.semver,f)&&this.operator.startsWith(">")&&d.operator.startsWith("<")||a(this.semver,">",d.semver,f)&&this.operator.startsWith("<")&&d.operator.startsWith(">")))}}H_=e;const n=ak,{safeRe:r,t:i}=rg,a=KU,s=hb,o=yr,l=Aa();return H_}const Qde=Aa(),efe=(t,e,n)=>{try{e=new Qde(e,n)}catch{return!1}return e.test(t)};var gb=efe;const tfe=Aa(),nfe=(t,e)=>new tfe(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));var rfe=nfe;const ife=yr,afe=Aa(),sfe=(t,e,n)=>{let r=null,i=null,a=null;try{a=new afe(e,n)}catch{return null}return t.forEach(s=>{a.test(s)&&(!r||i.compare(s)===-1)&&(r=s,i=new ife(r,n))}),r};var ofe=sfe;const lfe=yr,cfe=Aa(),ufe=(t,e,n)=>{let r=null,i=null,a=null;try{a=new cfe(e,n)}catch{return null}return t.forEach(s=>{a.test(s)&&(!r||i.compare(s)===1)&&(r=s,i=new lfe(r,n))}),r};var dfe=ufe;const V_=yr,ffe=Aa(),Q2=pb,hfe=(t,e)=>{t=new ffe(t,e);let n=new V_("0.0.0");if(t.test(n)||(n=new V_("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){const i=t.set[r];let a=null;i.forEach(s=>{const o=new V_(s.semver.version);switch(s.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!a||Q2(o,a))&&(a=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),a&&(!n||Q2(n,a))&&(n=a)}return n&&t.test(n)?n:null};var pfe=hfe;const mfe=Aa(),gfe=(t,e)=>{try{return new mfe(t,e).range||"*"}catch{return null}};var yfe=gfe;const vfe=yr,YU=mb(),{ANY:xfe}=YU,bfe=Aa(),wfe=gb,e$=pb,t$=ok,_fe=ck,Sfe=lk,Efe=(t,e,n,r)=>{t=new vfe(t,r),e=new bfe(e,r);let i,a,s,o,l;switch(n){case">":i=e$,a=_fe,s=t$,o=">",l=">=";break;case"<":i=t$,a=Sfe,s=e$,o="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(wfe(t,e,r))return!1;for(let c=0;c<e.set.length;++c){const d=e.set[c];let f=null,h=null;if(d.forEach(p=>{p.semver===xfe&&(p=new YU(">=0.0.0")),f=f||p,h=h||p,i(p.semver,f.semver,r)?f=p:s(p.semver,h.semver,r)&&(h=p)}),f.operator===o||f.operator===l||(!h.operator||h.operator===o)&&a(t,h.semver))return!1;if(h.operator===l&&s(t,h.semver))return!1}return!0};var uk=Efe;const jfe=uk,Afe=(t,e,n)=>jfe(t,e,">",n);var Cfe=Afe;const Tfe=uk,kfe=(t,e,n)=>Tfe(t,e,"<",n);var Ofe=kfe;const n$=Aa(),Nfe=(t,e,n)=>(t=new n$(t,n),e=new n$(e,n),t.intersects(e,n));var Pfe=Nfe;const Ife=gb,$fe=ja;var Rfe=(t,e,n)=>{const r=[];let i=null,a=null;const s=t.sort((d,f)=>$fe(d,f,n));for(const d of s)Ife(d,e,n)?(a=d,i||(i=d)):(a&&r.push([i,a]),a=null,i=null);i&&r.push([i,null]);const o=[];for(const[d,f]of r)d===f?o.push(d):!f&&d===s[0]?o.push("*"):f?d===s[0]?o.push(`<=${f}`):o.push(`${d} - ${f}`):o.push(`>=${d}`);const l=o.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return l.length<c.length?l:e};const r$=Aa(),dk=mb(),{ANY:W_}=dk,uh=gb,fk=ja,Mfe=(t,e,n={})=>{if(t===e)return!0;t=new r$(t,n),e=new r$(e,n);let r=!1;e:for(const i of t.set){for(const a of e.set){const s=Dfe(i,a,n);if(r=r||s!==null,s)continue e}if(r)return!1}return!0},Lfe=[new dk(">=0.0.0-0")],i$=[new dk(">=0.0.0")],Dfe=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===W_){if(e.length===1&&e[0].semver===W_)return!0;n.includePrerelease?t=Lfe:t=i$}if(e.length===1&&e[0].semver===W_){if(n.includePrerelease)return!0;e=i$}const r=new Set;let i,a;for(const p of t)p.operator===">"||p.operator===">="?i=a$(i,p,n):p.operator==="<"||p.operator==="<="?a=s$(a,p,n):r.add(p.semver);if(r.size>1)return null;let s;if(i&&a){if(s=fk(i.semver,a.semver,n),s>0)return null;if(s===0&&(i.operator!==">="||a.operator!=="<="))return null}for(const p of r){if(i&&!uh(p,String(i),n)||a&&!uh(p,String(a),n))return null;for(const m of e)if(!uh(p,String(m),n))return!1;return!0}let o,l,c,d,f=a&&!n.includePrerelease&&a.semver.prerelease.length?a.semver:!1,h=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&a.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const p of e){if(d=d||p.operator===">"||p.operator===">=",c=c||p.operator==="<"||p.operator==="<=",i){if(h&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===h.major&&p.semver.minor===h.minor&&p.semver.patch===h.patch&&(h=!1),p.operator===">"||p.operator===">="){if(o=a$(i,p,n),o===p&&o!==i)return!1}else if(i.operator===">="&&!uh(i.semver,String(p),n))return!1}if(a){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator==="<"||p.operator==="<="){if(l=s$(a,p,n),l===p&&l!==a)return!1}else if(a.operator==="<="&&!uh(a.semver,String(p),n))return!1}if(!p.operator&&(a||i)&&s!==0)return!1}return!(i&&c&&!a&&s!==0||a&&d&&!i&&s!==0||h||f)},a$=(t,e,n)=>{if(!t)return e;const r=fk(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},s$=(t,e,n)=>{if(!t)return e;const r=fk(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t};var Ffe=Mfe;const q_=rg,o$=fb,Bfe=yr,l$=WU,zfe=Nf,Ufe=Kue,Hfe=Zue,Vfe=Que,Wfe=tde,qfe=ide,Gfe=ode,Kfe=ude,Yfe=hde,Xfe=ja,Zfe=yde,Jfe=bde,Qfe=sk,ehe=Ede,the=Cde,nhe=pb,rhe=ok,ihe=qU,ahe=GU,she=lk,ohe=ck,lhe=KU,che=Xde,uhe=mb(),dhe=Aa(),fhe=gb,hhe=rfe,phe=ofe,mhe=dfe,ghe=pfe,yhe=yfe,vhe=uk,xhe=Cfe,bhe=Ofe,whe=Pfe,_he=Rfe,She=Ffe;q_.re,q_.src,q_.t,o$.SEMVER_SPEC_VERSION,o$.RELEASE_TYPES,l$.compareIdentifiers,l$.rcompareIdentifiers;function xo(t){if(!t||t.split("/").length>2||t.startsWith("/")||t.endsWith("/")||t.split(":").length>2)throw new Error(`Invalid identifier format: ${t}`);const[e,n]=t.split(":"),r=n||"latest";if(e.includes("/")){const[i,a]=e.split("/",2);if(!i||!a)throw new Error(`Invalid identifier format: ${t}`);return[i,a,r]}else{if(!e)throw new Error(`Invalid identifier format: ${t}`);return["-",e,r]}}class Ehe extends Error{constructor(e){super(e),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="LangSmithConflictError",this.status=409}}async function Ie(t,e,n){let r;if(t.ok){n&&(r=await t.text());return}if(t.status===403)try{const s=await t.json();(s==null?void 0:s.error)==="org_scoped_key_requires_workspace"&&(r="This API key is org-scoped and requires workspace specification. Please provide 'workspaceId' parameter, or set LANGSMITH_WORKSPACE_ID environment variable.")}catch{const o=new Error(`${t.status} ${t.statusText}`);throw o.status=t==null?void 0:t.status,o}if(r===void 0)try{r=await t.text()}catch{r=""}const i=`Failed to ${e}. Received status [${t.status}]: ${t.statusText}. Message: ${r}`;if(t.status===409)throw new Ehe(i);const a=new Error(i);throw a.status=t.status,a}const XU="ERR_CONFLICTING_ENDPOINTS";class jhe extends Error{constructor(){super("You cannot provide both LANGSMITH_ENDPOINT / LANGCHAIN_ENDPOINT and LANGSMITH_RUNS_ENDPOINTS."),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:XU}),this.name="ConflictingEndpointsError"}}function Ahe(t){return typeof t=="object"&&t!==null&&t.code===XU}var c$="[...]",Che={result:"[Circular]"},n0=[],zu=[];const The=new TextEncoder;function khe(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function cy(t){return The.encode(t)}function ZU(t){if(t&&typeof t=="object"&&t!==null){if(t instanceof Map)return Object.fromEntries(t);if(t instanceof Set)return Array.from(t);if(t instanceof Date)return t.toISOString();if(t instanceof RegExp)return t.toString();if(t instanceof Error)return{name:t.name,message:t.message}}else if(typeof t=="bigint")return t.toString();return t}function Ohe(t){return function(e,n){return ZU(n)}}function Dr(t,e,n,r,i){var a;try{const s=JSON.stringify(t,Ohe(n),r);return cy(s)}catch(s){if(!((a=s.message)!=null&&a.includes("Converting circular structure to JSON")))return console.warn(`[WARNING]: LangSmith received unserializable value.${e?`
Context: ${e}`:""}`),cy("[Unserializable]");Ar("SUPPRESS_CIRCULAR_JSON_WARNINGS")!=="true"&&console.warn(`[WARNING]: LangSmith received circular JSON. This will decrease tracer performance. ${e?`
Context: ${e}`:""}`),typeof i>"u"&&(i=khe()),DE(t,"",0,[],void 0,0,i);let o;try{zu.length===0?o=JSON.stringify(t,n,r):o=JSON.stringify(t,Nhe(n),r)}catch{return cy("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;n0.length!==0;){const l=n0.pop();l.length===4?Object.defineProperty(l[0],l[1],l[3]):l[0][l[1]]=l[2]}}return cy(o)}}function G_(t,e,n,r){var i=Object.getOwnPropertyDescriptor(r,n);i.get!==void 0?i.configurable?(Object.defineProperty(r,n,{value:t}),n0.push([r,n,e,i])):zu.push([e,n,t]):(r[n]=t,n0.push([r,n,e]))}function DE(t,e,n,r,i,a,s){a+=1;var o;if(typeof t=="object"&&t!==null){for(o=0;o<r.length;o++)if(r[o]===t){G_(Che,t,e,i);return}if(typeof s.depthLimit<"u"&&a>s.depthLimit){G_(c$,t,e,i);return}if(typeof s.edgesLimit<"u"&&n+1>s.edgesLimit){G_(c$,t,e,i);return}if(r.push(t),Array.isArray(t))for(o=0;o<t.length;o++)DE(t[o],o,o,r,t,a,s);else{t=ZU(t);var l=Object.keys(t);for(o=0;o<l.length;o++){var c=l[o];DE(t[c],c,o,r,t,a,s)}}r.pop()}}function Nhe(t){return t=typeof t<"u"?t:function(e,n){return n},function(e,n){if(zu.length>0)for(var r=0;r<zu.length;r++){var i=zu[r];if(i[1]===e&&i[0]===n){n=i[2],zu.splice(r,1);break}}return t.call(this,e,n)}}function u$(t,e){const n=IU(),r=e??$U(),i=t.extra??{},a=i.metadata;return t.extra={...i,runtime:{...n,...i==null?void 0:i.runtime},metadata:{...r,...r.revision_id||"revision_id"in t&&t.revision_id?{revision_id:("revision_id"in t?t.revision_id:void 0)??r.revision_id}:{},...a}},t}const Phe=t=>{const e=(t==null?void 0:t.toString())??Ar("TRACING_SAMPLING_RATE");if(e===void 0)return;const n=parseFloat(e);if(n<0||n>1)throw new Error(`LANGSMITH_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${n}`);return n},Ihe=t=>{const n=t.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return n==="localhost"||n==="127.0.0.1"||n==="::1"};async function $he(t){const e=[];for await(const n of t)e.push(n);return e}function uy(t){if(t!==void 0)return t.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}const Rhe=async t=>{if((t==null?void 0:t.status)===429){const e=parseInt(t.headers.get("retry-after")??"10",10)*1e3;if(e>0)return await new Promise(n=>setTimeout(n,e)),!0}return!1};function d$(t){return typeof t=="number"?Number(t.toFixed(4)):t}const Mhe=24*1024*1024,JU=1024*1024*1024,Lhe=1e4,Dhe=100,f$="https://api.smith.langchain.com";class Fhe{constructor(e){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"sizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"maxSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSizeBytes=e??JU}peek(){return this.items[0]}push(e){let n;const r=new Promise(a=>{n=a}),i=Dr(e.item,`Serializing run with id: ${e.item.id}`).length;return this.sizeBytes+i>this.maxSizeBytes&&this.items.length>0?(console.warn(`AutoBatchQueue size limit (${this.maxSizeBytes} bytes) exceeded. Dropping run with id: ${e.item.id}. Current queue size: ${this.sizeBytes} bytes, attempted addition: ${i} bytes.`),n(),r):(this.items.push({action:e.action,payload:e.item,otelContext:e.otelContext,apiKey:e.apiKey,apiUrl:e.apiUrl,itemPromiseResolve:n,itemPromise:r,size:i}),this.sizeBytes+=i,r)}pop({upToSizeBytes:e,upToSize:n}){var a;if(e<1)throw new Error("Number of bytes to pop off may not be less than 1.");const r=[];let i=0;for(;i+(((a=this.peek())==null?void 0:a.size)??0)<e&&this.items.length>0&&r.length<n;){const s=this.items.shift();s&&(r.push(s),i+=s.size,this.sizeBytes-=s.size)}if(r.length===0&&this.items.length>0){const s=this.items.shift();r.push(s),i+=s.size,this.sizeBytes-=s.size}return[r.map(s=>({action:s.action,item:s.payload,otelContext:s.otelContext,apiKey:s.apiKey,apiUrl:s.apiUrl,size:s.size})),()=>r.forEach(s=>s.itemPromiseResolve())]}}class Bd{get _fetch(){return this.fetchImplementation||qce(this.debug)}constructor(e={}){var i;Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"workspaceId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filteredPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"batchSizeBytesLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchSizeLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"blockOnRootRunFinalization",{enumerable:!0,configurable:!0,writable:!0,value:cs("LANGSMITH_TRACING_BACKGROUND")==="false"}),Object.defineProperty(this,"traceBatchConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:5}),Object.defineProperty(this,"_serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_getServerInfoPromise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"manualFlushMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"langSmithToOTELTranslator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchImplementation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cachedLSEnvVarsForMetadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"multipartStreamingDisabled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"debug",{enumerable:!0,configurable:!0,writable:!0,value:cs("LANGSMITH_DEBUG")==="true"});const n=Bd.getDefaultClientConfig();if(this.tracingSampleRate=Phe(e.tracingSamplingRate),this.apiUrl=uy(e.apiUrl??n.apiUrl)??"",this.apiUrl.endsWith("/")&&(this.apiUrl=this.apiUrl.slice(0,-1)),this.apiKey=uy(e.apiKey??n.apiKey),this.webUrl=uy(e.webUrl??n.webUrl),(i=this.webUrl)!=null&&i.endsWith("/")&&(this.webUrl=this.webUrl.slice(0,-1)),this.workspaceId=uy(e.workspaceId??Ar("WORKSPACE_ID")),this.timeout_ms=e.timeout_ms??9e4,this.caller=new F2({...e.callerOptions??{},maxRetries:4,debug:e.debug??this.debug}),this.traceBatchConcurrency=e.traceBatchConcurrency??this.traceBatchConcurrency,this.traceBatchConcurrency<1)throw new Error("Trace batch concurrency must be positive.");this.debug=e.debug??this.debug,this.fetchImplementation=e.fetchImplementation;const r=e.maxIngestMemoryBytes??JU;this.batchIngestCaller=new F2({maxRetries:4,maxConcurrency:this.traceBatchConcurrency,maxQueueSizeBytes:r,...e.callerOptions??{},onFailedResponseHook:Rhe,debug:e.debug??this.debug}),this.hideInputs=e.hideInputs??e.anonymizer??n.hideInputs,this.hideOutputs=e.hideOutputs??e.anonymizer??n.hideOutputs,this.autoBatchTracing=e.autoBatchTracing??this.autoBatchTracing,this.autoBatchQueue=new Fhe(r),this.blockOnRootRunFinalization=e.blockOnRootRunFinalization??this.blockOnRootRunFinalization,this.batchSizeBytesLimit=e.batchSizeBytesLimit,this.batchSizeLimit=e.batchSizeLimit,this.fetchOptions=e.fetchOptions||{},this.manualFlushMode=e.manualFlushMode??this.manualFlushMode,RU()&&(this.langSmithToOTELTranslator=new due),this.cachedLSEnvVarsForMetadata=$U()}static getDefaultClientConfig(){const e=Ar("API_KEY"),n=Ar("ENDPOINT")??f$,r=Ar("HIDE_INPUTS")==="true",i=Ar("HIDE_OUTPUTS")==="true";return{apiUrl:n,apiKey:e,webUrl:void 0,hideInputs:r,hideOutputs:i}}getHostUrl(){return this.webUrl?this.webUrl:Ihe(this.apiUrl)?(this.webUrl="http://localhost:3000",this.webUrl):this.apiUrl.endsWith("/api/v1")?(this.webUrl=this.apiUrl.replace("/api/v1",""),this.webUrl):this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api")?(this.webUrl=this.apiUrl.replace("/api",""),this.webUrl):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("eu")?(this.webUrl="https://eu.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("beta")?(this.webUrl="https://beta.smith.langchain.com",this.webUrl):(this.webUrl="https://smith.langchain.com",this.webUrl)}get headers(){const e={"User-Agent":`langsmith-js/${OU}`};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),this.workspaceId&&(e["x-tenant-id"]=this.workspaceId),e}_getPlatformEndpointPath(e){return this.apiUrl.slice(-3)!=="/v1"&&this.apiUrl.slice(-4)!=="/v1/"?`/v1/platform/${e}`:`/platform/${e}`}async processInputs(e){return this.hideInputs===!1?e:this.hideInputs===!0?{}:typeof this.hideInputs=="function"?this.hideInputs(e):e}async processOutputs(e){return this.hideOutputs===!1?e:this.hideOutputs===!0?{}:typeof this.hideOutputs=="function"?this.hideOutputs(e):e}async prepareRunCreateOrUpdateInputs(e){const n={...e};return n.inputs!==void 0&&(n.inputs=await this.processInputs(n.inputs)),n.outputs!==void 0&&(n.outputs=await this.processOutputs(n.outputs)),n}async _getResponse(e,n){const r=(n==null?void 0:n.toString())??"",i=`${this.apiUrl}${e}?${r}`;return await this.caller.call(async()=>{const s=await this._fetch(i,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ie(s,`fetch ${e}`),s})}async _get(e,n){return(await this._getResponse(e,n)).json()}async*_getPaginated(e,n=new URLSearchParams,r){let i=Number(n.get("offset"))||0;const a=Number(n.get("limit"))||100;for(;;){n.set("offset",String(i)),n.set("limit",String(a));const s=`${this.apiUrl}${e}?${n}`,o=await this.caller.call(async()=>{const c=await this._fetch(s,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ie(c,`fetch ${e}`),c}),l=r?r(await o.json()):await o.json();if(l.length===0||(yield l,l.length<a))break;i+=l.length}}async*_getCursorPaginatedList(e,n=null,r="POST",i="runs"){const a=n?{...n}:{};for(;;){const s=JSON.stringify(a),l=await(await this.caller.call(async()=>{const d=await this._fetch(`${this.apiUrl}${e}`,{method:r,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Ie(d,`fetch ${e}`),d})).json();if(!l||!l[i])break;yield l[i];const c=l.cursors;if(!c||!c.next)break;a.cursor=c.next}}_shouldSample(){return this.tracingSampleRate===void 0?!0:Math.random()<this.tracingSampleRate}_filterForSampling(e,n=!1){if(this.tracingSampleRate===void 0)return e;if(n){const r=[];for(const i of e)this.filteredPostUuids.has(i.trace_id)?i.id===i.trace_id&&this.filteredPostUuids.delete(i.trace_id):r.push(i);return r}else{const r=[];for(const i of e){const a=i.trace_id??i.id;this.filteredPostUuids.has(a)||(i.id===a?this._shouldSample()?r.push(i):this.filteredPostUuids.add(a):r.push(i))}return r}}async _getBatchSizeLimitBytes(){var n;const e=await this._ensureServerInfo();return this.batchSizeBytesLimit??((n=e.batch_ingest_config)==null?void 0:n.size_limit_bytes)??Mhe}async _getBatchSizeLimit(){var n;const e=await this._ensureServerInfo();return this.batchSizeLimit??((n=e.batch_ingest_config)==null?void 0:n.size_limit)??Dhe}async _getDatasetExamplesMultiPartSupport(){var n;return((n=(await this._ensureServerInfo()).instance_flags)==null?void 0:n.dataset_examples_multipart_enabled)??!1}drainAutoBatchQueue({batchSizeLimitBytes:e,batchSizeLimit:n}){const r=[];for(;this.autoBatchQueue.items.length>0;){const[i,a]=this.autoBatchQueue.pop({upToSizeBytes:e,upToSize:n});if(!i.length){a();break}const s=i.reduce((c,d)=>{const f=d.apiUrl??this.apiUrl,h=d.apiKey??this.apiKey,m=d.apiKey===this.apiKey&&d.apiUrl===this.apiUrl?"default":`${f}|${h}`;return c[m]||(c[m]=[]),c[m].push(d),c},{}),o=[];for(const[c,d]of Object.entries(s)){const f=this._processBatch(d,{apiUrl:c==="default"?void 0:c.split("|")[0],apiKey:c==="default"?void 0:c.split("|")[1]});o.push(f)}const l=Promise.all(o).finally(a);r.push(l)}return Promise.all(r)}async _processBatch(e,n){var i,a;if(!e.length)return;const r=e.reduce((s,o)=>s+(o.size??0),0);try{if(this.langSmithToOTELTranslator!==void 0)this._sendBatchToOTELTranslator(e);else{const s={runCreates:e.filter(l=>l.action==="create").map(l=>l.item),runUpdates:e.filter(l=>l.action==="update").map(l=>l.item)},o=await this._ensureServerInfo();if((i=o==null?void 0:o.batch_ingest_config)!=null&&i.use_multipart_endpoint){const l=(a=o==null?void 0:o.instance_flags)==null?void 0:a.gzip_body_enabled;await this.multipartIngestRuns(s,{...n,useGzip:l,sizeBytes:r})}else await this.batchIngestRuns(s,{...n,sizeBytes:r})}}catch(s){console.error("Error exporting batch:",s)}}_sendBatchToOTELTranslator(e){if(this.langSmithToOTELTranslator!==void 0){const n=new Map,r=[];for(const i of e)i.item.id&&i.otelContext&&(n.set(i.item.id,i.otelContext),i.action==="create"?r.push({operation:"post",id:i.item.id,trace_id:i.item.trace_id??i.item.id,run:i.item}):r.push({operation:"patch",id:i.item.id,trace_id:i.item.trace_id??i.item.id,run:i.item}));this.langSmithToOTELTranslator.exportBatch(r,n)}}async processRunOperation(e){clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0,e.item=u$(e.item,this.cachedLSEnvVarsForMetadata);const n=this.autoBatchQueue.push(e);if(this.manualFlushMode)return n;const r=await this._getBatchSizeLimitBytes(),i=await this._getBatchSizeLimit();return(this.autoBatchQueue.sizeBytes>r||this.autoBatchQueue.items.length>i)&&this.drainAutoBatchQueue({batchSizeLimitBytes:r,batchSizeLimit:i}),this.autoBatchQueue.items.length>0&&(this.autoBatchTimeout=setTimeout(()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue({batchSizeLimitBytes:r,batchSizeLimit:i})},this.autoBatchAggregationDelayMs)),n}async _getServerInfo(){const n=await(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(Lhe),...this.fetchOptions});return await Ie(r,"get server info"),r})).json();return this.debug&&console.log(`
=== LangSmith Server Configuration ===
`+JSON.stringify(n,null,2)+`
`),n}async _ensureServerInfo(){return this._getServerInfoPromise===void 0&&(this._getServerInfoPromise=(async()=>{if(this._serverInfo===void 0)try{this._serverInfo=await this._getServerInfo()}catch(e){console.warn(`[LANGSMITH]: Failed to fetch info on supported operations. Falling back to batch operations and default limits. Info: ${e.status??"Unspecified status code"} ${e.message}`)}return this._serverInfo??{}})()),this._getServerInfoPromise.then(e=>(this._serverInfo===void 0&&(this._getServerInfoPromise=void 0),e))}async _getSettings(){return this.settings||(this.settings=this._get("/settings")),await this.settings}async flush(){const e=await this._getBatchSizeLimitBytes(),n=await this._getBatchSizeLimit();await this.drainAutoBatchQueue({batchSizeLimitBytes:e,batchSizeLimit:n})}_cloneCurrentOTELContext(){const e=MU(),n=oue();if(this.langSmithToOTELTranslator!==void 0){const r=e.getActiveSpan();if(r)return e.setSpan(n.active(),r)}}async createRun(e,n){if(!this._filterForSampling([e]).length)return;const r={...this.headers,"Content-Type":"application/json"},i=e.project_name;delete e.project_name;const a=await this.prepareRunCreateOrUpdateInputs({session_name:i,...e,start_time:e.start_time??Date.now()});if(this.autoBatchTracing&&a.trace_id!==void 0&&a.dotted_order!==void 0){const l=this._cloneCurrentOTELContext();this.processRunOperation({action:"create",item:a,otelContext:l,apiKey:n==null?void 0:n.apiKey,apiUrl:n==null?void 0:n.apiUrl}).catch(console.error);return}const s=u$(a,this.cachedLSEnvVarsForMetadata);(n==null?void 0:n.apiKey)!==void 0&&(r["x-api-key"]=n.apiKey),(n==null?void 0:n.workspaceId)!==void 0&&(r["x-tenant-id"]=n.workspaceId);const o=Dr(s,`Creating run with id: ${s.id}`);await this.caller.call(async()=>{const l=await this._fetch(`${(n==null?void 0:n.apiUrl)??this.apiUrl}/runs`,{method:"POST",headers:r,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Ie(l,"create run",!0),l})}async batchIngestRuns({runCreates:e,runUpdates:n},r){if(e===void 0&&n===void 0)return;let i=await Promise.all((e==null?void 0:e.map(l=>this.prepareRunCreateOrUpdateInputs(l)))??[]),a=await Promise.all((n==null?void 0:n.map(l=>this.prepareRunCreateOrUpdateInputs(l)))??[]);if(i.length>0&&a.length>0){const l=i.reduce((d,f)=>(f.id&&(d[f.id]=f),d),{}),c=[];for(const d of a)d.id!==void 0&&l[d.id]?l[d.id]={...l[d.id],...d}:c.push(d);i=Object.values(l),a=c}const s={post:i,patch:a};if(!s.post.length&&!s.patch.length)return;const o={post:[],patch:[]};for(const l of["post","patch"]){const c=l,d=s[c].reverse();let f=d.pop();for(;f!==void 0;)o[c].push(f),f=d.pop()}if(o.post.length>0||o.patch.length>0){const l=o.post.map(c=>c.id).concat(o.patch.map(c=>c.id)).join(",");await this._postBatchIngestRuns(Dr(o,`Ingesting runs with ids: ${l}`),r)}}async _postBatchIngestRuns(e,n){const r={...this.headers,"Content-Type":"application/json",Accept:"application/json"};(n==null?void 0:n.apiKey)!==void 0&&(r["x-api-key"]=n.apiKey),await this.batchIngestCaller.callWithOptions({sizeBytes:n==null?void 0:n.sizeBytes},async()=>{const i=await this._fetch(`${(n==null?void 0:n.apiUrl)??this.apiUrl}/runs/batch`,{method:"POST",headers:r,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:e});return await Ie(i,"batch create run",!0),i})}async multipartIngestRuns({runCreates:e,runUpdates:n},r){if(e===void 0&&n===void 0)return;const i={};let a=[];for(const f of e??[]){const h=await this.prepareRunCreateOrUpdateInputs(f);h.id!==void 0&&h.attachments!==void 0&&(i[h.id]=h.attachments),delete h.attachments,a.push(h)}let s=[];for(const f of n??[])s.push(await this.prepareRunCreateOrUpdateInputs(f));if(a.find(f=>f.trace_id===void 0||f.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when creating a run');if(s.find(f=>f.trace_id===void 0||f.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when updating a run');if(a.length>0&&s.length>0){const f=a.reduce((p,m)=>(m.id&&(p[m.id]=m),p),{}),h=[];for(const p of s)p.id!==void 0&&f[p.id]?f[p.id]={...f[p.id],...p}:h.push(p);a=Object.values(f),s=h}if(a.length===0&&s.length===0)return;const c=[],d=[];for(const[f,h]of[["post",a],["patch",s]])for(const p of h){const{inputs:m,outputs:g,events:v,extra:y,error:b,serialized:x,attachments:w,...S}=p,E={inputs:m,outputs:g,events:v,extra:y,error:b,serialized:x},A=Dr(S,`Serializing for multipart ingestion of run with id: ${S.id}`);d.push({name:`${f}.${S.id}`,payload:new Blob([A],{type:`application/json; length=${A.length}`})});for(const[j,C]of Object.entries(E)){if(C===void 0)continue;const T=Dr(C,`Serializing ${j} for multipart ingestion of run with id: ${S.id}`);d.push({name:`${f}.${S.id}.${j}`,payload:new Blob([T],{type:`application/json; length=${T.length}`})})}if(S.id!==void 0){const j=i[S.id];if(j){delete i[S.id];for(const[C,T]of Object.entries(j)){let k,N;if(Array.isArray(T)?[k,N]=T:(k=T.mimeType,N=T.data),C.includes(".")){console.warn(`Skipping attachment '${C}' for run ${S.id}: Invalid attachment name. Attachment names must not contain periods ('.'). Please rename the attachment and try again.`);continue}d.push({name:`attachment.${S.id}.${C}`,payload:new Blob([N],{type:`${k}; length=${N.byteLength}`})})}}}c.push(`trace=${S.trace_id},id=${S.id}`)}await this._sendMultipartRequest(d,c.join("; "),r)}async _createNodeFetchBody(e,n){const r=[];for(const s of e)r.push(new Blob([`--${n}\r
`])),r.push(new Blob([`Content-Disposition: form-data; name="${s.name}"\r
`,`Content-Type: ${s.payload.type}\r
\r
`])),r.push(s.payload),r.push(new Blob([`\r
`]));return r.push(new Blob([`--${n}--\r
`])),await new Blob(r).arrayBuffer()}async _createMultipartStream(e,n){const r=new TextEncoder;return new ReadableStream({async start(a){const s=async o=>{typeof o=="string"?a.enqueue(r.encode(o)):a.enqueue(o)};for(const o of e){await s(`--${n}\r
`),await s(`Content-Disposition: form-data; name="${o.name}"\r
`),await s(`Content-Type: ${o.payload.type}\r
\r
`);const c=o.payload.stream().getReader();try{let d;for(;!(d=await c.read()).done;)a.enqueue(d.value)}finally{c.releaseLock()}await s(`\r
`)}await s(`--${n}--\r
`),a.close()}})}async _sendMultipartRequest(e,n,r){const i="----LangSmithFormBoundary"+Math.random().toString(36).slice(2),a=Wce(),s=()=>this._createNodeFetchBody(e,i),o=()=>this._createMultipartStream(e,i),l=async c=>this.batchIngestCaller.callWithOptions({sizeBytes:r==null?void 0:r.sizeBytes},async()=>{const d=await c(),f={...this.headers,"Content-Type":`multipart/form-data; boundary=${i}`};(r==null?void 0:r.apiKey)!==void 0&&(f["x-api-key"]=r.apiKey);let h=d;r!=null&&r.useGzip&&typeof d=="object"&&"pipeThrough"in d&&(h=d.pipeThrough(new CompressionStream("gzip")),f["Content-Encoding"]="gzip");const p=await this._fetch(`${(r==null?void 0:r.apiUrl)??this.apiUrl}/runs/multipart`,{method:"POST",headers:f,body:h,duplex:"half",signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ie(p,"Failed to send multipart request",!0),p});try{let c,d=!1;!a&&!this.multipartStreamingDisabled&&PU()!=="bun"?(d=!0,c=await l(o)):c=await l(s),(!this.multipartStreamingDisabled||d)&&c.status===422&&((r==null?void 0:r.apiUrl)??this.apiUrl)!==f$&&(console.warn(`Streaming multipart upload to ${(r==null?void 0:r.apiUrl)??this.apiUrl}/runs/multipart failed. This usually means the host does not support chunked uploads. Retrying with a buffered upload for operation "${n}".`),this.multipartStreamingDisabled=!0,c=await l(s))}catch(c){console.warn(`${c.message.trim()}

Context: ${n}`)}}async updateRun(e,n,r){Ye(e),n.inputs&&(n.inputs=await this.processInputs(n.inputs)),n.outputs&&(n.outputs=await this.processOutputs(n.outputs));const i={...n,id:e};if(!this._filterForSampling([i],!0).length)return;if(this.autoBatchTracing&&i.trace_id!==void 0&&i.dotted_order!==void 0){const o=this._cloneCurrentOTELContext();if(n.end_time!==void 0&&i.parent_run_id===void 0&&this.blockOnRootRunFinalization&&!this.manualFlushMode){await this.processRunOperation({action:"update",item:i,otelContext:o,apiKey:r==null?void 0:r.apiKey,apiUrl:r==null?void 0:r.apiUrl}).catch(console.error);return}else this.processRunOperation({action:"update",item:i,otelContext:o,apiKey:r==null?void 0:r.apiKey,apiUrl:r==null?void 0:r.apiUrl}).catch(console.error);return}const a={...this.headers,"Content-Type":"application/json"};(r==null?void 0:r.apiKey)!==void 0&&(a["x-api-key"]=r.apiKey),(r==null?void 0:r.workspaceId)!==void 0&&(a["x-tenant-id"]=r.workspaceId);const s=Dr(n,`Serializing payload to update run with id: ${e}`);await this.caller.call(async()=>{const o=await this._fetch(`${(r==null?void 0:r.apiUrl)??this.apiUrl}/runs/${e}`,{method:"PATCH",headers:a,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Ie(o,"update run",!0),o})}async readRun(e,{loadChildRuns:n}={loadChildRuns:!1}){Ye(e);let r=await this._get(`/runs/${e}`);return n&&(r=await this._loadChildRuns(r)),r}async getRunUrl({runId:e,run:n,projectOpts:r}){if(n!==void 0){let i;n.session_id?i=n.session_id:r!=null&&r.projectName?i=(await this.readProject({projectName:r==null?void 0:r.projectName})).id:r!=null&&r.projectId?i=r==null?void 0:r.projectId:i=(await this.readProject({projectName:Ar("PROJECT")||"default"})).id;const a=await this._getTenantId();return`${this.getHostUrl()}/o/${a}/projects/p/${i}/r/${n.id}?poll=true`}else if(e!==void 0){const i=await this.readRun(e);if(!i.app_path)throw new Error(`Run ${e} has no app_path`);return`${this.getHostUrl()}${i.app_path}`}else throw new Error("Must provide either runId or run")}async _loadChildRuns(e){var a;const n=await $he(this.listRuns({isRoot:!1,projectId:e.session_id,traceId:e.trace_id})),r={},i={};n.sort((s,o)=>((s==null?void 0:s.dotted_order)??"").localeCompare((o==null?void 0:o.dotted_order)??""));for(const s of n){if(s.parent_run_id===null||s.parent_run_id===void 0)throw new Error(`Child run ${s.id} has no parent`);(a=s.dotted_order)!=null&&a.startsWith(e.dotted_order??"")&&s.id!==e.id&&(s.parent_run_id in r||(r[s.parent_run_id]=[]),r[s.parent_run_id].push(s),i[s.id]=s)}e.child_runs=r[e.id]||[];for(const s in r)s!==e.id&&(i[s].child_runs=r[s]);return e}async*listRuns(e){const{projectId:n,projectName:r,parentRunId:i,traceId:a,referenceExampleId:s,startTime:o,executionOrder:l,isRoot:c,runType:d,error:f,id:h,query:p,filter:m,traceFilter:g,treeFilter:v,limit:y,select:b,order:x}=e;let w=[];if(n&&(w=Array.isArray(n)?n:[n]),r){const j=Array.isArray(r)?r:[r],C=await Promise.all(j.map(T=>this.readProject({projectName:T}).then(k=>k.id)));w.push(...C)}const S=["app_path","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],E={session:w.length?w:null,run_type:d,reference_example:s,query:p,filter:m,trace_filter:g,tree_filter:v,execution_order:l,parent_run:i,start_time:o?o.toISOString():null,error:f,id:h,limit:y,trace:a,select:b||S,is_root:c,order:x};E.select.includes("child_run_ids")&&ME("Deprecated: 'child_run_ids' in the listRuns select parameter is deprecated and will be removed in a future version.");let A=0;for await(const j of this._getCursorPaginatedList("/runs/query",E))if(y){if(A>=y)break;if(j.length+A>y){yield*j.slice(0,y-A);break}A+=j.length,yield*j}else yield*j}async*listGroupRuns(e){const{projectId:n,projectName:r,groupBy:i,filter:a,startTime:s,endTime:o,limit:l,offset:c}=e,f={session_id:n||(await this.readProject({projectName:r})).id,group_by:i,filter:a,start_time:s?s.toISOString():null,end_time:o?o.toISOString():null,limit:Number(l)||100};let h=Number(c)||0;const p="/runs/group",m=`${this.apiUrl}${p}`;for(;;){const g={...f,offset:h},v=Object.fromEntries(Object.entries(g).filter(([E,A])=>A!==void 0)),y=JSON.stringify(v),x=await(await this.caller.call(async()=>{const E=await this._fetch(m,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:y});return await Ie(E,`Failed to fetch ${p}`),E})).json(),{groups:w,total:S}=x;if(w.length===0)break;for(const E of w)yield E;if(h+=w.length,h>=S)break}}async getRunStats({id:e,trace:n,parentRun:r,runType:i,projectNames:a,projectIds:s,referenceExampleIds:o,startTime:l,endTime:c,error:d,query:f,filter:h,traceFilter:p,treeFilter:m,isRoot:g,dataSourceType:v}){let y=s||[];a&&(y=[...s||[],...await Promise.all(a.map(A=>this.readProject({projectName:A}).then(j=>j.id)))]);const x=Object.fromEntries(Object.entries({id:e,trace:n,parent_run:r,run_type:i,session:y,reference_example:o,start_time:l,end_time:c,error:d,query:f,filter:h,trace_filter:p,tree_filter:m,is_root:g,data_source_type:v}).filter(([A,j])=>j!==void 0)),w=JSON.stringify(x);return await(await this.caller.call(async()=>{const A=await this._fetch(`${this.apiUrl}/runs/stats`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:w});return await Ie(A,"get run stats"),A})).json()}async shareRun(e,{shareId:n}={}){const r={run_id:e,share_token:n||jr()};Ye(e);const i=JSON.stringify(r),s=await(await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/runs/${e}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await Ie(o,"share run"),o})).json();if(s===null||!("share_token"in s))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${s.share_token}/r`}async unshareRun(e){Ye(e),await this.caller.call(async()=>{const n=await this._fetch(`${this.apiUrl}/runs/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ie(n,"unshare run",!0),n})}async readRunSharedLink(e){Ye(e);const r=await(await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/runs/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ie(i,"read run shared link"),i})).json();if(!(r===null||!("share_token"in r)))return`${this.getHostUrl()}/public/${r.share_token}/r`}async listSharedRuns(e,{runIds:n}={}){const r=new URLSearchParams({share_token:e});if(n!==void 0)for(const s of n)r.append("id",s);return Ye(e),await(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/public/${e}/runs${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ie(s,"list shared runs"),s})).json()}async readDatasetSharedSchema(e,n){if(!e&&!n)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:n})).id),Ye(e);const i=await(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}/datasets/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ie(a,"read dataset shared schema"),a})).json();return i.url=`${this.getHostUrl()}/public/${i.share_token}/d`,i}async shareDataset(e,n){if(!e&&!n)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:n})).id);const r={dataset_id:e};Ye(e);const i=JSON.stringify(r),s=await(await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/datasets/${e}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await Ie(o,"share dataset"),o})).json();return s.url=`${this.getHostUrl()}/public/${s.share_token}/d`,s}async unshareDataset(e){Ye(e),await this.caller.call(async()=>{const n=await this._fetch(`${this.apiUrl}/datasets/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ie(n,"unshare dataset",!0),n})}async readSharedDataset(e){return Ye(e),await(await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/public/${e}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ie(i,"read shared dataset"),i})).json()}async listSharedExamples(e,n){const r={};n!=null&&n.exampleIds&&(r.id=n.exampleIds);const i=new URLSearchParams;Object.entries(r).forEach(([o,l])=>{Array.isArray(l)?l.forEach(c=>i.append(o,c)):i.append(o,l)});const a=await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/public/${e}/examples?${i.toString()}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ie(o,"list shared examples"),o}),s=await a.json();if(!a.ok)throw"detail"in s?new Error(`Failed to list shared examples.
Status: ${a.status}
Message: ${Array.isArray(s.detail)?s.detail.join(`
`):"Unspecified error"}`):new Error(`Failed to list shared examples: ${a.status} ${a.statusText}`);return s.map(o=>({...o,_hostUrl:this.getHostUrl()}))}async createProject({projectName:e,description:n=null,metadata:r=null,upsert:i=!1,projectExtra:a=null,referenceDatasetId:s=null}){const o=i?"?upsert=true":"",l=`${this.apiUrl}/sessions${o}`,c=a||{};r&&(c.metadata=r);const d={name:e,extra:c,description:n};s!==null&&(d.reference_dataset_id=s);const f=JSON.stringify(d);return await(await this.caller.call(async()=>{const m=await this._fetch(l,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:f});return await Ie(m,"create project"),m})).json()}async updateProject(e,{name:n=null,description:r=null,metadata:i=null,projectExtra:a=null,endTime:s=null}){const o=`${this.apiUrl}/sessions/${e}`;let l=a;i&&(l={...l||{},metadata:i});const c=JSON.stringify({name:n,extra:l,description:r,end_time:s?new Date(s).toISOString():null});return await(await this.caller.call(async()=>{const h=await this._fetch(o,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await Ie(h,"update project"),h})).json()}async hasProject({projectId:e,projectName:n}){let r="/sessions";const i=new URLSearchParams;if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)Ye(e),r+=`/${e}`;else if(n!==void 0)i.append("name",n);else throw new Error("Must provide projectName or projectId");const a=await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}${r}?${i}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ie(s,"has project"),s});try{const s=await a.json();return a.ok?Array.isArray(s)?s.length>0:!0:!1}catch{return!1}}async readProject({projectId:e,projectName:n,includeStats:r}){let i="/sessions";const a=new URLSearchParams;if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)Ye(e),i+=`/${e}`;else if(n!==void 0)a.append("name",n);else throw new Error("Must provide projectName or projectId");r!==void 0&&a.append("include_stats",r.toString());const s=await this._get(i,a);let o;if(Array.isArray(s)){if(s.length===0)throw new Error(`Project[id=${e}, name=${n}] not found`);o=s[0]}else o=s;return o}async getProjectUrl({projectId:e,projectName:n}){if(e===void 0&&n===void 0)throw new Error("Must provide either projectName or projectId");const r=await this.readProject({projectId:e,projectName:n}),i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/projects/p/${r.id}`}async getDatasetUrl({datasetId:e,datasetName:n}){if(e===void 0&&n===void 0)throw new Error("Must provide either datasetName or datasetId");const r=await this.readDataset({datasetId:e,datasetName:n}),i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/datasets/${r.id}`}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;const e=new URLSearchParams({limit:"1"});for await(const n of this._getPaginated("/sessions",e))return this._tenantId=n[0].tenant_id,n[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:e,name:n,nameContains:r,referenceDatasetId:i,referenceDatasetName:a,includeStats:s,datasetVersion:o,referenceFree:l,metadata:c}={}){const d=new URLSearchParams;if(e!==void 0)for(const f of e)d.append("id",f);if(n!==void 0&&d.append("name",n),r!==void 0&&d.append("name_contains",r),i!==void 0)d.append("reference_dataset",i);else if(a!==void 0){const f=await this.readDataset({datasetName:a});d.append("reference_dataset",f.id)}s!==void 0&&d.append("include_stats",s.toString()),o!==void 0&&d.append("dataset_version",o),l!==void 0&&d.append("reference_free",l.toString()),c!==void 0&&d.append("metadata",JSON.stringify(c));for await(const f of this._getPaginated("/sessions",d))yield*f}async deleteProject({projectId:e,projectName:n}){let r;if(e===void 0&&n===void 0)throw new Error("Must provide projectName or projectId");if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");e===void 0?r=(await this.readProject({projectName:n})).id:r=e,Ye(r),await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/sessions/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ie(i,`delete session ${r} (${n})`,!0),i})}async uploadCsv({csvFile:e,fileName:n,inputKeys:r,outputKeys:i,description:a,dataType:s,name:o}){const l=`${this.apiUrl}/datasets/upload`,c=new FormData;return c.append("file",e,n),r.forEach(h=>{c.append("input_keys",h)}),i.forEach(h=>{c.append("output_keys",h)}),a&&c.append("description",a),s&&c.append("data_type",s),o&&c.append("name",o),await(await this.caller.call(async()=>{const h=await this._fetch(l,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await Ie(h,"upload CSV"),h})).json()}async createDataset(e,{description:n,dataType:r,inputsSchema:i,outputsSchema:a,metadata:s}={}){const o={name:e,description:n,extra:s?{metadata:s}:void 0};r&&(o.data_type=r),i&&(o.inputs_schema_definition=i),a&&(o.outputs_schema_definition=a);const l=JSON.stringify(o);return await(await this.caller.call(async()=>{const f=await this._fetch(`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Ie(f,"create dataset"),f})).json()}async readDataset({datasetId:e,datasetName:n}){let r="/datasets";const i=new URLSearchParams({limit:"1"});if(e&&n)throw new Error("Must provide either datasetName or datasetId, not both");if(e)Ye(e),r+=`/${e}`;else if(n)i.append("name",n);else throw new Error("Must provide datasetName or datasetId");const a=await this._get(r,i);let s;if(Array.isArray(a)){if(a.length===0)throw new Error(`Dataset[id=${e}, name=${n}] not found`);s=a[0]}else s=a;return s}async hasDataset({datasetId:e,datasetName:n}){try{return await this.readDataset({datasetId:e,datasetName:n}),!0}catch(r){if(r instanceof Error&&r.message.toLocaleLowerCase().includes("not found"))return!1;throw r}}async diffDatasetVersions({datasetId:e,datasetName:n,fromVersion:r,toVersion:i}){let a=e;if(a===void 0&&n===void 0)throw new Error("Must provide either datasetName or datasetId");if(a!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");a===void 0&&(a=(await this.readDataset({datasetName:n})).id);const s=new URLSearchParams({from_version:typeof r=="string"?r:r.toISOString(),to_version:typeof i=="string"?i:i.toISOString()});return await this._get(`/datasets/${a}/versions/diff`,s)}async readDatasetOpenaiFinetuning({datasetId:e,datasetName:n}){const r="/datasets";if(e===void 0)if(n!==void 0)e=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide either datasetName or datasetId");return(await(await this._getResponse(`${r}/${e}/openai_ft`)).text()).trim().split(`
`).map(o=>JSON.parse(o))}async*listDatasets({limit:e=100,offset:n=0,datasetIds:r,datasetName:i,datasetNameContains:a,metadata:s}={}){const o="/datasets",l=new URLSearchParams({limit:e.toString(),offset:n.toString()});if(r!==void 0)for(const c of r)l.append("id",c);i!==void 0&&l.append("name",i),a!==void 0&&l.append("name_contains",a),s!==void 0&&l.append("metadata",JSON.stringify(s));for await(const c of this._getPaginated(o,l))yield*c}async updateDataset(e){const{datasetId:n,datasetName:r,...i}=e;if(!n&&!r)throw new Error("Must provide either datasetName or datasetId");const a=n??(await this.readDataset({datasetName:r})).id;Ye(a);const s=JSON.stringify(i);return await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/datasets/${a}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Ie(l,"update dataset"),l})).json()}async updateDatasetTag(e){const{datasetId:n,datasetName:r,asOf:i,tag:a}=e;if(!n&&!r)throw new Error("Must provide either datasetName or datasetId");const s=n??(await this.readDataset({datasetName:r})).id;Ye(s);const o=JSON.stringify({as_of:typeof i=="string"?i:i.toISOString(),tag:a});await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/datasets/${s}/tags`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Ie(l,"update dataset tags",!0),l})}async deleteDataset({datasetId:e,datasetName:n}){let r="/datasets",i=e;if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(n!==void 0&&(i=(await this.readDataset({datasetName:n})).id),i!==void 0)Ye(i),r+=`/${i}`;else throw new Error("Must provide datasetName or datasetId");await this.caller.call(async()=>{const a=await this._fetch(this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ie(a,`delete ${r}`,!0),a})}async indexDataset({datasetId:e,datasetName:n,tag:r}){let i=e;if(!i&&!n)throw new Error("Must provide either datasetName or datasetId");if(i&&n)throw new Error("Must provide either datasetName or datasetId, not both");i||(i=(await this.readDataset({datasetName:n})).id),Ye(i);const s=JSON.stringify({tag:r});await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/datasets/${i}/index`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Ie(l,"index dataset"),l})).json()}async similarExamples(e,n,r,{filter:i}={}){const a={limit:r,inputs:e};i!==void 0&&(a.filter=i),Ye(n);const s=JSON.stringify(a);return(await(await this.caller.call(async()=>{const c=await this._fetch(`${this.apiUrl}/datasets/${n}/search`,{headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,method:"POST",body:s});return await Ie(c,"fetch similar examples"),c})).json()).examples}async createExample(e,n,r){var d;if(h$(e)&&(n!==void 0||r!==void 0))throw new Error("Cannot provide outputs or options when using ExampleCreate object");let i=n?r==null?void 0:r.datasetId:e.dataset_id;const a=n?r==null?void 0:r.datasetName:e.dataset_name;if(i===void 0&&a===void 0)throw new Error("Must provide either datasetName or datasetId");if(i!==void 0&&a!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");i===void 0&&(i=(await this.readDataset({datasetName:a})).id);const s=(n?r==null?void 0:r.createdAt:e.created_at)||new Date;let o;h$(e)?o=e:o={inputs:e,outputs:n,created_at:s==null?void 0:s.toISOString(),id:r==null?void 0:r.exampleId,metadata:r==null?void 0:r.metadata,split:r==null?void 0:r.split,source_run_id:r==null?void 0:r.sourceRunId,use_source_run_io:r==null?void 0:r.useSourceRunIO,use_source_run_attachments:r==null?void 0:r.useSourceRunAttachments,attachments:r==null?void 0:r.attachments};const l=await this._uploadExamplesMultipart(i,[o]);return await this.readExample(((d=l.example_ids)==null?void 0:d[0])??jr())}async createExamples(e){if(Array.isArray(e)){if(e.length===0)return[];const b=e;let x=b[0].dataset_id;const w=b[0].dataset_name;if(x===void 0&&w===void 0)throw new Error("Must provide either datasetName or datasetId");if(x!==void 0&&w!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");x===void 0&&(x=(await this.readDataset({datasetName:w})).id);const S=await this._uploadExamplesMultipart(x,b);return await Promise.all(S.example_ids.map(A=>this.readExample(A)))}const{inputs:n,outputs:r,metadata:i,splits:a,sourceRunIds:s,useSourceRunIOs:o,useSourceRunAttachments:l,attachments:c,exampleIds:d,datasetId:f,datasetName:h}=e;if(n===void 0)throw new Error("Must provide inputs when using legacy parameters");let p=f;const m=h;if(p===void 0&&m===void 0)throw new Error("Must provide either datasetName or datasetId");if(p!==void 0&&m!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");p===void 0&&(p=(await this.readDataset({datasetName:m})).id);const g=n.map((b,x)=>({dataset_id:p,inputs:b,outputs:r==null?void 0:r[x],metadata:i==null?void 0:i[x],split:a==null?void 0:a[x],id:d==null?void 0:d[x],attachments:c==null?void 0:c[x],source_run_id:s==null?void 0:s[x],use_source_run_io:o==null?void 0:o[x],use_source_run_attachments:l==null?void 0:l[x]})),v=await this._uploadExamplesMultipart(p,g);return await Promise.all(v.example_ids.map(b=>this.readExample(b)))}async createLLMExample(e,n,r){return this.createExample({input:e},{output:n},r)}async createChatExample(e,n,r){const i=e.map(s=>B2(s)?z2(s):s),a=B2(n)?z2(n):n;return this.createExample({input:i},{output:a},r)}async readExample(e){Ye(e);const n=`/examples/${e}`,r=await this._get(n),{attachment_urls:i,...a}=r,s=a;return i&&(s.attachments=Object.entries(i).reduce((o,[l,c])=>(o[l.slice(11)]={presigned_url:c.presigned_url,mime_type:c.mime_type},o),{})),s}async*listExamples({datasetId:e,datasetName:n,exampleIds:r,asOf:i,splits:a,inlineS3Urls:s,metadata:o,limit:l,offset:c,filter:d,includeAttachments:f}={}){let h;if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)h=e;else if(n!==void 0)h=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide a datasetName or datasetId");const p=new URLSearchParams({dataset:h}),m=i?typeof i=="string"?i:i==null?void 0:i.toISOString():void 0;m&&p.append("as_of",m);const g=s??!0;if(p.append("inline_s3_urls",g.toString()),r!==void 0)for(const y of r)p.append("id",y);if(a!==void 0)for(const y of a)p.append("splits",y);if(o!==void 0){const y=JSON.stringify(o);p.append("metadata",y)}l!==void 0&&p.append("limit",l.toString()),c!==void 0&&p.append("offset",c.toString()),d!==void 0&&p.append("filter",d),f===!0&&["attachment_urls","outputs","metadata"].forEach(y=>p.append("select",y));let v=0;for await(const y of this._getPaginated("/examples",p)){for(const b of y){const{attachment_urls:x,...w}=b,S=w;x&&(S.attachments=Object.entries(x).reduce((E,[A,j])=>(E[A.slice(11)]={presigned_url:j.presigned_url,mime_type:j.mime_type||void 0},E),{})),yield S,v++}if(l!==void 0&&v>=l)break}}async deleteExample(e){Ye(e);const n=`/examples/${e}`;await this.caller.call(async()=>{const r=await this._fetch(this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ie(r,`delete ${n}`,!0),r})}async updateExample(e,n){let r;n?r=e:r=e.id,Ye(r);let i;n?i={id:r,...n}:i=e;let a;return i.dataset_id!==void 0?a=i.dataset_id:a=(await this.readExample(r)).dataset_id,this._updateExamplesMultipart(a,[i])}async updateExamples(e){let n;return e[0].dataset_id===void 0?n=(await this.readExample(e[0].id)).dataset_id:n=e[0].dataset_id,this._updateExamplesMultipart(n,e)}async readDatasetVersion({datasetId:e,datasetName:n,asOf:r,tag:i}){let a;if(e?a=e:a=(await this.readDataset({datasetName:n})).id,Ye(a),r&&i||!r&&!i)throw new Error("Exactly one of asOf and tag must be specified.");const s=new URLSearchParams;return r!==void 0&&s.append("as_of",typeof r=="string"?r:r.toISOString()),i!==void 0&&s.append("tag",i),await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/datasets/${a}/version?${s.toString()}`,{method:"GET",headers:{...this.headers},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ie(l,"read dataset version"),l})).json()}async listDatasetSplits({datasetId:e,datasetName:n,asOf:r}){let i;if(e===void 0&&n===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?i=(await this.readDataset({datasetName:n})).id:i=e,Ye(i);const a=new URLSearchParams,s=r?typeof r=="string"?r:r==null?void 0:r.toISOString():void 0;return s&&a.append("as_of",s),await this._get(`/datasets/${i}/splits`,a)}async updateDatasetSplits({datasetId:e,datasetName:n,splitName:r,exampleIds:i,remove:a=!1}){let s;if(e===void 0&&n===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?s=(await this.readDataset({datasetName:n})).id:s=e,Ye(s);const o={split_name:r,examples:i.map(c=>(Ye(c),c)),remove:a},l=JSON.stringify(o);await this.caller.call(async()=>{const c=await this._fetch(`${this.apiUrl}/datasets/${s}/splits`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Ie(c,"update dataset splits",!0),c})}async evaluateRun(e,n,{sourceInfo:r,loadChildRuns:i,referenceExample:a}={loadChildRuns:!1}){ME("This method is deprecated and will be removed in future LangSmith versions, use `evaluate` from `langsmith/evaluation` instead.");let s;if(typeof e=="string")s=await this.readRun(e,{loadChildRuns:i});else if(typeof e=="object"&&"id"in e)s=e;else throw new Error(`Invalid run type: ${typeof e}`);s.reference_example_id!==null&&s.reference_example_id!==void 0&&(a=await this.readExample(s.reference_example_id));const o=await n.evaluateRun(s,a),[l,c]=await this._logEvaluationFeedback(o,s,r);return c[0]}async createFeedback(e,n,{score:r,value:i,correction:a,comment:s,sourceInfo:o,feedbackSourceType:l="api",sourceRunId:c,feedbackId:d,feedbackConfig:f,projectId:h,comparativeExperimentId:p}){var b;if(!e&&!h)throw new Error("One of runId or projectId must be provided");if(e&&h)throw new Error("Only one of runId or projectId can be provided");const m={type:l??"api",metadata:o??{}};c!==void 0&&(m==null?void 0:m.metadata)!==void 0&&!m.metadata.__run&&(m.metadata.__run={run_id:c}),(m==null?void 0:m.metadata)!==void 0&&((b=m.metadata.__run)==null?void 0:b.run_id)!==void 0&&Ye(m.metadata.__run.run_id);const g={id:d??jr(),run_id:e,key:n,score:d$(r),value:i,correction:a,comment:s,feedback_source:m,comparative_experiment_id:p,feedbackConfig:f,session_id:h},v=JSON.stringify(g),y=`${this.apiUrl}/feedback`;return await this.caller.call(async()=>{const x=await this._fetch(y,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:v});return await Ie(x,"create feedback",!0),x}),g}async updateFeedback(e,{score:n,value:r,correction:i,comment:a}){const s={};n!=null&&(s.score=d$(n)),r!=null&&(s.value=r),i!=null&&(s.correction=i),a!=null&&(s.comment=a),Ye(e);const o=JSON.stringify(s);await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/feedback/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Ie(l,"update feedback",!0),l})}async readFeedback(e){Ye(e);const n=`/feedback/${e}`;return await this._get(n)}async deleteFeedback(e){Ye(e);const n=`/feedback/${e}`;await this.caller.call(async()=>{const r=await this._fetch(this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ie(r,`delete ${n}`,!0),r})}async*listFeedback({runIds:e,feedbackKeys:n,feedbackSourceTypes:r}={}){const i=new URLSearchParams;if(e)for(const a of e)Ye(a),i.append("run",a);if(n)for(const a of n)i.append("key",a);if(r)for(const a of r)i.append("source",a);for await(const a of this._getPaginated("/feedback",i))yield*a}async createPresignedFeedbackToken(e,n,{expiration:r,feedbackConfig:i}={}){const a={run_id:e,feedback_key:n,feedback_config:i};r?typeof r=="string"?a.expires_at=r:(r!=null&&r.hours||r!=null&&r.minutes||r!=null&&r.days)&&(a.expires_in=r):a.expires_in={hours:3};const s=JSON.stringify(a);return await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Ie(l,"create presigned feedback token"),l})).json()}async createComparativeExperiment({name:e,experimentIds:n,referenceDatasetId:r,createdAt:i,description:a,metadata:s,id:o}){var f;if(n.length===0)throw new Error("At least one experiment is required");if(r||(r=(await this.readProject({projectId:n[0]})).reference_dataset_id),!r==null)throw new Error("A reference dataset is required");const l={id:o,name:e,experiment_ids:n,reference_dataset_id:r,description:a,created_at:(f=i??new Date)==null?void 0:f.toISOString(),extra:{}};s&&(l.extra.metadata=s);const c=JSON.stringify(l);return(await this.caller.call(async()=>{const h=await this._fetch(`${this.apiUrl}/datasets/comparative`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await Ie(h,"create comparative experiment"),h})).json()}async*listPresignedFeedbackTokens(e){Ye(e);const n=new URLSearchParams({run_id:e});for await(const r of this._getPaginated("/feedback/tokens",n))yield*r}_selectEvalResults(e){let n;return"results"in e?n=e.results:Array.isArray(e)?n=e:n=[e],n}async _logEvaluationFeedback(e,n,r){const i=this._selectEvalResults(e),a=[];for(const s of i){let o=r||{};s.evaluatorInfo&&(o={...s.evaluatorInfo,...o});let l=null;s.targetRunId?l=s.targetRunId:n&&(l=n.id),a.push(await this.createFeedback(l,s.key,{score:s.score,value:s.value,comment:s.comment,correction:s.correction,sourceInfo:o,sourceRunId:s.sourceRunId,feedbackConfig:s.feedbackConfig,feedbackSourceType:"model"}))}return[i,a]}async logEvaluationFeedback(e,n,r){const[i]=await this._logEvaluationFeedback(e,n,r);return i}async*listAnnotationQueues(e={}){const{queueIds:n,name:r,nameContains:i,limit:a}=e,s=new URLSearchParams;n&&n.forEach((l,c)=>{Ye(l,`queueIds[${c}]`),s.append("ids",l)}),r&&s.append("name",r),i&&s.append("name_contains",i),s.append("limit",(a!==void 0?Math.min(a,100):100).toString());let o=0;for await(const l of this._getPaginated("/annotation-queues",s))if(yield*l,o++,a!==void 0&&o>=a)break}async createAnnotationQueue(e){const{name:n,description:r,queueId:i,rubricInstructions:a}=e,s={name:n,description:r,id:i||jr(),rubric_instructions:a},o=JSON.stringify(Object.fromEntries(Object.entries(s).filter(([c,d])=>d!==void 0)));return(await this.caller.call(async()=>{const c=await this._fetch(`${this.apiUrl}/annotation-queues`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await Ie(c,"create annotation queue"),c})).json()}async readAnnotationQueue(e){return(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ie(r,"read annotation queue"),r})).json()}async updateAnnotationQueue(e,n){const{name:r,description:i,rubricInstructions:a}=n,s=JSON.stringify({name:r,description:i,rubric_instructions:a});await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Ie(o,"update annotation queue",!0),o})}async deleteAnnotationQueue(e){await this.caller.call(async()=>{const n=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ie(n,"delete annotation queue",!0),n})}async addRunsToAnnotationQueue(e,n){const r=JSON.stringify(n.map((i,a)=>Ye(i,`runIds[${a}]`).toString()));await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}/runs`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Ie(i,"add runs to annotation queue",!0),i})}async getRunFromAnnotationQueue(e,n){const r=`/annotation-queues/${Ye(e,"queueId")}/run`;return(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}${r}/${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ie(a,"get run from annotation queue"),a})).json()}async deleteRunFromAnnotationQueue(e,n){await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}/runs/${Ye(n,"queueRunId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ie(r,"delete run from annotation queue",!0),r})}async getSizeFromAnnotationQueue(e){return(await this.caller.call(async()=>{const r=await this._fetch(`${this.apiUrl}/annotation-queues/${Ye(e,"queueId")}/size`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ie(r,"get size from annotation queue"),r})).json()}async _currentTenantIsOwner(e){const n=await this._getSettings();return e=="-"||n.tenant_handle===e}async _ownerConflictError(e,n){const r=await this._getSettings();return new Error(`Cannot ${e} for another tenant.

      Current tenant: ${r.tenant_handle}

      Requested tenant: ${n}`)}async _getLatestCommitHash(e){const r=await(await this.caller.call(async()=>{const i=await this._fetch(`${this.apiUrl}/commits/${e}/?limit=1&offset=0`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ie(i,"get latest commit hash"),i})).json();if(r.commits.length!==0)return r.commits[0].commit_hash}async _likeOrUnlikePrompt(e,n){const[r,i,a]=xo(e),s=JSON.stringify({like:n});return(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/likes/${r}/${i}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Ie(l,`${n?"like":"unlike"} prompt`),l})).json()}async _getPromptUrl(e){const[n,r,i]=xo(e);if(await this._currentTenantIsOwner(n)){const a=await this._getSettings();return i!=="latest"?`${this.getHostUrl()}/prompts/${r}/${i.substring(0,8)}?organizationId=${a.id}`:`${this.getHostUrl()}/prompts/${r}?organizationId=${a.id}`}else return i!=="latest"?`${this.getHostUrl()}/hub/${n}/${r}/${i.substring(0,8)}`:`${this.getHostUrl()}/hub/${n}/${r}`}async promptExists(e){return!!await this.getPrompt(e)}async likePrompt(e){return this._likeOrUnlikePrompt(e,!0)}async unlikePrompt(e){return this._likeOrUnlikePrompt(e,!1)}async*listCommits(e){for await(const n of this._getPaginated(`/commits/${e}/`,new URLSearchParams,r=>r.commits))yield*n}async*listPrompts(e){const n=new URLSearchParams;n.append("sort_field",(e==null?void 0:e.sortField)??"updated_at"),n.append("sort_direction","desc"),n.append("is_archived",(!!(e!=null&&e.isArchived)).toString()),(e==null?void 0:e.isPublic)!==void 0&&n.append("is_public",e.isPublic.toString()),e!=null&&e.query&&n.append("query",e.query);for await(const r of this._getPaginated("/repos",n,i=>i.repos))yield*r}async getPrompt(e){const[n,r,i]=xo(e),a=await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}/repos/${n}/${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return(o==null?void 0:o.status)===404?null:(await Ie(o,"get prompt"),o)}),s=await(a==null?void 0:a.json());return s!=null&&s.repo?s.repo:null}async createPrompt(e,n){const r=await this._getSettings();if(n!=null&&n.isPublic&&!r.tenant_handle)throw new Error(`Cannot create a public prompt without first

        creating a LangChain Hub handle.
        You can add a handle by creating a public prompt at:

        https://smith.langchain.com/prompts`);const[i,a,s]=xo(e);if(!await this._currentTenantIsOwner(i))throw await this._ownerConflictError("create a prompt",i);const o={repo_handle:a,...(n==null?void 0:n.description)&&{description:n.description},...(n==null?void 0:n.readme)&&{readme:n.readme},...(n==null?void 0:n.tags)&&{tags:n.tags},is_public:!!(n!=null&&n.isPublic)},l=JSON.stringify(o),c=await this.caller.call(async()=>{const f=await this._fetch(`${this.apiUrl}/repos/`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await Ie(f,"create prompt"),f}),{repo:d}=await c.json();return d}async createCommit(e,n,r){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[i,a,s]=xo(e),o=(r==null?void 0:r.parentCommitHash)==="latest"||!(r!=null&&r.parentCommitHash)?await this._getLatestCommitHash(`${i}/${a}`):r==null?void 0:r.parentCommitHash,l={manifest:JSON.parse(JSON.stringify(n)),parent_commit:o},c=JSON.stringify(l),f=await(await this.caller.call(async()=>{const h=await this._fetch(`${this.apiUrl}/commits/${i}/${a}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:c});return await Ie(h,"create commit"),h})).json();return this._getPromptUrl(`${i}/${a}${f.commit_hash?`:${f.commit_hash}`:""}`)}async updateExamplesMultipart(e,n=[]){return this._updateExamplesMultipart(e,n)}async _updateExamplesMultipart(e,n=[]){var s;if(!await this._getDatasetExamplesMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const r=new FormData;for(const o of n){const l=o.id,c={...o.metadata&&{metadata:o.metadata},...o.split&&{split:o.split}},d=Dr(c,`Serializing body for example with id: ${l}`),f=new Blob([d],{type:"application/json"});if(r.append(l,f),o.inputs){const h=Dr(o.inputs,`Serializing inputs for example with id: ${l}`),p=new Blob([h],{type:"application/json"});r.append(`${l}.inputs`,p)}if(o.outputs){const h=Dr(o.outputs,`Serializing outputs whle updating example with id: ${l}`),p=new Blob([h],{type:"application/json"});r.append(`${l}.outputs`,p)}if(o.attachments)for(const[h,p]of Object.entries(o.attachments)){let m,g;Array.isArray(p)?[m,g]=p:(m=p.mimeType,g=p.data);const v=new Blob([g],{type:`${m}; length=${g.byteLength}`});r.append(`${l}.attachment.${h}`,v)}if(o.attachments_operations){const h=Dr(o.attachments_operations,`Serializing attachments while updating example with id: ${l}`),p=new Blob([h],{type:"application/json"});r.append(`${l}.attachments_operations`,p)}}const i=e??((s=n[0])==null?void 0:s.dataset_id);return(await this.caller.call(async()=>{const o=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${i}/examples`)}`,{method:"PATCH",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Ie(o,"update examples"),o})).json()}async uploadExamplesMultipart(e,n=[]){return this._uploadExamplesMultipart(e,n)}async _uploadExamplesMultipart(e,n=[]){if(!await this._getDatasetExamplesMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const r=new FormData;for(const a of n){const s=(a.id??jr()).toString(),o={created_at:a.created_at,...a.metadata&&{metadata:a.metadata},...a.split&&{split:a.split},...a.source_run_id&&{source_run_id:a.source_run_id},...a.use_source_run_io&&{use_source_run_io:a.use_source_run_io},...a.use_source_run_attachments&&{use_source_run_attachments:a.use_source_run_attachments}},l=Dr(o,`Serializing body for uploaded example with id: ${s}`),c=new Blob([l],{type:"application/json"});if(r.append(s,c),a.inputs){const d=Dr(a.inputs,`Serializing inputs for uploaded example with id: ${s}`),f=new Blob([d],{type:"application/json"});r.append(`${s}.inputs`,f)}if(a.outputs){const d=Dr(a.outputs,`Serializing outputs for uploaded example with id: ${s}`),f=new Blob([d],{type:"application/json"});r.append(`${s}.outputs`,f)}if(a.attachments)for(const[d,f]of Object.entries(a.attachments)){let h,p;Array.isArray(f)?[h,p]=f:(h=f.mimeType,p=f.data);const m=new Blob([p],{type:`${h}; length=${p.byteLength}`});r.append(`${s}.attachment.${d}`,m)}}return(await this.caller.call(async()=>{const a=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${e}/examples`)}`,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await Ie(a,"upload examples"),a})).json()}async updatePrompt(e,n){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[r,i]=xo(e);if(!await this._currentTenantIsOwner(r))throw await this._ownerConflictError("update a prompt",r);const a={};if((n==null?void 0:n.description)!==void 0&&(a.description=n.description),(n==null?void 0:n.readme)!==void 0&&(a.readme=n.readme),(n==null?void 0:n.tags)!==void 0&&(a.tags=n.tags),(n==null?void 0:n.isPublic)!==void 0&&(a.is_public=n.isPublic),(n==null?void 0:n.isArchived)!==void 0&&(a.is_archived=n.isArchived),Object.keys(a).length===0)throw new Error("No valid update options provided");const s=JSON.stringify(a);return(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/repos/${r}/${i}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await Ie(l,"update prompt"),l})).json()}async deletePrompt(e){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[n,r,i]=xo(e);if(!await this._currentTenantIsOwner(n))throw await this._ownerConflictError("delete a prompt",n);return(await this.caller.call(async()=>{const s=await this._fetch(`${this.apiUrl}/repos/${n}/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ie(s,"delete prompt"),s})).json()}async pullPromptCommit(e,n){const[r,i,a]=xo(e),o=await(await this.caller.call(async()=>{const l=await this._fetch(`${this.apiUrl}/commits/${r}/${i}/${a}${n!=null&&n.includeModel?"?include_model=true":""}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Ie(l,"pull prompt commit"),l})).json();return{owner:r,repo:i,commit_hash:o.commit_hash,manifest:o.manifest,examples:o.examples}}async _pullPrompt(e,n){const r=await this.pullPromptCommit(e,{includeModel:n==null?void 0:n.includeModel});return JSON.stringify(r.manifest)}async pushPrompt(e,n){return await this.promptExists(e)?n&&Object.keys(n).some(i=>i!=="object")&&await this.updatePrompt(e,{description:n==null?void 0:n.description,readme:n==null?void 0:n.readme,tags:n==null?void 0:n.tags,isPublic:n==null?void 0:n.isPublic}):await this.createPrompt(e,{description:n==null?void 0:n.description,readme:n==null?void 0:n.readme,tags:n==null?void 0:n.tags,isPublic:n==null?void 0:n.isPublic}),n!=null&&n.object?await this.createCommit(e,n==null?void 0:n.object,{parentCommitHash:n==null?void 0:n.parentCommitHash}):await this._getPromptUrl(e)}async clonePublicDataset(e,n={}){const{sourceApiUrl:r=this.apiUrl,datasetName:i}=n,[a,s]=this.parseTokenOrUrl(e,r),o=new Bd({apiUrl:a,apiKey:"placeholder"}),l=await o.readSharedDataset(s),c=i||l.name;try{if(await this.hasDataset({datasetId:c})){console.log(`Dataset ${c} already exists in your tenant. Skipping.`);return}}catch{}const d=await o.listSharedExamples(s),f=await this.createDataset(c,{description:l.description,dataType:l.data_type||"kv",inputsSchema:l.inputs_schema_definition??void 0,outputsSchema:l.outputs_schema_definition??void 0});try{await this.createExamples({inputs:d.map(h=>h.inputs),outputs:d.flatMap(h=>h.outputs?[h.outputs]:[]),datasetId:f.id})}catch(h){throw console.error(`An error occurred while creating dataset ${c}. You should delete it manually.`),h}}parseTokenOrUrl(e,n,r=2,i="dataset"){try{return Ye(e),[n,e]}catch{}try{const s=new URL(e).pathname.split("/").filter(o=>o!=="");if(s.length>=r){const o=s[s.length-r];return[n,o]}else throw new Error(`Invalid public ${i} URL: ${e}`)}catch{throw new Error(`Invalid public ${i} URL or token: ${e}`)}}async awaitPendingTraceBatches(){var e,n;if(this.manualFlushMode)return console.warn("[WARNING]: When tracing in manual flush mode, you must call `await client.flush()` manually to submit trace batches."),Promise.resolve();await Promise.all([...this.autoBatchQueue.items.map(({itemPromise:r})=>r),this.batchIngestCaller.queue.onIdle()]),this.langSmithToOTELTranslator!==void 0&&await((n=(e=lue())==null?void 0:e.DEFAULT_LANGSMITH_SPAN_PROCESSOR)==null?void 0:n.forceFlush())}}function h$(t){return"dataset_id"in t||"dataset_name"in t}const Bhe=t=>!!["TRACING_V2","TRACING"].find(n=>Ar(n)==="true"),tl=Symbol.for("lc:context_variables"),K_=Symbol.for("langsmith:replica_trace_roots");function p$(t,e){if(tl in t)return t[tl][e]}function zhe(t,e,n){const r=tl in t?t[tl]:{};r[e]=n,t[tl]=r}const dh=36,Ph="6ba7b810-9dad-11d1-80b4-00c04fd430c8";function m$(t){const n=Object.keys(t).sort().map(r=>`${r}:${t[r]??""}`).join("|");return Nh(n,Ph)}function Uhe(t){return t.replace(/[-:.]/g,"")}function QU(t,e=1){const n=e.toFixed(0).slice(0,3).padStart(3,"0");return`${new Date(t).toISOString().slice(0,-1)}${n}Z`}function e6(t,e,n=1){const r=QU(t,n);return{dottedOrder:Uhe(r)+e,microsecondPrecisionDatestring:r}}class r0{constructor(e,n,r,i){Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.metadata=e,this.tags=n,this.project_name=r,this.replicas=i}static fromHeader(e){const n=e.split(",");let r={},i=[],a,s;for(const o of n){const[l,c]=o.split("="),d=decodeURIComponent(c);l==="langsmith-metadata"?r=JSON.parse(d):l==="langsmith-tags"?i=d.split(","):l==="langsmith-project"?a=d:l==="langsmith-replicas"&&(s=JSON.parse(d))}return new r0(r,i,a,s)}toHeader(){const e=[];return this.metadata&&Object.keys(this.metadata).length>0&&e.push(`langsmith-metadata=${encodeURIComponent(JSON.stringify(this.metadata))}`),this.tags&&this.tags.length>0&&e.push(`langsmith-tags=${encodeURIComponent(this.tags.join(","))}`),this.project_name&&e.push(`langsmith-project=${encodeURIComponent(this.project_name)}`),e.join(",")}}class _r{constructor(e){var o;if(Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"run_type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_runs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"end_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extra",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reference_example_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dotted_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"attachments",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"distributedParentId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_serialized_start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Hhe(e)){Object.assign(this,{...e});return}const n=_r.getDefaultConfig(),{metadata:r,...i}=e,a=i.client??_r.getSharedClient(),s={...r,...(o=i==null?void 0:i.extra)==null?void 0:o.metadata};if(i.extra={...i.extra,metadata:s},"id"in i&&i.id==null&&delete i.id,Object.assign(this,{...n,...i,client:a}),this.execution_order??(this.execution_order=1),this.child_execution_order??(this.child_execution_order=1),this.dotted_order||(this._serialized_start_time=QU(this.start_time,this.execution_order)),this.id||(this.id=Kce(this._serialized_start_time??this.start_time)),this.trace_id||(this.parent_run?this.trace_id=this.parent_run.trace_id??this.id:this.trace_id=this.id),this.replicas=Ghe(this.replicas),!this.dotted_order){const{dottedOrder:l}=e6(this.start_time,this.id,this.execution_order);this.parent_run?this.dotted_order=this.parent_run.dotted_order+"."+l:this.dotted_order=l}}set metadata(e){var n;this.extra={...this.extra,metadata:{...(n=this.extra)==null?void 0:n.metadata,...e}}}get metadata(){var e;return(e=this.extra)==null?void 0:e.metadata}static getDefaultConfig(){const e=Date.now();return{run_type:"chain",project_name:kU(),child_runs:[],api_url:cs("LANGCHAIN_ENDPOINT")??"http://localhost:1984",api_key:cs("LANGCHAIN_API_KEY"),caller_options:{},start_time:e,serialized:{},inputs:{},extra:{}}}static getSharedClient(){return _r.sharedClient||(_r.sharedClient=new Bd),_r.sharedClient}createChild(e){var d,f,h,p,m,g,v;const n=this.child_execution_order+1,r=(d=this.replicas)==null?void 0:d.map(y=>{const{reroot:b,...x}=y;return x}),i=e.replicas??r,a=new _r({...e,parent_run:this,project_name:this.project_name,replicas:i,client:this.client,tracingEnabled:this.tracingEnabled,execution_order:n,child_execution_order:n});tl in this&&(a[tl]=this[tl]);const s=Symbol.for("lc:child_config"),o=((f=e.extra)==null?void 0:f[s])??this.extra[s];if(Whe(o)){const y={...o},b=Vhe(y.callbacks)?(p=(h=y.callbacks).copy)==null?void 0:p.call(h):void 0;b&&(Object.assign(b,{_parentRunId:a.id}),(v=(g=(m=b.handlers)==null?void 0:m.find(t6))==null?void 0:g.updateFromRunTree)==null||v.call(g,a),y.callbacks=b),a.extra[s]=y}const l=new Set;let c=this;for(;c!=null&&!l.has(c.id);)l.add(c.id),c.child_execution_order=Math.max(c.child_execution_order,n),c=c.parent_run;return this.child_runs.push(a),a}async end(e,n,r=Date.now(),i){this.outputs=this.outputs??e,this.error=this.error??n,this.end_time=this.end_time??r,i&&Object.keys(i).length>0&&(this.extra=this.extra?{...this.extra,metadata:{...this.extra.metadata,...i}}:{metadata:i})}_convertToCreate(e,n,r=!0){var o,l;const i=e.extra??{};if(((o=i==null?void 0:i.runtime)==null?void 0:o.library)===void 0&&(i.runtime||(i.runtime={}),n))for(const[c,d]of Object.entries(n))i.runtime[c]||(i.runtime[c]=d);let a,s;return r?(s=((l=e.parent_run)==null?void 0:l.id)??e.parent_run_id,a=[]):(a=e.child_runs.map(c=>this._convertToCreate(c,n,r)),s=void 0),{id:e.id,name:e.name,start_time:e._serialized_start_time??e.start_time,end_time:e.end_time,run_type:e.run_type,reference_example_id:e.reference_example_id,extra:i,serialized:e.serialized,error:e.error,inputs:e.inputs,outputs:e.outputs,session_name:e.project_name,child_runs:a,parent_run_id:s,trace_id:e.trace_id,dotted_order:e.dotted_order,tags:e.tags,attachments:e.attachments,events:e.events}}_sliceParentId(e,n){if(n.dotted_order){const r=n.dotted_order.split(".");let i=null;for(let a=0;a<r.length;a++)if(r[a].slice(-dh)===e){i=a;break}if(i!==null){const a=r.slice(i+1);n.dotted_order=a.join("."),a.length>0?n.trace_id=a[0].slice(-dh):n.trace_id=n.id}}n.parent_run_id===e&&(n.parent_run_id=void 0)}_setReplicaTraceRoot(e,n){const r=p$(this,K_)??{};r[e]=n,zhe(this,K_,r);for(const i of this.child_runs)i._setReplicaTraceRoot(e,n)}_remapForProject(e){const{projectName:n,runtimeEnv:r,excludeChildRuns:i=!0,reroot:a=!1,distributedParentId:s,apiUrl:o,apiKey:l,workspaceId:c}=e,d=this._convertToCreate(this,r,i);if(n===this.project_name)return{...d,session_name:n};if(a){if(s)this._sliceParentId(s,d);else if(d.parent_run_id=void 0,d.dotted_order){const b=d.dotted_order.split(".");b.length>0&&(d.dotted_order=b[b.length-1],d.trace_id=d.id)}const y=m$({projectName:n,apiUrl:o,apiKey:l,workspaceId:c});this._setReplicaTraceRoot(y,d.id)}let f;if(!a){const y=p$(this,K_)??{},b=m$({projectName:n,apiUrl:o,apiKey:l,workspaceId:c});if(f=y[b],f&&(d.trace_id=f,d.dotted_order)){const x=d.dotted_order.split(".");let w=null;for(let S=0;S<x.length;S++)if(x[S].slice(-dh)===f){w=S;break}if(w!==null){const S=x.slice(w);d.dotted_order=S.join(".")}}}const h=d.id,p=Nh(`${h}:${n}`,Ph);let m;d.trace_id?m=Nh(`${d.trace_id}:${n}`,Ph):m=p;let g;d.parent_run_id&&(g=Nh(`${d.parent_run_id}:${n}`,Ph));let v;return d.dotted_order&&(v=d.dotted_order.split(".").map(x=>{const w=x.slice(-dh),S=Nh(`${w}:${n}`,Ph);return x.slice(0,-dh)+S}).join(".")),{...d,id:p,trace_id:m,parent_run_id:g,dotted_order:v,session_name:n}}async postRun(e=!0){try{const n=IU();if(this.replicas&&this.replicas.length>0)for(const{projectName:r,apiKey:i,apiUrl:a,workspaceId:s,reroot:o}of this.replicas){const l=this._remapForProject({projectName:r??this.project_name,runtimeEnv:n,excludeChildRuns:!0,reroot:o,distributedParentId:this.distributedParentId,apiUrl:a,apiKey:i,workspaceId:s});await this.client.createRun(l,{apiKey:i,apiUrl:a,workspaceId:s})}else{const r=this._convertToCreate(this,n,e);await this.client.createRun(r)}if(!e){ME("Posting with excludeChildRuns=false is deprecated and will be removed in a future version.");for(const r of this.child_runs)await r.postRun(!1)}}catch(n){console.error(`Error in postRun for run ${this.id}:`,n)}}async patchRun(e){var n;if(this.replicas&&this.replicas.length>0)for(const{projectName:r,apiKey:i,apiUrl:a,workspaceId:s,updates:o,reroot:l}of this.replicas){const c=this._remapForProject({projectName:r??this.project_name,runtimeEnv:void 0,excludeChildRuns:!0,reroot:l,distributedParentId:this.distributedParentId,apiUrl:a,apiKey:i,workspaceId:s}),d={id:c.id,name:c.name,run_type:c.run_type,start_time:c.start_time,outputs:c.outputs,error:c.error,parent_run_id:c.parent_run_id,session_name:c.session_name,reference_example_id:c.reference_example_id,end_time:c.end_time,dotted_order:c.dotted_order,trace_id:c.trace_id,events:c.events,tags:c.tags,extra:c.extra,attachments:this.attachments,...o};e!=null&&e.excludeInputs||(d.inputs=c.inputs),await this.client.updateRun(c.id,d,{apiKey:i,apiUrl:a,workspaceId:s})}else try{const r={name:this.name,run_type:this.run_type,start_time:this._serialized_start_time??this.start_time,end_time:this.end_time,error:this.error,outputs:this.outputs,parent_run_id:((n=this.parent_run)==null?void 0:n.id)??this.parent_run_id,reference_example_id:this.reference_example_id,extra:this.extra,events:this.events,dotted_order:this.dotted_order,trace_id:this.trace_id,tags:this.tags,attachments:this.attachments,session_name:this.project_name};e!=null&&e.excludeInputs||(r.inputs=this.inputs),await this.client.updateRun(this.id,r)}catch(r){console.error(`Error in patchRun for run ${this.id}`,r)}}toJSON(){return this._convertToCreate(this,void 0,!1)}addEvent(e){this.events||(this.events=[]),typeof e=="string"?this.events.push({name:"event",time:new Date().toISOString(),message:e}):this.events.push({...e,time:e.time??new Date().toISOString()})}static fromRunnableConfig(e,n){var c,d,f,h;const r=e==null?void 0:e.callbacks;let i,a,s,o=Bhe();if(r){const p=((c=r==null?void 0:r.getParentRunId)==null?void 0:c.call(r))??"",m=(d=r==null?void 0:r.handlers)==null?void 0:d.find(g=>(g==null?void 0:g.name)=="langchain_tracer");i=(f=m==null?void 0:m.getRun)==null?void 0:f.call(m,p),a=m==null?void 0:m.projectName,s=m==null?void 0:m.client,o=o||!!m}return i?new _r({name:i.name,id:i.id,trace_id:i.trace_id,dotted_order:i.dotted_order,client:s,tracingEnabled:o,project_name:a,tags:[...new Set(((i==null?void 0:i.tags)??[]).concat((e==null?void 0:e.tags)??[]))],extra:{metadata:{...(h=i==null?void 0:i.extra)==null?void 0:h.metadata,...e==null?void 0:e.metadata}}}).createChild(n):new _r({...n,client:s,tracingEnabled:o,project_name:a})}static fromDottedOrder(e){return this.fromHeaders({"langsmith-trace":e})}static fromHeaders(e,n){var d;const r="get"in e&&typeof e.get=="function"?{"langsmith-trace":e.get("langsmith-trace"),baggage:e.get("baggage")}:e,i=r["langsmith-trace"];if(!i||typeof i!="string")return;const a=i.trim(),s=a.split(".").map(f=>{const[h,p]=f.split("Z");return{strTime:h,time:Date.parse(h+"Z"),uuid:p}}),o=s[0].uuid,l={...n,name:(n==null?void 0:n.name)??"parent",run_type:(n==null?void 0:n.run_type)??"chain",start_time:(n==null?void 0:n.start_time)??Date.now(),id:(d=s.at(-1))==null?void 0:d.uuid,trace_id:o,dotted_order:a};if(r.baggage&&typeof r.baggage=="string"){const f=r0.fromHeader(r.baggage);l.metadata=f.metadata,l.tags=f.tags,l.project_name=f.project_name,l.replicas=f.replicas}const c=new _r(l);return c.distributedParentId=c.id,c}toHeaders(e){var r;const n={"langsmith-trace":this.dotted_order,baggage:new r0((r=this.extra)==null?void 0:r.metadata,this.tags,this.project_name,this.replicas).toHeader()};if(e)for(const[i,a]of Object.entries(n))e.set(i,a);return n}}Object.defineProperty(_r,"sharedClient",{enumerable:!0,configurable:!0,writable:!0,value:null});function Hhe(t){return t!=null&&typeof t.createChild=="function"&&typeof t.postRun=="function"}function t6(t){return typeof t=="object"&&t!=null&&typeof t.name=="string"&&t.name==="langchain_tracer"}function g$(t){return Array.isArray(t)&&t.some(e=>t6(e))}function Vhe(t){return typeof t=="object"&&t!=null&&Array.isArray(t.handlers)}function Whe(t){var e;return t!=null&&typeof t.callbacks=="object"&&(g$((e=t.callbacks)==null?void 0:e.handlers)||g$(t.callbacks))}function qhe(){const t=cs("LANGSMITH_RUNS_ENDPOINTS");if(!t)return[];try{const e=JSON.parse(t);if(Array.isArray(e)){const n=[];for(const r of e){if(typeof r!="object"||r===null){console.warn(`Invalid item type in LANGSMITH_RUNS_ENDPOINTS: expected object, got ${typeof r}`);continue}if(typeof r.api_url!="string"){console.warn(`Invalid api_url type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof r.api_url}`);continue}if(typeof r.api_key!="string"){console.warn(`Invalid api_key type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof r.api_key}`);continue}n.push({apiUrl:r.api_url.replace(/\/$/,""),apiKey:r.api_key})}return n}else if(typeof e=="object"&&e!==null){Khe(e);const n=[];for(const[r,i]of Object.entries(e)){const a=r.replace(/\/$/,"");if(typeof i=="string")n.push({apiUrl:a,apiKey:i});else{console.warn(`Invalid value type in LANGSMITH_RUNS_ENDPOINTS for URL ${r}: expected string, got ${typeof i}`);continue}}return n}else return console.warn(`Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of objects with api_url and api_key properties, or object mapping url->apiKey, got ${typeof e}`),[]}catch(e){if(Ahe(e))throw e;return console.warn("Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of objects with api_url and api_key properties, or object mapping url->apiKey"),[]}}function Ghe(t){return t?t.map(e=>Array.isArray(e)?{projectName:e[0],updates:e[1]}:e):qhe()}function Khe(t){if(Object.keys(t).length>0&&Ar("ENDPOINT"))throw new jhe}var Yhe={};wt(Yhe,{BaseTracer:()=>Pf,isBaseTracer:()=>ju});const Xhe=t=>{if(t)return t.events=t.events??[],t.child_runs=t.child_runs??[],t};function FE(t,e){if(t)return new _r({...t,start_time:t._serialized_start_time??t.start_time,parent_run:FE(e),child_runs:t.child_runs.map(n=>FE(n)).filter(n=>n!==void 0),extra:{...t.extra,runtime:EU()},tracingEnabled:!1})}function Y_(t,e){return t&&!Array.isArray(t)&&typeof t=="object"?t:{[e]:t}}function ju(t){return typeof t._addRunToRunMap=="function"}var Pf=class extends ng{constructor(e){super(...arguments);U(this,"runMap",new Map);U(this,"runTreeMap",new Map);U(this,"usesRunTreeMap",!1)}copy(){return this}getRunById(e){if(e!==void 0)return this.usesRunTreeMap?Xhe(this.runTreeMap.get(e)):this.runMap.get(e)}stringifyError(e){return e instanceof Error?e.message+(e!=null&&e.stack?`

${e.stack}`:""):typeof e=="string"?e:`${e}`}_addChildRun(e,n){e.child_runs.push(n)}_addRunToRunMap(e){const{dottedOrder:n,microsecondPrecisionDatestring:r}=e6(new Date(e.start_time).getTime(),e.id,e.execution_order),i={...e},a=this.getRunById(i.parent_run_id);if(i.parent_run_id!==void 0?a&&(this._addChildRun(a,i),a.child_execution_order=Math.max(a.child_execution_order,i.child_execution_order),i.trace_id=a.trace_id,a.dotted_order!==void 0&&(i.dotted_order=[a.dotted_order,n].join("."),i._serialized_start_time=r)):(i.trace_id=i.id,i.dotted_order=n,i._serialized_start_time=r),this.usesRunTreeMap){const s=FE(i,a);s!==void 0&&this.runTreeMap.set(i.id,s)}else this.runMap.set(i.id,i);return i}async _endTrace(e){var r;const n=e.parent_run_id!==void 0&&this.getRunById(e.parent_run_id);n?n.child_execution_order=Math.max(n.child_execution_order,e.child_execution_order):await this.persistRun(e),await((r=this.onRunUpdate)==null?void 0:r.call(this,e)),this.usesRunTreeMap?this.runTreeMap.delete(e.id):this.runMap.delete(e.id)}_getExecutionOrder(e){const n=e!==void 0&&this.getRunById(e);return n?n.child_execution_order+1:1}_createRunForLLMStart(e,n,r,i,a,s,o,l){const c=this._getExecutionOrder(i),d=Date.now(),f=o?{...a,metadata:o}:a,h={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:{prompts:n},execution_order:c,child_runs:[],child_execution_order:c,run_type:"llm",extra:f??{},tags:s||[]};return this._addRunToRunMap(h)}async handleLLMStart(e,n,r,i,a,s,o,l){var d,f;const c=this.getRunById(r)??this._createRunForLLMStart(e,n,r,i,a,s,o,l);return await((d=this.onRunCreate)==null?void 0:d.call(this,c)),await((f=this.onLLMStart)==null?void 0:f.call(this,c)),c}_createRunForChatModelStart(e,n,r,i,a,s,o,l){const c=this._getExecutionOrder(i),d=Date.now(),f=o?{...a,metadata:o}:a,h={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:{messages:n},execution_order:c,child_runs:[],child_execution_order:c,run_type:"llm",extra:f??{},tags:s||[]};return this._addRunToRunMap(h)}async handleChatModelStart(e,n,r,i,a,s,o,l){var d,f;const c=this.getRunById(r)??this._createRunForChatModelStart(e,n,r,i,a,s,o,l);return await((d=this.onRunCreate)==null?void 0:d.call(this,c)),await((f=this.onLLMStart)==null?void 0:f.call(this,c)),c}async handleLLMEnd(e,n,r,i,a){var o;const s=this.getRunById(n);if(!s||(s==null?void 0:s.run_type)!=="llm")throw new Error("No LLM run to end.");return s.end_time=Date.now(),s.outputs=e,s.events.push({name:"end",time:new Date(s.end_time).toISOString()}),s.extra={...s.extra,...a},await((o=this.onLLMEnd)==null?void 0:o.call(this,s)),await this._endTrace(s),s}async handleLLMError(e,n,r,i,a){var o;const s=this.getRunById(n);if(!s||(s==null?void 0:s.run_type)!=="llm")throw new Error("No LLM run to end.");return s.end_time=Date.now(),s.error=this.stringifyError(e),s.events.push({name:"error",time:new Date(s.end_time).toISOString()}),s.extra={...s.extra,...a},await((o=this.onLLMError)==null?void 0:o.call(this,s)),await this._endTrace(s),s}_createRunForChainStart(e,n,r,i,a,s,o,l){const c=this._getExecutionOrder(i),d=Date.now(),f={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:n,execution_order:c,child_execution_order:c,run_type:o??"chain",child_runs:[],extra:s?{metadata:s}:{},tags:a||[]};return this._addRunToRunMap(f)}async handleChainStart(e,n,r,i,a,s,o,l){var d,f;const c=this.getRunById(r)??this._createRunForChainStart(e,n,r,i,a,s,o,l);return await((d=this.onRunCreate)==null?void 0:d.call(this,c)),await((f=this.onChainStart)==null?void 0:f.call(this,c)),c}async handleChainEnd(e,n,r,i,a){var o;const s=this.getRunById(n);if(!s)throw new Error("No chain run to end.");return s.end_time=Date.now(),s.outputs=Y_(e,"output"),s.events.push({name:"end",time:new Date(s.end_time).toISOString()}),(a==null?void 0:a.inputs)!==void 0&&(s.inputs=Y_(a.inputs,"input")),await((o=this.onChainEnd)==null?void 0:o.call(this,s)),await this._endTrace(s),s}async handleChainError(e,n,r,i,a){var o;const s=this.getRunById(n);if(!s)throw new Error("No chain run to end.");return s.end_time=Date.now(),s.error=this.stringifyError(e),s.events.push({name:"error",time:new Date(s.end_time).toISOString()}),(a==null?void 0:a.inputs)!==void 0&&(s.inputs=Y_(a.inputs,"input")),await((o=this.onChainError)==null?void 0:o.call(this,s)),await this._endTrace(s),s}_createRunForToolStart(e,n,r,i,a,s,o){const l=this._getExecutionOrder(i),c=Date.now(),d={id:r,name:o??e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{input:n},execution_order:l,child_execution_order:l,run_type:"tool",child_runs:[],extra:s?{metadata:s}:{},tags:a||[]};return this._addRunToRunMap(d)}async handleToolStart(e,n,r,i,a,s,o){var c,d;const l=this.getRunById(r)??this._createRunForToolStart(e,n,r,i,a,s,o);return await((c=this.onRunCreate)==null?void 0:c.call(this,l)),await((d=this.onToolStart)==null?void 0:d.call(this,l)),l}async handleToolEnd(e,n){var i;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.outputs={output:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((i=this.onToolEnd)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleToolError(e,n){var i;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((i=this.onToolError)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleAgentAction(e,n){var a;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="chain")return;const i=r;i.actions=i.actions||[],i.actions.push(e),i.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:e}}),await((a=this.onAgentAction)==null?void 0:a.call(this,r))}async handleAgentEnd(e,n){var i;const r=this.getRunById(n);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:e}}),await((i=this.onAgentEnd)==null?void 0:i.call(this,r)))}_createRunForRetrieverStart(e,n,r,i,a,s,o){const l=this._getExecutionOrder(i),c=Date.now(),d={id:r,name:o??e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{query:n},execution_order:l,child_execution_order:l,run_type:"retriever",child_runs:[],extra:s?{metadata:s}:{},tags:a||[]};return this._addRunToRunMap(d)}async handleRetrieverStart(e,n,r,i,a,s,o){var c,d;const l=this.getRunById(r)??this._createRunForRetrieverStart(e,n,r,i,a,s,o);return await((c=this.onRunCreate)==null?void 0:c.call(this,l)),await((d=this.onRetrieverStart)==null?void 0:d.call(this,l)),l}async handleRetrieverEnd(e,n){var i;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.outputs={documents:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((i=this.onRetrieverEnd)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleRetrieverError(e,n){var i;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((i=this.onRetrieverError)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleText(e,n){var i;const r=this.getRunById(n);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:e}}),await((i=this.onText)==null?void 0:i.call(this,r)))}async handleLLMNewToken(e,n,r,i,a,s){var l;const o=this.getRunById(r);if(!o||(o==null?void 0:o.run_type)!=="llm")throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return o.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:e,idx:n,chunk:s==null?void 0:s.chunk}}),await((l=this.onLLMNewToken)==null?void 0:l.call(this,o,e,{chunk:s==null?void 0:s.chunk})),o}},hk={exports:{}};hk.exports;(function(t){const n=(a=0)=>s=>`\x1B[${38+a};5;${s}m`,r=(a=0)=>(s,o,l)=>`\x1B[${38+a};2;${s};${o};${l}m`;function i(){const a=new Map,s={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};s.color.gray=s.color.blackBright,s.bgColor.bgGray=s.bgColor.bgBlackBright,s.color.grey=s.color.blackBright,s.bgColor.bgGrey=s.bgColor.bgBlackBright;for(const[o,l]of Object.entries(s)){for(const[c,d]of Object.entries(l))s[c]={open:`\x1B[${d[0]}m`,close:`\x1B[${d[1]}m`},l[c]=s[c],a.set(d[0],d[1]);Object.defineProperty(s,o,{value:l,enumerable:!1})}return Object.defineProperty(s,"codes",{value:a,enumerable:!1}),s.color.close="\x1B[39m",s.bgColor.close="\x1B[49m",s.color.ansi256=n(),s.color.ansi16m=r(),s.bgColor.ansi256=n(10),s.bgColor.ansi16m=r(10),Object.defineProperties(s,{rgbToAnsi256:{value:(o,l,c)=>o===l&&l===c?o<8?16:o>248?231:Math.round((o-8)/247*24)+232:16+36*Math.round(o/255*5)+6*Math.round(l/255*5)+Math.round(c/255*5),enumerable:!1},hexToRgb:{value:o=>{const l=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(o.toString(16));if(!l)return[0,0,0];let{colorString:c}=l.groups;c.length===3&&(c=c.split("").map(f=>f+f).join(""));const d=Number.parseInt(c,16);return[d>>16&255,d>>8&255,d&255]},enumerable:!1},hexToAnsi256:{value:o=>s.rgbToAnsi256(...s.hexToRgb(o)),enumerable:!1}}),s}Object.defineProperty(t,"exports",{enumerable:!0,get:i})})(hk);var Zhe=hk.exports;const n6=at(Zhe);var Jhe={};wt(Jhe,{ConsoleCallbackHandler:()=>BE});function rr(t,e){return`${t.open}${e}${t.close}`}function vi(t,e){try{return JSON.stringify(t,null,2)}catch{return e}}function y$(t){return typeof t=="string"?t.trim():t==null?t:vi(t,t.toString())}function bo(t){if(!t.end_time)return"";const e=t.end_time-t.start_time;return e<1e3?`${e}ms`:`${(e/1e3).toFixed(2)}s`}const{color:br}=n6;var BE=class extends Pf{constructor(){super(...arguments);U(this,"name","console_callback_handler")}persistRun(e){return Promise.resolve()}getParents(e){const n=[];let r=e;for(;r.parent_run_id;){const i=this.runMap.get(r.parent_run_id);if(i)n.push(i),r=i;else break}return n}getBreadcrumbs(e){const r=[...this.getParents(e).reverse(),e].map((i,a,s)=>{const o=`${i.execution_order}:${i.run_type}:${i.name}`;return a===s.length-1?rr(n6.bold,o):o}).join(" > ");return rr(br.grey,r)}onChainStart(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.green,"[chain/start]")} [${n}] Entering Chain run with input: ${vi(e.inputs,"[inputs]")}`)}onChainEnd(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.cyan,"[chain/end]")} [${n}] [${bo(e)}] Exiting Chain run with output: ${vi(e.outputs,"[outputs]")}`)}onChainError(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.red,"[chain/error]")} [${n}] [${bo(e)}] Chain run errored with error: ${vi(e.error,"[error]")}`)}onLLMStart(e){const n=this.getBreadcrumbs(e),r="prompts"in e.inputs?{prompts:e.inputs.prompts.map(i=>i.trim())}:e.inputs;console.log(`${rr(br.green,"[llm/start]")} [${n}] Entering LLM run with input: ${vi(r,"[inputs]")}`)}onLLMEnd(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.cyan,"[llm/end]")} [${n}] [${bo(e)}] Exiting LLM run with output: ${vi(e.outputs,"[response]")}`)}onLLMError(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.red,"[llm/error]")} [${n}] [${bo(e)}] LLM run errored with error: ${vi(e.error,"[error]")}`)}onToolStart(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.green,"[tool/start]")} [${n}] Entering Tool run with input: "${y$(e.inputs.input)}"`)}onToolEnd(e){var r;const n=this.getBreadcrumbs(e);console.log(`${rr(br.cyan,"[tool/end]")} [${n}] [${bo(e)}] Exiting Tool run with output: "${y$((r=e.outputs)==null?void 0:r.output)}"`)}onToolError(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.red,"[tool/error]")} [${n}] [${bo(e)}] Tool run errored with error: ${vi(e.error,"[error]")}`)}onRetrieverStart(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.green,"[retriever/start]")} [${n}] Entering Retriever run with input: ${vi(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.cyan,"[retriever/end]")} [${n}] [${bo(e)}] Exiting Retriever run with output: ${vi(e.outputs,"[outputs]")}`)}onRetrieverError(e){const n=this.getBreadcrumbs(e);console.log(`${rr(br.red,"[retriever/error]")} [${n}] [${bo(e)}] Retriever run errored with error: ${vi(e.error,"[error]")}`)}onAgentAction(e){const n=e,r=this.getBreadcrumbs(e);console.log(`${rr(br.blue,"[agent/action]")} [${r}] Agent selected action: ${vi(n.actions[n.actions.length-1],"[action]")}`)}};let X_;const r6=()=>{if(X_===void 0){const t=Bs("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"?{blockOnRootRunFinalization:!0}:{};X_=new Bd(t)}return X_};let Qhe=class{getStore(){}run(e,n){return n()}};const Z_=Symbol.for("ls:tracing_async_local_storage"),epe=new Qhe;let tpe=class{getInstance(){return globalThis[Z_]??epe}initializeGlobalInstance(e){globalThis[Z_]===void 0&&(globalThis[Z_]=e)}};const npe=new tpe;function rpe(t=!1){const e=npe.getInstance().getStore();if(!t&&e===void 0)throw new Error(`Could not get the current run tree.

Please make sure you are calling this method within a traceable function and that tracing is enabled.`);return e}function pk(t){return typeof t=="function"&&"langsmith:traceable"in t}var ipe={};wt(ipe,{LangChainTracer:()=>tp});var tp=class i6 extends Pf{constructor(n={}){super(n);U(this,"name","langchain_tracer");U(this,"projectName");U(this,"exampleId");U(this,"client");U(this,"replicas");U(this,"usesRunTreeMap",!0);const{exampleId:r,projectName:i,client:a,replicas:s}=n;this.projectName=i??kU(),this.replicas=s,this.exampleId=r,this.client=a??r6();const o=i6.getTraceableRunTree();o&&this.updateFromRunTree(o)}async persistRun(n){}async onRunCreate(n){const r=this.getRunTreeWithTracingConfig(n.id);await(r==null?void 0:r.postRun())}async onRunUpdate(n){const r=this.getRunTreeWithTracingConfig(n.id);await(r==null?void 0:r.patchRun())}getRun(n){return this.runTreeMap.get(n)}updateFromRunTree(n){this.runTreeMap.set(n.id,n);let r=n;const i=new Set;for(;r.parent_run&&!(i.has(r.id)||(i.add(r.id),!r.parent_run));)r=r.parent_run;i.clear();const a=[r];for(;a.length>0;){const s=a.shift();!s||i.has(s.id)||(i.add(s.id),this.runTreeMap.set(s.id,s),s.child_runs&&a.push(...s.child_runs))}this.client=n.client??this.client,this.replicas=n.replicas??this.replicas,this.projectName=n.project_name??this.projectName,this.exampleId=n.reference_example_id??this.exampleId}getRunTreeWithTracingConfig(n){const r=this.runTreeMap.get(n);if(r)return new _r({...r,client:this.client,project_name:this.projectName,replicas:this.replicas,reference_example_id:this.exampleId,tracingEnabled:!0})}static getTraceableRunTree(){try{return rpe(!0)}catch{return}}};const a6=Symbol.for("ls:tracing_async_local_storage"),np=Symbol.for("lc:context_variables"),ape=t=>{globalThis[a6]=t},qp=()=>globalThis[a6];let wc;function spe(){const t="default"in zs?zs.default:zs;return new t({autoStart:!0,concurrency:1})}function ope(){return typeof wc>"u"&&(wc=spe()),wc}async function gn(t,e){if(e===!0){const n=qp();n!==void 0?await n.run(void 0,async()=>t()):await t()}else wc=ope(),wc.add(async()=>{const n=qp();n!==void 0?await n.run(void 0,async()=>t()):await t()})}async function lpe(){const t=r6();await Promise.allSettled([typeof wc<"u"?wc.onIdle():Promise.resolve(),t.awaitPendingTraceBatches()])}var cpe={};wt(cpe,{awaitAllCallbacks:()=>lpe,consumeCallback:()=>gn});const upe=t=>!!["LANGSMITH_TRACING_V2","LANGCHAIN_TRACING_V2","LANGSMITH_TRACING","LANGCHAIN_TRACING"].find(n=>Bs(n)==="true");function s6(t){var r;const e=qp();if(e===void 0)return;const n=e.getStore();return(r=n==null?void 0:n[np])==null?void 0:r[t]}const dpe=Symbol("lc:configure_hooks"),fpe=()=>s6(dpe)||[];var hpe={};wt(hpe,{BaseCallbackManager:()=>o6,BaseRunManager:()=>ig,CallbackManager:()=>ts,CallbackManagerForChainRun:()=>c6,CallbackManagerForLLMRun:()=>zE,CallbackManagerForRetrieverRun:()=>l6,CallbackManagerForToolRun:()=>u6,ensureHandler:()=>Gp,parseCallbackConfigArg:()=>ppe});function ppe(t){return t?Array.isArray(t)||"name"in t?{callbacks:t}:t:{}}var o6=class{setHandler(t){return this.setHandlers([t])}},ig=class{constructor(t,e,n,r,i,a,s,o){this.runId=t,this.handlers=e,this.inheritableHandlers=n,this.tags=r,this.inheritableTags=i,this.metadata=a,this.inheritableMetadata=s,this._parentRunId=o}get parentRunId(){return this._parentRunId}async handleText(t){await Promise.all(this.handlers.map(e=>gn(async()=>{var n;try{await((n=e.handleText)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleText: ${r}`),e.raiseError)throw r}},e.awaitHandlers)))}async handleCustomEvent(t,e,n,r,i){await Promise.all(this.handlers.map(a=>gn(async()=>{var s;try{await((s=a.handleCustomEvent)==null?void 0:s.call(a,t,e,this.runId,this.tags,this.metadata))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleCustomEvent: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}},l6=class extends ig{getChild(t){const e=new ts(this.runId);return e.setHandlers(this.inheritableHandlers),e.addTags(this.inheritableTags),e.addMetadata(this.inheritableMetadata),t&&e.addTags([t],!1),e}async handleRetrieverEnd(t){await Promise.all(this.handlers.map(e=>gn(async()=>{var n;if(!e.ignoreRetriever)try{await((n=e.handleRetrieverEnd)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleRetriever`),e.raiseError)throw r}},e.awaitHandlers)))}async handleRetrieverError(t){await Promise.all(this.handlers.map(e=>gn(async()=>{var n;if(!e.ignoreRetriever)try{await((n=e.handleRetrieverError)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleRetrieverError: ${r}`),e.raiseError)throw t}},e.awaitHandlers)))}},zE=class extends ig{async handleLLMNewToken(t,e,n,r,i,a){await Promise.all(this.handlers.map(s=>gn(async()=>{var o;if(!s.ignoreLLM)try{await((o=s.handleLLMNewToken)==null?void 0:o.call(s,t,e??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,a))}catch(l){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleLLMNewToken: ${l}`),s.raiseError)throw l}},s.awaitHandlers)))}async handleLLMError(t,e,n,r,i){await Promise.all(this.handlers.map(a=>gn(async()=>{var s;if(!a.ignoreLLM)try{await((s=a.handleLLMError)==null?void 0:s.call(a,t,this.runId,this._parentRunId,this.tags,i))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleLLMError: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}async handleLLMEnd(t,e,n,r,i){await Promise.all(this.handlers.map(a=>gn(async()=>{var s;if(!a.ignoreLLM)try{await((s=a.handleLLMEnd)==null?void 0:s.call(a,t,this.runId,this._parentRunId,this.tags,i))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleLLMEnd: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}},c6=class extends ig{getChild(t){const e=new ts(this.runId);return e.setHandlers(this.inheritableHandlers),e.addTags(this.inheritableTags),e.addMetadata(this.inheritableMetadata),t&&e.addTags([t],!1),e}async handleChainError(t,e,n,r,i){await Promise.all(this.handlers.map(a=>gn(async()=>{var s;if(!a.ignoreChain)try{await((s=a.handleChainError)==null?void 0:s.call(a,t,this.runId,this._parentRunId,this.tags,i))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleChainError: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}async handleChainEnd(t,e,n,r,i){await Promise.all(this.handlers.map(a=>gn(async()=>{var s;if(!a.ignoreChain)try{await((s=a.handleChainEnd)==null?void 0:s.call(a,t,this.runId,this._parentRunId,this.tags,i))}catch(o){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleChainEnd: ${o}`),a.raiseError)throw o}},a.awaitHandlers)))}async handleAgentAction(t){await Promise.all(this.handlers.map(e=>gn(async()=>{var n;if(!e.ignoreAgent)try{await((n=e.handleAgentAction)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleAgentAction: ${r}`),e.raiseError)throw r}},e.awaitHandlers)))}async handleAgentEnd(t){await Promise.all(this.handlers.map(e=>gn(async()=>{var n;if(!e.ignoreAgent)try{await((n=e.handleAgentEnd)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleAgentEnd: ${r}`),e.raiseError)throw r}},e.awaitHandlers)))}},u6=class extends ig{getChild(t){const e=new ts(this.runId);return e.setHandlers(this.inheritableHandlers),e.addTags(this.inheritableTags),e.addMetadata(this.inheritableMetadata),t&&e.addTags([t],!1),e}async handleToolError(t){await Promise.all(this.handlers.map(e=>gn(async()=>{var n;if(!e.ignoreAgent)try{await((n=e.handleToolError)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleToolError: ${r}`),e.raiseError)throw r}},e.awaitHandlers)))}async handleToolEnd(t){await Promise.all(this.handlers.map(e=>gn(async()=>{var n;if(!e.ignoreAgent)try{await((n=e.handleToolEnd)==null?void 0:n.call(e,t,this.runId,this._parentRunId,this.tags))}catch(r){if((e.raiseError?console.error:console.warn)(`Error in handler ${e.constructor.name}, handleToolEnd: ${r}`),e.raiseError)throw r}},e.awaitHandlers)))}},ts=class Ih extends o6{constructor(n,r){super();U(this,"handlers",[]);U(this,"inheritableHandlers",[]);U(this,"tags",[]);U(this,"inheritableTags",[]);U(this,"metadata",{});U(this,"inheritableMetadata",{});U(this,"name","callback_manager");U(this,"_parentRunId");this.handlers=(r==null?void 0:r.handlers)??this.handlers,this.inheritableHandlers=(r==null?void 0:r.inheritableHandlers)??this.inheritableHandlers,this.tags=(r==null?void 0:r.tags)??this.tags,this.inheritableTags=(r==null?void 0:r.inheritableTags)??this.inheritableTags,this.metadata=(r==null?void 0:r.metadata)??this.metadata,this.inheritableMetadata=(r==null?void 0:r.inheritableMetadata)??this.inheritableMetadata,this._parentRunId=n}getParentRunId(){return this._parentRunId}async handleLLMStart(n,r,i=void 0,a=void 0,s=void 0,o=void 0,l=void 0,c=void 0){return Promise.all(r.map(async(d,f)=>{const h=f===0&&i?i:jr();return await Promise.all(this.handlers.map(p=>{if(!p.ignoreLLM)return ju(p)&&p._createRunForLLMStart(n,[d],h,this._parentRunId,s,this.tags,this.metadata,c),gn(async()=>{var m;try{await((m=p.handleLLMStart)==null?void 0:m.call(p,n,[d],h,this._parentRunId,s,this.tags,this.metadata,c))}catch(g){if((p.raiseError?console.error:console.warn)(`Error in handler ${p.constructor.name}, handleLLMStart: ${g}`),p.raiseError)throw g}},p.awaitHandlers)})),new zE(h,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(n,r,i=void 0,a=void 0,s=void 0,o=void 0,l=void 0,c=void 0){return Promise.all(r.map(async(d,f)=>{const h=f===0&&i?i:jr();return await Promise.all(this.handlers.map(p=>{if(!p.ignoreLLM)return ju(p)&&p._createRunForChatModelStart(n,[d],h,this._parentRunId,s,this.tags,this.metadata,c),gn(async()=>{var m,g;try{if(p.handleChatModelStart)await((m=p.handleChatModelStart)==null?void 0:m.call(p,n,[d],h,this._parentRunId,s,this.tags,this.metadata,c));else if(p.handleLLMStart){const v=QT(d);await((g=p.handleLLMStart)==null?void 0:g.call(p,n,[v],h,this._parentRunId,s,this.tags,this.metadata,c))}}catch(v){if((p.raiseError?console.error:console.warn)(`Error in handler ${p.constructor.name}, handleLLMStart: ${v}`),p.raiseError)throw v}},p.awaitHandlers)})),new zE(h,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(n,r,i=jr(),a=void 0,s=void 0,o=void 0,l=void 0){return await Promise.all(this.handlers.map(c=>{if(!c.ignoreChain)return ju(c)&&c._createRunForChainStart(n,r,i,this._parentRunId,this.tags,this.metadata,a,l),gn(async()=>{var d;try{await((d=c.handleChainStart)==null?void 0:d.call(c,n,r,i,this._parentRunId,this.tags,this.metadata,a,l))}catch(f){if((c.raiseError?console.error:console.warn)(`Error in handler ${c.constructor.name}, handleChainStart: ${f}`),c.raiseError)throw f}},c.awaitHandlers)})),new c6(i,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(n,r,i=jr(),a=void 0,s=void 0,o=void 0,l=void 0){return await Promise.all(this.handlers.map(c=>{if(!c.ignoreAgent)return ju(c)&&c._createRunForToolStart(n,r,i,this._parentRunId,this.tags,this.metadata,l),gn(async()=>{var d;try{await((d=c.handleToolStart)==null?void 0:d.call(c,n,r,i,this._parentRunId,this.tags,this.metadata,l))}catch(f){if((c.raiseError?console.error:console.warn)(`Error in handler ${c.constructor.name}, handleToolStart: ${f}`),c.raiseError)throw f}},c.awaitHandlers)})),new u6(i,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(n,r,i=jr(),a=void 0,s=void 0,o=void 0,l=void 0){return await Promise.all(this.handlers.map(c=>{if(!c.ignoreRetriever)return ju(c)&&c._createRunForRetrieverStart(n,r,i,this._parentRunId,this.tags,this.metadata,l),gn(async()=>{var d;try{await((d=c.handleRetrieverStart)==null?void 0:d.call(c,n,r,i,this._parentRunId,this.tags,this.metadata,l))}catch(f){if((c.raiseError?console.error:console.warn)(`Error in handler ${c.constructor.name}, handleRetrieverStart: ${f}`),c.raiseError)throw f}},c.awaitHandlers)})),new l6(i,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleCustomEvent(n,r,i,a,s){await Promise.all(this.handlers.map(o=>gn(async()=>{var l;if(!o.ignoreCustomEvent)try{await((l=o.handleCustomEvent)==null?void 0:l.call(o,n,r,i,this.tags,this.metadata))}catch(c){if((o.raiseError?console.error:console.warn)(`Error in handler ${o.constructor.name}, handleCustomEvent: ${c}`),o.raiseError)throw c}},o.awaitHandlers)))}addHandler(n,r=!0){this.handlers.push(n),r&&this.inheritableHandlers.push(n)}removeHandler(n){this.handlers=this.handlers.filter(r=>r!==n),this.inheritableHandlers=this.inheritableHandlers.filter(r=>r!==n)}setHandlers(n,r=!0){this.handlers=[],this.inheritableHandlers=[];for(const i of n)this.addHandler(i,r)}addTags(n,r=!0){this.removeTags(n),this.tags.push(...n),r&&this.inheritableTags.push(...n)}removeTags(n){this.tags=this.tags.filter(r=>!n.includes(r)),this.inheritableTags=this.inheritableTags.filter(r=>!n.includes(r))}addMetadata(n,r=!0){this.metadata={...this.metadata,...n},r&&(this.inheritableMetadata={...this.inheritableMetadata,...n})}removeMetadata(n){for(const r of Object.keys(n))delete this.metadata[r],delete this.inheritableMetadata[r]}copy(n=[],r=!0){const i=new Ih(this._parentRunId);for(const a of this.handlers){const s=this.inheritableHandlers.includes(a);i.addHandler(a,s)}for(const a of this.tags){const s=this.inheritableTags.includes(a);i.addTags([a],s)}for(const a of Object.keys(this.metadata)){const s=Object.keys(this.inheritableMetadata).includes(a);i.addMetadata({[a]:this.metadata[a]},s)}for(const a of n)i.handlers.filter(s=>s.name==="console_callback_handler").some(s=>s.name===a.name)||i.addHandler(a,r);return i}static fromHandlers(n){class r extends ng{constructor(){super();U(this,"name",jr());Object.assign(this,n)}}const i=new this;return i.addHandler(new r),i}static configure(n,r,i,a,s,o,l){return this._configureSync(n,r,i,a,s,o,l)}static _configureSync(n,r,i,a,s,o,l){var p;let c;(n||r)&&(Array.isArray(n)||!n?(c=new Ih,c.setHandlers((n==null?void 0:n.map(Gp))??[],!0)):c=n,c=c.copy(Array.isArray(r)?r.map(Gp):r==null?void 0:r.handlers,!1));const d=Bs("LANGCHAIN_VERBOSE")==="true"||(l==null?void 0:l.verbose),f=((p=tp.getTraceableRunTree())==null?void 0:p.tracingEnabled)||upe(),h=f||(Bs("LANGCHAIN_TRACING")??!1);if(d||h){if(c||(c=new Ih),d&&!c.handlers.some(m=>m.name===BE.prototype.name)){const m=new BE;c.addHandler(m,!0)}if(h&&!c.handlers.some(m=>m.name==="langchain_tracer")&&f){const m=new tp;c.addHandler(m,!0)}if(f){const m=tp.getTraceableRunTree();if(m&&c._parentRunId===void 0){c._parentRunId=m.id;const g=c.handlers.find(v=>v.name==="langchain_tracer");g==null||g.updateFromRunTree(m)}}}for(const{contextVar:m,inheritable:g=!0,handlerClass:v,envVar:y}of fpe()){const b=y&&Bs(y)==="true"&&v;let x;const w=m!==void 0?s6(m):void 0;w&&CU(w)?x=w:b&&(x=new v({})),x!==void 0&&(c||(c=new Ih),c.handlers.some(S=>S.name===x.name)||c.addHandler(x,g))}return(i||a)&&c&&(c.addTags(i??[]),c.addTags(a??[],!1)),(s||o)&&c&&(c.addMetadata(s??{}),c.addMetadata(o??{},!1)),c}};function Gp(t){return"name"in t?t:ng.fromMethods(t)}var d6=class{getStore(){}run(t,e){return e()}enterWith(t){}};const mpe=new d6,v$=Symbol.for("lc:child_config");var gpe=class{getInstance(){return qp()??mpe}getRunnableConfig(){var e,n;return(n=(e=this.getInstance().getStore())==null?void 0:e.extra)==null?void 0:n[v$]}runWithConfig(t,e,n){var c;const r=ts._configureSync(t==null?void 0:t.callbacks,void 0,t==null?void 0:t.tags,void 0,t==null?void 0:t.metadata),i=this.getInstance(),a=i.getStore(),s=r==null?void 0:r.getParentRunId(),o=(c=r==null?void 0:r.handlers)==null?void 0:c.find(d=>(d==null?void 0:d.name)==="langchain_tracer");let l;return o&&s?l=o.getRunTreeWithTracingConfig(s):n||(l=new _r({name:"<runnable_lambda>",tracingEnabled:!1})),l&&(l.extra={...l.extra,[v$]:t}),a!==void 0&&a[np]!==void 0&&(l===void 0&&(l={}),l[np]=a[np]),i.run(l,e)}initializeGlobalInstance(t){qp()===void 0&&ape(t)}};const to=new gpe;var ype={};wt(ype,{AsyncLocalStorageProviderSingleton:()=>to,MockAsyncLocalStorage:()=>d6,_CONTEXT_VARIABLES_KEY:()=>np});const J_=25;async function ri(t){return ts._configureSync(t==null?void 0:t.callbacks,void 0,t==null?void 0:t.tags,void 0,t==null?void 0:t.metadata)}function UE(...t){const e={};for(const n of t.filter(r=>!!r))for(const r of Object.keys(n))if(r==="metadata")e[r]={...e[r],...n[r]};else if(r==="tags"){const i=e[r]??[];e[r]=[...new Set(i.concat(n[r]??[]))]}else if(r==="configurable")e[r]={...e[r],...n[r]};else if(r==="timeout")e.timeout===void 0?e.timeout=n.timeout:n.timeout!==void 0&&(e.timeout=Math.min(e.timeout,n.timeout));else if(r==="signal")e.signal===void 0?e.signal=n.signal:n.signal!==void 0&&("any"in AbortSignal?e.signal=AbortSignal.any([e.signal,n.signal]):e.signal=n.signal);else if(r==="callbacks"){const i=e.callbacks,a=n.callbacks;if(Array.isArray(a))if(!i)e.callbacks=a;else if(Array.isArray(i))e.callbacks=i.concat(a);else{const s=i.copy();for(const o of a)s.addHandler(Gp(o),!0);e.callbacks=s}else if(a)if(!i)e.callbacks=a;else if(Array.isArray(i)){const s=a.copy();for(const o of i)s.addHandler(Gp(o),!0);e.callbacks=s}else e.callbacks=new ts(a._parentRunId,{handlers:i.handlers.concat(a.handlers),inheritableHandlers:i.inheritableHandlers.concat(a.inheritableHandlers),tags:Array.from(new Set(i.tags.concat(a.tags))),inheritableTags:Array.from(new Set(i.inheritableTags.concat(a.inheritableTags))),metadata:{...i.metadata,...a.metadata}})}else{const i=r;e[i]=n[i]??e[i]}return e}const vpe=new Set(["string","number","boolean"]);function gt(t){var r;const e=to.getRunnableConfig();let n={tags:[],metadata:{},recursionLimit:25,runId:void 0};if(e){const{runId:i,runName:a,...s}=e;n=Object.entries(s).reduce((o,[l,c])=>(c!==void 0&&(o[l]=c),o),n)}if(t&&(n=Object.entries(t).reduce((i,[a,s])=>(s!==void 0&&(i[a]=s),i),n)),n!=null&&n.configurable)for(const i of Object.keys(n.configurable))vpe.has(typeof n.configurable[i])&&!((r=n.metadata)!=null&&r[i])&&(n.metadata||(n.metadata={}),n.metadata[i]=n.configurable[i]);if(n.timeout!==void 0){if(n.timeout<=0)throw new Error("Timeout must be a positive number");const i=AbortSignal.timeout(n.timeout);n.signal!==void 0?"any"in AbortSignal&&(n.signal=AbortSignal.any([n.signal,i])):n.signal=i,delete n.timeout}return n}function Xt(t={},{callbacks:e,maxConcurrency:n,recursionLimit:r,runName:i,configurable:a,runId:s}={}){const o=gt(t);return e!==void 0&&(delete o.runName,o.callbacks=e),r!==void 0&&(o.recursionLimit=r),n!==void 0&&(o.maxConcurrency=n),i!==void 0&&(o.runName=i),a!==void 0&&(o.configurable={...o.configurable,...a}),s!==void 0&&delete o.runId,o}function $c(t){if(t)return{configurable:t.configurable,recursionLimit:t.recursionLimit,callbacks:t.callbacks,tags:t.tags,metadata:t.metadata,maxConcurrency:t.maxConcurrency,timeout:t.timeout,signal:t.signal,store:t.store}}async function no(t,e){if(e===void 0)return t;let n;return Promise.race([t.catch(r=>{if(!(e!=null&&e.aborted))throw r}),new Promise((r,i)=>{n=()=>{i(i0(e))},e.addEventListener("abort",n),e.aborted&&i(i0(e))})]).finally(()=>e.removeEventListener("abort",n))}function i0(t){return(t==null?void 0:t.reason)instanceof Error?t.reason:typeof(t==null?void 0:t.reason)=="string"?new Error(t.reason):new Error("Aborted")}var xpe={};wt(xpe,{AsyncGeneratorWithSetup:()=>Yc,IterableReadableStream:()=>wa,atee:()=>mk,concat:()=>Rc,pipeGeneratorWithSetup:()=>f6});var wa=class HE extends ReadableStream{constructor(){super(...arguments);U(this,"reader")}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const n=await this.reader.read();return n.done?(this.reader.releaseLock(),{done:!0,value:void 0}):{done:!1,value:n.value}}catch(n){throw this.reader.releaseLock(),n}}async return(){if(this.ensureReader(),this.locked){const n=this.reader.cancel();this.reader.releaseLock(),await n}return{done:!0,value:void 0}}async throw(n){if(this.ensureReader(),this.locked){const r=this.reader.cancel();this.reader.releaseLock(),await r}throw n}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}static fromReadableStream(n){const r=n.getReader();return new HE({start(i){return a();function a(){return r.read().then(({done:s,value:o})=>{if(s){i.close();return}return i.enqueue(o),a()})}},cancel(){r.releaseLock()}})}static fromAsyncGenerator(n){return new HE({async pull(r){const{value:i,done:a}=await n.next();a&&r.close(),r.enqueue(i)},async cancel(r){await n.return(r)}})}};function mk(t,e=2){const n=Array.from({length:e},()=>[]);return n.map(async function*(i){for(;;)if(i.length===0){const a=await t.next();for(const s of n)s.push(a)}else{if(i[0].done)return;yield i.shift().value}})}function Rc(t,e){if(Array.isArray(t)&&Array.isArray(e))return t.concat(e);if(typeof t=="string"&&typeof e=="string")return t+e;if(typeof t=="number"&&typeof e=="number")return t+e;if("concat"in t&&typeof t.concat=="function")return t.concat(e);if(typeof t=="object"&&typeof e=="object"){const n={...t};for(const[r,i]of Object.entries(e))r in n&&!Array.isArray(n[r])?n[r]=Rc(n[r],i):n[r]=i;return n}else throw new Error(`Cannot concat ${typeof t} and ${typeof e}`)}var Yc=class{constructor(t){U(this,"generator");U(this,"setup");U(this,"config");U(this,"signal");U(this,"firstResult");U(this,"firstResultUsed",!1);var e;this.generator=t.generator,this.config=t.config,this.signal=t.signal??((e=this.config)==null?void 0:e.signal),this.setup=new Promise((n,r)=>{to.runWithConfig($c(t.config),async()=>{this.firstResult=t.generator.next(),t.startSetup?this.firstResult.then(t.startSetup).then(n,r):this.firstResult.then(i=>n(void 0),r)},!0)})}async next(...t){var e;return(e=this.signal)==null||e.throwIfAborted(),this.firstResultUsed?to.runWithConfig($c(this.config),this.signal?async()=>no(this.generator.next(...t),this.signal):async()=>this.generator.next(...t),!0):(this.firstResultUsed=!0,this.firstResult)}async return(t){return this.generator.return(t)}async throw(t){return this.generator.throw(t)}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}};async function f6(t,e,n,r,...i){const a=new Yc({generator:e,startSetup:n,signal:r}),s=await a.setup;return{output:t(a,s,...i),setup:s}}var bpe={};wt(bpe,{ChatGenerationChunk:()=>Yp,GenerationChunk:()=>Kp,RUN_KEY:()=>VE});const VE="__run";var Kp=class h6{constructor(e){U(this,"text");U(this,"generationInfo");this.text=e.text,this.generationInfo=e.generationInfo}concat(e){return new h6({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo}})}},Yp=class p6 extends Kp{constructor(n){super(n);U(this,"message");this.message=n.message}concat(n){return new p6({text:this.text+n.text,generationInfo:{...this.generationInfo,...n.generationInfo},message:this.message.concat(n.message)})}};/*!
* https://github.com/Starcounter-Jack/JSON-Patch
* (c) 2017-2022 Joachim Wester
* MIT licensed
*/const wpe=Object.prototype.hasOwnProperty;function WE(t,e){return wpe.call(t,e)}function qE(t){if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<n.length;r++)n[r]=""+r;return n}if(Object.keys)return Object.keys(t);let e=[];for(let n in t)WE(t,n)&&e.push(n);return e}function Ci(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}function GE(t){let e=0;const n=t.length;let r;for(;e<n;){if(r=t.charCodeAt(e),r>=48&&r<=57){e++;continue}return!1}return!0}function Zl(t){return t.indexOf("/")===-1&&t.indexOf("~")===-1?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function m6(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function KE(t){if(t===void 0)return!0;if(t){if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(KE(t[n]))return!0}else if(typeof t=="object"){const n=qE(t),r=n.length;for(var e=0;e<r;e++)if(KE(t[n[e]]))return!0}}return!1}function x$(t,e){const n=[t];for(const r in e){const i=typeof e[r]=="object"?JSON.stringify(e[r],null,2):e[r];typeof i<"u"&&n.push(`${r}: ${i}`)}return n.join(`
`)}var g6=class extends Error{constructor(t,e,n,r,i){super(x$(t,{name:e,index:n,operation:r,tree:i})),this.name=e,this.index=n,this.operation=r,this.tree=i,Object.setPrototypeOf(this,new.target.prototype),this.message=x$(t,{name:e,index:n,operation:r,tree:i})}},y6={};wt(y6,{JsonPatchError:()=>nn,_areEquals:()=>Xp,applyOperation:()=>_c,applyPatch:()=>zd,applyReducer:()=>Epe,deepClone:()=>_pe,getValueByPointer:()=>a0,validate:()=>v6,validator:()=>s0});const nn=g6,_pe=Ci,Uu={add:function(t,e,n){return t[e]=this.value,{newDocument:n}},remove:function(t,e,n){var r=t[e];return delete t[e],{newDocument:n,removed:r}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:function(t,e,n){let r=a0(n,this.path);r&&(r=Ci(r));const i=_c(n,{op:"remove",path:this.from}).removed;return _c(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(t,e,n){const r=a0(n,this.from);return _c(n,{op:"add",path:this.path,value:Ci(r)}),{newDocument:n}},test:function(t,e,n){return{newDocument:n,test:Xp(t[e],this.value)}},_get:function(t,e,n){return this.value=t[e],{newDocument:n}}};var Spe={add:function(t,e,n){return GE(e)?t.splice(e,0,this.value):t[e]=this.value,{newDocument:n,index:e}},remove:function(t,e,n){var r=t.splice(e,1);return{newDocument:n,removed:r[0]}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:Uu.move,copy:Uu.copy,test:Uu.test,_get:Uu._get};function a0(t,e){if(e=="")return t;var n={op:"_get",path:e};return _c(t,n),n.value}function _c(t,e,n=!1,r=!0,i=!0,a=0){if(n&&(typeof n=="function"?n(e,0,t,e.path):s0(e,0)),e.path===""){let s={newDocument:t};if(e.op==="add")return s.newDocument=e.value,s;if(e.op==="replace")return s.newDocument=e.value,s.removed=t,s;if(e.op==="move"||e.op==="copy")return s.newDocument=a0(t,e.from),e.op==="move"&&(s.removed=t),s;if(e.op==="test"){if(s.test=Xp(t,e.value),s.test===!1)throw new nn("Test operation failed","TEST_OPERATION_FAILED",a,e,t);return s.newDocument=t,s}else{if(e.op==="remove")return s.removed=t,s.newDocument=null,s;if(e.op==="_get")return e.value=t,s;if(n)throw new nn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,e,t);return s}}else{r||(t=Ci(t));const o=(e.path||"").split("/");let l=t,c=1,d=o.length,f,h,p;for(typeof n=="function"?p=n:p=s0;;){if(h=o[c],h&&h.indexOf("~")!=-1&&(h=m6(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&o[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&f===void 0&&(l[h]===void 0?f=o.slice(0,c).join("/"):c==d-1&&(f=e.path),f!==void 0&&p(e,0,t,f)),c++,Array.isArray(l)){if(h==="-")h=l.length;else{if(n&&!GE(h))throw new nn("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,e,t);GE(h)&&(h=~~h)}if(c>=d){if(n&&e.op==="add"&&h>l.length)throw new nn("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",a,e,t);const m=Spe[e.op].call(e,l,h,t);if(m.test===!1)throw new nn("Test operation failed","TEST_OPERATION_FAILED",a,e,t);return m}}else if(c>=d){const m=Uu[e.op].call(e,l,h,t);if(m.test===!1)throw new nn("Test operation failed","TEST_OPERATION_FAILED",a,e,t);return m}if(l=l[h],n&&c<d&&(!l||typeof l!="object"))throw new nn("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",a,e,t)}}}function zd(t,e,n,r=!0,i=!0){if(n&&!Array.isArray(e))throw new nn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(t=Ci(t));const a=new Array(e.length);for(let s=0,o=e.length;s<o;s++)a[s]=_c(t,e[s],n,!0,i,s),t=a[s].newDocument;return a.newDocument=t,a}function Epe(t,e,n){const r=_c(t,e);if(r.test===!1)throw new nn("Test operation failed","TEST_OPERATION_FAILED",n,e,t);return r.newDocument}function s0(t,e,n,r){if(typeof t!="object"||t===null||Array.isArray(t))throw new nn("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,n);if(Uu[t.op]){if(typeof t.path!="string")throw new nn("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,n);if(t.path.indexOf("/")!==0&&t.path.length>0)throw new nn('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,n);if((t.op==="move"||t.op==="copy")&&typeof t.from!="string")throw new nn("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&t.value===void 0)throw new nn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&KE(t.value))throw new nn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,n);if(n){if(t.op=="add"){var i=t.path.split("/").length,a=r.split("/").length;if(i!==a+1&&i!==a)throw new nn("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,n)}else if(t.op==="replace"||t.op==="remove"||t.op==="_get"){if(t.path!==r)throw new nn("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,n)}else if(t.op==="move"||t.op==="copy"){var s={op:"_get",path:t.from,value:void 0},o=v6([s],n);if(o&&o.name==="OPERATION_PATH_UNRESOLVABLE")throw new nn("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,n)}}}else throw new nn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,n)}function v6(t,e,n){try{if(!Array.isArray(t))throw new nn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)zd(Ci(e),Ci(t),n||!0);else{n=n||s0;for(var r=0;r<t.length;r++)n(t[r],r,e,void 0)}}catch(i){if(i instanceof nn)return i;throw i}}function Xp(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=Array.isArray(t),r=Array.isArray(e),i,a,s;if(n&&r){if(a=t.length,a!=e.length)return!1;for(i=a;i--!==0;)if(!Xp(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var o=Object.keys(t);if(a=o.length,a!==Object.keys(e).length)return!1;for(i=a;i--!==0;)if(!e.hasOwnProperty(o[i]))return!1;for(i=a;i--!==0;)if(s=o[i],!Xp(t[s],e[s]))return!1;return!0}return t!==t&&e!==e}function x6(t,e,n,r,i){if(e!==t){typeof e.toJSON=="function"&&(e=e.toJSON());for(var a=qE(e),s=qE(t),o=!1,l=s.length-1;l>=0;l--){var c=s[l],d=t[c];if(WE(e,c)&&!(e[c]===void 0&&d!==void 0&&Array.isArray(e)===!1)){var f=e[c];typeof d=="object"&&d!=null&&typeof f=="object"&&f!=null&&Array.isArray(d)===Array.isArray(f)?x6(d,f,n,r+"/"+Zl(c),i):d!==f&&(i&&n.push({op:"test",path:r+"/"+Zl(c),value:Ci(d)}),n.push({op:"replace",path:r+"/"+Zl(c),value:Ci(f)}))}else Array.isArray(t)===Array.isArray(e)?(i&&n.push({op:"test",path:r+"/"+Zl(c),value:Ci(d)}),n.push({op:"remove",path:r+"/"+Zl(c)}),o=!0):(i&&n.push({op:"test",path:r,value:t}),n.push({op:"replace",path:r,value:e}))}if(!(!o&&a.length==s.length))for(var l=0;l<a.length;l++){var c=a[l];!WE(t,c)&&e[c]!==void 0&&n.push({op:"add",path:r+"/"+Zl(c),value:Ci(e[c])})}}}function gk(t,e,n=!1){var r=[];return x6(t,e,r,"",n),r}({...y6});var jpe={};wt(jpe,{LogStreamCallbackHandler:()=>XE,RunLog:()=>yk,RunLogPatch:()=>ks,isLogStreamHandler:()=>b6});var ks=class{constructor(t){U(this,"ops");this.ops=t.ops??[]}concat(t){const e=this.ops.concat(t.ops),n=zd({},e);return new yk({ops:e,state:n[n.length-1].newDocument})}},yk=class YE extends ks{constructor(n){super(n);U(this,"state");this.state=n.state}concat(n){const r=this.ops.concat(n.ops),i=zd(this.state,n.ops);return new YE({ops:r,state:i[i.length-1].newDocument})}static fromRunLogPatch(n){const r=zd({},n.ops);return new YE({ops:n.ops,state:r[r.length-1].newDocument})}};const b6=t=>t.name==="log_stream_tracer";async function b$(t,e){if(e==="original")throw new Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");const{inputs:n}=t;if(["retriever","llm","prompt"].includes(t.run_type))return n;if(!(Object.keys(n).length===1&&(n==null?void 0:n.input)===""))return n.input}async function w$(t,e){const{outputs:n}=t;return e==="original"||["retriever","llm","prompt"].includes(t.run_type)?n:n!==void 0&&Object.keys(n).length===1&&(n==null?void 0:n.output)!==void 0?n.output:n}function Ape(t){return t!==void 0&&t.message!==void 0}var XE=class extends Pf{constructor(e){super({_awaitHandler:!0,...e});U(this,"autoClose",!0);U(this,"includeNames");U(this,"includeTypes");U(this,"includeTags");U(this,"excludeNames");U(this,"excludeTypes");U(this,"excludeTags");U(this,"_schemaFormat","original");U(this,"rootId");U(this,"keyMapByRunId",{});U(this,"counterMapByRunName",{});U(this,"transformStream");U(this,"writer");U(this,"receiveStream");U(this,"name","log_stream_tracer");U(this,"lc_prefer_streaming",!0);this.autoClose=(e==null?void 0:e.autoClose)??!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this._schemaFormat=(e==null?void 0:e._schemaFormat)??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=wa.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.id===this.rootId)return!1;const n=e.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.run_type)),this.includeTags!==void 0&&(r=r||n.find(i=>{var a;return(a=this.includeTags)==null?void 0:a.includes(i)})!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.run_type)),this.excludeTags!==void 0&&(r=r&&n.every(i=>{var a;return!((a=this.excludeTags)!=null&&a.includes(i))})),r}async*tapOutputIterable(e,n){for await(const r of n){if(e!==this.rootId){const i=this.keyMapByRunId[e];i&&await this.writer.write(new ks({ops:[{op:"add",path:`/logs/${i}/streamed_output/-`,value:r}]}))}yield r}}async onRunCreate(e){var i;if(this.rootId===void 0&&(this.rootId=e.id,await this.writer.write(new ks({ops:[{op:"replace",path:"",value:{id:e.id,name:e.name,type:e.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(e))return;this.counterMapByRunName[e.name]===void 0&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;const n=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=n===1?e.name:`${e.name}:${n}`;const r={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:((i=e.extra)==null?void 0:i.metadata)??{},start_time:new Date(e.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};this._schemaFormat==="streaming_events"&&(r.inputs=await b$(e,this._schemaFormat)),await this.writer.write(new ks({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:r}]}))}async onRunUpdate(e){try{const n=this.keyMapByRunId[e.id];if(n===void 0)return;const r=[];this._schemaFormat==="streaming_events"&&r.push({op:"replace",path:`/logs/${n}/inputs`,value:await b$(e,this._schemaFormat)}),r.push({op:"add",path:`/logs/${n}/final_output`,value:await w$(e,this._schemaFormat)}),e.end_time!==void 0&&r.push({op:"add",path:`/logs/${n}/end_time`,value:new Date(e.end_time).toISOString()});const i=new ks({ops:r});await this.writer.write(i)}finally{if(e.id===this.rootId){const n=new ks({ops:[{op:"replace",path:"/final_output",value:await w$(e,this._schemaFormat)}]});await this.writer.write(n),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,n,r){const i=this.keyMapByRunId[e.id];if(i===void 0)return;const a=e.inputs.messages!==void 0;let s;a?Ape(r==null?void 0:r.chunk)?s=r==null?void 0:r.chunk:s=new lo({id:`run-${e.id}`,content:n}):s=n;const o=new ks({ops:[{op:"add",path:`/logs/${i}/streamed_output_str/-`,value:n},{op:"add",path:`/logs/${i}/streamed_output/-`,value:s}]});await this.writer.write(o)}};function dy({name:t,serialized:e}){return t!==void 0?t:(e==null?void 0:e.name)!==void 0?e.name:(e==null?void 0:e.id)!==void 0&&Array.isArray(e==null?void 0:e.id)?e.id[e.id.length-1]:"Unnamed"}const Cpe=t=>t.name==="event_stream_tracer";var Tpe=class extends Pf{constructor(e){super({_awaitHandler:!0,...e});U(this,"autoClose",!0);U(this,"includeNames");U(this,"includeTypes");U(this,"includeTags");U(this,"excludeNames");U(this,"excludeTypes");U(this,"excludeTags");U(this,"runInfoMap",new Map);U(this,"tappedPromises",new Map);U(this,"transformStream");U(this,"writer");U(this,"receiveStream");U(this,"name","event_stream_tracer");U(this,"lc_prefer_streaming",!0);this.autoClose=(e==null?void 0:e.autoClose)??!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=wa.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){const n=e.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.runType)),this.includeTags!==void 0&&(r=r||n.find(i=>{var a;return(a=this.includeTags)==null?void 0:a.includes(i)})!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.runType)),this.excludeTags!==void 0&&(r=r&&n.every(i=>{var a;return!((a=this.excludeTags)!=null&&a.includes(i))})),r}async*tapOutputIterable(e,n){const r=await n.next();if(r.done)return;const i=this.runInfoMap.get(e);if(i===void 0){yield r.value;return}function a(o,l){return o==="llm"&&typeof l=="string"?new Kp({text:l}):l}let s=this.tappedPromises.get(e);if(s===void 0){let o;s=new Promise(l=>{o=l}),this.tappedPromises.set(e,s);try{const l={event:`on_${i.runType}_stream`,run_id:e,name:i.name,tags:i.tags,metadata:i.metadata,data:{}};await this.send({...l,data:{chunk:a(i.runType,r.value)}},i),yield r.value;for await(const c of n)i.runType!=="tool"&&i.runType!=="retriever"&&await this.send({...l,data:{chunk:a(i.runType,c)}},i),yield c}finally{o==null||o()}}else{yield r.value;for await(const o of n)yield o}}async send(e,n){this._includeRun(n)&&await this.writer.write(e)}async sendEndEvent(e,n){const r=this.tappedPromises.get(e.run_id);r!==void 0?r.then(()=>{this.send(e,n)}):await this.send(e,n)}async onLLMStart(e){var s,o;const n=dy(e),r=e.inputs.messages!==void 0?"chat_model":"llm",i={tags:e.tags??[],metadata:((s=e.extra)==null?void 0:s.metadata)??{},name:n,runType:r,inputs:e.inputs};this.runInfoMap.set(e.id,i);const a=`on_${r}_start`;await this.send({event:a,data:{input:e.inputs},name:n,tags:e.tags??[],run_id:e.id,metadata:((o=e.extra)==null?void 0:o.metadata)??{}},i)}async onLLMNewToken(e,n,r){const i=this.runInfoMap.get(e.id);let a,s;if(i===void 0)throw new Error(`onLLMNewToken: Run ID ${e.id} not found in run map.`);if(this.runInfoMap.size!==1){if(i.runType==="chat_model")s="on_chat_model_stream",(r==null?void 0:r.chunk)===void 0?a=new lo({content:n,id:`run-${e.id}`}):a=r.chunk.message;else if(i.runType==="llm")s="on_llm_stream",(r==null?void 0:r.chunk)===void 0?a=new Kp({text:n}):a=r.chunk;else throw new Error(`Unexpected run type ${i.runType}`);await this.send({event:s,data:{chunk:a},run_id:e.id,name:i.name,tags:i.tags,metadata:i.metadata},i)}}async onLLMEnd(e){var s,o,l;const n=this.runInfoMap.get(e.id);this.runInfoMap.delete(e.id);let r;if(n===void 0)throw new Error(`onLLMEnd: Run ID ${e.id} not found in run map.`);const i=(s=e.outputs)==null?void 0:s.generations;let a;if(n.runType==="chat_model"){for(const c of i??[]){if(a!==void 0)break;a=(o=c[0])==null?void 0:o.message}r="on_chat_model_end"}else if(n.runType==="llm")a={generations:i==null?void 0:i.map(c=>c.map(d=>({text:d.text,generationInfo:d.generationInfo}))),llmOutput:((l=e.outputs)==null?void 0:l.llmOutput)??{}},r="on_llm_end";else throw new Error(`onLLMEnd: Unexpected run type: ${n.runType}`);await this.sendEndEvent({event:r,data:{output:a,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onChainStart(e){var s,o;const n=dy(e),r=e.run_type??"chain",i={tags:e.tags??[],metadata:((s=e.extra)==null?void 0:s.metadata)??{},name:n,runType:e.run_type};let a={};e.inputs.input===""&&Object.keys(e.inputs).length===1?(a={},i.inputs={}):e.inputs.input!==void 0?(a.input=e.inputs.input,i.inputs=e.inputs.input):(a.input=e.inputs,i.inputs=e.inputs),this.runInfoMap.set(e.id,i),await this.send({event:`on_${r}_start`,data:a,name:n,tags:e.tags??[],run_id:e.id,metadata:((o=e.extra)==null?void 0:o.metadata)??{}},i)}async onChainEnd(e){var o;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onChainEnd: Run ID ${e.id} not found in run map.`);const r=`on_${e.run_type}_end`,i=e.inputs??n.inputs??{},s={output:((o=e.outputs)==null?void 0:o.output)??e.outputs,input:i};i.input&&Object.keys(i).length===1&&(s.input=i.input,n.inputs=i.input),await this.sendEndEvent({event:r,data:s,run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata??{}},n)}async onToolStart(e){var i,a;const n=dy(e),r={tags:e.tags??[],metadata:((i=e.extra)==null?void 0:i.metadata)??{},name:n,runType:"tool",inputs:e.inputs??{}};this.runInfoMap.set(e.id,r),await this.send({event:"on_tool_start",data:{input:e.inputs??{}},name:n,run_id:e.id,tags:e.tags??[],metadata:((a=e.extra)==null?void 0:a.metadata)??{}},r)}async onToolEnd(e){var i;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onToolEnd: Run ID ${e.id} not found in run map.`);if(n.inputs===void 0)throw new Error(`onToolEnd: Run ID ${e.id} is a tool call, and is expected to have traced inputs.`);const r=((i=e.outputs)==null?void 0:i.output)===void 0?e.outputs:e.outputs.output;await this.sendEndEvent({event:"on_tool_end",data:{output:r,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onRetrieverStart(e){var a,s;const n=dy(e),i={tags:e.tags??[],metadata:((a=e.extra)==null?void 0:a.metadata)??{},name:n,runType:"retriever",inputs:{query:e.inputs.query}};this.runInfoMap.set(e.id,i),await this.send({event:"on_retriever_start",data:{input:{query:e.inputs.query}},name:n,tags:e.tags??[],run_id:e.id,metadata:((s=e.extra)==null?void 0:s.metadata)??{}},i)}async onRetrieverEnd(e){var r;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onRetrieverEnd: Run ID ${e.id} not found in run map.`);await this.sendEndEvent({event:"on_retriever_end",data:{output:((r=e.outputs)==null?void 0:r.documents)??e.outputs,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async handleCustomEvent(e,n,r){const i=this.runInfoMap.get(r);if(i===void 0)throw new Error(`handleCustomEvent: Run ID ${r} not found in run map.`);await this.send({event:"on_custom_event",run_id:r,name:e,tags:i.tags,metadata:i.metadata,data:n},i)}async finish(){const e=[...this.tappedPromises.values()];Promise.all(e).finally(()=>{this.writer.close()})}};const kpe=Object.prototype.toString,Ope=t=>kpe.call(t)==="[object Error]",Npe=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function Ppe(t){if(!(t&&Ope(t)&&t.name==="TypeError"&&typeof t.message=="string"))return!1;const{message:n,stack:r}=t;return n==="Load failed"?r===void 0||"__sentry_captured__"in t:n.startsWith("error sending request for url")?!0:Npe.has(n)}function Ipe(t){if(typeof t=="number"){if(t<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(t))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(t!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function fy(t,e,{min:n=0,allowInfinity:r=!1}={}){if(e!==void 0){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected \`${t}\` to be a number${r?" or Infinity":""}.`);if(!r&&!Number.isFinite(e))throw new TypeError(`Expected \`${t}\` to be a finite number.`);if(e<n)throw new TypeError(`Expected \`${t}\` to be  ${n}.`)}}class $pe extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}function Rpe(t,e){const n=Math.max(1,t+1),r=e.randomize?Math.random()+1:1;let i=Math.round(r*e.minTimeout*e.factor**(n-1));return i=Math.min(i,e.maxTimeout),i}function _$(t,e){return Number.isFinite(e)?e-(performance.now()-t):e}async function Mpe({error:t,attemptNumber:e,retriesConsumed:n,startTime:r,options:i}){var p,m,g;const a=t instanceof Error?t:new TypeError(`Non-error was thrown: "${t}". You should only throw errors.`);if(a instanceof $pe)throw a.originalError;const s=Number.isFinite(i.retries)?Math.max(0,i.retries-n):i.retries,o=i.maxRetryTime??Number.POSITIVE_INFINITY,l=Object.freeze({error:a,attemptNumber:e,retriesLeft:s,retriesConsumed:n});if(await i.onFailedAttempt(l),_$(r,o)<=0)throw a;const c=await i.shouldConsumeRetry(l),d=_$(r,o);if(d<=0||s<=0)throw a;if(a instanceof TypeError&&!Ppe(a)){if(c)throw a;return(p=i.signal)==null||p.throwIfAborted(),!1}if(!await i.shouldRetry(l))throw a;if(!c)return(m=i.signal)==null||m.throwIfAborted(),!1;const f=Rpe(n,i),h=Math.min(f,d);return h>0&&await new Promise((v,y)=>{var w,S;const b=()=>{var E;clearTimeout(x),(E=i.signal)==null||E.removeEventListener("abort",b),y(i.signal.reason)},x=setTimeout(()=>{var E;(E=i.signal)==null||E.removeEventListener("abort",b),v()},h);i.unref&&((w=x.unref)==null||w.call(x)),(S=i.signal)==null||S.addEventListener("abort",b,{once:!0})}),(g=i.signal)==null||g.throwIfAborted(),!0}async function ZE(t,e={}){var a,s,o;if(e={...e},Ipe(e.retries),Object.hasOwn(e,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");e.retries??(e.retries=10),e.factor??(e.factor=2),e.minTimeout??(e.minTimeout=1e3),e.maxTimeout??(e.maxTimeout=Number.POSITIVE_INFINITY),e.maxRetryTime??(e.maxRetryTime=Number.POSITIVE_INFINITY),e.randomize??(e.randomize=!1),e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.shouldConsumeRetry??(e.shouldConsumeRetry=()=>!0),fy("factor",e.factor,{min:0,allowInfinity:!1}),fy("minTimeout",e.minTimeout,{min:0,allowInfinity:!1}),fy("maxTimeout",e.maxTimeout,{min:0,allowInfinity:!0}),fy("maxRetryTime",e.maxRetryTime,{min:0,allowInfinity:!0}),e.factor>0||(e.factor=1),(a=e.signal)==null||a.throwIfAborted();let n=0,r=0;const i=performance.now();for(;!Number.isFinite(e.retries)||r<=e.retries;){n++;try{(s=e.signal)==null||s.throwIfAborted();const l=await t(n);return(o=e.signal)==null||o.throwIfAborted(),l}catch(l){await Mpe({error:l,attemptNumber:n,retriesConsumed:r,startTime:i,options:e})&&r++}}throw new Error("Retry attempts exhausted without throwing an error.")}var Lpe={};wt(Lpe,{AsyncCaller:()=>yb});const Dpe=[400,401,402,403,404,405,406,407,409],Fpe=t=>{var n,r;if(t.message.startsWith("Cancel")||t.message.startsWith("AbortError")||t.name==="AbortError"||(t==null?void 0:t.code)==="ECONNABORTED")throw t;const e=((n=t==null?void 0:t.response)==null?void 0:n.status)??(t==null?void 0:t.status);if(e&&Dpe.includes(+e))throw t;if(((r=t==null?void 0:t.error)==null?void 0:r.code)==="insufficient_quota"){const i=new Error(t==null?void 0:t.message);throw i.name="InsufficientQuotaError",i}};var yb=class{constructor(t){U(this,"maxConcurrency");U(this,"maxRetries");U(this,"onFailedAttempt");U(this,"queue");this.maxConcurrency=t.maxConcurrency??1/0,this.maxRetries=t.maxRetries??6,this.onFailedAttempt=t.onFailedAttempt??Fpe;const e="default"in zs?zs.default:zs;this.queue=new e({concurrency:this.maxConcurrency})}call(t,...e){return this.queue.add(()=>ZE(()=>t(...e).catch(n=>{throw n instanceof Error?n:new Error(n)}),{onFailedAttempt:({error:n})=>{var r;return(r=this.onFailedAttempt)==null?void 0:r.call(this,n)},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(t,e,...n){if(t.signal){let r;return Promise.race([this.call(e,...n),new Promise((i,a)=>{var s;r=()=>{a(i0(t.signal))},(s=t.signal)==null||s.addEventListener("abort",r)})]).finally(()=>{t.signal&&r&&t.signal.removeEventListener("abort",r)})}return this.call(e,...n)}fetch(...t){return this.call(()=>fetch(...t).then(e=>e.ok?e:Promise.reject(e)))}},w6=class extends Pf{constructor({config:e,onStart:n,onEnd:r,onError:i}){super({_awaitHandler:!0});U(this,"name","RootListenersTracer");U(this,"rootId");U(this,"config");U(this,"argOnStart");U(this,"argOnEnd");U(this,"argOnError");this.config=e,this.argOnStart=n,this.argOnEnd=r,this.argOnError=i}persistRun(e){return Promise.resolve()}async onRunCreate(e){this.rootId||(this.rootId=e.id,this.argOnStart&&await this.argOnStart(e,this.config))}async onRunUpdate(e){e.id===this.rootId&&(e.error?this.argOnError&&await this.argOnError(e,this.config):this.argOnEnd&&await this.argOnEnd(e,this.config))}};function vk(t){return t?t.lc_runnable:!1}var Bpe=class{constructor(t){U(this,"includeNames");U(this,"includeTypes");U(this,"includeTags");U(this,"excludeNames");U(this,"excludeTypes");U(this,"excludeTags");this.includeNames=t.includeNames,this.includeTypes=t.includeTypes,this.includeTags=t.includeTags,this.excludeNames=t.excludeNames,this.excludeTypes=t.excludeTypes,this.excludeTags=t.excludeTags}includeEvent(t,e){let n=this.includeNames===void 0&&this.includeTypes===void 0&&this.includeTags===void 0;const r=t.tags??[];return this.includeNames!==void 0&&(n=n||this.includeNames.includes(t.name)),this.includeTypes!==void 0&&(n=n||this.includeTypes.includes(e)),this.includeTags!==void 0&&(n=n||r.some(i=>{var a;return(a=this.includeTags)==null?void 0:a.includes(i)})),this.excludeNames!==void 0&&(n=n&&!this.excludeNames.includes(t.name)),this.excludeTypes!==void 0&&(n=n&&!this.excludeTypes.includes(e)),this.excludeTags!==void 0&&(n=n&&r.every(i=>{var a;return!((a=this.excludeTags)!=null&&a.includes(i))})),n}};function Q_(t){return t.replace(/[^a-zA-Z-_0-9]/g,"_")}const zpe=["*","_","`"];function Upe(t){let e="";for(const[n,r]of Object.entries(t))e+=`	classDef ${n} ${r};
`;return e}function Hpe(t,e,n){const{firstNode:r,lastNode:i,nodeColors:a,withStyles:s=!0,curveStyle:o="linear",wrapLabelNWords:l=9}=n??{};let c=s?`%%{init: {'flowchart': {'curve': '${o}'}}}%%
graph TD;
`:`graph TD;
`;if(s){const p="default",m={[p]:"{0}({1})"};r!==void 0&&(m[r]="{0}([{1}]):::first"),i!==void 0&&(m[i]="{0}([{1}]):::last");for(const[g,v]of Object.entries(t)){const y=v.name.split(":").pop()??"";let x=zpe.some(S=>y.startsWith(S)&&y.endsWith(S))?`<p>${y}</p>`:y;Object.keys(v.metadata??{}).length&&(x+=`<hr/><small><em>${Object.entries(v.metadata??{}).map(([S,E])=>`${S} = ${E}`).join(`
`)}</em></small>`);const w=(m[g]??m[p]).replace("{0}",Q_(g)).replace("{1}",x);c+=`	${w}
`}}const d={};for(const p of e){const m=p.source.split(":"),g=p.target.split(":"),v=m.filter((y,b)=>y===g[b]).join(":");d[v]||(d[v]=[]),d[v].push(p)}const f=new Set;function h(p,m){const g=p.length===1&&p[0].source===p[0].target;if(m&&!g){const v=m.split(":").pop();if(f.has(v))throw new Error(`Found duplicate subgraph '${v}' -- this likely means that you're reusing a subgraph node with the same name. Please adjust your graph to have subgraph nodes with unique names.`);f.add(v),c+=`	subgraph ${v}
`}for(const v of p){const{source:y,target:b,data:x,conditional:w}=v;let S="";if(x!==void 0){let E=x;const A=E.split(" ");A.length>l&&(E=Array.from({length:Math.ceil(A.length/l)},(j,C)=>A.slice(C*l,(C+1)*l).join(" ")).join("&nbsp;<br>&nbsp;")),S=w?` -. &nbsp;${E}&nbsp; .-> `:` -- &nbsp;${E}&nbsp; --> `}else S=w?" -.-> ":" --> ";c+=`	${Q_(y)}${S}${Q_(b)};
`}for(const v in d)v.startsWith(`${m}:`)&&v!==m&&h(d[v],v);m&&!g&&(c+=`	end
`)}h(d[""]??[],"");for(const p in d)!p.includes(":")&&p!==""&&h(d[p],p);return s&&(c+=Upe(a??{})),c}async function Vpe(t,e){let n=(e==null?void 0:e.backgroundColor)??"white";const r=(e==null?void 0:e.imageType)??"png",i=btoa(t);n!==void 0&&(/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(n)||(n=`!${n}`));const a=`https://mermaid.ink/img/${i}?bgColor=${n}&type=${r}`,s=await fetch(a);if(!s.ok)throw new Error(["Failed to render the graph using the Mermaid.INK API.",`Status code: ${s.status}`,`Status text: ${s.statusText}`].join(`
`));return await s.blob()}var Wpe={};wt(Wpe,{Graph:()=>xk});function qpe(t,e){if(t!==void 0&&!Qh(t))return t;if(vk(e))try{let n=e.getName();return n=n.startsWith("Runnable")?n.slice(8):n,n}catch{return e.getName()}else return e.name??"UnknownSchema"}function Gpe(t){return vk(t.data)?{type:"runnable",data:{id:t.data.lc_id,name:t.data.getName()}}:{type:"schema",data:{...xl(t.data.schema),title:t.data.name}}}var xk=class _6{constructor(e){U(this,"nodes",{});U(this,"edges",[]);this.nodes=(e==null?void 0:e.nodes)??this.nodes,this.edges=(e==null?void 0:e.edges)??this.edges}toJSON(){const e={};return Object.values(this.nodes).forEach((n,r)=>{e[n.id]=Qh(n.id)?r:n.id}),{nodes:Object.values(this.nodes).map(n=>({id:e[n.id],...Gpe(n)})),edges:this.edges.map(n=>{const r={source:e[n.source],target:e[n.target]};return typeof n.data<"u"&&(r.data=n.data),typeof n.conditional<"u"&&(r.conditional=n.conditional),r})}}addNode(e,n,r){if(n!==void 0&&this.nodes[n]!==void 0)throw new Error(`Node with id ${n} already exists`);const i=n??jr(),a={id:i,data:e,name:qpe(n,e),metadata:r};return this.nodes[i]=a,a}removeNode(e){delete this.nodes[e.id],this.edges=this.edges.filter(n=>n.source!==e.id&&n.target!==e.id)}addEdge(e,n,r,i){if(this.nodes[e.id]===void 0)throw new Error(`Source node ${e.id} not in graph`);if(this.nodes[n.id]===void 0)throw new Error(`Target node ${n.id} not in graph`);const a={source:e.id,target:n.id,data:r,conditional:i};return this.edges.push(a),a}firstNode(){return S$(this)}lastNode(){return E$(this)}extend(e,n=""){let r=n;Object.values(e.nodes).map(c=>c.id).every(Qh)&&(r="");const a=c=>r?`${r}:${c}`:c;Object.entries(e.nodes).forEach(([c,d])=>{this.nodes[a(c)]={...d,id:a(c)}});const s=e.edges.map(c=>({...c,source:a(c.source),target:a(c.target)}));this.edges=[...this.edges,...s];const o=e.firstNode(),l=e.lastNode();return[o?{id:a(o.id),data:o.data}:void 0,l?{id:a(l.id),data:l.data}:void 0]}trimFirstNode(){const e=this.firstNode();e&&S$(this,[e.id])&&this.removeNode(e)}trimLastNode(){const e=this.lastNode();e&&E$(this,[e.id])&&this.removeNode(e)}reid(){const e=Object.fromEntries(Object.values(this.nodes).map(i=>[i.id,i.name])),n=new Map;Object.values(e).forEach(i=>{n.set(i,(n.get(i)||0)+1)});const r=i=>{const a=e[i];return Qh(i)&&n.get(a)===1?a:i};return new _6({nodes:Object.fromEntries(Object.entries(this.nodes).map(([i,a])=>[r(i),{...a,id:r(i)}])),edges:this.edges.map(i=>({...i,source:r(i.source),target:r(i.target)}))})}drawMermaid(e){const{withStyles:n,curveStyle:r,nodeColors:i={default:"fill:#f2f0ff,line-height:1.2",first:"fill-opacity:0",last:"fill:#bfb6fc"},wrapLabelNWords:a}=e??{},s=this.reid(),o=s.firstNode(),l=s.lastNode();return Hpe(s.nodes,s.edges,{firstNode:o==null?void 0:o.id,lastNode:l==null?void 0:l.id,withStyles:n,curveStyle:r,nodeColors:i,wrapLabelNWords:a})}async drawMermaidPng(e){const n=this.drawMermaid(e);return Vpe(n,{backgroundColor:e==null?void 0:e.backgroundColor})}};function S$(t,e=[]){const n=new Set(t.edges.filter(i=>!e.includes(i.source)).map(i=>i.target)),r=[];for(const i of Object.values(t.nodes))!e.includes(i.id)&&!n.has(i.id)&&r.push(i);return r.length===1?r[0]:void 0}function E$(t,e=[]){const n=new Set(t.edges.filter(i=>!e.includes(i.target)).map(i=>i.source)),r=[];for(const i of Object.values(t.nodes))!e.includes(i.id)&&!n.has(i.id)&&r.push(i);return r.length===1?r[0]:void 0}function Kpe(t){const e=new TextEncoder,n=new ReadableStream({async start(r){for await(const i of t)r.enqueue(e.encode(`event: data
data: ${JSON.stringify(i)}

`));r.enqueue(e.encode(`event: end

`)),r.close()}});return wa.fromReadableStream(n)}function j$(t){return typeof t=="object"&&t!==null&&typeof t[Symbol.iterator]=="function"&&typeof t.next=="function"}const Ype=t=>t!=null&&typeof t=="object"&&"next"in t&&typeof t.next=="function";function JE(t){return typeof t=="object"&&t!==null&&typeof t[Symbol.asyncIterator]=="function"}function*A$(t,e){for(;;){const{value:n,done:r}=to.runWithConfig($c(t),e.next.bind(e),!0);if(r)break;yield n}}async function*QE(t,e){const n=e[Symbol.asyncIterator]();for(;;){const{value:r,done:i}=await to.runWithConfig($c(t),n.next.bind(e),!0);if(i)break;yield r}}function wn(t,e){return t&&!Array.isArray(t)&&!(t instanceof Date)&&typeof t=="object"?t:{[e]:t}}var fn=class extends Fd{constructor(){super(...arguments);U(this,"lc_runnable",!0);U(this,"name")}getName(e){const n=this.name??this.constructor.lc_name()??this.constructor.name;return e?`${n}${e}`:n}withRetry(e){return new bk({bound:this,kwargs:{},config:{},maxAttemptNumber:e==null?void 0:e.stopAfterAttempt,...e})}withConfig(e){return new Ud({bound:this,config:e,kwargs:{}})}withFallbacks(e){const n=Array.isArray(e)?e:e.fallbacks;return new T6({runnable:this,fallbacks:n})}_getOptionsList(e,n=0){if(Array.isArray(e)&&e.length!==n)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${n} inputs`);if(Array.isArray(e))return e.map(gt);if(n>1&&!Array.isArray(e)&&e.runId){console.warn("Provided runId will be used only for the first element of the batch.");const r=Object.fromEntries(Object.entries(e).filter(([i])=>i!=="runId"));return Array.from({length:n},(i,a)=>gt(a===0?e:r))}return Array.from({length:n},()=>gt(e))}async batch(e,n,r){var l;const i=this._getOptionsList(n??{},e.length),a=((l=i[0])==null?void 0:l.maxConcurrency)??(r==null?void 0:r.maxConcurrency),s=new yb({maxConcurrency:a,onFailedAttempt:c=>{throw c}}),o=e.map((c,d)=>s.call(async()=>{try{return await this.invoke(c,i[d])}catch(f){if(r!=null&&r.returnExceptions)return f;throw f}}));return Promise.all(o)}async*_streamIterator(e,n){yield this.invoke(e,n)}async stream(e,n){const r=gt(n),i=new Yc({generator:this._streamIterator(e,r),config:r});return await i.setup,wa.fromAsyncGenerator(i)}_separateRunnableConfigFromCallOptions(e){let n;e===void 0?n=gt(e):n=gt({callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName,configurable:e.configurable,recursionLimit:e.recursionLimit,maxConcurrency:e.maxConcurrency,runId:e.runId,timeout:e.timeout,signal:e.signal});const r={...e};return delete r.callbacks,delete r.tags,delete r.metadata,delete r.runName,delete r.configurable,delete r.recursionLimit,delete r.maxConcurrency,delete r.runId,delete r.timeout,delete r.signal,[n,r]}async _callWithConfig(e,n,r){const i=gt(r),a=await ri(i),s=await(a==null?void 0:a.handleChainStart(this.toJSON(),wn(n,"input"),i.runId,i==null?void 0:i.runType,void 0,void 0,(i==null?void 0:i.runName)??this.getName()));delete i.runId;let o;try{const l=e.call(this,n,i,s);o=await no(l,r==null?void 0:r.signal)}catch(l){throw await(s==null?void 0:s.handleChainError(l)),l}return await(s==null?void 0:s.handleChainEnd(wn(o,"output"))),o}async _batchWithConfig(e,n,r,i){var c;const a=this._getOptionsList(r??{},n.length),s=await Promise.all(a.map(ri)),o=await Promise.all(s.map(async(d,f)=>{const h=await(d==null?void 0:d.handleChainStart(this.toJSON(),wn(n[f],"input"),a[f].runId,a[f].runType,void 0,void 0,a[f].runName??this.getName()));return delete a[f].runId,h}));let l;try{const d=e.call(this,n,a,o,i);l=await no(d,(c=a==null?void 0:a[0])==null?void 0:c.signal)}catch(d){throw await Promise.all(o.map(f=>f==null?void 0:f.handleChainError(d))),d}return await Promise.all(o.map(d=>d==null?void 0:d.handleChainEnd(wn(l,"output")))),l}_concatOutputChunks(e,n){return Rc(e,n)}async*_transformStreamWithConfig(e,n,r){let i,a=!0,s,o=!0;const l=gt(r),c=await ri(l),d=this;async function*f(){for await(const p of e){if(a)if(i===void 0)i=p;else try{i=d._concatOutputChunks(i,p)}catch{i=void 0,a=!1}yield p}}let h;try{const p=await f6(n.bind(this),f(),async()=>c==null?void 0:c.handleChainStart(this.toJSON(),{input:""},l.runId,l.runType,void 0,void 0,l.runName??this.getName()),r==null?void 0:r.signal,l);delete l.runId,h=p.setup;const m=h==null?void 0:h.handlers.find(Cpe);let g=p.output;m!==void 0&&h!==void 0&&(g=m.tapOutputIterable(h.runId,g));const v=h==null?void 0:h.handlers.find(b6);v!==void 0&&h!==void 0&&(g=v.tapOutputIterable(h.runId,g));for await(const y of g)if(yield y,o)if(s===void 0)s=y;else try{s=this._concatOutputChunks(s,y)}catch{s=void 0,o=!1}}catch(p){throw await(h==null?void 0:h.handleChainError(p,void 0,void 0,void 0,{inputs:wn(i,"input")})),p}await(h==null?void 0:h.handleChainEnd(s??{},void 0,void 0,void 0,{inputs:wn(i,"input")}))}getGraph(e){const n=new xk,r=n.addNode({name:`${this.getName()}Input`,schema:m2()}),i=n.addNode(this),a=n.addNode({name:`${this.getName()}Output`,schema:m2()});return n.addEdge(r,i),n.addEdge(i,a),n}pipe(e){return new ag({first:this,last:ua(e)})}pick(e){return this.pipe(new k6(e))}assign(e){return this.pipe(new wk(new If({steps:e})))}async*transform(e,n){let r;for await(const i of e)r===void 0?r=i:r=this._concatOutputChunks(r,i);yield*this._streamIterator(r,gt(n))}async*streamLog(e,n,r){const i=new XE({...r,autoClose:!1,_schemaFormat:"original"}),a=gt(n);yield*this._streamLog(e,i,a)}async*_streamLog(e,n,r){const{callbacks:i}=r;if(i===void 0)r.callbacks=[n];else if(Array.isArray(i))r.callbacks=i.concat([n]);else{const l=i.copy();l.addHandler(n,!0),r.callbacks=l}const a=this.stream(e,r);async function s(){try{const l=await a;for await(const c of l){const d=new ks({ops:[{op:"add",path:"/streamed_output/-",value:c}]});await n.writer.write(d)}}finally{await n.writer.close()}}const o=s();try{for await(const l of n)yield l}finally{await o}}streamEvents(e,n,r){let i;if(n.version==="v1")i=this._streamEventsV1(e,n,r);else if(n.version==="v2")i=this._streamEventsV2(e,n,r);else throw new Error('Only versions "v1" and "v2" of the schema are currently supported.');return n.encoding==="text/event-stream"?Kpe(i):wa.fromAsyncGenerator(i)}async*_streamEventsV2(e,n,r){var m;const i=new Tpe({...r,autoClose:!1}),a=gt(n),s=a.runId??jr();a.runId=s;const o=a.callbacks;if(o===void 0)a.callbacks=[i];else if(Array.isArray(o))a.callbacks=o.concat(i);else{const g=o.copy();g.addHandler(i,!0),a.callbacks=g}const l=new AbortController,c=this;async function d(){let g,v=null;try{n!=null&&n.signal?"any"in AbortSignal?g=AbortSignal.any([l.signal,n.signal]):(g=n.signal,v=()=>{l.abort()},n.signal.addEventListener("abort",v,{once:!0})):g=l.signal;const y=await c.stream(e,{...a,signal:g}),b=i.tapOutputIterable(s,y);for await(const x of b)if(l.signal.aborted)break}finally{await i.finish(),g&&v&&g.removeEventListener("abort",v)}}const f=d();let h=!1,p;try{for await(const g of i){if(!h){g.data.input=e,h=!0,p=g.run_id,yield g;continue}g.run_id===p&&g.event.endsWith("_end")&&(m=g.data)!=null&&m.input&&delete g.data.input,yield g}}finally{l.abort(),await f}}async*_streamEventsV1(e,n,r){let i,a=!1;const s=gt(n),o=s.tags??[],l=s.metadata??{},c=s.runName??this.getName(),d=new XE({...r,autoClose:!1,_schemaFormat:"streaming_events"}),f=new Bpe({...r}),h=this._streamLog(e,d,s);for await(const m of h){if(i?i=i.concat(m):i=yk.fromRunLogPatch(m),i.state===void 0)throw new Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!a){a=!0;const b={...i.state},x={run_id:b.id,event:`on_${b.type}_start`,name:c,tags:o,metadata:l,data:{input:e}};f.includeEvent(x,b.type)&&(yield x)}const g=m.ops.filter(b=>b.path.startsWith("/logs/")).map(b=>b.path.split("/")[2]),v=[...new Set(g)];for(const b of v){let x,w={};const S=i.state.logs[b];if(S.end_time===void 0?S.streamed_output.length>0?x="stream":x="start":x="end",x==="start")S.inputs!==void 0&&(w.input=S.inputs);else if(x==="end")S.inputs!==void 0&&(w.input=S.inputs),w.output=S.final_output;else if(x==="stream"){const E=S.streamed_output.length;if(E!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${E} instead. Encountered in: "${S.name}"`);w={chunk:S.streamed_output[0]},S.streamed_output=[]}yield{event:`on_${S.type}_${x}`,name:S.name,run_id:S.id,tags:S.tags,metadata:S.metadata,data:w}}const{state:y}=i;if(y.streamed_output.length>0){const b=y.streamed_output.length;if(b!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${b} instead. Encountered in: "${y.name}"`);const x={chunk:y.streamed_output[0]};y.streamed_output=[];const w={event:`on_${y.type}_stream`,run_id:y.id,tags:o,metadata:l,name:c,data:x};f.includeEvent(w,y.type)&&(yield w)}}const p=i==null?void 0:i.state;if(p!==void 0){const m={event:`on_${p.type}_end`,name:c,run_id:p.id,tags:o,metadata:l,data:{output:p.final_output}};f.includeEvent(m,p.type)&&(yield m)}}static isRunnable(e){return vk(e)}withListeners({onStart:e,onEnd:n,onError:r}){return new Ud({bound:this,config:{},configFactories:[i=>({callbacks:[new w6({config:i,onStart:e,onEnd:n,onError:r})]})]})}asTool(e){return eme(this,e)}},Ud=class S6 extends fn{constructor(n){super(n);U(this,"lc_namespace",["langchain_core","runnables"]);U(this,"lc_serializable",!0);U(this,"bound");U(this,"config");U(this,"kwargs");U(this,"configFactories");this.bound=n.bound,this.kwargs=n.kwargs,this.config=n.config,this.configFactories=n.configFactories}static lc_name(){return"RunnableBinding"}getName(n){return this.bound.getName(n)}async _mergeConfig(...n){const r=UE(this.config,...n);return UE(r,...this.configFactories?await Promise.all(this.configFactories.map(async i=>await i(r))):[])}withConfig(n){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...n}})}withRetry(n){return new bk({bound:this.bound,kwargs:this.kwargs,config:this.config,maxAttemptNumber:n==null?void 0:n.stopAfterAttempt,...n})}async invoke(n,r){return this.bound.invoke(n,await this._mergeConfig(r,this.kwargs))}async batch(n,r,i){const a=Array.isArray(r)?await Promise.all(r.map(async s=>this._mergeConfig(gt(s),this.kwargs))):await this._mergeConfig(gt(r),this.kwargs);return this.bound.batch(n,a,i)}_concatOutputChunks(n,r){return this.bound._concatOutputChunks(n,r)}async*_streamIterator(n,r){yield*this.bound._streamIterator(n,await this._mergeConfig(gt(r),this.kwargs))}async stream(n,r){return this.bound.stream(n,await this._mergeConfig(gt(r),this.kwargs))}async*transform(n,r){yield*this.bound.transform(n,await this._mergeConfig(gt(r),this.kwargs))}streamEvents(n,r,i){const a=this,s=async function*(){yield*a.bound.streamEvents(n,{...await a._mergeConfig(gt(r),a.kwargs),version:r.version},i)};return wa.fromAsyncGenerator(s())}static isRunnableBinding(n){return n.bound&&fn.isRunnable(n.bound)}withListeners({onStart:n,onEnd:r,onError:i}){return new S6({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[a=>({callbacks:[new w6({config:a,onStart:n,onEnd:r,onError:i})]})]})}},Xpe=class E6 extends fn{constructor(n){super(n);U(this,"lc_serializable",!0);U(this,"lc_namespace",["langchain_core","runnables"]);U(this,"bound");this.bound=n.bound}static lc_name(){return"RunnableEach"}async invoke(n,r){return this._callWithConfig(this._invoke.bind(this),n,r)}async _invoke(n,r,i){return this.bound.batch(n,Xt(r,{callbacks:i==null?void 0:i.getChild()}))}withListeners({onStart:n,onEnd:r,onError:i}){return new E6({bound:this.bound.withListeners({onStart:n,onEnd:r,onError:i})})}},bk=class extends Ud{constructor(e){super(e);U(this,"lc_namespace",["langchain_core","runnables"]);U(this,"maxAttemptNumber",3);U(this,"onFailedAttempt",()=>{});this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}static lc_name(){return"RunnableRetry"}_patchConfigForRetry(e,n,r){const i=e>1?`retry:attempt:${e}`:void 0;return Xt(n,{callbacks:r==null?void 0:r.getChild(i)})}async _invoke(e,n,r){return ZE(i=>super.invoke(e,this._patchConfigForRetry(i,n,r)),{onFailedAttempt:({error:i})=>this.onFailedAttempt(i,e),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,n){return this._callWithConfig(this._invoke.bind(this),e,n)}async _batch(e,n,r,i){const a={};try{await ZE(async s=>{const o=e.map((h,p)=>p).filter(h=>a[h.toString()]===void 0||a[h.toString()]instanceof Error),l=o.map(h=>e[h]),c=o.map(h=>this._patchConfigForRetry(s,n==null?void 0:n[h],r==null?void 0:r[h])),d=await super.batch(l,c,{...i,returnExceptions:!0});let f;for(let h=0;h<d.length;h+=1){const p=d[h],m=o[h];p instanceof Error&&f===void 0&&(f=p,f.input=l[h]),a[m.toString()]=p}if(f)throw f;return d},{onFailedAttempt:({error:s})=>this.onFailedAttempt(s,s.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(s){if((i==null?void 0:i.returnExceptions)!==!0)throw s}return Object.keys(a).sort((s,o)=>parseInt(s,10)-parseInt(o,10)).map(s=>a[parseInt(s,10)])}async batch(e,n,r){return this._batchWithConfig(this._batch.bind(this),e,n,r)}},ag=class $h extends fn{constructor(n){super(n);U(this,"first");U(this,"middle",[]);U(this,"last");U(this,"omitSequenceTags",!1);U(this,"lc_serializable",!0);U(this,"lc_namespace",["langchain_core","runnables"]);this.first=n.first,this.middle=n.middle??this.middle,this.last=n.last,this.name=n.name,this.omitSequenceTags=n.omitSequenceTags??this.omitSequenceTags}static lc_name(){return"RunnableSequence"}get steps(){return[this.first,...this.middle,this.last]}async invoke(n,r){var c;const i=gt(r),a=await ri(i),s=await(a==null?void 0:a.handleChainStart(this.toJSON(),wn(n,"input"),i.runId,void 0,void 0,void 0,i==null?void 0:i.runName));delete i.runId;let o=n,l;try{const d=[this.first,...this.middle];for(let f=0;f<d.length;f+=1){const p=d[f].invoke(o,Xt(i,{callbacks:s==null?void 0:s.getChild(this.omitSequenceTags?void 0:`seq:step:${f+1}`)}));o=await no(p,r==null?void 0:r.signal)}if((c=r==null?void 0:r.signal)!=null&&c.aborted)throw i0(r.signal);l=await this.last.invoke(o,Xt(i,{callbacks:s==null?void 0:s.getChild(this.omitSequenceTags?void 0:`seq:step:${this.steps.length}`)}))}catch(d){throw await(s==null?void 0:s.handleChainError(d)),d}return await(s==null?void 0:s.handleChainEnd(wn(l,"output"))),l}async batch(n,r,i){var c;const a=this._getOptionsList(r??{},n.length),s=await Promise.all(a.map(ri)),o=await Promise.all(s.map(async(d,f)=>{const h=await(d==null?void 0:d.handleChainStart(this.toJSON(),wn(n[f],"input"),a[f].runId,void 0,void 0,void 0,a[f].runName));return delete a[f].runId,h}));let l=n;try{for(let d=0;d<this.steps.length;d+=1){const h=this.steps[d].batch(l,o.map((p,m)=>{const g=p==null?void 0:p.getChild(this.omitSequenceTags?void 0:`seq:step:${d+1}`);return Xt(a[m],{callbacks:g})}),i);l=await no(h,(c=a[0])==null?void 0:c.signal)}}catch(d){throw await Promise.all(o.map(f=>f==null?void 0:f.handleChainError(d))),d}return await Promise.all(o.map(d=>d==null?void 0:d.handleChainEnd(wn(l,"output")))),l}_concatOutputChunks(n,r){return this.last._concatOutputChunks(n,r)}async*_streamIterator(n,r){var h;const i=await ri(r),{runId:a,...s}=r??{},o=await(i==null?void 0:i.handleChainStart(this.toJSON(),wn(n,"input"),a,void 0,void 0,void 0,s==null?void 0:s.runName)),l=[this.first,...this.middle,this.last];let c=!0,d;async function*f(){yield n}try{let p=l[0].transform(f(),Xt(s,{callbacks:o==null?void 0:o.getChild(this.omitSequenceTags?void 0:"seq:step:1")}));for(let m=1;m<l.length;m+=1)p=await l[m].transform(p,Xt(s,{callbacks:o==null?void 0:o.getChild(this.omitSequenceTags?void 0:`seq:step:${m+1}`)}));for await(const m of p)if((h=r==null?void 0:r.signal)==null||h.throwIfAborted(),yield m,c)if(d===void 0)d=m;else try{d=this._concatOutputChunks(d,m)}catch{d=void 0,c=!1}}catch(p){throw await(o==null?void 0:o.handleChainError(p)),p}await(o==null?void 0:o.handleChainEnd(wn(d,"output")))}getGraph(n){const r=new xk;let i=null;return this.steps.forEach((a,s)=>{const o=a.getGraph(n);s!==0&&o.trimFirstNode(),s!==this.steps.length-1&&o.trimLastNode(),r.extend(o);const l=o.firstNode();if(!l)throw new Error(`Runnable ${a} has no first node`);i&&r.addEdge(i,l),i=o.lastNode()}),r}pipe(n){return $h.isRunnableSequence(n)?new $h({first:this.first,middle:this.middle.concat([this.last,n.first,...n.middle]),last:n.last,name:this.name??n.name}):new $h({first:this.first,middle:[...this.middle,this.last],last:ua(n),name:this.name})}static isRunnableSequence(n){return Array.isArray(n.middle)&&fn.isRunnable(n)}static from([n,...r],i){let a={};return typeof i=="string"?a.name=i:i!==void 0&&(a=i),new $h({...a,first:ua(n),middle:r.slice(0,-1).map(ua),last:ua(r[r.length-1])})}},If=class j6 extends fn{constructor(n){super(n);U(this,"lc_namespace",["langchain_core","runnables"]);U(this,"lc_serializable",!0);U(this,"steps");this.steps={};for(const[r,i]of Object.entries(n.steps))this.steps[r]=ua(i)}static lc_name(){return"RunnableMap"}getStepsKeys(){return Object.keys(this.steps)}static from(n){return new j6({steps:n})}async invoke(n,r){const i=gt(r),a=await ri(i),s=await(a==null?void 0:a.handleChainStart(this.toJSON(),{input:n},i.runId,void 0,void 0,void 0,i==null?void 0:i.runName));delete i.runId;const o={};try{const l=Object.entries(this.steps).map(async([c,d])=>{o[c]=await d.invoke(n,Xt(i,{callbacks:s==null?void 0:s.getChild(`map:key:${c}`)}))});await no(Promise.all(l),r==null?void 0:r.signal)}catch(l){throw await(s==null?void 0:s.handleChainError(l)),l}return await(s==null?void 0:s.handleChainEnd(o)),o}async*_transform(n,r,i){const a={...this.steps},s=mk(n,Object.keys(a).length),o=new Map(Object.entries(a).map(([l,c],d)=>{const f=c.transform(s[d],Xt(i,{callbacks:r==null?void 0:r.getChild(`map:key:${l}`)}));return[l,f.next().then(h=>({key:l,gen:f,result:h}))]}));for(;o.size;){const l=Promise.race(o.values()),{key:c,result:d,gen:f}=await no(l,i==null?void 0:i.signal);o.delete(c),d.done||(yield{[c]:d.value},o.set(c,f.next().then(h=>({key:c,gen:f,result:h}))))}}transform(n,r){return this._transformStreamWithConfig(n,this._transform.bind(this),r)}async stream(n,r){async function*i(){yield n}const a=gt(r),s=new Yc({generator:this.transform(i(),a),config:a});return await s.setup,wa.fromAsyncGenerator(s)}},Zpe=class A6 extends fn{constructor(n){super(n);U(this,"lc_serializable",!1);U(this,"lc_namespace",["langchain_core","runnables"]);U(this,"func");if(!pk(n.func))throw new Error("RunnableTraceable requires a function that is wrapped in traceable higher-order function");this.func=n.func}async invoke(n,r){const[i]=this._getOptionsList(r??{},1),a=await ri(i),s=this.func(Xt(i,{callbacks:a}),n);return no(s,i==null?void 0:i.signal)}async*_streamIterator(n,r){var s,o;const[i]=this._getOptionsList(r??{},1),a=await this.invoke(n,r);if(JE(a)){for await(const l of a)(s=i==null?void 0:i.signal)==null||s.throwIfAborted(),yield l;return}if(Ype(a)){for(;;){(o=i==null?void 0:i.signal)==null||o.throwIfAborted();const l=a.next();if(l.done)break;yield l.value}return}yield a}static from(n){return new A6({func:n})}};function Jpe(t){if(pk(t))throw new Error("RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.")}var Pl=class C6 extends fn{constructor(n){if(pk(n.func))return Zpe.from(n.func);super(n);U(this,"lc_namespace",["langchain_core","runnables"]);U(this,"func");Jpe(n.func),this.func=n.func}static lc_name(){return"RunnableLambda"}static from(n){return new C6({func:n})}async _invoke(n,r,i){return new Promise((a,s)=>{const o=Xt(r,{callbacks:i==null?void 0:i.getChild(),recursionLimit:((r==null?void 0:r.recursionLimit)??J_)-1});to.runWithConfig($c(o),async()=>{var l,c;try{let d=await this.func(n,{...o});if(d&&fn.isRunnable(d)){if((r==null?void 0:r.recursionLimit)===0)throw new Error("Recursion limit reached.");d=await d.invoke(n,{...o,recursionLimit:(o.recursionLimit??J_)-1})}else if(JE(d)){let f;for await(const h of QE(o,d))if((l=r==null?void 0:r.signal)==null||l.throwIfAborted(),f===void 0)f=h;else try{f=this._concatOutputChunks(f,h)}catch{f=h}d=f}else if(j$(d)){let f;for(const h of A$(o,d))if((c=r==null?void 0:r.signal)==null||c.throwIfAborted(),f===void 0)f=h;else try{f=this._concatOutputChunks(f,h)}catch{f=h}d=f}a(d)}catch(d){s(d)}})})}async invoke(n,r){return this._callWithConfig(this._invoke.bind(this),n,r)}async*_transform(n,r,i){var l,c;let a;for await(const d of n)if(a===void 0)a=d;else try{a=this._concatOutputChunks(a,d)}catch{a=d}const s=Xt(i,{callbacks:r==null?void 0:r.getChild(),recursionLimit:((i==null?void 0:i.recursionLimit)??J_)-1}),o=await new Promise((d,f)=>{to.runWithConfig($c(s),async()=>{try{const h=await this.func(a,{...s,config:s});d(h)}catch(h){f(h)}})});if(o&&fn.isRunnable(o)){if((i==null?void 0:i.recursionLimit)===0)throw new Error("Recursion limit reached.");const d=await o.stream(a,s);for await(const f of d)yield f}else if(JE(o))for await(const d of QE(s,o))(l=i==null?void 0:i.signal)==null||l.throwIfAborted(),yield d;else if(j$(o))for(const d of A$(s,o))(c=i==null?void 0:i.signal)==null||c.throwIfAborted(),yield d;else yield o}transform(n,r){return this._transformStreamWithConfig(n,this._transform.bind(this),r)}async stream(n,r){async function*i(){yield n}const a=gt(r),s=new Yc({generator:this.transform(i(),a),config:a});return await s.setup,wa.fromAsyncGenerator(s)}},Qpe=class extends If{},T6=class extends fn{constructor(e){super(e);U(this,"lc_namespace",["langchain_core","runnables"]);U(this,"lc_serializable",!0);U(this,"runnable");U(this,"fallbacks");this.runnable=e.runnable,this.fallbacks=e.fallbacks}static lc_name(){return"RunnableWithFallbacks"}*runnables(){yield this.runnable;for(const e of this.fallbacks)yield e}async invoke(e,n){const r=gt(n),i=await ri(r),{runId:a,...s}=r,o=await(i==null?void 0:i.handleChainStart(this.toJSON(),wn(e,"input"),a,void 0,void 0,void 0,s==null?void 0:s.runName)),l=Xt(s,{callbacks:o==null?void 0:o.getChild()});return await to.runWithConfig(l,async()=>{var f;let d;for(const h of this.runnables()){(f=r==null?void 0:r.signal)==null||f.throwIfAborted();try{const p=await h.invoke(e,l);return await(o==null?void 0:o.handleChainEnd(wn(p,"output"))),p}catch(p){d===void 0&&(d=p)}}throw d===void 0?new Error("No error stored at end of fallback."):(await(o==null?void 0:o.handleChainError(d)),d)})}async*_streamIterator(e,n){var f;const r=gt(n),i=await ri(r),{runId:a,...s}=r,o=await(i==null?void 0:i.handleChainStart(this.toJSON(),wn(e,"input"),a,void 0,void 0,void 0,s==null?void 0:s.runName));let l,c;for(const h of this.runnables()){(f=r==null?void 0:r.signal)==null||f.throwIfAborted();const p=Xt(s,{callbacks:o==null?void 0:o.getChild()});try{const m=await h.stream(e,p);c=QE(p,m);break}catch(m){l===void 0&&(l=m)}}if(c===void 0){const h=l??new Error("No error stored at end of fallback.");throw await(o==null?void 0:o.handleChainError(h)),h}let d;try{for await(const h of c){yield h;try{d=d===void 0?d:this._concatOutputChunks(d,h)}catch{d=void 0}}}catch(h){throw await(o==null?void 0:o.handleChainError(h)),h}await(o==null?void 0:o.handleChainEnd(wn(d,"output")))}async batch(e,n,r){var l;if(r!=null&&r.returnExceptions)throw new Error("Not implemented.");const i=this._getOptionsList(n??{},e.length),a=await Promise.all(i.map(c=>ri(c))),s=await Promise.all(a.map(async(c,d)=>{const f=await(c==null?void 0:c.handleChainStart(this.toJSON(),wn(e[d],"input"),i[d].runId,void 0,void 0,void 0,i[d].runName));return delete i[d].runId,f}));let o;for(const c of this.runnables()){(l=i[0].signal)==null||l.throwIfAborted();try{const d=await c.batch(e,s.map((f,h)=>Xt(i[h],{callbacks:f==null?void 0:f.getChild()})),r);return await Promise.all(s.map((f,h)=>f==null?void 0:f.handleChainEnd(wn(d[h],"output")))),d}catch(d){o===void 0&&(o=d)}}throw o?(await Promise.all(s.map(c=>c==null?void 0:c.handleChainError(o))),o):new Error("No error stored at end of fallbacks.")}};function ua(t){if(typeof t=="function")return new Pl({func:t});if(fn.isRunnable(t))return t;if(!Array.isArray(t)&&typeof t=="object"){const e={};for(const[n,r]of Object.entries(t))e[n]=ua(r);return new If({steps:e})}else throw new Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}var wk=class extends fn{constructor(e){e instanceof If&&(e={mapper:e});super(e);U(this,"lc_namespace",["langchain_core","runnables"]);U(this,"lc_serializable",!0);U(this,"mapper");this.mapper=e.mapper}static lc_name(){return"RunnableAssign"}async invoke(e,n){const r=await this.mapper.invoke(e,n);return{...e,...r}}async*_transform(e,n,r){const i=this.mapper.getStepsKeys(),[a,s]=mk(e),o=this.mapper.transform(s,Xt(r,{callbacks:n==null?void 0:n.getChild()})),l=o.next();for await(const c of a){if(typeof c!="object"||Array.isArray(c))throw new Error(`RunnableAssign can only be used with objects as input, got ${typeof c}`);const d=Object.fromEntries(Object.entries(c).filter(([f])=>!i.includes(f)));Object.keys(d).length>0&&(yield d)}yield(await l).value;for await(const c of o)yield c}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=gt(n),a=new Yc({generator:this.transform(r(),i),config:i});return await a.setup,wa.fromAsyncGenerator(a)}},k6=class extends fn{constructor(e){(typeof e=="string"||Array.isArray(e))&&(e={keys:e});super(e);U(this,"lc_namespace",["langchain_core","runnables"]);U(this,"lc_serializable",!0);U(this,"keys");this.keys=e.keys}static lc_name(){return"RunnablePick"}async _pick(e){if(typeof this.keys=="string")return e[this.keys];{const n=this.keys.map(r=>[r,e[r]]).filter(r=>r[1]!==void 0);return n.length===0?void 0:Object.fromEntries(n)}}async invoke(e,n){return this._callWithConfig(this._pick.bind(this),e,n)}async*_transform(e){for await(const n of e){const r=await this._pick(n);r!==void 0&&(yield r)}}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=gt(n),a=new Yc({generator:this.transform(r(),i),config:i});return await a.setup,wa.fromAsyncGenerator(a)}},ej=class extends Ud{constructor(e){const n=ag.from([Pl.from(async r=>{let i;if(vU(r))try{i=await FT(this.schema,r.args)}catch{throw new Yle("Received tool input did not match expected schema",JSON.stringify(r.args))}else i=r;return i}).withConfig({runName:`${e.name}:parse_input`}),e.bound]).withConfig({runName:e.name});super({bound:n,config:e.config??{}});U(this,"name");U(this,"description");U(this,"schema");this.name=e.name,this.description=e.description,this.schema=e.schema}static lc_name(){return"RunnableToolLike"}};function eme(t,e){const n=e.name??t.getName(),r=e.description??BT(e.schema);return Mz(e.schema)?new ej({name:n,description:r,schema:VT({input:HT()}).transform(i=>i.input),bound:t}):new ej({name:n,description:r,schema:e.schema,bound:t})}const o0=(t,e)=>{const n=[...new Set(e==null?void 0:e.map(i=>{if(typeof i=="string")return i;const a=new i({});if(!("getType"in a)||typeof a.getType!="function")throw new Error("Invalid type provided.");return a.getType()}))],r=t.getType();return n.some(i=>i===r)};function tme(t,e){return Array.isArray(t)?C$(t,e):Pl.from(n=>C$(n,t))}function C$(t,e={}){const{includeNames:n,excludeNames:r,includeTypes:i,excludeTypes:a,includeIds:s,excludeIds:o}=e,l=[];for(const c of t)if(!(r&&c.name&&r.includes(c.name))){{if(a&&o0(c,a))continue;if(o&&c.id&&o.includes(c.id))continue}i||s||n?(n&&c.name&&n.some(d=>d===c.name)||i&&o0(c,i)||s&&c.id&&s.some(d=>d===c.id))&&l.push(c):l.push(c)}return l}function nme(t){return Array.isArray(t)?T$(t):Pl.from(T$)}function T$(t){if(!t.length)return[];const e=[];for(const n of t){const r=n,i=e.pop();if(!i)e.push(r);else if(r.getType()==="tool"||r.getType()!==i.getType())e.push(i,r);else{const a=t0(i),s=t0(r),o=a.concat(s);typeof a.content=="string"&&typeof s.content=="string"&&(o.content=`${a.content}
${s.content}`),e.push(ame(o))}}return e}function rme(t,e){if(Array.isArray(t)){const n=t;if(!e)throw new Error("Options parameter is required when providing messages.");return k$(n,e)}else{const n=t;return Pl.from(r=>k$(r,n)).withConfig({runName:"trim_messages"})}}async function k$(t,e){const{maxTokens:n,tokenCounter:r,strategy:i="last",allowPartial:a=!1,endOn:s,startOn:o,includeSystem:l=!1,textSplitter:c}=e;if(o&&i==="first")throw new Error("`startOn` should only be specified if `strategy` is 'last'.");if(l&&i==="first")throw new Error("`includeSystem` should only be specified if `strategy` is 'last'.");let d;"getNumTokens"in r?d=async h=>(await Promise.all(h.map(m=>r.getNumTokens(m.content)))).reduce((m,g)=>m+g,0):d=async h=>r(h);let f=N6;if(c&&("splitText"in c?f=c.splitText:f=async h=>c(h)),i==="first")return O6(t,{maxTokens:n,tokenCounter:d,textSplitter:f,partialStrategy:a?"first":void 0,endOn:s});if(i==="last")return ime(t,{maxTokens:n,tokenCounter:d,textSplitter:f,allowPartial:a,includeSystem:l,startOn:o,endOn:s});throw new Error(`Unrecognized strategy: '${i}'. Must be one of 'first' or 'last'.`)}async function O6(t,e){const{maxTokens:n,tokenCounter:r,textSplitter:i,partialStrategy:a,endOn:s}=e;let o=[...t],l=0;for(let c=0;c<o.length;c+=1){const d=c>0?o.slice(0,-c):o;if(await r(d)<=n){l=o.length-c;break}}if(l<o.length&&a){let c=!1;if(Array.isArray(o[l].content)){const d=o[l];if(typeof d.content=="string")throw new Error("Expected content to be an array.");const f=d.content.length,h=a==="last"?[...d.content].reverse():d.content;for(let p=1;p<=f;p+=1){const m=a==="first"?h.slice(0,p):h.slice(-p),g=Object.fromEntries(Object.entries(d).filter(([b])=>b!=="type"&&!b.startsWith("lc_"))),v=_k(d.getType(),{...g,content:m}),y=[...o.slice(0,l),v];if(await r(y)<=n)o=y,l+=1,c=!0;else break}c&&a==="last"&&(d.content=[...h].reverse())}if(!c){const d=o[l];let f;if(Array.isArray(d.content)&&d.content.some(h=>typeof h=="string"||h.type==="text")){const h=d.content.find(p=>p.type==="text"&&p.text);f=h==null?void 0:h.text}else typeof d.content=="string"&&(f=d.content);if(f){const h=await i(f),p=h.length;a==="last"&&h.reverse();for(let m=0;m<p-1;m+=1)if(h.pop(),d.content=h.join(""),await r([...o.slice(0,l),d])<=n){a==="last"&&(d.content=[...h].reverse().join("")),o=[...o.slice(0,l),d],l+=1;break}}}}if(s){const c=Array.isArray(s)?s:[s];for(;l>0&&!o0(o[l-1],c);)l-=1}return o.slice(0,l)}async function ime(t,e){var d;const{allowPartial:n=!1,includeSystem:r=!1,endOn:i,startOn:a,...s}=e;let o=t.map(f=>{const h=Object.fromEntries(Object.entries(f).filter(([p])=>p!=="type"&&!p.startsWith("lc_")));return _k(f.getType(),h,XT(f))});if(i){const f=Array.isArray(i)?i:[i];for(;o.length>0&&!o0(o[o.length-1],f);)o=o.slice(0,-1)}const l=r&&((d=o[0])==null?void 0:d.getType())==="system";let c=l?o.slice(0,1).concat(o.slice(1).reverse()):o.reverse();return c=await O6(c,{...s,partialStrategy:n?"last":void 0,endOn:a}),l?[c[0],...c.slice(1).reverse()]:c.reverse()}const O$={human:{message:ba,messageChunk:tg},ai:{message:os,messageChunk:lo},system:{message:ls,messageChunk:wl},developer:{message:ls,messageChunk:wl},tool:{message:Of,messageChunk:Jm},function:{message:cb,messageChunk:eg},generic:{message:Kc,messageChunk:Qm},remove:{message:e0,messageChunk:e0}};function _k(t,e,n){var a;let r,i;switch(t){case"human":n?r=new tg(e):i=new ba(e);break;case"ai":if(n){let s={...e};"tool_calls"in s&&(s={...s,tool_call_chunks:(a=s.tool_calls)==null?void 0:a.map(o=>({...o,type:"tool_call_chunk",index:void 0,args:JSON.stringify(o.args)}))}),r=new lo(s)}else i=new os(e);break;case"system":n?r=new wl(e):i=new ls(e);break;case"developer":n?r=new wl({...e,additional_kwargs:{...e.additional_kwargs,__openai_role__:"developer"}}):i=new ls({...e,additional_kwargs:{...e.additional_kwargs,__openai_role__:"developer"}});break;case"tool":if("tool_call_id"in e)n?r=new Jm(e):i=new Of(e);else throw new Error("Can not convert ToolMessage to ToolMessageChunk if 'tool_call_id' field is not defined.");break;case"function":if(n)r=new eg(e);else{if(!e.name)throw new Error("FunctionMessage must have a 'name' field");i=new cb(e)}break;case"generic":if("role"in e)n?r=new Qm(e):i=new Kc(e);else throw new Error("Can not convert ChatMessage to ChatMessageChunk if 'role' field is not defined.");break;default:throw new Error(`Unrecognized message type ${t}`)}if(n&&r)return r;if(i)return i;throw new Error(`Unrecognized message type ${t}`)}function ame(t){const e=t.getType();let n;const r=Object.fromEntries(Object.entries(t).filter(([i])=>!["type","tool_call_chunks"].includes(i)&&!i.startsWith("lc_")));if(e in O$&&(n=_k(e,r)),!n)throw new Error(`Unrecognized message chunk class ${e}. Supported classes are ${Object.keys(O$)}`);return n}function N6(t){const e=t.split(`
`);return Promise.resolve([...e.slice(0,-1).map(n=>`${n}
`),e[e.length-1]])}const sme=["tool_call","tool_call_chunk","invalid_tool_call","server_tool_call","server_tool_call_chunk","server_tool_call_result"],ome=["image","video","audio","text-plain","file"],lme=["text","reasoning",...sme,...ome];var cme={};wt(cme,{AIMessage:()=>os,AIMessageChunk:()=>lo,BaseMessage:()=>oo,BaseMessageChunk:()=>Nl,ChatMessage:()=>Kc,ChatMessageChunk:()=>Qm,FunctionMessage:()=>cb,FunctionMessageChunk:()=>eg,HumanMessage:()=>ba,HumanMessageChunk:()=>tg,KNOWN_BLOCK_TYPES:()=>lme,RemoveMessage:()=>e0,SystemMessage:()=>ls,SystemMessageChunk:()=>wl,ToolMessage:()=>Of,ToolMessageChunk:()=>Jm,_isMessageFieldWithRole:()=>lU,_mergeDicts:()=>Jn,_mergeLists:()=>Zm,_mergeObj:()=>sU,_mergeStatus:()=>aU,coerceMessageLikeToMessage:()=>Jh,convertToChunk:()=>t0,convertToOpenAIImageBlock:()=>Xz,convertToProviderContentBlock:()=>nle,defaultTextSplitter:()=>N6,defaultToolCallParser:()=>JT,filterMessages:()=>tme,getBufferString:()=>QT,iife:()=>Xle,isAIMessage:()=>lb,isAIMessageChunk:()=>RE,isBase64ContentBlock:()=>qT,isBaseMessage:()=>Ho,isBaseMessageChunk:()=>XT,isChatMessage:()=>zle,isChatMessageChunk:()=>Ule,isDataContentBlock:()=>bl,isDirectToolOutput:()=>hU,isFunctionMessage:()=>Hle,isFunctionMessageChunk:()=>Vle,isHumanMessage:()=>Wle,isHumanMessageChunk:()=>qle,isIDContentBlock:()=>Yz,isMessage:()=>iU,isOpenAIToolCallArray:()=>Nle,isPlainTextContentBlock:()=>ele,isSystemMessage:()=>Gle,isSystemMessageChunk:()=>Kle,isToolMessage:()=>pU,isToolMessageChunk:()=>mU,isURLContentBlock:()=>WT,mapChatMessagesToStoredMessages:()=>tce,mapStoredMessageToChatMessage:()=>ek,mapStoredMessagesToChatMessages:()=>ece,mergeContent:()=>eo,mergeMessageRuns:()=>nme,mergeResponseMetadata:()=>uU,mergeUsageMetadata:()=>fU,parseBase64DataUrl:()=>IE,parseMimeType:()=>tle,trimMessages:()=>rme});var ume={};wt(ume,{BasePromptValue:()=>vb,ChatPromptValue:()=>I6,ImagePromptValue:()=>dme,StringPromptValue:()=>P6});var vb=class extends Fd{},P6=class extends vb{constructor(e){super({value:e});U(this,"lc_namespace",["langchain_core","prompt_values"]);U(this,"lc_serializable",!0);U(this,"value");this.value=e}static lc_name(){return"StringPromptValue"}toString(){return this.value}toChatMessages(){return[new ba(this.value)]}},I6=class extends vb{constructor(e){Array.isArray(e)&&(e={messages:e});super(e);U(this,"lc_namespace",["langchain_core","prompt_values"]);U(this,"lc_serializable",!0);U(this,"messages");this.messages=e.messages}static lc_name(){return"ChatPromptValue"}toString(){return QT(this.messages)}toChatMessages(){return this.messages}},dme=class extends vb{constructor(e){"imageUrl"in e||(e={imageUrl:e});super(e);U(this,"lc_namespace",["langchain_core","prompt_values"]);U(this,"lc_serializable",!0);U(this,"imageUrl");U(this,"value");this.imageUrl=e.imageUrl}static lc_name(){return"ImagePromptValue"}toString(){return this.imageUrl.url}toChatMessages(){return[new ba({content:[{type:"image_url",image_url:{detail:this.imageUrl.detail,url:this.imageUrl.url}}]})]}},Ae="0123456789abcdef".split(""),fme=[-2147483648,8388608,32768,128],Gi=[24,16,8,0],hy=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],kn=[];function _a(t,e){e?(kn[0]=kn[16]=kn[1]=kn[2]=kn[3]=kn[4]=kn[5]=kn[6]=kn[7]=kn[8]=kn[9]=kn[10]=kn[11]=kn[12]=kn[13]=kn[14]=kn[15]=0,this.blocks=kn):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}_a.prototype.update=function(t){if(!this.finalized){var e,n=typeof t;if(n!=="string"){if(n==="object"){if(t===null)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}else throw new Error(ERROR);e=!0}for(var r,i=0,a,s=t.length,o=this.blocks;i<s;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,this.block=o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),e)for(a=this.start;i<s&&a<64;++i)o[a>>>2]|=t[i]<<Gi[a++&3];else for(a=this.start;i<s&&a<64;++i)r=t.charCodeAt(i),r<128?o[a>>>2]|=r<<Gi[a++&3]:r<2048?(o[a>>>2]|=(192|r>>>6)<<Gi[a++&3],o[a>>>2]|=(128|r&63)<<Gi[a++&3]):r<55296||r>=57344?(o[a>>>2]|=(224|r>>>12)<<Gi[a++&3],o[a>>>2]|=(128|r>>>6&63)<<Gi[a++&3],o[a>>>2]|=(128|r&63)<<Gi[a++&3]):(r=65536+((r&1023)<<10|t.charCodeAt(++i)&1023),o[a>>>2]|=(240|r>>>18)<<Gi[a++&3],o[a>>>2]|=(128|r>>>12&63)<<Gi[a++&3],o[a>>>2]|=(128|r>>>6&63)<<Gi[a++&3],o[a>>>2]|=(128|r&63)<<Gi[a++&3]);this.lastByteIndex=a,this.bytes+=a-this.start,a>=64?(this.block=o[16],this.start=a-64,this.hash(),this.hashed=!0):this.start=a}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}};_a.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>>2]|=fme[e&3],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}};_a.prototype.hash=function(){var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,a=this.h5,s=this.h6,o=this.h7,l=this.blocks,c,d,f,h,p,m,g,v,y,b,x;for(c=16;c<64;++c)p=l[c-15],d=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3,p=l[c-2],f=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,l[c]=l[c-16]+d+l[c-7]+f<<0;for(x=e&n,c=0;c<64;c+=4)this.first?(this.is224?(v=300032,p=l[0]-1413257819,o=p-150054599<<0,r=p+24177077<<0):(v=704751109,p=l[0]-210244248,o=p-1521486534<<0,r=p+143694565<<0),this.first=!1):(d=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),f=(i>>>6|i<<26)^(i>>>11|i<<21)^(i>>>25|i<<7),v=t&e,h=v^t&n^x,g=i&a^~i&s,p=o+f+g+hy[c]+l[c],m=d+h,o=r+p<<0,r=p+m<<0),d=(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10),f=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7),y=r&t,h=y^r&e^v,g=s&o^~s&i,p=a+f+g+hy[c+1]+l[c+1],m=d+h,s=n+p<<0,n=p+m<<0,d=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),f=(s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7),b=n&r,h=b^n&t^y,g=a&s^~a&o,p=i+f+g+hy[c+2]+l[c+2],m=d+h,a=e+p<<0,e=p+m<<0,d=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),f=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7),x=e&n,h=x^e&r^b,g=a&s^~a&o,p=i+f+g+hy[c+3]+l[c+3],m=d+h,i=t+p<<0,t=p+m<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0,this.h4=this.h4+i<<0,this.h5=this.h5+a<<0,this.h6=this.h6+s<<0,this.h7=this.h7+o<<0};_a.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,a=this.h5,s=this.h6,o=this.h7,l=Ae[t>>>28&15]+Ae[t>>>24&15]+Ae[t>>>20&15]+Ae[t>>>16&15]+Ae[t>>>12&15]+Ae[t>>>8&15]+Ae[t>>>4&15]+Ae[t&15]+Ae[e>>>28&15]+Ae[e>>>24&15]+Ae[e>>>20&15]+Ae[e>>>16&15]+Ae[e>>>12&15]+Ae[e>>>8&15]+Ae[e>>>4&15]+Ae[e&15]+Ae[n>>>28&15]+Ae[n>>>24&15]+Ae[n>>>20&15]+Ae[n>>>16&15]+Ae[n>>>12&15]+Ae[n>>>8&15]+Ae[n>>>4&15]+Ae[n&15]+Ae[r>>>28&15]+Ae[r>>>24&15]+Ae[r>>>20&15]+Ae[r>>>16&15]+Ae[r>>>12&15]+Ae[r>>>8&15]+Ae[r>>>4&15]+Ae[r&15]+Ae[i>>>28&15]+Ae[i>>>24&15]+Ae[i>>>20&15]+Ae[i>>>16&15]+Ae[i>>>12&15]+Ae[i>>>8&15]+Ae[i>>>4&15]+Ae[i&15]+Ae[a>>>28&15]+Ae[a>>>24&15]+Ae[a>>>20&15]+Ae[a>>>16&15]+Ae[a>>>12&15]+Ae[a>>>8&15]+Ae[a>>>4&15]+Ae[a&15]+Ae[s>>>28&15]+Ae[s>>>24&15]+Ae[s>>>20&15]+Ae[s>>>16&15]+Ae[s>>>12&15]+Ae[s>>>8&15]+Ae[s>>>4&15]+Ae[s&15];return this.is224||(l+=Ae[o>>>28&15]+Ae[o>>>24&15]+Ae[o>>>20&15]+Ae[o>>>16&15]+Ae[o>>>12&15]+Ae[o>>>8&15]+Ae[o>>>4&15]+Ae[o&15]),l};_a.prototype.toString=_a.prototype.hex;_a.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,a=this.h5,s=this.h6,o=this.h7,l=[t>>>24&255,t>>>16&255,t>>>8&255,t&255,e>>>24&255,e>>>16&255,e>>>8&255,e&255,n>>>24&255,n>>>16&255,n>>>8&255,n&255,r>>>24&255,r>>>16&255,r>>>8&255,r&255,i>>>24&255,i>>>16&255,i>>>8&255,i&255,a>>>24&255,a>>>16&255,a>>>8&255,a&255,s>>>24&255,s>>>16&255,s>>>8&255,s&255];return this.is224||l.push(o>>>24&255,o>>>16&255,o>>>8&255,o&255),l};_a.prototype.array=_a.prototype.digest;_a.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t};const $6=(...t)=>new _a(!1,!0).update(t.join("")).hex();var hme={};wt(hme,{sha256:()=>$6});var pme={};wt(pme,{BaseCache:()=>M6,InMemoryCache:()=>L6,defaultHashKeyEncoder:()=>R6,deserializeStoredGeneration:()=>mme,serializeGeneration:()=>gme});const R6=(...t)=>$6(t.join("_"));function mme(t){return t.message!==void 0?{text:t.text,message:ek(t.message)}:{text:t.text}}function gme(t){const e={text:t.text};return t.message!==void 0&&(e.message=t.message.toDict()),e}var M6=class{constructor(){U(this,"keyEncoder",R6)}makeDefaultKeyEncoder(t){this.keyEncoder=t}};const yme=new Map;var L6=class D6 extends M6{constructor(n){super();U(this,"cache");this.cache=n??new Map}lookup(n,r){return Promise.resolve(this.cache.get(this.keyEncoder(n,r))??null)}async update(n,r,i){this.cache.set(this.keyEncoder(n,r),i)}static global(){return new D6(yme)}},xb={};xb.byteLength=bme;xb.toByteArray=_me;xb.fromByteArray=jme;var Va=[],bi=[],vme=typeof Uint8Array<"u"?Uint8Array:Array,e1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var hu=0,xme=e1.length;hu<xme;++hu)Va[hu]=e1[hu],bi[e1.charCodeAt(hu)]=hu;bi[45]=62;bi[95]=63;function F6(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function bme(t){var e=F6(t),n=e[0],r=e[1];return(n+r)*3/4-r}function wme(t,e,n){return(e+n)*3/4-n}function _me(t){var e,n=F6(t),r=n[0],i=n[1],a=new vme(wme(t,r,i)),s=0,o=i>0?r-4:r,l;for(l=0;l<o;l+=4)e=bi[t.charCodeAt(l)]<<18|bi[t.charCodeAt(l+1)]<<12|bi[t.charCodeAt(l+2)]<<6|bi[t.charCodeAt(l+3)],a[s++]=e>>16&255,a[s++]=e>>8&255,a[s++]=e&255;return i===2&&(e=bi[t.charCodeAt(l)]<<2|bi[t.charCodeAt(l+1)]>>4,a[s++]=e&255),i===1&&(e=bi[t.charCodeAt(l)]<<10|bi[t.charCodeAt(l+1)]<<4|bi[t.charCodeAt(l+2)]>>2,a[s++]=e>>8&255,a[s++]=e&255),a}function Sme(t){return Va[t>>18&63]+Va[t>>12&63]+Va[t>>6&63]+Va[t&63]}function Eme(t,e,n){for(var r,i=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(t[a+2]&255),i.push(Sme(r));return i.join("")}function jme(t){for(var e,n=t.length,r=n%3,i=[],a=16383,s=0,o=n-r;s<o;s+=a)i.push(Eme(t,s,s+a>o?o:s+a));return r===1?(e=t[n-1],i.push(Va[e>>2]+Va[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Va[e>>10]+Va[e>>4&63]+Va[e<<2&63]+"=")),i.join("")}var Ame=Object.defineProperty,Cme=(t,e,n)=>e in t?Ame(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tme=(t,e,n)=>(Cme(t,e+"",n),n);function kme(t,e){let n=Array.from({length:t.length},(r,i)=>({start:i,end:i+1}));for(;n.length>1;){let r=null;for(let i=0;i<n.length-1;i++){const a=t.slice(n[i].start,n[i+1].end),s=e.get(a.join(","));s!=null&&(r==null||s<r[0])&&(r=[s,i])}if(r!=null){const i=r[1];n[i]={start:n[i].start,end:n[i+1].end},n.splice(i+1,1)}else break}return n}function Ome(t,e){return t.length===1?[e.get(t.join(","))]:kme(t,e).map(n=>e.get(t.slice(n.start,n.end).join(","))).filter(n=>n!=null)}function Nme(t){return t.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}var tj=class{constructor(t,e){U(this,"specialTokens");U(this,"inverseSpecialTokens");U(this,"patStr");U(this,"textEncoder",new TextEncoder);U(this,"textDecoder",new TextDecoder("utf-8"));U(this,"rankMap",new Map);U(this,"textMap",new Map);this.patStr=t.pat_str;const n=t.bpe_ranks.split(`
`).filter(Boolean).reduce((r,i)=>{const[a,s,...o]=i.split(" "),l=Number.parseInt(s,10);return o.forEach((c,d)=>r[c]=l+d),r},{});for(const[r,i]of Object.entries(n)){const a=xb.toByteArray(r);this.rankMap.set(a.join(","),i),this.textMap.set(i,a)}this.specialTokens={...t.special_tokens,...e},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((r,[i,a])=>(r[a]=this.textEncoder.encode(i),r),{})}encode(t,e=[],n="all"){const r=new RegExp(this.patStr,"ug"),i=tj.specialTokenRegex(Object.keys(this.specialTokens)),a=[],s=new Set(e==="all"?Object.keys(this.specialTokens):e),o=new Set(n==="all"?Object.keys(this.specialTokens).filter(c=>!s.has(c)):n);if(o.size>0){const c=tj.specialTokenRegex([...o]),d=t.match(c);if(d!=null)throw new Error(`The text contains a special token that is not allowed: ${d[0]}`)}let l=0;for(;;){let c=null,d=l;for(;i.lastIndex=d,c=i.exec(t),!(c==null||s.has(c[0]));)d=c.index+1;const f=(c==null?void 0:c.index)??t.length;for(const p of t.substring(l,f).matchAll(r)){const m=this.textEncoder.encode(p[0]),g=this.rankMap.get(m.join(","));if(g!=null){a.push(g);continue}a.push(...Ome(m,this.rankMap))}if(c==null)break;let h=this.specialTokens[c[0]];a.push(h),l=c.index+c[0].length}return a}decode(t){const e=[];let n=0;for(let a=0;a<t.length;++a){const s=t[a],o=this.textMap.get(s)??this.inverseSpecialTokens[s];o!=null&&(e.push(o),n+=o.length)}const r=new Uint8Array(n);let i=0;for(const a of e)r.set(a,i),i+=a.length;return this.textDecoder.decode(r)}},B6=tj;Tme(B6,"specialTokenRegex",t=>new RegExp(t.map(e=>Nme(e)).join("|"),"g"));function Pme(t){switch(t){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":case"text-embedding-3-small":case"text-embedding-3-large":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":case"gpt-4o-2024-11-20":case"gpt-4o-mini-2024-07-18":case"gpt-4o-mini":case"gpt-4o-search-preview":case"gpt-4o-search-preview-2025-03-11":case"gpt-4o-mini-search-preview":case"gpt-4o-mini-search-preview-2025-03-11":case"gpt-4o-audio-preview":case"gpt-4o-audio-preview-2024-12-17":case"gpt-4o-audio-preview-2024-10-01":case"gpt-4o-mini-audio-preview":case"gpt-4o-mini-audio-preview-2024-12-17":case"o1":case"o1-2024-12-17":case"o1-mini":case"o1-mini-2024-09-12":case"o1-preview":case"o1-preview-2024-09-12":case"o1-pro":case"o1-pro-2025-03-19":case"o3":case"o3-2025-04-16":case"o3-mini":case"o3-mini-2025-01-31":case"o4-mini":case"o4-mini-2025-04-16":case"chatgpt-4o-latest":case"gpt-4o-realtime":case"gpt-4o-realtime-preview-2024-10-01":case"gpt-4o-realtime-preview-2024-12-17":case"gpt-4o-mini-realtime-preview":case"gpt-4o-mini-realtime-preview-2024-12-17":case"gpt-4.1":case"gpt-4.1-2025-04-14":case"gpt-4.1-mini":case"gpt-4.1-mini-2025-04-14":case"gpt-4.1-nano":case"gpt-4.1-nano-2025-04-14":case"gpt-4.5-preview":case"gpt-4.5-preview-2025-02-27":case"gpt-5":case"gpt-5-2025-08-07":case"gpt-5-nano":case"gpt-5-nano-2025-08-07":case"gpt-5-mini":case"gpt-5-mini-2025-08-07":case"gpt-5-chat-latest":return"o200k_base";default:throw new Error("Unknown model")}}var Ime={};wt(Ime,{encodingForModel:()=>Sk,getEncoding:()=>z6});const py={},$me=new yb({});async function z6(t){return t in py||(py[t]=$me.fetch(`https://tiktoken.pages.dev/js/${t}.json`).then(e=>e.json()).then(e=>new B6(e)).catch(e=>{throw delete py[t],e})),await py[t]}async function Sk(t){return z6(Pme(t))}var Rme={};wt(Rme,{BaseLangChain:()=>H6,BaseLanguageModel:()=>V6,calculateMaxTokens:()=>Dme,getEmbeddingContextSize:()=>Mme,getModelContextSize:()=>U6,getModelNameForTiktoken:()=>bb,isOpenAITool:()=>Lme});const bb=t=>t.startsWith("gpt-5")?"gpt-5":t.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":t.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":t.startsWith("gpt-4-32k")?"gpt-4-32k":t.startsWith("gpt-4-")?"gpt-4":t.startsWith("gpt-4o")?"gpt-4o":t,Mme=t=>{switch(t){case"text-embedding-ada-002":return 8191;default:return 2046}},U6=t=>{switch(bb(t)){case"gpt-5":case"gpt-5-turbo":case"gpt-5-turbo-preview":return 4e5;case"gpt-4o":case"gpt-4o-mini":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":return 128e3;case"gpt-4-turbo":case"gpt-4-turbo-preview":case"gpt-4-turbo-2024-04-09":case"gpt-4-0125-preview":case"gpt-4-1106-preview":return 128e3;case"gpt-4-32k":case"gpt-4-32k-0314":case"gpt-4-32k-0613":return 32768;case"gpt-4":case"gpt-4-0314":case"gpt-4-0613":return 8192;case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-16k-0613":return 16384;case"gpt-3.5-turbo":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-1106":case"gpt-3.5-turbo-0125":return 4096;case"text-davinci-003":case"text-davinci-002":return 4097;case"text-davinci-001":return 2049;case"text-curie-001":case"text-babbage-001":case"text-ada-001":return 2048;case"code-davinci-002":case"code-davinci-001":return 8e3;case"code-cushman-001":return 2048;case"claude-3-5-sonnet-20241022":case"claude-3-5-sonnet-20240620":case"claude-3-opus-20240229":case"claude-3-sonnet-20240229":case"claude-3-haiku-20240307":case"claude-2.1":return 2e5;case"claude-2.0":case"claude-instant-1.2":return 1e5;case"gemini-1.5-pro":case"gemini-1.5-pro-latest":case"gemini-1.5-flash":case"gemini-1.5-flash-latest":return 1e6;case"gemini-pro":case"gemini-pro-vision":return 32768;default:return 4097}};function Lme(t){return typeof t!="object"||!t?!1:!!("type"in t&&t.type==="function"&&"function"in t&&typeof t.function=="object"&&t.function&&"name"in t.function&&"parameters"in t.function)}const Dme=async({prompt:t,modelName:e})=>{let n;try{n=(await Sk(bb(e))).encode(t).length}catch{console.warn("Failed to calculate number of tokens, falling back to approximate count"),n=Math.ceil(t.length/4)}return U6(e)-n},Fme=()=>!1;var H6=class extends fn{constructor(e){super(e);U(this,"verbose");U(this,"callbacks");U(this,"tags");U(this,"metadata");this.verbose=e.verbose??Fme(),this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}get lc_attributes(){return{callbacks:void 0,verbose:void 0}}},V6=class extends H6{constructor({callbacks:e,callbackManager:n,...r}){const{cache:i,...a}=r;super({callbacks:e??n,...a});U(this,"caller");U(this,"cache");U(this,"_encoding");typeof i=="object"?this.cache=i:i?this.cache=L6.global():this.cache=void 0,this.caller=new yb(r??{})}get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}async getNumTokens(e){let n;typeof e=="string"?n=e:n=e.map(i=>typeof i=="string"?i:i.type==="text"&&"text"in i?i.text:"").join("");let r=Math.ceil(n.length/4);if(!this._encoding)try{this._encoding=await Sk("modelName"in this?bb(this.modelName):"gpt2")}catch(i){console.warn("Failed to calculate number of tokens, falling back to approximate count",i)}if(this._encoding)try{r=this._encoding.encode(n).length}catch(i){console.warn("Failed to calculate number of tokens, falling back to approximate count",i)}return r}static _convertInputToPromptValue(e){return typeof e=="string"?new P6(e):Array.isArray(e)?new I6(e.map(Jh)):e}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall({config:e,...n}){const r={...this._identifyingParams(),...n,_type:this._llmType(),_model:this._modelType()};return Object.entries(r).filter(([s,o])=>o!==void 0).map(([s,o])=>`${s}:${JSON.stringify(o)}`).sort().join(",")}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){throw new Error("Use .toJSON() instead")}get profile(){return{}}},Hd=class extends fn{constructor(e){super(e);U(this,"lc_namespace",["langchain_core","runnables"]);U(this,"lc_serializable",!0);U(this,"func");e&&(this.func=e.func)}static lc_name(){return"RunnablePassthrough"}async invoke(e,n){const r=gt(n);return this.func&&await this.func(e,r),this._callWithConfig(i=>Promise.resolve(i),e,r)}async*transform(e,n){const r=gt(n);let i,a=!0;for await(const s of this._transformStreamWithConfig(e,o=>o,r))if(yield s,a)if(i===void 0)i=s;else try{i=Rc(i,s)}catch{i=void 0,a=!1}this.func&&i!==void 0&&await this.func(i,r)}static assign(e){return new wk(new If({steps:e}))}};const Bme=t=>t();function t1(t){const e=t.constructor;return new e({...t,content:t.contentBlocks,response_metadata:{...t.response_metadata,output_version:"v1"}})}var zme={};wt(zme,{BaseChatModel:()=>Ek,SimpleChatModel:()=>Ume});function n1(t){const e=[];for(const n of t){let r=n;if(Array.isArray(n.content))for(let i=0;i<n.content.length;i++){const a=n.content[i];(WT(a)||qT(a))&&r===n&&(r=new n.constructor({...r,content:[...n.content.slice(0,i),Xz(a),...n.content.slice(i+1)]}))}e.push(r)}return e}var Ek=class Jl extends V6{constructor(n){super(n);U(this,"lc_namespace",["langchain","chat_models",this._llmType()]);U(this,"disableStreaming",!1);U(this,"outputVersion");this.outputVersion=Bme(()=>{const r=n.outputVersion??Bs("LC_OUTPUT_VERSION");return r&&["v0","v1"].includes(r)?r:"v0"})}get callKeys(){return[...super.callKeys,"outputVersion"]}_separateRunnableConfigFromCallOptionsCompat(n){const[r,i]=super._separateRunnableConfigFromCallOptions(n);return i.signal=r.signal,[r,i]}async invoke(n,r){const i=Jl._convertInputToPromptValue(n);return(await this.generatePrompt([i],r,r==null?void 0:r.callbacks)).generations[0][0].message}async*_streamResponseChunks(n,r,i){throw new Error("Not implemented.")}async*_streamIterator(n,r){var i;if(this._streamResponseChunks===Jl.prototype._streamResponseChunks||this.disableStreaming)yield this.invoke(n,r);else{const s=Jl._convertInputToPromptValue(n).toChatMessages(),[o,l]=this._separateRunnableConfigFromCallOptionsCompat(r),c={...o.metadata,...this.getLsParams(l)},d=await ts.configure(o.callbacks,this.callbacks,o.tags,this.tags,c,this.metadata,{verbose:this.verbose}),f={options:l,invocation_params:this==null?void 0:this.invocationParams(l),batch_size:1},h=l.outputVersion??this.outputVersion,p=await(d==null?void 0:d.handleChatModelStart(this.toJSON(),[n1(s)],o.runId,void 0,f,void 0,void 0,o.runName));let m,g;try{for await(const v of this._streamResponseChunks(s,l,p==null?void 0:p[0])){if(v.message.id==null){const y=(i=p==null?void 0:p.at(0))==null?void 0:i.runId;y!=null&&v.message._updateId(`run-${y}`)}v.message.response_metadata={...v.generationInfo,...v.message.response_metadata},h==="v1"?yield t1(v.message):yield v.message,m?m=m.concat(v):m=v,RE(v.message)&&v.message.usage_metadata!==void 0&&(g={tokenUsage:{promptTokens:v.message.usage_metadata.input_tokens,completionTokens:v.message.usage_metadata.output_tokens,totalTokens:v.message.usage_metadata.total_tokens}})}}catch(v){throw await Promise.all((p??[]).map(y=>y==null?void 0:y.handleLLMError(v))),v}await Promise.all((p??[]).map(v=>v==null?void 0:v.handleLLMEnd({generations:[[m]],llmOutput:g})))}}getLsParams(n){const r=this.getName().startsWith("Chat")?this.getName().replace("Chat",""):this.getName();return{ls_model_type:"chat",ls_stop:n.stop,ls_provider:r}}async _generateUncached(n,r,i,a){var p,m;const s=n.map(g=>g.map(Jh));let o;if(a!==void 0&&a.length===s.length)o=a;else{const g={...i.metadata,...this.getLsParams(r)},v=await ts.configure(i.callbacks,this.callbacks,i.tags,this.tags,g,this.metadata,{verbose:this.verbose}),y={options:r,invocation_params:this==null?void 0:this.invocationParams(r),batch_size:1};o=await(v==null?void 0:v.handleChatModelStart(this.toJSON(),s.map(n1),i.runId,void 0,y,void 0,void 0,i.runName))}const l=r.outputVersion??this.outputVersion,c=[],d=[];if(!!(o!=null&&o[0].handlers.find(AU))&&!this.disableStreaming&&s.length===1&&this._streamResponseChunks!==Jl.prototype._streamResponseChunks)try{const g=await this._streamResponseChunks(s[0],r,o==null?void 0:o[0]);let v,y;for await(const b of g){if(b.message.id==null){const x=(p=o==null?void 0:o.at(0))==null?void 0:p.runId;x!=null&&b.message._updateId(`run-${x}`)}v===void 0?v=b:v=Rc(v,b),RE(b.message)&&b.message.usage_metadata!==void 0&&(y={tokenUsage:{promptTokens:b.message.usage_metadata.input_tokens,completionTokens:b.message.usage_metadata.output_tokens,totalTokens:b.message.usage_metadata.total_tokens}})}if(v===void 0)throw new Error("Received empty response from chat model call.");c.push([v]),await(o==null?void 0:o[0].handleLLMEnd({generations:c,llmOutput:y}))}catch(g){throw await(o==null?void 0:o[0].handleLLMError(g)),g}else{const g=await Promise.allSettled(s.map(async(v,y)=>{const b=await this._generate(v,{...r,promptIndex:y},o==null?void 0:o[y]);if(l==="v1")for(const x of b.generations)x.message=t1(x.message);return b}));await Promise.all(g.map(async(v,y)=>{var b,x,w;if(v.status==="fulfilled"){const S=v.value;for(const E of S.generations){if(E.message.id==null){const A=(b=o==null?void 0:o.at(0))==null?void 0:b.runId;A!=null&&E.message._updateId(`run-${A}`)}E.message.response_metadata={...E.generationInfo,...E.message.response_metadata}}return S.generations.length===1&&(S.generations[0].message.response_metadata={...S.llmOutput,...S.generations[0].message.response_metadata}),c[y]=S.generations,d[y]=S.llmOutput,(x=o==null?void 0:o[y])==null?void 0:x.handleLLMEnd({generations:[S.generations],llmOutput:S.llmOutput})}else return await((w=o==null?void 0:o[y])==null?void 0:w.handleLLMError(v.reason)),Promise.reject(v.reason)}))}const h={generations:c,llmOutput:d.length?(m=this._combineLLMOutput)==null?void 0:m.call(this,...d):void 0};return Object.defineProperty(h,VE,{value:o?{runIds:o==null?void 0:o.map(g=>g.runId)}:void 0,configurable:!0}),h}async _generateCached({messages:n,cache:r,llmStringKey:i,parsedOptions:a,handledOptions:s}){const o=n.map(b=>b.map(Jh)),l={...s.metadata,...this.getLsParams(a)},c=await ts.configure(s.callbacks,this.callbacks,s.tags,this.tags,l,this.metadata,{verbose:this.verbose}),d={options:a,invocation_params:this==null?void 0:this.invocationParams(a),batch_size:1},f=await(c==null?void 0:c.handleChatModelStart(this.toJSON(),o.map(n1),s.runId,void 0,d,void 0,void 0,s.runName)),h=[],m=(await Promise.allSettled(o.map(async(b,x)=>{const w=Jl._convertInputToPromptValue(b).toString(),S=await r.lookup(w,i);return S==null&&h.push(x),S}))).map((b,x)=>({result:b,runManager:f==null?void 0:f[x]})).filter(({result:b})=>b.status==="fulfilled"&&b.value!=null||b.status==="rejected"),g=a.outputVersion??this.outputVersion,v=[];await Promise.all(m.map(async({result:b,runManager:x},w)=>{if(b.status==="fulfilled"){const S=b.value;return v[w]=S.map(E=>("message"in E&&Ho(E.message)&&lb(E.message)&&(E.message.usage_metadata={input_tokens:0,output_tokens:0,total_tokens:0},g==="v1"&&(E.message=t1(E.message))),E.generationInfo={...E.generationInfo,tokenUsage:{}},E)),S.length&&await(x==null?void 0:x.handleLLMNewToken(S[0].text)),x==null?void 0:x.handleLLMEnd({generations:[S]},void 0,void 0,void 0,{cached:!0})}else return await(x==null?void 0:x.handleLLMError(b.reason,void 0,void 0,void 0,{cached:!0})),Promise.reject(b.reason)}));const y={generations:v,missingPromptIndices:h,startedRunManagers:f};return Object.defineProperty(y,VE,{value:f?{runIds:f==null?void 0:f.map(b=>b.runId)}:void 0,configurable:!0}),y}async generate(n,r,i){let a;Array.isArray(r)?a={stop:r}:a=r;const s=n.map(g=>g.map(Jh)),[o,l]=this._separateRunnableConfigFromCallOptionsCompat(a);if(o.callbacks=o.callbacks??i,!this.cache)return this._generateUncached(s,l,o);const{cache:c}=this,d=this._getSerializedCacheKeyParametersForCall(l),{generations:f,missingPromptIndices:h,startedRunManagers:p}=await this._generateCached({messages:s,cache:c,llmStringKey:d,parsedOptions:l,handledOptions:o});let m={};if(h.length>0){const g=await this._generateUncached(h.map(v=>s[v]),l,o,p!==void 0?h.map(v=>p==null?void 0:p[v]):void 0);await Promise.all(g.generations.map(async(v,y)=>{const b=h[y];f[b]=v;const x=Jl._convertInputToPromptValue(s[b]).toString();return c.update(x,d,v)})),m=g.llmOutput??{}}return{generations:f,llmOutput:m}}invocationParams(n){return{}}_modelType(){return"base_chat_model"}async generatePrompt(n,r,i){const a=n.map(s=>s.toChatMessages());return this.generate(a,r,i)}withStructuredOutput(n,r){if(typeof this.bindTools!="function")throw new Error('Chat model must implement ".bindTools()" to use withStructuredOutput.');if(r!=null&&r.strict)throw new Error('"strict" mode is not supported for this model by default.');const i=n,a=r==null?void 0:r.name,s=BT(i)??"A function available to call.",o=r==null?void 0:r.method,l=r==null?void 0:r.includeRaw;if(o==="jsonMode")throw new Error('Base withStructuredOutput implementation only supports "functionCalling" as a method.');let c=a??"extract",d;Pc(i)?d=[{type:"function",function:{name:c,description:s,parameters:xl(i)}}]:("name"in i&&(c=i.name),d=[{type:"function",function:{name:c,description:s,parameters:i}}]);const f=this.bindTools(d),h=Pl.from(v=>{if(!lo.isInstance(v))throw new Error("Input is not an AIMessageChunk.");if(!v.tool_calls||v.tool_calls.length===0)throw new Error("No tool calls found in the response.");const y=v.tool_calls.find(b=>b.name===c);if(!y)throw new Error(`No tool call found with name ${c}.`);return y.args});if(!l)return f.pipe(h).withConfig({runName:"StructuredOutput"});const p=Hd.assign({parsed:(v,y)=>h.invoke(v.raw,y)}),m=Hd.assign({parsed:()=>null}),g=p.withFallbacks({fallbacks:[m]});return ag.from([{raw:f},g]).withConfig({runName:"StructuredOutputRunnable"})}},Ume=class extends Ek{async _generate(t,e,n){const r=await this._call(t,e,n),i=new os(r);if(typeof i.content!="string")throw new Error("Cannot generate with a simple chat model when output is not a string.");return{generations:[{text:i.content,message:i}]}}},Hme={};wt(Hme,{extendInteropZodObject:()=>ase,getInteropZodDefaultGetter:()=>ose,getInteropZodObjectShape:()=>jE,getSchemaDescription:()=>BT,interopParse:()=>nse,interopParseAsync:()=>FT,interopSafeParse:()=>tse,interopSafeParseAsync:()=>Rz,interopZodObjectMakeFieldsOptional:()=>use,interopZodObjectPartial:()=>sse,interopZodObjectPassthrough:()=>AE,interopZodObjectStrict:()=>Gv,interopZodTransformInputSchema:()=>Lz,isInteropZodError:()=>dse,isInteropZodLiteral:()=>ese,isInteropZodObject:()=>ise,isInteropZodSchema:()=>Pc,isShapelessZodSchema:()=>rse,isSimpleStringZodSchema:()=>Mz,isZodArrayV4:()=>sb,isZodLiteralV3:()=>Iz,isZodLiteralV4:()=>$z,isZodObjectV3:()=>zT,isZodObjectV4:()=>Ja,isZodSchema:()=>Qae,isZodSchemaV3:()=>An,isZodSchemaV4:()=>hn});const Au="0.19.0";let N$=!1,rp,W6,q6,nj,G6,K6,Y6,X6,Z6;function Vme(t,e={auto:!1}){if(N$)throw new Error(`you must \`import 'groq-sdk/shims/${t.kind}'\` before importing anything else from groq-sdk`);if(rp)throw new Error(`can't \`import 'groq-sdk/shims/${t.kind}'\` after \`import 'groq-sdk/shims/${rp}'\``);N$=e.auto,rp=t.kind,W6=t.fetch,q6=t.FormData,nj=t.File,G6=t.ReadableStream,K6=t.getMultipartRequestOptions,Y6=t.getDefaultAgent,X6=t.fileFromPath,Z6=t.isFsReadStream}class Wme{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function qme({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from 'groq-sdk'`:\n- `import 'groq-sdk/shims/node'` (if you're running on Node)\n- `import 'groq-sdk/shims/web'` (otherwise)\n";let n,r,i,a;try{n=fetch,r=Request,i=Response,a=Headers}catch(s){throw new Error(`this environment is missing the following Web Fetch API type: ${s.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:i,Headers:a,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(s,o)=>({...o,body:new Wme(s)}),getDefaultAgent:s=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/groq/groq-typescript#file-uploads")},isFsReadStream:s=>!1}}const J6=()=>{rp||Vme(qme(),{auto:!0})};J6();class ma extends Error{}class Qn extends ma{constructor(e,n,r,i){super(`${Qn.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new wb({message:r,cause:aj(n)});const a=n;return e===400?new e8(e,a,r,i):e===401?new t8(e,a,r,i):e===403?new n8(e,a,r,i):e===404?new r8(e,a,r,i):e===409?new i8(e,a,r,i):e===422?new a8(e,a,r,i):e===429?new s8(e,a,r,i):e>=500?new o8(e,a,r,i):new Qn(e,a,r,i)}}class rj extends Qn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class wb extends Qn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Q6 extends wb{constructor({message:e}={}){super({message:e??"Request timed out."})}}class e8 extends Qn{}class t8 extends Qn{}class n8 extends Qn{}class r8 extends Qn{}class i8 extends Qn{}class a8 extends Qn{}class s8 extends Qn{}class o8 extends Qn{}class Hu{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;const i=new Gme;async function*a(){if(!e.body)throw n.abort(),new ma("Attempted to iterate over a response with no body");const o=new Mc,l=P$(e.body);for await(const c of l)for(const d of o.decode(c)){const f=i.decode(d);f&&(yield f)}for(const c of o.flush()){const d=i.decode(c);d&&(yield d)}}async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const l of a())if(!o){if(l.data.startsWith("[DONE]")){o=!0;continue}if(l.event===null||l.event==="error"){let c;try{c=JSON.parse(l.data)}catch(d){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),d}if(c&&c.error)throw new Qn(c.error.status_code,c.error,c.error.message,void 0);yield c}}o=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{o||n.abort()}}return new Hu(s,n)}static fromReadableStream(e,n){let r=!1;async function*i(){const s=new Mc,o=P$(e);for await(const l of o)for(const c of s.decode(l))yield c;for(const l of s.flush())yield l}async function*a(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{for await(const o of i())s||o&&(yield JSON.parse(o));s=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{s||n.abort()}}return new Hu(a,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const s=r.next();e.push(s),n.push(s)}return a.shift()}});return[new Hu(()=>i(e),this.controller),new Hu(()=>i(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new G6({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:a,done:s}=await n.next();if(s)return i.close();const o=r.encode(JSON.stringify(a)+`
`);i.enqueue(o)}catch(a){i.error(a)}},async cancel(){var i;await((i=n.return)==null?void 0:i.call(n))}})}}class Gme{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=Kme(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}class Mc{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let n=this.decodeText(e);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=Mc.NEWLINE_CHARS.has(n[n.length-1]||"");let i=n.split(Mc.NEWLINE_REGEXP);return i.length===1&&!r?(this.buffer.push(i[0]),[]):(this.buffer.length>0&&(i=[this.buffer.join("")+i[0],...i.slice(1)],this.buffer=[]),r||(this.buffer=[i.pop()||""]),i)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new ma(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new ma(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new ma("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}Mc.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]);Mc.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function Kme(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}function P$(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const l8=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",c8=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&_b(t),_b=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Yme=t=>c8(t)||l8(t)||Z6(t);async function u8(t,e,n){var i;if(t=await t,c8(t))return t;if(l8(t)){const a=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const s=_b(a)?[await a.arrayBuffer()]:[a];return new nj(s,e,n)}const r=await Xme(t);if(e||(e=Jme(t)??"unknown_file"),!(n!=null&&n.type)){const a=(i=r[0])==null?void 0:i.type;typeof a=="string"&&(n={...n,type:a})}return new nj(r,e,n)}async function Xme(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(_b(t))e.push(await t.arrayBuffer());else if(Qme(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${Zme(t)}`);return e}function Zme(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function Jme(t){var e;return r1(t.name)||r1(t.filename)||((e=r1(t.path))==null?void 0:e.split(/[\\/]/).pop())}const r1=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},Qme=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",I$=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",jk=async t=>{const e=await ege(t.body);return K6(e,t)},ege=async t=>{const e=new q6;return await Promise.all(Object.entries(t||{}).map(([n,r])=>ij(e,n,r))),e},ij=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(Yme(n)){const r=await u8(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>ij(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>ij(t,`${e}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var sd={};J6();async function d8(t){var s;const{response:e}=t;if(t.options.stream)return od("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):Hu.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type"),r=(s=n==null?void 0:n.split(";")[0])==null?void 0:s.trim();if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.endsWith("+json"))){const o=await e.json();return od("response",e.status,e.url,e.headers,o),o}const a=await e.text();return od("response",e.status,e.url,e.headers,a),a}class Sb extends Promise{constructor(e,n=d8){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new Sb(this.responsePromise,async n=>e(await this.parseResponse(n),n))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class tge{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e4,httpAgent:i,fetch:a}){this.baseURL=e,this.maxRetries=i1("maxRetries",n),this.timeout=i1("timeout",r),this.httpAgent=i,this.fetch=a??W6}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...sge(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${hge()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async i=>{const a=i&&_b(i==null?void 0:i.body)?new DataView(await i.body.arrayBuffer()):(i==null?void 0:i.body)instanceof DataView?i.body:(i==null?void 0:i.body)instanceof ArrayBuffer?new DataView(i.body):i&&ArrayBuffer.isView(i==null?void 0:i.body)?new DataView(i.body.buffer):i==null?void 0:i.body;return{method:e,path:n,...i,body:a}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){var m;e={...e};const{method:r,path:i,query:a,headers:s={}}=e,o=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:I$(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,l=this.calculateContentLength(o),c=this.buildURL(i,a);"timeout"in e&&i1("timeout",e.timeout),e.timeout=e.timeout??this.timeout;const d=e.httpAgent??this.httpAgent??Y6(c),f=e.timeout+1e3;typeof((m=d==null?void 0:d.options)==null?void 0:m.timeout)=="number"&&f>(d.options.timeout??0)&&(d.options.timeout=f),this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const h=this.buildHeaders({options:e,headers:s,contentLength:l,retryCount:n});return{req:{method:r,...o&&{body:o},headers:h,...d&&{agent:d},signal:e.signal??null},url:c,timeout:e.timeout}}buildHeaders({options:e,headers:n,contentLength:r,retryCount:i}){const a={};r&&(a["content-length"]=r);const s=this.defaultHeaders(e);return D$(a,s),D$(a,n),I$(e.body)&&rp!=="node"&&delete a["content-type"],my(s,"x-stainless-retry-count")===void 0&&my(n,"x-stainless-retry-count")===void 0&&(a["x-stainless-retry-count"]=String(i)),my(s,"x-stainless-timeout")===void 0&&my(n,"x-stainless-timeout")===void 0&&e.timeout&&(a["x-stainless-timeout"]=String(e.timeout)),this.validateHeaders(a,n),a}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,i){return Qn.generate(e,n,r,i)}request(e,n=null){return new Sb(this.makeRequest(e,n))}async makeRequest(e,n){var f,h;const r=await e,i=r.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(r);const{req:a,url:s,timeout:o}=this.buildRequest(r,{retryCount:i-n});if(await this.prepareRequest(a,{url:s,options:r}),od("request",s,r,a.headers),(f=r.signal)!=null&&f.aborted)throw new rj;const l=new AbortController,c=await this.fetchWithTimeout(s,a,o,l).catch(aj);if(c instanceof Error){if((h=r.signal)!=null&&h.aborted)throw new rj;if(n)return this.retryRequest(r,n);throw c.name==="AbortError"?new Q6:new wb({cause:c})}const d=rge(c.headers);if(!c.ok){if(n&&this.shouldRetry(c)){const b=`retrying, ${n} attempts remaining`;return od(`response (error; ${b})`,c.status,s,d),this.retryRequest(r,n,d)}const p=await c.text().catch(b=>aj(b).message),m=oge(p),g=m?void 0:p;throw od(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,c.status,s,d,g),this.makeStatusError(c.status,m,g,d)}return{response:c,options:r,controller:l}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new nge(this,r,e)}buildURL(e,n){const r=cge(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return dge(i)||(n={...i,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new ma(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,i){const{signal:a,...s}=n||{};a&&a.addEventListener("abort",()=>i.abort());const o=setTimeout(()=>i.abort(),r),l={signal:i.signal,...s};return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,e,l).finally(()=>{clearTimeout(o)})}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let i;const a=r==null?void 0:r["retry-after-ms"];if(a){const o=parseFloat(a);Number.isNaN(o)||(i=o)}const s=r==null?void 0:r["retry-after"];if(s&&!i){const o=parseFloat(s);Number.isNaN(o)?i=Date.parse(s)-Date.now():i=o*1e3}if(!(i&&0<=i&&i<60*1e3)){const o=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,o)}return await uge(i),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,s=Math.min(.5*Math.pow(2,a),8),o=1-Math.random()*.25;return s*o*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Au}`}}class nge extends Sb{constructor(e,n,r){super(n,async i=>new r(e,i.response,await d8(i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const rge=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),ige=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Au,"X-Stainless-OS":R$(Deno.build.os),"X-Stainless-Arch":$$(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Au,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Au,"X-Stainless-OS":R$(process.platform),"X-Stainless-Arch":$$(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=age();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Au,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Au,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function age(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${a}.${s}`}}}return null}const $$=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",R$=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let M$;const sge=()=>M$??(M$=ige()),oge=t=>{try{return JSON.parse(t)}catch{return}},lge=/^[a-z][a-z0-9+.-]*:/i,cge=t=>lge.test(t),uge=t=>new Promise(e=>setTimeout(e,t)),i1=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ma(`${t} must be an integer`);if(e<0)throw new ma(`${t} must be a positive integer`);return e},aj=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},L$=t=>{var e,n,r,i;if(typeof process<"u")return((e=sd==null?void 0:sd[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(i=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:i.trim()};function dge(t){if(!t)return!0;for(const e in t)return!1;return!0}function fge(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function D$(t,e){for(const n in e){if(!fge(e,n))continue;const r=n.toLowerCase();if(!r)continue;const i=e[n];i===null?delete t[r]:i!==void 0&&(t[r]=i)}}function od(t,...e){typeof process<"u"&&(sd==null?void 0:sd.DEBUG)==="true"&&console.log(`Groq:DEBUG:${t}`,...e)}const hge=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),pge=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",mge=t=>typeof(t==null?void 0:t.get)=="function",my=(t,e)=>{var r;const n=e.toLowerCase();if(mge(t)){const i=((r=e[0])==null?void 0:r.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(a,s,o)=>s+o.toUpperCase());for(const a of[e,n,e.toUpperCase(),i]){const s=t.get(a);if(s)return s}}for(const[i,a]of Object.entries(t))if(i.toLowerCase()===n)return Array.isArray(a)?(a.length<=1||console.warn(`Received ${a.length} entries for the ${e} header, using the first entry.`),a[0]):a};class Ca{constructor(e){this._client=e}}class f8 extends Ca{create(e,n){return this._client.post("/openai/v1/audio/speech",{body:e,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class h8 extends Ca{create(e,n){return this._client.post("/openai/v1/audio/transcriptions",jk({body:e,...n}))}}class p8 extends Ca{create(e,n){return this._client.post("/openai/v1/audio/translations",jk({body:e,...n}))}}class sg extends Ca{constructor(){super(...arguments),this.speech=new f8(this._client),this.transcriptions=new h8(this._client),this.translations=new p8(this._client)}}sg.Speech=f8;sg.Transcriptions=h8;sg.Translations=p8;class m8 extends Ca{create(e,n){return this._client.post("/openai/v1/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/openai/v1/batches/${e}`,n)}list(e){return this._client.get("/openai/v1/batches",e)}cancel(e,n){return this._client.post(`/openai/v1/batches/${e}/cancel`,n)}}let g8=class extends Ca{create(e,n){return this._client.post("/openai/v1/chat/completions",{body:e,...n,stream:e.stream??!1})}};class Ak extends Ca{constructor(){super(...arguments),this.completions=new g8(this._client)}}Ak.Completions=g8;class y8 extends Ca{}class v8 extends Ca{create(e,n){return this._client.post("/openai/v1/embeddings",{body:e,...n})}}class x8 extends Ca{create(e,n){return this._client.post("/openai/v1/files",jk({body:e,...n}))}list(e){return this._client.get("/openai/v1/files",e)}delete(e,n){return this._client.delete(`/openai/v1/files/${e}`,n)}content(e,n){return this._client.get(`/openai/v1/files/${e}/content`,n)}info(e,n){return this._client.get(`/openai/v1/files/${e}`,n)}}class b8 extends Ca{retrieve(e,n){return this._client.get(`/openai/v1/models/${e}`,n)}list(e){return this._client.get("/openai/v1/models",e)}delete(e,n){return this._client.delete(`/openai/v1/models/${e}`,n)}}var w8;class Lt extends tge{constructor({baseURL:e=L$("GROQ_BASE_URL"),apiKey:n=L$("GROQ_API_KEY"),...r}={}){if(n===void 0)throw new ma("The GROQ_API_KEY environment variable is missing or empty; either provide it, or instantiate the Groq client with an apiKey option, like new Groq({ apiKey: 'My API Key' }).");const i={apiKey:n,...r,baseURL:e||"https://api.groq.com"};if(!i.dangerouslyAllowBrowser&&pge())throw new ma(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Groq({ apiKey, dangerouslyAllowBrowser: true })`);super({baseURL:i.baseURL,timeout:i.timeout??6e4,httpAgent:i.httpAgent,maxRetries:i.maxRetries,fetch:i.fetch}),this.completions=new y8(this),this.chat=new Ak(this),this.embeddings=new v8(this),this.audio=new sg(this),this.models=new b8(this),this.batches=new m8(this),this.files=new x8(this),this._options=i,this.apiKey=n}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}}w8=Lt;Lt.Groq=w8;Lt.DEFAULT_TIMEOUT=6e4;Lt.GroqError=ma;Lt.APIError=Qn;Lt.APIConnectionError=wb;Lt.APIConnectionTimeoutError=Q6;Lt.APIUserAbortError=rj;Lt.NotFoundError=r8;Lt.ConflictError=i8;Lt.RateLimitError=s8;Lt.BadRequestError=e8;Lt.AuthenticationError=t8;Lt.InternalServerError=o8;Lt.PermissionDeniedError=n8;Lt.UnprocessableEntityError=a8;Lt.toFile=u8;Lt.fileFromPath=X6;Lt.Completions=y8;Lt.Chat=Ak;Lt.Embeddings=v8;Lt.Audio=sg;Lt.Models=b8;Lt.Batches=m8;Lt.Files=x8;var gge=class extends fn{constructor(e){super(e);U(this,"lc_namespace",["langchain_core","runnables"]);U(this,"lc_serializable",!0);U(this,"runnables");this.runnables=e.runnables}static lc_name(){return"RouterRunnable"}async invoke(e,n){const{key:r,input:i}=e,a=this.runnables[r];if(a===void 0)throw new Error(`No runnable associated with key "${r}".`);return a.invoke(i,gt(n))}async batch(e,n,r){var h;const i=e.map(p=>p.key),a=e.map(p=>p.input);if(i.find(p=>this.runnables[p]===void 0)!==void 0)throw new Error("One or more keys do not have a corresponding runnable.");const o=i.map(p=>this.runnables[p]),l=this._getOptionsList(n??{},e.length),c=((h=l[0])==null?void 0:h.maxConcurrency)??(r==null?void 0:r.maxConcurrency),d=c&&c>0?c:e.length,f=[];for(let p=0;p<a.length;p+=d){const m=a.slice(p,p+d).map((v,y)=>o[y].invoke(v,l[y])),g=await Promise.all(m);f.push(g)}return f.flat()}async stream(e,n){const{key:r,input:i}=e,a=this.runnables[r];if(a===void 0)throw new Error(`No runnable associated with key "${r}".`);return a.stream(i,n)}},yge=class extends fn{constructor(e){super(e);U(this,"lc_namespace",["langchain_core","runnables"]);U(this,"lc_serializable",!0);U(this,"default");U(this,"branches");this.branches=e.branches,this.default=e.default}static lc_name(){return"RunnableBranch"}static from(e){if(e.length<1)throw new Error("RunnableBranch requires at least one branch");const r=e.slice(0,-1).map(([a,s])=>[ua(a),ua(s)]),i=ua(e[e.length-1]);return new this({branches:r,default:i})}async _invoke(e,n,r){let i;for(let a=0;a<this.branches.length;a+=1){const[s,o]=this.branches[a];if(await s.invoke(e,Xt(n,{callbacks:r==null?void 0:r.getChild(`condition:${a+1}`)}))){i=await o.invoke(e,Xt(n,{callbacks:r==null?void 0:r.getChild(`branch:${a+1}`)}));break}}return i||(i=await this.default.invoke(e,Xt(n,{callbacks:r==null?void 0:r.getChild("branch:default")}))),i}async invoke(e,n={}){return this._callWithConfig(this._invoke,e,n)}async*_streamIterator(e,n){const r=await ri(n),i=await(r==null?void 0:r.handleChainStart(this.toJSON(),wn(e,"input"),n==null?void 0:n.runId,void 0,void 0,void 0,n==null?void 0:n.runName));let a,s=!0,o;try{for(let l=0;l<this.branches.length;l+=1){const[c,d]=this.branches[l];if(await c.invoke(e,Xt(n,{callbacks:i==null?void 0:i.getChild(`condition:${l+1}`)}))){o=await d.stream(e,Xt(n,{callbacks:i==null?void 0:i.getChild(`branch:${l+1}`)}));for await(const h of o)if(yield h,s)if(a===void 0)a=h;else try{a=Rc(a,h)}catch{a=void 0,s=!1}break}}if(o===void 0){o=await this.default.stream(e,Xt(n,{callbacks:i==null?void 0:i.getChild("branch:default")}));for await(const l of o)if(yield l,s)if(a===void 0)a=l;else try{a=Rc(a,l)}catch{a=void 0,s=!1}}}catch(l){throw await(i==null?void 0:i.handleChainError(l)),l}await(i==null?void 0:i.handleChainEnd(a??{}))}},vge=class extends Ud{constructor(e){let n=Pl.from((s,o)=>this._enterHistory(s,o??{})).withConfig({runName:"loadHistory"});const r=e.historyMessagesKey??e.inputMessagesKey;r&&(n=Hd.assign({[r]:n}).withConfig({runName:"insertHistory"}));const i=n.pipe(e.runnable.withListeners({onEnd:(s,o)=>this._exitHistory(s,o??{})})).withConfig({runName:"RunnableWithMessageHistory"}),a=e.config??{};super({...e,config:a,bound:i});U(this,"runnable");U(this,"inputMessagesKey");U(this,"outputMessagesKey");U(this,"historyMessagesKey");U(this,"getMessageHistory");this.runnable=e.runnable,this.getMessageHistory=e.getMessageHistory,this.inputMessagesKey=e.inputMessagesKey,this.outputMessagesKey=e.outputMessagesKey,this.historyMessagesKey=e.historyMessagesKey}_getInputMessages(e){let n;if(typeof e=="object"&&!Array.isArray(e)&&!Ho(e)){let r;this.inputMessagesKey?r=this.inputMessagesKey:Object.keys(e).length===1?r=Object.keys(e)[0]:r="input",Array.isArray(e[r])&&Array.isArray(e[r][0])?n=e[r][0]:n=e[r]}else n=e;if(typeof n=="string")return[new ba(n)];if(Array.isArray(n))return n;if(Ho(n))return[n];throw new Error(`Expected a string, BaseMessage, or array of BaseMessages.
Got ${JSON.stringify(n,null,2)}`)}_getOutputMessages(e){let n;if(!Array.isArray(e)&&!Ho(e)&&typeof e!="string"){let r;this.outputMessagesKey!==void 0?r=this.outputMessagesKey:Object.keys(e).length===1?r=Object.keys(e)[0]:r="output",e.generations!==void 0?n=e.generations[0][0].message:n=e[r]}else n=e;if(typeof n=="string")return[new os(n)];if(Array.isArray(n))return n;if(Ho(n))return[n];throw new Error(`Expected a string, BaseMessage, or array of BaseMessages. Received: ${JSON.stringify(n,null,2)}`)}async _enterHistory(e,n){var a;const i=await((a=n==null?void 0:n.configurable)==null?void 0:a.messageHistory).getMessages();return this.historyMessagesKey===void 0?i.concat(this._getInputMessages(e)):i}async _exitHistory(e,n){var l;const r=(l=n.configurable)==null?void 0:l.messageHistory;let i;Array.isArray(e.inputs)&&Array.isArray(e.inputs[0])?i=e.inputs[0]:i=e.inputs;let a=this._getInputMessages(i);if(this.historyMessagesKey===void 0){const c=await r.getMessages();a=a.slice(c.length)}const s=e.outputs;if(!s)throw new Error(`Output values from 'Run' undefined. Run: ${JSON.stringify(e,null,2)}`);const o=this._getOutputMessages(s);await r.addMessages([...a,...o])}async _mergeConfig(...e){const n=await super._mergeConfig(...e);if(!n.configurable||!n.configurable.sessionId){const i={[this.inputMessagesKey??"input"]:"foo"},a={configurable:{sessionId:"123"}};throw new Error(`sessionId is required. Pass it in as part of the config argument to .invoke() or .stream()
eg. chain.invoke(${JSON.stringify(i)}, ${JSON.stringify(a)})`)}const{sessionId:r}=n.configurable;return n.configurable.messageHistory=await this.getMessageHistory(r),n}},xge={};wt(xge,{RouterRunnable:()=>gge,Runnable:()=>fn,RunnableAssign:()=>wk,RunnableBinding:()=>Ud,RunnableBranch:()=>yge,RunnableEach:()=>Xpe,RunnableLambda:()=>Pl,RunnableMap:()=>If,RunnableParallel:()=>Qpe,RunnablePassthrough:()=>Hd,RunnablePick:()=>k6,RunnableRetry:()=>bk,RunnableSequence:()=>ag,RunnableToolLike:()=>ej,RunnableWithFallbacks:()=>T6,RunnableWithMessageHistory:()=>vge,_coerceToRunnable:()=>ua,ensureConfig:()=>gt,getCallbackManagerForConfig:()=>ri,mergeConfigs:()=>UE,patchConfig:()=>Xt,pickRunnableConfigKeys:()=>$c,raceWithSignal:()=>no});var _8=class extends fn{parseResultWithPrompt(t,e,n){return this.parseResult(t,n)}_baseMessageToString(t){return typeof t.content=="string"?t.content:this._baseMessageContentToString(t.content)}_baseMessageContentToString(t){return JSON.stringify(t)}async invoke(t,e){return typeof t=="string"?this._callWithConfig(async(n,r)=>this.parseResult([{text:n}],r==null?void 0:r.callbacks),t,{...e,runType:"parser"}):this._callWithConfig(async(n,r)=>this.parseResult([{message:n,text:this._baseMessageToString(n)}],r==null?void 0:r.callbacks),t,{...e,runType:"parser"})}},Eb=class extends _8{parseResult(t,e){return this.parse(t[0].text,e)}async parseWithPrompt(t,e,n){return this.parse(t,n)}_type(){throw new Error("_type not implemented")}},Us=class extends Error{constructor(e,n,r,i=!1){super(e);U(this,"llmOutput");U(this,"observation");U(this,"sendToLLM");if(this.llmOutput=n,this.observation=r,this.sendToLLM=i,i&&(r===void 0||n===void 0))throw new Error("Arguments 'observation' & 'llmOutput' are required if 'sendToLlm' is true");yU(this,"OUTPUT_PARSING_FAILURE")}},og=class extends Eb{async*_transform(t){for await(const e of t)typeof e=="string"?yield this.parseResult([{text:e}]):yield this.parseResult([{message:e,text:this._baseMessageToString(e)}])}async*transform(t,e){yield*this._transformStreamWithConfig(t,this._transform.bind(this),{...e,runType:"parser"})}},jb=class extends og{constructor(e){super(e);U(this,"diff",!1);this.diff=(e==null?void 0:e.diff)??this.diff}async*_transform(e){let n,r;for await(const i of e){if(typeof i!="string"&&typeof i.content!="string")throw new Error("Cannot handle non-string output.");let a;if(XT(i)){if(typeof i.content!="string")throw new Error("Cannot handle non-string message output.");a=new Yp({message:i,text:i.content})}else if(Ho(i)){if(typeof i.content!="string")throw new Error("Cannot handle non-string message output.");a=new Yp({message:t0(i),text:i.content})}else a=new Kp({text:i});r===void 0?r=a:r=r.concat(a);const s=await this.parsePartialResult([r]);s!=null&&!bc(s,n)&&(this.diff?yield this._diff(n,s):yield s,n=s)}}getFormatInstructions(){return""}},bge={};wt(bge,{applyPatch:()=>zd,compare:()=>gk});var S8=class extends jb{constructor(){super(...arguments);U(this,"lc_namespace",["langchain_core","output_parsers"]);U(this,"lc_serializable",!0)}static lc_name(){return"JsonOutputParser"}_concatOutputChunks(e,n){return this.diff?super._concatOutputChunks(e,n):n}_diff(e,n){if(n)return e?gk(e,n):[{op:"replace",path:"",value:n}]}async parsePartialResult(e){return $E(e[0].text)}async parse(e){return $E(e,JSON.parse)}getFormatInstructions(){return""}},wge=class extends og{constructor(){super(...arguments);U(this,"lc_namespace",["langchain_core","output_parsers","bytes"]);U(this,"lc_serializable",!0);U(this,"textEncoder",new TextEncoder)}static lc_name(){return"BytesOutputParser"}parse(e){return Promise.resolve(this.textEncoder.encode(e))}getFormatInstructions(){return""}},lg=class extends og{constructor(){super(...arguments);U(this,"re")}async*_transform(e){let n="";for await(const r of e)if(typeof r=="string"?n+=r:n+=r.content,this.re){const i=[...n.matchAll(this.re)];if(i.length>1){let a=0;for(const s of i.slice(0,-1))yield[s[1]],a+=(s.index??0)+s[0].length;n=n.slice(a)}}else{const i=await this.parse(n);if(i.length>1){for(const a of i.slice(0,-1))yield[a];n=i[i.length-1]}}for(const r of await this.parse(n))yield[r]}},_ge=class extends lg{constructor(){super(...arguments);U(this,"lc_namespace",["langchain_core","output_parsers","list"]);U(this,"lc_serializable",!0)}static lc_name(){return"CommaSeparatedListOutputParser"}async parse(e){try{return e.trim().split(",").map(n=>n.trim())}catch{throw new Us(`Could not parse output: ${e}`,e)}}getFormatInstructions(){return"Your response should be a list of comma separated values, eg: `foo, bar, baz`"}},Sge=class extends lg{constructor({length:e,separator:n}){super(...arguments);U(this,"lc_namespace",["langchain_core","output_parsers","list"]);U(this,"length");U(this,"separator");this.length=e,this.separator=n||","}async parse(e){try{const n=e.trim().split(this.separator).map(r=>r.trim());if(this.length!==void 0&&n.length!==this.length)throw new Us(`Incorrect number of items. Expected ${this.length}, got ${n.length}.`);return n}catch(n){throw Object.getPrototypeOf(n)===Us.prototype?n:new Us(`Could not parse output: ${e}`)}}getFormatInstructions(){return`Your response should be a list of ${this.length===void 0?"":`${this.length} `}items separated by "${this.separator}" (eg: \`foo${this.separator} bar${this.separator} baz\`)`}},Ege=class extends lg{constructor(){super(...arguments);U(this,"lc_namespace",["langchain_core","output_parsers","list"]);U(this,"lc_serializable",!0);U(this,"re",/\d+\.\s([^\n]+)/g)}static lc_name(){return"NumberedListOutputParser"}getFormatInstructions(){return`Your response should be a numbered list with each item on a new line. For example: 

1. foo

2. bar

3. baz`}async parse(e){return[...e.matchAll(this.re)??[]].map(n=>n[1])}},jge=class extends lg{constructor(){super(...arguments);U(this,"lc_namespace",["langchain_core","output_parsers","list"]);U(this,"lc_serializable",!0);U(this,"re",/^\s*[-*]\s([^\n]+)$/gm)}static lc_name(){return"NumberedListOutputParser"}getFormatInstructions(){return`Your response should be a numbered list with each item on a new line. For example: 

1. foo

2. bar

3. baz`}async parse(e){return[...e.matchAll(this.re)??[]].map(n=>n[1])}},Age=class extends og{constructor(){super(...arguments);U(this,"lc_namespace",["langchain_core","output_parsers","string"]);U(this,"lc_serializable",!0)}static lc_name(){return"StrOutputParser"}parse(e){return Promise.resolve(e)}getFormatInstructions(){return""}_textContentToString(e){return e.text}_imageUrlContentToString(e){throw new Error('Cannot coerce a multimodal "image_url" message part into a string.')}_messageContentToString(e){switch(e.type){case"text":case"text_delta":if("text"in e)return this._textContentToString(e);break;case"image_url":if("image_url"in e)return this._imageUrlContentToString(e);break;default:throw new Error(`Cannot coerce "${e.type}" message part into a string.`)}throw new Error(`Invalid content type: ${e.type}`)}_baseMessageContentToString(e){return e.reduce((n,r)=>n+this._messageContentToString(r),"")}},Ck=class extends Eb{constructor(e){super(e);U(this,"lc_namespace",["langchain","output_parsers","structured"]);this.schema=e}static lc_name(){return"StructuredOutputParser"}toJSON(){return this.toJSONNotImplemented()}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){const n=VT(Object.fromEntries(Object.entries(e).map(([r,i])=>[r,HT().describe(i)])));return new this(n)}getFormatInstructions(){return`You must format your output as a JSON value that adheres to a given "JSON Schema" instance.

"JSON Schema" is a declarative language that allows you to annotate and validate JSON documents.

For example, the example "JSON Schema" instance {{"properties": {{"foo": {{"description": "a list of test words", "type": "array", "items": {{"type": "string"}}}}}}, "required": ["foo"]}}
would match an object with one required property, "foo". The "type" property specifies "foo" must be an "array", and the "description" property semantically describes it as "a list of test words". The items within "foo" must be strings.
Thus, the object {{"foo": ["bar", "baz"]}} is a well-formatted instance of this example "JSON Schema". The object {{"properties": {{"foo": ["bar", "baz"]}}}} is not well-formatted.

Your output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!

Here is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:
\`\`\`json
${JSON.stringify(xl(this.schema))}
\`\`\`
`}async parse(e){var n,r;try{const i=e.trim(),s=(((n=i.match(/^```(?:json)?\s*([\s\S]*?)```/))==null?void 0:n[1])||((r=i.match(/```json\s*([\s\S]*?)```/))==null?void 0:r[1])||i).replace(/"([^"\\]*(\\.[^"\\]*)*)"/g,(o,l)=>`"${l.replace(/\n/g,"\\n")}"`).replace(/\n/g,"");return await FT(this.schema,JSON.parse(s))}catch(i){throw new Us(`Failed to parse. Text: "${e}". Error: ${i}`,e)}}},E8=class extends Ck{static lc_name(){return"JsonMarkdownStructuredOutputParser"}getFormatInstructions(t){const e=(t==null?void 0:t.interpolationDepth)??1;if(e<1)throw new Error("f string interpolation depth must be at least 1");return`Return a markdown code snippet with a JSON object formatted to look like:
\`\`\`json
${this._schemaToInstruction(xl(this.schema)).replaceAll("{","{".repeat(e)).replaceAll("}","}".repeat(e))}
\`\`\``}_schemaToInstruction(t,e=2){const n=t;if("type"in n){let r=!1,i;if(Array.isArray(n.type)){const o=n.type.findIndex(l=>l==="null");o!==-1&&(r=!0,n.type.splice(o,1)),i=n.type.join(" | ")}else i=n.type;if(n.type==="object"&&n.properties){const o=n.description?` // ${n.description}`:"";return`{
${Object.entries(n.properties).map(([c,d])=>{var h;const f=(h=n.required)!=null&&h.includes(c)?"":" (optional)";return`${" ".repeat(e)}"${c}": ${this._schemaToInstruction(d,e+2)}${f}`}).join(`
`)}
${" ".repeat(e-2)}}${o}`}if(n.type==="array"&&n.items){const o=n.description?` // ${n.description}`:"";return`array[
${" ".repeat(e)}${this._schemaToInstruction(n.items,e+2)}
${" ".repeat(e-2)}] ${o}`}const a=r?" (nullable)":"",s=n.description?` // ${n.description}`:"";return`${i}${s}${a}`}if("anyOf"in n)return n.anyOf.map(r=>this._schemaToInstruction(r,e)).join(`
${" ".repeat(e-2)}`);throw new Error("unsupported schema type")}static fromZodSchema(t){return new this(t)}static fromNamesAndDescriptions(t){const e=VT(Object.fromEntries(Object.entries(t).map(([n,r])=>[n,HT().describe(r)])));return new this(e)}},Cge=class extends Eb{constructor({inputSchema:e}){super(...arguments);U(this,"structuredInputParser");this.structuredInputParser=new E8(e)}async parse(e){let n;try{n=await this.structuredInputParser.parse(e)}catch(r){throw new Us(`Failed to parse. Text: "${e}". Error: ${r}`,e)}return this.outputProcessor(n)}getFormatInstructions(){return this.structuredInputParser.getFormatInstructions()}};const Tge=function(){const t={};t.parser=function(I,O){return new n(I,O)},t.SAXParser=n,t.SAXStream=c,t.createStream=l,t.MAX_BUFFER_LENGTH=64*1024;const e=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(I,O){if(!(this instanceof n))return new n(I,O);var K=this;i(K),K.q=K.c="",K.bufferCheckPosition=t.MAX_BUFFER_LENGTH,K.opt=O||{},K.opt.lowercase=K.opt.lowercase||K.opt.lowercasetags,K.looseCase=K.opt.lowercase?"toLowerCase":"toUpperCase",K.tags=[],K.closed=K.closedRoot=K.sawRoot=!1,K.tag=K.error=null,K.strict=!!I,K.noscript=!!(I||K.opt.noscript),K.state=j.BEGIN,K.strictEntities=K.opt.strictEntities,K.ENTITIES=K.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),K.attribList=[],K.opt.xmlns&&(K.ns=Object.create(m)),K.trackPosition=K.opt.position!==!1,K.trackPosition&&(K.position=K.line=K.column=0),T(K,"onready")}Object.create||(Object.create=function(I){function O(){}O.prototype=I;var K=new O;return K}),Object.keys||(Object.keys=function(I){var O=[];for(var K in I)I.hasOwnProperty(K)&&O.push(K);return O});function r(I){for(var O=Math.max(t.MAX_BUFFER_LENGTH,10),K=0,B=0,Z=e.length;B<Z;B++){var J=I[e[B]].length;if(J>O)switch(e[B]){case"textNode":N(I);break;case"cdata":k(I,"oncdata",I.cdata),I.cdata="";break;case"script":k(I,"onscript",I.script),I.script="";break;default:R(I,"Max buffer length exceeded: "+e[B])}K=Math.max(K,J)}var Y=t.MAX_BUFFER_LENGTH-K;I.bufferCheckPosition=Y+I.position}function i(I){for(var O=0,K=e.length;O<K;O++)I[e[O]]=""}function a(I){N(I),I.cdata!==""&&(k(I,"oncdata",I.cdata),I.cdata=""),I.script!==""&&(k(I,"onscript",I.script),I.script="")}n.prototype={end:function(){D(this)},write:ie,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};var s=ReadableStream;s||(s=function(){});var o=t.EVENTS.filter(function(I){return I!=="error"&&I!=="end"});function l(I,O){return new c(I,O)}function c(I,O){if(!(this instanceof c))return new c(I,O);s.apply(this),this._parser=new n(I,O),this.writable=!0,this.readable=!0;var K=this;this._parser.onend=function(){K.emit("end")},this._parser.onerror=function(B){K.emit("error",B),K._parser.error=null},this._decoder=null,o.forEach(function(B){Object.defineProperty(K,"on"+B,{get:function(){return K._parser["on"+B]},set:function(Z){if(!Z)return K.removeAllListeners(B),K._parser["on"+B]=Z,Z;K.on(B,Z)},enumerable:!0,configurable:!1})})}c.prototype=Object.create(s.prototype,{constructor:{value:c}}),c.prototype.write=function(I){return this._parser.write(I.toString()),this.emit("data",I),!0},c.prototype.end=function(I){return I&&I.length&&this.write(I),this._parser.end(),!0},c.prototype.on=function(I,O){var K=this;return!K._parser["on"+I]&&o.indexOf(I)!==-1&&(K._parser["on"+I]=function(){var B=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);B.splice(0,0,I),K.emit.apply(K,B)}),s.prototype.on.call(K,I,O)};var d="[CDATA[",f="DOCTYPE",h="http://www.w3.org/XML/1998/namespace",p="http://www.w3.org/2000/xmlns/",m={xml:h,xmlns:p},g=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function x(I){return I===" "||I===`
`||I==="\r"||I==="	"}function w(I){return I==='"'||I==="'"}function S(I){return I===">"||x(I)}function E(I,O){return I.test(O)}function A(I,O){return!E(I,O)}var j=0;t.STATE={BEGIN:j++,BEGIN_WHITESPACE:j++,TEXT:j++,TEXT_ENTITY:j++,OPEN_WAKA:j++,SGML_DECL:j++,SGML_DECL_QUOTED:j++,DOCTYPE:j++,DOCTYPE_QUOTED:j++,DOCTYPE_DTD:j++,DOCTYPE_DTD_QUOTED:j++,COMMENT_STARTING:j++,COMMENT:j++,COMMENT_ENDING:j++,COMMENT_ENDED:j++,CDATA:j++,CDATA_ENDING:j++,CDATA_ENDING_2:j++,PROC_INST:j++,PROC_INST_BODY:j++,PROC_INST_ENDING:j++,OPEN_TAG:j++,OPEN_TAG_SLASH:j++,ATTRIB:j++,ATTRIB_NAME:j++,ATTRIB_NAME_SAW_WHITE:j++,ATTRIB_VALUE:j++,ATTRIB_VALUE_QUOTED:j++,ATTRIB_VALUE_CLOSED:j++,ATTRIB_VALUE_UNQUOTED:j++,ATTRIB_VALUE_ENTITY_Q:j++,ATTRIB_VALUE_ENTITY_U:j++,CLOSE_TAG:j++,CLOSE_TAG_SAW_WHITE:j++,SCRIPT:j++,SCRIPT_ENDING:j++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(I){var O=t.ENTITIES[I],K=typeof O=="number"?String.fromCharCode(O):O;t.ENTITIES[I]=K});for(var C in t.STATE)t.STATE[t.STATE[C]]=C;j=t.STATE;function T(I,O,K){I[O]&&I[O](K)}function k(I,O,K){I.textNode&&N(I),T(I,O,K)}function N(I){I.textNode=H(I.opt,I.textNode),I.textNode&&T(I,"ontext",I.textNode),I.textNode=""}function H(I,O){return I.trim&&(O=O.trim()),I.normalize&&(O=O.replace(/\s+/g," ")),O}function R(I,O){return N(I),I.trackPosition&&(O+=`
Line: `+I.line+`
Column: `+I.column+`
Char: `+I.c),O=new Error(O),I.error=O,T(I,"onerror",O),I}function D(I){return I.sawRoot&&!I.closedRoot&&z(I,"Unclosed root tag"),I.state!==j.BEGIN&&I.state!==j.BEGIN_WHITESPACE&&I.state!==j.TEXT&&R(I,"Unexpected end"),N(I),I.c="",I.closed=!0,T(I,"onend"),n.call(I,I.strict,I.opt),I}function z(I,O){if(typeof I!="object"||!(I instanceof n))throw new Error("bad call to strictFail");I.strict&&R(I,O)}function V(I){I.strict||(I.tagName=I.tagName[I.looseCase]());var O=I.tags[I.tags.length-1]||I,K=I.tag={name:I.tagName,attributes:{}};I.opt.xmlns&&(K.ns=O.ns),I.attribList.length=0,k(I,"onopentagstart",K)}function M(I,O){var K=I.indexOf(":"),B=K<0?["",I]:I.split(":"),Z=B[0],J=B[1];return O&&I==="xmlns"&&(Z="xmlns",J=""),{prefix:Z,local:J}}function L(I){if(I.strict||(I.attribName=I.attribName[I.looseCase]()),I.attribList.indexOf(I.attribName)!==-1||I.tag.attributes.hasOwnProperty(I.attribName)){I.attribName=I.attribValue="";return}if(I.opt.xmlns){var O=M(I.attribName,!0),K=O.prefix,B=O.local;if(K==="xmlns")if(B==="xml"&&I.attribValue!==h)z(I,"xml: prefix must be bound to "+h+`
Actual: `+I.attribValue);else if(B==="xmlns"&&I.attribValue!==p)z(I,"xmlns: prefix must be bound to "+p+`
Actual: `+I.attribValue);else{var Z=I.tag,J=I.tags[I.tags.length-1]||I;Z.ns===J.ns&&(Z.ns=Object.create(J.ns)),Z.ns[B]=I.attribValue}I.attribList.push([I.attribName,I.attribValue])}else I.tag.attributes[I.attribName]=I.attribValue,k(I,"onattribute",{name:I.attribName,value:I.attribValue});I.attribName=I.attribValue=""}function P(I,O){if(I.opt.xmlns){var K=I.tag,B=M(I.tagName);K.prefix=B.prefix,K.local=B.local,K.uri=K.ns[B.prefix]||"",K.prefix&&!K.uri&&(z(I,"Unbound namespace prefix: "+JSON.stringify(I.tagName)),K.uri=B.prefix);var Z=I.tags[I.tags.length-1]||I;K.ns&&Z.ns!==K.ns&&Object.keys(K.ns).forEach(function(Ct){k(I,"onopennamespace",{prefix:Ct,uri:K.ns[Ct]})});for(var J=0,Y=I.attribList.length;J<Y;J++){var me=I.attribList[J],le=me[0],ve=me[1],oe=M(le,!0),ze=oe.prefix,Ce=oe.local,Re=ze===""?"":K.ns[ze]||"",ae={name:le,value:ve,prefix:ze,local:Ce,uri:Re};ze&&ze!=="xmlns"&&!Re&&(z(I,"Unbound namespace prefix: "+JSON.stringify(ze)),ae.uri=ze),I.tag.attributes[le]=ae,k(I,"onattribute",ae)}I.attribList.length=0}I.tag.isSelfClosing=!!O,I.sawRoot=!0,I.tags.push(I.tag),k(I,"onopentag",I.tag),O||(!I.noscript&&I.tagName.toLowerCase()==="script"?I.state=j.SCRIPT:I.state=j.TEXT,I.tag=null,I.tagName=""),I.attribName=I.attribValue="",I.attribList.length=0}function W(I){if(!I.tagName){z(I,"Weird empty close tag."),I.textNode+="</>",I.state=j.TEXT;return}if(I.script){if(I.tagName!=="script"){I.script+="</"+I.tagName+">",I.tagName="",I.state=j.SCRIPT;return}k(I,"onscript",I.script),I.script=""}var O=I.tags.length,K=I.tagName;I.strict||(K=K[I.looseCase]());for(var B=K;O--;){var Z=I.tags[O];if(Z.name!==B)z(I,"Unexpected close tag");else break}if(O<0){z(I,"Unmatched closing tag: "+I.tagName),I.textNode+="</"+I.tagName+">",I.state=j.TEXT;return}I.tagName=K;for(var J=I.tags.length;J-- >O;){var Y=I.tag=I.tags.pop();I.tagName=I.tag.name,k(I,"onclosetag",I.tagName);var me={};for(var le in Y.ns)me[le]=Y.ns[le];var ve=I.tags[I.tags.length-1]||I;I.opt.xmlns&&Y.ns!==ve.ns&&Object.keys(Y.ns).forEach(function(oe){var ze=Y.ns[oe];k(I,"onclosenamespace",{prefix:oe,uri:ze})})}O===0&&(I.closedRoot=!0),I.tagName=I.attribValue=I.attribName="",I.attribList.length=0,I.state=j.TEXT}function G(I){var O=I.entity,K=O.toLowerCase(),B,Z="";return I.ENTITIES[O]?I.ENTITIES[O]:I.ENTITIES[K]?I.ENTITIES[K]:(O=K,O.charAt(0)==="#"&&(O.charAt(1)==="x"?(O=O.slice(2),B=parseInt(O,16),Z=B.toString(16)):(O=O.slice(1),B=parseInt(O,10),Z=B.toString(10))),O=O.replace(/^0+/,""),isNaN(B)||Z.toLowerCase()!==O?(z(I,"Invalid character entity"),"&"+I.entity+";"):String.fromCodePoint(B))}function $(I,O){O==="<"?(I.state=j.OPEN_WAKA,I.startTagPosition=I.position):x(O)||(z(I,"Non-whitespace before first tag."),I.textNode=O,I.state=j.TEXT)}function te(I,O){var K="";return O<I.length&&(K=I.charAt(O)),K}function ie(I){var O=this;if(this.error)throw this.error;if(O.closed)return R(O,"Cannot write after close. Assign an onready handler.");if(I===null)return D(O);typeof I=="object"&&(I=I.toString());for(var K=0,B="";B=te(I,K++),O.c=B,!!B;)switch(O.trackPosition&&(O.position++,B===`
`?(O.line++,O.column=0):O.column++),O.state){case j.BEGIN:if(O.state=j.BEGIN_WHITESPACE,B==="\uFEFF")continue;$(O,B);continue;case j.BEGIN_WHITESPACE:$(O,B);continue;case j.TEXT:if(O.sawRoot&&!O.closedRoot){for(var Z=K-1;B&&B!=="<"&&B!=="&";)B=te(I,K++),B&&O.trackPosition&&(O.position++,B===`
`?(O.line++,O.column=0):O.column++);O.textNode+=I.substring(Z,K-1)}B==="<"&&!(O.sawRoot&&O.closedRoot&&!O.strict)?(O.state=j.OPEN_WAKA,O.startTagPosition=O.position):(!x(B)&&(!O.sawRoot||O.closedRoot)&&z(O,"Text data outside of root node."),B==="&"?O.state=j.TEXT_ENTITY:O.textNode+=B);continue;case j.SCRIPT:B==="<"?O.state=j.SCRIPT_ENDING:O.script+=B;continue;case j.SCRIPT_ENDING:B==="/"?O.state=j.CLOSE_TAG:(O.script+="<"+B,O.state=j.SCRIPT);continue;case j.OPEN_WAKA:if(B==="!")O.state=j.SGML_DECL,O.sgmlDecl="";else if(!x(B))if(E(g,B))O.state=j.OPEN_TAG,O.tagName=B;else if(B==="/")O.state=j.CLOSE_TAG,O.tagName="";else if(B==="?")O.state=j.PROC_INST,O.procInstName=O.procInstBody="";else{if(z(O,"Unencoded <"),O.startTagPosition+1<O.position){var J=O.position-O.startTagPosition;B=new Array(J).join(" ")+B}O.textNode+="<"+B,O.state=j.TEXT}continue;case j.SGML_DECL:(O.sgmlDecl+B).toUpperCase()===d?(k(O,"onopencdata"),O.state=j.CDATA,O.sgmlDecl="",O.cdata=""):O.sgmlDecl+B==="--"?(O.state=j.COMMENT,O.comment="",O.sgmlDecl=""):(O.sgmlDecl+B).toUpperCase()===f?(O.state=j.DOCTYPE,(O.doctype||O.sawRoot)&&z(O,"Inappropriately located doctype declaration"),O.doctype="",O.sgmlDecl=""):B===">"?(k(O,"onsgmldeclaration",O.sgmlDecl),O.sgmlDecl="",O.state=j.TEXT):(w(B)&&(O.state=j.SGML_DECL_QUOTED),O.sgmlDecl+=B);continue;case j.SGML_DECL_QUOTED:B===O.q&&(O.state=j.SGML_DECL,O.q=""),O.sgmlDecl+=B;continue;case j.DOCTYPE:B===">"?(O.state=j.TEXT,k(O,"ondoctype",O.doctype),O.doctype=!0):(O.doctype+=B,B==="["?O.state=j.DOCTYPE_DTD:w(B)&&(O.state=j.DOCTYPE_QUOTED,O.q=B));continue;case j.DOCTYPE_QUOTED:O.doctype+=B,B===O.q&&(O.q="",O.state=j.DOCTYPE);continue;case j.DOCTYPE_DTD:O.doctype+=B,B==="]"?O.state=j.DOCTYPE:w(B)&&(O.state=j.DOCTYPE_DTD_QUOTED,O.q=B);continue;case j.DOCTYPE_DTD_QUOTED:O.doctype+=B,B===O.q&&(O.state=j.DOCTYPE_DTD,O.q="");continue;case j.COMMENT:B==="-"?O.state=j.COMMENT_ENDING:O.comment+=B;continue;case j.COMMENT_ENDING:B==="-"?(O.state=j.COMMENT_ENDED,O.comment=H(O.opt,O.comment),O.comment&&k(O,"oncomment",O.comment),O.comment=""):(O.comment+="-"+B,O.state=j.COMMENT);continue;case j.COMMENT_ENDED:B!==">"?(z(O,"Malformed comment"),O.comment+="--"+B,O.state=j.COMMENT):O.state=j.TEXT;continue;case j.CDATA:B==="]"?O.state=j.CDATA_ENDING:O.cdata+=B;continue;case j.CDATA_ENDING:B==="]"?O.state=j.CDATA_ENDING_2:(O.cdata+="]"+B,O.state=j.CDATA);continue;case j.CDATA_ENDING_2:B===">"?(O.cdata&&k(O,"oncdata",O.cdata),k(O,"onclosecdata"),O.cdata="",O.state=j.TEXT):B==="]"?O.cdata+="]":(O.cdata+="]]"+B,O.state=j.CDATA);continue;case j.PROC_INST:B==="?"?O.state=j.PROC_INST_ENDING:x(B)?O.state=j.PROC_INST_BODY:O.procInstName+=B;continue;case j.PROC_INST_BODY:if(!O.procInstBody&&x(B))continue;B==="?"?O.state=j.PROC_INST_ENDING:O.procInstBody+=B;continue;case j.PROC_INST_ENDING:B===">"?(k(O,"onprocessinginstruction",{name:O.procInstName,body:O.procInstBody}),O.procInstName=O.procInstBody="",O.state=j.TEXT):(O.procInstBody+="?"+B,O.state=j.PROC_INST_BODY);continue;case j.OPEN_TAG:E(v,B)?O.tagName+=B:(V(O),B===">"?P(O):B==="/"?O.state=j.OPEN_TAG_SLASH:(x(B)||z(O,"Invalid character in tag name"),O.state=j.ATTRIB));continue;case j.OPEN_TAG_SLASH:B===">"?(P(O,!0),W(O)):(z(O,"Forward-slash in opening tag not followed by >"),O.state=j.ATTRIB);continue;case j.ATTRIB:if(x(B))continue;B===">"?P(O):B==="/"?O.state=j.OPEN_TAG_SLASH:E(g,B)?(O.attribName=B,O.attribValue="",O.state=j.ATTRIB_NAME):z(O,"Invalid attribute name");continue;case j.ATTRIB_NAME:B==="="?O.state=j.ATTRIB_VALUE:B===">"?(z(O,"Attribute without value"),O.attribValue=O.attribName,L(O),P(O)):x(B)?O.state=j.ATTRIB_NAME_SAW_WHITE:E(v,B)?O.attribName+=B:z(O,"Invalid attribute name");continue;case j.ATTRIB_NAME_SAW_WHITE:if(B==="=")O.state=j.ATTRIB_VALUE;else{if(x(B))continue;z(O,"Attribute without value"),O.tag.attributes[O.attribName]="",O.attribValue="",k(O,"onattribute",{name:O.attribName,value:""}),O.attribName="",B===">"?P(O):E(g,B)?(O.attribName=B,O.state=j.ATTRIB_NAME):(z(O,"Invalid attribute name"),O.state=j.ATTRIB)}continue;case j.ATTRIB_VALUE:if(x(B))continue;w(B)?(O.q=B,O.state=j.ATTRIB_VALUE_QUOTED):(z(O,"Unquoted attribute value"),O.state=j.ATTRIB_VALUE_UNQUOTED,O.attribValue=B);continue;case j.ATTRIB_VALUE_QUOTED:if(B!==O.q){B==="&"?O.state=j.ATTRIB_VALUE_ENTITY_Q:O.attribValue+=B;continue}L(O),O.q="",O.state=j.ATTRIB_VALUE_CLOSED;continue;case j.ATTRIB_VALUE_CLOSED:x(B)?O.state=j.ATTRIB:B===">"?P(O):B==="/"?O.state=j.OPEN_TAG_SLASH:E(g,B)?(z(O,"No whitespace between attributes"),O.attribName=B,O.attribValue="",O.state=j.ATTRIB_NAME):z(O,"Invalid attribute name");continue;case j.ATTRIB_VALUE_UNQUOTED:if(!S(B)){B==="&"?O.state=j.ATTRIB_VALUE_ENTITY_U:O.attribValue+=B;continue}L(O),B===">"?P(O):O.state=j.ATTRIB;continue;case j.CLOSE_TAG:if(O.tagName)B===">"?W(O):E(v,B)?O.tagName+=B:O.script?(O.script+="</"+O.tagName,O.tagName="",O.state=j.SCRIPT):(x(B)||z(O,"Invalid tagname in closing tag"),O.state=j.CLOSE_TAG_SAW_WHITE);else{if(x(B))continue;A(g,B)?O.script?(O.script+="</"+B,O.state=j.SCRIPT):z(O,"Invalid tagname in closing tag."):O.tagName=B}continue;case j.CLOSE_TAG_SAW_WHITE:if(x(B))continue;B===">"?W(O):z(O,"Invalid characters in closing tag");continue;case j.TEXT_ENTITY:case j.ATTRIB_VALUE_ENTITY_Q:case j.ATTRIB_VALUE_ENTITY_U:var Y,me;switch(O.state){case j.TEXT_ENTITY:Y=j.TEXT,me="textNode";break;case j.ATTRIB_VALUE_ENTITY_Q:Y=j.ATTRIB_VALUE_QUOTED,me="attribValue";break;case j.ATTRIB_VALUE_ENTITY_U:Y=j.ATTRIB_VALUE_UNQUOTED,me="attribValue";break}if(B===";")if(O.opt.unparsedEntities){var le=G(O);O.entity="",O.state=Y,O.write(le)}else O[me]+=G(O),O.entity="",O.state=Y;else E(O.entity.length?b:y,B)?O.entity+=B:(z(O,"Invalid character in entity name"),O[me]+="&"+O.entity+B,O.entity="",O.state=Y);continue;default:throw new Error(O,"Unknown state: "+O.state)}return O.position>=O.bufferCheckPosition&&r(O),O}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */return String.fromCodePoint||function(){var I=String.fromCharCode,O=Math.floor,K=function(){var B=16384,Z=[],J,Y,me=-1,le=arguments.length;if(!le)return"";for(var ve="";++me<le;){var oe=Number(arguments[me]);if(!isFinite(oe)||oe<0||oe>1114111||O(oe)!==oe)throw RangeError("Invalid code point: "+oe);oe<=65535?Z.push(oe):(oe-=65536,J=(oe>>10)+55296,Y=oe%1024+56320,Z.push(J,Y)),(me+1===le||Z.length>B)&&(ve+=I.apply(null,Z),Z.length=0)}return ve};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:K,configurable:!0,writable:!0}):String.fromCodePoint=K}(),t},kge=Tge(),sj=`The output should be formatted as a XML file.
1. Output should conform to the tags below. 
2. If tags are not given, make them on your own.
3. Remember to always open and close all the tags.

As an example, for the tags ["foo", "bar", "baz"]:
1. String "<foo>
   <bar>
      <baz></baz>
   </bar>
</foo>" is a well-formatted instance of the schema. 
2. String "<foo>
   <bar>
   </foo>" is a badly-formatted instance.
3. String "<foo>
   <tag>
   </tag>
</foo>" is a badly-formatted instance.

Here are the output tags:
\`\`\`
{tags}
\`\`\``;var Oge=class extends jb{constructor(e){super(e);U(this,"tags");U(this,"lc_namespace",["langchain_core","output_parsers"]);U(this,"lc_serializable",!0);this.tags=e==null?void 0:e.tags}static lc_name(){return"XMLOutputParser"}_diff(e,n){if(n)return e?gk(e,n):[{op:"replace",path:"",value:n}]}async parsePartialResult(e){return oj(e[0].text)}async parse(e){return oj(e)}getFormatInstructions(){var n;return!!(this.tags&&this.tags.length>0)?sj.replace("{tags}",((n=this.tags)==null?void 0:n.join(", "))??""):sj}};const Nge=t=>t.split(`
`).map(e=>e.replace(/^\s+/,"")).join(`
`).trim(),j8=t=>{if(Object.keys(t).length===0)return{};const e={};return t.children.length>0?(e[t.name]=t.children.map(j8),e):(e[t.name]=t.text??void 0,e)};function oj(t){const e=Nge(t),n=kge.parser(!0);let r={};const i=[];n.onopentag=o=>{const l={name:o.name,attributes:o.attributes,children:[],text:"",isSelfClosing:o.isSelfClosing};i.length>0?i[i.length-1].children.push(l):r=l,o.isSelfClosing||i.push(l)},n.onclosetag=()=>{if(i.length>0){const o=i.pop();i.length===0&&o&&(r=o)}},n.ontext=o=>{if(i.length>0){const l=i[i.length-1];l.text+=o}},n.onattribute=o=>{if(i.length>0){const l=i[i.length-1];l.attributes[o.name]=o.value}};const a=/```(xml)?(.*)```/s.exec(e),s=a?a[2]:e;return n.write(s).close(),r&&r.name==="?xml"&&(r=r.children[0]),j8(r)}var Pge={};wt(Pge,{AsymmetricStructuredOutputParser:()=>Cge,BaseCumulativeTransformOutputParser:()=>jb,BaseLLMOutputParser:()=>_8,BaseOutputParser:()=>Eb,BaseTransformOutputParser:()=>og,BytesOutputParser:()=>wge,CommaSeparatedListOutputParser:()=>_ge,CustomListOutputParser:()=>Sge,JsonMarkdownStructuredOutputParser:()=>E8,JsonOutputParser:()=>S8,ListOutputParser:()=>lg,MarkdownListOutputParser:()=>jge,NumberedListOutputParser:()=>Ege,OutputParserException:()=>Us,StringOutputParser:()=>Age,StructuredOutputParser:()=>Ck,XMLOutputParser:()=>Oge,XML_FORMAT_INSTRUCTIONS:()=>sj,parseJsonMarkdown:()=>$E,parsePartialJson:()=>ob,parseXMLMarkdown:()=>oj});function Tk(t,e){if(t.function===void 0)return;let n;if(e!=null&&e.partial)try{n=ob(t.function.arguments??"{}")}catch{return}else try{n=JSON.parse(t.function.arguments)}catch(i){throw new Us([`Function "${t.function.name}" arguments:`,"",t.function.arguments,"","are not valid JSON.",`Error: ${i.message}`].join(`
`))}const r={name:t.function.name,args:n,type:"tool_call"};return e!=null&&e.returnId&&(r.id=t.id),r}function A8(t){if(t.id===void 0)throw new Error('All OpenAI tool calls must have an "id" field.');return{id:t.id,type:"function",function:{name:t.name,arguments:JSON.stringify(t.args)}}}function C8(t,e){var n,r;return{name:(n=t.function)==null?void 0:n.name,args:(r=t.function)==null?void 0:r.arguments,id:t.id,error:e,type:"invalid_tool_call"}}var T8=class extends jb{constructor(e){super(e);U(this,"returnId",!1);U(this,"lc_namespace",["langchain","output_parsers","openai_tools"]);U(this,"lc_serializable",!0);this.returnId=(e==null?void 0:e.returnId)??this.returnId}static lc_name(){return"JsonOutputToolsParser"}_diff(){throw new Error("Not supported.")}async parse(){throw new Error("Not implemented.")}async parseResult(e){return await this.parsePartialResult(e,!1)}async parsePartialResult(e,n=!0){var s;const r=e[0].message;let i;if(lb(r)&&((s=r.tool_calls)!=null&&s.length)?i=r.tool_calls.map(o=>{const{id:l,...c}=o;return this.returnId?{id:l,...c}:c}):r.additional_kwargs.tool_calls!==void 0&&(i=JSON.parse(JSON.stringify(r.additional_kwargs.tool_calls)).map(l=>Tk(l,{returnId:this.returnId,partial:n}))),!i)return[];const a=[];for(const o of i)if(o!==void 0){const l={type:o.name,args:o.args,id:o.id};a.push(l)}return a}},lj=class extends T8{constructor(e){super(e);U(this,"lc_namespace",["langchain","output_parsers","openai_tools"]);U(this,"lc_serializable",!0);U(this,"returnId",!1);U(this,"keyName");U(this,"returnSingle",!1);U(this,"zodSchema");this.keyName=e.keyName,this.returnSingle=e.returnSingle??this.returnSingle,this.zodSchema=e.zodSchema}static lc_name(){return"JsonOutputKeyToolsParser"}async _validateResult(e){var r;if(this.zodSchema===void 0)return e;const n=await Rz(this.zodSchema,e);if(n.success)return n.data;throw new Us(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify((r=n.error)==null?void 0:r.issues)}`,JSON.stringify(e,null,2))}async parsePartialResult(e){const r=(await super.parsePartialResult(e)).filter(a=>a.type===this.keyName);let i=r;if(r.length)return this.returnId||(i=r.map(a=>a.args)),this.returnSingle?i[0]:i}async parseResult(e){const r=(await super.parsePartialResult(e,!1)).filter(s=>s.type===this.keyName);let i=r;return r.length?(this.returnId||(i=r.map(s=>s.args)),this.returnSingle?this._validateResult(i[0]):await Promise.all(i.map(s=>this._validateResult(s)))):void 0}},Ige={};wt(Ige,{JsonOutputKeyToolsParser:()=>lj,JsonOutputToolsParser:()=>T8,convertLangChainToolCallToOpenAI:()=>A8,makeInvalidToolCall:()=>C8,parseToolCall:()=>Tk});function k8(t){return t!==void 0&&Array.isArray(t.lc_namespace)}function O8(t){return t!==void 0&&fn.isRunnable(t)&&"lc_name"in t.constructor&&typeof t.constructor.lc_name=="function"&&t.constructor.lc_name()==="RunnableToolLike"}function N8(t){return!!t&&typeof t=="object"&&"name"in t&&"schema"in t&&(Pc(t.schema)||t.schema!=null&&typeof t.schema=="object"&&"type"in t.schema&&typeof t.schema.type=="string"&&["null","boolean","object","array","number","string"].includes(t.schema.type))}function P8(t){return N8(t)||O8(t)||k8(t)}var $ge={};wt($ge,{convertToOpenAIFunction:()=>I8,convertToOpenAITool:()=>cj,isLangChainTool:()=>P8,isRunnableToolLike:()=>O8,isStructuredTool:()=>k8,isStructuredToolParams:()=>N8});function I8(t,e){const n=typeof e=="number"?void 0:e;return{name:t.name,description:t.description,parameters:xl(t.schema),...(n==null?void 0:n.strict)!==void 0?{strict:n.strict}:{}}}function cj(t,e){const n=typeof e=="number"?void 0:e;let r;return P8(t)?r={type:"function",function:I8(t)}:r=t,(n==null?void 0:n.strict)!==void 0&&(r.function.strict=n.strict),r}const Rge=["frequency_penalty","function_call","functions","logit_bias","logprobs","max_completion_tokens","max_tokens","n","parallel_tool_calls","presence_penalty","reasoning_format","response_format","seed","service_tier","stop","temperature","tool_choice","top_logprobs","top_p"],Mge=["headers","promptIndex","stream_options","tools"],Lge=[...Rge,...Mge];function Dge(t){if(t.role!=="system"&&t.role!=="assistant"&&t.role!=="user"&&t.role!=="function")throw new Error(`Unsupported message role: ${t.role}. Expected "system", "assistant", "user", or "function"`);return t.role}function Fge(t){switch(t.type){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"tool":return"tool";case"generic":if(!Kc.isInstance(t))throw new Error("Invalid generic chat message");return Dge(t);default:throw new Error(`Unknown message type: ${t.type}`)}}function F$(t){return t.map(e=>{var r;const n={role:Fge(e),content:e.content,name:e.name,function_call:e.additional_kwargs.function_call,tool_calls:e.additional_kwargs.tool_calls,tool_call_id:e.tool_call_id};return lb(e)&&((r=e.tool_calls)!=null&&r.length)?n.tool_calls=e.tool_calls.map(A8):(e.additional_kwargs.tool_calls!=null&&(n.tool_calls=e.additional_kwargs.tool_calls),e.tool_call_id!=null&&(n.tool_call_id=e.tool_call_id)),n})}function Bge(t,e,n){const r=t.tool_calls;switch(t.role){case"assistant":{const i=[],a=[];for(const s of r??[])try{i.push(Tk(s,{returnId:!0}))}catch(o){a.push(C8(s,o.message))}return new os({content:t.content||"",additional_kwargs:{tool_calls:r},tool_calls:i,invalid_tool_calls:a,usage_metadata:e,response_metadata:n})}default:return new Kc(t.content||"",t.role??"unknown")}}function zge(t,e,n,r){var h,p;const i=t.role??e,a=t.content??"";let s;t.function_call?s={function_call:t.function_call}:t.tool_calls?s={tool_calls:t.tool_calls}:s={},t.audio&&(s.audio={...t.audio,index:n.choices[0].index});let o,l=r,c;const d=n.x_groq;d!=null&&d.usage&&(o={input_tokens:d.usage.prompt_tokens,output_tokens:d.usage.completion_tokens,total_tokens:d.usage.total_tokens},c={completion_time:d.usage.completion_time,prompt_time:d.usage.prompt_time,queue_time:d.usage.queue_time,total_time:d.usage.total_time}),d!=null&&d.id&&(l=d.id);const f={usage:o,timing:c};if(i==="user")return new tg({content:a,response_metadata:f});if(i==="assistant"){const m=[];if(Array.isArray(t.tool_calls))for(const g of t.tool_calls)m.push({name:(h=g.function)==null?void 0:h.name,args:(p=g.function)==null?void 0:p.arguments,id:g.id,index:g.index,type:"tool_call_chunk"});return new lo({content:a,tool_call_chunks:m,additional_kwargs:s,id:l,response_metadata:f})}else return i==="system"?new wl({content:a,response_metadata:f}):i==="developer"?new wl({content:a,response_metadata:f,additional_kwargs:{__openai_role__:"developer"}}):i==="function"?new eg({content:a,additional_kwargs:s,name:t.name,response_metadata:f}):i==="tool"?new Jm({content:a,additional_kwargs:s,tool_call_id:t.tool_call_id,response_metadata:f}):new Qm({content:a,role:i,response_metadata:f})}var Uge=class extends Ek{constructor(e){super(e);U(this,"lc_namespace",["langchain","chat_models","groq"]);U(this,"client");U(this,"model");U(this,"temperature",.7);U(this,"stop");U(this,"stopSequences");U(this,"maxTokens");U(this,"streaming",!1);U(this,"apiKey");U(this,"streamUsage",!0);U(this,"topP");U(this,"frequencyPenalty");U(this,"presencePenalty");U(this,"logprobs");U(this,"n");U(this,"logitBias");U(this,"user");U(this,"reasoningFormat");U(this,"serviceTier");U(this,"topLogprobs");U(this,"lc_serializable",!0);const n=e.apiKey||Bs("GROQ_API_KEY");if(!n)throw new Error('Groq API key not found. Please set the GROQ_API_KEY environment variable or provide the key into "apiKey"');const r={"User-Agent":"langchainjs",...e.defaultHeaders??{}};this.client=new Lt({apiKey:n,dangerouslyAllowBrowser:!0,baseURL:e.baseUrl,timeout:e.timeout,httpAgent:e.httpAgent,fetch:e.fetch,maxRetries:0,defaultHeaders:r,defaultQuery:e.defaultQuery}),this.apiKey=n,this.temperature=e.temperature??this.temperature,this.model=e.model,this.streaming=e.streaming??this.streaming,this.stop=e.stopSequences??(typeof e.stop=="string"?[e.stop]:e.stop)??[],this.stopSequences=this.stop,this.maxTokens=e.maxTokens,this.topP=e.topP,this.frequencyPenalty=e.frequencyPenalty,this.presencePenalty=e.presencePenalty,this.logprobs=e.logprobs,this.n=e.n,this.logitBias=e.logitBias,this.user=e.user}get lc_serialized_keys(){return["client","model","temperature","stop","stopSequences","maxTokens","streaming","apiKey","streamUsage","topP","frequencyPenalty","presencePenalty","logprobs","n","logitBias","user","reasoningFormat","serviceTier","topLogprobs"]}static lc_name(){return"ChatGroq"}_llmType(){return"groq"}get lc_secrets(){return{apiKey:"GROQ_API_KEY"}}get callKeys(){return[...super.callKeys,...Lge]}getLsParams(e){const n=this.invocationParams(e);return{ls_provider:"groq",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:n.temperature??this.temperature,ls_max_tokens:n.max_tokens??this.maxTokens,ls_stop:e.stop}}async completionWithRetry(e,n){return this.caller.call(async()=>this.client.chat.completions.create(e,n))}invocationParams(e,n){var s;const r=super.invocationParams(e);let i={};(e==null?void 0:e.stream_options)!==void 0?i={stream_options:e.stream_options}:(this.streamUsage&&this.streaming||n!=null&&n.streaming)&&(i={stream_options:{include_usage:!0}});const a={model:this.model,frequency_penalty:this.frequencyPenalty,function_call:e==null?void 0:e.function_call,functions:e==null?void 0:e.functions,logit_bias:this.logitBias,logprobs:this.logprobs,n:this.n,parallel_tool_calls:e==null?void 0:e.parallel_tool_calls,presence_penalty:this.presencePenalty,reasoning_format:this.reasoningFormat,response_format:e==null?void 0:e.response_format,seed:e==null?void 0:e.seed,service_tier:this.serviceTier,stop:(e==null?void 0:e.stop)??this.stopSequences,temperature:(e==null?void 0:e.temperature)??this.temperature,tool_choice:Hge(e==null?void 0:e.tool_choice),tools:(s=e==null?void 0:e.tools)!=null&&s.length?e.tools.map(o=>cj(o)):void 0,top_logprobs:this.topLogprobs,top_p:this.topP,user:this.user,stream:this.streaming,...r,...i};return a.max_completion_tokens=(e==null?void 0:e.max_completion_tokens)??(e==null?void 0:e.max_tokens)??this.maxTokens,a.max_completion_tokens===-1&&delete a.max_completion_tokens,a}bindTools(e,n){return this.withConfig({tools:e.map(r=>cj(r)),...n})}async*_streamResponseChunks(e,n,r){var d,f;const i=this.invocationParams(n,{streaming:!0}),a=F$(e),s=await this.completionWithRetry({...i,messages:a,stream:!0},{signal:n==null?void 0:n.signal,headers:n==null?void 0:n.headers});let o,l,c;for await(const h of s){c=h;const p=h==null?void 0:h.choices[0];if(!p)continue;(d=p.delta)!=null&&d.role&&(o=p.delta.role);const m=zge(p.delta,o,h,l),g={prompt:n.promptIndex??0,completion:p.index??0};if(typeof m.content!="string"){console.log("[WARNING]: Received non-string content from OpenAI. This is currently not supported.");continue}const v={...g};p.finish_reason!=null&&(v.finish_reason=p.finish_reason,v.system_fingerprint=h.system_fingerprint,v.model_name=h.model);const y=new Yp({message:m,text:m.content,generationInfo:v});yield y,await(r==null?void 0:r.handleLLMNewToken(y.text??"",g,void 0,void 0,void 0,{chunk:y}))}if(c&&("choices"in c&&delete c.choices,yield new Yp({message:new lo({content:"",response_metadata:c}),text:""})),(f=n.signal)!=null&&f.aborted)throw new Error("AbortError")}async _generate(e,n,r){var i;if(this.streaming){const a={},s=this._streamResponseChunks(e,n,r),o={};for await(const c of s){const d=((i=c.generationInfo)==null?void 0:i.completion)??0;o[d]===void 0?o[d]=c:o[d]=o[d].concat(c)}return{generations:Object.entries(o).sort(([c],[d])=>parseInt(c,10)-parseInt(d,10)).map(([c,d])=>d),llmOutput:{estimatedTokenUsage:a}}}else return this._generateNonStreaming(e,n,r)}async _generateNonStreaming(e,n,r){var c;const i={},a=this.invocationParams(n),s=F$(e),o=await this.completionWithRetry({...a,stream:!1,messages:s},{signal:n==null?void 0:n.signal,headers:n==null?void 0:n.headers});if("usage"in o&&o.usage){const{completion_tokens:d,prompt_tokens:f,total_tokens:h}=o.usage;d&&(i.completionTokens=(i.completionTokens??0)+d),f&&(i.promptTokens=(i.promptTokens??0)+f),h&&(i.totalTokens=(i.totalTokens??0)+h)}const l=[];if("choices"in o&&o.choices)for(const d of o.choices){const f=((c=d.message)==null?void 0:c.content)??"";let h;i.totalTokens!==void 0&&(h={input_tokens:i.promptTokens??0,output_tokens:i.completionTokens??0,total_tokens:i.totalTokens});const{choices:p,...m}=o,g={text:f,message:Bge(d.message??{role:"assistant"},h,m)};g.generationInfo={...d.finish_reason?{finish_reason:d.finish_reason}:{},...d.logprobs?{logprobs:d.logprobs}:{}},l.push(g)}return{generations:l,llmOutput:{tokenUsage:i}}}get profile(){return Oae[this.model]??{}}withStructuredOutput(e,n){const r=e,i=n==null?void 0:n.name,a=n==null?void 0:n.method,s=n==null?void 0:n.includeRaw;let o=i??"extract",l,c;if(a==="jsonMode"){let p;Pc(r)?(l=Ck.fromZodSchema(r),p=xl(r)):l=new S8,c=this.withConfig({response_format:{type:"json_object"},ls_structured_output_format:{kwargs:{method:"jsonMode"},schema:p}})}else if(Pc(r)){const p=xl(r);c=this.bindTools([{type:"function",function:{name:o,description:p.description,parameters:p}}]).withConfig({tool_choice:{type:"function",function:{name:o}},ls_structured_output_format:{kwargs:{method:"functionCalling"},schema:p}}),l=new lj({returnSingle:!0,keyName:o,zodSchema:r})}else{let p;typeof r.name=="string"&&typeof r.parameters=="object"&&r.parameters!=null?(p=r,o=r.name):(o=r.title??o,p={name:o,description:r.description??"",parameters:r}),c=this.bindTools([{type:"function",function:p}]).withConfig({tool_choice:{type:"function",function:{name:o}},ls_structured_output_format:{kwargs:{method:"functionCalling"},schema:r}}),l=new lj({returnSingle:!0,keyName:o})}if(!s)return c.pipe(l).withConfig({runName:"ChatGroqStructuredOutput"});const d=Hd.assign({parsed:(p,m)=>l.invoke(p.raw,m)}),f=Hd.assign({parsed:()=>null}),h=d.withFallbacks({fallbacks:[f]});return ag.from([{raw:c},h]).withConfig({runName:"ChatGroqStructuredOutput"})}};function Hge(t){if(t)return t==="any"||t==="required"?"required":t==="auto"?"auto":t==="none"?"none":typeof t=="string"?{type:"function",function:{name:t}}:t}const Vge="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",Wge="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",qge="https://api.tavily.com/search",Gge=!0,B$="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",Kge="AdmitConnectAI",Yge=`You are the AdmitConnect AI Assistant, designed to help users understand and navigate the AdmitConnect platform.

About AdmitConnect AI:
AdmitConnect AI is a college admission campaign management platform that helps educational institutions execute multi-channel outreach campaigns through WhatsApp, Voice Calls, and Email using AI-powered automation.

Core capabilities include AI-powered campaign automation, real-time analytics for tracking engagement and response rates, multi-channel communication across Email, Voice, and WhatsApp, candidate management tools, 24/7 AI counseling agents, and predictive intelligence for campaign optimization.

The platform was developed by Yash Sharma, a Generative AI Engineer specializing in scalable AI solutions for educational technology.

Your role:
Provide clear, accurate information about the platform's features and capabilities. Offer professional guidance on college admission trends and best practices. Use real-time web search when needed for current information. Help users navigate the platform and understand how to use its features effectively.

Communication style:
Use clear, professional Markdown formatting for EVERY response.
- **Bold Headers**: Use bold text for key topics or section titles.
- **Lists**: ALWAYS use bullet points or numbered lists for steps, items, or features.
- **Paragraphs**: Keep paragraphs short (2-3 sentences) with clear line breaks between them.
- **No Blocks**: Avoid long walls of text. Break information down visually.
- **Tone**: Natural, conversational (like ChatGPT) but structured professionally.`,Xge=`You are the AdmitConnect Campaign Expert, a specialized assistant for users working in the AdmitConnect Dashboard.

About the platform:
AdmitConnect AI, developed by Yash Sharma (Generative AI Engineer), is a comprehensive campaign management platform for college admissions. It enables educational institutions to streamline student outreach and enrollment through AI-driven automation.

Platform features:
The Campaign Creation Suite allows users to set up WhatsApp campaigns with automated personalized messaging, Voice Call campaigns with AI-powered interactions, and Email campaigns with professional sequences and tracking.

The Candidate Management System supports bulk uploads via CSV/Excel, intelligent segmentation and filtering, comprehensive candidate profiles, and engagement history tracking.

Analytics and Reporting provides real-time campaign performance metrics, response rate analysis, channel effectiveness comparisons, and ROI tracking with optimization insights.

The AI Agent Ecosystem includes a Counseling Crew for 24/7 automated student support, a Campaign Orchestrator for intelligent multi-channel coordination, a Decision Engine for smart campaign strategy recommendations, and a Content Generator for AI-powered message and script creation.

Automation and Intelligence features cover smart scheduling and timing optimization, predictive analytics for student engagement, automated follow-up sequences, and performance-based campaign adjustments.

Your expertise:
You understand campaign strategy development, multi-channel marketing for educational institutions, data-driven decision making for student recruitment, AI-powered automation workflows, and candidate engagement best practices.

How to help users:
For campaign creation, guide users through defining their target audience, recommend the optimal channel mix based on their goals, suggest effective messaging strategies, and help configure timing and frequency.

For analytics, explain what the metrics mean, identify areas for improvement, provide context by benchmarking against industry standards, and recommend specific optimization strategies.

For feature navigation, give clear step-by-step instructions on how to find and use dashboard features, configure settings, set up integrations, and apply best practices.

For strategy consultation, offer professional recommendations on campaign planning and execution, channel selection based on demographics, content personalization techniques, and engagement optimization.

Communication style:
Use clear, professional Markdown formatting for EVERY response.
- **Bold Headers**: Use bold text for key topics or section titles.
- **Lists**: ALWAYS use bullet points or numbered lists for steps, items, or features.
- **Paragraphs**: Keep paragraphs short (2-3 sentences) with clear line breaks between them.
- **No Blocks**: Avoid long walls of text. Break information down visually.
- **Tone**: Consultative and actionable.`,Zge=`You are the AdmitConnect AI College Counselor, a strict and focused assistant dedicated ONLY to college admissions, student counseling, and educational guidance.

Instructions:
1. STRICT DOMAIN RESTRICTION: You must ONLY answer questions related to college admissions, university information, applications, scholarships, exams, student life, and academic guidance.
2. GUARDRAILS: If a user asks a question unrelated to education or admissions (e.g., sports, politics, entertainment, general chit-chat unrelated to college), you must POLITELY REFUSE to answer.
   - Example valid refusal: "I apologize, but I am specialized only in college admissions and educational counseling. I cannot assist with that topic."
3. SOURCE-BASED ANSWERS: You will be provided with information from web searches. You must use this information to answer user questions accurately. Cite your sources using [1], [2] notation.
4. TONE: Professional, encouraging, empathetic, and formal yet accessible. You are guiding students through a stressful process.
5. FORMATTING: STRICTLY use professional Markdown.
   - Use **Bold** for major points.
   - Use bullet points for lists.
   - Separate thoughts with new lines.
   - Make it easy to read on mobile devices.

You are NOT a general purpose AI. You are a specialized College Counselor. Do not break character. Do not answer questions outside your scope.`;class $8{constructor(e="general"){U(this,"context");U(this,"model",null);U(this,"tracer");U(this,"isAvailable",!1);this.context=e;try{if(this.model=new Uge({apiKey:Vge,model:"llama-3.3-70b-versatile",temperature:.7,maxTokens:1024}),this.isAvailable=!0,Gge&&B$)try{const n=new Bd({apiUrl:"https://api.smith.langchain.com",apiKey:B$});this.tracer=new tp({projectName:Kge||"default",client:n})}catch(n){console.warn("Failed to initialize LangSmith tracer",n)}}catch(n){console.error("Failed to initialize ChatService:",n),this.isAvailable=!1}}checkAvailability(){return this.isAvailable}async searchTavily(e){try{const n=await fetch(qge,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({api_key:Wge,query:e,search_depth:"basic",include_answer:!0,max_results:3})});if(!n.ok)throw new Error("Tavily search failed");return(await n.json()).results.map(i=>({title:i.title,url:i.url,content:i.content}))}catch(n){return console.error("Error searching Tavily:",n),[]}}async generateResponse(e,n=[],r){if(!this.model||!this.isAvailable)return{content:"I'm sorry, the AI chat service is currently unavailable. Please check the API configuration.",sources:[]};try{let i=[],a="";(this.context==="counselor"||e.length>10&&(this.context==="general"||e.toLowerCase().includes("search")||e.toLowerCase().includes("news")))&&(i=await this.searchTavily(e));let s=Yge;if(this.context==="dashboard"&&(s=Xge),this.context==="counselor"&&(s=Zge),r&&this.context==="dashboard"){const f=r.stats?`
Current Dashboard Stats:
- Total Campaigns: ${r.stats.totalCampaigns}
- Messages Sent: ${r.stats.messagesSent}
- Response Rate: ${r.stats.responseRate}%`:"",h=r.campaigns&&r.campaigns.length>0?`
Recent Campaigns:
${r.campaigns.slice(0,5).map(p=>`- ${p.name} (${p.status}): ${p.candidates_count||0} candidates`).join(`
`)}`:"";s+=`

REAL-TIME CONTEXT:
${f}
${h}

Use this real-time data to answer user questions about their specific campaigns.`}i.length>0&&(a=`

Here is some relevant information found from the web:
${i.map((f,h)=>`[${h+1}] ${f.title}: ${f.content}`).join(`
`)}

Use this information to answer the user's question if relevant. Cite sources using [1], [2] notation.`);const o=[new ls(s+a),...n.map(f=>f.role==="user"?new ba(f.content):f.role==="assistant"?new os(f.content):new ls(f.content)),new ba(e)],l=this.tracer?[this.tracer]:[];return{content:(await this.model.invoke(o,{callbacks:l,metadata:{context:this.context},tags:["admit-connect-ai",this.context]})).content,sources:i}}catch(i){return console.error("ChatService error:",i),{content:"I'm sorry, I encountered an error while processing your request. Please try again later.",sources:[]}}}}function Jge(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Qge=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,eye=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,tye={};function z$(t,e){return(tye.jsx?eye:Qge).test(t)}const nye=/[ \t\n\f\r]/g;function rye(t){return typeof t=="object"?t.type==="text"?U$(t.value):!1:U$(t)}function U$(t){return t.replace(nye,"")===""}class cg{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}cg.prototype.normal={};cg.prototype.property={};cg.prototype.space=void 0;function R8(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new cg(n,r,e)}function uj(t){return t.toLowerCase()}class Mr{constructor(e,n){this.attribute=n,this.property=e}}Mr.prototype.attribute="";Mr.prototype.booleanish=!1;Mr.prototype.boolean=!1;Mr.prototype.commaOrSpaceSeparated=!1;Mr.prototype.commaSeparated=!1;Mr.prototype.defined=!1;Mr.prototype.mustUseProperty=!1;Mr.prototype.number=!1;Mr.prototype.overloadedBoolean=!1;Mr.prototype.property="";Mr.prototype.spaceSeparated=!1;Mr.prototype.space=void 0;let iye=0;const et=Xc(),pn=Xc(),dj=Xc(),ue=Xc(),Ot=Xc(),ld=Xc(),Fr=Xc();function Xc(){return 2**++iye}const fj=Object.freeze(Object.defineProperty({__proto__:null,boolean:et,booleanish:pn,commaOrSpaceSeparated:Fr,commaSeparated:ld,number:ue,overloadedBoolean:dj,spaceSeparated:Ot},Symbol.toStringTag,{value:"Module"})),a1=Object.keys(fj);class kk extends Mr{constructor(e,n,r,i){let a=-1;if(super(e,n),H$(this,"space",i),typeof r=="number")for(;++a<a1.length;){const s=a1[a];H$(this,a1[a],(r&fj[s])===fj[s])}}}kk.prototype.defined=!0;function H$(t,e,n){n&&(t[e]=n)}function $f(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const a=new kk(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[uj(r)]=r,n[uj(a.attribute)]=r}return new cg(e,n,t.space)}const M8=$f({properties:{ariaActiveDescendant:null,ariaAtomic:pn,ariaAutoComplete:null,ariaBusy:pn,ariaChecked:pn,ariaColCount:ue,ariaColIndex:ue,ariaColSpan:ue,ariaControls:Ot,ariaCurrent:null,ariaDescribedBy:Ot,ariaDetails:null,ariaDisabled:pn,ariaDropEffect:Ot,ariaErrorMessage:null,ariaExpanded:pn,ariaFlowTo:Ot,ariaGrabbed:pn,ariaHasPopup:null,ariaHidden:pn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ot,ariaLevel:ue,ariaLive:null,ariaModal:pn,ariaMultiLine:pn,ariaMultiSelectable:pn,ariaOrientation:null,ariaOwns:Ot,ariaPlaceholder:null,ariaPosInSet:ue,ariaPressed:pn,ariaReadOnly:pn,ariaRelevant:null,ariaRequired:pn,ariaRoleDescription:Ot,ariaRowCount:ue,ariaRowIndex:ue,ariaRowSpan:ue,ariaSelected:pn,ariaSetSize:ue,ariaSort:null,ariaValueMax:ue,ariaValueMin:ue,ariaValueNow:ue,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function L8(t,e){return e in t?t[e]:e}function D8(t,e){return L8(t,e.toLowerCase())}const aye=$f({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ld,acceptCharset:Ot,accessKey:Ot,action:null,allow:null,allowFullScreen:et,allowPaymentRequest:et,allowUserMedia:et,alt:null,as:null,async:et,autoCapitalize:null,autoComplete:Ot,autoFocus:et,autoPlay:et,blocking:Ot,capture:null,charSet:null,checked:et,cite:null,className:Ot,cols:ue,colSpan:null,content:null,contentEditable:pn,controls:et,controlsList:Ot,coords:ue|ld,crossOrigin:null,data:null,dateTime:null,decoding:null,default:et,defer:et,dir:null,dirName:null,disabled:et,download:dj,draggable:pn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:et,formTarget:null,headers:Ot,height:ue,hidden:dj,high:ue,href:null,hrefLang:null,htmlFor:Ot,httpEquiv:Ot,id:null,imageSizes:null,imageSrcSet:null,inert:et,inputMode:null,integrity:null,is:null,isMap:et,itemId:null,itemProp:Ot,itemRef:Ot,itemScope:et,itemType:Ot,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:et,low:ue,manifest:null,max:null,maxLength:ue,media:null,method:null,min:null,minLength:ue,multiple:et,muted:et,name:null,nonce:null,noModule:et,noValidate:et,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:et,optimum:ue,pattern:null,ping:Ot,placeholder:null,playsInline:et,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:et,referrerPolicy:null,rel:Ot,required:et,reversed:et,rows:ue,rowSpan:ue,sandbox:Ot,scope:null,scoped:et,seamless:et,selected:et,shadowRootClonable:et,shadowRootDelegatesFocus:et,shadowRootMode:null,shape:null,size:ue,sizes:null,slot:null,span:ue,spellCheck:pn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ue,step:null,style:null,tabIndex:ue,target:null,title:null,translate:null,type:null,typeMustMatch:et,useMap:null,value:pn,width:ue,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ot,axis:null,background:null,bgColor:null,border:ue,borderColor:null,bottomMargin:ue,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:et,declare:et,event:null,face:null,frame:null,frameBorder:null,hSpace:ue,leftMargin:ue,link:null,longDesc:null,lowSrc:null,marginHeight:ue,marginWidth:ue,noResize:et,noHref:et,noShade:et,noWrap:et,object:null,profile:null,prompt:null,rev:null,rightMargin:ue,rules:null,scheme:null,scrolling:pn,standby:null,summary:null,text:null,topMargin:ue,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ue,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:et,disableRemotePlayback:et,prefix:null,property:null,results:ue,security:null,unselectable:null},space:"html",transform:D8}),sye=$f({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Fr,accentHeight:ue,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ue,amplitude:ue,arabicForm:null,ascent:ue,attributeName:null,attributeType:null,azimuth:ue,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ue,by:null,calcMode:null,capHeight:ue,className:Ot,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ue,diffuseConstant:ue,direction:null,display:null,dur:null,divisor:ue,dominantBaseline:null,download:et,dx:null,dy:null,edgeMode:null,editable:null,elevation:ue,enableBackground:null,end:null,event:null,exponent:ue,externalResourcesRequired:null,fill:null,fillOpacity:ue,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ld,g2:ld,glyphName:ld,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ue,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ue,horizOriginX:ue,horizOriginY:ue,id:null,ideographic:ue,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ue,k:ue,k1:ue,k2:ue,k3:ue,k4:ue,kernelMatrix:Fr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ue,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ue,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ue,overlineThickness:ue,paintOrder:null,panose1:null,path:null,pathLength:ue,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ot,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ue,pointsAtY:ue,pointsAtZ:ue,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Fr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Fr,rev:Fr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Fr,requiredFeatures:Fr,requiredFonts:Fr,requiredFormats:Fr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ue,specularExponent:ue,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ue,strikethroughThickness:ue,string:null,stroke:null,strokeDashArray:Fr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ue,strokeOpacity:ue,strokeWidth:null,style:null,surfaceScale:ue,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Fr,tabIndex:ue,tableValues:null,target:null,targetX:ue,targetY:ue,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Fr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ue,underlineThickness:ue,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ue,values:null,vAlphabetic:ue,vMathematical:ue,vectorEffect:null,vHanging:ue,vIdeographic:ue,version:null,vertAdvY:ue,vertOriginX:ue,vertOriginY:ue,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ue,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:L8}),F8=$f({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),B8=$f({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:D8}),z8=$f({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),oye={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},lye=/[A-Z]/g,V$=/-[a-z]/g,cye=/^data[-\w.:]+$/i;function uye(t,e){const n=uj(e);let r=e,i=Mr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&cye.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(V$,fye);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!V$.test(a)){let s=a.replace(lye,dye);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=kk}return new i(r,e)}function dye(t){return"-"+t.toLowerCase()}function fye(t){return t.charAt(1).toUpperCase()}const hye=R8([M8,aye,F8,B8,z8],"html"),Ok=R8([M8,sye,F8,B8,z8],"svg");function pye(t){return t.join(" ").trim()}var Nk={},W$=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,mye=/\n/g,gye=/^\s*/,yye=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,vye=/^:\s*/,xye=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,bye=/^[;\s]*/,wye=/^\s+|\s+$/g,_ye=`
`,q$="/",G$="*",rc="",Sye="comment",Eye="declaration";function jye(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(m){var g=m.match(mye);g&&(n+=g.length);var v=m.lastIndexOf(_ye);r=~v?m.length-v:r+m.length}function a(){var m={line:n,column:r};return function(g){return g.position=new s(m),c(),g}}function s(m){this.start=m,this.end={line:n,column:r},this.source=e.source}s.prototype.content=t;function o(m){var g=new Error(e.source+":"+n+":"+r+": "+m);if(g.reason=m,g.filename=e.source,g.line=n,g.column=r,g.source=t,!e.silent)throw g}function l(m){var g=m.exec(t);if(g){var v=g[0];return i(v),t=t.slice(v.length),g}}function c(){l(gye)}function d(m){var g;for(m=m||[];g=f();)g!==!1&&m.push(g);return m}function f(){var m=a();if(!(q$!=t.charAt(0)||G$!=t.charAt(1))){for(var g=2;rc!=t.charAt(g)&&(G$!=t.charAt(g)||q$!=t.charAt(g+1));)++g;if(g+=2,rc===t.charAt(g-1))return o("End of comment missing");var v=t.slice(2,g-2);return r+=2,i(v),t=t.slice(g),r+=2,m({type:Sye,comment:v})}}function h(){var m=a(),g=l(yye);if(g){if(f(),!l(vye))return o("property missing ':'");var v=l(xye),y=m({type:Eye,property:K$(g[0].replace(W$,rc)),value:v?K$(v[0].replace(W$,rc)):rc});return l(bye),y}}function p(){var m=[];d(m);for(var g;g=h();)g!==!1&&(m.push(g),d(m));return m}return c(),p()}function K$(t){return t?t.replace(wye,rc):rc}var Aye=jye,Cye=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nk,"__esModule",{value:!0});Nk.default=kye;const Tye=Cye(Aye);function kye(t,e){let n=null;if(!t||typeof t!="string")return n;const r=(0,Tye.default)(t),i=typeof e=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?e(s,o,a):o&&(n=n||{},n[s]=o)}),n}var Ab={};Object.defineProperty(Ab,"__esModule",{value:!0});Ab.camelCase=void 0;var Oye=/^--[a-zA-Z0-9_-]+$/,Nye=/-([a-z])/g,Pye=/^[^-]+$/,Iye=/^-(webkit|moz|ms|o|khtml)-/,$ye=/^-(ms)-/,Rye=function(t){return!t||Pye.test(t)||Oye.test(t)},Mye=function(t,e){return e.toUpperCase()},Y$=function(t,e){return"".concat(e,"-")},Lye=function(t,e){return e===void 0&&(e={}),Rye(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace($ye,Y$):t=t.replace(Iye,Y$),t.replace(Nye,Mye))};Ab.camelCase=Lye;var Dye=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Fye=Dye(Nk),Bye=Ab;function hj(t,e){var n={};return!t||typeof t!="string"||(0,Fye.default)(t,function(r,i){r&&i&&(n[(0,Bye.camelCase)(r,e)]=i)}),n}hj.default=hj;var zye=hj;const Uye=at(zye),U8=H8("end"),Pk=H8("start");function H8(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Hye(t){const e=Pk(t),n=U8(t);if(e&&n)return{start:e,end:n}}function ip(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?X$(t.position):"start"in t||"end"in t?X$(t):"line"in t||"column"in t?pj(t):""}function pj(t){return Z$(t&&t.line)+":"+Z$(t&&t.column)}function X$(t){return pj(t&&t.start)+"-"+pj(t&&t.end)}function Z$(t){return t&&typeof t=="number"?t:1}class tr extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(s=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=ip(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}tr.prototype.file="";tr.prototype.name="";tr.prototype.reason="";tr.prototype.message="";tr.prototype.stack="";tr.prototype.column=void 0;tr.prototype.line=void 0;tr.prototype.ancestors=void 0;tr.prototype.cause=void 0;tr.prototype.fatal=void 0;tr.prototype.place=void 0;tr.prototype.ruleId=void 0;tr.prototype.source=void 0;const Ik={}.hasOwnProperty,Vye=new Map,Wye=/[A-Z]/g,qye=new Set(["table","tbody","thead","tfoot","tr"]),Gye=new Set(["td","th"]),V8="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Kye(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=nve(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=tve(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Ok:hye,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=W8(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function W8(t,e,n){if(e.type==="element")return Yye(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Xye(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Jye(t,e,n);if(e.type==="mdxjsEsm")return Zye(t,e);if(e.type==="root")return Qye(t,e,n);if(e.type==="text")return eve(t,e)}function Yye(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Ok,t.schema=i),t.ancestors.push(e);const a=G8(t,e.tagName,!1),s=rve(t,e);let o=Rk(t,e);return qye.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!rye(l):!0})),q8(t,s,a,e),$k(s,o),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function Xye(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Zp(t,e.position)}function Zye(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Zp(t,e.position)}function Jye(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=Ok,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:G8(t,e.name,!0),s=ive(t,e),o=Rk(t,e);return q8(t,s,a,e),$k(s,o),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function Qye(t,e,n){const r={};return $k(r,Rk(t,e)),t.create(e,t.Fragment,r,n)}function eve(t,e){return e.value}function q8(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function $k(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function tve(t,e,n){return r;function r(i,a,s,o){const c=Array.isArray(s.children)?n:e;return o?c(a,s,o):c(a,s)}}function nve(t,e){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=Pk(r);return e(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function rve(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&Ik.call(e.properties,i)){const a=ave(t,i,e.properties[i]);if(a){const[s,o]=a;t.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&Gye.has(e.tagName)?r=o:n[s]=o}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function ive(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,t.evaluater.evaluateExpression(o.argument))}else Zp(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const o=r.value.data.estree.body[0];o.type,a=t.evaluater.evaluateExpression(o.expression)}else Zp(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function Rk(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:Vye;for(;++r<e.children.length;){const a=e.children[r];let s;if(t.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;s=l+"-"+c,i.set(l,c+1)}}const o=W8(t,a,s);o!==void 0&&n.push(o)}return n}function ave(t,e,n){const r=uye(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Jge(n):pye(n)),r.property==="style"){let i=typeof n=="object"?n:sve(t,String(n));return t.stylePropertyNameCase==="css"&&(i=ove(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?oye[r.property]||r.property:r.attribute,n]}}function sve(t,e){try{return Uye(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new tr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=V8+"#cannot-parse-style-attribute",i}}function G8(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,s;for(;++a<i.length;){const o=z$(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}r=s}else r=z$(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return Ik.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Zp(t)}function Zp(t,e){const n=new tr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=V8+"#cannot-handle-mdx-estrees-without-createevaluater",n}function ove(t){const e={};let n;for(n in t)Ik.call(t,n)&&(e[lve(n)]=t[n]);return e}function lve(t){let e=t.replace(Wye,cve);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function cve(t){return"-"+t.toLowerCase()}const s1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},uve={};function dve(t,e){const n=uve,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return K8(t,r,i)}function K8(t,e,n){if(fve(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return J$(t.children,e,n)}return Array.isArray(t)?J$(t,e,n):""}function J$(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=K8(t[i],e,n);return r.join("")}function fve(t){return!!(t&&typeof t=="object")}const Q$=document.createElement("i");function Mk(t){const e="&"+t+";";Q$.innerHTML=e;const n=Q$.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function us(t,e,n,r){const i=t.length;let a=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(e,0),t.splice(...s),a+=1e4,e+=1e4}function Ei(t,e){return t.length>0?(us(t,t.length,0,e),t):e}const eR={}.hasOwnProperty;function hve(t){const e={};let n=-1;for(;++n<t.length;)pve(e,t[n]);return e}function pve(t,e){let n;for(n in e){const i=(eR.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let s;if(a)for(s in a){eR.call(i,s)||(i[s]=[]);const o=a[s];mve(i[s],Array.isArray(o)?o:o?[o]:[])}}}function mve(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);us(t,0,0,r)}function Y8(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function cd(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Wa=Il(/[A-Za-z]/),Xr=Il(/[\dA-Za-z]/),gve=Il(/[#-'*+\--9=?A-Z^-~]/);function mj(t){return t!==null&&(t<32||t===127)}const gj=Il(/\d/),yve=Il(/[\dA-Fa-f]/),vve=Il(/[!-/:-@[-`{-~]/);function He(t){return t!==null&&t<-2}function Ir(t){return t!==null&&(t<0||t===32)}function yt(t){return t===-2||t===-1||t===32}const xve=Il(new RegExp("\\p{P}|\\p{S}","u")),bve=Il(/\s/);function Il(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Rf(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let s="";if(a===37&&Xr(t.charCodeAt(n+1))&&Xr(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=t.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function $t(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return yt(l)?(t.enter(n),o(l)):e(l)}function o(l){return yt(l)&&a++<i?(t.consume(l),o):(t.exit(n),e(l))}}const wve={tokenize:_ve};function _ve(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),$t(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),a(o)}function a(o){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return He(o)?(t.consume(o),t.exit("chunkText"),a):(t.consume(o),s)}}const Sve={tokenize:Eve},tR={tokenize:jve};function Eve(t){const e=this,n=[];let r=0,i,a,s;return o;function o(x){if(r<n.length){const w=n[r];return e.containerState=w[1],t.attempt(w[0].continuation,l,c)(x)}return c(x)}function l(x){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&b();const w=e.events.length;let S=w,E;for(;S--;)if(e.events[S][0]==="exit"&&e.events[S][1].type==="chunkFlow"){E=e.events[S][1].end;break}y(r);let A=w;for(;A<e.events.length;)e.events[A][1].end={...E},A++;return us(e.events,S+1,0,e.events.slice(w)),e.events.length=A,c(x)}return o(x)}function c(x){if(r===n.length){if(!i)return h(x);if(i.currentConstruct&&i.currentConstruct.concrete)return m(x);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(tR,d,f)(x)}function d(x){return i&&b(),y(r),h(x)}function f(x){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,m(x)}function h(x){return e.containerState={},t.attempt(tR,p,m)(x)}function p(x){return r++,n.push([e.currentConstruct,e.containerState]),h(x)}function m(x){if(x===null){i&&b(),y(0),t.consume(x);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(x)}function g(x){if(x===null){v(t.exit("chunkFlow"),!0),y(0),t.consume(x);return}return He(x)?(t.consume(x),v(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(x),g)}function v(x,w){const S=e.sliceStream(x);if(w&&S.push(null),x.previous=a,a&&(a.next=x),a=x,i.defineSkip(x.start),i.write(S),e.parser.lazy[x.start.line]){let E=i.events.length;for(;E--;)if(i.events[E][1].start.offset<s&&(!i.events[E][1].end||i.events[E][1].end.offset>s))return;const A=e.events.length;let j=A,C,T;for(;j--;)if(e.events[j][0]==="exit"&&e.events[j][1].type==="chunkFlow"){if(C){T=e.events[j][1].end;break}C=!0}for(y(r),E=A;E<e.events.length;)e.events[E][1].end={...T},E++;us(e.events,j+1,0,e.events.slice(A)),e.events.length=E}}function y(x){let w=n.length;for(;w-- >x;){const S=n[w];e.containerState=S[1],S[0].exit.call(e,t)}n.length=x}function b(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function jve(t,e,n){return $t(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function nR(t){if(t===null||Ir(t)||bve(t))return 1;if(xve(t))return 2}function Lk(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const yj={name:"attention",resolveAll:Ave,tokenize:Cve};function Ave(t,e){let n=-1,r,i,a,s,o,l,c,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[r][1].end},h={...t[n][1].start};rR(f,-l),rR(h,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...t[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},t[r][1].end={...s.start},t[n][1].start={...o.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=Ei(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=Ei(c,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",a,e]]),c=Ei(c,Lk(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=Ei(c,[["exit",a,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,c=Ei(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):d=0,us(t,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Cve(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=nR(r);let a;return s;function s(l){return a=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===a)return t.consume(l),o;const c=t.exit("attentionSequence"),d=nR(l),f=!d||d===2&&i||n.includes(l),h=!i||i===2&&d||n.includes(r);return c._open=!!(a===42?f:f&&(i||!h)),c._close=!!(a===42?h:h&&(d||!f)),e(l)}}function rR(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Tve={name:"autolink",tokenize:kve};function kve(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(p){return Wa(p)?(t.consume(p),s):p===64?n(p):c(p)}function s(p){return p===43||p===45||p===46||Xr(p)?(r=1,o(p)):c(p)}function o(p){return p===58?(t.consume(p),r=0,l):(p===43||p===45||p===46||Xr(p))&&r++<32?(t.consume(p),o):(r=0,c(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||mj(p)?n(p):(t.consume(p),l)}function c(p){return p===64?(t.consume(p),d):gve(p)?(t.consume(p),c):n(p)}function d(p){return Xr(p)?f(p):n(p)}function f(p){return p===46?(t.consume(p),r=0,d):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):h(p)}function h(p){if((p===45||Xr(p))&&r++<63){const m=p===45?h:f;return t.consume(p),m}return n(p)}}const Cb={partial:!0,tokenize:Ove};function Ove(t,e,n){return r;function r(a){return yt(a)?$t(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||He(a)?e(a):n(a)}}const X8={continuation:{tokenize:Pve},exit:Ive,name:"blockQuote",tokenize:Nve};function Nve(t,e,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),a}return n(s)}function a(s){return yt(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function Pve(t,e,n){const r=this;return i;function i(s){return yt(s)?$t(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return t.attempt(X8,e,n)(s)}}function Ive(t){t.exit("blockQuote")}const Z8={name:"characterEscape",tokenize:$ve};function $ve(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return vve(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const J8={name:"characterReference",tokenize:Rve};function Rve(t,e,n){const r=this;let i=0,a,s;return o;function o(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),l}function l(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),a=31,s=Xr,d(f))}function c(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,s=yve,d):(t.enter("characterReferenceValue"),a=7,s=gj,d(f))}function d(f){if(f===59&&i){const h=t.exit("characterReferenceValue");return s===Xr&&!Mk(r.sliceSerialize(h))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(f)&&i++<a?(t.consume(f),d):n(f)}}const iR={partial:!0,tokenize:Lve},aR={concrete:!0,name:"codeFenced",tokenize:Mve};function Mve(t,e,n){const r=this,i={partial:!0,tokenize:S};let a=0,s=0,o;return l;function l(E){return c(E)}function c(E){const A=r.events[r.events.length-1];return a=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,o=E,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(E)}function d(E){return E===o?(s++,t.consume(E),d):s<3?n(E):(t.exit("codeFencedFenceSequence"),yt(E)?$t(t,f,"whitespace")(E):f(E))}function f(E){return E===null||He(E)?(t.exit("codeFencedFence"),r.interrupt?e(E):t.check(iR,g,w)(E)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(E))}function h(E){return E===null||He(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(E)):yt(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),$t(t,p,"whitespace")(E)):E===96&&E===o?n(E):(t.consume(E),h)}function p(E){return E===null||He(E)?f(E):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),m(E))}function m(E){return E===null||He(E)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(E)):E===96&&E===o?n(E):(t.consume(E),m)}function g(E){return t.attempt(i,w,v)(E)}function v(E){return t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),y}function y(E){return a>0&&yt(E)?$t(t,b,"linePrefix",a+1)(E):b(E)}function b(E){return E===null||He(E)?t.check(iR,g,w)(E):(t.enter("codeFlowValue"),x(E))}function x(E){return E===null||He(E)?(t.exit("codeFlowValue"),b(E)):(t.consume(E),x)}function w(E){return t.exit("codeFenced"),e(E)}function S(E,A,j){let C=0;return T;function T(D){return E.enter("lineEnding"),E.consume(D),E.exit("lineEnding"),k}function k(D){return E.enter("codeFencedFence"),yt(D)?$t(E,N,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):N(D)}function N(D){return D===o?(E.enter("codeFencedFenceSequence"),H(D)):j(D)}function H(D){return D===o?(C++,E.consume(D),H):C>=s?(E.exit("codeFencedFenceSequence"),yt(D)?$t(E,R,"whitespace")(D):R(D)):j(D)}function R(D){return D===null||He(D)?(E.exit("codeFencedFence"),A(D)):j(D)}}}function Lve(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const o1={name:"codeIndented",tokenize:Fve},Dve={partial:!0,tokenize:Bve};function Fve(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),$t(t,a,"linePrefix",5)(c)}function a(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?l(c):He(c)?t.attempt(Dve,s,l)(c):(t.enter("codeFlowValue"),o(c))}function o(c){return c===null||He(c)?(t.exit("codeFlowValue"),s(c)):(t.consume(c),o)}function l(c){return t.exit("codeIndented"),e(c)}}function Bve(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):He(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):$t(t,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):He(s)?i(s):n(s)}}const zve={name:"codeText",previous:Hve,resolve:Uve,tokenize:Vve};function Uve(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function Hve(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Vve(t,e,n){let r=0,i,a;return s;function s(f){return t.enter("codeText"),t.enter("codeTextSequence"),o(f)}function o(f){return f===96?(t.consume(f),r++,o):(t.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),l):f===96?(a=t.enter("codeTextSequence"),i=0,d(f)):He(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||He(f)?(t.exit("codeTextData"),l(f)):(t.consume(f),c)}function d(f){return f===96?(t.consume(f),i++,d):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(a.type="codeTextData",c(f))}}class Wve{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&fh(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),fh(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),fh(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);fh(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);fh(this.left,n.reverse())}}}function fh(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function Q8(t){const e={};let n=-1,r,i,a,s,o,l,c;const d=new Wve(t);for(;++n<d.length;){for(;n in e;)n=e[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,qve(d,n)),n=e[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=d.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return us(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function qve(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],c={};let d,f,h=-1,p=n,m=0,g=0;const v=[g];for(;p;){for(;t.get(++i)[1]!==p;);a.push(i),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),f&&s.defineSkip(p.start),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(g=h+1,v.push(g),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(s.events=[],p?(p._tokenizer=void 0,p.previous=void 0):v.pop(),h=v.length;h--;){const y=o.slice(v[h],v[h+1]),b=a.pop();l.push([b,b+y.length-1]),t.splice(b,2,y)}for(l.reverse(),h=-1;++h<l.length;)c[m+l[h][0]]=m+l[h][1],m+=l[h][1]-l[h][0]-1;return c}const Gve={resolve:Yve,tokenize:Xve},Kve={partial:!0,tokenize:Zve};function Yve(t){return Q8(t),t}function Xve(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):He(o)?t.check(Kve,s,a)(o):(t.consume(o),i)}function a(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function s(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Zve(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),$t(t,a,"linePrefix")}function a(s){if(s===null||He(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function e9(t,e,n,r,i,a,s,o,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(y){return y===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(y),t.exit(a),h):y===null||y===32||y===41||mj(y)?n(y):(t.enter(r),t.enter(s),t.enter(o),t.enter("chunkString",{contentType:"string"}),g(y))}function h(y){return y===62?(t.enter(a),t.consume(y),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===62?(t.exit("chunkString"),t.exit(o),h(y)):y===null||y===60||He(y)?n(y):(t.consume(y),y===92?m:p)}function m(y){return y===60||y===62||y===92?(t.consume(y),p):p(y)}function g(y){return!d&&(y===null||y===41||Ir(y))?(t.exit("chunkString"),t.exit(o),t.exit(s),t.exit(r),e(y)):d<c&&y===40?(t.consume(y),d++,g):y===41?(t.consume(y),d--,g):y===null||y===32||y===40||mj(y)?n(y):(t.consume(y),y===92?v:g)}function v(y){return y===40||y===41||y===92?(t.consume(y),g):g(y)}}function t9(t,e,n,r,i,a){const s=this;let o=0,l;return c;function c(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(a),d}function d(p){return o>999||p===null||p===91||p===93&&!l||p===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(p):p===93?(t.exit(a),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):He(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||He(p)||o++>999?(t.exit("chunkString"),d(p)):(t.consume(p),l||(l=!yt(p)),p===92?h:f)}function h(p){return p===91||p===92||p===93?(t.consume(p),o++,f):f(p)}}function n9(t,e,n,r,i,a){let s;return o;function o(h){return h===34||h===39||h===40?(t.enter(r),t.enter(i),t.consume(h),t.exit(i),s=h===40?41:h,l):n(h)}function l(h){return h===s?(t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):(t.enter(a),c(h))}function c(h){return h===s?(t.exit(a),l(s)):h===null?n(h):He(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),$t(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===s||h===null||He(h)?(t.exit("chunkString"),c(h)):(t.consume(h),h===92?f:d)}function f(h){return h===s||h===92?(t.consume(h),d):d(h)}}function ap(t,e){let n;return r;function r(i){return He(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):yt(i)?$t(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const Jve={name:"definition",tokenize:e0e},Qve={partial:!0,tokenize:t0e};function e0e(t,e,n){const r=this;let i;return a;function a(p){return t.enter("definition"),s(p)}function s(p){return t9.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return i=cd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):n(p)}function l(p){return Ir(p)?ap(t,c)(p):c(p)}function c(p){return e9(t,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return t.attempt(Qve,f,f)(p)}function f(p){return yt(p)?$t(t,h,"whitespace")(p):h(p)}function h(p){return p===null||He(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function t0e(t,e,n){return r;function r(o){return Ir(o)?ap(t,i)(o):n(o)}function i(o){return n9(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return yt(o)?$t(t,s,"whitespace")(o):s(o)}function s(o){return o===null||He(o)?e(o):n(o)}}const n0e={name:"hardBreakEscape",tokenize:r0e};function r0e(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return He(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const i0e={name:"headingAtx",resolve:a0e,tokenize:s0e};function a0e(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},us(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function s0e(t,e,n){let r=0;return i;function i(d){return t.enter("atxHeading"),a(d)}function a(d){return t.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&r++<6?(t.consume(d),s):d===null||Ir(d)?(t.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(t.enter("atxHeadingSequence"),l(d)):d===null||He(d)?(t.exit("atxHeading"),e(d)):yt(d)?$t(t,o,"whitespace")(d):(t.enter("atxHeadingText"),c(d))}function l(d){return d===35?(t.consume(d),l):(t.exit("atxHeadingSequence"),o(d))}function c(d){return d===null||d===35||Ir(d)?(t.exit("atxHeadingText"),o(d)):(t.consume(d),c)}}const o0e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],sR=["pre","script","style","textarea"],l0e={concrete:!0,name:"htmlFlow",resolveTo:d0e,tokenize:f0e},c0e={partial:!0,tokenize:p0e},u0e={partial:!0,tokenize:h0e};function d0e(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function f0e(t,e,n){const r=this;let i,a,s,o,l;return c;function c($){return d($)}function d($){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume($),f}function f($){return $===33?(t.consume($),h):$===47?(t.consume($),a=!0,g):$===63?(t.consume($),i=3,r.interrupt?e:P):Wa($)?(t.consume($),s=String.fromCharCode($),v):n($)}function h($){return $===45?(t.consume($),i=2,p):$===91?(t.consume($),i=5,o=0,m):Wa($)?(t.consume($),i=4,r.interrupt?e:P):n($)}function p($){return $===45?(t.consume($),r.interrupt?e:P):n($)}function m($){const te="CDATA[";return $===te.charCodeAt(o++)?(t.consume($),o===te.length?r.interrupt?e:N:m):n($)}function g($){return Wa($)?(t.consume($),s=String.fromCharCode($),v):n($)}function v($){if($===null||$===47||$===62||Ir($)){const te=$===47,ie=s.toLowerCase();return!te&&!a&&sR.includes(ie)?(i=1,r.interrupt?e($):N($)):o0e.includes(s.toLowerCase())?(i=6,te?(t.consume($),y):r.interrupt?e($):N($)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n($):a?b($):x($))}return $===45||Xr($)?(t.consume($),s+=String.fromCharCode($),v):n($)}function y($){return $===62?(t.consume($),r.interrupt?e:N):n($)}function b($){return yt($)?(t.consume($),b):T($)}function x($){return $===47?(t.consume($),T):$===58||$===95||Wa($)?(t.consume($),w):yt($)?(t.consume($),x):T($)}function w($){return $===45||$===46||$===58||$===95||Xr($)?(t.consume($),w):S($)}function S($){return $===61?(t.consume($),E):yt($)?(t.consume($),S):x($)}function E($){return $===null||$===60||$===61||$===62||$===96?n($):$===34||$===39?(t.consume($),l=$,A):yt($)?(t.consume($),E):j($)}function A($){return $===l?(t.consume($),l=null,C):$===null||He($)?n($):(t.consume($),A)}function j($){return $===null||$===34||$===39||$===47||$===60||$===61||$===62||$===96||Ir($)?S($):(t.consume($),j)}function C($){return $===47||$===62||yt($)?x($):n($)}function T($){return $===62?(t.consume($),k):n($)}function k($){return $===null||He($)?N($):yt($)?(t.consume($),k):n($)}function N($){return $===45&&i===2?(t.consume($),z):$===60&&i===1?(t.consume($),V):$===62&&i===4?(t.consume($),W):$===63&&i===3?(t.consume($),P):$===93&&i===5?(t.consume($),L):He($)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(c0e,G,H)($)):$===null||He($)?(t.exit("htmlFlowData"),H($)):(t.consume($),N)}function H($){return t.check(u0e,R,G)($)}function R($){return t.enter("lineEnding"),t.consume($),t.exit("lineEnding"),D}function D($){return $===null||He($)?H($):(t.enter("htmlFlowData"),N($))}function z($){return $===45?(t.consume($),P):N($)}function V($){return $===47?(t.consume($),s="",M):N($)}function M($){if($===62){const te=s.toLowerCase();return sR.includes(te)?(t.consume($),W):N($)}return Wa($)&&s.length<8?(t.consume($),s+=String.fromCharCode($),M):N($)}function L($){return $===93?(t.consume($),P):N($)}function P($){return $===62?(t.consume($),W):$===45&&i===2?(t.consume($),P):N($)}function W($){return $===null||He($)?(t.exit("htmlFlowData"),G($)):(t.consume($),W)}function G($){return t.exit("htmlFlow"),e($)}}function h0e(t,e,n){const r=this;return i;function i(s){return He(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function p0e(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Cb,e,n)}}const m0e={name:"htmlText",tokenize:g0e};function g0e(t,e,n){const r=this;let i,a,s;return o;function o(P){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(P),l}function l(P){return P===33?(t.consume(P),c):P===47?(t.consume(P),S):P===63?(t.consume(P),x):Wa(P)?(t.consume(P),j):n(P)}function c(P){return P===45?(t.consume(P),d):P===91?(t.consume(P),a=0,m):Wa(P)?(t.consume(P),b):n(P)}function d(P){return P===45?(t.consume(P),p):n(P)}function f(P){return P===null?n(P):P===45?(t.consume(P),h):He(P)?(s=f,V(P)):(t.consume(P),f)}function h(P){return P===45?(t.consume(P),p):f(P)}function p(P){return P===62?z(P):P===45?h(P):f(P)}function m(P){const W="CDATA[";return P===W.charCodeAt(a++)?(t.consume(P),a===W.length?g:m):n(P)}function g(P){return P===null?n(P):P===93?(t.consume(P),v):He(P)?(s=g,V(P)):(t.consume(P),g)}function v(P){return P===93?(t.consume(P),y):g(P)}function y(P){return P===62?z(P):P===93?(t.consume(P),y):g(P)}function b(P){return P===null||P===62?z(P):He(P)?(s=b,V(P)):(t.consume(P),b)}function x(P){return P===null?n(P):P===63?(t.consume(P),w):He(P)?(s=x,V(P)):(t.consume(P),x)}function w(P){return P===62?z(P):x(P)}function S(P){return Wa(P)?(t.consume(P),E):n(P)}function E(P){return P===45||Xr(P)?(t.consume(P),E):A(P)}function A(P){return He(P)?(s=A,V(P)):yt(P)?(t.consume(P),A):z(P)}function j(P){return P===45||Xr(P)?(t.consume(P),j):P===47||P===62||Ir(P)?C(P):n(P)}function C(P){return P===47?(t.consume(P),z):P===58||P===95||Wa(P)?(t.consume(P),T):He(P)?(s=C,V(P)):yt(P)?(t.consume(P),C):z(P)}function T(P){return P===45||P===46||P===58||P===95||Xr(P)?(t.consume(P),T):k(P)}function k(P){return P===61?(t.consume(P),N):He(P)?(s=k,V(P)):yt(P)?(t.consume(P),k):C(P)}function N(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(t.consume(P),i=P,H):He(P)?(s=N,V(P)):yt(P)?(t.consume(P),N):(t.consume(P),R)}function H(P){return P===i?(t.consume(P),i=void 0,D):P===null?n(P):He(P)?(s=H,V(P)):(t.consume(P),H)}function R(P){return P===null||P===34||P===39||P===60||P===61||P===96?n(P):P===47||P===62||Ir(P)?C(P):(t.consume(P),R)}function D(P){return P===47||P===62||Ir(P)?C(P):n(P)}function z(P){return P===62?(t.consume(P),t.exit("htmlTextData"),t.exit("htmlText"),e):n(P)}function V(P){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(P),t.exit("lineEnding"),M}function M(P){return yt(P)?$t(t,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):L(P)}function L(P){return t.enter("htmlTextData"),s(P)}}const Dk={name:"labelEnd",resolveAll:b0e,resolveTo:w0e,tokenize:_0e},y0e={tokenize:S0e},v0e={tokenize:E0e},x0e={tokenize:j0e};function b0e(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&us(t,0,t.length,n),t}function w0e(t,e){let n=t.length,r=0,i,a,s,o;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[a][1].start},end:{...t[s][1].end}},d={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[s-2][1].start}};return o=[["enter",l,e],["enter",c,e]],o=Ei(o,t.slice(a+1,a+r+3)),o=Ei(o,[["enter",d,e]]),o=Ei(o,Lk(e.parser.constructs.insideSpan.null,t.slice(a+r+4,s-3),e)),o=Ei(o,[["exit",d,e],t[s-2],t[s-1],["exit",c,e]]),o=Ei(o,t.slice(s+1)),o=Ei(o,[["exit",l,e]]),us(t,a,t.length,o),t}function _0e(t,e,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(h){return a?a._inactive?f(h):(s=r.parser.defined.includes(cd(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),l):n(h)}function l(h){return h===40?t.attempt(y0e,d,s?d:f)(h):h===91?t.attempt(v0e,d,s?c:f)(h):s?d(h):f(h)}function c(h){return t.attempt(x0e,d,f)(h)}function d(h){return e(h)}function f(h){return a._balanced=!0,n(h)}}function S0e(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),i}function i(f){return Ir(f)?ap(t,a)(f):a(f)}function a(f){return f===41?d(f):e9(t,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Ir(f)?ap(t,l)(f):d(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?n9(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return Ir(f)?ap(t,d)(f):d(f)}function d(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function E0e(t,e,n){const r=this;return i;function i(o){return t9.call(r,t,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(cd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function s(o){return n(o)}}function j0e(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const A0e={name:"labelStartImage",resolveAll:Dk.resolveAll,tokenize:C0e};function C0e(t,e,n){const r=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),a}function a(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const T0e={name:"labelStartLink",resolveAll:Dk.resolveAll,tokenize:k0e};function k0e(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const l1={name:"lineEnding",tokenize:O0e};function O0e(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),$t(t,e,"linePrefix")}}const nv={name:"thematicBreak",tokenize:N0e};function N0e(t,e,n){let r=0,i;return a;function a(c){return t.enter("thematicBreak"),s(c)}function s(c){return i=c,o(c)}function o(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||He(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),yt(c)?$t(t,o,"whitespace")(c):o(c))}}const wr={continuation:{tokenize:R0e},exit:L0e,name:"list",tokenize:$0e},P0e={partial:!0,tokenize:D0e},I0e={partial:!0,tokenize:M0e};function $0e(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(p){const m=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:gj(p)){if(r.containerState.type||(r.containerState.type=m,t.enter(m,{_container:!0})),m==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(nv,n,c)(p):c(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return n(p)}function l(p){return gj(p)&&++s<10?(t.consume(p),l):(!r.interrupt||s<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),c(p)):n(p)}function c(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(Cb,r.interrupt?n:d,t.attempt(P0e,h,f))}function d(p){return r.containerState.initialBlankLine=!0,a++,h(p)}function f(p){return yt(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function R0e(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Cb,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,$t(t,e,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!yt(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(I0e,e,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,$t(t,t.attempt(wr,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function M0e(t,e,n){const r=this;return $t(t,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(a):n(a)}}function L0e(t){t.exit(this.containerState.type)}function D0e(t,e,n){const r=this;return $t(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!yt(a)&&s&&s[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const oR={name:"setextUnderline",resolveTo:F0e,tokenize:B0e};function F0e(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",s,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=s,t.push(["exit",s,e]),t}function B0e(t,e,n){const r=this;let i;return a;function a(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),i=c,s(c)):n(c)}function s(c){return t.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(t.consume(c),o):(t.exit("setextHeadingLineSequence"),yt(c)?$t(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||He(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const z0e={tokenize:U0e};function U0e(t){const e=this,n=t.attempt(Cb,r,t.attempt(this.parser.constructs.flowInitial,i,$t(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Gve,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const H0e={resolveAll:i9()},V0e=r9("string"),W0e=r9("text");function r9(t){return{resolveAll:i9(t==="text"?q0e:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,s,o);return s;function s(d){return c(d)?a(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),a(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const p=f[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function i9(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function q0e(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(c===-2)l=!0,o++;else if(c!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(o=0),o){const c={type:n===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const G0e={42:wr,43:wr,45:wr,48:wr,49:wr,50:wr,51:wr,52:wr,53:wr,54:wr,55:wr,56:wr,57:wr,62:X8},K0e={91:Jve},Y0e={[-2]:o1,[-1]:o1,32:o1},X0e={35:i0e,42:nv,45:[oR,nv],60:l0e,61:oR,95:nv,96:aR,126:aR},Z0e={38:J8,92:Z8},J0e={[-5]:l1,[-4]:l1,[-3]:l1,33:A0e,38:J8,42:yj,60:[Tve,m0e],91:T0e,92:[n0e,Z8],93:Dk,95:yj,96:zve},Q0e={null:[yj,H0e]},exe={null:[42,95]},txe={null:[]},nxe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:exe,contentInitial:K0e,disable:txe,document:G0e,flow:X0e,flowInitial:Y0e,insideSpan:Q0e,string:Z0e,text:J0e},Symbol.toStringTag,{value:"Module"}));function rxe(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:A(S),check:A(E),consume:b,enter:x,exit:w,interrupt:A(E,{interrupt:!0})},c={code:null,containerState:{},defineSkip:g,events:[],now:m,parser:t,previous:null,sliceSerialize:h,sliceStream:p,write:f};let d=e.tokenize.call(c,l);return e.resolveAll&&a.push(e),c;function f(k){return s=Ei(s,k),v(),s[s.length-1]!==null?[]:(j(e,0),c.events=Lk(a,c.events,c),c.events)}function h(k,N){return axe(p(k),N)}function p(k){return ixe(s,k)}function m(){const{_bufferIndex:k,_index:N,line:H,column:R,offset:D}=r;return{_bufferIndex:k,_index:N,line:H,column:R,offset:D}}function g(k){i[k.line]=k.column,T()}function v(){let k;for(;r._index<s.length;){const N=s[r._index];if(typeof N=="string")for(k=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===k&&r._bufferIndex<N.length;)y(N.charCodeAt(r._bufferIndex));else y(N)}}function y(k){d=d(k)}function b(k){He(k)?(r.line++,r.column=1,r.offset+=k===-3?2:1,T()):k!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=k}function x(k,N){const H=N||{};return H.type=k,H.start=m(),c.events.push(["enter",H,c]),o.push(H),H}function w(k){const N=o.pop();return N.end=m(),c.events.push(["exit",N,c]),N}function S(k,N){j(k,N.from)}function E(k,N){N.restore()}function A(k,N){return H;function H(R,D,z){let V,M,L,P;return Array.isArray(R)?G(R):"tokenize"in R?G([R]):W(R);function W(I){return O;function O(K){const B=K!==null&&I[K],Z=K!==null&&I.null,J=[...Array.isArray(B)?B:B?[B]:[],...Array.isArray(Z)?Z:Z?[Z]:[]];return G(J)(K)}}function G(I){return V=I,M=0,I.length===0?z:$(I[M])}function $(I){return O;function O(K){return P=C(),L=I,I.partial||(c.currentConstruct=I),I.name&&c.parser.constructs.disable.null.includes(I.name)?ie():I.tokenize.call(N?Object.assign(Object.create(c),N):c,l,te,ie)(K)}}function te(I){return k(L,P),D}function ie(I){return P.restore(),++M<V.length?$(V[M]):z}}}function j(k,N){k.resolveAll&&!a.includes(k)&&a.push(k),k.resolve&&us(c.events,N,c.events.length-N,k.resolve(c.events.slice(N),c)),k.resolveTo&&(c.events=k.resolveTo(c.events,c))}function C(){const k=m(),N=c.previous,H=c.currentConstruct,R=c.events.length,D=Array.from(o);return{from:R,restore:z};function z(){r=k,c.previous=N,c.currentConstruct=H,c.events.length=R,o=D,T()}}function T(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function ixe(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,a)];else{if(s=t.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(t[i].slice(0,a))}return s}function axe(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function sxe(t){const r={constructs:hve([nxe,...(t||{}).extensions||[]]),content:i(wve),defined:[],document:i(Sve),flow:i(z0e),lazy:{},string:i(V0e),text:i(W0e)};return r;function i(a){return s;function s(o){return rxe(r,a,o)}}}function oxe(t){for(;!Q8(t););return t}const lR=/[\0\t\n\r]/g;function lxe(){let t=1,e="",n=!0,r;return i;function i(a,s,o){const l=[];let c,d,f,h,p;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,e="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(lR.lastIndex=f,c=lR.exec(a),h=c&&c.index!==void 0?c.index:a.length,p=a.charCodeAt(h),!c){e=a.slice(f);break}if(p===10&&f===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<h&&(l.push(a.slice(f,h)),t+=h-f),p){case 0:{l.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,l.push(-2);t++<d;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}f=h+1}return o&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const cxe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function uxe(t){return t.replace(cxe,dxe)}function dxe(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return Y8(n.slice(a?2:1),a?16:10)}return Mk(n)||t}const a9={}.hasOwnProperty;function fxe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),hxe(n)(oxe(sxe(n).document().write(lxe()(t,e,!0))))}function hxe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Re),autolinkProtocol:C,autolinkEmail:C,atxHeading:a(ve),blockQuote:a(Z),characterEscape:C,characterReference:C,codeFenced:a(J),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(J,s),codeText:a(Y,s),codeTextData:C,data:C,codeFlowValue:C,definition:a(me),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(le),hardBreakEscape:a(oe),hardBreakTrailing:a(oe),htmlFlow:a(ze,s),htmlFlowData:C,htmlText:a(ze,s),htmlTextData:C,image:a(Ce),label:s,link:a(Re),listItem:a(Ct),listItemValue:h,listOrdered:a(ae,f),listUnordered:a(ae),paragraph:a(we),reference:$,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(ve),strong:a(ye),thematicBreak:a(ge)},exit:{atxHeading:l(),atxHeadingSequence:S,autolink:l(),autolinkEmail:B,autolinkProtocol:K,blockQuote:l(),characterEscapeValue:T,characterReferenceMarkerHexadecimal:ie,characterReferenceMarkerNumeric:ie,characterReferenceValue:I,characterReference:O,codeFenced:l(v),codeFencedFence:g,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:T,codeIndented:l(y),codeText:l(D),codeTextData:T,data:T,definition:l(),definitionDestinationString:w,definitionLabelString:b,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(N),hardBreakTrailing:l(N),htmlFlow:l(H),htmlFlowData:T,htmlText:l(R),htmlTextData:T,image:l(V),label:L,labelText:M,lineEnding:k,link:l(z),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:te,resourceDestinationString:P,resourceTitleString:W,resource:G,setextHeading:l(j),setextHeadingLineSequence:A,setextHeadingText:E,strong:l(),thematicBreak:l()}};s9(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(q){let X={type:"root",children:[]};const re={stack:[X],tokenStack:[],config:e,enter:o,exit:c,buffer:s,resume:d,data:n},Oe=[];let lt=-1;for(;++lt<q.length;)if(q[lt][1].type==="listOrdered"||q[lt][1].type==="listUnordered")if(q[lt][0]==="enter")Oe.push(lt);else{const Gt=Oe.pop();lt=i(q,Gt,lt)}for(lt=-1;++lt<q.length;){const Gt=e[q[lt][0]];a9.call(Gt,q[lt][1].type)&&Gt[q[lt][1].type].call(Object.assign({sliceSerialize:q[lt][2].sliceSerialize},re),q[lt][1])}if(re.tokenStack.length>0){const Gt=re.tokenStack[re.tokenStack.length-1];(Gt[1]||cR).call(re,void 0,Gt[0])}for(X.position={start:wo(q.length>0?q[0][1].start:{line:1,column:1,offset:0}),end:wo(q.length>0?q[q.length-2][1].end:{line:1,column:1,offset:0})},lt=-1;++lt<e.transforms.length;)X=e.transforms[lt](X)||X;return X}function i(q,X,re){let Oe=X-1,lt=-1,Gt=!1,ln,Tn,Oa,xs;for(;++Oe<=re;){const Qt=q[Oe];switch(Qt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Qt[0]==="enter"?lt++:lt--,xs=void 0;break}case"lineEndingBlank":{Qt[0]==="enter"&&(ln&&!xs&&!lt&&!Oa&&(Oa=Oe),xs=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:xs=void 0}if(!lt&&Qt[0]==="enter"&&Qt[1].type==="listItemPrefix"||lt===-1&&Qt[0]==="exit"&&(Qt[1].type==="listUnordered"||Qt[1].type==="listOrdered")){if(ln){let po=Oe;for(Tn=void 0;po--;){const Fe=q[po];if(Fe[1].type==="lineEnding"||Fe[1].type==="lineEndingBlank"){if(Fe[0]==="exit")continue;Tn&&(q[Tn][1].type="lineEndingBlank",Gt=!0),Fe[1].type="lineEnding",Tn=po}else if(!(Fe[1].type==="linePrefix"||Fe[1].type==="blockQuotePrefix"||Fe[1].type==="blockQuotePrefixWhitespace"||Fe[1].type==="blockQuoteMarker"||Fe[1].type==="listItemIndent"))break}Oa&&(!Tn||Oa<Tn)&&(ln._spread=!0),ln.end=Object.assign({},Tn?q[Tn][1].start:Qt[1].end),q.splice(Tn||Oe,0,["exit",ln,Qt[2]]),Oe++,re++}if(Qt[1].type==="listItemPrefix"){const po={type:"listItem",_spread:!1,start:Object.assign({},Qt[1].start),end:void 0};ln=po,q.splice(Oe,0,["enter",po,Qt[2]]),Oe++,re++,Oa=void 0,xs=!0}}}return q[X][1]._spread=Gt,re}function a(q,X){return re;function re(Oe){o.call(this,q(Oe),Oe),X&&X.call(this,Oe)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(q,X,re){this.stack[this.stack.length-1].children.push(q),this.stack.push(q),this.tokenStack.push([X,re||void 0]),q.position={start:wo(X.start),end:void 0}}function l(q){return X;function X(re){q&&q.call(this,re),c.call(this,re)}}function c(q,X){const re=this.stack.pop(),Oe=this.tokenStack.pop();if(Oe)Oe[0].type!==q.type&&(X?X.call(this,q,Oe[0]):(Oe[1]||cR).call(this,q,Oe[0]));else throw new Error("Cannot close `"+q.type+"` ("+ip({start:q.start,end:q.end})+"): its not open");re.position.end=wo(q.end)}function d(){return dve(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(q){if(this.data.expectingFirstListItemValue){const X=this.stack[this.stack.length-2];X.start=Number.parseInt(this.sliceSerialize(q),10),this.data.expectingFirstListItemValue=void 0}}function p(){const q=this.resume(),X=this.stack[this.stack.length-1];X.lang=q}function m(){const q=this.resume(),X=this.stack[this.stack.length-1];X.meta=q}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const q=this.resume(),X=this.stack[this.stack.length-1];X.value=q.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const q=this.resume(),X=this.stack[this.stack.length-1];X.value=q.replace(/(\r?\n|\r)$/g,"")}function b(q){const X=this.resume(),re=this.stack[this.stack.length-1];re.label=X,re.identifier=cd(this.sliceSerialize(q)).toLowerCase()}function x(){const q=this.resume(),X=this.stack[this.stack.length-1];X.title=q}function w(){const q=this.resume(),X=this.stack[this.stack.length-1];X.url=q}function S(q){const X=this.stack[this.stack.length-1];if(!X.depth){const re=this.sliceSerialize(q).length;X.depth=re}}function E(){this.data.setextHeadingSlurpLineEnding=!0}function A(q){const X=this.stack[this.stack.length-1];X.depth=this.sliceSerialize(q).codePointAt(0)===61?1:2}function j(){this.data.setextHeadingSlurpLineEnding=void 0}function C(q){const re=this.stack[this.stack.length-1].children;let Oe=re[re.length-1];(!Oe||Oe.type!=="text")&&(Oe=be(),Oe.position={start:wo(q.start),end:void 0},re.push(Oe)),this.stack.push(Oe)}function T(q){const X=this.stack.pop();X.value+=this.sliceSerialize(q),X.position.end=wo(q.end)}function k(q){const X=this.stack[this.stack.length-1];if(this.data.atHardBreak){const re=X.children[X.children.length-1];re.position.end=wo(q.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(X.type)&&(C.call(this,q),T.call(this,q))}function N(){this.data.atHardBreak=!0}function H(){const q=this.resume(),X=this.stack[this.stack.length-1];X.value=q}function R(){const q=this.resume(),X=this.stack[this.stack.length-1];X.value=q}function D(){const q=this.resume(),X=this.stack[this.stack.length-1];X.value=q}function z(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const X=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=X,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function V(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const X=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=X,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function M(q){const X=this.sliceSerialize(q),re=this.stack[this.stack.length-2];re.label=uxe(X),re.identifier=cd(X).toLowerCase()}function L(){const q=this.stack[this.stack.length-1],X=this.resume(),re=this.stack[this.stack.length-1];if(this.data.inReference=!0,re.type==="link"){const Oe=q.children;re.children=Oe}else re.alt=X}function P(){const q=this.resume(),X=this.stack[this.stack.length-1];X.url=q}function W(){const q=this.resume(),X=this.stack[this.stack.length-1];X.title=q}function G(){this.data.inReference=void 0}function $(){this.data.referenceType="collapsed"}function te(q){const X=this.resume(),re=this.stack[this.stack.length-1];re.label=X,re.identifier=cd(this.sliceSerialize(q)).toLowerCase(),this.data.referenceType="full"}function ie(q){this.data.characterReferenceType=q.type}function I(q){const X=this.sliceSerialize(q),re=this.data.characterReferenceType;let Oe;re?(Oe=Y8(X,re==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Oe=Mk(X);const lt=this.stack[this.stack.length-1];lt.value+=Oe}function O(q){const X=this.stack.pop();X.position.end=wo(q.end)}function K(q){T.call(this,q);const X=this.stack[this.stack.length-1];X.url=this.sliceSerialize(q)}function B(q){T.call(this,q);const X=this.stack[this.stack.length-1];X.url="mailto:"+this.sliceSerialize(q)}function Z(){return{type:"blockquote",children:[]}}function J(){return{type:"code",lang:null,meta:null,value:""}}function Y(){return{type:"inlineCode",value:""}}function me(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function le(){return{type:"emphasis",children:[]}}function ve(){return{type:"heading",depth:0,children:[]}}function oe(){return{type:"break"}}function ze(){return{type:"html",value:""}}function Ce(){return{type:"image",title:null,url:"",alt:null}}function Re(){return{type:"link",title:null,url:"",children:[]}}function ae(q){return{type:"list",ordered:q.type==="listOrdered",start:null,spread:q._spread,children:[]}}function Ct(q){return{type:"listItem",spread:q._spread,checked:null,children:[]}}function we(){return{type:"paragraph",children:[]}}function ye(){return{type:"strong",children:[]}}function be(){return{type:"text",value:""}}function ge(){return{type:"thematicBreak"}}}function wo(t){return{line:t.line,column:t.column,offset:t.offset}}function s9(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?s9(t,r):pxe(t,r)}}function pxe(t,e){let n;for(n in e)if(a9.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function cR(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+ip({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+ip({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+ip({start:e.start,end:e.end})+") is still open")}function mxe(t){const e=this;e.parser=n;function n(r){return fxe(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function gxe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function yxe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function vxe(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function xxe(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function bxe(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function wxe(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Rf(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let s,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=a+1,o+=1,t.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function _xe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Sxe(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function o9(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function Exe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return o9(t,e);const i={src:Rf(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function jxe(t,e){const n={src:Rf(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function Axe(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function Cxe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return o9(t,e);const i={href:Rf(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function Txe(t,e){const n={href:Rf(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function kxe(t,e,n){const r=t.all(e),i=n?Oxe(n):l9(e),a={},s=[];if(typeof e.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?s.push(...d.children):s.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:s};return t.patch(e,c),t.applyData(e,c)}function Oxe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=l9(n[r])}return e}function l9(t){const e=t.spread;return e??t.children.length>1}function Nxe(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function Pxe(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Ixe(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function $xe(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Rxe(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=Pk(e.children[1]),l=U8(e.children[e.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function Mxe(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:e.children.length;let l=-1;const c=[];for(;++l<o;){const f=e.children[l],h={},p=s?s[l]:void 0;p&&(h.align=p);let m={type:"element",tagName:a,properties:h,children:[]};f&&(m.children=t.all(f),t.patch(f,m),m=t.applyData(f,m)),c.push(m)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,d),t.applyData(e,d)}function Lxe(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const uR=9,dR=32;function Dxe(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(fR(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(fR(e.slice(i),i>0,!1)),a.join("")}function fR(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===uR||a===dR;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===uR||a===dR;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function Fxe(t,e){const n={type:"text",value:Dxe(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Bxe(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const zxe={blockquote:gxe,break:yxe,code:vxe,delete:xxe,emphasis:bxe,footnoteReference:wxe,heading:_xe,html:Sxe,imageReference:Exe,image:jxe,inlineCode:Axe,linkReference:Cxe,link:Txe,listItem:kxe,list:Nxe,paragraph:Pxe,root:Ixe,strong:$xe,table:Rxe,tableCell:Lxe,tableRow:Mxe,text:Fxe,thematicBreak:Bxe,toml:gy,yaml:gy,definition:gy,footnoteDefinition:gy};function gy(){}const c9=-1,Tb=0,sp=1,l0=2,Fk=3,Bk=4,zk=5,Uk=6,u9=7,d9=8,hR=typeof self=="object"?self:globalThis,Uxe=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,s]=e[i];switch(a){case Tb:case c9:return n(s,i);case sp:{const o=n([],i);for(const l of s)o.push(r(l));return o}case l0:{const o=n({},i);for(const[l,c]of s)o[r(l)]=r(c);return o}case Fk:return n(new Date(s),i);case Bk:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case zk:{const o=n(new Map,i);for(const[l,c]of s)o.set(r(l),r(c));return o}case Uk:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case u9:{const{name:o,message:l}=s;return n(new hR[o](l),i)}case d9:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new hR[a](s),i)};return r},pR=t=>Uxe(new Map,t)(0),pu="",{toString:Hxe}={},{keys:Vxe}=Object,hh=t=>{const e=typeof t;if(e!=="object"||!t)return[Tb,e];const n=Hxe.call(t).slice(8,-1);switch(n){case"Array":return[sp,pu];case"Object":return[l0,pu];case"Date":return[Fk,pu];case"RegExp":return[Bk,pu];case"Map":return[zk,pu];case"Set":return[Uk,pu];case"DataView":return[sp,n]}return n.includes("Array")?[sp,n]:n.includes("Error")?[u9,n]:[l0,n]},yy=([t,e])=>t===Tb&&(e==="function"||e==="symbol"),Wxe=(t,e,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=hh(s);switch(o){case Tb:{let d=s;switch(l){case"bigint":o=d9,d=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([c9],s)}return i([o,d],s)}case sp:{if(l){let h=s;return l==="DataView"?h=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(s)),i([l,[...h]],s)}const d=[],f=i([o,d],s);for(const h of s)d.push(a(h));return f}case l0:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(e&&"toJSON"in s)return a(s.toJSON());const d=[],f=i([o,d],s);for(const h of Vxe(s))(t||!yy(hh(s[h])))&&d.push([a(h),a(s[h])]);return f}case Fk:return i([o,s.toISOString()],s);case Bk:{const{source:d,flags:f}=s;return i([o,{source:d,flags:f}],s)}case zk:{const d=[],f=i([o,d],s);for(const[h,p]of s)(t||!(yy(hh(h))||yy(hh(p))))&&d.push([a(h),a(p)]);return f}case Uk:{const d=[],f=i([o,d],s);for(const h of s)(t||!yy(hh(h)))&&d.push(a(h));return f}}const{message:c}=s;return i([o,{name:l,message:c}],s)};return a},mR=(t,{json:e,lossy:n}={})=>{const r=[];return Wxe(!(e||n),!!e,new Map,r)(t),r},c0=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?pR(mR(t,e)):structuredClone(t):(t,e)=>pR(mR(t,e));function qxe(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Gxe(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Kxe(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||qxe,r=t.options.footnoteBackLabel||Gxe,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const d=t.all(c),f=String(c.identifier).toUpperCase(),h=Rf(f.toLowerCase());let p=0;const m=[],g=t.footnoteCounts.get(f);for(;g!==void 0&&++p<=g;){m.length>0&&m.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,p);typeof b=="string"&&(b={type:"text",value:b}),m.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const v=d[d.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const b=v.children[v.children.length-1];b&&b.type==="text"?b.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...m)}else d.push(...m);const y={type:"element",tagName:"li",properties:{id:e+"fn-"+h},children:t.wrap(d,!0)};t.patch(c,y),o.push(y)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...c0(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const f9=function(t){if(t==null)return Jxe;if(typeof t=="function")return kb(t);if(typeof t=="object")return Array.isArray(t)?Yxe(t):Xxe(t);if(typeof t=="string")return Zxe(t);throw new Error("Expected function, string, or object as test")};function Yxe(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=f9(t[n]);return kb(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function Xxe(t){const e=t;return kb(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function Zxe(t){return kb(e);function e(n){return n&&n.type===t}}function kb(t){return e;function e(n,r,i){return!!(Qxe(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Jxe(){return!0}function Qxe(t){return t!==null&&typeof t=="object"&&"type"in t}const h9=[],ebe=!0,gR=!1,tbe="skip";function nbe(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=f9(i),s=r?-1:1;o(t,void 0,[])();function o(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=h9,m,g,v;if((!e||a(l,c,d[d.length-1]||void 0))&&(p=rbe(n(l,d)),p[0]===gR))return p;if("children"in l&&l.children){const y=l;if(y.children&&p[0]!==tbe)for(g=(r?y.children.length:-1)+s,v=d.concat(y);g>-1&&g<y.children.length;){const b=y.children[g];if(m=o(b,g,v)(),m[0]===gR)return m;g=typeof m[1]=="number"?m[1]:g+s}}return p}}}function rbe(t){return Array.isArray(t)?t:typeof t=="number"?[ebe,t]:t==null?h9:[t]}function p9(t,e,n,r){let i,a,s;typeof e=="function"&&typeof n!="function"?(a=void 0,s=e,i=n):(a=e,s=n,i=r),nbe(t,a,o,i);function o(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return s(l,f,d)}}const vj={}.hasOwnProperty,ibe={};function abe(t,e){const n=e||ibe,r=new Map,i=new Map,a=new Map,s={...zxe,...n.handlers},o={all:c,applyData:obe,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:sbe,wrap:cbe};return p9(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),o;function l(d,f){const h=d.type,p=o.handlers[h];if(vj.call(o.handlers,h)&&p)return p(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:g,...v}=d,y=c0(v);return y.children=o.all(d),y}return c0(d)}return(o.options.unknownHandler||lbe)(o,d,f)}function c(d){const f=[];if("children"in d){const h=d.children;let p=-1;for(;++p<h.length;){const m=o.one(h[p],d);if(m){if(p&&h[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=yR(m.value)),!Array.isArray(m)&&m.type==="element")){const g=m.children[0];g&&g.type==="text"&&(g.value=yR(g.value))}Array.isArray(m)?f.push(...m):f.push(m)}}}return f}}function sbe(t,e){t.position&&(e.position=Hye(t))}function obe(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,c0(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function lbe(t,e){const n=e.data||{},r="value"in e&&!(vj.call(n,"hProperties")||vj.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function cbe(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function yR(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function vR(t,e){const n=abe(t,e),r=n.one(t,void 0),i=Kxe(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function ube(t,e){return t&&"run"in t?async function(n,r){const i=vR(n,{file:r,...e});await t.run(i,r)}:function(n,r){return vR(n,{file:r,...t||e})}}function xR(t){if(t)throw t}var rv=Object.prototype.hasOwnProperty,m9=Object.prototype.toString,bR=Object.defineProperty,wR=Object.getOwnPropertyDescriptor,_R=function(e){return typeof Array.isArray=="function"?Array.isArray(e):m9.call(e)==="[object Array]"},SR=function(e){if(!e||m9.call(e)!=="[object Object]")return!1;var n=rv.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&rv.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||rv.call(e,i)},ER=function(e,n){bR&&n.name==="__proto__"?bR(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},jR=function(e,n){if(n==="__proto__")if(rv.call(e,n)){if(wR)return wR(e,n).value}else return;return e[n]},dbe=function t(){var e,n,r,i,a,s,o=arguments[0],l=1,c=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=jR(o,n),i=jR(e,n),o!==i&&(d&&i&&(SR(i)||(a=_R(i)))?(a?(a=!1,s=r&&_R(r)?r:[]):s=r&&SR(r)?r:{},ER(o,{name:n,newValue:t(d,s,i)})):typeof i<"u"&&ER(o,{name:n,newValue:i}));return o};const c1=at(dbe);function xj(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function fbe(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...c){const d=t[++a];let f=-1;if(l){s(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,d?hbe(d,o)(...c):s(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function hbe(t,e){let n;return r;function r(...s){const o=t.length>s.length;let l;o&&s.push(i);try{l=t.apply(this,s)}catch(c){const d=c;if(o&&n)throw d;return i(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,e(s,...o))}function a(s){i(null,s)}}const Fa={basename:pbe,dirname:mbe,extname:gbe,join:ybe,sep:"/"};function pbe(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');ug(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function mbe(t){if(ug(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function gbe(t){ug(t);let e=t.length,n=-1,r=0,i=-1,a=0,s;for(;e--;){const o=t.codePointAt(e);if(o===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),o===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function ybe(...t){let e=-1,n;for(;++e<t.length;)ug(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":vbe(n)}function vbe(t){ug(t);const e=t.codePointAt(0)===47;let n=xbe(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function xbe(t,e){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=t.length;){if(s<t.length)o=t.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function ug(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const bbe={cwd:wbe};function wbe(){return"/"}function bj(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function _be(t){if(typeof t=="string")t=new URL(t);else if(!bj(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Sbe(t)}function Sbe(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const u1=["history","path","basename","stem","extname","dirname"];class g9{constructor(e){let n;e?bj(e)?n={path:e}:typeof e=="string"||Ebe(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":bbe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<u1.length;){const a=u1[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)u1.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Fa.basename(this.path):void 0}set basename(e){f1(e,"basename"),d1(e,"basename"),this.path=Fa.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Fa.dirname(this.path):void 0}set dirname(e){AR(this.basename,"dirname"),this.path=Fa.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Fa.extname(this.path):void 0}set extname(e){if(d1(e,"extname"),AR(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Fa.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){bj(e)&&(e=_be(e)),f1(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Fa.basename(this.path,this.extname):void 0}set stem(e){f1(e,"stem"),d1(e,"stem"),this.path=Fa.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new tr(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function d1(t,e){if(t&&t.includes(Fa.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Fa.sep+"`")}function f1(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function AR(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Ebe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const jbe=function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},Abe={}.hasOwnProperty;class Hk extends jbe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=fbe()}copy(){const e=new Hk;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(c1(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(m1("data",this.frozen),this.namespace[e]=n,this):Abe.call(this.namespace,e)&&this.namespace[e]||void 0:e?(m1("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=vy(e),r=this.parser||this.Parser;return h1("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),h1("process",this.parser||this.Parser),p1("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=vy(e),l=r.parse(o);r.run(l,o,function(d,f,h){if(d||!f||!h)return c(d);const p=f,m=r.stringify(p,h);kbe(m)?h.value=m:h.result=m,c(d,h)});function c(d,f){d||!f?s(d):a?a(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),h1("processSync",this.parser||this.Parser),p1("processSync",this.compiler||this.Compiler),this.process(e,i),TR("processSync","process",n),r;function i(a,s){n=!0,xR(a),r=s}}run(e,n,r){CR(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=vy(n);i.run(e,l,c);function c(d,f,h){const p=f||e;d?o(d):s?s(p):r(void 0,p,h)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),TR("runSync","run",r),i;function a(s,o){xR(s),i=o,r=!0}}stringify(e,n){this.freeze();const r=vy(n),i=this.compiler||this.Compiler;return p1("stringify",i),CR(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(m1("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=c1(!0,i.settings,c.settings))}function o(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];a(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===c){h=f;break}if(h===-1)r.push([c,...d]);else if(d.length>0){let[p,...m]=d;const g=r[h][1];xj(g)&&xj(p)&&(p=c1(!0,g,p)),r[h]=[c,p,...m]}}}}const Cbe=new Hk().freeze();function h1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function p1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function m1(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function CR(t){if(!xj(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function TR(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function vy(t){return Tbe(t)?t:new g9(t)}function Tbe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function kbe(t){return typeof t=="string"||Obe(t)}function Obe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Nbe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",kR=[],OR={allowDangerousHtml:!0},Pbe=/^(https?|ircs?|mailto|xmpp)$/i,Ibe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Vk(t){const e=$be(t),n=Rbe(t);return Mbe(e.runSync(e.parse(n),n),t)}function $be(t){const e=t.rehypePlugins||kR,n=t.remarkPlugins||kR,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...OR}:OR;return Cbe().use(mxe).use(n).use(ube,r).use(e)}function Rbe(t){const e=t.children||"",n=new g9;return typeof e=="string"&&(n.value=e),n}function Mbe(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,a=e.disallowedElements,s=e.skipHtml,o=e.unwrapDisallowed,l=e.urlTransform||Lbe;for(const d of Ibe)Object.hasOwn(e,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Nbe+d.id,void 0);return p9(t,c),Kye(t,{Fragment:u.Fragment,components:i,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return s?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let p;for(p in s1)if(Object.hasOwn(s1,p)&&Object.hasOwn(d.properties,p)){const m=d.properties[p],g=s1[p];(g===null||g.includes(d.tagName))&&(d.properties[p]=l(String(m||""),p,d))}}if(d.type==="element"){let p=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!p&&r&&typeof f=="number"&&(p=!r(d,f,h)),p&&h&&typeof f=="number")return o&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function Lbe(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||Pbe.test(t.slice(0,e))?t:""}const Dbe=Wm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 button-magnetic micro-bounce",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-elegant",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-primary/20 bg-background/10 backdrop-blur-sm text-foreground hover:bg-primary/10 hover:border-primary/40",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-ai-gradient text-white hover:scale-105 transform transition-all duration-300 shadow-glow hover:shadow-[0_0_30px_hsl(217_91%_60%_/_0.5)] button-glow hover-glow",premium:"bg-gradient-to-r from-ai-purple to-ai-teal text-white hover:scale-105 transform transition-all duration-300 shadow-elegant button-glow animate-gradient-shift"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),se=_.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const s=r?cl:"button";return u.jsx(s,{className:je(Dbe({variant:e,size:n,className:t})),ref:a,...i})});se.displayName="Button";const ee=_.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:je("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ee.displayName="Card";const Ve=_.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:je("flex flex-col space-y-1.5 p-6",t),...e}));Ve.displayName="CardHeader";const We=_.forwardRef(({className:t,...e},n)=>u.jsx("h3",{ref:n,className:je("text-2xl font-semibold leading-none tracking-tight",t),...e}));We.displayName="CardTitle";const Zr=_.forwardRef(({className:t,...e},n)=>u.jsx("p",{ref:n,className:je("text-sm text-muted-foreground",t),...e}));Zr.displayName="CardDescription";const Me=_.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:je("p-6 pt-0",t),...e}));Me.displayName="CardContent";const Fbe=_.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:je("flex items-center p-6 pt-0",t),...e}));Fbe.displayName="CardFooter";const vt=_.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));vt.displayName="Input";var Bbe=_.createContext(void 0);function dg(t){const e=_.useContext(Bbe);return t||e||"ltr"}function wj(t,[e,n]){return Math.min(n,Math.max(e,t))}function zbe(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var Wk="ScrollArea",[y9,sWe]=Sa(Wk),[Ube,Bi]=y9(Wk),v9=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:a=600,...s}=t,[o,l]=_.useState(null),[c,d]=_.useState(null),[f,h]=_.useState(null),[p,m]=_.useState(null),[g,v]=_.useState(null),[y,b]=_.useState(0),[x,w]=_.useState(0),[S,E]=_.useState(!1),[A,j]=_.useState(!1),C=rt(e,k=>l(k)),T=dg(i);return u.jsx(Ube,{scope:n,type:r,dir:T,scrollHideDelay:a,scrollArea:o,viewport:c,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:m,scrollbarXEnabled:S,onScrollbarXEnabledChange:E,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:A,onScrollbarYEnabledChange:j,onCornerWidthChange:b,onCornerHeightChange:w,children:u.jsx(Pe.div,{dir:T,...s,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":x+"px",...t.style}})})});v9.displayName=Wk;var x9="ScrollAreaViewport",b9=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,asChild:i,nonce:a,...s}=t,o=Bi(x9,n),l=_.useRef(null),c=rt(e,l,o.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),u.jsx(Pe.div,{"data-radix-scroll-area-viewport":"",...s,asChild:i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:Jbe({asChild:i,children:r},d=>u.jsx("div",{"data-radix-scroll-area-content":"",ref:o.onContentChange,style:{minWidth:o.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});b9.displayName=x9;var ms="ScrollAreaScrollbar",qk=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Bi(ms,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:s}=i,o=t.orientation==="horizontal";return _.useEffect(()=>(o?a(!0):s(!0),()=>{o?a(!1):s(!1)}),[o,a,s]),i.type==="hover"?u.jsx(Hbe,{...r,ref:e,forceMount:n}):i.type==="scroll"?u.jsx(Vbe,{...r,ref:e,forceMount:n}):i.type==="auto"?u.jsx(w9,{...r,ref:e,forceMount:n}):i.type==="always"?u.jsx(Gk,{...r,ref:e}):null});qk.displayName=ms;var Hbe=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Bi(ms,t.__scopeScrollArea),[a,s]=_.useState(!1);return _.useEffect(()=>{const o=i.scrollArea;let l=0;if(o){const c=()=>{window.clearTimeout(l),s(!0)},d=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",c),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",c),o.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),u.jsx(er,{present:n||a,children:u.jsx(w9,{"data-state":a?"visible":"hidden",...r,ref:e})})}),Vbe=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Bi(ms,t.__scopeScrollArea),a=t.orientation==="horizontal",s=Nb(()=>l("SCROLL_END"),100),[o,l]=zbe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return _.useEffect(()=>{if(o==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[o,i.scrollHideDelay,l]),_.useEffect(()=>{const c=i.viewport,d=a?"scrollLeft":"scrollTop";if(c){let f=c[d];const h=()=>{const p=c[d];f!==p&&(l("SCROLL"),s()),f=p};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,a,l,s]),u.jsx(er,{present:n||o!=="hidden",children:u.jsx(Gk,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:he(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:he(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),w9=_.forwardRef((t,e)=>{const n=Bi(ms,t.__scopeScrollArea),{forceMount:r,...i}=t,[a,s]=_.useState(!1),o=t.orientation==="horizontal",l=Nb(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;s(o?c:d)}},10);return Vd(n.viewport,l),Vd(n.content,l),u.jsx(er,{present:r||a,children:u.jsx(Gk,{"data-state":a?"visible":"hidden",...i,ref:e})})}),Gk=_.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Bi(ms,t.__scopeScrollArea),a=_.useRef(null),s=_.useRef(0),[o,l]=_.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=A9(o.viewport,o.content),d={...r,sizes:o,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,p){return Xbe(h,s.current,o,p)}return n==="horizontal"?u.jsx(Wbe,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollLeft,p=NR(h,o,i.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?u.jsx(qbe,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollTop,p=NR(h,o);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),Wbe=_.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,a=Bi(ms,t.__scopeScrollArea),[s,o]=_.useState(),l=_.useRef(null),c=rt(e,l,a.onScrollbarXChange);return _.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),u.jsx(S9,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ob(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),T9(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&s&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:d0(s.paddingLeft),paddingEnd:d0(s.paddingRight)}})}})}),qbe=_.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,a=Bi(ms,t.__scopeScrollArea),[s,o]=_.useState(),l=_.useRef(null),c=rt(e,l,a.onScrollbarYChange);return _.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),u.jsx(S9,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ob(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),T9(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&s&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:d0(s.paddingTop),paddingEnd:d0(s.paddingBottom)}})}})}),[Gbe,_9]=y9(ms),S9=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:s,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:f,...h}=t,p=Bi(ms,n),[m,g]=_.useState(null),v=rt(e,C=>g(C)),y=_.useRef(null),b=_.useRef(""),x=p.viewport,w=r.content-r.viewport,S=Wt(d),E=Wt(l),A=Nb(f,10);function j(C){if(y.current){const T=C.clientX-y.current.left,k=C.clientY-y.current.top;c({x:T,y:k})}}return _.useEffect(()=>{const C=T=>{const k=T.target;(m==null?void 0:m.contains(k))&&S(T,w)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[x,m,w,S]),_.useEffect(E,[r,E]),Vd(m,A),Vd(p.content,A),u.jsx(Gbe,{scope:n,scrollbar:m,hasThumb:i,onThumbChange:Wt(a),onThumbPointerUp:Wt(s),onThumbPositionChange:E,onThumbPointerDown:Wt(o),children:u.jsx(Pe.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:he(t.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),y.current=m.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),j(C))}),onPointerMove:he(t.onPointerMove,j),onPointerUp:he(t.onPointerUp,C=>{const T=C.target;T.hasPointerCapture(C.pointerId)&&T.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=b.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),u0="ScrollAreaThumb",E9=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=_9(u0,t.__scopeScrollArea);return u.jsx(er,{present:n||i.hasThumb,children:u.jsx(Kbe,{ref:e,...r})})}),Kbe=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,a=Bi(u0,n),s=_9(u0,n),{onThumbPositionChange:o}=s,l=rt(e,f=>s.onThumbChange(f)),c=_.useRef(),d=Nb(()=>{c.current&&(c.current(),c.current=void 0)},100);return _.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!c.current){const p=Zbe(f,o);c.current=p,o()}};return o(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,o]),u.jsx(Pe.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:he(t.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),m=f.clientX-p.left,g=f.clientY-p.top;s.onThumbPointerDown({x:m,y:g})}),onPointerUp:he(t.onPointerUp,s.onThumbPointerUp)})});E9.displayName=u0;var Kk="ScrollAreaCorner",j9=_.forwardRef((t,e)=>{const n=Bi(Kk,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(Ybe,{...t,ref:e}):null});j9.displayName=Kk;var Ybe=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Bi(Kk,n),[a,s]=_.useState(0),[o,l]=_.useState(0),c=!!(a&&o);return Vd(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),Vd(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),s(d)}),c?u.jsx(Pe.div,{...r,ref:e,style:{width:a,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function d0(t){return t?parseInt(t,10):0}function A9(t,e){const n=t/e;return isNaN(n)?0:n}function Ob(t){const e=A9(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function Xbe(t,e,n,r="ltr"){const i=Ob(n),a=i/2,s=e||a,o=i-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-o,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return C9([l,c],f)(t)}function NR(t,e,n="ltr"){const r=Ob(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,s=e.content-e.viewport,o=a-r,l=n==="ltr"?[0,s]:[s*-1,0],c=wj(t,l);return C9([0,s],[0,o])(c)}function C9(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function T9(t,e){return t>0&&t<e}var Zbe=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const a={left:t.scrollLeft,top:t.scrollTop},s=n.left!==a.left,o=n.top!==a.top;(s||o)&&e(),n=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Nb(t,e){const n=Wt(t),r=_.useRef(0);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),_.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Vd(t,e){const n=Wt(e);jn(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}function Jbe(t,e){const{asChild:n,children:r}=t;if(!n)return typeof e=="function"?e(r):e;const i=_.Children.only(r);return _.cloneElement(i,{children:typeof e=="function"?e(i.props.children):e})}var k9=v9,Qbe=b9,ewe=j9;const Pb=_.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(k9,{ref:r,className:je("relative overflow-hidden",t),...n,children:[u.jsx(Qbe,{className:"h-full w-full rounded-[inherit]",children:e}),u.jsx(O9,{}),u.jsx(ewe,{})]}));Pb.displayName=k9.displayName;const O9=_.forwardRef(({className:t,orientation:e="vertical",...n},r)=>u.jsx(qk,{ref:r,orientation:e,className:je("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:u.jsx(E9,{className:"relative flex-1 rounded-full bg-border"})}));O9.displayName=qk.displayName;const Zc=({size:t="md",className:e})=>{const n={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return u.jsx("div",{className:je("flex items-center justify-center",e),children:u.jsx("div",{className:je("animate-spin rounded-full border-2 border-primary/20 border-t-primary",n[t]),role:"status","aria-label":"Loading",children:u.jsx("span",{className:"sr-only",children:"Loading..."})})})},twe=()=>{const[t,e]=_.useState(!1),[n,r]=_.useState([{id:"welcome",content:"Hi! I'm your AI college counselor. I can help you with admissions, applications, and campus information. How can I assist you today?",role:"assistant",timestamp:new Date}]),[i,a]=_.useState(""),[s,o]=_.useState(!1),l=_.useRef(null),{toast:c}=Mt(),d=_.useRef(new $8("counselor")),f=()=>{var p;(p=l.current)==null||p.scrollIntoView({behavior:"smooth"})};_.useEffect(()=>{f()},[n]);const h=async p=>{if(p.preventDefault(),!i.trim()||s)return;const m={id:Date.now().toString(),content:i.trim(),role:"user",timestamp:new Date};r(g=>[...g,m]),a(""),o(!0);try{const g=n.map(b=>({role:b.role,content:b.content})),v=await d.current.generateResponse(m.content,g),y={id:(Date.now()+1).toString(),content:v.content,role:"assistant",timestamp:new Date};r(b=>[...b,y])}catch(g){console.error("AI Chat error:",g),c({title:"Error",description:"Failed to get AI response. Please try again.",variant:"destructive"});const v={id:(Date.now()+1).toString(),content:"I apologize, but I'm having trouble processing your request right now. Please try again in a moment.",role:"assistant",timestamp:new Date};r(y=>[...y,v])}finally{o(!1)}};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:u.jsx(se,{onClick:()=>e(!t),size:"lg",className:je("rounded-full w-14 h-14 shadow-elegant hover-lift transition-all duration-300",t?"rotate-180":"animate-pulse"),variant:"hero",children:t?u.jsx(Gm,{className:"w-6 h-6"}):u.jsx(Bv,{className:"w-6 h-6"})})}),t&&u.jsx(ee,{className:"fixed bottom-24 right-6 w-96 h-[500px] z-40 shadow-2xl border-2 border-primary/20 animate-scale-in",children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx("div",{className:"p-4 border-b bg-gradient-subtle rounded-t-lg",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-8 h-8 bg-ai-gradient rounded-full flex items-center justify-center",children:u.jsx(ha,{className:"w-4 h-4 text-white"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-sm",children:"AI College Counselor"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Always here to help"})]})]})}),u.jsxs(Pb,{className:"flex-1 p-4",children:[u.jsxs("div",{className:"space-y-4",children:[n.map(p=>u.jsxs("div",{className:je("flex items-start space-x-2",p.role==="user"?"justify-end":"justify-start"),children:[p.role==="assistant"&&u.jsx("div",{className:"w-6 h-6 bg-ai-gradient rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:u.jsx(ha,{className:"w-3 h-3 text-white"})}),u.jsx("div",{className:je("max-w-[280px] p-3 rounded-lg text-sm transition-all duration-200",p.role==="user"?"bg-primary text-primary-foreground ml-auto hover-lift":"bg-secondary text-secondary-foreground hover-scale"),children:u.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none break-words",children:u.jsx(Vk,{children:p.content})})}),p.role==="user"&&u.jsx("div",{className:"w-6 h-6 bg-muted rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:u.jsx(Dp,{className:"w-3 h-3"})})]},p.id)),s&&u.jsxs("div",{className:"flex items-start space-x-2",children:[u.jsx("div",{className:"w-6 h-6 bg-ai-gradient rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:u.jsx(ha,{className:"w-3 h-3 text-white"})}),u.jsx("div",{className:"bg-secondary p-3 rounded-lg",children:u.jsx(Zc,{size:"sm"})})]})]}),u.jsx("div",{ref:l})]}),u.jsx("form",{onSubmit:h,className:"p-4 border-t",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(vt,{value:i,onChange:p=>a(p.target.value),placeholder:"Ask about admissions, applications...",disabled:s,className:"flex-1"}),u.jsx(se,{type:"submit",size:"icon",disabled:s||!i.trim(),className:"flex-shrink-0 hover-lift",variant:"hero",children:u.jsx(pT,{className:"w-4 h-4"})})]})})]})})]})},nwe=()=>{const[t,e]=_.useState(null),[n,r]=_.useState(!1),[i,a]=_.useState(!1);_.useEffect(()=>{(()=>{window.matchMedia("(display-mode: standalone)").matches&&a(!0)})();const d=h=>{h.preventDefault(),e(h),setTimeout(()=>{r(!0)},3e3)},f=()=>{a(!0),r(!1),e(null)};return window.addEventListener("beforeinstallprompt",d),window.addEventListener("appinstalled",f),()=>{window.removeEventListener("beforeinstallprompt",d),window.removeEventListener("appinstalled",f)}},[]);const s=async()=>{if(t){try{await t.prompt(),(await t.userChoice).outcome==="accepted"?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt")}catch(c){console.error("Error during install prompt:",c)}e(null),r(!1)}},o=()=>{r(!1),localStorage.setItem("pwa-install-dismissed",Date.now().toString())};if(i||!n||!t)return null;const l=localStorage.getItem("pwa-install-dismissed");return l&&Date.now()-parseInt(l)<24*60*60*1e3?null:u.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 md:left-auto md:right-4 md:w-80",children:u.jsx(ee,{className:"p-4 bg-card/95 backdrop-blur-sm border shadow-lg",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:u.jsx(Oee,{className:"w-5 h-5 text-primary"})}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsx("h3",{className:"font-semibold text-sm text-card-foreground",children:"Install AdmitConnect AI"}),u.jsx(se,{variant:"ghost",size:"icon",onClick:o,className:"w-6 h-6 -mt-1 -mr-1",children:u.jsx(Gm,{className:"w-4 h-4"})})]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Get faster access and offline features by installing our app on your device."}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs(se,{onClick:s,size:"sm",className:"flex-1",children:[u.jsx(fT,{className:"w-4 h-4 mr-1"}),"Install"]}),u.jsx(se,{variant:"outline",size:"sm",onClick:o,className:"flex-1",children:"Later"})]})]})]})})})},rwe=()=>u.jsxs("div",{className:"sr-only focus:not-sr-only",children:[u.jsx("a",{href:"#main-content",className:"fixed top-0 left-0 z-[9999] bg-primary text-primary-foreground px-4 py-2 rounded-br-md focus:outline-none focus:ring-2 focus:ring-ring",onFocus:t=>{t.currentTarget.classList.remove("sr-only")},onBlur:t=>{t.currentTarget.classList.add("sr-only")},children:"Skip to main content"}),u.jsx("a",{href:"#navigation",className:"fixed top-0 left-0 z-[9999] bg-primary text-primary-foreground px-4 py-2 rounded-br-md focus:outline-none focus:ring-2 focus:ring-ring ml-32",onFocus:t=>{t.currentTarget.classList.remove("sr-only")},onBlur:t=>{t.currentTarget.classList.add("sr-only")},children:"Skip to navigation"})]});class iwe extends _.Component{constructor(){super(...arguments);U(this,"state",{hasError:!1})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("ErrorBoundary caught an error:",n,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:u.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:u.jsxs(ee,{className:"max-w-md w-full p-6 text-center space-y-4",children:[u.jsx("div",{className:"w-16 h-16 bg-destructive/10 rounded-full flex items-center justify-center mx-auto",children:u.jsx(yB,{className:"w-8 h-8 text-destructive"})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Something went wrong"}),u.jsx("p",{className:"text-muted-foreground",children:"We encountered an unexpected error. Please try refreshing the page."}),!1]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[u.jsxs(se,{onClick:()=>window.location.reload(),className:"flex-1",children:[u.jsx(fl,{className:"w-4 h-4 mr-2"}),"Refresh Page"]}),u.jsx(se,{variant:"outline",onClick:()=>window.location.href="/",className:"flex-1",children:"Go Home"})]})]})}):this.props.children}}const awe=()=>{const t=pi(),e=kl(),{user:n,loading:r}=zn(),i=_.useRef(!1);return _.useEffect(()=>{if(r||i.current)return;const a=e.pathname==="/auth",s=e.pathname==="/"&&(e.hash.includes("access_token")||window.location.hash.includes("access_token"));n&&(a||s)&&(console.log("User authenticated, redirecting to dashboard..."),i.current=!0,window.location.hash&&window.history.replaceState(null,"",window.location.pathname),t("/dashboard",{replace:!0}))},[n,r,t,e]),_.useEffect(()=>{n||(i.current=!1)},[n]),null},swe=({onComplete:t})=>{const[e,n]=_.useState(!0);return _.useEffect(()=>{const r=setTimeout(()=>{n(!1),setTimeout(t,300)},800);return()=>clearTimeout(r)},[t]),u.jsxs("div",{className:je("fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-background via-primary/20 to-background transition-opacity duration-500",!e&&"opacity-0 pointer-events-none"),children:[u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[u.jsx("div",{className:"absolute w-32 h-32 border-4 border-primary/30 rounded-full animate-[ping_2s_ease-in-out_infinite]"}),u.jsx("div",{className:"absolute w-40 h-40 border-4 border-primary/20 rounded-full animate-[ping_2s_ease-in-out_0.5s_infinite]"}),u.jsx("div",{className:"absolute w-48 h-48 border-4 border-primary/10 rounded-full animate-[ping_2s_ease-in-out_1s_infinite]"})]}),u.jsx("div",{className:"relative z-10 animate-[scale-in_0.5s_ease-out]",children:u.jsx("img",{src:"/app-logo.png",alt:"AdmitConnect AI",className:"w-24 h-24 rounded-2xl shadow-2xl shadow-primary/50 animate-[float_3s_ease-in-out_infinite]"})}),u.jsx("div",{className:"absolute inset-0 -z-10 rounded-2xl bg-gradient-to-r from-transparent via-primary/20 to-transparent animate-[shimmer_2s_ease-in-out_infinite]"})]}),u.jsx("div",{className:"absolute bottom-1/3 animate-[fade-in_1s_ease-out_0.5s_both]",children:u.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-primary via-primary-glow to-primary bg-clip-text text-transparent",children:"AdmitConnect AI"})}),u.jsxs("div",{className:"absolute bottom-1/4 flex gap-2 animate-[fade-in_1s_ease-out_1s_both]",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-[bounce_1s_ease-in-out_infinite]"}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-[bounce_1s_ease-in-out_0.2s_infinite]"}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-[bounce_1s_ease-in-out_0.4s_infinite]"})]})]})};var g1="focusScope.autoFocusOnMount",y1="focusScope.autoFocusOnUnmount",PR={bubbles:!1,cancelable:!0},owe="FocusScope",Ib=_.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=t,[o,l]=_.useState(null),c=Wt(i),d=Wt(a),f=_.useRef(null),h=rt(e,g=>l(g)),p=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let g=function(x){if(p.paused||!o)return;const w=x.target;o.contains(w)?f.current=w:Eo(f.current,{select:!0})},v=function(x){if(p.paused||!o)return;const w=x.relatedTarget;w!==null&&(o.contains(w)||Eo(f.current,{select:!0}))},y=function(x){if(document.activeElement===document.body)for(const S of x)S.removedNodes.length>0&&Eo(o)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const b=new MutationObserver(y);return o&&b.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),b.disconnect()}}},[r,o,p.paused]),_.useEffect(()=>{if(o){$R.add(p);const g=document.activeElement;if(!o.contains(g)){const y=new CustomEvent(g1,PR);o.addEventListener(g1,c),o.dispatchEvent(y),y.defaultPrevented||(lwe(hwe(N9(o)),{select:!0}),document.activeElement===g&&Eo(o))}return()=>{o.removeEventListener(g1,c),setTimeout(()=>{const y=new CustomEvent(y1,PR);o.addEventListener(y1,d),o.dispatchEvent(y),y.defaultPrevented||Eo(g??document.body,{select:!0}),o.removeEventListener(y1,d),$R.remove(p)},0)}}},[o,c,d,p]);const m=_.useCallback(g=>{if(!n&&!r||p.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(v&&y){const b=g.currentTarget,[x,w]=cwe(b);x&&w?!g.shiftKey&&y===w?(g.preventDefault(),n&&Eo(x,{select:!0})):g.shiftKey&&y===x&&(g.preventDefault(),n&&Eo(w,{select:!0})):y===b&&g.preventDefault()}},[n,r,p.paused]);return u.jsx(Pe.div,{tabIndex:-1,...s,ref:h,onKeyDown:m})});Ib.displayName=owe;function lwe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Eo(r,{select:e}),document.activeElement!==n)return}function cwe(t){const e=N9(t),n=IR(e,t),r=IR(e.reverse(),t);return[n,r]}function N9(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function IR(t,e){for(const n of t)if(!uwe(n,{upTo:e}))return n}function uwe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function dwe(t){return t instanceof HTMLInputElement&&"select"in t}function Eo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&dwe(t)&&e&&t.select()}}var $R=fwe();function fwe(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=RR(t,e),t.unshift(e)},remove(e){var n;t=RR(t,e),(n=t[0])==null||n.resume()}}}function RR(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function hwe(t){return t.filter(e=>e.tagName!=="A")}var v1=0;function Yk(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??MR()),document.body.insertAdjacentElement("beforeend",t[1]??MR()),v1++,()=>{v1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),v1--}},[])}function MR(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var qa=function(){return qa=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},qa.apply(this,arguments)};function P9(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function pwe(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var iv="right-scroll-bar-position",av="width-before-scroll-bar",mwe="with-scroll-bars-hidden",gwe="--removed-body-scroll-bar-size";function x1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ywe(t,e){var n=_.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var vwe=typeof window<"u"?_.useLayoutEffect:_.useEffect,LR=new WeakMap;function xwe(t,e){var n=ywe(null,function(r){return t.forEach(function(i){return x1(i,r)})});return vwe(function(){var r=LR.get(n);if(r){var i=new Set(r),a=new Set(t),s=n.current;i.forEach(function(o){a.has(o)||x1(o,null)}),a.forEach(function(o){i.has(o)||x1(o,s)})}LR.set(n,t)},[t]),n}function bwe(t){return t}function wwe(t,e){e===void 0&&(e=bwe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var s=e(a,r);return n.push(s),function(){n=n.filter(function(o){return o!==s})}},assignSyncMedium:function(a){for(r=!0;n.length;){var s=n;n=[],s.forEach(a)}n={push:function(o){return a(o)},filter:function(){return n}}},assignMedium:function(a){r=!0;var s=[];if(n.length){var o=n;n=[],o.forEach(a),s=n}var l=function(){var d=s;s=[],d.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){s.push(d),c()},filter:function(d){return s=s.filter(d),n}}}};return i}function _we(t){t===void 0&&(t={});var e=wwe(null);return e.options=qa({async:!0,ssr:!1},t),e}var I9=function(t){var e=t.sideCar,n=P9(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,qa({},n))};I9.isSideCarExport=!0;function Swe(t,e){return t.useMedium(e),I9}var $9=_we(),b1=function(){},$b=_.forwardRef(function(t,e){var n=_.useRef(null),r=_.useState({onScrollCapture:b1,onWheelCapture:b1,onTouchMoveCapture:b1}),i=r[0],a=r[1],s=t.forwardProps,o=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,p=t.noIsolation,m=t.inert,g=t.allowPinchZoom,v=t.as,y=v===void 0?"div":v,b=t.gapMode,x=P9(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,S=xwe([n,e]),E=qa(qa({},x),i);return _.createElement(_.Fragment,null,d&&_.createElement(w,{sideCar:$9,removeScrollBar:c,shards:f,noIsolation:p,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:n,gapMode:b}),s?_.cloneElement(_.Children.only(o),qa(qa({},E),{ref:S})):_.createElement(y,qa({},E,{className:l,ref:S}),o))});$b.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$b.classNames={fullWidth:av,zeroRight:iv};var Ewe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function jwe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Ewe();return e&&t.setAttribute("nonce",e),t}function Awe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Cwe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Twe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=jwe())&&(Awe(e,n),Cwe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},kwe=function(){var t=Twe();return function(e,n){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},R9=function(){var t=kwe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Owe={left:0,top:0,right:0,gap:0},w1=function(t){return parseInt(t||"",10)||0},Nwe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[w1(n),w1(r),w1(i)]},Pwe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Owe;var e=Nwe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Iwe=R9(),ud="data-scroll-locked",$we=function(t,e,n,r){var i=t.left,a=t.top,s=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(mwe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(ud,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(iv,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(av,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(iv," .").concat(iv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(av," .").concat(av,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ud,`] {
    `).concat(gwe,": ").concat(o,`px;
  }
`)},DR=function(){var t=parseInt(document.body.getAttribute(ud)||"0",10);return isFinite(t)?t:0},Rwe=function(){_.useEffect(function(){return document.body.setAttribute(ud,(DR()+1).toString()),function(){var t=DR()-1;t<=0?document.body.removeAttribute(ud):document.body.setAttribute(ud,t.toString())}},[])},Mwe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Rwe();var a=_.useMemo(function(){return Pwe(i)},[i]);return _.createElement(Iwe,{styles:$we(a,!e,i,n?"":"!important")})},_j=!1;if(typeof window<"u")try{var xy=Object.defineProperty({},"passive",{get:function(){return _j=!0,!0}});window.addEventListener("test",xy,xy),window.removeEventListener("test",xy,xy)}catch{_j=!1}var mu=_j?{passive:!1}:!1,Lwe=function(t){return t.tagName==="TEXTAREA"},M9=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Lwe(t)&&n[e]==="visible")},Dwe=function(t){return M9(t,"overflowY")},Fwe=function(t){return M9(t,"overflowX")},FR=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=L9(t,r);if(i){var a=D9(t,r),s=a[1],o=a[2];if(s>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Bwe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},zwe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},L9=function(t,e){return t==="v"?Dwe(e):Fwe(e)},D9=function(t,e){return t==="v"?Bwe(e):zwe(e)},Uwe=function(t,e){return t==="h"&&e==="rtl"?-1:1},Hwe=function(t,e,n,r,i){var a=Uwe(t,window.getComputedStyle(e).direction),s=a*r,o=n.target,l=e.contains(o),c=!1,d=s>0,f=0,h=0;do{var p=D9(t,o),m=p[0],g=p[1],v=p[2],y=g-v-a*m;(m||y)&&L9(t,o)&&(f+=y,h+=m),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(c=!0),c},by=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},BR=function(t){return[t.deltaX,t.deltaY]},zR=function(t){return t&&"current"in t?t.current:t},Vwe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Wwe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},qwe=0,gu=[];function Gwe(t){var e=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),i=_.useState(qwe++)[0],a=_.useState(R9)[0],s=_.useRef(t);_.useEffect(function(){s.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=pwe([t.lockRef.current],(t.shards||[]).map(zR),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=_.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var y=by(g),b=n.current,x="deltaX"in g?g.deltaX:b[0]-y[0],w="deltaY"in g?g.deltaY:b[1]-y[1],S,E=g.target,A=Math.abs(x)>Math.abs(w)?"h":"v";if("touches"in g&&A==="h"&&E.type==="range")return!1;var j=FR(A,E);if(!j)return!0;if(j?S=A:(S=A==="v"?"h":"v",j=FR(A,E)),!j)return!1;if(!r.current&&"changedTouches"in g&&(x||w)&&(r.current=S),!S)return!0;var C=r.current||S;return Hwe(C,v,g,C==="h"?x:w,!0)},[]),l=_.useCallback(function(g){var v=g;if(!(!gu.length||gu[gu.length-1]!==a)){var y="deltaY"in v?BR(v):by(v),b=e.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&Vwe(S.delta,y)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var x=(s.current.shards||[]).map(zR).filter(Boolean).filter(function(S){return S.contains(v.target)}),w=x.length>0?o(v,x[0]):!s.current.noIsolation;w&&v.cancelable&&v.preventDefault()}}},[]),c=_.useCallback(function(g,v,y,b){var x={name:g,delta:v,target:y,should:b,shadowParent:Kwe(y)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(w){return w!==x})},1)},[]),d=_.useCallback(function(g){n.current=by(g),r.current=void 0},[]),f=_.useCallback(function(g){c(g.type,BR(g),g.target,o(g,t.lockRef.current))},[]),h=_.useCallback(function(g){c(g.type,by(g),g.target,o(g,t.lockRef.current))},[]);_.useEffect(function(){return gu.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,mu),document.addEventListener("touchmove",l,mu),document.addEventListener("touchstart",d,mu),function(){gu=gu.filter(function(g){return g!==a}),document.removeEventListener("wheel",l,mu),document.removeEventListener("touchmove",l,mu),document.removeEventListener("touchstart",d,mu)}},[]);var p=t.removeScrollBar,m=t.inert;return _.createElement(_.Fragment,null,m?_.createElement(a,{styles:Wwe(i)}):null,p?_.createElement(Mwe,{gapMode:t.gapMode}):null)}function Kwe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Ywe=Swe($9,Gwe);var Rb=_.forwardRef(function(t,e){return _.createElement($b,qa({},t,{ref:e,sideCar:Ywe}))});Rb.classNames=$b.classNames;var Xwe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},yu=new WeakMap,wy=new WeakMap,_y={},_1=0,F9=function(t){return t&&(t.host||F9(t.parentNode))},Zwe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=F9(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Jwe=function(t,e,n,r){var i=Zwe(e,Array.isArray(t)?t:[t]);_y[n]||(_y[n]=new WeakMap);var a=_y[n],s=[],o=new Set,l=new Set(i),c=function(f){!f||o.has(f)||(o.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var p=h.getAttribute(r),m=p!==null&&p!=="false",g=(yu.get(h)||0)+1,v=(a.get(h)||0)+1;yu.set(h,g),a.set(h,v),s.push(h),g===1&&m&&wy.set(h,!0),v===1&&h.setAttribute(n,"true"),m||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(e),o.clear(),_1++,function(){s.forEach(function(f){var h=yu.get(f)-1,p=a.get(f)-1;yu.set(f,h),a.set(f,p),h||(wy.has(f)||f.removeAttribute(r),wy.delete(f)),p||f.removeAttribute(n)}),_1--,_1||(yu=new WeakMap,yu=new WeakMap,wy=new WeakMap,_y={})}},Xk=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Xwe(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Jwe(r,i,n,"aria-hidden")):function(){return null}},Zk="Dialog",[B9,oWe]=Sa(Zk),[Qwe,Ta]=B9(Zk),z9=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:s=!0}=t,o=_.useRef(null),l=_.useRef(null),[c=!1,d]=as({prop:r,defaultProp:i,onChange:a});return u.jsx(Qwe,{scope:e,triggerRef:o,contentRef:l,contentId:pa(),titleId:pa(),descriptionId:pa(),open:c,onOpenChange:d,onOpenToggle:_.useCallback(()=>d(f=>!f),[d]),modal:s,children:n})};z9.displayName=Zk;var U9="DialogTrigger",e_e=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ta(U9,n),a=rt(e,i.triggerRef);return u.jsx(Pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":eO(i.open),...r,ref:a,onClick:he(t.onClick,i.onOpenToggle)})});e_e.displayName=U9;var Jk="DialogPortal",[t_e,H9]=B9(Jk,{forceMount:void 0}),V9=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=Ta(Jk,e);return u.jsx(t_e,{scope:e,forceMount:n,children:_.Children.map(r,s=>u.jsx(er,{present:n||a.open,children:u.jsx(Hm,{asChild:!0,container:i,children:s})}))})};V9.displayName=Jk;var f0="DialogOverlay",W9=_.forwardRef((t,e)=>{const n=H9(f0,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=Ta(f0,t.__scopeDialog);return a.modal?u.jsx(er,{present:r||a.open,children:u.jsx(n_e,{...i,ref:e})}):null});W9.displayName=f0;var n_e=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ta(f0,n);return u.jsx(Rb,{as:cl,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(Pe.div,{"data-state":eO(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Lc="DialogContent",q9=_.forwardRef((t,e)=>{const n=H9(Lc,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=Ta(Lc,t.__scopeDialog);return u.jsx(er,{present:r||a.open,children:a.modal?u.jsx(r_e,{...i,ref:e}):u.jsx(i_e,{...i,ref:e})})});q9.displayName=Lc;var r_e=_.forwardRef((t,e)=>{const n=Ta(Lc,t.__scopeDialog),r=_.useRef(null),i=rt(e,n.contentRef,r);return _.useEffect(()=>{const a=r.current;if(a)return Xk(a)},[]),u.jsx(G9,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(t.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:he(t.onPointerDownOutside,a=>{const s=a.detail.originalEvent,o=s.button===0&&s.ctrlKey===!0;(s.button===2||o)&&a.preventDefault()}),onFocusOutside:he(t.onFocusOutside,a=>a.preventDefault())})}),i_e=_.forwardRef((t,e)=>{const n=Ta(Lc,t.__scopeDialog),r=_.useRef(!1),i=_.useRef(!1);return u.jsx(G9,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,o;(s=t.onCloseAutoFocus)==null||s.call(t,a),a.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),G9=_.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=t,o=Ta(Lc,n),l=_.useRef(null),c=rt(e,l);return Yk(),u.jsxs(u.Fragment,{children:[u.jsx(Ib,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:u.jsx(_f,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":eO(o.open),...s,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(a_e,{titleId:o.titleId}),u.jsx(o_e,{contentRef:l,descriptionId:o.descriptionId})]})]})}),Qk="DialogTitle",K9=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ta(Qk,n);return u.jsx(Pe.h2,{id:i.titleId,...r,ref:e})});K9.displayName=Qk;var Y9="DialogDescription",X9=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ta(Y9,n);return u.jsx(Pe.p,{id:i.descriptionId,...r,ref:e})});X9.displayName=Y9;var Z9="DialogClose",J9=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ta(Z9,n);return u.jsx(Pe.button,{type:"button",...r,ref:e,onClick:he(t.onClick,()=>i.onOpenChange(!1))})});J9.displayName=Z9;function eO(t){return t?"open":"closed"}var Q9="DialogTitleWarning",[lWe,eH]=TQ(Q9,{contentName:Lc,titleName:Qk,docsSlug:"dialog"}),a_e=({titleId:t})=>{const e=eH(Q9),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},s_e="DialogDescriptionWarning",o_e=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${eH(s_e).contentName}}.`;return _.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},l_e=z9,c_e=V9,tH=W9,nH=q9,rH=K9,iH=X9,u_e=J9;const Ni=l_e,d_e=c_e,aH=_.forwardRef(({className:t,...e},n)=>u.jsx(tH,{ref:n,className:je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));aH.displayName=tH.displayName;const ii=_.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(d_e,{children:[u.jsx(aH,{}),u.jsxs(nH,{ref:r,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(u_e,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(Gm,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ii.displayName=nH.displayName;const ai=({className:t,...e})=>u.jsx("div",{className:je("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ai.displayName="DialogHeader";const si=_.forwardRef(({className:t,...e},n)=>u.jsx(rH,{ref:n,className:je("text-lg font-semibold leading-none tracking-tight",t),...e}));si.displayName=rH.displayName;const sH=_.forwardRef(({className:t,...e},n)=>u.jsx(iH,{ref:n,className:je("text-sm text-muted-foreground",t),...e}));sH.displayName=iH.displayName;const ds=_.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:je("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));ds.displayName="Textarea";var f_e="Label",oH=_.forwardRef((t,e)=>u.jsx(Pe.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));oH.displayName=f_e;var lH=oH;const h_e=Wm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Le=_.forwardRef(({className:t,...e},n)=>u.jsx(lH,{ref:n,className:je(h_e(),t),...e}));Le.displayName=lH.displayName;const oa=_.forwardRef(({label:t,id:e,type:n="text",placeholder:r,value:i,onChange:a,error:s,success:o,required:l,className:c},d)=>{const[f,h]=_.useState(!1),[p,m]=_.useState(!1);_.useEffect(()=>{m(i.length>0)},[i]);const g=x=>{a(x.target.value)},v=()=>s?u.jsx(pI,{className:"w-4 h-4 text-destructive"}):o&&p?u.jsx(ei,{className:"w-4 h-4 text-green-500"}):l&&!p?u.jsx(Dv,{className:"w-4 h-4 text-muted-foreground/50"}):null,y=je("peer w-full px-4 py-3 border rounded-lg transition-all duration-300","focus:ring-2 focus:ring-primary/20 focus:border-primary","placeholder-transparent",s?"border-destructive focus:border-destructive focus:ring-destructive/20":o&&p?"border-green-500 focus:border-green-500 focus:ring-green-500/20":"border-border hover:border-primary/50",c),b=je("absolute left-4 transition-all duration-300 pointer-events-none","text-muted-foreground",f||p?"-top-2 text-xs bg-background px-1 text-primary":"top-3 text-sm");return u.jsxs("div",{className:"relative space-y-1",children:[u.jsxs("div",{className:"relative",children:[n==="textarea"?u.jsx(ds,{ref:d,id:e,placeholder:r,value:i,onChange:g,onFocus:()=>h(!0),onBlur:()=>h(!1),className:y,required:l,rows:4}):u.jsx(vt,{ref:d,id:e,type:n,placeholder:r,value:i,onChange:g,onFocus:()=>h(!0),onBlur:()=>h(!1),className:y,required:l}),u.jsxs(Le,{htmlFor:e,className:b,children:[t," ",l&&u.jsx("span",{className:"text-destructive",children:"*"})]}),(s||o||l)&&u.jsx("div",{className:"absolute right-3 top-3 transition-all duration-300",children:v()})]}),s&&u.jsxs("p",{className:"text-sm text-destructive flex items-center gap-2 animate-fade-in",children:[u.jsx(pI,{className:"w-3 h-3"}),s]}),o&&p&&!s&&u.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-2 animate-fade-in",children:[u.jsx(ei,{className:"w-3 h-3"}),"Looks good!"]})]})});oa.displayName="FormField";const nl=_.forwardRef(({className:t,children:e,rippleColor:n="rgba(255, 255, 255, 0.6)",onClick:r,...i},a)=>{const[s,o]=_.useState([]),l=d=>{const h=d.currentTarget.getBoundingClientRect(),p=Math.max(h.width,h.height),m=d.clientX-h.left-p/2,g=d.clientY-h.top-p/2,v={id:Date.now(),x:m,y:g};o(y=>[...y,v]),setTimeout(()=>{o(y=>y.filter(b=>b.id!==v.id))},600)},c=d=>{l(d),r==null||r(d)};return u.jsxs(se,{ref:a,className:je("relative overflow-hidden",t),onClick:c,...i,children:[e,s.map(d=>u.jsx("span",{className:"absolute rounded-full animate-ripple pointer-events-none",style:{left:d.x,top:d.y,width:"100px",height:"100px",backgroundColor:n,transform:"scale(0)",animation:"ripple 0.6s linear"}},d.id))]})});nl.displayName="RippleButton";const h0=({children:t,className:e,direction:n="up",delay:r=0,threshold:i=.1})=>{const[a,s]=_.useState(!1),o=_.useRef(null);_.useEffect(()=>{const c=new IntersectionObserver(([d])=>{d.isIntersecting&&setTimeout(()=>s(!0),r)},{threshold:i});return o.current&&c.observe(o.current),()=>c.disconnect()},[r,i]);const l={up:"translate-y-8",down:"-translate-y-8",left:"translate-x-8",right:"-translate-x-8"};return u.jsx("div",{ref:o,className:je("transition-all duration-700 ease-out",a?"opacity-100 translate-x-0 translate-y-0":`opacity-0 ${l[n]}`,e),children:t})},ur=({children:t,className:e,delay:n=0})=>u.jsx(h0,{direction:"up",delay:n,className:e,children:t});var p_e="Separator",UR="horizontal",m_e=["horizontal","vertical"],cH=_.forwardRef((t,e)=>{const{decorative:n,orientation:r=UR,...i}=t,a=g_e(r)?r:UR,o=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return u.jsx(Pe.div,{"data-orientation":a,...o,...i,ref:e})});cH.displayName=p_e;function g_e(t){return m_e.includes(t)}var uH=cH;const tO=_.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>u.jsx(uH,{ref:i,decorative:n,orientation:e,className:je("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));tO.displayName=uH.displayName;const y_e=({open:t,onOpenChange:e,defaultMode:n="signin"})=>{const[r,i]=_.useState(n);_.useState(!1);const[a,s]=_.useState(!1),[o,l]=_.useState({}),[c,d]=_.useState({}),{toast:f}=Mt(),{signIn:h,signUp:p,signInWithGoogle:m}=zn(),[g,v]=_.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),y=(T,k)=>{const N={...o},H={...c};switch(T){case"firstName":case"lastName":{r==="signup"&&(k.trim()?k.trim().length<2?(N[T]=`${T==="firstName"?"First":"Last"} name must be at least 2 characters`,H[T]=!1):(delete N[T],H[T]=!0):(N[T]=`${T==="firstName"?"First":"Last"} name is required`,H[T]=!1));break}case"email":{const R=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;k.trim()?R.test(k)?(delete N.email,H.email=!0):(N.email="Please enter a valid email address",H.email=!1):(N.email="Email is required",H.email=!1);break}case"password":{r!=="forgot"&&(k?k.length<8?(N.password="Password must be at least 8 characters",H.password=!1):/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(k)?(delete N.password,H.password=!0):(N.password="Password must contain uppercase, lowercase, and number",H.password=!1):(N.password="Password is required",H.password=!1));break}case"confirmPassword":{r==="signup"&&(k?k!==g.password?(N.confirmPassword="Passwords do not match",H.confirmPassword=!1):(delete N.confirmPassword,H.confirmPassword=!0):(N.confirmPassword="Please confirm your password",H.confirmPassword=!1));break}}return l(N),d(H),!N[T]},b=(T,k)=>{v(N=>({...N,[T]:k})),(k.trim()||T==="confirmPassword")&&y(T,k)},x=()=>{let T=!0;return r==="signup"&&(T=y("firstName",g.firstName)&&T,T=y("lastName",g.lastName)&&T,T=y("confirmPassword",g.confirmPassword)&&T),r!=="forgot"&&(T=y("password",g.password)&&T),T=y("email",g.email)&&T,T},w=async T=>{if(T.preventDefault(),!x()){f({title:"Please fix the errors above",variant:"destructive"});return}s(!0);try{if(r==="signup"){const k=`${g.firstName} ${g.lastName}`.trim();await p(g.email,g.password,k),e(!1)}else r==="signin"?(await h(g.email,g.password),e(!1)):r==="forgot"&&(f({title:"Password reset sent!",description:"Check your email for reset instructions."}),i("signin"))}catch(k){console.error("Auth error:",k),f({title:"Authentication failed",description:k.message||"Please try again",variant:"destructive"})}finally{s(!1)}},S=async()=>{try{s(!0),await m(),e(!1)}catch(T){console.error("Google sign in error:",T),f({title:"Google sign in failed",description:T.message||"Please try again",variant:"destructive"})}finally{s(!1)}},E=()=>{v({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),l({}),d({})},A=T=>{i(T),E()},j=()=>{switch(r){case"signup":return"Create Account";case"forgot":return"Reset Password";default:return"Welcome Back"}},C=()=>{switch(r){case"signup":return"Join AdmitConnect AI and transform your admissions process";case"forgot":return"Enter your email to receive a password reset link";default:return"Sign in to access your AdmitConnect AI dashboard"}};return u.jsx(Ni,{open:t,onOpenChange:e,children:u.jsxs(ii,{className:"max-w-md bg-card/95 backdrop-blur-sm border-border/50",children:[u.jsxs(ai,{children:[u.jsx("div",{className:"w-16 h-16 bg-ai-gradient rounded-2xl flex items-center justify-center mx-auto mb-4 animate-bounce-in",children:u.jsx(Mi,{className:"w-8 h-8 text-white"})}),u.jsx(si,{className:"text-2xl font-bold text-center",children:j()}),u.jsx(sH,{className:"text-center text-muted-foreground",children:C()})]}),u.jsxs(h0,{direction:"up",className:"space-y-6",children:[u.jsxs("form",{onSubmit:w,className:"space-y-4",children:[r==="signup"&&u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(oa,{label:"First Name",id:"firstName",type:"text",value:g.firstName,onChange:T=>b("firstName",T),placeholder:"John",error:o.firstName,success:c.firstName,required:!0}),u.jsx(oa,{label:"Last Name",id:"lastName",type:"text",value:g.lastName,onChange:T=>b("lastName",T),placeholder:"Doe",error:o.lastName,success:c.lastName,required:!0})]}),u.jsx(oa,{label:"Email Address",id:"email",type:"email",value:g.email,onChange:T=>b("email",T),placeholder:"john@college.edu",error:o.email,success:c.email,required:!0}),r!=="forgot"&&u.jsx(oa,{label:"Password",id:"password",type:"password",value:g.password,onChange:T=>b("password",T),placeholder:"",error:o.password,success:c.password,required:!0}),r==="signup"&&u.jsx(oa,{label:"Confirm Password",id:"confirmPassword",type:"password",value:g.confirmPassword,onChange:T=>b("confirmPassword",T),placeholder:"",error:o.confirmPassword,success:c.confirmPassword,required:!0}),u.jsx(nl,{type:"submit",variant:"hero",size:"lg",className:"w-full mt-6",disabled:a,children:a?u.jsxs(u.Fragment,{children:[u.jsx(Zc,{size:"sm",className:"mr-2"}),r==="signup"?"Creating Account...":r==="forgot"?"Sending Reset...":"Signing In..."]}):r==="signup"?"Create Account":r==="forgot"?"Send Reset Link":"Sign In"})]}),r!=="forgot"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx(tO,{className:"w-full"})}),u.jsx("div",{className:"relative flex justify-center text-xs",children:u.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),u.jsxs(nl,{variant:"outline",size:"lg",className:"w-full",onClick:S,disabled:a,rippleColor:"rgba(59, 130, 246, 0.3)",children:[u.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})]}),u.jsxs("div",{className:"space-y-2 text-center text-sm",children:[r==="signin"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>A("forgot"),className:"text-primary hover:underline block w-full",children:"Forgot your password?"}),u.jsx("button",{type:"button",onClick:()=>A("signup"),className:"text-muted-foreground hover:text-foreground hover:underline block w-full",children:"Don't have an account? Sign up"})]}),r==="signup"&&u.jsx("button",{type:"button",onClick:()=>A("signin"),className:"text-muted-foreground hover:text-foreground hover:underline block w-full",children:"Already have an account? Sign in"}),r==="forgot"&&u.jsx("button",{type:"button",onClick:()=>A("signin"),className:"text-muted-foreground hover:text-foreground hover:underline block w-full",children:"Back to sign in"})]}),r==="signup"&&u.jsxs("div",{className:"text-xs text-muted-foreground text-center space-y-1",children:[u.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[u.jsx(Dv,{className:"w-3 h-3"}),u.jsx("span",{children:"Password requirements:"})]}),u.jsxs("ul",{className:"space-y-1",children:[u.jsx("li",{children:" At least 8 characters long"}),u.jsx("li",{children:" Contains uppercase and lowercase letters"}),u.jsx("li",{children:" Contains at least one number"})]})]})]})]})})},nO=({onContactClick:t,onScheduleClick:e})=>{const[n,r]=_.useState(!1),[i,a]=_.useState(!1),[s,o]=_.useState("signin"),l=pi(),{user:c,signOut:d}=zn(),f=()=>{o("signin"),a(!0)},h=()=>{o("signup"),a(!0)},p=async()=>{try{await d(),l("/")}catch(m){console.error("Sign out error:",m)}};return u.jsxs("nav",{id:"navigation",className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border/50",role:"navigation","aria-label":"Main navigation",children:[u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer logo-hover",onClick:()=>l("/"),children:[u.jsx("div",{className:"w-10 h-10 bg-ai-gradient rounded-lg flex items-center justify-center",children:u.jsx(Mi,{className:"w-6 h-6 text-white"})}),u.jsx("span",{className:"text-xl font-bold bg-ai-gradient bg-clip-text text-transparent logo-colorful",children:"AdmitConnect AI"})]}),u.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[u.jsx("button",{onClick:()=>{var m;window.location.pathname!=="/"?(l("/"),setTimeout(()=>{var g;(g=document.getElementById("features"))==null||g.scrollIntoView({behavior:"smooth"})},100)):(m=document.getElementById("features"))==null||m.scrollIntoView({behavior:"smooth"})},className:"text-muted-foreground hover:text-foreground transition-colors",children:"Features"}),u.jsx("button",{onClick:()=>{var m;window.location.pathname!=="/"?(l("/"),setTimeout(()=>{var g;(g=document.getElementById("pricing"))==null||g.scrollIntoView({behavior:"smooth"})},100)):(m=document.getElementById("pricing"))==null||m.scrollIntoView({behavior:"smooth"})},className:"text-muted-foreground hover:text-foreground transition-colors",children:"Pricing"}),u.jsx("button",{onClick:()=>l("/about"),className:"text-muted-foreground hover:text-foreground transition-colors",children:"About"}),u.jsx("button",{onClick:()=>l("/our-services"),className:"text-muted-foreground hover:text-foreground transition-colors",children:"Services"}),c?u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(se,{variant:"outline",onClick:()=>l("/dashboard"),className:"hover-lift",children:"Dashboard"}),u.jsx(se,{variant:"ghost",onClick:p,className:"hover-lift",children:"Sign Out"})]}):u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(se,{variant:"outline",onClick:f,className:"hover-lift",children:"Sign In"}),u.jsx(se,{variant:"hero",onClick:h,className:"hover-lift",children:"Get Started"})]})]}),u.jsx("div",{className:"md:hidden",children:u.jsx(se,{variant:"ghost",size:"icon",onClick:()=>r(!n),children:n?u.jsx(Gm,{className:"w-5 h-5"}):u.jsx(Aee,{className:"w-5 h-5"})})})]}),n&&u.jsx("div",{className:"md:hidden pb-4 border-t border-border/50 mt-2",children:u.jsxs("div",{className:"flex flex-col space-y-3 pt-4",children:[u.jsx("button",{onClick:()=>{var m;(m=document.getElementById("features"))==null||m.scrollIntoView({behavior:"smooth"}),r(!1)},className:"text-muted-foreground hover:text-foreground transition-colors text-left",children:"Features"}),u.jsx("button",{onClick:()=>{var m;(m=document.getElementById("pricing"))==null||m.scrollIntoView({behavior:"smooth"}),r(!1)},className:"text-muted-foreground hover:text-foreground transition-colors text-left",children:"Pricing"}),u.jsx("button",{onClick:()=>{l("/about"),r(!1)},className:"text-muted-foreground hover:text-foreground transition-colors text-left",children:"About"}),u.jsx("button",{onClick:()=>{l("/our-services"),r(!1)},className:"text-muted-foreground hover:text-foreground transition-colors text-left",children:"Services"}),u.jsx("div",{className:"flex flex-col space-y-2 pt-2",children:c?u.jsxs(u.Fragment,{children:[u.jsx(se,{variant:"outline",onClick:()=>{l("/dashboard"),r(!1)},className:"w-full justify-center",children:"Dashboard"}),u.jsx(se,{variant:"ghost",onClick:()=>{p(),r(!1)},className:"w-full justify-center",children:"Sign Out"})]}):u.jsxs(u.Fragment,{children:[u.jsx(se,{variant:"outline",onClick:()=>{f(),r(!1)},className:"w-full justify-center",children:"Sign In"}),u.jsx(se,{variant:"hero",onClick:()=>{h(),r(!1)},className:"w-full justify-center",children:"Get Started"})]})})]})})]}),u.jsx(y_e,{open:i,onOpenChange:a,defaultMode:s})]})},dH=()=>u.jsx("footer",{className:"bg-card/50 border-t border-border/50 py-12",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-10 h-10 bg-ai-gradient rounded-lg flex items-center justify-center",children:u.jsx(Mi,{className:"w-6 h-6 text-white"})}),u.jsx("span",{className:"text-xl font-bold bg-ai-gradient bg-clip-text text-transparent",children:"AdmitConnect AI"})]}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"Revolutionizing college admissions through AI-powered automation and intelligent campaign management."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"font-semibold text-lg",children:"Quick Links"}),u.jsxs("div",{className:"flex flex-col space-y-2",children:[u.jsx("a",{href:"/",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Home"}),u.jsx("a",{href:"/about",className:"text-muted-foreground hover:text-foreground transition-colors",children:"About"}),u.jsx("a",{href:"/our-services",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Services"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"font-semibold text-lg",children:"Get in Touch"}),u.jsxs("div",{className:"flex flex-col space-y-3",children:[u.jsxs("a",{href:"https://mail.google.com/mail/?view=cm&fs=1&to=admitconnectAI@gmail.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-muted-foreground hover:text-foreground transition-colors group",children:[u.jsx(ti,{className:"w-5 h-5 group-hover:text-primary transition-colors"}),u.jsx("span",{className:"text-sm",children:"admitconnectAI@gmail.com"})]}),u.jsxs("a",{href:"https://wa.me/918439663198",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-muted-foreground hover:text-foreground transition-colors group",children:[u.jsx(Bv,{className:"w-5 h-5 group-hover:text-primary transition-colors"}),u.jsx("span",{className:"text-sm",children:"+91 8439663198"})]})]}),u.jsxs("div",{className:"flex space-x-3 pt-2",children:[u.jsx(se,{size:"sm",variant:"outline",asChild:!0,className:"hover-lift",children:u.jsxs("a",{href:"https://mail.google.com/mail/?view=cm&fs=1&to=admitconnectAI@gmail.com",target:"_blank",rel:"noopener noreferrer",children:[u.jsx(ti,{className:"w-4 h-4 mr-2"}),"Email Us"]})}),u.jsx(se,{size:"sm",variant:"hero",asChild:!0,className:"hover-lift",children:u.jsxs("a",{href:"https://wa.me/918439663198",target:"_blank",rel:"noopener noreferrer",children:[u.jsx(Bv,{className:"w-4 h-4 mr-2"}),"WhatsApp"]})})]})]})]}),u.jsx("div",{className:"mt-12 pt-8 border-t border-border/50 text-center",children:u.jsxs("p",{className:"text-muted-foreground text-sm",children:[" ",new Date().getFullYear()," AdmitConnect AI. All rights reserved."]})})]})}),v_e=({onWatchDemoClick:t,onScheduleDemoClick:e})=>{const n=pi(),{user:r}=zn(),i=()=>{n(r?"/dashboard":"/auth")},a=[{icon:Di,title:"AI Voice Calls",description:"Natural, human-like voice conversations with candidates"},{icon:$r,title:"WhatsApp Automation",description:"Personalized messages with delivery tracking"},{icon:ul,title:"Analytics Dashboard",description:"Real-time campaign performance and insights"},{icon:mB,title:"Enterprise Security",description:"Bank-level security with IP monitoring"},{icon:Rr,title:"Lightning Fast",description:"Process thousands of candidates in minutes"},{icon:Mi,title:"AI-Powered",description:"Advanced AI handles conversations automatically"}];return u.jsxs("div",{className:"min-h-screen pt-16 hero-black hero-rainbow-hover",children:[u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:u.jsxs("div",{className:"text-center space-y-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-primary/10 border border-primary/20 mb-4",children:[u.jsx(rd,{className:"w-4 h-4 mr-2 text-primary"}),u.jsx("span",{className:"text-sm text-primary font-medium",children:"AI-Powered Admission Automation"})]}),u.jsxs("h1",{className:"text-4xl sm:text-6xl lg:text-7xl font-bold leading-tight",children:[u.jsx("span",{className:"block text-foreground",children:"Revolutionize"}),u.jsx("span",{className:"block bg-ai-gradient bg-clip-text text-transparent logo-colorful",children:"College Admissions"}),u.jsx("span",{className:"block text-foreground",children:"with AI"})]}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"Automate voice calls, WhatsApp messaging, and candidate outreach with our intelligent AI system. Increase enrollment rates by 300% while reducing manual work by 90%."})]}),u.jsx(ur,{delay:300,children:u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[u.jsxs(nl,{variant:"hero",size:"lg",onClick:i,className:"px-8 py-4 text-lg hover-lift animate-bounce-in",children:["Start Free Trial",u.jsx(Nd,{className:"w-5 h-5 ml-2"})]}),u.jsx(nl,{variant:"outline",size:"lg",onClick:t,className:"px-8 py-4 text-lg hover-lift",rippleColor:"rgba(59, 130, 246, 0.5)",children:"Watch Demo"})]})}),u.jsx(h0,{direction:"up",delay:500,children:u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-8 mt-16 pt-16 border-t border-border/50",children:[u.jsx(ur,{delay:100,children:u.jsxs("div",{className:"text-center hover:scale-105 transition-transform duration-300",children:[u.jsx("div",{className:"text-3xl sm:text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent logo-colorful animate-text-focus",children:"10,000+"}),u.jsx("p",{className:"text-muted-foreground mt-2",children:"Students Contacted Daily"})]})}),u.jsx(ur,{delay:200,children:u.jsxs("div",{className:"text-center hover:scale-105 transition-transform duration-300",children:[u.jsx("div",{className:"text-3xl sm:text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent logo-colorful animate-text-focus",children:"300%"}),u.jsx("p",{className:"text-muted-foreground mt-2",children:"Increase in Enrollment"})]})}),u.jsx(ur,{delay:300,children:u.jsxs("div",{className:"text-center hover:scale-105 transition-transform duration-300",children:[u.jsx("div",{className:"text-3xl sm:text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent logo-colorful animate-text-focus",children:"90%"}),u.jsx("p",{className:"text-muted-foreground mt-2",children:"Reduction in Manual Work"})]})})]})})]})}),u.jsx("div",{className:"py-20 bg-ai-gradient-subtle",id:"features",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center space-y-4 mb-16",children:[u.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-foreground",children:"Powerful Features for Modern Admissions"}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Everything you need to transform your admission process and connect with students effectively"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map((s,o)=>{const l=s.icon;return u.jsx(h0,{direction:"up",delay:o*100,className:"group h-full",children:u.jsx(ee,{className:"relative p-6 bg-card/50 backdrop-blur-sm border-border/50 hover-lift glow-border shine-effect h-full flex flex-col overflow-hidden transition-all duration-500 before:absolute before:inset-0 before:bg-ai-gradient-glow before:opacity-0 before:transition-opacity before:duration-500 hover:before:opacity-100 hover:shadow-glow",children:u.jsxs("div",{className:"space-y-4 flex-1 flex flex-col relative z-10",children:[u.jsxs("div",{className:"relative w-14 h-14 bg-ai-gradient-shine rounded-xl flex items-center justify-center group-hover:rotate-12 group-hover:scale-110 transition-all duration-500 shadow-glow",children:[u.jsx("div",{className:"absolute inset-0 bg-ai-gradient-shine rounded-xl opacity-0 group-hover:opacity-100 blur-xl transition-opacity duration-500"}),u.jsx(l,{className:"w-7 h-7 text-white relative z-10 group-hover:drop-shadow-[0_0_8px_rgba(255,255,255,0.8)] transition-all duration-500"})]}),u.jsx("h3",{className:"text-xl font-semibold text-card-foreground group-hover:text-primary-glow transition-colors duration-300 group-hover:drop-shadow-[0_0_12px_rgba(59,130,246,0.6)]",children:s.title}),u.jsx("p",{className:"text-muted-foreground flex-1 group-hover:text-foreground/90 transition-colors duration-300",children:s.description})]})})},o)})}),u.jsx(ur,{delay:400,children:u.jsx("div",{className:"text-center mt-16",children:u.jsxs(nl,{variant:"hero",size:"lg",onClick:e,className:"hover-lift pulse",children:["Schedule Demo",u.jsx(Nd,{className:"w-5 h-5 ml-2"})]})})})]})})]})},x_e=({onContactClick:t,onScheduleClick:e})=>{pi();const n=[{name:"Starter",price:"$29",period:"/month",description:"Perfect for small colleges and testing",icon:mT,features:["500 voice calls/month","1,000 WhatsApp messages","Basic analytics dashboard","Email support","2 campaign templates","CSV upload"],buttonVariant:"outline",popular:!1},{name:"Professional",price:"$99",period:"/month",description:"For growing institutions",icon:Cee,features:["2,500 voice calls/month","5,000 WhatsApp messages","Advanced analytics & reports","Priority support","Unlimited campaign templates","CSV & Excel upload","Custom voice training","A/B testing"],buttonVariant:"hero",popular:!0},{name:"Enterprise",price:"$299",period:"/month",description:"For large institutions and universities",icon:hB,features:["10,000+ voice calls/month","20,000+ WhatsApp messages","Custom analytics dashboard","24/7 phone support","White-label solution","API access","Dedicated account manager","Custom integrations","Multi-language support"],buttonVariant:"premium",popular:!1}];return u.jsx("div",{className:"py-20 bg-background",id:"pricing",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center space-y-4 mb-16",children:[u.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-foreground",children:"Choose Your Perfect Plan"}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Scale your admission automation with transparent pricing that grows with your institution"})]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:n.map((r,i)=>{const a=r.icon;return u.jsxs(ee,{className:`relative p-8 bg-card/50 backdrop-blur-sm border-border/50 hover-lift ${r.popular?"popular-glow glow-border":""}`,children:[r.popular&&u.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:u.jsx("div",{className:"bg-ai-gradient text-white px-4 py-1 rounded-full text-sm font-medium",children:"Most Popular"})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("div",{className:"w-12 h-12 bg-ai-gradient rounded-lg flex items-center justify-center mx-auto",children:u.jsx(a,{className:"w-6 h-6 text-white"})}),u.jsx("h3",{className:"text-2xl font-bold text-card-foreground",children:r.name}),u.jsx("p",{className:"text-muted-foreground",children:r.description})]}),u.jsx("div",{className:"text-center",children:u.jsxs("div",{className:"flex items-baseline justify-center",children:[u.jsx("span",{className:"text-5xl font-bold bg-ai-gradient bg-clip-text text-transparent logo-colorful",children:r.price}),u.jsx("span",{className:"text-muted-foreground ml-1",children:r.period})]})}),u.jsx("div",{className:"space-y-3",children:r.features.map((s,o)=>u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(Ux,{className:"w-5 h-5 text-primary flex-shrink-0"}),u.jsx("span",{className:"text-card-foreground",children:s})]},o))}),u.jsxs(se,{variant:r.buttonVariant,size:"lg",onClick:()=>window.open("https://rzp.io/rzp/DOVfKeU","_blank"),className:"w-full hover-lift",children:["Get Started with ",r.name]})]})]},i)})}),u.jsxs("div",{className:"text-center mt-16 p-8 bg-card/30 rounded-2xl border border-border/50",children:[u.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:"Need a Custom Solution?"}),u.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:"For enterprises with specific requirements, we offer custom solutions with dedicated support, advanced integrations, and tailored features."}),u.jsx(se,{variant:"outline",size:"lg",onClick:t,className:"hover-lift",children:"Contact Sales Team"})]})]})})};function rO(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var b_e=[" ","Enter","ArrowUp","ArrowDown"],w_e=[" ","Enter"],fg="Select",[Mb,Lb,__e]=Fx(fg),[Mf,cWe]=Sa(fg,[__e,Af]),Db=Af(),[S_e,$l]=Mf(fg),[E_e,j_e]=Mf(fg),fH=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:s,defaultValue:o,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:p,form:m}=t,g=Db(e),[v,y]=_.useState(null),[b,x]=_.useState(null),[w,S]=_.useState(!1),E=dg(c),[A=!1,j]=as({prop:r,defaultProp:i,onChange:a}),[C,T]=as({prop:s,defaultProp:o,onChange:l}),k=_.useRef(null),N=v?m||!!v.closest("form"):!0,[H,R]=_.useState(new Set),D=Array.from(H).map(z=>z.props.value).join(";");return u.jsx(CT,{...g,children:u.jsxs(S_e,{required:p,scope:e,trigger:v,onTriggerChange:y,valueNode:b,onValueNodeChange:x,valueNodeHasChildren:w,onValueNodeHasChildrenChange:S,contentId:pa(),value:C,onValueChange:T,open:A,onOpenChange:j,dir:E,triggerPointerDownPosRef:k,disabled:h,children:[u.jsx(Mb.Provider,{scope:e,children:u.jsx(E_e,{scope:t.__scopeSelect,onNativeOptionAdd:_.useCallback(z=>{R(V=>new Set(V).add(z))},[]),onNativeOptionRemove:_.useCallback(z=>{R(V=>{const M=new Set(V);return M.delete(z),M})},[]),children:n})}),N?u.jsxs(LH,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:z=>T(z.target.value),disabled:h,form:m,children:[C===void 0?u.jsx("option",{value:""}):null,Array.from(H)]},D):null]})})};fH.displayName=fg;var hH="SelectTrigger",pH=_.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=Db(n),s=$l(hH,n),o=s.disabled||r,l=rt(e,s.onTriggerChange),c=Lb(n),d=_.useRef("touch"),[f,h,p]=DH(g=>{const v=c().filter(x=>!x.disabled),y=v.find(x=>x.value===s.value),b=FH(v,g,y);b!==void 0&&s.onValueChange(b.value)}),m=g=>{o||(s.onOpenChange(!0),p()),g&&(s.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return u.jsx(TT,{asChild:!0,...a,children:u.jsx(Pe.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":MH(s.value)?"":void 0,...i,ref:l,onClick:he(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&m(g)}),onPointerDown:he(i.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(m(g),g.preventDefault())}),onKeyDown:he(i.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(v&&g.key===" ")&&b_e.includes(g.key)&&(m(),g.preventDefault())})})})});pH.displayName=hH;var mH="SelectValue",gH=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:s="",...o}=t,l=$l(mH,n),{onValueNodeHasChildrenChange:c}=l,d=a!==void 0,f=rt(e,l.onValueNodeChange);return jn(()=>{c(d)},[c,d]),u.jsx(Pe.span,{...o,ref:f,style:{pointerEvents:"none"},children:MH(l.value)?u.jsx(u.Fragment,{children:s}):a})});gH.displayName=mH;var A_e="SelectIcon",yH=_.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return u.jsx(Pe.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});yH.displayName=A_e;var C_e="SelectPortal",vH=t=>u.jsx(Hm,{asChild:!0,...t});vH.displayName=C_e;var Dc="SelectContent",xH=_.forwardRef((t,e)=>{const n=$l(Dc,t.__scopeSelect),[r,i]=_.useState();if(jn(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?qc.createPortal(u.jsx(bH,{scope:t.__scopeSelect,children:u.jsx(Mb.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),a):null}return u.jsx(wH,{...t,ref:e})});xH.displayName=Dc;var Zi=10,[bH,Rl]=Mf(Dc),T_e="SelectContentImpl",wH=_.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:v,...y}=t,b=$l(Dc,n),[x,w]=_.useState(null),[S,E]=_.useState(null),A=rt(e,O=>w(O)),[j,C]=_.useState(null),[T,k]=_.useState(null),N=Lb(n),[H,R]=_.useState(!1),D=_.useRef(!1);_.useEffect(()=>{if(x)return Xk(x)},[x]),Yk();const z=_.useCallback(O=>{const[K,...B]=N().map(Y=>Y.ref.current),[Z]=B.slice(-1),J=document.activeElement;for(const Y of O)if(Y===J||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===K&&S&&(S.scrollTop=0),Y===Z&&S&&(S.scrollTop=S.scrollHeight),Y==null||Y.focus(),document.activeElement!==J))return},[N,S]),V=_.useCallback(()=>z([j,x]),[z,j,x]);_.useEffect(()=>{H&&V()},[H,V]);const{onOpenChange:M,triggerPointerDownPosRef:L}=b;_.useEffect(()=>{if(x){let O={x:0,y:0};const K=Z=>{var J,Y;O={x:Math.abs(Math.round(Z.pageX)-(((J=L.current)==null?void 0:J.x)??0)),y:Math.abs(Math.round(Z.pageY)-(((Y=L.current)==null?void 0:Y.y)??0))}},B=Z=>{O.x<=10&&O.y<=10?Z.preventDefault():x.contains(Z.target)||M(!1),document.removeEventListener("pointermove",K),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",K),document.addEventListener("pointerup",B,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",B,{capture:!0})}}},[x,M,L]),_.useEffect(()=>{const O=()=>M(!1);return window.addEventListener("blur",O),window.addEventListener("resize",O),()=>{window.removeEventListener("blur",O),window.removeEventListener("resize",O)}},[M]);const[P,W]=DH(O=>{const K=N().filter(J=>!J.disabled),B=K.find(J=>J.ref.current===document.activeElement),Z=FH(K,O,B);Z&&setTimeout(()=>Z.ref.current.focus())}),G=_.useCallback((O,K,B)=>{const Z=!D.current&&!B;(b.value!==void 0&&b.value===K||Z)&&(C(O),Z&&(D.current=!0))},[b.value]),$=_.useCallback(()=>x==null?void 0:x.focus(),[x]),te=_.useCallback((O,K,B)=>{const Z=!D.current&&!B;(b.value!==void 0&&b.value===K||Z)&&k(O)},[b.value]),ie=r==="popper"?Sj:_H,I=ie===Sj?{side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:v}:{};return u.jsx(bH,{scope:n,content:x,viewport:S,onViewportChange:E,itemRefCallback:G,selectedItem:j,onItemLeave:$,itemTextRefCallback:te,focusSelectedItem:V,selectedItemText:T,position:r,isPositioned:H,searchRef:P,children:u.jsx(Rb,{as:cl,allowPinchZoom:!0,children:u.jsx(Ib,{asChild:!0,trapped:b.open,onMountAutoFocus:O=>{O.preventDefault()},onUnmountAutoFocus:he(i,O=>{var K;(K=b.trigger)==null||K.focus({preventScroll:!0}),O.preventDefault()}),children:u.jsx(_f,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:O=>O.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:u.jsx(ie,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:O=>O.preventDefault(),...y,...I,onPlaced:()=>R(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:he(y.onKeyDown,O=>{const K=O.ctrlKey||O.altKey||O.metaKey;if(O.key==="Tab"&&O.preventDefault(),!K&&O.key.length===1&&W(O.key),["ArrowUp","ArrowDown","Home","End"].includes(O.key)){let Z=N().filter(J=>!J.disabled).map(J=>J.ref.current);if(["ArrowUp","End"].includes(O.key)&&(Z=Z.slice().reverse()),["ArrowUp","ArrowDown"].includes(O.key)){const J=O.target,Y=Z.indexOf(J);Z=Z.slice(Y+1)}setTimeout(()=>z(Z)),O.preventDefault()}})})})})})})});wH.displayName=T_e;var k_e="SelectItemAlignedPosition",_H=_.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=$l(Dc,n),s=Rl(Dc,n),[o,l]=_.useState(null),[c,d]=_.useState(null),f=rt(e,A=>d(A)),h=Lb(n),p=_.useRef(!1),m=_.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:y,focusSelectedItem:b}=s,x=_.useCallback(()=>{if(a.trigger&&a.valueNode&&o&&c&&g&&v&&y){const A=a.trigger.getBoundingClientRect(),j=c.getBoundingClientRect(),C=a.valueNode.getBoundingClientRect(),T=y.getBoundingClientRect();if(a.dir!=="rtl"){const J=T.left-j.left,Y=C.left-J,me=A.left-Y,le=A.width+me,ve=Math.max(le,j.width),oe=window.innerWidth-Zi,ze=wj(Y,[Zi,Math.max(Zi,oe-ve)]);o.style.minWidth=le+"px",o.style.left=ze+"px"}else{const J=j.right-T.right,Y=window.innerWidth-C.right-J,me=window.innerWidth-A.right-Y,le=A.width+me,ve=Math.max(le,j.width),oe=window.innerWidth-Zi,ze=wj(Y,[Zi,Math.max(Zi,oe-ve)]);o.style.minWidth=le+"px",o.style.right=ze+"px"}const k=h(),N=window.innerHeight-Zi*2,H=g.scrollHeight,R=window.getComputedStyle(c),D=parseInt(R.borderTopWidth,10),z=parseInt(R.paddingTop,10),V=parseInt(R.borderBottomWidth,10),M=parseInt(R.paddingBottom,10),L=D+z+H+M+V,P=Math.min(v.offsetHeight*5,L),W=window.getComputedStyle(g),G=parseInt(W.paddingTop,10),$=parseInt(W.paddingBottom,10),te=A.top+A.height/2-Zi,ie=N-te,I=v.offsetHeight/2,O=v.offsetTop+I,K=D+z+O,B=L-K;if(K<=te){const J=k.length>0&&v===k[k.length-1].ref.current;o.style.bottom="0px";const Y=c.clientHeight-g.offsetTop-g.offsetHeight,me=Math.max(ie,I+(J?$:0)+Y+V),le=K+me;o.style.height=le+"px"}else{const J=k.length>0&&v===k[0].ref.current;o.style.top="0px";const me=Math.max(te,D+g.offsetTop+(J?G:0)+I)+B;o.style.height=me+"px",g.scrollTop=K-te+g.offsetTop}o.style.margin=`${Zi}px 0`,o.style.minHeight=P+"px",o.style.maxHeight=N+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,o,c,g,v,y,a.dir,r]);jn(()=>x(),[x]);const[w,S]=_.useState();jn(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const E=_.useCallback(A=>{A&&m.current===!0&&(x(),b==null||b(),m.current=!1)},[x,b]);return u.jsx(N_e,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:E,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:u.jsx(Pe.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});_H.displayName=k_e;var O_e="SelectPopperPosition",Sj=_.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Zi,...a}=t,s=Db(n);return u.jsx(kT,{...s,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Sj.displayName=O_e;var[N_e,iO]=Mf(Dc,{}),Ej="SelectViewport",SH=_.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=Rl(Ej,n),s=iO(Ej,n),o=rt(e,a.onViewportChange),l=_.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(Mb.Slot,{scope:n,children:u.jsx(Pe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:he(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=s;if(h!=null&&h.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const m=window.innerHeight-Zi*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),y=Math.max(g,v);if(y<m){const b=y+p,x=Math.min(m,b),w=b-x;f.style.height=x+"px",f.style.bottom==="0px"&&(d.scrollTop=w>0?w:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});SH.displayName=Ej;var EH="SelectGroup",[P_e,I_e]=Mf(EH),$_e=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=pa();return u.jsx(P_e,{scope:n,id:i,children:u.jsx(Pe.div,{role:"group","aria-labelledby":i,...r,ref:e})})});$_e.displayName=EH;var jH="SelectLabel",AH=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=I_e(jH,n);return u.jsx(Pe.div,{id:i.id,...r,ref:e})});AH.displayName=jH;var p0="SelectItem",[R_e,CH]=Mf(p0),TH=_.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...s}=t,o=$l(p0,n),l=Rl(p0,n),c=o.value===r,[d,f]=_.useState(a??""),[h,p]=_.useState(!1),m=rt(e,b=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,b,r,i)}),g=pa(),v=_.useRef("touch"),y=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(R_e,{scope:n,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:_.useCallback(b=>{f(x=>x||((b==null?void 0:b.textContent)??"").trim())},[]),children:u.jsx(Mb.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:u.jsx(Pe.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:m,onFocus:he(s.onFocus,()=>p(!0)),onBlur:he(s.onBlur,()=>p(!1)),onClick:he(s.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:he(s.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:he(s.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:he(s.onPointerMove,b=>{var x;v.current=b.pointerType,i?(x=l.onItemLeave)==null||x.call(l):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:he(s.onPointerLeave,b=>{var x;b.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:he(s.onKeyDown,b=>{var w;((w=l.searchRef)==null?void 0:w.current)!==""&&b.key===" "||(w_e.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});TH.displayName=p0;var Rh="SelectItemText",kH=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,s=$l(Rh,n),o=Rl(Rh,n),l=CH(Rh,n),c=j_e(Rh,n),[d,f]=_.useState(null),h=rt(e,y=>f(y),l.onItemTextChange,y=>{var b;return(b=o.itemTextRefCallback)==null?void 0:b.call(o,y,l.value,l.disabled)}),p=d==null?void 0:d.textContent,m=_.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=c;return jn(()=>(g(m),()=>v(m)),[g,v,m]),u.jsxs(u.Fragment,{children:[u.jsx(Pe.span,{id:l.textId,...a,ref:h}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?qc.createPortal(a.children,s.valueNode):null]})});kH.displayName=Rh;var OH="SelectItemIndicator",NH=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return CH(OH,n).isSelected?u.jsx(Pe.span,{"aria-hidden":!0,...r,ref:e}):null});NH.displayName=OH;var jj="SelectScrollUpButton",PH=_.forwardRef((t,e)=>{const n=Rl(jj,t.__scopeSelect),r=iO(jj,t.__scopeSelect),[i,a]=_.useState(!1),s=rt(e,r.onScrollButtonChange);return jn(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=l.scrollTop>0;a(c)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?u.jsx($H,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});PH.displayName=jj;var Aj="SelectScrollDownButton",IH=_.forwardRef((t,e)=>{const n=Rl(Aj,t.__scopeSelect),r=iO(Aj,t.__scopeSelect),[i,a]=_.useState(!1),s=rt(e,r.onScrollButtonChange);return jn(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;a(d)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?u.jsx($H,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});IH.displayName=Aj;var $H=_.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=Rl("SelectScrollButton",n),s=_.useRef(null),o=Lb(n),l=_.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return _.useEffect(()=>()=>l(),[l]),jn(()=>{var d;const c=o().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),u.jsx(Pe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:he(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:he(i.onPointerMove,()=>{var c;(c=a.onItemLeave)==null||c.call(a),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:he(i.onPointerLeave,()=>{l()})})}),M_e="SelectSeparator",RH=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(Pe.div,{"aria-hidden":!0,...r,ref:e})});RH.displayName=M_e;var Cj="SelectArrow",L_e=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Db(n),a=$l(Cj,n),s=Rl(Cj,n);return a.open&&s.position==="popper"?u.jsx(OT,{...i,...r,ref:e}):null});L_e.displayName=Cj;function MH(t){return t===""||t===void 0}var LH=_.forwardRef((t,e)=>{const{value:n,...r}=t,i=_.useRef(null),a=rt(e,i),s=rO(n);return _.useEffect(()=>{const o=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&d){const f=new Event("change",{bubbles:!0});d.call(o,n),o.dispatchEvent(f)}},[s,n]),u.jsx(Vm,{asChild:!0,children:u.jsx("select",{...r,ref:a,defaultValue:n})})});LH.displayName="BubbleSelect";function DH(t){const e=Wt(t),n=_.useRef(""),r=_.useRef(0),i=_.useCallback(s=>{const o=n.current+s;e(o),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),a=_.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function FH(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let s=D_e(t,Math.max(a,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function D_e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var F_e=fH,BH=pH,B_e=gH,z_e=yH,U_e=vH,zH=xH,H_e=SH,UH=AH,HH=TH,V_e=kH,W_e=NH,VH=PH,WH=IH,qH=RH;const Ps=F_e,Is=B_e,Ga=_.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(BH,{ref:r,className:je("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(z_e,{asChild:!0,children:u.jsx(fB,{className:"h-4 w-4 opacity-50"})})]}));Ga.displayName=BH.displayName;const GH=_.forwardRef(({className:t,...e},n)=>u.jsx(VH,{ref:n,className:je("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(yee,{className:"h-4 w-4"})}));GH.displayName=VH.displayName;const KH=_.forwardRef(({className:t,...e},n)=>u.jsx(WH,{ref:n,className:je("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(fB,{className:"h-4 w-4"})}));KH.displayName=WH.displayName;const Ka=_.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>u.jsx(U_e,{children:u.jsxs(zH,{ref:i,className:je("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(GH,{}),u.jsx(H_e,{className:je("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(KH,{})]})}));Ka.displayName=zH.displayName;const q_e=_.forwardRef(({className:t,...e},n)=>u.jsx(UH,{ref:n,className:je("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));q_e.displayName=UH.displayName;const rn=_.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(HH,{ref:r,className:je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(W_e,{children:u.jsx(Ux,{className:"h-4 w-4"})})}),u.jsx(V_e,{children:e})]}));rn.displayName=HH.displayName;const G_e=_.forwardRef(({className:t,...e},n)=>u.jsx(qH,{ref:n,className:je("-mx-1 my-1 h-px bg-muted",t),...e}));G_e.displayName=qH.displayName;const Fb=({open:t,onOpenChange:e})=>{const[n,r]=_.useState(""),[i,a]=_.useState(""),[s,o]=_.useState(""),[l,c]=_.useState(""),[d,f]=_.useState(""),[h,p]=_.useState(""),[m,g]=_.useState(!1),{toast:v}=Mt(),y=["9:00 AM - 10:00 AM","10:00 AM - 11:00 AM","11:00 AM - 12:00 PM","2:00 PM - 3:00 PM","3:00 PM - 4:00 PM","4:00 PM - 5:00 PM"],b=async x=>{if(x.preventDefault(),!n||!i||!s||!d){v({title:"Please fill in all required fields",variant:"destructive"});return}g(!0);try{const{error:w}=await Be.from("demo_requests").insert([{name:n,email:i,company:s,role:l,preferred_time:d,message:h}]);if(w)throw w;v({title:"Demo scheduled successfully!",description:"We'll send you a calendar invite within the next hour. Check admitconnectAI@gmail.com"}),r(""),a(""),o(""),c(""),f(""),p(""),e(!1)}catch(w){console.error("Error scheduling demo:",w),v({title:"Failed to schedule demo",description:"Please try again or contact us directly.",variant:"destructive"})}finally{g(!1)}};return u.jsx(Ni,{open:t,onOpenChange:e,children:u.jsxs(ii,{className:"max-w-md",children:[u.jsx(ai,{children:u.jsxs(si,{className:"flex items-center space-x-2",children:[u.jsx(Mp,{className:"w-5 h-5"}),u.jsx("span",{children:"Schedule Your Demo"})]})}),u.jsxs("form",{onSubmit:b,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Le,{htmlFor:"name",children:"Full Name *"}),u.jsx(vt,{id:"name",value:n,onChange:x=>r(x.target.value),placeholder:"John Doe",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Le,{htmlFor:"email",children:"Email *"}),u.jsx(vt,{id:"email",type:"email",value:i,onChange:x=>a(x.target.value),placeholder:"john@university.edu",required:!0})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Le,{htmlFor:"company",children:"Institution/Company *"}),u.jsx(vt,{id:"company",value:s,onChange:x=>o(x.target.value),placeholder:"Harvard University",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Le,{htmlFor:"role",children:"Your Role"}),u.jsx(vt,{id:"role",value:l,onChange:x=>c(x.target.value),placeholder:"Admissions Director"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Le,{htmlFor:"timeSlot",children:"Preferred Time *"}),u.jsxs(Ps,{value:d,onValueChange:f,required:!0,children:[u.jsx(Ga,{children:u.jsx(Is,{placeholder:"Select a time slot"})}),u.jsx(Ka,{children:y.map(x=>u.jsx(rn,{value:x,children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(dl,{className:"w-4 h-4"}),u.jsx("span",{children:x})]})},x))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Le,{htmlFor:"message",children:"Additional Notes"}),u.jsx(ds,{id:"message",value:h,onChange:x=>p(x.target.value),placeholder:"Tell us about your specific needs or questions...",rows:3})]}),u.jsx(se,{type:"submit",variant:"hero",disabled:m,className:"w-full hover-lift",children:m?"Scheduling...":"Schedule Demo"})]}),u.jsx("div",{className:"text-xs text-muted-foreground text-center",children:"Our team will send you a calendar invite within 1 hour. All times are in EST."})]})})},K_e=({open:t,onOpenChange:e})=>{const[n,r]=_.useState(!1),i=[{title:"Getting Started with AdmitConnect AI",description:"Learn how to set up your first campaign in under 5 minutes",thumbnail:"https://img.youtube.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",duration:"4:32",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{title:"AI Voice Call Demo",description:"See our AI making real admission calls to prospective students",thumbnail:"https://img.youtube.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",duration:"3:15",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},{title:"WhatsApp Automation Walkthrough",description:"Complete guide to WhatsApp campaign setup and management",thumbnail:"https://img.youtube.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",duration:"6:45",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"}],a=s=>{window.open(s,"_blank")};return u.jsxs(Ni,{open:t,onOpenChange:e,children:[u.jsxs(ii,{className:"max-w-4xl",children:[u.jsx(ai,{children:u.jsxs(si,{className:"flex items-center space-x-2",children:[u.jsx(Fs,{className:"w-5 h-5"}),u.jsx("span",{children:"Product Demos"})]})}),u.jsxs("div",{className:"space-y-6",children:[u.jsx(ee,{className:"p-6 bg-ai-gradient-subtle border-primary/20",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-6 items-center",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(mT,{className:"w-5 h-5 text-primary"}),u.jsx("span",{className:"text-sm font-medium text-primary",children:"Featured Demo"})]}),u.jsx("h3",{className:"text-2xl font-bold",children:"Complete Platform Overview"}),u.jsx("p",{className:"text-muted-foreground",children:"See how AdmitConnect AI transforms admission workflows with real-world examples and live demonstrations."}),u.jsx(se,{variant:"hero",onClick:()=>r(!0),className:"hover-lift",children:"Schedule Live Demo"})]}),u.jsx("div",{className:"relative",children:u.jsx("div",{className:"aspect-video bg-card rounded-lg flex items-center justify-center border",children:u.jsx(Fs,{className:"w-16 h-16 text-primary"})})})]})}),u.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:i.map((s,o)=>u.jsx(ee,{className:"p-4 hover-lift cursor-pointer h-full flex flex-col",onClick:()=>a(s.url),children:u.jsxs("div",{className:"space-y-3 flex flex-col h-full",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"aspect-video bg-muted rounded-lg flex items-center justify-center",children:u.jsx(Fs,{className:"w-8 h-8 text-primary"})}),u.jsx("div",{className:"absolute bottom-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded",children:s.duration})]}),u.jsxs("div",{className:"space-y-1 flex-1",children:[u.jsx("h4",{className:"font-semibold text-sm line-clamp-2",children:s.title}),u.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:s.description})]}),u.jsxs(se,{variant:"outline",size:"sm",className:"w-full",children:[u.jsx(wee,{className:"w-3 h-3 mr-2"}),"Watch Video"]})]})},o))}),u.jsxs("div",{className:"text-center p-6 bg-card/50 rounded-lg border border-border/50",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Ready to Transform Your Admissions?"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Start your free trial today and see the results within the first week."}),u.jsx(se,{variant:"hero",className:"hover-lift",onClick:()=>window.location.href="/auth",children:"Start Free Trial"})]})]})]}),u.jsx(Fb,{open:n,onOpenChange:r})]})},aO=({open:t,onOpenChange:e})=>{const[n,r]=_.useState(""),[i,a]=_.useState(""),[s,o]=_.useState(""),[l,c]=_.useState(!1),[d,f]=_.useState({}),[h,p]=_.useState({}),{toast:m}=Mt(),g=(b,x)=>{const w={...d},S={...h};switch(b){case"name":x.trim()?x.trim().length<2?(w.name="Name must be at least 2 characters",S.message=!1):(delete w.message,S.message=!0):(w.name="Name is required",S.name=!1);break}return f(w),p(S),!w[b]},v=(b,x)=>{switch(b){case"name":r(x);break;case"email":a(x);break;case"message":o(x);break}x.trim()&&g(b,x)},y=async b=>{b.preventDefault();const x=g("name",n),w=g("email",i),S=g("message",s);if(!x||!w||!S){m({title:"Please fix the errors above",variant:"destructive"});return}c(!0);try{const{error:E}=await Be.from("contact_submissions").insert([{name:n,email:i,message:s}]);if(E)throw E;m({title:"Message sent successfully!",description:"We'll get back to you within 24 hours."}),r(""),a(""),o(""),e(!1)}catch(E){console.error("Error submitting contact form:",E),m({title:"Failed to send message",description:"Please try again or email us directly.",variant:"destructive"})}finally{c(!1)}};return u.jsx(Ni,{open:t,onOpenChange:e,children:u.jsxs(ii,{className:"max-w-md",children:[u.jsx(ai,{children:u.jsxs(si,{className:"flex items-center space-x-2",children:[u.jsx(ti,{className:"w-5 h-5"}),u.jsx("span",{children:"Contact Us"})]})}),u.jsxs("form",{onSubmit:y,className:"space-y-6",children:[u.jsx(oa,{label:"Full Name",id:"name",type:"text",value:n,onChange:b=>v("name",b),placeholder:"Enter your full name",error:d.name,success:h.name,required:!0}),u.jsx(oa,{label:"Email Address",id:"email",type:"email",value:i,onChange:b=>v("email",b),placeholder:"your.email@example.com",error:d.email,success:h.email,required:!0}),u.jsx(oa,{label:"Message",id:"message",type:"textarea",value:s,onChange:b=>v("message",b),placeholder:"Tell us how we can help you transform your admission process...",error:d.message,success:h.message,required:!0}),u.jsx(nl,{type:"submit",variant:"hero",disabled:l,className:"w-full hover-lift",children:l?u.jsxs(u.Fragment,{children:[u.jsx(Zc,{size:"sm",className:"mr-2"}),"Sending Message..."]}):u.jsxs(u.Fragment,{children:[u.jsx(pT,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]}),u.jsx("div",{className:"text-xs text-muted-foreground text-center",children:"We typically respond within 24 hours. All messages are sent to admitconnectAI@gmail.com"})]})})},YH=()=>{const[t,e]=_.useState(!1);_.useEffect(()=>{const r=()=>{window.pageYOffset>300?e(!0):e(!1)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return t?u.jsx(se,{className:"fixed bottom-6 right-6 z-50 rounded-full shadow-glow hover-lift",variant:"hero",size:"icon",onClick:n,children:u.jsx(pee,{className:"w-4 h-4"})}):null},XH=({title:t="AdmitConnect AI - Intelligent College Admission Campaign Management",description:e="Revolutionize your college admission outreach with AI-powered campaign management, automated follow-ups, and real-time analytics. Boost enrollment with smart WhatsApp, voice, and email campaigns.",keywords:n="college admission software, AI campaign management, student recruitment, WhatsApp marketing, voice campaigns, admission analytics, enrollment automation, higher education CRM",image:r="/og-image.jpg",url:i="https://admitconnect.ai",type:a="website",schema:s})=>{const o=t.includes("AdmitConnect AI")?t:`${t} | AdmitConnect AI`,l={"@context":"https://schema.org","@type":"SoftwareApplication",name:"AdmitConnect AI",description:e,url:i,applicationCategory:"Educational Software",operatingSystem:"Web Browser",offers:{"@type":"Offer",category:"SaaS",price:"0",priceCurrency:"USD"},creator:{"@type":"Organization",name:"AdmitConnect AI",url:i}};return u.jsxs(gQ,{children:[u.jsx("title",{children:o}),u.jsx("meta",{name:"description",content:e}),u.jsx("meta",{name:"keywords",content:n}),u.jsx("meta",{name:"robots",content:"index, follow"}),u.jsx("meta",{name:"author",content:"AdmitConnect AI"}),u.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),u.jsx("link",{rel:"canonical",href:i}),u.jsx("meta",{property:"og:title",content:o}),u.jsx("meta",{property:"og:description",content:e}),u.jsx("meta",{property:"og:image",content:r}),u.jsx("meta",{property:"og:url",content:i}),u.jsx("meta",{property:"og:type",content:a}),u.jsx("meta",{property:"og:site_name",content:"AdmitConnect AI"}),u.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),u.jsx("meta",{name:"twitter:title",content:o}),u.jsx("meta",{name:"twitter:description",content:e}),u.jsx("meta",{name:"twitter:image",content:r}),u.jsx("meta",{name:"theme-color",content:"#000000"}),u.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),u.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"black-translucent"}),u.jsx("script",{type:"application/ld+json",children:JSON.stringify(s||l)})]})},Y_e={home:{title:"AdmitConnect AI - Intelligent College Admission Campaign Management",description:"Transform your college admissions process with AI-powered campaign management. Automate WhatsApp, voice, and email outreach with intelligent analytics and real-time tracking.",keywords:"college admission AI, student recruitment automation, admission campaign management, WhatsApp marketing education, voice call automation, enrollment analytics"},dashboard:{title:"Dashboard - AdmitConnect AI",description:"Manage your admission campaigns, track performance metrics, and analyze student engagement data from your comprehensive dashboard.",keywords:"admission dashboard, campaign analytics, student metrics, enrollment tracking"},about:{title:"About Us - AdmitConnect AI",description:"Learn about AdmitConnect AI's mission to revolutionize college admissions through intelligent automation and data-driven insights.",keywords:"about admitconnect, college admission technology, AI education solutions"},services:{title:"Our Services - AdmitConnect AI",description:"Discover our comprehensive suite of AI-powered services for college admission campaigns, including automated outreach, analytics, and student engagement tools.",keywords:"admission services, AI campaign tools, student outreach automation, enrollment services"},pricing:{title:"Pricing Plans - AdmitConnect AI",description:"Choose the perfect plan for your institution. Flexible pricing options for colleges and universities of all sizes.",keywords:"admission software pricing, AI campaign costs, college enrollment plans"}},X_e=()=>{const[t,e]=_.useState(!1),[n,r]=_.useState(!1),[i,a]=_.useState(!1);return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(XH,{...Y_e.home}),u.jsx(nO,{onContactClick:()=>a(!0),onScheduleClick:()=>r(!0)}),u.jsxs("main",{id:"main-content",tabIndex:-1,className:"focus:outline-none",children:[u.jsx(v_e,{onWatchDemoClick:()=>e(!0),onScheduleDemoClick:()=>r(!0)}),u.jsx(x_e,{onContactClick:()=>a(!0),onScheduleClick:()=>r(!0)})]}),u.jsx(K_e,{open:t,onOpenChange:e}),u.jsx(Fb,{open:n,onOpenChange:r}),u.jsx(aO,{open:i,onOpenChange:a}),u.jsx(dH,{}),u.jsx(YH,{})]})},Z_e=()=>{const[t]=IJ(),e=pi(),{toast:n}=Mt(),{signIn:r,signUp:i,signInWithGoogle:a,user:s}=zn(),[o,l]=_.useState(t.get("mode")==="signup"),[c,d]=_.useState(!1),[f,h]=_.useState(!1),[p,m]=_.useState(""),[g,v]=_.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""});_.useEffect(()=>{l(t.get("mode")==="signup")},[t]),_.useEffect(()=>{s&&e("/dashboard")},[s,e]);const y=w=>{v({...g,[w.target.name]:w.target.value})},b=async w=>{w.preventDefault(),h(!0),m("");try{if(o){if(g.password!==g.confirmPassword)throw new Error("Passwords don't match");if(g.password.length<8)throw new Error("Password must be at least 8 characters");const S=`${g.firstName} ${g.lastName}`.trim();await i(g.email,g.password,S)}else await r(g.email,g.password)}catch(S){console.error("Auth error:",S),m(S.message||"An error occurred"),n({title:"Authentication failed",description:S.message||"Please try again",variant:"destructive"})}finally{h(!1)}},x=async()=>{try{h(!0),await a()}catch(w){console.error("Google sign in error:",w),n({title:"Google sign in failed",description:w.message||"Please try again",variant:"destructive"})}finally{h(!1)}};return u.jsx("div",{className:"min-h-screen bg-ai-gradient-subtle flex items-center justify-center p-4",children:u.jsxs(ee,{className:"w-full max-w-md p-8 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"w-16 h-16 bg-ai-gradient rounded-2xl flex items-center justify-center mx-auto mb-4",children:u.jsx(Mi,{className:"w-8 h-8 text-white"})}),u.jsx("h1",{className:"text-2xl font-bold text-card-foreground",children:o?"Create Account":"Welcome Back"}),u.jsx("p",{className:"text-muted-foreground mt-2",children:o?"Join AdmitConnect AI and transform your admissions":"Sign in to your AdmitConnect AI account"})]}),u.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o&&u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(Le,{htmlFor:"firstName",children:"First Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(Dp,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(vt,{id:"firstName",name:"firstName",type:"text",placeholder:"John",value:g.firstName,onChange:y,className:"pl-10",required:o})]})]}),u.jsxs("div",{children:[u.jsx(Le,{htmlFor:"lastName",children:"Last Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(Dp,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(vt,{id:"lastName",name:"lastName",type:"text",placeholder:"Doe",value:g.lastName,onChange:y,className:"pl-10",required:o})]})]})]}),u.jsxs("div",{children:[u.jsx(Le,{htmlFor:"email",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(ti,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(vt,{id:"email",name:"email",type:"email",placeholder:"john@college.edu",value:g.email,onChange:y,className:"pl-10",required:!0})]})]}),u.jsxs("div",{children:[u.jsx(Le,{htmlFor:"password",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(mI,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(vt,{id:"password",name:"password",type:c?"text":"password",placeholder:"",value:g.password,onChange:y,className:"pl-10 pr-10",required:!0}),u.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:c?u.jsx(_ee,{className:"h-4 w-4"}):u.jsx(See,{className:"h-4 w-4"})})]})]}),o&&u.jsxs("div",{children:[u.jsx(Le,{htmlFor:"confirmPassword",children:"Confirm Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(mI,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),u.jsx(vt,{id:"confirmPassword",name:"confirmPassword",type:c?"text":"password",placeholder:"",value:g.confirmPassword,onChange:y,className:"pl-10",required:o})]})]}),p&&u.jsx("div",{className:"text-destructive text-sm text-center",children:p}),u.jsx(se,{type:"submit",variant:"hero",size:"lg",className:"w-full",disabled:f,children:f?"Please wait...":o?"Create Account":"Sign In"})]}),u.jsxs("div",{className:"mt-6",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-border/50"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),u.jsxs(se,{variant:"outline",size:"lg",className:"w-full mt-4",onClick:x,disabled:f,children:[u.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx("button",{type:"button",onClick:()=>l(!o),className:"text-primary hover:underline text-sm",children:o?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})};function J_e(t,e=[]){let n=[];function r(a,s){const o=_.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||o,v=_.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:v,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||o,m=_.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,d]}const i=()=>{const a=n.map(s=>_.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return _.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,Q_e(i,...e)]}function Q_e(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var S1="rovingFocusGroup.onEntryFocus",e1e={bubbles:!1,cancelable:!0},Bb="RovingFocusGroup",[Tj,ZH,t1e]=Fx(Bb),[n1e,zb]=J_e(Bb,[t1e]),[r1e,i1e]=n1e(Bb),JH=_.forwardRef((t,e)=>u.jsx(Tj.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(Tj.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(a1e,{...t,ref:e})})}));JH.displayName=Bb;var a1e=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,h=_.useRef(null),p=rt(e,h),m=dg(a),[g=null,v]=as({prop:s,defaultProp:o,onChange:l}),[y,b]=_.useState(!1),x=Wt(c),w=ZH(n),S=_.useRef(!1),[E,A]=_.useState(0);return _.useEffect(()=>{const j=h.current;if(j)return j.addEventListener(S1,x),()=>j.removeEventListener(S1,x)},[x]),u.jsx(r1e,{scope:n,orientation:r,dir:m,loop:i,currentTabStopId:g,onItemFocus:_.useCallback(j=>v(j),[v]),onItemShiftTab:_.useCallback(()=>b(!0),[]),onFocusableItemAdd:_.useCallback(()=>A(j=>j+1),[]),onFocusableItemRemove:_.useCallback(()=>A(j=>j-1),[]),children:u.jsx(Pe.div,{tabIndex:y||E===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:he(t.onMouseDown,()=>{S.current=!0}),onFocus:he(t.onFocus,j=>{const C=!S.current;if(j.target===j.currentTarget&&C&&!y){const T=new CustomEvent(S1,e1e);if(j.currentTarget.dispatchEvent(T),!T.defaultPrevented){const k=w().filter(z=>z.focusable),N=k.find(z=>z.active),H=k.find(z=>z.id===g),D=[N,H,...k].filter(Boolean).map(z=>z.ref.current);t7(D,d)}}S.current=!1}),onBlur:he(t.onBlur,()=>b(!1))})})}),QH="RovingFocusGroupItem",e7=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,...s}=t,o=pa(),l=a||o,c=i1e(QH,n),d=c.currentTabStopId===l,f=ZH(n),{onFocusableItemAdd:h,onFocusableItemRemove:p}=c;return _.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),u.jsx(Tj.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:u.jsx(Pe.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...s,ref:e,onMouseDown:he(t.onMouseDown,m=>{r?c.onItemFocus(l):m.preventDefault()}),onFocus:he(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:he(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){c.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const g=l1e(m,c.orientation,c.dir);if(g!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let y=f().filter(b=>b.focusable).map(b=>b.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const b=y.indexOf(m.currentTarget);y=c.loop?c1e(y,b+1):y.slice(b+1)}setTimeout(()=>t7(y))}})})})});e7.displayName=QH;var s1e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function o1e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function l1e(t,e,n){const r=o1e(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return s1e[r]}function t7(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function c1e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var n7=JH,r7=e7,sO="Tabs",[u1e,uWe]=Sa(sO,[zb]),i7=zb(),[d1e,oO]=u1e(sO),a7=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:s="horizontal",dir:o,activationMode:l="automatic",...c}=t,d=dg(o),[f,h]=as({prop:r,onChange:i,defaultProp:a});return u.jsx(d1e,{scope:n,baseId:pa(),value:f,onValueChange:h,orientation:s,dir:d,activationMode:l,children:u.jsx(Pe.div,{dir:d,"data-orientation":s,...c,ref:e})})});a7.displayName=sO;var s7="TabsList",o7=_.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,a=oO(s7,n),s=i7(n);return u.jsx(n7,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:r,children:u.jsx(Pe.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});o7.displayName=s7;var l7="TabsTrigger",c7=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=t,s=oO(l7,n),o=i7(n),l=f7(s.baseId,r),c=h7(s.baseId,r),d=r===s.value;return u.jsx(r7,{asChild:!0,...o,focusable:!i,active:d,children:u.jsx(Pe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:e,onMouseDown:he(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?s.onValueChange(r):f.preventDefault()}),onKeyDown:he(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(r)}),onFocus:he(t.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!i&&f&&s.onValueChange(r)})})})});c7.displayName=l7;var u7="TabsContent",d7=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...s}=t,o=oO(u7,n),l=f7(o.baseId,r),c=h7(o.baseId,r),d=r===o.value,f=_.useRef(d);return _.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),u.jsx(er,{present:i||d,children:({present:h})=>u.jsx(Pe.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});d7.displayName=u7;function f7(t,e){return`${t}-trigger-${e}`}function h7(t,e){return`${t}-content-${e}`}var f1e=a7,p7=o7,m7=c7,g7=d7;const Ml=f1e,co=_.forwardRef(({className:t,...e},n)=>u.jsx(p7,{ref:n,className:je("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));co.displayName=p7.displayName;const ct=_.forwardRef(({className:t,...e},n)=>u.jsx(m7,{ref:n,className:je("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));ct.displayName=m7.displayName;const ut=_.forwardRef(({className:t,...e},n)=>u.jsx(g7,{ref:n,className:je("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ut.displayName=g7.displayName;var y7={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(un,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,a=!r.document&&!!r.postMessage,s=r.IS_PAPA_WORKER||!1,o={},l=0,c={};function d(j){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(C){var T=S(C);T.chunkSize=parseInt(T.chunkSize),C.step||C.chunk||(T.chunkSize=null),this._handle=new g(T),(this._handle.streamer=this)._config=T}).call(this,j),this.parseChunk=function(C,T){var k=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<k){let H=this._config.newline;H||(N=this._config.quoteChar||'"',H=this._handle.guessLineEndings(C,N)),C=[...C.split(H).slice(k)].join(H)}this.isFirstChunk&&A(this._config.beforeFirstChunk)&&(N=this._config.beforeFirstChunk(C))!==void 0&&(C=N),this.isFirstChunk=!1,this._halted=!1;var k=this._partialLine+C,N=(this._partialLine="",this._handle.parse(k,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(C=N.meta.cursor,k=(this._finished||(this._partialLine=k.substring(C-this._baseIndex),this._baseIndex=C),N&&N.data&&(this._rowCount+=N.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)r.postMessage({results:N,workerId:c.WORKER_ID,finished:k});else if(A(this._config.chunk)&&!T){if(this._config.chunk(N,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=N=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(N.data),this._completeResults.errors=this._completeResults.errors.concat(N.errors),this._completeResults.meta=N.meta),this._completed||!k||!A(this._config.complete)||N&&N.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),k||N&&N.meta.paused||this._nextChunk(),N}this._halted=!0},this._sendError=function(C){A(this._config.error)?this._config.error(C):s&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:C,finished:!1})}}function f(j){var C;(j=j||{}).chunkSize||(j.chunkSize=c.RemoteChunkSize),d.call(this,j),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(T){this._input=T,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(C=new XMLHttpRequest,this._config.withCredentials&&(C.withCredentials=this._config.withCredentials),a||(C.onload=E(this._chunkLoaded,this),C.onerror=E(this._chunkError,this)),C.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var T,k=this._config.downloadRequestHeaders;for(T in k)C.setRequestHeader(T,k[T])}var N;this._config.chunkSize&&(N=this._start+this._config.chunkSize-1,C.setRequestHeader("Range","bytes="+this._start+"-"+N));try{C.send(this._config.downloadRequestBody)}catch(H){this._chunkError(H.message)}a&&C.status===0&&this._chunkError()}},this._chunkLoaded=function(){C.readyState===4&&(C.status<200||400<=C.status?this._chunkError():(this._start+=this._config.chunkSize||C.responseText.length,this._finished=!this._config.chunkSize||this._start>=(T=>(T=T.getResponseHeader("Content-Range"))!==null?parseInt(T.substring(T.lastIndexOf("/")+1)):-1)(C),this.parseChunk(C.responseText)))},this._chunkError=function(T){T=C.statusText||T,this._sendError(new Error(T))}}function h(j){(j=j||{}).chunkSize||(j.chunkSize=c.LocalChunkSize),d.call(this,j);var C,T,k=typeof FileReader<"u";this.stream=function(N){this._input=N,T=N.slice||N.webkitSlice||N.mozSlice,k?((C=new FileReader).onload=E(this._chunkLoaded,this),C.onerror=E(this._chunkError,this)):C=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var N=this._input,H=(this._config.chunkSize&&(H=Math.min(this._start+this._config.chunkSize,this._input.size),N=T.call(N,this._start,H)),C.readAsText(N,this._config.encoding));k||this._chunkLoaded({target:{result:H}})},this._chunkLoaded=function(N){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(N.target.result)},this._chunkError=function(){this._sendError(C.error)}}function p(j){var C;d.call(this,j=j||{}),this.stream=function(T){return C=T,this._nextChunk()},this._nextChunk=function(){var T,k;if(!this._finished)return T=this._config.chunkSize,C=T?(k=C.substring(0,T),C.substring(T)):(k=C,""),this._finished=!C,this.parseChunk(k)}}function m(j){d.call(this,j=j||{});var C=[],T=!0,k=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(N){this._input=N,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){k&&C.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),C.length?this.parseChunk(C.shift()):T=!0},this._streamData=E(function(N){try{C.push(typeof N=="string"?N:N.toString(this._config.encoding)),T&&(T=!1,this._checkIsFinished(),this.parseChunk(C.shift()))}catch(H){this._streamError(H)}},this),this._streamError=E(function(N){this._streamCleanUp(),this._sendError(N)},this),this._streamEnd=E(function(){this._streamCleanUp(),k=!0,this._streamData("")},this),this._streamCleanUp=E(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(j){var C,T,k,N,H=Math.pow(2,53),R=-H,D=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,z=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,V=this,M=0,L=0,P=!1,W=!1,G=[],$={data:[],errors:[],meta:{}};function te(K){return j.skipEmptyLines==="greedy"?K.join("").trim()==="":K.length===1&&K[0].length===0}function ie(){if($&&k&&(O("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),k=!1),j.skipEmptyLines&&($.data=$.data.filter(function(J){return!te(J)})),I()){let J=function(Y,me){A(j.transformHeader)&&(Y=j.transformHeader(Y,me)),G.push(Y)};if($)if(Array.isArray($.data[0])){for(var K=0;I()&&K<$.data.length;K++)$.data[K].forEach(J);$.data.splice(0,1)}else $.data.forEach(J)}function B(J,Y){for(var me=j.header?{}:[],le=0;le<J.length;le++){var ve=le,oe=J[le],oe=((ze,Ce)=>(Re=>(j.dynamicTypingFunction&&j.dynamicTyping[Re]===void 0&&(j.dynamicTyping[Re]=j.dynamicTypingFunction(Re)),(j.dynamicTyping[Re]||j.dynamicTyping)===!0))(ze)?Ce==="true"||Ce==="TRUE"||Ce!=="false"&&Ce!=="FALSE"&&((Re=>{if(D.test(Re)&&(Re=parseFloat(Re),R<Re&&Re<H))return 1})(Ce)?parseFloat(Ce):z.test(Ce)?new Date(Ce):Ce===""?null:Ce):Ce)(ve=j.header?le>=G.length?"__parsed_extra":G[le]:ve,oe=j.transform?j.transform(oe,ve):oe);ve==="__parsed_extra"?(me[ve]=me[ve]||[],me[ve].push(oe)):me[ve]=oe}return j.header&&(le>G.length?O("FieldMismatch","TooManyFields","Too many fields: expected "+G.length+" fields but parsed "+le,L+Y):le<G.length&&O("FieldMismatch","TooFewFields","Too few fields: expected "+G.length+" fields but parsed "+le,L+Y)),me}var Z;$&&(j.header||j.dynamicTyping||j.transform)&&(Z=1,!$.data.length||Array.isArray($.data[0])?($.data=$.data.map(B),Z=$.data.length):$.data=B($.data,0),j.header&&$.meta&&($.meta.fields=G),L+=Z)}function I(){return j.header&&G.length===0}function O(K,B,Z,J){K={type:K,code:B,message:Z},J!==void 0&&(K.row=J),$.errors.push(K)}A(j.step)&&(N=j.step,j.step=function(K){$=K,I()?ie():(ie(),$.data.length!==0&&(M+=K.data.length,j.preview&&M>j.preview?T.abort():($.data=$.data[0],N($,V))))}),this.parse=function(K,B,Z){var J=j.quoteChar||'"',J=(j.newline||(j.newline=this.guessLineEndings(K,J)),k=!1,j.delimiter?A(j.delimiter)&&(j.delimiter=j.delimiter(K),$.meta.delimiter=j.delimiter):((J=((Y,me,le,ve,oe)=>{var ze,Ce,Re,ae;oe=oe||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Ct=0;Ct<oe.length;Ct++){for(var we,ye=oe[Ct],be=0,ge=0,q=0,X=(Re=void 0,new y({comments:ve,delimiter:ye,newline:me,preview:10}).parse(Y)),re=0;re<X.data.length;re++)le&&te(X.data[re])?q++:(we=X.data[re].length,ge+=we,Re===void 0?Re=we:0<we&&(be+=Math.abs(we-Re),Re=we));0<X.data.length&&(ge/=X.data.length-q),(Ce===void 0||be<=Ce)&&(ae===void 0||ae<ge)&&1.99<ge&&(Ce=be,ze=ye,ae=ge)}return{successful:!!(j.delimiter=ze),bestDelimiter:ze}})(K,j.newline,j.skipEmptyLines,j.comments,j.delimitersToGuess)).successful?j.delimiter=J.bestDelimiter:(k=!0,j.delimiter=c.DefaultDelimiter),$.meta.delimiter=j.delimiter),S(j));return j.preview&&j.header&&J.preview++,C=K,T=new y(J),$=T.parse(C,B,Z),ie(),P?{meta:{paused:!0}}:$||{meta:{paused:!1}}},this.paused=function(){return P},this.pause=function(){P=!0,T.abort(),C=A(j.chunk)?"":C.substring(T.getCharIndex())},this.resume=function(){V.streamer._halted?(P=!1,V.streamer.parseChunk(C,!0)):setTimeout(V.resume,3)},this.aborted=function(){return W},this.abort=function(){W=!0,T.abort(),$.meta.aborted=!0,A(j.complete)&&j.complete($),C=""},this.guessLineEndings=function(Y,J){Y=Y.substring(0,1048576);var J=new RegExp(v(J)+"([^]*?)"+v(J),"gm"),Z=(Y=Y.replace(J,"")).split("\r"),J=Y.split(`
`),Y=1<J.length&&J[0].length<Z[0].length;if(Z.length===1||Y)return`
`;for(var me=0,le=0;le<Z.length;le++)Z[le][0]===`
`&&me++;return me>=Z.length/2?`\r
`:"\r"}}function v(j){return j.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(j){var C=(j=j||{}).delimiter,T=j.newline,k=j.comments,N=j.step,H=j.preview,R=j.fastMode,D=null,z=!1,V=j.quoteChar==null?'"':j.quoteChar,M=V;if(j.escapeChar!==void 0&&(M=j.escapeChar),(typeof C!="string"||-1<c.BAD_DELIMITERS.indexOf(C))&&(C=","),k===C)throw new Error("Comment character same as delimiter");k===!0?k="#":(typeof k!="string"||-1<c.BAD_DELIMITERS.indexOf(k))&&(k=!1),T!==`
`&&T!=="\r"&&T!==`\r
`&&(T=`
`);var L=0,P=!1;this.parse=function(W,G,$){if(typeof W!="string")throw new Error("Input must be a string");var te=W.length,ie=C.length,I=T.length,O=k.length,K=A(N),B=[],Z=[],J=[],Y=L=0;if(!W)return be();if(R||R!==!1&&W.indexOf(V)===-1){for(var me=W.split(T),le=0;le<me.length;le++){if(J=me[le],L+=J.length,le!==me.length-1)L+=T.length;else if($)return be();if(!k||J.substring(0,O)!==k){if(K){if(B=[],ae(J.split(C)),ge(),P)return be()}else ae(J.split(C));if(H&&H<=le)return B=B.slice(0,H),be(!0)}}return be()}for(var ve=W.indexOf(C,L),oe=W.indexOf(T,L),ze=new RegExp(v(M)+v(V),"g"),Ce=W.indexOf(V,L);;)if(W[L]===V)for(Ce=L,L++;;){if((Ce=W.indexOf(V,Ce+1))===-1)return $||Z.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:B.length,index:L}),we();if(Ce===te-1)return we(W.substring(L,Ce).replace(ze,V));if(V===M&&W[Ce+1]===M)Ce++;else if(V===M||Ce===0||W[Ce-1]!==M){ve!==-1&&ve<Ce+1&&(ve=W.indexOf(C,Ce+1));var Re=Ct((oe=oe!==-1&&oe<Ce+1?W.indexOf(T,Ce+1):oe)===-1?ve:Math.min(ve,oe));if(W.substr(Ce+1+Re,ie)===C){J.push(W.substring(L,Ce).replace(ze,V)),W[L=Ce+1+Re+ie]!==V&&(Ce=W.indexOf(V,L)),ve=W.indexOf(C,L),oe=W.indexOf(T,L);break}if(Re=Ct(oe),W.substring(Ce+1+Re,Ce+1+Re+I)===T){if(J.push(W.substring(L,Ce).replace(ze,V)),ye(Ce+1+Re+I),ve=W.indexOf(C,L),Ce=W.indexOf(V,L),K&&(ge(),P))return be();if(H&&B.length>=H)return be(!0);break}Z.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:B.length,index:L}),Ce++}}else if(k&&J.length===0&&W.substring(L,L+O)===k){if(oe===-1)return be();L=oe+I,oe=W.indexOf(T,L),ve=W.indexOf(C,L)}else if(ve!==-1&&(ve<oe||oe===-1))J.push(W.substring(L,ve)),L=ve+ie,ve=W.indexOf(C,L);else{if(oe===-1)break;if(J.push(W.substring(L,oe)),ye(oe+I),K&&(ge(),P))return be();if(H&&B.length>=H)return be(!0)}return we();function ae(q){B.push(q),Y=L}function Ct(q){var X=0;return X=q!==-1&&(q=W.substring(Ce+1,q))&&q.trim()===""?q.length:X}function we(q){return $||(q===void 0&&(q=W.substring(L)),J.push(q),L=te,ae(J),K&&ge()),be()}function ye(q){L=q,ae(J),J=[],oe=W.indexOf(T,L)}function be(q){if(j.header&&!G&&B.length&&!z){var X=B[0],re=Object.create(null),Oe=new Set(X);let lt=!1;for(let Gt=0;Gt<X.length;Gt++){let ln=X[Gt];if(re[ln=A(j.transformHeader)?j.transformHeader(ln,Gt):ln]){let Tn,Oa=re[ln];for(;Tn=ln+"_"+Oa,Oa++,Oe.has(Tn););Oe.add(Tn),X[Gt]=Tn,re[ln]++,lt=!0,(D=D===null?{}:D)[Tn]=ln}else re[ln]=1,X[Gt]=ln;Oe.add(ln)}lt&&console.warn("Duplicate headers found and renamed."),z=!0}return{data:B,errors:Z,meta:{delimiter:C,linebreak:T,aborted:P,truncated:!!q,cursor:Y+(G||0),renamedHeaders:D}}}function ge(){N(be()),B=[],Z=[]}},this.abort=function(){P=!0},this.getCharIndex=function(){return L}}function b(j){var C=j.data,T=o[C.workerId],k=!1;if(C.error)T.userError(C.error,C.file);else if(C.results&&C.results.data){var N={abort:function(){k=!0,x(C.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:w,resume:w};if(A(T.userStep)){for(var H=0;H<C.results.data.length&&(T.userStep({data:C.results.data[H],errors:C.results.errors,meta:C.results.meta},N),!k);H++);delete C.results}else A(T.userChunk)&&(T.userChunk(C.results,N,C.file),delete C.results)}C.finished&&!k&&x(C.workerId,C.results)}function x(j,C){var T=o[j];A(T.userComplete)&&T.userComplete(C),T.terminate(),delete o[j]}function w(){throw new Error("Not implemented.")}function S(j){if(typeof j!="object"||j===null)return j;var C,T=Array.isArray(j)?[]:{};for(C in j)T[C]=S(j[C]);return T}function E(j,C){return function(){j.apply(C,arguments)}}function A(j){return typeof j=="function"}return c.parse=function(j,C){var T=(C=C||{}).dynamicTyping||!1;if(A(T)&&(C.dynamicTypingFunction=T,T={}),C.dynamicTyping=T,C.transform=!!A(C.transform)&&C.transform,!C.worker||!c.WORKERS_SUPPORTED)return T=null,c.NODE_STREAM_INPUT,typeof j=="string"?(j=(k=>k.charCodeAt(0)!==65279?k:k.slice(1))(j),T=new(C.download?f:p)(C)):j.readable===!0&&A(j.read)&&A(j.on)?T=new m(C):(r.File&&j instanceof File||j instanceof Object)&&(T=new h(C)),T.stream(j);(T=(()=>{var k;return!!c.WORKERS_SUPPORTED&&(k=(()=>{var N=r.URL||r.webkitURL||null,H=n.toString();return c.BLOB_URL||(c.BLOB_URL=N.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",H,")();"],{type:"text/javascript"})))})(),(k=new r.Worker(k)).onmessage=b,k.id=l++,o[k.id]=k)})()).userStep=C.step,T.userChunk=C.chunk,T.userComplete=C.complete,T.userError=C.error,C.step=A(C.step),C.chunk=A(C.chunk),C.complete=A(C.complete),C.error=A(C.error),delete C.worker,T.postMessage({input:j,config:C,workerId:T.id})},c.unparse=function(j,C){var T=!1,k=!0,N=",",H=`\r
`,R='"',D=R+R,z=!1,V=null,M=!1,L=((()=>{if(typeof C=="object"){if(typeof C.delimiter!="string"||c.BAD_DELIMITERS.filter(function(G){return C.delimiter.indexOf(G)!==-1}).length||(N=C.delimiter),typeof C.quotes!="boolean"&&typeof C.quotes!="function"&&!Array.isArray(C.quotes)||(T=C.quotes),typeof C.skipEmptyLines!="boolean"&&typeof C.skipEmptyLines!="string"||(z=C.skipEmptyLines),typeof C.newline=="string"&&(H=C.newline),typeof C.quoteChar=="string"&&(R=C.quoteChar),typeof C.header=="boolean"&&(k=C.header),Array.isArray(C.columns)){if(C.columns.length===0)throw new Error("Option columns is empty");V=C.columns}C.escapeChar!==void 0&&(D=C.escapeChar+R),C.escapeFormulae instanceof RegExp?M=C.escapeFormulae:typeof C.escapeFormulae=="boolean"&&C.escapeFormulae&&(M=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(R),"g"));if(typeof j=="string"&&(j=JSON.parse(j)),Array.isArray(j)){if(!j.length||Array.isArray(j[0]))return P(null,j,z);if(typeof j[0]=="object")return P(V||Object.keys(j[0]),j,z)}else if(typeof j=="object")return typeof j.data=="string"&&(j.data=JSON.parse(j.data)),Array.isArray(j.data)&&(j.fields||(j.fields=j.meta&&j.meta.fields||V),j.fields||(j.fields=Array.isArray(j.data[0])?j.fields:typeof j.data[0]=="object"?Object.keys(j.data[0]):[]),Array.isArray(j.data[0])||typeof j.data[0]=="object"||(j.data=[j.data])),P(j.fields||[],j.data||[],z);throw new Error("Unable to serialize unrecognized input");function P(G,$,te){var ie="",I=(typeof G=="string"&&(G=JSON.parse(G)),typeof $=="string"&&($=JSON.parse($)),Array.isArray(G)&&0<G.length),O=!Array.isArray($[0]);if(I&&k){for(var K=0;K<G.length;K++)0<K&&(ie+=N),ie+=W(G[K],K);0<$.length&&(ie+=H)}for(var B=0;B<$.length;B++){var Z=(I?G:$[B]).length,J=!1,Y=I?Object.keys($[B]).length===0:$[B].length===0;if(te&&!I&&(J=te==="greedy"?$[B].join("").trim()==="":$[B].length===1&&$[B][0].length===0),te==="greedy"&&I){for(var me=[],le=0;le<Z;le++){var ve=O?G[le]:le;me.push($[B][ve])}J=me.join("").trim()===""}if(!J){for(var oe=0;oe<Z;oe++){0<oe&&!Y&&(ie+=N);var ze=I&&O?G[oe]:oe;ie+=W($[B][ze],oe)}B<$.length-1&&(!te||0<Z&&!Y)&&(ie+=H)}}return ie}function W(G,$){var te,ie;return G==null?"":G.constructor===Date?JSON.stringify(G).slice(1,25):(ie=!1,M&&typeof G=="string"&&M.test(G)&&(G="'"+G,ie=!0),te=G.toString().replace(L,D),(ie=ie||T===!0||typeof T=="function"&&T(G,$)||Array.isArray(T)&&T[$]||((I,O)=>{for(var K=0;K<O.length;K++)if(-1<I.indexOf(O[K]))return!0;return!1})(te,c.BAD_DELIMITERS)||-1<te.indexOf(N)||te.charAt(0)===" "||te.charAt(te.length-1)===" ")?R+te+R:te)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!a&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=y,c.ParserHandle=g,c.NetworkStreamer=f,c.FileStreamer=h,c.StringStreamer=p,c.ReadableStreamStreamer=m,r.jQuery&&((i=r.jQuery).fn.parse=function(j){var C=j.config||{},T=[];return this.each(function(H){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var R=0;R<this.files.length;R++)T.push({file:this.files[R],inputElem:this,instanceConfig:i.extend({},C)})}),k(),this;function k(){if(T.length===0)A(j.complete)&&j.complete();else{var H,R,D,z,V=T[0];if(A(j.before)){var M=j.before(V.file,V.inputElem);if(typeof M=="object"){if(M.action==="abort")return H="AbortError",R=V.file,D=V.inputElem,z=M.reason,void(A(j.error)&&j.error({name:H},R,D,z));if(M.action==="skip")return void N();typeof M.config=="object"&&(V.instanceConfig=i.extend(V.instanceConfig,M.config))}else if(M==="skip")return void N()}var L=V.instanceConfig.complete;V.instanceConfig.complete=function(P){A(L)&&L(P,V.file,V.inputElem),N()},c.parse(V.file,V.instanceConfig)}}function N(){T.splice(0,1),k()}}),s&&(r.onmessage=function(j){j=j.data,c.WORKER_ID===void 0&&j&&(c.WORKER_ID=j.workerId),typeof j.input=="string"?r.postMessage({workerId:c.WORKER_ID,results:c.parse(j.input,j.config),finished:!0}):(r.File&&j.input instanceof File||j.input instanceof Object)&&(j=c.parse(j.input,j.config))&&r.postMessage({workerId:c.WORKER_ID,results:j,finished:!0})}),(f.prototype=Object.create(d.prototype)).constructor=f,(h.prototype=Object.create(d.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(m.prototype=Object.create(d.prototype)).constructor=m,c})})(y7);var h1e=y7.exports;const p1e=at(h1e),v7=({campaignId:t,onUploadComplete:e})=>{const[n,r]=_.useState(null),[i,a]=_.useState(!1),[s,o]=_.useState([]),[l,c]=_.useState(!1),[d,f]=_.useState(t||""),[h,p]=_.useState([]),{toast:m}=Mt(),{user:g}=zn();_.useEffect(()=>{t||v()},[t]);const v=async()=>{if(g)try{const{data:T,error:k}=await Be.from("campaigns").select("id, name, status").eq("user_id",g.id).order("created_at",{ascending:!1});if(k)throw k;p(T||[]),T&&T.length>0&&!d&&f(T[0].id)}catch(T){console.error("Error loading campaigns:",T)}},y=T=>{var N;const k=(N=T.target.files)==null?void 0:N[0];k&&(r(k),E(k))},[b,x]=_.useState(!1),[w,S]=_.useState(""),E=async T=>{try{if(T.name.endsWith(".csv")){A(T);return}if(T.name.endsWith(".json")){j(T);return}x(!0),S("Extracting text from file...");const{extractTextFromFile:k}=await Nc(async()=>{const{extractTextFromFile:D}=await import("./fileParser-DGNO7R6d.js");return{extractTextFromFile:D}},[]),{extractCandidatesFromText:N}=await Nc(async()=>{const{extractCandidatesFromText:D}=await import("./candidateExtractor-CwI8lhAb.js");return{extractCandidatesFromText:D}},[]),H=await k(T);if(!H||H.trim().length===0)throw new Error("Could not extract any text from the file.");S("AI analyzing candidate data...");const R=await N(H);if(R.length===0){m({title:"No candidates found",description:"AI could not identify any candidate information in this file.",variant:"destructive"}),x(!1);return}o(R),c(!0),m({title:"File analyzed successfully",description:`AI found ${R.length} potential candidates`})}catch(k){console.error("Error parsing file:",k),m({title:"Error parsing file",description:k.message||"Failed to process file with AI.",variant:"destructive"})}finally{x(!1),S("")}},A=T=>{p1e.parse(T,{header:!0,skipEmptyLines:!0,transformHeader:k=>k.toLowerCase().trim(),complete:k=>{const N=[];if(k.data.forEach(H=>{const R={name:H.name||H["full name"]||H["candidate name"]||"",phone:H.phone||H.mobile||H["phone number"]||H["mobile number"]||"",email:H.email||H["email address"]||void 0,city:H.city||H.location||H.address||void 0,course:H.course||H.program||H.interest||void 0};if(R.name&&R.phone){const D=R.phone.replace(/[^0-9]/g,"");D.length>=10&&(R.phone=D,N.push(R))}}),N.length===0){m({title:"No valid candidates found",description:"Check CSV headers (name, phone)",variant:"destructive"});return}o(N),c(!0),m({title:"CSV parsed successfully",description:`Found ${N.length} valid candidates`})},error:k=>{m({title:"Error parsing CSV",description:k.message,variant:"destructive"})}})},j=async T=>{try{const k=await T.text(),N=JSON.parse(k);if(Array.isArray(N)){const H=N.filter(R=>R.name&&R.phone).map(R=>({name:R.name,phone:R.phone,email:R.email,city:R.city,course:R.course}));o(H),c(!0),m({title:"JSON parsed successfully",description:`Found ${H.length} valid candidates`})}}catch{m({title:"invalid JSON",variant:"destructive"})}},C=async()=>{const T=t||d;if(!(!g||!T||s.length===0)){a(!0);try{const k=Array.from(new Map(s.map(L=>[L.phone,L])).values());k.length<s.length&&m({title:"Duplicates removed",description:`Removed ${s.length-k.length} duplicate phone numbers from the batch.`});const{data:N,error:H}=await Be.from("candidates").select("phone").eq("campaign_id",T);if(H)throw H;const R=new Set((N==null?void 0:N.map(L=>L.phone))||[]),D=k.filter(L=>!R.has(L.phone));if(D.length===0){m({title:"All candidates already exist",description:"All candidates in this file are already in this campaign.",variant:"destructive"}),a(!1);return}D.length<k.length&&m({title:"Existing candidates skipped",description:`Skipped ${k.length-D.length} candidates that are already in this campaign.`});const z=D.map(L=>({campaign_id:T,name:L.name,phone:L.phone,email:L.email||null,city:L.city||null,course:L.course||null})),{error:V}=await Be.from("candidates").insert(z);if(V)throw V;const{count:M}=await Be.from("candidates").select("*",{count:"exact",head:!0}).eq("campaign_id",T);await Be.from("campaigns").update({candidates_count:M}).eq("id",T),m({title:"Candidates uploaded successfully",description:`${D.length} new candidates added to your campaign`}),e==null||e(D),o([]),r(null),c(!1)}catch(k){console.error("Error uploading candidates:",k),m({title:"Upload failed",description:"Failed to upload candidates. Please try again.",variant:"destructive"})}finally{a(!1)}}};return u.jsx(ee,{className:"p-6",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Upload Candidates"}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"Upload a CSV or JSON file with candidate information. Required fields: name, phone"})]}),!t&&h.length===0&&u.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:u.jsx("p",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:"Please create a campaign first before uploading candidates."})}),!t&&h.length>0&&u.jsxs("div",{children:[u.jsx(Le,{htmlFor:"campaign-select",children:"Select Campaign"}),u.jsxs(Ps,{value:d,onValueChange:f,children:[u.jsx(Ga,{id:"campaign-select",className:"mt-2",children:u.jsx(Is,{placeholder:"Choose a campaign"})}),u.jsx(Ka,{children:h.map(T=>u.jsx(rn,{value:T.id,children:T.name},T.id))})]})]}),l?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center text-green-600",children:[u.jsx(ei,{className:"w-5 h-5 mr-2"}),u.jsxs("span",{className:"font-medium",children:[s.length," candidates found"]})]}),u.jsx(se,{variant:"outline",size:"sm",onClick:()=>{c(!1),r(null),o([])},children:"Choose Different File"})]}),u.jsxs("div",{className:"max-h-40 overflow-y-auto border rounded-lg p-3",children:[u.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Preview:"}),s.slice(0,5).map((T,k)=>u.jsxs("div",{className:"text-sm py-1 border-b border-border/50 last:border-0",children:[u.jsx("span",{className:"font-medium",children:T.name})," - ",T.phone,T.email&&u.jsxs("span",{className:"text-muted-foreground",children:["  ",T.email]})]},k)),s.length>5&&u.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["And ",s.length-5," more..."]})]}),u.jsx(se,{onClick:C,disabled:i||!t&&!d||h.length===0,className:"w-full",variant:"hero",children:i?"Uploading...":`Upload ${s.length} Candidates`})]}):u.jsxs("div",{children:[u.jsx(Le,{htmlFor:"file-upload",children:"Choose File"}),u.jsx("div",{className:"mt-2 flex items-center justify-center w-full",children:u.jsxs("label",{htmlFor:"file-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-border border-dashed rounded-lg cursor-pointer bg-card/50 hover:bg-card/80",children:[u.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[u.jsx(gT,{className:"w-8 h-8 mb-4 text-muted-foreground"}),u.jsxs("p",{className:"mb-2 text-sm text-muted-foreground",children:[u.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"CSV, JSON, PDF, DOCX, Images"}),b&&u.jsxs("div",{className:"mt-4 flex flex-col items-center",children:[u.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}),u.jsx("p",{className:"mt-2 text-xs text-primary font-medium animate-pulse",children:w})]})]}),u.jsx(vt,{id:"file-upload",type:"file",className:"hidden",accept:".csv,.json,.pdf,.docx,.png,.jpg,.jpeg,.webp,.txt",disabled:b,onChange:y})]})}),n&&u.jsxs("div",{className:"mt-2 flex items-center text-sm text-muted-foreground",children:[u.jsx(xc,{className:"w-4 h-4 mr-2"}),n.name]})]})]})})},m1e=Wm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function on({className:t,variant:e,...n}){return u.jsx("div",{className:je(m1e({variant:e}),t),...n})}const x7=({onCampaignCreated:t})=>{const[e,n]=_.useState({name:"",type:"",scheduledAt:"",templateWhatsapp:"",templateVoice:""}),[r,i]=_.useState(!1),[a,s]=_.useState(!1),{toast:o}=Mt(),{user:l}=zn(),c=[{value:"whatsapp",label:"WhatsApp Only",icon:$r,color:"bg-green-500"},{value:"voice",label:"Voice Only",icon:Di,color:"bg-blue-500"},{value:"both",label:"Voice + WhatsApp",icon:Ea,color:"bg-purple-500"},{value:"email",label:"Email Campaign",icon:ti,color:"bg-orange-500"}],d=(m,g)=>{n(v=>({...v,[m]:g}))},f=async m=>{i(!0);try{const g=m==="whatsapp"?"Generate a professional WhatsApp message template for college admission outreach. The message should be personalized, engaging, and encourage prospective students to learn more about our programs. Include placeholders for student name and course. Keep it under 160 characters.":"Generate a professional voice call script for college admission outreach. The script should be warm, engaging, and designed to encourage prospective students to learn more about our programs. Include placeholders for student name and course. Keep it conversational and under 100 words.",v={whatsapp:`Hi {{name}}!  We noticed your interest in {{course}} at our college. We'd love to share how our program can help you achieve your career goals. Reply "YES" for more info! `,voice:"Hello {{name}}, this is calling from the admissions office. We're excited about your interest in our {{course}} program. I'd love to tell you about our unique opportunities and answer any questions. Do you have a few minutes to chat?"};setTimeout(()=>{d(m==="whatsapp"?"templateWhatsapp":"templateVoice",v[m]),i(!1),o({title:"Script generated!",description:`${m==="whatsapp"?"WhatsApp":"Voice"} template has been generated.`})},2e3)}catch(g){console.error("Error generating script:",g),o({title:"Generation failed",description:"Failed to generate script. Please try again.",variant:"destructive"}),i(!1)}},h=async()=>{if(!l||!e.name||!e.type){o({title:"Missing information",description:"Please fill in campaign name and type.",variant:"destructive"});return}s(!0);try{const{data:m,error:g}=await Be.from("campaigns").insert([{user_id:l.id,name:e.name,type:e.type,template_whatsapp:e.templateWhatsapp||null,template_voice:e.templateVoice||null,scheduled_at:e.scheduledAt?new Date(e.scheduledAt).toISOString():null,status:"draft"}]).select().single();if(g)throw g;o({title:"Campaign created!",description:"Your campaign has been created successfully."}),n({name:"",type:"",scheduledAt:"",templateWhatsapp:"",templateVoice:""}),t==null||t()}catch(m){console.error("Error creating campaign:",m),o({title:"Creation failed",description:"Failed to create campaign. Please try again.",variant:"destructive"})}finally{s(!1)}},p=c.find(m=>m.value===e.type);return u.jsx(ee,{className:"p-6",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Create New Campaign"}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"Set up your admission outreach campaign with AI-powered messaging"})]}),u.jsxs("div",{className:"grid gap-4",children:[u.jsxs("div",{children:[u.jsx(Le,{htmlFor:"campaign-name",children:"Campaign Name"}),u.jsx(vt,{id:"campaign-name",placeholder:"e.g., Engineering Fall 2024 Outreach",value:e.name,onChange:m=>d("name",m.target.value)})]}),u.jsxs("div",{children:[u.jsx(Le,{htmlFor:"campaign-type",children:"Campaign Type"}),u.jsxs(Ps,{value:e.type,onValueChange:m=>d("type",m),children:[u.jsx(Ga,{children:u.jsx(Is,{placeholder:"Select campaign type"})}),u.jsx(Ka,{children:c.map(m=>{const g=m.icon;return u.jsx(rn,{value:m.value,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`w-3 h-3 rounded-full ${m.color}`}),u.jsx(g,{className:"w-4 h-4"}),m.label]})},m.value)})})]})]}),u.jsxs("div",{children:[u.jsx(Le,{htmlFor:"scheduled-at",children:"Schedule For (Optional)"}),u.jsx(vt,{id:"scheduled-at",type:"datetime-local",value:e.scheduledAt,onChange:m=>d("scheduledAt",m.target.value)})]})]}),p&&u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs(on,{variant:"secondary",className:"flex items-center gap-1",children:[u.jsx(p.icon,{className:"w-3 h-3"}),p.label]})}),(e.type==="whatsapp"||e.type==="both")&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx(Le,{htmlFor:"whatsapp-template",children:"WhatsApp Template"}),u.jsxs(se,{type:"button",variant:"outline",size:"sm",onClick:()=>f("whatsapp"),disabled:r,children:[u.jsx(gI,{className:"w-4 h-4 mr-1"}),r?"Generating...":"AI Generate"]})]}),u.jsx(ds,{id:"whatsapp-template",placeholder:"Enter your WhatsApp message template...",value:e.templateWhatsapp,onChange:m=>d("templateWhatsapp",m.target.value),rows:3}),u.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Use ","{{name}}"," for student name, ","{{course}}"," for course name"]})]}),(e.type==="voice"||e.type==="both")&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx(Le,{htmlFor:"voice-template",children:"Voice Call Script"}),u.jsxs(se,{type:"button",variant:"outline",size:"sm",onClick:()=>f("voice"),disabled:r,children:[u.jsx(gI,{className:"w-4 h-4 mr-1"}),r?"Generating...":"AI Generate"]})]}),u.jsx(ds,{id:"voice-template",placeholder:"Enter your voice call script...",value:e.templateVoice,onChange:m=>d("templateVoice",m.target.value),rows:4}),u.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Use ","{{name}}"," for student name, ","{{course}}"," for course name"]})]})]}),u.jsx(se,{onClick:h,disabled:a||!e.name||!e.type,className:"w-full",variant:"hero",children:a?"Creating...":"Create Campaign"})]})})};var lO="Avatar",[g1e,dWe]=Sa(lO),[y1e,b7]=g1e(lO),w7=_.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,a]=_.useState("idle");return u.jsx(y1e,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:u.jsx(Pe.span,{...r,ref:e})})});w7.displayName=lO;var _7="AvatarImage",S7=_.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=t,s=b7(_7,n),o=v1e(r,a.referrerPolicy),l=Wt(c=>{i(c),s.onImageLoadingStatusChange(c)});return jn(()=>{o!=="idle"&&l(o)},[o,l]),o==="loaded"?u.jsx(Pe.img,{...a,ref:e,src:r}):null});S7.displayName=_7;var E7="AvatarFallback",j7=_.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,a=b7(E7,n),[s,o]=_.useState(r===void 0);return _.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(l)}},[r]),s&&a.imageLoadingStatus!=="loaded"?u.jsx(Pe.span,{...i,ref:e}):null});j7.displayName=E7;function v1e(t,e){const[n,r]=_.useState("idle");return jn(()=>{if(!t){r("error");return}let i=!0;const a=new window.Image,s=o=>()=>{i&&r(o)};return r("loading"),a.onload=s("loaded"),a.onerror=s("error"),a.src=t,e&&(a.referrerPolicy=e),()=>{i=!1}},[t,e]),n}var A7=w7,C7=S7,T7=j7;const sv=_.forwardRef(({className:t,...e},n)=>u.jsx(A7,{ref:n,className:je("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));sv.displayName=A7.displayName;const x1e=_.forwardRef(({className:t,...e},n)=>u.jsx(C7,{ref:n,className:je("aspect-square h-full w-full",t),...e}));x1e.displayName=C7.displayName;const ov=_.forwardRef(({className:t,...e},n)=>u.jsx(T7,{ref:n,className:je("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));ov.displayName=T7.displayName;const b1e=({sessionId:t,onNewSession:e,campaigns:n,stats:r})=>{const[i,a]=_.useState([{id:"1",role:"assistant",content:"Hello! I'm your AI assistant for AdmitConnect. I can help you create campaign scripts, generate personalized messages, analyze candidate data, and provide strategic advice for your outreach campaigns. How can I assist you today?",timestamp:new Date}]),[s,o]=_.useState(""),[l,c]=_.useState(!1),[d,f]=_.useState(t),h=_.useRef(null),{toast:p}=Mt(),{user:m}=zn(),g=_.useRef(new $8("dashboard"));_.useEffect(()=>{d&&y()},[d]),_.useEffect(()=>{v()},[i]);const v=()=>{if(h.current){const A=h.current.querySelector("[data-radix-scroll-area-viewport]");A&&(A.scrollTop=A.scrollHeight)}},y=async()=>{if(!(!d||!m))try{const{data:A,error:j}=await Be.from("ai_chat_messages").select("*").eq("session_id",d).order("created_at");if(j)throw j;if(A&&A.length>0){const C=A.map(T=>({id:T.id,role:T.role,content:T.content,timestamp:new Date(T.created_at)}));a(C)}}catch(A){console.error("Error loading messages:",A)}},b=async()=>{if(!m)return null;try{const{data:A,error:j}=await Be.from("ai_chat_sessions").insert([{user_id:m.id,title:"New Chat"}]).select().single();if(j)throw j;return A.id}catch(A){return console.error("Error creating session:",A),null}},x=async(A,j,C)=>{try{await Be.from("ai_chat_messages").insert([{session_id:A,role:j,content:C}])}catch(T){console.error("Error saving message:",T)}},w=async A=>{try{const j=i.map(k=>({role:k.role,content:k.content})),C={campaigns:n,stats:r};return(await g.current.generateResponse(A,j,C)).content}catch(j){throw console.error("Error calling AI chat:",j),new Error("Failed to get AI response")}},S=async()=>{if(!s.trim()||l||!m)return;const A=s.trim();o(""),c(!0);let j=d;if(!j){if(j=await b(),!j){p({title:"Error",description:"Failed to create chat session",variant:"destructive"}),c(!1);return}f(j),e==null||e(j)}const T={id:`user-${Date.now()}`,role:"user",content:A,timestamp:new Date};a(k=>[...k,T]),await x(j,"user",A);try{const k=await w(A),H={id:`ai-${Date.now()}`,role:"assistant",content:k,timestamp:new Date};a(R=>[...R,H]),await x(j,"assistant",k)}catch(k){console.error("Error generating AI response:",k),p({title:"Error",description:"Failed to generate response. Please try again.",variant:"destructive"})}finally{c(!1)}},E=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),S())};return u.jsxs(ee,{className:"flex flex-col h-[500px]",children:[u.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-border",children:[u.jsx("div",{className:"w-8 h-8 bg-ai-gradient rounded-full flex items-center justify-center",children:u.jsx(rd,{className:"w-4 h-4 text-white"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold",children:"AI Assistant"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Campaign Strategy & Script Generation"})]})]}),u.jsx(Pb,{className:"flex-1 p-4",ref:h,children:u.jsxs("div",{className:"space-y-4",children:[i.map(A=>u.jsxs("div",{className:`flex gap-3 ${A.role==="user"?"justify-end":"justify-start"}`,children:[A.role==="assistant"&&u.jsx(sv,{className:"w-8 h-8",children:u.jsx(ov,{className:"bg-ai-gradient text-white",children:u.jsx(ha,{className:"w-4 h-4"})})}),u.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${A.role==="user"?"bg-primary text-primary-foreground ml-auto":"bg-muted"}`,children:[u.jsx("div",{className:"text-sm prose prose-sm dark:prose-invert max-w-none break-words",children:u.jsx(Vk,{children:A.content})}),u.jsx("p",{className:"text-xs opacity-70 mt-1",children:A.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),A.role==="user"&&u.jsx(sv,{className:"w-8 h-8",children:u.jsx(ov,{children:u.jsx(Dp,{className:"w-4 h-4"})})})]},A.id)),l&&u.jsxs("div",{className:"flex gap-3 justify-start",children:[u.jsx(sv,{className:"w-8 h-8",children:u.jsx(ov,{className:"bg-ai-gradient text-white",children:u.jsx(ha,{className:"w-4 h-4"})})}),u.jsx("div",{className:"bg-muted rounded-lg p-3",children:u.jsxs("div",{className:"flex space-x-1",children:[u.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce"}),u.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),u.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})]})}),u.jsx("div",{className:"p-4 border-t border-border",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(vt,{value:s,onChange:A=>o(A.target.value),placeholder:"Ask me anything about your campaigns...",onKeyPress:E,disabled:l}),u.jsx(se,{onClick:S,disabled:!s.trim()||l,size:"icon",variant:"hero",children:u.jsx(pT,{className:"w-4 h-4"})})]})})]})};var cO="Switch",[w1e,fWe]=Sa(cO),[_1e,S1e]=w1e(cO),k7=_.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:s,disabled:o,value:l="on",onCheckedChange:c,form:d,...f}=t,[h,p]=_.useState(null),m=rt(e,x=>p(x)),g=_.useRef(!1),v=h?d||!!h.closest("form"):!0,[y=!1,b]=as({prop:i,defaultProp:a,onChange:c});return u.jsxs(_1e,{scope:n,checked:y,disabled:o,children:[u.jsx(Pe.button,{type:"button",role:"switch","aria-checked":y,"aria-required":s,"data-state":P7(y),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:m,onClick:he(t.onClick,x=>{b(w=>!w),v&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})}),v&&u.jsx(E1e,{control:h,bubbles:!g.current,name:r,value:l,checked:y,required:s,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});k7.displayName=cO;var O7="SwitchThumb",N7=_.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=S1e(O7,n);return u.jsx(Pe.span,{"data-state":P7(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});N7.displayName=O7;var E1e=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,a=_.useRef(null),s=rO(n),o=ET(e);return _.useEffect(()=>{const l=a.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(s!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[s,n,r]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function P7(t){return t?"checked":"unchecked"}var I7=k7,j1e=N7;const Jr=_.forwardRef(({className:t,...e},n)=>u.jsx(I7,{className:je("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:u.jsx(j1e,{className:je("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Jr.displayName=I7.displayName;const uO=({open:t,onOpenChange:e})=>{const{user:n}=zn(),{toast:r}=Mt(),[i,a]=_.useState(!1),[s,o]=_.useState({full_name:"",email:"",college_name:"",college_address:"",college_website:"",notifications_enabled:!0,email_alerts:!0,sms_alerts:!1});_.useEffect(()=>{n&&t&&l()},[n,t]);const l=async()=>{try{const{data:f,error:h}=await Be.from("profiles").select("*").eq("user_id",n==null?void 0:n.id).single();if(h&&h.code!=="PGRST116")throw h;o(f?{full_name:f.full_name||"",email:f.email||(n==null?void 0:n.email)||"",college_name:f.college_name||"",college_address:f.college_address||"",college_website:f.college_website||"",notifications_enabled:f.notifications_enabled!==!1,email_alerts:f.email_alerts!==!1,sms_alerts:f.sms_alerts===!0}:p=>{var m;return{...p,email:(n==null?void 0:n.email)||"",full_name:((m=n==null?void 0:n.user_metadata)==null?void 0:m.full_name)||""}})}catch(f){console.error("Error loading profile:",f),r({title:"Error loading profile",description:"Please try again",variant:"destructive"})}},c=(f,h)=>{o(p=>({...p,[f]:h}))},d=async()=>{if(n){a(!0);try{const{error:f}=await Be.from("profiles").upsert([{user_id:n.id,full_name:s.full_name,email:s.email,college_name:s.college_name,college_address:s.college_address,college_website:s.college_website,notifications_enabled:s.notifications_enabled,email_alerts:s.email_alerts,sms_alerts:s.sms_alerts}],{onConflict:"user_id"});if(f)throw f;r({title:"Profile updated",description:"Your settings have been saved successfully"})}catch(f){console.error("Error saving profile:",f),r({title:"Save failed",description:"Failed to save settings. Please try again.",variant:"destructive"})}finally{a(!1)}}};return u.jsx(Ni,{open:t,onOpenChange:e,children:u.jsxs(ii,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[u.jsx(ai,{children:u.jsx(si,{children:"Settings"})}),u.jsxs(Ml,{defaultValue:"profile",className:"w-full",children:[u.jsxs(co,{className:"grid w-full grid-cols-3",children:[u.jsx(ct,{value:"profile",children:"Profile"}),u.jsx(ct,{value:"college",children:"College"}),u.jsx(ct,{value:"notifications",children:"Notifications"})]}),u.jsx(ut,{value:"profile",className:"space-y-4",children:u.jsxs(ee,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Dp,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"font-semibold",children:"Personal Information"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Le,{htmlFor:"full_name",children:"Full Name"}),u.jsx(vt,{id:"full_name",value:s.full_name,onChange:f=>c("full_name",f.target.value),placeholder:"Enter your full name"})]}),u.jsxs("div",{children:[u.jsx(Le,{htmlFor:"email",children:"Email Address"}),u.jsx(vt,{id:"email",type:"email",value:s.email,onChange:f=>c("email",f.target.value),placeholder:"Enter your email"})]})]})]})}),u.jsx(ut,{value:"college",className:"space-y-4",children:u.jsxs(ee,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(mee,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"font-semibold",children:"College Information"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Le,{htmlFor:"college_name",children:"College/University Name"}),u.jsx(vt,{id:"college_name",value:s.college_name,onChange:f=>c("college_name",f.target.value),placeholder:"Enter your institution name"})]}),u.jsxs("div",{children:[u.jsx(Le,{htmlFor:"college_address",children:"Address"}),u.jsx(ds,{id:"college_address",value:s.college_address,onChange:f=>c("college_address",f.target.value),placeholder:"Enter your institution address",rows:3})]}),u.jsxs("div",{children:[u.jsx(Le,{htmlFor:"college_website",children:"Website"}),u.jsx(vt,{id:"college_website",type:"url",value:s.college_website,onChange:f=>c("college_website",f.target.value),placeholder:"https://your-college.edu"})]})]})]})}),u.jsx(ut,{value:"notifications",className:"space-y-4",children:u.jsxs(ee,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(aE,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"font-semibold",children:"Notification Preferences"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(Le,{htmlFor:"notifications_enabled",className:"text-base font-normal",children:"Enable Notifications"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications about your campaigns"})]}),u.jsx(Jr,{id:"notifications_enabled",checked:s.notifications_enabled,onCheckedChange:f=>c("notifications_enabled",f)})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(Le,{htmlFor:"email_alerts",className:"text-base font-normal",children:"Email Alerts"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Get campaign updates via email"})]}),u.jsx(Jr,{id:"email_alerts",checked:s.email_alerts,onCheckedChange:f=>c("email_alerts",f),disabled:!s.notifications_enabled})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(Le,{htmlFor:"sms_alerts",className:"text-base font-normal",children:"SMS Alerts"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Get important updates via SMS"})]}),u.jsx(Jr,{id:"sms_alerts",checked:s.sms_alerts,onCheckedChange:f=>c("sms_alerts",f),disabled:!s.notifications_enabled})]})]})]})})]}),u.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[u.jsx(se,{variant:"outline",onClick:()=>e(!1),children:"Cancel"}),u.jsxs(se,{onClick:d,disabled:i,variant:"hero",children:[u.jsx(Tee,{className:"w-4 h-4 mr-2"}),i?"Saving...":"Save Changes"]})]})]})})};var kj=["Enter"," "],A1e=["ArrowDown","PageUp","Home"],$7=["ArrowUp","PageDown","End"],C1e=[...A1e,...$7],T1e={ltr:[...kj,"ArrowRight"],rtl:[...kj,"ArrowLeft"]},k1e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},hg="Menu",[Jp,O1e,N1e]=Fx(hg),[Jc,R7]=Sa(hg,[N1e,Af,zb]),Ub=Af(),M7=zb(),[P1e,Qc]=Jc(hg),[I1e,pg]=Jc(hg),L7=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:a,modal:s=!0}=t,o=Ub(e),[l,c]=_.useState(null),d=_.useRef(!1),f=Wt(a),h=dg(i);return _.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),u.jsx(CT,{...o,children:u.jsx(P1e,{scope:e,open:n,onOpenChange:f,content:l,onContentChange:c,children:u.jsx(I1e,{scope:e,onClose:_.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:s,children:r})})})};L7.displayName=hg;var $1e="MenuAnchor",dO=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Ub(n);return u.jsx(TT,{...i,...r,ref:e})});dO.displayName=$1e;var fO="MenuPortal",[R1e,D7]=Jc(fO,{forceMount:void 0}),F7=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,a=Qc(fO,e);return u.jsx(R1e,{scope:e,forceMount:n,children:u.jsx(er,{present:n||a.open,children:u.jsx(Hm,{asChild:!0,container:i,children:r})})})};F7.displayName=fO;var Pi="MenuContent",[M1e,hO]=Jc(Pi),B7=_.forwardRef((t,e)=>{const n=D7(Pi,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=Qc(Pi,t.__scopeMenu),s=pg(Pi,t.__scopeMenu);return u.jsx(Jp.Provider,{scope:t.__scopeMenu,children:u.jsx(er,{present:r||a.open,children:u.jsx(Jp.Slot,{scope:t.__scopeMenu,children:s.modal?u.jsx(L1e,{...i,ref:e}):u.jsx(D1e,{...i,ref:e})})})})}),L1e=_.forwardRef((t,e)=>{const n=Qc(Pi,t.__scopeMenu),r=_.useRef(null),i=rt(e,r);return _.useEffect(()=>{const a=r.current;if(a)return Xk(a)},[]),u.jsx(pO,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:he(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),D1e=_.forwardRef((t,e)=>{const n=Qc(Pi,t.__scopeMenu);return u.jsx(pO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),pO=_.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:m,...g}=t,v=Qc(Pi,n),y=pg(Pi,n),b=Ub(n),x=M7(n),w=O1e(n),[S,E]=_.useState(null),A=_.useRef(null),j=rt(e,A,v.onContentChange),C=_.useRef(0),T=_.useRef(""),k=_.useRef(0),N=_.useRef(null),H=_.useRef("right"),R=_.useRef(0),D=m?Rb:_.Fragment,z=m?{as:cl,allowPinchZoom:!0}:void 0,V=L=>{var O,K;const P=T.current+L,W=w().filter(B=>!B.disabled),G=document.activeElement,$=(O=W.find(B=>B.ref.current===G))==null?void 0:O.textValue,te=W.map(B=>B.textValue),ie=X1e(te,P,$),I=(K=W.find(B=>B.textValue===ie))==null?void 0:K.ref.current;(function B(Z){T.current=Z,window.clearTimeout(C.current),Z!==""&&(C.current=window.setTimeout(()=>B(""),1e3))})(P),I&&setTimeout(()=>I.focus())};_.useEffect(()=>()=>window.clearTimeout(C.current),[]),Yk();const M=_.useCallback(L=>{var W,G;return H.current===((W=N.current)==null?void 0:W.side)&&J1e(L,(G=N.current)==null?void 0:G.area)},[]);return u.jsx(M1e,{scope:n,searchRef:T,onItemEnter:_.useCallback(L=>{M(L)&&L.preventDefault()},[M]),onItemLeave:_.useCallback(L=>{var P;M(L)||((P=A.current)==null||P.focus(),E(null))},[M]),onTriggerLeave:_.useCallback(L=>{M(L)&&L.preventDefault()},[M]),pointerGraceTimerRef:k,onPointerGraceIntentChange:_.useCallback(L=>{N.current=L},[]),children:u.jsx(D,{...z,children:u.jsx(Ib,{asChild:!0,trapped:i,onMountAutoFocus:he(a,L=>{var P;L.preventDefault(),(P=A.current)==null||P.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:u.jsx(_f,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:u.jsx(n7,{asChild:!0,...x,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:E,onEntryFocus:he(l,L=>{y.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(kT,{role:"menu","aria-orientation":"vertical","data-state":nV(v.open),"data-radix-menu-content":"",dir:y.dir,...b,...g,ref:j,style:{outline:"none",...g.style},onKeyDown:he(g.onKeyDown,L=>{const W=L.target.closest("[data-radix-menu-content]")===L.currentTarget,G=L.ctrlKey||L.altKey||L.metaKey,$=L.key.length===1;W&&(L.key==="Tab"&&L.preventDefault(),!G&&$&&V(L.key));const te=A.current;if(L.target!==te||!C1e.includes(L.key))return;L.preventDefault();const I=w().filter(O=>!O.disabled).map(O=>O.ref.current);$7.includes(L.key)&&I.reverse(),K1e(I)}),onBlur:he(t.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(C.current),T.current="")}),onPointerMove:he(t.onPointerMove,Qp(L=>{const P=L.target,W=R.current!==L.clientX;if(L.currentTarget.contains(P)&&W){const G=L.clientX>R.current?"right":"left";H.current=G,R.current=L.clientX}}))})})})})})})});B7.displayName=Pi;var F1e="MenuGroup",mO=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Pe.div,{role:"group",...r,ref:e})});mO.displayName=F1e;var B1e="MenuLabel",z7=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Pe.div,{...r,ref:e})});z7.displayName=B1e;var m0="MenuItem",HR="menu.itemSelect",Hb=_.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,a=_.useRef(null),s=pg(m0,t.__scopeMenu),o=hO(m0,t.__scopeMenu),l=rt(e,a),c=_.useRef(!1),d=()=>{const f=a.current;if(!n&&f){const h=new CustomEvent(HR,{bubbles:!0,cancelable:!0});f.addEventListener(HR,p=>r==null?void 0:r(p),{once:!0}),lT(f,h),h.defaultPrevented?c.current=!1:s.onClose()}};return u.jsx(U7,{...i,ref:l,disabled:n,onClick:he(t.onClick,d),onPointerDown:f=>{var h;(h=t.onPointerDown)==null||h.call(t,f),c.current=!0},onPointerUp:he(t.onPointerUp,f=>{var h;c.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:he(t.onKeyDown,f=>{const h=o.searchRef.current!=="";n||h&&f.key===" "||kj.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Hb.displayName=m0;var U7=_.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=t,s=hO(m0,n),o=M7(n),l=_.useRef(null),c=rt(e,l),[d,f]=_.useState(!1),[h,p]=_.useState("");return _.useEffect(()=>{const m=l.current;m&&p((m.textContent??"").trim())},[a.children]),u.jsx(Jp.ItemSlot,{scope:n,disabled:r,textValue:i??h,children:u.jsx(r7,{asChild:!0,...o,focusable:!r,children:u.jsx(Pe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:c,onPointerMove:he(t.onPointerMove,Qp(m=>{r?s.onItemLeave(m):(s.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:he(t.onPointerLeave,Qp(m=>s.onItemLeave(m))),onFocus:he(t.onFocus,()=>f(!0)),onBlur:he(t.onBlur,()=>f(!1))})})})}),z1e="MenuCheckboxItem",H7=_.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return u.jsx(K7,{scope:t.__scopeMenu,checked:n,children:u.jsx(Hb,{role:"menuitemcheckbox","aria-checked":g0(n)?"mixed":n,...i,ref:e,"data-state":yO(n),onSelect:he(i.onSelect,()=>r==null?void 0:r(g0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});H7.displayName=z1e;var V7="MenuRadioGroup",[U1e,H1e]=Jc(V7,{value:void 0,onValueChange:()=>{}}),W7=_.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,a=Wt(r);return u.jsx(U1e,{scope:t.__scopeMenu,value:n,onValueChange:a,children:u.jsx(mO,{...i,ref:e})})});W7.displayName=V7;var q7="MenuRadioItem",G7=_.forwardRef((t,e)=>{const{value:n,...r}=t,i=H1e(q7,t.__scopeMenu),a=n===i.value;return u.jsx(K7,{scope:t.__scopeMenu,checked:a,children:u.jsx(Hb,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":yO(a),onSelect:he(r.onSelect,()=>{var s;return(s=i.onValueChange)==null?void 0:s.call(i,n)},{checkForDefaultPrevented:!1})})})});G7.displayName=q7;var gO="MenuItemIndicator",[K7,V1e]=Jc(gO,{checked:!1}),Y7=_.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,a=V1e(gO,n);return u.jsx(er,{present:r||g0(a.checked)||a.checked===!0,children:u.jsx(Pe.span,{...i,ref:e,"data-state":yO(a.checked)})})});Y7.displayName=gO;var W1e="MenuSeparator",X7=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Pe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});X7.displayName=W1e;var q1e="MenuArrow",Z7=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Ub(n);return u.jsx(OT,{...i,...r,ref:e})});Z7.displayName=q1e;var G1e="MenuSub",[hWe,J7]=Jc(G1e),Mh="MenuSubTrigger",Q7=_.forwardRef((t,e)=>{const n=Qc(Mh,t.__scopeMenu),r=pg(Mh,t.__scopeMenu),i=J7(Mh,t.__scopeMenu),a=hO(Mh,t.__scopeMenu),s=_.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=a,c={__scopeMenu:t.__scopeMenu},d=_.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return _.useEffect(()=>d,[d]),_.useEffect(()=>{const f=o.current;return()=>{window.clearTimeout(f),l(null)}},[o,l]),u.jsx(dO,{asChild:!0,...c,children:u.jsx(U7,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":nV(n.open),...t,ref:Dx(e,i.onTriggerChange),onClick:f=>{var h;(h=t.onClick)==null||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:he(t.onPointerMove,Qp(f=>{a.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!s.current&&(a.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:he(t.onPointerLeave,Qp(f=>{var p,m;d();const h=(p=n.content)==null?void 0:p.getBoundingClientRect();if(h){const g=(m=n.content)==null?void 0:m.dataset.side,v=g==="right",y=v?-5:5,b=h[v?"left":"right"],x=h[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:b,y:h.top},{x,y:h.top},{x,y:h.bottom},{x:b,y:h.bottom}],side:g}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:he(t.onKeyDown,f=>{var p;const h=a.searchRef.current!=="";t.disabled||h&&f.key===" "||T1e[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});Q7.displayName=Mh;var eV="MenuSubContent",tV=_.forwardRef((t,e)=>{const n=D7(Pi,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=Qc(Pi,t.__scopeMenu),s=pg(Pi,t.__scopeMenu),o=J7(eV,t.__scopeMenu),l=_.useRef(null),c=rt(e,l);return u.jsx(Jp.Provider,{scope:t.__scopeMenu,children:u.jsx(er,{present:r||a.open,children:u.jsx(Jp.Slot,{scope:t.__scopeMenu,children:u.jsx(pO,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:c,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;s.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:he(t.onFocusOutside,d=>{d.target!==o.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:he(t.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:he(t.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=k1e[s.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(p=o.trigger)==null||p.focus(),d.preventDefault())})})})})})});tV.displayName=eV;function nV(t){return t?"open":"closed"}function g0(t){return t==="indeterminate"}function yO(t){return g0(t)?"indeterminate":t?"checked":"unchecked"}function K1e(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Y1e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function X1e(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let s=Y1e(t,Math.max(a,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Z1e(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const o=e[a].x,l=e[a].y,c=e[s].x,d=e[s].y;l>r!=d>r&&n<(c-o)*(r-l)/(d-l)+o&&(i=!i)}return i}function J1e(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Z1e(n,e)}function Qp(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Q1e=L7,eSe=dO,tSe=F7,nSe=B7,rSe=mO,iSe=z7,aSe=Hb,sSe=H7,oSe=W7,lSe=G7,cSe=Y7,uSe=X7,dSe=Z7,fSe=Q7,hSe=tV,vO="DropdownMenu",[pSe,pWe]=Sa(vO,[R7]),vr=R7(),[mSe,rV]=pSe(vO),iV=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:s,modal:o=!0}=t,l=vr(e),c=_.useRef(null),[d=!1,f]=as({prop:i,defaultProp:a,onChange:s});return u.jsx(mSe,{scope:e,triggerId:pa(),triggerRef:c,contentId:pa(),open:d,onOpenChange:f,onOpenToggle:_.useCallback(()=>f(h=>!h),[f]),modal:o,children:u.jsx(Q1e,{...l,open:d,onOpenChange:f,dir:r,modal:o,children:n})})};iV.displayName=vO;var aV="DropdownMenuTrigger",sV=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,a=rV(aV,n),s=vr(n);return u.jsx(eSe,{asChild:!0,...s,children:u.jsx(Pe.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Dx(e,a.triggerRef),onPointerDown:he(t.onPointerDown,o=>{!r&&o.button===0&&o.ctrlKey===!1&&(a.onOpenToggle(),a.open||o.preventDefault())}),onKeyDown:he(t.onKeyDown,o=>{r||(["Enter"," "].includes(o.key)&&a.onOpenToggle(),o.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});sV.displayName=aV;var gSe="DropdownMenuPortal",oV=t=>{const{__scopeDropdownMenu:e,...n}=t,r=vr(e);return u.jsx(tSe,{...r,...n})};oV.displayName=gSe;var lV="DropdownMenuContent",cV=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=rV(lV,n),a=vr(n),s=_.useRef(!1);return u.jsx(nSe,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:he(t.onCloseAutoFocus,o=>{var l;s.current||(l=i.triggerRef.current)==null||l.focus(),s.current=!1,o.preventDefault()}),onInteractOutside:he(t.onInteractOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!i.modal||d)&&(s.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});cV.displayName=lV;var ySe="DropdownMenuGroup",vSe=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(rSe,{...i,...r,ref:e})});vSe.displayName=ySe;var xSe="DropdownMenuLabel",uV=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(iSe,{...i,...r,ref:e})});uV.displayName=xSe;var bSe="DropdownMenuItem",dV=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(aSe,{...i,...r,ref:e})});dV.displayName=bSe;var wSe="DropdownMenuCheckboxItem",fV=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(sSe,{...i,...r,ref:e})});fV.displayName=wSe;var _Se="DropdownMenuRadioGroup",SSe=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(oSe,{...i,...r,ref:e})});SSe.displayName=_Se;var ESe="DropdownMenuRadioItem",hV=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(lSe,{...i,...r,ref:e})});hV.displayName=ESe;var jSe="DropdownMenuItemIndicator",pV=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(cSe,{...i,...r,ref:e})});pV.displayName=jSe;var ASe="DropdownMenuSeparator",mV=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(uSe,{...i,...r,ref:e})});mV.displayName=ASe;var CSe="DropdownMenuArrow",TSe=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(dSe,{...i,...r,ref:e})});TSe.displayName=CSe;var kSe="DropdownMenuSubTrigger",gV=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(fSe,{...i,...r,ref:e})});gV.displayName=kSe;var OSe="DropdownMenuSubContent",yV=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=vr(n);return u.jsx(hSe,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});yV.displayName=OSe;var NSe=iV,PSe=sV,ISe=oV,vV=cV,xV=uV,bV=dV,wV=fV,_V=hV,SV=pV,EV=mV,jV=gV,AV=yV;const $Se=NSe,RSe=PSe,MSe=_.forwardRef(({className:t,inset:e,children:n,...r},i)=>u.jsxs(jV,{ref:i,className:je("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,u.jsx(gee,{className:"ml-auto h-4 w-4"})]}));MSe.displayName=jV.displayName;const LSe=_.forwardRef(({className:t,...e},n)=>u.jsx(AV,{ref:n,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));LSe.displayName=AV.displayName;const CV=_.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(ISe,{children:u.jsx(vV,{ref:r,sideOffset:e,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));CV.displayName=vV.displayName;const lv=_.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(bV,{ref:r,className:je("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));lv.displayName=bV.displayName;const DSe=_.forwardRef(({className:t,children:e,checked:n,...r},i)=>u.jsxs(wV,{ref:i,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(SV,{children:u.jsx(Ux,{className:"h-4 w-4"})})}),e]}));DSe.displayName=wV.displayName;const FSe=_.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(_V,{ref:r,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(SV,{children:u.jsx(vee,{className:"h-2 w-2 fill-current"})})}),e]}));FSe.displayName=_V.displayName;const BSe=_.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(xV,{ref:r,className:je("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));BSe.displayName=xV.displayName;const zSe=_.forwardRef(({className:t,...e},n)=>u.jsx(EV,{ref:n,className:je("-mx-1 my-1 h-px bg-muted",t),...e}));zSe.displayName=EV.displayName;const Oj=({campaign:t,onUpdate:e})=>{const[n,r]=_.useState(!1),{toast:i}=Mt(),a=f=>{switch(f){case"active":return"bg-green-500/10 text-green-500 border-green-500/20";case"paused":return"bg-yellow-500/10 text-yellow-500 border-yellow-500/20";case"completed":return"bg-blue-500/10 text-blue-500 border-blue-500/20";default:return"bg-gray-500/10 text-gray-500 border-gray-500/20"}},s=f=>{switch(f){case"whatsapp":return u.jsx($r,{className:"w-4 h-4"});case"voice":return u.jsx(Di,{className:"w-4 h-4"});default:return u.jsx(Ea,{className:"w-4 h-4"})}},o=async()=>{r(!0);try{const f=t.status==="active"?"paused":"active",{error:h}=await Be.from("campaigns").update({status:f}).eq("id",t.id);if(h)throw h;i({title:`Campaign ${f}`,description:`Campaign has been ${f}.`}),e()}catch(f){console.error("Error updating campaign status:",f),i({title:"Update failed",description:"Failed to update campaign status.",variant:"destructive"})}finally{r(!1)}},l=async()=>{if(confirm("Are you sure you want to delete this campaign?")){r(!0);try{const{error:f}=await Be.from("campaigns").delete().eq("id",t.id);if(f)throw f;i({title:"Campaign deleted",description:"Campaign has been permanently deleted."}),e()}catch(f){console.error("Error deleting campaign:",f),i({title:"Delete failed",description:"Failed to delete campaign.",variant:"destructive"})}finally{r(!1)}}},c=f=>new Date(f).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),d=t.candidates_count>0?Math.round(t.responses_received/t.candidates_count*100):0;return u.jsx(ee,{className:"p-6 hover-lift",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[s(t.type),u.jsx("h3",{className:"font-semibold text-lg",children:t.name})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(on,{className:`border ${a(t.status)}`,children:t.status}),u.jsx(on,{variant:"outline",children:t.type.charAt(0).toUpperCase()+t.type.slice(1)})]})]}),u.jsxs($Se,{children:[u.jsx(RSe,{asChild:!0,children:u.jsx(se,{variant:"ghost",size:"sm",children:u.jsx(bee,{className:"w-4 h-4"})})}),u.jsxs(CV,{align:"end",children:[u.jsx(lv,{onClick:o,disabled:n,children:t.status==="active"?u.jsxs(u.Fragment,{children:[u.jsx(pB,{className:"w-4 h-4 mr-2"}),"Pause Campaign"]}):u.jsxs(u.Fragment,{children:[u.jsx(Fs,{className:"w-4 h-4 mr-2"}),"Start Campaign"]})}),u.jsxs(lv,{disabled:!0,children:[u.jsx(Nee,{className:"w-4 h-4 mr-2"}),"Edit Campaign"]}),u.jsxs(lv,{onClick:l,className:"text-destructive",disabled:n,children:[u.jsx(gB,{className:"w-4 h-4 mr-2"}),"Delete Campaign"]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-primary",children:t.candidates_count}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Candidates"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-green-500",children:t.messages_sent}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Messages"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-500",children:t.calls_made}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Calls"})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"text-2xl font-bold text-orange-500",children:[d,"%"]}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Response Rate"})]})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground pt-2 border-t border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Mp,{className:"w-3 h-3"}),"Created ",c(t.created_at)]}),t.scheduled_at&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Mp,{className:"w-3 h-3"}),"Scheduled ",c(t.scheduled_at)]})]})]})})},xO=({open:t,onOpenChange:e})=>{Mt(),zn();const n=()=>{window.open("https://rzp.io/rzp/DOVfKeU","_blank"),e(!1)},r=[{name:"Starter",price:"999",originalPrice:"1,999",period:"/month",description:"Perfect for small colleges",icon:rd,features:["500 voice calls/month","1,000 WhatsApp messages","Basic analytics dashboard","Email support","2 campaign templates"],popular:!1,discount:"50% OFF"},{name:"Professional",price:"2,999",originalPrice:"5,999",period:"/month",description:"Most popular for growing institutions",icon:Rr,features:["2,500 voice calls/month","5,000 WhatsApp messages","Advanced analytics & reports","Priority support","Unlimited campaign templates","Custom voice training","A/B testing"],popular:!0,discount:"50% OFF"},{name:"Enterprise",price:"9,999",originalPrice:"19,999",period:"/month",description:"For large universities",icon:hB,features:["10,000+ voice calls/month","20,000+ WhatsApp messages","Custom analytics dashboard","24/7 phone support","White-label solution","API access","Dedicated account manager","Custom integrations"],popular:!1,discount:"50% OFF"}];return u.jsx(Ni,{open:t,onOpenChange:e,children:u.jsxs(ii,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[u.jsxs(ai,{children:[u.jsx(si,{className:"text-center text-2xl",children:"Upgrade to Pro - Limited Time Offer!"}),u.jsx("p",{className:"text-center text-muted-foreground",children:"Transform your admission process with AI-powered automation"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:r.map((i,a)=>{const s=i.icon;return u.jsxs(ee,{className:`relative p-6 ${i.popular?"ring-2 ring-primary border-primary":""}`,children:[i.popular&&u.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:u.jsx(on,{className:"bg-primary text-primary-foreground",children:"Most Popular"})}),u.jsxs("div",{className:"text-center space-y-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"w-12 h-12 bg-ai-gradient rounded-lg flex items-center justify-center mx-auto mb-4",children:u.jsx(s,{className:"w-6 h-6 text-white"})}),u.jsx("h3",{className:"text-xl font-bold",children:i.name}),u.jsx("p",{className:"text-sm text-muted-foreground",children:i.description})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("span",{className:"text-3xl font-bold text-primary",children:i.price}),u.jsx("span",{className:"text-muted-foreground",children:i.period})]}),u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("span",{className:"text-sm line-through text-muted-foreground",children:i.originalPrice}),u.jsx(on,{variant:"destructive",className:"text-xs",children:i.discount})]})]}),u.jsx("div",{className:"space-y-2 text-left",children:i.features.map((o,l)=>u.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[u.jsx(ei,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),u.jsx("span",{children:o})]},l))}),u.jsx(se,{variant:i.popular?"hero":"outline",size:"lg",onClick:n,className:"w-full mt-6",children:i.popular?"Choose Pro":`Get ${i.name}`})]})]},a)})}),u.jsx("div",{className:"mt-8 p-6 bg-ai-gradient-subtle rounded-lg",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("h3",{className:"text-xl font-bold",children:" Special Launch Offer"}),u.jsx("p",{className:"text-muted-foreground",children:"Get 50% off for the first 3 months. No setup fees. Cancel anytime."}),u.jsxs("div",{className:"flex justify-center items-center gap-4 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ei,{className:"w-4 h-4 text-green-500"}),u.jsx("span",{children:"30-day money-back guarantee"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ei,{className:"w-4 h-4 text-green-500"}),u.jsx("span",{children:"24/7 customer support"})]})]})]})}),u.jsx("div",{className:"text-center text-xs text-muted-foreground mt-4",children:u.jsx("p",{children:"Payments are secured by Razorpay. Your card details are never stored on our servers."})})]})})};function USe(t,e=[]){let n=[];function r(a,s){const o=_.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||o,v=_.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:v,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||o,m=_.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,d]}const i=()=>{const a=n.map(s=>_.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return _.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,HSe(i,...e)]}function HSe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var bO="Progress",wO=100,[VSe,mWe]=USe(bO),[WSe,qSe]=VSe(bO),TV=_.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=GSe,...s}=t;(i||i===0)&&!VR(i)&&console.error(KSe(`${i}`,"Progress"));const o=VR(i)?i:wO;r!==null&&!WR(r,o)&&console.error(YSe(`${r}`,"Progress"));const l=WR(r,o)?r:null,c=y0(l)?a(l,o):void 0;return u.jsx(WSe,{scope:n,value:l,max:o,children:u.jsx(Pe.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":y0(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":NV(l,o),"data-value":l??void 0,"data-max":o,...s,ref:e})})});TV.displayName=bO;var kV="ProgressIndicator",OV=_.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=qSe(kV,n);return u.jsx(Pe.div,{"data-state":NV(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});OV.displayName=kV;function GSe(t,e){return`${Math.round(t/e*100)}%`}function NV(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function y0(t){return typeof t=="number"}function VR(t){return y0(t)&&!isNaN(t)&&t>0}function WR(t,e){return y0(t)&&!isNaN(t)&&t<=e&&t>=0}function KSe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${wO}\`.`}function YSe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${wO} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var PV=TV,XSe=OV;const Ti=_.forwardRef(({className:t,value:e,...n},r)=>u.jsx(PV,{ref:r,className:je("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:u.jsx(XSe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Ti.displayName=PV.displayName;var ZSe=Array.isArray,Lr=ZSe,JSe=typeof un=="object"&&un&&un.Object===Object&&un,IV=JSe,QSe=IV,eEe=typeof self=="object"&&self&&self.Object===Object&&self,tEe=QSe||eEe||Function("return this")(),gs=tEe,nEe=gs,rEe=nEe.Symbol,mg=rEe,qR=mg,$V=Object.prototype,iEe=$V.hasOwnProperty,aEe=$V.toString,ph=qR?qR.toStringTag:void 0;function sEe(t){var e=iEe.call(t,ph),n=t[ph];try{t[ph]=void 0;var r=!0}catch{}var i=aEe.call(t);return r&&(e?t[ph]=n:delete t[ph]),i}var oEe=sEe,lEe=Object.prototype,cEe=lEe.toString;function uEe(t){return cEe.call(t)}var dEe=uEe,GR=mg,fEe=oEe,hEe=dEe,pEe="[object Null]",mEe="[object Undefined]",KR=GR?GR.toStringTag:void 0;function gEe(t){return t==null?t===void 0?mEe:pEe:KR&&KR in Object(t)?fEe(t):hEe(t)}var uo=gEe;function yEe(t){return t!=null&&typeof t=="object"}var fo=yEe,vEe=uo,xEe=fo,bEe="[object Symbol]";function wEe(t){return typeof t=="symbol"||xEe(t)&&vEe(t)==bEe}var Lf=wEe,_Ee=Lr,SEe=Lf,EEe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jEe=/^\w*$/;function AEe(t,e){if(_Ee(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||SEe(t)?!0:jEe.test(t)||!EEe.test(t)||e!=null&&t in Object(e)}var _O=AEe;function CEe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ll=CEe;const Df=at(Ll);var TEe=uo,kEe=Ll,OEe="[object AsyncFunction]",NEe="[object Function]",PEe="[object GeneratorFunction]",IEe="[object Proxy]";function $Ee(t){if(!kEe(t))return!1;var e=TEe(t);return e==NEe||e==PEe||e==OEe||e==IEe}var SO=$Ee;const qe=at(SO);var REe=gs,MEe=REe["__core-js_shared__"],LEe=MEe,E1=LEe,YR=function(){var t=/[^.]+$/.exec(E1&&E1.keys&&E1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function DEe(t){return!!YR&&YR in t}var FEe=DEe,BEe=Function.prototype,zEe=BEe.toString;function UEe(t){if(t!=null){try{return zEe.call(t)}catch{}try{return t+""}catch{}}return""}var RV=UEe,HEe=SO,VEe=FEe,WEe=Ll,qEe=RV,GEe=/[\\^$.*+?()[\]{}|]/g,KEe=/^\[object .+?Constructor\]$/,YEe=Function.prototype,XEe=Object.prototype,ZEe=YEe.toString,JEe=XEe.hasOwnProperty,QEe=RegExp("^"+ZEe.call(JEe).replace(GEe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function eje(t){if(!WEe(t)||VEe(t))return!1;var e=HEe(t)?QEe:KEe;return e.test(qEe(t))}var tje=eje;function nje(t,e){return t==null?void 0:t[e]}var rje=nje,ije=tje,aje=rje;function sje(t,e){var n=aje(t,e);return ije(n)?n:void 0}var eu=sje,oje=eu,lje=oje(Object,"create"),Vb=lje,XR=Vb;function cje(){this.__data__=XR?XR(null):{},this.size=0}var uje=cje;function dje(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var fje=dje,hje=Vb,pje="__lodash_hash_undefined__",mje=Object.prototype,gje=mje.hasOwnProperty;function yje(t){var e=this.__data__;if(hje){var n=e[t];return n===pje?void 0:n}return gje.call(e,t)?e[t]:void 0}var vje=yje,xje=Vb,bje=Object.prototype,wje=bje.hasOwnProperty;function _je(t){var e=this.__data__;return xje?e[t]!==void 0:wje.call(e,t)}var Sje=_je,Eje=Vb,jje="__lodash_hash_undefined__";function Aje(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Eje&&e===void 0?jje:e,this}var Cje=Aje,Tje=uje,kje=fje,Oje=vje,Nje=Sje,Pje=Cje;function Ff(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ff.prototype.clear=Tje;Ff.prototype.delete=kje;Ff.prototype.get=Oje;Ff.prototype.has=Nje;Ff.prototype.set=Pje;var Ije=Ff;function $je(){this.__data__=[],this.size=0}var Rje=$je;function Mje(t,e){return t===e||t!==t&&e!==e}var EO=Mje,Lje=EO;function Dje(t,e){for(var n=t.length;n--;)if(Lje(t[n][0],e))return n;return-1}var Wb=Dje,Fje=Wb,Bje=Array.prototype,zje=Bje.splice;function Uje(t){var e=this.__data__,n=Fje(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():zje.call(e,n,1),--this.size,!0}var Hje=Uje,Vje=Wb;function Wje(t){var e=this.__data__,n=Vje(e,t);return n<0?void 0:e[n][1]}var qje=Wje,Gje=Wb;function Kje(t){return Gje(this.__data__,t)>-1}var Yje=Kje,Xje=Wb;function Zje(t,e){var n=this.__data__,r=Xje(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Jje=Zje,Qje=Rje,eAe=Hje,tAe=qje,nAe=Yje,rAe=Jje;function Bf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Bf.prototype.clear=Qje;Bf.prototype.delete=eAe;Bf.prototype.get=tAe;Bf.prototype.has=nAe;Bf.prototype.set=rAe;var qb=Bf,iAe=eu,aAe=gs,sAe=iAe(aAe,"Map"),jO=sAe,ZR=Ije,oAe=qb,lAe=jO;function cAe(){this.size=0,this.__data__={hash:new ZR,map:new(lAe||oAe),string:new ZR}}var uAe=cAe;function dAe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var fAe=dAe,hAe=fAe;function pAe(t,e){var n=t.__data__;return hAe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Gb=pAe,mAe=Gb;function gAe(t){var e=mAe(this,t).delete(t);return this.size-=e?1:0,e}var yAe=gAe,vAe=Gb;function xAe(t){return vAe(this,t).get(t)}var bAe=xAe,wAe=Gb;function _Ae(t){return wAe(this,t).has(t)}var SAe=_Ae,EAe=Gb;function jAe(t,e){var n=EAe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var AAe=jAe,CAe=uAe,TAe=yAe,kAe=bAe,OAe=SAe,NAe=AAe;function zf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}zf.prototype.clear=CAe;zf.prototype.delete=TAe;zf.prototype.get=kAe;zf.prototype.has=OAe;zf.prototype.set=NAe;var AO=zf,MV=AO,PAe="Expected a function";function CO(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(PAe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(CO.Cache||MV),n}CO.Cache=MV;var LV=CO;const IAe=at(LV);var $Ae=LV,RAe=500;function MAe(t){var e=$Ae(t,function(r){return n.size===RAe&&n.clear(),r}),n=e.cache;return e}var LAe=MAe,DAe=LAe,FAe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,BAe=/\\(\\)?/g,zAe=DAe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(FAe,function(n,r,i,a){e.push(i?a.replace(BAe,"$1"):r||n)}),e}),UAe=zAe;function HAe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var TO=HAe,JR=mg,VAe=TO,WAe=Lr,qAe=Lf,GAe=1/0,QR=JR?JR.prototype:void 0,eM=QR?QR.toString:void 0;function DV(t){if(typeof t=="string")return t;if(WAe(t))return VAe(t,DV)+"";if(qAe(t))return eM?eM.call(t):"";var e=t+"";return e=="0"&&1/t==-GAe?"-0":e}var KAe=DV,YAe=KAe;function XAe(t){return t==null?"":YAe(t)}var FV=XAe,ZAe=Lr,JAe=_O,QAe=UAe,eCe=FV;function tCe(t,e){return ZAe(t)?t:JAe(t,e)?[t]:QAe(eCe(t))}var BV=tCe,nCe=Lf,rCe=1/0;function iCe(t){if(typeof t=="string"||nCe(t))return t;var e=t+"";return e=="0"&&1/t==-rCe?"-0":e}var Kb=iCe,aCe=BV,sCe=Kb;function oCe(t,e){e=aCe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[sCe(e[n++])];return n&&n==r?t:void 0}var kO=oCe,lCe=kO;function cCe(t,e,n){var r=t==null?void 0:lCe(t,e);return r===void 0?n:r}var zV=cCe;const oi=at(zV);function uCe(t){return t==null}var dCe=uCe;const Xe=at(dCe);var fCe=uo,hCe=Lr,pCe=fo,mCe="[object String]";function gCe(t){return typeof t=="string"||!hCe(t)&&pCe(t)&&fCe(t)==mCe}var yCe=gCe;const gg=at(yCe);var UV={exports:{}},Et={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OO=Symbol.for("react.element"),NO=Symbol.for("react.portal"),Yb=Symbol.for("react.fragment"),Xb=Symbol.for("react.strict_mode"),Zb=Symbol.for("react.profiler"),Jb=Symbol.for("react.provider"),Qb=Symbol.for("react.context"),vCe=Symbol.for("react.server_context"),ew=Symbol.for("react.forward_ref"),tw=Symbol.for("react.suspense"),nw=Symbol.for("react.suspense_list"),rw=Symbol.for("react.memo"),iw=Symbol.for("react.lazy"),xCe=Symbol.for("react.offscreen"),HV;HV=Symbol.for("react.module.reference");function zi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case OO:switch(t=t.type,t){case Yb:case Zb:case Xb:case tw:case nw:return t;default:switch(t=t&&t.$$typeof,t){case vCe:case Qb:case ew:case iw:case rw:case Jb:return t;default:return e}}case NO:return e}}}Et.ContextConsumer=Qb;Et.ContextProvider=Jb;Et.Element=OO;Et.ForwardRef=ew;Et.Fragment=Yb;Et.Lazy=iw;Et.Memo=rw;Et.Portal=NO;Et.Profiler=Zb;Et.StrictMode=Xb;Et.Suspense=tw;Et.SuspenseList=nw;Et.isAsyncMode=function(){return!1};Et.isConcurrentMode=function(){return!1};Et.isContextConsumer=function(t){return zi(t)===Qb};Et.isContextProvider=function(t){return zi(t)===Jb};Et.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===OO};Et.isForwardRef=function(t){return zi(t)===ew};Et.isFragment=function(t){return zi(t)===Yb};Et.isLazy=function(t){return zi(t)===iw};Et.isMemo=function(t){return zi(t)===rw};Et.isPortal=function(t){return zi(t)===NO};Et.isProfiler=function(t){return zi(t)===Zb};Et.isStrictMode=function(t){return zi(t)===Xb};Et.isSuspense=function(t){return zi(t)===tw};Et.isSuspenseList=function(t){return zi(t)===nw};Et.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Yb||t===Zb||t===Xb||t===tw||t===nw||t===xCe||typeof t=="object"&&t!==null&&(t.$$typeof===iw||t.$$typeof===rw||t.$$typeof===Jb||t.$$typeof===Qb||t.$$typeof===ew||t.$$typeof===HV||t.getModuleId!==void 0)};Et.typeOf=zi;UV.exports=Et;var VV=UV.exports,bCe=uo,wCe=fo,_Ce="[object Number]";function SCe(t){return typeof t=="number"||wCe(t)&&bCe(t)==_Ce}var WV=SCe;const ECe=at(WV);var jCe=WV;function ACe(t){return jCe(t)&&t!=+t}var CCe=ACe;const yg=at(CCe);var dr=function(e){return e===0?0:e>0?1:-1},lc=function(e){return gg(e)&&e.indexOf("%")===e.length-1},pe=function(e){return ECe(e)&&!yg(e)},En=function(e){return pe(e)||gg(e)},TCe=0,Uf=function(e){var n=++TCe;return"".concat(e||"").concat(n)},fr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pe(e)&&!gg(e))return r;var a;if(lc(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return yg(a)&&(a=r),i&&a>n&&(a=n),a},Po=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},kCe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Gr=function(e,n){return pe(e)&&pe(n)?function(r){return e+r*(n-e)}:function(){return n}};function v0(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):oi(r,e))===n})}function dd(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Nj(t){"@babel/helpers - typeof";return Nj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nj(t)}var OCe=["viewBox","children"],NCe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],tM=["points","pathLength"],j1={svg:OCe,polygon:tM,polyline:tM},PO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],x0=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(_.isValidElement(e)&&(r=e.props),!Df(r))return null;var i={};return Object.keys(r).forEach(function(a){PO.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},PCe=function(e,n,r){return function(i){return e(n,r,i),null}},Fc=function(e,n,r){if(!Df(e)||Nj(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];PO.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=PCe(s,n,r))}),i},ICe=["children"],$Ce=["children"];function nM(t,e){if(t==null)return{};var n=RCe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pj(t){"@babel/helpers - typeof";return Pj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pj(t)}var rM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Hs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},iM=null,A1=null,IO=function t(e){if(e===iM&&Array.isArray(A1))return A1;var n=[];return _.Children.forEach(e,function(r){Xe(r)||(VV.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),A1=n,iM=e,n};function li(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Hs(i)}):r=[Hs(e)],IO(t).forEach(function(i){var a=oi(i,"type.displayName")||oi(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Wr(t,e){var n=li(t,e);return n&&n[0]}var aM=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!pe(r)||r<=0||!pe(i)||i<=0)},MCe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],LCe=function(e){return e&&e.type&&gg(e.type)&&MCe.indexOf(e.type)>=0},DCe=function(e){return e&&Pj(e)==="object"&&"clipDot"in e},FCe=function(e,n,r,i){var a,s=(a=j1==null?void 0:j1[i])!==null&&a!==void 0?a:[];return!qe(e)&&(i&&s.includes(n)||NCe.includes(n))||r&&PO.includes(n)},De=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(_.isValidElement(e)&&(i=e.props),!Df(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;FCe((o=i)===null||o===void 0?void 0:o[s],s,n,r)&&(a[s]=i[s])}),a},Ij=function t(e,n){if(e===n)return!0;var r=_.Children.count(e);if(r!==_.Children.count(n))return!1;if(r===0)return!0;if(r===1)return sM(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!sM(a,s))return!1}return!0},sM=function(e,n){if(Xe(e)&&Xe(n))return!0;if(!Xe(e)&&!Xe(n)){var r=e.props||{},i=r.children,a=nM(r,ICe),s=n.props||{},o=s.children,l=nM(s,$Ce);return i&&o?dd(a,l)&&Ij(i,o):!i&&!o?dd(a,l):!1}return!1},oM=function(e,n){var r=[],i={};return IO(e).forEach(function(a,s){if(LCe(a))r.push(a);else if(a){var o=Hs(a.type),l=n[o]||{},c=l.handler,d=l.once;if(c&&(!d||!i[o])){var f=c(a,o,s);r.push(f),i[o]=!0}}}),r},BCe=function(e){var n=e&&e.type;return n&&rM[n]?rM[n]:null},zCe=function(e,n){return IO(n).indexOf(e)},UCe=["children","width","height","viewBox","className","style","title","desc"];function $j(){return $j=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$j.apply(this,arguments)}function HCe(t,e){if(t==null)return{};var n=VCe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rj(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,c=HCe(t,UCe),d=i||{width:n,height:r,x:0,y:0},f=Je("recharts-surface",a);return F.createElement("svg",$j({},De(c,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),F.createElement("title",null,o),F.createElement("desc",null,l),e)}var WCe=["children","className"];function Mj(){return Mj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mj.apply(this,arguments)}function qCe(t,e){if(t==null)return{};var n=GCe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var pt=F.forwardRef(function(t,e){var n=t.children,r=t.className,i=qCe(t,WCe),a=Je("recharts-layer",r);return F.createElement("g",Mj({className:a},De(i,!0),{ref:e}),n)}),ga=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function KCe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var YCe=KCe,XCe=YCe;function ZCe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:XCe(t,e,n)}var JCe=ZCe,QCe="\\ud800-\\udfff",eTe="\\u0300-\\u036f",tTe="\\ufe20-\\ufe2f",nTe="\\u20d0-\\u20ff",rTe=eTe+tTe+nTe,iTe="\\ufe0e\\ufe0f",aTe="\\u200d",sTe=RegExp("["+aTe+QCe+rTe+iTe+"]");function oTe(t){return sTe.test(t)}var qV=oTe;function lTe(t){return t.split("")}var cTe=lTe,GV="\\ud800-\\udfff",uTe="\\u0300-\\u036f",dTe="\\ufe20-\\ufe2f",fTe="\\u20d0-\\u20ff",hTe=uTe+dTe+fTe,pTe="\\ufe0e\\ufe0f",mTe="["+GV+"]",Lj="["+hTe+"]",Dj="\\ud83c[\\udffb-\\udfff]",gTe="(?:"+Lj+"|"+Dj+")",KV="[^"+GV+"]",YV="(?:\\ud83c[\\udde6-\\uddff]){2}",XV="[\\ud800-\\udbff][\\udc00-\\udfff]",yTe="\\u200d",ZV=gTe+"?",JV="["+pTe+"]?",vTe="(?:"+yTe+"(?:"+[KV,YV,XV].join("|")+")"+JV+ZV+")*",xTe=JV+ZV+vTe,bTe="(?:"+[KV+Lj+"?",Lj,YV,XV,mTe].join("|")+")",wTe=RegExp(Dj+"(?="+Dj+")|"+bTe+xTe,"g");function _Te(t){return t.match(wTe)||[]}var STe=_Te,ETe=cTe,jTe=qV,ATe=STe;function CTe(t){return jTe(t)?ATe(t):ETe(t)}var TTe=CTe,kTe=JCe,OTe=qV,NTe=TTe,PTe=FV;function ITe(t){return function(e){e=PTe(e);var n=OTe(e)?NTe(e):void 0,r=n?n[0]:e.charAt(0),i=n?kTe(n,1).join(""):e.slice(1);return r[t]()+i}}var $Te=ITe,RTe=$Te,MTe=RTe("toUpperCase"),LTe=MTe;const aw=at(LTe);function Pt(t){return function(){return t}}const QV=Math.cos,b0=Math.sin,ka=Math.sqrt,w0=Math.PI,sw=2*w0,Fj=Math.PI,Bj=2*Fj,Ql=1e-6,DTe=Bj-Ql;function eW(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function FTe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return eW;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class BTe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?eW:FTe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,c=i-n,d=s-e,f=o-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Ql)if(!(Math.abs(f*l-c*d)>Ql)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,m=i-o,g=l*l+c*c,v=p*p+m*m,y=Math.sqrt(g),b=Math.sqrt(h),x=a*Math.tan((Fj-Math.acos((g+h-v)/(2*y*b)))/2),w=x/b,S=x/y;Math.abs(w-1)>Ql&&this._append`L${e+w*d},${n+w*f}`,this._append`A${a},${a},0,0,${+(f*p>d*m)},${this._x1=e+S*l},${this._y1=n+S*c}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,d=n+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Ql||Math.abs(this._y1-d)>Ql)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%Bj+Bj),h>DTe?this._append`A${r},${r},0,1,${f},${e-o},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>Ql&&this._append`A${r},${r},0,${+(h>=Fj)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function $O(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new BTe(e)}function RO(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function tW(t){this._context=t}tW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ow(t){return new tW(t)}function nW(t){return t[0]}function rW(t){return t[1]}function iW(t,e){var n=Pt(!0),r=null,i=ow,a=null,s=$O(o);t=typeof t=="function"?t:t===void 0?nW:Pt(t),e=typeof e=="function"?e:e===void 0?rW:Pt(e);function o(l){var c,d=(l=RO(l)).length,f,h=!1,p;for(r==null&&(a=i(p=s())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,c,l),+e(f,c,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Pt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Pt(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Pt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function Sy(t,e,n){var r=null,i=Pt(!0),a=null,s=ow,o=null,l=$O(c);t=typeof t=="function"?t:t===void 0?nW:Pt(+t),e=typeof e=="function"?e:Pt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?rW:Pt(+n);function c(f){var h,p,m,g=(f=RO(f)).length,v,y=!1,b,x=new Array(g),w=new Array(g);for(a==null&&(o=s(b=l())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===y)if(y=!y)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=h-1;m>=p;--m)o.point(x[m],w[m]);o.lineEnd(),o.areaEnd()}y&&(x[h]=+t(v,h,f),w[h]=+e(v,h,f),o.point(r?+r(v,h,f):x[h],n?+n(v,h,f):w[h]))}if(b)return o=null,b+""||null}function d(){return iW().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Pt(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Pt(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Pt(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Pt(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Pt(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Pt(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(n)},c.lineX1=function(){return d().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Pt(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class aW{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function zTe(t){return new aW(t,!0)}function UTe(t){return new aW(t,!1)}const MO={draw(t,e){const n=ka(e/w0);t.moveTo(n,0),t.arc(0,0,n,0,sw)}},HTe={draw(t,e){const n=ka(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},sW=ka(1/3),VTe=sW*2,WTe={draw(t,e){const n=ka(e/VTe),r=n*sW;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},qTe={draw(t,e){const n=ka(e),r=-n/2;t.rect(r,r,n,n)}},GTe=.8908130915292852,oW=b0(w0/10)/b0(7*w0/10),KTe=b0(sw/10)*oW,YTe=-QV(sw/10)*oW,XTe={draw(t,e){const n=ka(e*GTe),r=KTe*n,i=YTe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=sw*a/5,o=QV(s),l=b0(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},C1=ka(3),ZTe={draw(t,e){const n=-ka(e/(C1*3));t.moveTo(0,n*2),t.lineTo(-C1*n,-n),t.lineTo(C1*n,-n),t.closePath()}},mi=-.5,gi=ka(3)/2,zj=1/ka(12),JTe=(zj/2+1)*3,QTe={draw(t,e){const n=ka(e/JTe),r=n/2,i=n*zj,a=r,s=n*zj+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(mi*r-gi*i,gi*r+mi*i),t.lineTo(mi*a-gi*s,gi*a+mi*s),t.lineTo(mi*o-gi*l,gi*o+mi*l),t.lineTo(mi*r+gi*i,mi*i-gi*r),t.lineTo(mi*a+gi*s,mi*s-gi*a),t.lineTo(mi*o+gi*l,mi*l-gi*o),t.closePath()}};function eke(t,e){let n=null,r=$O(i);t=typeof t=="function"?t:Pt(t||MO),e=typeof e=="function"?e:Pt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Pt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Pt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function _0(){}function S0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function lW(t){this._context=t}lW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:S0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:S0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tke(t){return new lW(t)}function cW(t){this._context=t}cW.prototype={areaStart:_0,areaEnd:_0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:S0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nke(t){return new cW(t)}function uW(t){this._context=t}uW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:S0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rke(t){return new uW(t)}function dW(t){this._context=t}dW.prototype={areaStart:_0,areaEnd:_0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function ike(t){return new dW(t)}function lM(t){return t<0?-1:1}function cM(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(lM(a)+lM(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function uM(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function T1(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function E0(t){this._context=t}E0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:T1(this,this._t0,uM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,T1(this,uM(this,n=cM(this,t,e)),n);break;default:T1(this,this._t0,n=cM(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function fW(t){this._context=new hW(t)}(fW.prototype=Object.create(E0.prototype)).point=function(t,e){E0.prototype.point.call(this,e,t)};function hW(t){this._context=t}hW.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function ake(t){return new E0(t)}function ske(t){return new fW(t)}function pW(t){this._context=t}pW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=dM(t),i=dM(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function dM(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function oke(t){return new pW(t)}function lw(t,e){this._context=t,this._t=e}lw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function lke(t){return new lw(t,.5)}function cke(t){return new lw(t,0)}function uke(t){return new lw(t,1)}function Wd(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Uj(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function dke(t,e){return t[e]}function fke(t){const e=[];return e.key=t,e}function hke(){var t=Pt([]),e=Uj,n=Wd,r=dke;function i(a){var s=Array.from(t.apply(this,arguments),fke),o,l=s.length,c=-1,d;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(f,s[o].key,c,a)]).data=f;for(o=0,d=RO(e(s));o<l;++o)s[d[o]].index=o;return n(s,d),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Pt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Pt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?Uj:typeof a=="function"?a:Pt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Wd,i):n},i}function pke(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Wd(t,e)}}function mke(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}Wd(t,e)}}function gke(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var d=t[e[o]],f=d[r][1]||0,h=d[r-1][1]||0,p=(f-h)/2,m=0;m<o;++m){var g=t[e[m]],v=g[r][1]||0,y=g[r-1][1]||0;p+=v-y}l+=f,c+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Wd(t,e)}}function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}var yke=["type","size","sizeType"];function Hj(){return Hj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hj.apply(this,arguments)}function fM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(n),!0).forEach(function(r){vke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vke(t,e,n){return e=xke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xke(t){var e=bke(t,"string");return em(e)=="symbol"?e:e+""}function bke(t,e){if(em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wke(t,e){if(t==null)return{};var n=_ke(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _ke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var mW={symbolCircle:MO,symbolCross:HTe,symbolDiamond:WTe,symbolSquare:qTe,symbolStar:XTe,symbolTriangle:ZTe,symbolWye:QTe},Ske=Math.PI/180,Eke=function(e){var n="symbol".concat(aw(e));return mW[n]||MO},jke=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Ske;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Ake=function(e,n){mW["symbol".concat(aw(e))]=n},LO=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=wke(e,yke),c=hM(hM({},l),{},{type:r,size:a,sizeType:o}),d=function(){var v=Eke(r),y=eke().type(v).size(jke(a,o,r));return y()},f=c.className,h=c.cx,p=c.cy,m=De(c,!0);return h===+h&&p===+p&&a===+a?F.createElement("path",Hj({},m,{className:Je("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};LO.registerSymbol=Ake;function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function Vj(){return Vj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vj.apply(this,arguments)}function pM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cke(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(n),!0).forEach(function(r){tm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yW(r.key),r)}}function Oke(t,e,n){return e&&kke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nke(t,e,n){return e=j0(e),Pke(t,gW()?Reflect.construct(e,n||[],j0(t).constructor):e.apply(t,n))}function Pke(t,e){if(e&&(qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ike(t)}function Ike(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gW=function(){return!!t})()}function j0(t){return j0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},j0(t)}function $ke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wj(t,e)}function Wj(t,e){return Wj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wj(t,e)}function tm(t,e,n){return e=yW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yW(t){var e=Rke(t,"string");return qd(e)=="symbol"?e:e+""}function Rke(t,e){if(qd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yi=32,DO=function(t){function e(){return Tke(this,e),Nke(this,e,arguments)}return $ke(e,t),Oke(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=yi/2,s=yi/6,o=yi/3,l=r.inactive?i:r.color;if(r.type==="plainline")return F.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:yi,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return F.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(yi,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return F.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(yi/8,"h").concat(yi,"v").concat(yi*3/4,"h").concat(-yi,"z"),className:"recharts-legend-icon"});if(F.isValidElement(r.legendIcon)){var c=Cke({},r);return delete c.legendIcon,F.cloneElement(r.legendIcon,c)}return F.createElement(LO,{fill:l,cx:a,cy:a,size:yi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:yi,height:yi},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,m){var g=p.formatter||l,v=Je(tm(tm({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=qe(p.value)?null:p.value;ga(!qe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?c:p.color;return F.createElement("li",Vj({className:v,style:f,key:"legend-item-".concat(m)},Fc(r.props,p,m)),F.createElement(Rj,{width:s,height:s,viewBox:d,style:h},r.renderIcon(p)),F.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(y,p,m):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return F.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(_.PureComponent);tm(DO,"displayName","Legend");tm(DO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Mke=qb;function Lke(){this.__data__=new Mke,this.size=0}var Dke=Lke;function Fke(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Bke=Fke;function zke(t){return this.__data__.get(t)}var Uke=zke;function Hke(t){return this.__data__.has(t)}var Vke=Hke,Wke=qb,qke=jO,Gke=AO,Kke=200;function Yke(t,e){var n=this.__data__;if(n instanceof Wke){var r=n.__data__;if(!qke||r.length<Kke-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Gke(r)}return n.set(t,e),this.size=n.size,this}var Xke=Yke,Zke=qb,Jke=Dke,Qke=Bke,eOe=Uke,tOe=Vke,nOe=Xke;function Hf(t){var e=this.__data__=new Zke(t);this.size=e.size}Hf.prototype.clear=Jke;Hf.prototype.delete=Qke;Hf.prototype.get=eOe;Hf.prototype.has=tOe;Hf.prototype.set=nOe;var vW=Hf,rOe="__lodash_hash_undefined__";function iOe(t){return this.__data__.set(t,rOe),this}var aOe=iOe;function sOe(t){return this.__data__.has(t)}var oOe=sOe,lOe=AO,cOe=aOe,uOe=oOe;function A0(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new lOe;++e<n;)this.add(t[e])}A0.prototype.add=A0.prototype.push=cOe;A0.prototype.has=uOe;var xW=A0;function dOe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var bW=dOe;function fOe(t,e){return t.has(e)}var wW=fOe,hOe=xW,pOe=bW,mOe=wW,gOe=1,yOe=2;function vOe(t,e,n,r,i,a){var s=n&gOe,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(t),d=a.get(e);if(c&&d)return c==e&&d==t;var f=-1,h=!0,p=n&yOe?new hOe:void 0;for(a.set(t,e),a.set(e,t);++f<o;){var m=t[f],g=e[f];if(r)var v=s?r(g,m,f,e,t,a):r(m,g,f,t,e,a);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!pOe(e,function(y,b){if(!mOe(p,b)&&(m===y||i(m,y,n,r,a)))return p.push(b)})){h=!1;break}}else if(!(m===g||i(m,g,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var _W=vOe,xOe=gs,bOe=xOe.Uint8Array,wOe=bOe;function _Oe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var SOe=_Oe;function EOe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var FO=EOe,mM=mg,gM=wOe,jOe=EO,AOe=_W,COe=SOe,TOe=FO,kOe=1,OOe=2,NOe="[object Boolean]",POe="[object Date]",IOe="[object Error]",$Oe="[object Map]",ROe="[object Number]",MOe="[object RegExp]",LOe="[object Set]",DOe="[object String]",FOe="[object Symbol]",BOe="[object ArrayBuffer]",zOe="[object DataView]",yM=mM?mM.prototype:void 0,k1=yM?yM.valueOf:void 0;function UOe(t,e,n,r,i,a,s){switch(n){case zOe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case BOe:return!(t.byteLength!=e.byteLength||!a(new gM(t),new gM(e)));case NOe:case POe:case ROe:return jOe(+t,+e);case IOe:return t.name==e.name&&t.message==e.message;case MOe:case DOe:return t==e+"";case $Oe:var o=COe;case LOe:var l=r&kOe;if(o||(o=TOe),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=OOe,s.set(t,e);var d=AOe(o(t),o(e),r,i,a,s);return s.delete(t),d;case FOe:if(k1)return k1.call(t)==k1.call(e)}return!1}var HOe=UOe;function VOe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var SW=VOe,WOe=SW,qOe=Lr;function GOe(t,e,n){var r=e(t);return qOe(t)?r:WOe(r,n(t))}var KOe=GOe;function YOe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var XOe=YOe;function ZOe(){return[]}var JOe=ZOe,QOe=XOe,eNe=JOe,tNe=Object.prototype,nNe=tNe.propertyIsEnumerable,vM=Object.getOwnPropertySymbols,rNe=vM?function(t){return t==null?[]:(t=Object(t),QOe(vM(t),function(e){return nNe.call(t,e)}))}:eNe,iNe=rNe;function aNe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var sNe=aNe,oNe=uo,lNe=fo,cNe="[object Arguments]";function uNe(t){return lNe(t)&&oNe(t)==cNe}var dNe=uNe,xM=dNe,fNe=fo,EW=Object.prototype,hNe=EW.hasOwnProperty,pNe=EW.propertyIsEnumerable,mNe=xM(function(){return arguments}())?xM:function(t){return fNe(t)&&hNe.call(t,"callee")&&!pNe.call(t,"callee")},BO=mNe,C0={exports:{}};function gNe(){return!1}var yNe=gNe;C0.exports;(function(t,e){var n=gs,r=yNe,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(C0,C0.exports);var jW=C0.exports,vNe=9007199254740991,xNe=/^(?:0|[1-9]\d*)$/;function bNe(t,e){var n=typeof t;return e=e??vNe,!!e&&(n=="number"||n!="symbol"&&xNe.test(t))&&t>-1&&t%1==0&&t<e}var zO=bNe,wNe=9007199254740991;function _Ne(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=wNe}var UO=_Ne,SNe=uo,ENe=UO,jNe=fo,ANe="[object Arguments]",CNe="[object Array]",TNe="[object Boolean]",kNe="[object Date]",ONe="[object Error]",NNe="[object Function]",PNe="[object Map]",INe="[object Number]",$Ne="[object Object]",RNe="[object RegExp]",MNe="[object Set]",LNe="[object String]",DNe="[object WeakMap]",FNe="[object ArrayBuffer]",BNe="[object DataView]",zNe="[object Float32Array]",UNe="[object Float64Array]",HNe="[object Int8Array]",VNe="[object Int16Array]",WNe="[object Int32Array]",qNe="[object Uint8Array]",GNe="[object Uint8ClampedArray]",KNe="[object Uint16Array]",YNe="[object Uint32Array]",zt={};zt[zNe]=zt[UNe]=zt[HNe]=zt[VNe]=zt[WNe]=zt[qNe]=zt[GNe]=zt[KNe]=zt[YNe]=!0;zt[ANe]=zt[CNe]=zt[FNe]=zt[TNe]=zt[BNe]=zt[kNe]=zt[ONe]=zt[NNe]=zt[PNe]=zt[INe]=zt[$Ne]=zt[RNe]=zt[MNe]=zt[LNe]=zt[DNe]=!1;function XNe(t){return jNe(t)&&ENe(t.length)&&!!zt[SNe(t)]}var ZNe=XNe;function JNe(t){return function(e){return t(e)}}var AW=JNe,T0={exports:{}};T0.exports;(function(t,e){var n=IV,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(T0,T0.exports);var QNe=T0.exports,ePe=ZNe,tPe=AW,bM=QNe,wM=bM&&bM.isTypedArray,nPe=wM?tPe(wM):ePe,CW=nPe,rPe=sNe,iPe=BO,aPe=Lr,sPe=jW,oPe=zO,lPe=CW,cPe=Object.prototype,uPe=cPe.hasOwnProperty;function dPe(t,e){var n=aPe(t),r=!n&&iPe(t),i=!n&&!r&&sPe(t),a=!n&&!r&&!i&&lPe(t),s=n||r||i||a,o=s?rPe(t.length,String):[],l=o.length;for(var c in t)(e||uPe.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||oPe(c,l)))&&o.push(c);return o}var fPe=dPe,hPe=Object.prototype;function pPe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||hPe;return t===n}var mPe=pPe;function gPe(t,e){return function(n){return t(e(n))}}var TW=gPe,yPe=TW,vPe=yPe(Object.keys,Object),xPe=vPe,bPe=mPe,wPe=xPe,_Pe=Object.prototype,SPe=_Pe.hasOwnProperty;function EPe(t){if(!bPe(t))return wPe(t);var e=[];for(var n in Object(t))SPe.call(t,n)&&n!="constructor"&&e.push(n);return e}var jPe=EPe,APe=SO,CPe=UO;function TPe(t){return t!=null&&CPe(t.length)&&!APe(t)}var vg=TPe,kPe=fPe,OPe=jPe,NPe=vg;function PPe(t){return NPe(t)?kPe(t):OPe(t)}var cw=PPe,IPe=KOe,$Pe=iNe,RPe=cw;function MPe(t){return IPe(t,RPe,$Pe)}var LPe=MPe,_M=LPe,DPe=1,FPe=Object.prototype,BPe=FPe.hasOwnProperty;function zPe(t,e,n,r,i,a){var s=n&DPe,o=_M(t),l=o.length,c=_M(e),d=c.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in e:BPe.call(e,h)))return!1}var p=a.get(t),m=a.get(e);if(p&&m)return p==e&&m==t;var g=!0;a.set(t,e),a.set(e,t);for(var v=s;++f<l;){h=o[f];var y=t[h],b=e[h];if(r)var x=s?r(b,y,h,e,t,a):r(y,b,h,t,e,a);if(!(x===void 0?y===b||i(y,b,n,r,a):x)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var w=t.constructor,S=e.constructor;w!=S&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof S=="function"&&S instanceof S)&&(g=!1)}return a.delete(t),a.delete(e),g}var UPe=zPe,HPe=eu,VPe=gs,WPe=HPe(VPe,"DataView"),qPe=WPe,GPe=eu,KPe=gs,YPe=GPe(KPe,"Promise"),XPe=YPe,ZPe=eu,JPe=gs,QPe=ZPe(JPe,"Set"),kW=QPe,eIe=eu,tIe=gs,nIe=eIe(tIe,"WeakMap"),rIe=nIe,qj=qPe,Gj=jO,Kj=XPe,Yj=kW,Xj=rIe,OW=uo,Vf=RV,SM="[object Map]",iIe="[object Object]",EM="[object Promise]",jM="[object Set]",AM="[object WeakMap]",CM="[object DataView]",aIe=Vf(qj),sIe=Vf(Gj),oIe=Vf(Kj),lIe=Vf(Yj),cIe=Vf(Xj),ec=OW;(qj&&ec(new qj(new ArrayBuffer(1)))!=CM||Gj&&ec(new Gj)!=SM||Kj&&ec(Kj.resolve())!=EM||Yj&&ec(new Yj)!=jM||Xj&&ec(new Xj)!=AM)&&(ec=function(t){var e=OW(t),n=e==iIe?t.constructor:void 0,r=n?Vf(n):"";if(r)switch(r){case aIe:return CM;case sIe:return SM;case oIe:return EM;case lIe:return jM;case cIe:return AM}return e});var uIe=ec,O1=vW,dIe=_W,fIe=HOe,hIe=UPe,TM=uIe,kM=Lr,OM=jW,pIe=CW,mIe=1,NM="[object Arguments]",PM="[object Array]",Ey="[object Object]",gIe=Object.prototype,IM=gIe.hasOwnProperty;function yIe(t,e,n,r,i,a){var s=kM(t),o=kM(e),l=s?PM:TM(t),c=o?PM:TM(e);l=l==NM?Ey:l,c=c==NM?Ey:c;var d=l==Ey,f=c==Ey,h=l==c;if(h&&OM(t)){if(!OM(e))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new O1),s||pIe(t)?dIe(t,e,n,r,i,a):fIe(t,e,l,n,r,i,a);if(!(n&mIe)){var p=d&&IM.call(t,"__wrapped__"),m=f&&IM.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,v=m?e.value():e;return a||(a=new O1),i(g,v,n,r,a)}}return h?(a||(a=new O1),hIe(t,e,n,r,i,a)):!1}var vIe=yIe,xIe=vIe,$M=fo;function NW(t,e,n,r,i){return t===e?!0:t==null||e==null||!$M(t)&&!$M(e)?t!==t&&e!==e:xIe(t,e,n,r,NW,i)}var HO=NW,bIe=vW,wIe=HO,_Ie=1,SIe=2;function EIe(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var o=n[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=n[i];var l=o[0],c=t[l],d=o[1];if(s&&o[2]){if(c===void 0&&!(l in t))return!1}else{var f=new bIe;if(r)var h=r(c,d,l,t,e,f);if(!(h===void 0?wIe(d,c,_Ie|SIe,r,f):h))return!1}}return!0}var jIe=EIe,AIe=Ll;function CIe(t){return t===t&&!AIe(t)}var PW=CIe,TIe=PW,kIe=cw;function OIe(t){for(var e=kIe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,TIe(i)]}return e}var NIe=OIe;function PIe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var IW=PIe,IIe=jIe,$Ie=NIe,RIe=IW;function MIe(t){var e=$Ie(t);return e.length==1&&e[0][2]?RIe(e[0][0],e[0][1]):function(n){return n===t||IIe(n,t,e)}}var LIe=MIe;function DIe(t,e){return t!=null&&e in Object(t)}var FIe=DIe,BIe=BV,zIe=BO,UIe=Lr,HIe=zO,VIe=UO,WIe=Kb;function qIe(t,e,n){e=BIe(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=WIe(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&VIe(i)&&HIe(s,i)&&(UIe(t)||zIe(t)))}var GIe=qIe,KIe=FIe,YIe=GIe;function XIe(t,e){return t!=null&&YIe(t,e,KIe)}var ZIe=XIe,JIe=HO,QIe=zV,e2e=ZIe,t2e=_O,n2e=PW,r2e=IW,i2e=Kb,a2e=1,s2e=2;function o2e(t,e){return t2e(t)&&n2e(e)?r2e(i2e(t),e):function(n){var r=QIe(n,t);return r===void 0&&r===e?e2e(n,t):JIe(e,r,a2e|s2e)}}var l2e=o2e;function c2e(t){return t}var Wf=c2e;function u2e(t){return function(e){return e==null?void 0:e[t]}}var d2e=u2e,f2e=kO;function h2e(t){return function(e){return f2e(e,t)}}var p2e=h2e,m2e=d2e,g2e=p2e,y2e=_O,v2e=Kb;function x2e(t){return y2e(t)?m2e(v2e(t)):g2e(t)}var b2e=x2e,w2e=LIe,_2e=l2e,S2e=Wf,E2e=Lr,j2e=b2e;function A2e(t){return typeof t=="function"?t:t==null?S2e:typeof t=="object"?E2e(t)?_2e(t[0],t[1]):w2e(t):j2e(t)}var ys=A2e;function C2e(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var $W=C2e;function T2e(t){return t!==t}var k2e=T2e;function O2e(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var N2e=O2e,P2e=$W,I2e=k2e,$2e=N2e;function R2e(t,e,n){return e===e?$2e(t,e,n):P2e(t,I2e,n)}var M2e=R2e,L2e=M2e;function D2e(t,e){var n=t==null?0:t.length;return!!n&&L2e(t,e,0)>-1}var F2e=D2e;function B2e(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var z2e=B2e;function U2e(){}var H2e=U2e,N1=kW,V2e=H2e,W2e=FO,q2e=1/0,G2e=N1&&1/W2e(new N1([,-0]))[1]==q2e?function(t){return new N1(t)}:V2e,K2e=G2e,Y2e=xW,X2e=F2e,Z2e=z2e,J2e=wW,Q2e=K2e,e$e=FO,t$e=200;function n$e(t,e,n){var r=-1,i=X2e,a=t.length,s=!0,o=[],l=o;if(n)s=!1,i=Z2e;else if(a>=t$e){var c=e?null:Q2e(t);if(c)return e$e(c);s=!1,i=J2e,l=new Y2e}else l=e?[]:o;e:for(;++r<a;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),o.push(d)}else i(l,f,n)||(l!==o&&l.push(f),o.push(d))}return o}var r$e=n$e,i$e=ys,a$e=r$e;function s$e(t,e){return t&&t.length?a$e(t,i$e(e)):[]}var o$e=s$e;const RM=at(o$e);function RW(t,e,n){return e===!0?RM(t,n):qe(e)?RM(t,e):t}function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}var l$e=["ref"];function MM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ws(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MM(Object(n),!0).forEach(function(r){uw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LW(r.key),r)}}function u$e(t,e,n){return e&&LM(t.prototype,e),n&&LM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function d$e(t,e,n){return e=k0(e),f$e(t,MW()?Reflect.construct(e,n||[],k0(t).constructor):e.apply(t,n))}function f$e(t,e){if(e&&(Gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h$e(t)}function h$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MW=function(){return!!t})()}function k0(t){return k0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},k0(t)}function p$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zj(t,e)}function Zj(t,e){return Zj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zj(t,e)}function uw(t,e,n){return e=LW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LW(t){var e=m$e(t,"string");return Gd(e)=="symbol"?e:e+""}function m$e(t,e){if(Gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function g$e(t,e){if(t==null)return{};var n=y$e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function y$e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function v$e(t){return t.value}function x$e(t,e){if(F.isValidElement(t))return F.cloneElement(t,e);if(typeof t=="function")return F.createElement(t,e);e.ref;var n=g$e(e,l$e);return F.createElement(DO,n)}var DM=1,rl=function(t){function e(){var n;c$e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=d$e(this,e,[].concat(i)),uw(n,"lastBoundingBox",{width:-1,height:-1}),n}return p$e(e,t),u$e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>DM||Math.abs(i.height-this.lastBoundingBox.height)>DM)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ws({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ws(ws({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,f=ws(ws({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return F.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},x$e(a,ws(ws({},this.props),{},{payload:RW(d,c,v$e)})))}}],[{key:"getWithHeight",value:function(r,i){var a=ws(ws({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&pe(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(_.PureComponent);uw(rl,"displayName","Legend");uw(rl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var FM=mg,b$e=BO,w$e=Lr,BM=FM?FM.isConcatSpreadable:void 0;function _$e(t){return w$e(t)||b$e(t)||!!(BM&&t&&t[BM])}var S$e=_$e,E$e=SW,j$e=S$e;function DW(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=j$e),i||(i=[]);++a<s;){var o=t[a];e>0&&n(o)?e>1?DW(o,e-1,n,r,i):E$e(i,o):r||(i[i.length]=o)}return i}var FW=DW;function A$e(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var l=s[t?o:++i];if(n(a[l],l,a)===!1)break}return e}}var C$e=A$e,T$e=C$e,k$e=T$e(),O$e=k$e,N$e=O$e,P$e=cw;function I$e(t,e){return t&&N$e(t,e,P$e)}var BW=I$e,$$e=vg;function R$e(t,e){return function(n,r){if(n==null)return n;if(!$$e(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var M$e=R$e,L$e=BW,D$e=M$e,F$e=D$e(L$e),VO=F$e,B$e=VO,z$e=vg;function U$e(t,e){var n=-1,r=z$e(t)?Array(t.length):[];return B$e(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var zW=U$e;function H$e(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var V$e=H$e,zM=Lf;function W$e(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=zM(t),s=e!==void 0,o=e===null,l=e===e,c=zM(e);if(!o&&!c&&!a&&t>e||a&&s&&l&&!o&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!l)return-1}return 0}var q$e=W$e,G$e=q$e;function K$e(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,o=n.length;++r<s;){var l=G$e(i[r],a[r]);if(l){if(r>=o)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var Y$e=K$e,P1=TO,X$e=kO,Z$e=ys,J$e=zW,Q$e=V$e,eRe=AW,tRe=Y$e,nRe=Wf,rRe=Lr;function iRe(t,e,n){e.length?e=P1(e,function(a){return rRe(a)?function(s){return X$e(s,a.length===1?a[0]:a)}:a}):e=[nRe];var r=-1;e=P1(e,eRe(Z$e));var i=J$e(t,function(a,s,o){var l=P1(e,function(c){return c(a)});return{criteria:l,index:++r,value:a}});return Q$e(i,function(a,s){return tRe(a,s,n)})}var aRe=iRe;function sRe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var oRe=sRe,lRe=oRe,UM=Math.max;function cRe(t,e,n){return e=UM(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=UM(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(s),lRe(t,this,o)}}var uRe=cRe;function dRe(t){return function(){return t}}var fRe=dRe,hRe=eu,pRe=function(){try{var t=hRe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),UW=pRe,mRe=fRe,HM=UW,gRe=Wf,yRe=HM?function(t,e){return HM(t,"toString",{configurable:!0,enumerable:!1,value:mRe(e),writable:!0})}:gRe,vRe=yRe,xRe=800,bRe=16,wRe=Date.now;function _Re(t){var e=0,n=0;return function(){var r=wRe(),i=bRe-(r-n);if(n=r,i>0){if(++e>=xRe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var SRe=_Re,ERe=vRe,jRe=SRe,ARe=jRe(ERe),CRe=ARe,TRe=Wf,kRe=uRe,ORe=CRe;function NRe(t,e){return ORe(kRe(t,e,TRe),t+"")}var PRe=NRe,IRe=EO,$Re=vg,RRe=zO,MRe=Ll;function LRe(t,e,n){if(!MRe(n))return!1;var r=typeof e;return(r=="number"?$Re(n)&&RRe(e,n.length):r=="string"&&e in n)?IRe(n[e],t):!1}var dw=LRe,DRe=FW,FRe=aRe,BRe=PRe,VM=dw,zRe=BRe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&VM(t,e[0],e[1])?e=[]:n>2&&VM(e[0],e[1],e[2])&&(e=[e[0]]),FRe(t,DRe(e,1),[])}),URe=zRe;const WO=at(URe);function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}function Jj(){return Jj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jj.apply(this,arguments)}function HRe(t,e){return GRe(t)||qRe(t,e)||WRe(t,e)||VRe()}function VRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WRe(t,e){if(t){if(typeof t=="string")return WM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WM(t,e)}}function WM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qRe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function GRe(t){if(Array.isArray(t))return t}function qM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(n),!0).forEach(function(r){KRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KRe(t,e,n){return e=YRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YRe(t){var e=XRe(t,"string");return nm(e)=="symbol"?e:e+""}function XRe(t,e){if(nm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZRe(t){return Array.isArray(t)&&En(t[0])&&En(t[1])?t.join(" ~ "):t}var JRe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,v=e.labelFormatter,y=e.accessibilityLayer,b=y===void 0?!1:y,x=function(){if(d&&d.length){var N={padding:0,margin:0},H=(h?WO(d,h):d).map(function(R,D){if(R.type==="none")return null;var z=I1({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},o),V=R.formatter||f||ZRe,M=R.value,L=R.name,P=M,W=L;if(V&&P!=null&&W!=null){var G=V(M,L,R,D,d);if(Array.isArray(G)){var $=HRe(G,2);P=$[0],W=$[1]}else P=G}return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:z},En(W)?F.createElement("span",{className:"recharts-tooltip-item-name"},W):null,En(W)?F.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,F.createElement("span",{className:"recharts-tooltip-item-value"},P),F.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:N},H)}return null},w=I1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=I1({margin:0},c),E=!Xe(g),A=E?g:"",j=Je("recharts-default-tooltip",p),C=Je("recharts-tooltip-label",m);E&&v&&d!==void 0&&d!==null&&(A=v(g,d));var T=b?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",Jj({className:j,style:w},T),F.createElement("p",{className:C,style:S},F.isValidElement(A)?A:"".concat(A)),x())};function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}function jy(t,e,n){return e=QRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QRe(t){var e=eMe(t,"string");return rm(e)=="symbol"?e:e+""}function eMe(t,e){if(rm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mh="recharts-tooltip-wrapper",tMe={visibility:"hidden"};function nMe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Je(mh,jy(jy(jy(jy({},"".concat(mh,"-right"),pe(n)&&e&&pe(e.x)&&n>=e.x),"".concat(mh,"-left"),pe(n)&&e&&pe(e.x)&&n<e.x),"".concat(mh,"-bottom"),pe(r)&&e&&pe(e.y)&&r>=e.y),"".concat(mh,"-top"),pe(r)&&e&&pe(e.y)&&r<e.y))}function GM(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&pe(a[r]))return a[r];var d=n[r]-o-i,f=n[r]+i;if(e[r])return s[r]?d:f;if(s[r]){var h=d,p=l[r];return h<p?Math.max(f,l[r]):Math.max(d,l[r])}var m=f+o,g=l[r]+c;return m>g?Math.max(d,l[r]):Math.max(f,l[r])}function rMe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function iMe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,d,f;return s.height>0&&s.width>0&&n?(d=GM({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=GM({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=rMe({translateX:d,translateY:f,useTranslate3d:o})):c=tMe,{cssProperties:c,cssClasses:nMe({translateX:d,translateY:f,coordinate:n})}}function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function KM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KM(Object(n),!0).forEach(function(r){eA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sMe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VW(r.key),r)}}function oMe(t,e,n){return e&&sMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lMe(t,e,n){return e=O0(e),cMe(t,HW()?Reflect.construct(e,n||[],O0(t).constructor):e.apply(t,n))}function cMe(t,e){if(e&&(Kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uMe(t)}function uMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HW=function(){return!!t})()}function O0(t){return O0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},O0(t)}function dMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qj(t,e)}function Qj(t,e){return Qj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qj(t,e)}function eA(t,e,n){return e=VW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VW(t){var e=fMe(t,"string");return Kd(e)=="symbol"?e:e+""}function fMe(t,e){if(Kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XM=1,hMe=function(t){function e(){var n;aMe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=lMe(this,e,[].concat(i)),eA(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),eA(n,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),n}return dMe(e,t),oMe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>XM||Math.abs(r.height-this.state.lastBoundingBox.height)>XM)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,v=i.useTranslate3d,y=i.viewBox,b=i.wrapperStyle,x=iMe({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),w=x.cssClasses,S=x.cssProperties,E=YM(YM({transition:h&&a?"transform ".concat(o,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return F.createElement("div",{tabIndex:-1,className:w,style:E,ref:function(j){r.wrapperNode=j}},c)}}])}(_.PureComponent),pMe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ns={isSsr:pMe(),get:function(e){return ns[e]},set:function(e,n){if(typeof e=="string")ns[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){ns[i]=e[i]})}}};function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function ZM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZM(Object(n),!0).forEach(function(r){qO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gMe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qW(r.key),r)}}function yMe(t,e,n){return e&&gMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vMe(t,e,n){return e=N0(e),xMe(t,WW()?Reflect.construct(e,n||[],N0(t).constructor):e.apply(t,n))}function xMe(t,e){if(e&&(Yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bMe(t)}function bMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WW=function(){return!!t})()}function N0(t){return N0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},N0(t)}function wMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tA(t,e)}function tA(t,e){return tA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tA(t,e)}function qO(t,e,n){return e=qW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qW(t){var e=_Me(t,"string");return Yd(e)=="symbol"?e:e+""}function _Me(t,e){if(Yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SMe(t){return t.dataKey}function EMe(t,e){return F.isValidElement(t)?F.cloneElement(t,e):typeof t=="function"?F.createElement(t,e):F.createElement(JRe,e)}var lr=function(t){function e(){return mMe(this,e),vMe(this,e,arguments)}return wMe(e,t),yMe(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,v=i.position,y=i.reverseDirection,b=i.useTranslate3d,x=i.viewBox,w=i.wrapperStyle,S=m??[];f&&S.length&&(S=RW(m.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),g,SMe));var E=S.length>0;return F.createElement(hMe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:a,coordinate:d,hasPayload:E,offset:p,position:v,reverseDirection:y,useTranslate3d:b,viewBox:x,wrapperStyle:w},EMe(c,JM(JM({},this.props),{},{payload:S})))}}])}(_.PureComponent);qO(lr,"displayName","Tooltip");qO(lr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ns.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var jMe=gs,AMe=function(){return jMe.Date.now()},CMe=AMe,TMe=/\s/;function kMe(t){for(var e=t.length;e--&&TMe.test(t.charAt(e)););return e}var OMe=kMe,NMe=OMe,PMe=/^\s+/;function IMe(t){return t&&t.slice(0,NMe(t)+1).replace(PMe,"")}var $Me=IMe,RMe=$Me,QM=Ll,MMe=Lf,eL=NaN,LMe=/^[-+]0x[0-9a-f]+$/i,DMe=/^0b[01]+$/i,FMe=/^0o[0-7]+$/i,BMe=parseInt;function zMe(t){if(typeof t=="number")return t;if(MMe(t))return eL;if(QM(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=QM(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=RMe(t);var n=DMe.test(t);return n||FMe.test(t)?BMe(t.slice(2),n?2:8):LMe.test(t)?eL:+t}var GW=zMe,UMe=Ll,$1=CMe,tL=GW,HMe="Expected a function",VMe=Math.max,WMe=Math.min;function qMe(t,e,n){var r,i,a,s,o,l,c=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(HMe);e=tL(e)||0,UMe(n)&&(d=!!n.leading,f="maxWait"in n,a=f?VMe(tL(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function p(E){var A=r,j=i;return r=i=void 0,c=E,s=t.apply(j,A),s}function m(E){return c=E,o=setTimeout(y,e),d?p(E):s}function g(E){var A=E-l,j=E-c,C=e-A;return f?WMe(C,a-j):C}function v(E){var A=E-l,j=E-c;return l===void 0||A>=e||A<0||f&&j>=a}function y(){var E=$1();if(v(E))return b(E);o=setTimeout(y,g(E))}function b(E){return o=void 0,h&&r?p(E):(r=i=void 0,s)}function x(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function w(){return o===void 0?s:b($1())}function S(){var E=$1(),A=v(E);if(r=arguments,i=this,l=E,A){if(o===void 0)return m(l);if(f)return clearTimeout(o),o=setTimeout(y,e),p(l)}return o===void 0&&(o=setTimeout(y,e)),s}return S.cancel=x,S.flush=w,S}var GMe=qMe,KMe=GMe,YMe=Ll,XMe="Expected a function";function ZMe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(XMe);return YMe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),KMe(t,e,{leading:r,maxWait:e,trailing:i})}var JMe=ZMe;const KW=at(JMe);function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function nL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ay(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nL(Object(n),!0).forEach(function(r){QMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QMe(t,e,n){return e=eLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eLe(t){var e=tLe(t,"string");return im(e)=="symbol"?e:e+""}function tLe(t,e){if(im(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nLe(t,e){return sLe(t)||aLe(t,e)||iLe(t,e)||rLe()}function rLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iLe(t,e){if(t){if(typeof t=="string")return rL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rL(t,e)}}function rL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aLe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function sLe(t){if(Array.isArray(t))return t}var fd=_.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,d=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,v=t.id,y=t.className,b=t.onResize,x=t.style,w=x===void 0?{}:x,S=_.useRef(null),E=_.useRef();E.current=b,_.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var A=_.useState({containerWidth:i.width,containerHeight:i.height}),j=nLe(A,2),C=j[0],T=j[1],k=_.useCallback(function(H,R){T(function(D){var z=Math.round(H),V=Math.round(R);return D.containerWidth===z&&D.containerHeight===V?D:{containerWidth:z,containerHeight:V}})},[]);_.useEffect(function(){var H=function(L){var P,W=L[0].contentRect,G=W.width,$=W.height;k(G,$),(P=E.current)===null||P===void 0||P.call(E,G,$)};g>0&&(H=KW(H,g,{trailing:!0,leading:!1}));var R=new ResizeObserver(H),D=S.current.getBoundingClientRect(),z=D.width,V=D.height;return k(z,V),R.observe(S.current),function(){R.disconnect()}},[k,g]);var N=_.useMemo(function(){var H=C.containerWidth,R=C.containerHeight;if(H<0||R<0)return null;ga(lc(s)||lc(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),ga(!n||n>0,"The aspect(%s) must be greater than zero.",n);var D=lc(s)?H:s,z=lc(l)?R:l;n&&n>0&&(D?z=D/n:z&&(D=z*n),h&&z>h&&(z=h)),ga(D>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,z,s,l,d,f,n);var V=!Array.isArray(p)&&Hs(p.type).endsWith("Chart");return F.Children.map(p,function(M){return VV.isElement(M)?_.cloneElement(M,Ay({width:D,height:z},V?{style:Ay({height:"100%",width:"100%",maxHeight:z,maxWidth:D},M.props.style)}:{})):M})},[n,p,l,h,f,d,C,s]);return F.createElement("div",{id:v?"".concat(v):void 0,className:Je("recharts-responsive-container",y),style:Ay(Ay({},w),{},{width:s,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:S},N)}),xg=function(e){return null};xg.displayName="Cell";function am(t){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(t)}function iL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iL(Object(n),!0).forEach(function(r){oLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oLe(t,e,n){return e=lLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lLe(t){var e=cLe(t,"string");return am(e)=="symbol"?e:e+""}function cLe(t,e){if(am(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vu={widthCache:{},cacheCount:0},uLe=2e3,dLe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},aL="recharts_measurement_span";function fLe(t){var e=nA({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var op=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ns.isSsr)return{width:0,height:0};var r=fLe(n),i=JSON.stringify({text:e,copyStyle:r});if(vu.widthCache[i])return vu.widthCache[i];try{var a=document.getElementById(aL);a||(a=document.createElement("span"),a.setAttribute("id",aL),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=nA(nA({},dLe),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return vu.widthCache[i]=l,++vu.cacheCount>uLe&&(vu.cacheCount=0,vu.widthCache={}),l}catch{return{width:0,height:0}}},hLe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}function P0(t,e){return yLe(t)||gLe(t,e)||mLe(t,e)||pLe()}function pLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mLe(t,e){if(t){if(typeof t=="string")return sL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sL(t,e)}}function sL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gLe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function yLe(t){if(Array.isArray(t))return t}function vLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bLe(r.key),r)}}function xLe(t,e,n){return e&&oL(t.prototype,e),n&&oL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bLe(t){var e=wLe(t,"string");return sm(e)=="symbol"?e:e+""}function wLe(t,e){if(sm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_Le=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,SLe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,YW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ELe=Object.keys(YW),Vu="NaN";function jLe(t,e){return t*YW[e]}var Cy=function(){function t(e,n){vLe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!_Le.test(n)&&(this.num=NaN,this.unit=""),ELe.includes(n)&&(this.num=jLe(e,n),this.unit="px")}return xLe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=SLe.exec(n))!==null&&r!==void 0?r:[],a=P0(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function XW(t){if(t.includes(Vu))return Vu;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=lL.exec(e))!==null&&n!==void 0?n:[],i=P0(r,4),a=i[1],s=i[2],o=i[3],l=Cy.parse(a??""),c=Cy.parse(o??""),d=s==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Vu;e=e.replace(lL,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=cL.exec(e))!==null&&f!==void 0?f:[],p=P0(h,4),m=p[1],g=p[2],v=p[3],y=Cy.parse(m??""),b=Cy.parse(v??""),x=g==="+"?y.add(b):y.subtract(b);if(x.isNaN())return Vu;e=e.replace(cL,x.toString())}return e}var uL=/\(([^()]*)\)/;function ALe(t){for(var e=t;e.includes("(");){var n=uL.exec(e),r=P0(n,2),i=r[1];e=e.replace(uL,XW(i))}return e}function CLe(t){var e=t.replace(/\s+/g,"");return e=ALe(e),e=XW(e),e}function TLe(t){try{return CLe(t)}catch{return Vu}}function R1(t){var e=TLe(t.slice(5,-1));return e===Vu?"":e}var kLe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],OLe=["dx","dy","angle","className","breakAll"];function rA(){return rA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rA.apply(this,arguments)}function dL(t,e){if(t==null)return{};var n=NLe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NLe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fL(t,e){return RLe(t)||$Le(t,e)||ILe(t,e)||PLe()}function PLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ILe(t,e){if(t){if(typeof t=="string")return hL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hL(t,e)}}function hL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $Le(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function RLe(t){if(Array.isArray(t))return t}var ZW=/[ \f\n\r\t\v\u2028\u2029]+/,JW=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Xe(n)||(r?a=n.toString().split(""):a=n.toString().split(ZW));var s=a.map(function(l){return{word:l,width:op(l,i).width}}),o=r?0:op("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},MLe=function(e,n,r,i,a){var s=e.maxLines,o=e.children,l=e.style,c=e.breakAll,d=pe(s),f=o,h=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(z,V){var M=V.word,L=V.width,P=z[z.length-1];if(P&&(i==null||a||P.width+L+r<Number(i)))P.words.push(M),P.width+=L+r;else{var W={words:[M],width:L};z.push(W)}return z},[])},p=h(n),m=function(D){return D.reduce(function(z,V){return z.width>V.width?z:V})};if(!d)return p;for(var g="",v=function(D){var z=f.slice(0,D),V=JW({breakAll:c,style:l,children:z+g}).wordsWithComputedWidth,M=h(V),L=M.length>s||m(M).width>Number(i);return[L,M]},y=0,b=f.length-1,x=0,w;y<=b&&x<=f.length-1;){var S=Math.floor((y+b)/2),E=S-1,A=v(E),j=fL(A,2),C=j[0],T=j[1],k=v(S),N=fL(k,1),H=N[0];if(!C&&!H&&(y=S+1),C&&H&&(b=S-1),!C&&H){w=T;break}x++}return w||p},pL=function(e){var n=Xe(e)?[]:e.toString().split(ZW);return[{words:n}]},LLe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((n||r)&&!ns.isSsr){var l,c,d=JW({breakAll:s,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,c=h}else return pL(i);return MLe({breakAll:s,children:i,maxLines:o,style:a},l,c,n,r)}return pL(i)},mL="#808080",Bc=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,p=h===void 0?"start":h,m=e.verticalAnchor,g=m===void 0?"end":m,v=e.fill,y=v===void 0?mL:v,b=dL(e,kLe),x=_.useMemo(function(){return LLe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),w=b.dx,S=b.dy,E=b.angle,A=b.className,j=b.breakAll,C=dL(b,OLe);if(!En(r)||!En(a))return null;var T=r+(pe(w)?w:0),k=a+(pe(S)?S:0),N;switch(g){case"start":N=R1("calc(".concat(c,")"));break;case"middle":N=R1("calc(".concat((x.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:N=R1("calc(".concat(x.length-1," * -").concat(o,")"));break}var H=[];if(f){var R=x[0].width,D=b.width;H.push("scale(".concat((pe(D)?D/R:1)/R,")"))}return E&&H.push("rotate(".concat(E,", ").concat(T,", ").concat(k,")")),H.length&&(C.transform=H.join(" ")),F.createElement("text",rA({},De(C,!0),{x:T,y:k,className:Je("recharts-text",A),textAnchor:p,fill:y.includes("url")?mL:y}),x.map(function(z,V){var M=z.words.join(j?"":" ");return F.createElement("tspan",{x:T,dy:V===0?N:o,key:"".concat(M,"-").concat(V)},M)}))};function il(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function DLe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function GO(t){let e,n,r;t.length!==2?(e=il,n=(o,l)=>il(t(o),l),r=(o,l)=>t(o)-l):(e=t===il||t===DLe?t:FLe,n=t,r=t);function i(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<0?c=f+1:d=f}while(c<d)}return c}function a(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function s(o,l,c=0,d=o.length){const f=i(o,l,c,d-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function FLe(){return 0}function QW(t){return t===null?NaN:+t}function*BLe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const zLe=GO(il),bg=zLe.right;GO(QW).center;class gL extends Map{constructor(e,n=VLe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(yL(this,e))}has(e){return super.has(yL(this,e))}set(e,n){return super.set(ULe(this,e),n)}delete(e){return super.delete(HLe(this,e))}}function yL({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ULe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function HLe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function VLe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function WLe(t=il){if(t===il)return eq;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function eq(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const qLe=Math.sqrt(50),GLe=Math.sqrt(10),KLe=Math.sqrt(2);function I0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=qLe?10:a>=GLe?5:a>=KLe?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?I0(t,e,n*2):[o,l,c]}function iA(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?I0(e,t,n):I0(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function aA(t,e,n){return e=+e,t=+t,n=+n,I0(t,e,n)[2]}function sA(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?aA(e,t,n):aA(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function vL(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function xL(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function tq(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?eq:WLe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*f/l+h)),m=Math.min(r,Math.floor(e+(l-c)*f/l+h));tq(t,e,p,m,i)}const a=t[e];let s=n,o=r;for(gh(t,n,e),i(t[r],a)>0&&gh(t,n,r);s<o;){for(gh(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?gh(t,n,o):(++o,gh(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function gh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function YLe(t,e,n){if(t=Float64Array.from(BLe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return xL(t);if(e>=1)return vL(t);var r,i=(r-1)*e,a=Math.floor(i),s=vL(tq(t,a).subarray(0,a+1)),o=xL(t.subarray(a+1));return s+(o-s)*(i-a)}}function XLe(t,e,n=QW){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function ZLe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Ui(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ho(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const oA=Symbol("implicit");function KO(){var t=new gL,e=[],n=[],r=oA;function i(a){let s=t.get(a);if(s===void 0){if(r!==oA)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new gL;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return KO(e,n).unknown(r)},Ui.apply(i,arguments),i}function om(){var t=KO().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,c=0,d=.5;delete t.unknown;function f(){var h=e().length,p=i<r,m=p?i:r,g=p?r:i;a=(g-m)/Math.max(1,h-l+c*2),o&&(a=Math.floor(a)),m+=(g-m-a*(h-l))*d,s=a*(1-l),o&&(m=Math.round(m),s=Math.round(s));var v=ZLe(h).map(function(y){return m+a*y});return n(p?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(o=!!h,f()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return om(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},Ui.apply(f(),arguments)}function nq(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return nq(e())},t}function lp(){return nq(om.apply(null,arguments).paddingInner(1))}function YO(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function rq(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function wg(){}var lm=.7,$0=1/lm,hd="\\s*([+-]?\\d+)\\s*",cm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",JLe=/^#([0-9a-f]{3,8})$/,QLe=new RegExp(`^rgb\\(${hd},${hd},${hd}\\)$`),eDe=new RegExp(`^rgb\\(${rs},${rs},${rs}\\)$`),tDe=new RegExp(`^rgba\\(${hd},${hd},${hd},${cm}\\)$`),nDe=new RegExp(`^rgba\\(${rs},${rs},${rs},${cm}\\)$`),rDe=new RegExp(`^hsl\\(${cm},${rs},${rs}\\)$`),iDe=new RegExp(`^hsla\\(${cm},${rs},${rs},${cm}\\)$`),bL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};YO(wg,um,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:wL,formatHex:wL,formatHex8:aDe,formatHsl:sDe,formatRgb:_L,toString:_L});function wL(){return this.rgb().formatHex()}function aDe(){return this.rgb().formatHex8()}function sDe(){return iq(this).formatHsl()}function _L(){return this.rgb().formatRgb()}function um(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=JLe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?SL(e):n===3?new kr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ty(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ty(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=QLe.exec(t))?new kr(e[1],e[2],e[3],1):(e=eDe.exec(t))?new kr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=tDe.exec(t))?Ty(e[1],e[2],e[3],e[4]):(e=nDe.exec(t))?Ty(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=rDe.exec(t))?AL(e[1],e[2]/100,e[3]/100,1):(e=iDe.exec(t))?AL(e[1],e[2]/100,e[3]/100,e[4]):bL.hasOwnProperty(t)?SL(bL[t]):t==="transparent"?new kr(NaN,NaN,NaN,0):null}function SL(t){return new kr(t>>16&255,t>>8&255,t&255,1)}function Ty(t,e,n,r){return r<=0&&(t=e=n=NaN),new kr(t,e,n,r)}function oDe(t){return t instanceof wg||(t=um(t)),t?(t=t.rgb(),new kr(t.r,t.g,t.b,t.opacity)):new kr}function lA(t,e,n,r){return arguments.length===1?oDe(t):new kr(t,e,n,r??1)}function kr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}YO(kr,lA,rq(wg,{brighter(t){return t=t==null?$0:Math.pow($0,t),new kr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?lm:Math.pow(lm,t),new kr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new kr(Sc(this.r),Sc(this.g),Sc(this.b),R0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:EL,formatHex:EL,formatHex8:lDe,formatRgb:jL,toString:jL}));function EL(){return`#${cc(this.r)}${cc(this.g)}${cc(this.b)}`}function lDe(){return`#${cc(this.r)}${cc(this.g)}${cc(this.b)}${cc((isNaN(this.opacity)?1:this.opacity)*255)}`}function jL(){const t=R0(this.opacity);return`${t===1?"rgb(":"rgba("}${Sc(this.r)}, ${Sc(this.g)}, ${Sc(this.b)}${t===1?")":`, ${t})`}`}function R0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Sc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function cc(t){return t=Sc(t),(t<16?"0":"")+t.toString(16)}function AL(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new la(t,e,n,r)}function iq(t){if(t instanceof la)return new la(t.h,t.s,t.l,t.opacity);if(t instanceof wg||(t=um(t)),!t)return new la;if(t instanceof la)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new la(s,o,l,t.opacity)}function cDe(t,e,n,r){return arguments.length===1?iq(t):new la(t,e,n,r??1)}function la(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}YO(la,cDe,rq(wg,{brighter(t){return t=t==null?$0:Math.pow($0,t),new la(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?lm:Math.pow(lm,t),new la(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new kr(M1(t>=240?t-240:t+120,i,r),M1(t,i,r),M1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new la(CL(this.h),ky(this.s),ky(this.l),R0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=R0(this.opacity);return`${t===1?"hsl(":"hsla("}${CL(this.h)}, ${ky(this.s)*100}%, ${ky(this.l)*100}%${t===1?")":`, ${t})`}`}}));function CL(t){return t=(t||0)%360,t<0?t+360:t}function ky(t){return Math.max(0,Math.min(1,t||0))}function M1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const XO=t=>()=>t;function uDe(t,e){return function(n){return t+n*e}}function dDe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function fDe(t){return(t=+t)==1?aq:function(e,n){return n-e?dDe(e,n,t):XO(isNaN(e)?n:e)}}function aq(t,e){var n=e-t;return n?uDe(t,n):XO(isNaN(t)?e:t)}const TL=function t(e){var n=fDe(e);function r(i,a){var s=n((i=lA(i)).r,(a=lA(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=aq(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=t,r}(1);function hDe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function pDe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function mDe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=qf(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function gDe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function M0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function yDe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=qf(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var cA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,L1=new RegExp(cA.source,"g");function vDe(t){return function(){return t}}function xDe(t){return function(e){return t(e)+""}}function bDe(t,e){var n=cA.lastIndex=L1.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=cA.exec(t))&&(i=L1.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:M0(r,i)})),n=L1.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?xDe(l[0].x):vDe(e):(e=l.length,function(c){for(var d=0,f;d<e;++d)o[(f=l[d]).i]=f.x(c);return o.join("")})}function qf(t,e){var n=typeof e,r;return e==null||n==="boolean"?XO(e):(n==="number"?M0:n==="string"?(r=um(e))?(e=r,TL):bDe:e instanceof um?TL:e instanceof Date?gDe:pDe(e)?hDe:Array.isArray(e)?mDe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?yDe:M0)(t,e)}function ZO(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function wDe(t,e){e===void 0&&(e=t,t=qf);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function _De(t){return function(){return t}}function L0(t){return+t}var kL=[0,1];function hr(t){return t}function uA(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:_De(isNaN(e)?NaN:.5)}function SDe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function EDe(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=uA(i,r),a=n(s,a)):(r=uA(r,i),a=n(a,s)),function(o){return a(r(o))}}function jDe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=uA(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=bg(t,o,1,r)-1;return a[l](i[l](o))}}function _g(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function fw(){var t=kL,e=kL,n=qf,r,i,a,s=hr,o,l,c;function d(){var h=Math.min(t.length,e.length);return s!==hr&&(s=SDe(t[0],t[h-1])),o=h>2?jDe:EDe,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((c||(c=o(e,t.map(r),M0)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,L0),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=ZO,d()},f.clamp=function(h){return arguments.length?(s=h?!0:hr,d()):s!==hr},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return r=h,i=p,d()}}function JO(){return fw()(hr,hr)}function ADe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function D0(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Xd(t){return t=D0(Math.abs(t)),t?t[1]:NaN}function CDe(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function TDe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var kDe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dm(t){if(!(e=kDe.exec(t)))throw new Error("invalid format: "+t);var e;return new QO({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}dm.prototype=QO.prototype;function QO(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}QO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ODe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var sq;function NDe(t,e){var n=D0(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(sq=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+D0(t,Math.max(0,e+a-1))[0]}function OL(t,e){var n=D0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const NL={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ADe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>OL(t*100,e),r:OL,s:NDe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function PL(t){return t}var IL=Array.prototype.map,$L=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function PDe(t){var e=t.grouping===void 0||t.thousands===void 0?PL:CDe(IL.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?PL:TDe(IL.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=dm(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,v=f.zero,y=f.width,b=f.comma,x=f.precision,w=f.trim,S=f.type;S==="n"?(b=!0,S="g"):NL[S]||(x===void 0&&(x=12),w=!0,S="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var E=g==="$"?n:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",A=g==="$"?r:/[%p]/.test(S)?s:"",j=NL[S],C=/[defgprs%]/.test(S);x=x===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function T(k){var N=E,H=A,R,D,z;if(S==="c")H=j(k)+H,k="";else{k=+k;var V=k<0||1/k<0;if(k=isNaN(k)?l:j(Math.abs(k),x),w&&(k=ODe(k)),V&&+k==0&&m!=="+"&&(V=!1),N=(V?m==="("?m:o:m==="-"||m==="("?"":m)+N,H=(S==="s"?$L[8+sq/3]:"")+H+(V&&m==="("?")":""),C){for(R=-1,D=k.length;++R<D;)if(z=k.charCodeAt(R),48>z||z>57){H=(z===46?i+k.slice(R+1):k.slice(R))+H,k=k.slice(0,R);break}}}b&&!v&&(k=e(k,1/0));var M=N.length+k.length+H.length,L=M<y?new Array(y-M+1).join(h):"";switch(b&&v&&(k=e(L+k,L.length?y-H.length:1/0),L=""),p){case"<":k=N+k+H+L;break;case"=":k=N+L+k+H;break;case"^":k=L.slice(0,M=L.length>>1)+N+k+H+L.slice(M);break;default:k=L+N+k+H;break}return a(k)}return T.toString=function(){return f+""},T}function d(f,h){var p=c((f=dm(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Xd(h)/3)))*3,g=Math.pow(10,-m),v=$L[8+m/3];return function(y){return p(g*y)+v}}return{format:c,formatPrefix:d}}var Oy,eN,oq;IDe({thousands:",",grouping:[3],currency:["$",""]});function IDe(t){return Oy=PDe(t),eN=Oy.format,oq=Oy.formatPrefix,Oy}function $De(t){return Math.max(0,-Xd(Math.abs(t)))}function RDe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xd(e)/3)))*3-Xd(Math.abs(t)))}function MDe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Xd(e)-Xd(t))+1}function lq(t,e,n,r){var i=sA(t,e,n),a;switch(r=dm(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=RDe(i,s))&&(r.precision=a),oq(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=MDe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=$De(i))&&(r.precision=a-(r.type==="%")*2);break}}return eN(r)}function Dl(t){var e=t.domain;return t.ticks=function(n){var r=e();return iA(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return lq(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,d=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);d-- >0;){if(c=aA(s,o,n),c===l)return r[i]=s,r[a]=o,e(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function F0(){var t=JO();return t.copy=function(){return _g(t,F0())},Ui.apply(t,arguments),Dl(t)}function cq(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,L0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return cq(t).unknown(e)},t=arguments.length?Array.from(t,L0):[0,1],Dl(n)}function uq(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function RL(t){return Math.log(t)}function ML(t){return Math.exp(t)}function LDe(t){return-Math.log(-t)}function DDe(t){return-Math.exp(-t)}function FDe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function BDe(t){return t===10?FDe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function zDe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function LL(t){return(e,n)=>-t(-e,n)}function tN(t){const e=t(RL,ML),n=e.domain;let r=10,i,a;function s(){return i=zDe(r),a=BDe(r),n()[0]<0?(i=LL(i),a=LL(a),t(LDe,DDe)):t(RL,ML),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),p=i(d),m,g;const v=o==null?10:+o;let y=[];if(!(r%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<r;++m)if(g=h<0?m/a(-h):m*a(h),!(g<c)){if(g>d)break;y.push(g)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<c)){if(g>d)break;y.push(g)}y.length*2<v&&(y=iA(c,d,v))}else y=iA(h,p,Math.min(p-h,v)).map(a);return f?y.reverse():y},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=dm(l)).precision==null&&(l.trim=!0),l=eN(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},e.nice=()=>n(uq(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function dq(){const t=tN(fw()).domain([1,10]);return t.copy=()=>_g(t,dq()).base(t.base()),Ui.apply(t,arguments),t}function DL(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function FL(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function nN(t){var e=1,n=t(DL(e),FL(e));return n.constant=function(r){return arguments.length?t(DL(e=+r),FL(e)):e},Dl(n)}function fq(){var t=nN(fw());return t.copy=function(){return _g(t,fq()).constant(t.constant())},Ui.apply(t,arguments)}function BL(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function UDe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function HDe(t){return t<0?-t*t:t*t}function rN(t){var e=t(hr,hr),n=1;function r(){return n===1?t(hr,hr):n===.5?t(UDe,HDe):t(BL(n),BL(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Dl(e)}function iN(){var t=rN(fw());return t.copy=function(){return _g(t,iN()).exponent(t.exponent())},Ui.apply(t,arguments),t}function VDe(){return iN.apply(null,arguments).exponent(.5)}function zL(t){return Math.sign(t)*t*t}function WDe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function hq(){var t=JO(),e=[0,1],n=!1,r;function i(a){var s=WDe(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(zL(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,L0)).map(zL)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return hq(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ui.apply(i,arguments),Dl(i)}function pq(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=XLe(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[bg(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(il),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return pq().domain(t).range(e).unknown(r)},Ui.apply(a,arguments)}function mq(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[bg(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return mq().domain([t,e]).range(i).unknown(a)},Ui.apply(Dl(s),arguments)}function gq(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[bg(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return gq().domain(t).range(e).unknown(n)},Ui.apply(i,arguments)}const D1=new Date,F1=new Date;function Cn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>Cn(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(D1.setTime(+a),F1.setTime(+s),t(D1),t(F1),Math.floor(n(D1,F1))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const B0=Cn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);B0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Cn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):B0);B0.range;const $s=1e3,ki=$s*60,Rs=ki*60,ro=Rs*24,aN=ro*7,UL=ro*30,B1=ro*365,uc=Cn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*$s)},(t,e)=>(e-t)/$s,t=>t.getUTCSeconds());uc.range;const sN=Cn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$s)},(t,e)=>{t.setTime(+t+e*ki)},(t,e)=>(e-t)/ki,t=>t.getMinutes());sN.range;const oN=Cn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ki)},(t,e)=>(e-t)/ki,t=>t.getUTCMinutes());oN.range;const lN=Cn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$s-t.getMinutes()*ki)},(t,e)=>{t.setTime(+t+e*Rs)},(t,e)=>(e-t)/Rs,t=>t.getHours());lN.range;const cN=Cn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Rs)},(t,e)=>(e-t)/Rs,t=>t.getUTCHours());cN.range;const Sg=Cn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ki)/ro,t=>t.getDate()-1);Sg.range;const hw=Cn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ro,t=>t.getUTCDate()-1);hw.range;const yq=Cn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ro,t=>Math.floor(t/ro));yq.range;function tu(t){return Cn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ki)/aN)}const pw=tu(0),z0=tu(1),qDe=tu(2),GDe=tu(3),Zd=tu(4),KDe=tu(5),YDe=tu(6);pw.range;z0.range;qDe.range;GDe.range;Zd.range;KDe.range;YDe.range;function nu(t){return Cn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/aN)}const mw=nu(0),U0=nu(1),XDe=nu(2),ZDe=nu(3),Jd=nu(4),JDe=nu(5),QDe=nu(6);mw.range;U0.range;XDe.range;ZDe.range;Jd.range;JDe.range;QDe.range;const uN=Cn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());uN.range;const dN=Cn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());dN.range;const io=Cn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());io.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Cn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});io.range;const ao=Cn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ao.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Cn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ao.range;function vq(t,e,n,r,i,a){const s=[[uc,1,$s],[uc,5,5*$s],[uc,15,15*$s],[uc,30,30*$s],[a,1,ki],[a,5,5*ki],[a,15,15*ki],[a,30,30*ki],[i,1,Rs],[i,3,3*Rs],[i,6,6*Rs],[i,12,12*Rs],[r,1,ro],[r,2,2*ro],[n,1,aN],[e,1,UL],[e,3,3*UL],[t,1,B1]];function o(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const p=f&&typeof f.range=="function"?f:l(c,d,f),m=p?p.range(c,+d+1):[];return h?m.reverse():m}function l(c,d,f){const h=Math.abs(d-c)/f,p=GO(([,,v])=>v).right(s,h);if(p===s.length)return t.every(sA(c/B1,d/B1,f));if(p===0)return B0.every(Math.max(sA(c,d,f),1));const[m,g]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return m.every(g)}return[o,l]}const[e4e,t4e]=vq(ao,dN,mw,yq,cN,oN),[n4e,r4e]=vq(io,uN,pw,Sg,lN,sN);function z1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function U1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function yh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function i4e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=vh(i),d=xh(i),f=vh(a),h=xh(a),p=vh(s),m=xh(s),g=vh(o),v=xh(o),y=vh(l),b=xh(l),x={a:V,A:M,b:L,B:P,c:null,d:KL,e:KL,f:C4e,g:L4e,G:F4e,H:E4e,I:j4e,j:A4e,L:xq,m:T4e,M:k4e,p:W,q:G,Q:ZL,s:JL,S:O4e,u:N4e,U:P4e,V:I4e,w:$4e,W:R4e,x:null,X:null,y:M4e,Y:D4e,Z:B4e,"%":XL},w={a:$,A:te,b:ie,B:I,c:null,d:YL,e:YL,f:V4e,g:e5e,G:n5e,H:z4e,I:U4e,j:H4e,L:wq,m:W4e,M:q4e,p:O,q:K,Q:ZL,s:JL,S:G4e,u:K4e,U:Y4e,V:X4e,w:Z4e,W:J4e,x:null,X:null,y:Q4e,Y:t5e,Z:r5e,"%":XL},S={a:T,A:k,b:N,B:H,c:R,d:qL,e:qL,f:b4e,g:WL,G:VL,H:GL,I:GL,j:g4e,L:x4e,m:m4e,M:y4e,p:C,q:p4e,Q:_4e,s:S4e,S:v4e,u:c4e,U:u4e,V:d4e,w:l4e,W:f4e,x:D,X:z,y:WL,Y:VL,Z:h4e,"%":w4e};x.x=E(n,x),x.X=E(r,x),x.c=E(e,x),w.x=E(n,w),w.X=E(r,w),w.c=E(e,w);function E(B,Z){return function(J){var Y=[],me=-1,le=0,ve=B.length,oe,ze,Ce;for(J instanceof Date||(J=new Date(+J));++me<ve;)B.charCodeAt(me)===37&&(Y.push(B.slice(le,me)),(ze=HL[oe=B.charAt(++me)])!=null?oe=B.charAt(++me):ze=oe==="e"?" ":"0",(Ce=Z[oe])&&(oe=Ce(J,ze)),Y.push(oe),le=me+1);return Y.push(B.slice(le,me)),Y.join("")}}function A(B,Z){return function(J){var Y=yh(1900,void 0,1),me=j(Y,B,J+="",0),le,ve;if(me!=J.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(Z&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(le=U1(yh(Y.y,0,1)),ve=le.getUTCDay(),le=ve>4||ve===0?U0.ceil(le):U0(le),le=hw.offset(le,(Y.V-1)*7),Y.y=le.getUTCFullYear(),Y.m=le.getUTCMonth(),Y.d=le.getUTCDate()+(Y.w+6)%7):(le=z1(yh(Y.y,0,1)),ve=le.getDay(),le=ve>4||ve===0?z0.ceil(le):z0(le),le=Sg.offset(le,(Y.V-1)*7),Y.y=le.getFullYear(),Y.m=le.getMonth(),Y.d=le.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),ve="Z"in Y?U1(yh(Y.y,0,1)).getUTCDay():z1(yh(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(ve+5)%7:Y.w+Y.U*7-(ve+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,U1(Y)):z1(Y)}}function j(B,Z,J,Y){for(var me=0,le=Z.length,ve=J.length,oe,ze;me<le;){if(Y>=ve)return-1;if(oe=Z.charCodeAt(me++),oe===37){if(oe=Z.charAt(me++),ze=S[oe in HL?Z.charAt(me++):oe],!ze||(Y=ze(B,J,Y))<0)return-1}else if(oe!=J.charCodeAt(Y++))return-1}return Y}function C(B,Z,J){var Y=c.exec(Z.slice(J));return Y?(B.p=d.get(Y[0].toLowerCase()),J+Y[0].length):-1}function T(B,Z,J){var Y=p.exec(Z.slice(J));return Y?(B.w=m.get(Y[0].toLowerCase()),J+Y[0].length):-1}function k(B,Z,J){var Y=f.exec(Z.slice(J));return Y?(B.w=h.get(Y[0].toLowerCase()),J+Y[0].length):-1}function N(B,Z,J){var Y=y.exec(Z.slice(J));return Y?(B.m=b.get(Y[0].toLowerCase()),J+Y[0].length):-1}function H(B,Z,J){var Y=g.exec(Z.slice(J));return Y?(B.m=v.get(Y[0].toLowerCase()),J+Y[0].length):-1}function R(B,Z,J){return j(B,e,Z,J)}function D(B,Z,J){return j(B,n,Z,J)}function z(B,Z,J){return j(B,r,Z,J)}function V(B){return s[B.getDay()]}function M(B){return a[B.getDay()]}function L(B){return l[B.getMonth()]}function P(B){return o[B.getMonth()]}function W(B){return i[+(B.getHours()>=12)]}function G(B){return 1+~~(B.getMonth()/3)}function $(B){return s[B.getUTCDay()]}function te(B){return a[B.getUTCDay()]}function ie(B){return l[B.getUTCMonth()]}function I(B){return o[B.getUTCMonth()]}function O(B){return i[+(B.getUTCHours()>=12)]}function K(B){return 1+~~(B.getUTCMonth()/3)}return{format:function(B){var Z=E(B+="",x);return Z.toString=function(){return B},Z},parse:function(B){var Z=A(B+="",!1);return Z.toString=function(){return B},Z},utcFormat:function(B){var Z=E(B+="",w);return Z.toString=function(){return B},Z},utcParse:function(B){var Z=A(B+="",!0);return Z.toString=function(){return B},Z}}}var HL={"-":"",_:" ",0:"0"},Rn=/^\s*\d+/,a4e=/^%/,s4e=/[\\^$*+?|[\]().{}]/g;function mt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function o4e(t){return t.replace(s4e,"\\$&")}function vh(t){return new RegExp("^(?:"+t.map(o4e).join("|")+")","i")}function xh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function l4e(t,e,n){var r=Rn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function c4e(t,e,n){var r=Rn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function u4e(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function d4e(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function f4e(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function VL(t,e,n){var r=Rn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function WL(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function h4e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function p4e(t,e,n){var r=Rn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function m4e(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function qL(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function g4e(t,e,n){var r=Rn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function GL(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function y4e(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function v4e(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function x4e(t,e,n){var r=Rn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function b4e(t,e,n){var r=Rn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function w4e(t,e,n){var r=a4e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function _4e(t,e,n){var r=Rn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function S4e(t,e,n){var r=Rn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function KL(t,e){return mt(t.getDate(),e,2)}function E4e(t,e){return mt(t.getHours(),e,2)}function j4e(t,e){return mt(t.getHours()%12||12,e,2)}function A4e(t,e){return mt(1+Sg.count(io(t),t),e,3)}function xq(t,e){return mt(t.getMilliseconds(),e,3)}function C4e(t,e){return xq(t,e)+"000"}function T4e(t,e){return mt(t.getMonth()+1,e,2)}function k4e(t,e){return mt(t.getMinutes(),e,2)}function O4e(t,e){return mt(t.getSeconds(),e,2)}function N4e(t){var e=t.getDay();return e===0?7:e}function P4e(t,e){return mt(pw.count(io(t)-1,t),e,2)}function bq(t){var e=t.getDay();return e>=4||e===0?Zd(t):Zd.ceil(t)}function I4e(t,e){return t=bq(t),mt(Zd.count(io(t),t)+(io(t).getDay()===4),e,2)}function $4e(t){return t.getDay()}function R4e(t,e){return mt(z0.count(io(t)-1,t),e,2)}function M4e(t,e){return mt(t.getFullYear()%100,e,2)}function L4e(t,e){return t=bq(t),mt(t.getFullYear()%100,e,2)}function D4e(t,e){return mt(t.getFullYear()%1e4,e,4)}function F4e(t,e){var n=t.getDay();return t=n>=4||n===0?Zd(t):Zd.ceil(t),mt(t.getFullYear()%1e4,e,4)}function B4e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mt(e/60|0,"0",2)+mt(e%60,"0",2)}function YL(t,e){return mt(t.getUTCDate(),e,2)}function z4e(t,e){return mt(t.getUTCHours(),e,2)}function U4e(t,e){return mt(t.getUTCHours()%12||12,e,2)}function H4e(t,e){return mt(1+hw.count(ao(t),t),e,3)}function wq(t,e){return mt(t.getUTCMilliseconds(),e,3)}function V4e(t,e){return wq(t,e)+"000"}function W4e(t,e){return mt(t.getUTCMonth()+1,e,2)}function q4e(t,e){return mt(t.getUTCMinutes(),e,2)}function G4e(t,e){return mt(t.getUTCSeconds(),e,2)}function K4e(t){var e=t.getUTCDay();return e===0?7:e}function Y4e(t,e){return mt(mw.count(ao(t)-1,t),e,2)}function _q(t){var e=t.getUTCDay();return e>=4||e===0?Jd(t):Jd.ceil(t)}function X4e(t,e){return t=_q(t),mt(Jd.count(ao(t),t)+(ao(t).getUTCDay()===4),e,2)}function Z4e(t){return t.getUTCDay()}function J4e(t,e){return mt(U0.count(ao(t)-1,t),e,2)}function Q4e(t,e){return mt(t.getUTCFullYear()%100,e,2)}function e5e(t,e){return t=_q(t),mt(t.getUTCFullYear()%100,e,2)}function t5e(t,e){return mt(t.getUTCFullYear()%1e4,e,4)}function n5e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Jd(t):Jd.ceil(t),mt(t.getUTCFullYear()%1e4,e,4)}function r5e(){return"+0000"}function XL(){return"%"}function ZL(t){return+t}function JL(t){return Math.floor(+t/1e3)}var xu,Sq,Eq;i5e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function i5e(t){return xu=i4e(t),Sq=xu.format,xu.parse,Eq=xu.utcFormat,xu.utcParse,xu}function a5e(t){return new Date(t)}function s5e(t){return t instanceof Date?+t:+new Date(+t)}function fN(t,e,n,r,i,a,s,o,l,c){var d=JO(),f=d.invert,h=d.domain,p=c(".%L"),m=c(":%S"),g=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),b=c("%b %d"),x=c("%B"),w=c("%Y");function S(E){return(l(E)<E?p:o(E)<E?m:s(E)<E?g:a(E)<E?v:r(E)<E?i(E)<E?y:b:n(E)<E?x:w)(E)}return d.invert=function(E){return new Date(f(E))},d.domain=function(E){return arguments.length?h(Array.from(E,s5e)):h().map(a5e)},d.ticks=function(E){var A=h();return t(A[0],A[A.length-1],E??10)},d.tickFormat=function(E,A){return A==null?S:c(A)},d.nice=function(E){var A=h();return(!E||typeof E.range!="function")&&(E=e(A[0],A[A.length-1],E??10)),E?h(uq(A,E)):d},d.copy=function(){return _g(d,fN(t,e,n,r,i,a,s,o,l,c))},d}function o5e(){return Ui.apply(fN(n4e,r4e,io,uN,pw,Sg,lN,sN,uc,Sq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function l5e(){return Ui.apply(fN(e4e,t4e,ao,dN,mw,hw,cN,oN,uc,Eq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gw(){var t=0,e=1,n,r,i,a,s=hr,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,s=f(p,m),c):[s(0),s(1)]}}return c.range=d(qf),c.rangeRound=d(ZO),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function Fl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function jq(){var t=Dl(gw()(hr));return t.copy=function(){return Fl(t,jq())},ho.apply(t,arguments)}function Aq(){var t=tN(gw()).domain([1,10]);return t.copy=function(){return Fl(t,Aq()).base(t.base())},ho.apply(t,arguments)}function Cq(){var t=nN(gw());return t.copy=function(){return Fl(t,Cq()).constant(t.constant())},ho.apply(t,arguments)}function hN(){var t=rN(gw());return t.copy=function(){return Fl(t,hN()).exponent(t.exponent())},ho.apply(t,arguments)}function c5e(){return hN.apply(null,arguments).exponent(.5)}function Tq(){var t=[],e=hr;function n(r){if(r!=null&&!isNaN(r=+r))return e((bg(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(il),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>YLe(t,a/r))},n.copy=function(){return Tq(e).domain(t)},ho.apply(n,arguments)}function yw(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,c=hr,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(r*g<r*a?o:l),c(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=d(t=+t),a=d(e=+e),s=d(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(c=g,p):c};function m(g){return function(v){var y,b,x;return arguments.length?([y,b,x]=v,c=wDe(g,[y,b,x]),p):[c(0),c(.5),c(1)]}}return p.range=m(qf),p.rangeRound=m(ZO),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,i=g(t),a=g(e),s=g(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function kq(){var t=Dl(yw()(hr));return t.copy=function(){return Fl(t,kq())},ho.apply(t,arguments)}function Oq(){var t=tN(yw()).domain([.1,1,10]);return t.copy=function(){return Fl(t,Oq()).base(t.base())},ho.apply(t,arguments)}function Nq(){var t=nN(yw());return t.copy=function(){return Fl(t,Nq()).constant(t.constant())},ho.apply(t,arguments)}function pN(){var t=rN(yw());return t.copy=function(){return Fl(t,pN()).exponent(t.exponent())},ho.apply(t,arguments)}function u5e(){return pN.apply(null,arguments).exponent(.5)}const QL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:om,scaleDiverging:kq,scaleDivergingLog:Oq,scaleDivergingPow:pN,scaleDivergingSqrt:u5e,scaleDivergingSymlog:Nq,scaleIdentity:cq,scaleImplicit:oA,scaleLinear:F0,scaleLog:dq,scaleOrdinal:KO,scalePoint:lp,scalePow:iN,scaleQuantile:pq,scaleQuantize:mq,scaleRadial:hq,scaleSequential:jq,scaleSequentialLog:Aq,scaleSequentialPow:hN,scaleSequentialQuantile:Tq,scaleSequentialSqrt:c5e,scaleSequentialSymlog:Cq,scaleSqrt:VDe,scaleSymlog:fq,scaleThreshold:gq,scaleTime:o5e,scaleUtc:l5e,tickFormat:lq},Symbol.toStringTag,{value:"Module"}));var d5e=Lf;function f5e(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(s!=null&&(o===void 0?s===s&&!d5e(s):n(s,o)))var o=s,l=a}return l}var vw=f5e;function h5e(t,e){return t>e}var Pq=h5e,p5e=vw,m5e=Pq,g5e=Wf;function y5e(t){return t&&t.length?p5e(t,g5e,m5e):void 0}var v5e=y5e;const xw=at(v5e);function x5e(t,e){return t<e}var Iq=x5e,b5e=vw,w5e=Iq,_5e=Wf;function S5e(t){return t&&t.length?b5e(t,_5e,w5e):void 0}var E5e=S5e;const bw=at(E5e);var j5e=TO,A5e=ys,C5e=zW,T5e=Lr;function k5e(t,e){var n=T5e(t)?j5e:C5e;return n(t,A5e(e))}var O5e=k5e,N5e=FW,P5e=O5e;function I5e(t,e){return N5e(P5e(t,e),1)}var $5e=I5e;const R5e=at($5e);var M5e=HO;function L5e(t,e){return M5e(t,e)}var D5e=L5e;const Eg=at(D5e);var Gf=1e9,F5e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},gN,qt=!0,Li="[DecimalError] ",Ec=Li+"Invalid argument: ",mN=Li+"Exponent out of range: ",Kf=Math.floor,tc=Math.pow,B5e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Kr,Nn=1e7,Ut=7,$q=9007199254740991,H0=Kf($q/Ut),Ee={};Ee.absoluteValue=Ee.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ee.comparedTo=Ee.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ut;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ee.dividedBy=Ee.div=function(t){return Vs(this,new this.constructor(t))};Ee.dividedToIntegerBy=Ee.idiv=function(t){var e=this,n=e.constructor;return At(Vs(e,new n(t),0,1),n.precision)};Ee.equals=Ee.eq=function(t){return!this.cmp(t)};Ee.exponent=function(){return vn(this)};Ee.greaterThan=Ee.gt=function(t){return this.cmp(t)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(t){return this.cmp(t)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(t){return this.cmp(t)<0};Ee.lessThanOrEqualTo=Ee.lte=function(t){return this.cmp(t)<1};Ee.logarithm=Ee.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Kr))throw Error(Li+"NaN");if(n.s<1)throw Error(Li+(n.s?"NaN":"-Infinity"));return n.eq(Kr)?new r(0):(qt=!1,e=Vs(fm(n,a),fm(t,a),a),qt=!0,At(e,i))};Ee.minus=Ee.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Lq(e,t):Rq(e,(t.s=-t.s,t))};Ee.modulo=Ee.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Li+"NaN");return n.s?(qt=!1,e=Vs(n,t,0,1).times(t),qt=!0,n.minus(e)):At(new r(n),i)};Ee.naturalExponential=Ee.exp=function(){return Mq(this)};Ee.naturalLogarithm=Ee.ln=function(){return fm(this)};Ee.negated=Ee.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ee.plus=Ee.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Rq(e,t):Lq(e,(t.s=-t.s,t))};Ee.precision=Ee.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ec+t);if(e=vn(i)+1,r=i.d.length-1,n=r*Ut+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ee.squareRoot=Ee.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Li+"NaN")}for(t=vn(o),qt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Ya(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Kf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(Vs(o,a,s+2)).times(.5),Ya(a.d).slice(0,s)===(e=Ya(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(At(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return qt=!0,At(r,n)};Ee.times=Ee.mul=function(t){var e,n,r,i,a,s,o,l,c,d=this,f=d.constructor,h=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+p[r]*h[i-r-1]+e,a[i--]=o%Nn|0,e=o/Nn|0;a[i]=(a[i]+e)%Nn|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,qt?At(t,f.precision):t};Ee.toDecimalPlaces=Ee.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(fs(t,0,Gf),e===void 0?e=r.rounding:fs(e,0,8),At(n,t+vn(n)+1,e))};Ee.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=zc(r,!0):(fs(t,0,Gf),e===void 0?e=i.rounding:fs(e,0,8),r=At(new i(r),t+1,e),n=zc(r,!0,t+1)),n};Ee.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?zc(i):(fs(t,0,Gf),e===void 0?e=a.rounding:fs(e,0,8),r=At(new a(i),t+vn(i)+1,e),n=zc(r.abs(),!1,t+vn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ee.toInteger=Ee.toint=function(){var t=this,e=t.constructor;return At(new e(t),vn(t)+1,e.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(Kr);if(o=new l(o),!o.s){if(t.s<1)throw Error(Li+"Infinity");return o}if(o.eq(Kr))return o;if(r=l.precision,t.eq(Kr))return At(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=d<0?-d:d)<=$q){for(i=new l(Kr),e=Math.ceil(r/Ut+4),qt=!1;n%2&&(i=i.times(o),tD(i.d,e)),n=Kf(n/2),n!==0;)o=o.times(o),tD(o.d,e);return qt=!0,t.s<0?new l(Kr).div(i):At(i,r)}}else if(a<0)throw Error(Li+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,qt=!1,i=t.times(fm(o,r+c)),qt=!0,i=Mq(i),i.s=a,i};Ee.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=vn(i),r=zc(i,n<=a.toExpNeg||n>=a.toExpPos)):(fs(t,1,Gf),e===void 0?e=a.rounding:fs(e,0,8),i=At(new a(i),t,e),n=vn(i),r=zc(i,t<=n||n<=a.toExpNeg,t)),r};Ee.toSignificantDigits=Ee.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(fs(t,1,Gf),e===void 0?e=r.rounding:fs(e,0,8)),At(new r(n),t,e)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=vn(t),n=t.constructor;return zc(t,e<=n.toExpNeg||e>=n.toExpPos)};function Rq(t,e){var n,r,i,a,s,o,l,c,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),qt?At(e,f):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(f/Ut),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/Nn|0,l[a]%=Nn;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,qt?At(e,f):e}function fs(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ec+t)}function Ya(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Ut-r.length,n&&(a+=To(n)),a+=r;s=t[e],r=s+"",n=Ut-r.length,n&&(a+=To(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Vs=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%Nn|0,s=a/Nn|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Nn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,d,f,h,p,m,g,v,y,b,x,w,S,E,A,j,C=r.constructor,T=r.s==i.s?1:-1,k=r.d,N=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(Li+"Division by zero");for(l=r.e-i.e,A=N.length,S=k.length,p=new C(T),m=p.d=[],c=0;N[c]==(k[c]||0);)++c;if(N[c]>(k[c]||0)&&--l,a==null?b=a=C.precision:s?b=a+(vn(r)-vn(i))+1:b=a,b<0)return new C(0);if(b=b/Ut+2|0,c=0,A==1)for(d=0,N=N[0],b++;(c<S||d)&&b--;c++)x=d*Nn+(k[c]||0),m[c]=x/N|0,d=x%N|0;else{for(d=Nn/(N[0]+1)|0,d>1&&(N=t(N,d),k=t(k,d),A=N.length,S=k.length),w=A,g=k.slice(0,A),v=g.length;v<A;)g[v++]=0;j=N.slice(),j.unshift(0),E=N[0],N[1]>=Nn/2&&++E;do d=0,o=e(N,g,A,v),o<0?(y=g[0],A!=v&&(y=y*Nn+(g[1]||0)),d=y/E|0,d>1?(d>=Nn&&(d=Nn-1),f=t(N,d),h=f.length,v=g.length,o=e(f,g,h,v),o==1&&(d--,n(f,A<h?j:N,h))):(d==0&&(o=d=1),f=N.slice()),h=f.length,h<v&&f.unshift(0),n(g,f,v),o==-1&&(v=g.length,o=e(N,g,A,v),o<1&&(d++,n(g,A<v?j:N,v))),v=g.length):o===0&&(d++,g=[0]),m[c++]=d,o&&g[0]?g[v++]=k[w]||0:(g=[k[w]],v=1);while((w++<S||g[0]!==void 0)&&b--)}return m[0]||m.shift(),p.e=l,At(p,s?a+vn(p)+1:a)}}();function Mq(t,e){var n,r,i,a,s,o,l=0,c=0,d=t.constructor,f=d.precision;if(vn(t)>16)throw Error(mN+vn(t));if(!t.s)return new d(Kr);for(e==null?(qt=!1,o=f):o=e,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(tc(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new d(Kr),d.precision=o;;){if(i=At(i.times(t),o),n=n.times(++l),s=a.plus(Vs(i,n,o)),Ya(s.d).slice(0,o)===Ya(a.d).slice(0,o)){for(;c--;)a=At(a.times(a),o);return d.precision=f,e==null?(qt=!0,At(a,f)):a}a=s}}function vn(t){for(var e=t.e*Ut,n=t.d[0];n>=10;n/=10)e++;return e}function H1(t,e,n){if(e>t.LN10.sd())throw qt=!0,n&&(t.precision=n),Error(Li+"LN10 precision limit exceeded");return At(new t(t.LN10),e)}function To(t){for(var e="";t--;)e+="0";return e}function fm(t,e){var n,r,i,a,s,o,l,c,d,f=1,h=10,p=t,m=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(Li+(p.s?"NaN":"-Infinity"));if(p.eq(Kr))return new g(0);if(e==null?(qt=!1,c=v):c=e,p.eq(10))return e==null&&(qt=!0),H1(g,c);if(c+=h,g.precision=c,n=Ya(m),r=n.charAt(0),a=vn(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Ya(p.d),r=n.charAt(0),f++;a=vn(p),r>1?(p=new g("0."+n),a++):p=new g(r+"."+n.slice(1))}else return l=H1(g,c+2,v).times(a+""),p=fm(new g(r+"."+n.slice(1)),c-h).plus(l),g.precision=v,e==null?(qt=!0,At(p,v)):p;for(o=s=p=Vs(p.minus(Kr),p.plus(Kr),c),d=At(p.times(p),c),i=3;;){if(s=At(s.times(d),c),l=o.plus(Vs(s,new g(i),c)),Ya(l.d).slice(0,c)===Ya(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(H1(g,c+2,v).times(a+""))),o=Vs(o,new g(f),c),g.precision=v,e==null?(qt=!0,At(o,v)):o;o=l,i+=2}}function eD(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Kf(n/Ut),t.d=[],r=(n+1)%Ut,n<0&&(r+=Ut),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ut;r<i;)t.d.push(+e.slice(r,r+=Ut));e=e.slice(r),r=Ut-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),qt&&(t.e>H0||t.e<-H0))throw Error(mN+n)}else t.s=0,t.e=0,t.d=[0];return t}function At(t,e,n){var r,i,a,s,o,l,c,d,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Ut,i=e,c=f[d=0];else{if(d=Math.ceil((r+1)/Ut),a=f.length,d>=a)return t;for(c=a=f[d],s=1;a>=10;a/=10)s++;r%=Ut,i=r-Ut+s}if(n!==void 0&&(a=tc(10,s-i-1),o=c/a%10|0,l=e<0||f[d+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/tc(10,s-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=vn(t),f.length=1,e=e-a-1,f[0]=tc(10,(Ut-e%Ut)%Ut),t.e=Kf(-e/Ut)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=tc(10,Ut-r),f[d]=i>0?(c/tc(10,s-i)%tc(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==Nn&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=Nn)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(qt&&(t.e>H0||t.e<-H0))throw Error(mN+vn(t));return t}function Lq(t,e){var n,r,i,a,s,o,l,c,d,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),qt?At(e,p):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),s=c-r,s){for(d=s<0,d?(n=l,s=-s,o=f.length):(n=f,r=c,o=l.length),i=Math.max(Math.ceil(p/Ut),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Nn-1;--l[a],l[i]+=Nn}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,qt?At(e,p):e):new h(0)}function zc(t,e,n){var r,i=vn(t),a=Ya(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+To(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+To(-i-1)+a,n&&(r=n-s)>0&&(a+=To(r))):i>=s?(a+=To(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+To(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=To(r))),t.s<0?"-"+a:a}function tD(t,e){if(t.length>e)return t.length=e,!0}function Dq(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ec+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return eD(s,a.toString())}else if(typeof a!="string")throw Error(Ec+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,B5e.test(a))eD(s,a);else throw Error(Ec+a)}if(i.prototype=Ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Dq,i.config=i.set=z5e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function z5e(t){if(!t||typeof t!="object")throw Error(Li+"Object expected");var e,n,r,i=["precision",1,Gf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Kf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ec+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ec+n+": "+r);return this}var gN=Dq(F5e);Kr=new gN(1);const jt=gN;function U5e(t){return q5e(t)||W5e(t)||V5e(t)||H5e()}function H5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V5e(t,e){if(t){if(typeof t=="string")return dA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dA(t,e)}}function W5e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function q5e(t){if(Array.isArray(t))return dA(t)}function dA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var G5e=function(e){return e},Fq={"@@functional/placeholder":!0},Bq=function(e){return e===Fq},nD=function(e){return function n(){return arguments.length===0||arguments.length===1&&Bq(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},K5e=function t(e,n){return e===1?n:nD(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==Fq}).length;return s>=e?n.apply(void 0,i):t(e-s,nD(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var d=i.map(function(f){return Bq(f)?l.shift():f});return n.apply(void 0,U5e(d).concat(l))}))})},ww=function(e){return K5e(e.length,e)},fA=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Y5e=ww(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),X5e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return G5e;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},hA=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},zq=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(o,l){return o===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function Z5e(t){var e;return t===0?e=1:e=Math.floor(new jt(t).abs().log(10).toNumber())+1,e}function J5e(t,e,n){for(var r=new jt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Q5e=ww(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),e3e=ww(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),t3e=ww(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const _w={rangeStep:J5e,getDigitCount:Z5e,interpolateNumber:Q5e,uninterpolateNumber:e3e,uninterpolateTruncation:t3e};function pA(t){return i3e(t)||r3e(t)||Uq(t)||n3e()}function n3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r3e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function i3e(t){if(Array.isArray(t))return mA(t)}function hm(t,e){return o3e(t)||s3e(t,e)||Uq(t,e)||a3e()}function a3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uq(t,e){if(t){if(typeof t=="string")return mA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mA(t,e)}}function mA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s3e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function o3e(t){if(Array.isArray(t))return t}function Hq(t){var e=hm(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function Vq(t,e,n){if(t.lte(0))return new jt(0);var r=_w.getDigitCount(t.toNumber()),i=new jt(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new jt(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?l:new jt(Math.ceil(l))}function l3e(t,e,n){var r=1,i=new jt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new jt(10).pow(_w.getDigitCount(t)-1),i=new jt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new jt(Math.floor(t)))}else t===0?i=new jt(Math.floor((e-1)/2)):n||(i=new jt(Math.floor(t)));var s=Math.floor((e-1)/2),o=X5e(Y5e(function(l){return i.add(new jt(l-s).mul(r)).toNumber()}),fA);return o(0,e)}function Wq(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new jt(0),tickMin:new jt(0),tickMax:new jt(0)};var a=Vq(new jt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new jt(0):(s=new jt(t).add(e).div(2),s=s.sub(new jt(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new jt(e).sub(s).div(a).toNumber()),c=o+l+1;return c>n?Wq(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,o=e>0?o:o+(n-c)),{step:a,tickMin:s.sub(new jt(o).mul(a)),tickMax:s.add(new jt(l).mul(a))})}function c3e(t){var e=hm(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=Hq([n,r]),l=hm(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(pA(fA(0,i-1).map(function(){return 1/0}))):[].concat(pA(fA(0,i-1).map(function(){return-1/0})),[d]);return n>r?hA(f):f}if(c===d)return l3e(c,i,a);var h=Wq(c,d,s,a),p=h.step,m=h.tickMin,g=h.tickMax,v=_w.rangeStep(m,g.add(new jt(.1).mul(p)),p);return n>r?hA(v):v}function u3e(t,e){var n=hm(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Hq([r,i]),o=hm(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(e,2),f=Vq(new jt(c).sub(l).div(d-1),a,0),h=[].concat(pA(_w.rangeStep(new jt(l),new jt(c).sub(new jt(.99).mul(f)),f)),[c]);return r>i?hA(h):h}var d3e=zq(c3e),f3e=zq(u3e),h3e="Invariant failed";function Uc(t,e){throw new Error(h3e)}var p3e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}function V0(){return V0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V0.apply(this,arguments)}function m3e(t,e){return x3e(t)||v3e(t,e)||y3e(t,e)||g3e()}function g3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y3e(t,e){if(t){if(typeof t=="string")return rD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rD(t,e)}}function rD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function x3e(t){if(Array.isArray(t))return t}function b3e(t,e){if(t==null)return{};var n=w3e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function w3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S3e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kq(r.key),r)}}function E3e(t,e,n){return e&&S3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function j3e(t,e,n){return e=W0(e),A3e(t,qq()?Reflect.construct(e,n||[],W0(t).constructor):e.apply(t,n))}function A3e(t,e){if(e&&(Qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C3e(t)}function C3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qq=function(){return!!t})()}function W0(t){return W0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},W0(t)}function T3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gA(t,e)}function gA(t,e){return gA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gA(t,e)}function Gq(t,e,n){return e=Kq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kq(t){var e=k3e(t,"string");return Qd(e)=="symbol"?e:e+""}function k3e(t,e){if(Qd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jg=function(t){function e(){return _3e(this,e),j3e(this,e,arguments)}return T3e(e,t),E3e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=b3e(r,p3e),p=De(h,!1);this.props.direction==="x"&&d.type!=="number"&&Uc();var m=l.map(function(g){var v=c(g,o),y=v.x,b=v.y,x=v.value,w=v.errorVal;if(!w)return null;var S=[],E,A;if(Array.isArray(w)){var j=m3e(w,2);E=j[0],A=j[1]}else E=A=w;if(a==="vertical"){var C=d.scale,T=b+i,k=T+s,N=T-s,H=C(x-E),R=C(x+A);S.push({x1:R,y1:k,x2:R,y2:N}),S.push({x1:H,y1:T,x2:R,y2:T}),S.push({x1:H,y1:k,x2:H,y2:N})}else if(a==="horizontal"){var D=f.scale,z=y+i,V=z-s,M=z+s,L=D(x-E),P=D(x+A);S.push({x1:V,y1:P,x2:M,y2:P}),S.push({x1:z,y1:L,x2:z,y2:P}),S.push({x1:V,y1:L,x2:M,y2:L})}return F.createElement(pt,V0({className:"recharts-errorBar",key:"bar-".concat(S.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},p),S.map(function(W){return F.createElement("line",V0({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return F.createElement(pt,{className:"recharts-errorBars"},m)}}])}(F.Component);Gq(jg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Gq(jg,"displayName","ErrorBar");function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}function iD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iD(Object(n),!0).forEach(function(r){O3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O3e(t,e,n){return e=N3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N3e(t){var e=P3e(t,"string");return pm(e)=="symbol"?e:e+""}function P3e(t,e){if(pm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yq=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Wr(n,rl);if(!s)return null;var o=rl.defaultProps,l=o!==void 0?Vl(Vl({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:a==="children"?c=(r||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(g){return{type:s.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Vl(Vl({},h),f.props):{},m=p.dataKey,g=p.name,v=p.legendType,y=p.hide;return{inactive:y,dataKey:m,type:l.iconType||v||"square",color:yN(f),value:g||m,payload:p}}),Vl(Vl(Vl({},l),rl.getWithHeight(s,i)),{},{payload:c,item:s})};function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function aD(t){return M3e(t)||R3e(t)||$3e(t)||I3e()}function I3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $3e(t,e){if(t){if(typeof t=="string")return yA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yA(t,e)}}function R3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function M3e(t){if(Array.isArray(t))return yA(t)}function yA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sD(Object(n),!0).forEach(function(r){pd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pd(t,e,n){return e=L3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L3e(t){var e=D3e(t,"string");return mm(e)=="symbol"?e:e+""}function D3e(t,e){if(mm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _n(t,e,n){return Xe(t)||Xe(e)?n:En(e)?oi(t,e,n):qe(e)?e(t):n}function cp(t,e,n,r){var i=R5e(t,function(o){return _n(o,e)});if(n==="number"){var a=i.filter(function(o){return pe(o)||parseFloat(o)});return a.length?[bw(a),xw(a)]:[1/0,-1/0]}var s=r?i.filter(function(o){return!Xe(o)}):i;return s.map(function(o){return En(o)||o instanceof Date?o:""})}var F3e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<o;c++){var d=c>0?i[c-1].coordinate:i[o-1].coordinate,f=i[c].coordinate,h=c>=o-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(dr(f-d)!==dr(h-f)){var m=[];if(dr(h-f)===dr(l[1]-l[0])){p=h;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+d)/2),m[1]=Math.max(g,(g+d)/2)}else{p=d;var v=h+l[1]-l[0];m[0]=Math.min(f,(v+f)/2),m[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>y[0]&&e<=y[1]||e>=m[0]&&e<=m[1]){s=i[c].index;break}}else{var b=Math.min(d,h),x=Math.max(d,h);if(e>(b+f)/2&&e<=(x+f)/2){s=i[c].index;break}}}else for(var w=0;w<o;w++)if(w===0&&e<=(r[w].coordinate+r[w+1].coordinate)/2||w>0&&w<o-1&&e>(r[w].coordinate+r[w-1].coordinate)/2&&e<=(r[w].coordinate+r[w+1].coordinate)/2||w===o-1&&e>(r[w].coordinate+r[w-1].coordinate)/2){s=r[w].index;break}return s},yN=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?sn(sn({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},B3e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,c=o.length;l<c;l++)for(var d=a[o[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],g=m.items,v=m.cateAxisId,y=g.filter(function(A){return Hs(A.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,x=b!==void 0?sn(sn({},b),y[0].props):y[0].props,w=x.barSize,S=x[v];s[S]||(s[S]=[]);var E=Xe(w)?n:w;s[S].push({item:y[0],stackList:y.slice(1),barSize:Xe(E)?void 0:fr(E,r,0)})}}return s},z3e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var c=fr(n,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/l,m=s.reduce(function(w,S){return w+S.barSize||0},0);m+=(l-1)*c,m>=i&&(m-=(l-1)*c,c=0),m>=i&&p>0&&(h=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,v={offset:g-c,size:0};d=s.reduce(function(w,S){var E={item:S.item,position:{offset:v.offset+v.size+c,size:h?p:S.barSize}},A=[].concat(aD(w),[E]);return v=A[A.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(j){A.push({item:j,position:v})}),A},f)}else{var y=fr(r,i,0,!0);i-2*y-(l-1)*c<=0&&(c=0);var b=(i-2*y-(l-1)*c)/l;b>1&&(b>>=0);var x=o===+o?Math.min(b,o):b;d=s.reduce(function(w,S,E){var A=[].concat(aD(w),[{item:S.item,position:{offset:y+(b+c)*E+(b-x)/2,size:x}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(j){A.push({item:j,position:A[A.length-1].position})}),A},f)}return d},U3e=function(e,n,r,i){var a=r.children,s=r.width,o=r.margin,l=s-(o.left||0)-(o.right||0),c=Yq({children:a,legendWidth:l});if(c){var d=i||{},f=d.width,h=d.height,p=c.align,m=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&pe(e[p]))return sn(sn({},e),{},pd({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&pe(e[m]))return sn(sn({},e),{},pd({},m,e[m]+(h||0)))}return e},H3e=function(e,n,r){return Xe(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Xq=function(e,n,r,i,a){var s=n.props.children,o=li(s,jg).filter(function(c){return H3e(i,a,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var f=_n(d,r);if(Xe(f))return c;var h=Array.isArray(f)?[bw(f),xw(f)]:[f,f],p=l.reduce(function(m,g){var v=_n(d,g,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,m[0]),Math.max(b,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},V3e=function(e,n,r,i,a){var s=n.map(function(o){return Xq(e,o,r,a,i)}).filter(function(o){return!Xe(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},Zq=function(e,n,r,i,a){var s=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&Xq(e,l,c,i)||cp(e,c,r,a)});if(r==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)o[c[d]]||(o[c[d]]=!0,l.push(c[d]));return l},[])},Jq=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Qq=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate});return a||o.push(n),s||o.push(r),o},Ms=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?dr(o[0]-o[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return d.filter(function(f){return!yg(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:a?a[f]:f,index:h,offset:c}})},V1=new WeakMap,Ny=function(e,n){if(typeof n!="function")return e;V1.has(e)||V1.set(e,new WeakMap);var r=V1.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},eG=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:om(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:F0(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:lp(),realScaleType:"point"}:a==="category"?{scale:om(),realScaleType:"band"}:{scale:F0(),realScaleType:"linear"};if(gg(i)){var l="scale".concat(aw(i));return{scale:(QL[l]||lp)(),realScaleType:QL[l]?l:"point"}}return qe(i)?{scale:i}:{scale:lp(),realScaleType:"point"}},oD=1e-4,tG=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-oD,s=Math.max(i[0],i[1])+oD,o=e(n[0]),l=e(n[r-1]);(o<a||o>s||l<a||l>s)&&e.domain([n[0],n[r-1]])}},W3e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},q3e=function(e,n){if(!n||n.length!==2||!pe(n[0])||!pe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!pe(e[0])||e[0]<r)&&(a[0]=r),(!pe(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},G3e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,o=0;o<n;++o){var l=yg(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1])}},K3e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var o=yg(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},Y3e={sign:G3e,expand:pke,none:Wd,silhouette:mke,wiggle:gke,positive:K3e},X3e=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),a=Y3e[r],s=hke().keys(i).value(function(o,l){return+_n(o,l,0)}).order(Uj).offset(a);return s(e)},Z3e=function(e,n,r,i,a,s){if(!e)return null;var o=s?n.reverse():n,l={},c=o.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?sn(sn({},h.type.defaultProps),h.props):h.props,g=m.stackId,v=m.hide;if(v)return f;var y=m[r],b=f[y]||{hasStack:!1,stackGroups:{}};if(En(g)){var x=b.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(h),b.hasStack=!0,b.stackGroups[g]=x}else b.stackGroups[Uf("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return sn(sn({},f),{},pd({},y,b))},l),d={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var y=p.stackGroups[v];return sn(sn({},g),{},pd({},v,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:X3e(e,y.items,a)}))},m)}return sn(sn({},f),{},pd({},h,p))},d)},nG=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=d3e(c,a,o);return e.domain([bw(d),xw(d)]),{niceTicks:d}}if(a&&i==="number"){var f=e.domain(),h=f3e(f,a,o);return{niceTicks:h}}return null};function lD(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Xe(i[e.dataKey])){var o=v0(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=_n(i,Xe(s)?e.dataKey:s);return Xe(l)?null:e.scale(l)}var cD=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=_n(s,n.dataKey,n.domain[o]);return Xe(l)?null:n.scale(l)-a/2+i},J3e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},Q3e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?sn(sn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(En(a)){var s=n[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},eFe=function(e){return e.reduce(function(n,r){return[bw(r.concat([n[0]]).filter(pe)),xw(r.concat([n[1]]).filter(pe))]},[1/0,-1/0])},rG=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(c,d){var f=eFe(d.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},uD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vA=function(e,n,r){if(qe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(pe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(uD.test(e[0])){var a=+uD.exec(e[0])[1];i[0]=n[0]-a}else qe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(pe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(dD.test(e[1])){var s=+dD.exec(e[1])[1];i[1]=n[1]+s}else qe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},q0=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=WO(n,function(f){return f.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],d=a[o-1];s=Math.min((c.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},fD=function(e,n,r){return!e||!e.length||Eg(e,oi(r,"type.defaultProps.domain"))?n:e},iG=function(e,n){var r=e.type.defaultProps?sn(sn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,d=r.hide;return sn(sn({},De(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:yN(e),value:_n(n,i),type:l,payload:n,chartType:c,hide:d})};function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function hD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(n),!0).forEach(function(r){aG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aG(t,e,n){return e=tFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tFe(t){var e=nFe(t,"string");return gm(e)=="symbol"?e:e+""}function nFe(t,e){if(gm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rFe(t,e){return oFe(t)||sFe(t,e)||aFe(t,e)||iFe()}function iFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aFe(t,e){if(t){if(typeof t=="string")return pD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pD(t,e)}}function pD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function oFe(t){if(Array.isArray(t))return t}var G0=Math.PI/180,lFe=function(e){return e*180/Math.PI},Rt=function(e,n,r,i){return{x:e+Math.cos(-G0*i)*r,y:n+Math.sin(-G0*i)*r}},sG=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},cFe=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.startAngle,c=e.endAngle,d=fr(e.cx,s,s/2),f=fr(e.cy,o,o/2),h=sG(s,o,r),p=fr(e.innerRadius,h,0),m=fr(e.outerRadius,h,h*.8),g=Object.keys(n);return g.reduce(function(v,y){var b=n[y],x=b.domain,w=b.reversed,S;if(Xe(b.range))i==="angleAxis"?S=[l,c]:i==="radiusAxis"&&(S=[p,m]),w&&(S=[S[1],S[0]]);else{S=b.range;var E=S,A=rFe(E,2);l=A[0],c=A[1]}var j=eG(b,a),C=j.realScaleType,T=j.scale;T.domain(x).range(S),tG(T);var k=nG(T,Cs(Cs({},b),{},{realScaleType:C})),N=Cs(Cs(Cs({},b),k),{},{range:S,radius:m,realScaleType:C,scale:T,cx:d,cy:f,innerRadius:p,outerRadius:m,startAngle:l,endAngle:c});return Cs(Cs({},v),{},aG({},y,N))},{})},uFe=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},dFe=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,o=uFe({x:r,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(r-a)/o,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:o,angle:lFe(c),angleInRadian:c}},fFe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},hFe=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},mD=function(e,n){var r=e.x,i=e.y,a=dFe({x:r,y:i},n),s=a.radius,o=a.angle,l=n.innerRadius,c=n.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var d=fFe(n),f=d.startAngle,h=d.endAngle,p=o,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?Cs(Cs({},n),{},{radius:s,angle:hFe(p,n)}):null},oG=function(e){return!_.isValidElement(e)&&!qe(e)&&typeof e!="boolean"?e.className:""};function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}var pFe=["offset"];function mFe(t){return xFe(t)||vFe(t)||yFe(t)||gFe()}function gFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yFe(t,e){if(t){if(typeof t=="string")return xA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xA(t,e)}}function vFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xFe(t){if(Array.isArray(t))return xA(t)}function xA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bFe(t,e){if(t==null)return{};var n=wFe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wFe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(n),!0).forEach(function(r){_Fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Fe(t,e,n){return e=SFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SFe(t){var e=EFe(t,"string");return ym(e)=="symbol"?e:e+""}function EFe(t,e){if(ym(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vm(){return vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vm.apply(this,arguments)}var jFe=function(e){var n=e.value,r=e.formatter,i=Xe(e.children)?n:e.children;return qe(r)?r(i):i},AFe=function(e,n){var r=dr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},CFe=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,c=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,v=(f+h)/2,y=AFe(p,m),b=y>=0?1:-1,x,w;i==="insideStart"?(x=p+b*s,w=g):i==="insideEnd"?(x=m-b*s,w=!g):i==="end"&&(x=m+b*s,w=g),w=y<=0?w:!w;var S=Rt(c,d,v,x),E=Rt(c,d,v,x+(w?1:-1)*359),A="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(w?0:1,`,
    `).concat(E.x,",").concat(E.y),j=Xe(e.id)?Uf("recharts-radial-line-"):e.id;return F.createElement("text",vm({},r,{dominantBaseline:"central",className:Je("recharts-radial-bar-label",o)}),F.createElement("defs",null,F.createElement("path",{id:j,d:A})),F.createElement("textPath",{xlinkHref:"#".concat(j)},n))},TFe=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,o=a.cy,l=a.innerRadius,c=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var p=Rt(s,o,c+r,h),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,y=Rt(s,o,v,h),b=y.x,x=y.y;return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},kFe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,o=s.x,l=s.y,c=s.width,d=s.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=c>=0?1:-1,v=g*i,y=g>0?"end":"start",b=g>0?"start":"end";if(a==="top"){var x={x:o+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return xn(xn({},x),r?{height:Math.max(l-r.y,0),width:c}:{})}if(a==="bottom"){var w={x:o+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:m};return xn(xn({},w),r?{height:Math.max(r.y+r.height-(l+d),0),width:c}:{})}if(a==="left"){var S={x:o-v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return xn(xn({},S),r?{width:Math.max(S.x-r.x,0),height:d}:{})}if(a==="right"){var E={x:o+c+v,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return xn(xn({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:d}:{})}var A=r?{width:c,height:d}:{};return a==="insideLeft"?xn({x:o+v,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},A):a==="insideRight"?xn({x:o+c-v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},A):a==="insideTop"?xn({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},A):a==="insideBottom"?xn({x:o+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},A):a==="insideTopLeft"?xn({x:o+v,y:l+h,textAnchor:b,verticalAnchor:m},A):a==="insideTopRight"?xn({x:o+c-v,y:l+h,textAnchor:y,verticalAnchor:m},A):a==="insideBottomLeft"?xn({x:o+v,y:l+d-h,textAnchor:b,verticalAnchor:p},A):a==="insideBottomRight"?xn({x:o+c-v,y:l+d-h,textAnchor:y,verticalAnchor:p},A):Df(a)&&(pe(a.x)||lc(a.x))&&(pe(a.y)||lc(a.y))?xn({x:o+fr(a.x,c),y:l+fr(a.y,d),textAnchor:"end",verticalAnchor:"end"},A):xn({x:o+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},OFe=function(e){return"cx"in e&&pe(e.cx)};function In(t){var e=t.offset,n=e===void 0?5:e,r=bFe(t,pFe),i=xn({offset:n},r),a=i.viewBox,s=i.position,o=i.value,l=i.children,c=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||Xe(o)&&Xe(l)&&!_.isValidElement(c)&&!qe(c))return null;if(_.isValidElement(c))return _.cloneElement(c,i);var p;if(qe(c)){if(p=_.createElement(c,i),_.isValidElement(p))return p}else p=jFe(i);var m=OFe(a),g=De(i,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return CFe(i,p,g);var v=m?TFe(i):kFe(i);return F.createElement(Bc,vm({className:Je("recharts-label",f)},g,v,{breakAll:h}),p)}In.displayName="Label";var lG=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,p=e.top,m=e.left,g=e.width,v=e.height,y=e.clockWise,b=e.labelViewBox;if(b)return b;if(pe(g)&&pe(v)){if(pe(f)&&pe(h))return{x:f,y:h,width:g,height:v};if(pe(p)&&pe(m))return{x:p,y:m,width:g,height:v}}return pe(f)&&pe(h)?{x:f,y:h,width:0,height:0}:pe(n)&&pe(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:d||l||o||0,clockWise:y}:e.viewBox?e.viewBox:{}},NFe=function(e,n){return e?e===!0?F.createElement(In,{key:"label-implicit",viewBox:n}):En(e)?F.createElement(In,{key:"label-implicit",viewBox:n,value:e}):_.isValidElement(e)?e.type===In?_.cloneElement(e,{key:"label-implicit",viewBox:n}):F.createElement(In,{key:"label-implicit",content:e,viewBox:n}):qe(e)?F.createElement(In,{key:"label-implicit",content:e,viewBox:n}):Df(e)?F.createElement(In,vm({viewBox:n},e,{key:"label-implicit"})):null:null},PFe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=lG(e),s=li(i,In).map(function(l,c){return _.cloneElement(l,{viewBox:n||a,key:"label-".concat(c)})});if(!r)return s;var o=NFe(e.label,n||a);return[o].concat(mFe(s))};In.parseViewBox=lG;In.renderCallByParent=PFe;function IFe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var $Fe=IFe;const RFe=at($Fe);function xm(t){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(t)}var MFe=["valueAccessor"],LFe=["data","dataKey","clockWise","id","textBreakAll"];function DFe(t){return UFe(t)||zFe(t)||BFe(t)||FFe()}function FFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BFe(t,e){if(t){if(typeof t=="string")return bA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bA(t,e)}}function zFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UFe(t){if(Array.isArray(t))return bA(t)}function bA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function K0(){return K0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K0.apply(this,arguments)}function yD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yD(Object(n),!0).forEach(function(r){HFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HFe(t,e,n){return e=VFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VFe(t){var e=WFe(t,"string");return xm(e)=="symbol"?e:e+""}function WFe(t,e){if(xm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xD(t,e){if(t==null)return{};var n=qFe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qFe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var GFe=function(e){return Array.isArray(e.value)?RFe(e.value):e.value};function Ws(t){var e=t.valueAccessor,n=e===void 0?GFe:e,r=xD(t,MFe),i=r.data,a=r.dataKey,s=r.clockWise,o=r.id,l=r.textBreakAll,c=xD(r,LFe);return!i||!i.length?null:F.createElement(pt,{className:"recharts-label-list"},i.map(function(d,f){var h=Xe(a)?n(d,f):_n(d&&d.payload,a),p=Xe(o)?{}:{id:"".concat(o,"-").concat(f)};return F.createElement(In,K0({},De(d,!0),c,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:In.parseViewBox(Xe(s)?d:vD(vD({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Ws.displayName="LabelList";function KFe(t,e){return t?t===!0?F.createElement(Ws,{key:"labelList-implicit",data:e}):F.isValidElement(t)||qe(t)?F.createElement(Ws,{key:"labelList-implicit",data:e,content:t}):Df(t)?F.createElement(Ws,K0({data:e},t,{key:"labelList-implicit"})):null:null}function YFe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=li(r,Ws).map(function(s,o){return _.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var a=KFe(t.label,e);return[a].concat(DFe(i))}Ws.renderCallByParent=YFe;function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}function wA(){return wA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wA.apply(this,arguments)}function bD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bD(Object(n),!0).forEach(function(r){XFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XFe(t,e,n){return e=ZFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZFe(t){var e=JFe(t,"string");return bm(e)=="symbol"?e:e+""}function JFe(t,e){if(bm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QFe=function(e,n){var r=dr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Py=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(o?1:-1)+i,f=Math.asin(l/d)/G0,h=c?a:a+s*f,p=Rt(n,r,d,h),m=Rt(n,r,i,h),g=c?a-s*f:a,v=Rt(n,r,d*Math.cos(f*G0),g);return{center:p,circleTangency:m,lineTangency:v,theta:f}},cG=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=QFe(s,o),c=s+l,d=Rt(n,r,a,s),f=Rt(n,r,a,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Rt(n,r,i,s),m=Rt(n,r,i,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},eBe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,f=dr(d-c),h=Py({cx:n,cy:r,radius:a,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,g=h.theta,v=Py({cx:n,cy:r,radius:a,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),y=v.circleTangency,b=v.lineTangency,x=v.theta,w=l?Math.abs(c-d):Math.abs(c-d)-g-x;if(w<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):cG({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d});var S="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var E=Py({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),A=E.circleTangency,j=E.lineTangency,C=E.theta,T=Py({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),k=T.circleTangency,N=T.lineTangency,H=T.theta,R=l?Math.abs(c-d):Math.abs(c-d)-C-H;if(R<0&&s===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},tBe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},uG=function(e){var n=wD(wD({},tBe),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(s<a||d===f)return null;var p=Je("recharts-sector",h),m=s-a,g=fr(o,m,0,!0),v;return g>0&&Math.abs(d-f)<360?v=eBe({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):v=cG({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:d,endAngle:f}),F.createElement("path",wA({},De(n,!0),{className:p,d:v,role:"img"}))};function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(t)}function _A(){return _A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_A.apply(this,arguments)}function _D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_D(Object(n),!0).forEach(function(r){nBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nBe(t,e,n){return e=rBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rBe(t){var e=iBe(t,"string");return wm(e)=="symbol"?e:e+""}function iBe(t,e){if(wm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ED={curveBasisClosed:nke,curveBasisOpen:rke,curveBasis:tke,curveBumpX:zTe,curveBumpY:UTe,curveLinearClosed:ike,curveLinear:ow,curveMonotoneX:ake,curveMonotoneY:ske,curveNatural:oke,curveStep:lke,curveStepAfter:uke,curveStepBefore:cke},Iy=function(e){return e.x===+e.x&&e.y===+e.y},bh=function(e){return e.x},wh=function(e){return e.y},aBe=function(e,n){if(qe(e))return e;var r="curve".concat(aw(e));return(r==="curveMonotone"||r==="curveBump")&&n?ED["".concat(r).concat(n==="vertical"?"Y":"X")]:ED[r]||ow},sBe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=aBe(r,o),f=c?a.filter(function(g){return Iy(g)}):a,h;if(Array.isArray(s)){var p=c?s.filter(function(g){return Iy(g)}):s,m=f.map(function(g,v){return SD(SD({},g),{},{base:p[v]})});return o==="vertical"?h=Sy().y(wh).x1(bh).x0(function(g){return g.base.x}):h=Sy().x(bh).y1(wh).y0(function(g){return g.base.y}),h.defined(Iy).curve(d),h(m)}return o==="vertical"&&pe(s)?h=Sy().y(wh).x1(bh).x0(s):pe(s)?h=Sy().x(bh).y1(wh).y0(s):h=iW().x(bh).y(wh),h.defined(Iy).curve(d),h(f)},Y0=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?sBe(e):i;return F.createElement("path",_A({},De(e,!1),x0(e),{className:Je("recharts-curve",n),d:s,ref:a}))},dG={exports:{}},oBe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",lBe=oBe,cBe=lBe;function fG(){}function hG(){}hG.resetWarningCache=fG;var uBe=function(){function t(r,i,a,s,o,l){if(l!==cBe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:hG,resetWarningCache:fG};return n.PropTypes=n,n};dG.exports=uBe();var dBe=dG.exports;const tt=at(dBe);var fBe=Object.getOwnPropertyNames,hBe=Object.getOwnPropertySymbols,pBe=Object.prototype.hasOwnProperty;function jD(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function $y(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,s=a.get(n),o=a.get(r);if(s&&o)return s===r&&o===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function AD(t){return fBe(t).concat(hBe(t))}var pG=Object.hasOwn||function(t,e){return pBe.call(t,e)};function Yf(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var mG="_owner",CD=Object.getOwnPropertyDescriptor,TD=Object.keys;function mBe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function gBe(t,e){return Yf(t.getTime(),e.getTime())}function kD(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),a=0,s,o;(s=i.next())&&!s.done;){for(var l=e.entries(),c=!1,d=0;(o=l.next())&&!o.done;){var f=s.value,h=f[0],p=f[1],m=o.value,g=m[0],v=m[1];!c&&!r[d]&&(c=n.equals(h,g,a,d,t,e,n)&&n.equals(p,v,h,g,t,e,n))&&(r[d]=!0),d++}if(!c)return!1;a++}return!0}function yBe(t,e,n){var r=TD(t),i=r.length;if(TD(e).length!==i)return!1;for(var a;i-- >0;)if(a=r[i],a===mG&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!pG(e,a)||!n.equals(t[a],e[a],a,a,t,e,n))return!1;return!0}function _h(t,e,n){var r=AD(t),i=r.length;if(AD(e).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=r[i],a===mG&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!pG(e,a)||!n.equals(t[a],e[a],a,a,t,e,n)||(s=CD(t,a),o=CD(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function vBe(t,e){return Yf(t.valueOf(),e.valueOf())}function xBe(t,e){return t.source===e.source&&t.flags===e.flags}function OD(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),a,s;(a=i.next())&&!a.done;){for(var o=e.values(),l=!1,c=0;(s=o.next())&&!s.done;)!l&&!r[c]&&(l=n.equals(a.value,s.value,a.value,s.value,t,e,n))&&(r[c]=!0),c++;if(!l)return!1}return!0}function bBe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var wBe="[object Arguments]",_Be="[object Boolean]",SBe="[object Date]",EBe="[object Map]",jBe="[object Number]",ABe="[object Object]",CBe="[object RegExp]",TBe="[object Set]",kBe="[object String]",OBe=Array.isArray,ND=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,PD=Object.assign,NBe=Object.prototype.toString.call.bind(Object.prototype.toString);function PBe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,a=t.arePrimitiveWrappersEqual,s=t.areRegExpsEqual,o=t.areSetsEqual,l=t.areTypedArraysEqual;return function(d,f,h){if(d===f)return!0;if(d==null||f==null||typeof d!="object"||typeof f!="object")return d!==d&&f!==f;var p=d.constructor;if(p!==f.constructor)return!1;if(p===Object)return i(d,f,h);if(OBe(d))return e(d,f,h);if(ND!=null&&ND(d))return l(d,f,h);if(p===Date)return n(d,f,h);if(p===RegExp)return s(d,f,h);if(p===Map)return r(d,f,h);if(p===Set)return o(d,f,h);var m=NBe(d);return m===SBe?n(d,f,h):m===CBe?s(d,f,h):m===EBe?r(d,f,h):m===TBe?o(d,f,h):m===ABe?typeof d.then!="function"&&typeof f.then!="function"&&i(d,f,h):m===wBe?i(d,f,h):m===_Be||m===jBe||m===kBe?a(d,f,h):!1}}function IBe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?_h:mBe,areDatesEqual:gBe,areMapsEqual:r?jD(kD,_h):kD,areObjectsEqual:r?_h:yBe,arePrimitiveWrappersEqual:vBe,areRegExpsEqual:xBe,areSetsEqual:r?jD(OD,_h):OD,areTypedArraysEqual:r?_h:bBe};if(n&&(i=PD({},i,n(i))),e){var a=$y(i.areArraysEqual),s=$y(i.areMapsEqual),o=$y(i.areObjectsEqual),l=$y(i.areSetsEqual);i=PD({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}function $Be(t){return function(e,n,r,i,a,s,o){return t(e,n,o)}}function RBe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,c){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return n(l,c,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return n(l,c,s)}}var MBe=Bl();Bl({strict:!0});Bl({circular:!0});Bl({circular:!0,strict:!0});Bl({createInternalComparator:function(){return Yf}});Bl({strict:!0,createInternalComparator:function(){return Yf}});Bl({circular:!0,createInternalComparator:function(){return Yf}});Bl({circular:!0,createInternalComparator:function(){return Yf},strict:!0});function Bl(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,o=IBe(t),l=PBe(o),c=r?r(l):$Be(l);return RBe({circular:n,comparator:l,createState:i,equals:c,strict:s})}function LBe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function ID(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):LBe(i)};requestAnimationFrame(r)}function SA(t){"@babel/helpers - typeof";return SA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SA(t)}function DBe(t){return UBe(t)||zBe(t)||BBe(t)||FBe()}function FBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BBe(t,e){if(t){if(typeof t=="string")return $D(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $D(t,e)}}function $D(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UBe(t){if(Array.isArray(t))return t}function HBe(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,o=DBe(s),l=o[0],c=o.slice(1);if(typeof l=="number"){ID(i.bind(null,c),l);return}i(l),ID(i.bind(null,c));return}SA(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function _m(t){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(t)}function RD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RD(Object(n),!0).forEach(function(r){gG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gG(t,e,n){return e=VBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VBe(t){var e=WBe(t,"string");return _m(e)==="symbol"?e:String(e)}function WBe(t,e){if(_m(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_m(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qBe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},GBe=function(e){return e},KBe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},up=function(e,n){return Object.keys(n).reduce(function(r,i){return MD(MD({},r),{},gG({},i,e(i,n[i])))},{})},LD=function(e,n,r){return e.map(function(i){return"".concat(KBe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function YBe(t,e){return JBe(t)||ZBe(t,e)||yG(t,e)||XBe()}function XBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZBe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function JBe(t){if(Array.isArray(t))return t}function QBe(t){return nze(t)||tze(t)||yG(t)||eze()}function eze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yG(t,e){if(t){if(typeof t=="string")return EA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EA(t,e)}}function tze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nze(t){if(Array.isArray(t))return EA(t)}function EA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var X0=1e-4,vG=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},xG=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},DD=function(e,n){return function(r){var i=vG(e,n);return xG(i,r)}},rze=function(e,n){return function(r){var i=vG(e,n),a=[].concat(QBe(i.map(function(s,o){return s*o}).slice(1)),[0]);return xG(a,r)}},FD=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=YBe(c,4);i=d[0],a=d[1],s=d[2],o=d[3]}}}var f=DD(i,s),h=DD(a,o),p=rze(i,s),m=function(y){return y>1?1:y<0?0:y},g=function(y){for(var b=y>1?1:y,x=b,w=0;w<8;++w){var S=f(x)-b,E=p(x);if(Math.abs(S-b)<X0||E<X0)return h(x);x=m(x-S/E)}return h(x)};return g.isStepper=!1,g},ize=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(d,f,h){var p=-(d-f)*r,m=h*a,g=h+(p-m)*o/1e3,v=h*o/1e3+d;return Math.abs(v-f)<X0&&Math.abs(g)<X0?[f,0]:[v,g]};return l.isStepper=!0,l.dt=o,l},aze=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return FD(i);case"spring":return ize();default:if(i.split("(")[0]==="cubic-bezier")return FD(i)}return typeof i=="function"?i:null};function Sm(t){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sm(t)}function BD(t){return lze(t)||oze(t)||bG(t)||sze()}function sze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lze(t){if(Array.isArray(t))return AA(t)}function zD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(n),!0).forEach(function(r){jA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jA(t,e,n){return e=cze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cze(t){var e=uze(t,"string");return Sm(e)==="symbol"?e:String(e)}function uze(t,e){if(Sm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dze(t,e){return pze(t)||hze(t,e)||bG(t,e)||fze()}function fze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bG(t,e){if(t){if(typeof t=="string")return AA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AA(t,e)}}function AA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hze(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function pze(t){if(Array.isArray(t))return t}var Z0=function(e,n,r){return e+(n-e)*r},CA=function(e){var n=e.from,r=e.to;return n!==r},mze=function t(e,n,r){var i=up(function(a,s){if(CA(s)){var o=e(s.from,s.to,s.velocity),l=dze(o,2),c=l[0],d=l[1];return Ln(Ln({},s),{},{from:c,velocity:d})}return s},n);return r<1?up(function(a,s){return CA(s)?Ln(Ln({},s),{},{velocity:Z0(s.velocity,i[a].velocity,r),from:Z0(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const gze=function(t,e,n,r,i){var a=qBe(t,e),s=a.reduce(function(v,y){return Ln(Ln({},v),{},jA({},y,[t[y],e[y]]))},{}),o=a.reduce(function(v,y){return Ln(Ln({},v),{},jA({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,c,d,f=function(){return null},h=function(){return up(function(y,b){return b.from},o)},p=function(){return!Object.values(o).filter(CA).length},m=function(y){c||(c=y);var b=y-c,x=b/n.dt;o=mze(n,o,x),i(Ln(Ln(Ln({},t),e),h())),c=y,p()||(l=requestAnimationFrame(f))},g=function(y){d||(d=y);var b=(y-d)/r,x=up(function(S,E){return Z0.apply(void 0,BD(E).concat([n(b)]))},s);if(i(Ln(Ln(Ln({},t),e),x)),b<1)l=requestAnimationFrame(f);else{var w=up(function(S,E){return Z0.apply(void 0,BD(E).concat([n(1)]))},s);i(Ln(Ln(Ln({},t),e),w))}};return f=n.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}var yze=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function vze(t,e){if(t==null)return{};var n=xze(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xze(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function W1(t){return Sze(t)||_ze(t)||wze(t)||bze()}function bze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wze(t,e){if(t){if(typeof t=="string")return TA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TA(t,e)}}function _ze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sze(t){if(Array.isArray(t))return TA(t)}function TA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UD(Object(n),!0).forEach(function(r){Lh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lh(t,e,n){return e=wG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wG(r.key),r)}}function Aze(t,e,n){return e&&jze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wG(t){var e=Cze(t,"string");return ef(e)==="symbol"?e:String(e)}function Cze(t,e){if(ef(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ef(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kA(t,e)}function kA(t,e){return kA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kA(t,e)}function kze(t){var e=Oze();return function(){var r=J0(t),i;if(e){var a=J0(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return OA(this,i)}}function OA(t,e){if(e&&(ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NA(t)}function NA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oze(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function J0(t){return J0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J0(t)}var hs=function(t){Tze(n,t);var e=kze(n);function n(r,i){var a;Eze(this,n),a=e.call(this,r,i);var s=a.props,o=s.isActive,l=s.attributeName,c=s.from,d=s.to,f=s.steps,h=s.children,p=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(NA(a)),a.changeStyle=a.changeStyle.bind(NA(a)),!o||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),OA(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof h=="function")return a.state={style:c},OA(a);a.state={style:l?Lh({},l,c):c}}else a.state={style:{}};return a}return Aze(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(o){if(!s){var p={style:l?Lh({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(MBe(i.to,d)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||c?f:i.to;if(this.state&&h){var v={style:l?Lh({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(v)}this.runAnimation(Ki(Ki({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,c=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=gze(s,o,aze(c),l,this.changeStyle),m=function(){a.stopJSAnimation=p()};this.manager.start([h,d,m,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,c=s[0],d=c.style,f=c.duration,h=f===void 0?0:f,p=function(g,v,y){if(y===0)return g;var b=v.duration,x=v.easing,w=x===void 0?"ease":x,S=v.style,E=v.properties,A=v.onAnimationEnd,j=y>0?s[y-1]:v,C=E||Object.keys(S);if(typeof w=="function"||w==="spring")return[].concat(W1(g),[a.runJSAnimation.bind(a,{from:j.style,to:S,duration:b,easing:w}),b]);var T=LD(C,b,w),k=Ki(Ki(Ki({},j.style),S),{},{transition:T});return[].concat(W1(g),[k,b,A]).filter(GBe)};return this.manager.start([l].concat(W1(s.reduce(p,[d,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=HBe());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=o?Lh({},o,l):l,v=LD(Object.keys(g),s,c);m.start([d,a,Ki(Ki({},g),{},{transition:v}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=vze(i,yze),c=_.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!o||c===0||s<=0)return a;var f=function(p){var m=p.props,g=m.style,v=g===void 0?{}:g,y=m.className,b=_.cloneElement(p,Ki(Ki({},l),{},{style:Ki(Ki({},v),d),className:y}));return b};return c===1?f(_.Children.only(a)):F.createElement("div",null,_.Children.map(a,function(h){return f(h)}))}}]),n}(_.PureComponent);hs.displayName="Animate";hs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};hs.propTypes={from:tt.oneOfType([tt.object,tt.string]),to:tt.oneOfType([tt.object,tt.string]),attributeName:tt.string,duration:tt.number,begin:tt.number,easing:tt.oneOfType([tt.string,tt.func]),steps:tt.arrayOf(tt.shape({duration:tt.number.isRequired,style:tt.object.isRequired,easing:tt.oneOfType([tt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),tt.func]),properties:tt.arrayOf("string"),onAnimationEnd:tt.func})),children:tt.oneOfType([tt.node,tt.func]),isActive:tt.bool,canBegin:tt.bool,onAnimationEnd:tt.func,shouldReAnimate:tt.bool,onAnimationStart:tt.func,onAnimationReStart:tt.func};tt.object,tt.object,tt.object,tt.element;tt.object,tt.object,tt.object,tt.oneOfType([tt.array,tt.element]),tt.any;function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}function Q0(){return Q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q0.apply(this,arguments)}function Nze(t,e){return Rze(t)||$ze(t,e)||Ize(t,e)||Pze()}function Pze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ize(t,e){if(t){if(typeof t=="string")return HD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HD(t,e)}}function HD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $ze(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Rze(t){if(Array.isArray(t))return t}function VD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VD(Object(n),!0).forEach(function(r){Mze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mze(t,e,n){return e=Lze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lze(t){var e=Dze(t,"string");return Em(e)=="symbol"?e:e+""}function Dze(t,e){if(Em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qD=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,d;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>s?s:a[h];d="M".concat(e,",").concat(n+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+o*f[1])),d+="L ".concat(e+r,",").concat(n+i-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),d+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-o*f[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var m=Math.min(s,a);d="M ".concat(e,",").concat(n+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(n+o*m,`
            L `).concat(e+r,",").concat(n+i-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(n+i-o*m," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},Fze=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(a,a+o),d=Math.max(a,a+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return r>=c&&r<=d&&i>=f&&i<=h}return!1},Bze={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vN=function(e){var n=WD(WD({},Bze),e),r=_.useRef(),i=_.useState(-1),a=Nze(i,2),s=a[0],o=a[1];_.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&o(w)}catch{}},[]);var l=n.x,c=n.y,d=n.width,f=n.height,h=n.radius,p=n.className,m=n.animationEasing,g=n.animationDuration,v=n.animationBegin,y=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var x=Je("recharts-rectangle",p);return b?F.createElement(hs,{canBegin:s>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:g,animationEasing:m,isActive:b},function(w){var S=w.width,E=w.height,A=w.x,j=w.y;return F.createElement(hs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:y,easing:m},F.createElement("path",Q0({},De(n,!0),{className:x,d:qD(A,j,S,E,h),ref:r})))}):F.createElement("path",Q0({},De(n,!0),{className:x,d:qD(l,c,d,f,h)}))},zze=["points","className","baseLinePoints","connectNulls"];function Wu(){return Wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wu.apply(this,arguments)}function Uze(t,e){if(t==null)return{};var n=Hze(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hze(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GD(t){return Gze(t)||qze(t)||Wze(t)||Vze()}function Vze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wze(t,e){if(t){if(typeof t=="string")return PA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PA(t,e)}}function qze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gze(t){if(Array.isArray(t))return PA(t)}function PA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var KD=function(e){return e&&e.x===+e.x&&e.y===+e.y},Kze=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){KD(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),KD(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},dp=function(e,n){var r=Kze(e);n&&(r=[r.reduce(function(a,s){return[].concat(GD(a),GD(s))},[])]);var i=r.map(function(a){return a.reduce(function(s,o,l){return"".concat(s).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Yze=function(e,n,r){var i=dp(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(dp(n.reverse(),r).slice(1))},Xze=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,s=Uze(e,zze);if(!n||!n.length)return null;var o=Je("recharts-polygon",r);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",c=Yze(n,i,a);return F.createElement("g",{className:o},F.createElement("path",Wu({},De(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),l?F.createElement("path",Wu({},De(s,!0),{fill:"none",d:dp(n,a)})):null,l?F.createElement("path",Wu({},De(s,!0),{fill:"none",d:dp(i,a)})):null)}var d=dp(n,a);return F.createElement("path",Wu({},De(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:o,d}))};function IA(){return IA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IA.apply(this,arguments)}var Sw=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=Je("recharts-dot",a);return n===+n&&r===+r&&i===+i?F.createElement("circle",IA({},De(e,!1),x0(e),{className:s,cx:n,cy:r,r:i})):null};function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(t)}var Zze=["x","y","top","left","width","height","className"];function $A(){return $A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$A.apply(this,arguments)}function YD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YD(Object(n),!0).forEach(function(r){Qze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qze(t,e,n){return e=eUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eUe(t){var e=tUe(t,"string");return jm(e)=="symbol"?e:e+""}function tUe(t,e){if(jm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nUe(t,e){if(t==null)return{};var n=rUe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var iUe=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},aUe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,c=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,p=h===void 0?0:h,m=e.className,g=nUe(e,Zze),v=Jze({x:r,y:a,top:o,left:c,width:f,height:p},g);return!pe(r)||!pe(a)||!pe(f)||!pe(p)||!pe(o)||!pe(c)?null:F.createElement("path",$A({},De(v,!0),{className:Je("recharts-cross",m),d:iUe(r,a,f,p,o,c)}))},sUe=vw,oUe=Pq,lUe=ys;function cUe(t,e){return t&&t.length?sUe(t,lUe(e),oUe):void 0}var uUe=cUe;const dUe=at(uUe);var fUe=vw,hUe=ys,pUe=Iq;function mUe(t,e){return t&&t.length?fUe(t,hUe(e),pUe):void 0}var gUe=mUe;const yUe=at(gUe);var vUe=["cx","cy","angle","ticks","axisLine"],xUe=["ticks","tick","angle","tickFormatter","stroke"];function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function fp(){return fp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fp.apply(this,arguments)}function XD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XD(Object(n),!0).forEach(function(r){Ew(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZD(t,e){if(t==null)return{};var n=bUe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SG(r.key),r)}}function _Ue(t,e,n){return e&&JD(t.prototype,e),n&&JD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function SUe(t,e,n){return e=ex(e),EUe(t,_G()?Reflect.construct(e,n||[],ex(t).constructor):e.apply(t,n))}function EUe(t,e){if(e&&(tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jUe(t)}function jUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _G(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_G=function(){return!!t})()}function ex(t){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ex(t)}function AUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RA(t,e)}function RA(t,e){return RA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RA(t,e)}function Ew(t,e,n){return e=SG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SG(t){var e=CUe(t,"string");return tf(e)=="symbol"?e:e+""}function CUe(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jw=function(t){function e(){return wUe(this,e),SUe(this,e,arguments)}return AUe(e,t),_Ue(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,s=a.angle,o=a.cx,l=a.cy;return Rt(o,l,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,o=r.ticks,l=dUe(o,function(d){return d.coordinate||0}),c=yUe(o,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,o=r.ticks,l=r.axisLine,c=ZD(r,vUe),d=o.reduce(function(m,g){return[Math.min(m[0],g.coordinate),Math.max(m[1],g.coordinate)]},[1/0,-1/0]),f=Rt(i,a,d[0],s),h=Rt(i,a,d[1],s),p=Wl(Wl(Wl({},De(c,!1)),{},{fill:"none"},De(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return F.createElement("line",fp({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,o=i.angle,l=i.tickFormatter,c=i.stroke,d=ZD(i,xUe),f=this.getTickTextAnchor(),h=De(d,!1),p=De(s,!1),m=a.map(function(g,v){var y=r.getTickValueCoord(g),b=Wl(Wl(Wl(Wl({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:c},p),{},{index:v},y),{},{payload:g});return F.createElement(pt,fp({className:Je("recharts-polar-radius-axis-tick",oG(s)),key:"tick-".concat(g.coordinate)},Fc(r.props,g,v)),e.renderTickItem(s,b,l?l(g.value,v):g.value))});return F.createElement(pt,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,s=r.tick;return!i||!i.length?null:F.createElement(pt,{className:Je("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),In.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return F.isValidElement(r)?s=F.cloneElement(r,i):qe(r)?s=r(i):s=F.createElement(Bc,fp({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(_.PureComponent);Ew(jw,"displayName","PolarRadiusAxis");Ew(jw,"axisType","radiusAxis");Ew(jw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function ic(){return ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ic.apply(this,arguments)}function QD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ql(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QD(Object(n),!0).forEach(function(r){Aw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jG(r.key),r)}}function kUe(t,e,n){return e&&e4(t.prototype,e),n&&e4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function OUe(t,e,n){return e=tx(e),NUe(t,EG()?Reflect.construct(e,n||[],tx(t).constructor):e.apply(t,n))}function NUe(t,e){if(e&&(nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PUe(t)}function PUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EG=function(){return!!t})()}function tx(t){return tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tx(t)}function IUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MA(t,e)}function MA(t,e){return MA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},MA(t,e)}function Aw(t,e,n){return e=jG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jG(t){var e=$Ue(t,"string");return nf(e)=="symbol"?e:e+""}function $Ue(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RUe=Math.PI/180,t4=1e-5,Cw=function(t){function e(){return TUe(this,e),OUe(this,e,arguments)}return IUe(e,t),kUe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,s=i.cy,o=i.radius,l=i.orientation,c=i.tickSize,d=c||8,f=Rt(a,s,o,r.coordinate),h=Rt(a,s,o+(l==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*RUe),s;return a>t4?s=i==="outer"?"start":"end":a<-t4?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.radius,o=r.axisLine,l=r.axisLineType,c=ql(ql({},De(this.props,!1)),{},{fill:"none"},De(o,!1));if(l==="circle")return F.createElement(Sw,ic({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:a,r:s}));var d=this.props.ticks,f=d.map(function(h){return Rt(i,a,s,h.coordinate)});return F.createElement(Xze,ic({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,o=i.tickLine,l=i.tickFormatter,c=i.stroke,d=De(this.props,!1),f=De(s,!1),h=ql(ql({},d),{},{fill:"none"},De(o,!1)),p=a.map(function(m,g){var v=r.getTickLineCoord(m),y=r.getTickTextAnchor(m),b=ql(ql(ql({textAnchor:y},d),{},{stroke:"none",fill:c},f),{},{index:g,payload:m,x:v.x2,y:v.y2});return F.createElement(pt,ic({className:Je("recharts-polar-angle-axis-tick",oG(s)),key:"tick-".concat(m.coordinate)},Fc(r.props,m,g)),o&&F.createElement("line",ic({className:"recharts-polar-angle-axis-tick-line"},h,v)),s&&e.renderTickItem(s,b,l?l(m.value,g):m.value))});return F.createElement(pt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,s=r.axisLine;return a<=0||!i||!i.length?null:F.createElement(pt,{className:Je("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var s;return F.isValidElement(r)?s=F.cloneElement(r,i):qe(r)?s=r(i):s=F.createElement(Bc,ic({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(_.PureComponent);Aw(Cw,"displayName","PolarAngleAxis");Aw(Cw,"axisType","angleAxis");Aw(Cw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var MUe=TW,LUe=MUe(Object.getPrototypeOf,Object),DUe=LUe,FUe=uo,BUe=DUe,zUe=fo,UUe="[object Object]",HUe=Function.prototype,VUe=Object.prototype,AG=HUe.toString,WUe=VUe.hasOwnProperty,qUe=AG.call(Object);function GUe(t){if(!zUe(t)||FUe(t)!=UUe)return!1;var e=BUe(t);if(e===null)return!0;var n=WUe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&AG.call(n)==qUe}var KUe=GUe;const YUe=at(KUe);var XUe=uo,ZUe=fo,JUe="[object Boolean]";function QUe(t){return t===!0||t===!1||ZUe(t)&&XUe(t)==JUe}var e6e=QUe;const t6e=at(e6e);function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function nx(){return nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nx.apply(this,arguments)}function n6e(t,e){return s6e(t)||a6e(t,e)||i6e(t,e)||r6e()}function r6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i6e(t,e){if(t){if(typeof t=="string")return n4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n4(t,e)}}function n4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a6e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function s6e(t){if(Array.isArray(t))return t}function r4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r4(Object(n),!0).forEach(function(r){o6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o6e(t,e,n){return e=l6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l6e(t){var e=c6e(t,"string");return Am(e)=="symbol"?e:e+""}function c6e(t,e){if(Am(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a4=function(e,n,r,i,a){var s=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-s/2,",").concat(n+a),o+="L ".concat(e+r-s/2-i,",").concat(n+a),o+="L ".concat(e,",").concat(n," Z"),o},u6e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},d6e=function(e){var n=i4(i4({},u6e),e),r=_.useRef(),i=_.useState(-1),a=n6e(i,2),s=a[0],o=a[1];_.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&o(x)}catch{}},[]);var l=n.x,c=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,m=n.animationEasing,g=n.animationDuration,v=n.animationBegin,y=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=Je("recharts-trapezoid",p);return y?F.createElement(hs,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:c},duration:g,animationEasing:m,isActive:y},function(x){var w=x.upperWidth,S=x.lowerWidth,E=x.height,A=x.x,j=x.y;return F.createElement(hs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:m},F.createElement("path",nx({},De(n,!0),{className:b,d:a4(A,j,w,S,E),ref:r})))}):F.createElement("g",null,F.createElement("path",nx({},De(n,!0),{className:b,d:a4(l,c,d,f,h)})))},f6e=["option","shapeType","propTransformer","activeClassName","isActive"];function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}function h6e(t,e){if(t==null)return{};var n=p6e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function s4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s4(Object(n),!0).forEach(function(r){m6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m6e(t,e,n){return e=g6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g6e(t){var e=y6e(t,"string");return Cm(e)=="symbol"?e:e+""}function y6e(t,e){if(Cm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function v6e(t,e){return rx(rx({},e),t)}function x6e(t,e){return t==="symbols"}function o4(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return F.createElement(vN,n);case"trapezoid":return F.createElement(d6e,n);case"sector":return F.createElement(uG,n);case"symbols":if(x6e(e))return F.createElement(LO,n);break;default:return null}}function b6e(t){return _.isValidElement(t)?t.props:t}function CG(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?v6e:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=h6e(t,f6e),c;if(_.isValidElement(e))c=_.cloneElement(e,rx(rx({},l),b6e(e)));else if(qe(e))c=e(l);else if(YUe(e)&&!t6e(e)){var d=i(e,l);c=F.createElement(o4,{shapeType:n,elementProps:d})}else{var f=l;c=F.createElement(o4,{shapeType:n,elementProps:f})}return o?F.createElement(pt,{className:s},c):c}function Tw(t,e){return e!=null&&"trapezoids"in t.props}function kw(t,e){return e!=null&&"sectors"in t.props}function Tm(t,e){return e!=null&&"points"in t.props}function w6e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function _6e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function S6e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function E6e(t,e){var n;return Tw(t,e)?n=w6e:kw(t,e)?n=_6e:Tm(t,e)&&(n=S6e),n}function j6e(t,e){var n;return Tw(t,e)?n="trapezoids":kw(t,e)?n="sectors":Tm(t,e)&&(n="points"),n}function A6e(t,e){if(Tw(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(kw(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Tm(t,e)?e.payload:{}}function C6e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=j6e(n,e),a=A6e(n,e),s=r.filter(function(l,c){var d=Eg(a,l),f=n.props[i].filter(function(m){var g=E6e(n,e);return g(m,e)}),h=n.props[i].indexOf(f[f.length-1]),p=c===h;return d&&p}),o=r.indexOf(s[s.length-1]);return o}var cv;function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function qu(){return qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qu.apply(this,arguments)}function l4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l4(Object(n),!0).forEach(function(r){ji(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kG(r.key),r)}}function k6e(t,e,n){return e&&c4(t.prototype,e),n&&c4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function O6e(t,e,n){return e=ix(e),N6e(t,TG()?Reflect.construct(e,n||[],ix(t).constructor):e.apply(t,n))}function N6e(t,e){if(e&&(rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P6e(t)}function P6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TG=function(){return!!t})()}function ix(t){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ix(t)}function I6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LA(t,e)}function LA(t,e){return LA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LA(t,e)}function ji(t,e,n){return e=kG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kG(t){var e=$6e(t,"string");return rf(e)=="symbol"?e:e+""}function $6e(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vs=function(t){function e(n){var r;return T6e(this,e),r=O6e(this,e,[n]),ji(r,"pieRef",null),ji(r,"sectorRefs",[]),ji(r,"id",Uf("recharts-pie-")),ji(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),qe(i)&&i()}),ji(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),qe(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return I6e(e,t),k6e(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,o=a.labelLine,l=a.dataKey,c=a.valueKey,d=De(this.props,!1),f=De(s,!1),h=De(o,!1),p=s&&s.offsetRadius||20,m=r.map(function(g,v){var y=(g.startAngle+g.endAngle)/2,b=Rt(g.cx,g.cy,g.outerRadius+p,y),x=Nt(Nt(Nt(Nt({},d),g),{},{stroke:"none"},f),{},{index:v,textAnchor:e.getTextAnchor(b.x,g.cx)},b),w=Nt(Nt(Nt(Nt({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:v,points:[Rt(g.cx,g.cy,g.outerRadius,y),b]}),S=l;return Xe(l)&&Xe(c)?S="value":Xe(l)&&(S=c),F.createElement(pt,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},o&&e.renderLabelLineItem(o,w,"line"),e.renderLabelItem(s,x,_n(g,S)))});return F.createElement(pt,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,s=a.activeShape,o=a.blendStroke,l=a.inactiveShape;return r.map(function(c,d){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(d),h=l&&i.hasActiveIndex()?l:null,p=f?s:h,m=Nt(Nt({},c),{},{stroke:o?c.fill:c.stroke,tabIndex:-1});return F.createElement(pt,qu({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Fc(i.props,c,d),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(d)}),F.createElement(CG,qu({option:p,isActive:f,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,s=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,c=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return F.createElement(hs,{begin:o,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var g=m.t,v=[],y=a&&a[0],b=y.startAngle;return a.forEach(function(x,w){var S=h&&h[w],E=w>0?oi(x,"paddingAngle",0):0;if(S){var A=Gr(S.endAngle-S.startAngle,x.endAngle-x.startAngle),j=Nt(Nt({},x),{},{startAngle:b+E,endAngle:b+A(g)+E});v.push(j),b=j.endAngle}else{var C=x.endAngle,T=x.startAngle,k=Gr(0,C-T),N=k(g),H=Nt(Nt({},x),{},{startAngle:b+E,endAngle:b+N+E});v.push(H),b=H.endAngle}}),F.createElement(pt,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!Eg(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,s=i.sectors,o=i.className,l=i.label,c=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,m=this.state.isAnimationFinished;if(a||!s||!s.length||!pe(c)||!pe(d)||!pe(f)||!pe(h))return null;var g=Je("recharts-pie",o);return F.createElement(pt,{tabIndex:this.props.rootTabIndex,className:g,ref:function(y){r.pieRef=y}},this.renderSectors(),l&&this.renderLabels(s),In.renderCallByParent(this.props,null,!1),(!p||m)&&Ws.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(F.isValidElement(r))return F.cloneElement(r,i);if(qe(r))return r(i);var s=Je("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return F.createElement(Y0,qu({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,a){if(F.isValidElement(r))return F.cloneElement(r,i);var s=a;if(qe(r)&&(s=r(i),F.isValidElement(s)))return s;var o=Je("recharts-pie-label-text",typeof r!="boolean"&&!qe(r)?r.className:"");return F.createElement(Bc,qu({},i,{alignmentBaseline:"middle",className:o}),s)}}])}(_.PureComponent);cv=vs;ji(vs,"displayName","Pie");ji(vs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ns.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ji(vs,"parseDeltaAngle",function(t,e){var n=dr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});ji(vs,"getRealPieData",function(t){var e=t.data,n=t.children,r=De(t,!1),i=li(n,xg);return e&&e.length?e.map(function(a,s){return Nt(Nt(Nt({payload:a},r),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return Nt(Nt({},r),a.props)}):[]});ji(vs,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,s=sG(i,a),o=r+fr(t.cx,i,i/2),l=n+fr(t.cy,a,a/2),c=fr(t.innerRadius,s,0),d=fr(t.outerRadius,s,s*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:o,cy:l,innerRadius:c,outerRadius:d,maxRadius:f}});ji(vs,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Nt(Nt({},e.type.defaultProps),e.props):e.props,i=cv.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,s=r.startAngle,o=r.endAngle,l=r.paddingAngle,c=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,p=Math.abs(r.minAngle),m=cv.parseCoordinateOfPie(r,n),g=cv.parseDeltaAngle(s,o),v=Math.abs(g),y=c;Xe(c)&&Xe(f)?(ga(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Xe(c)&&(ga(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var b=i.filter(function(j){return _n(j,y,0)!==0}).length,x=(v>=360?b:b-1)*l,w=v-b*p-x,S=i.reduce(function(j,C){var T=_n(C,y,0);return j+(pe(T)?T:0)},0),E;if(S>0){var A;E=i.map(function(j,C){var T=_n(j,y,0),k=_n(j,d,C),N=(pe(T)?T:0)/S,H;C?H=A.endAngle+dr(g)*l*(T!==0?1:0):H=s;var R=H+dr(g)*((T!==0?p:0)+N*w),D=(H+R)/2,z=(m.innerRadius+m.outerRadius)/2,V=[{name:k,value:T,payload:j,dataKey:y,type:h}],M=Rt(m.cx,m.cy,z,D);return A=Nt(Nt(Nt({percent:N,cornerRadius:a,name:k,tooltipPayload:V,midAngle:D,middleRadius:z,tooltipPosition:M},j),m),{},{value:_n(j,y),startAngle:H,endAngle:R,payload:j,paddingAngle:dr(g)*l}),A})}return Nt(Nt({},m),{},{sectors:E,data:i})});var R6e=Math.ceil,M6e=Math.max;function L6e(t,e,n,r){for(var i=-1,a=M6e(R6e((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var D6e=L6e,F6e=GW,u4=1/0,B6e=17976931348623157e292;function z6e(t){if(!t)return t===0?t:0;if(t=F6e(t),t===u4||t===-u4){var e=t<0?-1:1;return e*B6e}return t===t?t:0}var OG=z6e,U6e=D6e,H6e=dw,q1=OG;function V6e(t){return function(e,n,r){return r&&typeof r!="number"&&H6e(e,n,r)&&(n=r=void 0),e=q1(e),n===void 0?(n=e,e=0):n=q1(n),r=r===void 0?e<n?1:-1:q1(r),U6e(e,n,r,t)}}var W6e=V6e,q6e=W6e,G6e=q6e(),K6e=G6e;const ax=at(K6e);function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}function d4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function f4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d4(Object(n),!0).forEach(function(r){NG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NG(t,e,n){return e=Y6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y6e(t){var e=X6e(t,"string");return km(e)=="symbol"?e:e+""}function X6e(t,e){if(km(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Z6e=["Webkit","Moz","O","ms"],J6e=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Z6e.reduce(function(a,s){return f4(f4({},a),{},NG({},s+r,n))},{});return i[e]=n,i};function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function sx(){return sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sx.apply(this,arguments)}function h4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h4(Object(n),!0).forEach(function(r){zr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IG(r.key),r)}}function e8e(t,e,n){return e&&p4(t.prototype,e),n&&p4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function t8e(t,e,n){return e=ox(e),n8e(t,PG()?Reflect.construct(e,n||[],ox(t).constructor):e.apply(t,n))}function n8e(t,e){if(e&&(af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r8e(t)}function r8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PG=function(){return!!t})()}function ox(t){return ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ox(t)}function i8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DA(t,e)}function DA(t,e){return DA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DA(t,e)}function zr(t,e,n){return e=IG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IG(t){var e=a8e(t,"string");return af(e)=="symbol"?e:e+""}function a8e(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s8e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=lp().domain(ax(0,l)).range([a,a+s-o]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:d}},m4=function(e){return e.changedTouches&&!!e.changedTouches.length},sf=function(t){function e(n){var r;return Q6e(this,e),r=t8e(this,e,[n]),zr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),zr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),zr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),r.detachDragEndListener()}),zr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),zr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),zr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),zr(r,"handleSlideDragStart",function(i){var a=m4(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return i8e(e,t),e8e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,d=c.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(s,f),m=e.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:m===d?d:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=_n(a[r],o,r);return qe(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,g=r.pageX-a;g>0?g=Math.min(g,c+d-f-o,c+d-f-s):g<0&&(g=Math.max(g,c-s,c-o));var v=this.getIndex({startX:s+g,endX:o+g});(v.startIndex!==h||v.endIndex!==p)&&m&&m(v),this.setState({startX:s+g,endX:o+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=m4(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[s],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,g=d.gap,v=d.data,y={startX:this.state.startX,endX:this.state.endX},b=r.pageX-a;b>0?b=Math.min(b,f+h-p-c):b<0&&(b=Math.max(b,f-c)),y[s]=c+b;var x=this.getIndex(y),w=x.startIndex,S=x.endIndex,E=function(){var j=v.length-1;return s==="startX"&&(o>l?w%g===0:S%g===0)||o<l&&S===j||s==="endX"&&(o>l?S%g===0:w%g===0)||o>l&&S===j};this.setState(zr(zr({},s,c+b),"brushMoveStartX",r.pageX),function(){m&&E()&&m(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,d=this.state[i],f=o.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(zr({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.fill,c=r.stroke;return F.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.data,c=r.children,d=r.padding,f=_.Children.only(c);return f?F.cloneElement(f,{x:i,y:a,width:s,height:o,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,o=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,v=l.endIndex,y=Math.max(r,this.props.x),b=G1(G1({},De(this.props,!1)),{},{x:y,y:c,width:d,height:f}),x=p||"Min value: ".concat((a=m[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=m[v])===null||s===void 0?void 0:s.name);return F.createElement(pt,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),o.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,c=a.travellerWidth,d=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return F.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:s,width:f,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:c};return F.createElement(pt,{className:"recharts-brush-texts"},F.createElement(Bc,sx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+o/2},m),this.getTextOfTick(i)),F.createElement(Bc,sx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:s+o/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,o=r.x,l=r.y,c=r.width,d=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,m=h.endX,g=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!pe(o)||!pe(l)||!pe(c)||!pe(d)||c<=0||d<=0)return null;var x=Je("recharts-brush",a),w=F.Children.count(s)===1,S=J6e("userSelect","none");return F.createElement(pt,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||v||y||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,o=r.height,l=r.stroke,c=Math.floor(a+o/2)-1;return F.createElement(F.Fragment,null,F.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),F.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),F.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return F.isValidElement(r)?a=F.cloneElement(r,i):qe(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,d=r.startIndex,f=r.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return G1({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},a&&a.length?s8e({data:a,width:s,x:o,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);r[l]>i?o=l:s=l}return i>=r[o]?o:s}}])}(_.PureComponent);zr(sf,"displayName","Brush");zr(sf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var o8e=VO;function l8e(t,e){var n;return o8e(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var c8e=l8e,u8e=bW,d8e=ys,f8e=c8e,h8e=Lr,p8e=dw;function m8e(t,e,n){var r=h8e(t)?u8e:f8e;return n&&p8e(t,e,n)&&(e=void 0),r(t,d8e(e))}var g8e=m8e;const y8e=at(g8e);var is=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},g4=UW;function v8e(t,e,n){e=="__proto__"&&g4?g4(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var x8e=v8e,b8e=x8e,w8e=BW,_8e=ys;function S8e(t,e){var n={};return e=_8e(e),w8e(t,function(r,i,a){b8e(n,i,e(r,i,a))}),n}var E8e=S8e;const j8e=at(E8e);function A8e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var C8e=A8e,T8e=VO;function k8e(t,e){var n=!0;return T8e(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var O8e=k8e,N8e=C8e,P8e=O8e,I8e=ys,$8e=Lr,R8e=dw;function M8e(t,e,n){var r=$8e(t)?N8e:P8e;return n&&R8e(t,e,n)&&(e=void 0),r(t,I8e(e))}var L8e=M8e;const $G=at(L8e);var D8e=["x","y"];function Om(t){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}function FA(){return FA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FA.apply(this,arguments)}function y4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y4(Object(n),!0).forEach(function(r){F8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F8e(t,e,n){return e=B8e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B8e(t){var e=z8e(t,"string");return Om(e)=="symbol"?e:e+""}function z8e(t,e){if(Om(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Om(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function U8e(t,e){if(t==null)return{};var n=H8e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function H8e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function V8e(t,e){var n=t.x,r=t.y,i=U8e(t,D8e),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),d=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Sh(Sh(Sh(Sh(Sh({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function v4(t){return F.createElement(CG,FA({shapeType:"rectangle",propTransformer:V8e,activeClassName:"recharts-active-bar"},t))}var W8e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,i):(a||Uc(),n)}},q8e=["value","background"],RG;function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function G8e(t,e){if(t==null)return{};var n=K8e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function K8e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lx(){return lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lx.apply(this,arguments)}function x4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x4(Object(n),!0).forEach(function(r){Vo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LG(r.key),r)}}function X8e(t,e,n){return e&&b4(t.prototype,e),n&&b4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z8e(t,e,n){return e=cx(e),J8e(t,MG()?Reflect.construct(e,n||[],cx(t).constructor):e.apply(t,n))}function J8e(t,e){if(e&&(of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q8e(t)}function Q8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MG=function(){return!!t})()}function cx(t){return cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cx(t)}function e9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BA(t,e)}function BA(t,e){return BA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BA(t,e)}function Vo(t,e,n){return e=LG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LG(t){var e=t9e(t,"string");return of(e)=="symbol"?e:e+""}function t9e(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ii=function(t){function e(){var n;Y8e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Z8e(this,e,[].concat(i)),Vo(n,"state",{isAnimationFinished:!1}),Vo(n,"id",Uf("recharts-bar-")),Vo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Vo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return e9e(e,t),X8e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,c=a.activeBar,d=De(this.props,!1);return r&&r.map(function(f,h){var p=h===l,m=p?c:s,g=mn(mn(mn({},d),f),{},{isActive:p,option:m,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return F.createElement(pt,lx({className:"recharts-bar-rectangle"},Fc(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),F.createElement(v4,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return F.createElement(hs,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=a.map(function(v,y){var b=h&&h[y];if(b){var x=Gr(b.x,v.x),w=Gr(b.y,v.y),S=Gr(b.width,v.width),E=Gr(b.height,v.height);return mn(mn({},v),{},{x:x(m),y:w(m),width:S(m),height:E(m)})}if(s==="horizontal"){var A=Gr(0,v.height),j=A(m);return mn(mn({},v),{},{y:v.y+v.height-j,height:j})}var C=Gr(0,v.width),T=C(m);return mn(mn({},v),{},{width:T})});return F.createElement(pt,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Eg(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=De(this.props.background,!1);return a.map(function(c,d){c.value;var f=c.background,h=G8e(c,q8e);if(!f)return null;var p=mn(mn(mn(mn(mn({},h),{},{fill:"#eee"},f),l),Fc(r.props,c,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return F.createElement(v4,lx({key:"background-bar-".concat(d),option:r.props.background,isActive:d===o},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,c=a.layout,d=a.children,f=li(d,jg);if(!f)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(v,y){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:_n(v,y)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return F.createElement(pt,m,f.map(function(g){return F.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,o=r.xAxis,l=r.yAxis,c=r.left,d=r.top,f=r.width,h=r.height,p=r.isAnimationActive,m=r.background,g=r.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,y=Je("recharts-bar",s),b=o&&o.allowDataOverflow,x=l&&l.allowDataOverflow,w=b||x,S=Xe(g)?this.id:g;return F.createElement(pt,{className:y},b||x?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(S)},F.createElement("rect",{x:b?c:c-f/2,y:x?d:d-h/2,width:b?f:f*2,height:x?h:h*2}))):null,F.createElement(pt,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(S,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,S),(!p||v)&&Ws.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(_.PureComponent);RG=Ii;Vo(Ii,"displayName","Bar");Vo(Ii,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ns.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Vo(Ii,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=W3e(r,n);if(!p)return null;var m=e.layout,g=n.type.defaultProps,v=g!==void 0?mn(mn({},g),n.props):n.props,y=v.dataKey,b=v.children,x=v.minPointSize,w=m==="horizontal"?s:a,S=c?w.scale.domain():null,E=J3e({numericAxis:w}),A=li(b,xg),j=f.map(function(C,T){var k,N,H,R,D,z;c?k=q3e(c[d+T],S):(k=_n(C,y),Array.isArray(k)||(k=[E,k]));var V=W8e(x,RG.defaultProps.minPointSize)(k[1],T);if(m==="horizontal"){var M,L=[s.scale(k[0]),s.scale(k[1])],P=L[0],W=L[1];N=cD({axis:a,ticks:o,bandSize:i,offset:p.offset,entry:C,index:T}),H=(M=W??P)!==null&&M!==void 0?M:void 0,R=p.size;var G=P-W;if(D=Number.isNaN(G)?0:G,z={x:N,y:s.y,width:R,height:s.height},Math.abs(V)>0&&Math.abs(D)<Math.abs(V)){var $=dr(D||V)*(Math.abs(V)-Math.abs(D));H-=$,D+=$}}else{var te=[a.scale(k[0]),a.scale(k[1])],ie=te[0],I=te[1];if(N=ie,H=cD({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:C,index:T}),R=I-ie,D=p.size,z={x:a.x,y:H,width:a.width,height:D},Math.abs(V)>0&&Math.abs(R)<Math.abs(V)){var O=dr(R||V)*(Math.abs(V)-Math.abs(R));R+=O}}return mn(mn(mn({},C),{},{x:N,y:H,width:R,height:D,value:c?k:k[1],payload:C,background:z},A&&A[T]&&A[T].props),{},{tooltipPayload:[iG(n,C)],tooltipPosition:{x:N+R/2,y:H+D/2}})});return mn({data:j,layout:m},h)});function Nm(t){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(t)}function n9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DG(r.key),r)}}function r9e(t,e,n){return e&&w4(t.prototype,e),n&&w4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ia(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_4(Object(n),!0).forEach(function(r){Ow(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ow(t,e,n){return e=DG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DG(t){var e=i9e(t,"string");return Nm(e)=="symbol"?e:e+""}function i9e(t,e){if(Nm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FG=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.layout,c=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},h=!!Wr(c,Ii);return d.reduce(function(p,m){var g=n[m],v=g.orientation,y=g.domain,b=g.padding,x=b===void 0?{}:b,w=g.mirror,S=g.reversed,E="".concat(v).concat(w?"Mirror":""),A,j,C,T,k;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var N=y[1]-y[0],H=1/0,R=g.categoricalDomain.sort();if(R.forEach(function(te,ie){ie>0&&(H=Math.min((te||0)-(R[ie-1]||0),H))}),Number.isFinite(H)){var D=H/N,z=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(A=D*z/2),g.padding==="no-gap"){var V=fr(e.barCategoryGap,D*z),M=D*z/2;A=M-V-(M-V)/z*V}}}i==="xAxis"?j=[r.left+(x.left||0)+(A||0),r.left+r.width-(x.right||0)-(A||0)]:i==="yAxis"?j=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(A||0),r.top+r.height-(x.bottom||0)-(A||0)]:j=g.range,S&&(j=[j[1],j[0]]);var L=eG(g,a,h),P=L.scale,W=L.realScaleType;P.domain(y).range(j),tG(P);var G=nG(P,ia(ia({},g),{},{realScaleType:W}));i==="xAxis"?(k=v==="top"&&!w||v==="bottom"&&w,C=r.left,T=f[E]-k*g.height):i==="yAxis"&&(k=v==="left"&&!w||v==="right"&&w,C=f[E]-k*g.width,T=r.top);var $=ia(ia(ia({},g),G),{},{realScaleType:W,x:C,y:T,scale:P,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return $.bandSize=q0($,G),!g.hide&&i==="xAxis"?f[E]+=(k?-1:1)*$.height:g.hide||(f[E]+=(k?-1:1)*$.width),ia(ia({},p),{},Ow({},m,$))},{})},BG=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},a9e=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return BG({x:n,y:r},{x:i,y:a})},zG=function(){function t(e){n9e(this,t),this.scale=e}return r9e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Ow(zG,"EPS",1e-4);var xN=function(e){var n=Object.keys(e).reduce(function(r,i){return ia(ia({},r),{},Ow({},i,zG.create(e[i])))},{});return ia(ia({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return j8e(i,function(l,c){return n[c].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return $G(i,function(a,s){return n[s].isInRange(a)})}})};function s9e(t){return(t%180+180)%180}var o9e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=s9e(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},l9e=ys,c9e=vg,u9e=cw;function d9e(t){return function(e,n,r){var i=Object(e);if(!c9e(e)){var a=l9e(n);e=u9e(e),n=function(o){return a(i[o],o,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:void 0}}var f9e=d9e,h9e=OG;function p9e(t){var e=h9e(t),n=e%1;return e===e?n?e-n:e:0}var m9e=p9e,g9e=$W,y9e=ys,v9e=m9e,x9e=Math.max;function b9e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:v9e(n);return i<0&&(i=x9e(r+i,0)),g9e(t,y9e(e),i)}var w9e=b9e,_9e=f9e,S9e=w9e,E9e=_9e(S9e),j9e=E9e;const A9e=at(j9e);var C9e=IAe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),bN=_.createContext(void 0),wN=_.createContext(void 0),UG=_.createContext(void 0),HG=_.createContext({}),VG=_.createContext(void 0),WG=_.createContext(0),qG=_.createContext(0),S4=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,d=C9e(a);return F.createElement(bN.Provider,{value:r},F.createElement(wN.Provider,{value:i},F.createElement(HG.Provider,{value:a},F.createElement(UG.Provider,{value:d},F.createElement(VG.Provider,{value:s},F.createElement(WG.Provider,{value:c},F.createElement(qG.Provider,{value:l},o)))))))},T9e=function(){return _.useContext(VG)},GG=function(e){var n=_.useContext(bN);n==null&&Uc();var r=n[e];return r==null&&Uc(),r},k9e=function(){var e=_.useContext(bN);return Po(e)},O9e=function(){var e=_.useContext(wN),n=A9e(e,function(r){return $G(r.domain,Number.isFinite)});return n||Po(e)},KG=function(e){var n=_.useContext(wN);n==null&&Uc();var r=n[e];return r==null&&Uc(),r},N9e=function(){var e=_.useContext(UG);return e},P9e=function(){return _.useContext(HG)},_N=function(){return _.useContext(qG)},SN=function(){return _.useContext(WG)};function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function I9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $9e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XG(r.key),r)}}function R9e(t,e,n){return e&&$9e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function M9e(t,e,n){return e=ux(e),L9e(t,YG()?Reflect.construct(e,n||[],ux(t).constructor):e.apply(t,n))}function L9e(t,e){if(e&&(lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D9e(t)}function D9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YG=function(){return!!t})()}function ux(t){return ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ux(t)}function F9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zA(t,e)}function zA(t,e){return zA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zA(t,e)}function E4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E4(Object(n),!0).forEach(function(r){EN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EN(t,e,n){return e=XG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XG(t){var e=B9e(t,"string");return lf(e)=="symbol"?e:e+""}function B9e(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z9e(t,e){return W9e(t)||V9e(t,e)||H9e(t,e)||U9e()}function U9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H9e(t,e){if(t){if(typeof t=="string")return A4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A4(t,e)}}function A4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function V9e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function W9e(t){if(Array.isArray(t))return t}function UA(){return UA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UA.apply(this,arguments)}var q9e=function(e,n){var r;return F.isValidElement(e)?r=F.cloneElement(e,n):qe(e)?r=e(n):r=F.createElement("line",UA({},n,{className:"recharts-reference-line-line"})),r},G9e=function(e,n,r,i,a,s,o,l,c){var d=a.x,f=a.y,h=a.width,p=a.height;if(r){var m=c.y,g=e.y.apply(m,{position:s});if(is(c,"discard")&&!e.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?v.reverse():v}if(n){var y=c.x,b=e.x.apply(y,{position:s});if(is(c,"discard")&&!e.x.isInRange(b))return null;var x=[{x:b,y:f+p},{x:b,y:f}];return o==="top"?x.reverse():x}if(i){var w=c.segment,S=w.map(function(E){return e.apply(E,{position:s})});return is(c,"discard")&&y8e(S,function(E){return!e.isInRange(E)})?null:S}return null};function K9e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,c=T9e(),d=GG(i),f=KG(a),h=N9e();if(!c||!h)return null;ga(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=xN({x:d.scale,y:f.scale}),m=En(e),g=En(n),v=r&&r.length===2,y=G9e(p,m,g,v,h,t.position,d.orientation,f.orientation,t);if(!y)return null;var b=z9e(y,2),x=b[0],w=x.x,S=x.y,E=b[1],A=E.x,j=E.y,C=is(t,"hidden")?"url(#".concat(c,")"):void 0,T=j4(j4({clipPath:C},De(t,!0)),{},{x1:w,y1:S,x2:A,y2:j});return F.createElement(pt,{className:Je("recharts-reference-line",o)},q9e(s,T),In.renderCallByParent(t,a9e({x1:w,y1:S,x2:A,y2:j})))}var jN=function(t){function e(){return I9e(this,e),M9e(this,e,arguments)}return F9e(e,t),R9e(e,[{key:"render",value:function(){return F.createElement(K9e,this.props)}}])}(F.Component);EN(jN,"displayName","ReferenceLine");EN(jN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function HA(){return HA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HA.apply(this,arguments)}function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function C4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C4(Object(n),!0).forEach(function(r){Nw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X9e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JG(r.key),r)}}function Z9e(t,e,n){return e&&X9e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function J9e(t,e,n){return e=dx(e),Q9e(t,ZG()?Reflect.construct(e,n||[],dx(t).constructor):e.apply(t,n))}function Q9e(t,e){if(e&&(cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eHe(t)}function eHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZG=function(){return!!t})()}function dx(t){return dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dx(t)}function tHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VA(t,e)}function VA(t,e){return VA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VA(t,e)}function Nw(t,e,n){return e=JG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JG(t){var e=nHe(t,"string");return cf(e)=="symbol"?e:e+""}function nHe(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rHe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=xN({x:i.scale,y:a.scale}),o=s.apply({x:n,y:r},{bandAware:!0});return is(e,"discard")&&!s.isInRange(o)?null:o},Pw=function(t){function e(){return Y9e(this,e),J9e(this,e,arguments)}return tHe(e,t),Z9e(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,o=r.alwaysShow,l=r.clipPathId,c=En(i),d=En(a);if(ga(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=rHe(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,g=m.shape,v=m.className,y=is(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=T4(T4({clipPath:y},De(this.props,!0)),{},{cx:h,cy:p});return F.createElement(pt,{className:Je("recharts-reference-dot",v)},e.renderDot(g,b),In.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(F.Component);Nw(Pw,"displayName","ReferenceDot");Nw(Pw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Nw(Pw,"renderDot",function(t,e){var n;return F.isValidElement(t)?n=F.cloneElement(t,e):qe(t)?n=t(e):n=F.createElement(Sw,HA({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function WA(){return WA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WA.apply(this,arguments)}function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function k4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k4(Object(n),!0).forEach(function(r){Iw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aHe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eK(r.key),r)}}function sHe(t,e,n){return e&&aHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oHe(t,e,n){return e=fx(e),lHe(t,QG()?Reflect.construct(e,n||[],fx(t).constructor):e.apply(t,n))}function lHe(t,e){if(e&&(uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cHe(t)}function cHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QG=function(){return!!t})()}function fx(t){return fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fx(t)}function uHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qA(t,e)}function qA(t,e){return qA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qA(t,e)}function Iw(t,e,n){return e=eK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eK(t){var e=dHe(t,"string");return uf(e)=="symbol"?e:e+""}function dHe(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fHe=function(e,n,r,i,a){var s=a.x1,o=a.x2,l=a.y1,c=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=xN({x:d.scale,y:f.scale}),p={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:n?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return is(a,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:BG(p,m)},$w=function(t){function e(){return iHe(this,e),oHe(this,e,arguments)}return uHe(e,t),sHe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,d=r.clipPathId;ga(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=En(i),h=En(a),p=En(s),m=En(o),g=this.props.shape;if(!f&&!h&&!p&&!m&&!g)return null;var v=fHe(f,h,p,m,this.props);if(!v&&!g)return null;var y=is(this.props,"hidden")?"url(#".concat(d,")"):void 0;return F.createElement(pt,{className:Je("recharts-reference-area",l)},e.renderRect(g,O4(O4({clipPath:y},De(this.props,!0)),v)),In.renderCallByParent(this.props,v))}}])}(F.Component);Iw($w,"displayName","ReferenceArea");Iw($w,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Iw($w,"renderRect",function(t,e){var n;return F.isValidElement(t)?n=F.cloneElement(t,e):qe(t)?n=t(e):n=F.createElement(vN,WA({},e,{className:"recharts-reference-area-rect"})),n});function tK(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function hHe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return o9e(r,n)}function pHe(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function hx(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function mHe(t,e){return tK(t,e+1)}function gHe(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,o=e.end,l=0,c=1,d=s,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:tK(r,c)};var g=l,v,y=function(){return v===void 0&&(v=n(m,g)),v},b=m.coordinate,x=l===0||hx(t,b,y,d,o);x||(l=0,d=s,c+=1),x&&(d=b+t*(y()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function N4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N4(Object(n),!0).forEach(function(r){yHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yHe(t,e,n){return e=vHe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vHe(t){var e=xHe(t,"string");return Pm(e)=="symbol"?e:e+""}function xHe(t,e){if(Pm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bHe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,o=e.start,l=e.end,c=function(h){var p=a[h],m,g=function(){return m===void 0&&(m=n(p,h)),m};if(h===s-1){var v=t*(p.coordinate+t*g()/2-l);a[h]=p=Gn(Gn({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else a[h]=p=Gn(Gn({},p),{},{tickCoord:p.coordinate});var y=hx(t,p.tickCoord,g,o,l);y&&(l=p.tickCoord-t*(g()/2+i),a[h]=Gn(Gn({},p),{},{isShow:!0}))},d=s-1;d>=0;d--)c(d);return a}function wHe(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,l=e.start,c=e.end;if(a){var d=r[o-1],f=n(d,o-1),h=t*(d.coordinate+t*f/2-c);s[o-1]=d=Gn(Gn({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var p=hx(t,d.tickCoord,function(){return f},l,c);p&&(c=d.tickCoord-t*(f/2+i),s[o-1]=Gn(Gn({},d),{},{isShow:!0}))}for(var m=a?o-1:o,g=function(b){var x=s[b],w,S=function(){return w===void 0&&(w=n(x,b)),w};if(b===0){var E=t*(x.coordinate-t*S()/2-l);s[b]=x=Gn(Gn({},x),{},{tickCoord:E<0?x.coordinate-E*t:x.coordinate})}else s[b]=x=Gn(Gn({},x),{},{tickCoord:x.coordinate});var A=hx(t,x.tickCoord,S,l,c);A&&(l=x.tickCoord+t*(S()/2+i),s[b]=Gn(Gn({},x),{},{isShow:!0}))},v=0;v<m;v++)g(v);return s}function AN(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(pe(l)||ns.isSsr)return mHe(i,typeof l=="number"&&pe(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",m=d&&p==="width"?op(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(x,w){var S=qe(c)?c(x.value,w):x.value;return p==="width"?hHe(op(S,{fontSize:e,letterSpacing:n}),m,f):op(S,{fontSize:e,letterSpacing:n})[p]},v=i.length>=2?dr(i[1].coordinate-i[0].coordinate):1,y=pHe(a,v,p);return l==="equidistantPreserveStart"?gHe(v,y,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=wHe(v,y,g,i,s,l==="preserveStartEnd"):h=bHe(v,y,g,i,s),h.filter(function(b){return b.isShow}))}var _He=["viewBox"],SHe=["viewBox"],EHe=["ticks"];function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function Gu(){return Gu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gu.apply(this,arguments)}function P4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P4(Object(n),!0).forEach(function(r){CN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K1(t,e){if(t==null)return{};var n=jHe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jHe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function AHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rK(r.key),r)}}function CHe(t,e,n){return e&&I4(t.prototype,e),n&&I4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function THe(t,e,n){return e=px(e),kHe(t,nK()?Reflect.construct(e,n||[],px(t).constructor):e.apply(t,n))}function kHe(t,e){if(e&&(df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OHe(t)}function OHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nK=function(){return!!t})()}function px(t){return px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},px(t)}function NHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GA(t,e)}function GA(t,e){return GA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GA(t,e)}function CN(t,e,n){return e=rK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rK(t){var e=PHe(t,"string");return df(e)=="symbol"?e:e+""}function PHe(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xf=function(t){function e(n){var r;return AHe(this,e),r=THe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return NHe(e,t),CHe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=K1(r,_He),o=this.props,l=o.viewBox,c=K1(o,SHe);return!dd(a,l)||!dd(s,c)||!dd(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,c=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,m,g,v,y,b,x=f?-1:1,w=r.tickSize||d,S=pe(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=m=r.coordinate,v=s+ +!f*l,g=v-x*w,b=g-x*h,y=S;break;case"left":g=v=r.coordinate,m=a+ +!f*o,p=m-x*w,y=p-x*h,b=S;break;case"right":g=v=r.coordinate,m=a+ +f*o,p=m+x*w,y=p+x*h,b=S;break;default:p=m=r.coordinate,v=s+ +f*l,g=v+x*w,b=g+x*h,y=S;break}return{line:{x1:p,y1:g,x2:m,y2:v},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.orientation,c=r.mirror,d=r.axisLine,f=ir(ir(ir({},De(this.props,!1)),De(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=ir(ir({},f),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=ir(ir({},f),{},{x1:i+p*s,y1:a,x2:i+p*s,y2:a+o})}return F.createElement("line",Gu({},f,{className:Je("recharts-cartesian-axis-line",oi(d,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,o=this.props,l=o.tickLine,c=o.stroke,d=o.tick,f=o.tickFormatter,h=o.unit,p=AN(ir(ir({},this.props),{},{ticks:r}),i,a),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=De(this.props,!1),y=De(d,!1),b=ir(ir({},v),{},{fill:"none"},De(l,!1)),x=p.map(function(w,S){var E=s.getTickLineCoord(w),A=E.line,j=E.tick,C=ir(ir(ir(ir({textAnchor:m,verticalAnchor:g},v),{},{stroke:"none",fill:c},y),j),{},{index:S,payload:w,visibleTicksCount:p.length,tickFormatter:f});return F.createElement(pt,Gu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},Fc(s.props,w,S)),l&&F.createElement("line",Gu({},b,A,{className:Je("recharts-cartesian-axis-tick-line",oi(l,"className"))})),d&&e.renderTickItem(d,C,"".concat(qe(f)?f(w.value,S):w.value).concat(h||"")))});return F.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=K1(f,EHe),m=h;return qe(l)&&(m=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!m||!m.length?null:F.createElement(pt,{className:Je("recharts-cartesian-axis",c),ref:function(v){r.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),In.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return F.isValidElement(r)?s=F.cloneElement(r,i):qe(r)?s=r(i):s=F.createElement(Bc,Gu({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(_.Component);CN(Xf,"displayName","CartesianAxis");CN(Xf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var IHe=["x1","y1","x2","y2","key"],$He=["offset"];function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function $4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$4(Object(n),!0).forEach(function(r){RHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RHe(t,e,n){return e=MHe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MHe(t){var e=LHe(t,"string");return Hc(e)=="symbol"?e:e+""}function LHe(t,e){if(Hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dc.apply(this,arguments)}function R4(t,e){if(t==null)return{};var n=DHe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DHe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var FHe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return F.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function iK(t,e){var n;if(F.isValidElement(t))n=F.cloneElement(t,e);else if(qe(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=R4(e,IHe),c=De(l,!1);c.offset;var d=R4(c,$He);n=F.createElement("line",dc({},d,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function BHe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=Yn(Yn({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return iK(i,c)});return F.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function zHe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=Yn(Yn({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return iK(i,c)});return F.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function UHe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var d=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?i+s-h:d[p+1]-h;if(g<=0)return null;var v=p%e.length;return F.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:g,width:a,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function HHe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var d=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?a+o-h:d[p+1]-h;if(g<=0)return null;var v=p%r.length;return F.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:g,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var VHe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return Qq(AN(Yn(Yn(Yn({},Xf.defaultProps),r),{},{ticks:Ms(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},WHe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return Qq(AN(Yn(Yn(Yn({},Xf.defaultProps),r),{},{ticks:Ms(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},bu={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Im(t){var e,n,r,i,a,s,o=_N(),l=SN(),c=P9e(),d=Yn(Yn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:bu.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:bu.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:bu.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:bu.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:bu.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:bu.verticalFill,x:pe(t.x)?t.x:c.left,y:pe(t.y)?t.y:c.top,width:pe(t.width)?t.width:c.width,height:pe(t.height)?t.height:c.height}),f=d.x,h=d.y,p=d.width,m=d.height,g=d.syncWithTicks,v=d.horizontalValues,y=d.verticalValues,b=k9e(),x=O9e();if(!pe(p)||p<=0||!pe(m)||m<=0||!pe(f)||f!==+f||!pe(h)||h!==+h)return null;var w=d.verticalCoordinatesGenerator||VHe,S=d.horizontalCoordinatesGenerator||WHe,E=d.horizontalPoints,A=d.verticalPoints;if((!E||!E.length)&&qe(S)){var j=v&&v.length,C=S({yAxis:x?Yn(Yn({},x),{},{ticks:j?v:x.ticks}):void 0,width:o,height:l,offset:c},j?!0:g);ga(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Hc(C),"]")),Array.isArray(C)&&(E=C)}if((!A||!A.length)&&qe(w)){var T=y&&y.length,k=w({xAxis:b?Yn(Yn({},b),{},{ticks:T?y:b.ticks}):void 0,width:o,height:l,offset:c},T?!0:g);ga(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Hc(k),"]")),Array.isArray(k)&&(A=k)}return F.createElement("g",{className:"recharts-cartesian-grid"},F.createElement(FHe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),F.createElement(BHe,dc({},d,{offset:c,horizontalPoints:E,xAxis:b,yAxis:x})),F.createElement(zHe,dc({},d,{offset:c,verticalPoints:A,xAxis:b,yAxis:x})),F.createElement(UHe,dc({},d,{horizontalPoints:E})),F.createElement(HHe,dc({},d,{verticalPoints:A})))}Im.displayName="CartesianGrid";var qHe=["type","layout","connectNulls","ref"],GHe=["key"];function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function M4(t,e){if(t==null)return{};var n=KHe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KHe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hp(){return hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hp.apply(this,arguments)}function L4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L4(Object(n),!0).forEach(function(r){aa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wu(t){return JHe(t)||ZHe(t)||XHe(t)||YHe()}function YHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XHe(t,e){if(t){if(typeof t=="string")return KA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KA(t,e)}}function ZHe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JHe(t){if(Array.isArray(t))return KA(t)}function KA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sK(r.key),r)}}function e7e(t,e,n){return e&&D4(t.prototype,e),n&&D4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function t7e(t,e,n){return e=mx(e),n7e(t,aK()?Reflect.construct(e,n||[],mx(t).constructor):e.apply(t,n))}function n7e(t,e){if(e&&(ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r7e(t)}function r7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aK=function(){return!!t})()}function mx(t){return mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mx(t)}function i7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YA(t,e)}function YA(t,e){return YA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YA(t,e)}function aa(t,e,n){return e=sK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sK(t){var e=a7e(t,"string");return ff(e)=="symbol"?e:e+""}function a7e(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var al=function(t){function e(){var n;QHe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=t7e(this,e,[].concat(i)),aa(n,"state",{isAnimationFinished:!0,totalLength:0}),aa(n,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),aa(n,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(y,b){return y+b});if(!c)return n.generateSimpleStrokeDasharray(o,s);for(var d=Math.floor(s/c),f=s%c,h=o-s,p=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>f){p=[].concat(wu(l.slice(0,m)),[f-g]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(wu(e.repeat(l,d)),wu(p),v).map(function(y){return"".concat(y,"px")}).join(", ")}),aa(n,"id",Uf("recharts-line-")),aa(n,"pathRef",function(s){n.mainCurve=s}),aa(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),aa(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return i7e(e,t),e7e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,c=a.layout,d=a.children,f=li(d,jg);if(!f)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:_n(g.payload,v)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return F.createElement(pt,p,f.map(function(m){return F.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,d=o.dataKey,f=De(this.props,!1),h=De(l,!0),p=c.map(function(g,v){var y=Br(Br(Br({key:"dot-".concat(v),r:3},f),h),{},{value:g.value,dataKey:d,cx:g.x,cy:g.y,index:v,payload:g.payload});return e.renderDotItem(l,y)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return F.createElement(pt,hp({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(r,i,a,s){var o=this.props,l=o.type,c=o.layout,d=o.connectNulls;o.ref;var f=M4(o,qHe),h=Br(Br(Br({},De(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},s),{},{type:l,layout:c,connectNulls:d});return F.createElement(Y0,hp({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,m=s.animateNewValues,g=s.width,v=s.height,y=this.state,b=y.prevPoints,x=y.totalLength;return F.createElement(hs,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var S=w.t;if(b){var E=b.length/o.length,A=o.map(function(N,H){var R=Math.floor(H*E);if(b[R]){var D=b[R],z=Gr(D.x,N.x),V=Gr(D.y,N.y);return Br(Br({},N),{},{x:z(S),y:V(S)})}if(m){var M=Gr(g*2,N.x),L=Gr(v/2,N.y);return Br(Br({},N),{},{x:M(S),y:L(S)})}return Br(Br({},N),{},{x:N.x,y:N.y})});return a.renderCurveStatically(A,r,i)}var j=Gr(0,x),C=j(S),T;if(l){var k="".concat(l).split(/[,\s]+/gim).map(function(N){return parseFloat(N)});T=a.getStrokeDasharray(C,x,k)}else T=a.generateSimpleStrokeDasharray(x,C);return a.renderCurveStatically(o,r,i,{strokeDasharray:T})})}},{key:"renderCurve",value:function(r,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return o&&s&&s.length&&(!c&&d>0||!Eg(c,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,m=i.height,g=i.isAnimationActive,v=i.id;if(a||!o||!o.length)return null;var y=this.state.isAnimationFinished,b=o.length===1,x=Je("recharts-line",l),w=c&&c.allowDataOverflow,S=d&&d.allowDataOverflow,E=w||S,A=Xe(v)?this.id:v,j=(r=De(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=j.r,T=C===void 0?3:C,k=j.strokeWidth,N=k===void 0?2:k,H=DCe(s)?s:{},R=H.clipDot,D=R===void 0?!0:R,z=T*2+N;return F.createElement(pt,{className:x},w||S?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(A)},F.createElement("rect",{x:w?h:h-p/2,y:S?f:f-m/2,width:w?p:p*2,height:S?m:m*2})),!D&&F.createElement("clipPath",{id:"clipPath-dots-".concat(A)},F.createElement("rect",{x:h-z/2,y:f-z/2,width:p+z,height:m+z}))):null,!b&&this.renderCurve(E,A),this.renderErrorBar(E,A),(b||s)&&this.renderDots(E,D,A),(!g||y)&&Ws.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(wu(r),[0]):r,s=[],o=0;o<i;++o)s=[].concat(wu(s),wu(a));return s}},{key:"renderDotItem",value:function(r,i){var a;if(F.isValidElement(r))a=F.cloneElement(r,i);else if(qe(r))a=r(i);else{var s=i.key,o=M4(i,GHe),l=Je("recharts-line-dot",typeof r!="boolean"?r.className:"");a=F.createElement(Sw,hp({key:s},o,{className:l}))}return a}}])}(_.PureComponent);aa(al,"displayName","Line");aa(al,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ns.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});aa(al,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,c=t.offset,d=e.layout,f=l.map(function(h,p){var m=_n(h,s);return d==="horizontal"?{x:lD({axis:n,ticks:i,bandSize:o,entry:h,index:p}),y:Xe(m)?null:r.scale(m),value:m,payload:h}:{x:Xe(m)?null:n.scale(m),y:lD({axis:r,ticks:a,bandSize:o,entry:h,index:p}),value:m,payload:h}});return Br({points:f,layout:d},c)});function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function s7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o7e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cK(r.key),r)}}function l7e(t,e,n){return e&&o7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function c7e(t,e,n){return e=gx(e),u7e(t,oK()?Reflect.construct(e,n||[],gx(t).constructor):e.apply(t,n))}function u7e(t,e){if(e&&(hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d7e(t)}function d7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oK=function(){return!!t})()}function gx(t){return gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gx(t)}function f7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XA(t,e)}function XA(t,e){return XA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XA(t,e)}function lK(t,e,n){return e=cK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cK(t){var e=h7e(t,"string");return hf(e)=="symbol"?e:e+""}function h7e(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZA(){return ZA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZA.apply(this,arguments)}function p7e(t){var e=t.xAxisId,n=_N(),r=SN(),i=GG(e);return i==null?null:F.createElement(Xf,ZA({},i,{className:Je("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Ms(s,!0)}}))}var _l=function(t){function e(){return s7e(this,e),c7e(this,e,arguments)}return f7e(e,t),l7e(e,[{key:"render",value:function(){return F.createElement(p7e,this.props)}}])}(F.Component);lK(_l,"displayName","XAxis");lK(_l,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function m7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g7e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fK(r.key),r)}}function y7e(t,e,n){return e&&g7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function v7e(t,e,n){return e=yx(e),x7e(t,uK()?Reflect.construct(e,n||[],yx(t).constructor):e.apply(t,n))}function x7e(t,e){if(e&&(pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b7e(t)}function b7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uK=function(){return!!t})()}function yx(t){return yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yx(t)}function w7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JA(t,e)}function JA(t,e){return JA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JA(t,e)}function dK(t,e,n){return e=fK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fK(t){var e=_7e(t,"string");return pf(e)=="symbol"?e:e+""}function _7e(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QA(){return QA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QA.apply(this,arguments)}var S7e=function(e){var n=e.yAxisId,r=_N(),i=SN(),a=KG(n);return a==null?null:F.createElement(Xf,QA({},a,{className:Je("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return Ms(o,!0)}}))},Sl=function(t){function e(){return m7e(this,e),v7e(this,e,arguments)}return w7e(e,t),y7e(e,[{key:"render",value:function(){return F.createElement(S7e,this.props)}}])}(F.Component);dK(Sl,"displayName","YAxis");dK(Sl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function F4(t){return C7e(t)||A7e(t)||j7e(t)||E7e()}function E7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j7e(t,e){if(t){if(typeof t=="string")return eC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eC(t,e)}}function A7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function C7e(t){if(Array.isArray(t))return eC(t)}function eC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tC=function(e,n,r,i,a){var s=li(e,jN),o=li(e,Pw),l=[].concat(F4(s),F4(o)),c=li(e,$w),d="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(g,v){if(v.props[d]===r&&is(v.props,"extendDomain")&&pe(v.props[f])){var y=v.props[f];return[Math.min(g[0],y),Math.max(g[1],y)]}return g},h)),c.length){var p="".concat(f,"1"),m="".concat(f,"2");h=c.reduce(function(g,v){if(v.props[d]===r&&is(v.props,"extendDomain")&&pe(v.props[p])&&pe(v.props[m])){var y=v.props[p],b=v.props[m];return[Math.min(g[0],y,b),Math.max(g[1],y,b)]}return g},h)}return a&&a.length&&(h=a.reduce(function(g,v){return pe(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},Y1=new wue,X1="recharts.syncMouseEvents";function $m(t){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$m(t)}function T7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k7e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hK(r.key),r)}}function O7e(t,e,n){return e&&k7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z1(t,e,n){return e=hK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hK(t){var e=N7e(t,"string");return $m(e)=="symbol"?e:e+""}function N7e(t,e){if($m(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var P7e=function(){function t(){T7e(this,t),Z1(this,"activeIndex",0),Z1(this,"coordinateList",[]),Z1(this,"layout","horizontal")}return O7e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,o=s===void 0?null:s,l=n.layout,c=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+c,h=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function I7e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&pe(r)&&pe(i))return!0}return!1}function $7e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function pK(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=Rt(e,n,r,i),o=Rt(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function R7e(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,d=e.outerRadius,f=e.angle,h=Rt(o,l,c,f),p=Rt(o,l,d,f);r=h.x,i=h.y,a=p.x,s=p.y}else return pK(e);return[{x:r,y:i},{x:a,y:s}]}function Rm(t){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rm(t)}function B4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ry(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B4(Object(n),!0).forEach(function(r){M7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M7e(t,e,n){return e=L7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L7e(t){var e=D7e(t,"string");return Rm(e)=="symbol"?e:e+""}function D7e(t,e){if(Rm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F7e(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var m,g=Y0;if(h==="ScatterChart")m=s,g=aUe;else if(h==="BarChart")m=$7e(f,s,l,d),g=vN;else if(f==="radial"){var v=pK(s),y=v.cx,b=v.cy,x=v.radius,w=v.startAngle,S=v.endAngle;m={cx:y,cy:b,startAngle:w,endAngle:S,innerRadius:x,outerRadius:x},g=uG}else m={points:R7e(f,s,l)},g=Y0;var E=Ry(Ry(Ry(Ry({stroke:"#ccc",pointerEvents:"none"},l),m),De(p,!1)),{},{payload:o,payloadIndex:c,className:Je("recharts-tooltip-cursor",p.className)});return _.isValidElement(p)?_.cloneElement(p,E):_.createElement(g,E)}var B7e=["item"],z7e=["children","className","width","height","style","compact","title","desc"];function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function pp(){return pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pp.apply(this,arguments)}function z4(t,e){return V7e(t)||H7e(t,e)||gK(t,e)||U7e()}function U7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H7e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function V7e(t){if(Array.isArray(t))return t}function U4(t,e){if(t==null)return{};var n=W7e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function W7e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function q7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G7e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yK(r.key),r)}}function K7e(t,e,n){return e&&G7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y7e(t,e,n){return e=vx(e),X7e(t,mK()?Reflect.construct(e,n||[],vx(t).constructor):e.apply(t,n))}function X7e(t,e){if(e&&(mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z7e(t)}function Z7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mK=function(){return!!t})()}function vx(t){return vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vx(t)}function J7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nC(t,e)}function nC(t,e){return nC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nC(t,e)}function gf(t){return tVe(t)||eVe(t)||gK(t)||Q7e()}function Q7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gK(t,e){if(t){if(typeof t=="string")return rC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rC(t,e)}}function eVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tVe(t){if(Array.isArray(t))return rC(t)}function rC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function H4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H4(Object(n),!0).forEach(function(r){Ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ue(t,e,n){return e=yK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yK(t){var e=nVe(t,"string");return mf(e)=="symbol"?e:e+""}function nVe(t,e){if(mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rVe={xAxis:["bottom","top"],yAxis:["left","right"]},iVe={width:"100%",height:"100%"},vK={x:0,y:0};function My(t){return t}var aVe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},sVe=function(e,n,r,i){var a=n.find(function(d){return d&&d.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return Q(Q(Q({},i),Rt(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,c=i.angle;return Q(Q(Q({},i),Rt(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return vK},Rw=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(gf(o),gf(c)):o},[]);return s.length>0?s:e&&e.length&&pe(i)&&pe(a)?e.slice(i,a+1):[]};function xK(t){return t==="number"?[0,"auto"]:void 0}var iC=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,o=Rw(n,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;h=v0(p,s.dataKey,i)}else h=f&&f[r]||o[r];return h?[].concat(gf(l),[iG(c,h)]):l},[])},V4=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=aVe(a,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=F3e(s,o,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,h=iC(e,n,d,f),p=sVe(r,o,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},oVe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,p=Jq(d,a);return r.reduce(function(m,g){var v,y=g.type.defaultProps!==void 0?Q(Q({},g.type.defaultProps),g.props):g.props,b=y.type,x=y.dataKey,w=y.allowDataOverflow,S=y.allowDuplicatedCategory,E=y.scale,A=y.ticks,j=y.includeHidden,C=y[s];if(m[C])return m;var T=Rw(e.data,{graphicalItems:i.filter(function(G){var $,te=s in G.props?G.props[s]:($=G.type.defaultProps)===null||$===void 0?void 0:$[s];return te===C}),dataStartIndex:l,dataEndIndex:c}),k=T.length,N,H,R;I7e(y.domain,w,b)&&(N=vA(y.domain,null,w),p&&(b==="number"||E!=="auto")&&(R=cp(T,x,"category")));var D=xK(b);if(!N||N.length===0){var z,V=(z=y.domain)!==null&&z!==void 0?z:D;if(x){if(N=cp(T,x,b),b==="category"&&p){var M=kCe(N);S&&M?(H=N,N=ax(0,k)):S||(N=fD(V,N,g).reduce(function(G,$){return G.indexOf($)>=0?G:[].concat(gf(G),[$])},[]))}else if(b==="category")S?N=N.filter(function(G){return G!==""&&!Xe(G)}):N=fD(V,N,g).reduce(function(G,$){return G.indexOf($)>=0||$===""||Xe($)?G:[].concat(gf(G),[$])},[]);else if(b==="number"){var L=V3e(T,i.filter(function(G){var $,te,ie=s in G.props?G.props[s]:($=G.type.defaultProps)===null||$===void 0?void 0:$[s],I="hide"in G.props?G.props.hide:(te=G.type.defaultProps)===null||te===void 0?void 0:te.hide;return ie===C&&(j||!I)}),x,a,d);L&&(N=L)}p&&(b==="number"||E!=="auto")&&(R=cp(T,x,"category"))}else p?N=ax(0,k):o&&o[C]&&o[C].hasStack&&b==="number"?N=h==="expand"?[0,1]:rG(o[C].stackGroups,l,c):N=Zq(T,i.filter(function(G){var $=s in G.props?G.props[s]:G.type.defaultProps[s],te="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return $===C&&(j||!te)}),b,d,!0);if(b==="number")N=tC(f,N,C,a,A),V&&(N=vA(V,N,w));else if(b==="category"&&V){var P=V,W=N.every(function(G){return P.indexOf(G)>=0});W&&(N=P)}}return Q(Q({},m),{},Ue({},C,Q(Q({},y),{},{axisType:a,domain:N,categoricalDomain:R,duplicateDomain:H,originalDomain:(v=y.domain)!==null&&v!==void 0?v:D,isCategorical:p,layout:d})))},{})},lVe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=Rw(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=Jq(d,a),g=-1;return r.reduce(function(v,y){var b=y.type.defaultProps!==void 0?Q(Q({},y.type.defaultProps),y.props):y.props,x=b[s],w=xK("number");if(!v[x]){g++;var S;return m?S=ax(0,p):o&&o[x]&&o[x].hasStack?(S=rG(o[x].stackGroups,l,c),S=tC(f,S,x,a)):(S=vA(w,Zq(h,r.filter(function(E){var A,j,C=s in E.props?E.props[s]:(A=E.type.defaultProps)===null||A===void 0?void 0:A[s],T="hide"in E.props?E.props.hide:(j=E.type.defaultProps)===null||j===void 0?void 0:j.hide;return C===x&&!T}),"number",d),i.defaultProps.allowDataOverflow),S=tC(f,S,x,a)),Q(Q({},v),{},Ue({},x,Q(Q({axisType:a},i.defaultProps),{},{hide:!0,orientation:oi(rVe,"".concat(a,".").concat(g%2),null),domain:S,originalDomain:w,isCategorical:m,layout:d})))}return v},{})},cVe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=li(d,a),p={};return h&&h.length?p=oVe(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=lVe(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},uVe=function(e){var n=Po(e),r=Ms(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:WO(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:q0(n,r)}},W4=function(e){var n=e.children,r=e.defaultShowTooltip,i=Wr(n,sf),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},dVe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Hs(n&&n.type);return r&&r.indexOf("Bar")>=0})},q4=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},fVe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,d=r.height,f=r.children,h=r.margin||{},p=Wr(f,sf),m=Wr(f,rl),g=Object.keys(l).reduce(function(S,E){var A=l[E],j=A.orientation;return!A.mirror&&!A.hide?Q(Q({},S),{},Ue({},j,S[j]+A.width)):S},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(S,E){var A=s[E],j=A.orientation;return!A.mirror&&!A.hide?Q(Q({},S),{},Ue({},j,oi(S,"".concat(j))+A.height)):S},{top:h.top||0,bottom:h.bottom||0}),y=Q(Q({},v),g),b=y.bottom;p&&(y.bottom+=p.props.height||sf.defaultProps.height),m&&n&&(y=U3e(y,i,r,n));var x=c-y.left-y.right,w=d-y.top-y.bottom;return Q(Q({brushBottom:b},y),{},{width:Math.max(x,0),height:Math.max(w,0)})},hVe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},TN=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(v,y){var b=y.graphicalItems,x=y.stackGroups,w=y.offset,S=y.updateId,E=y.dataStartIndex,A=y.dataEndIndex,j=v.barSize,C=v.layout,T=v.barGap,k=v.barCategoryGap,N=v.maxBarSize,H=q4(C),R=H.numericAxisName,D=H.cateAxisName,z=dVe(b),V=[];return b.forEach(function(M,L){var P=Rw(v.data,{graphicalItems:[M],dataStartIndex:E,dataEndIndex:A}),W=M.type.defaultProps!==void 0?Q(Q({},M.type.defaultProps),M.props):M.props,G=W.dataKey,$=W.maxBarSize,te=W["".concat(R,"Id")],ie=W["".concat(D,"Id")],I={},O=l.reduce(function(ae,Ct){var we=y["".concat(Ct.axisType,"Map")],ye=W["".concat(Ct.axisType,"Id")];we&&we[ye]||Ct.axisType==="zAxis"||Uc();var be=we[ye];return Q(Q({},ae),{},Ue(Ue({},Ct.axisType,be),"".concat(Ct.axisType,"Ticks"),Ms(be)))},I),K=O[D],B=O["".concat(D,"Ticks")],Z=x&&x[te]&&x[te].hasStack&&Q3e(M,x[te].stackGroups),J=Hs(M.type).indexOf("Bar")>=0,Y=q0(K,B),me=[],le=z&&B3e({barSize:j,stackGroups:x,totalSize:hVe(O,D)});if(J){var ve,oe,ze=Xe($)?N:$,Ce=(ve=(oe=q0(K,B,!0))!==null&&oe!==void 0?oe:ze)!==null&&ve!==void 0?ve:0;me=z3e({barGap:T,barCategoryGap:k,bandSize:Ce!==Y?Ce:Y,sizeList:le[ie],maxBarSize:ze}),Ce!==Y&&(me=me.map(function(ae){return Q(Q({},ae),{},{position:Q(Q({},ae.position),{},{offset:ae.position.offset-Ce/2})})}))}var Re=M&&M.type&&M.type.getComposedData;Re&&V.push({props:Q(Q({},Re(Q(Q({},O),{},{displayedData:P,props:v,dataKey:G,item:M,bandSize:Y,barPosition:me,offset:w,stackedData:Z,layout:C,dataStartIndex:E,dataEndIndex:A}))),{},Ue(Ue(Ue({key:M.key||"item-".concat(L)},R,O[R]),D,O[D]),"animationId",S)),childIndex:zCe(M,v.children),item:M})}),V},p=function(v,y){var b=v.props,x=v.dataStartIndex,w=v.dataEndIndex,S=v.updateId;if(!aM({props:b}))return null;var E=b.children,A=b.layout,j=b.stackOffset,C=b.data,T=b.reverseStackOrder,k=q4(A),N=k.numericAxisName,H=k.cateAxisName,R=li(E,r),D=Z3e(C,R,"".concat(N,"Id"),"".concat(H,"Id"),j,T),z=l.reduce(function(W,G){var $="".concat(G.axisType,"Map");return Q(Q({},W),{},Ue({},$,cVe(b,Q(Q({},G),{},{graphicalItems:R,stackGroups:G.axisType===N&&D,dataStartIndex:x,dataEndIndex:w}))))},{}),V=fVe(Q(Q({},z),{},{props:b,graphicalItems:R}),y==null?void 0:y.legendBBox);Object.keys(z).forEach(function(W){z[W]=d(b,z[W],V,W.replace("Map",""),n)});var M=z["".concat(H,"Map")],L=uVe(M),P=h(b,Q(Q({},z),{},{dataStartIndex:x,dataEndIndex:w,updateId:S,graphicalItems:R,stackGroups:D,offset:V}));return Q(Q({formattedGraphicalItems:P,graphicalItems:R,offset:V,stackGroups:D},L),z)},m=function(g){function v(y){var b,x,w;return q7e(this,v),w=Y7e(this,v,[y]),Ue(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ue(w,"accessibilityManager",new P7e),Ue(w,"handleLegendBBoxUpdate",function(S){if(S){var E=w.state,A=E.dataStartIndex,j=E.dataEndIndex,C=E.updateId;w.setState(Q({legendBBox:S},p({props:w.props,dataStartIndex:A,dataEndIndex:j,updateId:C},Q(Q({},w.state),{},{legendBBox:S}))))}}),Ue(w,"handleReceiveSyncEvent",function(S,E,A){if(w.props.syncId===S){if(A===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(E)}}),Ue(w,"handleBrushChange",function(S){var E=S.startIndex,A=S.endIndex;if(E!==w.state.dataStartIndex||A!==w.state.dataEndIndex){var j=w.state.updateId;w.setState(function(){return Q({dataStartIndex:E,dataEndIndex:A},p({props:w.props,dataStartIndex:E,dataEndIndex:A,updateId:j},w.state))}),w.triggerSyncEvent({dataStartIndex:E,dataEndIndex:A})}}),Ue(w,"handleMouseEnter",function(S){var E=w.getMouseInfo(S);if(E){var A=Q(Q({},E),{},{isTooltipActive:!0});w.setState(A),w.triggerSyncEvent(A);var j=w.props.onMouseEnter;qe(j)&&j(A,S)}}),Ue(w,"triggeredAfterMouseMove",function(S){var E=w.getMouseInfo(S),A=E?Q(Q({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(A),w.triggerSyncEvent(A);var j=w.props.onMouseMove;qe(j)&&j(A,S)}),Ue(w,"handleItemMouseEnter",function(S){w.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Ue(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Ue(w,"handleMouseMove",function(S){S.persist(),w.throttleTriggeredAfterMouseMove(S)}),Ue(w,"handleMouseLeave",function(S){w.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};w.setState(E),w.triggerSyncEvent(E);var A=w.props.onMouseLeave;qe(A)&&A(E,S)}),Ue(w,"handleOuterEvent",function(S){var E=BCe(S),A=oi(w.props,"".concat(E));if(E&&qe(A)){var j,C;/.*touch.*/i.test(E)?C=w.getMouseInfo(S.changedTouches[0]):C=w.getMouseInfo(S),A((j=C)!==null&&j!==void 0?j:{},S)}}),Ue(w,"handleClick",function(S){var E=w.getMouseInfo(S);if(E){var A=Q(Q({},E),{},{isTooltipActive:!0});w.setState(A),w.triggerSyncEvent(A);var j=w.props.onClick;qe(j)&&j(A,S)}}),Ue(w,"handleMouseDown",function(S){var E=w.props.onMouseDown;if(qe(E)){var A=w.getMouseInfo(S);E(A,S)}}),Ue(w,"handleMouseUp",function(S){var E=w.props.onMouseUp;if(qe(E)){var A=w.getMouseInfo(S);E(A,S)}}),Ue(w,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Ue(w,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseDown(S.changedTouches[0])}),Ue(w,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseUp(S.changedTouches[0])}),Ue(w,"triggerSyncEvent",function(S){w.props.syncId!==void 0&&Y1.emit(X1,w.props.syncId,S,w.eventEmitterSymbol)}),Ue(w,"applySyncEvent",function(S){var E=w.props,A=E.layout,j=E.syncMethod,C=w.state.updateId,T=S.dataStartIndex,k=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)w.setState(Q({dataStartIndex:T,dataEndIndex:k},p({props:w.props,dataStartIndex:T,dataEndIndex:k,updateId:C},w.state)));else if(S.activeTooltipIndex!==void 0){var N=S.chartX,H=S.chartY,R=S.activeTooltipIndex,D=w.state,z=D.offset,V=D.tooltipTicks;if(!z)return;if(typeof j=="function")R=j(V,S);else if(j==="value"){R=-1;for(var M=0;M<V.length;M++)if(V[M].value===S.activeLabel){R=M;break}}var L=Q(Q({},z),{},{x:z.left,y:z.top}),P=Math.min(N,L.x+L.width),W=Math.min(H,L.y+L.height),G=V[R]&&V[R].value,$=iC(w.state,w.props.data,R),te=V[R]?{x:A==="horizontal"?V[R].coordinate:P,y:A==="horizontal"?W:V[R].coordinate}:vK;w.setState(Q(Q({},S),{},{activeLabel:G,activeCoordinate:te,activePayload:$,activeTooltipIndex:R}))}else w.setState(S)}),Ue(w,"renderCursor",function(S){var E,A=w.state,j=A.isTooltipActive,C=A.activeCoordinate,T=A.activePayload,k=A.offset,N=A.activeTooltipIndex,H=A.tooltipAxisBandSize,R=w.getTooltipEventType(),D=(E=S.props.active)!==null&&E!==void 0?E:j,z=w.props.layout,V=S.key||"_recharts-cursor";return F.createElement(F7e,{key:V,activeCoordinate:C,activePayload:T,activeTooltipIndex:N,chartName:n,element:S,isActive:D,layout:z,offset:k,tooltipAxisBandSize:H,tooltipEventType:R})}),Ue(w,"renderPolarAxis",function(S,E,A){var j=oi(S,"type.axisType"),C=oi(w.state,"".concat(j,"Map")),T=S.type.defaultProps,k=T!==void 0?Q(Q({},T),S.props):S.props,N=C&&C[k["".concat(j,"Id")]];return _.cloneElement(S,Q(Q({},N),{},{className:Je(j,N.className),key:S.key||"".concat(E,"-").concat(A),ticks:Ms(N,!0)}))}),Ue(w,"renderPolarGrid",function(S){var E=S.props,A=E.radialLines,j=E.polarAngles,C=E.polarRadius,T=w.state,k=T.radiusAxisMap,N=T.angleAxisMap,H=Po(k),R=Po(N),D=R.cx,z=R.cy,V=R.innerRadius,M=R.outerRadius;return _.cloneElement(S,{polarAngles:Array.isArray(j)?j:Ms(R,!0).map(function(L){return L.coordinate}),polarRadius:Array.isArray(C)?C:Ms(H,!0).map(function(L){return L.coordinate}),cx:D,cy:z,innerRadius:V,outerRadius:M,key:S.key||"polar-grid",radialLines:A})}),Ue(w,"renderLegend",function(){var S=w.state.formattedGraphicalItems,E=w.props,A=E.children,j=E.width,C=E.height,T=w.props.margin||{},k=j-(T.left||0)-(T.right||0),N=Yq({children:A,formattedGraphicalItems:S,legendWidth:k,legendContent:c});if(!N)return null;var H=N.item,R=U4(N,B7e);return _.cloneElement(H,Q(Q({},R),{},{chartWidth:j,chartHeight:C,margin:T,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Ue(w,"renderTooltip",function(){var S,E=w.props,A=E.children,j=E.accessibilityLayer,C=Wr(A,lr);if(!C)return null;var T=w.state,k=T.isTooltipActive,N=T.activeCoordinate,H=T.activePayload,R=T.activeLabel,D=T.offset,z=(S=C.props.active)!==null&&S!==void 0?S:k;return _.cloneElement(C,{viewBox:Q(Q({},D),{},{x:D.left,y:D.top}),active:z,label:R,payload:z?H:[],coordinate:N,accessibilityLayer:j})}),Ue(w,"renderBrush",function(S){var E=w.props,A=E.margin,j=E.data,C=w.state,T=C.offset,k=C.dataStartIndex,N=C.dataEndIndex,H=C.updateId;return _.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Ny(w.handleBrushChange,S.props.onChange),data:j,x:pe(S.props.x)?S.props.x:T.left,y:pe(S.props.y)?S.props.y:T.top+T.height+T.brushBottom-(A.bottom||0),width:pe(S.props.width)?S.props.width:T.width,startIndex:k,endIndex:N,updateId:"brush-".concat(H)})}),Ue(w,"renderReferenceElement",function(S,E,A){if(!S)return null;var j=w,C=j.clipPathId,T=w.state,k=T.xAxisMap,N=T.yAxisMap,H=T.offset,R=S.type.defaultProps||{},D=S.props,z=D.xAxisId,V=z===void 0?R.xAxisId:z,M=D.yAxisId,L=M===void 0?R.yAxisId:M;return _.cloneElement(S,{key:S.key||"".concat(E,"-").concat(A),xAxis:k[V],yAxis:N[L],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:C})}),Ue(w,"renderActivePoints",function(S){var E=S.item,A=S.activePoint,j=S.basePoint,C=S.childIndex,T=S.isRange,k=[],N=E.props.key,H=E.item.type.defaultProps!==void 0?Q(Q({},E.item.type.defaultProps),E.item.props):E.item.props,R=H.activeDot,D=H.dataKey,z=Q(Q({index:C,dataKey:D,cx:A.x,cy:A.y,r:4,fill:yN(E.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},De(R,!1)),x0(R));return k.push(v.renderActiveDot(R,z,"".concat(N,"-activePoint-").concat(C))),j?k.push(v.renderActiveDot(R,Q(Q({},z),{},{cx:j.x,cy:j.y}),"".concat(N,"-basePoint-").concat(C))):T&&k.push(null),k}),Ue(w,"renderGraphicChild",function(S,E,A){var j=w.filterFormatItem(S,E,A);if(!j)return null;var C=w.getTooltipEventType(),T=w.state,k=T.isTooltipActive,N=T.tooltipAxis,H=T.activeTooltipIndex,R=T.activeLabel,D=w.props.children,z=Wr(D,lr),V=j.props,M=V.points,L=V.isRange,P=V.baseLine,W=j.item.type.defaultProps!==void 0?Q(Q({},j.item.type.defaultProps),j.item.props):j.item.props,G=W.activeDot,$=W.hide,te=W.activeBar,ie=W.activeShape,I=!!(!$&&k&&z&&(G||te||ie)),O={};C!=="axis"&&z&&z.props.trigger==="click"?O={onClick:Ny(w.handleItemMouseEnter,S.props.onClick)}:C!=="axis"&&(O={onMouseLeave:Ny(w.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Ny(w.handleItemMouseEnter,S.props.onMouseEnter)});var K=_.cloneElement(S,Q(Q({},j.props),O));function B(Ct){return typeof N.dataKey=="function"?N.dataKey(Ct.payload):null}if(I)if(H>=0){var Z,J;if(N.dataKey&&!N.allowDuplicatedCategory){var Y=typeof N.dataKey=="function"?B:"payload.".concat(N.dataKey.toString());Z=v0(M,Y,R),J=L&&P&&v0(P,Y,R)}else Z=M==null?void 0:M[H],J=L&&P&&P[H];if(ie||te){var me=S.props.activeIndex!==void 0?S.props.activeIndex:H;return[_.cloneElement(S,Q(Q(Q({},j.props),O),{},{activeIndex:me})),null,null]}if(!Xe(Z))return[K].concat(gf(w.renderActivePoints({item:j,activePoint:Z,basePoint:J,childIndex:H,isRange:L})))}else{var le,ve=(le=w.getItemByXY(w.state.activeCoordinate))!==null&&le!==void 0?le:{graphicalItem:K},oe=ve.graphicalItem,ze=oe.item,Ce=ze===void 0?S:ze,Re=oe.childIndex,ae=Q(Q(Q({},j.props),O),{},{activeIndex:Re});return[_.cloneElement(Ce,ae),null,null]}return L?[K,null,null]:[K,null]}),Ue(w,"renderCustomized",function(S,E,A){return _.cloneElement(S,Q(Q({key:"recharts-customized-".concat(A)},w.props),w.state))}),Ue(w,"renderMap",{CartesianGrid:{handler:My,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:My},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:My},YAxis:{handler:My},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=y.id)!==null&&b!==void 0?b:Uf("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=KW(w.triggeredAfterMouseMove,(x=y.throttleDelay)!==null&&x!==void 0?x:1e3/60),w.state={},w}return J7e(v,g),K7e(v,[{key:"componentDidMount",value:function(){var b,x;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(x=this.props.margin.top)!==null&&x!==void 0?x:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,x=b.children,w=b.data,S=b.height,E=b.layout,A=Wr(x,lr);if(A){var j=A.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,T=iC(this.state,w,j,C),k=this.state.tooltipTicks[j].coordinate,N=(this.state.offset.top+S)/2,H=E==="horizontal",R=H?{x:k,y:N}:{y:k,x:N},D=this.state.formattedGraphicalItems.find(function(V){var M=V.item;return M.type.name==="Scatter"});D&&(R=Q(Q({},R),D.props.points[j].tooltipPosition),T=D.props.points[j].tooltipPayload);var z={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:C,activePayload:T,activeCoordinate:R};this.setState(z),this.renderCursor(A),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,x){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==x.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,S;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(b){Ij([Wr(b.children,lr)],[Wr(this.props.children,lr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Wr(this.props.children,lr);if(b&&typeof b.props.shared=="boolean"){var x=b.props.shared?"axis":"item";return o.indexOf(x)>=0?x:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var x=this.container,w=x.getBoundingClientRect(),S=hLe(w),E={chartX:Math.round(b.pageX-S.left),chartY:Math.round(b.pageY-S.top)},A=w.width/x.offsetWidth||1,j=this.inRange(E.chartX,E.chartY,A);if(!j)return null;var C=this.state,T=C.xAxisMap,k=C.yAxisMap,N=this.getTooltipEventType();if(N!=="axis"&&T&&k){var H=Po(T).scale,R=Po(k).scale,D=H&&H.invert?H.invert(E.chartX):null,z=R&&R.invert?R.invert(E.chartY):null;return Q(Q({},E),{},{xValue:D,yValue:z})}var V=V4(this.state,this.props.data,this.props.layout,j);return V?Q(Q({},E),V):null}},{key:"inRange",value:function(b,x){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,E=b/w,A=x/w;if(S==="horizontal"||S==="vertical"){var j=this.state.offset,C=E>=j.left&&E<=j.left+j.width&&A>=j.top&&A<=j.top+j.height;return C?{x:E,y:A}:null}var T=this.state,k=T.angleAxisMap,N=T.radiusAxisMap;if(k&&N){var H=Po(k);return mD({x:E,y:A},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,x=this.getTooltipEventType(),w=Wr(b,lr),S={};w&&x==="axis"&&(w.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var E=x0(this.props,this.handleOuterEvent);return Q(Q({},E),S)}},{key:"addListener",value:function(){Y1.on(X1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Y1.removeListener(X1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,x,w){for(var S=this.state.formattedGraphicalItems,E=0,A=S.length;E<A;E++){var j=S[E];if(j.item===b||j.props.key===b.key||x===Hs(j.item.type)&&w===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,x=this.state.offset,w=x.left,S=x.top,E=x.height,A=x.width;return F.createElement("defs",null,F.createElement("clipPath",{id:b},F.createElement("rect",{x:w,y:S,height:E,width:A})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(x,w){var S=z4(w,2),E=S[0],A=S[1];return Q(Q({},x),{},Ue({},E,A.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(x,w){var S=z4(w,2),E=S[0],A=S[1];return Q(Q({},x),{},Ue({},E,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var x;return(x=this.state.xAxisMap)===null||x===void 0||(x=x[b])===null||x===void 0?void 0:x.scale}},{key:"getYScaleByAxisId",value:function(b){var x;return(x=this.state.yAxisMap)===null||x===void 0||(x=x[b])===null||x===void 0?void 0:x.scale}},{key:"getItemByXY",value:function(b){var x=this.state,w=x.formattedGraphicalItems,S=x.activeItem;if(w&&w.length)for(var E=0,A=w.length;E<A;E++){var j=w[E],C=j.props,T=j.item,k=T.type.defaultProps!==void 0?Q(Q({},T.type.defaultProps),T.props):T.props,N=Hs(T.type);if(N==="Bar"){var H=(C.data||[]).find(function(V){return Fze(b,V)});if(H)return{graphicalItem:j,payload:H}}else if(N==="RadialBar"){var R=(C.data||[]).find(function(V){return mD(b,V)});if(R)return{graphicalItem:j,payload:R}}else if(Tw(j,S)||kw(j,S)||Tm(j,S)){var D=C6e({graphicalItem:j,activeTooltipItem:S,itemData:k.data}),z=k.activeIndex===void 0?D:k.activeIndex;return{graphicalItem:Q(Q({},j),{},{childIndex:z}),payload:Tm(j,S)?k.data[D]:j.props.data[D]}}}return null}},{key:"render",value:function(){var b=this;if(!aM(this))return null;var x=this.props,w=x.children,S=x.className,E=x.width,A=x.height,j=x.style,C=x.compact,T=x.title,k=x.desc,N=U4(x,z7e),H=De(N,!1);if(C)return F.createElement(S4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement(Rj,pp({},H,{width:E,height:A,title:T,desc:k}),this.renderClipPath(),oM(w,this.renderMap)));if(this.props.accessibilityLayer){var R,D;H.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,H.role=(D=this.props.role)!==null&&D!==void 0?D:"application",H.onKeyDown=function(V){b.accessibilityManager.keyboardEvent(V)},H.onFocus=function(){b.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return F.createElement(S4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement("div",pp({className:Je("recharts-wrapper",S),style:Q({position:"relative",cursor:"default",width:E,height:A},j)},z,{ref:function(M){b.container=M}}),F.createElement(Rj,pp({},H,{width:E,height:A,title:T,desc:k,style:iVe}),this.renderClipPath(),oM(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(_.Component);return Ue(m,"displayName",n),Ue(m,"defaultProps",Q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ue(m,"getDerivedStateFromProps",function(g,v){var y=g.dataKey,b=g.data,x=g.children,w=g.width,S=g.height,E=g.layout,A=g.stackOffset,j=g.margin,C=v.dataStartIndex,T=v.dataEndIndex;if(v.updateId===void 0){var k=W4(g);return Q(Q(Q({},k),{},{updateId:0},p(Q(Q({props:g},k),{},{updateId:0}),v)),{},{prevDataKey:y,prevData:b,prevWidth:w,prevHeight:S,prevLayout:E,prevStackOffset:A,prevMargin:j,prevChildren:x})}if(y!==v.prevDataKey||b!==v.prevData||w!==v.prevWidth||S!==v.prevHeight||E!==v.prevLayout||A!==v.prevStackOffset||!dd(j,v.prevMargin)){var N=W4(g),H={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},R=Q(Q({},V4(v,b,E)),{},{updateId:v.updateId+1}),D=Q(Q(Q({},N),H),R);return Q(Q(Q({},D),p(Q({props:g},D),v)),{},{prevDataKey:y,prevData:b,prevWidth:w,prevHeight:S,prevLayout:E,prevStackOffset:A,prevMargin:j,prevChildren:x})}if(!Ij(x,v.prevChildren)){var z,V,M,L,P=Wr(x,sf),W=P&&(z=(V=P.props)===null||V===void 0?void 0:V.startIndex)!==null&&z!==void 0?z:C,G=P&&(M=(L=P.props)===null||L===void 0?void 0:L.endIndex)!==null&&M!==void 0?M:T,$=W!==C||G!==T,te=!Xe(b),ie=te&&!$?v.updateId:v.updateId+1;return Q(Q({updateId:ie},p(Q(Q({props:g},v),{},{updateId:ie,dataStartIndex:W,dataEndIndex:G}),v)),{},{prevChildren:x,dataStartIndex:W,dataEndIndex:G})}return null}),Ue(m,"renderActiveDot",function(g,v,y){var b;return _.isValidElement(g)?b=_.cloneElement(g,v):qe(g)?b=g(v):b=F.createElement(Sw,v),F.createElement(pt,{className:"recharts-active-dot",key:y},b)}),function(v){return F.createElement(m,v)}},bK=TN({chartName:"LineChart",GraphicalChild:al,axisComponents:[{axisType:"xAxis",AxisComp:_l},{axisType:"yAxis",AxisComp:Sl}],formatAxisMap:FG}),wK=TN({chartName:"BarChart",GraphicalChild:Ii,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:_l},{axisType:"yAxis",AxisComp:Sl}],formatAxisMap:FG}),_K=TN({chartName:"PieChart",GraphicalChild:vs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Cw},{axisType:"radiusAxis",AxisComp:jw}],formatAxisMap:cFe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const SK=()=>{const[t,e]=_.useState(null),[n,r]=_.useState([]),[i,a]=_.useState([]),[s,o]=_.useState(!0),{toast:l}=Mt(),c=["hsl(var(--primary))","hsl(var(--secondary))","hsl(var(--accent))","hsl(var(--muted))"],d=async()=>{try{o(!0);const{data:p,error:m}=await Be.from("campaigns").select("*").order("created_at",{ascending:!1});if(m)throw m;r(p||[]);const g=(p==null?void 0:p.length)||0,v=(p==null?void 0:p.filter(A=>A.status==="active").length)||0,y=(p==null?void 0:p.reduce((A,j)=>A+(j.candidates_count||0),0))||0,b=(p==null?void 0:p.reduce((A,j)=>A+(j.messages_sent||0),0))||0,x=(p==null?void 0:p.reduce((A,j)=>A+(j.calls_made||0),0))||0,w=(p==null?void 0:p.reduce((A,j)=>A+(j.responses_received||0),0))||0,S=y>0?w/y*100:0;e({totalCampaigns:g,activeCampaigns:v,totalCandidates:y,messagesSent:b,callsMade:x,responsesReceived:w,conversionRate:S});const E=(p==null?void 0:p.slice(0,6).map(A=>({name:A.name.substring(0,15)+(A.name.length>15?"...":""),messages:A.messages_sent||0,calls:A.calls_made||0,responses:A.responses_received||0,conversion:A.candidates_count>0?(A.responses_received||0)/A.candidates_count*100:0})))||[];a(E)}catch(p){console.error("Error fetching analytics:",p),l({title:"Error",description:"Failed to fetch analytics data",variant:"destructive"})}finally{o(!1)}},f=()=>{const p=[["Campaign Name","Status","Type","Candidates","Messages Sent","Calls Made","Responses","Conversion Rate"],...n.map(y=>[y.name,y.status,y.type,y.candidates_count||0,y.messages_sent||0,y.calls_made||0,y.responses_received||0,y.candidates_count>0?`${((y.responses_received||0)/y.candidates_count*100).toFixed(2)}%`:"0%"])].map(y=>y.join(",")).join(`
`),m=new Blob([p],{type:"text/csv"}),g=window.URL.createObjectURL(m),v=document.createElement("a");v.href=g,v.download=`campaign-analytics-${new Date().toISOString().split("T")[0]}.csv`,v.click(),window.URL.revokeObjectURL(g),l({title:"Success",description:"Analytics report exported successfully"})};if(_.useEffect(()=>{d();const p=Be.channel("analytics-updates").on("postgres_changes",{event:"*",schema:"public",table:"campaigns"},()=>{d()}).subscribe();return()=>{Be.removeChannel(p)}},[]),s)return u.jsx("div",{className:"flex items-center justify-center p-8",children:u.jsx(Zc,{})});const h=[{name:"Messages Sent",value:(t==null?void 0:t.messagesSent)||0,color:c[0]},{name:"Calls Made",value:(t==null?void 0:t.callsMade)||0,color:c[1]},{name:"Responses",value:(t==null?void 0:t.responsesReceived)||0,color:c[2]}];return u.jsxs("div",{className:"space-y-6",children:[u.jsx(ur,{children:u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold bg-ai-gradient bg-clip-text text-transparent",children:"Campaign Analytics"}),u.jsx("p",{className:"text-muted-foreground",children:"Real-time insights into your outreach performance"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(se,{variant:"outline",onClick:d,disabled:s,className:"hover-lift",children:[u.jsx(fl,{className:"w-4 h-4 mr-2"}),"Refresh"]}),u.jsxs(se,{variant:"hero",onClick:f,className:"hover-lift",children:[u.jsx(fT,{className:"w-4 h-4 mr-2"}),"Export Report"]})]})]})}),u.jsx(ur,{delay:100,children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs(ee,{className:"hover-lift transition-all duration-200",children:[u.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(We,{className:"text-sm font-medium",children:"Total Campaigns"}),u.jsx(Lp,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Me,{children:[u.jsx("div",{className:"text-2xl font-bold",children:(t==null?void 0:t.totalCampaigns)||0}),u.jsx("div",{className:"flex items-center space-x-2 mt-2",children:u.jsxs(on,{variant:"secondary",className:"text-xs",children:[(t==null?void 0:t.activeCampaigns)||0," Active"]})})]})]}),u.jsxs(ee,{className:"hover-lift transition-all duration-200",children:[u.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(We,{className:"text-sm font-medium",children:"Total Candidates"}),u.jsx(Ea,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Me,{children:[u.jsx("div",{className:"text-2xl font-bold",children:(t==null?void 0:t.totalCandidates)||0}),u.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Across all campaigns"})]})]}),u.jsxs(ee,{className:"hover-lift transition-all duration-200",children:[u.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(We,{className:"text-sm font-medium",children:"Messages & Calls"}),u.jsx(Ds,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Me,{children:[u.jsx("div",{className:"text-2xl font-bold",children:((t==null?void 0:t.messagesSent)||0)+((t==null?void 0:t.callsMade)||0)}),u.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[u.jsx($r,{className:"h-3 w-3 text-primary"}),u.jsx("span",{className:"text-xs",children:(t==null?void 0:t.messagesSent)||0}),u.jsx(Di,{className:"h-3 w-3 text-secondary"}),u.jsx("span",{className:"text-xs",children:(t==null?void 0:t.callsMade)||0})]})]})]}),u.jsxs(ee,{className:"hover-lift transition-all duration-200",children:[u.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(We,{className:"text-sm font-medium",children:"Conversion Rate"}),u.jsx(Xn,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Me,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[(t==null?void 0:t.conversionRate.toFixed(1))||0,"%"]}),u.jsx(Ti,{value:(t==null?void 0:t.conversionRate)||0,className:"mt-2"})]})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsx(ur,{delay:200,children:u.jsxs(ee,{className:"hover-scale transition-all duration-300",children:[u.jsx(Ve,{children:u.jsx(We,{children:"Campaign Performance"})}),u.jsx(Me,{children:u.jsx(fd,{width:"100%",height:300,children:u.jsxs(wK,{data:i,children:[u.jsx(Im,{strokeDasharray:"3 3"}),u.jsx(_l,{dataKey:"name"}),u.jsx(Sl,{}),u.jsx(lr,{}),u.jsx(Ii,{dataKey:"messages",fill:c[0],name:"Messages"}),u.jsx(Ii,{dataKey:"calls",fill:c[1],name:"Calls"}),u.jsx(Ii,{dataKey:"responses",fill:c[2],name:"Responses"})]})})})]})}),u.jsx(ur,{delay:300,children:u.jsxs(ee,{className:"hover-scale transition-all duration-300",children:[u.jsx(Ve,{children:u.jsx(We,{children:"Outreach Distribution"})}),u.jsx(Me,{children:u.jsx(fd,{width:"100%",height:300,children:u.jsxs(_K,{children:[u.jsx(vs,{data:h,cx:"50%",cy:"50%",labelLine:!1,label:({name:p,percent:m})=>`${p} ${(m*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:h.map((p,m)=>u.jsx(xg,{fill:p.color},`cell-${m}`))}),u.jsx(lr,{})]})})})]})})]}),u.jsx(ur,{delay:400,children:u.jsxs(ee,{className:"hover-scale transition-all duration-300",children:[u.jsx(Ve,{children:u.jsx(We,{children:"Conversion Rate by Campaign"})}),u.jsx(Me,{children:u.jsx(fd,{width:"100%",height:300,children:u.jsxs(bK,{data:i,children:[u.jsx(Im,{strokeDasharray:"3 3"}),u.jsx(_l,{dataKey:"name"}),u.jsx(Sl,{}),u.jsx(lr,{formatter:p=>[`${p}%`,"Conversion Rate"]}),u.jsx(al,{type:"monotone",dataKey:"conversion",stroke:c[0],strokeWidth:3,dot:{fill:c[0],strokeWidth:2,r:4}})]})})})]})})]})},EK=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(!1),[i,a]=_.useState(!1),{toast:s}=Mt(),{user:o}=zn(),[l,c]=_.useState({name:"",trigger:"no_response",channels:[],delay:24,template:"",active:!0}),d=[{value:"no_response",label:"No Response After Message"},{value:"email_open",label:"Email Opened"},{value:"link_click",label:"Link Clicked"},{value:"form_submit",label:"Form Submitted"},{value:"time_based",label:"Time-Based Follow-up"}],f=[{value:"whatsapp",label:"WhatsApp",icon:$r},{value:"voice",label:"Voice Call",icon:Di},{value:"email",label:"Email",icon:ti}],h={whatsapp:"Hi {name}, I wanted to follow up on our previous message about {college}. Do you have any questions about our programs?",voice:"Hello {name}, this is a follow-up call regarding your interest in {college}. Please call us back at your convenience.",email:`Dear {name},

We noticed you showed interest in {college}. We'd love to answer any questions you might have about our programs.

Best regards,
Admissions Team`},p=()=>{if(!o)return;r(!0);const x=`automation_rules_${o.id}`,w=localStorage.getItem(x);if(w)try{e(JSON.parse(w))}catch{e([])}else{const S=[{id:"mock-1",name:"Example WhatsApp Follow-up",trigger:"no_response",channels:["whatsapp"],delay:24,template:h.whatsapp,active:!0,user_id:o.id}];e(S),localStorage.setItem(x,JSON.stringify(S))}r(!1)},m=x=>{if(!o)return;const w=`automation_rules_${o.id}`;localStorage.setItem(w,JSON.stringify(x))},g=()=>{if(!o)return;if(!l.name||!l.template||l.channels.length===0){s({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}const w=[{id:`rule-${Date.now()}`,user_id:o.id,...l},...t];e(w),m(w),c({name:"",trigger:"no_response",channels:[],delay:24,template:"",active:!0}),a(!1),s({title:"Success",description:"Automation rule created successfully"})},v=(x,w)=>{const S=t.map(E=>E.id===x?{...E,active:!E.active}:E);e(S),m(S),s({title:"Success",description:"Automation rule updated"})},y=x=>{const w=t.filter(S=>S.id!==x);e(w),m(w),s({title:"Success",description:"Automation rule deleted"})},b=x=>{c(w=>({...w,channels:w.channels.includes(x)?w.channels.filter(S=>S!==x):[...w.channels,x],template:w.channels.includes(x)?w.template:h[x]||w.template}))};return _.useEffect(()=>{p()},[o]),n?u.jsx("div",{className:"flex items-center justify-center p-8",children:u.jsx(Zc,{})}):u.jsxs("div",{className:"space-y-6",children:[u.jsx(ur,{children:u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold bg-ai-gradient bg-clip-text text-transparent",children:"Campaign Automation"}),u.jsx("p",{className:"text-muted-foreground",children:"Set up automated follow-ups and drip campaigns"})]}),u.jsxs(se,{onClick:()=>a(!0),variant:"hero",className:"hover-lift",children:[u.jsx(Kh,{className:"w-4 h-4 mr-2"}),"New Automation Rule"]})]})}),u.jsx(ur,{delay:100,children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs(ee,{className:"hover-lift",children:[u.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(We,{className:"text-sm font-medium",children:"Active Rules"}),u.jsx(Rr,{className:"h-4 w-4 text-primary"})]}),u.jsxs(Me,{children:[u.jsx("div",{className:"text-2xl font-bold",children:t.filter(x=>x.active).length}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Out of ",t.length," total rules"]})]})]}),u.jsxs(ee,{className:"hover-lift",children:[u.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(We,{className:"text-sm font-medium",children:"Avg Delay"}),u.jsx(dl,{className:"h-4 w-4 text-secondary"})]}),u.jsxs(Me,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.length>0?Math.round(t.reduce((x,w)=>x+w.delay,0)/t.length):0,"h"]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Average follow-up delay"})]})]}),u.jsxs(ee,{className:"hover-lift",children:[u.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(We,{className:"text-sm font-medium",children:"Multi-Channel"}),u.jsx(Ea,{className:"h-4 w-4 text-accent"})]}),u.jsxs(Me,{children:[u.jsx("div",{className:"text-2xl font-bold",children:t.filter(x=>x.channels.length>1).length}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Rules using multiple channels"})]})]})]})}),i&&u.jsx(ur,{children:u.jsxs(ee,{className:"border-primary/20",children:[u.jsx(Ve,{children:u.jsxs(We,{className:"flex items-center gap-2",children:[u.jsx(qm,{className:"w-5 h-5"}),"Create Automation Rule"]})}),u.jsxs(Me,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Le,{htmlFor:"rule-name",children:"Rule Name"}),u.jsx(vt,{id:"rule-name",placeholder:"e.g., WhatsApp Follow-up",value:l.name,onChange:x=>c(w=>({...w,name:x.target.value}))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Le,{htmlFor:"trigger",children:"Trigger Event"}),u.jsxs(Ps,{value:l.trigger,onValueChange:x=>c(w=>({...w,trigger:x})),children:[u.jsx(Ga,{children:u.jsx(Is,{})}),u.jsx(Ka,{children:d.map(x=>u.jsx(rn,{value:x.value,children:x.label},x.value))})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Le,{children:"Communication Channels"}),u.jsx("div",{className:"flex flex-wrap gap-3",children:f.map(x=>{const w=x.icon,S=l.channels.includes(x.value);return u.jsxs("div",{className:`flex items-center space-x-2 p-3 border rounded-lg cursor-pointer transition-all hover-lift ${S?"border-primary bg-primary/10":"border-border"}`,onClick:()=>b(x.value),children:[u.jsx(w,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:x.label})]},x.value)})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Le,{htmlFor:"delay",children:"Delay (hours)"}),u.jsx(vt,{id:"delay",type:"number",min:"1",max:"168",value:l.delay,onChange:x=>c(w=>({...w,delay:parseInt(x.target.value)||24}))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Le,{htmlFor:"template",children:"Message Template"}),u.jsx(ds,{id:"template",placeholder:"Use {name}, {college}, etc. for personalization",value:l.template,onChange:x=>c(w=>({...w,template:x.target.value})),rows:4})]}),u.jsx(tO,{}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Jr,{id:"active",checked:l.active,onCheckedChange:x=>c(w=>({...w,active:x}))}),u.jsx(Le,{htmlFor:"active",children:"Activate immediately"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(se,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),u.jsx(se,{onClick:g,variant:"hero",className:"hover-lift",children:"Create Rule"})]})]})]})]})}),u.jsx(ur,{delay:200,children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Automation Rules"}),t.length===0?u.jsx(ee,{children:u.jsxs(Me,{className:"text-center py-8",children:[u.jsx(Rr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),u.jsx("p",{className:"text-muted-foreground",children:"No automation rules created yet"}),u.jsx(se,{variant:"outline",className:"mt-4",onClick:()=>a(!0),children:"Create Your First Rule"})]})}):t.map((x,w)=>{var S;return u.jsx(ur,{delay:300+w*50,children:u.jsx(ee,{className:"hover-scale transition-all duration-200",children:u.jsxs(Me,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-3 h-3 rounded-full ${x.active?"bg-green-500":"bg-gray-400"}`}),u.jsx("h4",{className:"font-semibold",children:x.name}),u.jsx(on,{variant:"secondary",children:(S=d.find(E=>E.value===x.trigger))==null?void 0:S.label})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(se,{variant:"ghost",size:"sm",onClick:()=>v(x.id,x.active),className:"hover-lift",children:x.active?u.jsx(pB,{className:"w-4 h-4"}):u.jsx(Fs,{className:"w-4 h-4"})}),u.jsx(se,{variant:"ghost",size:"sm",onClick:()=>y(x.id),className:"hover-lift text-destructive",children:u.jsx(gB,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Channels:"}),u.jsx("div",{className:"flex gap-1 mt-1",children:x.channels.map(E=>{const A=f.find(C=>C.value===E),j=(A==null?void 0:A.icon)||$r;return u.jsxs(on,{variant:"outline",className:"text-xs",children:[u.jsx(j,{className:"w-3 h-3 mr-1"}),A==null?void 0:A.label]},E)})})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Delay:"}),u.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[u.jsx(dl,{className:"w-3 h-3"}),x.delay," hours"]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Status:"}),u.jsx("div",{className:"mt-1",children:u.jsx(on,{variant:x.active?"default":"secondary",children:x.active?"Active":"Paused"})})]})]}),u.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50",children:[u.jsx("span",{className:"text-muted-foreground text-sm",children:"Template Preview:"}),u.jsx("p",{className:"text-sm mt-1 line-clamp-2",children:x.template})]})]})})},x.id)})]})})]})},jK=()=>{const[t,e]=_.useState(!1),[n,r]=_.useState("default"),[i,a]=_.useState({campaignUpdates:!0,newResponses:!0,scheduleReminders:!0,weeklyReports:!1}),{toast:s}=Mt(),{user:o}=zn();_.useEffect(()=>{l(),c()},[o]);const l=()=>{"Notification"in window&&(r(Notification.permission),e(Notification.permission==="granted"))},c=async()=>{if(o)try{const{data:m,error:g}=await Be.from("profiles").select("notifications_enabled, email_alerts, sms_alerts").eq("user_id",o.id).single();if(g&&g.code!=="PGRST116"){console.error("Error loading notification settings:",g);return}m&&a(v=>({...v,campaignUpdates:m.notifications_enabled??!0,newResponses:m.email_alerts??!0,scheduleReminders:m.sms_alerts??!1}))}catch(m){console.error("Error loading notification settings:",m)}},d=async()=>{if(!("Notification"in window)){s({title:"Not Supported",description:"Your browser does not support notifications",variant:"destructive"});return}try{const m=await Notification.requestPermission();r(m),m==="granted"?(e(!0),new Notification("AdmitConnect AI",{body:"Notifications enabled! You'll now receive updates about your campaigns.",icon:"/favicon.ico",badge:"/favicon.ico"}),s({title:"Success",description:"Browser notifications enabled successfully!"}),await f({...i,campaignUpdates:!0})):s({title:"Permission Denied",description:"Please enable notifications in your browser settings",variant:"destructive"})}catch(m){console.error("Error requesting notification permission:",m),s({title:"Error",description:"Failed to enable notifications",variant:"destructive"})}},f=async m=>{if(o)try{const{error:g}=await Be.from("profiles").update({notifications_enabled:m.campaignUpdates,email_alerts:m.newResponses,sms_alerts:m.scheduleReminders}).eq("user_id",o.id);if(g)throw g;a(m),s({title:"Settings Updated",description:"Notification preferences saved successfully"})}catch(g){console.error("Error updating notification settings:",g),s({title:"Error",description:"Failed to update notification settings",variant:"destructive"})}},h=()=>{n==="granted"&&new Notification("Test Notification",{body:"This is a test notification from AdmitConnect AI",icon:"/favicon.ico",badge:"/favicon.ico"})},p=(m,g)=>{const v={...i,[m]:g};f(v)};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold bg-ai-gradient bg-clip-text text-transparent mb-2",children:"Notification Center"}),u.jsx("p",{className:"text-muted-foreground",children:"Stay updated with real-time alerts about your campaigns and responses"})]}),u.jsxs(ee,{className:"hover-scale transition-all duration-200",children:[u.jsx(Ve,{children:u.jsxs(We,{className:"flex items-center gap-2",children:[u.jsx(aE,{className:"w-5 h-5"}),"Browser Notifications"]})}),u.jsxs(Me,{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"font-medium",children:"Push Notifications"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Get instant updates directly in your browser"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(on,{variant:n==="granted"?"default":"secondary",children:n==="granted"?"Enabled":"Disabled"}),n!=="granted"&&u.jsx(se,{onClick:d,variant:"hero",size:"sm",className:"hover-lift",children:"Enable"})]})]}),n==="granted"&&u.jsx("div",{className:"pt-4 border-t",children:u.jsx(se,{variant:"outline",size:"sm",onClick:h,className:"hover-lift",children:"Send Test Notification"})})]})]}),u.jsxs(ee,{className:"hover-scale transition-all duration-200",children:[u.jsx(Ve,{children:u.jsx(We,{children:"Notification Preferences"})}),u.jsxs(Me,{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Le,{className:"flex items-center gap-2",children:[u.jsx(Xn,{className:"w-4 h-4"}),"Campaign Updates"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications when campaigns start, complete, or need attention"})]}),u.jsx(Jr,{checked:i.campaignUpdates,onCheckedChange:m=>p("campaignUpdates",m),disabled:n!=="granted"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Le,{className:"flex items-center gap-2",children:[u.jsx($r,{className:"w-4 h-4"}),"New Responses"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Immediate alerts when candidates respond to your outreach"})]}),u.jsx(Jr,{checked:i.newResponses,onCheckedChange:m=>p("newResponses",m),disabled:n!=="granted"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Le,{className:"flex items-center gap-2",children:[u.jsx(Mp,{className:"w-4 h-4"}),"Schedule Reminders"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Reminders for upcoming deadlines and follow-ups"})]}),u.jsx(Jr,{checked:i.scheduleReminders,onCheckedChange:m=>p("scheduleReminders",m),disabled:n!=="granted"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs(Le,{className:"flex items-center gap-2",children:[u.jsx(aE,{className:"w-4 h-4"}),"Weekly Reports"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Weekly summary of campaign performance and metrics"})]}),u.jsx(Jr,{checked:i.weeklyReports,onCheckedChange:m=>p("weeklyReports",m),disabled:n!=="granted"})]})]})]}),u.jsxs(ee,{className:"hover-scale transition-all duration-200",children:[u.jsx(Ve,{children:u.jsx(We,{children:"Recent Notifications"})}),u.jsx(Me,{children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[u.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium",children:'Campaign "Fall 2024 Intake" completed'}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"2 hours ago"})]})]}),u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[u.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium",children:"New response from candidate"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"4 hours ago"})]})]}),u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[u.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium",children:"Weekly report is ready"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Yesterday"})]})]})]})})]})]})};var kN="Checkbox",[pVe,gWe]=Sa(kN),[mVe,gVe]=pVe(kN),AK=_.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:s,disabled:o,value:l="on",onCheckedChange:c,form:d,...f}=t,[h,p]=_.useState(null),m=rt(e,w=>p(w)),g=_.useRef(!1),v=h?d||!!h.closest("form"):!0,[y=!1,b]=as({prop:i,defaultProp:a,onChange:c}),x=_.useRef(y);return _.useEffect(()=>{const w=h==null?void 0:h.form;if(w){const S=()=>b(x.current);return w.addEventListener("reset",S),()=>w.removeEventListener("reset",S)}},[h,b]),u.jsxs(mVe,{scope:n,state:y,disabled:o,children:[u.jsx(Pe.button,{type:"button",role:"checkbox","aria-checked":sl(y)?"mixed":y,"aria-required":s,"data-state":kK(y),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:m,onKeyDown:he(t.onKeyDown,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:he(t.onClick,w=>{b(S=>sl(S)?!0:!S),v&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),v&&u.jsx(yVe,{control:h,bubbles:!g.current,name:r,value:l,checked:y,required:s,disabled:o,form:d,style:{transform:"translateX(-100%)"},defaultChecked:sl(a)?!1:a})]})});AK.displayName=kN;var CK="CheckboxIndicator",TK=_.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,a=gVe(CK,n);return u.jsx(er,{present:r||sl(a.state)||a.state===!0,children:u.jsx(Pe.span,{"data-state":kK(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});TK.displayName=CK;var yVe=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:i,...a}=t,s=_.useRef(null),o=rO(n),l=ET(e);_.useEffect(()=>{const d=s.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(o!==n&&p){const m=new Event("click",{bubbles:r});d.indeterminate=sl(n),p.call(d,sl(n)?!1:n),d.dispatchEvent(m)}},[o,n,r]);const c=_.useRef(sl(n)?!1:n);return u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??c.current,...a,tabIndex:-1,ref:s,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function sl(t){return t==="indeterminate"}function kK(t){return sl(t)?"indeterminate":t?"checked":"unchecked"}var OK=AK,vVe=TK;const NK=_.forwardRef(({className:t,...e},n)=>u.jsx(OK,{ref:n,className:je("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:u.jsx(vVe,{className:je("flex items-center justify-center text-current"),children:u.jsx(Ux,{className:"h-4 w-4"})})}));NK.displayName=OK.displayName;const PK=({campaign:t,onExecutionComplete:e})=>{const[n,r]=_.useState([]),[i,a]=_.useState(0),[s,o]=_.useState(!1),{toast:l}=Mt(),c=[{id:"email",label:"Email",icon:ti,color:"text-blue-500"},{id:"voice",label:"Voice Call",icon:Di,color:"text-green-500"},{id:"whatsapp",label:"WhatsApp",icon:$r,color:"text-emerald-500"}],d=h=>{r(p=>p.includes(h)?p.filter(m=>m!==h):[...p,h])},f=async()=>{if(n.length===0){l({title:"No Channels Selected",description:"Please select at least one communication channel",variant:"destructive"});return}o(!0);try{const{data:h,error:p}=await Be.functions.invoke("campaign-orchestrator",{body:{campaignId:t.id,channels:n,delay:i}});if(p)throw p;l({title:"Campaign Started Successfully",description:`Executing across ${n.length} channel(s) with ${i}min delay`}),e==null||e()}catch(h){console.error("Campaign execution error:",h);const p=h.message||"Unknown error occurred",m=h.details||h.hint||"";l({title:"Campaign Execution Failed",description:`${p}. ${m}`,variant:"destructive"})}finally{o(!1)}};return u.jsxs(ee,{className:"border-primary/20",children:[u.jsx(Ve,{children:u.jsxs(We,{className:"flex items-center gap-2",children:[u.jsx(Rr,{className:"w-5 h-5 text-primary"}),"Execute Campaign: ",t.name]})}),u.jsxs(Me,{className:"space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ea,{className:"w-4 h-4 text-muted-foreground"}),u.jsxs("span",{className:"text-sm",children:[t.candidates_count," candidates"]})]}),u.jsx(on,{variant:"secondary",children:t.status})]})}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(Le,{className:"text-base font-medium",children:"Select Communication Channels"}),u.jsx("div",{className:"grid grid-cols-1 gap-3",children:c.map(h=>{const p=h.icon,m=n.includes(h.id);return u.jsxs("div",{className:`flex items-center space-x-3 p-4 border rounded-lg cursor-pointer transition-all hover-lift ${m?"border-primary bg-primary/5":"border-border"}`,onClick:()=>d(h.id),children:[u.jsx(NK,{checked:m,onChange:()=>d(h.id)}),u.jsx(p,{className:`w-5 h-5 ${h.color}`}),u.jsx(Le,{className:"flex-1 cursor-pointer",children:h.label})]},h.id)})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Le,{htmlFor:"delay",className:"text-base font-medium",children:"Delay Between Channels (minutes)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(dl,{className:"w-4 h-4 text-muted-foreground"}),u.jsx(vt,{id:"delay",type:"number",min:"0",max:"1440",value:i,onChange:h=>a(parseInt(h.target.value)||0),className:"w-24"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"minutes"})]})]}),u.jsx(se,{onClick:f,disabled:s||n.length===0,className:"w-full",variant:"hero",children:s?u.jsxs(u.Fragment,{children:[u.jsx(Zc,{size:"sm",className:"mr-2"}),"Executing Campaign..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Fs,{className:"w-4 h-4 mr-2"}),"Execute Campaign"]})}),n.length>0&&u.jsxs("div",{className:"text-sm text-muted-foreground text-center",children:["Will execute: ",n.join("  "),i>0&&` with ${i}min delay between channels`]})]})]})},xVe=()=>{const[t,e]=_.useState("counseling"),[n,r]=_.useState(!1),[i,a]=_.useState(null),[s,o]=_.useState({gpa:void 0,sat:void 0,act:void 0,extracurriculars:"",interests:"",targetMajor:"",location:""}),{toast:l}=Mt(),{user:c}=zn(),d=async()=>{var h,p;if(!c){l({title:"Authentication required",description:"Please sign in to use the counseling crew",variant:"destructive"});return}r(!0),a(null);try{const m={...s,extracurriculars:((h=s.extracurriculars)==null?void 0:h.split(",").map(y=>y.trim()))||[],interests:((p=s.interests)==null?void 0:p.split(",").map(y=>y.trim()))||[]},{data:g,error:v}=await Be.functions.invoke("college-counseling-crew",{body:{crewType:"counseling",profile:m}});if(v)throw v;if(g.success)a(g.output),l({title:"Analysis Complete",description:"Your personalized college counseling report is ready"});else throw new Error(g.error||"Failed to generate report")}catch(m){console.error("Error running counseling crew:",m),l({title:"Error",description:m instanceof Error?m.message:"Failed to generate counseling report",variant:"destructive"})}finally{r(!1)}},f=async()=>{if(!c){l({title:"Authentication required",description:"Please sign in to use the operations crew",variant:"destructive"});return}r(!0),a(null);try{const{data:h,error:p}=await Be.functions.invoke("college-counseling-crew",{body:{crewType:"operations",userId:c.id}});if(p)throw p;if(h.success)a(h.output),l({title:"Analysis Complete",description:"Your campaign strategy report is ready"});else throw new Error(h.error||"Failed to generate report")}catch(h){console.error("Error running operations crew:",h),l({title:"Error",description:h instanceof Error?h.message:"Failed to generate operations report",variant:"destructive"})}finally{r(!1)}};return u.jsxs(ee,{className:"w-full",children:[u.jsx(Ve,{children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-ai-gradient rounded-lg flex items-center justify-center",children:u.jsx(Mi,{className:"w-6 h-6 text-white"})}),u.jsxs("div",{children:[u.jsx(We,{className:"text-2xl",children:"Autonomous AI Counseling Crew"}),u.jsx(Zr,{children:"Multi-agent system with RAG and real-time data integration"})]})]})}),u.jsxs(Me,{children:[u.jsxs(Ml,{value:t,onValueChange:h=>e(h),children:[u.jsxs(co,{className:"grid w-full grid-cols-2",children:[u.jsxs(ct,{value:"counseling",className:"gap-2",children:[u.jsx(Ea,{className:"w-4 h-4"}),"Personalized Counseling"]}),u.jsxs(ct,{value:"operations",className:"gap-2",children:[u.jsx(Xn,{className:"w-4 h-4"}),"Campaign Operations"]})]}),u.jsxs(ut,{value:"counseling",className:"space-y-6 mt-6",children:[u.jsxs("div",{className:"grid gap-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx(Le,{htmlFor:"gpa",children:"GPA"}),u.jsx(vt,{id:"gpa",type:"number",step:"0.01",min:"0",max:"4",placeholder:"3.8",value:s.gpa||"",onChange:h=>o({...s,gpa:parseFloat(h.target.value)})})]}),u.jsxs("div",{children:[u.jsx(Le,{htmlFor:"sat",children:"SAT Score"}),u.jsx(vt,{id:"sat",type:"number",placeholder:"1450",value:s.sat||"",onChange:h=>o({...s,sat:parseInt(h.target.value)})})]}),u.jsxs("div",{children:[u.jsx(Le,{htmlFor:"act",children:"ACT Score"}),u.jsx(vt,{id:"act",type:"number",placeholder:"32",value:s.act||"",onChange:h=>o({...s,act:parseInt(h.target.value)})})]})]}),u.jsxs("div",{children:[u.jsx(Le,{htmlFor:"targetMajor",children:"Target Major"}),u.jsx(vt,{id:"targetMajor",placeholder:"Computer Science",value:s.targetMajor,onChange:h=>o({...s,targetMajor:h.target.value})})]}),u.jsxs("div",{children:[u.jsx(Le,{htmlFor:"location",children:"Preferred Location"}),u.jsx(vt,{id:"location",placeholder:"Northeast, California, etc.",value:s.location,onChange:h=>o({...s,location:h.target.value})})]}),u.jsxs("div",{children:[u.jsx(Le,{htmlFor:"extracurriculars",children:"Extracurriculars (comma-separated)"}),u.jsx(ds,{id:"extracurriculars",placeholder:"Debate Club Captain, Varsity Soccer, Student Council",value:s.extracurriculars,onChange:h=>o({...s,extracurriculars:h.target.value}),rows:3})]}),u.jsxs("div",{children:[u.jsx(Le,{htmlFor:"interests",children:"Interests (comma-separated)"}),u.jsx(ds,{id:"interests",placeholder:"Artificial Intelligence, Environmental Policy, Creative Writing",value:s.interests,onChange:h=>o({...s,interests:h.target.value}),rows:3})]})]}),u.jsxs("div",{className:"flex items-center gap-4 p-4 bg-muted/50 rounded-lg",children:[u.jsx(rd,{className:"w-5 h-5 text-primary"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium",children:"Agents Activated"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"College Profile Analyst  College Matchmaking Specialist"})]}),u.jsx(on,{variant:"secondary",children:"RAG Enabled"})]}),u.jsx(se,{onClick:d,disabled:n||!s.gpa,className:"w-full",size:"lg",variant:"hero",children:n?u.jsxs(u.Fragment,{children:[u.jsx(Fv,{className:"w-5 h-5 mr-2 animate-spin"}),"Agents Working..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Mi,{className:"w-5 h-5 mr-2"}),"Generate Personalized Counseling Report"]})})]}),u.jsxs(ut,{value:"operations",className:"space-y-6 mt-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx(ee,{className:"border-primary/20",children:u.jsxs(Ve,{children:[u.jsxs(We,{className:"text-lg flex items-center gap-2",children:[u.jsx(ei,{className:"w-5 h-5 text-primary"}),"Strategic Dashboard Analysis"]}),u.jsx(Zr,{children:"Analyzes your campaign data for trends, patterns, and optimization opportunities"})]})}),u.jsx(ee,{className:"border-primary/20",children:u.jsxs(Ve,{children:[u.jsxs(We,{className:"text-lg flex items-center gap-2",children:[u.jsx(ei,{className:"w-5 h-5 text-primary"}),"Campaign Strategy Design"]}),u.jsx(Zr,{children:"Creates targeted multi-channel campaign strategies based on data insights"})]})})]}),u.jsxs("div",{className:"flex items-center gap-4 p-4 bg-muted/50 rounded-lg",children:[u.jsx(rd,{className:"w-5 h-5 text-primary"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium",children:"Agents Activated"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Strategic Dashboard Analyst  Campaign Operations Executive"})]}),u.jsx(on,{variant:"secondary",children:"Real-Time Data"})]}),u.jsx(se,{onClick:f,disabled:n,className:"w-full",size:"lg",variant:"hero",children:n?u.jsxs(u.Fragment,{children:[u.jsx(Fv,{className:"w-5 h-5 mr-2 animate-spin"}),"Analyzing Data..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Xn,{className:"w-5 h-5 mr-2"}),"Generate Campaign Strategy Report"]})})]})]}),i&&u.jsxs(ee,{className:"mt-6 border-primary/20",children:[u.jsx(Ve,{children:u.jsxs(We,{className:"flex items-center gap-2",children:[u.jsx(rd,{className:"w-5 h-5 text-primary"}),"Crew Report"]})}),u.jsx(Me,{children:u.jsx(Pb,{className:"h-[600px] w-full rounded-md border p-4",children:u.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:u.jsx(Vk,{children:i})})})})]})]})]})},bVe=()=>{var v;const t=pi(),{user:e,signOut:n}=zn(),{toast:r}=Mt(),[i,a]=_.useState(null),[s,o]=_.useState(!1),[l,c]=_.useState(!1),[d,f]=_.useState([]),[h,p]=_.useState({totalCampaigns:0,messagesSent:0,callsMade:0,responseRate:0});_.useEffect(()=>{m()},[e]),_.useEffect(()=>{const y=Be.channel("dashboard-analytics").on("postgres_changes",{event:"INSERT",schema:"public",table:"campaign_analytics"},b=>{console.log("Real-time analytics update:",b),r({title:"New Activity",description:`Agent ${b.new.channel} reported: ${b.new.status}`}),m()}).subscribe();return()=>{Be.removeChannel(y)}},[]);const m=async()=>{if(e)try{const{data:y,error:b}=await Be.from("campaigns").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(b)throw b;f(y||[]);const x=(y==null?void 0:y.length)||0,w=(y==null?void 0:y.reduce((C,T)=>C+(T.messages_sent||0),0))||0,S=(y==null?void 0:y.reduce((C,T)=>C+(T.calls_made||0),0))||0,E=(y==null?void 0:y.reduce((C,T)=>C+(T.responses_received||0),0))||0,A=w+S,j=A>0?Math.round(E/A*100):0;p({totalCampaigns:x,messagesSent:w,callsMade:S,responseRate:j})}catch(y){console.error("Error loading dashboard data:",y),r({title:"Error loading data",description:"Failed to load dashboard data. Please refresh the page.",variant:"destructive"})}},g=async()=>{try{await n(),t("/")}catch(y){console.error("Error signing out:",y),r({title:"Sign out failed",description:"Please try again",variant:"destructive"})}};return u.jsxs("div",{className:"min-h-screen bg-ai-gradient-subtle",children:[u.jsx("div",{className:"bg-card/50 backdrop-blur-sm border-b border-border/50 sticky top-0 z-40",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-ai-gradient rounded-lg flex items-center justify-center",children:u.jsx(ha,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-lg font-semibold",children:"AdmitConnect AI"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Dashboard"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(se,{variant:"outline",size:"sm",onClick:()=>c(!0),children:[u.jsx(Xn,{className:"w-4 h-4 mr-2"}),"Upgrade"]}),u.jsx(se,{variant:"ghost",size:"sm",onClick:()=>o(!0),children:u.jsx(qm,{className:"w-4 h-4"})}),u.jsx(se,{variant:"ghost",size:"sm",onClick:g,children:u.jsx(hT,{className:"w-4 h-4"})})]})]})})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("h2",{className:"text-2xl font-bold mb-2",children:["Welcome back, ",((v=e==null?void 0:e.user_metadata)==null?void 0:v.full_name)||(e==null?void 0:e.email),"! "]}),u.jsx("p",{className:"text-muted-foreground",children:"Manage your admission campaigns and track performance from your dashboard."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[u.jsx(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:u.jsx(xc,{className:"w-5 h-5 text-blue-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Campaigns"}),u.jsx("p",{className:"text-2xl font-bold",children:h.totalCampaigns})]})]})}),u.jsx(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:u.jsx($r,{className:"w-5 h-5 text-green-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Messages Sent"}),u.jsx("p",{className:"text-2xl font-bold",children:h.messagesSent})]})]})}),u.jsx(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Di,{className:"w-5 h-5 text-purple-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Calls Made"}),u.jsx("p",{className:"text-2xl font-bold",children:h.callsMade})]})]})}),u.jsx(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-orange-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Xn,{className:"w-5 h-5 text-orange-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Response Rate"}),u.jsxs("p",{className:"text-2xl font-bold",children:[h.responseRate,"%"]})]})]})})]}),u.jsxs(Ml,{defaultValue:"overview",className:"space-y-6",children:[u.jsxs(co,{className:"grid w-full grid-cols-6",children:[u.jsx(ct,{value:"overview",children:"Overview"}),u.jsx(ct,{value:"campaigns",children:"Campaigns"}),u.jsx(ct,{value:"ai-crew",children:"AI Crew"}),u.jsx(ct,{value:"analytics",children:"Analytics"}),u.jsx(ct,{value:"automation",children:"Automation"}),u.jsx(ct,{value:"notifications",children:"Notifications"})]}),u.jsx(ut,{value:"overview",className:"space-y-6",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Recent Campaigns"}),u.jsxs(se,{onClick:()=>a("create-campaign"),variant:"hero",children:[u.jsx(Kh,{className:"w-4 h-4 mr-2"}),"New Campaign"]})]}),d.length===0?u.jsxs(ee,{className:"p-8 text-center bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx(xc,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No campaigns yet"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first campaign to start reaching prospective students."}),u.jsx(se,{onClick:()=>a("create-campaign"),variant:"hero",children:"Create Your First Campaign"})]}):u.jsxs("div",{className:"space-y-4",children:[d.slice(0,3).map(y=>u.jsx(Oj,{campaign:y,onUpdate:m},y.id)),d.length>3&&u.jsxs(ee,{className:"p-4 text-center bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("p",{className:"text-muted-foreground",children:["+",d.length-3," more campaigns"]}),u.jsx(se,{variant:"ghost",size:"sm",className:"mt-2",children:"View All Campaigns"})]})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsx(b1e,{campaigns:d,stats:h}),u.jsxs(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[u.jsx(Rr,{className:"w-5 h-5 text-primary"}),"Quick Actions"]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(se,{variant:"outline",className:"w-full justify-start",onClick:()=>a("upload-candidates"),children:[u.jsx(gT,{className:"w-4 h-4 mr-2"}),"Upload Candidates"]}),u.jsxs(se,{variant:"outline",className:"w-full justify-start",onClick:()=>a("create-campaign"),children:[u.jsx(Kh,{className:"w-4 h-4 mr-2"}),"Create Campaign"]}),d.length>0&&u.jsxs(se,{variant:"outline",className:"w-full justify-start",onClick:()=>a("execute-campaign"),children:[u.jsx(Fs,{className:"w-4 h-4 mr-2"}),"Execute Campaign"]}),u.jsxs(se,{variant:"outline",className:"w-full justify-start",onClick:()=>c(!0),children:[u.jsx(Xn,{className:"w-4 h-4 mr-2"}),"Upgrade Plan"]})]})]})]})]})}),u.jsxs(ut,{value:"campaigns",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"All Campaigns"}),u.jsxs(se,{onClick:()=>a("create-campaign"),variant:"hero",children:[u.jsx(Kh,{className:"w-4 h-4 mr-2"}),"New Campaign"]})]}),d.length===0?u.jsxs(ee,{className:"p-8 text-center bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx(xc,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No campaigns yet"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first campaign to start reaching prospective students."}),u.jsx(se,{onClick:()=>a("create-campaign"),variant:"hero",children:"Create Your First Campaign"})]}):u.jsx("div",{className:"grid grid-cols-1 gap-4",children:d.map(y=>u.jsx(Oj,{campaign:y,onUpdate:m},y.id))})]}),u.jsx(ut,{value:"ai-crew",children:u.jsx(xVe,{})}),u.jsx(ut,{value:"analytics",children:u.jsx(SK,{})}),u.jsx(ut,{value:"automation",children:u.jsx(EK,{})}),u.jsx(ut,{value:"notifications",children:u.jsx(jK,{})})]})]}),u.jsx(Ni,{open:i==="create-campaign",onOpenChange:y=>!y&&a(null),children:u.jsxs(ii,{className:"max-w-2xl",children:[u.jsx(ai,{children:u.jsx(si,{children:"Create New Campaign"})}),u.jsx(x7,{onCampaignCreated:()=>{a(null),m()}})]})}),u.jsx(Ni,{open:i==="upload-candidates",onOpenChange:y=>!y&&a(null),children:u.jsxs(ii,{className:"max-w-2xl",children:[u.jsx(ai,{children:u.jsx(si,{children:"Upload Candidates"})}),u.jsx(v7,{onUploadComplete:()=>{a(null),m()}})]})}),u.jsx(Ni,{open:i==="execute-campaign",onOpenChange:y=>!y&&a(null),children:u.jsxs(ii,{className:"max-w-2xl",children:[u.jsx(ai,{children:u.jsx(si,{children:"Execute Campaign"})}),d.length>0&&u.jsx(PK,{campaign:d[0],onExecutionComplete:()=>{a(null),m(),r({title:"Campaign Executed",description:"Your campaign is now running across selected channels"})}})]})}),u.jsx(uO,{open:s,onOpenChange:o}),u.jsx(xO,{open:l,onOpenChange:c})]})},wVe=()=>{const[t,e]=_.useState(!1),[n,r]=_.useState(!1);return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(nO,{onContactClick:()=>e(!0),onScheduleClick:()=>r(!0)}),u.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:u.jsxs("div",{className:"text-center space-y-6",children:[u.jsx("h1",{className:"text-4xl md:text-6xl font-bold",children:u.jsx("span",{className:"bg-ai-gradient bg-clip-text text-transparent",children:"About AdmitConnect AI"})}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Revolutionizing college admissions through AI-powered automation, personalized outreach, and intelligent campaign management."})]})}),u.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Our Mission"}),u.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:"We empower educational institutions to connect with prospective students through intelligent automation, personalized messaging, and data-driven insights."}),u.jsx("p",{className:"text-lg text-muted-foreground",children:"Our platform combines cutting-edge AI technology with proven admission strategies to help colleges and universities scale their outreach efforts while maintaining a personal touch."})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx(Lp,{className:"w-8 h-8 text-primary mb-4"}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Targeted Outreach"}),u.jsx("p",{className:"text-muted-foreground",children:"Reach the right students with personalized messaging that resonates with their interests and goals."})]}),u.jsxs(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx(Rr,{className:"w-8 h-8 text-primary mb-4"}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Automated Efficiency"}),u.jsx("p",{className:"text-muted-foreground",children:"Save time and resources while increasing your reach with intelligent automation that works 24/7."})]})]})]})}),u.jsx("section",{className:"py-16 bg-ai-gradient-subtle",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Making an Impact"}),u.jsx("p",{className:"text-xl text-muted-foreground",children:"See how we're transforming college admissions nationwide"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent mb-2",children:"500+"}),u.jsx("p",{className:"text-muted-foreground",children:"Colleges Served"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent mb-2",children:"2M+"}),u.jsx("p",{className:"text-muted-foreground",children:"Students Reached"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent mb-2",children:"85%"}),u.jsx("p",{className:"text-muted-foreground",children:"Response Rate"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl font-bold bg-ai-gradient bg-clip-text text-transparent mb-2",children:"98%"}),u.jsx("p",{className:"text-muted-foreground",children:"Client Satisfaction"})]})]})]})}),u.jsxs("section",{className:"py-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Meet the AdmitConnect AI Team"}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto mb-8",children:"Our passionate team of AI experts, educators, and developers is dedicated to revolutionizing the college admission process."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[u.jsx(se,{size:"lg",variant:"hero",onClick:()=>window.open("/our-services","_blank"),className:"text-lg px-8 py-3",children:"Learn More About Our Services"}),u.jsxs(se,{size:"lg",variant:"outline",onClick:()=>e(!0),className:"text-lg px-8 py-3",children:[u.jsx(ti,{className:"w-5 h-5 mr-2"}),"Contact Us"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs(ee,{className:"p-6 text-center bg-card/50 backdrop-blur-sm border-border/50 hover:shadow-xl transition-all duration-300",children:[u.jsx("div",{className:"w-20 h-20 bg-ai-gradient rounded-full mx-auto mb-4 flex items-center justify-center",children:u.jsx(Ea,{className:"w-10 h-10 text-white"})}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"AI & Technology"}),u.jsx("p",{className:"text-muted-foreground",children:"Cutting-edge AI researchers and engineers building the future of educational technology."})]}),u.jsxs(ee,{className:"p-6 text-center bg-card/50 backdrop-blur-sm border-border/50 hover:shadow-xl transition-all duration-300",children:[u.jsx("div",{className:"w-20 h-20 bg-ai-gradient rounded-full mx-auto mb-4 flex items-center justify-center",children:u.jsx(Lp,{className:"w-10 h-10 text-white"})}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Education Experts"}),u.jsx("p",{className:"text-muted-foreground",children:"Former admissions counselors and education professionals who understand the industry."})]}),u.jsxs(ee,{className:"p-6 text-center bg-card/50 backdrop-blur-sm border-border/50 hover:shadow-xl transition-all duration-300",children:[u.jsx("div",{className:"w-20 h-20 bg-ai-gradient rounded-full mx-auto mb-4 flex items-center justify-center",children:u.jsx(Rr,{className:"w-10 h-10 text-white"})}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Customer Success"}),u.jsx("p",{className:"text-muted-foreground",children:"Dedicated support team ensuring every client achieves their enrollment goals."})]})]})]}),u.jsx("section",{className:"py-16 bg-card/50",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[u.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Get in Touch"}),u.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Ready to transform your admissions process? Let's discuss how AdmitConnect AI can help your institution thrive."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsxs(se,{variant:"hero",size:"lg",onClick:()=>r(!0),className:"hover-lift",children:[u.jsx(Mp,{className:"w-5 h-5 mr-2"}),"Schedule Demo"]}),u.jsxs(se,{variant:"outline",size:"lg",onClick:()=>e(!0),className:"hover-lift",children:[u.jsx(ti,{className:"w-5 h-5 mr-2"}),"Contact Sales"]})]}),u.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-2 gap-8 max-w-2xl mx-auto",children:[u.jsxs("a",{href:"mailto:admitconnectAI@gmail.com",className:"flex flex-col items-center p-6 bg-card rounded-lg border border-border/50 hover:border-primary/50 transition-all hover:shadow-lg group",children:[u.jsx(ti,{className:"w-12 h-12 text-primary mb-4 group-hover:scale-110 transition-transform"}),u.jsx("h3",{className:"font-semibold mb-2",children:"Email"}),u.jsx("p",{className:"text-muted-foreground text-sm text-center break-all",children:"admitconnectAI@gmail.com"})]}),u.jsxs("a",{href:"https://wa.me/918439663198",target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center p-6 bg-card rounded-lg border border-border/50 hover:border-primary/50 transition-all hover:shadow-lg group",children:[u.jsx(Bv,{className:"w-12 h-12 text-primary mb-4 group-hover:scale-110 transition-transform"}),u.jsx("h3",{className:"font-semibold mb-2",children:"WhatsApp"}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"+91 8439663198"})]})]})]})}),u.jsx(aO,{open:t,onOpenChange:e}),u.jsx(Fb,{open:n,onOpenChange:r}),u.jsx(dH,{}),u.jsx(YH,{})]})},_Ve=()=>{pi();const[t,e]=_.useState(!1),[n,r]=_.useState(!1),i=[{icon:Mi,title:"AI-Driven Admission Counseling",description:"Intelligent guidance powered by advanced AI algorithms",features:["Personalized course recommendations","University matching based on profile","Real-time admission probability analysis","Document requirement tracking","Application timeline management"],color:"blue"},{icon:$r,title:"WhatsApp Automation",description:"Natural language communication at scale",features:["24/7 automated responses","Natural conversation flow","Multi-language support","Smart follow-up sequences","Rich media sharing"],color:"green"},{icon:Di,title:"Voice Call Automation",description:"Intelligent voice interactions with prospective students",features:["AI-powered voice calls","Natural speech recognition","Appointment scheduling","Call quality analytics","Integration with CRM systems"],color:"purple"},{icon:ul,title:"Analytics Dashboard",description:"Comprehensive insights and performance tracking",features:["Real-time engagement metrics","Conversion rate tracking","Student journey analytics","ROI measurement","Custom reporting"],color:"orange"}],a=[{icon:Lp,title:"Increased Conversion",description:"Up to 40% improvement in lead conversion rates"},{icon:dl,title:"24/7 Availability",description:"Round-the-clock student support and engagement"},{icon:Ea,title:"Scalable Operations",description:"Handle thousands of inquiries simultaneously"},{icon:mB,title:"Data Security",description:"Enterprise-grade security and privacy protection"},{icon:Rr,title:"Quick Implementation",description:"Get started in under 48 hours"},{icon:sE,title:"Global Reach",description:"Multi-language support for international students"}],s=o=>{const l={blue:"bg-blue-500/10 text-blue-500 border-blue-500/20",green:"bg-green-500/10 text-green-500 border-green-500/20",purple:"bg-purple-500/10 text-purple-500 border-purple-500/20",orange:"bg-orange-500/10 text-orange-500 border-orange-500/20"};return l[o]||l.blue};return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(nO,{onContactClick:()=>e(!0),onScheduleClick:()=>r(!0)}),u.jsx("section",{className:"pt-24 pb-16 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[u.jsxs(on,{variant:"outline",className:"mb-6 px-4 py-2",children:[u.jsx(mT,{className:"w-4 h-4 mr-2"}),"Comprehensive AI Solutions"]}),u.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 bg-ai-gradient bg-clip-text text-transparent",children:"Our Services"}),u.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-3xl mx-auto",children:"Transform your admission process with our suite of AI-powered tools designed to engage, convert, and retain prospective students at scale."})]})}),u.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:i.map((o,l)=>u.jsxs(ee,{className:"relative overflow-hidden group hover:shadow-2xl transition-all duration-300 border-border/50 bg-card/50 backdrop-blur-sm",children:[u.jsxs(Ve,{className:"pb-4",children:[u.jsx("div",{className:`w-16 h-16 rounded-xl ${s(o.color)} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300`,children:u.jsx(o.icon,{className:"w-8 h-8"})}),u.jsx(We,{className:"text-2xl mb-2",children:o.title}),u.jsx(Zr,{className:"text-base",children:o.description})]}),u.jsx(Me,{children:u.jsx("ul",{className:"space-y-3",children:o.features.map((c,d)=>u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(ei,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),u.jsx("span",{className:"text-muted-foreground",children:c})]},d))})})]},l))})})}),u.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 bg-muted/20",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Why Choose AdmitConnect AI?"}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Experience the benefits that leading educational institutions trust"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((o,l)=>u.jsxs(ee,{className:"text-center p-6 hover:shadow-lg transition-all duration-300 border-border/50 bg-card/50 backdrop-blur-sm",children:[u.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(o.icon,{className:"w-6 h-6 text-primary"})}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:o.title}),u.jsx("p",{className:"text-muted-foreground",children:o.description})]},l))})]})}),u.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"How It Works"}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Simple implementation process to get you started"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[{step:"01",title:"Integration",description:"Connect your existing systems"},{step:"02",title:"Configuration",description:"Customize AI responses and workflows"},{step:"03",title:"Training",description:"AI learns your institution's specifics"},{step:"04",title:"Launch",description:"Go live and start engaging students"}].map((o,l)=>u.jsxs("div",{className:"text-center relative",children:[u.jsx("div",{className:"w-16 h-16 bg-ai-gradient rounded-full flex items-center justify-center mx-auto mb-4 text-white font-bold text-lg",children:o.step}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:o.title}),u.jsx("p",{className:"text-muted-foreground",children:o.description}),l<3&&u.jsx(Nd,{className:"hidden md:block absolute top-8 -right-4 w-6 h-6 text-muted-foreground"})]},l))})]})}),u.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 bg-ai-gradient-subtle",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Transform Your Admissions?"}),u.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Join hundreds of institutions already using AdmitConnect AI to boost their admission success"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsxs(se,{size:"lg",variant:"hero",onClick:()=>r(!0),className:"text-lg px-8 py-3",children:["Schedule Demo",u.jsx(Nd,{className:"w-5 h-5 ml-2"})]}),u.jsx(se,{size:"lg",variant:"outline",onClick:()=>e(!0),className:"text-lg px-8 py-3",children:"Contact Sales"})]})]})}),u.jsx(aO,{open:t,onOpenChange:e}),u.jsx(Fb,{open:n,onOpenChange:r})]})},SVe=()=>{const t=kl();return _.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),u.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},EVe=()=>{const{toast:t}=Mt(),[e,n]=_.useState([]),[r,i]=_.useState([]),[a,s]=_.useState({totalCandidates:0,readyForDistribution:0,inProgress:0,completed:0,failed:0}),[o,l]=_.useState(!1),[c,d]=_.useState(""),[f,h]=_.useState("all"),[p,m]=_.useState(!1);_.useEffect(()=>{g()},[]),_.useEffect(()=>{y()},[e,c,f]);const g=async()=>{l(!0);try{const{data:S,error:E}=await Be.from("candidates").select(`
          *,
          campaigns(name, type, status)
        `).order("created_at",{ascending:!1});if(E)throw E;n(S||[]),v(S||[])}catch(S){console.error("Error loading candidate data:",S),t({title:"Error",description:"Failed to load candidate data",variant:"destructive"})}finally{l(!1)}},v=S=>{const E=S.length,A=S.filter(k=>k.status==="pending").length,j=S.filter(k=>k.status==="email_sent"||k.status==="voice_called"||k.status==="whatsapp_sent").length,C=S.filter(k=>k.response_received).length,T=S.filter(k=>k.status==="failed").length;s({totalCandidates:E,readyForDistribution:A,inProgress:j,completed:C,failed:T})},y=()=>{let S=e;c&&(S=S.filter(E=>E.name.toLowerCase().includes(c.toLowerCase())||E.email.toLowerCase().includes(c.toLowerCase())||E.phone.includes(c)||E.city.toLowerCase().includes(c.toLowerCase()))),f!=="all"&&(S=S.filter(E=>E.status===f)),i(S)},b=async(S,E)=>{m(!0);try{const A=[];for(const j of E){let C="";switch(j){case"email":C="email-agent";break;case"voice":C="voice-agent";break;case"whatsapp":C="whatsapp-agent";break;default:continue}const{data:T,error:k}=await Be.functions.invoke(C,{body:{candidateIds:S,distributedBy:"data-distribution-layer"}});if(k)throw k;A.push({channel:j,success:!0,data:T})}t({title:"Distribution Complete",description:`Successfully distributed data to ${E.length} channels`}),g()}catch(A){console.error("Error distributing data:",A),t({title:"Distribution Failed",description:"Failed to distribute data to agents",variant:"destructive"})}finally{m(!1)}},x=S=>{const E=[];return!S.email&&!S.phone&&E.push("Missing contact information"),S.name||E.push("Missing name"),S.email&&!S.email.includes("@")&&E.push("Invalid email format"),E},w=S=>{switch(S){case"pending":return"bg-yellow-500/10 text-yellow-500";case"email_sent":return"bg-blue-500/10 text-blue-500";case"voice_called":return"bg-purple-500/10 text-purple-500";case"whatsapp_sent":return"bg-green-500/10 text-green-500";case"completed":return"bg-emerald-500/10 text-emerald-500";case"failed":return"bg-red-500/10 text-red-500";default:return"bg-gray-500/10 text-gray-500"}};return u.jsx(ez,{children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[u.jsx(nd,{className:"w-6 h-6 text-primary"}),"Data Distribution Layer"]}),u.jsx("p",{className:"text-muted-foreground",children:"Centralized candidate data management and agent distribution"})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs(se,{onClick:g,variant:"outline",disabled:o,children:[u.jsx(fl,{className:`w-4 h-4 mr-2 ${o?"animate-spin":""}`}),"Refresh"]})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[u.jsx(ee,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Ea,{className:"w-5 h-5 text-blue-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Candidates"}),u.jsx("p",{className:"text-xl font-bold",children:a.totalCandidates})]})]})}),u.jsx(ee,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Ds,{className:"w-5 h-5 text-yellow-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Ready"}),u.jsx("p",{className:"text-xl font-bold",children:a.readyForDistribution})]})]})}),u.jsx(ee,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Nd,{className:"w-5 h-5 text-orange-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"In Progress"}),u.jsx("p",{className:"text-xl font-bold",children:a.inProgress})]})]})}),u.jsx(ee,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(ei,{className:"w-5 h-5 text-green-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed"}),u.jsx("p",{className:"text-xl font-bold",children:a.completed})]})]})}),u.jsx(ee,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Dv,{className:"w-5 h-5 text-red-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Failed"}),u.jsx("p",{className:"text-xl font-bold",children:a.failed})]})]})})]}),u.jsxs(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Ds,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"text-lg font-semibold",children:"Distribution Progress"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[u.jsx("span",{children:"Overall Completion"}),u.jsxs("span",{children:[Math.round(a.completed/a.totalCandidates*100)||0,"%"]})]}),u.jsx(Ti,{value:a.completed/a.totalCandidates*100||0,className:"h-2"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[u.jsx("span",{children:"Ready for Distribution"}),u.jsxs("span",{children:[Math.round(a.readyForDistribution/a.totalCandidates*100)||0,"%"]})]}),u.jsx(Ti,{value:a.readyForDistribution/a.totalCandidates*100||0,className:"h-2"})]})]})]}),u.jsx(ee,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx(kee,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),u.jsx(vt,{placeholder:"Search candidates...",value:c,onChange:S=>d(S.target.value),className:"pl-9"})]})}),u.jsxs(Ps,{value:f,onValueChange:h,children:[u.jsx(Ga,{className:"w-48",children:u.jsx(Is,{placeholder:"Filter by status"})}),u.jsxs(Ka,{children:[u.jsx(rn,{value:"all",children:"All Statuses"}),u.jsx(rn,{value:"pending",children:"Pending"}),u.jsx(rn,{value:"email_sent",children:"Email Sent"}),u.jsx(rn,{value:"voice_called",children:"Voice Called"}),u.jsx(rn,{value:"whatsapp_sent",children:"WhatsApp Sent"}),u.jsx(rn,{value:"completed",children:"Completed"}),u.jsx(rn,{value:"failed",children:"Failed"})]})]}),u.jsxs(se,{onClick:()=>b(r.filter(S=>S.status==="pending").map(S=>S.id),["email","voice","whatsapp"]),disabled:p||r.filter(S=>S.status==="pending").length===0,variant:"hero",children:[p?u.jsx(fl,{className:"w-4 h-4 mr-2 animate-spin"}):u.jsx(Nd,{className:"w-4 h-4 mr-2"}),"Distribute to Agents"]})]})}),u.jsxs(ee,{className:"bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx("div",{className:"p-4 border-b border-border/50",children:u.jsxs("h3",{className:"text-lg font-semibold",children:["Candidate Data (",r.length,")"]})}),u.jsxs("div",{className:"overflow-x-auto",children:[u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-muted/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left p-4",children:"Name"}),u.jsx("th",{className:"text-left p-4",children:"Contact"}),u.jsx("th",{className:"text-left p-4",children:"Location"}),u.jsx("th",{className:"text-left p-4",children:"Course"}),u.jsx("th",{className:"text-left p-4",children:"Status"}),u.jsx("th",{className:"text-left p-4",children:"Distribution"}),u.jsx("th",{className:"text-left p-4",children:"Validation"})]})}),u.jsx("tbody",{children:r.map(S=>{const E=x(S);return u.jsxs("tr",{className:"border-t border-border/50 hover:bg-muted/20",children:[u.jsx("td",{className:"p-4",children:u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:S.name}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",S.id.slice(0,8)]})]})}),u.jsx("td",{className:"p-4",children:u.jsxs("div",{className:"space-y-1",children:[S.email&&u.jsxs("p",{className:"text-sm flex items-center gap-1",children:[u.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),S.email]}),S.phone&&u.jsxs("p",{className:"text-sm flex items-center gap-1",children:[u.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),S.phone]})]})}),u.jsx("td",{className:"p-4",children:u.jsx("p",{className:"text-sm",children:S.city||"N/A"})}),u.jsx("td",{className:"p-4",children:u.jsx("p",{className:"text-sm",children:S.course||"N/A"})}),u.jsx("td",{className:"p-4",children:u.jsx(on,{className:w(S.status),children:S.status.replace("_"," ")})}),u.jsx("td",{className:"p-4",children:u.jsxs("div",{className:"flex gap-1",children:[S.email_sent&&u.jsxs(au,{children:[u.jsx(su,{children:u.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),u.jsx(Yl,{children:"Email sent"})]}),S.voice_called&&u.jsxs(au,{children:[u.jsx(su,{children:u.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"})}),u.jsx(Yl,{children:"Voice called"})]}),S.whatsapp_sent&&u.jsxs(au,{children:[u.jsx(su,{children:u.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"})}),u.jsx(Yl,{children:"WhatsApp sent"})]}),S.response_received&&u.jsxs(au,{children:[u.jsx(su,{children:u.jsx(ei,{className:"w-4 h-4 text-emerald-500"})}),u.jsx(Yl,{children:"Response received"})]})]})}),u.jsx("td",{className:"p-4",children:E.length>0?u.jsxs(au,{children:[u.jsx(su,{children:u.jsx(Dv,{className:"w-4 h-4 text-red-500"})}),u.jsx(Yl,{children:E.join(", ")})]}):u.jsxs(au,{children:[u.jsx(su,{children:u.jsx(ei,{className:"w-4 h-4 text-green-500"})}),u.jsx(Yl,{children:"Valid data"})]})})]},S.id)})})]}),r.length===0&&u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No candidates found matching your criteria"})]})]})]})})},jVe=()=>{const{toast:t}=Mt(),[e,n]=_.useState([]),[r,i]=_.useState([]),[a,s]=_.useState(""),[o,l]=_.useState([]),[c,d]=_.useState(!1),[f,h]=_.useState(null);_.useEffect(()=>{p();const E=setInterval(p,1e4);return h(E),()=>{E&&clearInterval(E)}},[]);const p=async()=>{try{await Promise.all([m(),g(),v()])}catch(E){console.error("Error loading data:",E)}},m=async()=>{const{data:E,error:A}=await Be.from("campaigns").select("*").order("created_at",{ascending:!1});if(A)throw A;i(E||[])},g=async()=>{const E=[{id:"email-agent-001",name:"Email Agent Alpha",type:"email",status:"online",lastActivity:new Date(Date.now()-12e4).toISOString(),metrics:{totalProcessed:1247,successRate:94.2,avgResponseTime:1850,currentLoad:15}},{id:"voice-agent-001",name:"Voice Agent Beta",type:"voice",status:"online",lastActivity:new Date(Date.now()-3e5).toISOString(),metrics:{totalProcessed:892,successRate:87.6,avgResponseTime:12400,currentLoad:8}},{id:"messaging-agent-001",name:"Messaging Agent Gamma",type:"messaging",status:"online",lastActivity:new Date(Date.now()-6e4).toISOString(),metrics:{totalProcessed:2156,successRate:96.8,avgResponseTime:950,currentLoad:22}}];n(E)},v=async()=>{const{data:E,error:A}=await Be.from("campaign_analytics").select("*").eq("event_type","campaign_orchestrated").order("timestamp",{ascending:!1}).limit(10);if(A){console.error("Error loading executions:",A);return}const j=(E||[]).map((C,T)=>({id:C.id,campaignName:`Campaign ${C.campaign_id.slice(0,8)}`,status:T===0?"running":T<3?"completed":"pending",progress:T===0?65:T<3?100:0,agents:["email","voice","messaging"],startTime:C.timestamp,results:T<3?C.metadata:void 0}));l(j)},y=async(E="normal")=>{if(!a){t({title:"No Campaign Selected",description:"Please select a campaign to execute",variant:"destructive"});return}d(!0);try{console.log("Executing multi-channel campaign with enhanced agents");const{data:A,error:j}=await Be.functions.invoke("campaign-orchestrator",{body:{campaignId:a,channels:["email","voice","whatsapp"],priority:E,agentConfig:{email:{priority:E,retryCount:3},voice:{priority:E,voiceSettings:{voice:"alice",speed:1}},messaging:{priority:E,messageType:"whatsapp"}}}});if(j)throw j;t({title:"Campaign Execution Started",description:`Multi-channel campaign launched with ${E} priority`}),p()}catch(A){console.error("Error executing campaign:",A),t({title:"Execution Failed",description:"Failed to start campaign execution",variant:"destructive"})}finally{d(!1)}},b=async E=>{if(!a){t({title:"No Campaign Selected",description:"Please select a campaign first",variant:"destructive"});return}d(!0);try{const A=E==="messaging"?"whatsapp-agent":`${E}-agent`,{data:j,error:C}=await Be.functions.invoke(A,{body:{campaignId:a,priority:"normal",agentId:`${E}-agent-manual-${Date.now()}`}});if(C)throw C;t({title:"Agent Execution Started",description:`${E.charAt(0).toUpperCase()+E.slice(1)} agent is processing the campaign`}),p()}catch(A){console.error(`Error executing ${E} agent:`,A),t({title:"Agent Execution Failed",description:`Failed to start ${E} agent`,variant:"destructive"})}finally{d(!1)}},x=E=>{switch(E){case"online":return"bg-green-500/10 text-green-500";case"busy":return"bg-yellow-500/10 text-yellow-500";case"offline":return"bg-gray-500/10 text-gray-500";case"error":return"bg-red-500/10 text-red-500";default:return"bg-gray-500/10 text-gray-500"}},w=E=>{switch(E){case"running":return"bg-blue-500/10 text-blue-500";case"completed":return"bg-green-500/10 text-green-500";case"failed":return"bg-red-500/10 text-red-500";case"pending":return"bg-yellow-500/10 text-yellow-500";default:return"bg-gray-500/10 text-gray-500"}},S=E=>{switch(E){case"email":return ti;case"voice":return Di;case"messaging":return $r;default:return ha}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[u.jsx(ha,{className:"w-6 h-6 text-primary"}),"Enhanced Agent Control Panel"]}),u.jsx("p",{className:"text-muted-foreground",children:"Advanced multi-agent coordination and intelligent campaign execution"})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs(se,{onClick:p,variant:"outline",disabled:c,children:[u.jsx(fl,{className:`w-4 h-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]})})]}),u.jsx(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select Campaign"}),u.jsxs(Ps,{value:a,onValueChange:s,children:[u.jsx(Ga,{children:u.jsx(Is,{placeholder:"Choose a campaign to execute"})}),u.jsx(Ka,{children:r.map(E=>u.jsxs(rn,{value:E.id,children:[E.name," (",E.type,")"]},E.id))})]})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs(se,{onClick:()=>y("high"),disabled:!a||c,variant:"hero",children:[u.jsx(Rr,{className:"w-4 h-4 mr-2"}),"Execute All Agents"]})})]})}),u.jsxs(Ml,{defaultValue:"agents",className:"space-y-6",children:[u.jsxs(co,{className:"grid w-full grid-cols-4",children:[u.jsx(ct,{value:"agents",children:"Agent Status"}),u.jsx(ct,{value:"execution",children:"Live Execution"}),u.jsx(ct,{value:"performance",children:"Performance"}),u.jsx(ct,{value:"coordination",children:"Coordination"})]}),u.jsx(ut,{value:"agents",className:"space-y-6",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map(E=>{const A=S(E.type);return u.jsxs(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:u.jsx(A,{className:"w-5 h-5 text-primary"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold",children:E.name}),u.jsx("p",{className:"text-sm text-muted-foreground",children:E.type})]})]}),u.jsx(on,{className:x(E.status),children:E.status})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Processed"}),u.jsx("span",{className:"font-semibold",children:E.metrics.totalProcessed})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Success Rate"}),u.jsxs("span",{className:"font-semibold",children:[E.metrics.successRate,"%"]})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Avg Response"}),u.jsxs("span",{className:"font-semibold",children:[E.metrics.avgResponseTime,"ms"]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[u.jsx("span",{children:"Current Load"}),u.jsxs("span",{className:"font-semibold",children:[E.metrics.currentLoad,"%"]})]}),u.jsx(Ti,{value:E.metrics.currentLoad,className:"h-2"})]})]}),u.jsxs(se,{onClick:()=>b(E.type),disabled:!a||c,className:"w-full mt-4",variant:"outline",children:[u.jsx(Fs,{className:"w-4 h-4 mr-2"}),"Execute Agent"]})]},E.id)})})}),u.jsx(ut,{value:"execution",className:"space-y-6",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Live Campaign Executions"}),o.map(E=>u.jsxs(ee,{className:"p-4 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Ds,{className:"w-5 h-5 text-primary"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold",children:E.campaignName}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Started ",new Date(E.startTime).toLocaleTimeString()]})]})]}),u.jsx(on,{className:w(E.status),children:E.status})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:"Progress"}),u.jsxs("span",{children:[E.progress,"%"]})]}),u.jsx(Ti,{value:E.progress,className:"h-2"}),u.jsx("div",{className:"flex gap-2 mt-3",children:E.agents.map(A=>{const j=S(A);return u.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[u.jsx(j,{className:"w-3 h-3"}),A]},A)})})]})]},E.id))]})}),u.jsx(ut,{value:"performance",className:"space-y-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[u.jsx(ul,{className:"w-5 h-5"}),"Agent Performance"]}),u.jsx("div",{className:"space-y-4",children:e.map(E=>u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{children:E.name}),u.jsxs("span",{children:[E.metrics.successRate,"%"]})]}),u.jsx(Ti,{value:E.metrics.successRate,className:"h-2"})]},E.id))})]}),u.jsxs(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[u.jsx(dl,{className:"w-5 h-5"}),"Response Times"]}),u.jsx("div",{className:"space-y-4",children:e.map(E=>u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:E.name}),u.jsxs("span",{className:"text-sm font-semibold",children:[E.metrics.avgResponseTime,"ms"]})]},E.id))})]})]})}),u.jsx(ut,{value:"coordination",className:"space-y-6",children:u.jsxs(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Coordination Settings"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Priority Mode"}),u.jsxs(Ps,{defaultValue:"normal",children:[u.jsx(Ga,{children:u.jsx(Is,{})}),u.jsxs(Ka,{children:[u.jsx(rn,{value:"low",children:"Low Priority"}),u.jsx(rn,{value:"normal",children:"Normal Priority"}),u.jsx(rn,{value:"high",children:"High Priority"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Retry Strategy"}),u.jsxs(Ps,{defaultValue:"aggressive",children:[u.jsx(Ga,{children:u.jsx(Is,{})}),u.jsxs(Ka,{children:[u.jsx(rn,{value:"conservative",children:"Conservative"}),u.jsx(rn,{value:"balanced",children:"Balanced"}),u.jsx(rn,{value:"aggressive",children:"Aggressive"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Load Balancing"}),u.jsxs(Ps,{defaultValue:"auto",children:[u.jsx(Ga,{children:u.jsx(Is,{})}),u.jsxs(Ka,{children:[u.jsx(rn,{value:"manual",children:"Manual"}),u.jsx(rn,{value:"auto",children:"Automatic"}),u.jsx(rn,{value:"intelligent",children:"Intelligent"})]})]})]})]})]})})]})]})};function AVe(){var g,v,y;const[t,e]=_.useState([]),[n,r]=_.useState(null),[i,a]=_.useState(!1),[s,o]=_.useState(""),[l,c]=_.useState([]);_.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:b,error:x}=await Be.from("campaigns").select("*").order("created_at",{ascending:!1});if(x)throw x;c(b||[]),b&&b.length>0&&o(b[0].id)}catch(b){console.error("Error loading campaigns:",b),zl.error("Failed to load campaigns")}},f=async b=>{a(!0);try{const{data:x,error:w}=await Be.functions.invoke("decision-engine",{body:{campaignId:b,action:"generate_strategy"}});if(w)throw w;if(x.success){const S=x.result;e(E=>[...E.filter(j=>j.campaignId!==b),S]),zl.success("Strategy generated successfully")}}catch(x){console.error("Error generating strategy:",x),zl.error("Failed to generate strategy")}finally{a(!1)}},h=async b=>{a(!0);try{const{data:x,error:w}=await Be.functions.invoke("mcp-server",{body:{method:"tools/call",params:{name:"analyze_campaign_performance",arguments:{campaignId:b,timeframe:"30d"}}}});if(w)throw w;x.success&&(r(x.result),zl.success("MCP analysis completed"))}catch(x){console.error("Error with MCP analysis:",x),zl.error("Failed to analyze with MCP")}finally{a(!1)}},p=async b=>{a(!0);try{const{data:x,error:w}=await Be.functions.invoke("mcp-server",{body:{method:"tools/call",params:{name:"optimize_candidate_targeting",arguments:{campaignId:b,criteria:{}}}}});if(w)throw w;x.success&&zl.success("Targeting optimization completed")}catch(x){console.error("Error optimizing targeting:",x),zl.error("Failed to optimize targeting")}finally{a(!1)}},m=t.find(b=>b.campaignId===s);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Decision Logic & MCP Server"}),u.jsx("p",{className:"text-muted-foreground",children:"AI-powered campaign optimization and intelligent decision making"})]}),u.jsx("div",{className:"flex gap-2",children:u.jsx("select",{value:s,onChange:b=>o(b.target.value),className:"px-3 py-2 border rounded-md bg-background",children:l.map(b=>u.jsx("option",{value:b.id,children:b.name},b.id))})})]}),u.jsxs(Ml,{defaultValue:"strategy",className:"w-full",children:[u.jsxs(co,{className:"grid w-full grid-cols-3",children:[u.jsxs(ct,{value:"strategy",className:"flex items-center gap-2",children:[u.jsx(Lp,{className:"h-4 w-4"}),"Strategy Engine"]}),u.jsxs(ct,{value:"mcp",className:"flex items-center gap-2",children:[u.jsx(Mi,{className:"h-4 w-4"}),"MCP Analysis"]}),u.jsxs(ct,{value:"optimization",className:"flex items-center gap-2",children:[u.jsx(Xn,{className:"h-4 w-4"}),"Optimization"]})]}),u.jsx(ut,{value:"strategy",className:"space-y-4",children:u.jsxs(ee,{children:[u.jsxs(Ve,{children:[u.jsxs(We,{className:"flex items-center gap-2",children:[u.jsx(Rr,{className:"h-5 w-5"}),"Campaign Strategy Generator"]}),u.jsx(Zr,{children:"Generate intelligent campaign strategies using decision logic engine"})]}),u.jsxs(Me,{className:"space-y-4",children:[u.jsx("div",{className:"flex gap-2",children:u.jsx(se,{onClick:()=>s&&f(s),disabled:i||!s,children:i?"Generating...":"Generate Strategy"})}),m&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsx(ee,{children:u.jsxs(Me,{className:"pt-4",children:[u.jsx("div",{className:"text-2xl font-bold",children:m.totalCandidates}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Candidates"})]})}),u.jsx(ee,{children:u.jsxs(Me,{className:"pt-4",children:[u.jsx("div",{className:"text-2xl font-bold",children:((g=m.effectiveness)==null?void 0:g.expectedConversions)||0}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected Conversions"})]})}),u.jsx(ee,{children:u.jsxs(Me,{className:"pt-4",children:[u.jsx("div",{className:"text-2xl font-bold",children:((v=m.effectiveness)==null?void 0:v.efficiency)||"N/A"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Efficiency Rating"})]})})]}),u.jsxs(ee,{children:[u.jsx(Ve,{children:u.jsx(We,{children:"Channel Priority"})}),u.jsx(Me,{children:u.jsx("div",{className:"flex gap-2",children:m.channelPriority.map((b,x)=>u.jsxs(on,{variant:x===0?"default":"secondary",children:["#",x+1," ",b]},b))})})]}),u.jsxs(ee,{children:[u.jsx(Ve,{children:u.jsx(We,{children:"Timeline Phases"})}),u.jsx(Me,{className:"space-y-3",children:Object.entries(((y=m.estimatedTimeline)==null?void 0:y.phases)||{}).map(([b,x])=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"capitalize",children:b}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ti,{value:x/m.totalCandidates*100,className:"w-24"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:x})]})]},b))})]})]})]})]})}),u.jsx(ut,{value:"mcp",className:"space-y-4",children:u.jsxs(ee,{children:[u.jsxs(Ve,{children:[u.jsxs(We,{className:"flex items-center gap-2",children:[u.jsx(Mi,{className:"h-5 w-5"}),"MCP Server Analysis"]}),u.jsx(Zr,{children:"Model Context Protocol powered intelligent analysis"})]}),u.jsxs(Me,{className:"space-y-4",children:[u.jsx(se,{onClick:()=>s&&h(s),disabled:i||!s,children:i?"Analyzing...":"Run MCP Analysis"}),n&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs(ee,{children:[u.jsx(Ve,{children:u.jsx(We,{children:"Performance Metrics"})}),u.jsx(Me,{className:"space-y-3",children:n.performance&&Object.entries(n.performance).map(([b,x])=>u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"capitalize",children:b.replace(/([A-Z])/g," $1").trim()}),u.jsx(on,{variant:"outline",children:typeof x=="number"?`${(x*100).toFixed(1)}%`:String(x)})]},b))})]}),u.jsxs(ee,{children:[u.jsx(Ve,{children:u.jsx(We,{children:"AI Insights"})}),u.jsx(Me,{children:u.jsx("ul",{className:"space-y-2",children:n.insights.map((b,x)=>u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(ul,{className:"h-4 w-4 mt-1 text-primary"}),u.jsx("span",{className:"text-sm",children:b})]},x))})})]}),u.jsxs(ee,{children:[u.jsx(Ve,{children:u.jsx(We,{children:"Recommendations"})}),u.jsx(Me,{children:u.jsx("ul",{className:"space-y-2",children:n.recommendations.map((b,x)=>u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx(yB,{className:"h-4 w-4 mt-1 text-orange-500"}),u.jsx("span",{className:"text-sm",children:b})]},x))})})]})]})]})]})}),u.jsx(ut,{value:"optimization",className:"space-y-4",children:u.jsxs(ee,{children:[u.jsxs(Ve,{children:[u.jsxs(We,{className:"flex items-center gap-2",children:[u.jsx(qm,{className:"h-5 w-5"}),"Campaign Optimization"]}),u.jsx(Zr,{children:"Optimize targeting and communication strategies"})]}),u.jsxs(Me,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(se,{onClick:()=>s&&p(s),disabled:i||!s,variant:"outline",children:"Optimize Targeting"}),u.jsx(se,{onClick:()=>s&&f(s),disabled:i||!s,variant:"outline",children:"Generate Communication Strategy"})]}),u.jsxs(ee,{children:[u.jsx(Ve,{children:u.jsx(We,{className:"text-lg",children:"Decision Rules"})}),u.jsx(Me,{className:"space-y-3",children:u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"Email First Priority"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Send email to candidates with email addresses"})]}),u.jsx(Jr,{defaultChecked:!0})]}),u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"Voice Follow-up"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Call candidates who don't open emails within 2 days"})]}),u.jsx(Jr,{defaultChecked:!0})]}),u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"WhatsApp Engagement"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Send WhatsApp to engaged candidates"})]}),u.jsx(Jr,{defaultChecked:!0})]}),u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"High Priority Blast"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Multi-channel approach for high-priority candidates"})]}),u.jsx(Jr,{defaultChecked:!0})]})]})})]})]})]})})]})]})}const CVe=Wm("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Cu=_.forwardRef(({className:t,variant:e,...n},r)=>u.jsx("div",{ref:r,role:"alert",className:je(CVe({variant:e}),t),...n}));Cu.displayName="Alert";const TVe=_.forwardRef(({className:t,...e},n)=>u.jsx("h5",{ref:n,className:je("mb-1 font-medium leading-none tracking-tight",t),...e}));TVe.displayName="AlertTitle";const Tu=_.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:je("text-sm [&_p]:leading-relaxed",t),...e}));Tu.displayName="AlertDescription";const kVe=()=>{const[t,e]=_.useState({cpuUsage:45,memoryUsage:62,apiResponseTime:235,databaseConnections:12,cacheHitRate:85,activeUsers:147,throughput:324,errorRate:.8}),[n,r]=_.useState([{id:"query-caching",name:"Database Query Caching",description:"Cache frequently accessed database queries to reduce load",impact:"high",enabled:!0,lastApplied:"2024-01-10T10:30:00Z"},{id:"connection-pooling",name:"Connection Pooling",description:"Optimize database connection management",impact:"high",enabled:!0,lastApplied:"2024-01-10T09:15:00Z"},{id:"batch-processing",name:"Batch Processing",description:"Group similar operations for better efficiency",impact:"medium",enabled:!0,lastApplied:"2024-01-10T08:45:00Z"},{id:"cdn-optimization",name:"CDN Optimization",description:"Optimize content delivery network usage",impact:"medium",enabled:!1,lastApplied:"2024-01-09T16:20:00Z"}]),[i,a]=_.useState(!1);_.useEffect(()=>{const f=setInterval(()=>{e(h=>({cpuUsage:Math.max(0,Math.min(100,h.cpuUsage+(Math.random()-.5)*10)),memoryUsage:Math.max(0,Math.min(100,h.memoryUsage+(Math.random()-.5)*8)),apiResponseTime:Math.max(50,h.apiResponseTime+(Math.random()-.5)*50),databaseConnections:Math.max(0,Math.min(50,h.databaseConnections+Math.floor((Math.random()-.5)*5))),cacheHitRate:Math.max(0,Math.min(100,h.cacheHitRate+(Math.random()-.5)*5)),activeUsers:Math.max(0,h.activeUsers+Math.floor((Math.random()-.5)*10)),throughput:Math.max(0,h.throughput+(Math.random()-.5)*100),errorRate:Math.max(0,Math.min(10,h.errorRate+(Math.random()-.5)*.5))}))},2e3);return()=>clearInterval(f)},[]);const s=_.useCallback(f=>{r(h=>h.map(p=>p.id===f?{...p,enabled:!p.enabled,lastApplied:new Date().toISOString()}:p))},[]),o=_.useCallback(async()=>{a(!0),await new Promise(f=>setTimeout(f,3e3)),e(f=>({...f,cpuUsage:Math.max(20,f.cpuUsage*.8),memoryUsage:Math.max(30,f.memoryUsage*.9),apiResponseTime:Math.max(100,f.apiResponseTime*.7),cacheHitRate:Math.min(100,f.cacheHitRate*1.1),errorRate:f.errorRate*.5})),a(!1)},[]),l=_.useMemo(()=>{const f=[100-t.cpuUsage,100-t.memoryUsage,Math.max(0,100-(t.apiResponseTime-100)/10),t.cacheHitRate,Math.max(0,100-t.errorRate*10)];return Math.round(f.reduce((h,p)=>h+p)/f.length)},[t]),c=f=>f>=80?"text-green-600":f>=60?"text-yellow-600":"text-red-600",d=f=>{switch(f){case"high":return"destructive";case"medium":return"secondary";case"low":return"outline";default:return"outline"}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-bold",children:"Performance Optimization"}),u.jsx("p",{className:"text-muted-foreground",children:"Monitor and optimize system performance"})]}),u.jsxs(se,{onClick:o,disabled:i,className:"gap-2",children:[i?u.jsx(fl,{className:"h-4 w-4 animate-spin"}):u.jsx(Rr,{className:"h-4 w-4"}),i?"Optimizing...":"Run Optimization"]})]}),u.jsxs(ee,{children:[u.jsx(Ve,{children:u.jsxs(We,{className:"flex items-center gap-2",children:[u.jsx(Xn,{className:"h-5 w-5"}),"Overall Performance Score"]})}),u.jsx(Me,{children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:`text-4xl font-bold ${c(l)}`,children:[l,"%"]}),u.jsx(Ti,{value:l,className:"flex-1"}),u.jsx(on,{variant:l>=80?"default":l>=60?"secondary":"destructive",children:l>=80?"Excellent":l>=60?"Good":"Needs Attention"})]})})]}),u.jsxs(Ml,{defaultValue:"metrics",className:"space-y-4",children:[u.jsxs(co,{children:[u.jsx(ct,{value:"metrics",children:"Real-time Metrics"}),u.jsx(ct,{value:"optimizations",children:"Optimization Rules"}),u.jsx(ct,{value:"alerts",children:"Performance Alerts"})]}),u.jsx(ut,{value:"metrics",className:"space-y-4",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs(ee,{children:[u.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(We,{className:"text-sm font-medium",children:"CPU Usage"}),u.jsx(xee,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Me,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.cpuUsage.toFixed(1),"%"]}),u.jsx(Ti,{value:t.cpuUsage,className:"mt-2"})]})]}),u.jsxs(ee,{children:[u.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(We,{className:"text-sm font-medium",children:"Memory Usage"}),u.jsx(Eee,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Me,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.memoryUsage.toFixed(1),"%"]}),u.jsx(Ti,{value:t.memoryUsage,className:"mt-2"})]})]}),u.jsxs(ee,{children:[u.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(We,{className:"text-sm font-medium",children:"API Response"}),u.jsx(dl,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Me,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.apiResponseTime.toFixed(0),"ms"]}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Average response time"})]})]}),u.jsxs(ee,{children:[u.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(We,{className:"text-sm font-medium",children:"Cache Hit Rate"}),u.jsx(nd,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Me,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.cacheHitRate.toFixed(1),"%"]}),u.jsx(Ti,{value:t.cacheHitRate,className:"mt-2"})]})]}),u.jsxs(ee,{children:[u.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(We,{className:"text-sm font-medium",children:"Active Users"}),u.jsx(Ds,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Me,{children:[u.jsx("div",{className:"text-2xl font-bold",children:t.activeUsers}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Currently online"})]})]}),u.jsxs(ee,{children:[u.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(We,{className:"text-sm font-medium",children:"Throughput"}),u.jsx(ul,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Me,{children:[u.jsx("div",{className:"text-2xl font-bold",children:t.throughput.toFixed(0)}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Requests per minute"})]})]}),u.jsxs(ee,{children:[u.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(We,{className:"text-sm font-medium",children:"DB Connections"}),u.jsx(nd,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Me,{children:[u.jsx("div",{className:"text-2xl font-bold",children:t.databaseConnections}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Active connections"})]})]}),u.jsxs(ee,{children:[u.jsxs(Ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(We,{className:"text-sm font-medium",children:"Error Rate"}),u.jsx(sE,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(Me,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:[t.errorRate.toFixed(2),"%"]}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Error percentage"})]})]})]})}),u.jsx(ut,{value:"optimizations",className:"space-y-4",children:u.jsx("div",{className:"grid gap-4",children:n.map(f=>u.jsxs(ee,{children:[u.jsx(Ve,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(We,{className:"text-lg",children:f.name}),u.jsx(Zr,{children:f.description})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(on,{variant:d(f.impact),children:[f.impact," impact"]}),u.jsx(se,{size:"sm",variant:f.enabled?"default":"outline",onClick:()=>s(f.id),children:f.enabled?"Enabled":"Disabled"})]})]})}),u.jsx(Me,{children:u.jsxs("div",{className:"text-sm text-muted-foreground",children:["Last applied: ",new Date(f.lastApplied).toLocaleString()]})})]},f.id))})}),u.jsx(ut,{value:"alerts",className:"space-y-4",children:u.jsxs("div",{className:"space-y-4",children:[t.cpuUsage>80&&u.jsxs(Cu,{children:[u.jsx(Ds,{className:"h-4 w-4"}),u.jsxs(Tu,{children:["High CPU usage detected (",t.cpuUsage.toFixed(1),"%). Consider enabling CPU optimization rules."]})]}),t.apiResponseTime>500&&u.jsxs(Cu,{children:[u.jsx(dl,{className:"h-4 w-4"}),u.jsxs(Tu,{children:["API response time is above threshold (",t.apiResponseTime.toFixed(0),"ms). Enable caching optimizations."]})]}),t.cacheHitRate<70&&u.jsxs(Cu,{children:[u.jsx(nd,{className:"h-4 w-4"}),u.jsxs(Tu,{children:["Low cache hit rate (",t.cacheHitRate.toFixed(1),"%). Review caching strategy."]})]}),t.errorRate>2&&u.jsxs(Cu,{children:[u.jsx(sE,{className:"h-4 w-4"}),u.jsxs(Tu,{children:["High error rate detected (",t.errorRate.toFixed(2),"%). Check system logs for issues."]})]}),t.cpuUsage<=80&&t.apiResponseTime<=500&&t.cacheHitRate>=70&&t.errorRate<=2&&u.jsxs(Cu,{children:[u.jsx(Xn,{className:"h-4 w-4"}),u.jsx(Tu,{children:"All systems operating within normal parameters. No alerts at this time."})]})]})})]})]})},OVe=({agentId:t="agent_0b0a29061f41517a382a32035e"})=>{const{toast:e}=Mt(),n=_.useRef(null),[r,i]=_.useState(""),[a,s]=_.useState(""),[o,l]=_.useState(null),[c,d]=_.useState(""),[f,h]=_.useState(!1),[p,m]=_.useState(!1),g=async y=>{var x;const b=(x=y.target.files)==null?void 0:x[0];if(b){l(b),h(!0);try{const w=new FileReader;w.onload=async S=>{var A;const E=(A=S.target)==null?void 0:A.result;b.type==="text/plain"||b.name.endsWith(".txt")?d(E):d(`Document: ${b.name} (${b.type})`),e({title:"Document uploaded",description:`${b.name} has been processed for the call context.`})},b.type==="text/plain"||b.name.endsWith(".txt")?w.readAsText(b):w.readAsDataURL(b)}catch(w){console.error("Error processing file:",w),e({title:"Upload failed",description:"Failed to process the uploaded document.",variant:"destructive"})}finally{h(!1)}}},v=async()=>{if(!r){e({title:"Phone number required",description:"Please enter a phone number to call.",variant:"destructive"});return}m(!0);try{const{data:y,error:b}=await Be.functions.invoke("retell-agent",{body:{phone_number:r,agent_id:t,context:a,document_content:c}});if(b)throw b;if(y.success)e({title:"Call initiated",description:`Call to ${r} has been started successfully.`}),i(""),s(""),l(null),d(""),n.current&&(n.current.value="");else throw new Error(y.error||"Failed to initiate call")}catch(y){console.error("Error initiating call:",y),e({title:"Call failed",description:y instanceof Error?y.message:"Failed to initiate the call.",variant:"destructive"})}finally{m(!1)}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs(ee,{children:[u.jsx(Ve,{children:u.jsxs(We,{className:"flex items-center gap-2",children:[u.jsx(ha,{className:"h-5 w-5"}),"Retell.ai Agent Panel"]})}),u.jsxs(Me,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Le,{htmlFor:"phone",children:"Phone Number"}),u.jsx(vt,{id:"phone",type:"tel",placeholder:"+1234567890",value:r,onChange:y=>i(y.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Le,{htmlFor:"agent",children:"Agent ID"}),u.jsx(vt,{id:"agent",value:t,disabled:!0,className:"bg-muted"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Le,{htmlFor:"context",children:"Call Context"}),u.jsx(ds,{id:"context",placeholder:"Enter context or talking points for the call...",value:a,onChange:y=>s(y.target.value),rows:3})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Le,{htmlFor:"document",children:"Upload Document (Optional)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(se,{variant:"outline",onClick:()=>{var y;return(y=n.current)==null?void 0:y.click()},disabled:f,children:[f?u.jsx(Fv,{className:"h-4 w-4 animate-spin mr-2"}):u.jsx(gT,{className:"h-4 w-4 mr-2"}),"Upload Document"]}),o&&u.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[u.jsx(xc,{className:"h-4 w-4"}),o.name]})]}),u.jsx("input",{ref:n,type:"file",onChange:g,accept:".txt,.pdf,.doc,.docx",className:"hidden"})]}),c&&u.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[u.jsx(Le,{className:"text-sm font-medium",children:"Document Content Preview:"}),u.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[c.substring(0,200),c.length>200&&"..."]})]}),u.jsx(se,{onClick:v,disabled:p||!r,className:"w-full",children:p?u.jsxs(u.Fragment,{children:[u.jsx(Fv,{className:"h-4 w-4 animate-spin mr-2"}),"Initiating Call..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Di,{className:"h-4 w-4 mr-2"}),"Initiate Call"]})})]})]}),u.jsxs(ee,{children:[u.jsx(Ve,{children:u.jsx(We,{children:"AI Analysis Integration"})}),u.jsxs(Me,{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"The Retell.ai agent integrates with your existing AI analysis system to:"}),u.jsxs("ul",{className:"list-disc list-inside text-sm text-muted-foreground mt-2 space-y-1",children:[u.jsx("li",{children:"Analyze uploaded documents for call context"}),u.jsx("li",{children:"Generate intelligent talking points"}),u.jsx("li",{children:"Track call performance and outcomes"}),u.jsx("li",{children:"Integrate with campaign analytics"})]})]})]})]})},NVe=()=>{var v;const t=pi(),{user:e,signOut:n}=zn(),{toast:r}=Mt(),[i,a]=_.useState(null),[s,o]=_.useState(!1),[l,c]=_.useState(!1),[d,f]=_.useState([]),[h,p]=_.useState({totalCampaigns:0,messagesSent:0,callsMade:0,responseRate:0});_.useEffect(()=>{m()},[e]);const m=async()=>{if(e)try{const{data:y,error:b}=await Be.from("campaigns").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(b)throw b;f(y||[]);const x=(y==null?void 0:y.length)||0,w=(y==null?void 0:y.reduce((C,T)=>C+(T.messages_sent||0),0))||0,S=(y==null?void 0:y.reduce((C,T)=>C+(T.calls_made||0),0))||0,E=(y==null?void 0:y.reduce((C,T)=>C+(T.responses_received||0),0))||0,A=w+S,j=A>0?Math.round(E/A*100):0;p({totalCampaigns:x,messagesSent:w,callsMade:S,responseRate:j})}catch(y){console.error("Error loading dashboard data:",y),r({title:"Error loading data",description:"Failed to load dashboard data. Please refresh the page.",variant:"destructive"})}},g=async()=>{try{await n(),t("/")}catch(y){console.error("Error signing out:",y),r({title:"Sign out failed",description:"Please try again",variant:"destructive"})}};return u.jsxs("div",{className:"min-h-screen bg-ai-gradient-subtle",children:[u.jsx("div",{className:"bg-card/50 backdrop-blur-sm border-b border-border/50 sticky top-0 z-40",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-ai-gradient rounded-lg flex items-center justify-center",children:u.jsx(ha,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-lg font-semibold",children:"AdmitConnect AI"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Admin Dashboard"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(IF,{to:"/analytics",children:u.jsxs(se,{variant:"outline",size:"sm",children:[u.jsx(ul,{className:"w-4 h-4 mr-2"}),"Analytics"]})}),u.jsxs(se,{variant:"outline",size:"sm",onClick:()=>c(!0),children:[u.jsx(Xn,{className:"w-4 h-4 mr-2"}),"Upgrade"]}),u.jsx(se,{variant:"ghost",size:"sm",onClick:()=>o(!0),children:u.jsx(qm,{className:"w-4 h-4"})}),u.jsx(se,{variant:"ghost",size:"sm",onClick:g,children:u.jsx(hT,{className:"w-4 h-4"})})]})]})})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Admin Control Center "}),u.jsx("p",{className:"text-muted-foreground",children:"Manage campaigns, candidate data, and system configurations."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[u.jsx(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:u.jsx(xc,{className:"w-5 h-5 text-blue-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Campaigns"}),u.jsx("p",{className:"text-2xl font-bold",children:h.totalCampaigns})]})]})}),u.jsx(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:u.jsx($r,{className:"w-5 h-5 text-green-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Messages Sent"}),u.jsx("p",{className:"text-2xl font-bold",children:h.messagesSent})]})]})}),u.jsx(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Di,{className:"w-5 h-5 text-purple-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Calls Made"}),u.jsx("p",{className:"text-2xl font-bold",children:h.callsMade})]})]})}),u.jsx(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-orange-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Xn,{className:"w-5 h-5 text-orange-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Response Rate"}),u.jsxs("p",{className:"text-2xl font-bold",children:[h.responseRate,"%"]})]})]})})]}),u.jsxs(Ml,{defaultValue:"campaigns",className:"space-y-6",children:[u.jsxs(co,{className:"grid w-full grid-cols-7",children:[u.jsx(ct,{value:"campaigns",children:"Campaigns"}),u.jsx(ct,{value:"data",children:"Candidate Data"}),u.jsx(ct,{value:"agents",children:"Agent Control"}),u.jsx(ct,{value:"decision",children:"Decision Logic"}),u.jsx(ct,{value:"performance",children:"Performance"}),u.jsx(ct,{value:"retell",children:"Retell AI"}),u.jsx(ct,{value:"automation",children:"Automation"}),u.jsx(ct,{value:"notifications",children:"Notifications"})]}),u.jsxs(ut,{value:"campaigns",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Campaign Management"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(se,{onClick:()=>a("create-campaign"),variant:"hero",children:[u.jsx(Kh,{className:"w-4 h-4 mr-2"}),"New Campaign"]}),d.length>0&&u.jsxs(se,{onClick:()=>a("execute-campaign"),variant:"outline",children:[u.jsx(Fs,{className:"w-4 h-4 mr-2"}),"Execute"]})]})]}),d.length===0?u.jsxs(ee,{className:"p-8 text-center bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsx(xc,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No campaigns yet"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first campaign to start reaching prospective students."}),u.jsx(se,{onClick:()=>a("create-campaign"),variant:"hero",children:"Create Your First Campaign"})]}):u.jsx("div",{className:"grid grid-cols-1 gap-4",children:d.map(y=>u.jsx(Oj,{campaign:y,onUpdate:m},y.id))})]}),u.jsx(ut,{value:"data",className:"space-y-6",children:u.jsx(EVe,{})}),u.jsx(ut,{value:"agents",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Enhanced Agent Control"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Advanced multi-agent coordination and intelligent execution"})]}),u.jsx(jVe,{})]})}),u.jsx(ut,{value:"decision",children:u.jsx(AVe,{})}),u.jsx(ut,{value:"performance",children:u.jsx(kVe,{})}),u.jsx(ut,{value:"retell",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Retell.ai Agent Integration"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"AI-powered voice calls with document analysis"})]}),u.jsx(OVe,{})]})}),u.jsx(ut,{value:"automation",children:u.jsx(EK,{})}),u.jsx(ut,{value:"notifications",children:u.jsx(jK,{})})]})]}),u.jsx(Ni,{open:i==="create-campaign",onOpenChange:y=>!y&&a(null),children:u.jsxs(ii,{className:"max-w-2xl",children:[u.jsx(ai,{children:u.jsx(si,{children:"Create New Campaign"})}),u.jsx(x7,{onCampaignCreated:()=>{a(null),m()}})]})}),u.jsx(Ni,{open:i==="upload-candidates",onOpenChange:y=>!y&&a(null),children:u.jsxs(ii,{className:"max-w-2xl",children:[u.jsx(ai,{children:u.jsx(si,{children:"Upload Candidates"})}),u.jsx(v7,{campaignId:(v=d[0])==null?void 0:v.id,onUploadComplete:()=>{a(null),m()}})]})}),u.jsx(Ni,{open:i==="execute-campaign",onOpenChange:y=>!y&&a(null),children:u.jsxs(ii,{className:"max-w-2xl",children:[u.jsx(ai,{children:u.jsx(si,{children:"Execute Campaign"})}),d.length>0&&u.jsx(PK,{campaign:d[0],onExecutionComplete:()=>{a(null),m(),r({title:"Campaign Executed",description:"Your campaign is now running across selected channels"})}})]})}),u.jsx(uO,{open:s,onOpenChange:o}),u.jsx(xO,{open:l,onOpenChange:c})]})},PVe=()=>{const[t,e]=_.useState([]),[n,r]=_.useState([]),[i,a]=_.useState([]),[s,o]=_.useState(!0),[l,c]=_.useState("7d"),{toast:d}=Mt();_.useEffect(()=>{f()},[l]);const f=async()=>{o(!0);try{const E=h(l),{data:A,error:j}=await Be.from("campaign_analytics").select(`
          *,
          campaigns (name)
        `).gte("timestamp",E.toISOString()).order("timestamp",{ascending:!1});if(j)throw j;const C=p(A||[]);e(C);const T=m(A||[]);r(T);const k=g(A||[]);a(k)}catch(E){console.error("Error fetching analytics:",E),d({title:"Error",description:"Failed to load analytics data",variant:"destructive"})}finally{o(!1)}},h=E=>{const A=new Date;switch(E){case"24h":return new Date(A.getTime()-24*60*60*1e3);case"7d":return new Date(A.getTime()-7*24*60*60*1e3);case"30d":return new Date(A.getTime()-30*24*60*60*1e3);default:return new Date(A.getTime()-7*24*60*60*1e3)}},p=E=>{const A=E.reduce((j,C)=>{var k,N;const T=`${((k=C.campaigns)==null?void 0:k.name)||"Unknown"}-${C.event_type}-${C.channel}`;return j[T]||(j[T]={campaign_id:C.campaign_id,campaign_name:((N=C.campaigns)==null?void 0:N.name)||"Unknown",event_type:C.event_type,channel:C.channel,status:C.status,count:0,timestamp:C.timestamp}),j[T].count++,j},{});return Object.values(A)},m=E=>["email","voice","whatsapp"].map(j=>{const C=E.filter(D=>D.channel===j),T=C.filter(D=>D.event_type.includes("sent")||D.event_type.includes("initiated")).length,k=C.filter(D=>D.status==="success"&&D.event_type.includes("delivered")).length,N=C.filter(D=>D.event_type.includes("opened")||D.event_type.includes("answered")).length,H=C.filter(D=>D.event_type.includes("failed")||D.status==="failed").length,R=T>0?N/T*100:0;return{channel:j,sent:T,delivered:k,opened:N,failed:H,engagement_rate:Math.round(R*100)/100}}),g=E=>{const A=[],j=new Date;for(let C=6;C>=0;C--){const T=new Date(j.getTime()-C*24*60*60*1e3),k={date:T.toLocaleDateString(),email:0,voice:0,whatsapp:0};E.forEach(N=>{new Date(N.timestamp).toDateString()===T.toDateString()&&N.status==="success"&&(N.channel==="email"&&k.email++,N.channel==="voice"&&k.voice++,N.channel==="whatsapp"&&k.whatsapp++)}),A.push(k)}return A},v=async()=>{try{const E=y(),A=new Blob([E],{type:"text/csv"}),j=window.URL.createObjectURL(A),C=document.createElement("a");C.href=j,C.download=`agent-analytics-${l}-${new Date().toISOString().split("T")[0]}.csv`,C.click(),window.URL.revokeObjectURL(j),d({title:"Success",description:"Analytics report exported successfully"})}catch{d({title:"Error",description:"Failed to export report",variant:"destructive"})}},y=()=>{const E=["Campaign","Channel","Event Type","Status","Count","Timestamp"],A=t.map(j=>[j.campaign_name,j.channel,j.event_type,j.status,j.count,j.timestamp]);return[E,...A].map(j=>j.join(",")).join(`
`)},b=["#8884d8","#82ca9d","#ffc658","#ff7300"],x=n.reduce((E,A)=>E+A.opened,0),w=n.reduce((E,A)=>E+A.sent,0),S=w>0?x/w*100:0;return s?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx(fl,{className:"h-8 w-8 animate-spin"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Agent Analytics Dashboard"}),u.jsx("p",{className:"text-muted-foreground",children:"Track engagement across all channels"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("select",{className:"rounded-md border border-input bg-background px-3 py-2",value:l,onChange:E=>c(E.target.value),children:[u.jsx("option",{value:"24h",children:"Last 24 Hours"}),u.jsx("option",{value:"7d",children:"Last 7 Days"}),u.jsx("option",{value:"30d",children:"Last 30 Days"})]}),u.jsxs(se,{onClick:f,variant:"outline",size:"sm",children:[u.jsx(fl,{className:"h-4 w-4 mr-2"}),"Refresh"]}),u.jsxs(se,{onClick:v,variant:"outline",size:"sm",children:[u.jsx(fT,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsx(ee,{children:u.jsxs(Me,{className:"flex items-center justify-between p-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Sent"}),u.jsx("p",{className:"text-2xl font-bold",children:w})]}),u.jsx($r,{className:"h-8 w-8 text-muted-foreground"})]})}),u.jsx(ee,{children:u.jsxs(Me,{className:"flex items-center justify-between p-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Engagement"}),u.jsx("p",{className:"text-2xl font-bold",children:x})]}),u.jsx(Xn,{className:"h-8 w-8 text-muted-foreground"})]})}),u.jsx(ee,{children:u.jsxs(Me,{className:"flex items-center justify-between p-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Engagement Rate"}),u.jsxs("p",{className:"text-2xl font-bold",children:[S.toFixed(1),"%"]})]}),u.jsx(Ea,{className:"h-8 w-8 text-muted-foreground"})]})}),u.jsx(ee,{children:u.jsxs(Me,{className:"flex items-center justify-between p-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Channels"}),u.jsx("p",{className:"text-2xl font-bold",children:n.filter(E=>E.sent>0).length})]}),u.jsx(ti,{className:"h-8 w-8 text-muted-foreground"})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(ee,{children:[u.jsxs(Ve,{children:[u.jsx(We,{children:"Channel Performance"}),u.jsx(Zr,{children:"Messages sent and engagement by channel"})]}),u.jsx(Me,{children:u.jsx(fd,{width:"100%",height:300,children:u.jsxs(wK,{data:n,children:[u.jsx(Im,{strokeDasharray:"3 3"}),u.jsx(_l,{dataKey:"channel"}),u.jsx(Sl,{}),u.jsx(lr,{}),u.jsx(rl,{}),u.jsx(Ii,{dataKey:"sent",fill:"#8884d8",name:"Sent"}),u.jsx(Ii,{dataKey:"opened",fill:"#82ca9d",name:"Engaged"}),u.jsx(Ii,{dataKey:"failed",fill:"#ff7300",name:"Failed"})]})})})]}),u.jsxs(ee,{children:[u.jsxs(Ve,{children:[u.jsx(We,{children:"Channel Distribution"}),u.jsx(Zr,{children:"Share of total messages by channel"})]}),u.jsx(Me,{children:u.jsx(fd,{width:"100%",height:300,children:u.jsxs(_K,{children:[u.jsx(vs,{data:n.filter(E=>E.sent>0),cx:"50%",cy:"50%",labelLine:!1,label:({channel:E,sent:A})=>`${E}: ${A}`,outerRadius:80,fill:"#8884d8",dataKey:"sent",children:n.map((E,A)=>u.jsx(xg,{fill:b[A%b.length]},`cell-${A}`))}),u.jsx(lr,{})]})})})]})]}),u.jsxs(ee,{children:[u.jsxs(Ve,{children:[u.jsx(We,{children:"Engagement Trends"}),u.jsx(Zr,{children:"Daily engagement across all channels"})]}),u.jsx(Me,{children:u.jsx(fd,{width:"100%",height:300,children:u.jsxs(bK,{data:i,children:[u.jsx(Im,{strokeDasharray:"3 3"}),u.jsx(_l,{dataKey:"date"}),u.jsx(Sl,{}),u.jsx(lr,{}),u.jsx(rl,{}),u.jsx(al,{type:"monotone",dataKey:"email",stroke:"#8884d8",strokeWidth:2}),u.jsx(al,{type:"monotone",dataKey:"voice",stroke:"#82ca9d",strokeWidth:2}),u.jsx(al,{type:"monotone",dataKey:"whatsapp",stroke:"#ffc658",strokeWidth:2})]})})})]}),u.jsxs(ee,{children:[u.jsxs(Ve,{children:[u.jsx(We,{children:"Channel Details"}),u.jsx(Zr,{children:"Detailed performance metrics by channel"})]}),u.jsx(Me,{children:u.jsx("div",{className:"space-y-4",children:n.map(E=>{const A=E.channel==="email"?ti:E.channel==="voice"?Di:$r;return u.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(A,{className:"h-5 w-5"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium capitalize",children:E.channel}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[E.sent," sent, ",E.opened," engaged"]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs(on,{variant:E.engagement_rate>10?"default":"secondary",children:[E.engagement_rate,"% engagement"]}),E.failed>0&&u.jsxs("p",{className:"text-sm text-red-600 mt-1",children:[E.failed," failed"]})]})]},E.channel)})})})]})]})},IVe=()=>{const t=pi(),{user:e,signOut:n}=zn(),{toast:r}=Mt(),[i,a]=_.useState(!1),[s,o]=_.useState(!1),l=async()=>{try{await n(),t("/")}catch(c){console.error("Error signing out:",c),r({title:"Sign out failed",description:"Please try again",variant:"destructive"})}};return u.jsxs("div",{className:"min-h-screen bg-ai-gradient-subtle",children:[u.jsx("div",{className:"bg-card/50 backdrop-blur-sm border-b border-border/50 sticky top-0 z-40",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-ai-gradient rounded-lg flex items-center justify-center",children:u.jsx(ha,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-lg font-semibold",children:"AdmitConnect AI"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Analytics Dashboard"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(IF,{to:"/admin",children:u.jsxs(se,{variant:"outline",size:"sm",children:[u.jsx(Ea,{className:"w-4 h-4 mr-2"}),"Admin"]})}),u.jsxs(se,{variant:"outline",size:"sm",onClick:()=>o(!0),children:[u.jsx(Xn,{className:"w-4 h-4 mr-2"}),"Upgrade"]}),u.jsx(se,{variant:"ghost",size:"sm",onClick:()=>a(!0),children:u.jsx(qm,{className:"w-4 h-4"})}),u.jsx(se,{variant:"ghost",size:"sm",onClick:l,children:u.jsx(hT,{className:"w-4 h-4"})})]})]})})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Analytics & Intelligence Center "}),u.jsx("p",{className:"text-muted-foreground",children:"Deep insights into campaign performance, agent analytics, and AI-driven intelligence."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[u.jsx(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:u.jsx(ul,{className:"w-5 h-5 text-blue-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Campaign Analytics"}),u.jsx("p",{className:"text-lg font-semibold",children:"Performance Tracking"})]})]})}),u.jsx(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Ds,{className:"w-5 h-5 text-green-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Agent Analytics"}),u.jsx("p",{className:"text-lg font-semibold",children:"Channel Performance"})]})]})}),u.jsx(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-500/10 rounded-lg flex items-center justify-center",children:u.jsx(Mi,{className:"w-5 h-5 text-purple-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"AI Intelligence"}),u.jsx("p",{className:"text-lg font-semibold",children:"LLM & Agentic RAG"})]})]})}),u.jsx(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-orange-500/10 rounded-lg flex items-center justify-center",children:u.jsx(nd,{className:"w-5 h-5 text-orange-500"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Data Distribution"}),u.jsx("p",{className:"text-lg font-semibold",children:"Layer Analytics"})]})]})})]}),u.jsxs(Ml,{defaultValue:"campaigns",className:"space-y-6",children:[u.jsxs(co,{className:"grid w-full grid-cols-4",children:[u.jsx(ct,{value:"campaigns",children:"Campaign Analytics"}),u.jsx(ct,{value:"agents",children:"Agent Performance"}),u.jsx(ct,{value:"intelligence",children:"AI Intelligence"}),u.jsx(ct,{value:"realtime",children:"Real-time Monitoring"})]}),u.jsxs(ut,{value:"campaigns",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Campaign Performance Analytics"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Comprehensive campaign metrics and insights"})]}),u.jsx(SK,{})]}),u.jsxs(ut,{value:"agents",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Agent Performance Dashboard"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Multi-channel agent analytics and performance metrics"})]}),u.jsx(PVe,{})]}),u.jsxs(ut,{value:"intelligence",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"AI Intelligence Center"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"LLM performance, Agentic RAG insights, and AI decision logic"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Mi,{className:"w-6 h-6 text-purple-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"LLM Performance"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Response Quality"}),u.jsx("span",{className:"font-semibold",children:"94.2%"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Average Response Time"}),u.jsx("span",{className:"font-semibold",children:"1.8s"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Context Retention"}),u.jsx("span",{className:"font-semibold",children:"98.7%"})]})]})]}),u.jsxs(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Rr,{className:"w-6 h-6 text-orange-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"Agentic RAG"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Knowledge Retrieval"}),u.jsx("span",{className:"font-semibold",children:"96.8%"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Context Relevance"}),u.jsx("span",{className:"font-semibold",children:"92.4%"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Decision Accuracy"}),u.jsx("span",{className:"font-semibold",children:"89.6%"})]})]})]})]}),u.jsxs(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(nd,{className:"w-6 h-6 text-blue-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"Decision Logic & MCP Server"})]}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Intelligent routing and decision-making for automated campaigns and agent coordination."}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[u.jsx(Ds,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),u.jsx("p",{className:"font-semibold",children:"Active Decisions"}),u.jsx("p",{className:"text-2xl font-bold text-green-500",children:"1,247"})]}),u.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[u.jsx(Xn,{className:"w-8 h-8 text-blue-500 mx-auto mb-2"}),u.jsx("p",{className:"font-semibold",children:"Success Rate"}),u.jsx("p",{className:"text-2xl font-bold text-blue-500",children:"94.2%"})]}),u.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[u.jsx(Rr,{className:"w-8 h-8 text-purple-500 mx-auto mb-2"}),u.jsx("p",{className:"font-semibold",children:"Avg Process Time"}),u.jsx("p",{className:"text-2xl font-bold text-purple-500",children:"0.3s"})]})]})]})]}),u.jsxs(ut,{value:"realtime",className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Real-time System Monitoring"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Live system performance and agent activity"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Ds,{className:"w-6 h-6 text-green-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"System Health"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Email Agent"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"Online"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Voice Agent"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"Online"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Messaging Agent"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"Online"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"AI Chatbot"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"Online"})]})]})]}),u.jsxs(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(ul,{className:"w-6 h-6 text-blue-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"Live Metrics"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Active Campaigns"}),u.jsx("span",{className:"text-blue-500 text-sm font-semibold",children:"7"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Messages Queued"}),u.jsx("span",{className:"text-orange-500 text-sm font-semibold",children:"23"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Processing Time"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"0.8s"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm",children:"Success Rate"}),u.jsx("span",{className:"text-green-500 text-sm font-semibold",children:"96.2%"})]})]})]}),u.jsxs(ee,{className:"p-6 bg-card/50 backdrop-blur-sm border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Xn,{className:"w-6 h-6 text-purple-500"}),u.jsx("h4",{className:"text-lg font-semibold",children:"Recent Activity"})]}),u.jsxs("div",{className:"space-y-3 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Campaign started"}),u.jsx("span",{className:"text-muted-foreground",children:"2m ago"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"23 emails sent"}),u.jsx("span",{className:"text-muted-foreground",children:"5m ago"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Voice calls completed"}),u.jsx("span",{className:"text-muted-foreground",children:"8m ago"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Data sync completed"}),u.jsx("span",{className:"text-muted-foreground",children:"12m ago"})]})]})]})]})]})]})]}),u.jsx(uO,{open:i,onOpenChange:a}),u.jsx(xO,{open:s,onOpenChange:o})]})},$Ve=()=>{const[t,e]=_.useState(""),[n,r]=_.useState(""),[i,a]=_.useState(!1),[s,o]=_.useState(!1),[l,c]=_.useState({}),[d,f]=_.useState({}),h=pi(),{toast:p}=Mt();_.useEffect(()=>{const{data:{subscription:y}}=Be.auth.onAuthStateChange(async(b,x)=>{if(b==="PASSWORD_RECOVERY")console.log("Password recovery session active");else if(b!=="SIGNED_IN"){if(b==="SIGNED_OUT"){const w=window.location.hash;!w||w.includes("type=recovery")}}});return Be.auth.getSession().then(({data:{session:b}})=>{if(!b){const x=window.location.hash;(!x||!x.includes("type=recovery"))&&(p({title:"Invalid or expired reset link",description:"Please request a new password reset link.",variant:"destructive"}),h("/auth"))}}),()=>{y.unsubscribe()}},[h,p]);const m=y=>{const b={...l},x={...d};return y.trim()?y.length<8?(b.password="Password must be at least 8 characters",x.password=!1):(delete b.password,x.password=!0):(b.password="Password is required",x.password=!1),c(b),f(x),!b.password},g=y=>{const b={...l},x={...d};return y.trim()?y!==t?(b.confirmPassword="Passwords do not match",x.confirmPassword=!1):(delete b.confirmPassword,x.confirmPassword=!0):(b.confirmPassword="Please confirm your password",x.confirmPassword=!1),c(b),f(x),!b.confirmPassword},v=async y=>{y.preventDefault();const b=m(t),x=g(n);if(!(!b||!x)){a(!0);try{const{error:w}=await Be.auth.updateUser({password:t});if(w)throw w;o(!0),p({title:"Password reset successful!",description:"You can now sign in with your new password."}),setTimeout(()=>{h("/auth")},2e3)}catch(w){console.error("Password reset error:",w),p({title:"Failed to reset password",description:w.message||"Please try again",variant:"destructive"})}finally{a(!1)}}};return u.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:[u.jsx(XH,{title:"Reset Password - AdmitConnect AI",description:"Reset your AdmitConnect AI account password"}),u.jsx(ee,{className:"max-w-md w-full p-8 bg-card/95 backdrop-blur-sm border-border/50",children:s?u.jsxs("div",{className:"text-center space-y-6 animate-fade-in",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center mx-auto bg-green-500 animate-bounce-in",children:u.jsx(ei,{className:"w-8 h-8 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Password Reset!"}),u.jsx("p",{className:"text-muted-foreground",children:"Redirecting you to sign in..."})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 bg-ai-gradient animate-bounce-in",children:u.jsx(jee,{className:"w-8 h-8 text-white"})}),u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Reset Your Password"}),u.jsx("p",{className:"text-muted-foreground",children:"Enter your new password below"})]}),u.jsxs("form",{onSubmit:v,className:"space-y-4",children:[u.jsx(oa,{label:"New Password",id:"newPassword",type:"password",value:t,onChange:y=>{e(y),y.trim()&&m(y)},placeholder:"Enter new password",error:l.password,success:d.password,required:!0}),u.jsx(oa,{label:"Confirm Password",id:"confirmPassword",type:"password",value:n,onChange:y=>{r(y),y.trim()&&g(y)},placeholder:"Confirm new password",error:l.confirmPassword,success:d.confirmPassword,required:!0}),u.jsx(nl,{type:"submit",variant:"hero",size:"lg",className:"w-full",disabled:i||!t.trim()||!n.trim(),children:i?u.jsxs(u.Fragment,{children:[u.jsx(Zc,{size:"sm",className:"mr-2"}),"Resetting Password..."]}):"Reset Password"})]})]})})]})},RVe=new OZ,MVe=()=>{const[t,e]=_.useState(!0),[n,r]=_.useState(!1);_.useEffect(()=>{const a=!sessionStorage.getItem("app-loaded"),s=window.matchMedia("(display-mode: standalone)").matches;a||s?(sessionStorage.setItem("app-loaded","true"),e(!0)):(e(!1),r(!0))},[]);const i=()=>{r(!0)};return t&&!n?u.jsx(swe,{onComplete:i}):u.jsx(iwe,{children:u.jsx(BF,{children:u.jsx(PZ,{client:RVe,children:u.jsx(LJ,{attribute:"class",defaultTheme:"dark",enableSystem:!0,children:u.jsxs(ez,{children:[u.jsx(hte,{}),u.jsx(Dte,{}),u.jsx(Tae,{children:u.jsxs(kJ,{basename:"/admit-ai-nexus/",children:[u.jsx(awe,{}),u.jsx(rwe,{}),u.jsxs(wJ,{children:[u.jsx(Ma,{path:"/",element:u.jsx(X_e,{})}),u.jsx(Ma,{path:"/auth",element:u.jsx(Z_e,{})}),u.jsx(Ma,{path:"/reset-password",element:u.jsx($Ve,{})}),u.jsx(Ma,{path:"/about",element:u.jsx(wVe,{})}),u.jsx(Ma,{path:"/our-services",element:u.jsx(_Ve,{})}),u.jsx(Ma,{path:"/dashboard",element:u.jsx(C_,{children:u.jsx(bVe,{})})}),u.jsx(Ma,{path:"/admin",element:u.jsx(C_,{children:u.jsx(NVe,{})})}),u.jsx(Ma,{path:"/analytics",element:u.jsx(C_,{children:u.jsx(IVe,{})})}),u.jsx(Ma,{path:"*",element:u.jsx(SVe,{})})]}),u.jsx(twe,{}),u.jsx(nwe,{})]})})]})})})})})};gF(document.getElementById("root")).render(u.jsx(MVe,{}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});export{Uge as C,ba as H,ls as S,LK as a,xb as b,un as c,at as g};
